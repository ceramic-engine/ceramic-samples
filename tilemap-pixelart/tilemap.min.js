!function(ce){"use strict";function c(){return Os.__string_rec(this,"")}var b,E={},_e={};function $extend(e,n){var t,i=Object.create(e);for(t in n)i[t]=n[t];return n.toString!==Object.prototype.toString&&(i.toString=n.toString),i}function f(e,n){this.r=new RegExp(e,n.split("u").join(""))}function h(){}function i(){}function j(){this._components=null,this.autoruns=null,this._lifecycleState=0,this.id=null}function k(){this.skewY=0,this.skewX=0,this.scaleY=1,this.scaleX=1,this.rotation=0,this.y=0,this.x=0,this.pivotY=0,this.pivotX=0}function l(e,n,t,i,l,s){null==s&&(s=0),null==l&&(l=0),null==i&&(i=1),null==t&&(t=0),null==n&&(n=0),this.a=e=null==e?1:e,this.b=n,this.c=t,this.d=i,this.tx=l,this.ty=s,this._aPrev=e,this._bPrev=n,this._cPrev=t,this._dPrev=i,this._txPrev=l,this._tyPrev=s,this.changed=!1,this.changedDirty=!1}function m(){this.availableItems=[]}function n(e,n,t){null==t&&(t=0),null==n&&(n=0),null==e&&(e=0),this.z=0,this.y=0,this.x=0,this.x=e,this.y=n,this.z=t}function o(){this.parent=null,this.children=null,this.computedClip=null,this.computedTouchable=!0,this.computedRenderTarget=null,this.computedDepth=0,this.computedAlpha=1,this.computedVisible=!0,this.matTY=0,this.matTX=0,this.matD=1,this.matC=0,this.matB=0,this.matA=1,this.flags=0,this.shader=null,this.transform=null,this.alpha=1,this.rotation=0,this.roundTranslation=-1,this._height=0,this._width=0,this.anchorY=0,this.anchorX=0,this.skewY=0,this.skewX=0,this.scaleY=1,this.scaleX=1,this.y=0,this.x=0,this.depthRange=1,this.depth=0,this.touchable=!0,this.visible=!0,this.blending=0,this.renderTarget=null,this.clipDirty=!0,this.touchableDirty=!0,this.visibilityDirty=!0,this.renderTargetDirty=!0,this.matrixDirty=!0,this.contentDirty=!0,this.translatesOnlyDirty=!1,this.translatesOnly=!0,this.inheritAlpha=!1,this.clip=null,this._numPointerOver=0,this._numPointerDown=0,this.multiTouch=!1,this.asMesh=null,this.asQuad=null,j.call(this),ae.app.pendingVisuals.push(this)}function p(){this.frameHeight=-1,this.frameWidth=-1,this.frameY=-1,this.frameX=-1,this._texture=null,this.tile=null,this.color=16777215,o.call(this),this.asQuad=this}function q(){this.sizeDirty=!1,p.call(this),this.flags|=16}function r(){}function s(){}function t(){this.paused=!1,this.autoUpdateWhenInactive=!1,this.autoUpdate=!0,this.isRootScene=!1,this.unobservedStatus=0,this.statusAutoruns=null,this._assetsFailure=!1,this._assetsTotal=0,this._assetsProgress=0,this._assets=null,this.observedDirty=!1,q.call(this),this.flags|=16,et.get_shared().all.push(this)}function u(){this.zoom=1,t.call(this)}function v(e){j.call(this),e.settings.antialiasing=2,e.settings.set_background(0),e.settings.set_targetWidth(320),e.settings.set_targetHeight(240),e.settings.set_windowWidth(800),e.settings.set_windowHeight(600),e.settings.set_scaling(tt.FIT),e.settings.resizable=!0,ae.app.onceReady(this,$bind(this,this.ready))}function y(){this.b=""}function z(){}function B(){}function D(e){this.nodeType=e,this.children=[],this.attributeMap=new Nl}function F(){}function H(){}function I(){this.loadedAudioRetainCount=new Nl,this.loadedAudioResources=new Nl,this.loadingAudioCallbacks=new Nl,this.nextSamplesBufferIndex=0}function M(){}function N(){this.clipboard=new ve,this.textInput=new Se,this.input=new Te,this.screen=new De,this.shaders=new xe,this.textures=new ke,this.binaries=new Ce,this.texts=new Ae,this.draw=new J,this.audio=new I,this.info=new ye,this.io=new me}function O(){}function Q(){}function R(e){this.gamepadsEnabled=!0,this.gamepadGyroValues=new Pn,this.gamepadAxisValues=new Tn,this.gamepadPressedValues=new Ge,this.gamepadButtonMapping=new Ge,this.gamepadAxisToButton=new Ge,this.swapXyGamepads=new Ge(16,.5,!1),this.swapAbGamepads=new Ge(16,.5,!1),this.removedGamepads=new Ge(16,.5,!1),this.activeGamepads=new Ge(16,.5,!1),this.mouseY=0,this.mouseX=0,this.mouseDownButtons=new Ge(16,.5,!1),this.touchIndexes=new Ge,this.touches=new Ge,this.lastHeight=-1,this.lastWidth=-1,this.lastDensity=-1,this.handleReady=e,this.configureGamepadMapping()}function S(){}function U(){}function W(){}function X(){}function Z(){}function _(){}function ba(){}function ca(){}function ea(){this.id=null}function fa(){this.gpuShader=null,this.uniforms=null,this.textures=null,this.attributes=null,this.fragSource=null,this.vertSource=null,ea.call(this)}function ga(){this.isBatchingMultiTexture=!1,this.customAttributes=null,fa.call(this)}function ha(){}function ja(){}function la(){}function oa(){}function ra(){}function sa(){this.bestY=-1,this.bestX=-1,this.bestContactScore=-1,this.bestLongSideFit=-1,this.bestShortSideFit=-1,this.bestAreaFit=-1,this.bestNode=null}function ta(e,n,t){this.rect=e,this.primaryScore=n,this.secondaryScore=t}function ua(e,n,t){null==t&&(t=!0),null==n&&(n=0),null==e&&(e=0),this._bestFitPosition=new sa,this.freeRectangles=[],this.usedRectangles=[],this.binWidth=e,this.binHeight=n,this.binAllowFlip=t,t=new Ie(0,0,e,n),this.freeRectangles.push(t)}function va(e,n){this.width=e,this.height=n}function xa(){this.rects=[]}function za(){this.uvs=[],this.texture=null,this.floatColors=null,this.colors=[],this.indices=[],this.vertices32=null,this.vertices=[],this.complexHit=!1,this.customFloatAttributesSize=0,this.colorMapping=0,o.call(this),this.asMesh=this}function Aa(){this.antialiasing=1,za.call(this),this.vertices=[0,0,0,0,0,0,0,0,0,0,0,0],this.indices=[0,1,2,0,1,4,0,3,4,1,2,4,2,4,5,0,2,3,2,3,5],this.colorMapping=2,this.set_color(16777215)}function Ea(){}function Fa(e,n,t,i){this.customExtensions=null,this.hotReload=!1,this.handleTexturesDensityChange=!1,this.unobservedStatus=Me.NONE,this.statusAutoruns=null,this.refCount=0,this.assets=null,this.density=1,this.observedDirty=!1,j.call(this),this.kind=e,this.options=null!=i?i:{},this.set_name(n),this.set_variant(t),this.computePath()}function Ma(){this.paramsAcquired=!1,this.paramsChanged=!1,this.params=[],this.active=!0,this.bus=-1,j.call(this),this.filterId=Ma._nextFilterId++,this._initDefaultParamValues()}function Na(e,n){this.params=[],this.active=!0,this.bus=-1,this.filterId=e,this.bus=n}function Pa(){}function Qa(e){null==e&&(e=.1),this.pending=[],this.stop=!1,this.runsInBackground=!1,this.checkInterval=.1,j.call(this),this.checkInterval=.1}function Ra(e,n,t,i){if(this.quadratic=!1,this.cached=!1,this.linearEasing=!1,this.cached&&this.removeFromCache(this.mX1,this.mY1,this.mX2,this.mY2),null==t||null==i?(this.quadratic=!0,this.mQuadraticX1=e,this.mQuadraticX2=t,this.mX1=Ra.TWO_THIRD*e,this.mY1=Ra.TWO_THIRD*n,this.mX2=1+Ra.TWO_THIRD*(e-1),this.mY2=1+Ra.TWO_THIRD*(n-1)):(this.quadratic=!1,this.mX1=e,this.mY1=n,this.mX2=t,this.mY2=i),this.mX1==this.mY1&&this.mX2==this.mY2)this.linearEasing=!0;else{this.linearEasing=!1,null==this.sampleValues&&(this.sampleValues=[]);for(var l=0,s=Ra.SPLINE_TABLE_SIZE;l<s;){var r=l++,h=r*Ra.SAMPLE_STEP_SIZE,a=this.mX1,o=this.mX2;this.sampleValues[r]=(((1-3*o+3*a)*h+(3*o-6*a))*h+3*a)*h}}}function Ta(e,n){if(this._preRenderingPages=null,this.preRenderedPages=null,this.pageShaders=null,this.pages=new Pn(16,.5,!0),j.call(this),this.set_fontData(e),null==e)throw $.thrown("BitmapFont: fontData is null");if(null==n)throw $.thrown("BitmapFont: pages is null");null!=e.distanceField&&(this.pageShaders=new Ll);for(var t=0,i=e.pages;t<i.length;){var l,s=i[t],r=(++t,s.file),r=(null!=e.path&&0<e.path.length&&"."!=e.path&&(r=Nn.join([e.path,s.file])),n.h[r]);if(null==r)throw $.thrown("BitmapFont: missing texture for file "+s.file);r.set_filter(e.smooth||null!=e.distanceField?Tt.LINEAR:Tt.NEAREST),this.pages.set(s.id,r),null!=e.distanceField&&(l=ae.app.assets._shaderFromClass(vs).clone(),ae.app.backend.shaders,l.backendItem.uniforms.setFloat("pxRange",e.distanceField.distanceRange),ae.app.backend.shaders,l.backendItem.uniforms.setVector2("texSize",r.width*r.density,r.height*r.density),this.pageShaders.h[s.id]=l)}}function Ua(e,n,t,i,l,s,r,h,a){this.id=e,this.x=n,this.y=t,this.width=i,this.height=l,this.xOffset=s,this.yOffset=r,this.xAdvance=h,this.page=a}function Va(e,n,t,i,l,s,r,h,a,o,c,u,_,d){this.rawFontData=null,this.needsReparsing=!1,this.aa=!0,this.smooth=!0,this.face=e,this.path=n,this.pointSize=t,this.baseSize=i,this.chars=l,this.charCount=s,this.distanceField=r,this.pages=h,this.lineHeight=a,this.kernings=o,null!=c&&(this.smooth=c),null!=u&&(this.aa=u),null!=_&&(this.needsReparsing=_),null!=d&&(this.rawFontData=d)}function Wa(e,n){this.id=e,this.file=n}function Xa(e,n){this.fieldType=e,this.distanceRange=n}function Ya(){}function Za(){this.borderRightColor=-1,this.borderLeftColor=-1,this.borderBottomColor=-1,this.borderTopColor=-1,this.borderColor=8421504,this.borderRightSize=-1,this.borderLeftSize=-1,this.borderBottomSize=-1,this.borderTopSize=-1,this.borderSize=1,this.borderPosition=He.INSIDE,this.autoComputeColors=!0,this.autoComputeVertices=!0,za.call(this),this.colorMapping=1,this.vertices=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.indices=[0,1,2,2,1,3,3,1,5,5,1,7,4,5,6,6,5,7,0,2,6,6,2,4],this.colors=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.computeVertices()}function a0(){}function b0(){this.initializerName=null,this.pointerStartY=0,this.pointerStartX=0,this.unobservedPressed=!1,this.pressedAutoruns=null,this.threshold=-1,this.observedDirty=!1,j.call(this)}function e0(e,n){this.index=e0._nextIndex++,this.id=null!=e?e:"id"+e0._nextId++,this.name=n}function f0(){this.vIndex=0,this.customParentView=null,this.persistedComputedSizes=[],this.borderRightColor=-1,this.borderLeftColor=-1,this.borderBottomColor=-1,this.borderTopColor=-1,this.borderColor=8421504,this.borderRightSize=-1,this.borderLeftSize=-1,this.borderBottomSize=-1,this.borderTopSize=-1,this.borderSize=0,this.borderPosition=He.INSIDE,this.borderAlpha=1,this.borderDepth=0,this.border=null,this.layoutDirty=!0,this.flex=1,this.offsetY=0,this.offsetX=0,this.paddingBottom=0,this.paddingTop=0,this.paddingRight=0,this.paddingLeft=0,this.viewHeight=-60001,this.viewWidth=-60001,this.computedSize=null,this.subviews=null;var e=this;q.call(this),this.vIndex=f0.nextVIndex++,this.set_depthRange(1),this.canLayout=!1,this.flags&=-17,null==f0._allViews&&(f0._allViews=[],qt.get_shared().bind()),f0._allViews.push(this),ae.app._onceImmediate(function(){e._lifecycleState<0||ae.app._oncePostFlushImmediate(function(){e._lifecycleState<0||(e.canLayout=!0,e.layoutDirty&&f0.requestLayout())},!0)})}function g0(){this.contentSize=-1,this.autoComputeContentSize=!1,f0.call(this),this.initContentView(),this.initScroller()}function h0(){this.prevLayoutHeight=-1,this.prevLayoutWidth=-1,this.reusableViews=[],this.itemsBehavior=1,this.frames=[],this.childrenDepth=0,this.maxReusableViewsCount=1,this.autoDestroyItems=!0,this.dataSource=null,g0.call(this),this.set_collectionViewLayout(new Ne),this.scroller.scrollTransform.onChange(this,$bind(this,this.computeVisibleItems))}function i0(){}function j0(){}function q0(){this.childrenDepth=1,this.align=Vn.TOP,this.itemSpacing=0,this.direction=Hn.VERTICAL,f0.call(this),this.flags|=16}function r0(){q0.call(this),this.set_direction(Hn.VERTICAL)}function u0(){}function D0(){}function E0(){}function H0(){this.initializerName=null,this.pointerStartY=0,this.pointerStartX=0,this.firstClickTime=-1,this.pressed=!1,this.maxDelay=.4,this.threshold=4,j.call(this)}function I0(e){this.initializerName=null,this._data=null,j.call(this),null!=e&&this.set_data(e)}function K0(){}function L0(){}function M0(e,n,t,i,l,s){null==s&&(s=1),null==l&&(l=1),null==i&&(i=0),null==t&&(t=0),this.initializerName=null,this.domInputBlockHtmlInputEvent=!1,this.domInputBlockSelection=!1,this.domInput=null,this.inputRectH=0,this.inputRectW=0,this.inputRectY=0,this.inputRectX=0,this.textCursorToggleVisibilityTime=1,this.textCursor=null,this.willUpdateSelection=!1,this.inputActive=!1,this.selectionBackgrounds=[],this.boundContainer=null,this.selectText=null,this.container=null,this.disabled=!1,this.multiline=!1,j.call(this),this.id=$t.uniqueId(),this.set_selectionColor(e),this.set_textCursorColor(n),this.set_textCursorOffsetX(t),this.set_textCursorOffsetY(i),this.set_textCursorHeightFactor(l),this.set_textCursorWidth(s)}function N0(){}function O0(){}function X0(e){null!=e&&(this.value=e)}function Y0(e){this.fragmentComponents=null,this.ready=!1,this.timeline=null,this.pendingLoads=0,this.autoUpdateTimeline=!0,this.resizable=!1,this.fragmentData=null,this.fps=30,this.assets=null,q.call(this),this.assets=e,this.entities=[],this.items=[]}function ab(){}function bb(){this.glyphAdvance=-1,this.glyphY=-1,this.glyphX=-1,this.code=-1,this.line=-1,this.posInLine=-1,this.index=-1,this.glyph=null,this.char=null,p.call(this)}function xb(){}function Ab(e,n){this.ctrlPressed=0,this.cmdPressed=0,this.disableIfShiftPressed=!1,this.rightShiftPressed=!1,this.leftShiftPressed=!1,this.matches=!1,this.pressedItems=[],this.bindings=null,j.call(this),this.accelerator=[].concat(e),this.bindings=n,this.bindKeyboardEvents()}function Db(){f0.call(this),this.flags|=16}function Gb(){this.tmpY=0,this.tmpX=0,this.outY=0,this.outX=0,this.bY=0,this.bX=0,this.aY=0,this.aX=0,this.miterY=0,this.miterX=0,this.tangentY=0,this.tangentX=0}function Hb(){this._points=null,this._started=!1,this._lastFlip=-1,this._normalY=0,this._normalX=0,this._hasNormal=!1,this.capEndY=0,this.capEndX=0,this.miterY=0,this.miterX=0,this.tangentY=0,this.tangentX=0,this.lineBY=0,this.lineBX=0,this.lineAY=0,this.lineAX=0,this.tmpY=0,this.tmpX=0,this.canLoop=!1,this.cap=ps.BUTT,this.join=Cs.MITER,this.thickness=1,this.miterLimit=10}function Ib(){this.autoComputeSize=!0,this.loop=!1,this.cap=ps.BUTT,this.join=Cs.BEVEL,this.thickness=1,this.miterLimit=10,this.points=null,za.call(this)}function Kb(e,n){this.initializerName=null,this.cancelLongPress=null,this.didLongPress=!1,this.pointerStartY=0,this.pointerStartX=0,this.requiredDuration=1,this.threshold=4,j.call(this),this.click=n,null!=e&&this.onLongPress(null,e)}function Ob(){}function Yb(){q0.call(this),this.set_direction(Hn.HORIZONTAL)}function b1(){this.lateUpdateOrder=0,this.earlyUpdateOrder=0,this.autoUpdate=!0,this.name=null,j.call(this),ae.app.systems.addSystem(this)}function k1(e,n,t){this.usedTextures=null,this.textureSlots=null,this.backendItem=null,j.call(this);var i=null!=n?n:[new ot(3,"vertexPosition"),new ot(2,"vertexTCoord"),new ot(4,"vertexColor")];if(this.baseAttributes=[].concat(i),null!=e)for(var l=0,s=e.length;l<s;){var r=e[l++];i.push(r)}this.attributes=i,this.customAttributes=e,this.textureIdAttribute=t}function n1(){}function o1(e,n,t){this.replacement="-",this.remove=ct.RE_SLUG_REMOVE_CHARS,this.lower=!0,null!=e&&(this.lower=e),null!=n&&(this.remove=n),null!=t&&(this.replacement=t)}function s1(e){this.pitch=1,this.pan=0,this.volume=.5,this.group=0,this.bus=0,j.call(this),this.backendItem=e}function A1(){this.noFitWidth=!1,this.centerIfOneLine=!1,this.minHeight=0,this.verticalAlign=Vn.TOP,f0.call(this),this.text=new gt,this.text.set_maxLineDiff(.75),this.add(this.text),this.flags|=16}function B1(){this.asset=null,this.regions=[],this.pages=[],j.call(this)}function C1(){this.pages=[],this.pendingRegions=[],this.filter=Tt.LINEAR,this.spacing=1,this.atlas=null,j.call(this)}function I1(e,n,t,i,l,s,r){null==r&&(r=0),null==s&&(s=!1),this.texture=e,this.frameX=n,this.frameY=t,this.frameWidth=i,this.frameHeight=l,this.rotateFrame=s,this.edgeInset=r}function L1(e,n,t,i,l,s){null==s&&(s=1),null==l&&(l=16),null==i&&(i=16),null==t&&(t=-1),null==n&&(n=-1),this.maxPixelTextureHeight=0,this.maxPixelTextureWidth=0,this.numRows=0,this.numCols=0,this.nextPacker=null,j.call(this),this.padWidth=i,this.padHeight=l,this.margin=s,this.maxPixelTextureWidth=n,this.maxPixelTextureHeight=t,-1==n&&(n=2048/ae.app.screen.get_texturesDensity()|0),-1==t&&(t=2048/ae.app.screen.get_texturesDensity()|0);for(var n=0|Math.min(n,2048/ae.app.screen.get_texturesDensity()),t=0|Math.min(t,2048/ae.app.screen.get_texturesDensity()),r=(this.texture=new jn(n,t),e?(this.texture.autoRender=!0,this.texture.clearOnRender=!0):(this.texture.autoRender=!1,this.texture.clearOnRender=!1),this.areas=[],this.texture.width),h=this.texture.height,a=s,o=s;o+l<h;){for(;a+i<r;)this.areas.push(null),a+=i+2*s,0==this.numRows&&this.numCols++;a=0,o+=l+2*s,this.numRows++}}function N1(e,n,t,i){this.index=e,this.rotation=n,this.y0=t,this.y1=i}function P1(e,n,t){this.tsxRawData=null,this.unobservedTilemapData=null,this.tilemapDataAutoruns=null,this.unobservedTmxMap=null,this.tmxMapAutoruns=null,Fa.call(this,"tilemap",e,n,t),this.set_handleTexturesDensityChange(!1),this.assets=new Oe}function Q1(){}function R1(){this._serializeId=Ds.uniqueId(),this.dirty=!1,this.observedDirty=!1,j.call(this)}function X1(){this.tmxParser=null}function ic(e,n){this.easing=rn.NONE,this.index=e,this.easing=n}function jc(e,n,t){ic.call(this,n,t),this.value=e}function kc(){this.keyframeAfterIndex=-1,this.keyframeBeforeIndex=-1,this.after=null,this.before=null,this.keyframes=[],this.position=0,this.timeline=null,this.locked=!1,this.loop=!1,this.autoFitSize=!0,this.size=0,j.call(this)}function lc(){this.value=!1,kc.call(this)}function mc(e,n,t){ic.call(this,n,t),this.value=e}function nc(){this.value=16777215,kc.call(this)}function oc(){this.value=0,kc.call(this)}function pc(e,n,t){ic.call(this,n,t),this.value=e}function qc(){this.value=[],kc.call(this)}function rc(e,n,t){ic.call(this,n,t),this.value=e}function sc(){this.value=0,kc.call(this)}function Bc(){}function Cc(){za.call(this),this.vertices=[0,0,0,0,0,0],this.indices=[0,1,2],this.set_color(16777215)}function Kc(e,n){null==n&&(n=.3),this.initializerName=null,this.isView=!1,this.viewHeightEnd=0,this.viewHeightStart=0,this.viewHeightTarget=0,this.viewHeightTween=null,this.viewHeightChanged=!1,this.viewWidthEnd=0,this.viewWidthStart=0,this.viewWidthTarget=0,this.viewWidthTween=null,this.viewWidthChanged=!1,this.offsetYEnd=0,this.offsetYStart=0,this.offsetYTarget=0,this.offsetYTween=null,this.offsetYChanged=!1,this.offsetXEnd=0,this.offsetXStart=0,this.offsetXTarget=0,this.offsetXTween=null,this.offsetXChanged=!1,this.transformInTransition=null,this.transformEndToNull=!1,this.transformEnd=null,this.transformStart=null,this.transformTarget=null,this.transformTween=null,this.transformAssignedInstance=null,this.transformAssigned=!1,this.transformChanged=!1,this.translateYEnd=0,this.translateYStart=0,this.translateYTarget=0,this.translateYTween=null,this.translateYChanged=!1,this.translateXEnd=0,this.translateXStart=0,this.translateXTarget=0,this.translateXTween=null,this.translateXChanged=!1,this.alphaEnd=0,this.alphaStart=0,this.alphaTarget=0,this.alphaTween=null,this.alphaChanged=!1,this.colorEnd=-1,this.colorStart=-1,this.colorTarget=-1,this.colorTween=null,this.colorChanged=!1,this.heightEnd=0,this.heightStart=0,this.heightTarget=0,this.heightTween=null,this.heightChanged=!1,this.widthEnd=0,this.widthStart=0,this.widthTarget=0,this.widthTween=null,this.widthChanged=!1,this.rotationEnd=0,this.rotationStart=0,this.rotationTarget=0,this.rotationTween=null,this.rotationChanged=!1,this.anchorYEnd=0,this.anchorYStart=0,this.anchorYTarget=0,this.anchorYTween=null,this.anchorYChanged=!1,this.anchorXEnd=0,this.anchorXStart=0,this.anchorXTarget=0,this.anchorXTween=null,this.anchorXChanged=!1,this.skewYEnd=0,this.skewYStart=0,this.skewYTarget=0,this.skewYTween=null,this.skewYChanged=!1,this.skewXEnd=0,this.skewXStart=0,this.skewXTarget=0,this.skewXTween=null,this.skewXChanged=!1,this.scaleYEnd=0,this.scaleYStart=0,this.scaleYTarget=0,this.scaleYTween=null,this.scaleYChanged=!1,this.scaleXEnd=0,this.scaleXStart=0,this.scaleXTarget=0,this.scaleXTween=null,this.scaleXChanged=!1,this.depthEnd=0,this.depthStart=0,this.depthTarget=0,this.depthTween=null,this.depthChanged=!1,this.yEnd=0,this.yStart=0,this.yTarget=0,this.yTween=null,this.yChanged=!1,this.xEnd=0,this.xStart=0,this.xTarget=0,this.xTween=null,this.xChanged=!1,this.anyPropertyChanged=!1,j.call(this),this.easing=e,this.duration=n}function Oc(){}function Pc(){}function Qc(){}function Rc(e){null==e&&(e=.05),this.pending=[],this.stop=!1,this.runsInBackground=!1,this.checkInterval=e}function Xc(){}function Yc(e,n,t,i,l,s,r){this.pixels=null,this.sourceBitsPerPixel=4,this.bitsPerPixel=4,this.heightActual=0,this.widthActual=0,this.height=0,this.width=0,null!=e&&(this.width=e),null!=n&&(this.height=n),null!=t&&(this.widthActual=t),null!=i&&(this.heightActual=i),null!=l&&(this.bitsPerPixel=l),null!=s&&(this.sourceBitsPerPixel=s),null!=r&&(this.pixels=r)}function b2(){}function k2(){}function l2(e,n,t,i,l,s,r,h){this.isStream=null,this.format=null,this.bitsPerSample=null,this.channels=null,this.duration=null,this.length=null,this.rate=null,(this.id=null)!=e&&(this.id=e),null!=n&&(this.rate=n),null!=t&&(this.length=t),null!=i&&(this.duration=i),null!=l&&(this.channels=l),null!=s&&(this.bitsPerSample=s),null!=r&&(this.format=r),null!=h&&(this.isStream=h)}function m2(e,n){this.destroyed=!1,this.isStream=!1,this.format=0,this.bitsPerSample=16,this.channels=1,this.duration=0,this.length=0,this.rate=44100,this.id="AudioData",this.app=e,null!=n.id&&(this.id=n.id),null!=n.rate&&(this.rate=n.rate),null!=n.length&&(this.length=n.length),null!=n.format&&(this.format=n.format),null!=n.channels&&(this.channels=n.channels),null!=n.bitsPerSample&&(this.bitsPerSample=n.bitsPerSample),null!=n.isStream&&(this.isStream=n.isStream),null!=n.duration&&(this.duration=n.duration)}function p2(e,n){this.destroyed=!1,this.source=e,this.handle=n}function s2(e){this.app=e}function t2(e){this.app=e}function u2(e){this.app=e}function v2(e){this.name=null,this.app=e}function D2(e,n){this.texture=e,this.slot=n}function I2(){}function K2(){}function W2(){}function X2(){this.focusedThisFrame=!1,this.windowItem=null,this.computedOnceFocused=!1,this.focusedAutoruns=null,this.observedDirty=!1,q0.call(this),this.flags|=16,this.set_direction(Hn.HORIZONTAL),this.bindPointerEvents(),this.focusedThisFrame=this.get_focused(),this.onFocusedChange(this,$bind(this,this.handleFocusedChange))}function Y2(){this.unobservedNullValueText=null,this.nullValueTextAutoruns=null,this.unobservedList=[],this.listAutoruns=null,this.unobservedValue=null,this.valueAutoruns=null,this.autoScrollToValue=!1,this.unobservedTheme=null,this.themeAutoruns=null,this.observedDirty=!1;var n=this,e=(f0.call(this),this.collectionView=new ki,this.collectionView),t=(e.set_viewWidth(-60002),e.set_viewHeight(-60002),(e=this.collectionView).flags|=16,this.collectionView.set_dataSource(this),this.collectionView.set_inputStyle(!0),this.add(this.collectionView),null);this.autorun(function(){var e=n.get_list();e==t||null!=t&&O0._arrayEqual(e,t)||((t=e).length,n.get_nullValueText(),A.unobserve(),n.collectionView.reloadData())}),this.autorun($bind(this,this.updateScrollFromValueIfNeeded)),this.autorun($bind(this,this.updateStyle))}function Z2(){this.suggestions=null,this.suggestionsContainer=null,this.suggestionsView=null,this.processedAutocompleteCandidates=null,this.cancelAutoComplete=null,this.editText=null,this.suggestionsVisibleThisFrame=!1,this.editingThisFrame=!1,this.clipSuggestions=!1,this.autocompleteOnFocus=!1,this.autocompleteMaxResults=10,this.autocompleteDelay=.01,this.autocompleteCandidates=null,this.unobservedTextValue="",this.textValueAutoruns=null;var t=this;X2.call(this),ae.app.onUpdate(this,function(e){t.updateSuggestionsVisibility()}),ae.app.onPostUpdate(this,function(e){t.updateSuggestionsPosition()}),ae.app.onFinishDraw(this,$bind(this,this.updateThisFrameFlags)),ae.app.onceUpdate(this,function(e){var n=t.getScrollingLayout();null!=n&&n.scroller.scrollTransform.onChange(t,$bind(t,t.updateSuggestionsPosition))}),this.onFocusedChange(this,$bind(this,this.handleAutocompleteOnFocus))}function $2(){this.borderAlpha=1,this.borderColor=0,this.borderSize=1,this.innerAlpha=1,this.innerColor=16777215,za.call(this),this.vertices=[0,0,0,0,0,0,0,0,0,0],this.indices=[0,1,2,0,3,4,0,4,1,1,4,2,4,5,2],this.colorMapping=1,this.colors=[];var e=-1,e=(this.colors.push(e=e&16777215|-16777216),-1),e=(this.colors.push(e=e&16777215|-16777216),-1),e=(this.colors.push(e=e&16777215|-16777216),-1),e=(this.colors.push(e=e&16777215|-16777216),-1),e=(this.colors.push(e=e&16777215|-16777216),-1),e=(this.colors.push(e=e&16777215|-16777216),-1),e=(this.colors.push(e=e&16777215|-16777216),-1),e=(this.colors.push(e=e&16777215|-16777216),-1),e=(this.colors.push(e=e&16777215|-16777216),-1),e=(this.colors.push(e=e&16777215|-16777216),-1),e=(this.colors.push(e=e&16777215|-16777216),-1),e=(this.colors.push(e=e&16777215|-16777216),-1),e=(this.colors.push(e=e&16777215|-16777216),-1),e=(this.colors.push(e=e&16777215|-16777216),-1),n=(this.colors.push(e=e&16777215|-16777216),16777215),n=(this.innerColor!=n&&(i=(t=this.colors[0])>>24&255,this.colors[0]=e=(e=-1)&16777215|(255<(i=null==i?255:i)?255:i<0?0:i)<<24,i=(t=this.colors[1])>>24&255,this.colors[1]=e=(e=-1)&16777215|(255<(i=null==i?255:i)?255:i<0?0:i)<<24,i=(t=this.colors[2])>>24&255,this.colors[2]=e=(e=-1)&16777215|(255<(i=null==i?255:i)?255:i<0?0:i)<<24),8421504);if(this.borderColor!=n){this.borderColor=n;{var t=this.colors[3],i=t>>24&255,e=(null==i&&(i=255),-8355712);this.colors[3]=e=e&16777215|(255<i?255:i<0?0:i)<<24;i=(t=this.colors[4])>>24&255,e=-8355712}this.colors[4]=e=e&16777215|(255<(i=null==i?255:i)?255:i<0?0:i)<<24;i=(t=this.colors[5])>>24&255,e=-8355712;this.colors[5]=e=e&16777215|(255<(i=null==i?255:i)?255:i<0?0:i)<<24;i=(t=this.colors[6])>>24&255,e=-8355712;this.colors[6]=e=e&16777215|(255<(i=null==i?255:i)?255:i<0?0:i)<<24;i=(t=this.colors[7])>>24&255,e=-8355712;this.colors[7]=e=e&16777215|(255<(i=null==i?255:i)?255:i<0?0:i)<<24;i=(t=this.colors[8])>>24&255,e=-8355712;this.colors[8]=e=e&16777215|(255<(i=null==i?255:i)?255:i<0?0:i)<<24;i=(t=this.colors[9])>>24&255,e=-8355712;this.colors[9]=e=e&16777215|(255<(i=null==i?255:i)?255:i<0?0:i)<<24;i=(t=this.colors[10])>>24&255,e=-8355712;this.colors[10]=e=e&16777215|(255<(i=null==i?255:i)?255:i<0?0:i)<<24;i=(t=this.colors[11])>>24&255,e=-8355712;this.colors[11]=e=e&16777215|(255<(i=null==i?255:i)?255:i<0?0:i)<<24;i=(t=this.colors[12])>>24&255,e=-8355712;this.colors[12]=e=e&16777215|(255<(i=null==i?255:i)?255:i<0?0:i)<<24;i=(t=this.colors[13])>>24&255,e=-8355712;this.colors[13]=e=e&16777215|(255<(i=null==i?255:i)?255:i<0?0:i)<<24;i=(t=this.colors[14])>>24&255,e=-8355712;this.colors[14]=e=e&16777215|(255<(i=null==i?255:i)?255:i<0?0:i)<<24}}function _2(){this.unobservedDisabled=!1,this.disabledAutoruns=null,this.unobservedInputStyle=Vi.DEFAULT,this.inputStyleAutoruns=null,this.unobservedValue=!1,this.valueAutoruns=null,this.unobservedTheme=null,this.themeAutoruns=null;var t=this,e=(X2.call(this),this.set_direction(Hn.HORIZONTAL),this.set_align(Vn.RIGHT),this.switchContainer=new f0,this.switchContainer.padding(7),(e=this.switchContainer).set_viewWidth(27),e.set_viewHeight(27),this.switchContainer),n=He.INSIDE;e.borderPosition!=n&&(e.borderPosition=n,0<e.borderSize||0<e.borderTopSize||0<e.borderBottomSize||0<e.borderLeftSize||0<e.borderRightSize)&&e.updateBorder(),this.add(this.switchContainer),this.switchSquare=new f0,(e=this.switchSquare).flags&=-17,(e=this.switchSquare).set_width(13),e.set_height(13),this.switchContainer.add(this.switchSquare),this.switchContainer.onLayout(this,function(){ae.app._oncePostFlushImmediate($bind(t,t.layoutSwitchContainer),!0)}),this.autorun($bind(this,this.updateStyle)),this.onValueChange(this,function(e,n){t.switchContainer.layoutDirty=!0}),this.switchContainer.onPointerDown(this,function(e){t.toggleValue()}),ae.app.input.onKeyDown(this,$bind(this,this.handleKeyDown))}function ad(){this.unobservedEnterPressed=!1,this.enterPressedAutoruns=null,this.unobservedHover=!1,this.hoverAutoruns=null,this.computedOnceFocused=!1,this.focusedAutoruns=null,this.unobservedEnabled=!0,this.enabledAutoruns=null,this.unobservedInputStyle=Vi.DEFAULT,this.inputStyleAutoruns=null,this.windowItem=null,this.unobservedTheme=null,this.themeAutoruns=null,this.observedDirty=!1;var n=this;A1.call(this),this.set_click(new b0),this.click.onClick(this,$bind(this,this.emitClick)),this.set_align(Ot.CENTER),this.set_verticalAlign(Vn.CENTER),this.set_pointSize(12),this.set_preRenderedSize(20),this.padding(5,2),this.set_transform(new l),this.onPointerOver(this,function(e){n.set_hover(!0)}),this.onPointerOut(this,function(e){n.set_hover(!1)}),ae.app.input.onKeyDown(this,$bind(this,this.handleKeyDown)),ae.app.input.onKeyUp(this,$bind(this,this.handleKeyUp)),this.autorun($bind(this,this.updateStyle))}function hd(){this.editingThisFrame=!1,this.updatingFromPicker=0,this.unobservedPickerVisible=!1,this.pickerVisibleAutoruns=null,this.unobservedDisabled=!1,this.disabledAutoruns=null,this.unobservedValue=16777215,this.valueAutoruns=null,this.unobservedTheme=null,this.themeAutoruns=null;var t=this,e=(X2.call(this),this.flags&=-17,this.color=16776960,this.set_direction(Hn.HORIZONTAL),this.set_align(Vn.LEFT),this.container=new Yb,(e=this.container).set_viewWidth(-60002),e.set_viewHeight(-60001),this.container.padding(6,6,6,6),this.container),n=He.INSIDE;e.borderPosition!=n&&(e.borderPosition=n,0<e.borderSize||0<e.borderTopSize||0<e.borderBottomSize||0<e.borderLeftSize||0<e.borderRightSize)&&e.updateBorder(),(e=this.container).flags&=-17,this.add(this.container),this.pickerContainer=new f0,(e=this.pickerContainer).flags|=16,(e=this.pickerContainer).set_viewWidth(0),e.set_viewHeight(0),this.pickerContainer.set_active(!1),this.pickerContainer.set_depth(25),G.get_context().view.add(this.pickerContainer),this.textPrefixView=new A1,(e=this.textPrefixView).set_viewWidth(-60001),e.set_viewHeight(-60001),this.textPrefixView.set_align(Ot.LEFT),this.textPrefixView.set_pointSize(12),this.textPrefixView.set_preRenderedSize(20),this.textPrefixView.set_content("#"),this.textPrefixView.set_verticalAlign(Vn.CENTER),this.textPrefixView.padding(0,3,0,2),this.textPrefixView.text.component(null,new Hi),this.container.add(this.textPrefixView),this.textView=new A1,this.textView.set_minHeight(15),(e=this.textView).set_viewWidth(54),e.set_viewHeight(-60001),this.textView.set_align(Ot.LEFT),this.textView.set_verticalAlign(Vn.CENTER),this.textView.set_pointSize(12),this.textView.set_preRenderedSize(20),this.container.add(this.textView),null==(n=this.get_theme())&&(n=G.get_context().get_theme()),this.editText=new M0(n.get_focusedFieldSelectionColor(),n.get_lightTextColor()),this.editText.set_container(this.textView),this.textView.text.component("editText",this.editText),this.editText.onUpdate(this,$bind(this,this.updateFromEditText)),this.editText.onStop(this,$bind(this,this.handleStopEditText)),this.colorPreview=new f0,(e=this.colorPreview).set_viewWidth(-60002),e.set_viewHeight(15),(e=this.colorPreview).flags&=-17,this.colorPreview.padding(0,0,3,0),this.container.add(this.colorPreview),this.autorun($bind(this,this.updateStyle)),this.autorun($bind(this,this.updateFromValue)),this.autorun($bind(this,this.updatePickerContainer)),this.container.onLayout(this,$bind(this,this.layoutContainer)),this.pickerContainer.onLayout(this,$bind(this,this.layoutPickerContainer)),this.colorPreview.onPointerDown(this,function(e){t.togglePickerVisible()}),ae.app.onUpdate(this,function(e){t.updatePickerVisibility()}),ae.app.onPostUpdate(this,function(e){t.updatePickerPosition()}),ae.app.onFinishDraw(this,$bind(this,this.updateEditingThisFrame)),ae.app.onceUpdate(this,function(e){var n=t.getScrollingLayout();null!=n&&n.scroller.scrollTransform.onChange(t,$bind(t,t.updatePickerPosition))}),ae.app.input.onKeyDown(this,function(e){41==e.scanCode?t.set_pickerVisible(!1):t.get_focused()&&40==e.scanCode?t.set_pickerVisible(!0):t.get_focused()&&44==e.scanCode&&t.set_pickerVisible(!t.get_pickerVisible())}),this.bindKeyBindings()}function id(){this.hue=0,this.savedPointerY=0,this.savedPointerX=0,this.movingPointer=!1,this.pointerColorTween=null,this.targetPointerColor=-1,this.movingSpectrum=!1,this.colorValue=16777215,f0.call(this),this.filter=new _n,this.filter.set_textureFilter(Tt.NEAREST),this.add(this.filter),this.flags|=16,this.tintGradient=new za,this.tintGradient.colorMapping=2,this.tintGradient.set_depth(1),this.filter.content.add(this.tintGradient),this.blackGradient=new za,this.blackGradient.colorMapping=2,this.blackGradient.set_depth(2),this.filter.content.add(this.blackGradient),this.colorPointer=new Za,(e=this.colorPointer).set_anchorX(.5),e.set_anchorY(.5),(e=this.colorPointer).set_width(10),e.set_height(10),this.colorPointer.set_depth(3);var e=this.colorPointer,n=He.INSIDE,n=(e.borderPosition!=n&&(e.borderPosition=n,e.autoComputeVertices)&&e.computeVertices(),1!=(e=this.colorPointer).borderSize&&(e.borderSize=1,e.autoComputeVertices)&&e.computeVertices(),this.colorPointer.set_roundTranslation(1),this.filter.content.add(this.colorPointer),this.blackGradient.vertices=[0,0,1,0,1,1,0,1],this.blackGradient.indices=[0,1,2,0,2,3],0),t=-1,n=(this.blackGradient.colors[0]=t=t&16777215|(255<(n=null==n?255:n)?255:n<0?0:n)<<24,0),t=-1,t=(this.blackGradient.colors[1]=t=t&16777215|(255<(n=null==n?255:n)?255:n<0?0:n)<<24,-16777216),t=(this.blackGradient.colors[2]=t=t&16777215|-16777216,-16777216),t=(this.blackGradient.colors[3]=t=t&16777215|-16777216,this.tintGradient.vertices=this.blackGradient.vertices,this.tintGradient.indices=this.blackGradient.indices,-1),e=(this.tintGradient.colors[0]=t=t&16777215|-16777216,P.get_hue(this.colorValue)),i=0,l=.5-(n=1-Math.abs(0))/2,s=n,n=(e%=360)/60,r=s*(1-Math.abs(n%2-1))+l;switch(s+=l,0|n){case 0:t=(i=i&65535|(255<(t=Math.round(255*s))?255:t<0?0:t)<<16,Math.round(255*r)),t=(i=i&16711935|(255<t?255:t<0?0:t)<<8,Math.round(255*l)),i=i&16776960|(255<t?255:t<0?0:t);break;case 1:t=(i=i&65535|(255<(t=Math.round(255*r))?255:t<0?0:t)<<16,Math.round(255*s)),t=(i=i&16711935|(255<t?255:t<0?0:t)<<8,Math.round(255*l));i=i&16776960|(255<t?255:t<0?0:t);break;case 2:t=(i=i&65535|(255<(t=Math.round(255*l))?255:t<0?0:t)<<16,Math.round(255*s)),t=(i=i&16711935|(255<t?255:t<0?0:t)<<8,Math.round(255*r));i=i&16776960|(255<t?255:t<0?0:t);break;case 3:t=(i=i&65535|(255<(t=Math.round(255*l))?255:t<0?0:t)<<16,Math.round(255*r)),t=(i=i&16711935|(255<t?255:t<0?0:t)<<8,Math.round(255*s));i=i&16776960|(255<t?255:t<0?0:t);break;case 4:t=(i=i&65535|(255<(t=Math.round(255*r))?255:t<0?0:t)<<16,Math.round(255*l)),t=(i=i&16711935|(255<t?255:t<0?0:t)<<8,Math.round(255*s));i=i&16776960|(255<t?255:t<0?0:t);break;case 5:t=(i=i&65535|(255<(t=Math.round(255*s))?255:t<0?0:t)<<16,Math.round(255*l)),t=(i=i&16711935|(255<t?255:t<0?0:t)<<8,Math.round(255*r));i=i&16776960|(255<t?255:t<0?0:t)}t=(0|(e=i))-16777216,this.tintGradient.colors[1]=t=t&16777215|-16777216,t=(0|e)-16777216,this.tintGradient.colors[2]=t=t&16777215|-16777216,t=-1,this.tintGradient.colors[3]=t=t&16777215|-16777216,this.updatePointerFromColor(),this.filter.content.onPointerDown(this,$bind(this,this.handlePointerDown)),this.filter.content.onPointerUp(this,$bind(this,this.handlePointerUp))}function jd(){this.hue=0,this.unobservedMovingPointer=!1,this.movingPointerAutoruns=null,this.observedDirty=!1,f0.call(this),this.flags|=16,this.huePointer=new Za,this.huePointer.set_depth(2),1!=(e=this.huePointer).borderTopSize&&(e.borderTopSize=1,e.autoComputeVertices)&&e.computeVertices(),1!=(e=this.huePointer).borderBottomSize&&(e.borderBottomSize=1,e.autoComputeVertices)&&e.computeVertices(),16777215!=(e=this.huePointer).borderTopColor&&(e.borderTopColor=16777215,e.autoComputeColors)&&e.computeColors(),0!=(e=this.huePointer).borderBottomColor&&(e.borderBottomColor=0,e.autoComputeColors)&&e.computeColors();var e=this.huePointer,n=He.OUTSIDE;e.borderPosition!=n&&(e.borderPosition=n,e.autoComputeVertices)&&e.computeVertices(),(e=this.huePointer).set_anchorX(.5),e.set_anchorY(.5),this.add(this.huePointer),this.initSpectrum(),this.onPointerDown(this,$bind(this,this.handlePointerDown)),this.onPointerUp(this,$bind(this,this.handlePointerUp))}function kd(){this.lightness=.5,this.savedPointerY=0,this.savedPointerX=0,this.movingPointer=!1,this.pointerColorTween=null,this.targetPointerColor=-1,this.movingSpectrum=!1,this.colorValue=16777215,f0.call(this),this.filter=new _n,this.filter.set_textureFilter(Tt.NEAREST),this.add(this.filter),this.flags|=16,this.colorPointer=new Za,(e=this.colorPointer).set_anchorX(.5),e.set_anchorY(.5),(e=this.colorPointer).set_width(10),e.set_height(10),this.colorPointer.set_depth(3);var e=this.colorPointer,n=He.INSIDE;e.borderPosition!=n&&(e.borderPosition=n,e.autoComputeVertices)&&e.computeVertices(),1!=(e=this.colorPointer).borderSize&&(e.borderSize=1,e.autoComputeVertices)&&e.computeVertices(),this.colorPointer.set_roundTranslation(1),this.filter.content.add(this.colorPointer),this.gradient=new za,this.gradient.colorMapping=2,this.gradient.set_depth(1),this.filter.content.add(this.gradient);for(var t=this.gradient.vertices,i=this.gradient.indices,l=0,s=kd.PRECISION_X;l<s;)for(var r=l++,h=(t.push(r),t.push(0),t.push(1+r),t.push(0),0),a=kd.PRECISION_Y;h<a;){var o=h++,o=(t.push(r),t.push(1+o),t.push(1+r),t.push(1+o),2*o+r*(2*kd.PRECISION_Y+2));i.push(o),i.push(1+o),i.push(2+o),i.push(1+o),i.push(2+o),i.push(3+o)}this.updateGradientColors(),this.updatePointerFromColor(),this.filter.content.onPointerDown(this,$bind(this,this.handlePointerDown)),this.filter.content.onPointerUp(this,$bind(this,this.handlePointerUp))}function ld(){this.spectrumColorsDirty=!1,this.saturation=1,this.hue=0,this.lightness=.5,this.unobservedMovingPointer=!1,this.movingPointerAutoruns=null,this.observedDirty=!1,f0.call(this),this.flags|=16,this.lightnessPointer=new Za,this.lightnessPointer.set_depth(2),1!=(e=this.lightnessPointer).borderTopSize&&(e.borderTopSize=1,e.autoComputeVertices)&&e.computeVertices(),1!=(e=this.lightnessPointer).borderBottomSize&&(e.borderBottomSize=1,e.autoComputeVertices)&&e.computeVertices(),16777215!=(e=this.lightnessPointer).borderTopColor&&(e.borderTopColor=16777215,e.autoComputeColors)&&e.computeColors(),0!=(e=this.lightnessPointer).borderBottomColor&&(e.borderBottomColor=0,e.autoComputeColors)&&e.computeColors();var e=this.lightnessPointer,n=He.OUTSIDE;e.borderPosition!=n&&(e.borderPosition=n,e.autoComputeVertices)&&e.computeVertices(),(e=this.lightnessPointer).set_anchorX(.5),e.set_anchorY(.5),this.add(this.lightnessPointer),this.initSpectrum(),this.onPointerDown(this,$bind(this,this.handlePointerDown)),this.onPointerUp(this,$bind(this,this.handlePointerUp))}function md(e){null==e&&(e=16777215),this.observedDirty=!1;var n=this;f0.call(this),this.set_viewWidth(md.PALETTE_COLOR_SIZE),this.set_viewHeight(md.PALETTE_COLOR_SIZE),this.set_colorValue(e),this.set_click(new b0),this.click.onClick(this,function(){n.emitClick(n)}),this.set_longPress(new Kb(null,this.click)),this.longPress.onLongPress(this,function(e){n.emitLongPress(n,e)}),this.set_dragDrop(new Bi(null,this.click,$bind(this,this.getDraggingVisual),$bind(this,this.releaseDraggingVisual))),this.dragDrop.onDraggingChange(this,$bind(this,this.handleDraggingChange)),this.set_transform(new l),this.autorun($bind(this,this.updateStyle)),this.bindDraggingDepth()}function nd(){}function rd(){this.color=16777215,this.internalScale=1,this.thickness=2,o.call(this),this.quad0=new p,this.quad0.color=this.color;var e=this.quad0;e.set_anchorX(.5),e.set_anchorY(.5),this.quad0.set_rotation(45),this.add(this.quad0),this.quad1=new p,this.quad1.color=this.color,(e=this.quad1).set_anchorX(.5),e.set_anchorY(.5),this.quad1.set_rotation(-45),this.add(this.quad1),this.set_width(16),this.set_height(16),this.contentDirty=!0,ae.app.visualsContentDirty=!0}function ud(e,n){this.enumFields=e,this.enumValues=n}function wd(){this.backgroundBottom=null,this.backgrounds=null,this.backgroundTop=null,this.unobservedTheme=null,this.themeAutoruns=null,this.observedDirty=!1,r0.call(this),this.flags&=-17,this.set_tabFocus(new Xi),this.autorun($bind(this,this.updateStyle)),this.autorun($bind(this,this.computeBackgrounds))}function Dd(){this.unobservedDisabled=!1,this.disabledAutoruns=null,this.unobservedBold=!1,this.boldAutoruns=null,this.unobservedTheme=null,this.themeAutoruns=null,this.observedDirty=!1,A1.call(this),this.set_viewWidth(-60002),this.set_viewHeight(-60001),this.set_minHeight(16),this.set_align(Ot.LEFT),this.set_verticalAlign(Vn.CENTER),this.set_pointSize(12),this.set_preRenderedSize(20),this.autorun($bind(this,this.updateStyle))}function Ed(e,n){null==n&&(n=!1),this.labelWidth=70,this.labelPosition=1,this.useContainer=!1,this.unobservedDisabled=!1,this.disabledAutoruns=null,this.unobservedLabel="",this.labelAutoruns=null,this.unobservedTheme=null,this.themeAutoruns=null,this.observedDirty=!1;var t=this,i=(Yb.call(this),this.set_itemSpacing(6),this.labelText=new A1,this.labelText);i.set_viewWidth(this.labelWidth),i.set_viewHeight(-60001),this.labelText.set_align(Ot.LEFT),this.labelText.set_verticalAlign(Vn.CENTER),this.labelText.set_pointSize(12),this.labelText.set_preRenderedSize(20),this.add(this.labelText),(this.useContainer=n)&&(this.containerView=new Yb,(i=this.containerView).flags|=16,(i=this.containerView).set_viewWidth(-60002),i.set_viewHeight(-60001),this.containerView.set_align(Vn.RIGHT),this.add(this.containerView)),this.set_view(e),this.autorun($bind(this,this.updateDisabled)),this.autorun($bind(this,this.updateLabel)),this.autorun($bind(this,this.updateStyle)),this.labelText.onPointerDown(this,function(e){t.handleLabelClick()})}function Gd(e){this.autoCheckLocked=!0,this.windowItem=null,this.unobservedScrollEnabled=!0,this.scrollEnabledAutoruns=null,this.unobservedSmallItems=!1,this.smallItemsAutoruns=null,this.unobservedSortable=!1,this.sortableAutoruns=null,this.unobservedDuplicable=!1,this.duplicableAutoruns=null,this.unobservedLockable=!1,this.lockableAutoruns=null,this.unobservedTrashable=!1,this.trashableAutoruns=null,this.unobservedSelectedIndex=-1,this.selectedIndexAutoruns=null,this.itemsAutoruns=null,this.unobservedTheme=null,this.themeAutoruns=null,this.observedDirty=!1;var n=this;f0.call(this),this.set_items(e),this.collectionView=new ki,this.collectionView.set_itemsBehavior(1),(e=this.collectionView).set_viewWidth(-60002),e.set_viewHeight(-49975),this.collectionView.autorun(function(){var e=n.get_theme();A.unobserve(),n.collectionView.set_theme(e)}),this.add(this.collectionView),this.set_dataSource(new Wi(this)),this.autorun($bind(this,this.updateFromItems)),this.autorun($bind(this,this.updateFromScrollEnabled)),ae.app.onUpdate(this,$bind(this,this.checkLockedIfNeeded))}function Kd(){}function Od(){this.listVisibleThisFrame=!1,this.listIsAbove=!1,this.unobservedListVisible=!1,this.listVisibleAutoruns=null,this.clipList=!1,this.unobservedInputStyle=Vi.DEFAULT,this.inputStyleAutoruns=null,this.unobservedNullValueText=null,this.nullValueTextAutoruns=null,this.unobservedList=[],this.listAutoruns=null,this.unobservedValue=null,this.valueAutoruns=null,this.unobservedTheme=null,this.themeAutoruns=null;var i=this,e=(X2.call(this),this.flags|=16,this.set_direction(Hn.HORIZONTAL),this.set_align(Vn.LEFT),this.container=new Yb,(e=this.container).set_viewWidth(-60002),e.set_viewHeight(-60001),this.container.padding(6,6,6,6),1!=(e=this.container).borderSize&&(e.borderSize=1,e.updateBorder()),this.container),n=He.INSIDE;e.borderPosition!=n&&(e.borderPosition=n,0<e.borderSize||0<e.borderTopSize||0<e.borderBottomSize||0<e.borderLeftSize||0<e.borderRightSize)&&e.updateBorder(),(e=this.container).flags&=-17,this.container.set_depth(1),this.add(this.container),this.container.onPointerDown(this,function(e){i.toggleListVisible()}),this.listContainer=new f0,(e=this.listContainer).flags|=16,(e=this.listContainer).set_viewWidth(0),e.set_viewHeight(0),this.listContainer.set_active(!1),this.listContainer.set_depth(100),G.get_context().view.add(this.listContainer),this.tip=new Ib,(e=this.tip).points=[-5,-5,0,0,5,-5],e.contentDirty=!0,ae.app.visualsContentDirty=!0,1!=(e=this.tip).thickness&&(e.thickness=1,e.contentDirty=!0,ae.app.visualsContentDirty=!0),this.tip.set_depth(2),this.container.onLayout(this.tip,function(){var e=i.tip,n=i.container.x+i.container.get_width()-13,t=i.container.y+.6*i.container.get_height();e.set_x(n),e.set_y(t)}),this.add(this.tip),this.textView=new A1,this.textView.set_minHeight(15),(e=this.textView).set_viewWidth(-60001),e.set_viewHeight(-60001),this.textView.set_align(Ot.LEFT),this.textView.set_verticalAlign(Vn.CENTER),this.textView.set_pointSize(12),this.textView.set_preRenderedSize(20),this.container.add(this.textView),this.autorun($bind(this,this.updateStyle)),this.autorun($bind(this,this.updateFromValue)),this.autorun($bind(this,this.updateListContainer)),this.container.onLayout(this,$bind(this,this.layoutContainer)),this.listContainer.onLayout(this,$bind(this,this.layoutListContainer)),this.onValueChange(this.listView,function(e,n){null!=i.listView&&i.listView.set_value(e)}),this.onListChange(this.listView,function(e,n){null!=i.listView&&i.listView.set_list(e)}),this.onNullValueTextChange(this.listView,function(e,n){null!=i.listView&&i.listView.set_nullValueText(e)}),ae.app.onUpdate(this,function(e){i.updateListVisibility()}),ae.app.onPostUpdate(this,function(e){i.updateListPosition()}),ae.app.onFinishDraw(this,$bind(this,this.updateListVisibleThisFrame)),ae.app.onceUpdate(this,function(e){var n=i.getScrollingLayout();null!=n&&n.scroller.scrollTransform.onChange(i,$bind(i,i.updateListPosition))}),ae.app.input.onKeyDown(this,function(e){41==e.scanCode?i.set_listVisible(!1):i.get_focused()&&81==e.scanCode?null!=i.get_list()&&(null==i.get_value()?0<i.get_list().length&&i.set_value(i.get_list()[0]):i.get_list().indexOf(i.get_value())<i.get_list().length-1&&i.set_value(i.get_list()[i.get_list().indexOf(i.get_value())+1])):i.get_focused()&&82==e.scanCode?null!=i.get_list()&&(0<i.get_list().indexOf(i.get_value())?i.set_value(i.get_list()[i.get_list().indexOf(i.get_value())-1]):null!=i.get_nullValueText()&&i.set_value(null)):i.get_focused()&&40==e.scanCode?i.set_listVisible(!0):i.get_focused()&&44==e.scanCode?i.set_listVisible(!i.get_listVisible()):i.get_focused()&&42==e.scanCode&&null!=i.get_nullValueText()&&i.set_value(null)})}function Pd(){this.thickness=1,this.unobservedTheme=null,this.themeAutoruns=null,this.observedDirty=!1,f0.call(this),this.flags|=16,this.quad=new p,this.add(this.quad),this.autorun($bind(this,this.updateStyle))}function Qd(e,n){null==n&&(n=1),null==e&&(e=0),this.round=-1,this.unobservedDisabled=!1,this.disabledAutoruns=null,this.unobservedInputStyle=Vi.DEFAULT,this.inputStyleAutoruns=null,this.unobservedEnabledTextInput=!0,this.enabledTextInputAutoruns=null,this.unobservedMaxValue=0,this.maxValueAutoruns=null,this.unobservedMinValue=0,this.minValueAutoruns=null,this.unobservedValue=0,this.valueAutoruns=null,this.unobservedTheme=null,this.themeAutoruns=null;var t=this,i=(Z2.call(this),this.padding(6,6,6,6),He.INSIDE);this.borderPosition!=i&&(this.borderPosition=i,0<this.borderSize||0<this.borderTopSize||0<this.borderBottomSize||0<this.borderLeftSize||0<this.borderRightSize)&&this.updateBorder(),this.set_minValue(e),this.set_maxValue(n),this.set_direction(Hn.HORIZONTAL),this.set_align(Vn.LEFT),this.textView=new A1,this.textView.set_minHeight(15),(i=this.textView).set_viewWidth(50),i.set_viewHeight(-60001),this.textView.set_verticalAlign(Vn.CENTER),this.textView.set_align(Ot.LEFT),this.textView.set_pointSize(12),this.textView.set_preRenderedSize(20),this.textView.onResize(this,$bind(this,this.clipText)),this.autorun(function(){t.textView.set_active(t.get_enabledTextInput())}),this.add(this.textView),null==(e=this.get_theme())&&(e=G.get_context().get_theme()),this.editText=new M0(e.get_focusedFieldSelectionColor(),e.get_lightTextColor()),this.editText.set_container(this.textView),this.textView.text.component("editText",this.editText),this.editText.onUpdate(this,$bind(this,this.updateFromEditText)),this.editText.onStop(this,$bind(this,this.handleStopEditText)),this.editText.onSubmit(this,$bind(this,this.handleEditTextSubmit)),this.sliderContainer=new f0,this.sliderContainer.set_depth(1),(i=this.sliderContainer).set_viewWidth(-60002),i.set_viewHeight(15),(i=this.sliderContainer).flags&=-17,this.add(this.sliderContainer),this.sliderSquare=new f0,(i=this.sliderSquare).flags&=-17,(i=this.sliderSquare).set_width(19),i.set_height(15),this.sliderSquare.set_depth(1),this.sliderContainer.add(this.sliderSquare),this.sliderContainer.onPointerDown(this,$bind(this,this.handleSliderDown)),this.sliderContainer.onLayout(this,$bind(this,this.layoutSliderContainer)),this.autorun($bind(this,this.updateStyle)),this.autorun($bind(this,this.updateFromTextValue)),this.autorun($bind(this,this.updateFromValue)),this.bindKeyBindings()}function Sd(){this.bottomBackground=null,this.topBackground=null,this.afterSelectedBackground=null,this.beforeSelectedBackground=null,this.appliedTabs=null,this.unobservedHoverIndex=-1,this.hoverIndexAutoruns=null,this.unobservedTabViews=[],this.tabViewsAutoruns=null,this.unobservedTabThemes=[],this.tabThemesAutoruns=null,this.unobservedTabStates=[],this.tabStatesAutoruns=null,this.unobservedTabs=[],this.tabsAutoruns=null,this.unobservedSelectedIndex=-1,this.selectedIndexAutoruns=null,this.windowItem=null,this.marginY=0,this.marginX=0,this.unobservedTheme=null,this.themeAutoruns=null,this.observedDirty=!1;var t=this;Yb.call(this),this.set_viewHeight(27),this.flags|=16,this.set_itemSpacing(-1),this.set_childrenDepth(2),this.beforeBorder=new p,this.beforeBorder.flags&=-17,this.beforeBorder.set_active(!1),this.beforeBorder.set_depth(100),this.add(this.beforeBorder),this.afterBorder=new p,this.afterBorder.flags&=-17,this.afterBorder.set_active(!1),this.afterBorder.set_depth(100),this.add(this.afterBorder),this.autorun($bind(this,this.updateTabs)),this.autorun($bind(this,this.updateStyle)),this.onSelectedIndexChange(this,function(e,n){t.layoutDirty=!0})}function b3(e){this.i=e}function g3(e,n,t,i,l,s,r,h,a,o,c,u,_,d,b,g,O,f,p){this.version=e,this.tiledVersion=n,this.orientation=t,this.width=i,this.height=l,this.tileWidth=s,this.tileHeight=r,this.backgroundColor=h,this.renderOrder=a,this.staggerIndex=o,this.staggerAxis=c,this.hexSideLength=u,this.nextObjectId=_,this.nextLayerId=d,this.properties=b,this.tilesets=g,this.layers=O,this.infinite=f,this.localPath=p}function k3(e,n,t,i,l){this.name=e,this.tile=n,this.corners=t,this.edges=i,this.tiles=l}function l3(e,n,t,i){this.name=e,this.color=n,this.tile=t,this.probability=i}function m3(e,n){this.tileID=e,this.wangID=n}function n3(e,n,t,i,l,s,r){this.format=e,this.id=n,this.source=t,this.transparent=i,this.width=l,this.height=s,this.data=r}function s3(e,n,t,i,l,s,r,h){this.id=e,this.name=n,this.offsetX=t,this.offsetY=i,this.opacity=l,this.visible=s,this.properties=r,this.layers=h}function t3(e,n,t,i,l,s,r,h,a,o,c){this.id=e,this.name=n,this.x=t,this.y=i,this.offsetX=l,this.offsetY=s,this.width=r,this.height=h,this.opacity=a,this.visible=o,this.properties=c}function u3(e,n,t,i,l,s,r,h,a,o,c,u){t3.call(this,n,t,i,l,s,r,h,a,o,c,u),this.image=e}function v3(e,n,t,i,l,s,r,h,a,o,c,u){t3.call(this,n,t,i,l,s,r,h,a,o,c,u),this.data=e}function y3(e,n,t,i,l){this.encoding=e,this.compression=n,this.tiles=t,this.chunks=i,this.data=l}function z3(e,n,t,i,l){this.x=e,this.y=n,this.width=t,this.height=i,this.tiles=l}function C3(e,n,t,i,l,s,r,h,a,o,c,u,_,d){t3.call(this,i,l,s,r,h,a,o,c,u,_,d),this.color=t,this.drawOrder=e,this.objects=n}function D3(e,n){this.x=e,this.y=n}function F3(e,n,t,i,l,s,r,h,a,o,c,u,_,d){this.id=e,this.name=n,this.type=t,this.x=i,this.y=l,this.width=s,this.height=r,this.rotation=h,this.visible=a,this.objectType=o,this.properties=c,this.flippedHorizontally=u,this.flippedVertically=_,this.template=d}function G3(e,n,t,i,l,s,r,h,a,o,c,u){this.fontFamily=e,this.pixelSize=n,this.wrap=t,this.color=i,this.bold=l,this.italic=s,this.underline=r,this.strikeout=h,this.kerning=a,this.halign=o,this.valign=c,this.text=u}function K3(e,n){this.tileset=e,this.object=n}function L3(e,n,t){this.name=e,this.color=n,this.properties=t}function M3(e,n,t){this.name=e,this.type=n,this.defaultValue=t}function P3(){}function V3(){}function $3(){}function be(){this.a1=1,this.a2=0}function re(e,n,t){$.call(this,e,n),this.posInfos=null==t?{fileName:"(unknown)",lineNumber:0,className:"(unknown)",methodName:"(unknown)"}:t,this.__skipStack++}function se(e,n,t){re.call(this,e=null==e?"Not implemented":e,n,t),this.__skipStack++}function te(){this.pos=0,this.size=0}function ue(){}function we(){}function Qe(e,n,t){this.xml=n,this.message=e,this.position=t,this.lineNumber=1;for(var i=this.positionAtLine=0,l=t;i<l;){var s=i++,s=n.charCodeAt(s);10==s?(this.lineNumber++,this.positionAtLine=0):13!=s&&this.positionAtLine++}}function Ue(){}function Ve(e){this.buffer=new Pl(new ArrayBuffer(65536)),this.pos=0,e&&(this.crc=new be)}function Ye(){}function a4(){}function b4(){}function e4(){}function f4(){e4.call(this)}function k4(e,n,t){k1.call(this,e,n,t)}function l4(e,n,t){k1.call(this,e,n,t)}function m4(e,n,t){k1.call(this,e,n,t)}function n4(e,n,t){k1.call(this,e,n,t)}function r4(){e4.call(this)}function t4(){r4.call(this)}function u4(){f4.call(this)}function w4(){r4.call(this)}function x4(){f4.call(this)}function z4(){r4.call(this)}function A4(){f4.call(this)}function B4(){}function D4(){}function E4(){}function H4(e,n){null==n&&(n=!1),this.append=!1,this.data=e,this.append=n}function J4(e){this.items=e}function L4(e,n,t,i){this.props=null,this.type=null,this.id=e,this.action=n,null!=t&&(this.type=t),null!=i&&(this.props=i)}function M4(){this.initializerName=null,this.paused=0,this.dirty=!0,this.dirtyModels=new Nl,this.willCleanDestroyedTrackedModels=!1,this.trackedModels=new Nl,this.checkInterval=.1,this.destroyModelOnUntrack=!0,this.lastCheckedFrame=-1,this.destroysToDispatch=null,this.deserializedMap=new Nl,this.serializedMap=new Nl,j.call(this)}(E.EReg=f).__name__="EReg",f.prototype={r:null,match:function(e){return this.r.global&&(this.r.lastIndex=0),this.r.m=this.r.exec(e),this.r.s=e,null!=this.r.m},matched:function(e){if(null!=this.r.m&&0<=e&&e<this.r.m.length)return this.r.m[e];throw $.thrown("EReg::matched")},matchedPos:function(){if(null==this.r.m)throw $.thrown("No string matched");return{pos:this.r.m.index,len:this.r.m[0].length}},matchSub:function(e,n,t){var i;return null==t&&(t=-1),this.r.global?(this.r.lastIndex=n,this.r.m=this.r.exec(t<0?e:he.substr(e,0,n+t)),(i=null!=this.r.m)&&(this.r.s=e)):(i=this.match(t<0?he.substr(e,n,null):he.substr(e,n,t)))&&(this.r.s=e,this.r.m.index+=n),i},map:function(e,n){var t=0,i="";do{if(t>=e.length)break;if(!this.matchSub(e,t)){i+=K.string(he.substr(e,t,null));break}var l=this.matchedPos(),i=(i+=K.string(he.substr(e,t,l.pos-t)))+K.string(n(this)),t=0==l.len?(i+=K.string(he.substr(e,l.pos,1)),l.pos+1):l.pos+l.len}while(this.r.global);return!this.r.global&&0<t&&t<e.length&&(i+=K.string(he.substr(e,t,null))),i},__class__:f};var he=function(){},L=((E.HxOverrides=he).__name__="HxOverrides",he.strDate=function(e){switch(e.length){case 8:var n=e.split(":"),t=new Date;return t.setTime(0),t.setUTCHours(n[0]),t.setUTCMinutes(n[1]),t.setUTCSeconds(n[2]),t;case 10:n=e.split("-");return new Date(n[0],n[1]-1,n[2],0,0,0);case 19:t=(n=e.split(" "))[0].split("-"),n=n[1].split(":");return new Date(t[0],t[1]-1,t[2],n[0],n[1],n[2]);default:throw $.thrown("Invalid date format : "+e)}},he.cca=function(e,n){e=e.charCodeAt(n);if(e==e)return e},he.substr=function(e,n,t){if(null==t)t=e.length;else if(t<0){if(0!=n)return"";t=e.length+t}return e.substr(n,t)},he.remove=function(e,n){n=e.indexOf(n);return-1!=n&&(e.splice(n,1),!0)},he.now=function(){return Date.now()},(E["ceramic.Lazy"]=h).__name__="ceramic.Lazy",h.__isInterface__=!0,(E["tracker.Events"]=i).__name__="tracker.Events",i.__isInterface__=!0,(E["ceramic.Entity"]=j).__name__="ceramic.Entity",j.__interfaces__=[h,i],j.prototype={id:null,_lifecycleState:null,get_destroyed:function(){return this._lifecycleState<0},get_disposed:function(){return 1==this._lifecycleState},__cbOnDispose:null,__cbOnceDispose:null,__cbOnOwnerUnbindDispose:null,__cbOnceOwnerUnbindDispose:null,emitDispose:function(e){var n=0;if(null!=this.__cbOnDispose&&(n+=this.__cbOnDispose.length),null!=this.__cbOnceDispose&&(n+=this.__cbOnceDispose.length),0<n){var t=C.pool(n),i=t.get(),l=0;if(null!=this.__cbOnDispose)for(var s=0,r=this.__cbOnDispose.length;s<r;){var h=s++;!0?(i.vector[l]=this.__cbOnDispose[h],++l):--n}if(null!=this.__cbOnceDispose){for(var a=null,o=null,s=0,r=this.__cbOnceDispose.length;s<r;){var c,h=s++;!0?(i.vector[l]=this.__cbOnceDispose[h],this.__cbOnceDispose[h]=null,c=this.__cbOnceOwnerUnbindDispose[h],(this.__cbOnceOwnerUnbindDispose[h]=null)!=c&&c(),++l):(--n,null==a&&(a=[],o=[],0),a.push(this.__cbOnceOwnerUnbindDispose[h]),o.push(this.__cbOnceDispose[h]))}this.__cbOnceOwnerUnbindDispose=a,this.__cbOnceDispose=o}for(s=0,r=n;s<r;){l=s++;(0,i.vector[l])(e)}t.release(i)}},onDispose:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event dispose because owner is destroyed!");var l=function(e){null!=t&&(i.offDispose(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindDispose&&(this.__cbOnOwnerUnbindDispose=[]),this.__cbOnOwnerUnbindDispose.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindDispose&&(this.__cbOnOwnerUnbindDispose=[]),this.__cbOnOwnerUnbindDispose.push(null);null==this.__cbOnDispose&&(this.__cbOnDispose=[]),this.__cbOnDispose.push(t)},onceDispose:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event dispose because owner is destroyed!");var l=function(e){null!=t&&(i.offDispose(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindDispose&&(this.__cbOnceOwnerUnbindDispose=[]),this.__cbOnceOwnerUnbindDispose.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindDispose&&(this.__cbOnceOwnerUnbindDispose=[]),this.__cbOnceOwnerUnbindDispose.push(null);null==this.__cbOnceDispose&&(this.__cbOnceDispose=[]),this.__cbOnceDispose.push(t)},offDispose:function(e){if(null!=e){var n;null!=this.__cbOnDispose&&-1!=(n=this.__cbOnDispose.indexOf(e))&&(this.__cbOnDispose.splice(n,1),null!=(s=this.__cbOnOwnerUnbindDispose[n])&&s(),this.__cbOnOwnerUnbindDispose.splice(n,1)),null!=this.__cbOnceDispose&&-1!=(n=this.__cbOnceDispose.indexOf(e))&&(this.__cbOnceDispose.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindDispose[n])&&s(),this.__cbOnceOwnerUnbindDispose.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindDispose){for(var t=0,i=this.__cbOnOwnerUnbindDispose.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindDispose[l])&&s()}this.__cbOnOwnerUnbindDispose=null}if(null!=this.__cbOnceOwnerUnbindDispose){for(t=0,i=this.__cbOnceOwnerUnbindDispose.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindDispose[l])&&s()}this.__cbOnceOwnerUnbindDispose=null}this.__cbOnDispose=null,this.__cbOnceDispose=null}},listensDispose:function(){return null!=this.__cbOnDispose&&0<this.__cbOnDispose.length||null!=this.__cbOnceDispose&&0<this.__cbOnceDispose.length},__cbOnDestroy:null,__cbOnceDestroy:null,__cbOnOwnerUnbindDestroy:null,__cbOnceOwnerUnbindDestroy:null,emitDestroy:function(e){var n=0;if(null!=this.__cbOnDestroy&&(n+=this.__cbOnDestroy.length),null!=this.__cbOnceDestroy&&(n+=this.__cbOnceDestroy.length),0<n){var t=C.pool(n),i=t.get(),l=0;if(null!=this.__cbOnDestroy)for(var s=0,r=this.__cbOnDestroy.length;s<r;){var h=s++;!0?(i.vector[l]=this.__cbOnDestroy[h],++l):--n}if(null!=this.__cbOnceDestroy){for(var a=null,o=null,s=0,r=this.__cbOnceDestroy.length;s<r;){var c,h=s++;!0?(i.vector[l]=this.__cbOnceDestroy[h],this.__cbOnceDestroy[h]=null,c=this.__cbOnceOwnerUnbindDestroy[h],(this.__cbOnceOwnerUnbindDestroy[h]=null)!=c&&c(),++l):(--n,null==a&&(a=[],o=[],0),a.push(this.__cbOnceOwnerUnbindDestroy[h]),o.push(this.__cbOnceDestroy[h]))}this.__cbOnceOwnerUnbindDestroy=a,this.__cbOnceDestroy=o}for(s=0,r=n;s<r;){l=s++;(0,i.vector[l])(e)}t.release(i)}},onDestroy:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event destroy because owner is destroyed!");var l=function(e){null!=t&&(i.offDestroy(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindDestroy&&(this.__cbOnOwnerUnbindDestroy=[]),this.__cbOnOwnerUnbindDestroy.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindDestroy&&(this.__cbOnOwnerUnbindDestroy=[]),this.__cbOnOwnerUnbindDestroy.push(null);null==this.__cbOnDestroy&&(this.__cbOnDestroy=[]),this.__cbOnDestroy.push(t)},onceDestroy:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event destroy because owner is destroyed!");var l=function(e){null!=t&&(i.offDestroy(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindDestroy&&(this.__cbOnceOwnerUnbindDestroy=[]),this.__cbOnceOwnerUnbindDestroy.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindDestroy&&(this.__cbOnceOwnerUnbindDestroy=[]),this.__cbOnceOwnerUnbindDestroy.push(null);null==this.__cbOnceDestroy&&(this.__cbOnceDestroy=[]),this.__cbOnceDestroy.push(t)},offDestroy:function(e){if(null!=e){var n;null!=this.__cbOnDestroy&&-1!=(n=this.__cbOnDestroy.indexOf(e))&&(this.__cbOnDestroy.splice(n,1),null!=(s=this.__cbOnOwnerUnbindDestroy[n])&&s(),this.__cbOnOwnerUnbindDestroy.splice(n,1)),null!=this.__cbOnceDestroy&&-1!=(n=this.__cbOnceDestroy.indexOf(e))&&(this.__cbOnceDestroy.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindDestroy[n])&&s(),this.__cbOnceOwnerUnbindDestroy.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindDestroy){for(var t=0,i=this.__cbOnOwnerUnbindDestroy.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindDestroy[l])&&s()}this.__cbOnOwnerUnbindDestroy=null}if(null!=this.__cbOnceOwnerUnbindDestroy){for(t=0,i=this.__cbOnceOwnerUnbindDestroy.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindDestroy[l])&&s()}this.__cbOnceOwnerUnbindDestroy=null}this.__cbOnDestroy=null,this.__cbOnceDestroy=null}},listensDestroy:function(){return null!=this.__cbOnDestroy&&0<this.__cbOnDestroy.length||null!=this.__cbOnceDestroy&&0<this.__cbOnceDestroy.length},destroy:function(){if(!(this._lifecycleState<=-2)){if(this._lifecycleState=-3,null!=this.autoruns)for(var e=0,n=this.autoruns.length;e<n;){var t=e++,i=this.autoruns[t];null!=i&&(this.autoruns[t]=null,i.destroy())}if(this.emitDestroy(this),null!=this._components){for(var l=null,s=this._components.h,r=Object.keys(s),h=r.length,a=0;a<h;){var o=r[a++];null==l?l=[o]:l.push(o)}if(null!=l)for(e=0;e<l.length;){o=l[e];++e,this.removeComponent(o)}}this.unbindEvents()}},dispose:function(){0==this._lifecycleState&&(this._lifecycleState=1,ae.app.disposedEntities.push(this)),this.emitDispose(this)},unbindEvents:function(){this.offDispose(),this.offDestroy()},autoruns:null,autorun:function(e,n){if(this._lifecycleState<0)return null;var t=new A(e,n);if((n=e=null)==(t.owner=this).autoruns)this.autoruns=[t];else{for(var i=!1,l=0,s=this.autoruns.length;l<s;){var r=l++;if(null==this.autoruns[r]){this.autoruns[r]=t,i=!0;break}}i||this.autoruns.push(t)}return t.onDestroy(this,$bind(this,this.checkAutoruns)),t},checkAutoruns:function(e){for(var n=0,t=this.autoruns.length;n<t;){var i=n++,l=this.autoruns[i];null!=l&&l._lifecycleState<0&&(this.autoruns[i]=null)}},_autorunMarkedMethods:function(){},tween:function(e,n,t,i,l){return V.start(this,e,n,t,i,l)},eagerTween:function(e,n,t,i,l){return V.eagerStart(this,e,n,t,i,l)},className:function(){var e=Os.getClass(this).__name__,n=e.lastIndexOf(".");return e=-1!=n?he.substr(e,n+1,null):e},toString:function(){var e=this.className();return null!=this.id?e+"("+this.id+")":""+e},clearComponents:function(){if(null!=this._components){for(var e=null,n=this._components.h,t=Object.keys(n),i=t.length,l=0;l<i;){var s=t[l++];null==e?e=[s]:e.push(s)}if(null!=e)for(var r=0;r<e.length;){s=e[r];++r,this.removeComponent(s)}}},get_components:function(){return this._components},set_components:function(e){if(this._components!=e){if(null!=this._components){l=this._components.h;for(var n=(s=Object.keys(l)).length,t=0;t<n;){var i=s[t++];null!=e&&Object.prototype.hasOwnProperty.call(e.h,i)||this.removeComponent(i)}}if(null!=e){l=e.h;for(var l,s,n=(s=Object.keys(l)).length,t=0;t<n;){var r,i=s[t++],h=e.h[i];null!=this._components&&null!=(r=this._components.h[i])?r!=h&&(this.removeComponent(i),this.component(i,h)):this.component(i,h)}}this._components=e}return e},_components:null,component:function(t,i,l){null==l&&(l=!1);var s=this;if(null==t&&null==i)throw $.thrown("Invalid component() call: either `name` or `component` should be provided at least.");if(null==t){var e=Os.getClass(i);if(t=e.__name__,null!=this._components&&Object.prototype.hasOwnProperty.call(this._components.h,t)){var n=t,r=1;for(t=n+"#"+r;Object.prototype.hasOwnProperty.call(this._components.h,t);)t=n+"#"+ ++r}}return null!=i?(null==this._components?this._components=new Nl:null!=(e=this._components.h[t])&&e.destroy(),(this._components.h[t]=i).setEntity(this),i.onceDestroy(this,function(e){var n;i.getEntity()==s&&i.setEntity(null),0<=s._lifecycleState&&s._components.h[t]==i&&(n=s._components,Object.prototype.hasOwnProperty.call(n.h,t))&&delete n.h[t],l&&null!=t&&L.setProperty(s,t,null)}),i.bindAsComponent(),i):null==this._components?null:this._components.h[t]},hasComponent:function(e){return null!=this.component(e)},removeComponent:function(e){var n,t=this._components.h[e];null!=t&&(n=this._components,Object.prototype.hasOwnProperty.call(n.h,e)&&delete n.h[e],t.destroy())},__class__:j,__properties__:{set_components:"set_components",get_components:"get_components",get_disposed:"get_disposed",get_destroyed:"get_destroyed"}},(E["ceramic.DecomposedTransform"]=k).__name__="ceramic.DecomposedTransform",k.prototype={pivotX:null,pivotY:null,x:null,y:null,rotation:null,scaleX:null,scaleY:null,skewX:null,skewY:null,toString:function(){return"(pos="+this.x+","+this.y+" pivot="+this.pivotX+","+this.pivotY+" rotation="+this.rotation+" scale="+(this.scaleX==this.scaleY?""+this.scaleX:this.scaleX+","+this.scaleY)+" skew="+this.skewX+","+this.skewY+")"},__class__:k},(E["ceramic.Transform"]=l).__name__="ceramic.Transform",l.__interfaces__=[i],l.prototype={__cbOnChange:null,__cbOnceChange:null,__cbOnOwnerUnbindChange:null,__cbOnceOwnerUnbindChange:null,emitChange:function(){var e=0;if(null!=this.__cbOnChange&&(e+=this.__cbOnChange.length),null!=this.__cbOnceChange&&(e+=this.__cbOnceChange.length),0<e){var n=C.pool(e),t=n.get(),i=0;if(null!=this.__cbOnChange)for(var l=0,s=this.__cbOnChange.length;l<s;){var r=l++;!0?(t.vector[i]=this.__cbOnChange[r],++i):--e}if(null!=this.__cbOnceChange){for(var h=null,a=null,l=0,s=this.__cbOnceChange.length;l<s;){var o,r=l++;!0?(t.vector[i]=this.__cbOnceChange[r],this.__cbOnceChange[r]=null,o=this.__cbOnceOwnerUnbindChange[r],(this.__cbOnceOwnerUnbindChange[r]=null)!=o&&o(),++i):(--e,null==h&&(h=[],a=[],0),h.push(this.__cbOnceOwnerUnbindChange[r]),a.push(this.__cbOnceChange[r]))}this.__cbOnceOwnerUnbindChange=h,this.__cbOnceChange=a}for(l=0,s=e;l<s;){i=l++;(0,t.vector[i])()}n.release(t),t=null}this._aPrev=this.a,this._bPrev=this.b,this._cPrev=this.c,this._dPrev=this.d,this._txPrev=this.tx,this._tyPrev=this.ty,this.changed=!1},onChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event change because owner is destroyed!");var l=function(e){null!=t&&(i.offChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindChange&&(this.__cbOnOwnerUnbindChange=[]),this.__cbOnOwnerUnbindChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindChange&&(this.__cbOnOwnerUnbindChange=[]),this.__cbOnOwnerUnbindChange.push(null);null==this.__cbOnChange&&(this.__cbOnChange=[]),this.__cbOnChange.push(t)},onceChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event change because owner is destroyed!");var l=function(e){null!=t&&(i.offChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindChange&&(this.__cbOnceOwnerUnbindChange=[]),this.__cbOnceOwnerUnbindChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindChange&&(this.__cbOnceOwnerUnbindChange=[]),this.__cbOnceOwnerUnbindChange.push(null);null==this.__cbOnceChange&&(this.__cbOnceChange=[]),this.__cbOnceChange.push(t)},offChange:function(e){if(null!=e){var n;null!=this.__cbOnChange&&-1!=(n=this.__cbOnChange.indexOf(e))&&(this.__cbOnChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindChange[n])&&s(),this.__cbOnOwnerUnbindChange.splice(n,1)),null!=this.__cbOnceChange&&-1!=(n=this.__cbOnceChange.indexOf(e))&&(this.__cbOnceChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindChange[n])&&s(),this.__cbOnceOwnerUnbindChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindChange){for(var t=0,i=this.__cbOnOwnerUnbindChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindChange[l])&&s()}this.__cbOnOwnerUnbindChange=null}if(null!=this.__cbOnceOwnerUnbindChange){for(t=0,i=this.__cbOnceOwnerUnbindChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindChange[l])&&s()}this.__cbOnceOwnerUnbindChange=null}this.__cbOnChange=null,this.__cbOnceChange=null}},listensChange:function(){return null!=this.__cbOnChange&&0<this.__cbOnChange.length||null!=this.__cbOnceChange&&0<this.__cbOnceChange.length},_aPrev:null,_bPrev:null,_cPrev:null,_dPrev:null,_txPrev:null,_tyPrev:null,changedDirty:null,a:null,b:null,c:null,d:null,tx:null,ty:null,changed:null,computeChanged:function(){this.changedDirty&&(this.changed=this.tx!=this._txPrev||this.ty!=this._tyPrev||this.a!=this._aPrev||this.b!=this._bPrev||this.c!=this._cPrev||this.d!=this._dPrev,this.changedDirty=!1)},didEmitChange:function(){this._aPrev=this.a,this._bPrev=this.b,this._cPrev=this.c,this._dPrev=this.d,this._txPrev=this.tx,this._tyPrev=this.ty,this.changed=!1},cleanChangedState:function(){this._aPrev=this.a,this._bPrev=this.b,this._cPrev=this.c,this._dPrev=this.d,this._txPrev=this.tx,this._tyPrev=this.ty,this.changed=!1},clone:function(){return new l(this.a,this.b,this.c,this.d,this.tx,this.ty)},concat:function(e){var n=this.a*e.a+this.b*e.c,n=(this.b=this.a*e.b+this.b*e.d,this.a=n,this.c*e.a+this.d*e.c),n=(this.d=this.c*e.b+this.d*e.d,this.c=n,this.tx*e.a+this.ty*e.c+e.tx);this.ty=this.tx*e.b+this.ty*e.d+e.ty,this.tx=n,this.changedDirty=!0},decompose:function(e){return(e=null==e?new k:e).pivotX=0,e.pivotY=0,e.skewX=-Math.atan2(-this.c,this.d),e.skewY=Math.atan2(this.b,this.a),Math.abs(e.skewX+e.skewY)<1e-5&&(e.rotation=e.skewY,this.a<0&&0<=this.d&&(e.rotation+=e.rotation<=0?Math.PI:-Math.PI),e.skewX=0,e.skewY=0),e.scaleX=Math.sqrt(this.a*this.a+this.b*this.b),e.scaleY=Math.sqrt(this.c*this.c+this.d*this.d),e.x=this.tx,e.y=this.ty,e},setFromDecomposed:function(e){var n=e.x,t=e.y,i=e.scaleX,l=e.scaleY,s=e.rotation,r=e.skewX,h=e.skewY,a=e.pivotX,e=e.pivotY;null==e&&(e=0),null==a&&(a=0),null==h&&(h=0),null==r&&(r=0),null==s&&(s=0),null==l&&(l=1),null==i&&(i=1),null==t&&(t=0),null==n&&(n=0),this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this.changedDirty=!0,this.tx+=-a,this.ty+=-e,this.changedDirty=!0,0!=r&&(this.c=r*Math.PI/180),0!=h&&(this.b=h*Math.PI/180),0!=s&&(r=s*Math.PI/180,h=Math.cos(r),s=Math.sin(r),r=this.a*h-this.b*s,this.b=this.a*s+this.b*h,this.a=r,r=this.c*h-this.d*s,this.d=this.c*s+this.d*h,this.c=r,r=this.tx*h-this.ty*s,this.ty=this.tx*s+this.ty*h,this.tx=r,this.changedDirty=!0),this.tx+=a,this.ty+=e,this.changedDirty=!0,1==i&&1==l||(this.a*=i,this.b*=l,this.c*=i,this.d*=l,this.tx*=i,this.ty*=l,this.changedDirty=!0),this.tx+=n-a*i,this.ty+=t-e*l,this.changedDirty=!0},setFromValues:function(e,n,t,i,l,s,r,h,a){null==a&&(a=0),null==h&&(h=0),null==r&&(r=0),null==s&&(s=0),null==l&&(l=0),null==i&&(i=1),null==t&&(t=1),null==n&&(n=0),null==e&&(e=0),this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this.changedDirty=!0,this.tx+=-h,this.ty+=-a,this.changedDirty=!0,0!=s&&(this.c=s*Math.PI/180),0!=r&&(this.b=r*Math.PI/180),0!=l&&(s=l*Math.PI/180,r=Math.cos(s),l=Math.sin(s),s=this.a*r-this.b*l,this.b=this.a*l+this.b*r,this.a=s,s=this.c*r-this.d*l,this.d=this.c*l+this.d*r,this.c=s,s=this.tx*r-this.ty*l,this.ty=this.tx*l+this.ty*r,this.tx=s,this.changedDirty=!0),this.tx+=h,this.ty+=a,this.changedDirty=!0,1==t&&1==i||(this.a*=t,this.b*=i,this.c*=t,this.d*=i,this.tx*=t,this.ty*=i,this.changedDirty=!0),this.tx+=e-h*t,this.ty+=n-a*i,this.changedDirty=!0},setFromInterpolated:function(e,n,t){var i,s,r,h,a,o;0==t?(this.a=e.a,this.b=e.b,this.c=e.c,this.d=e.d,this.tx=e.tx,this.ty=e.ty):1==t?(this.a=n.a,this.b=n.b,this.c=n.c,this.d=n.d,this.tx=n.tx,this.ty=n.ty):((i=null==(i=l._decomposed1)?new k:i).pivotX=0,i.pivotY=0,i.skewX=-Math.atan2(-e.c,e.d),i.skewY=Math.atan2(e.b,e.a),Math.abs(i.skewX+i.skewY)<1e-5&&(i.rotation=i.skewY,e.a<0&&0<=e.d&&(i.rotation+=i.rotation<=0?Math.PI:-Math.PI),i.skewX=0,i.skewY=0),i.scaleX=Math.sqrt(e.a*e.a+e.b*e.b),i.scaleY=Math.sqrt(e.c*e.c+e.d*e.d),i.x=e.tx,i.y=e.ty,(i=null==(i=l._decomposed2)?new k:i).pivotX=0,i.pivotY=0,i.skewX=-Math.atan2(-n.c,n.d),i.skewY=Math.atan2(n.b,n.a),Math.abs(i.skewX+i.skewY)<1e-5&&(i.rotation=i.skewY,n.a<0&&0<=n.d&&(i.rotation+=i.rotation<=0?Math.PI:-Math.PI),i.skewX=0,i.skewY=0),i.scaleX=Math.sqrt(n.a*n.a+n.b*n.b),i.scaleY=Math.sqrt(n.c*n.c+n.d*n.d),i.x=n.tx,i.y=n.ty,l._decomposed1.pivotX+=(l._decomposed2.pivotX-l._decomposed1.pivotX)*t,l._decomposed1.pivotY+=(l._decomposed2.pivotY-l._decomposed1.pivotY)*t,l._decomposed1.rotation+=(l._decomposed2.rotation-l._decomposed1.rotation)*t,l._decomposed1.scaleX+=(l._decomposed2.scaleX-l._decomposed1.scaleX)*t,l._decomposed1.scaleY+=(l._decomposed2.scaleY-l._decomposed1.scaleY)*t,l._decomposed1.skewX+=(l._decomposed2.skewX-l._decomposed1.skewX)*t,l._decomposed1.skewY+=(l._decomposed2.skewY-l._decomposed1.skewY)*t,l._decomposed1.x+=(l._decomposed2.x-l._decomposed1.x)*t,l._decomposed1.y+=(l._decomposed2.y-l._decomposed1.y)*t,i=(e=l._decomposed1).x,n=e.y,t=e.scaleX,s=e.scaleY,a=e.rotation,o=e.skewX,h=e.skewY,r=e.pivotX,null==(e=e.pivotY)&&(e=0),null==r&&(r=0),null==h&&(h=0),null==o&&(o=0),null==a&&(a=0),null==s&&(s=1),null==t&&(t=1),null==n&&(n=0),null==i&&(i=0),this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this.changedDirty=!0,this.tx+=-r,this.ty+=-e,this.changedDirty=!0,0!=o&&(this.c=o*Math.PI/180),0!=h&&(this.b=h*Math.PI/180),0!=a&&(o=a*Math.PI/180,h=Math.cos(o),a=Math.sin(o),o=this.a*h-this.b*a,this.b=this.a*a+this.b*h,this.a=o,o=this.c*h-this.d*a,this.d=this.c*a+this.d*h,this.c=o,o=this.tx*h-this.ty*a,this.ty=this.tx*a+this.ty*h,this.tx=o,this.changedDirty=!0),this.tx+=r,this.ty+=e,this.changedDirty=!0,1==t&&1==s||(this.a*=t,this.b*=s,this.c*=t,this.d*=s,this.tx*=t,this.ty*=s,this.changedDirty=!0),this.tx+=i-r*t,this.ty+=n-e*s),this.changedDirty=!0},deltaTransformX:function(e,n){return e*this.a+n*this.c},deltaTransformY:function(e,n){return e*this.b+n*this.d},equals:function(e){return null!=e&&this.tx==e.tx&&this.ty==e.ty&&this.a==e.a&&this.b==e.b&&this.c==e.c&&this.d==e.d},identity:function(){this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this.changedDirty=!0},invert:function(){var e,n=this.a*this.d-this.b*this.c;0==n?(this.a=this.b=this.c=this.d=0,this.tx=-this.tx,this.ty=-this.ty):(e=this.d*(n=1/n),this.d=this.a*n,this.a=e,this.b*=-n,this.c*=-n,e=-this.a*this.tx-this.c*this.ty,this.ty=-this.b*this.tx-this.d*this.ty,this.tx=e),this.changedDirty=!0},rotate:function(e){var n=Math.cos(e),e=Math.sin(e),t=this.a*n-this.b*e,t=(this.b=this.a*e+this.b*n,this.a=t,this.c*n-this.d*e),t=(this.d=this.c*e+this.d*n,this.c=t,this.tx*n-this.ty*e);this.ty=this.tx*e+this.ty*n,this.tx=t,this.changedDirty=!0},scale:function(e,n){this.a*=e,this.b*=n,this.c*=e,this.d*=n,this.tx*=e,this.ty*=n,this.changedDirty=!0},translate:function(e,n){this.tx+=e,this.ty+=n,this.changedDirty=!0},skew:function(e,n){var t=l._tmp,t=(t.a=1,t.b=0,t.c=0,t.d=1,t.tx=0,t.ty=0,t.changedDirty=!0,Math.cos(n)),n=Math.sin(n),i=-Math.sin(e),e=Math.cos(e),t=(l._tmp.a=+t+-0*n,l._tmp.b=0*t+ +n,l._tmp.c=i+-0*e,l._tmp.d=0*i+ +e,l._tmp),n=this.a*t.a+this.b*t.c,i=(this.b=this.a*t.b+this.b*t.d,this.a=n,this.c*t.a+this.d*t.c),e=(this.d=this.c*t.b+this.d*t.d,this.c=i,this.tx*t.a+this.ty*t.c+t.tx);this.ty=this.tx*t.b+this.ty*t.d+t.ty,this.tx=e,this.changedDirty=!0},setRotation:function(e,n){null==n&&(n=1),this.a=Math.cos(e)*n,this.c=Math.sin(e)*n,this.b=-this.c,this.d=this.a,this.changedDirty=!0},setTo:function(e,n,t,i,l,s){this.a=e,this.b=n,this.c=t,this.d=i,this.tx=l,this.ty=s,this.changedDirty=!0},setToTransform:function(e){this.a=e.a,this.b=e.b,this.c=e.c,this.d=e.d,this.tx=e.tx,this.ty=e.ty,this.changedDirty=!0},toString:function(){var e=l._decomposed1;return(e=null==e?new k:e).pivotX=0,e.pivotY=0,e.skewX=-Math.atan2(-this.c,this.d),e.skewY=Math.atan2(this.b,this.a),Math.abs(e.skewX+e.skewY)<1e-5&&(e.rotation=e.skewY,this.a<0&&0<=this.d&&(e.rotation+=e.rotation<=0?Math.PI:-Math.PI),e.skewX=0,e.skewY=0),e.scaleX=Math.sqrt(this.a*this.a+this.b*this.b),e.scaleY=Math.sqrt(this.c*this.c+this.d*this.d),e.x=this.tx,e.y=this.ty,"(a="+this.a+", b="+this.b+", c="+this.c+", d="+this.d+", tx="+this.tx+", ty="+this.ty+" "+K.string(l._decomposed1)+")"},transformX:function(e,n){return e*this.a+n*this.c+this.tx},transformY:function(e,n){return e*this.b+n*this.d+this.ty},unbindEvents:function(){this.offChange()},__class__:l},(E["ceramic.Pool"]=m).__name__="ceramic.Pool",m.prototype={availableItems:null,get:function(){return 0<this.availableItems.length?this.availableItems.pop():null},recycle:function(e){this.availableItems.push(e)},clear:function(){0<this.availableItems.length&&(this.availableItems=[])},__class__:m},(E["ceramic.Point"]=n).__name__="ceramic.Point",n.get=function(e,t,i){null==i&&(i=0),null==t&&(t=0),null==e&&(e=0);var l=n.pool,l=0<l.availableItems.length?l.availableItems.pop():null;return null==l?l=new n(e,t,i):(l.x=e,l.y=t,l.z=i),l},n.prototype={x:null,y:null,z:null,toString:function(){return"Point("+this.x+", "+this.y+", "+this.z+")"},recycle:function(){this.x=0,this.y=0,this.z=0,n.pool.recycle(this)},__class__:n},(E["ceramic.Visual"]=o).__name__="ceramic.Visual",o.computeChildrenDepth=function(e){o._computeChildrenDepth0(e)},o._computeChildrenDepth0=function(e){var n=e.children;if(null!=n){for(var t=0,i=n.length;t<i;)(s=n[t++]).computedDepth=1e3*s.depth,o._computeChildrenDepth0(s);var l=e.depthRange;if(-1!=l){o._minDepth=9999999999,o._maxDepth=-9999999999;for(t=0,i=n.length;t<i;){var s=n[t++];o._computeMinMaxDepths0(s)}for(t=0,i=n.length;t<i;){s=n[t++];o._multiplyDepths0(s,e.computedDepth+Math.min(.01,1e3*l),Math.max(0,1e3*l-.01))}}}},o._computeChildrenDepth1=function(e){var n=e.children;if(null!=n){for(var t=0,i=n.length;t<i;)(s=n[t++]).computedDepth=1e3*s.depth,o._computeChildrenDepth0(s);var l=e.depthRange;if(-1!=l){o._minDepth=9999999999,o._maxDepth=-9999999999;for(t=0,i=n.length;t<i;){var s=n[t++];o._computeMinMaxDepths0(s)}for(t=0,i=n.length;t<i;){s=n[t++];o._multiplyDepths0(s,e.computedDepth+Math.min(.01,1e3*l),Math.max(0,1e3*l-.01))}}}},o._computeChildrenDepthApplyDepthRange=function(e,n){var t=e.depthRange;if(-1!=t){o._minDepth=9999999999,o._maxDepth=-9999999999;for(var i=0,l=n.length;i<l;){var s=n[i++];o._computeMinMaxDepths0(s)}for(i=0,l=n.length;i<l;){s=n[i++];o._multiplyDepths0(s,e.computedDepth+Math.min(.01,1e3*t),Math.max(0,1e3*t-.01))}}},o.computeMinMaxDepths=function(e){o._computeMinMaxDepths0(e)},o._computeMinMaxDepths0=function(e){var n=e.computedDepth,t=(n<o._minDepth&&(o._minDepth=n),o._maxDepth<n+1&&(o._maxDepth=n+1),e.children);if(null!=t)for(var i=0,l=t.length;i<l;){var s=t[i++];o._computeMinMaxDepths0(s)}},o._computeMinMaxDepths1=function(e){var n=e.computedDepth,t=(n<o._minDepth&&(o._minDepth=n),o._maxDepth<n+1&&(o._maxDepth=n+1),e.children);if(null!=t)for(var i=0,l=t.length;i<l;){var s=t[i++];o._computeMinMaxDepths0(s)}},o.multiplyDepths=function(e,n,t){o._multiplyDepths0(e,n,t)},o._multiplyDepths0=function(e,n,t){e.computedDepth=o._maxDepth==o._minDepth?n+.5*t:n+(e.computedDepth-o._minDepth)/(o._maxDepth-o._minDepth)*t;var i=e.children;if(null!=i)for(var l=0,s=i.length;l<s;){var r=i[l++];o._multiplyDepths0(r,n,t)}},o._multiplyDepths1=function(e,n,t){e.computedDepth=o._maxDepth==o._minDepth?n+.5*t:n+(e.computedDepth-o._minDepth)/(o._maxDepth-o._minDepth)*t;var i=e.children;if(null!=i)for(var l=0,s=i.length;l<s;){var r=i[l++];o._multiplyDepths0(r,n,t)}},o.__super__=j,o.prototype=$extend(j.prototype,{__cbOnPointerDown:null,__cbOncePointerDown:null,__cbOnOwnerUnbindPointerDown:null,__cbOnceOwnerUnbindPointerDown:null,emitPointerDown:function(e){var n=0;if(null!=this.__cbOnPointerDown&&(n+=this.__cbOnPointerDown.length),null!=this.__cbOncePointerDown&&(n+=this.__cbOncePointerDown.length),0<n){var t=C.pool(n),i=t.get(),l=0;if(null!=this.__cbOnPointerDown)for(var s=0,r=this.__cbOnPointerDown.length;s<r;){var h=s++;!0?(i.vector[l]=this.__cbOnPointerDown[h],++l):--n}if(null!=this.__cbOncePointerDown){for(var a=null,o=null,s=0,r=this.__cbOncePointerDown.length;s<r;){var c,h=s++;!0?(i.vector[l]=this.__cbOncePointerDown[h],this.__cbOncePointerDown[h]=null,c=this.__cbOnceOwnerUnbindPointerDown[h],(this.__cbOnceOwnerUnbindPointerDown[h]=null)!=c&&c(),++l):(--n,null==a&&(a=[],o=[],0),a.push(this.__cbOnceOwnerUnbindPointerDown[h]),o.push(this.__cbOncePointerDown[h]))}this.__cbOnceOwnerUnbindPointerDown=a,this.__cbOncePointerDown=o}for(s=0,r=n;s<r;){l=s++;(0,i.vector[l])(e)}t.release(i)}},onPointerDown:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event pointerDown because owner is destroyed!");var l=function(e){null!=t&&(i.offPointerDown(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindPointerDown&&(this.__cbOnOwnerUnbindPointerDown=[]),this.__cbOnOwnerUnbindPointerDown.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindPointerDown&&(this.__cbOnOwnerUnbindPointerDown=[]),this.__cbOnOwnerUnbindPointerDown.push(null);null==this.__cbOnPointerDown&&(this.__cbOnPointerDown=[]),this.__cbOnPointerDown.push(t)},oncePointerDown:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event pointerDown because owner is destroyed!");var l=function(e){null!=t&&(i.offPointerDown(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindPointerDown&&(this.__cbOnceOwnerUnbindPointerDown=[]),this.__cbOnceOwnerUnbindPointerDown.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindPointerDown&&(this.__cbOnceOwnerUnbindPointerDown=[]),this.__cbOnceOwnerUnbindPointerDown.push(null);null==this.__cbOncePointerDown&&(this.__cbOncePointerDown=[]),this.__cbOncePointerDown.push(t)},offPointerDown:function(e){if(null!=e){var n;null!=this.__cbOnPointerDown&&-1!=(n=this.__cbOnPointerDown.indexOf(e))&&(this.__cbOnPointerDown.splice(n,1),null!=(s=this.__cbOnOwnerUnbindPointerDown[n])&&s(),this.__cbOnOwnerUnbindPointerDown.splice(n,1)),null!=this.__cbOncePointerDown&&-1!=(n=this.__cbOncePointerDown.indexOf(e))&&(this.__cbOncePointerDown.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindPointerDown[n])&&s(),this.__cbOnceOwnerUnbindPointerDown.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindPointerDown){for(var t=0,i=this.__cbOnOwnerUnbindPointerDown.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindPointerDown[l])&&s()}this.__cbOnOwnerUnbindPointerDown=null}if(null!=this.__cbOnceOwnerUnbindPointerDown){for(t=0,i=this.__cbOnceOwnerUnbindPointerDown.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindPointerDown[l])&&s()}this.__cbOnceOwnerUnbindPointerDown=null}this.__cbOnPointerDown=null,this.__cbOncePointerDown=null}},listensPointerDown:function(){return null!=this.__cbOnPointerDown&&0<this.__cbOnPointerDown.length||null!=this.__cbOncePointerDown&&0<this.__cbOncePointerDown.length},__cbOnPointerUp:null,__cbOncePointerUp:null,__cbOnOwnerUnbindPointerUp:null,__cbOnceOwnerUnbindPointerUp:null,emitPointerUp:function(e){var n=0;if(null!=this.__cbOnPointerUp&&(n+=this.__cbOnPointerUp.length),null!=this.__cbOncePointerUp&&(n+=this.__cbOncePointerUp.length),0<n){var t=C.pool(n),i=t.get(),l=0;if(null!=this.__cbOnPointerUp)for(var s=0,r=this.__cbOnPointerUp.length;s<r;){var h=s++;!0?(i.vector[l]=this.__cbOnPointerUp[h],++l):--n}if(null!=this.__cbOncePointerUp){for(var a=null,o=null,s=0,r=this.__cbOncePointerUp.length;s<r;){var c,h=s++;!0?(i.vector[l]=this.__cbOncePointerUp[h],this.__cbOncePointerUp[h]=null,c=this.__cbOnceOwnerUnbindPointerUp[h],(this.__cbOnceOwnerUnbindPointerUp[h]=null)!=c&&c(),++l):(--n,null==a&&(a=[],o=[],0),a.push(this.__cbOnceOwnerUnbindPointerUp[h]),o.push(this.__cbOncePointerUp[h]))}this.__cbOnceOwnerUnbindPointerUp=a,this.__cbOncePointerUp=o}for(s=0,r=n;s<r;){l=s++;(0,i.vector[l])(e)}t.release(i)}},onPointerUp:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event pointerUp because owner is destroyed!");var l=function(e){null!=t&&(i.offPointerUp(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindPointerUp&&(this.__cbOnOwnerUnbindPointerUp=[]),this.__cbOnOwnerUnbindPointerUp.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindPointerUp&&(this.__cbOnOwnerUnbindPointerUp=[]),this.__cbOnOwnerUnbindPointerUp.push(null);null==this.__cbOnPointerUp&&(this.__cbOnPointerUp=[]),this.__cbOnPointerUp.push(t)},oncePointerUp:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event pointerUp because owner is destroyed!");var l=function(e){null!=t&&(i.offPointerUp(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindPointerUp&&(this.__cbOnceOwnerUnbindPointerUp=[]),this.__cbOnceOwnerUnbindPointerUp.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindPointerUp&&(this.__cbOnceOwnerUnbindPointerUp=[]),this.__cbOnceOwnerUnbindPointerUp.push(null);null==this.__cbOncePointerUp&&(this.__cbOncePointerUp=[]),this.__cbOncePointerUp.push(t)},offPointerUp:function(e){if(null!=e){var n;null!=this.__cbOnPointerUp&&-1!=(n=this.__cbOnPointerUp.indexOf(e))&&(this.__cbOnPointerUp.splice(n,1),null!=(s=this.__cbOnOwnerUnbindPointerUp[n])&&s(),this.__cbOnOwnerUnbindPointerUp.splice(n,1)),null!=this.__cbOncePointerUp&&-1!=(n=this.__cbOncePointerUp.indexOf(e))&&(this.__cbOncePointerUp.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindPointerUp[n])&&s(),this.__cbOnceOwnerUnbindPointerUp.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindPointerUp){for(var t=0,i=this.__cbOnOwnerUnbindPointerUp.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindPointerUp[l])&&s()}this.__cbOnOwnerUnbindPointerUp=null}if(null!=this.__cbOnceOwnerUnbindPointerUp){for(t=0,i=this.__cbOnceOwnerUnbindPointerUp.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindPointerUp[l])&&s()}this.__cbOnceOwnerUnbindPointerUp=null}this.__cbOnPointerUp=null,this.__cbOncePointerUp=null}},listensPointerUp:function(){return null!=this.__cbOnPointerUp&&0<this.__cbOnPointerUp.length||null!=this.__cbOncePointerUp&&0<this.__cbOncePointerUp.length},__cbOnPointerOver:null,__cbOncePointerOver:null,__cbOnOwnerUnbindPointerOver:null,__cbOnceOwnerUnbindPointerOver:null,emitPointerOver:function(e){var n=0;if(null!=this.__cbOnPointerOver&&(n+=this.__cbOnPointerOver.length),null!=this.__cbOncePointerOver&&(n+=this.__cbOncePointerOver.length),0<n){var t=C.pool(n),i=t.get(),l=0;if(null!=this.__cbOnPointerOver)for(var s=0,r=this.__cbOnPointerOver.length;s<r;){var h=s++;!0?(i.vector[l]=this.__cbOnPointerOver[h],++l):--n}if(null!=this.__cbOncePointerOver){for(var a=null,o=null,s=0,r=this.__cbOncePointerOver.length;s<r;){var c,h=s++;!0?(i.vector[l]=this.__cbOncePointerOver[h],this.__cbOncePointerOver[h]=null,c=this.__cbOnceOwnerUnbindPointerOver[h],(this.__cbOnceOwnerUnbindPointerOver[h]=null)!=c&&c(),++l):(--n,null==a&&(a=[],o=[],0),a.push(this.__cbOnceOwnerUnbindPointerOver[h]),o.push(this.__cbOncePointerOver[h]))}this.__cbOnceOwnerUnbindPointerOver=a,this.__cbOncePointerOver=o}for(s=0,r=n;s<r;){l=s++;(0,i.vector[l])(e)}t.release(i)}},onPointerOver:function(n,t){var i=this;if(null==this.__cbOnPointerOver&&null==this.__cbOncePointerOver&&(ae.app.screen.visualsListenPointerOver=!0),null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event pointerOver because owner is destroyed!");var l=function(e){null!=t&&(i.offPointerOver(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindPointerOver&&(this.__cbOnOwnerUnbindPointerOver=[]),this.__cbOnOwnerUnbindPointerOver.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindPointerOver&&(this.__cbOnOwnerUnbindPointerOver=[]),this.__cbOnOwnerUnbindPointerOver.push(null);null==this.__cbOnPointerOver&&(this.__cbOnPointerOver=[]),this.__cbOnPointerOver.push(t)},oncePointerOver:function(n,t){var i=this;if(null==this.__cbOnPointerOver&&null==this.__cbOncePointerOver&&(ae.app.screen.visualsListenPointerOver=!0),null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event pointerOver because owner is destroyed!");var l=function(e){null!=t&&(i.offPointerOver(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindPointerOver&&(this.__cbOnceOwnerUnbindPointerOver=[]),this.__cbOnceOwnerUnbindPointerOver.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindPointerOver&&(this.__cbOnceOwnerUnbindPointerOver=[]),this.__cbOnceOwnerUnbindPointerOver.push(null);null==this.__cbOncePointerOver&&(this.__cbOncePointerOver=[]),this.__cbOncePointerOver.push(t)},offPointerOver:function(e){if(null!=e){var n;null!=this.__cbOnPointerOver&&-1!=(n=this.__cbOnPointerOver.indexOf(e))&&(this.__cbOnPointerOver.splice(n,1),null!=(s=this.__cbOnOwnerUnbindPointerOver[n])&&s(),this.__cbOnOwnerUnbindPointerOver.splice(n,1)),null!=this.__cbOncePointerOver&&-1!=(n=this.__cbOncePointerOver.indexOf(e))&&(this.__cbOncePointerOver.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindPointerOver[n])&&s(),this.__cbOnceOwnerUnbindPointerOver.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindPointerOver){for(var t=0,i=this.__cbOnOwnerUnbindPointerOver.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindPointerOver[l])&&s()}this.__cbOnOwnerUnbindPointerOver=null}if(null!=this.__cbOnceOwnerUnbindPointerOver){for(t=0,i=this.__cbOnceOwnerUnbindPointerOver.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindPointerOver[l])&&s()}this.__cbOnceOwnerUnbindPointerOver=null}this.__cbOnPointerOver=null,this.__cbOncePointerOver=null}},listensPointerOver:function(){return null!=this.__cbOnPointerOver&&0<this.__cbOnPointerOver.length||null!=this.__cbOncePointerOver&&0<this.__cbOncePointerOver.length},__cbOnPointerOut:null,__cbOncePointerOut:null,__cbOnOwnerUnbindPointerOut:null,__cbOnceOwnerUnbindPointerOut:null,emitPointerOut:function(e){var n=0;if(null!=this.__cbOnPointerOut&&(n+=this.__cbOnPointerOut.length),null!=this.__cbOncePointerOut&&(n+=this.__cbOncePointerOut.length),0<n){var t=C.pool(n),i=t.get(),l=0;if(null!=this.__cbOnPointerOut)for(var s=0,r=this.__cbOnPointerOut.length;s<r;){var h=s++;!0?(i.vector[l]=this.__cbOnPointerOut[h],++l):--n}if(null!=this.__cbOncePointerOut){for(var a=null,o=null,s=0,r=this.__cbOncePointerOut.length;s<r;){var c,h=s++;!0?(i.vector[l]=this.__cbOncePointerOut[h],this.__cbOncePointerOut[h]=null,c=this.__cbOnceOwnerUnbindPointerOut[h],(this.__cbOnceOwnerUnbindPointerOut[h]=null)!=c&&c(),++l):(--n,null==a&&(a=[],o=[],0),a.push(this.__cbOnceOwnerUnbindPointerOut[h]),o.push(this.__cbOncePointerOut[h]))}this.__cbOnceOwnerUnbindPointerOut=a,this.__cbOncePointerOut=o}for(s=0,r=n;s<r;){l=s++;(0,i.vector[l])(e)}t.release(i)}},onPointerOut:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event pointerOut because owner is destroyed!");var l=function(e){null!=t&&(i.offPointerOut(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindPointerOut&&(this.__cbOnOwnerUnbindPointerOut=[]),this.__cbOnOwnerUnbindPointerOut.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindPointerOut&&(this.__cbOnOwnerUnbindPointerOut=[]),this.__cbOnOwnerUnbindPointerOut.push(null);null==this.__cbOnPointerOut&&(this.__cbOnPointerOut=[]),this.__cbOnPointerOut.push(t)},oncePointerOut:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event pointerOut because owner is destroyed!");var l=function(e){null!=t&&(i.offPointerOut(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindPointerOut&&(this.__cbOnceOwnerUnbindPointerOut=[]),this.__cbOnceOwnerUnbindPointerOut.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindPointerOut&&(this.__cbOnceOwnerUnbindPointerOut=[]),this.__cbOnceOwnerUnbindPointerOut.push(null);null==this.__cbOncePointerOut&&(this.__cbOncePointerOut=[]),this.__cbOncePointerOut.push(t)},offPointerOut:function(e){if(null!=e){var n;null!=this.__cbOnPointerOut&&-1!=(n=this.__cbOnPointerOut.indexOf(e))&&(this.__cbOnPointerOut.splice(n,1),null!=(s=this.__cbOnOwnerUnbindPointerOut[n])&&s(),this.__cbOnOwnerUnbindPointerOut.splice(n,1)),null!=this.__cbOncePointerOut&&-1!=(n=this.__cbOncePointerOut.indexOf(e))&&(this.__cbOncePointerOut.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindPointerOut[n])&&s(),this.__cbOnceOwnerUnbindPointerOut.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindPointerOut){for(var t=0,i=this.__cbOnOwnerUnbindPointerOut.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindPointerOut[l])&&s()}this.__cbOnOwnerUnbindPointerOut=null}if(null!=this.__cbOnceOwnerUnbindPointerOut){for(t=0,i=this.__cbOnceOwnerUnbindPointerOut.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindPointerOut[l])&&s()}this.__cbOnceOwnerUnbindPointerOut=null}this.__cbOnPointerOut=null,this.__cbOncePointerOut=null}},listensPointerOut:function(){return null!=this.__cbOnPointerOut&&0<this.__cbOnPointerOut.length||null!=this.__cbOncePointerOut&&0<this.__cbOncePointerOut.length},__cbOnFocus:null,__cbOnceFocus:null,__cbOnOwnerUnbindFocus:null,__cbOnceOwnerUnbindFocus:null,emitFocus:function(){var e=0;if(null!=this.__cbOnFocus&&(e+=this.__cbOnFocus.length),null!=this.__cbOnceFocus&&(e+=this.__cbOnceFocus.length),0<e){var n=C.pool(e),t=n.get(),i=0;if(null!=this.__cbOnFocus)for(var l=0,s=this.__cbOnFocus.length;l<s;){var r=l++;!0?(t.vector[i]=this.__cbOnFocus[r],++i):--e}if(null!=this.__cbOnceFocus){for(var h=null,a=null,l=0,s=this.__cbOnceFocus.length;l<s;){var o,r=l++;!0?(t.vector[i]=this.__cbOnceFocus[r],this.__cbOnceFocus[r]=null,o=this.__cbOnceOwnerUnbindFocus[r],(this.__cbOnceOwnerUnbindFocus[r]=null)!=o&&o(),++i):(--e,null==h&&(h=[],a=[],0),h.push(this.__cbOnceOwnerUnbindFocus[r]),a.push(this.__cbOnceFocus[r]))}this.__cbOnceOwnerUnbindFocus=h,this.__cbOnceFocus=a}for(l=0,s=e;l<s;){i=l++;(0,t.vector[i])()}n.release(t)}},onFocus:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event focus because owner is destroyed!");var l=function(e){null!=t&&(i.offFocus(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindFocus&&(this.__cbOnOwnerUnbindFocus=[]),this.__cbOnOwnerUnbindFocus.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindFocus&&(this.__cbOnOwnerUnbindFocus=[]),this.__cbOnOwnerUnbindFocus.push(null);null==this.__cbOnFocus&&(this.__cbOnFocus=[]),this.__cbOnFocus.push(t)},onceFocus:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event focus because owner is destroyed!");var l=function(e){null!=t&&(i.offFocus(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindFocus&&(this.__cbOnceOwnerUnbindFocus=[]),this.__cbOnceOwnerUnbindFocus.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindFocus&&(this.__cbOnceOwnerUnbindFocus=[]),this.__cbOnceOwnerUnbindFocus.push(null);null==this.__cbOnceFocus&&(this.__cbOnceFocus=[]),this.__cbOnceFocus.push(t)},offFocus:function(e){if(null!=e){var n;null!=this.__cbOnFocus&&-1!=(n=this.__cbOnFocus.indexOf(e))&&(this.__cbOnFocus.splice(n,1),null!=(s=this.__cbOnOwnerUnbindFocus[n])&&s(),this.__cbOnOwnerUnbindFocus.splice(n,1)),null!=this.__cbOnceFocus&&-1!=(n=this.__cbOnceFocus.indexOf(e))&&(this.__cbOnceFocus.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindFocus[n])&&s(),this.__cbOnceOwnerUnbindFocus.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindFocus){for(var t=0,i=this.__cbOnOwnerUnbindFocus.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindFocus[l])&&s()}this.__cbOnOwnerUnbindFocus=null}if(null!=this.__cbOnceOwnerUnbindFocus){for(t=0,i=this.__cbOnceOwnerUnbindFocus.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindFocus[l])&&s()}this.__cbOnceOwnerUnbindFocus=null}this.__cbOnFocus=null,this.__cbOnceFocus=null}},listensFocus:function(){return null!=this.__cbOnFocus&&0<this.__cbOnFocus.length||null!=this.__cbOnceFocus&&0<this.__cbOnceFocus.length},__cbOnBlur:null,__cbOnceBlur:null,__cbOnOwnerUnbindBlur:null,__cbOnceOwnerUnbindBlur:null,emitBlur:function(){var e=0;if(null!=this.__cbOnBlur&&(e+=this.__cbOnBlur.length),null!=this.__cbOnceBlur&&(e+=this.__cbOnceBlur.length),0<e){var n=C.pool(e),t=n.get(),i=0;if(null!=this.__cbOnBlur)for(var l=0,s=this.__cbOnBlur.length;l<s;){var r=l++;!0?(t.vector[i]=this.__cbOnBlur[r],++i):--e}if(null!=this.__cbOnceBlur){for(var h=null,a=null,l=0,s=this.__cbOnceBlur.length;l<s;){var o,r=l++;!0?(t.vector[i]=this.__cbOnceBlur[r],this.__cbOnceBlur[r]=null,o=this.__cbOnceOwnerUnbindBlur[r],(this.__cbOnceOwnerUnbindBlur[r]=null)!=o&&o(),++i):(--e,null==h&&(h=[],a=[],0),h.push(this.__cbOnceOwnerUnbindBlur[r]),a.push(this.__cbOnceBlur[r]))}this.__cbOnceOwnerUnbindBlur=h,this.__cbOnceBlur=a}for(l=0,s=e;l<s;){i=l++;(0,t.vector[i])()}n.release(t)}},onBlur:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event blur because owner is destroyed!");var l=function(e){null!=t&&(i.offBlur(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindBlur&&(this.__cbOnOwnerUnbindBlur=[]),this.__cbOnOwnerUnbindBlur.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindBlur&&(this.__cbOnOwnerUnbindBlur=[]),this.__cbOnOwnerUnbindBlur.push(null);null==this.__cbOnBlur&&(this.__cbOnBlur=[]),this.__cbOnBlur.push(t)},onceBlur:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event blur because owner is destroyed!");var l=function(e){null!=t&&(i.offBlur(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindBlur&&(this.__cbOnceOwnerUnbindBlur=[]),this.__cbOnceOwnerUnbindBlur.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindBlur&&(this.__cbOnceOwnerUnbindBlur=[]),this.__cbOnceOwnerUnbindBlur.push(null);null==this.__cbOnceBlur&&(this.__cbOnceBlur=[]),this.__cbOnceBlur.push(t)},offBlur:function(e){if(null!=e){var n;null!=this.__cbOnBlur&&-1!=(n=this.__cbOnBlur.indexOf(e))&&(this.__cbOnBlur.splice(n,1),null!=(s=this.__cbOnOwnerUnbindBlur[n])&&s(),this.__cbOnOwnerUnbindBlur.splice(n,1)),null!=this.__cbOnceBlur&&-1!=(n=this.__cbOnceBlur.indexOf(e))&&(this.__cbOnceBlur.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindBlur[n])&&s(),this.__cbOnceOwnerUnbindBlur.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindBlur){for(var t=0,i=this.__cbOnOwnerUnbindBlur.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindBlur[l])&&s()}this.__cbOnOwnerUnbindBlur=null}if(null!=this.__cbOnceOwnerUnbindBlur){for(t=0,i=this.__cbOnceOwnerUnbindBlur.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindBlur[l])&&s()}this.__cbOnceOwnerUnbindBlur=null}this.__cbOnBlur=null,this.__cbOnceBlur=null}},listensBlur:function(){return null!=this.__cbOnBlur&&0<this.__cbOnBlur.length||null!=this.__cbOnceBlur&&0<this.__cbOnceBlur.length},willListenPointerOver:function(){ae.app.screen.visualsListenPointerOver=!0},asQuad:null,asMesh:null,multiTouch:null,isPointerDown:null,_numPointerDown:null,get_isPointerDown:function(){return 0<this._numPointerDown},isPointerOver:null,_numPointerOver:null,get_isPointerOver:function(){return 0<this._numPointerOver},clip:null,set_clip:function(e){if(this.clip!=e&&(this.clip=e,this.clipDirty=!0,null!=this.children))for(var n=0,t=this.children.length;n<t;){var i=n++,l=this.children[i];if(l.clipDirty=!0,null!=l.children)for(var s=0,r=l.children.length;s<r;){var h=s++;l.children[h].set_clipDirty(!0)}}return e},inheritAlpha:null,set_inheritAlpha:function(e){if(this.inheritAlpha!=e&&(this.inheritAlpha=e,this.visibilityDirty=!0,null!=this.children))for(var n=0,t=this.children.length;n<t;){var i=n++,l=this.children[i];if(l.visibilityDirty=!0,null!=l.children)for(var s=0,r=l.children.length;s<r;){var h=s++;l.children[h].set_visibilityDirty(!0)}}return e},stop:function(){},translatesOnly:null,translatesOnlyDirty:null,contentDirty:null,set_contentDirty:function(e){return(this.contentDirty=e)&&(ae.app.visualsContentDirty=!0),e},matrixDirty:null,set_matrixDirty:function(e){if((this.matrixDirty=e)&&null!=this.children)for(var n=0,t=this.children.length;n<t;){var i=n++;this.children[i].set_matrixDirty(!0)}return e},renderTargetDirty:null,set_renderTargetDirty:function(e){if(this.renderTargetDirty=e){if(this.clipDirty=!0,null!=this.children)for(var n=0,t=this.children.length;n<t;){var i=n++;if((h=this.children[i]).clipDirty=!0,null!=h.children)for(var l=0,s=h.children.length;l<s;){var r=l++;h.children[r].set_clipDirty(!0)}}if(null!=this.children)for(n=0,t=this.children.length;n<t;){var h,i=n++;(h=this.children[i]).set_renderTargetDirty(!0)}}return e},visibilityDirty:null,set_visibilityDirty:function(e){if((this.visibilityDirty=e)&&null!=this.children)for(var n=0,t=this.children.length;n<t;){var i=n++;this.children[i].set_visibilityDirty(!0)}return e},touchableDirty:null,set_touchableDirty:function(e){if((this.touchableDirty=e)&&null!=this.children)for(var n=0,t=this.children.length;n<t;){var i=n++;this.children[i].set_touchableDirty(!0)}return e},clipDirty:null,set_clipDirty:function(e){if((this.clipDirty=e)&&null!=this.children)for(var n=0,t=this.children.length;n<t;){var i=n++;this.children[i].set_clipDirty(!0)}return e},renderTarget:null,set_renderTarget:function(e){if(this.renderTarget!=e){if(this.renderTarget=e,this.matrixDirty=!0,null!=this.children)for(var n=0,t=this.children.length;n<t;){var i=n++;if((h=this.children[i]).matrixDirty=!0,null!=h.children)for(var l=0,s=h.children.length;l<s;){var r=l++;(a=h.children[r]).set_matrixDirty(!0)}}if(this.renderTargetDirty=!0,this.clipDirty=!0,null!=this.children)for(n=0,t=this.children.length;n<t;){i=n++;if((h=this.children[i]).clipDirty=!0,null!=h.children)for(l=0,s=h.children.length;l<s;){r=l++;(a=h.children[r]).set_clipDirty(!0)}}if(null!=this.children)for(n=0,t=this.children.length;n<t;){var h,i=n++;if((h=this.children[i]).renderTargetDirty=!0,h.clipDirty=!0,null!=h.children)for(l=0,s=h.children.length;l<s;){var a,r=l++;if((a=h.children[r]).clipDirty=!0,null!=a.children)for(var o=0,c=a.children.length;o<c;){var u=o++,_=a.children[u];if(_.clipDirty=!0,null!=_.children)for(var d=0,b=_.children.length;d<b;){var g=d++;_.children[g].set_clipDirty(!0)}}}if(null!=h.children)for(var O=0,f=h.children.length;O<f;){var p=O++;h.children[p].set_renderTargetDirty(!0)}}}return e},blending:null,set_blending:function(e){return this.blending=e},visible:null,set_visible:function(e){if(this.visible!=e&&(this.visible=e,this.visibilityDirty=!0,null!=this.children))for(var n=0,t=this.children.length;n<t;){var i=n++,l=this.children[i];if(l.visibilityDirty=!0,null!=l.children)for(var s=0,r=l.children.length;s<r;){var h=s++;l.children[h].set_visibilityDirty(!0)}}return e},touchable:null,set_touchable:function(e){if(this.touchable!=e&&(this.touchable=e,this.touchableDirty=!0,null!=this.children))for(var n=0,t=this.children.length;n<t;){var i=n++,l=this.children[i];if(l.touchableDirty=!0,null!=l.children)for(var s=0,r=l.children.length;s<r;){var h=s++;l.children[h].set_touchableDirty(!0)}}return e},depth:null,set_depth:function(e){return this.depth!=e&&(this.depth=e,ae.app.hierarchyDirty=!0),e},depthRange:null,set_depthRange:function(e){return this.depthRange!=e&&(this.depthRange=e,ae.app.hierarchyDirty=!0),e},x:null,set_x:function(e){if(this.x!=e&&(this.x=e,this.matrixDirty=!0,null!=this.children))for(var n=0,t=this.children.length;n<t;){var i=n++,l=this.children[i];if(l.matrixDirty=!0,null!=l.children)for(var s=0,r=l.children.length;s<r;){var h=s++;l.children[h].set_matrixDirty(!0)}}return e},y:null,set_y:function(e){if(this.y!=e&&(this.y=e,this.matrixDirty=!0,null!=this.children))for(var n=0,t=this.children.length;n<t;){var i=n++,l=this.children[i];if(l.matrixDirty=!0,null!=l.children)for(var s=0,r=l.children.length;s<r;){var h=s++;l.children[h].set_matrixDirty(!0)}}return e},scaleX:null,set_scaleX:function(e){if(this.scaleX!=e){if(this.scaleX=e,this.matrixDirty=!0,null!=this.children)for(var n=0,t=this.children.length;n<t;){var i=n++,l=this.children[i];if(l.matrixDirty=!0,null!=l.children)for(var s=0,r=l.children.length;s<r;){var h=s++;l.children[h].set_matrixDirty(!0)}}this.translatesOnlyDirty=!0}return e},scaleY:null,set_scaleY:function(e){if(this.scaleY!=e){if(this.scaleY=e,this.matrixDirty=!0,null!=this.children)for(var n=0,t=this.children.length;n<t;){var i=n++,l=this.children[i];if(l.matrixDirty=!0,null!=l.children)for(var s=0,r=l.children.length;s<r;){var h=s++;l.children[h].set_matrixDirty(!0)}}this.translatesOnlyDirty=!0}return e},skewX:null,set_skewX:function(e){if(this.skewX!=e){if(this.skewX=e,this.matrixDirty=!0,null!=this.children)for(var n=0,t=this.children.length;n<t;){var i=n++,l=this.children[i];if(l.matrixDirty=!0,null!=l.children)for(var s=0,r=l.children.length;s<r;){var h=s++;l.children[h].set_matrixDirty(!0)}}this.translatesOnlyDirty=!0}return e},skewY:null,set_skewY:function(e){if(this.skewY!=e){if(this.skewY=e,this.matrixDirty=!0,null!=this.children)for(var n=0,t=this.children.length;n<t;){var i=n++,l=this.children[i];if(l.matrixDirty=!0,null!=l.children)for(var s=0,r=l.children.length;s<r;){var h=s++;l.children[h].set_matrixDirty(!0)}}this.translatesOnlyDirty=!0}return e},anchorX:null,set_anchorX:function(e){if(this.anchorX!=e&&(this.anchorX=e,this.matrixDirty=!0,null!=this.children))for(var n=0,t=this.children.length;n<t;){var i=n++,l=this.children[i];if(l.matrixDirty=!0,null!=l.children)for(var s=0,r=l.children.length;s<r;){var h=s++;l.children[h].set_matrixDirty(!0)}}return e},anchorY:null,set_anchorY:function(e){if(this.anchorY!=e&&(this.anchorY=e,this.matrixDirty=!0,null!=this.children))for(var n=0,t=this.children.length;n<t;){var i=n++,l=this.children[i];if(l.matrixDirty=!0,null!=l.children)for(var s=0,r=l.children.length;s<r;){var h=s++;l.children[h].set_matrixDirty(!0)}}return e},_width:null,get_width:function(){return this._width},set_width:function(e){if(this._width!=e&&(this._width=e,0!=this.anchorX)&&(this.matrixDirty=!0,null!=this.children))for(var n=0,t=this.children.length;n<t;){var i=n++,l=this.children[i];if(l.matrixDirty=!0,null!=l.children)for(var s=0,r=l.children.length;s<r;){var h=s++;l.children[h].set_matrixDirty(!0)}}return e},_height:null,get_height:function(){return this._height},set_height:function(e){if(this._height!=e&&(this._height=e,0!=this.anchorY)&&(this.matrixDirty=!0,null!=this.children))for(var n=0,t=this.children.length;n<t;){var i=n++,l=this.children[i];if(l.matrixDirty=!0,null!=l.children)for(var s=0,r=l.children.length;s<r;){var h=s++;l.children[h].set_matrixDirty(!0)}}return e},roundTranslation:null,set_roundTranslation:function(e){if(this.roundTranslation!=e&&(this.roundTranslation=e,this.matrixDirty=!0,null!=this.children))for(var n=0,t=this.children.length;n<t;){var i=n++,l=this.children[i];if(l.matrixDirty=!0,null!=l.children)for(var s=0,r=l.children.length;s<r;){var h=s++;l.children[h].set_matrixDirty(!0)}}return e},rotation:null,set_rotation:function(e){if(this.rotation!=e){if(this.rotation=e,this.matrixDirty=!0,null!=this.children)for(var n=0,t=this.children.length;n<t;){var i=n++,l=this.children[i];if(l.matrixDirty=!0,null!=l.children)for(var s=0,r=l.children.length;s<r;){var h=s++;l.children[h].set_matrixDirty(!0)}}this.translatesOnlyDirty=!0}return e},alpha:null,set_alpha:function(e){if(this.alpha!=e&&(this.alpha=e,this.visibilityDirty=!0,null!=this.children))for(var n=0,t=this.children.length;n<t;){var i=n++,l=this.children[i];if(l.visibilityDirty=!0,null!=l.children)for(var s=0,r=l.children.length;s<r;){var h=s++;l.children[h].set_visibilityDirty(!0)}}return e},get_translateX:function(){return null!=this.transform?this.transform.tx:0},set_translateX:function(e){return 0==e?null!=this.transform&&0!=this.transform.tx&&(this.transform.tx=0,this.transform.changedDirty=!0):(null==this.transform&&this.set_transform(new l),this.transform.tx!=e&&(this.transform.tx=e,this.transform.changedDirty=!0)),e},get_translateY:function(){return null!=this.transform?this.transform.ty:0},set_translateY:function(e){return 0==e?null!=this.transform&&0!=this.transform.ty&&(this.transform.ty=0,this.transform.changedDirty=!0):(null==this.transform&&this.set_transform(new l),this.transform.ty!=e&&(this.transform.ty=e,this.transform.changedDirty=!0)),e},transform:null,set_transform:function(e){if(this.transform!=e&&(null!=this.transform&&this.transform.offChange($bind(this,this.transformDidChange)),this.transform=e,null!=this.transform&&this.transform.onChange(this,$bind(this,this.transformDidChange)),this.matrixDirty=!0,null!=this.children))for(var n=0,t=this.children.length;n<t;){var i=n++,l=this.children[i];if(l.matrixDirty=!0,null!=l.children)for(var s=0,r=l.children.length;s<r;){var h=s++;l.children[h].set_matrixDirty(!0)}}return e},shader:null,set_shader:function(e){return this.shader=e},flag:function(e,n){e+=16;return null!=n?(this.flags=n?this.flags|1<<e:this.flags&~(1<<e),n):(this.flags&(n=1<<e))==n},internalFlag:function(e,n){return null!=n?(this.flags=n?this.flags|1<<e:this.flags&~(1<<e),n):(this.flags&(n=1<<e))==n},flags:null,get_active:function(){return 1!=(1&this.flags)},set_active:function(e){return e!=(1!=(1&this.flags))&&(this.flags=e?-2&this.flags:1|this.flags,e?(this.set_visible(2==(2&this.flags)),this.set_touchable(4==(4&this.flags))):(this.flags=this.visible?2|this.flags:-3&this.flags,this.flags=this.touchable?4|this.flags:-5&this.flags,this.set_visible(!1),this.set_touchable(!1))),e},matA:null,matB:null,matC:null,matD:null,matTX:null,matTY:null,computedVisible:null,computedAlpha:null,computedDepth:null,computedRenderTarget:null,computedTouchable:null,computedClip:null,children:null,parent:null,size:function(e,n){this.set_width(e),this.set_height(n)},anchor:function(e,n){this.set_anchorX(e),this.set_anchorY(n)},pos:function(e,n){this.set_x(e),this.set_y(n)},_scale:function(e,n){this.set_scaleX(e),this.set_scaleY(n)},skew:function(e,n){this.set_skewX(e),this.set_skewY(n)},translate:function(e,n){0==e?null!=this.transform&&0!=this.transform.tx&&(this.transform.tx=0,this.transform.changedDirty=!0):(null==this.transform&&this.set_transform(new l),this.transform.tx!=e&&(this.transform.tx=e,this.transform.changedDirty=!0)),0==n?null!=this.transform&&0!=this.transform.ty&&(this.transform.ty=0,this.transform.changedDirty=!0):(null==this.transform&&this.set_transform(new l),this.transform.ty!=n&&(this.transform.ty=n,this.transform.changedDirty=!0))},anchorKeepPosition:function(e,n){var t,i;this.anchorX==e&&this.anchorY==n||(this.visualToScreen(0,0,o._point,!1),null!=this.parent&&this.parent.screenToVisual(o._point.x,o._point.y,o._point,!1),t=o._point.x,i=o._point.y,this.set_anchorX(e),this.set_anchorY(n),this.visualToScreen(0,0,o._point,!1),null!=this.parent&&this.parent.screenToVisual(o._point.x,o._point.y,o._point,!1),this.set_x(this.x+(t-o._point.x)),this.set_y(this.y+(i-o._point.y)))},childWithId:function(e,n){if(null==n&&(n=!0),null!=this.children){for(var t=0,i=this.children.length;t<i;){var l=t++;if((s=this.children[l]).id==e)return s}if(n)for(t=0,i=this.children.length;t<i;){var s,l=t++,r=(s=this.children[l]).childWithId(e,!0);if(null!=r)return r}}return null},childWithType:function(e,n){if(null==n&&(n=!0),null!=this.children){for(var t=0,i=this.children.length;t<i;){var l=t++,s=this.children[l];if(Os.__instanceof(s,e))return s}if(n)for(t=0,i=this.children.length;t<i;){var l=t++,r=(s=this.children[l]).childWithType(e,!0);if(null!=r)return r}}return null},destroy:function(){this._lifecycleState<=-2||(this._lifecycleState=-2,this._lifecycleState=-1,j.prototype.destroy.call(this),ae.app.screen.unobservedFocusedVisual==this&&ae.app.screen.set_focusedVisual(null),ae.app.destroyedVisuals.push(this),null!=this.parent&&this.parent.remove(this),null!=this.transform&&this.set_transform(null),this.clear(),this.visibilityDirty=!1,this.computedVisible=!1)},clear:function(){if(null!=this.children&&0<this.children.length){for(var e=this.children.length,n=C.pool(e),t=n.get(),i=0,l=e;i<l;){var s=i++;t.vector[s]=this.children[s]}for(i=0,l=e;i<l;){s=i++;t.vector[s].destroy()}this.children=null,n.release(t)}},transformDidChange:function(){if(this.matrixDirty=!0,null!=this.children)for(var e=0,n=this.children.length;e<n;){var t=e++,i=this.children[t];if(i.matrixDirty=!0,null!=i.children)for(var l=0,s=i.children.length;l<s;){var r=l++;i.children[r].set_matrixDirty(!0)}}},computeMatrix:function(){null!=this.parent&&this.parent.matrixDirty&&this.parent.computeMatrix();var e,n,t,i,s=o._matrix,r=(s.a=1,s.b=0,s.c=0,s.d=1,s.tx=0,s.ty=0,s.changedDirty=!0,this.translatesOnlyDirty&&(this.translatesOnly=0==this.rotation&&1==this.scaleX&&1==this.scaleY&&0==this.skewX&&0==this.skewY,this.translatesOnlyDirty=!1),this.get_width()),h=this.get_height();this.translatesOnly?(o._matrix.tx+=this.x-this.anchorX*r,o._matrix.ty+=this.y-this.anchorY*h):((s=o._matrix).tx+=-this.anchorX*r,s.ty+=-this.anchorY*h,s.changedDirty=!0,1==this.scaleX&&1==this.scaleY||(r=this.scaleX,h=this.scaleY,(s=o._matrix).a*=r,s.b*=h,s.c*=r,s.d*=h,s.tx*=r,s.ty*=h,s.changedDirty=!0),0==this.skewX&&0==this.skewY||(s=o._matrix,r=.017453292519943295*this.skewX,h=.017453292519943295*this.skewY,(e=l._tmp).a=1,e.b=0,e.c=0,e.d=1,e.tx=0,e.ty=0,e.changedDirty=!0,e=Math.cos(h),h=Math.sin(h),n=-Math.sin(r),r=Math.cos(r),l._tmp.a=+e+-0*h,l._tmp.b=0*e+ +h,l._tmp.c=n+-0*r,l._tmp.d=0*n+ +r,n=s.a*(e=l._tmp).a+s.b*e.c,s.b=s.a*e.b+s.b*e.d,s.a=n,t=s.c*e.a+s.d*e.c,s.d=s.c*e.b+s.d*e.d,s.c=t,i=s.tx*e.a+s.ty*e.c+e.tx,s.ty=s.tx*e.b+s.ty*e.d+e.ty,s.tx=i,s.changedDirty=!0),0!=this.rotation&&(s=o._matrix,h=.017453292519943295*this.rotation,r=Math.cos(h),e=Math.sin(h),n=s.a*r-s.b*e,s.b=s.a*e+s.b*r,s.a=n,t=s.c*r-s.d*e,s.d=s.c*e+s.d*r,s.c=t,i=s.tx*r-s.ty*e,s.ty=s.tx*e+s.ty*r,s.tx=i,s.changedDirty=!0),(s=o._matrix).tx+=this.x,s.ty+=this.y,s.changedDirty=!0),null!=this.transform&&(n=o._matrix.a*this.transform.a+o._matrix.b*this.transform.c,o._matrix.b=o._matrix.a*this.transform.b+o._matrix.b*this.transform.d,o._matrix.a=n,t=o._matrix.c*this.transform.a+o._matrix.d*this.transform.c,o._matrix.d=o._matrix.c*this.transform.b+o._matrix.d*this.transform.d,o._matrix.c=t,i=o._matrix.tx*this.transform.a+o._matrix.ty*this.transform.c+this.transform.tx,o._matrix.ty=o._matrix.tx*this.transform.b+o._matrix.ty*this.transform.d+this.transform.ty,o._matrix.tx=i),null!=this.parent&&null==this.renderTarget&&(1==this.parent.matA&&0==this.parent.matB&&0==this.parent.matC&&1==this.parent.matD?(o._matrix.tx+=this.parent.matTX,o._matrix.ty+=this.parent.matTY):(i=(this.translatesOnly&&null==this.transform?(o._matrix.a=this.parent.matA,o._matrix.b=this.parent.matB,o._matrix.c=this.parent.matC,o._matrix.d=this.parent.matD):(n=o._matrix.a*this.parent.matA+o._matrix.b*this.parent.matC,o._matrix.b=o._matrix.a*this.parent.matB+o._matrix.b*this.parent.matD,o._matrix.a=n,t=o._matrix.c*this.parent.matA+o._matrix.d*this.parent.matC,o._matrix.d=o._matrix.c*this.parent.matB+o._matrix.d*this.parent.matD,o._matrix.c=t),o._matrix.tx*this.parent.matA+o._matrix.ty*this.parent.matC+this.parent.matTX),o._matrix.ty=o._matrix.tx*this.parent.matB+o._matrix.ty*this.parent.matD+this.parent.matTY,o._matrix.tx=i)),this.matA=o._matrix.a,this.matB=o._matrix.b,this.matC=o._matrix.c,this.matD=o._matrix.d,this.matTX=o._matrix.tx,this.matTY=o._matrix.ty,0<this.roundTranslation&&(1==this.roundTranslation?(this.matTX=Math.round(this.matTX),this.matTY=Math.round(this.matTY)):(this.matTX=Math.round(this.matTX*this.roundTranslation)/this.roundTranslation,this.matTY=Math.round(this.matTY*this.roundTranslation)/this.roundTranslation)),this.matrixDirty=!1},computeTranslatesOnly:function(){this.translatesOnly=0==this.rotation&&1==this.scaleX&&1==this.scaleY&&0==this.skewX&&0==this.skewY,this.translatesOnlyDirty=!1},doComputeMatrix:function(){this.translatesOnlyDirty&&(this.translatesOnly=0==this.rotation&&1==this.scaleX&&1==this.scaleY&&0==this.skewX&&0==this.skewY,this.translatesOnlyDirty=!1);var e,n,t,i,s,r=this.get_width(),h=this.get_height();this.translatesOnly?(o._matrix.tx+=this.x-this.anchorX*r,o._matrix.ty+=this.y-this.anchorY*h):((n=o._matrix).tx+=-this.anchorX*r,n.ty+=-this.anchorY*h,n.changedDirty=!0,1==this.scaleX&&1==this.scaleY||(r=this.scaleX,h=this.scaleY,(n=o._matrix).a*=r,n.b*=h,n.c*=r,n.d*=h,n.tx*=r,n.ty*=h,n.changedDirty=!0),0==this.skewX&&0==this.skewY||(n=o._matrix,r=.017453292519943295*this.skewX,h=.017453292519943295*this.skewY,(e=l._tmp).a=1,e.b=0,e.c=0,e.d=1,e.tx=0,e.ty=0,e.changedDirty=!0,e=Math.cos(h),h=Math.sin(h),t=-Math.sin(r),r=Math.cos(r),l._tmp.a=+e+-0*h,l._tmp.b=0*e+ +h,l._tmp.c=t+-0*r,l._tmp.d=0*t+ +r,t=n.a*(e=l._tmp).a+n.b*e.c,n.b=n.a*e.b+n.b*e.d,n.a=t,i=n.c*e.a+n.d*e.c,n.d=n.c*e.b+n.d*e.d,n.c=i,s=n.tx*e.a+n.ty*e.c+e.tx,n.ty=n.tx*e.b+n.ty*e.d+e.ty,n.tx=s,n.changedDirty=!0),0!=this.rotation&&(n=o._matrix,h=.017453292519943295*this.rotation,r=Math.cos(h),e=Math.sin(h),t=n.a*r-n.b*e,n.b=n.a*e+n.b*r,n.a=t,i=n.c*r-n.d*e,n.d=n.c*e+n.d*r,n.c=i,s=n.tx*r-n.ty*e,n.ty=n.tx*e+n.ty*r,n.tx=s,n.changedDirty=!0),(n=o._matrix).tx+=this.x,n.ty+=this.y,n.changedDirty=!0),null!=this.transform&&(t=o._matrix.a*this.transform.a+o._matrix.b*this.transform.c,o._matrix.b=o._matrix.a*this.transform.b+o._matrix.b*this.transform.d,o._matrix.a=t,i=o._matrix.c*this.transform.a+o._matrix.d*this.transform.c,o._matrix.d=o._matrix.c*this.transform.b+o._matrix.d*this.transform.d,o._matrix.c=i,s=o._matrix.tx*this.transform.a+o._matrix.ty*this.transform.c+this.transform.tx,o._matrix.ty=o._matrix.tx*this.transform.b+o._matrix.ty*this.transform.d+this.transform.ty,o._matrix.tx=s),null!=this.parent&&null==this.renderTarget&&(1==this.parent.matA&&0==this.parent.matB&&0==this.parent.matC&&1==this.parent.matD?(o._matrix.tx+=this.parent.matTX,o._matrix.ty+=this.parent.matTY):(s=(this.translatesOnly&&null==this.transform?(o._matrix.a=this.parent.matA,o._matrix.b=this.parent.matB,o._matrix.c=this.parent.matC,o._matrix.d=this.parent.matD):(t=o._matrix.a*this.parent.matA+o._matrix.b*this.parent.matC,o._matrix.b=o._matrix.a*this.parent.matB+o._matrix.b*this.parent.matD,o._matrix.a=t,i=o._matrix.c*this.parent.matA+o._matrix.d*this.parent.matC,o._matrix.d=o._matrix.c*this.parent.matB+o._matrix.d*this.parent.matD,o._matrix.c=i),o._matrix.tx*this.parent.matA+o._matrix.ty*this.parent.matC+this.parent.matTX),o._matrix.ty=o._matrix.tx*this.parent.matB+o._matrix.ty*this.parent.matD+this.parent.matTY,o._matrix.tx=s)),this.matA=o._matrix.a,this.matB=o._matrix.b,this.matC=o._matrix.c,this.matD=o._matrix.d,this.matTX=o._matrix.tx,this.matTY=o._matrix.ty,0<this.roundTranslation&&(1==this.roundTranslation?(this.matTX=Math.round(this.matTX),this.matTY=Math.round(this.matTY)):(this.matTX=Math.round(this.matTX*this.roundTranslation)/this.roundTranslation,this.matTY=Math.round(this.matTY*this.roundTranslation)/this.roundTranslation)),this.matrixDirty=!1},_hits:function(e,n,t){if(!t){if(this.renderTargetDirty&&this.computeRenderTarget(),null!=this.computedRenderTarget){var i=this.parent;if(null!=i)do{if(null!=i.asQuad&&i instanceof _n){var l=i;if(l.get_renderTexture()==this.computedRenderTarget&&(null==nt.matchedHitVisual||l.hitVisual==nt.matchedHitVisual))return l.visualInContentHits(this,e,n)}}while(null!=(i=i.parent));return!1}if(null!=nt.matchedHitVisual&&nt.matchedHitVisual!=this)return!1}this.matrixDirty&&this.computeMatrix();t=o._matrix;t.a=this.matA,t.b=this.matB,t.c=this.matC,t.d=this.matD,t.tx=this.matTX,t.ty=this.matTY,t.changedDirty=!0;var s,r=(t=o._matrix).a*t.d-t.b*t.c;return 0==r?(t.a=t.b=t.c=t.d=0,t.tx=-t.tx,t.ty=-t.ty):(s=t.d*(r=1/r),t.d=t.a*r,t.a=s,t.b*=-r,t.c*=-r,s=-t.a*t.tx-t.c*t.ty,t.ty=-t.b*t.tx-t.d*t.ty,t.tx=s),t.changedDirty=!0,this.hitTest(e,n,o._matrix)},hitTest:function(e,n,t){var i=e*t.a+n*t.c+t.tx,e=e*t.b+n*t.d+t.ty;return 0<=i&&i<this.get_width()&&0<=e&&e<this.get_height()},get_isHitVisual:function(){return 8==(8&this.flags)},set_isHitVisual:function(e){return this.flags=e?8|this.flags:-9&this.flags,e},interceptPointerDown:function(e,n,t,i,l){return!1},interceptPointerOver:function(e,n,t){return!1},screenToVisual:function(e,n,t,i){if(null==i&&(i=!0),this.matrixDirty&&this.computeMatrix(),i&&(this.renderTargetDirty&&this.computeRenderTarget(),null!=this.computedRenderTarget)){var l=this.parent;if(null!=l)do{if(null!=l.asQuad&&l instanceof _n){var s,r,h=l;if(h.get_renderTexture()==this.computedRenderTarget)return h.screenToVisual(e,n,t),(_=o._matrix).a=this.matA,_.b=this.matB,_.c=this.matC,_.d=this.matD,_.tx=this.matTX,_.ty=this.matTY,_.changedDirty=!0,0==(a=(h=o._matrix).a*h.d-h.b*h.c)?(h.a=h.b=h.c=h.d=0,h.tx=-h.tx,h.ty=-h.ty):(c=h.d*(a=1/a),h.d=h.a*a,h.a=c,h.b*=-a,h.c*=-a,u=-h.a*h.tx-h.c*h.ty,h.ty=-h.b*h.tx-h.d*h.ty,h.tx=u),h.changedDirty=!0,h=t.x,s=t.y,t.x=h*(r=o._matrix).a+s*r.c+r.tx,void(t.y=h*(r=o._matrix).b+s*r.d+r.ty)}}while(null!=(l=l.parent))}(_=o._matrix).a=this.matA,_.b=this.matB,_.c=this.matC,_.d=this.matD,_.tx=this.matTX,_.ty=this.matTY,_.changedDirty=!0;0==(a=(_=o._matrix).a*_.d-_.b*_.c)?(_.a=_.b=_.c=_.d=0,_.tx=-_.tx,_.ty=-_.ty):(c=_.d*(a=1/a),_.d=_.a*a,_.a=c,_.b*=-a,_.c*=-a,u=-_.a*_.tx-_.c*_.ty,_.ty=-_.b*_.tx-_.d*_.ty,_.tx=u),_.changedDirty=!0;var a,c,u,_=o._matrix,_=(t.x=e*_.a+n*_.c+_.tx,o._matrix);t.y=e*_.b+n*_.d+_.ty},visualToScreen:function(e,n,t,i){if(null==i&&(i=!0),this.matrixDirty&&this.computeMatrix(),i&&(this.renderTargetDirty&&this.computeRenderTarget(),null!=this.computedRenderTarget)){var l=this.parent;if(null!=l)do{if(null!=l.asQuad&&l instanceof _n){var s,r=l;if(r.get_renderTexture()==this.computedRenderTarget)return(h=o._matrix).a=this.matA,h.b=this.matB,h.c=this.matC,h.d=this.matD,h.tx=this.matTX,h.ty=this.matTY,h.changedDirty=!0,t.x=e*(s=o._matrix).a+n*s.c+s.tx,t.y=e*(s=o._matrix).b+n*s.d+s.ty,void r.visualToScreen(t.x,t.y,t)}}while(null!=(l=l.parent))}(h=o._matrix).a=this.matA,h.b=this.matB,h.c=this.matC,h.d=this.matD,h.tx=this.matTX,h.ty=this.matTY,h.changedDirty=!0;var h=o._matrix,h=(t.x=e*h.a+n*h.c+h.tx,o._matrix);t.y=e*h.b+n*h.d+h.ty},visualToTransform:function(e){this.matrixDirty&&this.computeMatrix(),e.a=this.matA,e.b=this.matB,e.c=this.matC,e.d=this.matD,e.tx=this.matTX,e.ty=this.matTY,e.changedDirty=!0},computeVisibility:function(){(this._lifecycleState<0||(null!=this.parent&&this.parent.visibilityDirty&&this.parent.computeVisibility(),this.computedVisible=this.visible,this.computedAlpha=this.alpha,this.computedVisible&&(null!=this.parent&&(this.parent.computedVisible||!this.parent.inheritAlpha&&this.parent.visible&&(null==this.parent.parent||this.parent.parent.computedVisible)||(this.computedVisible=!1),this.inheritAlpha)&&(this.computedAlpha*=this.parent.computedAlpha),0==this.computedAlpha)&&4!=this.blending))&&(this.computedVisible=!1),this.visibilityDirty=!1},computeClip:function(){this.renderTargetDirty&&this.computeRenderTarget(),null!=this.parent&&this.parent.clipDirty&&this.parent.computeClip(),this.computedClip=this.clip,null==this.computedClip&&null!=this.parent&&null!=this.parent.computedClip&&this.computedRenderTarget==this.parent.computedRenderTarget&&(this.computedClip=this.parent.computedClip),this.clipDirty=!1},computeTouchable:function(){null!=this.parent&&this.parent.touchableDirty&&this.parent.computeTouchable(),this.computedTouchable=this.touchable,this.computedTouchable&&null!=this.parent&&!this.parent.computedTouchable&&(this.computedTouchable=!1),this.touchableDirty=!1},computeRenderTarget:function(){null!=this.parent&&this.parent.renderTargetDirty&&this.parent.computeRenderTarget();this.computedRenderTarget;this.computedRenderTarget=this.renderTarget,null==this.computedRenderTarget&&null!=this.parent&&null!=this.parent.computedRenderTarget&&(this.computedRenderTarget=this.parent.computedRenderTarget),this.renderTargetDirty=!1},computeContent:function(){this.contentDirty=!1},autoChildrenDepth:function(e,n){null==n&&(n=1);var t=e=null==e?1:e;if(null!=this.children)for(var i=0,l=this.children.length;i<l;){var s=i++;this.children[s].set_depth(t),t+=n}},sortChildrenByDepth:function(){var e;null!=this.children&&0<this.children.length&&(e=this.children,_t.rec(e,0,e.length))},normalizeChildrenDepth:function(e,n){null==n&&(n=1),null==e&&(e=1),null!=this.children&&0<this.children.length&&(this.sortChildrenByDepth(),this.autoChildrenDepth())},hasIndirectParent:function(e){for(var n=this.parent;null!=n;){if(n==e)return!0;n=n.parent}return!1},firstParentWithClass:function(e){for(var n=this.parent;null!=n;){if(Os.__instanceof(n,e))return n;n=n.parent}return null},add:function(e){if(e==this)throw $.thrown("A visual cannot add itself as child!");if(null==e)throw $.thrown("A visual cannot add a null child!");if(e._lifecycleState<0)throw $.thrown("A visual cannot add an already destroyed child!");if(e.parent!=this){if(ae.app.hierarchyDirty=!0,null!=e.parent&&e.parent.remove(e),e.parent=this,e.visibilityDirty=!0,null!=e.children)for(var n=0,t=e.children.length;n<t;){var i=n++;if((f=e.children[i]).visibilityDirty=!0,null!=f.children)for(var l=0,s=f.children.length;l<s;){var r=l++;(p=f.children[r]).set_visibilityDirty(!0)}}if(e.matrixDirty=!0,null!=e.children)for(n=0,t=e.children.length;n<t;){i=n++;if((f=e.children[i]).matrixDirty=!0,null!=f.children)for(l=0,s=f.children.length;l<s;){r=l++;(p=f.children[r]).set_matrixDirty(!0)}}if(e.renderTargetDirty=!0,e.clipDirty=!0,null!=e.children)for(n=0,t=e.children.length;n<t;){i=n++;if((f=e.children[i]).clipDirty=!0,null!=f.children)for(l=0,s=f.children.length;l<s;){r=l++;(p=f.children[r]).set_clipDirty(!0)}}if(null!=e.children)for(n=0,t=e.children.length;n<t;){i=n++;if((f=e.children[i]).renderTargetDirty=!0,f.clipDirty=!0,null!=f.children)for(l=0,s=f.children.length;l<s;){r=l++;if((p=f.children[r]).clipDirty=!0,null!=p.children)for(var h=0,a=p.children.length;h<a;){var o=h++,c=p.children[o];if(c.clipDirty=!0,null!=c.children)for(var u=0,_=c.children.length;u<_;){var d=u++;c.children[d].set_clipDirty(!0)}}}if(null!=f.children)for(var b=0,g=f.children.length;b<g;){var O=b++;f.children[O].set_renderTargetDirty(!0)}}if(null==this.children&&(this.children=[]),this.children.push(e),this.clipDirty=!0,null!=this.children)for(n=0,t=this.children.length;n<t;){var f,i=n++;if((f=this.children[i]).clipDirty=!0,null!=f.children)for(l=0,s=f.children.length;l<s;){var p,r=l++;(p=f.children[r]).set_clipDirty(!0)}}}},addBefore:function(e,n){if(e==this)throw $.thrown("A visual cannot add itself as child!");if(null==e)throw $.thrown("A visual cannot add a null child!");if(e._lifecycleState<0)throw $.thrown("A visual cannot add an already destroyed child!");if(null==n)throw $.thrown("Reference visual cannot be null!");if(n.parent!=this)throw $.thrown("Reference visual must be a child of this visual!");if(ae.app.hierarchyDirty=!0,e.parent==this){var t=this.children.indexOf(e);-1!=t&&this.children.splice(t,1)}else{if(null!=e.parent&&e.parent.remove(e),e.parent=this,e.visibilityDirty=!0,null!=e.children)for(var i=0,l=e.children.length;i<l;){var s=i++;if((C=e.children[s]).visibilityDirty=!0,null!=C.children)for(var r=0,h=C.children.length;r<h;){var a=r++;(v=C.children[a]).set_visibilityDirty(!0)}}if(e.matrixDirty=!0,null!=e.children)for(i=0,l=e.children.length;i<l;){s=i++;if((C=e.children[s]).matrixDirty=!0,null!=C.children)for(r=0,h=C.children.length;r<h;){a=r++;(v=C.children[a]).set_matrixDirty(!0)}}if(e.renderTargetDirty=!0,e.clipDirty=!0,null!=e.children)for(i=0,l=e.children.length;i<l;){s=i++;if((C=e.children[s]).clipDirty=!0,null!=C.children)for(r=0,h=C.children.length;r<h;){a=r++;(v=C.children[a]).set_clipDirty(!0)}}if(null!=e.children)for(i=0,l=e.children.length;i<l;){s=i++;if((C=e.children[s]).renderTargetDirty=!0,C.clipDirty=!0,null!=C.children)for(r=0,h=C.children.length;r<h;){a=r++;if((v=C.children[a]).clipDirty=!0,null!=v.children)for(var o=0,c=v.children.length;o<c;){var u=o++,_=v.children[u];if(_.clipDirty=!0,null!=_.children)for(var d=0,b=_.children.length;d<b;){var g=d++;_.children[g].set_clipDirty(!0)}}}if(null!=C.children)for(var O=0,f=C.children.length;O<f;){var p=O++;C.children[p].set_renderTargetDirty(!0)}}}null==this.children&&(this.children=[]);t=this.children.indexOf(n);if(-1!=t?this.children.splice(t,0,e):this.children.push(e),this.clipDirty=!0,null!=this.children)for(i=0,l=this.children.length;i<l;){var C,s=i++;if((C=this.children[s]).clipDirty=!0,null!=C.children)for(r=0,h=C.children.length;r<h;){var v,a=r++;(v=C.children[a]).set_clipDirty(!0)}}},addAfter:function(e,n){if(e==this)throw $.thrown("A visual cannot add itself as child!");if(null==e)throw $.thrown("A visual cannot add a null child!");if(e._lifecycleState<0)throw $.thrown("A visual cannot add an already destroyed child!");if(null==n)throw $.thrown("Reference visual cannot be null!");if(n.parent!=this)throw $.thrown("Reference visual must be a child of this visual!");if(ae.app.hierarchyDirty=!0,e.parent==this){var t=this.children.indexOf(e);-1!=t&&this.children.splice(t,1)}else{if(null!=e.parent&&e.parent.remove(e),e.parent=this,e.visibilityDirty=!0,null!=e.children)for(var i=0,l=e.children.length;i<l;){var s=i++;if((C=e.children[s]).visibilityDirty=!0,null!=C.children)for(var r=0,h=C.children.length;r<h;){var a=r++;(v=C.children[a]).set_visibilityDirty(!0)}}if(e.matrixDirty=!0,null!=e.children)for(i=0,l=e.children.length;i<l;){s=i++;if((C=e.children[s]).matrixDirty=!0,null!=C.children)for(r=0,h=C.children.length;r<h;){a=r++;(v=C.children[a]).set_matrixDirty(!0)}}if(e.renderTargetDirty=!0,e.clipDirty=!0,null!=e.children)for(i=0,l=e.children.length;i<l;){s=i++;if((C=e.children[s]).clipDirty=!0,null!=C.children)for(r=0,h=C.children.length;r<h;){a=r++;(v=C.children[a]).set_clipDirty(!0)}}if(null!=e.children)for(i=0,l=e.children.length;i<l;){s=i++;if((C=e.children[s]).renderTargetDirty=!0,C.clipDirty=!0,null!=C.children)for(r=0,h=C.children.length;r<h;){a=r++;if((v=C.children[a]).clipDirty=!0,null!=v.children)for(var o=0,c=v.children.length;o<c;){var u=o++,_=v.children[u];if(_.clipDirty=!0,null!=_.children)for(var d=0,b=_.children.length;d<b;){var g=d++;_.children[g].set_clipDirty(!0)}}}if(null!=C.children)for(var O=0,f=C.children.length;O<f;){var p=O++;C.children[p].set_renderTargetDirty(!0)}}}null==this.children&&(this.children=[]);t=this.children.indexOf(n);if(-1!=t?this.children.splice(t+1,0,e):this.children.push(e),this.clipDirty=!0,null!=this.children)for(i=0,l=this.children.length;i<l;){var C,s=i++;if((C=this.children[s]).clipDirty=!0,null!=C.children)for(r=0,h=C.children.length;r<h;){var v,a=r++;(v=C.children[a]).set_clipDirty(!0)}}},remove:function(e){if(ae.app.hierarchyDirty=!0,null!=this.children){if(-1!=this.children.indexOf(e)?this.children.splice(this.children.indexOf(e),1):ae.app.logger.warning("Cannot remove visual "+K.string(e)+", index is -1",{fileName:"../../../../ceramic/runtime/src/ceramic/Visual.hx",lineNumber:3091,className:"ceramic.Visual",methodName:"remove"}),e.parent=null,e.visibilityDirty=!0,null!=e.children)for(var n=0,t=e.children.length;n<t;){var i=n++;if((f=e.children[i]).visibilityDirty=!0,null!=f.children)for(var l=0,s=f.children.length;l<s;){var r=l++;(p=f.children[r]).set_visibilityDirty(!0)}}if(e.matrixDirty=!0,null!=e.children)for(n=0,t=e.children.length;n<t;){i=n++;if((f=e.children[i]).matrixDirty=!0,null!=f.children)for(l=0,s=f.children.length;l<s;){r=l++;(p=f.children[r]).set_matrixDirty(!0)}}if(e.renderTargetDirty=!0,e.clipDirty=!0,null!=e.children)for(n=0,t=e.children.length;n<t;){i=n++;if((f=e.children[i]).clipDirty=!0,null!=f.children)for(l=0,s=f.children.length;l<s;){r=l++;(p=f.children[r]).set_clipDirty(!0)}}if(null!=e.children)for(n=0,t=e.children.length;n<t;){i=n++;if((f=e.children[i]).renderTargetDirty=!0,f.clipDirty=!0,null!=f.children)for(l=0,s=f.children.length;l<s;){r=l++;if((p=f.children[r]).clipDirty=!0,null!=p.children)for(var h=0,a=p.children.length;h<a;){var o=h++,c=p.children[o];if(c.clipDirty=!0,null!=c.children)for(var u=0,_=c.children.length;u<_;){var d=u++;c.children[d].set_clipDirty(!0)}}}if(null!=f.children)for(var b=0,g=f.children.length;b<g;){var O=b++;f.children[O].set_renderTargetDirty(!0)}}if(e.clipDirty=!0,null!=e.children)for(n=0,t=e.children.length;n<t;){var f,i=n++;if((f=e.children[i]).clipDirty=!0,null!=f.children)for(l=0,s=f.children.length;l<s;){var p,r=l++;(p=f.children[r]).set_clipDirty(!0)}}}},contains:function(e,n){null==n&&(n=!1);for(var t=e.parent;null!=t;){if(t==this)return!0;if(t=t.parent,!n)break}return!1},computeBounds:function(){if(null==this.children)this._width=0,this._height=0;else{for(var e=999999999,t=999999999,i=-999999999.9,l=-999999999.9,s=new n,r=0,h=this.children.length;r<h;){var a=r++;if((v=this.children[a]).visible)if(null!=v.asMesh){var o=v.asMesh,c=0,u=0,_=0;if(null!=o.vertices32)for(var d=o.vertices32,b=d.length;c<b;)u=d[c],_=d[c+1],v.visualToScreen(u,_,s,!1),s.x>i&&(i=s.x),s.y>l&&(l=s.y),s.x<e&&(e=s.x),s.y<t&&(t=s.y),c+=2;else for(var g=o.vertices,O=g.length;c<O;)u=g[c],_=g[c+1],v.visualToScreen(u,_,s,!1),s.x>i&&(i=s.x),s.y>l&&(l=s.y),s.x<e&&(e=s.x),s.y<t&&(t=s.y),c+=2}else v.visualToScreen(0,0,s,!1),s.x>i&&(i=s.x),s.y>l&&(l=s.y),s.x<e&&(e=s.x),s.y<t&&(t=s.y),v.visualToScreen(v.get_width(),0,s,!1),s.x>i&&(i=s.x),s.y>l&&(l=s.y),s.x<e&&(e=s.x),s.y<t&&(t=s.y),v.visualToScreen(0,v.get_height(),s,!1),s.x>i&&(i=s.x),s.y>l&&(l=s.y),s.x<e&&(e=s.x),s.y<t&&(t=s.y),v.visualToScreen(v.get_width(),v.get_height(),s,!1),s.x>i&&(i=s.x),s.y>l&&(l=s.y),s.x<e&&(e=s.x),s.y<t&&(t=s.y)}this.visualToScreen(0,0,s,!1);var f,p=s.x,C=s.y;if(this.screenToVisual(e,t,s,!1),e=s.x,t=s.y,this.screenToVisual(i,l,s,!1),(i=s.x)<e&&(f=e,e=i,i=f),(l=s.y)<t&&(f=t,t=l,l=f),this._width=i-e,this._height=l-t,this.set_anchorX(0!=this._width?-e/this._width:0),this.set_anchorY(0!=this._height?-t/this._height:0),this.screenToVisual(p,C,s,!1),this.set_x(s.x-this._width*this.anchorX),this.set_y(s.y-this._height*this.anchorY),this.matrixDirty=!0,null!=this.children)for(r=0,h=this.children.length;r<h;){var v,a=r++;if((v=this.children[a]).matrixDirty=!0,null!=v.children)for(var w=0,m=v.children.length;w<m;){c=w++;v.children[c].set_matrixDirty(!0)}}}},bindToNativeScreenSize:function(){var t=this;ae.app.screen.reverseMatrix.onChange(this,$bind(this,this._bindToNativeScreenSizeCallback)),ae.app.onPreUpdate(this,function(e){var n;t.get_width()==ee.app.screenWidth&&t.get_height()==ee.app.screenHeight||(n=ee.app.screenHeight,t.set_width(ee.app.screenWidth),t.set_height(n))}),this._bindToNativeScreenSizeCallback()},_bindToNativeScreenSizeCallback:function(){null==this.transform&&this.set_transform(new l);(e=this.transform).a=1,e.b=0,e.c=0,e.d=1,e.tx=0,e.ty=0,e.changedDirty=!0;var e=this.transform,n=ee.app.screenDensity,t=ee.app.screenDensity,e=(e.a*=n,e.b*=t,e.c*=n,e.d*=t,e.tx*=n,e.ty*=t,e.changedDirty=!0,this.transform),n=ae.app.screen.reverseMatrix,t=e.a*n.a+e.b*n.c,t=(e.b=e.a*n.b+e.b*n.d,e.a=t,e.c*n.a+e.d*n.c),t=(e.d=e.c*n.b+e.d*n.d,e.c=t,e.tx*n.a+e.ty*n.c+n.tx),n=(e.ty=e.tx*n.b+e.ty*n.d+n.ty,e.tx=t,e.changedDirty=!0,this.transform.changedDirty=!0,ee.app.screenHeight);this.set_width(ee.app.screenWidth),this.set_height(n)},bindToScreenSize:function(e){null==e&&(e=1);var n=this;ae.app.screen.onResize(this,function(){n._bindToScreenSizeCallback(e)}),this._bindToScreenSizeCallback(e)},_bindToScreenSizeCallback:function(e){var n=ae.app.screen.height*e;this.set_width(ae.app.screen.width*e),this.set_height(n)},bindToTargetSize:function(){ae.app.screen.onResize(this,$bind(this,this._bindToTargetSizeCallback)),this._bindToTargetSizeCallback()},_bindToTargetSizeCallback:function(){var e=ae.app.screen.height;this.set_width(ae.app.screen.width),this.set_height(e)},unbindEvents:function(){j.prototype.unbindEvents.call(this),this.offPointerDown(),this.offPointerUp(),this.offPointerOver(),this.offPointerOut(),this.offFocus(),this.offBlur()},__class__:o,__properties__:$extend(j.prototype.__properties__,{set_isHitVisual:"set_isHitVisual",get_isHitVisual:"get_isHitVisual",set_active:"set_active",get_active:"get_active",set_shader:"set_shader",set_transform:"set_transform",set_translateY:"set_translateY",get_translateY:"get_translateY",set_translateX:"set_translateX",get_translateX:"get_translateX",set_alpha:"set_alpha",set_rotation:"set_rotation",set_roundTranslation:"set_roundTranslation",set_height:"set_height",get_height:"get_height",set_width:"set_width",get_width:"get_width",set_anchorY:"set_anchorY",set_anchorX:"set_anchorX",set_skewY:"set_skewY",set_skewX:"set_skewX",set_scaleY:"set_scaleY",set_scaleX:"set_scaleX",set_y:"set_y",set_x:"set_x",set_depthRange:"set_depthRange",set_depth:"set_depth",set_touchable:"set_touchable",set_visible:"set_visible",set_blending:"set_blending",set_renderTarget:"set_renderTarget",set_clipDirty:"set_clipDirty",set_touchableDirty:"set_touchableDirty",set_visibilityDirty:"set_visibilityDirty",set_renderTargetDirty:"set_renderTargetDirty",set_matrixDirty:"set_matrixDirty",set_contentDirty:"set_contentDirty",set_inheritAlpha:"set_inheritAlpha",set_clip:"set_clip",get_isPointerOver:"get_isPointerOver",get_isPointerDown:"get_isPointerDown"})}),(E["ceramic.Quad"]=p).__name__="ceramic.Quad",p.__super__=o,p.prototype=$extend(o.prototype,{color:null,get_transparent:function(){return 16==(16&this.flags)},set_transparent:function(e){return this.flags=e?16|this.flags:-17&this.flags,e},tile:null,set_tile:function(e){var n;return this.tile!=e&&(null==(this.tile=e)?this._texture!=(n=null)&&this._set_texture(n):(this._texture!=e.texture&&(n=e.texture,this._texture!=n)&&this._set_texture(n),this.frameX=e.frameX+e.edgeInset,this.frameY=e.frameY+e.edgeInset,n=e.frameWidth-2*e.edgeInset,this.frameWidth!=n&&-1!=(this.frameWidth=n)&&this.set_width(n),n=e.frameHeight-2*e.edgeInset,this.frameHeight!=n&&-1!=(this.frameHeight=n)&&this.set_height(n),this.set_width(e.frameWidth),this.set_height(e.frameHeight),n=e.rotateFrame,this.flags=n?32|this.flags:-33&this.flags)),e},get_texture:function(){return this._texture},set_texture:function(e){return this._texture!=e&&this._set_texture(e),e},_texture:null,_set_texture:function(e){var n;null!=this._texture&&(this._texture.offDestroy($bind(this,this.textureDestroyed)),null!=this._texture.asset)&&this._texture.asset.release(),null==(this._texture=e)?(this.frameX=-1,(this.frameY=-1)!=this.frameWidth&&(this.frameWidth=-1),-1!=this.frameHeight&&(this.frameHeight=-1)):(n=null!=this.tile?(this.frameX=this.tile.frameX,this.frameY=this.tile.frameY,n=this.tile.frameWidth,this.frameWidth!=n&&-1!=(this.frameWidth=n)&&this.set_width(n),this.tile.frameHeight):(this.frameX=0,this.frameY=0,n=e.width,this.frameWidth!=n&&-1!=(this.frameWidth=n)&&this.set_width(n),e.height),this.frameHeight!=n&&-1!=(this.frameHeight=n)&&this.set_height(n),e.onDestroy(this,$bind(this,this.textureDestroyed)),null!=e.asset&&e.asset.retain())},frameX:null,frameY:null,frameWidth:null,set_frameWidth:function(e){return this.frameWidth!=e&&-1!=(this.frameWidth=e)&&this.set_width(e),e},frameHeight:null,set_frameHeight:function(e){return this.frameHeight!=e&&-1!=(this.frameHeight=e)&&this.set_height(e),e},get_rotateFrame:function(){return 32==(32&this.flags)},set_rotateFrame:function(e){return this.flags=e?32|this.flags:-33&this.flags,e},destroy:function(){this._lifecycleState<=-2||(this._lifecycleState=-2,null!=this._texture&&this._set_texture(null),this._lifecycleState=-1,o.prototype.destroy.call(this))},frame:function(e,n,t,i){this.frameX=e,this.frameY=n,this.frameWidth!=t&&-1!=(this.frameWidth=t)&&this.set_width(t),this.frameHeight!=i&&-1!=(this.frameHeight=i)&&this.set_height(i)},isRegular:function(){this.matrixDirty&&this.computeMatrix();var e=this.get_width(),n=this.get_height();return this.matC*n==0&&this.matB*e==0&&this.matC*n==0&&this.matB*e==0},computeMatrix:function(){null!=this.parent&&this.parent.matrixDirty&&this.parent.computeMatrix();var e,n,t,i,s=p._matrix,r=(s.a=1,s.b=0,s.c=0,s.d=1,s.tx=0,s.ty=0,s.changedDirty=!0,this.translatesOnlyDirty&&(this.translatesOnly=0==this.rotation&&1==this.scaleX&&1==this.scaleY&&0==this.skewX&&0==this.skewY,this.translatesOnlyDirty=!1),this.get_width()),h=this.get_height();this.translatesOnly?(o._matrix.tx+=this.x-this.anchorX*r,o._matrix.ty+=this.y-this.anchorY*h):((s=o._matrix).tx+=-this.anchorX*r,s.ty+=-this.anchorY*h,s.changedDirty=!0,1==this.scaleX&&1==this.scaleY||(r=this.scaleX,h=this.scaleY,(s=o._matrix).a*=r,s.b*=h,s.c*=r,s.d*=h,s.tx*=r,s.ty*=h,s.changedDirty=!0),0==this.skewX&&0==this.skewY||(s=o._matrix,r=.017453292519943295*this.skewX,h=.017453292519943295*this.skewY,(e=l._tmp).a=1,e.b=0,e.c=0,e.d=1,e.tx=0,e.ty=0,e.changedDirty=!0,e=Math.cos(h),h=Math.sin(h),n=-Math.sin(r),r=Math.cos(r),l._tmp.a=+e+-0*h,l._tmp.b=0*e+ +h,l._tmp.c=n+-0*r,l._tmp.d=0*n+ +r,n=s.a*(e=l._tmp).a+s.b*e.c,s.b=s.a*e.b+s.b*e.d,s.a=n,t=s.c*e.a+s.d*e.c,s.d=s.c*e.b+s.d*e.d,s.c=t,i=s.tx*e.a+s.ty*e.c+e.tx,s.ty=s.tx*e.b+s.ty*e.d+e.ty,s.tx=i,s.changedDirty=!0),0!=this.rotation&&(s=o._matrix,h=.017453292519943295*this.rotation,r=Math.cos(h),e=Math.sin(h),n=s.a*r-s.b*e,s.b=s.a*e+s.b*r,s.a=n,t=s.c*r-s.d*e,s.d=s.c*e+s.d*r,s.c=t,i=s.tx*r-s.ty*e,s.ty=s.tx*e+s.ty*r,s.tx=i,s.changedDirty=!0),(s=o._matrix).tx+=this.x,s.ty+=this.y,s.changedDirty=!0),null!=this.transform&&(n=o._matrix.a*this.transform.a+o._matrix.b*this.transform.c,o._matrix.b=o._matrix.a*this.transform.b+o._matrix.b*this.transform.d,o._matrix.a=n,t=o._matrix.c*this.transform.a+o._matrix.d*this.transform.c,o._matrix.d=o._matrix.c*this.transform.b+o._matrix.d*this.transform.d,o._matrix.c=t,i=o._matrix.tx*this.transform.a+o._matrix.ty*this.transform.c+this.transform.tx,o._matrix.ty=o._matrix.tx*this.transform.b+o._matrix.ty*this.transform.d+this.transform.ty,o._matrix.tx=i),null!=this.parent&&null==this.renderTarget&&(1==this.parent.matA&&0==this.parent.matB&&0==this.parent.matC&&1==this.parent.matD?(o._matrix.tx+=this.parent.matTX,o._matrix.ty+=this.parent.matTY):(i=(this.translatesOnly&&null==this.transform?(o._matrix.a=this.parent.matA,o._matrix.b=this.parent.matB,o._matrix.c=this.parent.matC,o._matrix.d=this.parent.matD):(n=o._matrix.a*this.parent.matA+o._matrix.b*this.parent.matC,o._matrix.b=o._matrix.a*this.parent.matB+o._matrix.b*this.parent.matD,o._matrix.a=n,t=o._matrix.c*this.parent.matA+o._matrix.d*this.parent.matC,o._matrix.d=o._matrix.c*this.parent.matB+o._matrix.d*this.parent.matD,o._matrix.c=t),o._matrix.tx*this.parent.matA+o._matrix.ty*this.parent.matC+this.parent.matTX),o._matrix.ty=o._matrix.tx*this.parent.matB+o._matrix.ty*this.parent.matD+this.parent.matTY,o._matrix.tx=i)),this.matA=o._matrix.a,this.matB=o._matrix.b,this.matC=o._matrix.c,this.matD=o._matrix.d,this.matTX=o._matrix.tx,this.matTY=o._matrix.ty,0<this.roundTranslation&&(1==this.roundTranslation?(this.matTX=Math.round(this.matTX),this.matTY=Math.round(this.matTY)):(this.matTX=Math.round(this.matTX*this.roundTranslation)/this.roundTranslation,this.matTY=Math.round(this.matTY*this.roundTranslation)/this.roundTranslation)),this.matrixDirty=!1},textureDestroyed:function(e){null!=this._texture&&this._set_texture(null),this.set_tile(null)},__class__:p,__properties__:$extend(o.prototype.__properties__,{set_rotateFrame:"set_rotateFrame",get_rotateFrame:"get_rotateFrame",set_frameHeight:"set_frameHeight",set_frameWidth:"set_frameWidth",set_texture:"set_texture",get_texture:"get_texture",set_tile:"set_tile",set_transparent:"set_transparent",get_transparent:"get_transparent"})}),(E["ceramic.Layer"]=q).__name__="ceramic.Layer",q.__super__=p,q.prototype=$extend(p.prototype,{__cbOnResize:null,__cbOnceResize:null,__cbOnOwnerUnbindResize:null,__cbOnceOwnerUnbindResize:null,emitResize:function(e,n){this.willEmitResize(e,n);var t=0;if(null!=this.__cbOnResize&&(t+=this.__cbOnResize.length),null!=this.__cbOnceResize&&(t+=this.__cbOnceResize.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnResize)for(var r=0,h=this.__cbOnResize.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnResize[a],++s):--t}if(null!=this.__cbOnceResize){for(var o=null,c=null,r=0,h=this.__cbOnceResize.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceResize[a],this.__cbOnceResize[a]=null,u=this.__cbOnceOwnerUnbindResize[a],(this.__cbOnceOwnerUnbindResize[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindResize[a]),c.push(this.__cbOnceResize[a]))}this.__cbOnceOwnerUnbindResize=o,this.__cbOnceResize=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l),l=null}this.didEmitResize(e,n)},onResize:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event resize because owner is destroyed!");var l=function(e){null!=t&&(i.offResize(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindResize&&(this.__cbOnOwnerUnbindResize=[]),this.__cbOnOwnerUnbindResize.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindResize&&(this.__cbOnOwnerUnbindResize=[]),this.__cbOnOwnerUnbindResize.push(null);null==this.__cbOnResize&&(this.__cbOnResize=[]),this.__cbOnResize.push(t)},onceResize:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event resize because owner is destroyed!");var l=function(e){null!=t&&(i.offResize(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindResize&&(this.__cbOnceOwnerUnbindResize=[]),this.__cbOnceOwnerUnbindResize.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindResize&&(this.__cbOnceOwnerUnbindResize=[]),this.__cbOnceOwnerUnbindResize.push(null);null==this.__cbOnceResize&&(this.__cbOnceResize=[]),this.__cbOnceResize.push(t)},offResize:function(e){if(null!=e){var n;null!=this.__cbOnResize&&-1!=(n=this.__cbOnResize.indexOf(e))&&(this.__cbOnResize.splice(n,1),null!=(s=this.__cbOnOwnerUnbindResize[n])&&s(),this.__cbOnOwnerUnbindResize.splice(n,1)),null!=this.__cbOnceResize&&-1!=(n=this.__cbOnceResize.indexOf(e))&&(this.__cbOnceResize.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindResize[n])&&s(),this.__cbOnceOwnerUnbindResize.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindResize){for(var t=0,i=this.__cbOnOwnerUnbindResize.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindResize[l])&&s()}this.__cbOnOwnerUnbindResize=null}if(null!=this.__cbOnceOwnerUnbindResize){for(t=0,i=this.__cbOnceOwnerUnbindResize.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindResize[l])&&s()}this.__cbOnceOwnerUnbindResize=null}this.__cbOnResize=null,this.__cbOnceResize=null}},listensResize:function(){return null!=this.__cbOnResize&&0<this.__cbOnResize.length||null!=this.__cbOnceResize&&0<this.__cbOnceResize.length},sizeDirty:null,emitResizeIfNeeded:function(){this._lifecycleState<0||!this.sizeDirty||(this.sizeDirty=!1,this.emitResize(this.get_width(),this.get_height()))},willEmitResize:function(e,n){},didEmitResize:function(e,n){},set_width:function(e){return this._width==e||(p.prototype.set_width.call(this,e),this.sizeDirty)||(this.sizeDirty=!0,ae.app._onceImmediate($bind(this,this.emitResizeIfNeeded))),e},set_height:function(e){return this._height==e||(p.prototype.set_height.call(this,e),this.sizeDirty)||(this.sizeDirty=!0,ae.app._onceImmediate($bind(this,this.emitResizeIfNeeded))),e},unbindEvents:function(){p.prototype.unbindEvents.call(this),this.offResize()},__class__:q}),(E["ceramic.Preloadable"]=r).__name__="ceramic.Preloadable",r.__isInterface__=!0,r.prototype={requestPreloadUpdate:null,__class__:r},(E["tracker.Observable"]=s).__name__="tracker.Observable",s.__isInterface__=!0,(E["ceramic.Scene"]=t).__name__="ceramic.Scene",t.__interfaces__=[r,s],t.__super__=q,t.prototype=$extend(q.prototype,{__cbOnObservedDirty:null,__cbOnceObservedDirty:null,__cbOnOwnerUnbindObservedDirty:null,__cbOnceOwnerUnbindObservedDirty:null,emitObservedDirty:function(e,n){var t=0;if(null!=this.__cbOnObservedDirty&&(t+=this.__cbOnObservedDirty.length),null!=this.__cbOnceObservedDirty&&(t+=this.__cbOnceObservedDirty.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnObservedDirty)for(var r=0,h=this.__cbOnObservedDirty.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnObservedDirty[a],++s):--t}if(null!=this.__cbOnceObservedDirty){for(var o=null,c=null,r=0,h=this.__cbOnceObservedDirty.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceObservedDirty[a],this.__cbOnceObservedDirty[a]=null,u=this.__cbOnceOwnerUnbindObservedDirty[a],(this.__cbOnceOwnerUnbindObservedDirty[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindObservedDirty[a]),c.push(this.__cbOnceObservedDirty[a]))}this.__cbOnceOwnerUnbindObservedDirty=o,this.__cbOnceObservedDirty=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onObservedDirty:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event observedDirty because owner is destroyed!");var l=function(e){null!=t&&(i.offObservedDirty(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push(null);null==this.__cbOnObservedDirty&&(this.__cbOnObservedDirty=[]),this.__cbOnObservedDirty.push(t)},onceObservedDirty:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event observedDirty because owner is destroyed!");var l=function(e){null!=t&&(i.offObservedDirty(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push(null);null==this.__cbOnceObservedDirty&&(this.__cbOnceObservedDirty=[]),this.__cbOnceObservedDirty.push(t)},offObservedDirty:function(e){if(null!=e){var n;null!=this.__cbOnObservedDirty&&-1!=(n=this.__cbOnObservedDirty.indexOf(e))&&(this.__cbOnObservedDirty.splice(n,1),null!=(s=this.__cbOnOwnerUnbindObservedDirty[n])&&s(),this.__cbOnOwnerUnbindObservedDirty.splice(n,1)),null!=this.__cbOnceObservedDirty&&-1!=(n=this.__cbOnceObservedDirty.indexOf(e))&&(this.__cbOnceObservedDirty.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindObservedDirty[n])&&s(),this.__cbOnceOwnerUnbindObservedDirty.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindObservedDirty){for(var t=0,i=this.__cbOnOwnerUnbindObservedDirty.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindObservedDirty[l])&&s()}this.__cbOnOwnerUnbindObservedDirty=null}if(null!=this.__cbOnceOwnerUnbindObservedDirty){for(t=0,i=this.__cbOnceOwnerUnbindObservedDirty.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindObservedDirty[l])&&s()}this.__cbOnceOwnerUnbindObservedDirty=null}this.__cbOnObservedDirty=null,this.__cbOnceObservedDirty=null}},listensObservedDirty:function(){return null!=this.__cbOnObservedDirty&&0<this.__cbOnObservedDirty.length||null!=this.__cbOnceObservedDirty&&0<this.__cbOnceObservedDirty.length},observedDirty:null,_assets:null,_assetsProgress:null,_assetsTotal:null,_assetsFailure:null,__cbOnReplace:null,__cbOnceReplace:null,__cbOnOwnerUnbindReplace:null,__cbOnceOwnerUnbindReplace:null,emitReplace:function(e){var n=0;if(null!=this.__cbOnReplace&&(n+=this.__cbOnReplace.length),null!=this.__cbOnceReplace&&(n+=this.__cbOnceReplace.length),0<n){var t=C.pool(n),i=t.get(),l=0;if(null!=this.__cbOnReplace)for(var s=0,r=this.__cbOnReplace.length;s<r;){var h=s++;!0?(i.vector[l]=this.__cbOnReplace[h],++l):--n}if(null!=this.__cbOnceReplace){for(var a=null,o=null,s=0,r=this.__cbOnceReplace.length;s<r;){var c,h=s++;!0?(i.vector[l]=this.__cbOnceReplace[h],this.__cbOnceReplace[h]=null,c=this.__cbOnceOwnerUnbindReplace[h],(this.__cbOnceOwnerUnbindReplace[h]=null)!=c&&c(),++l):(--n,null==a&&(a=[],o=[],0),a.push(this.__cbOnceOwnerUnbindReplace[h]),o.push(this.__cbOnceReplace[h]))}this.__cbOnceOwnerUnbindReplace=a,this.__cbOnceReplace=o}for(s=0,r=n;s<r;){l=s++;(0,i.vector[l])(e)}t.release(i)}},onReplace:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event replace because owner is destroyed!");var l=function(e){null!=t&&(i.offReplace(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindReplace&&(this.__cbOnOwnerUnbindReplace=[]),this.__cbOnOwnerUnbindReplace.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindReplace&&(this.__cbOnOwnerUnbindReplace=[]),this.__cbOnOwnerUnbindReplace.push(null);null==this.__cbOnReplace&&(this.__cbOnReplace=[]),this.__cbOnReplace.push(t)},onceReplace:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event replace because owner is destroyed!");var l=function(e){null!=t&&(i.offReplace(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindReplace&&(this.__cbOnceOwnerUnbindReplace=[]),this.__cbOnceOwnerUnbindReplace.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindReplace&&(this.__cbOnceOwnerUnbindReplace=[]),this.__cbOnceOwnerUnbindReplace.push(null);null==this.__cbOnceReplace&&(this.__cbOnceReplace=[]),this.__cbOnceReplace.push(t)},offReplace:function(e){if(null!=e){var n;null!=this.__cbOnReplace&&-1!=(n=this.__cbOnReplace.indexOf(e))&&(this.__cbOnReplace.splice(n,1),null!=(s=this.__cbOnOwnerUnbindReplace[n])&&s(),this.__cbOnOwnerUnbindReplace.splice(n,1)),null!=this.__cbOnceReplace&&-1!=(n=this.__cbOnceReplace.indexOf(e))&&(this.__cbOnceReplace.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindReplace[n])&&s(),this.__cbOnceOwnerUnbindReplace.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindReplace){for(var t=0,i=this.__cbOnOwnerUnbindReplace.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindReplace[l])&&s()}this.__cbOnOwnerUnbindReplace=null}if(null!=this.__cbOnceOwnerUnbindReplace){for(t=0,i=this.__cbOnceOwnerUnbindReplace.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindReplace[l])&&s()}this.__cbOnceOwnerUnbindReplace=null}this.__cbOnReplace=null,this.__cbOnceReplace=null}},listensReplace:function(){return null!=this.__cbOnReplace&&0<this.__cbOnReplace.length||null!=this.__cbOnceReplace&&0<this.__cbOnceReplace.length},statusAutoruns:null,get_status:function(){var e,n,t=this.unobservedStatus;return null!=A.current&&(e=A.current,null!=(n=this.statusAutoruns)||(n=A.getAutorunArray(),null!=(this.statusAutoruns=n)))&&e.bindToAutorunArray(n),t},set_status:function(e){var n=this.unobservedStatus;return n!=(this.unobservedStatus=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitStatusChange(e,n),null!=(n=this.statusAutoruns))&&(this.statusAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateStatus:function(){var e=this.unobservedStatus,e=(this.emitStatusChange(e,e),this.statusAutoruns);null!=e&&(this.statusAutoruns=null,A.invalidateAutorunArray(e))},unobservedStatus:null,__cbOnStatusChange:null,__cbOnceStatusChange:null,__cbOnOwnerUnbindStatusChange:null,__cbOnceOwnerUnbindStatusChange:null,emitStatusChange:function(e,n){var t=0;if(null!=this.__cbOnStatusChange&&(t+=this.__cbOnStatusChange.length),null!=this.__cbOnceStatusChange&&(t+=this.__cbOnceStatusChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnStatusChange)for(var r=0,h=this.__cbOnStatusChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnStatusChange[a],++s):--t}if(null!=this.__cbOnceStatusChange){for(var o=null,c=null,r=0,h=this.__cbOnceStatusChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceStatusChange[a],this.__cbOnceStatusChange[a]=null,u=this.__cbOnceOwnerUnbindStatusChange[a],(this.__cbOnceOwnerUnbindStatusChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindStatusChange[a]),c.push(this.__cbOnceStatusChange[a]))}this.__cbOnceOwnerUnbindStatusChange=o,this.__cbOnceStatusChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onStatusChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event statusChange because owner is destroyed!");var l=function(e){null!=t&&(i.offStatusChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindStatusChange&&(this.__cbOnOwnerUnbindStatusChange=[]),this.__cbOnOwnerUnbindStatusChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindStatusChange&&(this.__cbOnOwnerUnbindStatusChange=[]),this.__cbOnOwnerUnbindStatusChange.push(null);null==this.__cbOnStatusChange&&(this.__cbOnStatusChange=[]),this.__cbOnStatusChange.push(t)},onceStatusChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event statusChange because owner is destroyed!");var l=function(e){null!=t&&(i.offStatusChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindStatusChange&&(this.__cbOnceOwnerUnbindStatusChange=[]),this.__cbOnceOwnerUnbindStatusChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindStatusChange&&(this.__cbOnceOwnerUnbindStatusChange=[]),this.__cbOnceOwnerUnbindStatusChange.push(null);null==this.__cbOnceStatusChange&&(this.__cbOnceStatusChange=[]),this.__cbOnceStatusChange.push(t)},offStatusChange:function(e){if(null!=e){var n;null!=this.__cbOnStatusChange&&-1!=(n=this.__cbOnStatusChange.indexOf(e))&&(this.__cbOnStatusChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindStatusChange[n])&&s(),this.__cbOnOwnerUnbindStatusChange.splice(n,1)),null!=this.__cbOnceStatusChange&&-1!=(n=this.__cbOnceStatusChange.indexOf(e))&&(this.__cbOnceStatusChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindStatusChange[n])&&s(),this.__cbOnceOwnerUnbindStatusChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindStatusChange){for(var t=0,i=this.__cbOnOwnerUnbindStatusChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindStatusChange[l])&&s()}this.__cbOnOwnerUnbindStatusChange=null}if(null!=this.__cbOnceOwnerUnbindStatusChange){for(t=0,i=this.__cbOnceOwnerUnbindStatusChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindStatusChange[l])&&s()}this.__cbOnceOwnerUnbindStatusChange=null}this.__cbOnStatusChange=null,this.__cbOnceStatusChange=null}},listensStatusChange:function(){return null!=this.__cbOnStatusChange&&0<this.__cbOnStatusChange.length||null!=this.__cbOnceStatusChange&&0<this.__cbOnceStatusChange.length},get_assets:function(){var i=this;return null==this._assets&&0<=this._lifecycleState&&(this._assets=new Oe,this._assets.loadMethod=1,this._assets.scheduleMethod=1,this._assets.delayBetweenXAssets=4,this._assets.onProgress(this,function(e,n,t){i._assetsProgress=e,i._assetsTotal=n}),this._assets.onceComplete(this,function(e){e||(i._assetsFailure=!0)})),this._assets},set_assets:function(e){return this._assets=e},isRootScene:null,autoUpdate:null,autoUpdateWhenInactive:null,paused:null,_boot:function(){var e,n;0!=this.get_status()?(e=ae.app.logger,n=this.get_status(),e.warning("Scene already booted! (status: "+(null==n?"null":Jn.toString(n))+")",{fileName:"../../../../ceramic/runtime/src/ceramic/Scene.hx",lineNumber:151,className:"ceramic.Scene",methodName:"_boot"})):(this.set_status(1),this.preload(),this.set_status(2),null!=this._assets&&this._assets.hasAnythingToLoad()?(this._assets.onceComplete(this,$bind(this,this._handleAssetsComplete)),this._assets.load(!1,{fileName:"../../../../ceramic/runtime/src/ceramic/Scene.hx",lineNumber:162,className:"ceramic.Scene",methodName:"_boot"})):this.load($bind(this,this.internalCreate)))},internalCreate:function(){this.set_status(3);try{this.create(),this.fadeIn($bind(this,this._fadeInDone))}catch(e){Sl.lastError=e;var n=$.caught(e).unwrap();hn.handleUncaughtError(n)}},_fadeInDone:function(){},_handleAssetsComplete:function(e){e?ae.app._onceImmediateWithOwner(this,$bind(this,this.internalLoad)):ae.app.logger.error("Failed to load all scene assets!",{fileName:"../../../../ceramic/runtime/src/ceramic/Scene.hx",lineNumber:196,className:"ceramic.Scene",methodName:"_handleAssetsComplete"})},internalLoad:function(){this.load($bind(this,this.internalCreate))},willEmitResize:function(e,n){this.resize(e,n)},preload:function(){},load:function(e){0<=this._lifecycleState&&e()},create:function(){},ready:function(){},update:function(e){},resize:function(e,n){},_fadeIn:function(e){e()},_fadeOut:function(e){e()},fadeIn:function(e){var n=this;this.set_status(4),this._fadeIn(function(){n.set_status(5),0<=n._lifecycleState&&(n.ready(),e())})},fadeOut:function(e){var n=this;this.set_status(6),this._fadeOut(function(){n.set_status(7),0<=n._lifecycleState&&e()})},isReady:function(){switch(this.get_status()){case 0:case 1:case 2:case 3:case 4:return!1;case 5:return!0;case 6:case 7:return!1}},scheduleOnceReady:function(t,i){var l=this;if(this._lifecycleState<0)return ae.app.logger.warning("Cannot schedule callback on destroyed scene",{fileName:"../../../../ceramic/runtime/src/ceramic/Scene.hx",lineNumber:363,className:"ceramic.Scene",methodName:"scheduleOnceReady"}),!1;switch(this.get_status()){case 0:case 1:case 2:case 3:case 4:return this.onceStatusChange(t,function(e,n){l.scheduleOnceReady(t,i)}),!0;case 5:return i(),!0;case 6:case 7:var e=ae.app.logger,n=this.get_status();return e.warning("Cannot schedule callback on scene with status: "+(null==n?"null":Jn.toString(n)),{fileName:"../../../../ceramic/runtime/src/ceramic/Scene.hx",lineNumber:380,className:"ceramic.Scene",methodName:"scheduleOnceReady"}),!1}},requestPreloadUpdate:function(e){var n=1<=this._assetsTotal?this._assetsTotal:1;if(this._assetsFailure)e(this._assetsProgress,n,-1);else switch(this.get_status()){case 0:e(0,0,0);break;case 1:case 2:e(this._assetsProgress,n,1);break;case 3:e(n,n,1);break;case 4:case 5:case 6:case 7:e(n,n,2)}},destroy:function(){this._lifecycleState<=-2||(this._lifecycleState=-2,he.remove(et.get_shared().all,this),null!=this._assets&&(this._assets.destroy(),this._assets=null),this._lifecycleState=-1,q.prototype.destroy.call(this))},unbindEvents:function(){q.prototype.unbindEvents.call(this),this.offObservedDirty(),this.offStatusChange(),this.offReplace()},__class__:t,__properties__:$extend(q.prototype.__properties__,{set_assets:"set_assets",get_assets:"get_assets",set_status:"set_status",get_status:"get_status"})}),(E.MainScene=u).__name__="MainScene",u.__super__=t,u.prototype=$extend(t.prototype,{pixelArt:null,zoom:null,preload:function(){this.get_assets()._add(fe.SINGLE_TILE,null,null)},create:function(){this.pixelArt=ae.app.get_scenes().filter,this.createTilemap()},createTilemap:function(){var e=new Vt,n=(e.set_firstGid(1),e.tileSize(8,8),e.set_texture(this.get_assets().texture(fe.SINGLE_TILE)),e.set_columns(1),new kt),t=(n.set_name("main"),n.grid(10,10),n.tileSize(8,8),n.set_tiles([1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,1,0,1,1,1,0,0,1,1,1,1,0,0,0,0,0,0,1,0,1,1,0,0,0,0,0,0,0,0,1,1,0,0,1,1,1,0,0,0,1,1,1,1,1,0,1,1,0,0,1,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1]),new St),e=(t.size(n.get_columns()*e.get_tileWidth(),n.get_rows()*e.get_tileHeight()),t.set_tilesets([e]),t.set_layers([n]),new xt);e.set_tilemapData(t),e.set_x(8),e.set_y(8),this.add(e)},update:function(e){var n,t,i=this,s=320;Y._begin("Settings",null,s=null==s?200:s,-60001,{fileName:"../../../src/MainScene.hx",lineNumber:85,className:"MainScene",methodName:"update"}),Y.slideFloat("Sharpness",function(e){return null!=e?i.pixelArt.set_sharpness(e):i.pixelArt.sharpness},1,16,1),Y.slideFloat("Zoom",function(e){return null!=e?i.zoom=e:i.zoom},1,8,10)&&(null==this.pixelArt.transform&&this.pixelArt.set_transform(new l),(s=this.pixelArt.transform).a=1,s.b=0,s.c=0,s.d=1,s.tx=0,s.ty=0,s.changedDirty=!0,(s=this.pixelArt.transform).tx+=-8,s.ty+=-8,s.changedDirty=!0,s=this.pixelArt.transform,n=this.zoom,t=this.zoom,s.a*=n,s.b*=t,s.c*=n,s.d*=t,s.tx*=n,s.ty*=t,s.changedDirty=!0,(s=this.pixelArt.transform).tx+=8,s.ty+=8,s.changedDirty=!0),Y.slideFloat("Grid thickness",function(e){return null!=e?i.pixelArt.set_gridThickness(e):i.pixelArt.gridThickness},0,1),Y.slideFloat("Grid alpha",function(e){return null!=e?i.pixelArt.set_gridAlpha(e):i.pixelArt.gridAlpha},0,1),Y.editColor("Grid color",function(e){return null!=e?i.pixelArt.set_gridColor(e):i.pixelArt.gridColor}),Y.end()},__class__:u}),Math.__name__="Math",(E.Project=v).__name__="Project",v.__super__=j,v.prototype=$extend(j.prototype,{ready:function(){var e=new Gn;e.bindToScreenSize(),ae.app.get_scenes().set_filter(e),ae.app.get_scenes().set_main(new u)},__class__:v}),function(){}),K=((E.Reflect=L).__name__="Reflect",L.field=function(e,n){try{return e[n]}catch(e){return Sl.lastError=e,null}},L.getProperty=function(e,n){var t;return null==e?null:!!e.__properties__&&(t=e.__properties__["get_"+n])?e[t]():e[n]},L.setProperty=function(e,n,t){var i,l=!!e.__properties__&&(i=e.__properties__["set_"+n]);l?e[i](t):e[n]=t},L.fields=function(e){var n=[];if(null!=e){var t,i=Object.prototype.hasOwnProperty;for(t in e)"__id__"!=t&&"hx__closures__"!=t&&i.call(e,t)&&n.push(t)}return n},L.isFunction=function(e){return"function"==typeof e&&!(e.__name__||e.__ename__)},L.isObject=function(e){var n;return null!=e&&("string"==(n=typeof e)||"object"==n&&null==e.__enum__||"function"==n&&null!=(e.__name__||e.__ename__))},L.deleteField=function(e,n){return!!Object.prototype.hasOwnProperty.call(e,n)&&(delete e[n],!0)},function(){}),de=((E.Std=K).__name__="Std",K.string=function(e){return Os.__string_rec(e,"")},K.parseInt=function(e){e=parseInt(e);return isNaN(e)?null:e},(E.StringBuf=y).__name__="StringBuf",y.prototype={b:null,__class__:y},(E.StringTools=z).__name__="StringTools",z.htmlEscape=function(e,n){for(var t="",i=0,l=e;i<l.length;){var s=i++,r=(e=l).charCodeAt(s),h=(r=55296<=r&&r<=56319?r-55232<<10|1023&e.charCodeAt(1+s):r,65536<=r&&++i,r);switch(h){case 34:t+=n?"&quot;":String.fromCodePoint(h);break;case 38:t+="&amp;";break;case 39:t+=n?"&#039;":String.fromCodePoint(h);break;case 60:t+="&lt;";break;case 62:t+="&gt;";break;default:t+=String.fromCodePoint(h)}}return t},z.startsWith=function(e,n){return e.length>=n.length&&0==e.lastIndexOf(n,0)},z.endsWith=function(e,n){var t=n.length,i=e.length;return t<=i&&e.indexOf(n,i-t)==i-t},z.isSpace=function(e,n){e=he.cca(e,n);return 8<e&&e<14||32==e},z.ltrim=function(e){for(var n=e.length,t=0;t<n&&z.isSpace(e,t);)++t;return 0<t?he.substr(e,t,n-t):e},z.rtrim=function(e){for(var n=e.length,t=0;t<n&&z.isSpace(e,n-t-1);)++t;return 0<t?he.substr(e,0,n-t):e},z.trim=function(e){return z.ltrim(z.rtrim(e))},z.replace=function(e,n,t){return e.split(n).join(t)},z.hex=function(e,n){for(var t="";t="0123456789ABCDEF".charAt(15&e)+t,0<(e>>>=4););if(null!=n)for(;t.length<n;)t="0"+t;return t},_e.ValueType={__ename__:"ValueType",__constructs__:null,TNull:{_hx_name:"TNull",_hx_index:0,__enum__:"ValueType",toString:c},TInt:{_hx_name:"TInt",_hx_index:1,__enum__:"ValueType",toString:c},TFloat:{_hx_name:"TFloat",_hx_index:2,__enum__:"ValueType",toString:c},TBool:{_hx_name:"TBool",_hx_index:3,__enum__:"ValueType",toString:c},TObject:{_hx_name:"TObject",_hx_index:4,__enum__:"ValueType",toString:c},TFunction:{_hx_name:"TFunction",_hx_index:5,__enum__:"ValueType",toString:c},TClass:((b=function(e){return{_hx_index:6,c:e,__enum__:"ValueType",toString:c}})._hx_name="TClass",b.__params__=["c"],b),TEnum:((b=function(e){return{_hx_index:7,e:e,__enum__:"ValueType",toString:c}})._hx_name="TEnum",b.__params__=["e"],b),TUnknown:{_hx_name:"TUnknown",_hx_index:8,__enum__:"ValueType",toString:c}}),ge=(de.__constructs__=[de.TNull,de.TInt,de.TFloat,de.TBool,de.TObject,de.TFunction,de.TClass,de.TEnum,de.TUnknown],(E.Type=B).__name__="Type",B.createInstance=function(e,n){return new(Function.prototype.bind.apply(e,[null].concat(n)))},B.createEnum=function(e,n,t){var i=L.field(e,n);if(null==i)throw $.thrown("No such constructor "+n);if(L.isFunction(i)){if(null==t)throw $.thrown("Constructor "+n+" need parameters");return i.apply(e,t)}if(null!=t&&0!=t.length)throw $.thrown("Constructor "+n+" does not need parameters");return i},B.getInstanceFields=function(e){var n,t=[];for(n in e.prototype)t.push(n);return he.remove(t,"__class__"),he.remove(t,"__properties__"),t},B.typeof=function(e){switch(typeof e){case"boolean":return de.TBool;case"function":return e.__name__||e.__ename__?de.TObject:de.TFunction;case"number":return Math.ceil(e)==e%2147483648?de.TInt:de.TFloat;case"object":var n;return null==e?de.TNull:null!=(n=e.__enum__)?de.TEnum(_e[n]):null!=(n=Os.getClass(e))?de.TClass(n):de.TObject;case"string":return de.TClass(String);case"undefined":return de.TNull;default:return de.TUnknown}},B.enumParameters=function(e){var n=_e[e.__enum__].__constructs__[e._hx_index].__params__;if(null==n)return[];for(var t=[],i=0;i<n.length;){var l=n[i];++i,t.push(e[l])}return t},{}),Oe=(ge.toString=function(e){switch(e){case 0:return"Element";case 1:return"PCData";case 2:return"CData";case 3:return"Comment";case 4:return"DocType";case 5:return"ProcessingInstruction";case 6:return"Document"}},(E.Xml=D).__name__="Xml",D.parse=function(e){return us.parse(e)},D.createElement=function(e){var n=new D(D.Element);if(n.nodeType!=D.Element)throw $.thrown("Bad node type, expected Element but found "+(null==n.nodeType?"null":ge.toString(n.nodeType)));return n.nodeName=e,n},D.createPCData=function(e){var n=new D(D.PCData);if(n.nodeType==D.Document||n.nodeType==D.Element)throw $.thrown("Bad node type, unexpected "+(null==n.nodeType?"null":ge.toString(n.nodeType)));return n.nodeValue=e,n},D.createCData=function(e){var n=new D(D.CData);if(n.nodeType==D.Document||n.nodeType==D.Element)throw $.thrown("Bad node type, unexpected "+(null==n.nodeType?"null":ge.toString(n.nodeType)));return n.nodeValue=e,n},D.createComment=function(e){var n=new D(D.Comment);if(n.nodeType==D.Document||n.nodeType==D.Element)throw $.thrown("Bad node type, unexpected "+(null==n.nodeType?"null":ge.toString(n.nodeType)));return n.nodeValue=e,n},D.createDocType=function(e){var n=new D(D.DocType);if(n.nodeType==D.Document||n.nodeType==D.Element)throw $.thrown("Bad node type, unexpected "+(null==n.nodeType?"null":ge.toString(n.nodeType)));return n.nodeValue=e,n},D.createProcessingInstruction=function(e){var n=new D(D.ProcessingInstruction);if(n.nodeType==D.Document||n.nodeType==D.Element)throw $.thrown("Bad node type, unexpected "+(null==n.nodeType?"null":ge.toString(n.nodeType)));return n.nodeValue=e,n},D.createDocument=function(){return new D(D.Document)},D.prototype={nodeType:null,nodeName:null,nodeValue:null,parent:null,children:null,attributeMap:null,get:function(e){if(this.nodeType!=D.Element)throw $.thrown("Bad node type, expected Element but found "+(null==this.nodeType?"null":ge.toString(this.nodeType)));return this.attributeMap.h[e]},set:function(e,n){if(this.nodeType!=D.Element)throw $.thrown("Bad node type, expected Element but found "+(null==this.nodeType?"null":ge.toString(this.nodeType)));this.attributeMap.h[e]=n},exists:function(e){if(this.nodeType!=D.Element)throw $.thrown("Bad node type, expected Element but found "+(null==this.nodeType?"null":ge.toString(this.nodeType)));return Object.prototype.hasOwnProperty.call(this.attributeMap.h,e)},attributes:function(){if(this.nodeType!=D.Element)throw $.thrown("Bad node type, expected Element but found "+(null==this.nodeType?"null":ge.toString(this.nodeType)));return new zl(this.attributeMap.h)},elements:function(){if(this.nodeType!=D.Document&&this.nodeType!=D.Element)throw $.thrown("Bad node type, expected Element or Document but found "+(null==this.nodeType?"null":ge.toString(this.nodeType)));for(var e=[],n=0,t=this.children;n<t.length;){var i=t[n];++n,i.nodeType==D.Element&&e.push(i)}return new Jl(e)},elementsNamed:function(e){if(this.nodeType!=D.Document&&this.nodeType!=D.Element)throw $.thrown("Bad node type, expected Element or Document but found "+(null==this.nodeType?"null":ge.toString(this.nodeType)));for(var n=[],t=0,i=this.children;t<i.length;){var l,s=i[t];if(++t,s.nodeType==D.Element){if(s.nodeType!=D.Element)throw $.thrown("Bad node type, expected Element but found "+(null==s.nodeType?"null":ge.toString(s.nodeType)));l=s.nodeName==e}else l=!1;l&&n.push(s)}return new Jl(n)},firstElement:function(){if(this.nodeType!=D.Document&&this.nodeType!=D.Element)throw $.thrown("Bad node type, expected Element or Document but found "+(null==this.nodeType?"null":ge.toString(this.nodeType)));for(var e=0,n=this.children;e<n.length;){var t=n[e];if(++e,t.nodeType==D.Element)return t}return null},addChild:function(e){if(this.nodeType!=D.Document&&this.nodeType!=D.Element)throw $.thrown("Bad node type, expected Element or Document but found "+(null==this.nodeType?"null":ge.toString(this.nodeType)));null!=e.parent&&e.parent.removeChild(e),this.children.push(e),e.parent=this},removeChild:function(e){if(this.nodeType!=D.Document&&this.nodeType!=D.Element)throw $.thrown("Bad node type, expected Element or Document but found "+(null==this.nodeType?"null":ge.toString(this.nodeType)));return!!he.remove(this.children,e)&&!(e.parent=null)},toString:function(){return _s.print(this)},__class__:D},function(){this.hotReload=!1,this.pendingAtlasPackers=null,this.atlasPacker=null,this.parent=null,this.reloadOnTextureDensityChange=!0,this.delayBetweenXAssets=-1,this.scheduleMethod=1,this.loadMethod=2,this.defaultImageOptions=null,this.runtimeAssets=null,this.immediate=new pn,this.assetsByKindAndName=new Nl,this.addedAssets=[],j.call(this),Oe.instances.push(this)}),fe=((E["ceramic.Assets"]=Oe).__name__="ceramic.Assets",Oe.flushAllInstancesImmediate=function(){for(var e=Oe.instances.length,n=0,t=e;n<t;){var i=n++;Oe._instances[i]=Oe.instances[i]}for(n=0,t=e;n<t;){var i=n++,l=Oe._instances[i];Oe._instances[i]=null,0<=l._lifecycleState&&l.immediate.flush()}},Oe.decodePath=function(e){return new Fe(e)},Oe.addAssetKind=function(e,n,t,i,l){var s=Oe.customAssetKinds,n=new ln(e,n,t,i,l);s.h[e]=n},Oe.getAssetsPath=function(){return Yn.getAssetsPath()},Oe.assetNameFromPath=function(e){for(var n=Oe.allByName.h,t=Object.keys(n),i=t.length,l=0;l<i;)for(var s=t[l++],r=Oe.allByName.h[s],h=0,a=r.length;h<a;)if(r[h++]==e)return s;return null},Oe.realAssetPath=function(e,n){return null!=n?null!=n.path?Nn.join([n.path,e]):e:e},Oe.incrementReloadCount=function(e){e=Nn.normalize(e),null==Oe.reloadCountByRealAssetPath&&(Oe.reloadCountByRealAssetPath=new Nl),Object.prototype.hasOwnProperty.call(Oe.reloadCountByRealAssetPath.h,e)?Oe.reloadCountByRealAssetPath.h[e]+=1:Oe.reloadCountByRealAssetPath.h[e]=1},Oe.getReloadCount=function(e){return e=Nn.normalize(e),null!=Oe.reloadCountByRealAssetPath&&Object.prototype.hasOwnProperty.call(Oe.reloadCountByRealAssetPath.h,e)?Oe.reloadCountByRealAssetPath.h[e]:0},Oe.__super__=j,Oe.prototype=$extend(j.prototype,{__cbOnComplete:null,__cbOnceComplete:null,__cbOnOwnerUnbindComplete:null,__cbOnceOwnerUnbindComplete:null,emitComplete:function(e){var n=0;if(null!=this.__cbOnComplete&&(n+=this.__cbOnComplete.length),null!=this.__cbOnceComplete&&(n+=this.__cbOnceComplete.length),0<n){var t=C.pool(n),i=t.get(),l=0;if(null!=this.__cbOnComplete)for(var s=0,r=this.__cbOnComplete.length;s<r;){var h=s++;!0?(i.vector[l]=this.__cbOnComplete[h],++l):--n}if(null!=this.__cbOnceComplete){for(var a=null,o=null,s=0,r=this.__cbOnceComplete.length;s<r;){var c,h=s++;!0?(i.vector[l]=this.__cbOnceComplete[h],this.__cbOnceComplete[h]=null,c=this.__cbOnceOwnerUnbindComplete[h],(this.__cbOnceOwnerUnbindComplete[h]=null)!=c&&c(),++l):(--n,null==a&&(a=[],o=[],0),a.push(this.__cbOnceOwnerUnbindComplete[h]),o.push(this.__cbOnceComplete[h]))}this.__cbOnceOwnerUnbindComplete=a,this.__cbOnceComplete=o}for(s=0,r=n;s<r;){l=s++;(0,i.vector[l])(e)}t.release(i)}},onComplete:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event complete because owner is destroyed!");var l=function(e){null!=t&&(i.offComplete(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindComplete&&(this.__cbOnOwnerUnbindComplete=[]),this.__cbOnOwnerUnbindComplete.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindComplete&&(this.__cbOnOwnerUnbindComplete=[]),this.__cbOnOwnerUnbindComplete.push(null);null==this.__cbOnComplete&&(this.__cbOnComplete=[]),this.__cbOnComplete.push(t)},onceComplete:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event complete because owner is destroyed!");var l=function(e){null!=t&&(i.offComplete(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindComplete&&(this.__cbOnceOwnerUnbindComplete=[]),this.__cbOnceOwnerUnbindComplete.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindComplete&&(this.__cbOnceOwnerUnbindComplete=[]),this.__cbOnceOwnerUnbindComplete.push(null);null==this.__cbOnceComplete&&(this.__cbOnceComplete=[]),this.__cbOnceComplete.push(t)},offComplete:function(e){if(null!=e){var n;null!=this.__cbOnComplete&&-1!=(n=this.__cbOnComplete.indexOf(e))&&(this.__cbOnComplete.splice(n,1),null!=(s=this.__cbOnOwnerUnbindComplete[n])&&s(),this.__cbOnOwnerUnbindComplete.splice(n,1)),null!=this.__cbOnceComplete&&-1!=(n=this.__cbOnceComplete.indexOf(e))&&(this.__cbOnceComplete.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindComplete[n])&&s(),this.__cbOnceOwnerUnbindComplete.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindComplete){for(var t=0,i=this.__cbOnOwnerUnbindComplete.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindComplete[l])&&s()}this.__cbOnOwnerUnbindComplete=null}if(null!=this.__cbOnceOwnerUnbindComplete){for(t=0,i=this.__cbOnceOwnerUnbindComplete.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindComplete[l])&&s()}this.__cbOnceOwnerUnbindComplete=null}this.__cbOnComplete=null,this.__cbOnceComplete=null}},listensComplete:function(){return null!=this.__cbOnComplete&&0<this.__cbOnComplete.length||null!=this.__cbOnceComplete&&0<this.__cbOnceComplete.length},__cbOnUpdate:null,__cbOnceUpdate:null,__cbOnOwnerUnbindUpdate:null,__cbOnceOwnerUnbindUpdate:null,emitUpdate:function(e){var n=0;if(null!=this.__cbOnUpdate&&(n+=this.__cbOnUpdate.length),null!=this.__cbOnceUpdate&&(n+=this.__cbOnceUpdate.length),0<n){var t=C.pool(n),i=t.get(),l=0;if(null!=this.__cbOnUpdate)for(var s=0,r=this.__cbOnUpdate.length;s<r;){var h=s++;!0?(i.vector[l]=this.__cbOnUpdate[h],++l):--n}if(null!=this.__cbOnceUpdate){for(var a=null,o=null,s=0,r=this.__cbOnceUpdate.length;s<r;){var c,h=s++;!0?(i.vector[l]=this.__cbOnceUpdate[h],this.__cbOnceUpdate[h]=null,c=this.__cbOnceOwnerUnbindUpdate[h],(this.__cbOnceOwnerUnbindUpdate[h]=null)!=c&&c(),++l):(--n,null==a&&(a=[],o=[],0),a.push(this.__cbOnceOwnerUnbindUpdate[h]),o.push(this.__cbOnceUpdate[h]))}this.__cbOnceOwnerUnbindUpdate=a,this.__cbOnceUpdate=o}for(s=0,r=n;s<r;){l=s++;(0,i.vector[l])(e)}t.release(i)}},onUpdate:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event update because owner is destroyed!");var l=function(e){null!=t&&(i.offUpdate(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindUpdate&&(this.__cbOnOwnerUnbindUpdate=[]),this.__cbOnOwnerUnbindUpdate.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindUpdate&&(this.__cbOnOwnerUnbindUpdate=[]),this.__cbOnOwnerUnbindUpdate.push(null);null==this.__cbOnUpdate&&(this.__cbOnUpdate=[]),this.__cbOnUpdate.push(t)},onceUpdate:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event update because owner is destroyed!");var l=function(e){null!=t&&(i.offUpdate(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindUpdate&&(this.__cbOnceOwnerUnbindUpdate=[]),this.__cbOnceOwnerUnbindUpdate.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindUpdate&&(this.__cbOnceOwnerUnbindUpdate=[]),this.__cbOnceOwnerUnbindUpdate.push(null);null==this.__cbOnceUpdate&&(this.__cbOnceUpdate=[]),this.__cbOnceUpdate.push(t)},offUpdate:function(e){if(null!=e){var n;null!=this.__cbOnUpdate&&-1!=(n=this.__cbOnUpdate.indexOf(e))&&(this.__cbOnUpdate.splice(n,1),null!=(s=this.__cbOnOwnerUnbindUpdate[n])&&s(),this.__cbOnOwnerUnbindUpdate.splice(n,1)),null!=this.__cbOnceUpdate&&-1!=(n=this.__cbOnceUpdate.indexOf(e))&&(this.__cbOnceUpdate.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindUpdate[n])&&s(),this.__cbOnceOwnerUnbindUpdate.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindUpdate){for(var t=0,i=this.__cbOnOwnerUnbindUpdate.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindUpdate[l])&&s()}this.__cbOnOwnerUnbindUpdate=null}if(null!=this.__cbOnceOwnerUnbindUpdate){for(t=0,i=this.__cbOnceOwnerUnbindUpdate.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindUpdate[l])&&s()}this.__cbOnceOwnerUnbindUpdate=null}this.__cbOnUpdate=null,this.__cbOnceUpdate=null}},listensUpdate:function(){return null!=this.__cbOnUpdate&&0<this.__cbOnUpdate.length||null!=this.__cbOnceUpdate&&0<this.__cbOnceUpdate.length},__cbOnProgress:null,__cbOnceProgress:null,__cbOnOwnerUnbindProgress:null,__cbOnceOwnerUnbindProgress:null,emitProgress:function(e,n,t){var i=0;if(null!=this.__cbOnProgress&&(i+=this.__cbOnProgress.length),null!=this.__cbOnceProgress&&(i+=this.__cbOnceProgress.length),0<i){var l=C.pool(i),s=l.get(),r=0;if(null!=this.__cbOnProgress)for(var h=0,a=this.__cbOnProgress.length;h<a;){var o=h++;!0?(s.vector[r]=this.__cbOnProgress[o],++r):--i}if(null!=this.__cbOnceProgress){for(var c=null,u=null,h=0,a=this.__cbOnceProgress.length;h<a;){var _,o=h++;!0?(s.vector[r]=this.__cbOnceProgress[o],this.__cbOnceProgress[o]=null,_=this.__cbOnceOwnerUnbindProgress[o],(this.__cbOnceOwnerUnbindProgress[o]=null)!=_&&_(),++r):(--i,null==c&&(c=[],u=[],0),c.push(this.__cbOnceOwnerUnbindProgress[o]),u.push(this.__cbOnceProgress[o]))}this.__cbOnceOwnerUnbindProgress=c,this.__cbOnceProgress=u}for(h=0,a=i;h<a;){r=h++;(0,s.vector[r])(e,n,t)}l.release(s)}},onProgress:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event progress because owner is destroyed!");var l=function(e){null!=t&&(i.offProgress(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindProgress&&(this.__cbOnOwnerUnbindProgress=[]),this.__cbOnOwnerUnbindProgress.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindProgress&&(this.__cbOnOwnerUnbindProgress=[]),this.__cbOnOwnerUnbindProgress.push(null);null==this.__cbOnProgress&&(this.__cbOnProgress=[]),this.__cbOnProgress.push(t)},onceProgress:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event progress because owner is destroyed!");var l=function(e){null!=t&&(i.offProgress(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindProgress&&(this.__cbOnceOwnerUnbindProgress=[]),this.__cbOnceOwnerUnbindProgress.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindProgress&&(this.__cbOnceOwnerUnbindProgress=[]),this.__cbOnceOwnerUnbindProgress.push(null);null==this.__cbOnceProgress&&(this.__cbOnceProgress=[]),this.__cbOnceProgress.push(t)},offProgress:function(e){if(null!=e){var n;null!=this.__cbOnProgress&&-1!=(n=this.__cbOnProgress.indexOf(e))&&(this.__cbOnProgress.splice(n,1),null!=(s=this.__cbOnOwnerUnbindProgress[n])&&s(),this.__cbOnOwnerUnbindProgress.splice(n,1)),null!=this.__cbOnceProgress&&-1!=(n=this.__cbOnceProgress.indexOf(e))&&(this.__cbOnceProgress.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindProgress[n])&&s(),this.__cbOnceOwnerUnbindProgress.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindProgress){for(var t=0,i=this.__cbOnOwnerUnbindProgress.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindProgress[l])&&s()}this.__cbOnOwnerUnbindProgress=null}if(null!=this.__cbOnceOwnerUnbindProgress){for(t=0,i=this.__cbOnceOwnerUnbindProgress.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindProgress[l])&&s()}this.__cbOnceOwnerUnbindProgress=null}this.__cbOnProgress=null,this.__cbOnceProgress=null}},listensProgress:function(){return null!=this.__cbOnProgress&&0<this.__cbOnProgress.length||null!=this.__cbOnceProgress&&0<this.__cbOnceProgress.length},__cbOnAssetFilesChange:null,__cbOnceAssetFilesChange:null,__cbOnOwnerUnbindAssetFilesChange:null,__cbOnceOwnerUnbindAssetFilesChange:null,emitAssetFilesChange:function(e,n){var t=0;if(null!=this.__cbOnAssetFilesChange&&(t+=this.__cbOnAssetFilesChange.length),null!=this.__cbOnceAssetFilesChange&&(t+=this.__cbOnceAssetFilesChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnAssetFilesChange)for(var r=0,h=this.__cbOnAssetFilesChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnAssetFilesChange[a],++s):--t}if(null!=this.__cbOnceAssetFilesChange){for(var o=null,c=null,r=0,h=this.__cbOnceAssetFilesChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceAssetFilesChange[a],this.__cbOnceAssetFilesChange[a]=null,u=this.__cbOnceOwnerUnbindAssetFilesChange[a],(this.__cbOnceOwnerUnbindAssetFilesChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindAssetFilesChange[a]),c.push(this.__cbOnceAssetFilesChange[a]))}this.__cbOnceOwnerUnbindAssetFilesChange=o,this.__cbOnceAssetFilesChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onAssetFilesChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event assetFilesChange because owner is destroyed!");var l=function(e){null!=t&&(i.offAssetFilesChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindAssetFilesChange&&(this.__cbOnOwnerUnbindAssetFilesChange=[]),this.__cbOnOwnerUnbindAssetFilesChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindAssetFilesChange&&(this.__cbOnOwnerUnbindAssetFilesChange=[]),this.__cbOnOwnerUnbindAssetFilesChange.push(null);null==this.__cbOnAssetFilesChange&&(this.__cbOnAssetFilesChange=[]),this.__cbOnAssetFilesChange.push(t)},onceAssetFilesChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event assetFilesChange because owner is destroyed!");var l=function(e){null!=t&&(i.offAssetFilesChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindAssetFilesChange&&(this.__cbOnceOwnerUnbindAssetFilesChange=[]),this.__cbOnceOwnerUnbindAssetFilesChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindAssetFilesChange&&(this.__cbOnceOwnerUnbindAssetFilesChange=[]),this.__cbOnceOwnerUnbindAssetFilesChange.push(null);null==this.__cbOnceAssetFilesChange&&(this.__cbOnceAssetFilesChange=[]),this.__cbOnceAssetFilesChange.push(t)},offAssetFilesChange:function(e){if(null!=e){var n;null!=this.__cbOnAssetFilesChange&&-1!=(n=this.__cbOnAssetFilesChange.indexOf(e))&&(this.__cbOnAssetFilesChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindAssetFilesChange[n])&&s(),this.__cbOnOwnerUnbindAssetFilesChange.splice(n,1)),null!=this.__cbOnceAssetFilesChange&&-1!=(n=this.__cbOnceAssetFilesChange.indexOf(e))&&(this.__cbOnceAssetFilesChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindAssetFilesChange[n])&&s(),this.__cbOnceOwnerUnbindAssetFilesChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindAssetFilesChange){for(var t=0,i=this.__cbOnOwnerUnbindAssetFilesChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindAssetFilesChange[l])&&s()}this.__cbOnOwnerUnbindAssetFilesChange=null}if(null!=this.__cbOnceOwnerUnbindAssetFilesChange){for(t=0,i=this.__cbOnceOwnerUnbindAssetFilesChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindAssetFilesChange[l])&&s()}this.__cbOnceOwnerUnbindAssetFilesChange=null}this.__cbOnAssetFilesChange=null,this.__cbOnceAssetFilesChange=null}},listensAssetFilesChange:function(){return null!=this.__cbOnAssetFilesChange&&0<this.__cbOnAssetFilesChange.length||null!=this.__cbOnceAssetFilesChange&&0<this.__cbOnceAssetFilesChange.length},addedAssets:null,assetsByKindAndName:null,immediate:null,runtimeAssets:null,defaultImageOptions:null,loadMethod:null,scheduleMethod:null,delayBetweenXAssets:null,reloadOnTextureDensityChange:null,parent:null,atlasPacker:null,pendingAtlasPackers:null,destroy:function(){if(!(this._lifecycleState<=-2)){this._lifecycleState=-2,this._lifecycleState=-1,j.prototype.destroy.call(this),he.remove(Oe.instances,this);for(var e,n=0,t=[].concat(this.addedAssets);n<t.length;){var i=t[n];++n,i.offDestroy($bind(this,this.assetDestroyed)),i.destroy()}if(this.addedAssets=null,(this.assetsByKindAndName=null)!=this.atlasPacker&&(e=this.atlasPacker,this.atlasPacker=null,e.destroy()),null!=this.pendingAtlasPackers)for(var l=this.pendingAtlasPackers,n=(this.pendingAtlasPackers=null,0),t=l.length;n<t;)l[n++].destroy()}},flush:function(){for(var e=0,n=[].concat(this.addedAssets);e<n.length;){var t=n[e];++e,0==t.refCount&&t.destroy()}},hasAsset:function(e){return-1!=this.addedAssets.indexOf(e)},_add:function(e,n,t){var i="string"==typeof e?e:L.field(e,"_id"),l=i.indexOf(":");if(-1==l)throw $.thrown("Assets: invalid asset id: "+e);var s=he.substr(i,0,l),r=he.substr(i,l+1,null);switch(s){case"atlas":this.addAtlas(r,n,t);break;case"binary":this.addBinary(r,n,t);break;case"database":this.addDatabase(r,n,t);break;case"font":this.addFont(r,n,t);break;case"fragments":this.addFragments(r,n,t);break;case"image":this.addImage(r,n,t);break;case"shader":this.addShader(r,n,t);break;case"sound":this.addSound(r,n,t);break;case"text":this.addText(r,n,t);break;default:if(!Object.prototype.hasOwnProperty.call(Oe.customAssetKinds.h,s))throw $.thrown("Assets: invalid asset kind ("+s+") for id: "+e);Oe.customAssetKinds.h[s].add(this,r,n,t)}},addAll:function(e){ae.app.backend.info;for(var n,t,i=["png","jpg","jpeg"],l=["txt","json","fnt","atlas"],s=(null!=ye._soundExtensions||(ye._soundExtensions=[],f=new Audio,d=null!=ce.navigator?ce.navigator.userAgent:"",t=ye.RE_OPERA.match(d)&&parseInt(ye.RE_OPERA.matched(0).split("/")[1],10)<33,n=-1!=d.indexOf("Safari")&&-1==d.indexOf("Chrome"),d=ye.RE_SAFARI_VERSION.match(d),n&&d&&parseInt(ye.RE_SAFARI_VERSION.matched(1),10),null!=(n=f.canPlayType('audio/ogg; codecs="vorbis"'))&&"no"!=n&&""!=n&&ye._soundExtensions.push("ogg"),d=f.canPlayType("audio/mpeg;"),n=f.canPlayType("audio/mp3;"),!t&&(null!=d&&"no"!=d&&""!=d||null!=n&&"no"!=n&&""!=n)&&ye._soundExtensions.push("mp3"),t=f.canPlayType("audio/x-flac;"),d=f.canPlayType("audio/flac;"),(null!=t&&"no"!=t&&""!=t||null!=d&&"no"!=d&&""!=d)&&ye._soundExtensions.push("flac"),n=f.canPlayType('audio/wav; codecs="1"'),t=f.canPlayType("audio/wav;"),(null!=n&&"no"!=n&&""!=n||null!=t&&"no"!=t&&""!=t)&&ye._soundExtensions.push("wav")),[].concat(ye._soundExtensions)),r=["frag","vert"],h=["fnt","ttf","otf"],a=["atlas"],o=["csv"],c=["fragments"],u=[],_=[],d=Oe.customAssetKinds.h,E=d,b=Object.keys(d),R=b.length,g=0;g<R;){var O=E[b[g++]];u.push(O.extensions),_.push(O.add)}for(var f=Oe.allByName,L=d=(f=null!=this.runtimeAssets?this.runtimeAssets.getLists().allByName:f).h,p=Object.keys(d),V=p.length,C=0;C<V;){var v=p[C++],w=v,m=L[v];if(null!=e){for(var y=!1,U=0,H=m.length;U<H;){var W=U++;if(e.match(m[W])){y=!0;break}}if(!y)continue}for(var T=Nn.extension(m[0]),D=!1,x=0,N=i.length;x<N;)if(i[x++]==T){this.addImage(w),D=!0;break}if(!D)for(var S=0,z=s.length;S<z;)if(s[S++]==T){this.addSound(w),D=!0;break}if(!D)for(var A=0,G=r.length;A<G;)if(r[A++]==T){this.addShader(w),D=!0;break}if(!D)for(var k=0,Y=h.length;k<Y;)if(h[k++]==T){this.addFont(w),D=!0;break}if(!D)for(var I=0,X=a.length;I<X;)if(a[I++]==T){this.addAtlas(w),D=!0;break}if(!D)for(var P=0,K=o.length;P<K;)if(o[P++]==T){this.addDatabase(w),D=!0;break}if(!D)for(var F=0,j=c.length;F<j;)if(c[F++]==T){this.addFragments(w),D=!0;break}if(!D)for(var M=0,$=u.length;M<$;){for(var B=M++,Q=u[B],q=0,Z=Q.length;q<Z;)if(Q[q++]==T){(0,_[B])(this,null,w,null),D=!0;break}if(D)break}if(!D)for(var J=0,ee=l.length;J<ee;)if(l[J++]==T){this.addText(w),D=!0;break}}},addImage:function(e,n,t){z.startsWith(e,"image:")&&(e=he.substr(e,6,null)),this.addAsset(new fn(e,n,t))},addFont:function(e,n,t){z.startsWith(e,"font:")&&(e=he.substr(e,5,null)),this.addAsset(new dn(e,n,t))},addAtlas:function(e,n,t){z.startsWith(e,"atlas:")&&(e=he.substr(e,6,null)),this.addAsset(new Be(e,n,t))},addText:function(e,n,t){z.startsWith(e,"text:")&&(e=he.substr(e,5,null)),this.addAsset(new ft(e,n,t))},addBinary:function(e,n,t){z.startsWith(e,"binary:")&&(e=he.substr(e,7,null)),this.addAsset(new Le(e,n,t))},addSound:function(e,n,t){z.startsWith(e,"sound:")&&(e=he.substr(e,6,null)),this.addAsset(new dt(e,n,t))},addDatabase:function(e,n,t){z.startsWith(e,"database:")&&(e=he.substr(e,9,null)),this.addAsset(new sn(e,n,t))},addFragments:function(e,n,t){z.startsWith(e,"fragments:")&&(e=he.substr(e,10,null)),this.addAsset(new bn(e,n,t))},addShader:function(e,n,t){z.startsWith(e,"shader:")&&(e=he.substr(e,7,null)),this.addAsset(new at(e,n,t))},addAsset:function(e){Object.prototype.hasOwnProperty.call(this.assetsByKindAndName.h,e.kind)||(t=this.assetsByKindAndName,i=e.kind,n=new Nl,t.h[i]=n);var n,t=this.assetsByKindAndName.h[e.kind],i=(e instanceof fn&&(e.defaultImageOptions=this.defaultImageOptions),t.h[e.fullName]);if(null!=i){if(i==e)return ae.app.logger.warning("Cannot add asset "+K.string(e)+" because it is already added for name: "+e.fullName+".",{fileName:"../../../../ceramic/runtime/src/ceramic/Assets.hx",lineNumber:540,className:"ceramic.Assets",methodName:"addAsset"}),i;ae.app.logger.info("Replace "+K.string(i)+" with "+K.string(e),{fileName:"../../../../ceramic/runtime/src/ceramic/Assets.hx",lineNumber:537,className:"ceramic.Assets",methodName:"addAsset"}),this.removeAsset(i)}return e.onDestroy(this,$bind(this,this.assetDestroyed)),null!=(t.h[e.fullName]=e).owner&&e.owner!=this&&e.owner.removeAsset(e),this.addedAssets.push(e),e.owner=this,e.set_runtimeAssets(this.runtimeAssets),e.set_hotReload(this.hotReload),i},assetDestroyed:function(e){for(var n=null,t=0,i=this.addedAssets;t<i.length;){var l=i[t];++t,l._lifecycleState<0&&(n=null==n?[]:n).push(l)}if(null!=n)for(t=0;t<n.length;){l=n[t];++t,this.removeAsset(l)}},imageAsset:function(e,n){return this.asset(e,"image",n)},fontAsset:function(e,n){return this.asset(e,"font",n)},atlasAsset:function(e,n){return this.asset(e,"atlas",n)},textAsset:function(e,n){return this.asset(e,"text",n)},soundAsset:function(e,n){return this.asset(e,"sound",n)},databaseAsset:function(e,n){return this.asset(e,"database",n)},fragmentsAsset:function(e,n){return this.asset(e,"fragments",n)},asset:function(e,n,t){var i="string"==typeof e?e:L.field(e,"_id"),l=i.indexOf(":"),s=i;return-1!=l&&(s=i.substring(l+1),n=i.substring(0,l)),null!=t&&(s+=":"+t),null==n||null==(i=this.assetsByKindAndName.h[n])||null==(l=i.h[s])?null!=this.parent?this.parent.asset(e,n,t):null:l},removeAsset:function(e){e.offDestroy($bind(this,this.assetDestroyed));var n=this.assetsByKindAndName.h[e.kind],t=n.h[e.fullName];if(e!=t)throw $.thrown("Cannot remove asset "+K.string(e)+" if it was not added at the first place (existing: "+K.string(t)+").");he.remove(this.addedAssets,e);t=e.fullName;Object.prototype.hasOwnProperty.call(n.h,t)&&delete n.h[t],e.owner=null},moveAll:function(e){for(var n=[].concat(this.addedAssets),t=0,i=n.length;t<i;){var l=n[t++];this.removeAsset(l),e.addAsset(l)}},hasAnythingToLoad:function(){for(var e=0,n=this.addedAssets.length;e<n;){var t=e++;if(this.addedAssets[t].get_status()==Me.NONE)return!0}return!1},countAssetsWithStatus:function(e){for(var n=0,t=(this.addedAssets,0),i=this.addedAssets.length;t<i;){var l=t++;this.addedAssets[l].get_status()==e&&++n}return n},load:function(e,t){null==e&&(e=!0);for(var i=this,l=0,s=0,r=!0,n=[].concat(this.addedAssets),h=0;h<n.length;){var a=[n[h]];++h,a[0].get_status()==Me.NONE&&(a[0].onceComplete(this,function(n){return function(e){e||(r=!1,ae.app.logger.error("Failed to load asset "+n[0].name+" ("+K.string(n[0])+")",t)),--s,i.emitProgress(l-s,l,r),0==s&&i._prepareComplete(r)}}(a)),s+=1,l+=1)}if(0<s){if(2==this.scheduleMethod){for(var o=[],h=0;h<n.length;){var c=n[h];++h,c.get_status()==Me.NONE&&o.push(c)}this._loadNextSerial(o,0)}else if(0<this.delayBetweenXAssets){for(o=[],h=0;h<n.length;){c=n[h];++h,c.get_status()==Me.NONE&&o.push(c)}this._loadNextParallel(o,0)}else for(h=0;h<n.length;){c=n[h];++h,c.get_status()==Me.NONE&&c.load()}this.immediate.flush()}else e&&ae.app.logger.warning("There was no asset to load.",t),this._prepareComplete(!0)},_prepareComplete:function(e){var n=this;null!=this.pendingAtlasPackers&&0<this.pendingAtlasPackers.length?this._packNextAtlasPacker(function(){n._prepareComplete(e)}):this.emitComplete(!0)},_packNextAtlasPacker:function(n){this.pendingAtlasPackers.shift().pack(function(e){n()})},addPendingAtlasPacker:function(e){null==this.pendingAtlasPackers&&(this.pendingAtlasPackers=[]),-1==this.pendingAtlasPackers.indexOf(e)&&this.pendingAtlasPackers.push(e)},_loadNextSerial:function(n,t){var i=this,e=n.shift();e.get_status()==Me.NONE?(e.load(),e.onceComplete(this,function(e){i._assetCompleteSerial(e,n,t)})):0<n.length&&this._loadNextSerial(n,t)},_assetCompleteSerial:function(e,n,t){var i=this;t+=1,0<n.length&&(0<this.delayBetweenXAssets&&0<t&&t%this.delayBetweenXAssets==0?ae.app.onceXUpdates(this,2,function(){i._loadNextSerial(n,t)}):this._loadNextSerial(n,t))},_loadNextParallel:function(e,n){var t=this;0<e.length&&(1<(n+=1)&&n%this.delayBetweenXAssets==0?ae.app.onceXUpdates(this,2,function(){e.shift().load(),t._loadNextParallel(e,n)}):(e.shift().load(),this._loadNextParallel(e,n)))},ensure:function(e,n,t,i){var l=this.asset(e,null,n),s=null;null==(s=null==l?(this._add(e,n,t),this.asset(e,null,n)):l)?i(null):s.get_status()==Me.READY?i(s):s.get_status()==Me.LOADING||s.get_status()==Me.NONE?(s.onceComplete(null,function(e){i(e?s:null)}),s.get_status()==Me.NONE&&this.load(null,{fileName:"../../../../ceramic/runtime/src/ceramic/Assets.hx",lineNumber:941,className:"ceramic.Assets",methodName:"ensure"})):i(null)},ensureImage:function(e,n,t,i){z.startsWith(e,"image:")||(e="image:"+e),this.ensure(e,n,t,function(e){i(e instanceof fn?e:null)})},ensureFont:function(e,n,t,i){z.startsWith(e,"font:")||(e="font:"+e),this.ensure(e,n,t,function(e){i(e instanceof dn?e:null)})},ensureAtlas:function(e,n,t,i){z.startsWith(e,"atlas:")||(e="atlas:"+e),this.ensure(e,n,t,function(e){i(e instanceof Be?e:null)})},ensureText:function(e,n,t,i){z.startsWith(e,"text:")||(e="text:"+e),this.ensure(e,n,t,function(e){i(e instanceof ft?e:null)})},ensureSound:function(e,n,t,i){z.startsWith(e,"sound:")||(e="sound:"+e),this.ensure(e,n,t,function(e){i(e instanceof dt?e:null)})},ensureDatabase:function(e,n,t,i){z.startsWith(e,"database:")||(e="database:"+e),this.ensure(e,n,t,function(e){i(e instanceof sn?e:null)})},texture:function(e,n){var t=e;return z.startsWith(t,"image:")&&(t=he.substr(t,6,null)),null!=n&&(t+=":"+n),!Object.prototype.hasOwnProperty.call(this.assetsByKindAndName.h,"image")||null==(t=this.assetsByKindAndName.h.image.h[t])?null!=this.parent?this.parent.texture(e,n):null:t.get_texture()},font:function(e,n){var t=e;return z.startsWith(t,"font:")&&(t=he.substr(t,5,null)),null!=n&&(t+=":"+n),!Object.prototype.hasOwnProperty.call(this.assetsByKindAndName.h,"font")||null==(t=this.assetsByKindAndName.h.font.h[t])?null!=this.parent?this.parent.font(e,n):null:t.get_font()},atlas:function(e,n){var t=e;return z.startsWith(t,"atlas:")&&(t=he.substr(t,6,null)),null!=n&&(t+=":"+n),!Object.prototype.hasOwnProperty.call(this.assetsByKindAndName.h,"atlas")||null==(t=this.assetsByKindAndName.h.atlas.h[t])?null!=this.parent?this.parent.atlas(e,n):null:t.get_atlas()},sound:function(e,n){var t=e;return z.startsWith(t,"sound:")&&(t=he.substr(t,6,null)),null!=n&&(t+=":"+n),!Object.prototype.hasOwnProperty.call(this.assetsByKindAndName.h,"sound")||null==(t=this.assetsByKindAndName.h.sound.h[t])?null!=this.parent?this.parent.sound(e,n):null:t.get_sound()},text:function(e,n){var t=e;return z.startsWith(t,"text:")&&(t=he.substr(t,5,null)),null!=n&&(t+=":"+n),!Object.prototype.hasOwnProperty.call(this.assetsByKindAndName.h,"text")||null==(t=this.assetsByKindAndName.h.text.h[t])?null!=this.parent?this.parent.text(e,n):null:t.get_text()},bytes:function(e,n){var t=e;return z.startsWith(t,"binary:")&&(t=he.substr(t,7,null)),null!=n&&(t+=":"+n),!Object.prototype.hasOwnProperty.call(this.assetsByKindAndName.h,"binary")||null==(t=this.assetsByKindAndName.h.binary.h[t])?null!=this.parent?this.parent.bytes(e,n):null:t.get_bytes()},_shaderFromClass:function(e){var e=e.__name__.split("."),n=(n=e.pop()).charAt(0).toLowerCase()+he.substr(n,1,null),e=0<e.length?e.join("_")+"_"+n:n;return this._shader("shader:"+e,null)},_shader:function(e,n){var t=e;return z.startsWith(t,"shader:")&&(t=he.substr(t,7,null)),null!=n&&(t+=":"+n),!Object.prototype.hasOwnProperty.call(this.assetsByKindAndName.h,"shader")||null==(t=this.assetsByKindAndName.h.shader.h[t])?null!=this.parent?this.parent._shader(e,n):null:t.get_shader()},database:function(e,n){var t=e;return z.startsWith(t,"database:")&&(t=he.substr(t,9,null)),null!=n&&(t+=":"+n),!Object.prototype.hasOwnProperty.call(this.assetsByKindAndName.h,"database")||null==(t=this.assetsByKindAndName.h.database.h[t])?null!=this.parent?this.parent.database(e,n):null:t.get_database()},fragments:function(e,n){var t=e;return z.startsWith(t,"fragments:")&&(t=he.substr(t,10,null)),null!=n&&(t+=":"+n),!Object.prototype.hasOwnProperty.call(this.assetsByKindAndName.h,"fragments")||null==(t=this.assetsByKindAndName.h.fragments.h[t])?null!=this.parent?this.parent.fragments(e,n):null:t.get_fragments()},iterator:function(){for(var e=[],n=this.assetsByKindAndName.h,t=n,i=Object.keys(n),l=i.length,s=0;s<l;)for(var r=n=t[i[s++]].h,h=Object.keys(n),a=h.length,o=0;o<a;){var c=r[h[o++]];e.push(c)}return new Jl(e)},hotReload:null,set_hotReload:function(e){if(this.hotReload!=e){this.hotReload=e;for(var n=0,t=this.addedAssets;n<t.length;){var i=t[n];++n,i.set_hotReload(e)}}return e},watchDirectory:function(d,e){null==e&&(e=!0);var b=this;if(null!=this.runtimeAssets)throw $.thrown("There is already an instance of RuntimeAssets assigned. Cannot watch a directory, which also need its own instance");if(null==d)throw $.thrown("Cannot watch directory when using web target! (unless using electron runner and `ceramic_use_electron` define)");null==this.defaultImageOptions&&(this.defaultImageOptions={}),this.defaultImageOptions.premultiplyAlpha=!0,e&&this.set_hotReload(e),this.runtimeAssets=Zn.fromPath(d);var n=new ei;return n.watchDirectory(d),n.onDirectoryChange(this,function(e,n,t){if(null==b.runtimeAssets?ae.app.logger.warning("Missing instance of RuntimeAssets when watched directory changed (path: "+d+")",{fileName:"../../../../ceramic/runtime/src/ceramic/Assets.hx",lineNumber:1307,className:"ceramic.Assets",methodName:"watchDirectory"}):b.runtimeAssets.reset(un.getFlatDirectory(d),d),null==Oe.lastModifiedByRealAssetPath){Oe.lastModifiedByRealAssetPath=new Nl;for(var i=o=t.h,l=(c=Object.keys(o)).length,s=0;s<l;){var r=_=c[s++],h=i[_],a=Oe.realAssetPath(r,b.runtimeAssets);Oe.lastModifiedByRealAssetPath.h[a]=h}}for(var o,c,u=new Nl,i=o=n.h,l=(c=Object.keys(o)).length,s=0;s<l;){var _,r=_=c[s++],h=i[_],a=Oe.realAssetPath(r,b.runtimeAssets);u.h[a]=h,Object.prototype.hasOwnProperty.call(Oe.lastModifiedByRealAssetPath.h,a)&&h!=Oe.lastModifiedByRealAssetPath.h[a]&&Oe.incrementReloadCount(a)}Oe.lastModifiedByRealAssetPath=u,b.emitAssetFilesChange(n,t)}),this.onDestroy(n,function(e){n.destroy()}),n},inheritRuntimeAssetsFromAssets:function(e){this.runtimeAssets=e.runtimeAssets,this.defaultImageOptions=e.defaultImageOptions},unbindEvents:function(){j.prototype.unbindEvents.call(this),this.offComplete(),this.offUpdate(),this.offProgress(),this.offAssetFilesChange()},__class__:Oe,__properties__:$extend(j.prototype.__properties__,{set_hotReload:"set_hotReload"})}),(E["assets.AllAssets"]=F).__name__="assets.AllAssets",F.bind=function(){Oe.all=F.all,Oe.allDirs=F.allDirs,Oe.allDirsByName=F.allDirsByName,Oe.allByName=F.allByName},function(){}),pe=((E["assets.Images"]=fe).__name__="assets.Images",(E["spec.Audio"]=H).__name__="spec.Audio",H.__isInterface__=!0,H.prototype={load:null,createFromSamplesBuffer:null,supportsHotReloadPath:null,getDuration:null,resumeAudioContext:null,destroy:null,mute:null,play:null,pause:null,resume:null,stop:null,getVolume:null,setVolume:null,getPan:null,setPan:null,getPitch:null,setPitch:null,getPosition:null,setPosition:null,addFilter:null,removeFilter:null,filterParamsChanged:null,__class__:H},(E["backend.Audio"]=I).__name__="backend.Audio",I.__interfaces__=[H],I._clayFilterCreate=function(e,n){var t;if(t=I.activeBusFilters.length>e&&null!=(t=I.activeBusFilters[e])&&t,I.activeBusFilters[e]=!0,!t&&I.busFilterReadyCallbacks.length>e&&0<I.busFilterReadyCallbacks[e].length){for(var i=[];0<I.busFilterReadyCallbacks[e].length;)i.push(I.busFilterReadyCallbacks[e].shift());I._notifyCallbacksInMainThread(i)}},I._notifyCallbacksInMainThread=function(i){qn.runInMain(function(){for(var e=0,n=i.length;e<n;){var t=e++;(0,i[t])()}})},I._clayFilterDestroy=function(e,n){I.activeBusFilters[e]=!1},I.prototype={load:function(o,e,n){function WJ(e){function dK(){n(e),n=null}null!=s?s.push(dK):ae.app._onceImmediate(dK)}var t,i,c=this,l=null!=e&&2==e.loadMethod,s=null!=e?e.immediate:null,e=null!=e&&1==e.stream,r=z.startsWith(o,"http://")||z.startsWith(o,"https://");Nn.isAbsolute(o)||r||(o=Nn.join([ae.app.settings.assetsPath,o])),Object.prototype.hasOwnProperty.call(this.loadedAudioResources.h,o)?(this.loadedAudioRetainCount.h[o]+=1,t=this.loadedAudioResources.h[o],WJ(t)):Object.prototype.hasOwnProperty.call(this.loadingAudioCallbacks.h,o)?this.loadingAudioCallbacks.h[o].push(function(e){var n;null!=e&&(n=Object.prototype.hasOwnProperty.call(c.loadedAudioRetainCount.h,o)?c.loadedAudioRetainCount.h[o]:0,c.loadedAudioRetainCount.h[o]=n+1),WJ(e)}):(t=o,r||-1!=(i=t.indexOf("?"))&&(t=he.substr(t,0,i)),this.loadingAudioCallbacks.h[o]=[function(e){var n;null!=e&&(n=Object.prototype.hasOwnProperty.call(c.loadedAudioRetainCount.h,o)?c.loadedAudioRetainCount.h[o]:0,c.loadedAudioRetainCount.h[o]=n+1),WJ(e)}],i=r?t:ee.app.assets.fullPath(t),ee.app.audio.loadData(i,e,null,!l,function(e){if(null==e)for(var n=c.loadingAudioCallbacks.h[o],t=c.loadingAudioCallbacks,i=(Object.prototype.hasOwnProperty.call(t.h,o)&&delete t.h[o],0);i<n.length;){var l=n[i];++i;try{l(null)}catch(e){Sl.lastError=e;l=[$.caught(e).unwrap()];ae.app._onceImmediate(function(e){return function(){throw $.thrown(e[0])}}(l))}}else for(var s=new ui(ee.app,e),r=(c.loadedAudioResources.h[o]=s,c.loadingAudioCallbacks.h[o]),t=c.loadingAudioCallbacks,h=(Object.prototype.hasOwnProperty.call(t.h,o)&&delete t.h[o],0);h<r.length;){var a=r[h];++h,a(s)}}),null!=s?s.push(si.flush):ae.app._onceImmediate(si.flush))},nextSamplesBufferIndex:null,createFromSamplesBuffer:function(e,n,t,i,l){var s="samples:"+this.nextSamplesBufferIndex++,e=ee.app.audio.dataFromPCM(s,e,n,t,i,l);return null!=e?(n=new ui(ee.app,e),this.loadedAudioResources.h[s]=n,this.loadedAudioRetainCount.h[s]=1,n):null},getDuration:function(e){return e.getDuration()},resumeAudioContext:function(e){var n=ee.app.audio;if(null!=n)try{n.context.resume().then(function(){e(!0)},function(){e(!1)})}catch(e){Sl.lastError=e;n=$.caught(e).unwrap();ae.app.logger.error("Failed to resume audio context: "+K.string(n),{fileName:"../../../../ceramic/plugins/clay/runtime/src/backend/Audio.hx",lineNumber:242,className:"backend.Audio",methodName:"resumeAudioContext"})}},supportsHotReloadPath:function(){return!0},destroy:function(e){for(var n=null,t=this.loadedAudioResources.h,i=t,l=Object.keys(t),s=l.length,r=0;r<s;){var h=l[r++];i[h]==e&&(n=h)}null==n?ae.app.logger.error("Failed to destroy audio resource: "+K.string(e)+" because id could not be resolved",{fileName:"../../../../ceramic/plugins/clay/runtime/src/backend/Audio.hx",lineNumber:284,className:"backend.Audio",methodName:"destroy"}):1<this.loadedAudioRetainCount.h[n]?--this.loadedAudioRetainCount.h[n]:(t=this.loadedAudioResources,Object.prototype.hasOwnProperty.call(t.h,n)&&delete t.h[n],t=this.loadedAudioRetainCount,Object.prototype.hasOwnProperty.call(t.h,n)&&delete t.h[n],e.destroy())},mute:function(e){return-1},play:function(e,n,t,i,l,s,r){var h;return null==r&&(r=0),null==l&&(l=0),null==i&&(i=1),null==t&&(t=0),null==n&&(n=.5),ee.app.audio.active?((e=e).data.isStream&&(i=1,t=l=0),h=(s=(h=null)==s?!1:s)?ee.app.audio.loop(e,n,!1,r):ee.app.audio.play(e,n,!1,r),0!=t&&ee.app.audio.pan(h,t),1!=i&&ee.app.audio.pitch(h,i),0!=l&&ee.app.audio.position(h,l),h):-1},pause:function(e){ee.app.audio.active&&null!=e&&-1!=e&&ee.app.audio.pause(e)},resume:function(e){ee.app.audio.active&&null!=e&&-1!=e&&ee.app.audio.unPause(e)},stop:function(e){ee.app.audio.active&&null!=e&&-1!=e&&null!=e&&-1!=e&&ee.app.audio.stop(e)},getVolume:function(e){return!ee.app.audio.active||null==e||-1==e?0:ee.app.audio.volumeOf(e)},setVolume:function(e,n){ee.app.audio.active&&null!=e&&-1!=e&&ee.app.audio.volume(e,n)},getPan:function(e){return!ee.app.audio.active||null==e||-1==e?0:ee.app.audio.panOf(e)},setPan:function(e,n){var t;!ee.app.audio.active||null==e||-1==e||null!=(t=ee.app.audio.instanceOf(e))&&t.source.data.isStream||ee.app.audio.pan(e,n)},getPitch:function(e){return!ee.app.audio.active||null==e||-1==e?1:ee.app.audio.pitchOf(e)},setPitch:function(e,n){var t;!ee.app.audio.active||null==e||-1==e||null!=(t=ee.app.audio.instanceOf(e))&&t.source.data.isStream||ee.app.audio.pitch(e,n)},getPosition:function(e){return!ee.app.audio.active||null==e||-1==e?0:ee.app.audio.positionOf(e)},setPosition:function(e,n){var t;!ee.app.audio.active||null==e||-1==e||null!=(t=ee.app.audio.instanceOf(e))&&t.source.data.isStream||ee.app.audio.position(e,n)},addFilter:function(e,n,t){var i=new Jt(function(){t(e)}),l=i.callback(),i=i.callback(),s=!1,r=I.filterIdsByBus[e],h=(null==r&&(I.filterIdsByBus[e]=r=[],s=!0),n.workletClass()),a=(r.push(new pe(n.filterId,null,null,h,n)),function(){ee.app.audio.addBusFilterWorklet(e,n.filterId,h,function(){l()})});s&&ee.app.audio.createBusFilter("audio-worklets.min.js",e,function(e,n){I._clayFilterCreate(e,n),null!=a&&(e=a,a=null,e())},I._clayFilterDestroy),I.activeBusFilters.length>e&&null!=(r=I.activeBusFilters[e])&&r?i():(null==I.busFilterReadyCallbacks[e]&&(I.busFilterReadyCallbacks[e]=[]),I.busFilterReadyCallbacks[e].push(i))},removeFilter:function(e,n){var t=I.filterIdsByBus[e];if(null!=t){for(var i=-1,l=0,s=t.length;l<s;){var r=l++,h=t[r];if(h.id==n){i=r,0;break}}-1!=i&&t.splice(i,1)}ee.app.audio.destroyBusFilterWorklet(e,n)},filterParamsChanged:function(e,n){var t=I.filterIdsByBus[e];if(null!=t)for(var i=0,l=0,s=t.length;l<s;){var r=t[l++],h=r.filter;if(r.id==n){for(var a=0,o=h.numParams();a<o;){var c=a++;ee.app.audio.setWorkletParameterByIndexWhenReady(e,i,h.params[c]),++i}break}i+=h.numParams()}},loadingAudioCallbacks:null,loadedAudioResources:null,loadedAudioRetainCount:null,__class__:I},function(e,n,t,i,l){this.worklet=null,this.paramsDirty=!0,this.id=e,null!=n&&(this.paramsDirty=n),null!=t&&(this.worklet=t),this.workletClass=i,this.filter=l}),Ce=((E["backend.AudioFilterInfo"]=pe).__name__="backend.AudioFilterInfo",pe.prototype={id:null,paramsDirty:null,worklet:null,workletClass:null,filter:null,__class__:pe},(E["spec.Backend"]=M).__name__="spec.Backend",M.__isInterface__=!0,M.prototype={init:null,setTargetFps:null,io:null,info:null,audio:null,draw:null,texts:null,binaries:null,textures:null,screen:null,textInput:null,clipboard:null,__class__:M},(E["backend.Backend"]=N).__name__="backend.Backend",N.__interfaces__=[M,i],N.prototype={io:null,info:null,audio:null,draw:null,texts:null,binaries:null,textures:null,shaders:null,screen:null,input:null,textInput:null,clipboard:null,init:function(e){},setTargetFps:function(e){ee.app.config.updateRate=0<e?1/e:0},__cbOnReady:null,__cbOnceReady:null,__cbOnOwnerUnbindReady:null,__cbOnceOwnerUnbindReady:null,emitReady:function(){var e=0;if(null!=this.__cbOnReady&&(e+=this.__cbOnReady.length),null!=this.__cbOnceReady&&(e+=this.__cbOnceReady.length),0<e){var n=C.pool(e),t=n.get(),i=0;if(null!=this.__cbOnReady)for(var l=0,s=this.__cbOnReady.length;l<s;){var r=l++;!0?(t.vector[i]=this.__cbOnReady[r],++i):--e}if(null!=this.__cbOnceReady){for(var h=null,a=null,l=0,s=this.__cbOnceReady.length;l<s;){var o,r=l++;!0?(t.vector[i]=this.__cbOnceReady[r],this.__cbOnceReady[r]=null,o=this.__cbOnceOwnerUnbindReady[r],(this.__cbOnceOwnerUnbindReady[r]=null)!=o&&o(),++i):(--e,null==h&&(h=[],a=[],0),h.push(this.__cbOnceOwnerUnbindReady[r]),a.push(this.__cbOnceReady[r]))}this.__cbOnceOwnerUnbindReady=h,this.__cbOnceReady=a}for(l=0,s=e;l<s;){i=l++;(0,t.vector[i])()}n.release(t)}},onReady:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event ready because owner is destroyed!");var l=function(e){null!=t&&(i.offReady(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindReady&&(this.__cbOnOwnerUnbindReady=[]),this.__cbOnOwnerUnbindReady.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindReady&&(this.__cbOnOwnerUnbindReady=[]),this.__cbOnOwnerUnbindReady.push(null);null==this.__cbOnReady&&(this.__cbOnReady=[]),this.__cbOnReady.push(t)},onceReady:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event ready because owner is destroyed!");var l=function(e){null!=t&&(i.offReady(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindReady&&(this.__cbOnceOwnerUnbindReady=[]),this.__cbOnceOwnerUnbindReady.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindReady&&(this.__cbOnceOwnerUnbindReady=[]),this.__cbOnceOwnerUnbindReady.push(null);null==this.__cbOnceReady&&(this.__cbOnceReady=[]),this.__cbOnceReady.push(t)},offReady:function(e){if(null!=e){var n;null!=this.__cbOnReady&&-1!=(n=this.__cbOnReady.indexOf(e))&&(this.__cbOnReady.splice(n,1),null!=(s=this.__cbOnOwnerUnbindReady[n])&&s(),this.__cbOnOwnerUnbindReady.splice(n,1)),null!=this.__cbOnceReady&&-1!=(n=this.__cbOnceReady.indexOf(e))&&(this.__cbOnceReady.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindReady[n])&&s(),this.__cbOnceOwnerUnbindReady.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindReady){for(var t=0,i=this.__cbOnOwnerUnbindReady.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindReady[l])&&s()}this.__cbOnOwnerUnbindReady=null}if(null!=this.__cbOnceOwnerUnbindReady){for(t=0,i=this.__cbOnceOwnerUnbindReady.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindReady[l])&&s()}this.__cbOnceOwnerUnbindReady=null}this.__cbOnReady=null,this.__cbOnceReady=null}},listensReady:function(){return null!=this.__cbOnReady&&0<this.__cbOnReady.length||null!=this.__cbOnceReady&&0<this.__cbOnceReady.length},__cbOnUpdate:null,__cbOnceUpdate:null,__cbOnOwnerUnbindUpdate:null,__cbOnceOwnerUnbindUpdate:null,emitUpdate:function(e){var n=0;if(null!=this.__cbOnUpdate&&(n+=this.__cbOnUpdate.length),null!=this.__cbOnceUpdate&&(n+=this.__cbOnceUpdate.length),0<n){var t=C.pool(n),i=t.get(),l=0;if(null!=this.__cbOnUpdate)for(var s=0,r=this.__cbOnUpdate.length;s<r;){var h=s++;!0?(i.vector[l]=this.__cbOnUpdate[h],++l):--n}if(null!=this.__cbOnceUpdate){for(var a=null,o=null,s=0,r=this.__cbOnceUpdate.length;s<r;){var c,h=s++;!0?(i.vector[l]=this.__cbOnceUpdate[h],this.__cbOnceUpdate[h]=null,c=this.__cbOnceOwnerUnbindUpdate[h],(this.__cbOnceOwnerUnbindUpdate[h]=null)!=c&&c(),++l):(--n,null==a&&(a=[],o=[],0),a.push(this.__cbOnceOwnerUnbindUpdate[h]),o.push(this.__cbOnceUpdate[h]))}this.__cbOnceOwnerUnbindUpdate=a,this.__cbOnceUpdate=o}for(s=0,r=n;s<r;){l=s++;(0,i.vector[l])(e)}t.release(i)}},onUpdate:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event update because owner is destroyed!");var l=function(e){null!=t&&(i.offUpdate(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindUpdate&&(this.__cbOnOwnerUnbindUpdate=[]),this.__cbOnOwnerUnbindUpdate.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindUpdate&&(this.__cbOnOwnerUnbindUpdate=[]),this.__cbOnOwnerUnbindUpdate.push(null);null==this.__cbOnUpdate&&(this.__cbOnUpdate=[]),this.__cbOnUpdate.push(t)},onceUpdate:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event update because owner is destroyed!");var l=function(e){null!=t&&(i.offUpdate(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindUpdate&&(this.__cbOnceOwnerUnbindUpdate=[]),this.__cbOnceOwnerUnbindUpdate.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindUpdate&&(this.__cbOnceOwnerUnbindUpdate=[]),this.__cbOnceOwnerUnbindUpdate.push(null);null==this.__cbOnceUpdate&&(this.__cbOnceUpdate=[]),this.__cbOnceUpdate.push(t)},offUpdate:function(e){if(null!=e){var n;null!=this.__cbOnUpdate&&-1!=(n=this.__cbOnUpdate.indexOf(e))&&(this.__cbOnUpdate.splice(n,1),null!=(s=this.__cbOnOwnerUnbindUpdate[n])&&s(),this.__cbOnOwnerUnbindUpdate.splice(n,1)),null!=this.__cbOnceUpdate&&-1!=(n=this.__cbOnceUpdate.indexOf(e))&&(this.__cbOnceUpdate.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindUpdate[n])&&s(),this.__cbOnceOwnerUnbindUpdate.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindUpdate){for(var t=0,i=this.__cbOnOwnerUnbindUpdate.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindUpdate[l])&&s()}this.__cbOnOwnerUnbindUpdate=null}if(null!=this.__cbOnceOwnerUnbindUpdate){for(t=0,i=this.__cbOnceOwnerUnbindUpdate.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindUpdate[l])&&s()}this.__cbOnceOwnerUnbindUpdate=null}this.__cbOnUpdate=null,this.__cbOnceUpdate=null}},listensUpdate:function(){return null!=this.__cbOnUpdate&&0<this.__cbOnUpdate.length||null!=this.__cbOnceUpdate&&0<this.__cbOnceUpdate.length},__cbOnRender:null,__cbOnceRender:null,__cbOnOwnerUnbindRender:null,__cbOnceOwnerUnbindRender:null,emitRender:function(){var e=0;if(null!=this.__cbOnRender&&(e+=this.__cbOnRender.length),null!=this.__cbOnceRender&&(e+=this.__cbOnceRender.length),0<e){var n=C.pool(e),t=n.get(),i=0;if(null!=this.__cbOnRender)for(var l=0,s=this.__cbOnRender.length;l<s;){var r=l++;!0?(t.vector[i]=this.__cbOnRender[r],++i):--e}if(null!=this.__cbOnceRender){for(var h=null,a=null,l=0,s=this.__cbOnceRender.length;l<s;){var o,r=l++;!0?(t.vector[i]=this.__cbOnceRender[r],this.__cbOnceRender[r]=null,o=this.__cbOnceOwnerUnbindRender[r],(this.__cbOnceOwnerUnbindRender[r]=null)!=o&&o(),++i):(--e,null==h&&(h=[],a=[],0),h.push(this.__cbOnceOwnerUnbindRender[r]),a.push(this.__cbOnceRender[r]))}this.__cbOnceOwnerUnbindRender=h,this.__cbOnceRender=a}for(l=0,s=e;l<s;){i=l++;(0,t.vector[i])()}n.release(t)}},onRender:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event render because owner is destroyed!");var l=function(e){null!=t&&(i.offRender(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindRender&&(this.__cbOnOwnerUnbindRender=[]),this.__cbOnOwnerUnbindRender.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindRender&&(this.__cbOnOwnerUnbindRender=[]),this.__cbOnOwnerUnbindRender.push(null);null==this.__cbOnRender&&(this.__cbOnRender=[]),this.__cbOnRender.push(t)},onceRender:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event render because owner is destroyed!");var l=function(e){null!=t&&(i.offRender(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindRender&&(this.__cbOnceOwnerUnbindRender=[]),this.__cbOnceOwnerUnbindRender.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindRender&&(this.__cbOnceOwnerUnbindRender=[]),this.__cbOnceOwnerUnbindRender.push(null);null==this.__cbOnceRender&&(this.__cbOnceRender=[]),this.__cbOnceRender.push(t)},offRender:function(e){if(null!=e){var n;null!=this.__cbOnRender&&-1!=(n=this.__cbOnRender.indexOf(e))&&(this.__cbOnRender.splice(n,1),null!=(s=this.__cbOnOwnerUnbindRender[n])&&s(),this.__cbOnOwnerUnbindRender.splice(n,1)),null!=this.__cbOnceRender&&-1!=(n=this.__cbOnceRender.indexOf(e))&&(this.__cbOnceRender.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindRender[n])&&s(),this.__cbOnceOwnerUnbindRender.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindRender){for(var t=0,i=this.__cbOnOwnerUnbindRender.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindRender[l])&&s()}this.__cbOnOwnerUnbindRender=null}if(null!=this.__cbOnceOwnerUnbindRender){for(t=0,i=this.__cbOnceOwnerUnbindRender.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindRender[l])&&s()}this.__cbOnceOwnerUnbindRender=null}this.__cbOnRender=null,this.__cbOnceRender=null}},listensRender:function(){return null!=this.__cbOnRender&&0<this.__cbOnRender.length||null!=this.__cbOnceRender&&0<this.__cbOnceRender.length},canRender:function(){return!0},unbindEvents:function(){this.offReady(),this.offUpdate(),this.offRender()},__class__:N},(E["spec.Binaries"]=O).__name__="spec.Binaries",O.__isInterface__=!0,O.prototype={load:null,supportsHotReloadPath:null,__class__:O},function(){this.loadingBinaryCallbacks=new Nl}),ve=((E["backend.Binaries"]=Ce).__name__="backend.Binaries",Ce.__interfaces__=[O],Ce.prototype={load:function(r,e,n){function jO(e){function pO(){n(e),n=null}null!=l?l.push(pO):ae.app._onceImmediate(pO)}var t,i,h=this,l=null!=e?e.immediate:null,e=z.startsWith(r,"http://")||z.startsWith(r,"https://");Nn.isAbsolute(r)||e||(r=Nn.join([ae.app.settings.assetsPath,r])),Object.prototype.hasOwnProperty.call(this.loadingBinaryCallbacks.h,r)?this.loadingBinaryCallbacks.h[r].push(function(e){jO(e)}):(this.loadingBinaryCallbacks.h[r]=[],t=r,e||-1!=(i=t.indexOf("?"))&&(t=he.substr(t,0,i)),i=e?t:ee.app.assets.fullPath(t),ee.app.io.loadData(i,!0,null,function(e){if(null==e)if(null!=(l=h.loadingBinaryCallbacks.h[r]))for(var n=h.loadingBinaryCallbacks,t=(Object.prototype.hasOwnProperty.call(n.h,r)&&delete n.h[r],jO(null),0);t<l.length;){var i=l[t];++t,i(null)}else jO(null);else{var l,s=new Pl(new Uint8Array(e.buffer));if(null!=(l=h.loadingBinaryCallbacks.h[r]))for(n=h.loadingBinaryCallbacks,t=(Object.prototype.hasOwnProperty.call(n.h,r)&&delete n.h[r],jO(s),0);t<l.length;){i=l[t];++t,i(s)}else jO(s)}}),null!=l?l.push(si.flush):ae.app._onceImmediate(si.flush))},supportsHotReloadPath:function(){return!0},loadingBinaryCallbacks:null,__class__:Ce},(E["clay.Events"]=Q).__name__="clay.Events",Q.prototype={ready:function(){},tick:function(e){},render:function(){},freeze:function(){},unfreeze:function(){},keyDown:function(e,n,t,i,l,s){},keyUp:function(e,n,t,i,l,s){},text:function(e,n,t,i,l,s){},mouseMove:function(e,n,t,i,l,s){},mouseDown:function(e,n,t,i,l){},mouseUp:function(e,n,t,i,l){},mouseWheel:function(e,n,t,i){},touchDown:function(e,n,t,i,l,s){},touchUp:function(e,n,t,i,l,s){},touchMove:function(e,n,t,i,l,s){},gamepadAxis:function(e,n,t,i){},gamepadDown:function(e,n,t,i){},gamepadUp:function(e,n,t,i){},gamepadGyro:function(e,n,t,i,l){},gamepadDevice:function(e,n,t,i){},windowEvent:function(e,n,t,i,l){},appEvent:function(e){},audioEvent:function(e,n){},__class__:Q},(E["backend.ClayEvents"]=R).__name__="backend.ClayEvents",R.__super__=Q,R.prototype=$extend(Q.prototype,{backend:null,lastDensity:null,lastWidth:null,lastHeight:null,touches:null,touchIndexes:null,mouseDownButtons:null,mouseX:null,mouseY:null,activeGamepads:null,removedGamepads:null,swapAbGamepads:null,swapXyGamepads:null,gamepadAxisToButton:null,gamepadButtonMapping:null,gamepadPressedValues:null,gamepadAxisValues:null,gamepadGyroValues:null,handleReady:null,gamepadsEnabled:null,configureGamepadMapping:function(){},ready:function(){this.backend=ae.app.backend,this.lastDensity=ee.app.screenDensity,this.lastWidth=ee.app.screenWidth,this.lastHeight=ee.app.screenHeight,this.handleReady(),this.backend.emitReady()},tick:function(e){this.triggerResizeIfNeeded(),this.backend.emitUpdate(e)},render:function(){this.backend.emitRender()},triggerResizeIfNeeded:function(){var e=ee.app.screenDensity,n=ee.app.screenWidth,t=ee.app.screenHeight;this.lastDensity==e&&this.lastWidth==n&&this.lastHeight==t||(this.lastDensity=e,this.lastWidth=n,this.lastHeight=t,this.backend.screen.emitResize())},appEvent:function(e){switch(e){case 0:break;case 11:ae.app.emitTerminate();break;case 12:ae.app.emitLowMemory();break;case 13:ae.app.emitBeginEnterBackground();break;case 14:ae.app.emitFinishEnterBackground();break;case 15:ae.app.emitBeginEnterForeground();break;case 16:ae.app.emitFinishEnterForeground()}},mouseDown:function(e,n,t,i,l){this.mouseDownButtons.intMap.h.hasOwnProperty(0|t)&&this.mouseUp(e,n,t,i,l),this.mouseX=e/ee.app.screenDensity,this.mouseY=n/ee.app.screenDensity,this.mouseDownButtons.set(t,1),this.backend.screen.emitMouseDown(t,this.mouseX,this.mouseY)},mouseUp:function(e,n,t,i,l){this.mouseDownButtons.intMap.h.hasOwnProperty(0|t)&&(this.mouseX=e/ee.app.screenDensity,this.mouseY=n/ee.app.screenDensity,this.mouseDownButtons.remove(t),this.backend.screen.emitMouseUp(t,this.mouseX,this.mouseY))},mouseMove:function(e,n,t,i,l,s){this.mouseX=e/ee.app.screenDensity,this.mouseY=n/ee.app.screenDensity,this.backend.screen.emitMouseMove(this.mouseX,this.mouseY)},mouseWheel:function(e,n,t,i){this.backend.screen.emitMouseWheel(e,n)},touchDown:function(e,n,t,i,l,s){for(var r=0;this.touchIndexes.intMap.h.hasOwnProperty(0|r);)++r;this.touches.set(l,r),this.touchIndexes.set(r,l),this.backend.screen.emitTouchDown(r,e*this.lastWidth,n*this.lastHeight)},touchUp:function(e,n,t,i,l,s){this.touches.intMap.h.hasOwnProperty(0|l)||this.touchDown(e,n,t,i,l,s);t=this.touches.intMap.h[0|l],i=null!=t?t:0;this.backend.screen.emitTouchUp(i,e*this.lastWidth,n*this.lastHeight),this.touches.remove(l),this.touchIndexes.remove(i)},touchMove:function(e,n,t,i,l,s){this.touches.intMap.h.hasOwnProperty(0|l)||this.touchDown(e,n,t,i,l,s);t=this.touches.intMap.h[0|l];this.backend.screen.emitTouchMove(null!=t?t:0,e*this.lastWidth,n*this.lastHeight)},keyDown:function(e,n,t,i,l,s){this.backend.input.emitKeyDown(new En(e,n)),this.backend.textInput.handleKeyDown(e,n)},keyUp:function(e,n,t,i,l,s){this.backend.input.emitKeyUp(new En(e,n)),this.backend.textInput.handleKeyUp(e,n)},_configureGamepad:function(e,n){null!=n&&(-1!=(n=n.toLowerCase()).indexOf(" vendor: 057e ")||z.startsWith(n,"057e-")||-1!=n.indexOf("retroid pocket controller"))?(this.swapAbGamepads.set(e,1),this.swapXyGamepads.set(e,1)):(this.swapAbGamepads.set(e,0),this.swapXyGamepads.set(e,0))},gamepadAxis:function(e,n,t,i){var l,s;this.gamepadsEnabled&&(this.activeGamepads.intMap.h.hasOwnProperty(0|e)||this.removedGamepads.intMap.h.hasOwnProperty(0|e)||(this.activeGamepads.set(e,1),l=ee.app.runtime.getGamepadName(e),this._configureGamepad(e,l),this.backend.input.emitGamepadEnable(e,l)),this.gamepadAxisToButton.intMap.h.hasOwnProperty(0|n)&&(l=null!=(s=this.gamepadAxisToButton.intMap.h[0|n])?s:0,.5<=t?1!=(null!=(s=this.gamepadPressedValues.intMap.h[32*e+l|0])?s:0)&&(this.gamepadPressedValues.set(32*e+l,1),this.backend.input.emitGamepadDown(e,l)):1==(null!=(s=this.gamepadPressedValues.intMap.h[32*e+l|0])?s:0)&&(this.gamepadPressedValues.set(32*e+l,0),this.backend.input.emitGamepadUp(e,l))),l=null!=(s=this.gamepadAxisValues.intMap.h[32*e+n|0])?s:0,s=Math.round(100*t)/100,.01<Math.abs(l-s))&&(this.gamepadAxisValues.set(32*e+n,s),this.backend.input.emitGamepadAxis(e,n,s))},gamepadDown:function(e,n,t,i){if(this.gamepadsEnabled){if(!this.activeGamepads.intMap.h.hasOwnProperty(0|e)&&!this.removedGamepads.intMap.h.hasOwnProperty(0|e)){this.activeGamepads.set(e,1);for(var l=0;l<32;){var s=l++;this.gamepadPressedValues.set(32*e+s,0)}var r=ee.app.runtime.getGamepadName(e);this._configureGamepad(e,r),this.backend.input.emitGamepadEnable(e,r)}0!=(n=this.gamepadButtonMapping.intMap.h.hasOwnProperty(0|n)?null!=(t=this.gamepadButtonMapping.intMap.h[0|n])?t:0:n)&&1!=n||0!=(null!=(t=this.swapAbGamepads.intMap.h[0|e])?t:0)&&(n=1==n?0:1),2!=n&&3!=n||0!=(null!=(t=this.swapXyGamepads.intMap.h[0|e])?t:0)&&(n=2==n?3:2),1!=(null!=(t=this.gamepadPressedValues.intMap.h[32*e+n|0])?t:0)&&(this.gamepadPressedValues.set(32*e+n,1),this.backend.input.emitGamepadDown(e,n))}},gamepadUp:function(e,n,t,i){if(this.gamepadsEnabled){if(!this.activeGamepads.intMap.h.hasOwnProperty(0|e)&&!this.removedGamepads.intMap.h.hasOwnProperty(0|e)){this.activeGamepads.set(e,1);for(var l=0;l<32;){var s=l++;this.gamepadPressedValues.set(32*e+s,0)}var r=ee.app.runtime.getGamepadName(e);this._configureGamepad(e,r),this.backend.input.emitGamepadEnable(e,r)}0!=(n=this.gamepadButtonMapping.intMap.h.hasOwnProperty(0|n)?null!=(t=this.gamepadButtonMapping.intMap.h[0|n])?t:0:n)&&1!=n||0!=(null!=(t=this.swapAbGamepads.intMap.h[0|e])?t:0)&&(n=1==n?0:1),2!=n&&3!=n||0!=(null!=(t=this.swapXyGamepads.intMap.h[0|e])?t:0)&&(n=2==n?3:2),1==(null!=(t=this.gamepadPressedValues.intMap.h[32*e+n|0])?t:0)&&(this.gamepadPressedValues.set(32*e+n,0),this.backend.input.emitGamepadUp(e,n))}},gamepadGyro:function(e,n,t,i,l){if(this.gamepadsEnabled){if(!this.activeGamepads.intMap.h.hasOwnProperty(0|e)&&!this.removedGamepads.intMap.h.hasOwnProperty(0|e)){this.activeGamepads.set(e,1);for(var s=0;s<32;){var r=s++;this.gamepadPressedValues.set(32*e+r,0)}var h=ee.app.runtime.getGamepadName(e);this._configureGamepad(e,h),this.backend.input.emitGamepadEnable(e,h)}h=.23225806451612904;this.backend.input.emitGamepadGyro(e,n*h,t*h,i*h)}},gamepadDevice:function(n,e,t,i){var l=this;if(this.gamepadsEnabled)if(2==t){if(this.activeGamepads.intMap.h.hasOwnProperty(0|n)){for(var s=0;s<32;){var r=s++,h=this.gamepadPressedValues.intMap.h[32*n+r|0];1==(null!=h?h:0)&&(this.backend.input.emitGamepadUp(n,r),this.gamepadPressedValues.set(32*n+r,0))}this.backend.input.emitGamepadDisable(n),this.activeGamepads.remove(n),this.removedGamepads.set(n,1),ae.app.onceUpdate(null,function(e){l.removedGamepads.remove(n)})}}else if(1==t&&!this.activeGamepads.intMap.h.hasOwnProperty(0|n)){this.activeGamepads.set(n,1);for(s=0;s<32;){r=s++;this.gamepadPressedValues.set(32*n+r,0)}this.removedGamepads.remove(n);e=ee.app.runtime.getGamepadName(n);this._configureGamepad(n,e),this.backend.input.emitGamepadEnable(n,e)}},text:function(e,n,t,i,l,s){this.backend.textInput.inputActive&&this.backend.textInput.handleTextInput(e)},windowEvent:function(e,n,t,i,l){switch(e){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:case 13:case 14:break;case 15:ae.app.settings.set_fullscreen(!0);break;case 16:ae.app.settings.set_fullscreen(!1)}},__class__:R}),(E["spec.Clipboard"]=S).__name__="spec.Clipboard",S.__isInterface__=!0,S.prototype={getText:null,setText:null,__class__:S},function(){this.didBindBrowserClipboard=!1,this.didLogBrowserClipboardWriteWarning=!1,this.didLogBrowserClipboardReadWarning=!1,this.clipboardText=null}),J=((E["backend.Clipboard"]=ve).__name__="backend.Clipboard",ve.__interfaces__=[S],ve.prototype={clipboardText:null,didLogBrowserClipboardReadWarning:null,didLogBrowserClipboardWriteWarning:null,didBindBrowserClipboard:null,bindBrowserClipboard:function(){var e=this;this.didBindBrowserClipboard=!0,this.readBrowserClipboard(),window.addEventListener("focus",function(){e.readBrowserClipboard()})},readBrowserClipboard:function(){var n=this,t=ce.navigator;try{t.clipboard.readText().then(function(e){n.clipboardText!=e&&(n.clipboardText=e)})}catch(e){Sl.lastError=e;t=$.caught(e).unwrap();this.didLogBrowserClipboardReadWarning||(this.didLogBrowserClipboardReadWarning=!0,ae.app.logger.warning("Failed to read browser clipboard: "+K.string(t),{fileName:"../../../../ceramic/plugins/clay/runtime/src/backend/Clipboard.hx",lineNumber:107,className:"backend.Clipboard",methodName:"readBrowserClipboard"}))}},writeBrowserClipboard:function(e){var n=ce.navigator;try{n.clipboard.writeText(e).then(function(){})}catch(e){Sl.lastError=e;n=$.caught(e).unwrap();this.didLogBrowserClipboardWriteWarning||(this.didLogBrowserClipboardWriteWarning=!0,ae.app.logger.warning("Failed to write browser clipboard: "+K.string(n),{fileName:"../../../../ceramic/plugins/clay/runtime/src/backend/Clipboard.hx",lineNumber:133,className:"backend.Clipboard",methodName:"writeBrowserClipboard"}))}},getText:function(){return this.clipboardText},setText:function(e){this.clipboardText=e,this.didBindBrowserClipboard&&this.writeBrowserClipboard(e)},__class__:ve},(E["spec.Draw"]=U).__name__="spec.Draw",U.__isInterface__=!0,U.prototype={draw:null,swap:null,initBuffers:null,beginRender:null,endRender:null,setRenderTarget:null,useShader:null,clear:null,enableBlending:null,disableBlending:null,setBlendFuncSeparate:null,getActiveTexture:null,setActiveTexture:null,textureBackendItemMatchesId:null,getTextureId:null,bindTexture:null,bindNoTexture:null,setPrimitiveType:null,beginDrawQuad:null,endDrawQuad:null,beginDrawMesh:null,endDrawMesh:null,beginDrawingInStencilBuffer:null,endDrawingInStencilBuffer:null,drawWithStencilTest:null,drawWithoutStencilTest:null,enableScissor:null,disableScissor:null,getNumPos:null,putPos:null,putPosAndTextureSlot:null,putIndice:null,putUVs:null,putColor:null,beginFloatAttributes:null,putFloatAttribute:null,endFloatAttributes:null,clearAndApplyBackground:null,getTextureWidth:null,getTextureHeight:null,getTextureWidthActual:null,getTextureHeightActual:null,shouldFlush:null,remainingVertices:null,remainingIndices:null,hasAnythingToFlush:null,flush:null,__class__:U},function(){this.renderer=new $n,this.renderer=new $n,J._batcher=new Ci}),me=((E["backend.Draw"]=J).__name__="backend.Draw",J.__interfaces__=[U],J.prototype={renderer:null,get_batcher:function(){return J._batcher},set_batcher:function(e){return J._batcher=e},begin:function(){},end:function(){},draw:function(e){this.renderer.render(!0,e)},swap:function(){},initBuffers:function(){J._activeTextureSlot=0;var e=J._batcher,e=(e._buffersIndex=-1,e.prepareNextBuffers(),ae.app.defaultWhiteTexture.backendItem);Ci.defaultTextureId=e.textureId},beginRender:function(){J._batcher;ne.gl.enableVertexAttribArray(0),ne.gl.enableVertexAttribArray(1),ne.gl.enableVertexAttribArray(2)},endRender:function(){},clear:function(){J._batcher;ee._graphics.clear((J._whiteTransparentColor>>16&255)/255,(J._whiteTransparentColor>>8&255)/255,(255&J._whiteTransparentColor)/255,J._whiteTransparentColor>>24&255,!1),null!=J._currentRenderTarget&&(J._didUpdateCurrentRenderTarget=!0)},clearAndApplyBackground:function(){var e=ae.app.settings.get_background();J._batcher;ee._graphics.clear((e>>16&255)/255,(e>>8&255)/255,(255&e)/255,1,!1),null!=J._currentRenderTarget&&(J._didUpdateCurrentRenderTarget=!0)},enableBlending:function(){J._batcher,ee._graphics;ne.gl.enable(3042)},disableBlending:function(){J._batcher,ee._graphics;ne.gl.disable(3042)},setActiveTexture:function(e){J._activeTextureSlot=e;var n=J._batcher;if((n=ee._graphics)._activeTextureSlot!=e){for(n._activeTextureSlot=e;n._boundTexture2D.length<=n._activeTextureSlot;)n._boundTexture2D.push(null);ne.gl.activeTexture(33984+e)}},setPrimitiveType:function(e){J._batcher._primitiveType=1==(2==e?1:0)?1:4},getActiveTexture:function(){return J._activeTextureSlot},setRenderTarget:function(e,n){var t,i,l,s,r,h,a,o,c,u,_,d,b,g,O,f,p,C,v,w,m,y;null==n&&(n=!1),J._currentRenderTarget==e&&!n||(null!=J._currentRenderTarget&&J._currentRenderTarget!=e&&J._didUpdateCurrentRenderTarget&&1<(n=J._currentRenderTarget.backendItem).antialiasing&&(y=J._batcher,ee._graphics.blitRenderTargetBuffers(n.renderTarget,n.width,n.height)),J._currentRenderTarget=e,J._didUpdateCurrentRenderTarget=!0,null!=e?(n=e.backendItem,y=J._batcher,n=n.renderTarget,y=ee._graphics,null!=n?(y.bindFramebuffer((t=n).framebuffer),y.bindRenderbuffer(t.renderbuffer)):(y.bindFramebuffer(null),y.bindRenderbuffer(null)),O=((s=e.width)+(i=0))/(o=s-i),f=((l=0)+(r=e.height))/(c=l-r),_=((a=-1e3)+(h=1e3))/(u=a-h),(w=J._projectionMatrix)[0]=2/o,w[4]=0,w[8]=0,w[12]=-O,w[1]=0,w[5]=2/c,w[9]=0,w[13]=-f,w[2]=0,w[6]=0,w[10]=-2/u,w[14]=-_,w[3]=0,w[7]=0,w[11]=0,w[15]=1,(y=J._renderTargetTransform).a=1,y.b=0,y.c=0,y.d=1,y.tx=0,y.ty=0,y.changedDirty=!0,y=J._renderTargetTransform,n=e.density,d=e.density,y.a*=n,y.b*=d,y.c*=n,y.d*=d,y.tx*=n,y.ty*=d,y.changedDirty=!0,d=e.density,b=e.width,g=e.height,null==(n=-1)&&(n=1),null!=(m=J._renderTargetTransform)?((y=J._modelViewTransform).a=m.a,y.b=m.b,y.c=m.c,y.d=m.d,y.tx=m.tx,y.ty=m.ty,y.changedDirty=!0,0==(p=(y=J._modelViewTransform).a*y.d-y.b*y.c)?(y.a=y.b=y.c=y.d=0,y.tx=-y.tx,y.ty=-y.ty):(C=y.d*(p=1/p),y.d=y.a*p,y.a=C,y.b*=-p,y.c*=-p,v=-y.a*y.tx-y.c*y.ty,y.ty=-y.b*y.tx-y.d*y.ty,y.tx=v)):((y=J._modelViewTransform).a=1,y.b=0,y.c=0,y.d=1,y.tx=0,y.ty=0),y.changedDirty=!0,O=J._modelViewTransform.tx,f=J._modelViewTransform.ty,(y=J._modelViewTransform).tx+=-O,y.ty+=-f,y.changedDirty=!0,(y=J._modelViewTransform).a*=d,y.b*=d,y.c*=d,y.d*=d,y.tx*=d,y.ty*=d,y.changedDirty=!0,(y=J._modelViewTransform).tx+=O,y.ty+=f,y.changedDirty=!0,-1==n&&((y=J._modelViewTransform).tx+=.5*-b,y.ty+=.5*-g,y.changedDirty=!0,(y=J._modelViewTransform).a*=1,y.b*=-1,y.c*=1,y.d*=-1,y.tx*=1,y.ty*=-1,y.changedDirty=!0,(y=J._modelViewTransform).tx+=.5*b,y.ty+=.5*g,y.changedDirty=!0),0==(p=(y=J._modelViewTransform).a*y.d-y.b*y.c)?(y.a=y.b=y.c=y.d=0,y.tx=-y.tx,y.ty=-y.ty):(C=y.d*(p=1/p),y.d=y.a*p,y.a=C,y.b*=-p,y.c*=-p,v=-y.a*y.tx-y.c*y.ty,y.ty=-y.b*y.tx-y.d*y.ty,y.tx=v),y.changedDirty=!0,w=J._modelViewMatrix,m=J._modelViewTransform,w[0]=m.a,w[4]=m.c,w[8]=0,w[12]=m.tx,w[1]=m.b,w[5]=m.d,w[9]=0,w[13]=m.ty,w[2]=0,w[6]=0,w[10]=1,w[14]=0,w[3]=0,w[7]=0,w[11]=0,w[15]=1,J._viewportDensity=e.density,J._viewportWidth=e.width*J._viewportDensity,J._viewportHeight=e.height*J._viewportDensity,y=J._batcher,y=ee._graphics,ne.gl.viewport(0,0,e.width*e.density|0,e.height*e.density|0),e.clearOnRender&&(y=J._batcher,ee._graphics.clear((J._blackTransparentColor>>16&255)/255,(J._blackTransparentColor>>8&255)/255,(255&J._blackTransparentColor)/255,(J._blackTransparentColor>>24&255)/255,!1),J._didUpdateCurrentRenderTarget=!0)):(y=J._batcher,y=ee._graphics,(e=null)!=e?(y.bindFramebuffer((t=e).framebuffer),y.bindRenderbuffer(t.renderbuffer)):(y.bindFramebuffer(null),y.bindRenderbuffer(null)),O=((s=ee.app.screenWidth)+(i=0))/(o=s-i),f=((l=0)+(r=ee.app.screenHeight))/(c=l-r),_=((a=-1e3)+(h=1e3))/(u=a-h),(w=J._projectionMatrix)[0]=2/o,w[4]=0,w[8]=0,w[12]=-O,w[1]=0,w[5]=2/c,w[9]=0,w[13]=-f,w[2]=0,w[6]=0,w[10]=-2/u,w[14]=-_,w[3]=0,w[7]=0,w[11]=0,w[15]=1,d=ee.app.screenDensity,b=ee.app.screenWidth,g=ee.app.screenHeight,null!=(m=ae.app.screen.matrix)?((y=J._modelViewTransform).a=m.a,y.b=m.b,y.c=m.c,y.d=m.d,y.tx=m.tx,y.ty=m.ty,y.changedDirty=!0,0==(p=(y=J._modelViewTransform).a*y.d-y.b*y.c)?(y.a=y.b=y.c=y.d=0,y.tx=-y.tx,y.ty=-y.ty):(C=y.d*(p=1/p),y.d=y.a*p,y.a=C,y.b*=-p,y.c*=-p,v=-y.a*y.tx-y.c*y.ty,y.ty=-y.b*y.tx-y.d*y.ty,y.tx=v)):((y=J._modelViewTransform).a=1,y.b=0,y.c=0,y.d=1,y.tx=0,y.ty=0),y.changedDirty=!0,O=J._modelViewTransform.tx,f=J._modelViewTransform.ty,(y=J._modelViewTransform).tx+=-O,y.ty+=-f,y.changedDirty=!0,(y=J._modelViewTransform).a*=d,y.b*=d,y.c*=d,y.d*=d,y.tx*=d,y.ty*=d,y.changedDirty=!0,(y=J._modelViewTransform).tx+=O,y.ty+=f,y.changedDirty=!0,0==(p=(y=J._modelViewTransform).a*y.d-y.b*y.c)?(y.a=y.b=y.c=y.d=0,y.tx=-y.tx,y.ty=-y.ty):(C=y.d*(p=1/p),y.d=y.a*p,y.a=C,y.b*=-p,y.c*=-p,v=-y.a*y.tx-y.c*y.ty,y.ty=-y.b*y.tx-y.d*y.ty,y.tx=v),y.changedDirty=!0,w=J._modelViewMatrix,m=J._modelViewTransform,w[0]=m.a,w[4]=m.c,w[8]=0,w[12]=m.tx,w[1]=m.b,w[5]=m.d,w[9]=0,w[13]=m.ty,w[2]=0,w[6]=0,w[10]=1,w[14]=0,w[3]=0,w[7]=0,w[11]=0,w[15]=1,J._viewportDensity=ee.app.screenDensity,J._viewportWidth=ee.app.screenWidth*J._viewportDensity,J._viewportHeight=ee.app.screenHeight*J._viewportDensity,y=J._batcher,y=ee._graphics,ne.gl.viewport(0,0,0|J._viewportWidth,0|J._viewportHeight)))},useShader:function(e){J._activeShader=e;var n=J._batcher,n=(ee._graphics.projectionMatrix=J._projectionMatrix,J._batcher),t=(ee._graphics.modelViewMatrix=J._modelViewMatrix,ae.app.backend.shaders),i=0,l=J._activeShader.customAttributes;if(null!=l)for(var s=0,r=l.length;s<r;)i+=l[s++].size;var h=i,t=t.canBatchWithMultipleTextures(J._activeShader);J._batcher._customAttributes=null!=J._activeShader?J._activeShader.customAttributes:null,(n=J._batcher)._floatAttributesSize=h,n._batchMultiTexture=t,n._vertexSize=3+n._floatAttributesSize+(n._batchMultiTexture?1:0),n._posSize=n._vertexSize,n._vertexSize<4&&(n._vertexSize=4),n._maxVerts=0|Math.floor(65536/n._vertexSize),0==n._numPos&&(n._numIndices=0,n._numPos=0,n._numUVs=0,n._numColors=0,n._posIndex=0,n._uvIndex=0,n._colorIndex=0),e.activate()},setBlendFuncSeparate:function(e,n,t,i){J._batcher,ee._graphics;ne.gl.blendFuncSeparate(e,n,t,i)},beginDrawQuad:function(e){},endDrawQuad:function(){},beginDrawMesh:function(e){},endDrawMesh:function(){},enableScissor:function(e,n,t,i){var l=J._viewportDensity,s=J._modelViewTransform,r=(e*s.a+n*s.c+s.tx)*l,h=(e*(s=J._modelViewTransform).b+n*s.d+s.ty)*l,a=((e+t)*(s=J._modelViewTransform).a+(n+i)*s.c+s.tx)*l,e=((e+t)*(s=J._modelViewTransform).b+(n+i)*s.d+s.ty)*l;null!=J._currentRenderTarget?(s=J._batcher,n=J._viewportHeight-h,ne.gl.enable(3089),ne.gl.scissor(Math.round(r),Math.round(n),Math.round(a-r),Math.round(h-e))):(s=J._batcher,n=J._viewportHeight-e,ne.gl.enable(3089),ne.gl.scissor(Math.round(r),Math.round(n),Math.round(a-r),Math.round(e-h)))},disableScissor:function(){J._batcher;ne.gl.disable(3089)},drawWithStencilTest:function(){J._batcher;ne.gl.stencilFunc(514,1,255),ne.gl.stencilMask(0),ne.gl.colorMask(!0,!0,!0,!0),ne.gl.enable(2960)},drawWithoutStencilTest:function(){J._batcher;ne.gl.stencilFunc(519,1,255),ne.gl.stencilMask(255),ne.gl.colorMask(!0,!0,!0,!0),ne.gl.disable(2960)},beginDrawingInStencilBuffer:function(){J._drawingInStencilBuffer=!0;J._batcher;ne.gl.stencilMask(255),ne.gl.clearStencil(255),ne.gl.clear(1024),ne.gl.enable(2960),ne.gl.stencilOp(7680,7680,7681),ne.gl.stencilFunc(519,1,255),ne.gl.stencilMask(255),ne.gl.colorMask(!1,!1,!1,!1)},endDrawingInStencilBuffer:function(){J._drawingInStencilBuffer=!1},bindTexture:function(e){var n=J._batcher,e=e.textureId;(n=ee._graphics)._boundTexture2D[n._activeTextureSlot]!=e&&(n._boundTexture2D[n._activeTextureSlot]=e,ne.gl.bindTexture(3553,e))},bindNoTexture:function(){var e=J._batcher,e=ee._graphics,n=Ci.defaultTextureId;e._boundTexture2D[e._activeTextureSlot]!=n&&(e._boundTexture2D[e._activeTextureSlot]=n,ne.gl.bindTexture(3553,n))},textureBackendItemMatchesId:function(e,n){return e.textureId==n},getTextureId:function(e){return e.textureId},getTextureWidth:function(e){return e.width},getTextureHeight:function(e){return e.height},getTextureWidthActual:function(e){return e.widthActual},getTextureHeightActual:function(e){return e.heightActual},updateProjectionMatrix:function(e,n){var t=+e,i=0-n,e=(e+0)/t,n=(0+n)/i,l=J._projectionMatrix;l[0]=2/t,l[4]=0,l[8]=0,l[12]=-e,l[1]=0,l[5]=2/i,l[9]=0,l[13]=-n,l[2]=0,l[6]=0,l[10]=.001,l[14]=0,l[3]=0,l[7]=0,l[11]=0,l[15]=1},updateViewMatrix:function(e,n,t,i,l){null==l&&(l=1),null!=i?((h=J._modelViewTransform).a=i.a,h.b=i.b,h.c=i.c,h.d=i.d,h.tx=i.tx,h.ty=i.ty,h.changedDirty=!0,0==(a=(h=J._modelViewTransform).a*h.d-h.b*h.c)?(h.a=h.b=h.c=h.d=0,h.tx=-h.tx,h.ty=-h.ty):(o=h.d*(a=1/a),h.d=h.a*a,h.a=o,h.b*=-a,h.c*=-a,c=-h.a*h.tx-h.c*h.ty,h.ty=-h.b*h.tx-h.d*h.ty,h.tx=c)):((h=J._modelViewTransform).a=1,h.b=0,h.c=0,h.d=1,h.tx=0,h.ty=0),h.changedDirty=!0;var s=J._modelViewTransform.tx,r=J._modelViewTransform.ty,h=J._modelViewTransform;h.tx+=-s,h.ty+=-r,h.changedDirty=!0,(h=J._modelViewTransform).a*=e,h.b*=e,h.c*=e,h.d*=e,h.tx*=e,h.ty*=e,h.changedDirty=!0,(h=J._modelViewTransform).tx+=s,h.ty+=r,h.changedDirty=!0,-1==l&&((h=J._modelViewTransform).tx+=.5*-n,h.ty+=.5*-t,h.changedDirty=!0,(h=J._modelViewTransform).a*=1,h.b*=-1,h.c*=1,h.d*=-1,h.tx*=1,h.ty*=-1,h.changedDirty=!0,(h=J._modelViewTransform).tx+=.5*n,h.ty+=.5*t,h.changedDirty=!0);0==(a=(h=J._modelViewTransform).a*h.d-h.b*h.c)?(h.a=h.b=h.c=h.d=0,h.tx=-h.tx,h.ty=-h.ty):(o=h.d*(a=1/a),h.d=h.a*a,h.a=o,h.b*=-a,h.c*=-a,c=-h.a*h.tx-h.c*h.ty,h.ty=-h.b*h.tx-h.d*h.ty,h.tx=c),h.changedDirty=!0;var a,o,c,e=J._modelViewMatrix,i=J._modelViewTransform;e[0]=i.a,e[4]=i.c,e[8]=0,e[12]=i.tx,e[1]=i.b,e[5]=i.d,e[9]=0,e[13]=i.ty,e[2]=0,e[6]=0,e[10]=1,e[14]=0,e[3]=0,e[7]=0,e[11]=0,e[15]=1},matrixIdentity:function(e){e[0]=1,e[4]=0,e[8]=0,e[12]=0,e[1]=0,e[5]=1,e[9]=0,e[13]=0,e[2]=0,e[6]=0,e[10]=1,e[14]=0,e[3]=0,e[7]=0,e[11]=0,e[15]=1},setMatrixToTransform:function(e,n){e[0]=n.a,e[4]=n.c,e[8]=0,e[12]=n.tx,e[1]=n.b,e[5]=n.d,e[9]=0,e[13]=n.ty,e[2]=0,e[6]=0,e[10]=1,e[14]=0,e[3]=0,e[7]=0,e[11]=0,e[15]=1},getNumPos:function(){return J._batcher._numPos},putPos:function(e,n,t){var i=J._batcher;i._posList[i._posIndex]=e,i._posList[i._posIndex+1]=n,i._posList[i._posIndex+2]=t,i._posIndex+=3,i._numPos++},putPosAndTextureSlot:function(e,n,t,i){var l=J._batcher;l._posList[l._posIndex]=e,l._posList[l._posIndex+1]=n,l._posList[l._posIndex+2]=t,l._posList[l._posIndex+3]=i,l._posIndex+=4,l._numPos++},beginFloatAttributes:function(){},putFloatAttribute:function(e,n){var t=J._batcher;t._posList[t._posIndex+e]=n},endFloatAttributes:function(){var e=J._batcher;e._posIndex+=e._floatAttributesSize},putIndice:function(e){var n=J._batcher;n._indiceList[n._numIndices]=e,n._numIndices++},putUVs:function(e,n){var t=J._batcher;t._uvList[t._uvIndex]=e,t._uvList[t._uvIndex+1]=n,t._uvIndex+=2,t._numUVs++},putColor:function(e,n,t,i){var l=J._batcher;l._colorList[l._colorIndex]=e,l._colorList[l._colorIndex+1]=n,l._colorList[l._colorIndex+2]=t,l._colorList[l._colorIndex+3]=i,l._colorIndex+=4,l._numColors++},hasAnythingToFlush:function(){return 0<J._batcher._numPos},shouldFlush:function(e,n,t){var i=J._batcher;return!(i._numPos+e<=i._maxVerts)||16384<i._numIndices+n},remainingVertices:function(){var e=J._batcher;return e._maxVerts-e._numPos},remainingIndices:function(){return 16384-J._batcher._numIndices},flush:function(){J._batcher.flush(),null!=J._currentRenderTarget&&(J._didUpdateCurrentRenderTarget=!0)},__class__:J,__properties__:{set_batcher:"set_batcher",get_batcher:"get_batcher"}},(E["backend.ElectronRunner"]=W).__name__="backend.ElectronRunner",(E["spec.IO"]=X).__name__="spec.IO",X.__isInterface__=!0,X.prototype={saveString:null,appendString:null,readString:null,__class__:X},function(){}),ye=((E["backend.IO"]=me).__name__="backend.IO",me.__interfaces__=[X],me.prototype={initKeyValueIfNeeded:function(){},saveString:function(n,e){try{var t=window.localStorage;if(null==t)return ae.app.logger.error("Cannot save string: localStorage not supported on this browser",{fileName:"../../../../ceramic/plugins/clay/runtime/src/backend/IO.hx",lineNumber:274,className:"backend.IO",methodName:"saveString"}),!1;t.setItem(n,On.encode(e))}catch(e){Sl.lastError=e;t=$.caught(e).unwrap();return ae.app.logger.error("Failed to save string (key="+n+"): "+K.string(t),{fileName:"../../../../ceramic/plugins/clay/runtime/src/backend/IO.hx",lineNumber:281,className:"backend.IO",methodName:"saveString"}),!1}return!0},appendString:function(n,e){try{var t=window.localStorage;if(null==t)return ae.app.logger.error("Cannot append string: localStorage not supported on this browser",{fileName:"../../../../ceramic/plugins/clay/runtime/src/backend/IO.hx",lineNumber:294,className:"backend.IO",methodName:"appendString"}),!1;var i=t.getItem(n);null==i?t.setItem(n,On.encode(e)):t.setItem(n,i+On.encode(e))}catch(e){Sl.lastError=e;t=$.caught(e).unwrap();return ae.app.logger.error("Failed to append string (key="+n+"): "+K.string(t),{fileName:"../../../../ceramic/plugins/clay/runtime/src/backend/IO.hx",lineNumber:307,className:"backend.IO",methodName:"appendString"}),!1}return!0},readString:function(n){try{var e,t=window.localStorage;return null==t?(ae.app.logger.error("Cannot read string: localStorage not supported on this browser",{fileName:"../../../../ceramic/plugins/clay/runtime/src/backend/IO.hx",lineNumber:320,className:"backend.IO",methodName:"readString"}),null):null!=(e=t.getItem(n))?On.decode(e):null}catch(e){Sl.lastError=e;t=$.caught(e).unwrap();return ae.app.logger.error("Failed to read string (key="+n+"): "+K.string(t),{fileName:"../../../../ceramic/plugins/clay/runtime/src/backend/IO.hx",lineNumber:328,className:"backend.IO",methodName:"readString"}),null}},__class__:me},(E["spec.Info"]=Z).__name__="spec.Info",Z.__isInterface__=!0,Z.prototype={storageDirectory:null,imageExtensions:null,textExtensions:null,soundExtensions:null,shaderExtensions:null,__class__:Z},function(){}),Te=((E["backend.Info"]=ye).__name__="backend.Info",ye.__interfaces__=[Z],ye.prototype={storageDirectory:function(){return null},imageExtensions:function(){return["png","jpg","jpeg"]},textExtensions:function(){return["txt","json","fnt","atlas"]},soundExtensions:function(){var e,n,t,i;return null==ye._soundExtensions&&(ye._soundExtensions=[],e=new Audio,n=null!=ce.navigator?ce.navigator.userAgent:"",i=ye.RE_OPERA.match(n)&&parseInt(ye.RE_OPERA.matched(0).split("/")[1],10)<33,t=-1!=n.indexOf("Safari")&&-1==n.indexOf("Chrome"),n=ye.RE_SAFARI_VERSION.match(n),t&&n&&parseInt(ye.RE_SAFARI_VERSION.matched(1),10),null!=(t=e.canPlayType('audio/ogg; codecs="vorbis"'))&&"no"!=t&&""!=t&&ye._soundExtensions.push("ogg"),n=e.canPlayType("audio/mpeg;"),t=e.canPlayType("audio/mp3;"),!i&&(null!=n&&"no"!=n&&""!=n||null!=t&&"no"!=t&&""!=t)&&ye._soundExtensions.push("mp3"),i=e.canPlayType("audio/x-flac;"),n=e.canPlayType("audio/flac;"),(null!=i&&"no"!=i&&""!=i||null!=n&&"no"!=n&&""!=n)&&ye._soundExtensions.push("flac"),t=e.canPlayType('audio/wav; codecs="1"'),i=e.canPlayType("audio/wav;"),null!=t&&"no"!=t&&""!=t||null!=i&&"no"!=i&&""!=i)&&ye._soundExtensions.push("wav"),[].concat(ye._soundExtensions)},shaderExtensions:function(){return["frag","vert"]},__class__:ye},(E["spec.Input"]=_).__name__="spec.Input",_.__isInterface__=!0,function(){}),De=((E["backend.Input"]=Te).__name__="backend.Input",Te.__interfaces__=[_,i],Te.prototype={__cbOnKeyDown:null,__cbOnceKeyDown:null,__cbOnOwnerUnbindKeyDown:null,__cbOnceOwnerUnbindKeyDown:null,emitKeyDown:function(e){var n=0;if(null!=this.__cbOnKeyDown&&(n+=this.__cbOnKeyDown.length),null!=this.__cbOnceKeyDown&&(n+=this.__cbOnceKeyDown.length),0<n){var t=C.pool(n),i=t.get(),l=0;if(null!=this.__cbOnKeyDown)for(var s=0,r=this.__cbOnKeyDown.length;s<r;){var h=s++;!0?(i.vector[l]=this.__cbOnKeyDown[h],++l):--n}if(null!=this.__cbOnceKeyDown){for(var a=null,o=null,s=0,r=this.__cbOnceKeyDown.length;s<r;){var c,h=s++;!0?(i.vector[l]=this.__cbOnceKeyDown[h],this.__cbOnceKeyDown[h]=null,c=this.__cbOnceOwnerUnbindKeyDown[h],(this.__cbOnceOwnerUnbindKeyDown[h]=null)!=c&&c(),++l):(--n,null==a&&(a=[],o=[],0),a.push(this.__cbOnceOwnerUnbindKeyDown[h]),o.push(this.__cbOnceKeyDown[h]))}this.__cbOnceOwnerUnbindKeyDown=a,this.__cbOnceKeyDown=o}for(s=0,r=n;s<r;){l=s++;(0,i.vector[l])(e)}t.release(i)}},onKeyDown:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event keyDown because owner is destroyed!");var l=function(e){null!=t&&(i.offKeyDown(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindKeyDown&&(this.__cbOnOwnerUnbindKeyDown=[]),this.__cbOnOwnerUnbindKeyDown.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindKeyDown&&(this.__cbOnOwnerUnbindKeyDown=[]),this.__cbOnOwnerUnbindKeyDown.push(null);null==this.__cbOnKeyDown&&(this.__cbOnKeyDown=[]),this.__cbOnKeyDown.push(t)},onceKeyDown:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event keyDown because owner is destroyed!");var l=function(e){null!=t&&(i.offKeyDown(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindKeyDown&&(this.__cbOnceOwnerUnbindKeyDown=[]),this.__cbOnceOwnerUnbindKeyDown.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindKeyDown&&(this.__cbOnceOwnerUnbindKeyDown=[]),this.__cbOnceOwnerUnbindKeyDown.push(null);null==this.__cbOnceKeyDown&&(this.__cbOnceKeyDown=[]),this.__cbOnceKeyDown.push(t)},offKeyDown:function(e){if(null!=e){var n;null!=this.__cbOnKeyDown&&-1!=(n=this.__cbOnKeyDown.indexOf(e))&&(this.__cbOnKeyDown.splice(n,1),null!=(s=this.__cbOnOwnerUnbindKeyDown[n])&&s(),this.__cbOnOwnerUnbindKeyDown.splice(n,1)),null!=this.__cbOnceKeyDown&&-1!=(n=this.__cbOnceKeyDown.indexOf(e))&&(this.__cbOnceKeyDown.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindKeyDown[n])&&s(),this.__cbOnceOwnerUnbindKeyDown.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindKeyDown){for(var t=0,i=this.__cbOnOwnerUnbindKeyDown.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindKeyDown[l])&&s()}this.__cbOnOwnerUnbindKeyDown=null}if(null!=this.__cbOnceOwnerUnbindKeyDown){for(t=0,i=this.__cbOnceOwnerUnbindKeyDown.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindKeyDown[l])&&s()}this.__cbOnceOwnerUnbindKeyDown=null}this.__cbOnKeyDown=null,this.__cbOnceKeyDown=null}},listensKeyDown:function(){return null!=this.__cbOnKeyDown&&0<this.__cbOnKeyDown.length||null!=this.__cbOnceKeyDown&&0<this.__cbOnceKeyDown.length},__cbOnKeyUp:null,__cbOnceKeyUp:null,__cbOnOwnerUnbindKeyUp:null,__cbOnceOwnerUnbindKeyUp:null,emitKeyUp:function(e){var n=0;if(null!=this.__cbOnKeyUp&&(n+=this.__cbOnKeyUp.length),null!=this.__cbOnceKeyUp&&(n+=this.__cbOnceKeyUp.length),0<n){var t=C.pool(n),i=t.get(),l=0;if(null!=this.__cbOnKeyUp)for(var s=0,r=this.__cbOnKeyUp.length;s<r;){var h=s++;!0?(i.vector[l]=this.__cbOnKeyUp[h],++l):--n}if(null!=this.__cbOnceKeyUp){for(var a=null,o=null,s=0,r=this.__cbOnceKeyUp.length;s<r;){var c,h=s++;!0?(i.vector[l]=this.__cbOnceKeyUp[h],this.__cbOnceKeyUp[h]=null,c=this.__cbOnceOwnerUnbindKeyUp[h],(this.__cbOnceOwnerUnbindKeyUp[h]=null)!=c&&c(),++l):(--n,null==a&&(a=[],o=[],0),a.push(this.__cbOnceOwnerUnbindKeyUp[h]),o.push(this.__cbOnceKeyUp[h]))}this.__cbOnceOwnerUnbindKeyUp=a,this.__cbOnceKeyUp=o}for(s=0,r=n;s<r;){l=s++;(0,i.vector[l])(e)}t.release(i)}},onKeyUp:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event keyUp because owner is destroyed!");var l=function(e){null!=t&&(i.offKeyUp(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindKeyUp&&(this.__cbOnOwnerUnbindKeyUp=[]),this.__cbOnOwnerUnbindKeyUp.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindKeyUp&&(this.__cbOnOwnerUnbindKeyUp=[]),this.__cbOnOwnerUnbindKeyUp.push(null);null==this.__cbOnKeyUp&&(this.__cbOnKeyUp=[]),this.__cbOnKeyUp.push(t)},onceKeyUp:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event keyUp because owner is destroyed!");var l=function(e){null!=t&&(i.offKeyUp(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindKeyUp&&(this.__cbOnceOwnerUnbindKeyUp=[]),this.__cbOnceOwnerUnbindKeyUp.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindKeyUp&&(this.__cbOnceOwnerUnbindKeyUp=[]),this.__cbOnceOwnerUnbindKeyUp.push(null);null==this.__cbOnceKeyUp&&(this.__cbOnceKeyUp=[]),this.__cbOnceKeyUp.push(t)},offKeyUp:function(e){if(null!=e){var n;null!=this.__cbOnKeyUp&&-1!=(n=this.__cbOnKeyUp.indexOf(e))&&(this.__cbOnKeyUp.splice(n,1),null!=(s=this.__cbOnOwnerUnbindKeyUp[n])&&s(),this.__cbOnOwnerUnbindKeyUp.splice(n,1)),null!=this.__cbOnceKeyUp&&-1!=(n=this.__cbOnceKeyUp.indexOf(e))&&(this.__cbOnceKeyUp.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindKeyUp[n])&&s(),this.__cbOnceOwnerUnbindKeyUp.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindKeyUp){for(var t=0,i=this.__cbOnOwnerUnbindKeyUp.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindKeyUp[l])&&s()}this.__cbOnOwnerUnbindKeyUp=null}if(null!=this.__cbOnceOwnerUnbindKeyUp){for(t=0,i=this.__cbOnceOwnerUnbindKeyUp.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindKeyUp[l])&&s()}this.__cbOnceOwnerUnbindKeyUp=null}this.__cbOnKeyUp=null,this.__cbOnceKeyUp=null}},listensKeyUp:function(){return null!=this.__cbOnKeyUp&&0<this.__cbOnKeyUp.length||null!=this.__cbOnceKeyUp&&0<this.__cbOnceKeyUp.length},__cbOnGamepadAxis:null,__cbOnceGamepadAxis:null,__cbOnOwnerUnbindGamepadAxis:null,__cbOnceOwnerUnbindGamepadAxis:null,emitGamepadAxis:function(e,n,t){var i=0;if(null!=this.__cbOnGamepadAxis&&(i+=this.__cbOnGamepadAxis.length),null!=this.__cbOnceGamepadAxis&&(i+=this.__cbOnceGamepadAxis.length),0<i){var l=C.pool(i),s=l.get(),r=0;if(null!=this.__cbOnGamepadAxis)for(var h=0,a=this.__cbOnGamepadAxis.length;h<a;){var o=h++;!0?(s.vector[r]=this.__cbOnGamepadAxis[o],++r):--i}if(null!=this.__cbOnceGamepadAxis){for(var c=null,u=null,h=0,a=this.__cbOnceGamepadAxis.length;h<a;){var _,o=h++;!0?(s.vector[r]=this.__cbOnceGamepadAxis[o],this.__cbOnceGamepadAxis[o]=null,_=this.__cbOnceOwnerUnbindGamepadAxis[o],(this.__cbOnceOwnerUnbindGamepadAxis[o]=null)!=_&&_(),++r):(--i,null==c&&(c=[],u=[],0),c.push(this.__cbOnceOwnerUnbindGamepadAxis[o]),u.push(this.__cbOnceGamepadAxis[o]))}this.__cbOnceOwnerUnbindGamepadAxis=c,this.__cbOnceGamepadAxis=u}for(h=0,a=i;h<a;){r=h++;(0,s.vector[r])(e,n,t)}l.release(s)}},onGamepadAxis:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event gamepadAxis because owner is destroyed!");var l=function(e){null!=t&&(i.offGamepadAxis(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindGamepadAxis&&(this.__cbOnOwnerUnbindGamepadAxis=[]),this.__cbOnOwnerUnbindGamepadAxis.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindGamepadAxis&&(this.__cbOnOwnerUnbindGamepadAxis=[]),this.__cbOnOwnerUnbindGamepadAxis.push(null);null==this.__cbOnGamepadAxis&&(this.__cbOnGamepadAxis=[]),this.__cbOnGamepadAxis.push(t)},onceGamepadAxis:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event gamepadAxis because owner is destroyed!");var l=function(e){null!=t&&(i.offGamepadAxis(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindGamepadAxis&&(this.__cbOnceOwnerUnbindGamepadAxis=[]),this.__cbOnceOwnerUnbindGamepadAxis.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindGamepadAxis&&(this.__cbOnceOwnerUnbindGamepadAxis=[]),this.__cbOnceOwnerUnbindGamepadAxis.push(null);null==this.__cbOnceGamepadAxis&&(this.__cbOnceGamepadAxis=[]),this.__cbOnceGamepadAxis.push(t)},offGamepadAxis:function(e){if(null!=e){var n;null!=this.__cbOnGamepadAxis&&-1!=(n=this.__cbOnGamepadAxis.indexOf(e))&&(this.__cbOnGamepadAxis.splice(n,1),null!=(s=this.__cbOnOwnerUnbindGamepadAxis[n])&&s(),this.__cbOnOwnerUnbindGamepadAxis.splice(n,1)),null!=this.__cbOnceGamepadAxis&&-1!=(n=this.__cbOnceGamepadAxis.indexOf(e))&&(this.__cbOnceGamepadAxis.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindGamepadAxis[n])&&s(),this.__cbOnceOwnerUnbindGamepadAxis.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindGamepadAxis){for(var t=0,i=this.__cbOnOwnerUnbindGamepadAxis.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindGamepadAxis[l])&&s()}this.__cbOnOwnerUnbindGamepadAxis=null}if(null!=this.__cbOnceOwnerUnbindGamepadAxis){for(t=0,i=this.__cbOnceOwnerUnbindGamepadAxis.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindGamepadAxis[l])&&s()}this.__cbOnceOwnerUnbindGamepadAxis=null}this.__cbOnGamepadAxis=null,this.__cbOnceGamepadAxis=null}},listensGamepadAxis:function(){return null!=this.__cbOnGamepadAxis&&0<this.__cbOnGamepadAxis.length||null!=this.__cbOnceGamepadAxis&&0<this.__cbOnceGamepadAxis.length},__cbOnGamepadDown:null,__cbOnceGamepadDown:null,__cbOnOwnerUnbindGamepadDown:null,__cbOnceOwnerUnbindGamepadDown:null,emitGamepadDown:function(e,n){var t=0;if(null!=this.__cbOnGamepadDown&&(t+=this.__cbOnGamepadDown.length),null!=this.__cbOnceGamepadDown&&(t+=this.__cbOnceGamepadDown.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnGamepadDown)for(var r=0,h=this.__cbOnGamepadDown.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnGamepadDown[a],++s):--t}if(null!=this.__cbOnceGamepadDown){for(var o=null,c=null,r=0,h=this.__cbOnceGamepadDown.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceGamepadDown[a],this.__cbOnceGamepadDown[a]=null,u=this.__cbOnceOwnerUnbindGamepadDown[a],(this.__cbOnceOwnerUnbindGamepadDown[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindGamepadDown[a]),c.push(this.__cbOnceGamepadDown[a]))}this.__cbOnceOwnerUnbindGamepadDown=o,this.__cbOnceGamepadDown=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onGamepadDown:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event gamepadDown because owner is destroyed!");var l=function(e){null!=t&&(i.offGamepadDown(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindGamepadDown&&(this.__cbOnOwnerUnbindGamepadDown=[]),this.__cbOnOwnerUnbindGamepadDown.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindGamepadDown&&(this.__cbOnOwnerUnbindGamepadDown=[]),this.__cbOnOwnerUnbindGamepadDown.push(null);null==this.__cbOnGamepadDown&&(this.__cbOnGamepadDown=[]),this.__cbOnGamepadDown.push(t)},onceGamepadDown:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event gamepadDown because owner is destroyed!");var l=function(e){null!=t&&(i.offGamepadDown(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindGamepadDown&&(this.__cbOnceOwnerUnbindGamepadDown=[]),this.__cbOnceOwnerUnbindGamepadDown.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindGamepadDown&&(this.__cbOnceOwnerUnbindGamepadDown=[]),this.__cbOnceOwnerUnbindGamepadDown.push(null);null==this.__cbOnceGamepadDown&&(this.__cbOnceGamepadDown=[]),this.__cbOnceGamepadDown.push(t)},offGamepadDown:function(e){if(null!=e){var n;null!=this.__cbOnGamepadDown&&-1!=(n=this.__cbOnGamepadDown.indexOf(e))&&(this.__cbOnGamepadDown.splice(n,1),null!=(s=this.__cbOnOwnerUnbindGamepadDown[n])&&s(),this.__cbOnOwnerUnbindGamepadDown.splice(n,1)),null!=this.__cbOnceGamepadDown&&-1!=(n=this.__cbOnceGamepadDown.indexOf(e))&&(this.__cbOnceGamepadDown.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindGamepadDown[n])&&s(),this.__cbOnceOwnerUnbindGamepadDown.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindGamepadDown){for(var t=0,i=this.__cbOnOwnerUnbindGamepadDown.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindGamepadDown[l])&&s()}this.__cbOnOwnerUnbindGamepadDown=null}if(null!=this.__cbOnceOwnerUnbindGamepadDown){for(t=0,i=this.__cbOnceOwnerUnbindGamepadDown.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindGamepadDown[l])&&s()}this.__cbOnceOwnerUnbindGamepadDown=null}this.__cbOnGamepadDown=null,this.__cbOnceGamepadDown=null}},listensGamepadDown:function(){return null!=this.__cbOnGamepadDown&&0<this.__cbOnGamepadDown.length||null!=this.__cbOnceGamepadDown&&0<this.__cbOnceGamepadDown.length},__cbOnGamepadUp:null,__cbOnceGamepadUp:null,__cbOnOwnerUnbindGamepadUp:null,__cbOnceOwnerUnbindGamepadUp:null,emitGamepadUp:function(e,n){var t=0;if(null!=this.__cbOnGamepadUp&&(t+=this.__cbOnGamepadUp.length),null!=this.__cbOnceGamepadUp&&(t+=this.__cbOnceGamepadUp.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnGamepadUp)for(var r=0,h=this.__cbOnGamepadUp.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnGamepadUp[a],++s):--t}if(null!=this.__cbOnceGamepadUp){for(var o=null,c=null,r=0,h=this.__cbOnceGamepadUp.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceGamepadUp[a],this.__cbOnceGamepadUp[a]=null,u=this.__cbOnceOwnerUnbindGamepadUp[a],(this.__cbOnceOwnerUnbindGamepadUp[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindGamepadUp[a]),c.push(this.__cbOnceGamepadUp[a]))}this.__cbOnceOwnerUnbindGamepadUp=o,this.__cbOnceGamepadUp=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onGamepadUp:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event gamepadUp because owner is destroyed!");var l=function(e){null!=t&&(i.offGamepadUp(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindGamepadUp&&(this.__cbOnOwnerUnbindGamepadUp=[]),this.__cbOnOwnerUnbindGamepadUp.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindGamepadUp&&(this.__cbOnOwnerUnbindGamepadUp=[]),this.__cbOnOwnerUnbindGamepadUp.push(null);null==this.__cbOnGamepadUp&&(this.__cbOnGamepadUp=[]),this.__cbOnGamepadUp.push(t)},onceGamepadUp:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event gamepadUp because owner is destroyed!");var l=function(e){null!=t&&(i.offGamepadUp(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindGamepadUp&&(this.__cbOnceOwnerUnbindGamepadUp=[]),this.__cbOnceOwnerUnbindGamepadUp.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindGamepadUp&&(this.__cbOnceOwnerUnbindGamepadUp=[]),this.__cbOnceOwnerUnbindGamepadUp.push(null);null==this.__cbOnceGamepadUp&&(this.__cbOnceGamepadUp=[]),this.__cbOnceGamepadUp.push(t)},offGamepadUp:function(e){if(null!=e){var n;null!=this.__cbOnGamepadUp&&-1!=(n=this.__cbOnGamepadUp.indexOf(e))&&(this.__cbOnGamepadUp.splice(n,1),null!=(s=this.__cbOnOwnerUnbindGamepadUp[n])&&s(),this.__cbOnOwnerUnbindGamepadUp.splice(n,1)),null!=this.__cbOnceGamepadUp&&-1!=(n=this.__cbOnceGamepadUp.indexOf(e))&&(this.__cbOnceGamepadUp.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindGamepadUp[n])&&s(),this.__cbOnceOwnerUnbindGamepadUp.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindGamepadUp){for(var t=0,i=this.__cbOnOwnerUnbindGamepadUp.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindGamepadUp[l])&&s()}this.__cbOnOwnerUnbindGamepadUp=null}if(null!=this.__cbOnceOwnerUnbindGamepadUp){for(t=0,i=this.__cbOnceOwnerUnbindGamepadUp.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindGamepadUp[l])&&s()}this.__cbOnceOwnerUnbindGamepadUp=null}this.__cbOnGamepadUp=null,this.__cbOnceGamepadUp=null}},listensGamepadUp:function(){return null!=this.__cbOnGamepadUp&&0<this.__cbOnGamepadUp.length||null!=this.__cbOnceGamepadUp&&0<this.__cbOnceGamepadUp.length},__cbOnGamepadGyro:null,__cbOnceGamepadGyro:null,__cbOnOwnerUnbindGamepadGyro:null,__cbOnceOwnerUnbindGamepadGyro:null,emitGamepadGyro:function(e,n,t,i){var l=0;if(null!=this.__cbOnGamepadGyro&&(l+=this.__cbOnGamepadGyro.length),null!=this.__cbOnceGamepadGyro&&(l+=this.__cbOnceGamepadGyro.length),0<l){var s=C.pool(l),r=s.get(),h=0;if(null!=this.__cbOnGamepadGyro)for(var a=0,o=this.__cbOnGamepadGyro.length;a<o;){var c=a++;!0?(r.vector[h]=this.__cbOnGamepadGyro[c],++h):--l}if(null!=this.__cbOnceGamepadGyro){for(var u=null,_=null,a=0,o=this.__cbOnceGamepadGyro.length;a<o;){var d,c=a++;!0?(r.vector[h]=this.__cbOnceGamepadGyro[c],this.__cbOnceGamepadGyro[c]=null,d=this.__cbOnceOwnerUnbindGamepadGyro[c],(this.__cbOnceOwnerUnbindGamepadGyro[c]=null)!=d&&d(),++h):(--l,null==u&&(u=[],_=[],0),u.push(this.__cbOnceOwnerUnbindGamepadGyro[c]),_.push(this.__cbOnceGamepadGyro[c]))}this.__cbOnceOwnerUnbindGamepadGyro=u,this.__cbOnceGamepadGyro=_}for(a=0,o=l;a<o;){h=a++;(0,r.vector[h])(e,n,t,i)}s.release(r)}},onGamepadGyro:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event gamepadGyro because owner is destroyed!");var l=function(e){null!=t&&(i.offGamepadGyro(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindGamepadGyro&&(this.__cbOnOwnerUnbindGamepadGyro=[]),this.__cbOnOwnerUnbindGamepadGyro.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindGamepadGyro&&(this.__cbOnOwnerUnbindGamepadGyro=[]),this.__cbOnOwnerUnbindGamepadGyro.push(null);null==this.__cbOnGamepadGyro&&(this.__cbOnGamepadGyro=[]),this.__cbOnGamepadGyro.push(t)},onceGamepadGyro:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event gamepadGyro because owner is destroyed!");var l=function(e){null!=t&&(i.offGamepadGyro(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindGamepadGyro&&(this.__cbOnceOwnerUnbindGamepadGyro=[]),this.__cbOnceOwnerUnbindGamepadGyro.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindGamepadGyro&&(this.__cbOnceOwnerUnbindGamepadGyro=[]),this.__cbOnceOwnerUnbindGamepadGyro.push(null);null==this.__cbOnceGamepadGyro&&(this.__cbOnceGamepadGyro=[]),this.__cbOnceGamepadGyro.push(t)},offGamepadGyro:function(e){if(null!=e){var n;null!=this.__cbOnGamepadGyro&&-1!=(n=this.__cbOnGamepadGyro.indexOf(e))&&(this.__cbOnGamepadGyro.splice(n,1),null!=(s=this.__cbOnOwnerUnbindGamepadGyro[n])&&s(),this.__cbOnOwnerUnbindGamepadGyro.splice(n,1)),null!=this.__cbOnceGamepadGyro&&-1!=(n=this.__cbOnceGamepadGyro.indexOf(e))&&(this.__cbOnceGamepadGyro.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindGamepadGyro[n])&&s(),this.__cbOnceOwnerUnbindGamepadGyro.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindGamepadGyro){for(var t=0,i=this.__cbOnOwnerUnbindGamepadGyro.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindGamepadGyro[l])&&s()}this.__cbOnOwnerUnbindGamepadGyro=null}if(null!=this.__cbOnceOwnerUnbindGamepadGyro){for(t=0,i=this.__cbOnceOwnerUnbindGamepadGyro.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindGamepadGyro[l])&&s()}this.__cbOnceOwnerUnbindGamepadGyro=null}this.__cbOnGamepadGyro=null,this.__cbOnceGamepadGyro=null}},listensGamepadGyro:function(){return null!=this.__cbOnGamepadGyro&&0<this.__cbOnGamepadGyro.length||null!=this.__cbOnceGamepadGyro&&0<this.__cbOnceGamepadGyro.length},__cbOnGamepadEnable:null,__cbOnceGamepadEnable:null,__cbOnOwnerUnbindGamepadEnable:null,__cbOnceOwnerUnbindGamepadEnable:null,emitGamepadEnable:function(e,n){var t=0;if(null!=this.__cbOnGamepadEnable&&(t+=this.__cbOnGamepadEnable.length),null!=this.__cbOnceGamepadEnable&&(t+=this.__cbOnceGamepadEnable.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnGamepadEnable)for(var r=0,h=this.__cbOnGamepadEnable.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnGamepadEnable[a],++s):--t}if(null!=this.__cbOnceGamepadEnable){for(var o=null,c=null,r=0,h=this.__cbOnceGamepadEnable.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceGamepadEnable[a],this.__cbOnceGamepadEnable[a]=null,u=this.__cbOnceOwnerUnbindGamepadEnable[a],(this.__cbOnceOwnerUnbindGamepadEnable[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindGamepadEnable[a]),c.push(this.__cbOnceGamepadEnable[a]))}this.__cbOnceOwnerUnbindGamepadEnable=o,this.__cbOnceGamepadEnable=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onGamepadEnable:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event gamepadEnable because owner is destroyed!");var l=function(e){null!=t&&(i.offGamepadEnable(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindGamepadEnable&&(this.__cbOnOwnerUnbindGamepadEnable=[]),this.__cbOnOwnerUnbindGamepadEnable.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindGamepadEnable&&(this.__cbOnOwnerUnbindGamepadEnable=[]),this.__cbOnOwnerUnbindGamepadEnable.push(null);null==this.__cbOnGamepadEnable&&(this.__cbOnGamepadEnable=[]),this.__cbOnGamepadEnable.push(t)},onceGamepadEnable:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event gamepadEnable because owner is destroyed!");var l=function(e){null!=t&&(i.offGamepadEnable(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindGamepadEnable&&(this.__cbOnceOwnerUnbindGamepadEnable=[]),this.__cbOnceOwnerUnbindGamepadEnable.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindGamepadEnable&&(this.__cbOnceOwnerUnbindGamepadEnable=[]),this.__cbOnceOwnerUnbindGamepadEnable.push(null);null==this.__cbOnceGamepadEnable&&(this.__cbOnceGamepadEnable=[]),this.__cbOnceGamepadEnable.push(t)},offGamepadEnable:function(e){if(null!=e){var n;null!=this.__cbOnGamepadEnable&&-1!=(n=this.__cbOnGamepadEnable.indexOf(e))&&(this.__cbOnGamepadEnable.splice(n,1),null!=(s=this.__cbOnOwnerUnbindGamepadEnable[n])&&s(),this.__cbOnOwnerUnbindGamepadEnable.splice(n,1)),null!=this.__cbOnceGamepadEnable&&-1!=(n=this.__cbOnceGamepadEnable.indexOf(e))&&(this.__cbOnceGamepadEnable.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindGamepadEnable[n])&&s(),this.__cbOnceOwnerUnbindGamepadEnable.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindGamepadEnable){for(var t=0,i=this.__cbOnOwnerUnbindGamepadEnable.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindGamepadEnable[l])&&s()}this.__cbOnOwnerUnbindGamepadEnable=null}if(null!=this.__cbOnceOwnerUnbindGamepadEnable){for(t=0,i=this.__cbOnceOwnerUnbindGamepadEnable.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindGamepadEnable[l])&&s()}this.__cbOnceOwnerUnbindGamepadEnable=null}this.__cbOnGamepadEnable=null,this.__cbOnceGamepadEnable=null}},listensGamepadEnable:function(){return null!=this.__cbOnGamepadEnable&&0<this.__cbOnGamepadEnable.length||null!=this.__cbOnceGamepadEnable&&0<this.__cbOnceGamepadEnable.length},__cbOnGamepadDisable:null,__cbOnceGamepadDisable:null,__cbOnOwnerUnbindGamepadDisable:null,__cbOnceOwnerUnbindGamepadDisable:null,emitGamepadDisable:function(e){var n=0;if(null!=this.__cbOnGamepadDisable&&(n+=this.__cbOnGamepadDisable.length),null!=this.__cbOnceGamepadDisable&&(n+=this.__cbOnceGamepadDisable.length),0<n){var t=C.pool(n),i=t.get(),l=0;if(null!=this.__cbOnGamepadDisable)for(var s=0,r=this.__cbOnGamepadDisable.length;s<r;){var h=s++;!0?(i.vector[l]=this.__cbOnGamepadDisable[h],++l):--n}if(null!=this.__cbOnceGamepadDisable){for(var a=null,o=null,s=0,r=this.__cbOnceGamepadDisable.length;s<r;){var c,h=s++;!0?(i.vector[l]=this.__cbOnceGamepadDisable[h],this.__cbOnceGamepadDisable[h]=null,c=this.__cbOnceOwnerUnbindGamepadDisable[h],(this.__cbOnceOwnerUnbindGamepadDisable[h]=null)!=c&&c(),++l):(--n,null==a&&(a=[],o=[],0),a.push(this.__cbOnceOwnerUnbindGamepadDisable[h]),o.push(this.__cbOnceGamepadDisable[h]))}this.__cbOnceOwnerUnbindGamepadDisable=a,this.__cbOnceGamepadDisable=o}for(s=0,r=n;s<r;){l=s++;(0,i.vector[l])(e)}t.release(i)}},onGamepadDisable:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event gamepadDisable because owner is destroyed!");var l=function(e){null!=t&&(i.offGamepadDisable(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindGamepadDisable&&(this.__cbOnOwnerUnbindGamepadDisable=[]),this.__cbOnOwnerUnbindGamepadDisable.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindGamepadDisable&&(this.__cbOnOwnerUnbindGamepadDisable=[]),this.__cbOnOwnerUnbindGamepadDisable.push(null);null==this.__cbOnGamepadDisable&&(this.__cbOnGamepadDisable=[]),this.__cbOnGamepadDisable.push(t)},onceGamepadDisable:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event gamepadDisable because owner is destroyed!");var l=function(e){null!=t&&(i.offGamepadDisable(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindGamepadDisable&&(this.__cbOnceOwnerUnbindGamepadDisable=[]),this.__cbOnceOwnerUnbindGamepadDisable.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindGamepadDisable&&(this.__cbOnceOwnerUnbindGamepadDisable=[]),this.__cbOnceOwnerUnbindGamepadDisable.push(null);null==this.__cbOnceGamepadDisable&&(this.__cbOnceGamepadDisable=[]),this.__cbOnceGamepadDisable.push(t)},offGamepadDisable:function(e){if(null!=e){var n;null!=this.__cbOnGamepadDisable&&-1!=(n=this.__cbOnGamepadDisable.indexOf(e))&&(this.__cbOnGamepadDisable.splice(n,1),null!=(s=this.__cbOnOwnerUnbindGamepadDisable[n])&&s(),this.__cbOnOwnerUnbindGamepadDisable.splice(n,1)),null!=this.__cbOnceGamepadDisable&&-1!=(n=this.__cbOnceGamepadDisable.indexOf(e))&&(this.__cbOnceGamepadDisable.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindGamepadDisable[n])&&s(),this.__cbOnceOwnerUnbindGamepadDisable.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindGamepadDisable){for(var t=0,i=this.__cbOnOwnerUnbindGamepadDisable.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindGamepadDisable[l])&&s()}this.__cbOnOwnerUnbindGamepadDisable=null}if(null!=this.__cbOnceOwnerUnbindGamepadDisable){for(t=0,i=this.__cbOnceOwnerUnbindGamepadDisable.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindGamepadDisable[l])&&s()}this.__cbOnceOwnerUnbindGamepadDisable=null}this.__cbOnGamepadDisable=null,this.__cbOnceGamepadDisable=null}},listensGamepadDisable:function(){return null!=this.__cbOnGamepadDisable&&0<this.__cbOnGamepadDisable.length||null!=this.__cbOnceGamepadDisable&&0<this.__cbOnceGamepadDisable.length},startGamepadRumble:function(e,n,t,i){ee.app.runtime.startGamepadRumble(e,n,t,i)},stopGamepadRumble:function(e){ee.app.runtime.stopGamepadRumble(e)},unbindEvents:function(){this.offKeyDown(),this.offKeyUp(),this.offGamepadAxis(),this.offGamepadDown(),this.offGamepadUp(),this.offGamepadGyro(),this.offGamepadEnable(),this.offGamepadDisable()},__class__:Te},(E["backend.Main"]=ba).__name__="backend.Main",ba.main=function(){ba.events=new R(ba.ready),new ee(ba.configure,ba.events)},ba.configure=function(i){var n;if(i.window.backgroundSleep=.016666666666666666,i.render.webgl.version=2,-1<ce.navigator.userAgent.toLowerCase().indexOf(" electron/"))try{var e=require("@electron/remote").require("./app.js");e.isCeramicRunner&&(W.electronRunner=e)}catch(e){Sl.lastError=e}null!=W.electronRunner&&(document.getElementsByTagName("html")[0].className+=" in-electron-runner",Wn._hasElectronRunner=!0,n=console.log,console.log=function(e){W.electronRunner.consoleLog(e),n(e)},window.addEventListener("error",function(e){for(var e=e.error,n=(e instanceof Il&&e.get_stack(),null!=e?(""+e.stack).split("\n"):[]),t=n.length-1,i=-1!=navigator.platform.indexOf("Win");0<=t;){var l=n[t],l=z.ltrim(l);l=z.replace(l,"http://localhost:"+K.string(W.electronRunner.serverPort)+"/file:"+(i?"/":""),""),l=z.replace(l,"http://localhost:"+K.string(W.electronRunner.serverPort)+"/",K.string(W.electronRunner.appFiles)+"/"),W.electronRunner.consoleLog("[error] "+l),--t}}));var e=ae.init(),l=(ba.project=new v(e),ba.app=ae.app,i.runtime.preventDefaultMouseWheel=e.settings.get_preventDefaultMouseWheel(),ba.app.settings.onPreventDefaultMouseWheelChange(ba.app,function(e,n){i.runtime.preventDefaultMouseWheel=e||0<ba.app.numBlockingDefaultScroll}),i.runtime.preventDefaultTouches=e.settings.get_preventDefaultTouches(),ba.app.settings.onPreventDefaultTouchesChange(ba.app,function(e,n){i.runtime.preventDefaultTouches=e||0<ba.app.numBlockingDefaultScroll}),ba.app.numBlockingDefaultScroll);ba.app.onPostUpdate(ba.app,function(e){var n,t=ba.app.numBlockingDefaultScroll;l!=t&&(l=t,n=ba.app.settings.get_preventDefaultTouches()||0<t,i.runtime.preventDefaultTouches=n,n=ba.app.settings.get_preventDefaultMouseWheel()||0<t,i.runtime.preventDefaultMouseWheel=n)}),null==W.electronRunner&&ba.app.settings.get_fullscreen()&&ba.app.settings.set_fullscreen(!1),i.render.antialiasing=ba.app.settings.antialiasing,0<ba.app.settings.get_windowWidth()?i.window.width=ba.app.settings.get_windowWidth():0<ba.app.settings.get_targetWidth()&&(i.window.width=ba.app.settings.get_targetWidth()),0<ba.app.settings.get_windowHeight()?i.window.height=ba.app.settings.get_windowHeight():0<ba.app.settings.get_targetHeight()&&(i.window.height=ba.app.settings.get_targetHeight()),i.window.fullscreen=ba.app.settings.get_fullscreen(),i.window.resizable=ba.app.settings.resizable,i.window.title=ba.app.settings.get_title(),i.render.stencil=2,i.render.depth=16,ba.configureOrientation(),null!=ba.app.settings.backend.webParent?i.runtime.windowParent=ba.app.settings.backend.webParent:i.runtime.windowParent=window.document.getElementById("ceramic-app"),i.runtime.mouseUseBrowserWindowEvents=!0,ba.app.settings.backend.allowDefaultKeys&&(i.runtime.preventDefaultKeys=[]),ba.containerElId=null!=ba.app.settings.backend.webParent?ba.app.settings.backend.webParent.id:"ceramic-app",ba.containerWidth=0,ba.containerHeight=0,ba.containerPixelRatio=0,window.document.body.classList.add("ceramic-invisible"),window.requestAnimationFrame(ba._updateContainerSizeIfNeeded),null!=W.electronRunner&&(null!=W.electronRunner.ceramicSettings&&W.electronRunner.ceramicSettings({trace:function(e){},title:ba.app.settings.get_title(),fullscreen:ba.app.settings.get_fullscreen(),resizable:ba.app.settings.resizable,targetWidth:0<ba.app.settings.get_windowWidth()?ba.app.settings.get_windowWidth():ba.app.settings.get_targetWidth(),targetHeight:0<ba.app.settings.get_windowHeight()?ba.app.settings.get_windowHeight():ba.app.settings.get_targetHeight()}),null!=W.electronRunner.listenFullscreen)&&W.electronRunner.listenFullscreen(function(e){ae.app.settings.set_fullscreen(!0)},function(e){ae.app.settings.set_fullscreen(!1)})},ba._updateContainerSizeIfNeeded=function(e){null==e&&(e=.016);var e=window.document.getElementById(ba.containerElId),n=window.document.getElementById("app");if(null!=e&&null!=n){var t,i=e.offsetWidth,e=e.offsetHeight,l=window.performance.now()/1e3;if(-1!=ba.lastResizeTime&&(i!=ba.lastNewWidth||e!=ba.lastNewHeight))return-1==ba.lastNewWidth&&-1==ba.lastNewHeight||window.document.body.classList.add("ceramic-invisible"),ba.lastResizeTime=l,ba.lastNewWidth=i,ba.lastNewHeight=e,void window.requestAnimationFrame(ba._updateContainerSizeIfNeeded);if(-1!=ba.lastResizeTime&&l-ba.lastResizeTime<.1)return void window.requestAnimationFrame(ba._updateContainerSizeIfNeeded);i==ba.containerWidth&&e==ba.containerHeight&&window.devicePixelRatio==ba.containerPixelRatio||(ba.containerWidth=i,ba.containerHeight=e,ba.containerPixelRatio=window.devicePixelRatio,n.style.width=ba.containerWidth+"px",n.style.height=ba.containerHeight+"px",n.width=Math.round(ba.containerWidth*window.devicePixelRatio),n.height=Math.round(ba.containerHeight*window.devicePixelRatio),ba.resizing++,-1!=ba.lastResizeTime&&window.document.body.classList.add("ceramic-invisible"),t=function(){0==ba.resizing&&ba.readyToDisplay&&window.document.body.classList.remove("ceramic-invisible")},window.setTimeout(function(){ba.resizing--,t()},100),ba.lastResizeTime=l)}window.requestAnimationFrame(ba._updateContainerSizeIfNeeded)},ba._appLoaderCheckDisplayReady=function(e){ba._displayReady?e():ba._pendingDisplayReadyDone=e},ba.ready=function(){ba.app.backend.io.initKeyValueIfNeeded(),ba._displayReady=!1,ba.app.loaders.push(ba._appLoaderCheckDisplayReady),ee._graphics.loadExtensions(),null!=W.electronRunner&&W.electronRunner.ceramicReady();var n=null,n=window.setInterval(function(){var e=null!=ba.app.settings.backend.webParent?ba.app.settings.backend.webParent.id:"ceramic-app",e=window.document.getElementById(e);window.document.getElementById("app").offsetWidth==e.offsetWidth&&(ba.readyToDisplay=!0,window.clearInterval(n)),ba.readyToDisplay&&(0==ba.resizing&&window.document.body.classList.remove("ceramic-invisible"),ba._displayReady=!0,null!=ba._pendingDisplayReadyDone)&&(e=ba._pendingDisplayReadyDone,ba._pendingDisplayReadyDone=null,e())},500)},ba.configureOrientation=function(){},(E["spec.Screen"]=ca).__name__="spec.Screen",ca.__isInterface__=!0,ca.prototype={getWidth:null,getHeight:null,getDensity:null,setBackground:null,setWindowTitle:null,setWindowFullscreen:null,screenshotToTexture:null,screenshotToPng:null,screenshotToPixels:null,__class__:ca},function(){this.nextScreenshotIndex=0,this.didTryResumeAudioContext=!1}),xe=((E["backend.Screen"]=De).__name__="backend.Screen",De.__interfaces__=[ca,i],De.prototype={__cbOnResize:null,__cbOnceResize:null,__cbOnOwnerUnbindResize:null,__cbOnceOwnerUnbindResize:null,emitResize:function(){var e=0;if(null!=this.__cbOnResize&&(e+=this.__cbOnResize.length),null!=this.__cbOnceResize&&(e+=this.__cbOnceResize.length),0<e){var n=C.pool(e),t=n.get(),i=0;if(null!=this.__cbOnResize)for(var l=0,s=this.__cbOnResize.length;l<s;){var r=l++;!0?(t.vector[i]=this.__cbOnResize[r],++i):--e}if(null!=this.__cbOnceResize){for(var h=null,a=null,l=0,s=this.__cbOnceResize.length;l<s;){var o,r=l++;!0?(t.vector[i]=this.__cbOnceResize[r],this.__cbOnceResize[r]=null,o=this.__cbOnceOwnerUnbindResize[r],(this.__cbOnceOwnerUnbindResize[r]=null)!=o&&o(),++i):(--e,null==h&&(h=[],a=[],0),h.push(this.__cbOnceOwnerUnbindResize[r]),a.push(this.__cbOnceResize[r]))}this.__cbOnceOwnerUnbindResize=h,this.__cbOnceResize=a}for(l=0,s=e;l<s;){i=l++;(0,t.vector[i])()}n.release(t)}},onResize:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event resize because owner is destroyed!");var l=function(e){null!=t&&(i.offResize(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindResize&&(this.__cbOnOwnerUnbindResize=[]),this.__cbOnOwnerUnbindResize.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindResize&&(this.__cbOnOwnerUnbindResize=[]),this.__cbOnOwnerUnbindResize.push(null);null==this.__cbOnResize&&(this.__cbOnResize=[]),this.__cbOnResize.push(t)},onceResize:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event resize because owner is destroyed!");var l=function(e){null!=t&&(i.offResize(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindResize&&(this.__cbOnceOwnerUnbindResize=[]),this.__cbOnceOwnerUnbindResize.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindResize&&(this.__cbOnceOwnerUnbindResize=[]),this.__cbOnceOwnerUnbindResize.push(null);null==this.__cbOnceResize&&(this.__cbOnceResize=[]),this.__cbOnceResize.push(t)},offResize:function(e){if(null!=e){var n;null!=this.__cbOnResize&&-1!=(n=this.__cbOnResize.indexOf(e))&&(this.__cbOnResize.splice(n,1),null!=(s=this.__cbOnOwnerUnbindResize[n])&&s(),this.__cbOnOwnerUnbindResize.splice(n,1)),null!=this.__cbOnceResize&&-1!=(n=this.__cbOnceResize.indexOf(e))&&(this.__cbOnceResize.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindResize[n])&&s(),this.__cbOnceOwnerUnbindResize.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindResize){for(var t=0,i=this.__cbOnOwnerUnbindResize.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindResize[l])&&s()}this.__cbOnOwnerUnbindResize=null}if(null!=this.__cbOnceOwnerUnbindResize){for(t=0,i=this.__cbOnceOwnerUnbindResize.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindResize[l])&&s()}this.__cbOnceOwnerUnbindResize=null}this.__cbOnResize=null,this.__cbOnceResize=null}},listensResize:function(){return null!=this.__cbOnResize&&0<this.__cbOnResize.length||null!=this.__cbOnceResize&&0<this.__cbOnceResize.length},__cbOnMouseDown:null,__cbOnceMouseDown:null,__cbOnOwnerUnbindMouseDown:null,__cbOnceOwnerUnbindMouseDown:null,emitMouseDown:function(e,n,t){this.tryResumeAudioContextIfNeeded();var i=0;if(null!=this.__cbOnMouseDown&&(i+=this.__cbOnMouseDown.length),null!=this.__cbOnceMouseDown&&(i+=this.__cbOnceMouseDown.length),0<i){var l=C.pool(i),s=l.get(),r=0;if(null!=this.__cbOnMouseDown)for(var h=0,a=this.__cbOnMouseDown.length;h<a;){var o=h++;!0?(s.vector[r]=this.__cbOnMouseDown[o],++r):--i}if(null!=this.__cbOnceMouseDown){for(var c=null,u=null,h=0,a=this.__cbOnceMouseDown.length;h<a;){var _,o=h++;!0?(s.vector[r]=this.__cbOnceMouseDown[o],this.__cbOnceMouseDown[o]=null,_=this.__cbOnceOwnerUnbindMouseDown[o],(this.__cbOnceOwnerUnbindMouseDown[o]=null)!=_&&_(),++r):(--i,null==c&&(c=[],u=[],0),c.push(this.__cbOnceOwnerUnbindMouseDown[o]),u.push(this.__cbOnceMouseDown[o]))}this.__cbOnceOwnerUnbindMouseDown=c,this.__cbOnceMouseDown=u}for(h=0,a=i;h<a;){r=h++;(0,s.vector[r])(e,n,t)}l.release(s)}},onMouseDown:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event mouseDown because owner is destroyed!");var l=function(e){null!=t&&(i.offMouseDown(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindMouseDown&&(this.__cbOnOwnerUnbindMouseDown=[]),this.__cbOnOwnerUnbindMouseDown.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindMouseDown&&(this.__cbOnOwnerUnbindMouseDown=[]),this.__cbOnOwnerUnbindMouseDown.push(null);null==this.__cbOnMouseDown&&(this.__cbOnMouseDown=[]),this.__cbOnMouseDown.push(t)},onceMouseDown:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event mouseDown because owner is destroyed!");var l=function(e){null!=t&&(i.offMouseDown(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindMouseDown&&(this.__cbOnceOwnerUnbindMouseDown=[]),this.__cbOnceOwnerUnbindMouseDown.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindMouseDown&&(this.__cbOnceOwnerUnbindMouseDown=[]),this.__cbOnceOwnerUnbindMouseDown.push(null);null==this.__cbOnceMouseDown&&(this.__cbOnceMouseDown=[]),this.__cbOnceMouseDown.push(t)},offMouseDown:function(e){if(null!=e){var n;null!=this.__cbOnMouseDown&&-1!=(n=this.__cbOnMouseDown.indexOf(e))&&(this.__cbOnMouseDown.splice(n,1),null!=(s=this.__cbOnOwnerUnbindMouseDown[n])&&s(),this.__cbOnOwnerUnbindMouseDown.splice(n,1)),null!=this.__cbOnceMouseDown&&-1!=(n=this.__cbOnceMouseDown.indexOf(e))&&(this.__cbOnceMouseDown.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindMouseDown[n])&&s(),this.__cbOnceOwnerUnbindMouseDown.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindMouseDown){for(var t=0,i=this.__cbOnOwnerUnbindMouseDown.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindMouseDown[l])&&s()}this.__cbOnOwnerUnbindMouseDown=null}if(null!=this.__cbOnceOwnerUnbindMouseDown){for(t=0,i=this.__cbOnceOwnerUnbindMouseDown.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindMouseDown[l])&&s()}this.__cbOnceOwnerUnbindMouseDown=null}this.__cbOnMouseDown=null,this.__cbOnceMouseDown=null}},listensMouseDown:function(){return null!=this.__cbOnMouseDown&&0<this.__cbOnMouseDown.length||null!=this.__cbOnceMouseDown&&0<this.__cbOnceMouseDown.length},__cbOnMouseUp:null,__cbOnceMouseUp:null,__cbOnOwnerUnbindMouseUp:null,__cbOnceOwnerUnbindMouseUp:null,emitMouseUp:function(e,n,t){var i=0;if(null!=this.__cbOnMouseUp&&(i+=this.__cbOnMouseUp.length),null!=this.__cbOnceMouseUp&&(i+=this.__cbOnceMouseUp.length),0<i){var l=C.pool(i),s=l.get(),r=0;if(null!=this.__cbOnMouseUp)for(var h=0,a=this.__cbOnMouseUp.length;h<a;){var o=h++;!0?(s.vector[r]=this.__cbOnMouseUp[o],++r):--i}if(null!=this.__cbOnceMouseUp){for(var c=null,u=null,h=0,a=this.__cbOnceMouseUp.length;h<a;){var _,o=h++;!0?(s.vector[r]=this.__cbOnceMouseUp[o],this.__cbOnceMouseUp[o]=null,_=this.__cbOnceOwnerUnbindMouseUp[o],(this.__cbOnceOwnerUnbindMouseUp[o]=null)!=_&&_(),++r):(--i,null==c&&(c=[],u=[],0),c.push(this.__cbOnceOwnerUnbindMouseUp[o]),u.push(this.__cbOnceMouseUp[o]))}this.__cbOnceOwnerUnbindMouseUp=c,this.__cbOnceMouseUp=u}for(h=0,a=i;h<a;){r=h++;(0,s.vector[r])(e,n,t)}l.release(s)}},onMouseUp:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event mouseUp because owner is destroyed!");var l=function(e){null!=t&&(i.offMouseUp(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindMouseUp&&(this.__cbOnOwnerUnbindMouseUp=[]),this.__cbOnOwnerUnbindMouseUp.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindMouseUp&&(this.__cbOnOwnerUnbindMouseUp=[]),this.__cbOnOwnerUnbindMouseUp.push(null);null==this.__cbOnMouseUp&&(this.__cbOnMouseUp=[]),this.__cbOnMouseUp.push(t)},onceMouseUp:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event mouseUp because owner is destroyed!");var l=function(e){null!=t&&(i.offMouseUp(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindMouseUp&&(this.__cbOnceOwnerUnbindMouseUp=[]),this.__cbOnceOwnerUnbindMouseUp.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindMouseUp&&(this.__cbOnceOwnerUnbindMouseUp=[]),this.__cbOnceOwnerUnbindMouseUp.push(null);null==this.__cbOnceMouseUp&&(this.__cbOnceMouseUp=[]),this.__cbOnceMouseUp.push(t)},offMouseUp:function(e){if(null!=e){var n;null!=this.__cbOnMouseUp&&-1!=(n=this.__cbOnMouseUp.indexOf(e))&&(this.__cbOnMouseUp.splice(n,1),null!=(s=this.__cbOnOwnerUnbindMouseUp[n])&&s(),this.__cbOnOwnerUnbindMouseUp.splice(n,1)),null!=this.__cbOnceMouseUp&&-1!=(n=this.__cbOnceMouseUp.indexOf(e))&&(this.__cbOnceMouseUp.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindMouseUp[n])&&s(),this.__cbOnceOwnerUnbindMouseUp.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindMouseUp){for(var t=0,i=this.__cbOnOwnerUnbindMouseUp.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindMouseUp[l])&&s()}this.__cbOnOwnerUnbindMouseUp=null}if(null!=this.__cbOnceOwnerUnbindMouseUp){for(t=0,i=this.__cbOnceOwnerUnbindMouseUp.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindMouseUp[l])&&s()}this.__cbOnceOwnerUnbindMouseUp=null}this.__cbOnMouseUp=null,this.__cbOnceMouseUp=null}},listensMouseUp:function(){return null!=this.__cbOnMouseUp&&0<this.__cbOnMouseUp.length||null!=this.__cbOnceMouseUp&&0<this.__cbOnceMouseUp.length},__cbOnMouseWheel:null,__cbOnceMouseWheel:null,__cbOnOwnerUnbindMouseWheel:null,__cbOnceOwnerUnbindMouseWheel:null,emitMouseWheel:function(e,n){var t=0;if(null!=this.__cbOnMouseWheel&&(t+=this.__cbOnMouseWheel.length),null!=this.__cbOnceMouseWheel&&(t+=this.__cbOnceMouseWheel.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnMouseWheel)for(var r=0,h=this.__cbOnMouseWheel.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnMouseWheel[a],++s):--t}if(null!=this.__cbOnceMouseWheel){for(var o=null,c=null,r=0,h=this.__cbOnceMouseWheel.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceMouseWheel[a],this.__cbOnceMouseWheel[a]=null,u=this.__cbOnceOwnerUnbindMouseWheel[a],(this.__cbOnceOwnerUnbindMouseWheel[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindMouseWheel[a]),c.push(this.__cbOnceMouseWheel[a]))}this.__cbOnceOwnerUnbindMouseWheel=o,this.__cbOnceMouseWheel=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onMouseWheel:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event mouseWheel because owner is destroyed!");var l=function(e){null!=t&&(i.offMouseWheel(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindMouseWheel&&(this.__cbOnOwnerUnbindMouseWheel=[]),this.__cbOnOwnerUnbindMouseWheel.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindMouseWheel&&(this.__cbOnOwnerUnbindMouseWheel=[]),this.__cbOnOwnerUnbindMouseWheel.push(null);null==this.__cbOnMouseWheel&&(this.__cbOnMouseWheel=[]),this.__cbOnMouseWheel.push(t)},onceMouseWheel:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event mouseWheel because owner is destroyed!");var l=function(e){null!=t&&(i.offMouseWheel(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindMouseWheel&&(this.__cbOnceOwnerUnbindMouseWheel=[]),this.__cbOnceOwnerUnbindMouseWheel.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindMouseWheel&&(this.__cbOnceOwnerUnbindMouseWheel=[]),this.__cbOnceOwnerUnbindMouseWheel.push(null);null==this.__cbOnceMouseWheel&&(this.__cbOnceMouseWheel=[]),this.__cbOnceMouseWheel.push(t)},offMouseWheel:function(e){if(null!=e){var n;null!=this.__cbOnMouseWheel&&-1!=(n=this.__cbOnMouseWheel.indexOf(e))&&(this.__cbOnMouseWheel.splice(n,1),null!=(s=this.__cbOnOwnerUnbindMouseWheel[n])&&s(),this.__cbOnOwnerUnbindMouseWheel.splice(n,1)),null!=this.__cbOnceMouseWheel&&-1!=(n=this.__cbOnceMouseWheel.indexOf(e))&&(this.__cbOnceMouseWheel.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindMouseWheel[n])&&s(),this.__cbOnceOwnerUnbindMouseWheel.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindMouseWheel){for(var t=0,i=this.__cbOnOwnerUnbindMouseWheel.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindMouseWheel[l])&&s()}this.__cbOnOwnerUnbindMouseWheel=null}if(null!=this.__cbOnceOwnerUnbindMouseWheel){for(t=0,i=this.__cbOnceOwnerUnbindMouseWheel.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindMouseWheel[l])&&s()}this.__cbOnceOwnerUnbindMouseWheel=null}this.__cbOnMouseWheel=null,this.__cbOnceMouseWheel=null}},listensMouseWheel:function(){return null!=this.__cbOnMouseWheel&&0<this.__cbOnMouseWheel.length||null!=this.__cbOnceMouseWheel&&0<this.__cbOnceMouseWheel.length},__cbOnMouseMove:null,__cbOnceMouseMove:null,__cbOnOwnerUnbindMouseMove:null,__cbOnceOwnerUnbindMouseMove:null,emitMouseMove:function(e,n){var t=0;if(null!=this.__cbOnMouseMove&&(t+=this.__cbOnMouseMove.length),null!=this.__cbOnceMouseMove&&(t+=this.__cbOnceMouseMove.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnMouseMove)for(var r=0,h=this.__cbOnMouseMove.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnMouseMove[a],++s):--t}if(null!=this.__cbOnceMouseMove){for(var o=null,c=null,r=0,h=this.__cbOnceMouseMove.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceMouseMove[a],this.__cbOnceMouseMove[a]=null,u=this.__cbOnceOwnerUnbindMouseMove[a],(this.__cbOnceOwnerUnbindMouseMove[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindMouseMove[a]),c.push(this.__cbOnceMouseMove[a]))}this.__cbOnceOwnerUnbindMouseMove=o,this.__cbOnceMouseMove=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onMouseMove:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event mouseMove because owner is destroyed!");var l=function(e){null!=t&&(i.offMouseMove(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindMouseMove&&(this.__cbOnOwnerUnbindMouseMove=[]),this.__cbOnOwnerUnbindMouseMove.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindMouseMove&&(this.__cbOnOwnerUnbindMouseMove=[]),this.__cbOnOwnerUnbindMouseMove.push(null);null==this.__cbOnMouseMove&&(this.__cbOnMouseMove=[]),this.__cbOnMouseMove.push(t)},onceMouseMove:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event mouseMove because owner is destroyed!");var l=function(e){null!=t&&(i.offMouseMove(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindMouseMove&&(this.__cbOnceOwnerUnbindMouseMove=[]),this.__cbOnceOwnerUnbindMouseMove.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindMouseMove&&(this.__cbOnceOwnerUnbindMouseMove=[]),this.__cbOnceOwnerUnbindMouseMove.push(null);null==this.__cbOnceMouseMove&&(this.__cbOnceMouseMove=[]),this.__cbOnceMouseMove.push(t)},offMouseMove:function(e){if(null!=e){var n;null!=this.__cbOnMouseMove&&-1!=(n=this.__cbOnMouseMove.indexOf(e))&&(this.__cbOnMouseMove.splice(n,1),null!=(s=this.__cbOnOwnerUnbindMouseMove[n])&&s(),this.__cbOnOwnerUnbindMouseMove.splice(n,1)),null!=this.__cbOnceMouseMove&&-1!=(n=this.__cbOnceMouseMove.indexOf(e))&&(this.__cbOnceMouseMove.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindMouseMove[n])&&s(),this.__cbOnceOwnerUnbindMouseMove.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindMouseMove){for(var t=0,i=this.__cbOnOwnerUnbindMouseMove.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindMouseMove[l])&&s()}this.__cbOnOwnerUnbindMouseMove=null}if(null!=this.__cbOnceOwnerUnbindMouseMove){for(t=0,i=this.__cbOnceOwnerUnbindMouseMove.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindMouseMove[l])&&s()}this.__cbOnceOwnerUnbindMouseMove=null}this.__cbOnMouseMove=null,this.__cbOnceMouseMove=null}},listensMouseMove:function(){return null!=this.__cbOnMouseMove&&0<this.__cbOnMouseMove.length||null!=this.__cbOnceMouseMove&&0<this.__cbOnceMouseMove.length},__cbOnTouchDown:null,__cbOnceTouchDown:null,__cbOnOwnerUnbindTouchDown:null,__cbOnceOwnerUnbindTouchDown:null,emitTouchDown:function(e,n,t){this.tryResumeAudioContextIfNeeded();var i=0;if(null!=this.__cbOnTouchDown&&(i+=this.__cbOnTouchDown.length),null!=this.__cbOnceTouchDown&&(i+=this.__cbOnceTouchDown.length),0<i){var l=C.pool(i),s=l.get(),r=0;if(null!=this.__cbOnTouchDown)for(var h=0,a=this.__cbOnTouchDown.length;h<a;){var o=h++;!0?(s.vector[r]=this.__cbOnTouchDown[o],++r):--i}if(null!=this.__cbOnceTouchDown){for(var c=null,u=null,h=0,a=this.__cbOnceTouchDown.length;h<a;){var _,o=h++;!0?(s.vector[r]=this.__cbOnceTouchDown[o],this.__cbOnceTouchDown[o]=null,_=this.__cbOnceOwnerUnbindTouchDown[o],(this.__cbOnceOwnerUnbindTouchDown[o]=null)!=_&&_(),++r):(--i,null==c&&(c=[],u=[],0),c.push(this.__cbOnceOwnerUnbindTouchDown[o]),u.push(this.__cbOnceTouchDown[o]))}this.__cbOnceOwnerUnbindTouchDown=c,this.__cbOnceTouchDown=u}for(h=0,a=i;h<a;){r=h++;(0,s.vector[r])(e,n,t)}l.release(s)}},onTouchDown:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event touchDown because owner is destroyed!");var l=function(e){null!=t&&(i.offTouchDown(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindTouchDown&&(this.__cbOnOwnerUnbindTouchDown=[]),this.__cbOnOwnerUnbindTouchDown.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindTouchDown&&(this.__cbOnOwnerUnbindTouchDown=[]),this.__cbOnOwnerUnbindTouchDown.push(null);null==this.__cbOnTouchDown&&(this.__cbOnTouchDown=[]),this.__cbOnTouchDown.push(t)},onceTouchDown:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event touchDown because owner is destroyed!");var l=function(e){null!=t&&(i.offTouchDown(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindTouchDown&&(this.__cbOnceOwnerUnbindTouchDown=[]),this.__cbOnceOwnerUnbindTouchDown.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindTouchDown&&(this.__cbOnceOwnerUnbindTouchDown=[]),this.__cbOnceOwnerUnbindTouchDown.push(null);null==this.__cbOnceTouchDown&&(this.__cbOnceTouchDown=[]),this.__cbOnceTouchDown.push(t)},offTouchDown:function(e){if(null!=e){var n;null!=this.__cbOnTouchDown&&-1!=(n=this.__cbOnTouchDown.indexOf(e))&&(this.__cbOnTouchDown.splice(n,1),null!=(s=this.__cbOnOwnerUnbindTouchDown[n])&&s(),this.__cbOnOwnerUnbindTouchDown.splice(n,1)),null!=this.__cbOnceTouchDown&&-1!=(n=this.__cbOnceTouchDown.indexOf(e))&&(this.__cbOnceTouchDown.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindTouchDown[n])&&s(),this.__cbOnceOwnerUnbindTouchDown.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindTouchDown){for(var t=0,i=this.__cbOnOwnerUnbindTouchDown.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindTouchDown[l])&&s()}this.__cbOnOwnerUnbindTouchDown=null}if(null!=this.__cbOnceOwnerUnbindTouchDown){for(t=0,i=this.__cbOnceOwnerUnbindTouchDown.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindTouchDown[l])&&s()}this.__cbOnceOwnerUnbindTouchDown=null}this.__cbOnTouchDown=null,this.__cbOnceTouchDown=null}},listensTouchDown:function(){return null!=this.__cbOnTouchDown&&0<this.__cbOnTouchDown.length||null!=this.__cbOnceTouchDown&&0<this.__cbOnceTouchDown.length},__cbOnTouchUp:null,__cbOnceTouchUp:null,__cbOnOwnerUnbindTouchUp:null,__cbOnceOwnerUnbindTouchUp:null,emitTouchUp:function(e,n,t){var i=0;if(null!=this.__cbOnTouchUp&&(i+=this.__cbOnTouchUp.length),null!=this.__cbOnceTouchUp&&(i+=this.__cbOnceTouchUp.length),0<i){var l=C.pool(i),s=l.get(),r=0;if(null!=this.__cbOnTouchUp)for(var h=0,a=this.__cbOnTouchUp.length;h<a;){var o=h++;!0?(s.vector[r]=this.__cbOnTouchUp[o],++r):--i}if(null!=this.__cbOnceTouchUp){for(var c=null,u=null,h=0,a=this.__cbOnceTouchUp.length;h<a;){var _,o=h++;!0?(s.vector[r]=this.__cbOnceTouchUp[o],this.__cbOnceTouchUp[o]=null,_=this.__cbOnceOwnerUnbindTouchUp[o],(this.__cbOnceOwnerUnbindTouchUp[o]=null)!=_&&_(),++r):(--i,null==c&&(c=[],u=[],0),c.push(this.__cbOnceOwnerUnbindTouchUp[o]),u.push(this.__cbOnceTouchUp[o]))}this.__cbOnceOwnerUnbindTouchUp=c,this.__cbOnceTouchUp=u}for(h=0,a=i;h<a;){r=h++;(0,s.vector[r])(e,n,t)}l.release(s)}},onTouchUp:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event touchUp because owner is destroyed!");var l=function(e){null!=t&&(i.offTouchUp(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindTouchUp&&(this.__cbOnOwnerUnbindTouchUp=[]),this.__cbOnOwnerUnbindTouchUp.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindTouchUp&&(this.__cbOnOwnerUnbindTouchUp=[]),this.__cbOnOwnerUnbindTouchUp.push(null);null==this.__cbOnTouchUp&&(this.__cbOnTouchUp=[]),this.__cbOnTouchUp.push(t)},onceTouchUp:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event touchUp because owner is destroyed!");var l=function(e){null!=t&&(i.offTouchUp(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindTouchUp&&(this.__cbOnceOwnerUnbindTouchUp=[]),this.__cbOnceOwnerUnbindTouchUp.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindTouchUp&&(this.__cbOnceOwnerUnbindTouchUp=[]),this.__cbOnceOwnerUnbindTouchUp.push(null);null==this.__cbOnceTouchUp&&(this.__cbOnceTouchUp=[]),this.__cbOnceTouchUp.push(t)},offTouchUp:function(e){if(null!=e){var n;null!=this.__cbOnTouchUp&&-1!=(n=this.__cbOnTouchUp.indexOf(e))&&(this.__cbOnTouchUp.splice(n,1),null!=(s=this.__cbOnOwnerUnbindTouchUp[n])&&s(),this.__cbOnOwnerUnbindTouchUp.splice(n,1)),null!=this.__cbOnceTouchUp&&-1!=(n=this.__cbOnceTouchUp.indexOf(e))&&(this.__cbOnceTouchUp.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindTouchUp[n])&&s(),this.__cbOnceOwnerUnbindTouchUp.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindTouchUp){for(var t=0,i=this.__cbOnOwnerUnbindTouchUp.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindTouchUp[l])&&s()}this.__cbOnOwnerUnbindTouchUp=null}if(null!=this.__cbOnceOwnerUnbindTouchUp){for(t=0,i=this.__cbOnceOwnerUnbindTouchUp.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindTouchUp[l])&&s()}this.__cbOnceOwnerUnbindTouchUp=null}this.__cbOnTouchUp=null,this.__cbOnceTouchUp=null}},listensTouchUp:function(){return null!=this.__cbOnTouchUp&&0<this.__cbOnTouchUp.length||null!=this.__cbOnceTouchUp&&0<this.__cbOnceTouchUp.length},__cbOnTouchMove:null,__cbOnceTouchMove:null,__cbOnOwnerUnbindTouchMove:null,__cbOnceOwnerUnbindTouchMove:null,emitTouchMove:function(e,n,t){var i=0;if(null!=this.__cbOnTouchMove&&(i+=this.__cbOnTouchMove.length),null!=this.__cbOnceTouchMove&&(i+=this.__cbOnceTouchMove.length),0<i){var l=C.pool(i),s=l.get(),r=0;if(null!=this.__cbOnTouchMove)for(var h=0,a=this.__cbOnTouchMove.length;h<a;){var o=h++;!0?(s.vector[r]=this.__cbOnTouchMove[o],++r):--i}if(null!=this.__cbOnceTouchMove){for(var c=null,u=null,h=0,a=this.__cbOnceTouchMove.length;h<a;){var _,o=h++;!0?(s.vector[r]=this.__cbOnceTouchMove[o],this.__cbOnceTouchMove[o]=null,_=this.__cbOnceOwnerUnbindTouchMove[o],(this.__cbOnceOwnerUnbindTouchMove[o]=null)!=_&&_(),++r):(--i,null==c&&(c=[],u=[],0),c.push(this.__cbOnceOwnerUnbindTouchMove[o]),u.push(this.__cbOnceTouchMove[o]))}this.__cbOnceOwnerUnbindTouchMove=c,this.__cbOnceTouchMove=u}for(h=0,a=i;h<a;){r=h++;(0,s.vector[r])(e,n,t)}l.release(s)}},onTouchMove:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event touchMove because owner is destroyed!");var l=function(e){null!=t&&(i.offTouchMove(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindTouchMove&&(this.__cbOnOwnerUnbindTouchMove=[]),this.__cbOnOwnerUnbindTouchMove.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindTouchMove&&(this.__cbOnOwnerUnbindTouchMove=[]),this.__cbOnOwnerUnbindTouchMove.push(null);null==this.__cbOnTouchMove&&(this.__cbOnTouchMove=[]),this.__cbOnTouchMove.push(t)},onceTouchMove:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event touchMove because owner is destroyed!");var l=function(e){null!=t&&(i.offTouchMove(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindTouchMove&&(this.__cbOnceOwnerUnbindTouchMove=[]),this.__cbOnceOwnerUnbindTouchMove.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindTouchMove&&(this.__cbOnceOwnerUnbindTouchMove=[]),this.__cbOnceOwnerUnbindTouchMove.push(null);null==this.__cbOnceTouchMove&&(this.__cbOnceTouchMove=[]),this.__cbOnceTouchMove.push(t)},offTouchMove:function(e){if(null!=e){var n;null!=this.__cbOnTouchMove&&-1!=(n=this.__cbOnTouchMove.indexOf(e))&&(this.__cbOnTouchMove.splice(n,1),null!=(s=this.__cbOnOwnerUnbindTouchMove[n])&&s(),this.__cbOnOwnerUnbindTouchMove.splice(n,1)),null!=this.__cbOnceTouchMove&&-1!=(n=this.__cbOnceTouchMove.indexOf(e))&&(this.__cbOnceTouchMove.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindTouchMove[n])&&s(),this.__cbOnceOwnerUnbindTouchMove.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindTouchMove){for(var t=0,i=this.__cbOnOwnerUnbindTouchMove.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindTouchMove[l])&&s()}this.__cbOnOwnerUnbindTouchMove=null}if(null!=this.__cbOnceOwnerUnbindTouchMove){for(t=0,i=this.__cbOnceOwnerUnbindTouchMove.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindTouchMove[l])&&s()}this.__cbOnceOwnerUnbindTouchMove=null}this.__cbOnTouchMove=null,this.__cbOnceTouchMove=null}},listensTouchMove:function(){return null!=this.__cbOnTouchMove&&0<this.__cbOnTouchMove.length||null!=this.__cbOnceTouchMove&&0<this.__cbOnceTouchMove.length},didTryResumeAudioContext:null,willEmitMouseDown:function(e,n,t){this.tryResumeAudioContextIfNeeded()},willEmitTouchDown:function(e,n,t){this.tryResumeAudioContextIfNeeded()},tryResumeAudioContextIfNeeded:function(){this.didTryResumeAudioContext||(this.didTryResumeAudioContext=!0,ae.app.backend.audio.resumeAudioContext(function(e){e?ae.app.logger.success("Did resume audio context",{fileName:"../../../../ceramic/plugins/clay/runtime/src/backend/Screen.hx",lineNumber:115,className:"backend.Screen",methodName:"tryResumeAudioContextIfNeeded"}):ae.app.logger.error("Failed to resume audio context",{fileName:"../../../../ceramic/plugins/clay/runtime/src/backend/Screen.hx",lineNumber:118,className:"backend.Screen",methodName:"tryResumeAudioContextIfNeeded"})}))},getWidth:function(){return ee.app.screenWidth},getHeight:function(){return ee.app.screenHeight},getDensity:function(){return ee.app.screenDensity},setBackground:function(e){},setWindowTitle:function(e){ee.app.runtime.setWindowTitle(e)},setWindowFullscreen:function(e){null!=W.electronRunner&&null!=W.electronRunner.setFullscreen?W.electronRunner.setFullscreen(e):ee.app.runtime.setWindowFullscreen(e)||ae.app.settings.set_fullscreen(!e)},nextScreenshotIndex:null,screenshotToTexture:function(t){var i=this;ee.app.runtime.window.toBlob(function(e){e.arrayBuffer().then(function(e){e=new Uint8Array(e,0,e.byteLength);ee.app.assets.imageFromBytes(e,"png",4,!0,function(e){var n;null!=e?(n="screenshot:"+i.nextScreenshotIndex++,(e=di.fromImage(e)).id=n,e.init(),t(e)):t(null)})})},"image/png")},screenshotToPng:function(n,t){ee.app.runtime.window.toBlob(function(e){e.arrayBuffer().then(function(e){e=new Pl(new Uint8Array(new Uint8Array(e,0,e.byteLength).buffer));null!=n?(un.saveBytes(n,e),t()):t(e)})},"image/png")},screenshotToPixels:function(n){ee.app.runtime.window.toBlob(function(e){e.arrayBuffer().then(function(e){e=new Uint8Array(e,0,e.byteLength);ee.app.assets.imageFromBytes(e,"png",4,!1,function(e){null!=e?n(e.pixels,e.width,e.height):n(null,0,0)})})},"image/png")},unbindEvents:function(){this.offResize(),this.offMouseDown(),this.offMouseUp(),this.offMouseWheel(),this.offMouseMove(),this.offTouchDown(),this.offTouchUp(),this.offTouchMove()},__class__:De},(E["clay.Resource"]=ea).__name__="clay.Resource",ea.prototype={id:null,__class__:ea},(E["clay.graphics.Shader"]=fa).__name__="clay.graphics.Shader",fa.__super__=ea,fa.prototype=$extend(ea.prototype,{vertSource:null,fragSource:null,attributes:null,textures:null,uniforms:null,gpuShader:null,init:function(){if(this.gpuShader=ee._graphics.createShader(this.vertSource,this.fragSource,this.attributes,this.textures),null==this.gpuShader)throw $.thrown("Failed to create shader (id="+this.id+")");this.uniforms=new gi(this.gpuShader)},activate:function(){var e=ee._graphics,n=this.gpuShader,e=(e._boundProgram!=n.program&&(e._boundProgram=n.program,ne.gl.useProgram(n.program)),ee._graphics),t=this.gpuShader,i=ne.gl.getUniformLocation(t.program,"projectionMatrix"),l=e.projectionMatrix,n=(e._boundProgram!=(n=t).program&&(e._boundProgram=n.program,ne.gl.useProgram(n.program)),ne.gl.uniformMatrix4fv(i,!1,l),t),i=ne.gl.getUniformLocation(n.program,"modelViewMatrix"),l=e.modelViewMatrix;e._boundProgram!=(n=t).program&&(e._boundProgram=n.program,ne.gl.useProgram(n.program)),ne.gl.uniformMatrix4fv(i,!1,l),null!=this.uniforms&&this.uniforms.apply()},destroy:function(){ee._graphics.deleteShader(this.gpuShader)},__class__:fa}),(E["backend.ShaderImpl"]=ga).__name__="backend.ShaderImpl",ga.__super__=fa,ga.prototype=$extend(fa.prototype,{customAttributes:null,isBatchingMultiTexture:null,clone:function(){var e=new ga;return e.vertSource=this.vertSource,e.fragSource=this.fragSource,e.customAttributes=this.customAttributes,e.isBatchingMultiTexture=this.isBatchingMultiTexture,e.attributes=this.attributes,e.textures=this.textures,e.init(),e},__class__:ga}),(E["spec.Shaders"]=ha).__name__="spec.Shaders",ha.__isInterface__=!0,ha.prototype={destroy:null,load:null,clone:null,setInt:null,setFloat:null,setVec2:null,setVec3:null,setVec4:null,setFloatArray:null,setTexture:null,setMat2:null,setMat3:null,setMat4:null,customFloatAttributesSize:null,maxIfStatementsByFragmentShader:null,canBatchWithMultipleTextures:null,supportsHotReloadPath:null,__class__:ha},function(){}),Se=((E["backend.Shaders"]=xe).__name__="backend.Shaders",xe.__interfaces__=[ha],xe.prototype={load:function(e,n,t,i,l){function Zca(e){ae.app._onceImmediate(function(){l(e),l=null})}var s=this,r=z.startsWith(e,"http://")||z.startsWith(e,"https://"),h=(Nn.isAbsolute(e)||r||(e=Nn.join([ae.app.settings.assetsPath,e])),Nn.withoutExtension(e));null!=i?this.tryLoadShader(h+"_mt8",n,t,i,!0,function(e){null!=e?(e.isBatchingMultiTexture=!0,Zca(e)):s.tryLoadShader(h,n,t,i,!1,function(e){null!=e&&(e.isBatchingMultiTexture=!1),Zca(e)})}):this.tryLoadShader(h,n,t,i,!1,function(e){null!=e&&(e.isBatchingMultiTexture=!1),Zca(e)})},tryLoadShader:function(e,h,a,o,c,u){var _=this,n=e+".frag",e=ee.app.assets.fullPath(e+".vert"),t=ee.app.assets.fullPath(n);ee.app.io.loadData(e,!0,!0,function(e){var r;null==e?u(null):(r=new Pl(new Uint8Array(e.buffer)).toString(),ee.app.io.loadData(t,!0,!0,function(e){if(null==e)u(null);else{var e=new Pl(new Uint8Array(e.buffer)).toString(),n=[];if(null!=h)for(var t=0,i=h.length;t<i;){var l=t++;n.push(h[l].name)}if(c&&null!=o&&n.push(o.name),null!=a)for(t=0,i=a.length;t<i;){l=t++;n.push(a[l].name)}var s=new ga;s.attributes=n,s.textures=c?_.buildMultiTextures():["mainTex"],s.vertSource=r,s.fragSource=e,s.customAttributes=a;try{s.init(),u(s)}catch(t){Sl.lastError=t,u(null)}}}))})},buildMultiTextures:function(){var e=["mainTex"];return e.push("tex1"),e.push("tex2"),e.push("tex3"),e.push("tex4"),e.push("tex5"),e.push("tex6"),e.push("tex7"),e.push("tex8"),e},destroy:function(e){e.destroy()},clone:function(e){return e.clone()},setInt:function(e,n,t){e.uniforms.setInt(n,t)},setFloat:function(e,n,t){e.uniforms.setFloat(n,t)},setVec2:function(e,n,t,i){e.uniforms.setVector2(n,t,i)},setVec3:function(e,n,t,i,l){e.uniforms.setVector3(n,t,i,l)},setVec4:function(e,n,t,i,l,s){e.uniforms.setVector4(n,t,i,l,s)},setFloatArray:function(e,n,t){e.uniforms.setFloatArray(n,new Float32Array(t))},setTexture:function(e,n,t,i){e.uniforms.setTexture(n,t,i)},setMat2:function(e,n,t,i,l,s){e.uniforms.setMatrix2(n,new Float32Array([t,i,l,s]))},setMat3:function(e,n,t,i,l,s,r,h,a,o,c){e.uniforms.setMatrix3(n,new Float32Array([t,i,l,s,r,h,a,o,c]))},setMat4:function(e,n,t,i,l,s,r,h,a,o,c,u,_,d,b,g,O,f){e.uniforms.setMatrix4(n,new Float32Array([t,i,l,s,r,h,a,o,c,u,_,d,b,g,O,f]))},customFloatAttributesSize:function(e){var n=0,t=e.customAttributes;if(null!=t)for(var i=0,l=t.length;i<l;)n+=t[i++].size;return n},maxIfStatementsByFragmentShader:function(){return 8},canBatchWithMultipleTextures:function(e){return e.isBatchingMultiTexture},supportsHotReloadPath:function(){return!0},__class__:xe},(E["spec.TextInput"]=ja).__name__="spec.TextInput",ja.__isInterface__=!0,ja.prototype={start:null,stop:null,__class__:ja},function(){this.inputRectH=0,this.inputRectW=0,this.inputRectY=0,this.inputRectX=0,this.inputActive=!1}),Ae=((E["backend.TextInput"]=Se).__name__="backend.TextInput",Se.__interfaces__=[ja],Se.prototype={inputActive:null,inputRectX:null,inputRectY:null,inputRectW:null,inputRectH:null,start:function(e,n,t,i,l){this.inputActive||(this.inputRectX=0|n,this.inputRectY=0|t,this.inputRectW=0|Math.max(1,i),this.inputRectH=0|Math.max(1,l),this.inputActive=!0)},stop:function(){this.inputActive&&(this.inputRectX=0,this.inputRectY=0,this.inputRectW=0,this.inputRectH=0,this.inputActive=!1)},handleTextInput:function(e){" "!=e&&ae.app.textInput.appendText(e)},handleKeyDown:function(e,n){this.inputActive&&(42==n?ae.app.textInput.backspace():44==n?ae.app.textInput.space():40==n?ae.app.textInput.enter():88==n?ae.app.textInput.kpEnter():41==n?ae.app.textInput.escape():80==n?ae.app.textInput.moveLeft():79==n?ae.app.textInput.moveRight():82==n?ae.app.textInput.moveUp():81==n&&ae.app.textInput.moveDown()),225==n?ae.app.textInput.lshiftDown():229==n?ae.app.textInput.rshiftDown():224==n?ae.app.textInput.lctrlDown():228==n?ae.app.textInput.rctrlDown():227==n?ae.app.textInput.lmetaDown():231==n&&ae.app.textInput.rmetaDown()},handleKeyUp:function(e,n){225==n?ae.app.textInput.lshiftUp():229==n?ae.app.textInput.rshiftUp():224==n?ae.app.textInput.lctrlUp():228==n?ae.app.textInput.rctrlUp():227==n?ae.app.textInput.lmetaUp():231==n&&ae.app.textInput.rmetaUp()},__class__:Se},(E["spec.Texts"]=la).__name__="spec.Texts",la.__isInterface__=!0,la.prototype={load:null,supportsHotReloadPath:null,__class__:la},function(){this.loadingTextCallbacks=new Nl}),ke=((E["backend.Texts"]=Ae).__name__="backend.Texts",Ae.__interfaces__=[la],Ae.prototype={load:function(r,e,n){function h3a(e){function n3a(){n(e),n=null}null!=s?s.push(n3a):ae.app._onceImmediate(n3a)}var t,i,h=this,l=null!=e&&2==e.loadMethod,s=null!=e?e.immediate:null,e=z.startsWith(r,"http://")||z.startsWith(r,"https://");Nn.isAbsolute(r)||e||(r=Nn.join([ae.app.settings.assetsPath,r])),Object.prototype.hasOwnProperty.call(this.loadingTextCallbacks.h,r)?this.loadingTextCallbacks.h[r].push(function(e){h3a(e)}):(this.loadingTextCallbacks.h[r]=[],t=r,e||-1!=(i=t.indexOf("?"))&&(t=he.substr(t,0,i)),i=e?t:ee.app.assets.fullPath(t),ee.app.io.loadData(i,!0,!l,function(e){if(null==e)if(null!=(l=h.loadingTextCallbacks.h[r]))for(var n=h.loadingTextCallbacks,t=(Object.prototype.hasOwnProperty.call(n.h,r)&&delete n.h[r],h3a(null),0);t<l.length;){var i=l[t];++t,i(null)}else h3a(null);else{var l,s=new Pl(new Uint8Array(e.buffer)).toString();if(null!=(l=h.loadingTextCallbacks.h[r]))for(n=h.loadingTextCallbacks,t=(Object.prototype.hasOwnProperty.call(n.h,r)&&delete n.h[r],h3a(s),0);t<l.length;){i=l[t];++t,i(s)}else h3a(s)}}),null!=s?s.push(si.flush):ae.app._onceImmediate(si.flush))},supportsHotReloadPath:function(){return!0},loadingTextCallbacks:null,__class__:Ae},(E["spec.Textures"]=oa).__name__="spec.Textures",oa.__isInterface__=!0,oa.prototype={load:null,loadFromBytes:null,supportsHotReloadPath:null,createTexture:null,destroyTexture:null,getTextureId:null,getTextureWidth:null,getTextureHeight:null,getTextureWidthActual:null,getTextureHeightActual:null,fetchTexturePixels:null,submitTexturePixels:null,setTextureFilter:null,setTextureWrapS:null,setTextureWrapT:null,createRenderTarget:null,maxTexturesByBatch:null,getTextureIndex:null,textureToPng:null,pixelsToPng:null,__class__:oa},function(){this.loadedTexturesRetainCount=new Nl,this.loadedTextures=new Nl,this.loadingTextureCallbacks=new Nl,this.nextBytesIndex=0,this.nextPixelsIndex=0,this.nextRenderIndex=0}),e=((E["backend.Textures"]=ke).__name__="backend.Textures",ke.__interfaces__=[oa],ke.computeMaxTextureSizeIfNeeded=function(){-1==ke._maxTextureSize&&(ke._maxTextureSize=ee._graphics.getMaxTextureSize())},ke.computeMaxTexturesByBatchIfNeeded=function(){-1==ke._maxTexturesByBatch&&(ke._maxTexturesByBatch=ee._graphics.getMaxTextureUnits())},ke.prototype={load:function(r,e,n){function B3a(e){function K3a(){n(e),n=null}null!=s?s.push(K3a):ae.app._onceImmediate(K3a)}var t,i,h,a,o=this,l=null!=e&&2==e.loadMethod,s=null!=e?e.immediate:null,c=z.startsWith(r,"http://")||z.startsWith(r,"https://");Nn.isAbsolute(r)||c||(r=Nn.join([ae.app.settings.assetsPath,r])),Object.prototype.hasOwnProperty.call(this.loadedTextures.h,r)?(this.loadedTexturesRetainCount.h[r]+=1,t=this.loadedTextures.h[r],B3a(t)):Object.prototype.hasOwnProperty.call(this.loadingTextureCallbacks.h,r)?this.loadingTextureCallbacks.h[r].push(function(e){var n;null!=e&&(n=Object.prototype.hasOwnProperty.call(o.loadedTexturesRetainCount.h,r)?o.loadedTexturesRetainCount.h[r]:0,o.loadedTexturesRetainCount.h[r]=n+1),B3a(e)}):(t=r,c||-1!=(i=t.indexOf("?"))&&(t=he.substr(t,0,i)),this.loadingTextureCallbacks.h[r]=[function(e){var n;null!=e&&(n=Object.prototype.hasOwnProperty.call(o.loadedTexturesRetainCount.h,r)?o.loadedTexturesRetainCount.h[r]:0,o.loadedTexturesRetainCount.h[r]=n+1),B3a(e)}],i=c?t:ee.app.assets.fullPath(t),h=!0,null!=e&&null!=e.premultiplyAlpha&&(h=e.premultiplyAlpha),a=function(){for(var e=o.loadingTextureCallbacks.h[r],n=o.loadingTextureCallbacks,t=(Object.prototype.hasOwnProperty.call(n.h,r)&&delete n.h[r],0);t<e.length;){var i=e[t];++t;try{i(null)}catch(e){Sl.lastError=e;i=[$.caught(e).unwrap()];ae.app._onceImmediate(function(e){return function(){throw $.thrown(e[0])}}(i))}}},ee.app.assets.loadImage(i,null,!l,function(e){if(null==e)a();else{var n=null;try{if(null==(n=di.fromImage(e,h)))return void a();n.id=r,n.init()}catch(l){Sl.lastError=l;var t=$.caught(l).unwrap();return ae.app.logger.error("Failed to create texture: "+K.string(t),{fileName:"../../../../ceramic/plugins/clay/runtime/src/backend/Textures.hx",lineNumber:153,className:"backend.Textures",methodName:"load"}),void a()}o.loadedTextures.h[r]=n;for(var i=o.loadingTextureCallbacks.h[r],e=o.loadingTextureCallbacks,l=(Object.prototype.hasOwnProperty.call(e.h,r)&&delete e.h[r],0);l<i.length;){var s=i[l];++l;try{s(n)}catch(e){Sl.lastError=e;t=[$.caught(e).unwrap()];ae.app._onceImmediate(function(e){return function(){throw $.thrown(e[0])}}(t))}}}}),null!=s?s.push(si.flush):ae.app._onceImmediate(si.flush))},loadFromBytes:function(e,n,t,i){function lea(e){function qea(){i(e),i=null}null!=r?r.push(qea):ae.app._onceImmediate(qea)}var l=this,s="bytes:"+this.nextBytesIndex++,r=(null!=t&&t.loadMethod,null!=t?t.immediate:null),h=!0;null!=t&&null!=t.premultiplyAlpha&&(h=t.premultiplyAlpha);ee.app.assets.imageFromBytes(new Uint8Array(e.b.bufferValue),n,null,null,function(n){if(null==n)lea(null);else{var e=null;try{if(null==(e=di.fromImage(n,h)))return void lea(null);e.id=s,e.init()}catch(e){Sl.lastError=e;n=$.caught(e).unwrap();return ae.app.logger.error("Failed to create texture: "+K.string(n),{fileName:"../../../../ceramic/plugins/clay/runtime/src/backend/Textures.hx",lineNumber:240,className:"backend.Textures",methodName:"loadFromBytes"}),void lea(null)}l.loadedTexturesRetainCount.h[s]=1,lea(e)}}),null!=r?r.push(si.flush):ae.app._onceImmediate(si.flush)},supportsHotReloadPath:function(){return!0},nextRenderIndex:null,nextPixelsIndex:null,nextBytesIndex:null,createTexture:function(e,n,t){var i="pixels:"+this.nextPixelsIndex++,l=new di;return l.id=i,l.width=e,l.height=n,l.pixels=t,l.init(),this.loadedTexturesRetainCount.h[i]=1,l},createRenderTarget:function(e,n,t,i,l){var s="render:"+this.nextRenderIndex++,r=ee.app.runtime.webglVersion,h=new bi;return h.id=s,h.width=e,h.height=n,h.depth=t,h.stencil=i,h.antialiasing=2<=r?l:0,h.init(),this.loadedTexturesRetainCount.h[s]=1,h},fetchTexturePixels:function(e,n){var t=e.width,i=e.height;return null==n&&(n=new Uint8Array(t*i*4)),e.fetch(n),n},submitTexturePixels:function(e,n){e.submit(n)},destroyTexture:function(e){var n,t=e.id;1<this.loadedTexturesRetainCount.h[t]?--this.loadedTexturesRetainCount.h[t]:(n=this.loadedTextures,Object.prototype.hasOwnProperty.call(n.h,t)&&delete n.h[t],n=this.loadedTexturesRetainCount,Object.prototype.hasOwnProperty.call(n.h,t)&&delete n.h[t],e.destroy())},getTextureId:function(e){return e.textureId},getTextureWidth:function(e){return e.width},getTextureHeight:function(e){return e.height},getTextureWidthActual:function(e){return e.widthActual},getTextureHeightActual:function(e){return e.heightActual},getTextureIndex:function(e){return e.index},setTextureFilter:function(e,n){switch(n._hx_index){case 0:e.set_filterMin(9729),e.set_filterMag(9729);break;case 1:e.set_filterMin(9728),e.set_filterMag(9728)}},setTextureWrapS:function(e,n){switch(n){case 0:e.set_wrapS(33071);break;case 1:e.set_wrapS(10497);break;case 2:e.set_wrapS(33648)}},setTextureWrapT:function(e,n){switch(n){case 0:e.set_wrapT(33071);break;case 1:e.set_wrapT(10497);break;case 2:e.set_wrapT(33648)}},maxTextureWidth:function(){return-1==ke._maxTextureSize&&(ke._maxTextureSize=ee._graphics.getMaxTextureSize()),ke._maxTextureSize},maxTextureHeight:function(){return-1==ke._maxTextureSize&&(ke._maxTextureSize=ee._graphics.getMaxTextureSize()),ke._maxTextureSize},maxTexturesByBatch:function(){return-1==ke._maxTexturesByBatch&&(ke._maxTexturesByBatch=ee._graphics.getMaxTextureUnits()),ke._maxTexturesByBatch},textureToPng:function(e,n,t,i){null==n&&(n=!0);var l=this.fetchTexturePixels(e);e.id;n&&Xn.reversePremultiplyAlpha(l),ee.app.assets.pixelsToPngData(e.width,e.height,l,function(e){null!=e?null!=t?(un.saveBytes(t,new Pl(new Uint8Array(e.buffer))),i()):i(new Pl(new Uint8Array(e.buffer))):(ae.app.logger.warning("Failed to get PNG data from texture",{fileName:"../../../../ceramic/plugins/clay/runtime/src/backend/Textures.hx",lineNumber:686,className:"backend.Textures",methodName:"textureToPng"}),i(null))})},pixelsToPng:function(e,n,t,i,l){ee.app.assets.pixelsToPngData(e,n,t,function(e){null!=e?null!=i?(un.saveBytes(i,new Pl(new Uint8Array(e.buffer))),l()):l(new Pl(new Uint8Array(e.buffer))):(ae.app.logger.warning("Failed to get PNG data from pixels",{fileName:"../../../../ceramic/plugins/clay/runtime/src/backend/Textures.hx",lineNumber:716,className:"backend.Textures",methodName:"pixelsToPng"}),l(null))})},loadingTextureCallbacks:null,loadedTextures:null,loadedTexturesRetainCount:null,__class__:ke},_e["backend.VisualItem"]={__ename__:"backend.VisualItem",__constructs__:null,NONE:{_hx_name:"NONE",_hx_index:0,__enum__:"backend.VisualItem",toString:c},QUAD:{_hx_name:"QUAD",_hx_index:1,__enum__:"backend.VisualItem",toString:c},MESH:{_hx_name:"MESH",_hx_index:2,__enum__:"backend.VisualItem",toString:c}}),Ie=(e.__constructs__=[e.NONE,e.QUAD,e.MESH],(E["binpacking.IOccupancy"]=ra).__name__="binpacking.IOccupancy",ra.__isInterface__=!0,ra.prototype={occupancy:null,__class__:ra},(E["binpacking.MaxRectsPackerBestFitPosition"]=sa).__name__="binpacking.MaxRectsPackerBestFitPosition",sa.prototype={bestNode:null,bestAreaFit:null,bestShortSideFit:null,bestLongSideFit:null,bestContactScore:null,bestX:null,bestY:null,__class__:sa},(E["binpacking.MaxRectsPackerRectScore"]=ta).__name__="binpacking.MaxRectsPackerRectScore",ta.prototype={rect:null,primaryScore:null,secondaryScore:null,__class__:ta},(E["binpacking.MaxRectsPacker"]=ua).__name__="binpacking.MaxRectsPacker",ua.__interfaces__=[ra],ua.prototype={binWidth:null,binHeight:null,binAllowFlip:null,usedRectangles:null,freeRectangles:null,_bestFitPosition:null,insert:function(e,n,t){var i;switch(t){case 1:i=this.findPositionForNewNodeBestShortSideFit(e,n,this._bestFitPosition).bestNode;break;case 2:i=this.findPositionForNewNodeBestLongSideFit(e,n,this._bestFitPosition).bestNode;break;case 3:i=this.findPositionForNewNodeBestAreaFit(e,n,this._bestFitPosition).bestNode;break;case 4:i=this.findPositionForNewNodeBottomLeft(e,n,this._bestFitPosition).bestNode;break;case 5:i=this.findPositionForNewNodeContactPoint(e,n,this._bestFitPosition).bestNode}if(null==i||0==i.width||0==i.height)return null;for(var l=this.freeRectangles.length,s=0;s<l;)this.splitFreeNode(this.freeRectangles[s],i)&&(this.freeRectangles.splice(s,1),--s,--l),++s;return this.pruneFreeList(),this.usedRectangles.push(i),i},occupancy:function(){if(0==this.usedRectangles.length)return 0;for(var e=0,n=0,t=this.usedRectangles.length;n<t;){var i=n++;e+=this.usedRectangles[i].width*this.usedRectangles[i].height}return e/(this.binWidth*this.binHeight)},scoreRect:function(e,n,t){var i=new Ie,l=1073741823,s=1073741823;switch(t){case 1:var r,i=(r=this.findPositionForNewNodeBestShortSideFit(e,n,this._bestFitPosition)).bestNode,l=r.bestShortSideFit,s=r.bestLongSideFit;break;case 2:i=(r=this.findPositionForNewNodeBestLongSideFit(e,n,this._bestFitPosition)).bestNode,l=r.bestLongSideFit,s=r.bestLongSideFit;break;case 3:i=(r=this.findPositionForNewNodeBestAreaFit(e,n,this._bestFitPosition)).bestNode,l=r.bestAreaFit,s=r.bestShortSideFit;break;case 4:i=(r=this.findPositionForNewNodeBottomLeft(e,n,this._bestFitPosition)).bestNode,l=r.bestY,s=r.bestX;break;case 5:i=(r=this.findPositionForNewNodeContactPoint(e,n,this._bestFitPosition)).bestNode,l=-r.bestContactScore}return 0==i.height&&(s=l=1073741823),new ta(i,l,s)},contactPointScoreNode:function(e,n,t,i){for(var l=0,s=(0!=e&&e+t!=this.binWidth||(l+=i),0!=n&&n+i!=this.binHeight||(l+=t),0),r=this.usedRectangles.length;s<r;){var h=s++;this.usedRectangles[h].x!=e+t&&this.usedRectangles[h].x+this.usedRectangles[h].width!=e||(l+=0|this.commonIntervalLength(this.usedRectangles[h].y,this.usedRectangles[h].height,n,n+i)),this.usedRectangles[h].y!=n+i&&this.usedRectangles[h].y+this.usedRectangles[h].height!=n||(l+=0|this.commonIntervalLength(this.usedRectangles[h].x,this.usedRectangles[h].x+this.usedRectangles[h].width,e,e+t))}return l},findPositionForNewNodeBottomLeft:function(e,n,t){for(var i=new Ie,l=1073741823,s=1073741823,r=0,h=this.freeRectangles.length;r<h;){var a,o=r++;this.freeRectangles[o].width>=e&&this.freeRectangles[o].height<s&&(a=this.freeRectangles[o].y+n|0,i.x=this.freeRectangles[o].x,i.y=this.freeRectangles[o].y,i.width=e,i.height=n,l=a,s=0|this.freeRectangles[o].x),this.binAllowFlip&&this.freeRectangles[o].width>=n&&this.freeRectangles[o].height>=e&&(a=this.freeRectangles[o].y+n|0,i.x=this.freeRectangles[o].x,i.y=this.freeRectangles[o].y,i.width=e,i.height=n,l=a,s=0|this.freeRectangles[o].x)}return t.bestNode=i,t.bestY=l,t.bestX=s,t},findPositionForNewNodeBestShortSideFit:function(e,n,t){for(var i=new Ie,l=1073741823,s=1073741823,r=0,h=this.freeRectangles.length;r<h;){var a,o,c,u,_=r++;this.freeRectangles[_].width>=e&&this.freeRectangles[_].height>=n&&(c=Math.abs(this.freeRectangles[_].width-e),a=Math.abs(this.freeRectangles[_].height-n),o=Math.min(c,a),c=Math.max(c,a),o<l||o==l&&c<s)&&(i.x=this.freeRectangles[_].x,i.y=this.freeRectangles[_].y,i.width=e,i.height=n,l=0|o,s=0|c),this.binAllowFlip&&this.freeRectangles[_].width>=n&&this.freeRectangles[_].height>=e&&(a=Math.abs(this.freeRectangles[_].width-n),o=Math.abs(this.freeRectangles[_].height-e),c=Math.min(a,o),u=Math.max(a,o),c<l||c==l&&u<s)&&(i.x=this.freeRectangles[_].x,i.y=this.freeRectangles[_].y,i.width=n,i.height=e,i.flipped=!i.flipped,l=0|c,s=0|u)}return t.bestNode=i,t.bestShortSideFit=l,t.bestLongSideFit=s,t},findPositionForNewNodeBestLongSideFit:function(e,n,t){for(var i=new Ie,l=1073741823,s=1073741823,r=0,h=this.freeRectangles.length;r<h;){var a,o,c,u,_=r++;this.freeRectangles[_].width>=e&&this.freeRectangles[_].height>=n&&(c=Math.abs(this.freeRectangles[_].width-e),a=Math.abs(this.freeRectangles[_].height-n),o=Math.min(c,a),(c=Math.max(c,a))<s||c==s&&o<l)&&(i.x=this.freeRectangles[_].x,i.y=this.freeRectangles[_].y,i.width=e,i.height=n,l=0|o,s=0|c),this.binAllowFlip&&this.freeRectangles[_].width>=n&&this.freeRectangles[_].height>=e&&(a=Math.abs(this.freeRectangles[_].width-e),o=Math.abs(this.freeRectangles[_].height-n),c=Math.min(a,o),(u=Math.max(a,o))<s||u==s&&c<l)&&(i.x=this.freeRectangles[_].x,i.y=this.freeRectangles[_].y,i.width=n,i.height=e,i.flipped=!i.flipped,l=0|c,s=0|u)}return t.bestNode=i,t.bestShortSideFit=l,t.bestLongSideFit=s,t},findPositionForNewNodeBestAreaFit:function(e,n,t){for(var i=new Ie,l=1073741823,s=1073741823,r=0,h=this.freeRectangles.length;r<h;){var a,o,c,u=r++,_=this.freeRectangles[u].width*this.freeRectangles[u].height-e*n;this.freeRectangles[u].width>=e&&this.freeRectangles[u].height>=n&&(o=Math.abs(this.freeRectangles[u].width-e),a=Math.abs(this.freeRectangles[u].height-n),o=Math.min(o,a),_<l||_==l&&o<s)&&(i.x=this.freeRectangles[u].x,i.y=this.freeRectangles[u].y,i.width=e,i.height=n,s=0|o,l=0|_),this.binAllowFlip&&this.freeRectangles[u].width>=n&&this.freeRectangles[u].height>=e&&(a=Math.abs(this.freeRectangles[u].width-n),o=Math.abs(this.freeRectangles[u].height-e),c=Math.min(a,o),_<l||_==l&&c<s)&&(i.x=this.freeRectangles[u].x,i.y=this.freeRectangles[u].y,i.width=n,i.height=e,i.flipped=!i.flipped,s=0|c,l=0|_)}return t.bestNode=i,t.bestAreaFit=l,t.bestShortSideFit=s,t},findPositionForNewNodeContactPoint:function(e,n,t){for(var i=new Ie,l=-1,s=0,r=this.freeRectangles.length;s<r;){var h,a=s++;this.freeRectangles[a].width>=e&&this.freeRectangles[a].height>=n&&l<(h=this.contactPointScoreNode(0|this.freeRectangles[a].x,0|this.freeRectangles[a].y,e,n))&&(i.x=this.freeRectangles[a].x,i.y=this.freeRectangles[a].y,i.width=e,i.height=n,l=h),this.freeRectangles[a].width>=n&&this.freeRectangles[a].height>=e&&l<(h=this.contactPointScoreNode(0|this.freeRectangles[a].x,0|this.freeRectangles[a].y,n,e))&&(i.x=this.freeRectangles[a].x,i.y=this.freeRectangles[a].y,i.width=n,i.height=e,i.flipped=!i.flipped,l=h)}return t.bestNode=i,t.bestContactScore=l,t},splitFreeNode:function(e,n){var t;return!(n.x>=e.x+e.width||n.x+n.width<=e.x||n.y>=e.y+e.height||n.y+n.height<=e.y||(n.x<e.x+e.width&&n.x+n.width>e.x&&(n.y>e.y&&n.y<e.y+e.height&&((t=new Ie(e.x,e.y,e.width,e.height)).height=n.y-t.y,this.freeRectangles.push(t)),n.y+n.height<e.y+e.height)&&((t=new Ie(e.x,e.y,e.width,e.height)).y=n.y+n.height,t.height=e.y+e.height-(n.y+n.height),this.freeRectangles.push(t)),n.y<e.y+e.height&&n.y+n.height>e.y&&(n.x>e.x&&n.x<e.x+e.width&&((t=new Ie(e.x,e.y,e.width,e.height)).width=n.x-t.x,this.freeRectangles.push(t)),n.x+n.width<e.x+e.width)&&((t=new Ie(e.x,e.y,e.width,e.height)).x=n.x+n.width,t.width=e.x+e.width-(n.x+n.width),this.freeRectangles.push(t)),0))},pruneFreeList:function(){for(var e=0;e<this.freeRectangles.length;){for(var n=e+1;n<this.freeRectangles.length;){var t=this.freeRectangles[e],i=this.freeRectangles[n];if(t.x>=i.x&&t.y>=i.y&&t.x+t.width<=i.x+i.width&&t.y+t.height<=i.y+i.height){this.freeRectangles.splice(e,1),--e;break}t=this.freeRectangles[n],i=this.freeRectangles[e];t.x>=i.x&&t.y>=i.y&&t.x+t.width<=i.x+i.width&&t.y+t.height<=i.y+i.height?this.freeRectangles.splice(n,1):++n}++e}},commonIntervalLength:function(e,n,t,i){return n<t||i<e?0:(n<i?n:i)-(t<e?e:t)},__class__:ua},(E["binpacking.RectSize"]=va).__name__="binpacking.RectSize",va.prototype={width:null,height:null,__class__:va},function(e,n,t,i,l){null==l&&(l=!1),null==i&&(i=0),null==t&&(t=0),null==n&&(n=0),this.x=e=null==e?0:e,this.y=n,this.width=t,this.height=i,this.flipped=l}),ae=((E["binpacking.Rect"]=Ie).__name__="binpacking.Rect",Ie.prototype={x:null,y:null,width:null,height:null,flipped:null,clone:function(){return new Ie(this.x,this.y,this.width,this.height)},isContainedIn:function(e){return this.x>=e.x&&this.y>=e.y&&this.x+this.width<=e.x+e.width&&this.y+this.height<=e.y+e.height},__class__:Ie},(E["binpacking.DisjointRectCollection"]=xa).__name__="binpacking.DisjointRectCollection",xa.rectsDisjoint=function(e,n){return e.x+e.width<=n.x||n.x+n.width<=e.x||e.y+e.height<=n.y||n.y+n.height<=e.y},xa.prototype={rects:null,add:function(e){if(0!=e.width&&0!=e.height){if(!this.disjoint(e))return!1;this.rects.push(e)}return!0},clear:function(){this.rects=[]},disjoint:function(e){if(0!=e.width&&0!=e.height)for(var n=0,t=this.rects.length;n<t;){var i=n++;if(!xa.rectsDisjoint(this.rects[i],e))return!1}return!0},__class__:xa},(E["ceramic.Mesh"]=za).__name__="ceramic.Mesh",za.__super__=o,za.prototype=$extend(o.prototype,{colorMapping:null,customFloatAttributesSize:null,complexHit:null,destroy:function(){this._lifecycleState<=-2||(this._lifecycleState=-2,null!=this.texture&&(null!=this.texture&&(this.texture.offDestroy($bind(this,this.textureDestroyed)),null!=this.texture.asset)&&this.texture.asset.release(),(this.texture=null)!=this.texture)&&(this.texture.onDestroy(this,$bind(this,this.textureDestroyed)),null!=this.texture.asset)&&this.texture.asset.retain(),this._lifecycleState=-1,o.prototype.destroy.call(this))},get_color:function(){var e,n,t,i;return null!=this.floatColors&&3<=this.floatColors.length?(n=this.floatColors[0],t=this.floatColors[1],i=this.floatColors[2],16776960&(16711935&(65535&0|(255<(e=Math.round(255*n))?255:e<0?0:e)<<16)|(255<(e=Math.round(255*t))?255:e<0?0:e)<<8)|(255<(e=Math.round(255*i))?255:e<0?0:e)):null!=this.colors&&0<this.colors.length?16776960&(16711935&(65535&0|(255<(n=(e=this.colors[0])>>16&255)?255:n<0?0:n)<<16)|(255<(t=e>>8&255)?255:t<0?0:t)<<8)|(255<(i=255&e)?255:i<0?0:i):16777215},set_color:function(e){var n;return null!=this.floatColors?(this.floatColors[0]=(e>>16&255)/255,this.floatColors[1]=(e>>8&255)/255,this.floatColors[2]=(255&e)/255,this.floatColors[3]=1):(null==this.colors&&(this.colors=[]),this.colors[0]=(0|e)-16777216&16777215|((n=255)<(n=null==n?255:n)?255:n<0?0:n)<<24),e},vertices:null,vertices32:null,indices:null,colors:null,floatColors:null,texture:null,set_texture:function(e){return this.texture!=e&&(null!=this.texture&&(this.texture.offDestroy($bind(this,this.textureDestroyed)),null!=this.texture.asset)&&this.texture.asset.release(),this.texture=e,null!=this.texture&&(this.texture.onDestroy(this,$bind(this,this.textureDestroyed)),null!=this.texture.asset))&&this.texture.asset.retain(),e},uvs:null,textureDestroyed:function(e){null!=this.texture&&(null!=this.texture&&(this.texture.offDestroy($bind(this,this.textureDestroyed)),null!=this.texture.asset)&&this.texture.asset.release(),(this.texture=null)!=this.texture)&&(this.texture.onDestroy(this,$bind(this,this.textureDestroyed)),null!=this.texture.asset)&&this.texture.asset.retain()},hitTest:function(e,n,t){if(this.complexHit){var i,l,s,r,h,a,c,u,_,d=e*t.a+n*t.c+t.tx,b=e*t.b+n*t.d+t.ty,g=2+this.customFloatAttributesSize,O=0,f=0,p=this.indices.length/3|0;if(null!=this.vertices32)for(;O<p;){l=this.indices[f],++f,s=this.indices[f],++f,r=this.indices[f],++f,h=this.vertices32[i=l*g],++i,a=this.vertices32[i],c=this.vertices32[i=s*g],++i,u=this.vertices32[i],_=this.vertices32[i=r*g],++i;var C,v=(d-_)*(u-(C=this.vertices32[i]))-(c-_)*(b-C),w=(d-h)*(C-a)-(_-h)*(b-a),m=0<(y=(d-c)*(a-u)-(h-c)*(b-u))||0<v||0<w;if(!(y<0||v<0||w<0)||!m)return!0;++O}else for(;O<p;){l=this.indices[f],++f,s=this.indices[f],++f,r=this.indices[f],++f,h=this.vertices[i=l*g],++i,a=this.vertices[i],c=this.vertices[i=s*g],++i,u=this.vertices[i],_=this.vertices[i=r*g],++i;var y,v=(d-_)*(u-(C=this.vertices[i]))-(c-_)*(b-C),w=(d-h)*(C-a)-(_-h)*(b-a),m=0<(y=(d-c)*(a-u)-(h-c)*(b-u))||0<v||0<w;if(!(y<0||v<0||w<0)||!m)return!0;++O}return!1}return o.prototype.hitTest.call(this,e,n,t)},set_shader:function(e){return null!=(this.shader=e)&&(this.customFloatAttributesSize=e.customFloatAttributesSize),e},computeSize:function(){if(null!=this.vertices32&&2<=this.vertices32.length){var e=0,n=0,t=0,i=this.vertices32.length-1;if(0<this.customFloatAttributesSize)for(;t<i;)e<(s=this.vertices32[t])&&(e=s),++t,n<(r=this.vertices32[t])&&(n=r),t+=1+this.customFloatAttributesSize;else for(;t<i;)e<(s=this.vertices32[t])&&(e=s),++t,n<(r=this.vertices32[t])&&(n=r),++t;var l=Math.round(1e3*n)/1e3;this.set_width(Math.round(1e3*e)/1e3),this.set_height(l)}else if(null!=this.vertices&&2<=this.vertices.length){var s,r,e=0,n=0,t=0,i=this.vertices.length-1;if(0<this.customFloatAttributesSize)for(;t<i;)e<(s=this.vertices[t])&&(e=s),++t,n<(r=this.vertices[t])&&(n=r),t+=1+this.customFloatAttributesSize;else for(;t<i;)e<(s=this.vertices[t])&&(e=s),++t,n<(r=this.vertices[t])&&(n=r),++t;l=Math.round(1e3*n)/1e3;this.set_width(Math.round(1e3*e)/1e3),this.set_height(l)}else this.set_width(0),this.set_height(0)},grid:function(e,n,t,i){for(var l,s=(t=-1==(t=null==t?-1:t)?this._width:t)/e,r=(i=-1==(i=null==i?-1:i)?this._height:i)/n,h=0,a=0,o=0,c=n+1;o<c;)for(var u=o++,_=u*r,d=0,b=e+1;d<b;){var g=d++;this.vertices[h]=g*s,++h,this.vertices[h]=_,++h,0<u&&0<g&&(this.indices[a]=g=(u-1)*(e+1)+g-1,++a,this.indices[a]=1+g,++a,this.indices[a]=g+(e+1),++a,this.indices[a]=1+g,++a,this.indices[a]=g+(e+1),++a,this.indices[a]=g+(e+1)+1,++a)}if(this.vertices.length>h&&(l=this.vertices).length!=h)if(l.length>h)l.splice(h,l.length-h);else for(var O=l;O.length<h;)O.push(null);if(this.indices.length>a&&(l=this.indices).length!=a)if(l.length>a)l.splice(a,l.length-a);else for(O=l;O.length<a;)O.push(null)},gridFromTexture:function(e,n,t){null==t&&(t=this.texture),this.grid(e,n,t.width,t.height);for(var i=0,l=1/e,s=1/n,r=0,h=n+1;r<h;)for(var a=r++*s,o=(this.uvs[i]=0,this.uvs[++i]=a,++i,1),c=e+1;o<c;){var u=o++;this.uvs[i]=u*l,++i,this.uvs[i]=a,++i}if(this.uvs.length>i){t=this.uvs;if(t.length!=i)if(t.length>i)t.splice(i,t.length-i);else for(var _=t;_.length<i;)_.push(null)}},__class__:za,__properties__:$extend(o.prototype.__properties__,{set_texture:"set_texture",set_color:"set_color",get_color:"get_color"})}),(E["ceramic.AntialiasedTriangle"]=Aa).__name__="ceramic.AntialiasedTriangle",Aa.__super__=za,Aa.prototype=$extend(za.prototype,{set_width:function(e){return za.prototype.set_width.call(this,e),this.vertices[0]=0,this.vertices[1]=this.get_height(),this.vertices[2]=.5*this.get_width(),this.vertices[3]=0,this.vertices[4]=this.get_width(),this.vertices[5]=this.get_height(),this.vertices[6]=-this.antialiasing,this.vertices[7]=this.get_height()+this.antialiasing,this.vertices[8]=.5*this.get_width(),this.vertices[9]=-this.antialiasing,this.vertices[10]=this.get_width()+this.antialiasing,this.vertices[11]=this.get_height()+this.antialiasing,e},set_height:function(e){return za.prototype.set_height.call(this,e),this.vertices[0]=0,this.vertices[1]=this.get_height(),this.vertices[2]=.5*this.get_width(),this.vertices[3]=0,this.vertices[4]=this.get_width(),this.vertices[5]=this.get_height(),this.vertices[6]=-this.antialiasing,this.vertices[7]=this.get_height()+this.antialiasing,this.vertices[8]=.5*this.get_width(),this.vertices[9]=-this.antialiasing,this.vertices[10]=this.get_width()+this.antialiasing,this.vertices[11]=this.get_height()+this.antialiasing,e},antialiasing:null,set_antialiasing:function(e){return this.antialiasing!=e&&(this.antialiasing=e,this.vertices[0]=0,this.vertices[1]=this.get_height(),this.vertices[2]=.5*this.get_width(),this.vertices[3]=0,this.vertices[4]=this.get_width(),this.vertices[5]=this.get_height(),this.vertices[6]=-this.antialiasing,this.vertices[7]=this.get_height()+this.antialiasing,this.vertices[8]=.5*this.get_width(),this.vertices[9]=-this.antialiasing,this.vertices[10]=this.get_width()+this.antialiasing,this.vertices[11]=this.get_height()+this.antialiasing),e},set_color:function(e){if(null==this.colors)this.colors=[0,0,0,0,0,0];else if(6!=this.colors.length){var n=this.colors;if(6!=n.length)if(6<n.length)n.splice(6,n.length-6);else for(var t=n;t.length<6;)t.push(null)}var n=255,i=(0|e)-16777216,n=(this.colors[0]=i&16777215|(255<(n=null==n?255:n)?255:n<0?0:n)<<24,255),n=(this.colors[1]=(0|e)-16777216&16777215|(255<(n=null==n?255:n)?255:n<0?0:n)<<24,255),n=(this.colors[2]=(0|e)-16777216&16777215|(255<(n=null==n?255:n)?255:n<0?0:n)<<24,0),n=(this.colors[3]=(0|e)-16777216&16777215|(255<(n=null==n?255:n)?255:n<0?0:n)<<24,0),n=(this.colors[4]=(0|e)-16777216&16777215|(255<(n=null==n?255:n)?255:n<0?0:n)<<24,0);return this.colors[5]=(0|e)-16777216&16777215|(255<(n=null==n?255:n)?255:n<0?0:n)<<24,e},updateVertices:function(){this.vertices[0]=0,this.vertices[1]=this.get_height(),this.vertices[2]=.5*this.get_width(),this.vertices[3]=0,this.vertices[4]=this.get_width(),this.vertices[5]=this.get_height(),this.vertices[6]=-this.antialiasing,this.vertices[7]=this.get_height()+this.antialiasing,this.vertices[8]=.5*this.get_width(),this.vertices[9]=-this.antialiasing,this.vertices[10]=this.get_width()+this.antialiasing,this.vertices[11]=this.get_height()+this.antialiasing},__class__:Aa,__properties__:$extend(za.prototype.__properties__,{set_antialiasing:"set_antialiasing"})}),function(){this.info={name:"tilemap",collections:{},version:"1.0",package:null,author:"Jeremy Faivre",displayName:"Tilemap"},this._computeRenderTexturesPriorityQueue=[],this.numBlockingDefaultScroll=0,this.disposedEntities=[],this.beginUpdateCallbacks=[],this.visualsContentDirty=!1,this.hierarchyDirty=!1,this.lazyScenes=!0,this.timelines=new zt,this.converters=new Nl,this.textInput=null,this.persistent=null,this.projectDir=null,this.defaultFont=null,this.defaultWhiteTexture=null,this.defaultTexturedShader=null,this.renderTextures=[],this.groups=[],this.destroyedVisuals=[],this.pendingVisuals=[],this.visuals=[],this.logger=new Wn,this.frame=0,this._computeFps=new Xe,this.inUpdate=!1,this._xUpdatesToCallNow=[],this._xUpdatesHandlers=[],this._xUpdatesHandlersPool=new m,this.loaders=[],this.postFlushImmediateCallbacksLen=0,this.postFlushImmediateCallbacksCapacity=0,this.postFlushImmediateCallbacks=[],this.immediateCallbacksLen=0,this.immediateCallbacksCapacity=0,this.immediateCallbacks=[],j.call(this),ae.app=this,Ft.pluginInit(),qn.init(),Ts.backend=new jt,this.settings=new ht,this.screen=new nt,this.audio=new Ee,this.input=new vn,this.systems=new bt,this.assets=new Oe,this.backend=new N,this.backend.onceReady(this,$bind(this,this.backendReady)),this.backend.init(this)}),Pe=((E["ceramic.App"]=ae).__name__="ceramic.App",ae.__properties__={get_app:"get_app"},ae.get_app=function(){return ae.app},ae.oncePreInit=function(e){null==ae.preInitCallbacks&&(ae.preInitCallbacks=[]),ae.preInitCallbacks.push(e)},ae.init=function(){return F.bind(),new ae,new Cn(ae.app.settings)},ae.__super__=j,ae.prototype=$extend(j.prototype,{__cbOnReady:null,__cbOnceReady:null,__cbOnOwnerUnbindReady:null,__cbOnceOwnerUnbindReady:null,emitReady:function(){var e=0;if(null!=this.__cbOnReady&&(e+=this.__cbOnReady.length),null!=this.__cbOnceReady&&(e+=this.__cbOnceReady.length),0<e){var n=C.pool(e),t=n.get(),i=0;if(null!=this.__cbOnReady)for(var l=0,s=this.__cbOnReady.length;l<s;){var r=l++;!0?(t.vector[i]=this.__cbOnReady[r],++i):--e}if(null!=this.__cbOnceReady){for(var h=null,a=null,l=0,s=this.__cbOnceReady.length;l<s;){var o,r=l++;!0?(t.vector[i]=this.__cbOnceReady[r],this.__cbOnceReady[r]=null,o=this.__cbOnceOwnerUnbindReady[r],(this.__cbOnceOwnerUnbindReady[r]=null)!=o&&o(),++i):(--e,null==h&&(h=[],a=[],0),h.push(this.__cbOnceOwnerUnbindReady[r]),a.push(this.__cbOnceReady[r]))}this.__cbOnceOwnerUnbindReady=h,this.__cbOnceReady=a}for(l=0,s=e;l<s;){i=l++;(0,t.vector[i])()}n.release(t)}},onReady:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event ready because owner is destroyed!");var l=function(e){null!=t&&(i.offReady(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindReady&&(this.__cbOnOwnerUnbindReady=[]),this.__cbOnOwnerUnbindReady.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindReady&&(this.__cbOnOwnerUnbindReady=[]),this.__cbOnOwnerUnbindReady.push(null);null==this.__cbOnReady&&(this.__cbOnReady=[]),this.__cbOnReady.push(t)},onceReady:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event ready because owner is destroyed!");var l=function(e){null!=t&&(i.offReady(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindReady&&(this.__cbOnceOwnerUnbindReady=[]),this.__cbOnceOwnerUnbindReady.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindReady&&(this.__cbOnceOwnerUnbindReady=[]),this.__cbOnceOwnerUnbindReady.push(null);null==this.__cbOnceReady&&(this.__cbOnceReady=[]),this.__cbOnceReady.push(t)},offReady:function(e){if(null!=e){var n;null!=this.__cbOnReady&&-1!=(n=this.__cbOnReady.indexOf(e))&&(this.__cbOnReady.splice(n,1),null!=(s=this.__cbOnOwnerUnbindReady[n])&&s(),this.__cbOnOwnerUnbindReady.splice(n,1)),null!=this.__cbOnceReady&&-1!=(n=this.__cbOnceReady.indexOf(e))&&(this.__cbOnceReady.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindReady[n])&&s(),this.__cbOnceOwnerUnbindReady.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindReady){for(var t=0,i=this.__cbOnOwnerUnbindReady.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindReady[l])&&s()}this.__cbOnOwnerUnbindReady=null}if(null!=this.__cbOnceOwnerUnbindReady){for(t=0,i=this.__cbOnceOwnerUnbindReady.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindReady[l])&&s()}this.__cbOnceOwnerUnbindReady=null}this.__cbOnReady=null,this.__cbOnceReady=null}},listensReady:function(){return null!=this.__cbOnReady&&0<this.__cbOnReady.length||null!=this.__cbOnceReady&&0<this.__cbOnceReady.length},__cbOnUpdate:null,__cbOnceUpdate:null,__cbOnOwnerUnbindUpdate:null,__cbOnceOwnerUnbindUpdate:null,emitUpdate:function(e){var n=0;if(null!=this.__cbOnUpdate&&(n+=this.__cbOnUpdate.length),null!=this.__cbOnceUpdate&&(n+=this.__cbOnceUpdate.length),0<n){var t=C.pool(n),i=t.get(),l=0;if(null!=this.__cbOnUpdate)for(var s=0,r=this.__cbOnUpdate.length;s<r;){var h=s++;!0?(i.vector[l]=this.__cbOnUpdate[h],++l):--n}if(null!=this.__cbOnceUpdate){for(var a=null,o=null,s=0,r=this.__cbOnceUpdate.length;s<r;){var c,h=s++;!0?(i.vector[l]=this.__cbOnceUpdate[h],this.__cbOnceUpdate[h]=null,c=this.__cbOnceOwnerUnbindUpdate[h],(this.__cbOnceOwnerUnbindUpdate[h]=null)!=c&&c(),++l):(--n,null==a&&(a=[],o=[],0),a.push(this.__cbOnceOwnerUnbindUpdate[h]),o.push(this.__cbOnceUpdate[h]))}this.__cbOnceOwnerUnbindUpdate=a,this.__cbOnceUpdate=o}for(s=0,r=n;s<r;){l=s++;(0,i.vector[l])(e)}t.release(i)}},onUpdate:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event update because owner is destroyed!");var l=function(e){null!=t&&(i.offUpdate(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindUpdate&&(this.__cbOnOwnerUnbindUpdate=[]),this.__cbOnOwnerUnbindUpdate.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindUpdate&&(this.__cbOnOwnerUnbindUpdate=[]),this.__cbOnOwnerUnbindUpdate.push(null);null==this.__cbOnUpdate&&(this.__cbOnUpdate=[]),this.__cbOnUpdate.push(t)},onceUpdate:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event update because owner is destroyed!");var l=function(e){null!=t&&(i.offUpdate(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindUpdate&&(this.__cbOnceOwnerUnbindUpdate=[]),this.__cbOnceOwnerUnbindUpdate.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindUpdate&&(this.__cbOnceOwnerUnbindUpdate=[]),this.__cbOnceOwnerUnbindUpdate.push(null);null==this.__cbOnceUpdate&&(this.__cbOnceUpdate=[]),this.__cbOnceUpdate.push(t)},offUpdate:function(e){if(null!=e){var n;null!=this.__cbOnUpdate&&-1!=(n=this.__cbOnUpdate.indexOf(e))&&(this.__cbOnUpdate.splice(n,1),null!=(s=this.__cbOnOwnerUnbindUpdate[n])&&s(),this.__cbOnOwnerUnbindUpdate.splice(n,1)),null!=this.__cbOnceUpdate&&-1!=(n=this.__cbOnceUpdate.indexOf(e))&&(this.__cbOnceUpdate.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindUpdate[n])&&s(),this.__cbOnceOwnerUnbindUpdate.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindUpdate){for(var t=0,i=this.__cbOnOwnerUnbindUpdate.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindUpdate[l])&&s()}this.__cbOnOwnerUnbindUpdate=null}if(null!=this.__cbOnceOwnerUnbindUpdate){for(t=0,i=this.__cbOnceOwnerUnbindUpdate.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindUpdate[l])&&s()}this.__cbOnceOwnerUnbindUpdate=null}this.__cbOnUpdate=null,this.__cbOnceUpdate=null}},listensUpdate:function(){return null!=this.__cbOnUpdate&&0<this.__cbOnUpdate.length||null!=this.__cbOnceUpdate&&0<this.__cbOnceUpdate.length},__cbOnPreUpdate:null,__cbOncePreUpdate:null,__cbOnOwnerUnbindPreUpdate:null,__cbOnceOwnerUnbindPreUpdate:null,emitPreUpdate:function(e){var n=0;if(null!=this.__cbOnPreUpdate&&(n+=this.__cbOnPreUpdate.length),null!=this.__cbOncePreUpdate&&(n+=this.__cbOncePreUpdate.length),0<n){var t=C.pool(n),i=t.get(),l=0;if(null!=this.__cbOnPreUpdate)for(var s=0,r=this.__cbOnPreUpdate.length;s<r;){var h=s++;!0?(i.vector[l]=this.__cbOnPreUpdate[h],++l):--n}if(null!=this.__cbOncePreUpdate){for(var a=null,o=null,s=0,r=this.__cbOncePreUpdate.length;s<r;){var c,h=s++;!0?(i.vector[l]=this.__cbOncePreUpdate[h],this.__cbOncePreUpdate[h]=null,c=this.__cbOnceOwnerUnbindPreUpdate[h],(this.__cbOnceOwnerUnbindPreUpdate[h]=null)!=c&&c(),++l):(--n,null==a&&(a=[],o=[],0),a.push(this.__cbOnceOwnerUnbindPreUpdate[h]),o.push(this.__cbOncePreUpdate[h]))}this.__cbOnceOwnerUnbindPreUpdate=a,this.__cbOncePreUpdate=o}for(s=0,r=n;s<r;){l=s++;(0,i.vector[l])(e)}t.release(i)}},onPreUpdate:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event preUpdate because owner is destroyed!");var l=function(e){null!=t&&(i.offPreUpdate(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindPreUpdate&&(this.__cbOnOwnerUnbindPreUpdate=[]),this.__cbOnOwnerUnbindPreUpdate.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindPreUpdate&&(this.__cbOnOwnerUnbindPreUpdate=[]),this.__cbOnOwnerUnbindPreUpdate.push(null);null==this.__cbOnPreUpdate&&(this.__cbOnPreUpdate=[]),this.__cbOnPreUpdate.push(t)},oncePreUpdate:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event preUpdate because owner is destroyed!");var l=function(e){null!=t&&(i.offPreUpdate(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindPreUpdate&&(this.__cbOnceOwnerUnbindPreUpdate=[]),this.__cbOnceOwnerUnbindPreUpdate.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindPreUpdate&&(this.__cbOnceOwnerUnbindPreUpdate=[]),this.__cbOnceOwnerUnbindPreUpdate.push(null);null==this.__cbOncePreUpdate&&(this.__cbOncePreUpdate=[]),this.__cbOncePreUpdate.push(t)},offPreUpdate:function(e){if(null!=e){var n;null!=this.__cbOnPreUpdate&&-1!=(n=this.__cbOnPreUpdate.indexOf(e))&&(this.__cbOnPreUpdate.splice(n,1),null!=(s=this.__cbOnOwnerUnbindPreUpdate[n])&&s(),this.__cbOnOwnerUnbindPreUpdate.splice(n,1)),null!=this.__cbOncePreUpdate&&-1!=(n=this.__cbOncePreUpdate.indexOf(e))&&(this.__cbOncePreUpdate.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindPreUpdate[n])&&s(),this.__cbOnceOwnerUnbindPreUpdate.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindPreUpdate){for(var t=0,i=this.__cbOnOwnerUnbindPreUpdate.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindPreUpdate[l])&&s()}this.__cbOnOwnerUnbindPreUpdate=null}if(null!=this.__cbOnceOwnerUnbindPreUpdate){for(t=0,i=this.__cbOnceOwnerUnbindPreUpdate.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindPreUpdate[l])&&s()}this.__cbOnceOwnerUnbindPreUpdate=null}this.__cbOnPreUpdate=null,this.__cbOncePreUpdate=null}},listensPreUpdate:function(){return null!=this.__cbOnPreUpdate&&0<this.__cbOnPreUpdate.length||null!=this.__cbOncePreUpdate&&0<this.__cbOncePreUpdate.length},__cbOnPostUpdate:null,__cbOncePostUpdate:null,__cbOnOwnerUnbindPostUpdate:null,__cbOnceOwnerUnbindPostUpdate:null,emitPostUpdate:function(e){var n=0;if(null!=this.__cbOnPostUpdate&&(n+=this.__cbOnPostUpdate.length),null!=this.__cbOncePostUpdate&&(n+=this.__cbOncePostUpdate.length),0<n){var t=C.pool(n),i=t.get(),l=0;if(null!=this.__cbOnPostUpdate)for(var s=0,r=this.__cbOnPostUpdate.length;s<r;){var h=s++;!0?(i.vector[l]=this.__cbOnPostUpdate[h],++l):--n}if(null!=this.__cbOncePostUpdate){for(var a=null,o=null,s=0,r=this.__cbOncePostUpdate.length;s<r;){var c,h=s++;!0?(i.vector[l]=this.__cbOncePostUpdate[h],this.__cbOncePostUpdate[h]=null,c=this.__cbOnceOwnerUnbindPostUpdate[h],(this.__cbOnceOwnerUnbindPostUpdate[h]=null)!=c&&c(),++l):(--n,null==a&&(a=[],o=[],0),a.push(this.__cbOnceOwnerUnbindPostUpdate[h]),o.push(this.__cbOncePostUpdate[h]))}this.__cbOnceOwnerUnbindPostUpdate=a,this.__cbOncePostUpdate=o}for(s=0,r=n;s<r;){l=s++;(0,i.vector[l])(e)}t.release(i)}},onPostUpdate:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event postUpdate because owner is destroyed!");var l=function(e){null!=t&&(i.offPostUpdate(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindPostUpdate&&(this.__cbOnOwnerUnbindPostUpdate=[]),this.__cbOnOwnerUnbindPostUpdate.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindPostUpdate&&(this.__cbOnOwnerUnbindPostUpdate=[]),this.__cbOnOwnerUnbindPostUpdate.push(null);null==this.__cbOnPostUpdate&&(this.__cbOnPostUpdate=[]),this.__cbOnPostUpdate.push(t)},oncePostUpdate:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event postUpdate because owner is destroyed!");var l=function(e){null!=t&&(i.offPostUpdate(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindPostUpdate&&(this.__cbOnceOwnerUnbindPostUpdate=[]),this.__cbOnceOwnerUnbindPostUpdate.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindPostUpdate&&(this.__cbOnceOwnerUnbindPostUpdate=[]),this.__cbOnceOwnerUnbindPostUpdate.push(null);null==this.__cbOncePostUpdate&&(this.__cbOncePostUpdate=[]),this.__cbOncePostUpdate.push(t)},offPostUpdate:function(e){if(null!=e){var n;null!=this.__cbOnPostUpdate&&-1!=(n=this.__cbOnPostUpdate.indexOf(e))&&(this.__cbOnPostUpdate.splice(n,1),null!=(s=this.__cbOnOwnerUnbindPostUpdate[n])&&s(),this.__cbOnOwnerUnbindPostUpdate.splice(n,1)),null!=this.__cbOncePostUpdate&&-1!=(n=this.__cbOncePostUpdate.indexOf(e))&&(this.__cbOncePostUpdate.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindPostUpdate[n])&&s(),this.__cbOnceOwnerUnbindPostUpdate.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindPostUpdate){for(var t=0,i=this.__cbOnOwnerUnbindPostUpdate.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindPostUpdate[l])&&s()}this.__cbOnOwnerUnbindPostUpdate=null}if(null!=this.__cbOnceOwnerUnbindPostUpdate){for(t=0,i=this.__cbOnceOwnerUnbindPostUpdate.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindPostUpdate[l])&&s()}this.__cbOnceOwnerUnbindPostUpdate=null}this.__cbOnPostUpdate=null,this.__cbOncePostUpdate=null}},listensPostUpdate:function(){return null!=this.__cbOnPostUpdate&&0<this.__cbOnPostUpdate.length||null!=this.__cbOncePostUpdate&&0<this.__cbOncePostUpdate.length},__cbOnDefaultAssetsLoad:null,__cbOnceDefaultAssetsLoad:null,__cbOnOwnerUnbindDefaultAssetsLoad:null,__cbOnceOwnerUnbindDefaultAssetsLoad:null,emitDefaultAssetsLoad:function(e){var n=0;if(null!=this.__cbOnDefaultAssetsLoad&&(n+=this.__cbOnDefaultAssetsLoad.length),null!=this.__cbOnceDefaultAssetsLoad&&(n+=this.__cbOnceDefaultAssetsLoad.length),0<n){var t=C.pool(n),i=t.get(),l=0;if(null!=this.__cbOnDefaultAssetsLoad)for(var s=0,r=this.__cbOnDefaultAssetsLoad.length;s<r;){var h=s++;!0?(i.vector[l]=this.__cbOnDefaultAssetsLoad[h],++l):--n}if(null!=this.__cbOnceDefaultAssetsLoad){for(var a=null,o=null,s=0,r=this.__cbOnceDefaultAssetsLoad.length;s<r;){var c,h=s++;!0?(i.vector[l]=this.__cbOnceDefaultAssetsLoad[h],this.__cbOnceDefaultAssetsLoad[h]=null,c=this.__cbOnceOwnerUnbindDefaultAssetsLoad[h],(this.__cbOnceOwnerUnbindDefaultAssetsLoad[h]=null)!=c&&c(),++l):(--n,null==a&&(a=[],o=[],0),a.push(this.__cbOnceOwnerUnbindDefaultAssetsLoad[h]),o.push(this.__cbOnceDefaultAssetsLoad[h]))}this.__cbOnceOwnerUnbindDefaultAssetsLoad=a,this.__cbOnceDefaultAssetsLoad=o}for(s=0,r=n;s<r;){l=s++;(0,i.vector[l])(e)}t.release(i)}},onDefaultAssetsLoad:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event defaultAssetsLoad because owner is destroyed!");var l=function(e){null!=t&&(i.offDefaultAssetsLoad(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindDefaultAssetsLoad&&(this.__cbOnOwnerUnbindDefaultAssetsLoad=[]),this.__cbOnOwnerUnbindDefaultAssetsLoad.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindDefaultAssetsLoad&&(this.__cbOnOwnerUnbindDefaultAssetsLoad=[]),this.__cbOnOwnerUnbindDefaultAssetsLoad.push(null);null==this.__cbOnDefaultAssetsLoad&&(this.__cbOnDefaultAssetsLoad=[]),this.__cbOnDefaultAssetsLoad.push(t)},onceDefaultAssetsLoad:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event defaultAssetsLoad because owner is destroyed!");var l=function(e){null!=t&&(i.offDefaultAssetsLoad(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindDefaultAssetsLoad&&(this.__cbOnceOwnerUnbindDefaultAssetsLoad=[]),this.__cbOnceOwnerUnbindDefaultAssetsLoad.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindDefaultAssetsLoad&&(this.__cbOnceOwnerUnbindDefaultAssetsLoad=[]),this.__cbOnceOwnerUnbindDefaultAssetsLoad.push(null);null==this.__cbOnceDefaultAssetsLoad&&(this.__cbOnceDefaultAssetsLoad=[]),this.__cbOnceDefaultAssetsLoad.push(t)},offDefaultAssetsLoad:function(e){if(null!=e){var n;null!=this.__cbOnDefaultAssetsLoad&&-1!=(n=this.__cbOnDefaultAssetsLoad.indexOf(e))&&(this.__cbOnDefaultAssetsLoad.splice(n,1),null!=(s=this.__cbOnOwnerUnbindDefaultAssetsLoad[n])&&s(),this.__cbOnOwnerUnbindDefaultAssetsLoad.splice(n,1)),null!=this.__cbOnceDefaultAssetsLoad&&-1!=(n=this.__cbOnceDefaultAssetsLoad.indexOf(e))&&(this.__cbOnceDefaultAssetsLoad.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindDefaultAssetsLoad[n])&&s(),this.__cbOnceOwnerUnbindDefaultAssetsLoad.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindDefaultAssetsLoad){for(var t=0,i=this.__cbOnOwnerUnbindDefaultAssetsLoad.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindDefaultAssetsLoad[l])&&s()}this.__cbOnOwnerUnbindDefaultAssetsLoad=null}if(null!=this.__cbOnceOwnerUnbindDefaultAssetsLoad){for(t=0,i=this.__cbOnceOwnerUnbindDefaultAssetsLoad.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindDefaultAssetsLoad[l])&&s()}this.__cbOnceOwnerUnbindDefaultAssetsLoad=null}this.__cbOnDefaultAssetsLoad=null,this.__cbOnceDefaultAssetsLoad=null}},listensDefaultAssetsLoad:function(){return null!=this.__cbOnDefaultAssetsLoad&&0<this.__cbOnDefaultAssetsLoad.length||null!=this.__cbOnceDefaultAssetsLoad&&0<this.__cbOnceDefaultAssetsLoad.length},__cbOnCriticalError:null,__cbOnceCriticalError:null,__cbOnOwnerUnbindCriticalError:null,__cbOnceOwnerUnbindCriticalError:null,emitCriticalError:function(e,n){var t=0;if(null!=this.__cbOnCriticalError&&(t+=this.__cbOnCriticalError.length),null!=this.__cbOnceCriticalError&&(t+=this.__cbOnceCriticalError.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnCriticalError)for(var r=0,h=this.__cbOnCriticalError.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnCriticalError[a],++s):--t}if(null!=this.__cbOnceCriticalError){for(var o=null,c=null,r=0,h=this.__cbOnceCriticalError.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceCriticalError[a],this.__cbOnceCriticalError[a]=null,u=this.__cbOnceOwnerUnbindCriticalError[a],(this.__cbOnceOwnerUnbindCriticalError[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindCriticalError[a]),c.push(this.__cbOnceCriticalError[a]))}this.__cbOnceOwnerUnbindCriticalError=o,this.__cbOnceCriticalError=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onCriticalError:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event criticalError because owner is destroyed!");var l=function(e){null!=t&&(i.offCriticalError(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindCriticalError&&(this.__cbOnOwnerUnbindCriticalError=[]),this.__cbOnOwnerUnbindCriticalError.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindCriticalError&&(this.__cbOnOwnerUnbindCriticalError=[]),this.__cbOnOwnerUnbindCriticalError.push(null);null==this.__cbOnCriticalError&&(this.__cbOnCriticalError=[]),this.__cbOnCriticalError.push(t)},onceCriticalError:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event criticalError because owner is destroyed!");var l=function(e){null!=t&&(i.offCriticalError(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindCriticalError&&(this.__cbOnceOwnerUnbindCriticalError=[]),this.__cbOnceOwnerUnbindCriticalError.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindCriticalError&&(this.__cbOnceOwnerUnbindCriticalError=[]),this.__cbOnceOwnerUnbindCriticalError.push(null);null==this.__cbOnceCriticalError&&(this.__cbOnceCriticalError=[]),this.__cbOnceCriticalError.push(t)},offCriticalError:function(e){if(null!=e){var n;null!=this.__cbOnCriticalError&&-1!=(n=this.__cbOnCriticalError.indexOf(e))&&(this.__cbOnCriticalError.splice(n,1),null!=(s=this.__cbOnOwnerUnbindCriticalError[n])&&s(),this.__cbOnOwnerUnbindCriticalError.splice(n,1)),null!=this.__cbOnceCriticalError&&-1!=(n=this.__cbOnceCriticalError.indexOf(e))&&(this.__cbOnceCriticalError.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindCriticalError[n])&&s(),this.__cbOnceOwnerUnbindCriticalError.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindCriticalError){for(var t=0,i=this.__cbOnOwnerUnbindCriticalError.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindCriticalError[l])&&s()}this.__cbOnOwnerUnbindCriticalError=null}if(null!=this.__cbOnceOwnerUnbindCriticalError){for(t=0,i=this.__cbOnceOwnerUnbindCriticalError.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindCriticalError[l])&&s()}this.__cbOnceOwnerUnbindCriticalError=null}this.__cbOnCriticalError=null,this.__cbOnceCriticalError=null}},listensCriticalError:function(){return null!=this.__cbOnCriticalError&&0<this.__cbOnCriticalError.length||null!=this.__cbOnceCriticalError&&0<this.__cbOnceCriticalError.length},__cbOnBeginEnterBackground:null,__cbOnceBeginEnterBackground:null,__cbOnOwnerUnbindBeginEnterBackground:null,__cbOnceOwnerUnbindBeginEnterBackground:null,emitBeginEnterBackground:function(){var e=0;if(null!=this.__cbOnBeginEnterBackground&&(e+=this.__cbOnBeginEnterBackground.length),null!=this.__cbOnceBeginEnterBackground&&(e+=this.__cbOnceBeginEnterBackground.length),0<e){var n=C.pool(e),t=n.get(),i=0;if(null!=this.__cbOnBeginEnterBackground)for(var l=0,s=this.__cbOnBeginEnterBackground.length;l<s;){var r=l++;!0?(t.vector[i]=this.__cbOnBeginEnterBackground[r],++i):--e}if(null!=this.__cbOnceBeginEnterBackground){for(var h=null,a=null,l=0,s=this.__cbOnceBeginEnterBackground.length;l<s;){var o,r=l++;!0?(t.vector[i]=this.__cbOnceBeginEnterBackground[r],this.__cbOnceBeginEnterBackground[r]=null,o=this.__cbOnceOwnerUnbindBeginEnterBackground[r],(this.__cbOnceOwnerUnbindBeginEnterBackground[r]=null)!=o&&o(),++i):(--e,null==h&&(h=[],a=[],0),h.push(this.__cbOnceOwnerUnbindBeginEnterBackground[r]),a.push(this.__cbOnceBeginEnterBackground[r]))}this.__cbOnceOwnerUnbindBeginEnterBackground=h,this.__cbOnceBeginEnterBackground=a}for(l=0,s=e;l<s;){i=l++;(0,t.vector[i])()}n.release(t)}},onBeginEnterBackground:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event beginEnterBackground because owner is destroyed!");var l=function(e){null!=t&&(i.offBeginEnterBackground(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindBeginEnterBackground&&(this.__cbOnOwnerUnbindBeginEnterBackground=[]),this.__cbOnOwnerUnbindBeginEnterBackground.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindBeginEnterBackground&&(this.__cbOnOwnerUnbindBeginEnterBackground=[]),this.__cbOnOwnerUnbindBeginEnterBackground.push(null);null==this.__cbOnBeginEnterBackground&&(this.__cbOnBeginEnterBackground=[]),this.__cbOnBeginEnterBackground.push(t)},onceBeginEnterBackground:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event beginEnterBackground because owner is destroyed!");var l=function(e){null!=t&&(i.offBeginEnterBackground(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindBeginEnterBackground&&(this.__cbOnceOwnerUnbindBeginEnterBackground=[]),this.__cbOnceOwnerUnbindBeginEnterBackground.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindBeginEnterBackground&&(this.__cbOnceOwnerUnbindBeginEnterBackground=[]),this.__cbOnceOwnerUnbindBeginEnterBackground.push(null);null==this.__cbOnceBeginEnterBackground&&(this.__cbOnceBeginEnterBackground=[]),this.__cbOnceBeginEnterBackground.push(t)},offBeginEnterBackground:function(e){if(null!=e){var n;null!=this.__cbOnBeginEnterBackground&&-1!=(n=this.__cbOnBeginEnterBackground.indexOf(e))&&(this.__cbOnBeginEnterBackground.splice(n,1),null!=(s=this.__cbOnOwnerUnbindBeginEnterBackground[n])&&s(),this.__cbOnOwnerUnbindBeginEnterBackground.splice(n,1)),null!=this.__cbOnceBeginEnterBackground&&-1!=(n=this.__cbOnceBeginEnterBackground.indexOf(e))&&(this.__cbOnceBeginEnterBackground.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindBeginEnterBackground[n])&&s(),this.__cbOnceOwnerUnbindBeginEnterBackground.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindBeginEnterBackground){for(var t=0,i=this.__cbOnOwnerUnbindBeginEnterBackground.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindBeginEnterBackground[l])&&s()}this.__cbOnOwnerUnbindBeginEnterBackground=null}if(null!=this.__cbOnceOwnerUnbindBeginEnterBackground){for(t=0,i=this.__cbOnceOwnerUnbindBeginEnterBackground.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindBeginEnterBackground[l])&&s()}this.__cbOnceOwnerUnbindBeginEnterBackground=null}this.__cbOnBeginEnterBackground=null,this.__cbOnceBeginEnterBackground=null}},listensBeginEnterBackground:function(){return null!=this.__cbOnBeginEnterBackground&&0<this.__cbOnBeginEnterBackground.length||null!=this.__cbOnceBeginEnterBackground&&0<this.__cbOnceBeginEnterBackground.length},__cbOnFinishEnterBackground:null,__cbOnceFinishEnterBackground:null,__cbOnOwnerUnbindFinishEnterBackground:null,__cbOnceOwnerUnbindFinishEnterBackground:null,emitFinishEnterBackground:function(){var e=0;if(null!=this.__cbOnFinishEnterBackground&&(e+=this.__cbOnFinishEnterBackground.length),null!=this.__cbOnceFinishEnterBackground&&(e+=this.__cbOnceFinishEnterBackground.length),0<e){var n=C.pool(e),t=n.get(),i=0;if(null!=this.__cbOnFinishEnterBackground)for(var l=0,s=this.__cbOnFinishEnterBackground.length;l<s;){var r=l++;!0?(t.vector[i]=this.__cbOnFinishEnterBackground[r],++i):--e}if(null!=this.__cbOnceFinishEnterBackground){for(var h=null,a=null,l=0,s=this.__cbOnceFinishEnterBackground.length;l<s;){var o,r=l++;!0?(t.vector[i]=this.__cbOnceFinishEnterBackground[r],this.__cbOnceFinishEnterBackground[r]=null,o=this.__cbOnceOwnerUnbindFinishEnterBackground[r],(this.__cbOnceOwnerUnbindFinishEnterBackground[r]=null)!=o&&o(),++i):(--e,null==h&&(h=[],a=[],0),h.push(this.__cbOnceOwnerUnbindFinishEnterBackground[r]),a.push(this.__cbOnceFinishEnterBackground[r]))}this.__cbOnceOwnerUnbindFinishEnterBackground=h,this.__cbOnceFinishEnterBackground=a}for(l=0,s=e;l<s;){i=l++;(0,t.vector[i])()}n.release(t)}},onFinishEnterBackground:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event finishEnterBackground because owner is destroyed!");var l=function(e){null!=t&&(i.offFinishEnterBackground(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindFinishEnterBackground&&(this.__cbOnOwnerUnbindFinishEnterBackground=[]),this.__cbOnOwnerUnbindFinishEnterBackground.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindFinishEnterBackground&&(this.__cbOnOwnerUnbindFinishEnterBackground=[]),this.__cbOnOwnerUnbindFinishEnterBackground.push(null);null==this.__cbOnFinishEnterBackground&&(this.__cbOnFinishEnterBackground=[]),this.__cbOnFinishEnterBackground.push(t)},onceFinishEnterBackground:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event finishEnterBackground because owner is destroyed!");var l=function(e){null!=t&&(i.offFinishEnterBackground(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindFinishEnterBackground&&(this.__cbOnceOwnerUnbindFinishEnterBackground=[]),this.__cbOnceOwnerUnbindFinishEnterBackground.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindFinishEnterBackground&&(this.__cbOnceOwnerUnbindFinishEnterBackground=[]),this.__cbOnceOwnerUnbindFinishEnterBackground.push(null);null==this.__cbOnceFinishEnterBackground&&(this.__cbOnceFinishEnterBackground=[]),this.__cbOnceFinishEnterBackground.push(t)},offFinishEnterBackground:function(e){if(null!=e){var n;null!=this.__cbOnFinishEnterBackground&&-1!=(n=this.__cbOnFinishEnterBackground.indexOf(e))&&(this.__cbOnFinishEnterBackground.splice(n,1),null!=(s=this.__cbOnOwnerUnbindFinishEnterBackground[n])&&s(),this.__cbOnOwnerUnbindFinishEnterBackground.splice(n,1)),null!=this.__cbOnceFinishEnterBackground&&-1!=(n=this.__cbOnceFinishEnterBackground.indexOf(e))&&(this.__cbOnceFinishEnterBackground.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindFinishEnterBackground[n])&&s(),this.__cbOnceOwnerUnbindFinishEnterBackground.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindFinishEnterBackground){for(var t=0,i=this.__cbOnOwnerUnbindFinishEnterBackground.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindFinishEnterBackground[l])&&s()}this.__cbOnOwnerUnbindFinishEnterBackground=null}if(null!=this.__cbOnceOwnerUnbindFinishEnterBackground){for(t=0,i=this.__cbOnceOwnerUnbindFinishEnterBackground.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindFinishEnterBackground[l])&&s()}this.__cbOnceOwnerUnbindFinishEnterBackground=null}this.__cbOnFinishEnterBackground=null,this.__cbOnceFinishEnterBackground=null}},listensFinishEnterBackground:function(){return null!=this.__cbOnFinishEnterBackground&&0<this.__cbOnFinishEnterBackground.length||null!=this.__cbOnceFinishEnterBackground&&0<this.__cbOnceFinishEnterBackground.length},__cbOnBeginEnterForeground:null,__cbOnceBeginEnterForeground:null,__cbOnOwnerUnbindBeginEnterForeground:null,__cbOnceOwnerUnbindBeginEnterForeground:null,emitBeginEnterForeground:function(){var e=0;if(null!=this.__cbOnBeginEnterForeground&&(e+=this.__cbOnBeginEnterForeground.length),null!=this.__cbOnceBeginEnterForeground&&(e+=this.__cbOnceBeginEnterForeground.length),0<e){var n=C.pool(e),t=n.get(),i=0;if(null!=this.__cbOnBeginEnterForeground)for(var l=0,s=this.__cbOnBeginEnterForeground.length;l<s;){var r=l++;!0?(t.vector[i]=this.__cbOnBeginEnterForeground[r],++i):--e}if(null!=this.__cbOnceBeginEnterForeground){for(var h=null,a=null,l=0,s=this.__cbOnceBeginEnterForeground.length;l<s;){var o,r=l++;!0?(t.vector[i]=this.__cbOnceBeginEnterForeground[r],this.__cbOnceBeginEnterForeground[r]=null,o=this.__cbOnceOwnerUnbindBeginEnterForeground[r],(this.__cbOnceOwnerUnbindBeginEnterForeground[r]=null)!=o&&o(),++i):(--e,null==h&&(h=[],a=[],0),h.push(this.__cbOnceOwnerUnbindBeginEnterForeground[r]),a.push(this.__cbOnceBeginEnterForeground[r]))}this.__cbOnceOwnerUnbindBeginEnterForeground=h,this.__cbOnceBeginEnterForeground=a}for(l=0,s=e;l<s;){i=l++;(0,t.vector[i])()}n.release(t)}},onBeginEnterForeground:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event beginEnterForeground because owner is destroyed!");var l=function(e){null!=t&&(i.offBeginEnterForeground(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindBeginEnterForeground&&(this.__cbOnOwnerUnbindBeginEnterForeground=[]),this.__cbOnOwnerUnbindBeginEnterForeground.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindBeginEnterForeground&&(this.__cbOnOwnerUnbindBeginEnterForeground=[]),this.__cbOnOwnerUnbindBeginEnterForeground.push(null);null==this.__cbOnBeginEnterForeground&&(this.__cbOnBeginEnterForeground=[]),this.__cbOnBeginEnterForeground.push(t)},onceBeginEnterForeground:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event beginEnterForeground because owner is destroyed!");var l=function(e){null!=t&&(i.offBeginEnterForeground(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindBeginEnterForeground&&(this.__cbOnceOwnerUnbindBeginEnterForeground=[]),this.__cbOnceOwnerUnbindBeginEnterForeground.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindBeginEnterForeground&&(this.__cbOnceOwnerUnbindBeginEnterForeground=[]),this.__cbOnceOwnerUnbindBeginEnterForeground.push(null);null==this.__cbOnceBeginEnterForeground&&(this.__cbOnceBeginEnterForeground=[]),this.__cbOnceBeginEnterForeground.push(t)},offBeginEnterForeground:function(e){if(null!=e){var n;null!=this.__cbOnBeginEnterForeground&&-1!=(n=this.__cbOnBeginEnterForeground.indexOf(e))&&(this.__cbOnBeginEnterForeground.splice(n,1),null!=(s=this.__cbOnOwnerUnbindBeginEnterForeground[n])&&s(),this.__cbOnOwnerUnbindBeginEnterForeground.splice(n,1)),null!=this.__cbOnceBeginEnterForeground&&-1!=(n=this.__cbOnceBeginEnterForeground.indexOf(e))&&(this.__cbOnceBeginEnterForeground.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindBeginEnterForeground[n])&&s(),this.__cbOnceOwnerUnbindBeginEnterForeground.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindBeginEnterForeground){for(var t=0,i=this.__cbOnOwnerUnbindBeginEnterForeground.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindBeginEnterForeground[l])&&s()}this.__cbOnOwnerUnbindBeginEnterForeground=null}if(null!=this.__cbOnceOwnerUnbindBeginEnterForeground){for(t=0,i=this.__cbOnceOwnerUnbindBeginEnterForeground.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindBeginEnterForeground[l])&&s()}this.__cbOnceOwnerUnbindBeginEnterForeground=null}this.__cbOnBeginEnterForeground=null,this.__cbOnceBeginEnterForeground=null}},listensBeginEnterForeground:function(){return null!=this.__cbOnBeginEnterForeground&&0<this.__cbOnBeginEnterForeground.length||null!=this.__cbOnceBeginEnterForeground&&0<this.__cbOnceBeginEnterForeground.length},__cbOnFinishEnterForeground:null,__cbOnceFinishEnterForeground:null,__cbOnOwnerUnbindFinishEnterForeground:null,__cbOnceOwnerUnbindFinishEnterForeground:null,emitFinishEnterForeground:function(){var e=0;if(null!=this.__cbOnFinishEnterForeground&&(e+=this.__cbOnFinishEnterForeground.length),null!=this.__cbOnceFinishEnterForeground&&(e+=this.__cbOnceFinishEnterForeground.length),0<e){var n=C.pool(e),t=n.get(),i=0;if(null!=this.__cbOnFinishEnterForeground)for(var l=0,s=this.__cbOnFinishEnterForeground.length;l<s;){var r=l++;!0?(t.vector[i]=this.__cbOnFinishEnterForeground[r],++i):--e}if(null!=this.__cbOnceFinishEnterForeground){for(var h=null,a=null,l=0,s=this.__cbOnceFinishEnterForeground.length;l<s;){var o,r=l++;!0?(t.vector[i]=this.__cbOnceFinishEnterForeground[r],this.__cbOnceFinishEnterForeground[r]=null,o=this.__cbOnceOwnerUnbindFinishEnterForeground[r],(this.__cbOnceOwnerUnbindFinishEnterForeground[r]=null)!=o&&o(),++i):(--e,null==h&&(h=[],a=[],0),h.push(this.__cbOnceOwnerUnbindFinishEnterForeground[r]),a.push(this.__cbOnceFinishEnterForeground[r]))}this.__cbOnceOwnerUnbindFinishEnterForeground=h,this.__cbOnceFinishEnterForeground=a}for(l=0,s=e;l<s;){i=l++;(0,t.vector[i])()}n.release(t)}},onFinishEnterForeground:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event finishEnterForeground because owner is destroyed!");var l=function(e){null!=t&&(i.offFinishEnterForeground(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindFinishEnterForeground&&(this.__cbOnOwnerUnbindFinishEnterForeground=[]),this.__cbOnOwnerUnbindFinishEnterForeground.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindFinishEnterForeground&&(this.__cbOnOwnerUnbindFinishEnterForeground=[]),this.__cbOnOwnerUnbindFinishEnterForeground.push(null);null==this.__cbOnFinishEnterForeground&&(this.__cbOnFinishEnterForeground=[]),this.__cbOnFinishEnterForeground.push(t)},onceFinishEnterForeground:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event finishEnterForeground because owner is destroyed!");var l=function(e){null!=t&&(i.offFinishEnterForeground(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindFinishEnterForeground&&(this.__cbOnceOwnerUnbindFinishEnterForeground=[]),this.__cbOnceOwnerUnbindFinishEnterForeground.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindFinishEnterForeground&&(this.__cbOnceOwnerUnbindFinishEnterForeground=[]),this.__cbOnceOwnerUnbindFinishEnterForeground.push(null);null==this.__cbOnceFinishEnterForeground&&(this.__cbOnceFinishEnterForeground=[]),this.__cbOnceFinishEnterForeground.push(t)},offFinishEnterForeground:function(e){if(null!=e){var n;null!=this.__cbOnFinishEnterForeground&&-1!=(n=this.__cbOnFinishEnterForeground.indexOf(e))&&(this.__cbOnFinishEnterForeground.splice(n,1),null!=(s=this.__cbOnOwnerUnbindFinishEnterForeground[n])&&s(),this.__cbOnOwnerUnbindFinishEnterForeground.splice(n,1)),null!=this.__cbOnceFinishEnterForeground&&-1!=(n=this.__cbOnceFinishEnterForeground.indexOf(e))&&(this.__cbOnceFinishEnterForeground.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindFinishEnterForeground[n])&&s(),this.__cbOnceOwnerUnbindFinishEnterForeground.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindFinishEnterForeground){for(var t=0,i=this.__cbOnOwnerUnbindFinishEnterForeground.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindFinishEnterForeground[l])&&s()}this.__cbOnOwnerUnbindFinishEnterForeground=null}if(null!=this.__cbOnceOwnerUnbindFinishEnterForeground){for(t=0,i=this.__cbOnceOwnerUnbindFinishEnterForeground.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindFinishEnterForeground[l])&&s()}this.__cbOnceOwnerUnbindFinishEnterForeground=null}this.__cbOnFinishEnterForeground=null,this.__cbOnceFinishEnterForeground=null}},listensFinishEnterForeground:function(){return null!=this.__cbOnFinishEnterForeground&&0<this.__cbOnFinishEnterForeground.length||null!=this.__cbOnceFinishEnterForeground&&0<this.__cbOnceFinishEnterForeground.length},__cbOnBeginSortVisuals:null,__cbOnceBeginSortVisuals:null,__cbOnOwnerUnbindBeginSortVisuals:null,__cbOnceOwnerUnbindBeginSortVisuals:null,emitBeginSortVisuals:function(){var e=0;if(null!=this.__cbOnBeginSortVisuals&&(e+=this.__cbOnBeginSortVisuals.length),null!=this.__cbOnceBeginSortVisuals&&(e+=this.__cbOnceBeginSortVisuals.length),0<e){var n=C.pool(e),t=n.get(),i=0;if(null!=this.__cbOnBeginSortVisuals)for(var l=0,s=this.__cbOnBeginSortVisuals.length;l<s;){var r=l++;!0?(t.vector[i]=this.__cbOnBeginSortVisuals[r],++i):--e}if(null!=this.__cbOnceBeginSortVisuals){for(var h=null,a=null,l=0,s=this.__cbOnceBeginSortVisuals.length;l<s;){var o,r=l++;!0?(t.vector[i]=this.__cbOnceBeginSortVisuals[r],this.__cbOnceBeginSortVisuals[r]=null,o=this.__cbOnceOwnerUnbindBeginSortVisuals[r],(this.__cbOnceOwnerUnbindBeginSortVisuals[r]=null)!=o&&o(),++i):(--e,null==h&&(h=[],a=[],0),h.push(this.__cbOnceOwnerUnbindBeginSortVisuals[r]),a.push(this.__cbOnceBeginSortVisuals[r]))}this.__cbOnceOwnerUnbindBeginSortVisuals=h,this.__cbOnceBeginSortVisuals=a}for(l=0,s=e;l<s;){i=l++;(0,t.vector[i])()}n.release(t)}},onBeginSortVisuals:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event beginSortVisuals because owner is destroyed!");var l=function(e){null!=t&&(i.offBeginSortVisuals(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindBeginSortVisuals&&(this.__cbOnOwnerUnbindBeginSortVisuals=[]),this.__cbOnOwnerUnbindBeginSortVisuals.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindBeginSortVisuals&&(this.__cbOnOwnerUnbindBeginSortVisuals=[]),this.__cbOnOwnerUnbindBeginSortVisuals.push(null);null==this.__cbOnBeginSortVisuals&&(this.__cbOnBeginSortVisuals=[]),this.__cbOnBeginSortVisuals.push(t)},onceBeginSortVisuals:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event beginSortVisuals because owner is destroyed!");var l=function(e){null!=t&&(i.offBeginSortVisuals(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindBeginSortVisuals&&(this.__cbOnceOwnerUnbindBeginSortVisuals=[]),this.__cbOnceOwnerUnbindBeginSortVisuals.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindBeginSortVisuals&&(this.__cbOnceOwnerUnbindBeginSortVisuals=[]),this.__cbOnceOwnerUnbindBeginSortVisuals.push(null);null==this.__cbOnceBeginSortVisuals&&(this.__cbOnceBeginSortVisuals=[]),this.__cbOnceBeginSortVisuals.push(t)},offBeginSortVisuals:function(e){if(null!=e){var n;null!=this.__cbOnBeginSortVisuals&&-1!=(n=this.__cbOnBeginSortVisuals.indexOf(e))&&(this.__cbOnBeginSortVisuals.splice(n,1),null!=(s=this.__cbOnOwnerUnbindBeginSortVisuals[n])&&s(),this.__cbOnOwnerUnbindBeginSortVisuals.splice(n,1)),null!=this.__cbOnceBeginSortVisuals&&-1!=(n=this.__cbOnceBeginSortVisuals.indexOf(e))&&(this.__cbOnceBeginSortVisuals.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindBeginSortVisuals[n])&&s(),this.__cbOnceOwnerUnbindBeginSortVisuals.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindBeginSortVisuals){for(var t=0,i=this.__cbOnOwnerUnbindBeginSortVisuals.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindBeginSortVisuals[l])&&s()}this.__cbOnOwnerUnbindBeginSortVisuals=null}if(null!=this.__cbOnceOwnerUnbindBeginSortVisuals){for(t=0,i=this.__cbOnceOwnerUnbindBeginSortVisuals.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindBeginSortVisuals[l])&&s()}this.__cbOnceOwnerUnbindBeginSortVisuals=null}this.__cbOnBeginSortVisuals=null,this.__cbOnceBeginSortVisuals=null}},listensBeginSortVisuals:function(){return null!=this.__cbOnBeginSortVisuals&&0<this.__cbOnBeginSortVisuals.length||null!=this.__cbOnceBeginSortVisuals&&0<this.__cbOnceBeginSortVisuals.length},__cbOnFinishSortVisuals:null,__cbOnceFinishSortVisuals:null,__cbOnOwnerUnbindFinishSortVisuals:null,__cbOnceOwnerUnbindFinishSortVisuals:null,emitFinishSortVisuals:function(){var e=0;if(null!=this.__cbOnFinishSortVisuals&&(e+=this.__cbOnFinishSortVisuals.length),null!=this.__cbOnceFinishSortVisuals&&(e+=this.__cbOnceFinishSortVisuals.length),0<e){var n=C.pool(e),t=n.get(),i=0;if(null!=this.__cbOnFinishSortVisuals)for(var l=0,s=this.__cbOnFinishSortVisuals.length;l<s;){var r=l++;!0?(t.vector[i]=this.__cbOnFinishSortVisuals[r],++i):--e}if(null!=this.__cbOnceFinishSortVisuals){for(var h=null,a=null,l=0,s=this.__cbOnceFinishSortVisuals.length;l<s;){var o,r=l++;!0?(t.vector[i]=this.__cbOnceFinishSortVisuals[r],this.__cbOnceFinishSortVisuals[r]=null,o=this.__cbOnceOwnerUnbindFinishSortVisuals[r],(this.__cbOnceOwnerUnbindFinishSortVisuals[r]=null)!=o&&o(),++i):(--e,null==h&&(h=[],a=[],0),h.push(this.__cbOnceOwnerUnbindFinishSortVisuals[r]),a.push(this.__cbOnceFinishSortVisuals[r]))}this.__cbOnceOwnerUnbindFinishSortVisuals=h,this.__cbOnceFinishSortVisuals=a}for(l=0,s=e;l<s;){i=l++;(0,t.vector[i])()}n.release(t)}},onFinishSortVisuals:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event finishSortVisuals because owner is destroyed!");var l=function(e){null!=t&&(i.offFinishSortVisuals(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindFinishSortVisuals&&(this.__cbOnOwnerUnbindFinishSortVisuals=[]),this.__cbOnOwnerUnbindFinishSortVisuals.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindFinishSortVisuals&&(this.__cbOnOwnerUnbindFinishSortVisuals=[]),this.__cbOnOwnerUnbindFinishSortVisuals.push(null);null==this.__cbOnFinishSortVisuals&&(this.__cbOnFinishSortVisuals=[]),this.__cbOnFinishSortVisuals.push(t)},onceFinishSortVisuals:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event finishSortVisuals because owner is destroyed!");var l=function(e){null!=t&&(i.offFinishSortVisuals(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindFinishSortVisuals&&(this.__cbOnceOwnerUnbindFinishSortVisuals=[]),this.__cbOnceOwnerUnbindFinishSortVisuals.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindFinishSortVisuals&&(this.__cbOnceOwnerUnbindFinishSortVisuals=[]),this.__cbOnceOwnerUnbindFinishSortVisuals.push(null);null==this.__cbOnceFinishSortVisuals&&(this.__cbOnceFinishSortVisuals=[]),this.__cbOnceFinishSortVisuals.push(t)},offFinishSortVisuals:function(e){if(null!=e){var n;null!=this.__cbOnFinishSortVisuals&&-1!=(n=this.__cbOnFinishSortVisuals.indexOf(e))&&(this.__cbOnFinishSortVisuals.splice(n,1),null!=(s=this.__cbOnOwnerUnbindFinishSortVisuals[n])&&s(),this.__cbOnOwnerUnbindFinishSortVisuals.splice(n,1)),null!=this.__cbOnceFinishSortVisuals&&-1!=(n=this.__cbOnceFinishSortVisuals.indexOf(e))&&(this.__cbOnceFinishSortVisuals.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindFinishSortVisuals[n])&&s(),this.__cbOnceOwnerUnbindFinishSortVisuals.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindFinishSortVisuals){for(var t=0,i=this.__cbOnOwnerUnbindFinishSortVisuals.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindFinishSortVisuals[l])&&s()}this.__cbOnOwnerUnbindFinishSortVisuals=null}if(null!=this.__cbOnceOwnerUnbindFinishSortVisuals){for(t=0,i=this.__cbOnceOwnerUnbindFinishSortVisuals.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindFinishSortVisuals[l])&&s()}this.__cbOnceOwnerUnbindFinishSortVisuals=null}this.__cbOnFinishSortVisuals=null,this.__cbOnceFinishSortVisuals=null}},listensFinishSortVisuals:function(){return null!=this.__cbOnFinishSortVisuals&&0<this.__cbOnFinishSortVisuals.length||null!=this.__cbOnceFinishSortVisuals&&0<this.__cbOnceFinishSortVisuals.length},__cbOnBeginDraw:null,__cbOnceBeginDraw:null,__cbOnOwnerUnbindBeginDraw:null,__cbOnceOwnerUnbindBeginDraw:null,emitBeginDraw:function(){var e=0;if(null!=this.__cbOnBeginDraw&&(e+=this.__cbOnBeginDraw.length),null!=this.__cbOnceBeginDraw&&(e+=this.__cbOnceBeginDraw.length),0<e){var n=C.pool(e),t=n.get(),i=0;if(null!=this.__cbOnBeginDraw)for(var l=0,s=this.__cbOnBeginDraw.length;l<s;){var r=l++;!0?(t.vector[i]=this.__cbOnBeginDraw[r],++i):--e}if(null!=this.__cbOnceBeginDraw){for(var h=null,a=null,l=0,s=this.__cbOnceBeginDraw.length;l<s;){var o,r=l++;!0?(t.vector[i]=this.__cbOnceBeginDraw[r],this.__cbOnceBeginDraw[r]=null,o=this.__cbOnceOwnerUnbindBeginDraw[r],(this.__cbOnceOwnerUnbindBeginDraw[r]=null)!=o&&o(),++i):(--e,null==h&&(h=[],a=[],0),h.push(this.__cbOnceOwnerUnbindBeginDraw[r]),a.push(this.__cbOnceBeginDraw[r]))}this.__cbOnceOwnerUnbindBeginDraw=h,this.__cbOnceBeginDraw=a}for(l=0,s=e;l<s;){i=l++;(0,t.vector[i])()}n.release(t)}},onBeginDraw:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event beginDraw because owner is destroyed!");var l=function(e){null!=t&&(i.offBeginDraw(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindBeginDraw&&(this.__cbOnOwnerUnbindBeginDraw=[]),this.__cbOnOwnerUnbindBeginDraw.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindBeginDraw&&(this.__cbOnOwnerUnbindBeginDraw=[]),this.__cbOnOwnerUnbindBeginDraw.push(null);null==this.__cbOnBeginDraw&&(this.__cbOnBeginDraw=[]),this.__cbOnBeginDraw.push(t)},onceBeginDraw:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event beginDraw because owner is destroyed!");var l=function(e){null!=t&&(i.offBeginDraw(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindBeginDraw&&(this.__cbOnceOwnerUnbindBeginDraw=[]),this.__cbOnceOwnerUnbindBeginDraw.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindBeginDraw&&(this.__cbOnceOwnerUnbindBeginDraw=[]),this.__cbOnceOwnerUnbindBeginDraw.push(null);null==this.__cbOnceBeginDraw&&(this.__cbOnceBeginDraw=[]),this.__cbOnceBeginDraw.push(t)},offBeginDraw:function(e){if(null!=e){var n;null!=this.__cbOnBeginDraw&&-1!=(n=this.__cbOnBeginDraw.indexOf(e))&&(this.__cbOnBeginDraw.splice(n,1),null!=(s=this.__cbOnOwnerUnbindBeginDraw[n])&&s(),this.__cbOnOwnerUnbindBeginDraw.splice(n,1)),null!=this.__cbOnceBeginDraw&&-1!=(n=this.__cbOnceBeginDraw.indexOf(e))&&(this.__cbOnceBeginDraw.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindBeginDraw[n])&&s(),this.__cbOnceOwnerUnbindBeginDraw.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindBeginDraw){for(var t=0,i=this.__cbOnOwnerUnbindBeginDraw.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindBeginDraw[l])&&s()}this.__cbOnOwnerUnbindBeginDraw=null}if(null!=this.__cbOnceOwnerUnbindBeginDraw){for(t=0,i=this.__cbOnceOwnerUnbindBeginDraw.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindBeginDraw[l])&&s()}this.__cbOnceOwnerUnbindBeginDraw=null}this.__cbOnBeginDraw=null,this.__cbOnceBeginDraw=null}},listensBeginDraw:function(){return null!=this.__cbOnBeginDraw&&0<this.__cbOnBeginDraw.length||null!=this.__cbOnceBeginDraw&&0<this.__cbOnceBeginDraw.length},__cbOnFinishDraw:null,__cbOnceFinishDraw:null,__cbOnOwnerUnbindFinishDraw:null,__cbOnceOwnerUnbindFinishDraw:null,emitFinishDraw:function(){var e=0;if(null!=this.__cbOnFinishDraw&&(e+=this.__cbOnFinishDraw.length),null!=this.__cbOnceFinishDraw&&(e+=this.__cbOnceFinishDraw.length),0<e){var n=C.pool(e),t=n.get(),i=0;if(null!=this.__cbOnFinishDraw)for(var l=0,s=this.__cbOnFinishDraw.length;l<s;){var r=l++;!0?(t.vector[i]=this.__cbOnFinishDraw[r],++i):--e}if(null!=this.__cbOnceFinishDraw){for(var h=null,a=null,l=0,s=this.__cbOnceFinishDraw.length;l<s;){var o,r=l++;!0?(t.vector[i]=this.__cbOnceFinishDraw[r],this.__cbOnceFinishDraw[r]=null,o=this.__cbOnceOwnerUnbindFinishDraw[r],(this.__cbOnceOwnerUnbindFinishDraw[r]=null)!=o&&o(),++i):(--e,null==h&&(h=[],a=[],0),h.push(this.__cbOnceOwnerUnbindFinishDraw[r]),a.push(this.__cbOnceFinishDraw[r]))}this.__cbOnceOwnerUnbindFinishDraw=h,this.__cbOnceFinishDraw=a}for(l=0,s=e;l<s;){i=l++;(0,t.vector[i])()}n.release(t)}},onFinishDraw:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event finishDraw because owner is destroyed!");var l=function(e){null!=t&&(i.offFinishDraw(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindFinishDraw&&(this.__cbOnOwnerUnbindFinishDraw=[]),this.__cbOnOwnerUnbindFinishDraw.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindFinishDraw&&(this.__cbOnOwnerUnbindFinishDraw=[]),this.__cbOnOwnerUnbindFinishDraw.push(null);null==this.__cbOnFinishDraw&&(this.__cbOnFinishDraw=[]),this.__cbOnFinishDraw.push(t)},onceFinishDraw:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event finishDraw because owner is destroyed!");var l=function(e){null!=t&&(i.offFinishDraw(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindFinishDraw&&(this.__cbOnceOwnerUnbindFinishDraw=[]),this.__cbOnceOwnerUnbindFinishDraw.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindFinishDraw&&(this.__cbOnceOwnerUnbindFinishDraw=[]),this.__cbOnceOwnerUnbindFinishDraw.push(null);null==this.__cbOnceFinishDraw&&(this.__cbOnceFinishDraw=[]),this.__cbOnceFinishDraw.push(t)},offFinishDraw:function(e){if(null!=e){var n;null!=this.__cbOnFinishDraw&&-1!=(n=this.__cbOnFinishDraw.indexOf(e))&&(this.__cbOnFinishDraw.splice(n,1),null!=(s=this.__cbOnOwnerUnbindFinishDraw[n])&&s(),this.__cbOnOwnerUnbindFinishDraw.splice(n,1)),null!=this.__cbOnceFinishDraw&&-1!=(n=this.__cbOnceFinishDraw.indexOf(e))&&(this.__cbOnceFinishDraw.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindFinishDraw[n])&&s(),this.__cbOnceOwnerUnbindFinishDraw.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindFinishDraw){for(var t=0,i=this.__cbOnOwnerUnbindFinishDraw.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindFinishDraw[l])&&s()}this.__cbOnOwnerUnbindFinishDraw=null}if(null!=this.__cbOnceOwnerUnbindFinishDraw){for(t=0,i=this.__cbOnceOwnerUnbindFinishDraw.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindFinishDraw[l])&&s()}this.__cbOnceOwnerUnbindFinishDraw=null}this.__cbOnFinishDraw=null,this.__cbOnceFinishDraw=null}},listensFinishDraw:function(){return null!=this.__cbOnFinishDraw&&0<this.__cbOnFinishDraw.length||null!=this.__cbOnceFinishDraw&&0<this.__cbOnceFinishDraw.length},__cbOnLowMemory:null,__cbOnceLowMemory:null,__cbOnOwnerUnbindLowMemory:null,__cbOnceOwnerUnbindLowMemory:null,emitLowMemory:function(){var e=0;if(null!=this.__cbOnLowMemory&&(e+=this.__cbOnLowMemory.length),null!=this.__cbOnceLowMemory&&(e+=this.__cbOnceLowMemory.length),0<e){var n=C.pool(e),t=n.get(),i=0;if(null!=this.__cbOnLowMemory)for(var l=0,s=this.__cbOnLowMemory.length;l<s;){var r=l++;!0?(t.vector[i]=this.__cbOnLowMemory[r],++i):--e}if(null!=this.__cbOnceLowMemory){for(var h=null,a=null,l=0,s=this.__cbOnceLowMemory.length;l<s;){var o,r=l++;!0?(t.vector[i]=this.__cbOnceLowMemory[r],this.__cbOnceLowMemory[r]=null,o=this.__cbOnceOwnerUnbindLowMemory[r],(this.__cbOnceOwnerUnbindLowMemory[r]=null)!=o&&o(),++i):(--e,null==h&&(h=[],a=[],0),h.push(this.__cbOnceOwnerUnbindLowMemory[r]),a.push(this.__cbOnceLowMemory[r]))}this.__cbOnceOwnerUnbindLowMemory=h,this.__cbOnceLowMemory=a}for(l=0,s=e;l<s;){i=l++;(0,t.vector[i])()}n.release(t)}},onLowMemory:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event lowMemory because owner is destroyed!");var l=function(e){null!=t&&(i.offLowMemory(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindLowMemory&&(this.__cbOnOwnerUnbindLowMemory=[]),this.__cbOnOwnerUnbindLowMemory.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindLowMemory&&(this.__cbOnOwnerUnbindLowMemory=[]),this.__cbOnOwnerUnbindLowMemory.push(null);null==this.__cbOnLowMemory&&(this.__cbOnLowMemory=[]),this.__cbOnLowMemory.push(t)},onceLowMemory:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event lowMemory because owner is destroyed!");var l=function(e){null!=t&&(i.offLowMemory(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindLowMemory&&(this.__cbOnceOwnerUnbindLowMemory=[]),this.__cbOnceOwnerUnbindLowMemory.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindLowMemory&&(this.__cbOnceOwnerUnbindLowMemory=[]),this.__cbOnceOwnerUnbindLowMemory.push(null);null==this.__cbOnceLowMemory&&(this.__cbOnceLowMemory=[]),this.__cbOnceLowMemory.push(t)},offLowMemory:function(e){if(null!=e){var n;null!=this.__cbOnLowMemory&&-1!=(n=this.__cbOnLowMemory.indexOf(e))&&(this.__cbOnLowMemory.splice(n,1),null!=(s=this.__cbOnOwnerUnbindLowMemory[n])&&s(),this.__cbOnOwnerUnbindLowMemory.splice(n,1)),null!=this.__cbOnceLowMemory&&-1!=(n=this.__cbOnceLowMemory.indexOf(e))&&(this.__cbOnceLowMemory.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindLowMemory[n])&&s(),this.__cbOnceOwnerUnbindLowMemory.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindLowMemory){for(var t=0,i=this.__cbOnOwnerUnbindLowMemory.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindLowMemory[l])&&s()}this.__cbOnOwnerUnbindLowMemory=null}if(null!=this.__cbOnceOwnerUnbindLowMemory){for(t=0,i=this.__cbOnceOwnerUnbindLowMemory.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindLowMemory[l])&&s()}this.__cbOnceOwnerUnbindLowMemory=null}this.__cbOnLowMemory=null,this.__cbOnceLowMemory=null}},listensLowMemory:function(){return null!=this.__cbOnLowMemory&&0<this.__cbOnLowMemory.length||null!=this.__cbOnceLowMemory&&0<this.__cbOnceLowMemory.length},__cbOnTerminate:null,__cbOnceTerminate:null,__cbOnOwnerUnbindTerminate:null,__cbOnceOwnerUnbindTerminate:null,emitTerminate:function(){var e=0;if(null!=this.__cbOnTerminate&&(e+=this.__cbOnTerminate.length),null!=this.__cbOnceTerminate&&(e+=this.__cbOnceTerminate.length),0<e){var n=C.pool(e),t=n.get(),i=0;if(null!=this.__cbOnTerminate)for(var l=0,s=this.__cbOnTerminate.length;l<s;){var r=l++;!0?(t.vector[i]=this.__cbOnTerminate[r],++i):--e}if(null!=this.__cbOnceTerminate){for(var h=null,a=null,l=0,s=this.__cbOnceTerminate.length;l<s;){var o,r=l++;!0?(t.vector[i]=this.__cbOnceTerminate[r],this.__cbOnceTerminate[r]=null,o=this.__cbOnceOwnerUnbindTerminate[r],(this.__cbOnceOwnerUnbindTerminate[r]=null)!=o&&o(),++i):(--e,null==h&&(h=[],a=[],0),h.push(this.__cbOnceOwnerUnbindTerminate[r]),a.push(this.__cbOnceTerminate[r]))}this.__cbOnceOwnerUnbindTerminate=h,this.__cbOnceTerminate=a}for(l=0,s=e;l<s;){i=l++;(0,t.vector[i])()}n.release(t)}},onTerminate:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event terminate because owner is destroyed!");var l=function(e){null!=t&&(i.offTerminate(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindTerminate&&(this.__cbOnOwnerUnbindTerminate=[]),this.__cbOnOwnerUnbindTerminate.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindTerminate&&(this.__cbOnOwnerUnbindTerminate=[]),this.__cbOnOwnerUnbindTerminate.push(null);null==this.__cbOnTerminate&&(this.__cbOnTerminate=[]),this.__cbOnTerminate.push(t)},onceTerminate:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event terminate because owner is destroyed!");var l=function(e){null!=t&&(i.offTerminate(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindTerminate&&(this.__cbOnceOwnerUnbindTerminate=[]),this.__cbOnceOwnerUnbindTerminate.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindTerminate&&(this.__cbOnceOwnerUnbindTerminate=[]),this.__cbOnceOwnerUnbindTerminate.push(null);null==this.__cbOnceTerminate&&(this.__cbOnceTerminate=[]),this.__cbOnceTerminate.push(t)},offTerminate:function(e){if(null!=e){var n;null!=this.__cbOnTerminate&&-1!=(n=this.__cbOnTerminate.indexOf(e))&&(this.__cbOnTerminate.splice(n,1),null!=(s=this.__cbOnOwnerUnbindTerminate[n])&&s(),this.__cbOnOwnerUnbindTerminate.splice(n,1)),null!=this.__cbOnceTerminate&&-1!=(n=this.__cbOnceTerminate.indexOf(e))&&(this.__cbOnceTerminate.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindTerminate[n])&&s(),this.__cbOnceOwnerUnbindTerminate.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindTerminate){for(var t=0,i=this.__cbOnOwnerUnbindTerminate.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindTerminate[l])&&s()}this.__cbOnOwnerUnbindTerminate=null}if(null!=this.__cbOnceOwnerUnbindTerminate){for(t=0,i=this.__cbOnceOwnerUnbindTerminate.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindTerminate[l])&&s()}this.__cbOnceOwnerUnbindTerminate=null}this.__cbOnTerminate=null,this.__cbOnceTerminate=null}},listensTerminate:function(){return null!=this.__cbOnTerminate&&0<this.__cbOnTerminate.length||null!=this.__cbOnceTerminate&&0<this.__cbOnceTerminate.length},immediateCallbacks:null,immediateCallbacksCapacity:null,immediateCallbacksLen:null,postFlushImmediateCallbacks:null,postFlushImmediateCallbacksCapacity:null,postFlushImmediateCallbacksLen:null,loaders:null,_onceImmediateWithOwner:function(e,n){this._onceImmediate(function(){(null==e||0<=e._lifecycleState)&&n()})},_onceImmediate:function(e){if(null==e)throw $.thrown("Immediate callback should not be null!");this.immediateCallbacksLen<this.immediateCallbacksCapacity?(this.immediateCallbacks[this.immediateCallbacksLen]=e,this.immediateCallbacksLen++):(this.immediateCallbacks[this.immediateCallbacksLen++]=e,this.immediateCallbacksCapacity++)},_oncePostFlushImmediateWithOwner:function(e,n,t){this._oncePostFlushImmediate(function(){(null==e||0<=e._lifecycleState)&&n()},t)},_oncePostFlushImmediate:function(n,e){var t=this;e?ae.app._onceImmediate(function(){var e=!1;t._oncePostFlushImmediate(n,e=null==e?!0:e)}):0==this.immediateCallbacksLen?n():this.postFlushImmediateCallbacksLen<this.postFlushImmediateCallbacksCapacity?(this.postFlushImmediateCallbacks[this.postFlushImmediateCallbacksLen]=n,this.postFlushImmediateCallbacksLen++):(this.postFlushImmediateCallbacks[this.postFlushImmediateCallbacksLen++]=n,this.postFlushImmediateCallbacksCapacity++)},flushImmediate:function(){for(var e=!1;0<this.immediateCallbacksLen;){for(var e=!0,n=(o=C.pool(this.immediateCallbacksLen)).get(),t=this.immediateCallbacksLen,i=this.immediateCallbacksLen=0,l=t;i<l;){var s=i++;n.vector[s]=this.immediateCallbacks[s],this.immediateCallbacks[s]=null}for(var r=0,h=t;r<h;){var a=r++;(0,n.vector[a])()}o.release(n)}if(0<this.postFlushImmediateCallbacksLen){for(var o,n=(o=C.pool(this.postFlushImmediateCallbacksLen)).get(),t=this.postFlushImmediateCallbacksLen,i=this.postFlushImmediateCallbacksLen=0,l=t;i<l;){s=i++;n.vector[s]=this.postFlushImmediateCallbacks[s],this.postFlushImmediateCallbacks[s]=null}for(i=0,l=t;i<l;){s=i++;(0,n.vector[s])()}o.release(n)}return e},_xUpdatesHandlersPool:null,_xUpdatesHandlers:null,_xUpdatesToCallNow:null,onceXUpdates:function(e,n,t){for(var i=this._xUpdatesHandlersPool,l=0<i.availableItems.length?i.availableItems.pop():null,s=((l=null==l?new Pe:l).owner=e,l.numUpdates=n,l.callback=t,!1),r=0,h=this._xUpdatesHandlers.length;r<h;){var a=r++;if(null==this._xUpdatesHandlers[a]){this._xUpdatesHandlers[a]=l,s=!0;break}}s||this._xUpdatesHandlers.push(l)},offXUpdates:function(e){for(var n=!1,t=0,i=this._xUpdatesHandlers.length;t<i;){var l=t++,s=this._xUpdatesHandlers[l];s.callback==e&&(s.reset(),this._xUpdatesHandlersPool.recycle(s),n=!(this._xUpdatesHandlers[l]=null))}n&&this.cleanXUpdatesNullValues()},tickOnceXUpdates:function(){for(var e=0,n=!1,t=0,i=this._xUpdatesHandlers.length;t<i;){var l,s=t++,r=this._xUpdatesHandlers[s];null!=r&&(r.numUpdates--,r.numUpdates<=0)&&((null==(l=r.owner)||0<=l._lifecycleState)&&(this._xUpdatesToCallNow[e]=r.callback,++e),n=!(this._xUpdatesHandlers[s]=null))}if(0<e)for(t=0,i=e;t<i;){var s=t++,h=this._xUpdatesToCallNow[s];this._xUpdatesToCallNow[s]=null,h()}n&&this.cleanXUpdatesNullValues()},cleanXUpdatesNullValues:function(){for(var e=0,n=0,t=this._xUpdatesHandlers.length;e<t;){do{}while(null==this._xUpdatesHandlers[e]&&(++n,++e<t));0!=n&&e<t&&(this._xUpdatesHandlers[e-n]=this._xUpdatesHandlers[e]),++e}var i=this._xUpdatesHandlers,l=t-n;if(i.length!=l)if(i.length>l)i.splice(l,i.length-l);else for(var s=i;s.length<l;)s.push(null)},inUpdate:null,get_computedFps:function(){return this._computeFps.fps},_computeFps:null,frame:null,delta:null,realDelta:null,backend:null,screen:null,audio:null,settings:null,systems:null,logger:null,visuals:null,pendingVisuals:null,destroyedVisuals:null,groups:null,input:null,renderTextures:null,assets:null,defaultTexturedShader:null,defaultWhiteTexture:null,defaultFont:null,projectDir:null,persistent:null,textInput:null,converters:null,timelines:null,lazyScenes:null,scenes:null,get_scenes:function(){return this.lazyScenes&&(this.lazyScenes=!1,this.scenes=et.get_shared()),this.scenes},set_scenes:function(e){return this.scenes=e},hierarchyDirty:null,visualsContentDirty:null,beginUpdateCallbacks:null,disposedEntities:null,numBlockingDefaultScroll:null,quit:function(){Yn.quit()},backendReady:function(){var n=this;if(this.backend.onUpdate(this,$bind(this,this.updatePreReady)),this.persistent=new zn("app"),this.textInput=new pt,this.bindSettings(),this.screen.backendReady(),null!=ae.preInitCallbacks){for(var e=0,t=[].concat(ae.preInitCallbacks);e<t.length;){var i=t[e];++e,i()}ae.preInitCallbacks=null}this.initFieldConverters(),null!=this.settings.collections&&this.initCollections(this.settings.collections(),this.settings.appInfo);var l=this.assets,s=this.settings.defaultShader,r=s.__name__.split("."),h=r.pop(),a=(h=h.charAt(0).toLowerCase()+he.substr(h,1,null),0<r.length?r.join("_")+"_"+h:h),o=new at(a,null,null),l=(o.shaderClass=s,l.addAsset(o),this.assets),a=(h=(h=(r=(s=vs).__name__.split(".")).pop()).charAt(0).toLowerCase()+he.substr(h,1,null),0<r.length?r.join("_")+"_"+h:h),l=((o=new at(a,null,null)).shaderClass=s,l.addAsset(o),this.assets),a=(h=(h=(r=(s=ws).__name__.split(".")).pop()).charAt(0).toLowerCase()+he.substr(h,1,null),0<r.length?r.join("_")+"_"+h:h);(o=new at(a,null,null)).shaderClass=s,l.addAsset(o),this.assets.onceComplete(this,function(e){n.assets._add(n.settings.defaultFont,null,null),n.assets._add("image:white",null,null),n.assets.onceComplete(n,function(e){e?(n.defaultFont=n.assets.font(n.settings.defaultFont),n.defaultWhiteTexture=n.assets.texture("image:white"),e=n.assets._shaderFromClass(n.settings.defaultShader),n.defaultTexturedShader=e,n.logger.success("Default assets loaded.",{fileName:"../../../../ceramic/runtime/src/ceramic/App.hx",lineNumber:922,className:"ceramic.App",methodName:"backendReady"}),n.assetsLoaded()):ae.app.logger.error("Failed to load default assets.",{fileName:"../../../../ceramic/runtime/src/ceramic/App.hx",lineNumber:925,className:"ceramic.App",methodName:"backendReady"})}),n.emitDefaultAssetsLoad(n.assets),n.assets.load(null,{fileName:"../../../../ceramic/runtime/src/ceramic/App.hx",lineNumber:933,className:"ceramic.App",methodName:"backendReady"}),n.assets.immediate.flush(),n.flushImmediate()}),this.assets.load(null,{fileName:"../../../../ceramic/runtime/src/ceramic/App.hx",lineNumber:939,className:"ceramic.App",methodName:"backendReady"}),this.assets.immediate.flush(),this.flushImmediate()},bindSettings:function(){this.settings.onTargetFpsChange(this,function(e,n){ae.app.backend.setTargetFps(e)}),ae.app.backend.setTargetFps(this.settings.get_targetFps())},initFieldConverters:function(){var e=this.converters,n=new tn,e=(e.h["ceramic.Texture"]=n,this.converters),n=new Ze,e=(e.h["ceramic.BitmapFont"]=n,this.converters),n=new Je,e=(e.h["ceramic.FragmentData"]=n,this.converters),n=new $e,e=(e.h["ceramic.Color"]=n,this.converters),n=new nn,e=(e.h["Map<String,String>"]=n,this.converters),n=new nn,e=(e.h["Map<String,Bool>"]=n,this.converters),n=new nn,e=(e.h["ceramic.ReadOnlyMap<String,String>"]=n,this.converters),n=new nn,e=(e.h["ceramic.ReadOnlyMap<String,Bool>"]=n,this.converters),n=new je,e=(e.h["Array<Float>"]=n,this.converters),n=new je,e=(e.h["Array<Int>"]=n,this.converters),n=new je,e=(e.h["Array<String>"]=n,this.converters),n=new je,e=(e.h["ceramic.ReadOnlyArray<Float>"]=n,this.converters),n=new je,e=(e.h["ceramic.ReadOnlyArray<Int>"]=n,this.converters),n=new je,e=(e.h["ceramic.ReadOnlyArray<String>"]=n,this.converters),n=new qe,e=(e.h["Map<String,ceramic.Component>"]=n,this.converters),n=new qe,e=(e.h["ceramic.ReadOnlyMap<String,ceramic.Component>"]=n,this.converters),n=new en;e.h["ceramic.IntBoolMap"]=n},initCollections:function(g,O){for(var f=this,e=(null==O&&(O=this.info),Object.create(null)),n=0,t=0,i=L.fields(O.collections);t<i.length;)for(var l=i[t],s=(++t,0),r=L.fields(L.field(O.collections,l));s<r.length;){var h=r[s],h=(++s,L.field(L.field(O.collections,l),h));"string"==typeof h||null==(h=h.data)||Object.prototype.hasOwnProperty.call(e,h)||(e[h]=!0,this.assets.addDatabase(h),++n)}0<n&&this.assets.onceComplete(this,function(e){for(var n=0,t=L.fields(O.collections);n<t.length;)for(var i=t[n],l=(++n,0),s=L.fields(L.field(O.collections,i));l<s.length;){var r=s[l],h=(++l,L.field(L.field(O.collections,i),r));if("string"!=typeof h){var a=h.data;if(null!=a){for(var o=f.assets.database(a),c=L.field(g,r),a=h.type,u=E[a],_=0;_<o.length;){var d=o[_],b=(++_,B.createInstance(u,[null,null]));b.setRawData(d),c.push(b)}c.synchronize()}}}})},assetsLoaded:function(){this.runNextLoader()},runNextLoader:function(){0<this.loaders.length?this.loaders.shift()($bind(this,this.runNextLoader)):(this.loaders=null,this.runReady())},runReady:function(){var l=this;Yn.postAppInit(),this.emitReady(),this.screen.resize(),this.backend.offUpdate($bind(this,this.updatePreReady)),this.backend.onUpdate(this,$bind(this,this.update)),this.backend.onRender(this,$bind(this,this.render)),this.backend.input.onKeyDown(this,function(e){l.beginUpdateCallbacks.push(function(){l.input.emitKeyDown(e)})}),this.backend.input.onKeyUp(this,function(e){l.beginUpdateCallbacks.push(function(){l.input.emitKeyUp(e)})}),this.backend.input.onGamepadEnable(this,function(e,n){l.beginUpdateCallbacks.push(function(){l.input.emitGamepadEnable(e,n)})}),this.backend.input.onGamepadDisable(this,function(e){l.beginUpdateCallbacks.push(function(){l.input.emitGamepadDisable(e)})}),this.backend.input.onGamepadDown(this,function(e,n){l.beginUpdateCallbacks.push(function(){l.input.emitGamepadDown(e,n)})}),this.backend.input.onGamepadUp(this,function(e,n){l.beginUpdateCallbacks.push(function(){l.input.emitGamepadUp(e,n)})}),this.backend.input.onGamepadGyro(this,function(e,n,t,i){l.beginUpdateCallbacks.push(function(){l.input.emitGamepadGyro(e,n,t,i)})}),this.backend.input.onGamepadAxis(this,function(e,n,t){l.beginUpdateCallbacks.push(function(){l.input.emitGamepadAxis(e,n,t)})})},updatePreReady:function(e){Oe.flushAllInstancesImmediate(),this.flushImmediate()},update:function(e){999999999<++this.frame&&(this.frame-=999999999);var n=e;if(n>this.settings.get_maxDelta()&&(n=this.settings.get_maxDelta()),0<=this.settings.get_overrideDelta()&&(n=this.settings.get_overrideDelta()),this._computeFps.addFrame(n),this.delta=n,this.realDelta=e,Gt.update(n,e),qn.tick(),this.screen.updatePointerOverState(n),this.inUpdate=!0,this.screen.resetDeltas(),this.input.resetDeltas(),0<this.beginUpdateCallbacks.length)for(var t=this.beginUpdateCallbacks,i=(this.beginUpdateCallbacks=[],0);i<t.length;){var l=t[i];++i,l()}for(this.emitPreUpdate(n),this.systems.earlyUpdate(n),Oe.flushAllInstancesImmediate(),this.flushImmediate(),0<n&&(V.tick(n),this.flushImmediate()),this.emitUpdate(n),this.tickOnceXUpdates(),this.flushImmediate(),this.systems.lateUpdate(n),this.emitPostUpdate(n),this.flushImmediate();0<this.disposedEntities.length;)this.disposedEntities.shift().destroy();this.syncPendingVisuals();var s,r=this.visuals,h=0,a=!1;do{this.visualsContentDirty=!1;(f=this.screen.matrix).changedDirty&&(f.changed=f.tx!=f._txPrev||f.ty!=f._tyPrev||f.a!=f._aPrev||f.b!=f._bPrev||f.c!=f._cPrev||f.d!=f._dPrev,f.changedDirty=!1),this.screen.matrix.changed&&this.screen.matrix.emitChange();for(var i=0,o=r.length;i<o;)0<=(w=r[O=i++])._lifecycleState&&(w.touchableDirty&&w.computeTouchable(),w.contentDirty)&&(w.visibilityDirty&&w.computeVisibility(),w.computedVisible)&&w.computeContent();for(var c=0,u=r.length;c<u;){var _=r[c++];0<=_._lifecycleState&&null!=_.transform&&((U=_.transform).changedDirty&&(U.changed=U.tx!=U._txPrev||U.ty!=U._tyPrev||U.a!=U._aPrev||U.b!=U._bPrev||U.c!=U._cPrev||U.d!=U._dPrev,U.changedDirty=!1),_.transform.changed)&&_.transform.emitChange()}if(9999<h++){if(a&&this.visualsContentDirty)throw $.thrown("Failed to update visuals because flushImmediate() is being called continuously and visuals content stays dirty.");if(a)throw $.thrown("Failed to update visuals because flushImmediate() is being called continuously.");for(var d=0,b=r.length;d<b;){var g=r[d++];if(0<=g._lifecycleState&&g.contentDirty)throw $.thrown("Failed to update visuals because visuals content stays dirty. ("+K.string(g)+")")}}}while(a=this.flushImmediate(),s=this.syncPendingVisuals(),a||this.visualsContentDirty||s);for(i=0,o=this.renderTextures.length;i<o;){var O=i++;null!=(I=this.renderTextures[O]).dependingTextures&&I.dependingTextures.clear()}for(i=0,o=r.length;i<o;){var f,p,C,v,w=r[O=i++];if(0<=w._lifecycleState)if(w.renderTargetDirty&&w.computeRenderTarget(),w.matrixDirty&&w.computeMatrix(),w.visibilityDirty&&w.computeVisibility(),w.computedVisible)if(w.clipDirty&&w.computeClip(),null!=w.computedRenderTarget)if(null!=w.asQuad){if(null!=w.asQuad._texture&&(f=w.computedRenderTarget,p=w.asQuad._texture,null==f.dependingTextures&&(f.dependingTextures=new Ge),B=f.dependingTextures.intMap.h[0|p.index],f.dependingTextures.set(p.index,(null!=B?B:0)+1)),null!=w.shader&&null!=w.shader.usedTextures)for(var m=w.shader.usedTextures,c=0,u=m.length;c<u;){var y=c++,U=w.computedRenderTarget,y=m[y],T=(null==U.dependingTextures&&(U.dependingTextures=new Ge),U.dependingTextures.intMap.h[0|y.index]);U.dependingTextures.set(y.index,(null!=T?T:0)+1)}}else if(null!=w.asMesh)if(null!=w.asMesh.texture&&(p=w.computedRenderTarget,C=w.asMesh.texture,null==p.dependingTextures&&(p.dependingTextures=new Ge),v=p.dependingTextures.intMap.h[0|C.index],p.dependingTextures.set(C.index,(null!=v?v:0)+1)),null!=w.shader&&null!=w.shader.usedTextures)for(var D=w.shader.usedTextures,d=0,b=D.length;d<b;){var x=d++,S=w.computedRenderTarget,x=D[x],A=(null==S.dependingTextures&&(S.dependingTextures=new Ge),S.dependingTextures.intMap.h[0|x.index]);S.dependingTextures.set(x.index,(null!=A?A:0)+1)}}this.computeHierarchy();var k=this.renderTextures;if(0!=k.length){for(var I,P=k.length,i=0,o=P;i<o;)(I=k[O=i++]).priority=0;for(i=0,o=P;i<o;)for(var F=k[O=i++],c=0,u=P;c<u;){var M=k[c++];null!=F.dependingTextures&&0<(null!=(B=F.dependingTextures.intMap.h[0|M.index])?B:0)&&M.priority<=F.priority&&(M.priority=F.priority+1)}for(i=0,o=P;i<o;)for(F=k[O=i++],c=0,u=P;c<u;){var B,M=k[c++];null!=F.dependingTextures&&0<(null!=(B=F.dependingTextures.intMap.h[0|M.index])?B:0)&&M.priority<=F.priority&&(M.priority=F.priority+1)}}this.syncDestroyedVisuals();r=this.visuals;this.emitBeginSortVisuals(),ut.rec(r,0,r.length),this.emitFinishSortVisuals(),this.inUpdate=!1},render:function(){this.emitBeginDraw(),this.backend.draw.draw(this.visuals),this.emitFinishDraw(),V.endFrame()},addVisual:function(e){this.pendingVisuals.push(e)},removeVisual:function(e){this.destroyedVisuals.push(e)},syncPendingVisuals:function(){if(0<this.pendingVisuals.length){for(;0<this.pendingVisuals.length;)this.visuals.push(this.pendingVisuals.pop());return this.hierarchyDirty=!0}return!1},syncDestroyedVisuals:function(){if(0<this.destroyedVisuals.length){for(var e=0,n=0,t=this.visuals.length;e<t;){do{}while(this.visuals[e]._lifecycleState<0&&(++n,++e<t));0!=n&&e<t&&(this.visuals[e-n]=this.visuals[e]),++e}var i=this.destroyedVisuals;if(0!=i.length)if(0<i.length)i.splice(0,i.length);else for(var l=i;l.length<0;)l.push(null);var s=t-n;if((i=this.visuals).length!=s)if(i.length>s)i.splice(s,i.length-s);else for(l=i;l.length<s;)l.push(null);this.hierarchyDirty=!0}},updateVisuals:function(e){var n,t=0,i=!1;do{this.visualsContentDirty=!1;(b=this.screen.matrix).changedDirty&&(b.changed=b.tx!=b._txPrev||b.ty!=b._tyPrev||b.a!=b._aPrev||b.b!=b._bPrev||b.c!=b._cPrev||b.d!=b._dPrev,b.changedDirty=!1),this.screen.matrix.changed&&this.screen.matrix.emitChange();for(var l=0,s=e.length;l<s;)0<=(p=e[_=l++])._lifecycleState&&(p.touchableDirty&&p.computeTouchable(),p.contentDirty)&&(p.visibilityDirty&&p.computeVisibility(),p.computedVisible)&&p.computeContent();for(var r=0,h=e.length;r<h;){var a=e[r++];0<=a._lifecycleState&&null!=a.transform&&((w=a.transform).changedDirty&&(w.changed=w.tx!=w._txPrev||w.ty!=w._tyPrev||w.a!=w._aPrev||w.b!=w._bPrev||w.c!=w._cPrev||w.d!=w._dPrev,w.changedDirty=!1),a.transform.changed)&&a.transform.emitChange()}if(9999<t++){if(i&&this.visualsContentDirty)throw $.thrown("Failed to update visuals because flushImmediate() is being called continuously and visuals content stays dirty.");if(i)throw $.thrown("Failed to update visuals because flushImmediate() is being called continuously.");for(var o=0,c=e.length;o<c;){var u=e[o++];if(0<=u._lifecycleState&&u.contentDirty)throw $.thrown("Failed to update visuals because visuals content stays dirty. ("+K.string(u)+")")}}}while(i=this.flushImmediate(),n=this.syncPendingVisuals(),i||this.visualsContentDirty||n);for(l=0,s=this.renderTextures.length;l<s;){var _=l++,d=this.renderTextures[_];null!=d.dependingTextures&&d.dependingTextures.clear()}for(l=0,s=e.length;l<s;){var b,g,O,f,p=e[_=l++];if(0<=p._lifecycleState)if(p.renderTargetDirty&&p.computeRenderTarget(),p.matrixDirty&&p.computeMatrix(),p.visibilityDirty&&p.computeVisibility(),p.computedVisible)if(p.clipDirty&&p.computeClip(),null!=p.computedRenderTarget)if(null!=p.asQuad){if(null!=p.asQuad._texture&&(b=p.computedRenderTarget,g=p.asQuad._texture,null==b.dependingTextures&&(b.dependingTextures=new Ge),O=b.dependingTextures.intMap.h[0|g.index],b.dependingTextures.set(g.index,(null!=O?O:0)+1)),null!=p.shader&&null!=p.shader.usedTextures)for(var C=p.shader.usedTextures,r=0,h=C.length;r<h;){var v=r++,w=p.computedRenderTarget,v=C[v],m=(null==w.dependingTextures&&(w.dependingTextures=new Ge),w.dependingTextures.intMap.h[0|v.index]);w.dependingTextures.set(v.index,(null!=m?m:0)+1)}}else if(null!=p.asMesh)if(null!=p.asMesh.texture&&(g=p.computedRenderTarget,O=p.asMesh.texture,null==g.dependingTextures&&(g.dependingTextures=new Ge),f=g.dependingTextures.intMap.h[0|O.index],g.dependingTextures.set(O.index,(null!=f?f:0)+1)),null!=p.shader&&null!=p.shader.usedTextures)for(var y=p.shader.usedTextures,o=0,c=y.length;o<c;){var U=o++,T=p.computedRenderTarget,U=y[U],D=(null==T.dependingTextures&&(T.dependingTextures=new Ge),T.dependingTextures.intMap.h[0|U.index]);T.dependingTextures.set(U.index,(null!=D?D:0)+1)}}},computeHierarchy:function(){if(this.hierarchyDirty){for(var e=0,n=this.visuals.length;e<n;){var t=e++,t=this.visuals[t];0<=t._lifecycleState&&null==t.parent&&(t.computedDepth=1e3*t.depth,null!=t.children)&&o._computeChildrenDepth0(t)}this.hierarchyDirty=!1}},_computeRenderTexturesPriorityQueue:null,computeRenderTexturesPriority:function(e){if(0!=e.length){for(var n=e.length,t=0,i=n;t<i;)e[t++].priority=0;for(t=0,i=n;t<i;)for(var l=e[t++],s=0,r=n;s<r;){var h=e[s++];null!=l.dependingTextures&&0<(null!=(a=l.dependingTextures.intMap.h[0|h.index])?a:0)&&h.priority<=l.priority&&(h.priority=l.priority+1)}for(t=0,i=n;t<i;)for(l=e[t++],s=0,r=n;s<r;){var a,h=e[s++];null!=l.dependingTextures&&0<(null!=(a=l.dependingTextures.intMap.h[0|h.index])?a:0)&&h.priority<=l.priority&&(h.priority=l.priority+1)}}},sortVisuals:function(e){this.emitBeginSortVisuals(),ut.rec(e,0,e.length),this.emitFinishSortVisuals()},group:function(e,n){null==n&&(n=!0);for(var t=0,i=this.groups.length;t<i;){var l=t++,l=this.groups[l];if(l.id==e)return l}return n?new gn(e):null},unbindEvents:function(){j.prototype.unbindEvents.call(this),this.offReady(),this.offUpdate(),this.offPreUpdate(),this.offPostUpdate(),this.offDefaultAssetsLoad(),this.offCriticalError(),this.offBeginEnterBackground(),this.offFinishEnterBackground(),this.offBeginEnterForeground(),this.offFinishEnterForeground(),this.offBeginSortVisuals(),this.offFinishSortVisuals(),this.offBeginDraw(),this.offFinishDraw(),this.offLowMemory(),this.offTerminate()},info:null,__class__:ae,__properties__:$extend(j.prototype.__properties__,{set_scenes:"set_scenes",get_scenes:"get_scenes",get_computedFps:"get_computedFps"})}),function(){this.callback=null,this.numUpdates=-1,this.owner=null}),C=((E["ceramic.AppXUpdatesHandler"]=Pe).__name__="ceramic.AppXUpdatesHandler",Pe.prototype={owner:null,numUpdates:null,callback:null,reset:function(){this.owner=null,this.numUpdates=-1,this.callback=null},__class__:Pe},function(e){this.nextFree=0,this.arrays=null,this.arrayLengths=e}),Fe=((E["ceramic.ArrayPool"]=C).__name__="ceramic.ArrayPool",C.pool=function(e){return e<=10?C.dynPool10:e<=100?C.dynPool100:e<=1e3?C.dynPool1000:e<=1e4?C.dynPool10000:e<=1e5?C.dynPool100000:(C.didNotifyLargePool||(C.didNotifyLargePool=!0,Gt.schedule(null,.5,function(){C.didNotifyLargePool=!1},-1),ae.app.logger.warning("You should avoid asking a pool for arrays with more than 100000 elements (asked: "+e+") because it needs allocating a temporary one-time pool each time for that.",{fileName:"../../../../ceramic/runtime/src/ceramic/ArrayPool.hx",lineNumber:86,className:"ceramic.ArrayPool",methodName:"pool"})),new C(e))},C.prototype={arrays:null,nextFree:null,arrayLengths:null,get:function(){null==this.arrays?this.arrays=new Qn(C.ALLOC_STEP):this.nextFree>=this.arrays.length&&(e=this.arrays).set_length(e.length+C.ALLOC_STEP);var e=this.arrays.vector[this.nextFree];for(null==e&&(e=new Qn(this.arrayLengths),this.arrays.vector[this.nextFree]=e),e._poolIndex=this.nextFree;;){if(this.nextFree++,this.nextFree==this.arrays.length)break;var n=this.arrays.vector[this.nextFree];if(null==n)break;if(-1==n._poolIndex)break}return e},release:function(e){for(var n=e._poolIndex,t=(e._poolIndex=-1,this.nextFree>n&&(this.nextFree=n),0),i=e.length;t<i;){var l=t++;e.vector[l]=null}},__class__:C},(E["ceramic.Assert"]=Ea).__name__="ceramic.Assert",(E["ceramic.Asset"]=Fa).__name__="ceramic.Asset",Fa.__interfaces__=[s],Fa.__super__=j,Fa.prototype=$extend(j.prototype,{__cbOnObservedDirty:null,__cbOnceObservedDirty:null,__cbOnOwnerUnbindObservedDirty:null,__cbOnceOwnerUnbindObservedDirty:null,emitObservedDirty:function(e,n){var t=0;if(null!=this.__cbOnObservedDirty&&(t+=this.__cbOnObservedDirty.length),null!=this.__cbOnceObservedDirty&&(t+=this.__cbOnceObservedDirty.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnObservedDirty)for(var r=0,h=this.__cbOnObservedDirty.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnObservedDirty[a],++s):--t}if(null!=this.__cbOnceObservedDirty){for(var o=null,c=null,r=0,h=this.__cbOnceObservedDirty.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceObservedDirty[a],this.__cbOnceObservedDirty[a]=null,u=this.__cbOnceOwnerUnbindObservedDirty[a],(this.__cbOnceOwnerUnbindObservedDirty[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindObservedDirty[a]),c.push(this.__cbOnceObservedDirty[a]))}this.__cbOnceOwnerUnbindObservedDirty=o,this.__cbOnceObservedDirty=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onObservedDirty:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event observedDirty because owner is destroyed!");var l=function(e){null!=t&&(i.offObservedDirty(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push(null);null==this.__cbOnObservedDirty&&(this.__cbOnObservedDirty=[]),this.__cbOnObservedDirty.push(t)},onceObservedDirty:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event observedDirty because owner is destroyed!");var l=function(e){null!=t&&(i.offObservedDirty(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push(null);null==this.__cbOnceObservedDirty&&(this.__cbOnceObservedDirty=[]),this.__cbOnceObservedDirty.push(t)},offObservedDirty:function(e){if(null!=e){var n;null!=this.__cbOnObservedDirty&&-1!=(n=this.__cbOnObservedDirty.indexOf(e))&&(this.__cbOnObservedDirty.splice(n,1),null!=(s=this.__cbOnOwnerUnbindObservedDirty[n])&&s(),this.__cbOnOwnerUnbindObservedDirty.splice(n,1)),null!=this.__cbOnceObservedDirty&&-1!=(n=this.__cbOnceObservedDirty.indexOf(e))&&(this.__cbOnceObservedDirty.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindObservedDirty[n])&&s(),this.__cbOnceOwnerUnbindObservedDirty.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindObservedDirty){for(var t=0,i=this.__cbOnOwnerUnbindObservedDirty.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindObservedDirty[l])&&s()}this.__cbOnOwnerUnbindObservedDirty=null}if(null!=this.__cbOnceOwnerUnbindObservedDirty){for(t=0,i=this.__cbOnceOwnerUnbindObservedDirty.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindObservedDirty[l])&&s()}this.__cbOnceOwnerUnbindObservedDirty=null}this.__cbOnObservedDirty=null,this.__cbOnceObservedDirty=null}},listensObservedDirty:function(){return null!=this.__cbOnObservedDirty&&0<this.__cbOnObservedDirty.length||null!=this.__cbOnceObservedDirty&&0<this.__cbOnceObservedDirty.length},observedDirty:null,__cbOnComplete:null,__cbOnceComplete:null,__cbOnOwnerUnbindComplete:null,__cbOnceOwnerUnbindComplete:null,emitComplete:function(e){e&&null!=this.owner&&this.owner.emitUpdate(this);var n=0;if(null!=this.__cbOnComplete&&(n+=this.__cbOnComplete.length),null!=this.__cbOnceComplete&&(n+=this.__cbOnceComplete.length),0<n){var t=C.pool(n),i=t.get(),l=0;if(null!=this.__cbOnComplete)for(var s=0,r=this.__cbOnComplete.length;s<r;){var h=s++;!0?(i.vector[l]=this.__cbOnComplete[h],++l):--n}if(null!=this.__cbOnceComplete){for(var a=null,o=null,s=0,r=this.__cbOnceComplete.length;s<r;){var c,h=s++;!0?(i.vector[l]=this.__cbOnceComplete[h],this.__cbOnceComplete[h]=null,c=this.__cbOnceOwnerUnbindComplete[h],(this.__cbOnceOwnerUnbindComplete[h]=null)!=c&&c(),++l):(--n,null==a&&(a=[],o=[],0),a.push(this.__cbOnceOwnerUnbindComplete[h]),o.push(this.__cbOnceComplete[h]))}this.__cbOnceOwnerUnbindComplete=a,this.__cbOnceComplete=o}for(s=0,r=n;s<r;){l=s++;(0,i.vector[l])(e)}t.release(i)}},onComplete:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event complete because owner is destroyed!");var l=function(e){null!=t&&(i.offComplete(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindComplete&&(this.__cbOnOwnerUnbindComplete=[]),this.__cbOnOwnerUnbindComplete.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindComplete&&(this.__cbOnOwnerUnbindComplete=[]),this.__cbOnOwnerUnbindComplete.push(null);null==this.__cbOnComplete&&(this.__cbOnComplete=[]),this.__cbOnComplete.push(t)},onceComplete:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event complete because owner is destroyed!");var l=function(e){null!=t&&(i.offComplete(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindComplete&&(this.__cbOnceOwnerUnbindComplete=[]),this.__cbOnceOwnerUnbindComplete.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindComplete&&(this.__cbOnceOwnerUnbindComplete=[]),this.__cbOnceOwnerUnbindComplete.push(null);null==this.__cbOnceComplete&&(this.__cbOnceComplete=[]),this.__cbOnceComplete.push(t)},offComplete:function(e){if(null!=e){var n;null!=this.__cbOnComplete&&-1!=(n=this.__cbOnComplete.indexOf(e))&&(this.__cbOnComplete.splice(n,1),null!=(s=this.__cbOnOwnerUnbindComplete[n])&&s(),this.__cbOnOwnerUnbindComplete.splice(n,1)),null!=this.__cbOnceComplete&&-1!=(n=this.__cbOnceComplete.indexOf(e))&&(this.__cbOnceComplete.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindComplete[n])&&s(),this.__cbOnceOwnerUnbindComplete.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindComplete){for(var t=0,i=this.__cbOnOwnerUnbindComplete.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindComplete[l])&&s()}this.__cbOnOwnerUnbindComplete=null}if(null!=this.__cbOnceOwnerUnbindComplete){for(t=0,i=this.__cbOnceOwnerUnbindComplete.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindComplete[l])&&s()}this.__cbOnceOwnerUnbindComplete=null}this.__cbOnComplete=null,this.__cbOnceComplete=null}},listensComplete:function(){return null!=this.__cbOnComplete&&0<this.__cbOnComplete.length||null!=this.__cbOnceComplete&&0<this.__cbOnceComplete.length},kind:null,name:null,variant:null,fullName:null,path:null,allPaths:null,density:null,owner:null,runtimeAssets:null,options:null,assets:null,refCount:null,statusAutoruns:null,get_status:function(){var e,n,t=this.unobservedStatus;return null!=A.current&&(e=A.current,null!=(n=this.statusAutoruns)||(n=A.getAutorunArray(),null!=(this.statusAutoruns=n)))&&e.bindToAutorunArray(n),t},set_status:function(e){var n=this.unobservedStatus;return n!=(this.unobservedStatus=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitStatusChange(e,n),null!=(n=this.statusAutoruns))&&(this.statusAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateStatus:function(){var e=this.unobservedStatus,e=(this.emitStatusChange(e,e),this.statusAutoruns);null!=e&&(this.statusAutoruns=null,A.invalidateAutorunArray(e))},unobservedStatus:null,__cbOnStatusChange:null,__cbOnceStatusChange:null,__cbOnOwnerUnbindStatusChange:null,__cbOnceOwnerUnbindStatusChange:null,emitStatusChange:function(e,n){var t=0;if(null!=this.__cbOnStatusChange&&(t+=this.__cbOnStatusChange.length),null!=this.__cbOnceStatusChange&&(t+=this.__cbOnceStatusChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnStatusChange)for(var r=0,h=this.__cbOnStatusChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnStatusChange[a],++s):--t}if(null!=this.__cbOnceStatusChange){for(var o=null,c=null,r=0,h=this.__cbOnceStatusChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceStatusChange[a],this.__cbOnceStatusChange[a]=null,u=this.__cbOnceOwnerUnbindStatusChange[a],(this.__cbOnceOwnerUnbindStatusChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindStatusChange[a]),c.push(this.__cbOnceStatusChange[a]))}this.__cbOnceOwnerUnbindStatusChange=o,this.__cbOnceStatusChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onStatusChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event statusChange because owner is destroyed!");var l=function(e){null!=t&&(i.offStatusChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindStatusChange&&(this.__cbOnOwnerUnbindStatusChange=[]),this.__cbOnOwnerUnbindStatusChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindStatusChange&&(this.__cbOnOwnerUnbindStatusChange=[]),this.__cbOnOwnerUnbindStatusChange.push(null);null==this.__cbOnStatusChange&&(this.__cbOnStatusChange=[]),this.__cbOnStatusChange.push(t)},onceStatusChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event statusChange because owner is destroyed!");var l=function(e){null!=t&&(i.offStatusChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindStatusChange&&(this.__cbOnceOwnerUnbindStatusChange=[]),this.__cbOnceOwnerUnbindStatusChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindStatusChange&&(this.__cbOnceOwnerUnbindStatusChange=[]),this.__cbOnceOwnerUnbindStatusChange.push(null);null==this.__cbOnceStatusChange&&(this.__cbOnceStatusChange=[]),this.__cbOnceStatusChange.push(t)},offStatusChange:function(e){if(null!=e){var n;null!=this.__cbOnStatusChange&&-1!=(n=this.__cbOnStatusChange.indexOf(e))&&(this.__cbOnStatusChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindStatusChange[n])&&s(),this.__cbOnOwnerUnbindStatusChange.splice(n,1)),null!=this.__cbOnceStatusChange&&-1!=(n=this.__cbOnceStatusChange.indexOf(e))&&(this.__cbOnceStatusChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindStatusChange[n])&&s(),this.__cbOnceOwnerUnbindStatusChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindStatusChange){for(var t=0,i=this.__cbOnOwnerUnbindStatusChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindStatusChange[l])&&s()}this.__cbOnOwnerUnbindStatusChange=null}if(null!=this.__cbOnceOwnerUnbindStatusChange){for(t=0,i=this.__cbOnceOwnerUnbindStatusChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindStatusChange[l])&&s()}this.__cbOnceOwnerUnbindStatusChange=null}this.__cbOnStatusChange=null,this.__cbOnceStatusChange=null}},listensStatusChange:function(){return null!=this.__cbOnStatusChange&&0<this.__cbOnStatusChange.length||null!=this.__cbOnceStatusChange&&0<this.__cbOnceStatusChange.length},handleTexturesDensityChange:null,hotReload:null,customExtensions:null,load:function(){this.set_status(Me.BROKEN),ae.app.logger.error("This asset as no load implementation.",{fileName:"../../../../ceramic/runtime/src/ceramic/Asset.hx",lineNumber:168,className:"ceramic.Asset",methodName:"load"}),this.emitComplete(!1)},destroy:function(){this._lifecycleState<=-2||(this._lifecycleState=-2,this._lifecycleState=-1,j.prototype.destroy.call(this),null!=this.owner&&(this.owner.removeAsset(this),this.owner=null),null!=this.assets&&(this.assets.destroy(),this.assets=null))},computePath:function(e,n,t){if(null==t&&null!=this.runtimeAssets&&(t=this.runtimeAssets),null==e)switch(this.kind){case"atlas":e=["atlas"];break;case"database":e=["csv"];break;case"font":e=["fnt","ttf","otf"];break;case"fragments":e=["fragments"];break;case"image":e=["png","jpg","jpeg"];break;case"shader":e=["frag","vert"];break;case"sound":var i,l,s,r;ae.app.backend.info;e=(null!=ye._soundExtensions||(ye._soundExtensions=[],i=new Audio,l=null!=ce.navigator?ce.navigator.userAgent:"",r=ye.RE_OPERA.match(l)&&parseInt(ye.RE_OPERA.matched(0).split("/")[1],10)<33,s=-1!=l.indexOf("Safari")&&-1==l.indexOf("Chrome"),l=ye.RE_SAFARI_VERSION.match(l),s&&l&&parseInt(ye.RE_SAFARI_VERSION.matched(1),10),null!=(s=i.canPlayType('audio/ogg; codecs="vorbis"'))&&"no"!=s&&""!=s&&ye._soundExtensions.push("ogg"),l=i.canPlayType("audio/mpeg;"),s=i.canPlayType("audio/mp3;"),!r&&(null!=l&&"no"!=l&&""!=l||null!=s&&"no"!=s&&""!=s)&&ye._soundExtensions.push("mp3"),r=i.canPlayType("audio/x-flac;"),l=i.canPlayType("audio/flac;"),(null!=r&&"no"!=r&&""!=r||null!=l&&"no"!=l&&""!=l)&&ye._soundExtensions.push("flac"),s=i.canPlayType('audio/wav; codecs="1"'),r=i.canPlayType("audio/wav;"),(null!=s&&"no"!=s&&""!=s||null!=r&&"no"!=r&&""!=r)&&ye._soundExtensions.push("wav")),[].concat(ye._soundExtensions));break;case"text":e=["txt","json","fnt","atlas"];break;default:e=null}null!=e&&null!=n||Object.prototype.hasOwnProperty.call(Oe.customAssetKinds.h,this.kind)&&(u=Oe.customAssetKinds.h[this.kind],null==e&&(e=u.extensions),null==n)&&(n=u.dir),null==e&&(e=[]),null!=this.customExtensions&&(e=e.concat(this.customExtensions)),null==n&&(n=!1);var h=ae.app.screen.get_texturesDensity(),a=null,o=[],c=null,u=n?(null!=t?t.getLists():Oe).allDirsByName:(null!=t?t.getLists():Oe).allByName,_=this.name;if(null==a&&null!=_&&Nn.isAbsolute(_)&&(a=_),0<e.length){for(var d=0;d<e.length;){var b=e[d];if(++d,z.endsWith(_,"."+b)){_=he.substr(_,0,_.length-b.length-1);break}}var g=!1;if(Object.prototype.hasOwnProperty.call(u.h,_))for(var O=u.h[_],d=0;d<e.length;){for(var b=e[d],f=(++d,99999999999),p=0;p<O.length;){var C,v=O[p],v=(++p,Oe.decodePath(v));v.extension==b&&(g||(C=Math.abs(h-v.density))<f&&(f=C,v.density,a=v.path,c=v),o.push(v.path))}null!=a&&(g=!0)}}if(null==a&&(a=_),this.allPaths=o,this.set_path(a),null!=c&&null!=c.flags)for(var n=c.flags.h,w=Object.keys(n),m=w.length,y=0;y<m;){var U=w[y++];Object.prototype.hasOwnProperty.call(this.options,U)||(this.options[U]=c.flags.h[U])}},set_path:function(e){return this.path!=e&&(this.get_status()==Me.READY&&this.set_status(Me.NONE),this.path=e,this.density=null==e?1:Oe.decodePath(e).density),e},set_name:function(e){return this.name!=e&&(this.name=e,this.fullName=null!=this.variant?e+":"+this.variant:e,this.id="asset:"+this.kind+":"+this.fullName),e},set_variant:function(e){return this.variant==e?e:(this.variant=e,this.fullName=null!=e?this.name+":"+e:this.name,this.id="asset:"+this.kind+":"+this.fullName,this.name)},set_runtimeAssets:function(e){return this.runtimeAssets!=e&&(this.runtimeAssets=e,this.computePath()),e},set_handleTexturesDensityChange:function(e){return this.handleTexturesDensityChange!=e&&((this.handleTexturesDensityChange=e)?ae.app.screen.onTexturesDensityChange(this,$bind(this,this.texturesDensityDidChange)):ae.app.screen.offTexturesDensityChange($bind(this,this.texturesDensityDidChange))),e},texturesDensityDidChange:function(e,n){},set_hotReload:function(e){return this.hotReload!=e&&((this.hotReload=e)?this.owner.onAssetFilesChange(this,$bind(this,this.assetFilesDidChange)):this.owner.offAssetFilesChange($bind(this,this.assetFilesDidChange))),e},assetFilesDidChange:function(e,n){},toString:function(){var e=this.className();return null!=this.path&&""!=z.trim(this.path)?e+"("+this.fullName+" "+this.path+")":e+"("+this.fullName+")"},willEmitComplete:function(e){e&&null!=this.owner&&this.owner.emitUpdate(this)},retain:function(){this.refCount++},release:function(){0==this.refCount?ae.app.logger.warning("Called release() on asset "+K.string(this)+" when its refCount is already 0 (destroyed="+K.string(this._lifecycleState<0)+")",{fileName:"../../../../ceramic/runtime/src/ceramic/Asset.hx",lineNumber:506,className:"ceramic.Asset",methodName:"release"}):this.refCount--},unbindEvents:function(){j.prototype.unbindEvents.call(this),this.offObservedDirty(),this.offStatusChange(),this.offComplete()},__class__:Fa,__properties__:$extend(j.prototype.__properties__,{set_hotReload:"set_hotReload",set_handleTexturesDensityChange:"set_handleTexturesDensityChange",set_status:"set_status",get_status:"get_status",set_runtimeAssets:"set_runtimeAssets",set_path:"set_path",set_variant:"set_variant",set_name:"set_name"})}),function(e){var n=(this.path=e).lastIndexOf("."),t=(this.extension=he.substr(e,n+1,null).toLowerCase(),he.substr(e,0,n)),i=t.lastIndexOf("@");if(-(this.density=1)==i)i=n;else for(var l=0,s=he.substr(t,i+1,null).split("+");l<s.length;){var r,h=s[l],a=(++l,!0);z.endsWith(h,"x")&&(r=parseFloat(he.substr(h,0,h.length-1)),isNaN(r)||(this.density=r,a=!1)),a&&(null==this.flags&&(this.flags=new Nl),-1==(r=h.indexOf("="))?this.flags.h[h]=!0:(a=he.substr(h,0,r),h=he.substr(h,r+1,null),this.flags.h[a]=h))}this.name=he.substr(e,0,Math.min(i,n))}),Me=((E["ceramic.AssetPathInfo"]=Fe).__name__="ceramic.AssetPathInfo",Fe.prototype={density:null,extension:null,name:null,path:null,flags:null,toString:function(){return""+K.string({extension:this.extension,name:this.name,path:this.path,density:this.density})},__class__:Fe},_e["ceramic.AssetStatus"]={__ename__:"ceramic.AssetStatus",__constructs__:null,NONE:{_hx_name:"NONE",_hx_index:0,__enum__:"ceramic.AssetStatus",toString:c},LOADING:{_hx_name:"LOADING",_hx_index:1,__enum__:"ceramic.AssetStatus",toString:c},READY:{_hx_name:"READY",_hx_index:2,__enum__:"ceramic.AssetStatus",toString:c},BROKEN:{_hx_name:"BROKEN",_hx_index:3,__enum__:"ceramic.AssetStatus",toString:c}}),Be=(Me.__constructs__=[Me.NONE,Me.LOADING,Me.READY,Me.BROKEN],function(e,n,t){this.parseAtlas=null,this.unobservedText=null,this.textAutoruns=null,this.unobservedAtlas=null,this.atlasAutoruns=null,Fa.call(this,"atlas",e,n,t),this.set_handleTexturesDensityChange(!0),this.assets=new Oe}),Ee=((E["ceramic.AtlasAsset"]=Be).__name__="ceramic.AtlasAsset",Be.__super__=Fa,Be.prototype=$extend(Fa.prototype,{__cbOnReplaceAtlas:null,__cbOnceReplaceAtlas:null,__cbOnOwnerUnbindReplaceAtlas:null,__cbOnceOwnerUnbindReplaceAtlas:null,emitReplaceAtlas:function(e,n){var t=0;if(null!=this.__cbOnReplaceAtlas&&(t+=this.__cbOnReplaceAtlas.length),null!=this.__cbOnceReplaceAtlas&&(t+=this.__cbOnceReplaceAtlas.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnReplaceAtlas)for(var r=0,h=this.__cbOnReplaceAtlas.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnReplaceAtlas[a],++s):--t}if(null!=this.__cbOnceReplaceAtlas){for(var o=null,c=null,r=0,h=this.__cbOnceReplaceAtlas.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceReplaceAtlas[a],this.__cbOnceReplaceAtlas[a]=null,u=this.__cbOnceOwnerUnbindReplaceAtlas[a],(this.__cbOnceOwnerUnbindReplaceAtlas[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindReplaceAtlas[a]),c.push(this.__cbOnceReplaceAtlas[a]))}this.__cbOnceOwnerUnbindReplaceAtlas=o,this.__cbOnceReplaceAtlas=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onReplaceAtlas:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event replaceAtlas because owner is destroyed!");var l=function(e){null!=t&&(i.offReplaceAtlas(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindReplaceAtlas&&(this.__cbOnOwnerUnbindReplaceAtlas=[]),this.__cbOnOwnerUnbindReplaceAtlas.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindReplaceAtlas&&(this.__cbOnOwnerUnbindReplaceAtlas=[]),this.__cbOnOwnerUnbindReplaceAtlas.push(null);null==this.__cbOnReplaceAtlas&&(this.__cbOnReplaceAtlas=[]),this.__cbOnReplaceAtlas.push(t)},onceReplaceAtlas:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event replaceAtlas because owner is destroyed!");var l=function(e){null!=t&&(i.offReplaceAtlas(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindReplaceAtlas&&(this.__cbOnceOwnerUnbindReplaceAtlas=[]),this.__cbOnceOwnerUnbindReplaceAtlas.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindReplaceAtlas&&(this.__cbOnceOwnerUnbindReplaceAtlas=[]),this.__cbOnceOwnerUnbindReplaceAtlas.push(null);null==this.__cbOnceReplaceAtlas&&(this.__cbOnceReplaceAtlas=[]),this.__cbOnceReplaceAtlas.push(t)},offReplaceAtlas:function(e){if(null!=e){var n;null!=this.__cbOnReplaceAtlas&&-1!=(n=this.__cbOnReplaceAtlas.indexOf(e))&&(this.__cbOnReplaceAtlas.splice(n,1),null!=(s=this.__cbOnOwnerUnbindReplaceAtlas[n])&&s(),this.__cbOnOwnerUnbindReplaceAtlas.splice(n,1)),null!=this.__cbOnceReplaceAtlas&&-1!=(n=this.__cbOnceReplaceAtlas.indexOf(e))&&(this.__cbOnceReplaceAtlas.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindReplaceAtlas[n])&&s(),this.__cbOnceOwnerUnbindReplaceAtlas.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindReplaceAtlas){for(var t=0,i=this.__cbOnOwnerUnbindReplaceAtlas.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindReplaceAtlas[l])&&s()}this.__cbOnOwnerUnbindReplaceAtlas=null}if(null!=this.__cbOnceOwnerUnbindReplaceAtlas){for(t=0,i=this.__cbOnceOwnerUnbindReplaceAtlas.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindReplaceAtlas[l])&&s()}this.__cbOnceOwnerUnbindReplaceAtlas=null}this.__cbOnReplaceAtlas=null,this.__cbOnceReplaceAtlas=null}},listensReplaceAtlas:function(){return null!=this.__cbOnReplaceAtlas&&0<this.__cbOnReplaceAtlas.length||null!=this.__cbOnceReplaceAtlas&&0<this.__cbOnceReplaceAtlas.length},atlasAutoruns:null,get_atlas:function(){var e,n,t=this.unobservedAtlas;return null!=A.current&&(e=A.current,null!=(n=this.atlasAutoruns)||(n=A.getAutorunArray(),null!=(this.atlasAutoruns=n)))&&e.bindToAutorunArray(n),t},set_atlas:function(e){var n=this.unobservedAtlas;return n!=(this.unobservedAtlas=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitAtlasChange(e,n),null!=(n=this.atlasAutoruns))&&(this.atlasAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateAtlas:function(){var e=this.unobservedAtlas,e=(this.emitAtlasChange(e,e),this.atlasAutoruns);null!=e&&(this.atlasAutoruns=null,A.invalidateAutorunArray(e))},unobservedAtlas:null,__cbOnAtlasChange:null,__cbOnceAtlasChange:null,__cbOnOwnerUnbindAtlasChange:null,__cbOnceOwnerUnbindAtlasChange:null,emitAtlasChange:function(e,n){var t=0;if(null!=this.__cbOnAtlasChange&&(t+=this.__cbOnAtlasChange.length),null!=this.__cbOnceAtlasChange&&(t+=this.__cbOnceAtlasChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnAtlasChange)for(var r=0,h=this.__cbOnAtlasChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnAtlasChange[a],++s):--t}if(null!=this.__cbOnceAtlasChange){for(var o=null,c=null,r=0,h=this.__cbOnceAtlasChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceAtlasChange[a],this.__cbOnceAtlasChange[a]=null,u=this.__cbOnceOwnerUnbindAtlasChange[a],(this.__cbOnceOwnerUnbindAtlasChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindAtlasChange[a]),c.push(this.__cbOnceAtlasChange[a]))}this.__cbOnceOwnerUnbindAtlasChange=o,this.__cbOnceAtlasChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onAtlasChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event atlasChange because owner is destroyed!");var l=function(e){null!=t&&(i.offAtlasChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindAtlasChange&&(this.__cbOnOwnerUnbindAtlasChange=[]),this.__cbOnOwnerUnbindAtlasChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindAtlasChange&&(this.__cbOnOwnerUnbindAtlasChange=[]),this.__cbOnOwnerUnbindAtlasChange.push(null);null==this.__cbOnAtlasChange&&(this.__cbOnAtlasChange=[]),this.__cbOnAtlasChange.push(t)},onceAtlasChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event atlasChange because owner is destroyed!");var l=function(e){null!=t&&(i.offAtlasChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindAtlasChange&&(this.__cbOnceOwnerUnbindAtlasChange=[]),this.__cbOnceOwnerUnbindAtlasChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindAtlasChange&&(this.__cbOnceOwnerUnbindAtlasChange=[]),this.__cbOnceOwnerUnbindAtlasChange.push(null);null==this.__cbOnceAtlasChange&&(this.__cbOnceAtlasChange=[]),this.__cbOnceAtlasChange.push(t)},offAtlasChange:function(e){if(null!=e){var n;null!=this.__cbOnAtlasChange&&-1!=(n=this.__cbOnAtlasChange.indexOf(e))&&(this.__cbOnAtlasChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindAtlasChange[n])&&s(),this.__cbOnOwnerUnbindAtlasChange.splice(n,1)),null!=this.__cbOnceAtlasChange&&-1!=(n=this.__cbOnceAtlasChange.indexOf(e))&&(this.__cbOnceAtlasChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindAtlasChange[n])&&s(),this.__cbOnceOwnerUnbindAtlasChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindAtlasChange){for(var t=0,i=this.__cbOnOwnerUnbindAtlasChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindAtlasChange[l])&&s()}this.__cbOnOwnerUnbindAtlasChange=null}if(null!=this.__cbOnceOwnerUnbindAtlasChange){for(t=0,i=this.__cbOnceOwnerUnbindAtlasChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindAtlasChange[l])&&s()}this.__cbOnceOwnerUnbindAtlasChange=null}this.__cbOnAtlasChange=null,this.__cbOnceAtlasChange=null}},listensAtlasChange:function(){return null!=this.__cbOnAtlasChange&&0<this.__cbOnAtlasChange.length||null!=this.__cbOnceAtlasChange&&0<this.__cbOnceAtlasChange.length},textAutoruns:null,get_text:function(){var e,n,t=this.unobservedText;return null!=A.current&&(e=A.current,null!=(n=this.textAutoruns)||(n=A.getAutorunArray(),null!=(this.textAutoruns=n)))&&e.bindToAutorunArray(n),t},set_text:function(e){var n=this.unobservedText;return n!=(this.unobservedText=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitTextChange(e,n),null!=(n=this.textAutoruns))&&(this.textAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateText:function(){var e=this.unobservedText,e=(this.emitTextChange(e,e),this.textAutoruns);null!=e&&(this.textAutoruns=null,A.invalidateAutorunArray(e))},unobservedText:null,__cbOnTextChange:null,__cbOnceTextChange:null,__cbOnOwnerUnbindTextChange:null,__cbOnceOwnerUnbindTextChange:null,emitTextChange:function(e,n){var t=0;if(null!=this.__cbOnTextChange&&(t+=this.__cbOnTextChange.length),null!=this.__cbOnceTextChange&&(t+=this.__cbOnceTextChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnTextChange)for(var r=0,h=this.__cbOnTextChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnTextChange[a],++s):--t}if(null!=this.__cbOnceTextChange){for(var o=null,c=null,r=0,h=this.__cbOnceTextChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceTextChange[a],this.__cbOnceTextChange[a]=null,u=this.__cbOnceOwnerUnbindTextChange[a],(this.__cbOnceOwnerUnbindTextChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindTextChange[a]),c.push(this.__cbOnceTextChange[a]))}this.__cbOnceOwnerUnbindTextChange=o,this.__cbOnceTextChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onTextChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event textChange because owner is destroyed!");var l=function(e){null!=t&&(i.offTextChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindTextChange&&(this.__cbOnOwnerUnbindTextChange=[]),this.__cbOnOwnerUnbindTextChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindTextChange&&(this.__cbOnOwnerUnbindTextChange=[]),this.__cbOnOwnerUnbindTextChange.push(null);null==this.__cbOnTextChange&&(this.__cbOnTextChange=[]),this.__cbOnTextChange.push(t)},onceTextChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event textChange because owner is destroyed!");var l=function(e){null!=t&&(i.offTextChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindTextChange&&(this.__cbOnceOwnerUnbindTextChange=[]),this.__cbOnceOwnerUnbindTextChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindTextChange&&(this.__cbOnceOwnerUnbindTextChange=[]),this.__cbOnceOwnerUnbindTextChange.push(null);null==this.__cbOnceTextChange&&(this.__cbOnceTextChange=[]),this.__cbOnceTextChange.push(t)},offTextChange:function(e){if(null!=e){var n;null!=this.__cbOnTextChange&&-1!=(n=this.__cbOnTextChange.indexOf(e))&&(this.__cbOnTextChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindTextChange[n])&&s(),this.__cbOnOwnerUnbindTextChange.splice(n,1)),null!=this.__cbOnceTextChange&&-1!=(n=this.__cbOnceTextChange.indexOf(e))&&(this.__cbOnceTextChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindTextChange[n])&&s(),this.__cbOnceOwnerUnbindTextChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindTextChange){for(var t=0,i=this.__cbOnOwnerUnbindTextChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindTextChange[l])&&s()}this.__cbOnOwnerUnbindTextChange=null}if(null!=this.__cbOnceOwnerUnbindTextChange){for(t=0,i=this.__cbOnceOwnerUnbindTextChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindTextChange[l])&&s()}this.__cbOnceOwnerUnbindTextChange=null}this.__cbOnTextChange=null,this.__cbOnceTextChange=null}},listensTextChange:function(){return null!=this.__cbOnTextChange&&0<this.__cbOnTextChange.length||null!=this.__cbOnceTextChange&&0<this.__cbOnceTextChange.length},parseAtlas:null,load:function(){for(var u=this,_=(null!=this.owner&&(this.assets.inheritRuntimeAssetsFromAssets(this.owner),this.assets.loadMethod=this.owner.loadMethod,this.assets.scheduleMethod=this.owner.scheduleMethod,this.assets.delayBetweenXAssets=this.owner.delayBetweenXAssets),[]),a=this.assets.iterator();a.hasNext();){var e=a.next();_.push(e)}this.set_status(Me.LOADING),null==this.path?(ae.app.logger.warning("Cannot load atlas asset if path is undefined.",{fileName:"../../../../ceramic/runtime/src/ceramic/AtlasAsset.hx",lineNumber:127,className:"ceramic.AtlasAsset",methodName:"load"}),this.set_status(Me.BROKEN),this.emitComplete(!1)):(ae.app.logger.info("Load atlas "+this.path,{fileName:"../../../../ceramic/runtime/src/ceramic/AtlasAsset.hx",lineNumber:133,className:"ceramic.AtlasAsset",methodName:"load"}),this.assets.runtimeAssets=this.runtimeAssets,(a=new ft(this.name)).set_handleTexturesDensityChange(!1),this.assets.addAsset(a),a.set_path(this.path),this.assets.onceComplete(this,function(e){if(u.set_text(a.get_text()),null!=u.get_text())try{for(var o=null!=u.parseAtlas?u.parseAtlas(u.get_text()):mt.parse(u.get_text()),c=(o.id="atlas:"+u.path,[]),n=0,t=o.pages.length;n<t;){var i=n++,l=o.pages[i].get_name(),s=Nn.directory(u.path),r=(null!=s&&0<s.length&&(l=Nn.join([s,l])),Oe.decodePath(l)),h=new fn(r.name);h.set_handleTexturesDensityChange(!1),h.set_path(r.path),u.assets.addAsset(h),c.push(h)}u.assets.onceComplete(u,function(e){if(e){for(var n=0,t=c.length;n<t;){var i=n++,l=(a=c[i]).get_texture();null!=l&&l.set_filter(o.pages[i].get_filter()),o.pages[i].set_texture(l)}o.computeFrames();var s=u.get_atlas();if((o.asset=u).set_atlas(o),null!=s){u.emitReplaceAtlas(u.get_atlas(),s);for(n=0,t=[].concat(ae.app.visuals);n<t.length;){var r,h=t[n];++n,0<=h._lifecycleState&&null!=h.asQuad&&null!=(h=h.asQuad).tile&&h.tile instanceof Ut&&null!=(r=h.tile)&&r.atlas==s&&(null!=(r=r.name)&&null!=(r=o.region(r))?h.set_tile(r):h.set_tile(null))}s.asset=null,s.destroy()}for(n=0;n<_.length;){var a=_[n];++n,a instanceof fn&&-1!=c.indexOf(a)||a.destroy()}u.set_status(Me.READY),u.emitComplete(!0),u.handleTexturesDensityChange&&u.checkTexturesDensity()}else u.set_status(Me.BROKEN),ae.app.logger.error("Failed to load textures for atlas at path: "+u.path,{fileName:"../../../../ceramic/runtime/src/ceramic/AtlasAsset.hx",lineNumber:261,className:"ceramic.AtlasAsset",methodName:"load"}),u.emitComplete(!1)}),u.assets.load(null,{fileName:"../../../../ceramic/runtime/src/ceramic/AtlasAsset.hx",lineNumber:267,className:"ceramic.AtlasAsset",methodName:"load"})}catch(n){Sl.lastError=n,u.set_status(Me.BROKEN),ae.app.logger.error("Failed to decode atlas data at path: "+u.path,{fileName:"../../../../ceramic/runtime/src/ceramic/AtlasAsset.hx",lineNumber:271,className:"ceramic.AtlasAsset",methodName:"load"}),u.emitComplete(!1)}else u.set_status(Me.BROKEN),ae.app.logger.error("Failed to load atlas data at path: "+u.path,{fileName:"../../../../ceramic/runtime/src/ceramic/AtlasAsset.hx",lineNumber:277,className:"ceramic.AtlasAsset",methodName:"load"}),u.emitComplete(!1)}),this.assets.load(null,{fileName:"../../../../ceramic/runtime/src/ceramic/AtlasAsset.hx",lineNumber:282,className:"ceramic.AtlasAsset",methodName:"load"}))},texturesDensityDidChange:function(e,n){this.get_status()==Me.READY&&this.checkTexturesDensity()},checkTexturesDensity:function(){var e;null!=this.owner&&this.owner.reloadOnTextureDensityChange&&(e=this.path,this.computePath(),e!=this.path)&&(ae.app.logger.info("Reload atlas ("+e+" -> "+this.path+")",{fileName:"../../../../ceramic/runtime/src/ceramic/AtlasAsset.hx",lineNumber:316,className:"ceramic.AtlasAsset",methodName:"checkTexturesDensity"}),this.load())},assetFilesDidChange:function(e,n){var t=-1,n=(Object.prototype.hasOwnProperty.call(n.h,this.path)&&(t=n.h[this.path]),-1);(n=Object.prototype.hasOwnProperty.call(e.h,this.path)?e.h[this.path]:n)!=t&&(ae.app.logger.info("Reload atlas (file has changed)",{fileName:"../../../../ceramic/runtime/src/ceramic/AtlasAsset.hx",lineNumber:343,className:"ceramic.AtlasAsset",methodName:"assetFilesDidChange"}),this.load())},destroy:function(){this._lifecycleState<=-2||(this._lifecycleState=-2,this._lifecycleState=-1,Fa.prototype.destroy.call(this),null!=this.get_atlas()&&(this.get_atlas().destroy(),this.set_atlas(null)))},unbindEvents:function(){Fa.prototype.unbindEvents.call(this),this.offReplaceAtlas(),this.offAtlasChange(),this.offTextChange()},__class__:Be,__properties__:$extend(Fa.prototype.__properties__,{set_text:"set_text",get_text:"get_text",set_atlas:"set_atlas",get_atlas:"get_atlas"})}),function(){this.busFilters=[],j.call(this),this.mixers=new Pn,this.mixers.exists(0)||this.mixers.set(0,new Re(0))}),Re=((E["ceramic.Audio"]=Ee).__name__="ceramic.Audio",Ee.__super__=j,Ee.prototype=$extend(j.prototype,{mixers:null,busFilters:null,initMixerIfNeeded:function(e){this.mixers.exists(e)||this.mixers.set(e,new Re(e))},mixer:function(e){this.mixers.exists(e)||this.mixers.set(e,new Re(e));var n=this.mixers,t=n._keys.intMap.h[0|e];return 2<=(e=null!=t?t:0)?n.values[e-2]:Pn.RET_NULL},addFilter:function(e,n){if((n=null==n?0:n)<0)throw $.thrown("Invalid bus "+n+", must be 0 or higher");for(-1!=e.bus&&this._removeFilter(e,e.bus);this.busFilters.length<=n;)this.busFilters.push([]);this.busFilters[n].push(e),e.attach(n),ae.app.backend.audio.addFilter(n,e,$bind(e,e.emitReady));for(var t=0,i=this.busFilters[n].length;t<i;){var l=t++;ae.app.backend.audio.filterParamsChanged(n,this.busFilters[n][l].filterId)}},removeFilter:function(e,n){this._removeFilter(e,n)},_removeFilter:function(e,n){if(!((n=null==n?e.bus:n)<0||n>=this.busFilters.length)){var t=this.busFilters[n].indexOf(e);if(-1!=t){e.detach(n),this.busFilters[n].splice(t,1),ae.app.backend.audio.removeFilter(n,e.filterId);for(var i=0,l=this.busFilters[n].length;i<l;){var s=i++;ae.app.backend.audio.filterParamsChanged(n,this.busFilters[n][s].filterId)}}}},filters:function(e){e=this.busFilters[e];return e=null!=e?[].concat(e):[]},clearFilters:function(e){if(e<this.busFilters.length)for(var n=this.busFilters[e];0<n.length;)this._removeFilter(n[n.length-1],e)},__class__:Ee}),(E["ceramic.AudioFilter"]=Ma).__name__="ceramic.AudioFilter",Ma.__super__=j,Ma.prototype=$extend(j.prototype,{__cbOnReady:null,__cbOnceReady:null,__cbOnOwnerUnbindReady:null,__cbOnceOwnerUnbindReady:null,emitReady:function(e){var n=0;if(null!=this.__cbOnReady&&(n+=this.__cbOnReady.length),null!=this.__cbOnceReady&&(n+=this.__cbOnceReady.length),0<n){var t=C.pool(n),i=t.get(),l=0;if(null!=this.__cbOnReady)for(var s=0,r=this.__cbOnReady.length;s<r;){var h=s++;!0?(i.vector[l]=this.__cbOnReady[h],++l):--n}if(null!=this.__cbOnceReady){for(var a=null,o=null,s=0,r=this.__cbOnceReady.length;s<r;){var c,h=s++;!0?(i.vector[l]=this.__cbOnceReady[h],this.__cbOnceReady[h]=null,c=this.__cbOnceOwnerUnbindReady[h],(this.__cbOnceOwnerUnbindReady[h]=null)!=c&&c(),++l):(--n,null==a&&(a=[],o=[],0),a.push(this.__cbOnceOwnerUnbindReady[h]),o.push(this.__cbOnceReady[h]))}this.__cbOnceOwnerUnbindReady=a,this.__cbOnceReady=o}for(s=0,r=n;s<r;){l=s++;(0,i.vector[l])(e)}t.release(i)}},onReady:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event ready because owner is destroyed!");var l=function(e){null!=t&&(i.offReady(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindReady&&(this.__cbOnOwnerUnbindReady=[]),this.__cbOnOwnerUnbindReady.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindReady&&(this.__cbOnOwnerUnbindReady=[]),this.__cbOnOwnerUnbindReady.push(null);null==this.__cbOnReady&&(this.__cbOnReady=[]),this.__cbOnReady.push(t)},onceReady:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event ready because owner is destroyed!");var l=function(e){null!=t&&(i.offReady(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindReady&&(this.__cbOnceOwnerUnbindReady=[]),this.__cbOnceOwnerUnbindReady.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindReady&&(this.__cbOnceOwnerUnbindReady=[]),this.__cbOnceOwnerUnbindReady.push(null);null==this.__cbOnceReady&&(this.__cbOnceReady=[]),this.__cbOnceReady.push(t)},offReady:function(e){if(null!=e){var n;null!=this.__cbOnReady&&-1!=(n=this.__cbOnReady.indexOf(e))&&(this.__cbOnReady.splice(n,1),null!=(s=this.__cbOnOwnerUnbindReady[n])&&s(),this.__cbOnOwnerUnbindReady.splice(n,1)),null!=this.__cbOnceReady&&-1!=(n=this.__cbOnceReady.indexOf(e))&&(this.__cbOnceReady.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindReady[n])&&s(),this.__cbOnceOwnerUnbindReady.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindReady){for(var t=0,i=this.__cbOnOwnerUnbindReady.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindReady[l])&&s()}this.__cbOnOwnerUnbindReady=null}if(null!=this.__cbOnceOwnerUnbindReady){for(t=0,i=this.__cbOnceOwnerUnbindReady.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindReady[l])&&s()}this.__cbOnceOwnerUnbindReady=null}this.__cbOnReady=null,this.__cbOnceReady=null}},listensReady:function(){return null!=this.__cbOnReady&&0<this.__cbOnReady.length||null!=this.__cbOnceReady&&0<this.__cbOnceReady.length},filterId:null,bus:null,active:null,params:null,paramsChanged:null,paramsAcquired:null,getBool:function(e){e=this.params[e];return null!=e&&0!=e},getInt:function(e){e=this.params[e];return null!=e?0|e:0},getFloat:function(e){e=this.params[e];return null!=e?e:0},setBool:function(e,n){var t=!this.paramsAcquired,i=(t&&this.acquireParams(),this.params[e]),n=n?1:0;(this.params[e]=n)!=i&&(this.paramsChanged=!0),t&&this.releaseParams()},setInt:function(e,n){var t=!this.paramsAcquired,i=(t&&this.acquireParams(),this.params[e]);(this.params[e]=n)!=i&&(this.paramsChanged=!0),t&&this.releaseParams()},setFloat:function(e,n){var t=!this.paramsAcquired,i=(t&&this.acquireParams(),this.params[e]);(this.params[e]=n)!=i&&(this.paramsChanged=!0),t&&this.releaseParams()},acquireParams:function(){this.paramsChanged=!1,this.paramsAcquired=!0},releaseParams:function(){var e=this.paramsChanged;this.paramsChanged=!1,this.paramsAcquired=!1,e&&0<=this.bus&&ae.app.backend.audio.filterParamsChanged(this.bus,this.filterId)},_initDefaultParamValues:function(){},attach:function(e){this.bus=e},detach:function(e){this.bus=-1},workletClass:null,numParams:function(){return 0},destroy:function(){this._lifecycleState<=-2||(this._lifecycleState=-2,-1!=this.bus&&ae.app.audio.removeFilter(this),this._lifecycleState=-1,j.prototype.destroy.call(this))},unbindEvents:function(){j.prototype.unbindEvents.call(this),this.offReady()},__class__:Ma}),(E["ceramic.AudioFilterWorklet"]=Na).__name__="ceramic.AudioFilterWorklet",Na.prototype={filterId:null,bus:null,active:null,params:null,getBool:function(e){e=this.params[e];return null!=e&&0!=e},getInt:function(e){e=this.params[e];return null!=e?0|e:0},getFloat:function(e){e=this.params[e];return null!=e?e:0},numParams:function(){return 0},process:null,__class__:Na},function(e){this.mute=!1,this.pitch=1,this.pan=0,this.volume=.5,j.call(this),this.index=e}),Le=((E["ceramic.AudioMixer"]=Re).__name__="ceramic.AudioMixer",Re.__super__=j,Re.prototype=$extend(j.prototype,{volume:null,pan:null,pitch:null,mute:null,index:null,__class__:Re}),(E["ceramic.AutoCollections"]=Pa).__name__="ceramic.AutoCollections",Pa.__isInterface__=!0,(E["ceramic.BackgroundQueue"]=Qa).__name__="ceramic.BackgroundQueue",Qa.__super__=j,Qa.prototype=$extend(j.prototype,{checkInterval:null,runsInBackground:null,stop:null,pending:null,schedule:function(e){ae.app._onceImmediate(e)},destroy:function(){this._lifecycleState<=-2||(this._lifecycleState=-2,this._lifecycleState=-1,j.prototype.destroy.call(this),this.stop=!0)},__class__:Qa}),(E["ceramic.BezierEasing"]=Ra).__name__="ceramic.BezierEasing",Ra.quadraticToCubicCP1=function(e){return Ra.TWO_THIRD*e},Ra.quadraticToCubicCP2=function(e){return 1+Ra.TWO_THIRD*(e-1)},Ra.cacheKey=function(e,n,t,i){return 0|1e4*e+1e5*n+1e6*t+1e7*i},Ra.clearCache=function(){Ra.cachedInstances=null,Ra.numCachedInstances=0},Ra.get=function(e,n,t,i){var l=null==t||null==i,s=l?Ra.TWO_THIRD*e:e,r=l?Ra.TWO_THIRD*n:n,h=l?1+Ra.TWO_THIRD*(e-1):t,a=l?1+Ra.TWO_THIRD*(n-1):i,o=null,l=0|1e4*s+1e5*r+1e6*h+1e7*a,c=Ra.cachedInstances=null==Ra.cachedInstances?new Pn:Ra.cachedInstances,u=c._keys.intMap.h[0|l],u=null!=u?u:0,_=2<=u?c.values[u-2]:Pn.RET_NULL;if(null==_)Ra.CACHE_SIZE<=Ra.numCachedInstances&&Ra.clearCache(),o=new Ra(s,r,h,a),Ra.cachedInstances.set(l,[o]),Ra.numCachedInstances++;else{for(var d=_.length-1;0<=d;){var b=_[d];if(b.mX1==s&&b.mY1==r&&b.mX2==h&&b.mY2==a){o=b;break}--d}null==o&&((o=new Ra(e,n,t,i)).cached=!0,_.push(o))}return o},Ra.prototype={linearEasing:null,sampleValues:null,cached:null,quadratic:null,mQuadraticX1:null,mQuadraticX2:null,mX1:null,mY1:null,mX2:null,mY2:null,configure:function(e,n,t,i){if(this.cached&&this.removeFromCache(this.mX1,this.mY1,this.mX2,this.mY2),null==t||null==i?(this.quadratic=!0,this.mQuadraticX1=e,this.mQuadraticX2=t,this.mX1=Ra.TWO_THIRD*e,this.mY1=Ra.TWO_THIRD*n,this.mX2=1+Ra.TWO_THIRD*(e-1),this.mY2=1+Ra.TWO_THIRD*(n-1)):(this.quadratic=!1,this.mX1=e,this.mY1=n,this.mX2=t,this.mY2=i),this.mX1==this.mY1&&this.mX2==this.mY2)this.linearEasing=!0;else{this.linearEasing=!1,null==this.sampleValues&&(this.sampleValues=[]);for(var l=0,s=Ra.SPLINE_TABLE_SIZE;l<s;){var r=l++,h=r*Ra.SAMPLE_STEP_SIZE,a=this.mX1,o=this.mX2;this.sampleValues[r]=(((1-3*o+3*a)*h+(3*o-6*a))*h+3*a)*h}}},ease:function(e){if(this.linearEasing)return e;if(0==e)return 0;if(1==e)return 1;for(var n=0,t=1,i=Ra.SPLINE_TABLE_SIZE-1;t!=i&&this.sampleValues[t]<=e;)n+=Ra.SAMPLE_STEP_SIZE,++t;var l,s=n+(e-this.sampleValues[--t])/(this.sampleValues[t+1]-this.sampleValues[t])*Ra.SAMPLE_STEP_SIZE,r=this.mX1,h=this.mX2,a=3*(1-3*h+3*r)*s*s+2*(3*h-6*r)*s+3*r;if(Ra.NEWTON_MIN_SLOPE<=a)l=this.newtonRaphsonIterate(e,s,this.mX1,this.mX2);else if(0==a)l=s;else{for(var o,c,u=n,_=n+Ra.SAMPLE_STEP_SIZE,d=this.mX1,b=this.mX2,g=0;0<(o=(((1-3*b+3*d)*(c=u+(_-u)/2)+(3*b-6*d))*c+3*d)*c-e)?_=c:u=c,Math.abs(o)>Ra.SUBDIVISION_PRECISION&&++g<Ra.SUBDIVISION_MAX_ITERATIONS;);l=c}r=this.mY1;return(((1-3*(h=this.mY2)+3*r)*l+(3*h-6*r))*l+3*r)*l},getTForX:function(e){for(var n=0,t=1,i=Ra.SPLINE_TABLE_SIZE-1;t!=i&&this.sampleValues[t]<=e;)n+=Ra.SAMPLE_STEP_SIZE,++t;var l=n+(e-this.sampleValues[--t])/(this.sampleValues[t+1]-this.sampleValues[t])*Ra.SAMPLE_STEP_SIZE,s=this.mX1,r=this.mX2,r=3*(1-3*r+3*s)*l*l+2*(3*r-6*s)*l+3*s;if(Ra.NEWTON_MIN_SLOPE<=r)return this.newtonRaphsonIterate(e,l,this.mX1,this.mX2);if(0==r)return l;for(var h,a,o=n,c=n+Ra.SAMPLE_STEP_SIZE,u=this.mX1,_=this.mX2,d=0;0<(h=(((1-3*_+3*u)*(a=o+(c-o)/2)+(3*_-6*u))*a+3*u)*a-e)?c=a:o=a,Math.abs(h)>Ra.SUBDIVISION_PRECISION&&++d<Ra.SUBDIVISION_MAX_ITERATIONS;);return a},calcBezier:function(e,n,t){return(((1-3*t+3*n)*e+(3*t-6*n))*e+3*n)*e},getSlope:function(e,n,t){return 3*(1-3*t+3*n)*e*e+2*(3*t-6*n)*e+3*n},binarySubdivide:function(e,n,t,i,l){for(var s,r,h=0;0<(s=(((1-3*l+3*i)*(r=n+(t-n)/2)+(3*l-6*i))*r+3*i)*r-e)?t=r:n=r,Math.abs(s)>Ra.SUBDIVISION_PRECISION&&++h<Ra.SUBDIVISION_MAX_ITERATIONS;);return r},newtonRaphsonIterate:function(e,n,t,i){for(var l=0,s=Ra.NEWTON_ITERATIONS;l<s;){l++;var r=3*(1-3*i+3*t)*n*n+2*(3*i-6*t)*n+3*t;if(0==r)return n;n-=((((1-3*i+3*t)*n+(3*i-6*t))*n+3*t)*n-e)/r}return n},A:function(e,n){return 1-3*n+3*e},B:function(e,n){return 3*n-6*e},C:function(e){return 3*e},removeFromCache:function(e,n,t,i){this.cached=!1;e=0|1e4*e+1e5*n+1e6*t+1e7*i;null!=Ra.cachedInstances&&null!=(t=2<=(i=null!=(t=(n=Ra.cachedInstances)._keys.intMap.h[0|e])?t:0)?n.values[i-2]:Pn.RET_NULL)&&(1==t.length&&t[0]==this?Ra.cachedInstances.remove(e):he.remove(t,this))},__class__:Ra},function(e,n,t){this.unobservedBytes=null,this.bytesAutoruns=null,Fa.call(this,"binary",e,n,t)}),He=((E["ceramic.BinaryAsset"]=Le).__name__="ceramic.BinaryAsset",Le.__super__=Fa,Le.prototype=$extend(Fa.prototype,{bytesAutoruns:null,get_bytes:function(){var e,n,t=this.unobservedBytes;return null!=A.current&&(e=A.current,null!=(n=this.bytesAutoruns)||(n=A.getAutorunArray(),null!=(this.bytesAutoruns=n)))&&e.bindToAutorunArray(n),t},set_bytes:function(e){var n=this.unobservedBytes;return n!=(this.unobservedBytes=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitBytesChange(e,n),null!=(n=this.bytesAutoruns))&&(this.bytesAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateBytes:function(){var e=this.unobservedBytes,e=(this.emitBytesChange(e,e),this.bytesAutoruns);null!=e&&(this.bytesAutoruns=null,A.invalidateAutorunArray(e))},unobservedBytes:null,__cbOnBytesChange:null,__cbOnceBytesChange:null,__cbOnOwnerUnbindBytesChange:null,__cbOnceOwnerUnbindBytesChange:null,emitBytesChange:function(e,n){var t=0;if(null!=this.__cbOnBytesChange&&(t+=this.__cbOnBytesChange.length),null!=this.__cbOnceBytesChange&&(t+=this.__cbOnceBytesChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnBytesChange)for(var r=0,h=this.__cbOnBytesChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnBytesChange[a],++s):--t}if(null!=this.__cbOnceBytesChange){for(var o=null,c=null,r=0,h=this.__cbOnceBytesChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceBytesChange[a],this.__cbOnceBytesChange[a]=null,u=this.__cbOnceOwnerUnbindBytesChange[a],(this.__cbOnceOwnerUnbindBytesChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindBytesChange[a]),c.push(this.__cbOnceBytesChange[a]))}this.__cbOnceOwnerUnbindBytesChange=o,this.__cbOnceBytesChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onBytesChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event bytesChange because owner is destroyed!");var l=function(e){null!=t&&(i.offBytesChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindBytesChange&&(this.__cbOnOwnerUnbindBytesChange=[]),this.__cbOnOwnerUnbindBytesChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindBytesChange&&(this.__cbOnOwnerUnbindBytesChange=[]),this.__cbOnOwnerUnbindBytesChange.push(null);null==this.__cbOnBytesChange&&(this.__cbOnBytesChange=[]),this.__cbOnBytesChange.push(t)},onceBytesChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event bytesChange because owner is destroyed!");var l=function(e){null!=t&&(i.offBytesChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindBytesChange&&(this.__cbOnceOwnerUnbindBytesChange=[]),this.__cbOnceOwnerUnbindBytesChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindBytesChange&&(this.__cbOnceOwnerUnbindBytesChange=[]),this.__cbOnceOwnerUnbindBytesChange.push(null);null==this.__cbOnceBytesChange&&(this.__cbOnceBytesChange=[]),this.__cbOnceBytesChange.push(t)},offBytesChange:function(e){if(null!=e){var n;null!=this.__cbOnBytesChange&&-1!=(n=this.__cbOnBytesChange.indexOf(e))&&(this.__cbOnBytesChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindBytesChange[n])&&s(),this.__cbOnOwnerUnbindBytesChange.splice(n,1)),null!=this.__cbOnceBytesChange&&-1!=(n=this.__cbOnceBytesChange.indexOf(e))&&(this.__cbOnceBytesChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindBytesChange[n])&&s(),this.__cbOnceOwnerUnbindBytesChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindBytesChange){for(var t=0,i=this.__cbOnOwnerUnbindBytesChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindBytesChange[l])&&s()}this.__cbOnOwnerUnbindBytesChange=null}if(null!=this.__cbOnceOwnerUnbindBytesChange){for(t=0,i=this.__cbOnceOwnerUnbindBytesChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindBytesChange[l])&&s()}this.__cbOnceOwnerUnbindBytesChange=null}this.__cbOnBytesChange=null,this.__cbOnceBytesChange=null}},listensBytesChange:function(){return null!=this.__cbOnBytesChange&&0<this.__cbOnBytesChange.length||null!=this.__cbOnceBytesChange&&0<this.__cbOnceBytesChange.length},load:function(){var n=this;if(this.set_status(Me.LOADING),null==this.path)ae.app.logger.warning("Cannot load binary asset if path is undefined.",{fileName:"../../../../ceramic/runtime/src/ceramic/BinaryAsset.hx",lineNumber:79,className:"ceramic.BinaryAsset",methodName:"load"}),this.set_status(Me.BROKEN),this.emitComplete(!1);else{var e={};if(null!=this.owner&&(e.immediate=this.owner.immediate,e.loadMethod=this.owner.loadMethod),null!=this.options)for(var t=0,i=L.fields(this.options);t<i.length;){var l=i[t];++t,e[l]=L.field(this.options,l)}var s=this.path,r=Oe.realAssetPath(s,this.runtimeAssets),h=Oe.getReloadCount(r);0<h&&(r+="?hot="+h,s+="?hot="+h),ae.app.logger.info("Load binary "+s,{fileName:"../../../../ceramic/runtime/src/ceramic/BinaryAsset.hx",lineNumber:105,className:"ceramic.BinaryAsset",methodName:"load"}),ae.app.backend.binaries.load(r,e,function(e){null!=e?(n.set_bytes(e),n.set_status(Me.READY),n.emitComplete(!0)):(n.set_status(Me.BROKEN),ae.app.logger.error("Failed to load binary at path: "+n.path,{fileName:"../../../../ceramic/runtime/src/ceramic/BinaryAsset.hx",lineNumber:115,className:"ceramic.BinaryAsset",methodName:"load"}),n.emitComplete(!1))})}},assetFilesDidChange:function(e,n){var t=-1,n=(Object.prototype.hasOwnProperty.call(n.h,this.path)&&(t=n.h[this.path]),-1);(n=Object.prototype.hasOwnProperty.call(e.h,this.path)?e.h[this.path]:n)!=t&&(ae.app.logger.info("Reload binary (file has changed)",{fileName:"../../../../ceramic/runtime/src/ceramic/BinaryAsset.hx",lineNumber:144,className:"ceramic.BinaryAsset",methodName:"assetFilesDidChange"}),this.load())},destroy:function(){this._lifecycleState<=-2||(this._lifecycleState=-2,this._lifecycleState=-1,Fa.prototype.destroy.call(this),this.set_bytes(null))},unbindEvents:function(){Fa.prototype.unbindEvents.call(this),this.offBytesChange()},__class__:Le,__properties__:$extend(Fa.prototype.__properties__,{set_bytes:"set_bytes",get_bytes:"get_bytes"})}),(E["ceramic.BitmapFont"]=Ta).__name__="ceramic.BitmapFont",Ta.__super__=j,Ta.prototype=$extend(j.prototype,{pages:null,fontData:null,set_fontData:function(e){return null!=(this.fontData=e)&&(this.spaceChar=e.chars.get(32),null==e.chars.get(160))&&e.chars.set(160,this.spaceChar),e},get_face:function(){return this.fontData.face},set_face:function(e){return this.fontData.face=e},get_pointSize:function(){return this.fontData.pointSize},set_pointSize:function(e){return this.fontData.pointSize=e},get_baseSize:function(){return this.fontData.baseSize},set_baseSize:function(e){return this.fontData.baseSize=e},get_chars:function(){return this.fontData.chars},set_chars:function(e){return this.fontData.chars=e},get_charCount:function(){return this.fontData.charCount},set_charCount:function(e){return this.fontData.charCount=e},get_lineHeight:function(){return this.fontData.lineHeight},set_lineHeight:function(e){return this.fontData.lineHeight=e},get_kernings:function(){return this.fontData.kernings},set_kernings:function(e){return this.fontData.kernings=e},get_msdf:function(){return null!=this.fontData.distanceField&&"msdf"==this.fontData.distanceField.fieldType},spaceChar:null,pageShaders:null,preRenderedPages:null,_preRenderingPages:null,asset:null,destroy:function(){if(!(this._lifecycleState<=-2)){if(this._lifecycleState=-2,this._lifecycleState=-1,j.prototype.destroy.call(this),null!=this.asset&&this.asset.destroy(),null!=this.pages){for(var e=this.pages.iterableKeys,n=0,t=e.length;n<t;){var i=n++;(r=this.pages.get(e[i])).destroy()}this.pages=null}if(null!=this.pageShaders){for(var l=this.pageShaders.iterator();l.hasNext();)l.next().destroy();this.pageShaders=null}if(null!=this.preRenderedPages){for(var s=this.preRenderedPages.iterator();s.hasNext();)for(var r=s.next().iterator();r.hasNext();)r.next().destroy();this.preRenderedPages=null}}},needsToPreRenderAtSize:function(e){if(null==this.preRenderedPages||!this.preRenderedPages.h.hasOwnProperty(e))return!0;for(var n=this.preRenderedPages.h[e],t=0,i=this.pages.iterableKeys;t<i.length;){var l=i[t];if(++t,!n.h.hasOwnProperty(l))return!0}return!1},preRenderAtSize:function(e,n){for(var t=0,i=0,l=this.pages.iterableKeys;i<l.length;){var s=l[i];++i,t+=1,this.preRenderPage(s,e,function(){0==--t&&(n(),n=null)})}},preRenderPage:function(e,n,t){var i,l=this;if((null==this.preRenderedPages&&(this.preRenderedPages=new Ll),null!=this._preRenderingPages)&&null!=(i=this._preRenderingPages.h[n]))return void(null!=(s=i.h[e])&&s.push(t));null==this._preRenderingPages&&(this._preRenderingPages=new Ll),null==(i=this._preRenderingPages.h[n])&&(i=new Ll,this._preRenderingPages.h[n]=i);null==(s=i.h[e])&&(s=[],i.h[e]=s);var s,r=this.preRenderedPages.h[n],h=this.pages.get(e);if(null==h)throw $.thrown("Invalid bitmap font page with id "+e);var a=n/this.fontData.pointSize,o=Math.ceil(h.width*h.density*a),a=Math.ceil(h.width*h.density*a),c=new jn(o,a,1),u=(c.clearOnRender=!0,c.autoRender=!1,new p);u._texture!=h&&u._set_texture(h),u.set_width(o),u.set_height(a),u.set_shader(null!=this.pageShaders?this.pageShaders.h[e]:null),u.set_visible(!1),null!=r&&r.h.hasOwnProperty(e)&&r.h[e].destroy(),c.stamp(u,function(){for(u.destroy(),(u=null)==r&&(r=new Ll,l.preRenderedPages.h[n]=r),r.h[e]=c,t(),t=null,i.remove(e);0<s.length;)s.shift()(),0})},kerning:function(e,n){var e=this.fontData.kernings.get(e);return null!=e&&e.intMap.h.hasOwnProperty(0|n)&&null!=(e=e.intMap.h[0|n])?e:0},__class__:Ta,__properties__:$extend(j.prototype.__properties__,{get_msdf:"get_msdf",set_kernings:"set_kernings",get_kernings:"get_kernings",set_lineHeight:"set_lineHeight",get_lineHeight:"get_lineHeight",set_charCount:"set_charCount",get_charCount:"get_charCount",set_chars:"set_chars",get_chars:"get_chars",set_baseSize:"set_baseSize",get_baseSize:"get_baseSize",set_pointSize:"set_pointSize",get_pointSize:"get_pointSize",set_face:"set_face",get_face:"get_face",set_fontData:"set_fontData"})}),(E["ceramic.BitmapFontCharacter"]=Ua).__name__="ceramic.BitmapFontCharacter",Ua.prototype={id:null,x:null,y:null,width:null,height:null,xOffset:null,yOffset:null,xAdvance:null,page:null,__class__:Ua},(E["ceramic.BitmapFontData"]=Va).__name__="ceramic.BitmapFontData",Va.prototype={face:null,path:null,pointSize:null,baseSize:null,chars:null,charCount:null,distanceField:null,pages:null,lineHeight:null,kernings:null,smooth:null,aa:null,needsReparsing:null,rawFontData:null,__class__:Va},(E["ceramic.BitmapFontDataPage"]=Wa).__name__="ceramic.BitmapFontDataPage",Wa.prototype={id:null,file:null,__class__:Wa},(E["ceramic.BitmapFontDistanceFieldData"]=Xa).__name__="ceramic.BitmapFontDistanceFieldData",Xa.prototype={fieldType:null,distanceRange:null,__class__:Xa},(E["ceramic.BitmapFontParser"]=Ya).__name__="ceramic.BitmapFontParser",Ya.parse=function(e,n,t){if(0==e.length)throw $.thrown("BitmapFont: fontData is 0 length");if(z.startsWith(z.trim(e),"<"))try{e=Ya.convertXmlFontData(e)}catch(a){Sl.lastError=a;var i=$.caught(a).unwrap();throw $.thrown("BitmapFont: invalid xml font data specified for parser: "+K.string(i))}var l=!1,s=e;if(-1!=e.indexOf("CONSTRUCT 3")&&-1!=e.indexOf("Character width:")){l=!0;try{e=Ya.convertConstruct3FontData(e,null!=n?n:"font.png",t)}catch(a){Sl.lastError=a;i=$.caught(a).unwrap();throw $.thrown("BitmapFont: invalid Construct 3 font data specified for parser: "+K.string(i))}}var r=new Va(null,".",0,0,new Pn,0,null,[],0,new Pn,!0,!0,!1,null),h=(l&&null==t&&(r.needsReparsing=!0,r.rawFontData=s),z.replace(z.replace(e,"\r",""),"\t"," ").split("\n"));if(0==h.length)throw $.thrown("BitmapFont: invalid font data specified for parser.");n=h[0];if("info"!=he.substr(z.ltrim(n),0,4))throw $.thrown("BitmapFont: invalid font data specified for parser. Format should be plain ascii text .fnt file only currently.");for(var a=0;a<h.length;){var o=h[a];++a,Ya.parseLine(o,r)}return h=null,Ya.ensureSpaceCharacter(r),r},Ya.convertXmlFontData=function(e){for(var n="",t=D.parse(e).firstElement().elements();t.hasNext();){var i=t.next();if(i.nodeType!=D.Element)throw $.thrown("Bad node type, expected Element but found "+(null==i.nodeType?"null":ge.toString(i.nodeType)));switch(i.nodeName){case"chars":case"pages":if(i.nodeType!=D.Element)throw $.thrown("Bad node type, expected Element but found "+(null==i.nodeType?"null":ge.toString(i.nodeType)));if("chars"==i.nodeName){if(i.nodeType!=D.Element)throw $.thrown("Bad node type, expected Element but found "+(null==i.nodeType?"null":ge.toString(i.nodeType)));n+=K.string(i.nodeName);for(var l=i.attributes();l.hasNext();){var s=l.next(),r=i.get(s);null!=r&&(n=(n+=" ")+K.string(s)+"=","face"==s||"char"==s||"file"==s||-1!=r.indexOf(" ")||-1!=r.indexOf('"')||-1!=r.indexOf("=")?n+=K.string(JSON.stringify(r)):n+=K.string(r))}n+="\n"}for(var h=i.elements();h.hasNext();){var a=h.next();if(a.nodeType!=D.Element)throw $.thrown("Bad node type, expected Element but found "+(null==a.nodeType?"null":ge.toString(a.nodeType)));n+=K.string(a.nodeName);for(var o=a.attributes();o.hasNext();){var c=o.next(),u=a.get(c);null!=u&&(n=(n+=" ")+K.string(c)+"=","face"==c||"char"==c||"file"==c||-1!=u.indexOf(" ")||-1!=u.indexOf('"')||-1!=u.indexOf("=")?n+=K.string(JSON.stringify(u)):n+=K.string(u))}n+="\n"}break;default:if(i.nodeType!=D.Element)throw $.thrown("Bad node type, expected Element but found "+(null==i.nodeType?"null":ge.toString(i.nodeType)));n+=K.string(i.nodeName);for(var _=i.attributes();_.hasNext();){var d=_.next(),b=i.get(d);null!=b&&(n=(n+=" ")+K.string(d)+"=","face"==d||"char"==d||"file"==d||-1!=b.indexOf(" ")||-1!=b.indexOf('"')||-1!=b.indexOf("=")?n+=K.string(JSON.stringify(b)):n+=K.string(b))}n+="\n"}}return n},Ya.convertConstruct3FontData=function(e,n,t){for(var i="",l=e.split("\n"),s=0,r=0,h=0,a="",o=[],c=0;c<l.length;){var u=z.trim(l[c]);if(-1!=u.indexOf("Character width:"))s=K.parseInt(z.trim(u.split(":")[1]));else if(-1!=u.indexOf("Character height:"))r=K.parseInt(z.trim(u.split(":")[1]));else if(-1!=u.indexOf("Character spacing:"))h=K.parseInt(z.trim(u.split(":")[1]));else if("Character set:"==u)for(++c;c<l.length;){var _=z.trim(l[c]);if(0<_.length){a=_;break}++c}else if("Spacing data:"==u&&++c<l.length){u=z.trim(l[c]);try{o=JSON.parse(u)}catch(g){Sl.lastError=g,o=[]}}++c}for(var d,b=Object.create(null),g=0;g<o.length;){var O=o[g];if(++g,2<=O.length)for(var f=0|O[0],p=K.string(O[1]),C=0,v=p.length;C<v;){var w=C++;b[p.charAt(w)]=f}}t=(e=null!=t?(0==(d=Math.floor(t/s))&&(d=1),m=a.length,t):(m=a.length,(d=Math.ceil(Math.sqrt(m)))*s),Math.ceil(m/d)*r),i=(i=(i=(i=(i=(i=(i=(i=(i+='info face="Construct3Font" size=')+K.string(null==r?"null":""+r)+' bold=0 italic=0 charset="" unicode=1 stretchH=100 smooth=0 aa=0 padding=0,0,0,0 spacing=')+K.string(null==h?"null":""+h)+",")+K.string(null==h?"null":""+h)+"\ncommon lineHeight=")+K.string(K.string(r+h))+" base=")+K.string(null==r?"null":""+r)+" scaleW=")+K.string(null==e?"null":""+e)+" scaleH=")+K.string(null==t?"null":""+t)+' pages=1 packed=0\npage id=0 file="')+(null==n?"null":""+n)+'"\n';for(var m=a.length,g=(-1==a.indexOf(" ")&&Object.prototype.hasOwnProperty.call(b," ")&&++m,i=(i+="chars count=")+K.string(null==m?"null":""+m)+"\n",0),C=a.length;g<C;)var c=g++,y=a.charAt(c),U=he.cca(a,c),y=Object.prototype.hasOwnProperty.call(b,y)?b[y]:s,T=c%d*s,D=Math.floor(c/d)*r,i=(i=(i=(i=(i=(i=(i+="char id=")+K.string(null==U?"null":""+U)+" x=")+K.string(null==T?"null":""+T)+" y=")+K.string(null==D?"null":""+D)+" width=")+K.string(null==y?"null":""+y)+" height=")+K.string(null==r?"null":""+r)+" xoffset=0 yoffset=0 xadvance=")+K.string(K.string(y+h))+" page=0\n";return-1==a.indexOf(" ")&&Object.prototype.hasOwnProperty.call(b," ")&&(e=b[" "],t=he.cca(" ",0),i=(i=(i+="char id=")+K.string(null==t?"null":""+t)+" x=0 y=0 width=0 height=0 xoffset=0 yoffset=0 xadvance=")+K.string(K.string(e+h))+" page=0\n"),i},Ya.parseLine=function(e,n){var t=new Nl;switch(Ya.extractLineTokens(e,t)){case"char":var i=new Ua(K.parseInt(t.h.id),parseFloat(t.h.x),parseFloat(t.h.y),parseFloat(t.h.width),parseFloat(t.h.height),parseFloat(t.h.xoffset),parseFloat(t.h.yoffset),parseFloat(t.h.xadvance),K.parseInt(t.h.page));n.chars.set(i.id,i);break;case"chars":n.charCount=K.parseInt(t.h.count);break;case"common":n.lineHeight=parseFloat(t.h.lineHeight),n.baseSize=parseFloat(t.h.base);break;case"distanceField":var i=t.h.fieldType,l=K.parseInt(t.h.distanceRange);n.distanceField=new Xa(i,l);break;case"info":var s=(a=t.h.face).length;34==he.cca(a,0)&&34==he.cca(a,s-1)&&(a=a.substring(1,s-1)),n.face=a,n.pointSize=parseFloat(t.h.size),Object.prototype.hasOwnProperty.call(t.h,"smooth")&&(n.smooth="1"==t.h.smooth||"true"==t.h.smooth),Object.prototype.hasOwnProperty.call(t.h,"aa")&&(n.aa="1"==t.h.aa||"true"==t.h.aa);break;case"kerning":var i=K.parseInt(t.h.first),l=K.parseInt(t.h.second),r=parseFloat(t.h.amount),h=n.kernings.get(i);null==h&&(h=new Tn,n.kernings.set(i,h)),h.set(l,r);break;case"page":var a,s=(a=t.h.file).length;34==he.cca(a,0)&&34==he.cca(a,s-1)&&(a=a.substring(1,s-1)),n.pages.push(new Wa(K.parseInt(t.h.id),z.trim(a)))}},Ya.extractLineTokens=function(e,n){for(var t=0,i=e.length,l=null,s=null,r=null,h=!1;t<i;){var a=he.cca(e,t);if(h){if(92==a?(a=he.cca(e,t),++t):34==a&&(h=!1),null==r)throw $.thrown("Invalid bitmap font line: "+e);r.b+=K.string(e.charAt(t))}else if(32==a)null!=r&&(null==l?l=r.b:null==s?(s=r.b,n.h[s]=null):n.h[s]=r.b,r=s=null);else if(null==s&&61==a){if(null==r)throw $.thrown("Invalid bitmap font line: "+e);s=r.b,r=null}else 34==a&&(h=!0),(r=null==r?new y:r).b+=K.string(e.charAt(t));++t}return null!=r&&(null==l?l=r.b:null==s?(s=r.b,n.h[s]=null):n.h[s]=r.b,r=s=null),l},Ya.unquote=function(e){var n=e.length;return e=34==he.cca(e,0)&&34==he.cca(e,n-1)?e.substring(1,n-1):e},Ya.ensureSpaceCharacter=function(e){if(!e.chars.exists(32)){for(var n=!0,t=-1,i=0,l=null!=(O=(d=e.chars).iterableKeys)?O.length:-1;i<l;){var s=i++,r=d.iterableKeys[s],h=d.get(r);if(t<0)t=h.xAdvance;else if(h.xAdvance!=t){n=!1;break}}var a=0;if(n&&0<t)a=t;else{for(var o=[110,101,111,97,114],c=0,u=0;u<o.length;){var _=o[u];++u,e.chars.exists(_)&&(a+=(h=e.chars.get(_)).xAdvance,++c)}if(0<c)a=a/c*.4;else{for(var d,b=0,g=0,i=0,l=null!=(O=(d=e.chars).iterableKeys)?O.length:-1;i<l;){s=i++,r=d.iterableKeys[s];b+=(h=d.get(r)).xAdvance,++g}a=0<g?b/g*.4:e.baseSize/3}}var O=new Ua(32,0,0,0,0,0,0,a,0);e.chars.set(32,O)}},(E["ceramic.Border"]=Za).__name__="ceramic.Border",Za.__super__=za,Za.prototype=$extend(za.prototype,{autoComputeVertices:null,set_autoComputeVertices:function(e){return this.autoComputeVertices!=e&&(this.autoComputeVertices=e)&&this.computeVertices(),e},autoComputeColors:null,set_autoComputeColors:function(e){return this.autoComputeColors!=e&&(this.autoComputeColors=e)&&this.computeColors(),e},set_width:function(e){return za.prototype.set_width.call(this,e),this.autoComputeVertices&&this.computeVertices(),e},set_height:function(e){return za.prototype.set_height.call(this,e),this.autoComputeVertices&&this.computeVertices(),e},borderPosition:null,set_borderPosition:function(e){return this.borderPosition!=e&&(this.borderPosition=e,this.autoComputeVertices)&&this.computeVertices(),e},borderSize:null,set_borderSize:function(e){return this.borderSize!=e&&(this.borderSize=e,this.autoComputeVertices)&&this.computeVertices(),e},borderTopSize:null,set_borderTopSize:function(e){return this.borderTopSize!=e&&(this.borderTopSize=e,this.autoComputeVertices)&&this.computeVertices(),e},borderBottomSize:null,set_borderBottomSize:function(e){return this.borderBottomSize!=e&&(this.borderBottomSize=e,this.autoComputeVertices)&&this.computeVertices(),e},borderLeftSize:null,set_borderLeftSize:function(e){return this.borderLeftSize!=e&&(this.borderLeftSize=e,this.autoComputeVertices)&&this.computeVertices(),e},borderRightSize:null,set_borderRightSize:function(e){return this.borderRightSize!=e&&(this.borderRightSize=e,this.autoComputeVertices)&&this.computeVertices(),e},borderColor:null,set_borderColor:function(e){return this.borderColor!=e&&(this.borderColor=e,this.autoComputeColors)&&this.computeColors(),e},borderTopColor:null,set_borderTopColor:function(e){return this.borderTopColor!=e&&(this.borderTopColor=e,this.autoComputeColors)&&this.computeColors(),e},borderBottomColor:null,set_borderBottomColor:function(e){return this.borderBottomColor!=e&&(this.borderBottomColor=e,this.autoComputeColors)&&this.computeColors(),e},borderLeftColor:null,set_borderLeftColor:function(e){return this.borderLeftColor!=e&&(this.borderLeftColor=e,this.autoComputeColors)&&this.computeColors(),e},borderRightColor:null,set_borderRightColor:function(e){return this.borderRightColor!=e&&(this.borderRightColor=e,this.autoComputeColors)&&this.computeColors(),e},computeColors:function(){var e=(0|(-1!=this.borderTopColor?this.borderTopColor:this.borderColor))-16777216,e=e&16777215|-16777216,n=(0|(-1!=this.borderBottomColor?this.borderBottomColor:this.borderColor))-16777216&16777215|-16777216,t=(0|(-1!=this.borderLeftColor?this.borderLeftColor:this.borderColor))-16777216&16777215|-16777216,i=(0|(-1!=this.borderRightColor?this.borderRightColor:this.borderColor))-16777216&16777215|-16777216;this.colors[0]=e,this.colors[1]=e,this.colors[2]=e,this.colors[3]=e,this.colors[4]=e,this.colors[5]=e,this.colors[6]=i,this.colors[7]=i,this.colors[8]=i,this.colors[9]=i,this.colors[10]=i,this.colors[11]=i,this.colors[12]=n,this.colors[13]=n,this.colors[14]=n,this.colors[15]=n,this.colors[16]=n,this.colors[17]=n,this.colors[18]=t,this.colors[19]=t,this.colors[20]=t,this.colors[21]=t,this.colors[22]=t,this.colors[23]=t},computeVertices:function(){var e=.5,n=.5,t=(this.borderPosition==He.OUTSIDE?(e=1,n=0):this.borderPosition==He.INSIDE&&(e=0,n=1),0<=this.borderLeftSize?this.borderLeftSize:this.borderSize),i=e*t,t=n*t,l=0<=this.borderTopSize?this.borderTopSize:this.borderSize,s=e*l,l=n*l,r=0<=this.borderRightSize?this.borderRightSize:this.borderSize,h=e*r,r=n*r,a=0<=this.borderBottomSize?this.borderBottomSize:this.borderSize,e=e*a,n=n*a,a=this.get_width(),o=this.get_height(),c=(this.vertices[0]=-i,this.vertices[1]=-s,a+h);this.vertices[2]=c,this.vertices[3]=-s,this.vertices[4]=t,this.vertices[5]=l,this.vertices[6]=a-r,this.vertices[7]=l,this.vertices[8]=t,this.vertices[9]=o-n,this.vertices[10]=a-r,this.vertices[11]=o-n,this.vertices[12]=-i,this.vertices[13]=o+e,this.vertices[14]=a+h,this.vertices[15]=o+e},__class__:Za,__properties__:$extend(za.prototype.__properties__,{set_borderRightColor:"set_borderRightColor",set_borderLeftColor:"set_borderLeftColor",set_borderBottomColor:"set_borderBottomColor",set_borderTopColor:"set_borderTopColor",set_borderColor:"set_borderColor",set_borderRightSize:"set_borderRightSize",set_borderLeftSize:"set_borderLeftSize",set_borderBottomSize:"set_borderBottomSize",set_borderTopSize:"set_borderTopSize",set_borderSize:"set_borderSize",set_borderPosition:"set_borderPosition",set_autoComputeColors:"set_autoComputeColors",set_autoComputeVertices:"set_autoComputeVertices"})}),_e["ceramic.BorderPosition"]={__ename__:"ceramic.BorderPosition",__constructs__:null,INSIDE:{_hx_name:"INSIDE",_hx_index:0,__enum__:"ceramic.BorderPosition",toString:c},OUTSIDE:{_hx_name:"OUTSIDE",_hx_index:1,__enum__:"ceramic.BorderPosition",toString:c},MIDDLE:{_hx_name:"MIDDLE",_hx_index:2,__enum__:"ceramic.BorderPosition",toString:c}}),We=(He.__constructs__=[He.INSIDE,He.OUTSIDE,He.MIDDLE],(E["ceramic.Component"]=a0).__name__="ceramic.Component",a0.__isInterface__=!0,a0.prototype={initializerName:null,setEntity:null,getEntity:null,bindAsComponent:null,__class__:a0},(E["ceramic.Click"]=b0).__name__="ceramic.Click",b0.__interfaces__=[s,a0],b0.__super__=j,b0.prototype=$extend(j.prototype,{__cbOnObservedDirty:null,__cbOnceObservedDirty:null,__cbOnOwnerUnbindObservedDirty:null,__cbOnceOwnerUnbindObservedDirty:null,emitObservedDirty:function(e,n){var t=0;if(null!=this.__cbOnObservedDirty&&(t+=this.__cbOnObservedDirty.length),null!=this.__cbOnceObservedDirty&&(t+=this.__cbOnceObservedDirty.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnObservedDirty)for(var r=0,h=this.__cbOnObservedDirty.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnObservedDirty[a],++s):--t}if(null!=this.__cbOnceObservedDirty){for(var o=null,c=null,r=0,h=this.__cbOnceObservedDirty.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceObservedDirty[a],this.__cbOnceObservedDirty[a]=null,u=this.__cbOnceOwnerUnbindObservedDirty[a],(this.__cbOnceOwnerUnbindObservedDirty[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindObservedDirty[a]),c.push(this.__cbOnceObservedDirty[a]))}this.__cbOnceOwnerUnbindObservedDirty=o,this.__cbOnceObservedDirty=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onObservedDirty:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event observedDirty because owner is destroyed!");var l=function(e){null!=t&&(i.offObservedDirty(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push(null);null==this.__cbOnObservedDirty&&(this.__cbOnObservedDirty=[]),this.__cbOnObservedDirty.push(t)},onceObservedDirty:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event observedDirty because owner is destroyed!");var l=function(e){null!=t&&(i.offObservedDirty(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push(null);null==this.__cbOnceObservedDirty&&(this.__cbOnceObservedDirty=[]),this.__cbOnceObservedDirty.push(t)},offObservedDirty:function(e){if(null!=e){var n;null!=this.__cbOnObservedDirty&&-1!=(n=this.__cbOnObservedDirty.indexOf(e))&&(this.__cbOnObservedDirty.splice(n,1),null!=(s=this.__cbOnOwnerUnbindObservedDirty[n])&&s(),this.__cbOnOwnerUnbindObservedDirty.splice(n,1)),null!=this.__cbOnceObservedDirty&&-1!=(n=this.__cbOnceObservedDirty.indexOf(e))&&(this.__cbOnceObservedDirty.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindObservedDirty[n])&&s(),this.__cbOnceOwnerUnbindObservedDirty.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindObservedDirty){for(var t=0,i=this.__cbOnOwnerUnbindObservedDirty.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindObservedDirty[l])&&s()}this.__cbOnOwnerUnbindObservedDirty=null}if(null!=this.__cbOnceOwnerUnbindObservedDirty){for(t=0,i=this.__cbOnceOwnerUnbindObservedDirty.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindObservedDirty[l])&&s()}this.__cbOnceOwnerUnbindObservedDirty=null}this.__cbOnObservedDirty=null,this.__cbOnceObservedDirty=null}},listensObservedDirty:function(){return null!=this.__cbOnObservedDirty&&0<this.__cbOnObservedDirty.length||null!=this.__cbOnceObservedDirty&&0<this.__cbOnceObservedDirty.length},observedDirty:null,__cbOnClick:null,__cbOnceClick:null,__cbOnOwnerUnbindClick:null,__cbOnceOwnerUnbindClick:null,emitClick:function(){var e=0;if(null!=this.__cbOnClick&&(e+=this.__cbOnClick.length),null!=this.__cbOnceClick&&(e+=this.__cbOnceClick.length),0<e){var n=C.pool(e),t=n.get(),i=0;if(null!=this.__cbOnClick)for(var l=0,s=this.__cbOnClick.length;l<s;){var r=l++;!0?(t.vector[i]=this.__cbOnClick[r],++i):--e}if(null!=this.__cbOnceClick){for(var h=null,a=null,l=0,s=this.__cbOnceClick.length;l<s;){var o,r=l++;!0?(t.vector[i]=this.__cbOnceClick[r],this.__cbOnceClick[r]=null,o=this.__cbOnceOwnerUnbindClick[r],(this.__cbOnceOwnerUnbindClick[r]=null)!=o&&o(),++i):(--e,null==h&&(h=[],a=[],0),h.push(this.__cbOnceOwnerUnbindClick[r]),a.push(this.__cbOnceClick[r]))}this.__cbOnceOwnerUnbindClick=h,this.__cbOnceClick=a}for(l=0,s=e;l<s;){i=l++;(0,t.vector[i])()}n.release(t)}},onClick:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event click because owner is destroyed!");var l=function(e){null!=t&&(i.offClick(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindClick&&(this.__cbOnOwnerUnbindClick=[]),this.__cbOnOwnerUnbindClick.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindClick&&(this.__cbOnOwnerUnbindClick=[]),this.__cbOnOwnerUnbindClick.push(null);null==this.__cbOnClick&&(this.__cbOnClick=[]),this.__cbOnClick.push(t)},onceClick:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event click because owner is destroyed!");var l=function(e){null!=t&&(i.offClick(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindClick&&(this.__cbOnceOwnerUnbindClick=[]),this.__cbOnceOwnerUnbindClick.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindClick&&(this.__cbOnceOwnerUnbindClick=[]),this.__cbOnceOwnerUnbindClick.push(null);null==this.__cbOnceClick&&(this.__cbOnceClick=[]),this.__cbOnceClick.push(t)},offClick:function(e){if(null!=e){var n;null!=this.__cbOnClick&&-1!=(n=this.__cbOnClick.indexOf(e))&&(this.__cbOnClick.splice(n,1),null!=(s=this.__cbOnOwnerUnbindClick[n])&&s(),this.__cbOnOwnerUnbindClick.splice(n,1)),null!=this.__cbOnceClick&&-1!=(n=this.__cbOnceClick.indexOf(e))&&(this.__cbOnceClick.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindClick[n])&&s(),this.__cbOnceOwnerUnbindClick.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindClick){for(var t=0,i=this.__cbOnOwnerUnbindClick.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindClick[l])&&s()}this.__cbOnOwnerUnbindClick=null}if(null!=this.__cbOnceOwnerUnbindClick){for(t=0,i=this.__cbOnceOwnerUnbindClick.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindClick[l])&&s()}this.__cbOnceOwnerUnbindClick=null}this.__cbOnClick=null,this.__cbOnceClick=null}},listensClick:function(){return null!=this.__cbOnClick&&0<this.__cbOnClick.length||null!=this.__cbOnceClick&&0<this.__cbOnceClick.length},threshold:null,entity:null,pressedAutoruns:null,get_pressed:function(){var e,n,t=this.unobservedPressed;return null!=A.current&&(e=A.current,null!=(n=this.pressedAutoruns)||(n=A.getAutorunArray(),null!=(this.pressedAutoruns=n)))&&e.bindToAutorunArray(n),t},set_pressed:function(e){var n=this.unobservedPressed;return n!=(this.unobservedPressed=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitPressedChange(e,n),null!=(n=this.pressedAutoruns))&&(this.pressedAutoruns=null,A.invalidateAutorunArray(n)),e},invalidatePressed:function(){var e=this.unobservedPressed,e=(this.emitPressedChange(e,e),this.pressedAutoruns);null!=e&&(this.pressedAutoruns=null,A.invalidateAutorunArray(e))},unobservedPressed:null,__cbOnPressedChange:null,__cbOncePressedChange:null,__cbOnOwnerUnbindPressedChange:null,__cbOnceOwnerUnbindPressedChange:null,emitPressedChange:function(e,n){var t=0;if(null!=this.__cbOnPressedChange&&(t+=this.__cbOnPressedChange.length),null!=this.__cbOncePressedChange&&(t+=this.__cbOncePressedChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnPressedChange)for(var r=0,h=this.__cbOnPressedChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnPressedChange[a],++s):--t}if(null!=this.__cbOncePressedChange){for(var o=null,c=null,r=0,h=this.__cbOncePressedChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOncePressedChange[a],this.__cbOncePressedChange[a]=null,u=this.__cbOnceOwnerUnbindPressedChange[a],(this.__cbOnceOwnerUnbindPressedChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindPressedChange[a]),c.push(this.__cbOncePressedChange[a]))}this.__cbOnceOwnerUnbindPressedChange=o,this.__cbOncePressedChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onPressedChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event pressedChange because owner is destroyed!");var l=function(e){null!=t&&(i.offPressedChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindPressedChange&&(this.__cbOnOwnerUnbindPressedChange=[]),this.__cbOnOwnerUnbindPressedChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindPressedChange&&(this.__cbOnOwnerUnbindPressedChange=[]),this.__cbOnOwnerUnbindPressedChange.push(null);null==this.__cbOnPressedChange&&(this.__cbOnPressedChange=[]),this.__cbOnPressedChange.push(t)},oncePressedChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event pressedChange because owner is destroyed!");var l=function(e){null!=t&&(i.offPressedChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindPressedChange&&(this.__cbOnceOwnerUnbindPressedChange=[]),this.__cbOnceOwnerUnbindPressedChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindPressedChange&&(this.__cbOnceOwnerUnbindPressedChange=[]),this.__cbOnceOwnerUnbindPressedChange.push(null);null==this.__cbOncePressedChange&&(this.__cbOncePressedChange=[]),this.__cbOncePressedChange.push(t)},offPressedChange:function(e){if(null!=e){var n;null!=this.__cbOnPressedChange&&-1!=(n=this.__cbOnPressedChange.indexOf(e))&&(this.__cbOnPressedChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindPressedChange[n])&&s(),this.__cbOnOwnerUnbindPressedChange.splice(n,1)),null!=this.__cbOncePressedChange&&-1!=(n=this.__cbOncePressedChange.indexOf(e))&&(this.__cbOncePressedChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindPressedChange[n])&&s(),this.__cbOnceOwnerUnbindPressedChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindPressedChange){for(var t=0,i=this.__cbOnOwnerUnbindPressedChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindPressedChange[l])&&s()}this.__cbOnOwnerUnbindPressedChange=null}if(null!=this.__cbOnceOwnerUnbindPressedChange){for(t=0,i=this.__cbOnceOwnerUnbindPressedChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindPressedChange[l])&&s()}this.__cbOnceOwnerUnbindPressedChange=null}this.__cbOnPressedChange=null,this.__cbOncePressedChange=null}},listensPressedChange:function(){return null!=this.__cbOnPressedChange&&0<this.__cbOnPressedChange.length||null!=this.__cbOncePressedChange&&0<this.__cbOncePressedChange.length},pointerStartX:null,pointerStartY:null,bindAsComponent:function(){this.entity.onPointerDown(this,$bind(this,this.handlePointerDown)),this.entity.onPointerUp(this,$bind(this,this.handlePointerUp)),this.entity.onBlur(this,$bind(this,this.handleBlur))},cancel:function(){this.set_pressed(!1)},handlePointerDown:function(e){this.pointerStartX=ae.app.screen.pointerX,this.pointerStartY=ae.app.screen.pointerY,this.set_pressed(!0),ae.app.screen.onPointerMove(this,$bind(this,this.handlePointerMove))},handlePointerUp:function(e){this.get_pressed()&&(this.set_pressed(!1),this.entity._hits(e.x,e.y,!1))&&this.emitClick()},handlePointerMove:function(e){-1!=this.threshold&&(Math.abs(ae.app.screen.pointerX-this.pointerStartX)>this.threshold||Math.abs(ae.app.screen.pointerY-this.pointerStartY)>this.threshold)&&(ae.app.screen.offPointerMove($bind(this,this.handlePointerMove)),this.set_pressed(!1))},handleBlur:function(){this.set_pressed(!1)},unbindEvents:function(){j.prototype.unbindEvents.call(this),this.offObservedDirty(),this.offPressedChange(),this.offClick()},setEntity:function(e){this.entity=e instanceof o?e:null},getEntity:function(){return this.entity},initializerName:null,__class__:b0,__properties__:$extend(j.prototype.__properties__,{set_pressed:"set_pressed",get_pressed:"get_pressed"})}),function(){this.combinedCollectionLastChanges=null,this.combinedCollections=null,this.filter=null,this.byId=null,this.entriesDirty=!1,this.indexDirty=!0,this.entries=[],this.lastChange=0,this.internalId=We._nextInternalId++}),Ne=((E["ceramic.CollectionImpl"]=We).__name__="ceramic.CollectionImpl",We.__interfaces__=[i],We.prototype={internalId:null,lastChange:null,entries:null,indexDirty:null,entriesDirty:null,byId:null,filter:null,combinedCollections:null,combinedCollectionLastChanges:null,get_length:function(){if(null!=this.combinedCollections&&We._lastCheckedCombined!=this){for(var e=0,n=this.combinedCollections.length;e<n;){var t=e++,i=this.combinedCollections[t];if(this.combinedCollectionLastChanges[t]!=i.lastChange){this.entriesDirty=!0;break}}We._lastCheckedCombined=this}return this.entriesDirty&&this.computeEntries(),this.entries.length},pushAll:function(e){for(var n=0;n<e.length;){var t=e[n];++n,this.entries.push(t)}this.indexDirty=!0,this.lastChange=999999999<this.lastChange?-999999999:this.lastChange+1,We._lastCheckedCombined=null},clear:function(){var e=this.entries.length;0<e&&this.entries.splice(0,e),this.indexDirty=!0,this.lastChange=999999999<this.lastChange?-999999999:this.lastChange+1,We._lastCheckedCombined=null},push:function(e){this.entries.push(e),this.indexDirty=!0,this.lastChange=999999999<this.lastChange?-999999999:this.lastChange+1,We._lastCheckedCombined=null},remove:function(e){he.remove(this.entries,e),this.indexDirty=!0,this.lastChange=999999999<this.lastChange?-999999999:this.lastChange+1,We._lastCheckedCombined=null},synchronize:function(){this.entriesDirty&&this.computeEntries(),this.indexDirty&&this.computeIndex()},get:function(e){if(null==e)throw $.thrown("Cannot get a collection entry with a null id!");if(null!=this.combinedCollections&&We._lastCheckedCombined!=this){for(var n=0,t=this.combinedCollections.length;n<t;){var i=n++,l=this.combinedCollections[i];if(this.combinedCollectionLastChanges[i]!=l.lastChange){this.entriesDirty=!0;break}}We._lastCheckedCombined=this}return this.entriesDirty&&this.computeEntries(),this.indexDirty&&this.computeIndex(),this.byId.h[e]},getByIndex:function(e){if(null!=this.combinedCollections&&We._lastCheckedCombined!=this){for(var n=0,t=this.combinedCollections.length;n<t;){var i=n++,l=this.combinedCollections[i];if(this.combinedCollectionLastChanges[i]!=l.lastChange){this.entriesDirty=!0;break}}We._lastCheckedCombined=this}return this.entriesDirty&&this.computeEntries(),this.entries[e]},indexOfId:function(e){e=this.get(e);return null==e?-1:this.indexOf(e)},indexOf:function(e){if(null!=this.combinedCollections&&We._lastCheckedCombined!=this){for(var n=0,t=this.combinedCollections.length;n<t;){var i=n++,l=this.combinedCollections[i];if(this.combinedCollectionLastChanges[i]!=l.lastChange){this.entriesDirty=!0;break}}We._lastCheckedCombined=this}return this.entriesDirty&&this.computeEntries(),this.entries.indexOf(e)},iterator:function(){if(null!=this.combinedCollections&&We._lastCheckedCombined!=this){for(var e=0,n=this.combinedCollections.length;e<n;){var t=e++,i=this.combinedCollections[t];if(this.combinedCollectionLastChanges[t]!=i.lastChange){this.entriesDirty=!0;break}}We._lastCheckedCombined=this}return this.entriesDirty&&this.computeEntries(),new Jl(this.entries)},checkCombined:function(){if(null!=this.combinedCollections&&We._lastCheckedCombined!=this){for(var e=0,n=this.combinedCollections.length;e<n;){var t=e++,i=this.combinedCollections[t];if(this.combinedCollectionLastChanges[t]!=i.lastChange){this.entriesDirty=!0;break}}We._lastCheckedCombined=this}},computeIndex:function(){this.entriesDirty&&this.computeEntries(),this.byId=new Nl;for(var e=0,n=this.entries;e<n.length;){var t=n[e];++e,Object.prototype.hasOwnProperty.call(this.byId.h,t.id)||(this.byId.h[t.id]=t)}this.indexDirty=!1},computeEntries:function(){this.entries=[];for(var e=0,n=this.combinedCollections.length;e<n;){var t=e++,i=this.combinedCollections[t];if(null!=i.combinedCollections&&We._lastCheckedCombined!=i){for(var l=0,s=i.combinedCollections.length;l<s;){var r=l++,h=i.combinedCollections[r];if(i.combinedCollectionLastChanges[r]!=h.lastChange){i.entriesDirty=!0;break}}We._lastCheckedCombined=i}i.entriesDirty&&i.computeEntries();for(var a=0,o=i.entries;a<o.length;){var c=o[a++];this.entries.push(c)}this.combinedCollectionLastChanges[t]=i.lastChange}null!=this.filter&&(this.entries=this.filter(this.entries)),this.entriesDirty=!1,this.indexDirty=!0,We._lastCheckedCombined!=this&&(We._lastCheckedCombined=null)},__class__:We,__properties__:{get_length:"get_length"}},(E["ceramic.CollectionEntry"]=e0).__name__="ceramic.CollectionEntry",e0.prototype={id:null,name:null,index:null,setRawData:function(e){for(var n=Os.getClass(this),t=n.__name__,i=on.types(t),t=i.h,l=Object.keys(t),s=l.length,r=0;r<s;){var h=l[r++],a=i.h[h];if(Object.prototype.hasOwnProperty.call(e,h)){var o=L.field(e,h),c=null;if(!this.setRawField(h,o)){var u=n.__name__;if(cn._hasMeta(n,u,h,"skipEmpty",!0)){if(null==o)continue;if("string"==typeof o)if(0==o.length)continue}if(null==a){var _=z.trim((""+K.string(o)).toLowerCase()),d=_e[a];if(null!=d){for(var b=0,g=d.__constructs__,O=new Array(g.length),f=0,p=g.length;f<p;){var C=f++;O[C]=g[C]._hx_name}for(var v=O;b<v.length;){var w=v[b];if(++b,w.toLowerCase()==_){c=B.createEnum(d,w);break}}}}else switch(a){case"Bool":c="boolean"==typeof o?o:""!=(o=z.trim((""+K.string(o)).toLowerCase()))&&"0"!=o&&"false"!=o&&"no"!=o;break;case"Float":"number"==typeof o&&(0|o)===o||"number"==typeof o?c=o:null!=(c=parseFloat(z.replace(""+K.string(o),",",".")))&&!isNaN(c)||(c=0);break;case"String":c=null==o||"null"==o?null:""+K.string(o);break;case"Int":case"ceramic.Color":"number"==typeof o&&(0|o)===o||"number"==typeof o?c=0|o:null!=(c=K.parseInt(""+K.string(o)))&&!isNaN(c)||(c=0);break;default:var m=z.trim((""+K.string(o)).toLowerCase()),y=_e[a];if(null!=y){for(var U=0,T=y.__constructs__,D=new Array(T.length),x=0,S=T.length;x<S;){var A=x++;D[A]=T[A]._hx_name}for(var k=D;U<k.length;){var I=k[U];if(++U,I.toLowerCase()==m){c=B.createEnum(y,I);break}}}}this[h]=c}}}},setRawField:function(e,n){return!1},__class__:e0},(E["ceramic.View"]=f0).__name__="ceramic.View",f0.requestLayout=function(){f0._layoutRequested||(f0._layoutRequested=!0,f0._layouting)||ae.app._oncePostFlushImmediate(function(){f0._updateViewsLayout(0)},!0)},f0._updateViewsLayout=function(e){f0._layoutRequested=!1;for(var n=!(f0._layouting=!0),t=0,i=f0._allViews.length;t<i;){var l=t++;if((a=f0._allViews[l]).layoutDirty){n=!0;break}}var s=[].concat(f0._allViews);if(n){for(t=0,i=s.length;t<i;)if((a=s[l=t++]).layoutDirty&&a.layoutDependsOnParent())for(var r=a,h=r.get_parentView();null!=h&&((r=h).layoutDirty=!0,r.layoutDependsOnParent());)h=r.get_parentView();for(t=0,i=f0._allViews.length;t<i;){l=t++;(a=f0._allViews[l]).shouldResetComputedSize()&&a.resetComputedSize()}for(t=0,i=s.length;t<i;){var a=s[l=t++];f0._layoutParentThenSelf(a)}for(t=0,i=s.length;t<i;){a=s[l=t++];f0._layoutParentThenSelf(a)}}f0._layouting=!1,f0._layoutRequested&&ae.app._oncePostFlushImmediate(function(){f0._updateViewsLayout(0)},!0)},f0._markParentsAsLayoutDirtyIfNeeded=function(e){if(e.layoutDirty&&e.layoutDependsOnParent())for(var n=e,t=n.get_parentView();null!=t&&((n=t).layoutDirty=!0,n.layoutDependsOnParent());)t=n.get_parentView()},f0._layoutParentThenSelf=function(e){var n=e.get_parentView();null!=n&&f0._layoutParentThenSelf(n),e.layoutDirty&&e.canLayout&&(e.emitLayout(),e.layoutDirty=!1)},f0.__super__=q,f0.prototype=$extend(q.prototype,{__cbOnLayout:null,__cbOnceLayout:null,__cbOnOwnerUnbindLayout:null,__cbOnceOwnerUnbindLayout:null,emitLayout:function(){this.updateBorder(),this.layout();var e=0;if(null!=this.__cbOnLayout&&(e+=this.__cbOnLayout.length),null!=this.__cbOnceLayout&&(e+=this.__cbOnceLayout.length),0<e){var n=C.pool(e),t=n.get(),i=0;if(null!=this.__cbOnLayout)for(var l=0,s=this.__cbOnLayout.length;l<s;){var r=l++;!0?(t.vector[i]=this.__cbOnLayout[r],++i):--e}if(null!=this.__cbOnceLayout){for(var h=null,a=null,l=0,s=this.__cbOnceLayout.length;l<s;){var o,r=l++;!0?(t.vector[i]=this.__cbOnceLayout[r],this.__cbOnceLayout[r]=null,o=this.__cbOnceOwnerUnbindLayout[r],(this.__cbOnceOwnerUnbindLayout[r]=null)!=o&&o(),++i):(--e,null==h&&(h=[],a=[],0),h.push(this.__cbOnceOwnerUnbindLayout[r]),a.push(this.__cbOnceLayout[r]))}this.__cbOnceOwnerUnbindLayout=h,this.__cbOnceLayout=a}for(l=0,s=e;l<s;){i=l++;(0,t.vector[i])()}n.release(t)}},onLayout:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event layout because owner is destroyed!");var l=function(e){null!=t&&(i.offLayout(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindLayout&&(this.__cbOnOwnerUnbindLayout=[]),this.__cbOnOwnerUnbindLayout.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindLayout&&(this.__cbOnOwnerUnbindLayout=[]),this.__cbOnOwnerUnbindLayout.push(null);null==this.__cbOnLayout&&(this.__cbOnLayout=[]),this.__cbOnLayout.push(t)},onceLayout:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event layout because owner is destroyed!");var l=function(e){null!=t&&(i.offLayout(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindLayout&&(this.__cbOnceOwnerUnbindLayout=[]),this.__cbOnceOwnerUnbindLayout.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindLayout&&(this.__cbOnceOwnerUnbindLayout=[]),this.__cbOnceOwnerUnbindLayout.push(null);null==this.__cbOnceLayout&&(this.__cbOnceLayout=[]),this.__cbOnceLayout.push(t)},offLayout:function(e){if(null!=e){var n;null!=this.__cbOnLayout&&-1!=(n=this.__cbOnLayout.indexOf(e))&&(this.__cbOnLayout.splice(n,1),null!=(s=this.__cbOnOwnerUnbindLayout[n])&&s(),this.__cbOnOwnerUnbindLayout.splice(n,1)),null!=this.__cbOnceLayout&&-1!=(n=this.__cbOnceLayout.indexOf(e))&&(this.__cbOnceLayout.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindLayout[n])&&s(),this.__cbOnceOwnerUnbindLayout.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindLayout){for(var t=0,i=this.__cbOnOwnerUnbindLayout.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindLayout[l])&&s()}this.__cbOnOwnerUnbindLayout=null}if(null!=this.__cbOnceOwnerUnbindLayout){for(t=0,i=this.__cbOnceOwnerUnbindLayout.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindLayout[l])&&s()}this.__cbOnceOwnerUnbindLayout=null}this.__cbOnLayout=null,this.__cbOnceLayout=null}},listensLayout:function(){return null!=this.__cbOnLayout&&0<this.__cbOnLayout.length||null!=this.__cbOnceLayout&&0<this.__cbOnceLayout.length},subviews:null,computedSize:null,viewWidth:null,set_viewWidth:function(e){return this.viewWidth!=e&&(this.viewWidth=e,this.layoutDirty=!0),e},viewHeight:null,set_viewHeight:function(e){return this.viewHeight!=e&&(this.viewHeight=e,this.layoutDirty=!0),e},viewSize:function(e,n){this.set_viewWidth(e),this.set_viewHeight(n)},padding:function(e,n,t,i){null==n&&null==t&&null==i?i=t=n=e:null==t&&null==i?(t=e,i=n):(null==n&&(n=e),null==t&&(t=e),null==i&&(i=e)),this.set_paddingLeft(i),this.set_paddingTop(e),this.set_paddingRight(n),this.set_paddingBottom(t)},paddingLeft:null,set_paddingLeft:function(e){return this.paddingLeft!=e&&(this.paddingLeft=e,this.layoutDirty=!0),e},paddingRight:null,set_paddingRight:function(e){return this.paddingRight!=e&&(this.paddingRight=e,this.layoutDirty=!0),e},paddingTop:null,set_paddingTop:function(e){return this.paddingTop!=e&&(this.paddingTop=e,this.layoutDirty=!0),e},paddingBottom:null,set_paddingBottom:function(e){return this.paddingBottom!=e&&(this.paddingBottom=e,this.layoutDirty=!0),e},offset:function(e,n){this.set_offsetX(e),this.set_offsetY(n)},offsetX:null,set_offsetX:function(e){return this.offsetX!=e&&(this.offsetX=e,this.layoutDirty=!0),e},offsetY:null,set_offsetY:function(e){return this.offsetY!=e&&(this.offsetY=e,this.layoutDirty=!0),e},flex:null,set_flex:function(e){return this.flex!=e&&(this.flex=e,this.layoutDirty=!0),e},canLayout:null,layoutDirty:null,border:null,borderDepth:null,set_borderDepth:function(e){return this.borderDepth!=e&&(this.borderDepth=e,null!=this.border)&&this.border.set_depth(e),e},borderAlpha:null,set_borderAlpha:function(e){return this.borderAlpha!=e&&(this.borderAlpha=e,null!=this.border)&&this.border.set_alpha(e),e},borderPosition:null,set_borderPosition:function(e){return this.borderPosition!=e&&(this.borderPosition=e,0<this.borderSize||0<this.borderTopSize||0<this.borderBottomSize||0<this.borderLeftSize||0<this.borderRightSize)&&this.updateBorder(),e},borderSize:null,set_borderSize:function(e){return this.borderSize!=e&&(this.borderSize=e,this.updateBorder()),e},borderTopSize:null,set_borderTopSize:function(e){return this.borderTopSize!=e&&(this.borderTopSize=e,this.updateBorder()),e},borderBottomSize:null,set_borderBottomSize:function(e){return this.borderBottomSize!=e&&(this.borderBottomSize=e,this.updateBorder()),e},borderLeftSize:null,set_borderLeftSize:function(e){return this.borderLeftSize!=e&&(this.borderLeftSize=e,this.updateBorder()),e},borderRightSize:null,set_borderRightSize:function(e){return this.borderRightSize!=e&&(this.borderRightSize=e,this.updateBorder()),e},borderColor:null,set_borderColor:function(e){return this.borderColor!=e&&(this.borderColor=e,0<this.borderSize||0<this.borderTopSize||0<this.borderBottomSize||0<this.borderLeftSize||0<this.borderRightSize)&&this.updateBorder(),e},borderTopColor:null,set_borderTopColor:function(e){return this.borderTopColor!=e&&(this.borderTopColor=e,0<this.borderSize||0<this.borderTopSize)&&this.updateBorder(),e},borderBottomColor:null,set_borderBottomColor:function(e){return this.borderBottomColor!=e&&(this.borderBottomColor=e,0<this.borderSize||0<this.borderBottomSize)&&this.updateBorder(),e},borderLeftColor:null,set_borderLeftColor:function(e){return this.borderLeftColor!=e&&(this.borderLeftColor=e,0<this.borderSize||0<this.borderLeftSize)&&this.updateBorder(),e},borderRightColor:null,set_borderRightColor:function(e){return this.borderRightColor!=e&&(this.borderRightColor=e,0<this.borderSize||0<this.borderRightSize)&&this.updateBorder(),e},shouldDisplayBorder:function(){return 0<this.borderSize||0<this.borderTopSize||0<this.borderBottomSize||0<this.borderLeftSize||0<this.borderRightSize},initBorder:function(){this.border=new Za,this.add(this.border)},updateBorder:function(){var e,n,t;0<this.borderSize||0<this.borderTopSize||0<this.borderBottomSize||0<this.borderLeftSize||0<this.borderRightSize?(null==this.border&&this.initBorder(),this.border.set_depth(this.borderDepth),this.border.set_alpha(this.borderAlpha),0!=(t=this.border).autoComputeVertices&&(t.autoComputeVertices=!1),0!=(t=this.border).autoComputeColors&&(t.autoComputeColors=!1),t=this.border,e=this.borderColor,t.borderColor!=e&&(t.borderColor=e,t.autoComputeColors)&&t.computeColors(),t=this.border,e=this.borderTopColor,t.borderTopColor!=e&&(t.borderTopColor=e,t.autoComputeColors)&&t.computeColors(),t=this.border,e=this.borderBottomColor,t.borderBottomColor!=e&&(t.borderBottomColor=e,t.autoComputeColors)&&t.computeColors(),t=this.border,e=this.borderLeftColor,t.borderLeftColor!=e&&(t.borderLeftColor=e,t.autoComputeColors)&&t.computeColors(),t=this.border,e=this.borderRightColor,t.borderRightColor!=e&&(t.borderRightColor=e,t.autoComputeColors)&&t.computeColors(),t=this.border,e=this.borderPosition,t.borderPosition!=e&&(t.borderPosition=e,t.autoComputeVertices)&&t.computeVertices(),t=this.border,e=this.borderSize,t.borderSize!=e&&(t.borderSize=e,t.autoComputeVertices)&&t.computeVertices(),t=this.border,e=this.borderTopSize,t.borderTopSize!=e&&(t.borderTopSize=e,t.autoComputeVertices)&&t.computeVertices(),t=this.border,e=this.borderBottomSize,t.borderBottomSize!=e&&(t.borderBottomSize=e,t.autoComputeVertices)&&t.computeVertices(),t=this.border,e=this.borderLeftSize,t.borderLeftSize!=e&&(t.borderLeftSize=e,t.autoComputeVertices)&&t.computeVertices(),t=this.border,e=this.borderRightSize,t.borderRightSize!=e&&(t.borderRightSize=e,t.autoComputeVertices)&&t.computeVertices(),t=this.border,e=this.get_width(),n=this.get_height(),t.set_width(e),t.set_height(n),1!=(t=this.border).autoComputeVertices&&(t.autoComputeVertices=!0,t.computeVertices()),1!=(t=this.border).autoComputeColors&&(t.autoComputeColors=!0,t.computeColors()),(t=this.border).set_anchorX(0),t.set_anchorY(0),(t=this.border).set_x(0),t.set_y(0)):null!=this.border&&(this.border.destroy(),this.border=null)},persistedComputedSizes:null,persistedComputedSizeForContext:function(e,n,t){var i=null;if(null!=this.computedSize&&this.computedSize.parentWidth==e&&this.computedSize.parentHeight==n&&this.computedSize.parentLayoutMask==t)i=this.computedSize;else for(var l=0,s=this.persistedComputedSizes.length;l<s;){var r=l++,r=this.persistedComputedSizes[r];if(r.parentWidth==e&&r.parentHeight==n&&r.parentLayoutMask==t){i=r;break}}return i},persistComputedSize:function(e,n,t,i,l){i!=Ke.NO_SIZE&&l!=Ke.NO_SIZE&&(null==(s=this.persistedComputedSizeForContext(e,n,t))&&((s=Ke.get()).parentWidth=e,s.parentHeight=n,s.parentLayoutMask=t),s.computedWidth=i,s.computedHeight=l,this.computedSize=s);var s,e=this.computedSize;return e.parentWidth==Ke.NO_SIZE&&e.parentHeight==Ke.NO_SIZE&&e.recycle(),this.computedSize},assignComputedSize:function(e,n){var t=this.computedSize;return(t=null==t||t.parentWidth!=Ke.NO_SIZE&&t.parentHeight!=Ke.NO_SIZE?Ke.get():t).parentWidth=Ke.NO_SIZE,t.parentHeight=Ke.NO_SIZE,t.computedWidth=e,t.computedHeight=n,this.computedSize=t},hasPersistentComputedSizeWithContext:function(e,n,t){return null!=this.persistedComputedSizeForContext(e,n,t)},resetComputedSize:function(e){for(null==e&&(e=!1),this.computedSize=null;0<this.persistedComputedSizes.length;)this.persistedComputedSizes.pop().recycle();if(e&&null!=this.subviews)for(var n=0,t=this.subviews.length;n<t;){var i=n++;this.subviews[i].resetComputedSize(!0)}},shouldResetComputedSize:function(){var e=!1;if(this.layoutDirty)e=!0;else for(var n=this.get_parentView();null!=n;){if(n.layoutDirty){e=!0;break}n=n.get_parentView()}return e},layoutDependsOnParent:function(){var e,n=!1;return n=-39999.9<this.viewWidth&&-39999.9<this.viewHeight&&(null==this.computedSize||!(this.computedSize.parentWidth==Ke.NO_SIZE||!((e=this.viewWidth)<-39999.9&&-60000.1<e)||this.computedSize.parentHeight==Ke.NO_SIZE||!((e=this.viewHeight)<-39999.9&&-60000.1<e)))?n:!0},set_active:function(e){return 1!=(1&this.flags)!=e&&(q.prototype.set_active.call(this,e),this.layoutDirty=!0),e},set_width:function(e){if(this._width!=e){if(this._width=e,this.layoutDirty=!0,0!=this.anchorX&&(this.matrixDirty=!0,null!=this.children))for(var n=0,t=this.children.length;n<t;){var i=n++,l=this.children[i];if(l.matrixDirty=!0,null!=l.children)for(var s=0,r=l.children.length;s<r;){var h=s++;l.children[h].set_matrixDirty(!0)}}0<this.borderSize&&this.updateBorder(),this.sizeDirty||(this.sizeDirty=!0,ae.app._onceImmediate($bind(this,this.emitResizeIfNeeded)))}return e},set_height:function(e){if(this._height!=e){if(this._height=e,this.layoutDirty=!0,0!=this.anchorY&&(this.matrixDirty=!0,null!=this.children))for(var n=0,t=this.children.length;n<t;){var i=n++,l=this.children[i];if(l.matrixDirty=!0,null!=l.children)for(var s=0,r=l.children.length;s<r;){var h=s++;l.children[h].set_matrixDirty(!0)}}0<this.borderSize&&this.updateBorder(),this.sizeDirty||(this.sizeDirty=!0,ae.app._onceImmediate($bind(this,this.emitResizeIfNeeded)))}return e},set_depth:function(e){return this.depth!=e&&(q.prototype.set_depth.call(this,e),0<this.borderSize)&&this.updateBorder(),e},set_depthRange:function(e){return this.depthRange!=e&&(q.prototype.set_depthRange.call(this,e),0<this.borderSize)&&this.updateBorder(),e},add:function(e){q.prototype.add.call(this,e),e instanceof f0&&(e=e,null==this.subviews&&(this.subviews=[]),this.subviews.push(e),e.layoutDirty=!0),this.layoutDirty=!0},addBefore:function(e,n){if(q.prototype.addBefore.call(this,e,n),e instanceof f0){null==this.subviews&&(this.subviews=[]);for(var t=this.children.indexOf(n),i=0,l=0,s=this.subviews.length;l<s;){var r=l++,h=this.subviews[r];if(t<=this.children.indexOf(h)){i=r;break}i=1+r}this.subviews.splice(i,0,e),e.layoutDirty=!0}this.layoutDirty=!0},addAfter:function(e,n){if(q.prototype.addAfter.call(this,e,n),e instanceof f0){null==this.subviews&&(this.subviews=[]);for(var t=this.children.indexOf(n),i=this.subviews.length,l=0,s=this.subviews.length;l<s;){var r=l++,h=this.subviews[r];if(t<this.children.indexOf(h)){i=r;break}}this.subviews.splice(i,0,e),e.layoutDirty=!0}this.layoutDirty=!0},remove:function(e){q.prototype.remove.call(this,e),e instanceof f0&&(this.subviews.splice(this.subviews.indexOf(e=e),1),e.layoutDirty=!0),this.layoutDirty=!0},autorun:function(e,n){var t,i=this;return n=null==n?$bind(this,this._immediateAutorunLayout):(t=n,function(){t(),i._immediateAutorunLayout()}),q.prototype.autorun.call(this,e,n)},_immediateAutorunLayout:function(){ae.app._onceImmediate($bind(this,this._autorunLayout))},_autorunLayout:function(){this.layoutDirty=!0,f0.requestLayout()},customParentView:null,get_parentView:function(){return null!=this.customParentView?this.customParentView:this.parent instanceof f0?this.parent:null},vIndex:null,destroy:function(){if(!(this._lifecycleState<=-2)&&(this._lifecycleState=-2,f0._allViews.splice(f0._allViews.indexOf(this),1),this._lifecycleState=-1,q.prototype.destroy.call(this),this.canLayout=!1,(this.customParentView=null)!=this.persistedComputedSizes))for(var e=this.persistedComputedSizes,n=(this.persistedComputedSizes=null,0),t=e.length;n<t;)e[n++].recycle()},removeAllViews:function(){if(null!=this.subviews){for(var e=this.subviews.length,n=C.pool(e),t=n.get(),i=0,l=e;i<l;){var s=i++;t.vector[s]=this.subviews[s]}for(i=0,l=e;i<l;){var s=i++,r=t.vector[s];this.remove(r)}n.release(t),this.subviews=null}},autoComputeSize:function(e){null==e&&(e=!1),this.computeSize(0,0,15,!0),e&&null!=this.computedSize&&(e=this.computedSize.computedHeight,this.set_width(this.computedSize.computedWidth),this.set_height(e))},autoComputeSizeIfNeeded:function(e){null==e&&(e=!1);this.computedSize=this.persistedComputedSizeForContext(0,0,15),null==this.computedSize&&this.computeSize(0,0,15,!0),e&&null!=this.computedSize&&(e=this.computedSize.computedHeight,this.set_width(this.computedSize.computedWidth),this.set_height(e))},applyComputedSize:function(){var e;null!=this.computedSize&&(e=this.computedSize.computedHeight,this.set_width(this.computedSize.computedWidth),this.set_height(e))},computeSizeWithIntrinsicBounds:function(e,n,t,i,l,s){var r,h,a,o=Ke.NO_SIZE,c=Ke.NO_SIZE,u=(null!=this.computedSize&&(o=this.computedSize.computedWidth,c=this.computedSize.computedHeight),e-this.paddingLeft-this.paddingRight),_=n-this.paddingTop-this.paddingBottom,d=1,b=this.viewWidth,g=!(-60001.1<b&&b<-60000.9),b=!(-60001.1<(b=this.viewHeight)&&b<-60000.9);return g||((null==(a=null)?1==(1&t):(t=a?1|t:-2&t,a))||u<o&&(o=u),null==(a=null)?2==(2&t):(t=a?2|t:-3&t,a))||o<u&&(o=u),b||((null==(a=null)?4==(4&t):(t=a?4|t:-5&t,a))||_<c&&(c=_),null==(a=null)?8==(8&t):(t=a?8|t:-9&t,a))||c<_&&(c=_),0<l&&0<s&&(g||b?g&&!b?((c-=this.paddingTop+this.paddingBottom)<(h=o*s/l)&&(null==(a=null)?4==(4&t):(t=a?4|t:-5&t,a))||h<c&&(null==(a=null)?8==(8&t):(t=a?8|t:-9&t,a)))&&(c=h):!g&&b?((o-=this.paddingLeft+this.paddingRight)<(r=c*l/s)&&(null==(a=null)?1==(1&t):(t=a?1|t:-2&t,a))||r<o&&(null==(a=null)?2==(2&t):(t=a?2|t:-3&t,a)))&&(o=r):g&&b&&(o-=this.paddingLeft+this.paddingRight,c-=this.paddingTop+this.paddingBottom):(c<(h=(o=o<(r=c*l/s)&&(null==(a=null)?1==(1&t):(t=a?1|t:-2&t,a))||r<o&&(null==(a=null)?2==(2&t):(t=a?2|t:-3&t,a))?r:o)*s/l)&&(null==(a=null)?4==(4&t):(t=a?4|t:-5&t,a))||h<c&&(null==(a=null)?8==(8&t):(t=a?8|t:-9&t,a)))&&(c=h),d=Math.min(o/l,c/s),o+=this.paddingLeft+this.paddingRight,c+=this.paddingTop+this.paddingBottom),i?this.persistComputedSize(e,n,t,o,c):this.assignComputedSize(o,c),d},computeSizeIfNeeded:function(e,n,t,i){this.computedSize=this.persistedComputedSizeForContext(e,n,t),null==this.computedSize&&this.computeSize(e,n,t,i)},computeSize:function(e,n,t,i){var l,s,r=Ke.NO_SIZE,h=Ke.NO_SIZE,a=(0==t||-39999.9<this.viewWidth&&-39999.9<this.viewHeight||(this.layoutDirty=!0),this.viewWidth);r=-60001.1<a&&a<-60000.9?(null==(s=null)?2==(2&t):(t=s?2|t:-3&t,s))?0:e:-60002.1<(a=this.viewWidth)&&a<-60001.9?e:(l=this.viewWidth)<-39999.9&&-60000.1<l?.01*(this.viewWidth+5e4)*e:this.viewWidth,h=-60001.1<(a=this.viewHeight)&&a<-60000.9?(null==(s=null)?8==(8&t):(t=s?8|t:-9&t,s))?0:n:-60002.1<(a=this.viewHeight)&&a<-60001.9?n:(l=this.viewHeight)<-39999.9&&-60000.1<l?.01*(this.viewHeight+5e4)*n:this.viewHeight,(null==(s=null)?1==(1&t):(t=s?1|t:-2&t,s))||e<r&&(r=e),(null==(s=null)?4==(4&t):(t=s?4|t:-5&t,s))||n<h&&(h=n),i?this.persistComputedSize(e,n,t,r,h):this.assignComputedSize(r,h)},willEmitLayout:function(){this.updateBorder(),this.layout()},layout:function(){},bindToScreenSize:function(n){null==n&&(n=1);var t=this,e=(ae.app.screen.onResize(this,function(){var e=ae.app.screen.height*n;t.set_width(ae.app.screen.width*n),t.set_height(e),f0.requestLayout()}),ae.app.screen.height*n);this.set_width(ae.app.screen.width*n),this.set_height(e),f0.requestLayout()},bindToTargetSize:function(){var t=this,e=(ae.app.screen.onResize(this,function(){var e=ae.app.settings.get_targetWidth(),n=ae.app.settings.get_targetHeight();t.set_width(e),t.set_height(n),f0.requestLayout()}),ae.app.settings.get_targetWidth()),n=ae.app.settings.get_targetHeight();this.set_width(e),this.set_height(n),f0.requestLayout()},percent:function(e){return-5e4+(e<-1e4?-1e4:1e4<e?1e4:e)},percentToFloat:function(e){return.01*(e+5e4)},fill:function(){return-60002},auto:function(){return-60001},unbindEvents:function(){q.prototype.unbindEvents.call(this),this.offLayout()},__class__:f0,__properties__:$extend(q.prototype.__properties__,{get_parentView:"get_parentView",set_borderRightColor:"set_borderRightColor",set_borderLeftColor:"set_borderLeftColor",set_borderBottomColor:"set_borderBottomColor",set_borderTopColor:"set_borderTopColor",set_borderColor:"set_borderColor",set_borderRightSize:"set_borderRightSize",set_borderLeftSize:"set_borderLeftSize",set_borderBottomSize:"set_borderBottomSize",set_borderTopSize:"set_borderTopSize",set_borderSize:"set_borderSize",set_borderPosition:"set_borderPosition",set_borderAlpha:"set_borderAlpha",set_borderDepth:"set_borderDepth",set_flex:"set_flex",set_offsetY:"set_offsetY",set_offsetX:"set_offsetX",set_paddingBottom:"set_paddingBottom",set_paddingTop:"set_paddingTop",set_paddingRight:"set_paddingRight",set_paddingLeft:"set_paddingLeft",set_viewHeight:"set_viewHeight",set_viewWidth:"set_viewWidth"})}),(E["ceramic.ScrollView"]=g0).__name__="ceramic.ScrollView",g0.__super__=f0,g0.prototype=$extend(f0.prototype,{scroller:null,contentView:null,set_contentView:function(e){return this.contentView!=e&&(null!=this.contentView&&this.contentView.customParentView==this&&(this.contentView.customParentView=null),this.contentView=e,null!=this.contentView&&(this.contentView.customParentView=this),null!=this.scroller&&this.scroller.content!=e&&(this.scroller.destroy(),this.scroller=null),null==this.scroller)&&this.initScroller(),e},autoComputeContentSize:null,contentSize:null,set_contentSize:function(e){return this.contentSize!=e&&(e=Math.max(0,e),this.contentSize=e,this.layoutDirty=!0),e},get_direction:function(){return this.scroller.direction},set_direction:function(e){return this.scroller.direction=e},get_pagingEnabled:function(){return this.scroller.pagingEnabled},set_pagingEnabled:function(e){return this.scroller.pagingEnabled=e},get_pageSize:function(){return this.scroller.pageSize},set_pageSize:function(e){return this.scroller.pageSize=e},get_pageSpacing:function(){return this.scroller.pageSpacing},set_pageSpacing:function(e){return this.scroller.pageSpacing=e},get_pageMomentumThreshold:function(){return this.scroller.pageMomentumThreshold},set_pageMomentumThreshold:function(e){return this.scroller.pageMomentumThreshold=e},initContentView:function(){this.set_contentView(new f0),this.contentView.customParentView=this},initScroller:function(){this.scroller=new lt(this.contentView),this.add(this.scroller)},layout:function(){(i=this.scroller).set_x(0),i.set_y(0);var e,n,t,i=this.scroller,l=this.get_width(),s=this.get_height();i.set_width(l),i.set_height(s),this.scroller.direction==it.VERTICAL?(this.autoComputeContentSize&&(i=this.contentView,e=this.get_width(),n=this.get_height(),i.computedSize=i.persistedComputedSizeForContext(e,n,t=4),null==i.computedSize&&i.computeSize(e,n,t,!0),null!=(i=this.contentView).computedSize&&(s=i.computedSize.computedHeight,i.set_width(i.computedSize.computedWidth),i.set_height(s)),l=this.contentView.get_height(),this.contentSize!=l)&&(l=Math.max(0,l),this.contentSize=l,this.layoutDirty=!0),this.contentView.set_height(Math.max(this.get_height(),this.contentSize))):(this.autoComputeContentSize&&(i=this.contentView,e=this.get_width(),n=this.get_height(),i.computedSize=i.persistedComputedSizeForContext(e,n,t=1),null==i.computedSize&&i.computeSize(e,n,t,!0),null!=(i=this.contentView).computedSize)&&(s=i.computedSize.computedHeight,i.set_width(i.computedSize.computedWidth),i.set_height(s)),this.contentView.set_width(Math.max(this.get_width(),this.contentSize))),xl.trace("-> contentSize="+this.contentSize,{fileName:"../../../../ceramic/plugins/ui/runtime/src/ceramic/ScrollView.hx",lineNumber:223,className:"ceramic.ScrollView",methodName:"layout"})},__class__:g0,__properties__:$extend(f0.prototype.__properties__,{set_pageMomentumThreshold:"set_pageMomentumThreshold",get_pageMomentumThreshold:"get_pageMomentumThreshold",set_pageSpacing:"set_pageSpacing",get_pageSpacing:"get_pageSpacing",set_pageSize:"set_pageSize",get_pageSize:"get_pageSize",set_pagingEnabled:"set_pagingEnabled",get_pagingEnabled:"get_pagingEnabled",set_direction:"set_direction",get_direction:"get_direction",set_contentSize:"set_contentSize",set_contentView:"set_contentView"})}),(E["ceramic.CollectionView"]=h0).__name__="ceramic.CollectionView",h0.__super__=g0,h0.prototype=$extend(g0.prototype,{collectionViewFlowLayout:null,collectionViewLayout:null,set_collectionViewLayout:function(e){return this.collectionViewLayout!=e&&(null!=(this.collectionViewLayout=e)&&Os.getClass(e)==Ne?this.collectionViewFlowLayout=e:this.collectionViewFlowLayout=null),e},dataSource:null,autoDestroyItems:null,maxReusableViewsCount:null,childrenDepth:null,set_childrenDepth:function(e){return this.childrenDepth!=e&&(this.childrenDepth=e,this.layoutDirty=!0),e},frames:null,itemsBehavior:null,set_itemsBehavior:function(e){return this.itemsBehavior!=e&&1==(this.itemsBehavior=e)&&(this.layoutDirty=!0),e},reusableViews:null,prevLayoutWidth:null,prevLayoutHeight:null,destroy:function(){if(!(this._lifecycleState<=-2)){this._lifecycleState=-2,this._lifecycleState=-1,g0.prototype.destroy.call(this),this.set_dataSource(null);for(var e=0,n=this.reusableViews.length;e<n;){var t=e++;this.reusableViews[t].destroy()}this.reusableViews=null}},set_dataSource:function(e){return this.dataSource!=e&&(this.dataSource=e,this.reloadData()),e},reloadData:function(){if(0<this.frames.length)for(var e=0,n=this.frames.length;e<n;){var t=e++,i=this.frames[t];null!=i.view&&i.view.destroy()}if(null!=this.dataSource){for(var l=[],e=0,n=this.dataSource.collectionViewSize(this);e<n;){t=e++;l.push(new ze(0,0,0,0))}this.frames=l}else this.frames=[];this.layoutDirty=!0},layout:function(){var e=!1;this.prevLayoutWidth==this.get_width()&&this.prevLayoutHeight==this.get_height()||(this.prevLayoutWidth=this.get_width(),this.prevLayoutHeight=this.get_height(),e=!0);(n=this.scroller).set_x(0),n.set_y(0);var n=this.scroller,t=this.get_width(),i=this.get_height();if(n.set_width(t),n.set_height(i),0<this.frames.length){for(var l=0,s=this.frames.length;l<s;){var r=l++;this.dataSource.collectionViewItemFrameAtIndex(this,r,this.frames[r])}this.collectionViewLayout.collectionViewLayout(this,this.frames)}this.scroller.direction==it.VERTICAL?(this.contentView.set_height(Math.max(this.get_height(),this.contentSize)),e&&this.contentView.get_height()- -this.scroller.scrollTransform.ty<this.get_height()&&(n=this.scroller,t=this.contentView.get_height()-this.get_height(),n.scrollTransform.ty!=-t)&&(n.scrollTransform.ty=-t,n.scrollTransform.changedDirty=!0)):(this.contentView.set_width(Math.max(this.get_width(),this.contentSize)),e&&this.contentView.get_width()- -this.scroller.scrollTransform.tx<this.get_width()&&(n=this.scroller,i=this.contentView.get_width()-this.get_width(),n.scrollTransform.tx!=-i)&&(n.scrollTransform.tx=-i,n.scrollTransform.changedDirty=!0)),this.computeVisibleItems()},findClosestItem:function(e,n,t){var i=99999999,l=99999999,s=0,r=0,h=-1,a=(t=null==t?!0:t)?-this.scroller.scrollTransform.tx:0,o=t?-this.scroller.scrollTransform.ty:0;if(0<this.frames.length)for(var c=0,u=this.frames.length;c<u;){var _=c++,d=this.frames[_],b=d.x-a,g=d.x+d.width-a,O=d.y-o,d=d.y+d.height-o,s=e<b?g-e:g<=e?e-b:0,r=n<O?d-n:d<=n?n-O:0;this.scroller.direction==it.VERTICAL?(s<i||s==i&&r<l)&&(i=s,l=r,h=_):(r<l||r==l&&s<i)&&(i=s,l=r,h=_)}return h},computeVisibleItems:function(){var e=this;if(null!=this.dataSource){var n=2!=this.itemsBehavior&&3!=this.itemsBehavior;if(this.scroller.direction==it.VERTICAL){if(null!=this.collectionViewFlowLayout)if(this.collectionViewFlowLayout.allItemsVisible)for(var t=0,i=this.frames.length;t<i;){var l=t++;(b=this.frames[l]).visible=!0,(b.width<=0||b.height<=0)&&(b.visible=!1)}else for(var s=this.scroller.scrollTransform.ty,r=this.collectionViewFlowLayout.visibleOutset,h=this.get_height(),t=0,i=this.frames.length;t<i;){var l=t++,a=-s-r;(b=this.frames[l]).visible=b.y<a+h+2*r&&b.y+b.height>=a,(b.visible&&b.width<=0||b.height<=0)&&(b.visible=!1),!n||b.visible||null!=b.view&&(e.dataSource.collectionViewReleaseItemAtIndex(e,l,b.view)?(b.view.set_active(!1),e.reusableViews.push(b.view)):0<=b.view._lifecycleState&&(b.view.set_active(!1),e.autoDestroyItems)&&b.view.destroy(),b.view=null)}else for(t=0,i=this.frames.length;t<i;){l=t++;(b=this.frames[l]).visible=this.collectionViewLayout.isFrameVisible(this,b),(b.visible&&b.width<=0||b.height<=0)&&(b.visible=!1),!n||b.visible||null!=b.view&&(e.dataSource.collectionViewReleaseItemAtIndex(e,l,b.view)?(b.view.set_active(!1),e.reusableViews.push(b.view)):0<=b.view._lifecycleState&&(b.view.set_active(!1),e.autoDestroyItems)&&b.view.destroy(),b.view=null)}for(t=0,i=this.frames.length;t<i;){var o,l=t++,c=[b=this.frames[l]];c[0].visible&&(2!=e.itemsBehavior&&null==c[0].view&&(0<e.reusableViews.length?(g=e.reusableViews.pop(),c[0].view=e.dataSource.collectionViewItemAtIndex(e,l,g),c[0].view!=g&&e.autoDestroyItems&&g.destroy()):c[0].view=e.dataSource.collectionViewItemAtIndex(e,l,null)),null!=(o=[c[0].view])[0])&&0<=o[0]._lifecycleState&&(1==e.childrenDepth?o[0].set_depth(l):-1==e.childrenDepth?o[0].set_depth(e.frames.length-l):0==e.childrenDepth&&o[0].set_depth(1),f=o[0].get_width(),p=o[0].get_height(),C=c[0].height,o[0].set_viewWidth(c[0].width),o[0].set_viewHeight(C),v=c[0].height,o[0].set_width(c[0].width),o[0].set_height(v),o[0].layoutDirty&&(e.contentView.layoutDirty=!0),w=c[0].x+c[0].width*o[0].anchorX,m=c[0].y+c[0].height*o[0].anchorY,o[0].set_x(w),o[0].set_y(m),o[0].set_active(!0),o[0].parent!=e.contentView&&e.contentView.add(o[0]),f==c[0].width&&p==c[0].height||o[0].onceLayout(e,function(t,i){return function(){var e=i[0].x+i[0].width*t[0].anchorX,n=i[0].y+i[0].height*t[0].anchorY;t[0].set_x(e),t[0].set_y(n)}}(o,c)))}}else{if(null!=this.collectionViewFlowLayout)if(this.collectionViewFlowLayout.allItemsVisible)for(t=0,i=this.frames.length;t<i;){l=t++;(b=this.frames[l]).visible=!0,(b.width<=0||b.height<=0)&&(b.visible=!1)}else for(var u=this.scroller.scrollTransform.tx,r=this.collectionViewFlowLayout.visibleOutset,_=this.get_width(),t=0,i=this.frames.length;t<i;){var l=t++,d=-u-r;(b=this.frames[l]).visible=b.x<d+_+2*r&&b.x+b.width>=d,(b.visible&&b.width<=0||b.height<=0)&&(b.visible=!1),!n||b.visible||null!=b.view&&(e.dataSource.collectionViewReleaseItemAtIndex(e,l,b.view)?(b.view.set_active(!1),e.reusableViews.push(b.view)):0<=b.view._lifecycleState&&(b.view.set_active(!1),e.autoDestroyItems)&&b.view.destroy(),b.view=null)}else for(t=0,i=this.frames.length;t<i;){l=t++;(b=this.frames[l]).visible=this.collectionViewLayout.isFrameVisible(this,b),(b.visible&&b.width<=0||b.height<=0)&&(b.visible=!1),!n||b.visible||null!=b.view&&(e.dataSource.collectionViewReleaseItemAtIndex(e,l,b.view)?(b.view.set_active(!1),e.reusableViews.push(b.view)):0<=b.view._lifecycleState&&(b.view.set_active(!1),e.autoDestroyItems)&&b.view.destroy(),b.view=null)}for(t=0,i=this.frames.length;t<i;){var b,g,O,f,p,C,v,w,m,l=t++,y=[b=this.frames[l]];y[0].visible&&(2!=e.itemsBehavior&&null==y[0].view&&(0<e.reusableViews.length?(g=e.reusableViews.pop(),y[0].view=e.dataSource.collectionViewItemAtIndex(e,l,g),y[0].view!=g&&e.autoDestroyItems&&g.destroy()):y[0].view=e.dataSource.collectionViewItemAtIndex(e,l,null)),null!=(O=[y[0].view])[0])&&0<=O[0]._lifecycleState&&(1==e.childrenDepth?O[0].set_depth(l):-1==e.childrenDepth?O[0].set_depth(e.frames.length-l):0==e.childrenDepth&&O[0].set_depth(1),f=O[0].get_width(),p=O[0].get_height(),C=y[0].height,O[0].set_viewWidth(y[0].width),O[0].set_viewHeight(C),v=y[0].height,O[0].set_width(y[0].width),O[0].set_height(v),O[0].layoutDirty&&(e.contentView.layoutDirty=!0),w=y[0].x+y[0].width*O[0].anchorX,m=y[0].y+y[0].height*O[0].anchorY,O[0].set_x(w),O[0].set_y(m),O[0].set_active(!0),O[0].parent!=e.contentView&&e.contentView.add(O[0]),f==y[0].width&&p==y[0].height||O[0].onceLayout(e,function(t,i){return function(){var e=i[0].x+i[0].width*t[0].anchorX,n=i[0].y+i[0].height*t[0].anchorY;t[0].set_x(e),t[0].set_y(n)}}(O,y)))}}if(this.autoDestroyItems)for(;this.reusableViews.length>this.maxReusableViewsCount;)this.reusableViews.pop().destroy()}},getTargetScrollXForItem:function(e,n){e<0?e=0:e>=this.frames.length&&(e=this.frames.length-1);var t=this.frames[e],i=-this.scroller.scrollTransform.tx;switch(n=null==n?3:n){case 0:i=t.x;break;case 1:i=t.x-.5*this.get_width()+.5*t.width;break;case 2:i=t.x-this.get_width()+t.width;break;case 3:var l=t.x-this.get_width()+t.width,s=t.x;s<i?i=s:i<l&&(i=l)}e=this.frames[this.frames.length-1],n=e.x+e.width-this.get_width();return i=(i=n<i?n:i)<0?0:i},getTargetScrollYForItem:function(e,n){e<0?e=0:e>=this.frames.length&&(e=this.frames.length-1);var t=this.frames[e],i=-this.scroller.scrollTransform.ty;switch(n=null==n?3:n){case 0:i=t.y;break;case 1:i=t.y-.5*this.get_height()+.5*t.height;break;case 2:i=t.y-this.get_height()+t.height;break;case 3:var l=t.y-this.get_height()+t.height,s=t.y;s<i?i=s:i<l&&(i=l)}e=this.frames[this.frames.length-1],n=e.y+e.height-this.get_height();return i=(i=n<i?n:i)<0?0:i},scrollToItem:function(e,n){null==n&&(n=3);var t=-this.scroller.scrollTransform.tx,i=-this.scroller.scrollTransform.ty;0!=this.frames.length&&(this.scroller.direction==it.VERTICAL?i=this.getTargetScrollYForItem(e,n):t=this.getTargetScrollXForItem(e,n),this.scroller.scrollTo(t,i))},smoothScrollToItem:function(e,n,t,i){null==t&&(t=.15),null==n&&(n=3);var l=-this.scroller.scrollTransform.tx,s=-this.scroller.scrollTransform.ty;0!=this.frames.length&&(this.scroller.direction==it.VERTICAL?s=this.getTargetScrollYForItem(e,n):l=this.getTargetScrollXForItem(e,n),this.scroller.smoothScrollTo(l,s,t,i))},__class__:h0,__properties__:$extend(g0.prototype.__properties__,{set_itemsBehavior:"set_itemsBehavior",set_childrenDepth:"set_childrenDepth",set_dataSource:"set_dataSource",set_collectionViewLayout:"set_collectionViewLayout"})}),(E["ceramic.CollectionViewDataSource"]=i0).__name__="ceramic.CollectionViewDataSource",i0.__isInterface__=!0,i0.prototype={collectionViewSize:null,collectionViewItemFrameAtIndex:null,collectionViewReleaseItemAtIndex:null,collectionViewItemAtIndex:null,__class__:i0},(E["ceramic.CollectionViewLayout"]=j0).__name__="ceramic.CollectionViewLayout",j0.__isInterface__=!0,j0.prototype={collectionViewLayout:null,isFrameVisible:null,__class__:j0},function(){this.allItemsVisible=!1,this.visibleOutset=0,this.itemSpacingY=0,this.itemSpacingX=0,this.insetEnd=0,this.insetStart=0,this.itemSizing=-1}),ze=((E["ceramic.CollectionViewFlowLayout"]=Ne).__name__="ceramic.CollectionViewFlowLayout",Ne.__interfaces__=[j0],Ne.prototype={itemSizing:null,insetStart:null,insetEnd:null,itemSpacingX:null,itemSpacingY:null,visibleOutset:null,allItemsVisible:null,collectionViewLayout:function(e,n){var t=0,i=0,l=0,s=0,r=e.scroller.direction,h=e.get_width(),a=e.get_height();if(r==it.VERTICAL){for(var s=i+=this.insetStart,o=0,c=n.length;o<c;){var u=n[o++];0<this.itemSizing&&(u.width=Math.min(h,h*this.itemSizing)),0<t&&t+u.width>h&&(t=0,i=s+this.itemSpacingY),u.x=t,u.y=i,s=Math.max(s,i+u.height),t+=u.width+this.itemSpacingX}var _=s+this.insetEnd}else{for(l=t+=this.insetStart,o=0,c=n.length;o<c;){u=n[o++];0<this.itemSizing&&(u.height=Math.min(a,a*this.itemSizing)),0<i&&i+u.height>a&&(i=0,t=l+this.itemSpacingX),u.x=t,u.y=i,l=Math.max(l,t+u.width),i+=u.height+this.itemSpacingY}_=l+this.insetEnd}e.contentSize!=_&&(_=Math.max(0,_),e.contentSize=_,e.layoutDirty=!0)},isFrameVisible:function(e,n){var t,i;return!!this.allItemsVisible||(e.scroller.direction==it.VERTICAL?(t=(i=-e.scroller.scrollTransform.ty-this.visibleOutset)+e.get_height()+2*this.visibleOutset,n.y<t&&n.y+n.height>=i):(i=(t=-e.scroller.scrollTransform.tx-this.visibleOutset)+e.get_width()+2*this.visibleOutset,n.x<i&&n.x+n.width>=t))},__class__:Ne},function(e,n,t,i){this.view=null,this.visible=!1,this.x=e,this.y=n,this.width=t,this.height=i}),Ge=((E["ceramic.CollectionViewItemFrame"]=ze).__name__="ceramic.CollectionViewItemFrame",ze.prototype={x:null,y:null,width:null,height:null,visible:null,view:null,toString:function(){return"Frame(x="+this.x+" y="+this.y+" w="+this.width+" h="+this.height+")"},__class__:ze},function(e,n,t){null==t&&(t=!1),null==n&&(n=.5),null==e&&(e=16),this.size=0,this.iterableKeysUsed=null,this.iterableKeys=null,this.intMap=new Ll,t&&(this.iterableKeys=[],this.iterableKeysUsed=new Ge(16,.5,!1))}),P=((E["ceramic.IntIntMap"]=Ge).__name__="ceramic.IntIntMap",Ge.prototype={intMap:null,iterableKeys:null,iterableKeysUsed:null,size:null,clear:function(){this.intMap.h={},this.size=0,null!=this.iterableKeys&&(this.iterableKeys=[],this.iterableKeysUsed=new Ge(16,.5,!1))},exists:function(e){return this.intMap.h.hasOwnProperty(0|e)},set:function(e,n){null!=this.iterableKeys&&0==(null!=(t=this.iterableKeysUsed.intMap.h[0|e])?t:0)&&(this.iterableKeysUsed.set(e,1),this.iterableKeys.push(e));var t=0|e;return this.intMap.h.hasOwnProperty(t)||this.size++,this.intMap.h[t]=0|n,n},get:function(e){e=this.intMap.h[0|e];return null!=e?e:0},remove:function(e){var n,t=0|e,i=0;return null!=this.iterableKeys&&0!=(null!=(n=this.iterableKeysUsed.intMap.h[0|e])?n:0)&&(this.iterableKeysUsed.set(e,0),this.iterableKeys.splice(this.iterableKeys.indexOf(e),1)),this.intMap.h.hasOwnProperty(t)&&(i=this.intMap.h[t],this.size--),this.intMap.remove(t),i},getInline:function(e){e=this.intMap.h[0|e];return null!=e?e:0},existsInline:function(e){return this.intMap.h.hasOwnProperty(0|e)},copy:function(){var e=new Ge;return e.intMap=this.intMap.copy(),e.size=this.size,e.iterableKeys=null!=this.iterableKeys?this.iterableKeys.slice():null,e.iterableKeysUsed=null!=this.iterableKeysUsed?wn.copy(this.iterableKeysUsed):null,e},iterator:function(){return new An(this)},keys:function(){return new kn(this)},keyValueIterator:function(){return new In(this)},__class__:Ge},{}),Xe=(P.__properties__={set_lightnessHSLuv:"set_lightnessHSLuv",get_lightnessHSLuv:"get_lightnessHSLuv",set_saturationHSLuv:"set_saturationHSLuv",get_saturationHSLuv:"get_saturationHSLuv",set_hueHSLuv:"set_hueHSLuv",get_hueHSLuv:"get_hueHSLuv",set_lightness:"set_lightness",get_lightness:"get_lightness",set_brightness:"set_brightness",get_brightness:"get_brightness",set_saturation:"set_saturation",get_saturation:"get_saturation",set_hue:"set_hue",get_hue:"get_hue",set_black:"set_black",get_black:"get_black",set_yellow:"set_yellow",get_yellow:"get_yellow",set_magenta:"set_magenta",get_magenta:"get_magenta",set_cyan:"set_cyan",get_cyan:"get_cyan",set_blueFloat:"set_blueFloat",get_blueFloat:"get_blueFloat",set_greenFloat:"set_greenFloat",get_greenFloat:"get_greenFloat",set_redFloat:"set_redFloat",get_redFloat:"get_redFloat",set_blue:"set_blue",get_blue:"get_blue",set_green:"set_green",get_green:"get_green",set_red:"set_red",get_red:"get_red"},P.toAlphaColor=function(e){e=(0|e)-16777216;return e&16777215|-16777216},P.random=function(e,n){null==n&&(n=.5),null==e&&(e=.5);var t=360*Math.random(),e=Math.random()*(1-e)+e,n=Math.random()*(1-n)+n;return P.fromHSB(t,e,n)},P.fromInt=function(e){return null==e?0:e},P.fromRGB=function(e,n,t){var i=0;return((i&65535|(255<e?255:e<0?0:e)<<16)&16711935|(255<n?255:n<0?0:n)<<8)&16776960|(255<t?255:t<0?0:t)},P.fromRGBFloat=function(e,n,t){var i=0,e=(i=i&65535|(255<(e=Math.round(255*e))?255:e<0?0:e)<<16,Math.round(255*n)),e=(i=i&16711935|(255<e?255:e<0?0:e)<<8,Math.round(255*t));return i=i&16776960|(255<e?255:e<0?0:e)},P.fromCMYK=function(e,n,t,i){var l=0,e=(1-e)*(1-i),e=(l=l&65535|(255<(s=Math.round(255*e))?255:s<0?0:s)<<16,(1-n)*(1-i)),s=Math.round(255*e),e=(1-t)*(1-i);return l=(l=l&16711935|(255<s?255:s<0?0:s)<<8)&16776960|(255<(s=Math.round(255*e))?255:s<0?0:s)},P.fromHSB=function(e,n,t){var i=0,n=t*n,l=t-n,t=e,s=n,e=(t%=360)/60,r=s*(1-Math.abs(e%2-1))+l;switch(s+=l,0|e){case 0:i=i&65535|(255<(h=Math.round(255*s))?255:h<0?0:h)<<16;var h=Math.round(255*r),h=(i=i&16711935|(255<h?255:h<0?0:h)<<8,Math.round(255*l)),i=i&16776960|(255<h?255:h<0?0:h);break;case 1:h=(i=i&65535|(255<(h=Math.round(255*r))?255:h<0?0:h)<<16,Math.round(255*s)),h=(i=i&16711935|(255<h?255:h<0?0:h)<<8,Math.round(255*l));i=i&16776960|(255<h?255:h<0?0:h);break;case 2:h=(i=i&65535|(255<(h=Math.round(255*l))?255:h<0?0:h)<<16,Math.round(255*s)),h=(i=i&16711935|(255<h?255:h<0?0:h)<<8,Math.round(255*r));i=i&16776960|(255<h?255:h<0?0:h);break;case 3:h=(i=i&65535|(255<(h=Math.round(255*l))?255:h<0?0:h)<<16,Math.round(255*r)),h=(i=i&16711935|(255<h?255:h<0?0:h)<<8,Math.round(255*s));i=i&16776960|(255<h?255:h<0?0:h);break;case 4:h=(i=i&65535|(255<(h=Math.round(255*r))?255:h<0?0:h)<<16,Math.round(255*l)),h=(i=i&16711935|(255<h?255:h<0?0:h)<<8,Math.round(255*s));i=i&16776960|(255<h?255:h<0?0:h);break;case 5:h=(i=i&65535|(255<(h=Math.round(255*s))?255:h<0?0:h)<<16,Math.round(255*l)),h=(i=i&16711935|(255<h?255:h<0?0:h)<<8,Math.round(255*r));i=i&16776960|(255<h?255:h<0?0:h)}return i},P.fromHSL=function(e,n,t){var i=0,n=(1-Math.abs(2*t-1))*n,l=t-n/2,t=e,s=n,e=(t%=360)/60,r=s*(1-Math.abs(e%2-1))+l;switch(s+=l,0|e){case 0:i=i&65535|(255<(h=Math.round(255*s))?255:h<0?0:h)<<16;var h=Math.round(255*r),h=(i=i&16711935|(255<h?255:h<0?0:h)<<8,Math.round(255*l)),i=i&16776960|(255<h?255:h<0?0:h);break;case 1:h=(i=i&65535|(255<(h=Math.round(255*r))?255:h<0?0:h)<<16,Math.round(255*s)),h=(i=i&16711935|(255<h?255:h<0?0:h)<<8,Math.round(255*l));i=i&16776960|(255<h?255:h<0?0:h);break;case 2:h=(i=i&65535|(255<(h=Math.round(255*l))?255:h<0?0:h)<<16,Math.round(255*s)),h=(i=i&16711935|(255<h?255:h<0?0:h)<<8,Math.round(255*r));i=i&16776960|(255<h?255:h<0?0:h);break;case 3:h=(i=i&65535|(255<(h=Math.round(255*l))?255:h<0?0:h)<<16,Math.round(255*r)),h=(i=i&16711935|(255<h?255:h<0?0:h)<<8,Math.round(255*s));i=i&16776960|(255<h?255:h<0?0:h);break;case 4:h=(i=i&65535|(255<(h=Math.round(255*r))?255:h<0?0:h)<<16,Math.round(255*l)),h=(i=i&16711935|(255<h?255:h<0?0:h)<<8,Math.round(255*s));i=i&16776960|(255<h?255:h<0?0:h);break;case 5:h=(i=i&65535|(255<(h=Math.round(255*s))?255:h<0?0:h)<<16,Math.round(255*l)),h=(i=i&16711935|(255<h?255:h<0?0:h)<<8,Math.round(255*r));i=i&16776960|(255<h?255:h<0?0:h)}return i},P.fromString=function(e){var n,t,i=null;if(e=z.trim(e),z.startsWith(e,"0x"))i=a=null==(a=K.parseInt(e.substring(0,8)))?0:a;else if(z.startsWith(e,"#"))i=9<=e.length?(t="0x"+e.substring(1,9),16776960&(16711935&(65535&0|(255<(n=(l=K.parseInt(t))>>16&255)?255:n<0?0:n)<<16)|(255<(n=l>>8&255)?255:n<0?0:n)<<8)|(255<(n=255&l)?255:n<0?0:n)):(t="0x"+e.substring(1,7),a=null==(a=K.parseInt(t))?0:a);else{e=e.toUpperCase();for(var l=P.colorLookup.h,s=Object.keys(l),r=s.length,h=0;h<r;){var a,o=s[h++];if(o==e){i=a=null==(a=P.colorLookup.h[o])?0:a;break}}}return i},P.getHSBColorWheel=function(){for(var e=[],n=0;n<360;){var t=n++;e.push(P.fromHSB(t,1,1))}return e},P.interpolate=function(e,n,t){var i=((n>>16&255)-(e>>16&255))*(t=null==t?.5:t)+(e>>16&255)|0,l=((n>>8&255)-(e>>8&255))*t+(e>>8&255)|0,n=((255&n)-(255&e))*t+(255&e)|0,t=0;return((t&65535|(255<i?255:i<0?0:i)<<16)&16711935|(255<l?255:l<0?0:l)<<8)&16776960|(255<n?255:n<0?0:n)},P.gradient=function(e,n,t,i){for(var l=[],s=(null==i&&(i=function(e){return e}),0),r=t;s<r;){var h=s++,a=i(h/(t-1)),o=((n>>16&255)-(e>>16&255))*(a=null==a?.5:a)+(e>>16&255)|0,c=((n>>8&255)-(e>>8&255))*a+(e>>8&255)|0,a=((255&n)-(255&e))*a+(255&e)|0,u=0;l[h]=((u&65535|(255<o?255:o<0?0:o)<<16)&16711935|(255<c?255:c<0?0:c)<<8)&16776960|(255<a?255:a<0?0:a)}return l},P.multiply=function(e,n){var t=(e>>8&255)/255*((n>>8&255)/255),i=(255&e)/255*((255&n)/255),l=0,e=(l=l&65535|(255<(e=Math.round(255*((e>>16&255)/255*((n>>16&255)/255))))?255:e<0?0:e)<<16,Math.round(255*t)),e=(l=l&16711935|(255<e?255:e<0?0:e)<<8,Math.round(255*i));return l=l&16776960|(255<e?255:e<0?0:e)},P.add=function(e,n){var t=(e>>16&255)+(n>>16&255),i=(e>>8&255)+(n>>8&255),e=(255&e)+(255&n),n=0;return((n&65535|(255<t?255:t<0?0:t)<<16)&16711935|(255<i?255:i<0?0:i)<<8)&16776960|(255<e?255:e<0?0:e)},P.subtract=function(e,n){var t=(e>>16&255)-(n>>16&255),i=(e>>8&255)-(n>>8&255),e=(255&e)-(255&n),n=0;return((n&65535|(255<t?255:t<0?0:t)<<16)&16711935|(255<i?255:i<0?0:i)<<8)&16776960|(255<e?255:e<0?0:e)},P.toHexString=function(e,n){return((n=null==n?!0:n)?"0x":"")+z.hex(e>>16&255,2)+z.hex(e>>8&255,2)+z.hex(255&e,2)},P.toWebString=function(e){var n=!1;return"#"+((n=null==n?!0:n)?"0x":"")+z.hex(e>>16&255,2)+z.hex(e>>8&255,2)+z.hex(255&e,2)},P.getColorInfo=function(e){var n="0x"+z.hex(e>>16&255,2)+z.hex(e>>8&255,2)+z.hex(255&e,2)+"\n";return(n+="red: "+(e>>16&255)+" green: "+(e>>8&255)+" blue: "+(255&e)+"\n")+("hue: "+P.roundDecimal(P.get_hue(e),2)+" saturation: "+P.roundDecimal((Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))-Math.min((e>>16&255)/255,Math.min((e>>8&255)/255,(255&e)/255)))/Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255)),2)+" brightness: "+P.roundDecimal(Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255)),2)+" lightness: "+P.roundDecimal((Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))+Math.min((e>>16&255)/255,Math.min((e>>8&255)/255,(255&e)/255)))/2,2))},P.getDarkened=function(e,n){var t=(n=null==n?.2:n)<0?0:n,i=(n=1<t?1:t,e),l=(Math.max((i>>16&255)/255,Math.max((i>>8&255)/255,(255&i)/255))+Math.min((i>>16&255)/255,Math.min((i>>8&255)/255,(255&i)/255)))/2*(1-n),t=P.get_hue(i),e=(1-Math.abs(2*l-1))*((Math.max((i>>16&255)/255,Math.max((i>>8&255)/255,(255&i)/255))-Math.min((i>>16&255)/255,Math.min((i>>8&255)/255,(255&i)/255)))/Math.max((i>>16&255)/255,Math.max((i>>8&255)/255,(255&i)/255))),s=l-e/2,n=t,r=e,t=(n%=360)/60,h=r*(1-Math.abs(t%2-1))+s;switch(r+=s,0|t){case 0:l=(i=i&65535|(255<(l=Math.round(255*r))?255:l<0?0:l)<<16,Math.round(255*h)),l=(i=i&16711935|(255<l?255:l<0?0:l)<<8,Math.round(255*s)),i=i&16776960|(255<l?255:l<0?0:l);break;case 1:l=(i=i&65535|(255<(l=Math.round(255*h))?255:l<0?0:l)<<16,Math.round(255*r)),l=(i=i&16711935|(255<l?255:l<0?0:l)<<8,Math.round(255*s));i=i&16776960|(255<l?255:l<0?0:l);break;case 2:l=(i=i&65535|(255<(l=Math.round(255*s))?255:l<0?0:l)<<16,Math.round(255*r)),l=(i=i&16711935|(255<l?255:l<0?0:l)<<8,Math.round(255*h));i=i&16776960|(255<l?255:l<0?0:l);break;case 3:l=(i=i&65535|(255<(l=Math.round(255*s))?255:l<0?0:l)<<16,Math.round(255*h)),l=(i=i&16711935|(255<l?255:l<0?0:l)<<8,Math.round(255*r));i=i&16776960|(255<l?255:l<0?0:l);break;case 4:l=(i=i&65535|(255<(l=Math.round(255*h))?255:l<0?0:l)<<16,Math.round(255*s)),l=(i=i&16711935|(255<l?255:l<0?0:l)<<8,Math.round(255*r));i=i&16776960|(255<l?255:l<0?0:l);break;case 5:l=(i=i&65535|(255<(l=Math.round(255*r))?255:l<0?0:l)<<16,Math.round(255*s)),l=(i=i&16711935|(255<l?255:l<0?0:l)<<8,Math.round(255*h));i=i&16776960|(255<l?255:l<0?0:l)}return i},P.getLightened=function(e,n){var t=(n=null==n?.2:n)<0?0:n,i=(n=1<t?1:t,e),l=(Math.max((i>>16&255)/255,Math.max((i>>8&255)/255,(255&i)/255))+Math.min((i>>16&255)/255,Math.min((i>>8&255)/255,(255&i)/255)))/2+(1-(Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))+Math.min((e>>16&255)/255,Math.min((e>>8&255)/255,(255&e)/255)))/2)*n,t=P.get_hue(i),e=(1-Math.abs(2*l-1))*((Math.max((i>>16&255)/255,Math.max((i>>8&255)/255,(255&i)/255))-Math.min((i>>16&255)/255,Math.min((i>>8&255)/255,(255&i)/255)))/Math.max((i>>16&255)/255,Math.max((i>>8&255)/255,(255&i)/255))),s=l-e/2,n=t,r=e,t=(n%=360)/60,h=r*(1-Math.abs(t%2-1))+s;switch(r+=s,0|t){case 0:l=(i=i&65535|(255<(l=Math.round(255*r))?255:l<0?0:l)<<16,Math.round(255*h)),l=(i=i&16711935|(255<l?255:l<0?0:l)<<8,Math.round(255*s)),i=i&16776960|(255<l?255:l<0?0:l);break;case 1:l=(i=i&65535|(255<(l=Math.round(255*h))?255:l<0?0:l)<<16,Math.round(255*r)),l=(i=i&16711935|(255<l?255:l<0?0:l)<<8,Math.round(255*s));i=i&16776960|(255<l?255:l<0?0:l);break;case 2:l=(i=i&65535|(255<(l=Math.round(255*s))?255:l<0?0:l)<<16,Math.round(255*r)),l=(i=i&16711935|(255<l?255:l<0?0:l)<<8,Math.round(255*h));i=i&16776960|(255<l?255:l<0?0:l);break;case 3:l=(i=i&65535|(255<(l=Math.round(255*s))?255:l<0?0:l)<<16,Math.round(255*h)),l=(i=i&16711935|(255<l?255:l<0?0:l)<<8,Math.round(255*r));i=i&16776960|(255<l?255:l<0?0:l);break;case 4:l=(i=i&65535|(255<(l=Math.round(255*h))?255:l<0?0:l)<<16,Math.round(255*s)),l=(i=i&16711935|(255<l?255:l<0?0:l)<<8,Math.round(255*r));i=i&16776960|(255<l?255:l<0?0:l);break;case 5:l=(i=i&65535|(255<(l=Math.round(255*r))?255:l<0?0:l)<<16,Math.round(255*s)),l=(i=i&16711935|(255<l?255:l<0?0:l)<<8,Math.round(255*h));i=i&16776960|(255<l?255:l<0?0:l)}return i},P.getInverted=function(e){var n=255-(e>>16&255),t=255-(e>>8&255),e=255-(255&e),i=0;i=16776960&(i=16711935&(i=0|(255<n?255:n<0?0:n)<<16)|(255<t?255:t<0?0:t)<<8)|(255<e?255:e<0?0:e);return i},P.setRGB=function(e,n,t,i){return e=(e=(e=e&65535|(255<n?255:n<0?0:n)<<16)&16711935|(255<t?255:t<0?0:t)<<8)&16776960|(255<i?255:i<0?0:i)},P.setRGBFloat=function(e,n,t,i){e=65535&e|(255<(n=Math.round(255*n))?255:n<0?0:n)<<16;n=Math.round(255*t),e=16711935&e|(255<n?255:n<0?0:n)<<8,n=Math.round(255*i);return e=e&16776960|(255<n?255:n<0?0:n)},P.setCMYK=function(e,n,t,i,l){var n=(1-n)*(1-l),n=(e=e&65535|(255<(s=Math.round(255*n))?255:s<0?0:s)<<16,(1-t)*(1-l)),s=Math.round(255*n),n=(1-i)*(1-l);return e=(e=e&16711935|(255<s?255:s<0?0:s)<<8)&16776960|(255<(s=Math.round(255*n))?255:s<0?0:s)},P.setHSB=function(e,n,t,i){var t=i*t,l=i-t,i=n,s=t,n=(i%=360)/60,r=s*(1-Math.abs(n%2-1))+l;switch(s+=l,0|n){case 0:e=e&65535|(255<(h=Math.round(255*s))?255:h<0?0:h)<<16;var h=Math.round(255*r),h=(e=e&16711935|(255<h?255:h<0?0:h)<<8,Math.round(255*l));e=e&16776960|(255<h?255:h<0?0:h);break;case 1:h=(e=e&65535|(255<(h=Math.round(255*r))?255:h<0?0:h)<<16,Math.round(255*s)),h=(e=e&16711935|(255<h?255:h<0?0:h)<<8,Math.round(255*l));e=e&16776960|(255<h?255:h<0?0:h);break;case 2:h=(e=e&65535|(255<(h=Math.round(255*l))?255:h<0?0:h)<<16,Math.round(255*s)),h=(e=e&16711935|(255<h?255:h<0?0:h)<<8,Math.round(255*r));e=e&16776960|(255<h?255:h<0?0:h);break;case 3:h=(e=e&65535|(255<(h=Math.round(255*l))?255:h<0?0:h)<<16,Math.round(255*r)),h=(e=e&16711935|(255<h?255:h<0?0:h)<<8,Math.round(255*s));e=e&16776960|(255<h?255:h<0?0:h);break;case 4:h=(e=e&65535|(255<(h=Math.round(255*r))?255:h<0?0:h)<<16,Math.round(255*l)),h=(e=e&16711935|(255<h?255:h<0?0:h)<<8,Math.round(255*s));e=e&16776960|(255<h?255:h<0?0:h);break;case 5:h=(e=e&65535|(255<(h=Math.round(255*s))?255:h<0?0:h)<<16,Math.round(255*l)),h=(e=e&16711935|(255<h?255:h<0?0:h)<<8,Math.round(255*r));e=e&16776960|(255<h?255:h<0?0:h)}return e},P.setHSL=function(e,n,t,i){var t=(1-Math.abs(2*i-1))*t,l=i-t/2,i=n,s=t,n=(i%=360)/60,r=s*(1-Math.abs(n%2-1))+l;switch(s+=l,0|n){case 0:e=e&65535|(255<(h=Math.round(255*s))?255:h<0?0:h)<<16;var h=Math.round(255*r),h=(e=e&16711935|(255<h?255:h<0?0:h)<<8,Math.round(255*l));e=e&16776960|(255<h?255:h<0?0:h);break;case 1:h=(e=e&65535|(255<(h=Math.round(255*r))?255:h<0?0:h)<<16,Math.round(255*s)),h=(e=e&16711935|(255<h?255:h<0?0:h)<<8,Math.round(255*l));e=e&16776960|(255<h?255:h<0?0:h);break;case 2:h=(e=e&65535|(255<(h=Math.round(255*l))?255:h<0?0:h)<<16,Math.round(255*s)),h=(e=e&16711935|(255<h?255:h<0?0:h)<<8,Math.round(255*r));e=e&16776960|(255<h?255:h<0?0:h);break;case 3:h=(e=e&65535|(255<(h=Math.round(255*l))?255:h<0?0:h)<<16,Math.round(255*r)),h=(e=e&16711935|(255<h?255:h<0?0:h)<<8,Math.round(255*s));e=e&16776960|(255<h?255:h<0?0:h);break;case 4:h=(e=e&65535|(255<(h=Math.round(255*r))?255:h<0?0:h)<<16,Math.round(255*l)),h=(e=e&16711935|(255<h?255:h<0?0:h)<<8,Math.round(255*s));e=e&16776960|(255<h?255:h<0?0:h);break;case 5:h=(e=e&65535|(255<(h=Math.round(255*s))?255:h<0?0:h)<<16,Math.round(255*l)),h=(e=e&16711935|(255<h?255:h<0?0:h)<<8,Math.round(255*r));e=e&16776960|(255<h?255:h<0?0:h)}return e},P.setHSChromaMatch=function(e,n,t,i,l){var n=(n%=360)/60,s=i*(1-Math.abs(n%2-1))+l;switch(i+=l,0|n){case 0:e=e&65535|(255<(r=Math.round(255*i))?255:r<0?0:r)<<16;var r=Math.round(255*s),r=(e=e&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*l));e=e&16776960|(255<r?255:r<0?0:r);break;case 1:r=(e=e&65535|(255<(r=Math.round(255*s))?255:r<0?0:r)<<16,Math.round(255*i)),r=(e=e&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*l));e=e&16776960|(255<r?255:r<0?0:r);break;case 2:r=(e=e&65535|(255<(r=Math.round(255*l))?255:r<0?0:r)<<16,Math.round(255*i)),r=(e=e&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*s));e=e&16776960|(255<r?255:r<0?0:r);break;case 3:r=(e=e&65535|(255<(r=Math.round(255*l))?255:r<0?0:r)<<16,Math.round(255*s)),r=(e=e&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*i));e=e&16776960|(255<r?255:r<0?0:r);break;case 4:r=(e=e&65535|(255<(r=Math.round(255*s))?255:r<0?0:r)<<16,Math.round(255*l)),r=(e=e&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*i));e=e&16776960|(255<r?255:r<0?0:r);break;case 5:r=(e=e&65535|(255<(r=Math.round(255*i))?255:r<0?0:r)<<16,Math.round(255*l)),r=(e=e&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*s));e=e&16776960|(255<r?255:r<0?0:r)}return e},P._new=function(e){return e=null==e?0:e},P.get_red=function(e){return e>>16&255},P.get_green=function(e){return e>>8&255},P.get_blue=function(e){return 255&e},P.get_redFloat=function(e){return(e>>16&255)/255},P.get_greenFloat=function(e){return(e>>8&255)/255},P.get_blueFloat=function(e){return(255&e)/255},P.set_red=function(e,n){return e=e&65535|(255<n?255:n<0?0:n)<<16,n},P.set_green=function(e,n){return e=e&16711935|(255<n?255:n<0?0:n)<<8,n},P.set_blue=function(e,n){return e=e&16776960|(255<n?255:n<0?0:n),n},P.set_redFloat=function(e,n){var t=Math.round(255*n);return e=e&65535|(255<t?255:t<0?0:t)<<16,n},P.set_greenFloat=function(e,n){var t=Math.round(255*n);return e=e&16711935|(255<t?255:t<0?0:t)<<8,n},P.set_blueFloat=function(e,n){var t=Math.round(255*n);return e=e&16776960|(255<t?255:t<0?0:t),n},P.get_cyan=function(e){return(1-(e>>16&255)/255-(1-Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))))/Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))},P.get_magenta=function(e){return(1-(e>>8&255)/255-(1-Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))))/Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))},P.get_yellow=function(e){return(1-(255&e)/255-(1-Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))))/Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))},P.get_black=function(e){return 1-Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))},P.set_cyan=function(e,n){var t=(1-(e>>8&255)/255-(1-Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))))/Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255)),i=(1-(255&e)/255-(1-Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))))/Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255)),l=1-Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255)),s=(1-n)*(1-l),s=(e=e&65535|(255<(r=Math.round(255*s))?255:r<0?0:r)<<16,(1-t)*(1-l)),r=Math.round(255*s),s=(1-i)*(1-l);return e=(e=e&16711935|(255<r?255:r<0?0:r)<<8)&16776960|(255<(r=Math.round(255*s))?255:r<0?0:r),n},P.set_magenta=function(e,n){var t=(1-(255&e)/255-(1-Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))))/Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255)),i=1-Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255)),l=(1-(1-(e>>16&255)/255-(1-Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))))/Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255)))*(1-i),l=(e=e&65535|(255<(s=Math.round(255*l))?255:s<0?0:s)<<16,(1-n)*(1-i)),s=Math.round(255*l),l=(1-t)*(1-i);return e=(e=e&16711935|(255<s?255:s<0?0:s)<<8)&16776960|(255<(s=Math.round(255*l))?255:s<0?0:s),n},P.set_yellow=function(e,n){var t=(1-(e>>8&255)/255-(1-Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))))/Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255)),i=1-Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255)),l=(1-(1-(e>>16&255)/255-(1-Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))))/Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255)))*(1-i),l=(e=e&65535|(255<(s=Math.round(255*l))?255:s<0?0:s)<<16,(1-t)*(1-i)),s=Math.round(255*l),l=(1-n)*(1-i);return e=(e=e&16711935|(255<s?255:s<0?0:s)<<8)&16776960|(255<(s=Math.round(255*l))?255:s<0?0:s),n},P.set_black=function(e,n){var t=(1-(e>>8&255)/255-(1-Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))))/Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255)),i=(1-(255&e)/255-(1-Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))))/Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255)),l=(1-(1-(e>>16&255)/255-(1-Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))))/Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255)))*(1-n),l=(e=e&65535|(255<(s=Math.round(255*l))?255:s<0?0:s)<<16,(1-t)*(1-n)),s=Math.round(255*l),l=(1-i)*(1-n);return e=(e=e&16711935|(255<s?255:s<0?0:s)<<8)&16776960|(255<(s=Math.round(255*l))?255:s<0?0:s),n},P.get_hue=function(e){var n=0;return(n=0!=Math.atan2(Math.sqrt(3)*((e>>8&255)/255-(255&e)/255),(e>>16&255)/255*2-(e>>8&255)/255-(255&e)/255)?180/Math.PI*Math.atan2(Math.sqrt(3)*((e>>8&255)/255-(255&e)/255),(e>>16&255)/255*2-(e>>8&255)/255-(255&e)/255):n)<0?n+360:n},P.get_brightness=function(e){return Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))},P.get_saturation=function(e){return(Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))-Math.min((e>>16&255)/255,Math.min((e>>8&255)/255,(255&e)/255)))/Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))},P.get_lightness=function(e){return(Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))+Math.min((e>>16&255)/255,Math.min((e>>8&255)/255,(255&e)/255)))/2},P.set_hue=function(e,n){var t=Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255)),i=t*((Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))-Math.min((e>>16&255)/255,Math.min((e>>8&255)/255,(255&e)/255)))/Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))),l=t-i,t=n,s=i,i=(t%=360)/60,r=s*(1-Math.abs(i%2-1))+l;switch(s+=l,0|i){case 0:e=e&65535|(255<(h=Math.round(255*s))?255:h<0?0:h)<<16;var h=Math.round(255*r),h=(e=e&16711935|(255<h?255:h<0?0:h)<<8,Math.round(255*l));e=e&16776960|(255<h?255:h<0?0:h);break;case 1:h=(e=e&65535|(255<(h=Math.round(255*r))?255:h<0?0:h)<<16,Math.round(255*s)),h=(e=e&16711935|(255<h?255:h<0?0:h)<<8,Math.round(255*l));e=e&16776960|(255<h?255:h<0?0:h);break;case 2:h=(e=e&65535|(255<(h=Math.round(255*l))?255:h<0?0:h)<<16,Math.round(255*s)),h=(e=e&16711935|(255<h?255:h<0?0:h)<<8,Math.round(255*r));e=e&16776960|(255<h?255:h<0?0:h);break;case 3:h=(e=e&65535|(255<(h=Math.round(255*l))?255:h<0?0:h)<<16,Math.round(255*r)),h=(e=e&16711935|(255<h?255:h<0?0:h)<<8,Math.round(255*s));e=e&16776960|(255<h?255:h<0?0:h);break;case 4:h=(e=e&65535|(255<(h=Math.round(255*r))?255:h<0?0:h)<<16,Math.round(255*l)),h=(e=e&16711935|(255<h?255:h<0?0:h)<<8,Math.round(255*s));e=e&16776960|(255<h?255:h<0?0:h);break;case 5:h=(e=e&65535|(255<(h=Math.round(255*s))?255:h<0?0:h)<<16,Math.round(255*l)),h=(e=e&16711935|(255<h?255:h<0?0:h)<<8,Math.round(255*r));e=e&16776960|(255<h?255:h<0?0:h)}return n},P.set_saturation=function(e,n){var t=P.get_hue(e),i=Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255)),l=i*n,s=i-l,i=t,r=l,t=(i%=360)/60,h=r*(1-Math.abs(t%2-1))+s;switch(r+=s,0|t){case 0:e=e&65535|(255<(a=Math.round(255*r))?255:a<0?0:a)<<16;var a=Math.round(255*h),a=(e=e&16711935|(255<a?255:a<0?0:a)<<8,Math.round(255*s));e=e&16776960|(255<a?255:a<0?0:a);break;case 1:a=(e=e&65535|(255<(a=Math.round(255*h))?255:a<0?0:a)<<16,Math.round(255*r)),a=(e=e&16711935|(255<a?255:a<0?0:a)<<8,Math.round(255*s));e=e&16776960|(255<a?255:a<0?0:a);break;case 2:a=(e=e&65535|(255<(a=Math.round(255*s))?255:a<0?0:a)<<16,Math.round(255*r)),a=(e=e&16711935|(255<a?255:a<0?0:a)<<8,Math.round(255*h));e=e&16776960|(255<a?255:a<0?0:a);break;case 3:a=(e=e&65535|(255<(a=Math.round(255*s))?255:a<0?0:a)<<16,Math.round(255*h)),a=(e=e&16711935|(255<a?255:a<0?0:a)<<8,Math.round(255*r));e=e&16776960|(255<a?255:a<0?0:a);break;case 4:a=(e=e&65535|(255<(a=Math.round(255*h))?255:a<0?0:a)<<16,Math.round(255*s)),a=(e=e&16711935|(255<a?255:a<0?0:a)<<8,Math.round(255*r));e=e&16776960|(255<a?255:a<0?0:a);break;case 5:a=(e=e&65535|(255<(a=Math.round(255*r))?255:a<0?0:a)<<16,Math.round(255*s)),a=(e=e&16711935|(255<a?255:a<0?0:a)<<8,Math.round(255*h));e=e&16776960|(255<a?255:a<0?0:a)}return n},P.set_brightness=function(e,n){var t=P.get_hue(e),i=n*((Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))-Math.min((e>>16&255)/255,Math.min((e>>8&255)/255,(255&e)/255)))/Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))),l=n-i,s=i,i=(t%=360)/60,r=s*(1-Math.abs(i%2-1))+l;switch(s+=l,0|i){case 0:e=e&65535|(255<(h=Math.round(255*s))?255:h<0?0:h)<<16;var h=Math.round(255*r),h=(e=e&16711935|(255<h?255:h<0?0:h)<<8,Math.round(255*l));e=e&16776960|(255<h?255:h<0?0:h);break;case 1:h=(e=e&65535|(255<(h=Math.round(255*r))?255:h<0?0:h)<<16,Math.round(255*s)),h=(e=e&16711935|(255<h?255:h<0?0:h)<<8,Math.round(255*l));e=e&16776960|(255<h?255:h<0?0:h);break;case 2:h=(e=e&65535|(255<(h=Math.round(255*l))?255:h<0?0:h)<<16,Math.round(255*s)),h=(e=e&16711935|(255<h?255:h<0?0:h)<<8,Math.round(255*r));e=e&16776960|(255<h?255:h<0?0:h);break;case 3:h=(e=e&65535|(255<(h=Math.round(255*l))?255:h<0?0:h)<<16,Math.round(255*r)),h=(e=e&16711935|(255<h?255:h<0?0:h)<<8,Math.round(255*s));e=e&16776960|(255<h?255:h<0?0:h);break;case 4:h=(e=e&65535|(255<(h=Math.round(255*r))?255:h<0?0:h)<<16,Math.round(255*l)),h=(e=e&16711935|(255<h?255:h<0?0:h)<<8,Math.round(255*s));e=e&16776960|(255<h?255:h<0?0:h);break;case 5:h=(e=e&65535|(255<(h=Math.round(255*s))?255:h<0?0:h)<<16,Math.round(255*l)),h=(e=e&16711935|(255<h?255:h<0?0:h)<<8,Math.round(255*r));e=e&16776960|(255<h?255:h<0?0:h)}return n},P.set_lightness=function(e,n){var t=P.get_hue(e),i=(1-Math.abs(2*n-1))*((Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))-Math.min((e>>16&255)/255,Math.min((e>>8&255)/255,(255&e)/255)))/Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))),l=n-i/2,s=i,i=(t%=360)/60,r=s*(1-Math.abs(i%2-1))+l;switch(s+=l,0|i){case 0:e=e&65535|(255<(h=Math.round(255*s))?255:h<0?0:h)<<16;var h=Math.round(255*r),h=(e=e&16711935|(255<h?255:h<0?0:h)<<8,Math.round(255*l));e=e&16776960|(255<h?255:h<0?0:h);break;case 1:h=(e=e&65535|(255<(h=Math.round(255*r))?255:h<0?0:h)<<16,Math.round(255*s)),h=(e=e&16711935|(255<h?255:h<0?0:h)<<8,Math.round(255*l));e=e&16776960|(255<h?255:h<0?0:h);break;case 2:h=(e=e&65535|(255<(h=Math.round(255*l))?255:h<0?0:h)<<16,Math.round(255*s)),h=(e=e&16711935|(255<h?255:h<0?0:h)<<8,Math.round(255*r));e=e&16776960|(255<h?255:h<0?0:h);break;case 3:h=(e=e&65535|(255<(h=Math.round(255*l))?255:h<0?0:h)<<16,Math.round(255*r)),h=(e=e&16711935|(255<h?255:h<0?0:h)<<8,Math.round(255*s));e=e&16776960|(255<h?255:h<0?0:h);break;case 4:h=(e=e&65535|(255<(h=Math.round(255*r))?255:h<0?0:h)<<16,Math.round(255*l)),h=(e=e&16711935|(255<h?255:h<0?0:h)<<8,Math.round(255*s));e=e&16776960|(255<h?255:h<0?0:h);break;case 5:h=(e=e&65535|(255<(h=Math.round(255*s))?255:h<0?0:h)<<16,Math.round(255*l)),h=(e=e&16711935|(255<h?255:h<0?0:h)<<8,Math.round(255*r));e=e&16776960|(255<h?255:h<0?0:h)}return n},P.maxColor=function(e){return Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))},P.minColor=function(e){return Math.min((e>>16&255)/255,Math.min((e>>8&255)/255,(255&e)/255))},P.boundChannel=function(e,n){return 255<n?255:n<0?0:n},P.roundDecimal=function(e,n){for(var t=1,i=0,l=n;i<l;){i++;t*=10}return Math.round(e*t)/t},P.bound=function(e,n,t){n=null!=n&&e<n?n:e;return null!=t&&t<n?t:n},P.toString=function(e){return-1==e?"NONE":"0x"+z.hex(e>>16&255,2)+z.hex(e>>8&255,2)+z.hex(255&e,2)},P.get_hueHSLuv=function(e){var n,t=P._hsluvCacheMap.intMap.h[0|e],t=null!=t?t:0;return 0==t&&(t=1+(P._hsluvCacheValues.length/3|0),P._hsluvCacheMap.set(e,t),null==(n=P._hsluvResult)&&(n=[0,0,0]),P._hsluvTuple[0]=(e>>16&255)/255,P._hsluvTuple[1]=(e>>8&255)/255,P._hsluvTuple[2]=(255&e)/255,x.rgbToHsluv(P._hsluvTuple,n),n[1]*=.01,n[2]*=.01,P._hsluvCacheValues.push(P._hsluvResult[0]),P._hsluvCacheValues.push(P._hsluvResult[1]),P._hsluvCacheValues.push(P._hsluvResult[2])),P._hsluvCacheValues[3*(t-1)]},P.set_hueHSLuv=function(e,n){var t=P.get_saturationHSLuv(e),i=P.get_lightnessHSLuv(e);if(P._hsluvTuple[0]=n,P._hsluvTuple[1]=100*t,P._hsluvTuple[2]=100*i,.001<i){x.hsluvToRgb(P._hsluvTuple,P._hsluvResult);var l=P._hsluvResult[0];l<0&&(l=0);e=e&65535|(255<(s=Math.round(255*l))?255:s<0?0:s)<<16,(l=P._hsluvResult[1])<0&&(l=0);var s=Math.round(255*l),s=(e=e&16711935|(255<s?255:s<0?0:s)<<8,(l=P._hsluvResult[2])<0&&(l=0),Math.round(255*l));e=e&16776960|(255<s?255:s<0?0:s)}else{var l=(1-Math.abs(2*i-1))*t,r=i-l/2,t=n,h=l,i=(t%=360)/60,a=h*(1-Math.abs(i%2-1))+r;switch(h+=r,0|i){case 0:s=(e=e&65535|(255<(s=Math.round(255*h))?255:s<0?0:s)<<16,Math.round(255*a)),s=(e=e&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*r));e=e&16776960|(255<s?255:s<0?0:s);break;case 1:s=(e=e&65535|(255<(s=Math.round(255*a))?255:s<0?0:s)<<16,Math.round(255*h)),s=(e=e&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*r));e=e&16776960|(255<s?255:s<0?0:s);break;case 2:s=(e=e&65535|(255<(s=Math.round(255*r))?255:s<0?0:s)<<16,Math.round(255*h)),s=(e=e&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*a));e=e&16776960|(255<s?255:s<0?0:s);break;case 3:s=(e=e&65535|(255<(s=Math.round(255*r))?255:s<0?0:s)<<16,Math.round(255*a)),s=(e=e&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*h));e=e&16776960|(255<s?255:s<0?0:s);break;case 4:s=(e=e&65535|(255<(s=Math.round(255*a))?255:s<0?0:s)<<16,Math.round(255*r)),s=(e=e&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*h));e=e&16776960|(255<s?255:s<0?0:s);break;case 5:s=(e=e&65535|(255<(s=Math.round(255*h))?255:s<0?0:s)<<16,Math.round(255*r)),s=(e=e&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*a));e=e&16776960|(255<s?255:s<0?0:s)}}return n},P.get_saturationHSLuv=function(e){var n,t=P._hsluvCacheMap.intMap.h[0|e],t=null!=t?t:0;return 0==t&&(t=1+(P._hsluvCacheValues.length/3|0),P._hsluvCacheMap.set(e,t),null==(n=P._hsluvResult)&&(n=[0,0,0]),P._hsluvTuple[0]=(e>>16&255)/255,P._hsluvTuple[1]=(e>>8&255)/255,P._hsluvTuple[2]=(255&e)/255,x.rgbToHsluv(P._hsluvTuple,n),n[1]*=.01,n[2]*=.01,P._hsluvCacheValues.push(P._hsluvResult[0]),P._hsluvCacheValues.push(P._hsluvResult[1]),P._hsluvCacheValues.push(P._hsluvResult[2])),P._hsluvCacheValues[3*(t-1)+1]},P.set_saturationHSLuv=function(e,n){var t=P.get_hueHSLuv(e),i=P.get_lightnessHSLuv(e);if(P._hsluvTuple[0]=t,P._hsluvTuple[1]=100*n,P._hsluvTuple[2]=100*i,.001<i){x.hsluvToRgb(P._hsluvTuple,P._hsluvResult);var l=P._hsluvResult[0];l<0&&(l=0);e=e&65535|(255<(s=Math.round(255*l))?255:s<0?0:s)<<16,(l=P._hsluvResult[1])<0&&(l=0);var s=Math.round(255*l),s=(e=e&16711935|(255<s?255:s<0?0:s)<<8,(l=P._hsluvResult[2])<0&&(l=0),Math.round(255*l));e=e&16776960|(255<s?255:s<0?0:s)}else{var l=(1-Math.abs(2*i-1))*n,r=i-l/2,i=t,h=l,t=(i%=360)/60,a=h*(1-Math.abs(t%2-1))+r;switch(h+=r,0|t){case 0:s=(e=e&65535|(255<(s=Math.round(255*h))?255:s<0?0:s)<<16,Math.round(255*a)),s=(e=e&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*r));e=e&16776960|(255<s?255:s<0?0:s);break;case 1:s=(e=e&65535|(255<(s=Math.round(255*a))?255:s<0?0:s)<<16,Math.round(255*h)),s=(e=e&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*r));e=e&16776960|(255<s?255:s<0?0:s);break;case 2:s=(e=e&65535|(255<(s=Math.round(255*r))?255:s<0?0:s)<<16,Math.round(255*h)),s=(e=e&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*a));e=e&16776960|(255<s?255:s<0?0:s);break;case 3:s=(e=e&65535|(255<(s=Math.round(255*r))?255:s<0?0:s)<<16,Math.round(255*a)),s=(e=e&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*h));e=e&16776960|(255<s?255:s<0?0:s);break;case 4:s=(e=e&65535|(255<(s=Math.round(255*a))?255:s<0?0:s)<<16,Math.round(255*r)),s=(e=e&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*h));e=e&16776960|(255<s?255:s<0?0:s);break;case 5:s=(e=e&65535|(255<(s=Math.round(255*h))?255:s<0?0:s)<<16,Math.round(255*r)),s=(e=e&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*a));e=e&16776960|(255<s?255:s<0?0:s)}}return n},P.get_lightnessHSLuv=function(e){var n,t=P._hsluvCacheMap.intMap.h[0|e],t=null!=t?t:0;return 0==t&&(t=1+(P._hsluvCacheValues.length/3|0),P._hsluvCacheMap.set(e,t),null==(n=P._hsluvResult)&&(n=[0,0,0]),P._hsluvTuple[0]=(e>>16&255)/255,P._hsluvTuple[1]=(e>>8&255)/255,P._hsluvTuple[2]=(255&e)/255,x.rgbToHsluv(P._hsluvTuple,n),n[1]*=.01,n[2]*=.01,P._hsluvCacheValues.push(P._hsluvResult[0]),P._hsluvCacheValues.push(P._hsluvResult[1]),P._hsluvCacheValues.push(P._hsluvResult[2])),P._hsluvCacheValues[3*(t-1)+2]},P.set_lightnessHSLuv=function(e,n){var t=P.get_hueHSLuv(e),i=P.get_saturationHSLuv(e);if(P._hsluvTuple[0]=t,P._hsluvTuple[1]=100*i,P._hsluvTuple[2]=100*n,.001<n){x.hsluvToRgb(P._hsluvTuple,P._hsluvResult);var l=P._hsluvResult[0];l<0&&(l=0);e=e&65535|(255<(s=Math.round(255*l))?255:s<0?0:s)<<16,(l=P._hsluvResult[1])<0&&(l=0);var s=Math.round(255*l),s=(e=e&16711935|(255<s?255:s<0?0:s)<<8,(l=P._hsluvResult[2])<0&&(l=0),Math.round(255*l));e=e&16776960|(255<s?255:s<0?0:s)}else{var l=(1-Math.abs(2*n-1))*i,r=n-l/2,i=t,h=l,t=(i%=360)/60,a=h*(1-Math.abs(t%2-1))+r;switch(h+=r,0|t){case 0:s=(e=e&65535|(255<(s=Math.round(255*h))?255:s<0?0:s)<<16,Math.round(255*a)),s=(e=e&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*r));e=e&16776960|(255<s?255:s<0?0:s);break;case 1:s=(e=e&65535|(255<(s=Math.round(255*a))?255:s<0?0:s)<<16,Math.round(255*h)),s=(e=e&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*r));e=e&16776960|(255<s?255:s<0?0:s);break;case 2:s=(e=e&65535|(255<(s=Math.round(255*r))?255:s<0?0:s)<<16,Math.round(255*h)),s=(e=e&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*a));e=e&16776960|(255<s?255:s<0?0:s);break;case 3:s=(e=e&65535|(255<(s=Math.round(255*r))?255:s<0?0:s)<<16,Math.round(255*a)),s=(e=e&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*h));e=e&16776960|(255<s?255:s<0?0:s);break;case 4:s=(e=e&65535|(255<(s=Math.round(255*a))?255:s<0?0:s)<<16,Math.round(255*r)),s=(e=e&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*h));e=e&16776960|(255<s?255:s<0?0:s);break;case 5:s=(e=e&65535|(255<(s=Math.round(255*h))?255:s<0?0:s)<<16,Math.round(255*r)),s=(e=e&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*a));e=e&16776960|(255<s?255:s<0?0:s)}}return n},P._getOrCreateCachedHSLuvComponent=function(e,n){var t,i=P._hsluvCacheMap.intMap.h[0|e],i=null!=i?i:0;return 0==i&&(i=1+(P._hsluvCacheValues.length/3|0),P._hsluvCacheMap.set(e,i),null==(t=P._hsluvResult)&&(t=[0,0,0]),P._hsluvTuple[0]=(e>>16&255)/255,P._hsluvTuple[1]=(e>>8&255)/255,P._hsluvTuple[2]=(255&e)/255,x.rgbToHsluv(P._hsluvTuple,t),t[1]*=.01,t[2]*=.01,P._hsluvCacheValues.push(P._hsluvResult[0]),P._hsluvCacheValues.push(P._hsluvResult[1]),P._hsluvCacheValues.push(P._hsluvResult[2])),P._hsluvCacheValues[3*(i-1)+n]},P.fromHSLuv=function(e,n,t){var i=0;if(P._hsluvTuple[0]=e,P._hsluvTuple[1]=100*n,P._hsluvTuple[2]=100*t,.001<t){x.hsluvToRgb(P._hsluvTuple,P._hsluvResult);var l=P._hsluvResult[0];l<0&&(l=0);i=i&65535|(255<(s=Math.round(255*l))?255:s<0?0:s)<<16,(l=P._hsluvResult[1])<0&&(l=0);var s=Math.round(255*l),s=(i=i&16711935|(255<s?255:s<0?0:s)<<8,(l=P._hsluvResult[2])<0&&(l=0),Math.round(255*l)),i=i&16776960|(255<s?255:s<0?0:s)}else{var l=(1-Math.abs(2*t-1))*n,r=t-l/2,n=e,h=l,t=(n%=360)/60,a=h*(1-Math.abs(t%2-1))+r;switch(h+=r,0|t){case 0:s=(i=i&65535|(255<(s=Math.round(255*h))?255:s<0?0:s)<<16,Math.round(255*a)),s=(i=i&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*r));i=i&16776960|(255<s?255:s<0?0:s);break;case 1:s=(i=i&65535|(255<(s=Math.round(255*a))?255:s<0?0:s)<<16,Math.round(255*h)),s=(i=i&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*r));i=i&16776960|(255<s?255:s<0?0:s);break;case 2:s=(i=i&65535|(255<(s=Math.round(255*r))?255:s<0?0:s)<<16,Math.round(255*h)),s=(i=i&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*a));i=i&16776960|(255<s?255:s<0?0:s);break;case 3:s=(i=i&65535|(255<(s=Math.round(255*r))?255:s<0?0:s)<<16,Math.round(255*a)),s=(i=i&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*h));i=i&16776960|(255<s?255:s<0?0:s);break;case 4:s=(i=i&65535|(255<(s=Math.round(255*a))?255:s<0?0:s)<<16,Math.round(255*r)),s=(i=i&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*h));i=i&16776960|(255<s?255:s<0?0:s);break;case 5:s=(i=i&65535|(255<(s=Math.round(255*h))?255:s<0?0:s)<<16,Math.round(255*r)),s=(i=i&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*a));i=i&16776960|(255<s?255:s<0?0:s)}}return i},P.setHSLuv=function(e,n,t,i){if(P._hsluvTuple[0]=n,P._hsluvTuple[1]=100*t,P._hsluvTuple[2]=100*i,.001<i){x.hsluvToRgb(P._hsluvTuple,P._hsluvResult);var l=P._hsluvResult[0];l<0&&(l=0);e=e&65535|(255<(s=Math.round(255*l))?255:s<0?0:s)<<16,(l=P._hsluvResult[1])<0&&(l=0);var s=Math.round(255*l),s=(e=e&16711935|(255<s?255:s<0?0:s)<<8,(l=P._hsluvResult[2])<0&&(l=0),Math.round(255*l));e=e&16776960|(255<s?255:s<0?0:s)}else{var l=(1-Math.abs(2*i-1))*t,r=i-l/2,t=n,h=l,i=(t%=360)/60,a=h*(1-Math.abs(i%2-1))+r;switch(h+=r,0|i){case 0:s=(e=e&65535|(255<(s=Math.round(255*h))?255:s<0?0:s)<<16,Math.round(255*a)),s=(e=e&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*r));e=e&16776960|(255<s?255:s<0?0:s);break;case 1:s=(e=e&65535|(255<(s=Math.round(255*a))?255:s<0?0:s)<<16,Math.round(255*h)),s=(e=e&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*r));e=e&16776960|(255<s?255:s<0?0:s);break;case 2:s=(e=e&65535|(255<(s=Math.round(255*r))?255:s<0?0:s)<<16,Math.round(255*h)),s=(e=e&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*a));e=e&16776960|(255<s?255:s<0?0:s);break;case 3:s=(e=e&65535|(255<(s=Math.round(255*r))?255:s<0?0:s)<<16,Math.round(255*a)),s=(e=e&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*h));e=e&16776960|(255<s?255:s<0?0:s);break;case 4:s=(e=e&65535|(255<(s=Math.round(255*a))?255:s<0?0:s)<<16,Math.round(255*r)),s=(e=e&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*h));e=e&16776960|(255<s?255:s<0?0:s);break;case 5:s=(e=e&65535|(255<(s=Math.round(255*h))?255:s<0?0:s)<<16,Math.round(255*r)),s=(e=e&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*a));e=e&16776960|(255<s?255:s<0?0:s)}}return e},P.getHSLuv=function(e,n){return null==n&&(n=[0,0,0]),P._hsluvTuple[0]=(e>>16&255)/255,P._hsluvTuple[1]=(e>>8&255)/255,P._hsluvTuple[2]=(255&e)/255,x.rgbToHsluv(P._hsluvTuple,n),n[1]*=.01,n[2]*=.01,n},(E["ceramic.LinearLayout"]=q0).__name__="ceramic.LinearLayout",q0.__super__=f0,q0.prototype=$extend(f0.prototype,{direction:null,set_direction:function(e){if(this.direction!=e){var n;if(e==Hn.VERTICAL)switch(this.align._hx_index){case 0:n=Vn.TOP;break;case 1:n=Vn.BOTTOM;break;default:n=this.align}else switch(this.align._hx_index){case 2:n=Vn.LEFT;break;case 3:n=Vn.RIGHT;break;default:n=this.align}this.set_align(n),this.direction=e,this.layoutDirty=!0}return e},itemSpacing:null,set_itemSpacing:function(e){return this.itemSpacing!=e&&(this.itemSpacing=e,this.layoutDirty=!0),e},align:null,set_align:function(e){return this.align!=e&&(this.align=e,this.layoutDirty=!0),e},childrenDepth:null,set_childrenDepth:function(e){return this.childrenDepth!=e&&(this.childrenDepth=e,this.layoutDirty=!0),e},computeSize:function(e,n,t,i){var l=0==(U=this.paddingLeft)?0:U<-39999.9&&-60000.1<U?.01*(U+5e4)*e:-60002.1<U&&U<-60001.9?e:U,s=0==(U=this.paddingTop)?0:U<-39999.9&&-60000.1<U?.01*(U+5e4)*n:-60002.1<U&&U<-60001.9?n:U,r=0==(U=this.paddingRight)?0:U<-39999.9&&-60000.1<U?.01*(U+5e4)*e:-60002.1<U&&U<-60001.9?e:U,h=0==(U=this.paddingBottom)?0:U<-39999.9&&-60000.1<U?.01*(U+5e4)*n:-60002.1<U&&U<-60001.9?n:U,a=Ke.NO_SIZE,o=Ke.NO_SIZE;if(this.direction==Hn.VERTICAL){f0.prototype.computeSize.call(this,e,n,t,i);var a=this.computedSize.computedWidth,o=this.computedSize.computedHeight,c=12,u=!(-60001.1<(I=this.viewWidth)&&I<-60000.9),_=((T=!(-60001.1<(I=this.viewHeight)&&I<-60000.9))&&(t=-5&t&-9),0),d=0,b=0,g=0,O=0==(U=this.itemSpacing)?0:U<-39999.9&&-60000.1<U?.01*(U+5e4)*n:-60002.1<U&&U<-60001.9?n:U;if(!u&&((null==(S=null)?1==(1&t):(t=S?1|t:-2&t,S))&&(c|=1),(null==(S=null)?2==(2&t):(t=S?2|t:-3&t,S))&&(c|=2),null==(S=null)?1==(1&t):(t=S?1|t:-2&t,S))||(a-=l+r),(T||!(null==(S=null)?4==(4&t):(t=S?4|t:-5&t,S))||0<o)&&(o-=s+h),null!=this.subviews)for(var f=0,p=this.subviews.length;f<p;){var C=f++;1!=(1&(k=this.subviews[C]).flags)&&(++b,-60002.1<(I=k.viewHeight)&&I<-60001.9?g+=k.flex:(k.computedSize=k.persistedComputedSizeForContext(a,o,c),null==k.computedSize&&k.computeSize(a,o,c,!1),k.computedSize.computedWidth>d&&(d=k.computedSize.computedWidth),_+=k.computedSize.computedHeight))}_+=1<b?O*(b-1):0;var v=0,w=c;if(u&&(w&=-2),w=(w&=-3)&-5&-9,0<g){if(0<(v=Math.max(0,o-_)/g))for(f=0,p=this.subviews.length;f<p;){C=f++;1!=(1&(k=this.subviews[C]).flags)&&-60002.1<(I=k.viewHeight)&&I<-60001.9&&(y=v*k.flex,k.computedSize=k.persistedComputedSizeForContext(a,y,w),null==k.computedSize&&k.computeSize(a,y,w,!1),k.computedSize.computedWidth>d)&&(d=k.computedSize.computedWidth)}_=o}if((null==(S=null)?1==(1&c):(c=S?1|c:-2&c,S))&&a<d&&(a=d),o<_&&(o=_),i){var m=c;if(m&=-3,null!=this.subviews)for(f=0,p=this.subviews.length;f<p;){C=f++;1!=(1&(k=this.subviews[C]).flags)&&!(-60002.1<(I=k.viewHeight)&&I<-60001.9)&&(k.computedSize=k.persistedComputedSizeForContext(a,o,m),null==k.computedSize)&&k.computeSize(a,o,m,i)}if(0<g&&0<v&&null!=this.subviews)for(f=0,p=this.subviews.length;f<p;){var y,C=f++;1!=(1&(k=this.subviews[C]).flags)&&-60002.1<(I=k.viewHeight)&&I<-60001.9&&(y=v*k.flex,k.computedSize=k.persistedComputedSizeForContext(a,y,w),null==k.computedSize)&&k.computeSize(a,y,w,i)}}}else{f0.prototype.computeSize.call(this,e,n,t,i),a=this.computedSize.computedWidth,o=this.computedSize.computedHeight;var U,c=3,u=!(-60001.1<(I=this.viewWidth)&&I<-60000.9),T=!(-60001.1<(I=this.viewHeight)&&I<-60000.9),D=(u&&(t=-2&t&-3),0),x=0,b=0,g=0,O=0==(U=this.itemSpacing)?0:U<-39999.9&&-60000.1<U?.01*(U+5e4)*e:-60002.1<U&&U<-60001.9?e:U;if(!T&&((null==(S=null)?4==(4&t):(t=S?4|t:-5&t,S))&&(c|=4),(null==(S=null)?8==(8&t):(t=S?8|t:-9&t,S))&&(c|=8),null==(S=null)?4==(4&t):(t=S?4|t:-5&t,S))||(o-=s+h),(u||!(null==(S=null)?1==(1&t):(t=S?1|t:-2&t,S))||0<a)&&(a-=l+r),null!=this.subviews)for(f=0,p=this.subviews.length;f<p;){C=f++;1!=(1&(k=this.subviews[C]).flags)&&(++b,-60002.1<(I=k.viewWidth)&&I<-60001.9?g+=k.flex:(k.computedSize=k.persistedComputedSizeForContext(a,o,c),null==k.computedSize&&k.computeSize(a,o,c,!1),k.computedSize.computedHeight>x&&(x=k.computedSize.computedHeight),D+=k.computedSize.computedWidth))}D+=1<b?O*(b-1):0;var S,A=0,w=c;if(T&&(w&=-5),w=(w&=-9)&-2&-3,0<g){if(0<(A=Math.max(0,a-D)/g))for(f=0,p=this.subviews.length;f<p;){C=f++;1!=(1&(k=this.subviews[C]).flags)&&-60002.1<(I=k.viewWidth)&&I<-60001.9&&(P=A*k.flex,k.computedSize=k.persistedComputedSizeForContext(P,o,w),null==k.computedSize&&k.computeSize(P,o,w,!1),k.computedSize.computedHeight>x)&&(x=k.computedSize.computedHeight)}D=a}if((null==(S=null)?4==(4&c):(c=S?4|c:-5&c,S))&&o<x&&(o=x),a<D&&(a=D),i){m=c;if(m&=-9,null!=this.subviews)for(f=0,p=this.subviews.length;f<p;){C=f++;1!=(1&(k=this.subviews[C]).flags)&&!(-60002.1<(I=k.viewWidth)&&I<-60001.9)&&(k.computedSize=k.persistedComputedSizeForContext(a,o,m),null==k.computedSize)&&k.computeSize(a,o,m,i)}if(0<g&&0<A&&null!=this.subviews)for(f=0,p=this.subviews.length;f<p;){var k,I,P,C=f++;1!=(1&(k=this.subviews[C]).flags)&&-60002.1<(I=k.viewWidth)&&I<-60001.9&&(P=A*k.flex,k.computedSize=k.persistedComputedSizeForContext(P,o,w),null==k.computedSize)&&k.computeSize(P,o,w,i)}}}a+=l+r,o+=s+h,i?this.persistComputedSize(e,n,t,a,o):this.assignComputedSize(a,o)},layout:function(){var e,n,t=this.paddingLeft,i=this.get_width(),l=0==t?0:t<-39999.9&&-60000.1<t?.01*(t+5e4)*i:-60002.1<t&&t<-60001.9?i:t,t=this.paddingTop,i=this.get_height(),s=0==t?0:t<-39999.9&&-60000.1<t?.01*(t+5e4)*i:-60002.1<t&&t<-60001.9?i:t,t=this.paddingRight,i=this.get_width(),r=0==t?0:t<-39999.9&&-60000.1<t?.01*(t+5e4)*i:-60002.1<t&&t<-60001.9?i:t,t=this.paddingBottom,i=this.get_height(),h=0==t?0:t<-39999.9&&-60000.1<t?.01*(t+5e4)*i:-60002.1<t&&t<-60001.9?i:t,a=this.get_width()-l-r,o=this.get_height()-s-h,c=!1;switch(this.childrenDepth){case-1:n=-1,e=null!=this.subviews?this.subviews.length:1;break;case 0:n=0,e=1;break;case 1:e=n=1;break;case 2:e=1,c=!(n=0)}if(this.direction==Hn.VERTICAL){var u=s,_=0,d=0,b=0,t=this.itemSpacing,i=this.get_height(),g=0==t?0:t<-39999.9&&-60000.1<t?.01*(t+5e4)*i:-60002.1<t&&t<-60001.9?i:t;if(null!=this.subviews)for(var O=0,f=this.subviews.length;O<f;){var p=O++;1!=(1&(T=this.subviews[p]).flags)&&(++d,-60002.1<(x=T.viewHeight)&&x<-60001.9?b+=T.flex:(T.computedSize=T.persistedComputedSizeForContext(a,o,A=12),null==T.computedSize&&T.computeSize(a,o,A,!0),T.set_x(l),U=T.computedSize.computedHeight,T.set_width(Math.min(a,T.computedSize.computedWidth)),T.set_height(U),_+=T.computedSize.computedHeight))}if(0<b){for(var C=1<d?g*(d-1):0,v=(Math.max(0,o-_)-C)/b,O=0,f=this.subviews.length;O<f;){var w,p=O++;(k=1!=(1&(T=this.subviews[p]).flags)&&-60002.1<(x=T.viewHeight)&&x<-60001.9)&&(w=v*T.flex,T.computedSize=T.persistedComputedSizeForContext(a,w,A=0),null==T.computedSize&&T.computeSize(a,w,A,!0),T.set_x(l),T.set_y(0),U=v*T.flex,T.set_width(a),T.set_height(U))}_=o}if(null!=this.subviews)for(O=0,f=this.subviews.length;O<f;){p=O++;1!=(1&(T=this.subviews[p]).flags)&&(0<p&&(u+=g,_+=g),T.set_y(u),T.get_height()+u>o+s&&T.set_height(Math.max(0,o+s-u)),u+=T.get_height(),c||(T.set_depth(e),e+=n))}if(u+=h,0<(C=o-_))switch(this.align._hx_index){case 3:case 4:if(this.align==Vn.CENTER&&(C=Math.round(.5*C)),null!=this.subviews)for(O=0,f=this.subviews.length;O<f;){p=O++;1!=(1&(T=this.subviews[p]).flags)&&T.set_y(T.y+C)}}}else{var m=l,y=0,d=0,b=0,t=this.itemSpacing,i=this.get_width(),g=0==t?0:t<-39999.9&&-60000.1<t?.01*(t+5e4)*i:-60002.1<t&&t<-60001.9?i:t;if(null!=this.subviews)for(O=0,f=this.subviews;O<f.length;){var U,T=f[O];++O,1!=(1&T.flags)&&(++d,-60002.1<(x=T.viewWidth)&&x<-60001.9?b+=T.flex:(T.computedSize=T.persistedComputedSizeForContext(a,o,A=3),null==T.computedSize&&T.computeSize(a,o,A,!0),T.set_y(s),U=Math.min(o,T.computedSize.computedHeight),T.set_width(T.computedSize.computedWidth),T.set_height(U),y+=T.computedSize.computedWidth))}if(0<b){for(var C=1<d?g*(d-1):0,D=(Math.max(0,a-y)-C)/b,O=0,f=this.subviews;O<f.length;){var x,S,A,T=f[O];++O,(k=1!=(1&T.flags)&&-60002.1<(x=T.viewWidth)&&x<-60001.9)&&(S=D*T.flex,T.computedSize=T.persistedComputedSizeForContext(S,o,A=0),null==T.computedSize&&T.computeSize(S,o,A,!0),T.set_x(0),T.set_y(s),T.set_width(D*T.flex),T.set_height(o))}y=a}if(null!=this.subviews)for(O=0,f=this.subviews.length;O<f;){p=O++;1!=(1&(T=this.subviews[p]).flags)&&(0<p&&(m+=g,y+=g),T.set_x(m),T.get_width()+m>a+l&&T.set_width(Math.max(0,a+l-m)),m+=T.get_width(),c||(T.set_depth(e),e+=n))}if(m+=r,0<(C=a-y))switch(this.align._hx_index){case 1:case 4:if(this.align==Vn.CENTER&&(C=Math.round(.5*C)),null!=this.subviews)for(O=0,f=this.subviews.length;O<f;){p=O++;1!=(1&(T=this.subviews[p]).flags)&&T.set_x(T.x+C)}}}if(null!=this.subviews)for(O=0,f=this.subviews.length;O<f;){var k,I,P,F,p=O++;1!=(1&(T=this.subviews[p]).flags)&&(I=T.x,k=T.get_width()*T.anchorX,t=T.offsetX,T.set_x(I+(k+(0==t?0:t<-39999.9&&-60000.1<t?.01*(t+5e4)*a:-60002.1<t&&t<-60001.9?a:t))),I=T.y,P=T.get_height()*T.anchorY,F=T.offsetY,T.set_y(I+(P+(0==F?0:F<-39999.9&&-60000.1<F?.01*(F+5e4)*o:-60002.1<F&&F<-60001.9?o:F))))}},__class__:q0,__properties__:$extend(f0.prototype.__properties__,{set_childrenDepth:"set_childrenDepth",set_align:"set_align",set_itemSpacing:"set_itemSpacing",set_direction:"set_direction"})}),(E["ceramic.ColumnLayout"]=r0).__name__="ceramic.ColumnLayout",r0.__super__=q0,r0.prototype=$extend(q0.prototype,{set_direction:function(e){if(e!=Hn.VERTICAL)throw $.thrown("Changing direction of a ColumnLayout is not allowed. Use a LinearLayout if you want to change direction at runtime.");return this.direction=Hn.VERTICAL},__class__:r0}),function(e){null==e&&(e=10),this.fps=0,this.index=0,this.size=e,this.frames=[];for(var n=0,t=e;n<t;){n++;this.frames.push(0)}}),Ke=((E["ceramic.ComputeFps"]=Xe).__name__="ceramic.ComputeFps",Xe.prototype={frames:null,index:null,size:null,fps:null,addFrame:function(e){this.frames[this.index]=e,this.index=(this.index+1)%this.size;for(var n=0,t=0,i=this.size;t<i;){var l=t++;n+=this.frames[l]}n=0<n?this.size/n:0,this.fps=Math.round(Math.min(999,n))},__class__:Xe},function(e,n,t,i,l,s){this.computedFitWidth=Ke.NO_SIZE,this.computedHeight=Ke.NO_SIZE,this.computedWidth=Ke.NO_SIZE,this.parentHeight=Ke.NO_SIZE,this.parentWidth=Ke.NO_SIZE,this.parentLayoutMask=15,null!=e&&(this.parentLayoutMask=e),null!=n&&(this.parentWidth=n),null!=t&&(this.parentHeight=t),null!=i&&(this.computedWidth=i),null!=l&&(this.computedHeight=l),null!=s&&(this.computedFitWidth=s)}),je=((E["ceramic.ComputedViewSize"]=Ke).__name__="ceramic.ComputedViewSize",Ke.get=function(){null==Ke._pool&&(Ke._pool=new m);var e=Ke._pool,e=0<e.availableItems.length?e.availableItems.pop():null;return(e=null==e?new Ke(null,null,null,null,null,null):e).parentLayoutMask=15,e.parentWidth=Ke.NO_SIZE,e.parentHeight=Ke.NO_SIZE,e.computedWidth=Ke.NO_SIZE,e.computedHeight=Ke.NO_SIZE,e.computedFitWidth=Ke.NO_SIZE,e},Ke.prototype={parentLayoutMask:null,parentWidth:null,parentHeight:null,computedWidth:null,computedHeight:null,computedFitWidth:null,recycle:function(){Ke._pool.recycle(this)},__class__:Ke},(E["ceramic.ConvertField"]=u0).__name__="ceramic.ConvertField",u0.__isInterface__=!0,u0.prototype={basicToField:null,fieldToBasic:null,__class__:u0},function(){}),$e=((E["ceramic.ConvertArray"]=je).__name__="ceramic.ConvertArray",je.__interfaces__=[u0],je.prototype={basicToField:function(e,n,t,i,l){l(null==i?null:[].concat(i))},fieldToBasic:function(e,n,t){return null==t?null:[].concat(t)},__class__:je},function(){this.preferStringBasic=!1}),qe=((E["ceramic.ConvertColor"]=$e).__name__="ceramic.ConvertColor",$e.__interfaces__=[u0],$e.prototype={preferStringBasic:null,basicToField:function(e,n,t,i,l){l(null!=i?"string"==typeof i?P.fromString(i):0|i:0)},fieldToBasic:function(e,n,t){var i;return this.preferStringBasic?"#"+((i=null==(i=!1)?!0:i)?"0x":"")+z.hex(t>>16&255,2)+z.hex(t>>8&255,2)+z.hex(255&t,2):t},__class__:$e},function(){}),Ze=((E["ceramic.ConvertComponentMap"]=qe).__name__="ceramic.ConvertComponentMap",qe.__interfaces__=[u0],qe.prototype={basicToField:function(e,n,t,i,l){if(null==i)l(null);else{for(var s=new Nl,r=0,h=L.fields(i);r<h.length;){var a=h[r];++r,i[a];ae.app.logger.error("Not using component initializers anymore. Need to implement event based solution!",{fileName:"../../../../ceramic/runtime/src/ceramic/ConvertComponentMap.hx",lineNumber:71,className:"ceramic.ConvertComponentMap",methodName:"basicToField"})}l(s)}},fieldToBasic:function(e,n,t){if(null==t)return null;for(var i={},l=t.h,s=Object.keys(l),r=s.length,h=0;h<r;){var a=s[h++],o=t.h[a];null!=o&&null!=o.initializerName&&(i[a]=o.initializerName)}return i},__class__:qe},function(){}),Je=((E["ceramic.ConvertFont"]=Ze).__name__="ceramic.ConvertFont",Ze.__interfaces__=[u0],Ze.prototype={basicToField:function(e,n,t,i,l){null!=i?i==ae.app.defaultFont.asset.name?l(ae.app.defaultFont):t.ensureFont(i,null,null,function(e){l(null!=e?e.get_font():null)}):l(null)},fieldToBasic:function(e,n,t){return null==t||null==t.asset?null:t.asset.name},__class__:Ze},function(){}),en=((E["ceramic.ConvertFragmentData"]=Je).__name__="ceramic.ConvertFragmentData",Je.__interfaces__=[u0],Je.prototype={basicToField:function(e,n,t,i,l){l(i)},fieldToBasic:function(e,n,t){return t},__class__:Je},function(){}),nn=((E["ceramic.ConvertIntBoolMap"]=en).__name__="ceramic.ConvertIntBoolMap",en.__interfaces__=[u0],en.prototype={basicToField:function(e,n,t,i,l){if(null==i)l(null);else{for(var s=new Ge(16,.5,!1),r=0,h=L.fields(i);r<h.length;){var a=h[r];++r,s.set(K.parseInt(a),L.field(i,a)?1:0)}l(s)}},fieldToBasic:function(e,n,t){return null==t?null:(ae.app.logger.warning("ConvertIntBoolMap.fieldToBasic() not implemented!",{fileName:"../../../../ceramic/runtime/src/ceramic/ConvertIntBoolMap.hx",lineNumber:92,className:"ceramic.ConvertIntBoolMap",methodName:"fieldToBasic"}),{})},__class__:en},function(){}),tn=((E["ceramic.ConvertMap"]=nn).__name__="ceramic.ConvertMap",nn.__interfaces__=[u0],nn.prototype={basicToField:function(e,n,t,i,l){if(null==i)l(null);else{for(var s=new Nl,r=0,h=L.fields(i);r<h.length;){var a=h[r];++r,s.h[a]=i[a]}l(s)}},fieldToBasic:function(e,n,t){if(null==t)return null;for(var i={},l=t.h,s=Object.keys(l),r=s.length,h=0;h<r;){var a=s[h++];i[a]=t.h[a]}return i},__class__:nn},function(){}),ln=((E["ceramic.ConvertTexture"]=tn).__name__="ceramic.ConvertTexture",tn.__interfaces__=[u0],tn.prototype={basicToField:function(e,n,t,i,l){null!=i?t.ensureImage(i,null,null,function(e){l(null!=e?e.get_texture():null)}):l(null)},fieldToBasic:function(e,n,t){return null==t||null==t.asset?null:t.asset.name},__class__:tn},(E["ceramic.ConvertTilemapData"]=D0).__name__="ceramic.ConvertTilemapData",D0.__interfaces__=[u0],D0.prototype={basicToField:function(e,n,t,i,l){null!=i?Ft.ensureTilemap(t,i,null,null,function(e){l(null!=e?e.get_tilemapData():null)}):l(null)},fieldToBasic:function(e,n,t){return null==t||null==t.asset?null:t.asset.name},__class__:D0},(E["ceramic.Csv"]=E0).__name__="ceramic.Csv",E0.parse=function(e){for(var n="",t=0,i="",l=(e=z.trim(e)).length,s=!1,r="",h=[];t<l;)if(i=e.charAt(t),s)'"'==i?'""'==i+e.charAt(t+1)?(r+='"',t+=2):(s=!1,++t):(r+=i,++t);else{if("\n"==i){++t;break}""==r&&'"'==i?s=!0:""==n?","==i||";"==i?(n=i,h.push(z.replace(r,"\r","")),r=""):r+=i:i==n?(h.push(z.replace(r,"\r","")),r=""):r+=i,++t}""!=r&&h.push(z.replace(r,"\r",""));for(var s=!1,r="",a={},o=!1,c=[],u=0,_="",d=-1;t<l;)i=e.charAt(t),s?'"'==i?'""'==i+e.charAt(t+1)?(r+='"',t+=2):(s=!1,++t):(r+=i,++t):("\n"==i?(null!=(_=h[u++])?(a[_]=z.replace(r,"\r",""),o=!0):-1==d&&(d=c.length),r="",c.push(a),o=!1,u=0,a={}):""==r&&'"'==i?s=!0:i==n?(null!=(_=h[u++])?(a[_]=z.replace(r,"\r",""),o=!0):-1==d&&(d=c.length),r=""):r+=i,++t);return null!=(_=h[u++])?(a[_]=z.replace(r,"\r",""),o=!0):-1==d&&(E0.warning(a),d=c.length),r="",o&&c.push(a),0<=d&&E0.warning("Malformed CSV: too many columns at row #"+d),c},E0.stringify=function(e,n){if(null==n){n=[];for(var t=Object.create(null),i=0;i<e.length;)for(var l=e[i],s=(++i,0),r=L.fields(l);s<r.length;){var h=r[s];++s,Object.prototype.hasOwnProperty.call(t,h)||(n.push(h),t[h]=!0)}}for(var a="",o=0,i=0;i<n.length;){h=n[i];if(++i,0<o++&&(a+=","),0!=h.length){a+='"';for(s=0,r=h.length;s<r;){var c=s++;a+='"'==(b=h.charAt(c))?'""':K.string(b)}a+='"'}}for(i=0;i<e.length;)for(l=e[i],s=(++i,a+="\n",o=0);s<n.length;){var h=n[s],u=(++s,0<o++&&(a+=","),L.field(l,h)),_=null!=u?K.string(u):"";if(0!=_.length){a+='"';for(var r=0,d=_.length;r<d;){var b,c=r++;a+='"'==(b=_.charAt(c))?'""':K.string(b)}a+='"'}}return a},E0.warning=function(e){ae.app.logger.warning(e,{fileName:"../../../../ceramic/runtime/src/ceramic/Csv.hx",lineNumber:333,className:"ceramic.Csv",methodName:"warning"})},function(e,n,t,i,l){this.kind=e,this.add=n,this.extensions=t,this.dir=i,this.types=l}),sn=((E["ceramic.CustomAssetKind"]=ln).__name__="ceramic.CustomAssetKind",ln.prototype={kind:null,add:null,extensions:null,dir:null,types:null,__class__:ln},function(e,n,t){this.unobservedDatabase=null,this.databaseAutoruns=null,Fa.call(this,"database",e,n,t)}),rn=((E["ceramic.DatabaseAsset"]=sn).__name__="ceramic.DatabaseAsset",sn.__super__=Fa,sn.prototype=$extend(Fa.prototype,{databaseAutoruns:null,get_database:function(){var e,n,t=this.unobservedDatabase;return null!=A.current&&(e=A.current,null!=(n=this.databaseAutoruns)||(n=A.getAutorunArray(),null!=(this.databaseAutoruns=n)))&&e.bindToAutorunArray(n),t},set_database:function(e){var n=this.unobservedDatabase;return this.unobservedDatabase=e,Ds.equalAny(n,e)||(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitDatabaseChange(e,n),null!=(n=this.databaseAutoruns)&&(this.databaseAutoruns=null,A.invalidateAutorunArray(n))),e},invalidateDatabase:function(){var e=this.unobservedDatabase,e=(this.emitDatabaseChange(e,e),this.databaseAutoruns);null!=e&&(this.databaseAutoruns=null,A.invalidateAutorunArray(e))},unobservedDatabase:null,__cbOnDatabaseChange:null,__cbOnceDatabaseChange:null,__cbOnOwnerUnbindDatabaseChange:null,__cbOnceOwnerUnbindDatabaseChange:null,emitDatabaseChange:function(e,n){var t=0;if(null!=this.__cbOnDatabaseChange&&(t+=this.__cbOnDatabaseChange.length),null!=this.__cbOnceDatabaseChange&&(t+=this.__cbOnceDatabaseChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnDatabaseChange)for(var r=0,h=this.__cbOnDatabaseChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnDatabaseChange[a],++s):--t}if(null!=this.__cbOnceDatabaseChange){for(var o=null,c=null,r=0,h=this.__cbOnceDatabaseChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceDatabaseChange[a],this.__cbOnceDatabaseChange[a]=null,u=this.__cbOnceOwnerUnbindDatabaseChange[a],(this.__cbOnceOwnerUnbindDatabaseChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindDatabaseChange[a]),c.push(this.__cbOnceDatabaseChange[a]))}this.__cbOnceOwnerUnbindDatabaseChange=o,this.__cbOnceDatabaseChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onDatabaseChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event databaseChange because owner is destroyed!");var l=function(e){null!=t&&(i.offDatabaseChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindDatabaseChange&&(this.__cbOnOwnerUnbindDatabaseChange=[]),this.__cbOnOwnerUnbindDatabaseChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindDatabaseChange&&(this.__cbOnOwnerUnbindDatabaseChange=[]),this.__cbOnOwnerUnbindDatabaseChange.push(null);null==this.__cbOnDatabaseChange&&(this.__cbOnDatabaseChange=[]),this.__cbOnDatabaseChange.push(t)},onceDatabaseChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event databaseChange because owner is destroyed!");var l=function(e){null!=t&&(i.offDatabaseChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindDatabaseChange&&(this.__cbOnceOwnerUnbindDatabaseChange=[]),this.__cbOnceOwnerUnbindDatabaseChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindDatabaseChange&&(this.__cbOnceOwnerUnbindDatabaseChange=[]),this.__cbOnceOwnerUnbindDatabaseChange.push(null);null==this.__cbOnceDatabaseChange&&(this.__cbOnceDatabaseChange=[]),this.__cbOnceDatabaseChange.push(t)},offDatabaseChange:function(e){if(null!=e){var n;null!=this.__cbOnDatabaseChange&&-1!=(n=this.__cbOnDatabaseChange.indexOf(e))&&(this.__cbOnDatabaseChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindDatabaseChange[n])&&s(),this.__cbOnOwnerUnbindDatabaseChange.splice(n,1)),null!=this.__cbOnceDatabaseChange&&-1!=(n=this.__cbOnceDatabaseChange.indexOf(e))&&(this.__cbOnceDatabaseChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindDatabaseChange[n])&&s(),this.__cbOnceOwnerUnbindDatabaseChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindDatabaseChange){for(var t=0,i=this.__cbOnOwnerUnbindDatabaseChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindDatabaseChange[l])&&s()}this.__cbOnOwnerUnbindDatabaseChange=null}if(null!=this.__cbOnceOwnerUnbindDatabaseChange){for(t=0,i=this.__cbOnceOwnerUnbindDatabaseChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindDatabaseChange[l])&&s()}this.__cbOnceOwnerUnbindDatabaseChange=null}this.__cbOnDatabaseChange=null,this.__cbOnceDatabaseChange=null}},listensDatabaseChange:function(){return null!=this.__cbOnDatabaseChange&&0<this.__cbOnDatabaseChange.length||null!=this.__cbOnceDatabaseChange&&0<this.__cbOnceDatabaseChange.length},load:function(){var e,n,t,i,l=this;this.set_status(Me.LOADING),null==this.path?(ae.app.logger.warning("Cannot load database asset if path is undefined.",{fileName:"../../../../ceramic/runtime/src/ceramic/DatabaseAsset.hx",lineNumber:92,className:"ceramic.DatabaseAsset",methodName:"load"}),this.set_status(Me.BROKEN),this.emitComplete(!1)):(e={},null!=this.owner&&(e.immediate=this.owner.immediate,e.loadMethod=this.owner.loadMethod),n=this.path,t=Oe.realAssetPath(n,this.runtimeAssets),0<(i=Oe.getReloadCount(t))&&(t+="?hot="+i,n+="?hot="+i),ae.app.logger.info("Load database "+n,{fileName:"../../../../ceramic/runtime/src/ceramic/DatabaseAsset.hx",lineNumber:113,className:"ceramic.DatabaseAsset",methodName:"load"}),ae.app.backend.texts.load(t,e,function(e){if(null!=e){try{l.set_database(E0.parse(e))}catch(e){return Sl.lastError=e,l.set_status(Me.BROKEN),ae.app.logger.error("Failed to parse database at path: "+l.path,{fileName:"../../../../ceramic/runtime/src/ceramic/DatabaseAsset.hx",lineNumber:121,className:"ceramic.DatabaseAsset",methodName:"load"}),void l.emitComplete(!1)}l.set_status(Me.READY),l.emitComplete(!0)}else l.set_status(Me.BROKEN),ae.app.logger.error("Failed to load database at path: "+l.path,{fileName:"../../../../ceramic/runtime/src/ceramic/DatabaseAsset.hx",lineNumber:130,className:"ceramic.DatabaseAsset",methodName:"load"}),l.emitComplete(!1)}))},assetFilesDidChange:function(e,n){var t=-1,n=(Object.prototype.hasOwnProperty.call(n.h,this.path)&&(t=n.h[this.path]),-1);(n=Object.prototype.hasOwnProperty.call(e.h,this.path)?e.h[this.path]:n)!=t&&(ae.app.logger.info("Reload database (file has changed)",{fileName:"../../../../ceramic/runtime/src/ceramic/DatabaseAsset.hx",lineNumber:159,className:"ceramic.DatabaseAsset",methodName:"assetFilesDidChange"}),this.load())},destroy:function(){this._lifecycleState<=-2||(this._lifecycleState=-2,this._lifecycleState=-1,Fa.prototype.destroy.call(this),this.set_database(null))},unbindEvents:function(){Fa.prototype.unbindEvents.call(this),this.offDatabaseChange()},__class__:sn,__properties__:$extend(Fa.prototype.__properties__,{set_database:"set_database",get_database:"get_database"})}),(E["ceramic.DoubleClick"]=H0).__name__="ceramic.DoubleClick",H0.__interfaces__=[a0],H0.__super__=j,H0.prototype=$extend(j.prototype,{__cbOnDoubleClick:null,__cbOnceDoubleClick:null,__cbOnOwnerUnbindDoubleClick:null,__cbOnceOwnerUnbindDoubleClick:null,emitDoubleClick:function(){var e=0;if(null!=this.__cbOnDoubleClick&&(e+=this.__cbOnDoubleClick.length),null!=this.__cbOnceDoubleClick&&(e+=this.__cbOnceDoubleClick.length),0<e){var n=C.pool(e),t=n.get(),i=0;if(null!=this.__cbOnDoubleClick)for(var l=0,s=this.__cbOnDoubleClick.length;l<s;){var r=l++;!0?(t.vector[i]=this.__cbOnDoubleClick[r],++i):--e}if(null!=this.__cbOnceDoubleClick){for(var h=null,a=null,l=0,s=this.__cbOnceDoubleClick.length;l<s;){var o,r=l++;!0?(t.vector[i]=this.__cbOnceDoubleClick[r],this.__cbOnceDoubleClick[r]=null,o=this.__cbOnceOwnerUnbindDoubleClick[r],(this.__cbOnceOwnerUnbindDoubleClick[r]=null)!=o&&o(),++i):(--e,null==h&&(h=[],a=[],0),h.push(this.__cbOnceOwnerUnbindDoubleClick[r]),a.push(this.__cbOnceDoubleClick[r]))}this.__cbOnceOwnerUnbindDoubleClick=h,this.__cbOnceDoubleClick=a}for(l=0,s=e;l<s;){i=l++;(0,t.vector[i])()}n.release(t)}},onDoubleClick:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event doubleClick because owner is destroyed!");var l=function(e){null!=t&&(i.offDoubleClick(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindDoubleClick&&(this.__cbOnOwnerUnbindDoubleClick=[]),this.__cbOnOwnerUnbindDoubleClick.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindDoubleClick&&(this.__cbOnOwnerUnbindDoubleClick=[]),this.__cbOnOwnerUnbindDoubleClick.push(null);null==this.__cbOnDoubleClick&&(this.__cbOnDoubleClick=[]),this.__cbOnDoubleClick.push(t)},onceDoubleClick:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event doubleClick because owner is destroyed!");var l=function(e){null!=t&&(i.offDoubleClick(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindDoubleClick&&(this.__cbOnceOwnerUnbindDoubleClick=[]),this.__cbOnceOwnerUnbindDoubleClick.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindDoubleClick&&(this.__cbOnceOwnerUnbindDoubleClick=[]),this.__cbOnceOwnerUnbindDoubleClick.push(null);null==this.__cbOnceDoubleClick&&(this.__cbOnceDoubleClick=[]),this.__cbOnceDoubleClick.push(t)},offDoubleClick:function(e){if(null!=e){var n;null!=this.__cbOnDoubleClick&&-1!=(n=this.__cbOnDoubleClick.indexOf(e))&&(this.__cbOnDoubleClick.splice(n,1),null!=(s=this.__cbOnOwnerUnbindDoubleClick[n])&&s(),this.__cbOnOwnerUnbindDoubleClick.splice(n,1)),null!=this.__cbOnceDoubleClick&&-1!=(n=this.__cbOnceDoubleClick.indexOf(e))&&(this.__cbOnceDoubleClick.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindDoubleClick[n])&&s(),this.__cbOnceOwnerUnbindDoubleClick.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindDoubleClick){for(var t=0,i=this.__cbOnOwnerUnbindDoubleClick.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindDoubleClick[l])&&s()}this.__cbOnOwnerUnbindDoubleClick=null}if(null!=this.__cbOnceOwnerUnbindDoubleClick){for(t=0,i=this.__cbOnceOwnerUnbindDoubleClick.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindDoubleClick[l])&&s()}this.__cbOnceOwnerUnbindDoubleClick=null}this.__cbOnDoubleClick=null,this.__cbOnceDoubleClick=null}},listensDoubleClick:function(){return null!=this.__cbOnDoubleClick&&0<this.__cbOnDoubleClick.length||null!=this.__cbOnceDoubleClick&&0<this.__cbOnceDoubleClick.length},threshold:null,maxDelay:null,entity:null,pressed:null,firstClickTime:null,pointerStartX:null,pointerStartY:null,bindAsComponent:function(){this.entity.onPointerDown(this,$bind(this,this.handlePointerDown)),this.entity.onPointerUp(this,$bind(this,this.handlePointerUp)),this.entity.onBlur(this,$bind(this,this.handleBlur))},cancel:function(){ae.app.screen.offPointerMove($bind(this,this.handlePointerMove)),this.pressed=!1,this.firstClickTime=-1},handlePointerDown:function(e){this.pointerStartX=ae.app.screen.pointerX,this.pointerStartY=ae.app.screen.pointerY,this.pressed=!0,0<=this.firstClickTime&&(Gt.now-this.firstClickTime<=this.maxDelay?this.emitDoubleClick():this.firstClickTime=-1),ae.app.screen.onPointerMove(this,$bind(this,this.handlePointerMove))},handlePointerUp:function(e){this.pressed&&(this.pressed=!1,this.firstClickTime<0)?this.firstClickTime=Gt.now:0<=this.firstClickTime&&(this.firstClickTime=-1)},handlePointerMove:function(e){(Math.abs(ae.app.screen.pointerX-this.pointerStartX)>this.threshold||Math.abs(ae.app.screen.pointerY-this.pointerStartY)>this.threshold)&&(ae.app.screen.offPointerMove($bind(this,this.handlePointerMove)),this.pressed=!1,this.firstClickTime=-1)},handleBlur:function(){this.pressed=!1},setEntity:function(e){this.entity=e instanceof o?e:null},getEntity:function(){return this.entity},initializerName:null,unbindEvents:function(){j.prototype.unbindEvents.call(this),this.offDoubleClick()},__class__:H0}),(E["ceramic.DynamicData"]=I0).__name__="ceramic.DynamicData",I0.__interfaces__=[a0],I0.__super__=j,I0.prototype=$extend(j.prototype,{_data:null,get_hasData:function(){return null!=this._data},get_data:function(){return null==this._data&&(this._data={}),this._data},set_data:function(e){return this._data=e},bindAsComponent:function(){},entity:null,setEntity:function(e){this.entity=e instanceof j?e:null},getEntity:function(){return this.entity},initializerName:null,__class__:I0,__properties__:$extend(j.prototype.__properties__,{set_data:"set_data",get_data:"get_data",get_hasData:"get_hasData"})}),_e["ceramic.Easing"]={__ename__:"ceramic.Easing",__constructs__:null,NONE:{_hx_name:"NONE",_hx_index:0,__enum__:"ceramic.Easing",toString:c},LINEAR:{_hx_name:"LINEAR",_hx_index:1,__enum__:"ceramic.Easing",toString:c},BACK_EASE_IN:{_hx_name:"BACK_EASE_IN",_hx_index:2,__enum__:"ceramic.Easing",toString:c},BACK_EASE_IN_OUT:{_hx_name:"BACK_EASE_IN_OUT",_hx_index:3,__enum__:"ceramic.Easing",toString:c},BACK_EASE_OUT:{_hx_name:"BACK_EASE_OUT",_hx_index:4,__enum__:"ceramic.Easing",toString:c},QUAD_EASE_IN:{_hx_name:"QUAD_EASE_IN",_hx_index:5,__enum__:"ceramic.Easing",toString:c},QUAD_EASE_IN_OUT:{_hx_name:"QUAD_EASE_IN_OUT",_hx_index:6,__enum__:"ceramic.Easing",toString:c},QUAD_EASE_OUT:{_hx_name:"QUAD_EASE_OUT",_hx_index:7,__enum__:"ceramic.Easing",toString:c},CUBIC_EASE_IN:{_hx_name:"CUBIC_EASE_IN",_hx_index:8,__enum__:"ceramic.Easing",toString:c},CUBIC_EASE_IN_OUT:{_hx_name:"CUBIC_EASE_IN_OUT",_hx_index:9,__enum__:"ceramic.Easing",toString:c},CUBIC_EASE_OUT:{_hx_name:"CUBIC_EASE_OUT",_hx_index:10,__enum__:"ceramic.Easing",toString:c},QUART_EASE_IN:{_hx_name:"QUART_EASE_IN",_hx_index:11,__enum__:"ceramic.Easing",toString:c},QUART_EASE_IN_OUT:{_hx_name:"QUART_EASE_IN_OUT",_hx_index:12,__enum__:"ceramic.Easing",toString:c},QUART_EASE_OUT:{_hx_name:"QUART_EASE_OUT",_hx_index:13,__enum__:"ceramic.Easing",toString:c},QUINT_EASE_IN:{_hx_name:"QUINT_EASE_IN",_hx_index:14,__enum__:"ceramic.Easing",toString:c},QUINT_EASE_IN_OUT:{_hx_name:"QUINT_EASE_IN_OUT",_hx_index:15,__enum__:"ceramic.Easing",toString:c},QUINT_EASE_OUT:{_hx_name:"QUINT_EASE_OUT",_hx_index:16,__enum__:"ceramic.Easing",toString:c},BOUNCE_EASE_IN:{_hx_name:"BOUNCE_EASE_IN",_hx_index:17,__enum__:"ceramic.Easing",toString:c},BOUNCE_EASE_IN_OUT:{_hx_name:"BOUNCE_EASE_IN_OUT",_hx_index:18,__enum__:"ceramic.Easing",toString:c},BOUNCE_EASE_OUT:{_hx_name:"BOUNCE_EASE_OUT",_hx_index:19,__enum__:"ceramic.Easing",toString:c},ELASTIC_EASE_IN:{_hx_name:"ELASTIC_EASE_IN",_hx_index:20,__enum__:"ceramic.Easing",toString:c},ELASTIC_EASE_IN_OUT:{_hx_name:"ELASTIC_EASE_IN_OUT",_hx_index:21,__enum__:"ceramic.Easing",toString:c},ELASTIC_EASE_OUT:{_hx_name:"ELASTIC_EASE_OUT",_hx_index:22,__enum__:"ceramic.Easing",toString:c},EXPO_EASE_IN:{_hx_name:"EXPO_EASE_IN",_hx_index:23,__enum__:"ceramic.Easing",toString:c},EXPO_EASE_IN_OUT:{_hx_name:"EXPO_EASE_IN_OUT",_hx_index:24,__enum__:"ceramic.Easing",toString:c},EXPO_EASE_OUT:{_hx_name:"EXPO_EASE_OUT",_hx_index:25,__enum__:"ceramic.Easing",toString:c},SINE_EASE_IN:{_hx_name:"SINE_EASE_IN",_hx_index:26,__enum__:"ceramic.Easing",toString:c},SINE_EASE_IN_OUT:{_hx_name:"SINE_EASE_IN_OUT",_hx_index:27,__enum__:"ceramic.Easing",toString:c},SINE_EASE_OUT:{_hx_name:"SINE_EASE_OUT",_hx_index:28,__enum__:"ceramic.Easing",toString:c},BEZIER:((b=function(e,n,t,i){return{_hx_index:29,x1:e,y1:n,x2:t,y2:i,__enum__:"ceramic.Easing",toString:c}})._hx_name="BEZIER",b.__params__=["x1","y1","x2","y2"],b),CUSTOM:((b=function(e){return{_hx_index:30,easing:e,__enum__:"ceramic.Easing",toString:c}})._hx_name="CUSTOM",b.__params__=["easing"],b)}),hn=(rn.__constructs__=[rn.NONE,rn.LINEAR,rn.BACK_EASE_IN,rn.BACK_EASE_IN_OUT,rn.BACK_EASE_OUT,rn.QUAD_EASE_IN,rn.QUAD_EASE_IN_OUT,rn.QUAD_EASE_OUT,rn.CUBIC_EASE_IN,rn.CUBIC_EASE_IN_OUT,rn.CUBIC_EASE_OUT,rn.QUART_EASE_IN,rn.QUART_EASE_IN_OUT,rn.QUART_EASE_OUT,rn.QUINT_EASE_IN,rn.QUINT_EASE_IN_OUT,rn.QUINT_EASE_OUT,rn.BOUNCE_EASE_IN,rn.BOUNCE_EASE_IN_OUT,rn.BOUNCE_EASE_OUT,rn.ELASTIC_EASE_IN,rn.ELASTIC_EASE_IN_OUT,rn.ELASTIC_EASE_OUT,rn.EXPO_EASE_IN,rn.EXPO_EASE_IN_OUT,rn.EXPO_EASE_OUT,rn.SINE_EASE_IN,rn.SINE_EASE_IN_OUT,rn.SINE_EASE_OUT,rn.BEZIER,rn.CUSTOM],(E["ceramic.EasingUtils"]=K0).__name__="ceramic.EasingUtils",K0.easingFromString=function(e){return B.createEnum(rn,e,K0._emptyArray)},K0.easingToString=function(e){return _e[e.__enum__].__constructs__[e._hx_index]._hx_name},(E["ceramic.TextInputDelegate"]=L0).__name__="ceramic.TextInputDelegate",L0.__isInterface__=!0,L0.prototype={textInputClosestPositionInLine:null,textInputNumberOfLines:null,textInputIndexForPosInLine:null,textInputLineForIndex:null,textInputPosInLineForIndex:null,__class__:L0},(E["ceramic.EditText"]=M0).__name__="ceramic.EditText",M0.__interfaces__=[L0,a0],M0.__super__=j,M0.prototype=$extend(j.prototype,{__cbOnUpdate:null,__cbOnceUpdate:null,__cbOnOwnerUnbindUpdate:null,__cbOnceOwnerUnbindUpdate:null,emitUpdate:function(e){var n=0;if(null!=this.__cbOnUpdate&&(n+=this.__cbOnUpdate.length),null!=this.__cbOnceUpdate&&(n+=this.__cbOnceUpdate.length),0<n){var t=C.pool(n),i=t.get(),l=0;if(null!=this.__cbOnUpdate)for(var s=0,r=this.__cbOnUpdate.length;s<r;){var h=s++;!0?(i.vector[l]=this.__cbOnUpdate[h],++l):--n}if(null!=this.__cbOnceUpdate){for(var a=null,o=null,s=0,r=this.__cbOnceUpdate.length;s<r;){var c,h=s++;!0?(i.vector[l]=this.__cbOnceUpdate[h],this.__cbOnceUpdate[h]=null,c=this.__cbOnceOwnerUnbindUpdate[h],(this.__cbOnceOwnerUnbindUpdate[h]=null)!=c&&c(),++l):(--n,null==a&&(a=[],o=[],0),a.push(this.__cbOnceOwnerUnbindUpdate[h]),o.push(this.__cbOnceUpdate[h]))}this.__cbOnceOwnerUnbindUpdate=a,this.__cbOnceUpdate=o}for(s=0,r=n;s<r;){l=s++;(0,i.vector[l])(e)}t.release(i)}},onUpdate:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event update because owner is destroyed!");var l=function(e){null!=t&&(i.offUpdate(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindUpdate&&(this.__cbOnOwnerUnbindUpdate=[]),this.__cbOnOwnerUnbindUpdate.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindUpdate&&(this.__cbOnOwnerUnbindUpdate=[]),this.__cbOnOwnerUnbindUpdate.push(null);null==this.__cbOnUpdate&&(this.__cbOnUpdate=[]),this.__cbOnUpdate.push(t)},onceUpdate:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event update because owner is destroyed!");var l=function(e){null!=t&&(i.offUpdate(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindUpdate&&(this.__cbOnceOwnerUnbindUpdate=[]),this.__cbOnceOwnerUnbindUpdate.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindUpdate&&(this.__cbOnceOwnerUnbindUpdate=[]),this.__cbOnceOwnerUnbindUpdate.push(null);null==this.__cbOnceUpdate&&(this.__cbOnceUpdate=[]),this.__cbOnceUpdate.push(t)},offUpdate:function(e){if(null!=e){var n;null!=this.__cbOnUpdate&&-1!=(n=this.__cbOnUpdate.indexOf(e))&&(this.__cbOnUpdate.splice(n,1),null!=(s=this.__cbOnOwnerUnbindUpdate[n])&&s(),this.__cbOnOwnerUnbindUpdate.splice(n,1)),null!=this.__cbOnceUpdate&&-1!=(n=this.__cbOnceUpdate.indexOf(e))&&(this.__cbOnceUpdate.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindUpdate[n])&&s(),this.__cbOnceOwnerUnbindUpdate.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindUpdate){for(var t=0,i=this.__cbOnOwnerUnbindUpdate.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindUpdate[l])&&s()}this.__cbOnOwnerUnbindUpdate=null}if(null!=this.__cbOnceOwnerUnbindUpdate){for(t=0,i=this.__cbOnceOwnerUnbindUpdate.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindUpdate[l])&&s()}this.__cbOnceOwnerUnbindUpdate=null}this.__cbOnUpdate=null,this.__cbOnceUpdate=null}},listensUpdate:function(){return null!=this.__cbOnUpdate&&0<this.__cbOnUpdate.length||null!=this.__cbOnceUpdate&&0<this.__cbOnceUpdate.length},__cbOnStart:null,__cbOnceStart:null,__cbOnOwnerUnbindStart:null,__cbOnceOwnerUnbindStart:null,emitStart:function(){var e=0;if(null!=this.__cbOnStart&&(e+=this.__cbOnStart.length),null!=this.__cbOnceStart&&(e+=this.__cbOnceStart.length),0<e){var n=C.pool(e),t=n.get(),i=0;if(null!=this.__cbOnStart)for(var l=0,s=this.__cbOnStart.length;l<s;){var r=l++;!0?(t.vector[i]=this.__cbOnStart[r],++i):--e}if(null!=this.__cbOnceStart){for(var h=null,a=null,l=0,s=this.__cbOnceStart.length;l<s;){var o,r=l++;!0?(t.vector[i]=this.__cbOnceStart[r],this.__cbOnceStart[r]=null,o=this.__cbOnceOwnerUnbindStart[r],(this.__cbOnceOwnerUnbindStart[r]=null)!=o&&o(),++i):(--e,null==h&&(h=[],a=[],0),h.push(this.__cbOnceOwnerUnbindStart[r]),a.push(this.__cbOnceStart[r]))}this.__cbOnceOwnerUnbindStart=h,this.__cbOnceStart=a}for(l=0,s=e;l<s;){i=l++;(0,t.vector[i])()}n.release(t)}},onStart:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event start because owner is destroyed!");var l=function(e){null!=t&&(i.offStart(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindStart&&(this.__cbOnOwnerUnbindStart=[]),this.__cbOnOwnerUnbindStart.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindStart&&(this.__cbOnOwnerUnbindStart=[]),this.__cbOnOwnerUnbindStart.push(null);null==this.__cbOnStart&&(this.__cbOnStart=[]),this.__cbOnStart.push(t)},onceStart:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event start because owner is destroyed!");var l=function(e){null!=t&&(i.offStart(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindStart&&(this.__cbOnceOwnerUnbindStart=[]),this.__cbOnceOwnerUnbindStart.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindStart&&(this.__cbOnceOwnerUnbindStart=[]),this.__cbOnceOwnerUnbindStart.push(null);null==this.__cbOnceStart&&(this.__cbOnceStart=[]),this.__cbOnceStart.push(t)},offStart:function(e){if(null!=e){var n;null!=this.__cbOnStart&&-1!=(n=this.__cbOnStart.indexOf(e))&&(this.__cbOnStart.splice(n,1),null!=(s=this.__cbOnOwnerUnbindStart[n])&&s(),this.__cbOnOwnerUnbindStart.splice(n,1)),null!=this.__cbOnceStart&&-1!=(n=this.__cbOnceStart.indexOf(e))&&(this.__cbOnceStart.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindStart[n])&&s(),this.__cbOnceOwnerUnbindStart.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindStart){for(var t=0,i=this.__cbOnOwnerUnbindStart.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindStart[l])&&s()}this.__cbOnOwnerUnbindStart=null}if(null!=this.__cbOnceOwnerUnbindStart){for(t=0,i=this.__cbOnceOwnerUnbindStart.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindStart[l])&&s()}this.__cbOnceOwnerUnbindStart=null}this.__cbOnStart=null,this.__cbOnceStart=null}},listensStart:function(){return null!=this.__cbOnStart&&0<this.__cbOnStart.length||null!=this.__cbOnceStart&&0<this.__cbOnceStart.length},__cbOnSubmit:null,__cbOnceSubmit:null,__cbOnOwnerUnbindSubmit:null,__cbOnceOwnerUnbindSubmit:null,emitSubmit:function(){var e=0;if(null!=this.__cbOnSubmit&&(e+=this.__cbOnSubmit.length),null!=this.__cbOnceSubmit&&(e+=this.__cbOnceSubmit.length),0<e){var n=C.pool(e),t=n.get(),i=0;if(null!=this.__cbOnSubmit)for(var l=0,s=this.__cbOnSubmit.length;l<s;){var r=l++;!0?(t.vector[i]=this.__cbOnSubmit[r],++i):--e}if(null!=this.__cbOnceSubmit){for(var h=null,a=null,l=0,s=this.__cbOnceSubmit.length;l<s;){var o,r=l++;!0?(t.vector[i]=this.__cbOnceSubmit[r],this.__cbOnceSubmit[r]=null,o=this.__cbOnceOwnerUnbindSubmit[r],(this.__cbOnceOwnerUnbindSubmit[r]=null)!=o&&o(),++i):(--e,null==h&&(h=[],a=[],0),h.push(this.__cbOnceOwnerUnbindSubmit[r]),a.push(this.__cbOnceSubmit[r]))}this.__cbOnceOwnerUnbindSubmit=h,this.__cbOnceSubmit=a}for(l=0,s=e;l<s;){i=l++;(0,t.vector[i])()}n.release(t)}},onSubmit:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event submit because owner is destroyed!");var l=function(e){null!=t&&(i.offSubmit(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindSubmit&&(this.__cbOnOwnerUnbindSubmit=[]),this.__cbOnOwnerUnbindSubmit.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindSubmit&&(this.__cbOnOwnerUnbindSubmit=[]),this.__cbOnOwnerUnbindSubmit.push(null);null==this.__cbOnSubmit&&(this.__cbOnSubmit=[]),this.__cbOnSubmit.push(t)},onceSubmit:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event submit because owner is destroyed!");var l=function(e){null!=t&&(i.offSubmit(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindSubmit&&(this.__cbOnceOwnerUnbindSubmit=[]),this.__cbOnceOwnerUnbindSubmit.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindSubmit&&(this.__cbOnceOwnerUnbindSubmit=[]),this.__cbOnceOwnerUnbindSubmit.push(null);null==this.__cbOnceSubmit&&(this.__cbOnceSubmit=[]),this.__cbOnceSubmit.push(t)},offSubmit:function(e){if(null!=e){var n;null!=this.__cbOnSubmit&&-1!=(n=this.__cbOnSubmit.indexOf(e))&&(this.__cbOnSubmit.splice(n,1),null!=(s=this.__cbOnOwnerUnbindSubmit[n])&&s(),this.__cbOnOwnerUnbindSubmit.splice(n,1)),null!=this.__cbOnceSubmit&&-1!=(n=this.__cbOnceSubmit.indexOf(e))&&(this.__cbOnceSubmit.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindSubmit[n])&&s(),this.__cbOnceOwnerUnbindSubmit.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindSubmit){for(var t=0,i=this.__cbOnOwnerUnbindSubmit.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindSubmit[l])&&s()}this.__cbOnOwnerUnbindSubmit=null}if(null!=this.__cbOnceOwnerUnbindSubmit){for(t=0,i=this.__cbOnceOwnerUnbindSubmit.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindSubmit[l])&&s()}this.__cbOnceOwnerUnbindSubmit=null}this.__cbOnSubmit=null,this.__cbOnceSubmit=null}},listensSubmit:function(){return null!=this.__cbOnSubmit&&0<this.__cbOnSubmit.length||null!=this.__cbOnceSubmit&&0<this.__cbOnceSubmit.length},__cbOnStop:null,__cbOnceStop:null,__cbOnOwnerUnbindStop:null,__cbOnceOwnerUnbindStop:null,emitStop:function(){var e=0;if(null!=this.__cbOnStop&&(e+=this.__cbOnStop.length),null!=this.__cbOnceStop&&(e+=this.__cbOnceStop.length),0<e){var n=C.pool(e),t=n.get(),i=0;if(null!=this.__cbOnStop)for(var l=0,s=this.__cbOnStop.length;l<s;){var r=l++;!0?(t.vector[i]=this.__cbOnStop[r],++i):--e}if(null!=this.__cbOnceStop){for(var h=null,a=null,l=0,s=this.__cbOnceStop.length;l<s;){var o,r=l++;!0?(t.vector[i]=this.__cbOnceStop[r],this.__cbOnceStop[r]=null,o=this.__cbOnceOwnerUnbindStop[r],(this.__cbOnceOwnerUnbindStop[r]=null)!=o&&o(),++i):(--e,null==h&&(h=[],a=[],0),h.push(this.__cbOnceOwnerUnbindStop[r]),a.push(this.__cbOnceStop[r]))}this.__cbOnceOwnerUnbindStop=h,this.__cbOnceStop=a}for(l=0,s=e;l<s;){i=l++;(0,t.vector[i])()}n.release(t)}},onStop:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event stop because owner is destroyed!");var l=function(e){null!=t&&(i.offStop(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindStop&&(this.__cbOnOwnerUnbindStop=[]),this.__cbOnOwnerUnbindStop.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindStop&&(this.__cbOnOwnerUnbindStop=[]),this.__cbOnOwnerUnbindStop.push(null);null==this.__cbOnStop&&(this.__cbOnStop=[]),this.__cbOnStop.push(t)},onceStop:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event stop because owner is destroyed!");var l=function(e){null!=t&&(i.offStop(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindStop&&(this.__cbOnceOwnerUnbindStop=[]),this.__cbOnceOwnerUnbindStop.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindStop&&(this.__cbOnceOwnerUnbindStop=[]),this.__cbOnceOwnerUnbindStop.push(null);null==this.__cbOnceStop&&(this.__cbOnceStop=[]),this.__cbOnceStop.push(t)},offStop:function(e){if(null!=e){var n;null!=this.__cbOnStop&&-1!=(n=this.__cbOnStop.indexOf(e))&&(this.__cbOnStop.splice(n,1),null!=(s=this.__cbOnOwnerUnbindStop[n])&&s(),this.__cbOnOwnerUnbindStop.splice(n,1)),null!=this.__cbOnceStop&&-1!=(n=this.__cbOnceStop.indexOf(e))&&(this.__cbOnceStop.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindStop[n])&&s(),this.__cbOnceOwnerUnbindStop.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindStop){for(var t=0,i=this.__cbOnOwnerUnbindStop.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindStop[l])&&s()}this.__cbOnOwnerUnbindStop=null}if(null!=this.__cbOnceOwnerUnbindStop){for(t=0,i=this.__cbOnceOwnerUnbindStop.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindStop[l])&&s()}this.__cbOnceOwnerUnbindStop=null}this.__cbOnStop=null,this.__cbOnceStop=null}},listensStop:function(){return null!=this.__cbOnStop&&0<this.__cbOnStop.length||null!=this.__cbOnceStop&&0<this.__cbOnceStop.length},entity:null,multiline:null,get_editing:function(){return M0._activeEditTextInput==this},selectionColor:null,set_selectionColor:function(e){return this.selectionColor=e,null!=this.selectText&&(this.selectText.selectionColor=e),e},textCursorColor:null,set_textCursorColor:function(e){return this.textCursorColor=e,null!=this.selectText&&(this.selectText.textCursorColor=e),e},textCursorOffsetX:null,set_textCursorOffsetX:function(e){return this.textCursorOffsetX=e,null!=this.selectText&&(this.selectText.textCursorOffsetX=e),e},textCursorOffsetY:null,set_textCursorOffsetY:function(e){return this.textCursorOffsetY=e,null!=this.selectText&&(this.selectText.textCursorOffsetY=e),e},textCursorHeightFactor:null,set_textCursorHeightFactor:function(e){return this.textCursorHeightFactor=e,null!=this.selectText&&(this.selectText.textCursorHeightFactor=e),e},textCursorWidth:null,set_textCursorWidth:function(e){return this.textCursorWidth=e,null!=this.selectText&&(this.selectText.textCursorWidth=e),e},disabled:null,set_disabled:function(e){return e!=this.disabled&&(this.disabled=e)&&this.stopInput(),e},container:null,set_container:function(e){return this.container!=e&&(this.container=e,null!=this.selectText&&this.selectText.set_container(e),null!=this.entity)&&this.bindPointerEvents(),e},selectText:null,boundContainer:null,selectionBackgrounds:null,inputActive:null,willUpdateSelection:null,textCursor:null,textCursorToggleVisibilityTime:null,inputRectX:null,inputRectY:null,inputRectW:null,inputRectH:null,bindAsComponent:function(){this.selectText=this.entity.component("selectText"),null==this.selectText&&(this.selectText=new rt(this.selectionColor,this.textCursorColor,this.textCursorOffsetX,this.textCursorOffsetY,this.textCursorHeightFactor,this.textCursorWidth),this.entity.component("selectText",this.selectText)),this.selectText.set_container(this.container),this.selectText.onSelection(this,$bind(this,this.updateFromSelection)),this.bindPointerEvents(),this.bindKeyBindings(),ae.app.onUpdate(this,$bind(this,this.handleAppUpdate)),this.handleMobileWebIfNeeded()},startInput:function(e,n){null==n&&(n=-1),null==e&&(e=-1);var t,i=this;null!=M0._activeEditTextInput?(M0._activeEditTextInput.stopInput(),M0._activeEditTextInput=null,ae.app._onceImmediate(function(){i._lifecycleState<0||i.disabled||i.startInput(e,n)})):(this.emitStart(),n>this.entity.content.length&&(n=this.entity.content.length),t=(M0._activeEditTextInput=this).entity.content,this.computeInputRect(),ae.app.textInput.onUpdate(this,$bind(this,this.updateFromTextInput)),ae.app.textInput.onStop(this,$bind(this,this.handleStop)),ae.app.textInput.onEnter(this,$bind(this,this.handleEnter)),ae.app.textInput.onEscape(this,$bind(this,this.handleEscape)),ae.app.textInput.onSelection(this,$bind(this,this.updateFromInputSelection)),this.selectText.set_showCursor(!0),this.selectText.set_allowSelectingFromPointer(!0),this.inputActive=!0,null!=this.domInput&&this.domInput.focus(),ae.app.textInput.start(t,this.inputRectX,this.inputRectY,this.inputRectW,this.inputRectH,this.multiline,e,n,!0,this))},stopInput:function(){this.inputActive=!1,ae.app.textInput.offUpdate($bind(this,this.updateFromTextInput)),ae.app.textInput.offStop($bind(this,this.handleStop)),ae.app.textInput.offEnter($bind(this,this.handleEnter)),ae.app.textInput.offEscape($bind(this,this.handleEscape)),ae.app.textInput.offSelection($bind(this,this.updateFromInputSelection)),M0._activeEditTextInput==this&&(ae.app.textInput.stop(),M0._activeEditTextInput=null),this.selectText.set_showCursor(!1),this.selectText.set_allowSelectingFromPointer(!1),this.selectText.set_selectionStart(-1),this.selectText.set_selectionEnd(-1),this.emitStop()},updateText:function(e){this.inputActive&&(null!=this.domInput&&(this.domInput.value=e),ae.app.textInput.set_text(e),this.entity.set_content(e),this.updateFromInputSelection(ae.app.textInput.selectionStart,ae.app.textInput.selectionEnd))},focus:function(){var e=this;this.disabled||(ae.app.screen.set_focusedVisual(this.entity),this.inputActive)||ae.app._onceImmediate(function(){e._lifecycleState<0||e.disabled||e.startInput(0,e.entity.content.length)})},handleStop:function(){this.stopInput()},handleEnter:function(){this.multiline||(this.emitSubmit(),this.stopInput())},handleEscape:function(){this.stopInput()},updateFromTextInput:function(e){var n=this;this.entity.set_content(e),null!=this.domInput?(this.domInput.value=e,this.domInputBlockHtmlInputEvent=!0,ae.app.offXUpdates($bind(this,this.unBlockHtmlInputEvent)),ae.app.onceXUpdates(this,2,$bind(this,this.unBlockHtmlInputEvent))):(this.domInputBlockSelection=!0,ae.app._oncePostFlushImmediateWithOwner(this,function(){n.domInputBlockSelection=!1},!0)),this.emitUpdate(e)},updateFromSelection:function(e,n,t){ae.app.textInput.updateSelection(e,n,t),this.domInputBlockSelection||null==this.domInput||(this.domInput.selectionStart=e,this.domInput.selectionEnd=n),this.domInputBlockSelection=!1},updateFromInputSelection:function(e,n){this.selectText.set_selectionStart(e),this.selectText.set_selectionEnd(n),this.domInputBlockSelection||null==this.domInput||(this.domInput.selectionStart=e,this.domInput.selectionEnd=n),this.domInputBlockSelection=!1},textInputClosestPositionInLine:function(e,n,t){n=this.entity.indexForPosInLine(n,e),e=this.entity.xPositionAtIndex(n);return this.entity.posInLineForX(t,e)},textInputNumberOfLines:function(){var e=this.entity.glyphQuads;return 0==e.length?1:e[e.length-1].line+1},textInputIndexForPosInLine:function(e,n){return this.entity.indexForPosInLine(e,n)},textInputLineForIndex:function(e){return this.entity.lineForIndex(e)},textInputPosInLineForIndex:function(e){return this.entity.posInLineForIndex(e)},bindPointerEvents:function(){null!=this.boundContainer?(this.boundContainer.offPointerDown($bind(this,this.handlePointerDown)),this.boundContainer=null):this.entity.offPointerDown($bind(this,this.handlePointerDown)),null!=this.container?(this.container.onPointerDown(this,$bind(this,this.handlePointerDown)),this.boundContainer=this.container):this.entity.onPointerDown(this,$bind(this,this.handlePointerDown))},handlePointerDown:function(e){this.focus()},handleAppUpdate:function(e){!this.inputActive||ae.app.screen.get_focusedVisual()==this.entity||null!=this.container&&ae.app.screen.get_focusedVisual()==this.container||this.stopInput()},bindKeyBindings:function(){var i=this,n=new Ln;n.bind([Rn.CMD_OR_CTRL,Rn.KEY(120)],function(){var e;ae.app.screen.get_focusedVisual()!=i.entity||i.selectText.get_selectionEnd()-i.selectText.get_selectionStart()<=0||(e=i.entity.content.substring(i.selectText.get_selectionStart(),i.selectText.get_selectionEnd()),ae.app.backend.clipboard.setText(e),e=i.entity.content.substring(0,i.selectText.get_selectionStart())+i.entity.content.substring(i.selectText.get_selectionEnd()),i.selectText.set_selectionEnd(i.selectText.get_selectionStart()),i.entity.set_content(e),i.emitUpdate(e))}),n.bind([Rn.CMD_OR_CTRL,Rn.KEY(118)],function(){var e,n,t;ae.app.screen.get_focusedVisual()==i.entity&&(null==(e=ae.app.backend.clipboard.getText())&&(e=""),i.multiline||(e=z.replace(e,"\n"," ")),z.replace(e,"\r",""),n=i.entity.content.substring(0,i.selectText.get_selectionStart())+e+i.entity.content.substring(i.selectText.get_selectionEnd()),(t=i.selectText).set_selectionStart(t.get_selectionStart()+e.length),i.selectText.set_selectionEnd(i.selectText.get_selectionStart()),i.entity.set_content(n),i.emitUpdate(n))}),this.onDestroy(n,function(e){n.destroy(),n=null}),this.entity.component("editText.keyBindings",n)},computeInputRect:function(){var e=this.entity,n=((e=null!=this.container?this.container:e).visualToScreen(0,0,M0._point),M0._point.x),t=M0._point.y,e=(e.visualToScreen(e.get_width(),e.get_height(),M0._point),M0._point.x),i=M0._point.y;this.inputRectX=n,this.inputRectY=t,this.inputRectW=e-n,this.inputRectH=i-t},destroy:function(){this._lifecycleState<=-2||(this._lifecycleState=-2,this.inputActive&&this.stopInput(),null!=this.domInput&&(this.domInput.parentNode.removeChild(this.domInput),this.domInput=null),this._lifecycleState=-1,j.prototype.destroy.call(this))},domInput:null,domInputBlockSelection:null,domInputBlockHtmlInputEvent:null,unBlockHtmlInputEvent:function(){this.domInputBlockHtmlInputEvent=!1},handleMobileWebIfNeeded:function(){var n=this;this.computeInputRect(),null!=ce.navigator&&ce.navigator.userAgent,window.MSStream;($t.isIos()||$t.isAndroid())&&(this.domInput=window.document.createElement("input"),this.domInput.type="text",this.domInput.className="edit-text",this.domInput.style.display="block",this.domInput.style.position="absolute",this.domInput.style.left="-1px",this.domInput.style.top="-1px",this.domInput.style.width="1px",this.domInput.style.height="1px",this.domInput.style.overflow="hidden",this.domInput.style.margin="0",this.domInput.style.padding="0",this.domInput.style.border="none",this.domInput.style.borderRadius="0",this.domInput.style.outline="none",this.domInput.style.userSelect="none",this.domInput.style.zIndex="99999",this.domInput.style.opacity="0",this.domInput.style.backgroundColor="transparent",this.domInput.style.webkitTapHighlightColor="transparent",this.domInput.addEventListener("click",function(){n.inputActive||n.startInput()}),this.domInput.addEventListener("input",function(e){return n.inputActive&&(n.domInputBlockHtmlInputEvent?(n.domInput.value=n.entity.content,n.domInput.selectionStart=n.selectText.get_selectionStart(),n.domInput.selectionEnd=n.selectText.get_selectionEnd()):(e=e.target.value,n.entity.set_content(e),ae.app.textInput.set_text(e),n.selectText.set_selectionStart(n.domInput.selectionStart),n.selectText.set_selectionEnd(n.domInput.selectionEnd),n.emitUpdate(e))),n.domInputBlockHtmlInputEvent=!1}),window.document.getElementById("ceramic-app").appendChild(this.domInput),ae.app.onBeginDraw(this,$bind(this,this.updateDomInputState))),this.updateDomInputState()},updateDomInputState:function(){var e,n,t,i;null==this.domInput||(this.computeInputRect(),i=ae.app.screen.matrix,e=(this.inputRectX*i.a+this.inputRectY*i.c+i.tx)/ee.app.screenDensity,n=(this.inputRectX*i.b+this.inputRectY*i.d+i.ty)/ee.app.screenDensity,t=((this.inputRectX+this.inputRectW)*i.a+(this.inputRectY+this.inputRectH)*i.c+i.tx)/ee.app.screenDensity-e,i=((this.inputRectX+this.inputRectW)*i.b+(this.inputRectY+this.inputRectH)*i.d+i.ty)/ee.app.screenDensity-n,this.inputActive?this.domInput.style.left=e-99999+"px":this.domInput.style.left=e+"px",this.domInput.style.top=n+"px",this.domInput.style.width=t+"px",this.domInput.style.height=i+"px",this.domInput.style.zIndex=100+Math.round(1e4*this.entity.computedDepth)+"px",this.inputActive)||window.document.activeElement!=this.domInput||this.domInput.blur()},setEntity:function(e){e instanceof gt?this.entity=e:this.entity=null},getEntity:function(){return this.entity},initializerName:null,unbindEvents:function(){j.prototype.unbindEvents.call(this),this.offUpdate(),this.offStart(),this.offSubmit(),this.offStop()},__class__:M0,__properties__:$extend(j.prototype.__properties__,{set_container:"set_container",set_disabled:"set_disabled",set_textCursorWidth:"set_textCursorWidth",set_textCursorHeightFactor:"set_textCursorHeightFactor",set_textCursorOffsetY:"set_textCursorOffsetY",set_textCursorOffsetX:"set_textCursorOffsetX",set_textCursorColor:"set_textCursorColor",set_selectionColor:"set_selectionColor",get_editing:"get_editing"})}),(E["ceramic.EntityData"]=N0).__name__="ceramic.EntityData",N0.removeData=function(e){var n=e.component("data");null!=n&&n instanceof I0&&e.removeComponent("data")},N0.data=function(e,n){var t=e.component("data");return null==t?(t=new I0(null!=n?n:{}),e.component("data",t)):null!=n&&t.set_data(n),t.get_data()},(E["ceramic.Equal"]=O0).__name__="ceramic.Equal",O0.equal=function(e,n){return e==n||(e instanceof Array?n instanceof Array&&O0._arrayEqual(e,n):e instanceof Nl?n instanceof Nl&&O0.stringMapEqual(e,n):e instanceof Ll?n instanceof Ll&&O0.intMapEqual(e,n):!(!L.isObject(e)||null!=Os.getClass(e)||!L.isObject(n)||null!=Os.getClass(n))&&O0.objectFieldsEqual(e,n))},O0.objectFieldsEqual=function(e,n){for(var t=0,i=L.fields(e);t<i.length;){var l=i[t];if(++t,!Object.prototype.hasOwnProperty.call(n,l)||!O0.equal(L.field(e,l),L.field(n,l)))return!1}for(t=0,i=L.fields(n);t<i.length;){l=i[t];if(++t,!Object.prototype.hasOwnProperty.call(e,l))return!1}return!0},O0._arrayEqual=function(e,n){var t=e.length;if(t!=n.length)return!1;for(var i=0,l=t;i<l;){var s=i++;if(e[s]!=n[s])return!1}return!0},O0.stringMapEqual=function(e,n){for(var t=e.h,i=t,l=Object.keys(t),s=l.length,r=0;r<s;){var h=o=l[r++],a=i[o];if(!Object.prototype.hasOwnProperty.call(n.h,h))return!1;if(n.h[h]!=a)return!1}for(i=t=n.h,s=(l=Object.keys(t)).length,r=0;r<s;){var o=l[r++];if(!Object.prototype.hasOwnProperty.call(e.h,o))return!1}return!0},O0.intMapEqual=function(e,n){for(var t=e,i=e.keys();i.hasNext();){var l=r=i.next(),s=t.get(r);if(!n.h.hasOwnProperty(l))return!1;if(n.h[l]!=s)return!1}for(var r=n.keys();r.hasNext();){l=r.next();if(!e.h.hasOwnProperty(l))return!1}return!0},function(){}),an=((E["ceramic.Errors"]=hn).__name__="ceramic.Errors",hn.handleUncaughtError=function(e){for(var n=ae.app,n=(null!=n.__cbOnCriticalError&&0<n.__cbOnCriticalError.length||null!=n.__cbOnceCriticalError&&n.__cbOnceCriticalError.length,Dl.exceptionStack()),t=[].concat(n),i=(t.reverse(),ae.app.emitCriticalError(e,t),0);i<t.length;){var l=t[i];++i,console.log(""+K.string($t.stackItemToString(l)))}console.log(""+K.string("[error] "+K.string(e)))},function(){}),on=((E["ceramic.Extensions"]=an).__name__="ceramic.Extensions",an.unsafeGet=function(e,n){return e[n]},an.unsafeSet=function(e,n,t){e[n]=t},an.setArrayLength=function(e,n){if(e.length!=n)if(e.length>n)e.splice(n,e.length-n);else for(var t=e;t.length<n;)t.push(null)},an.randomElement=function(e){return e[Math.floor(.99999*Math.random()*e.length)]},an.randomElementExcept=function(e,n,t){if(t=null==t?!1:t){for(var i=null;(i=e[Math.floor(.99999*Math.random()*e.length)])==n;);return i}for(var l=[],s=0;s<e.length;){var r=e[s];++s,l.push(r)}an.shuffle(l);for(s=0;s<l.length;){r=l[s];if(++s,r!=n)return r}return null},an.randomElementMatchingValidator=function(e,n){for(var t=[],i=0;i<e.length;){var l=e[i];++i,t.push(l)}an.shuffle(t);for(i=0;i<t.length;){l=t[i];if(++i,n(l))return l}return null},an.shuffle=function(e){if(null!=e)for(var n=0,t=e.length;n<t;){var i=n++,l=Math.floor((e.length-1+1)*Math.random()),s=e[i],r=e[l];e[i]=r,e[l]=s}},an.swapElements=function(e,n,t){var i=e[n];e[n]=e[t],e[t]=i},an.removeNullElements=function(e){for(var n=0,t=0,i=e.length;n<i;){do{}while(null==e[n]&&(++t,++n<i));0!=t&&n<i&&(e[n-t]=e[n]),++n}var l=i-t;if(e.length!=l)if(e.length>l)e.splice(l,e.length-l);else for(var s=e;s.length<l;)s.push(null)},an.setProperty=function(e,n,t){L.setProperty(e,n,t)},an.getProperty=function(e,n){return L.getProperty(e,n)},function(){}),cn=((E["ceramic.FieldInfo"]=on).__name__="ceramic.FieldInfo",on.types=function(e,n){null==n&&(n=!0);var t=on.fieldInfoMap.h[e];if(null==t){t=new Nl,on.fieldInfoMap.h[e]=t;for(var i=E[e];null!=i;){var l=L.field(i,"_fieldInfo");if(null!=l)for(var s=l,r=L.fields(l),h=0;h<r.length;){var a=r[h++],o=a,a=s[a];Object.prototype.hasOwnProperty.call(t.h,o)||(t.h[o]=a.type)}if(!n)break;i=i.__super__}}return t},on.typeOf=function(e,n){return on.types(e).h[n]},function(){}),un=((E["ceramic.FieldMeta"]=cn).__name__="ceramic.FieldMeta",cn._hasMeta=function(e,n,t,i,l){e=cn._getMeta(e,n,t,l);return null!=e&&Object.prototype.hasOwnProperty.call(e.h,i)},cn._getMeta=function(e,n,t,i){var l=null,s=i?cn.metaMapRecursive:cn.metaMap;if(Object.prototype.hasOwnProperty.call(s.h,n))l=s.h[n];else{for(l=new Nl;null!=e;){var r=ls.getFields(e);if(null!=r)for(var h=0,a=L.fields(r);h<a.length;){var o=a[h],c=(++h,l.h[o]),u=(null==c&&(c=new Nl,l.h[o]=c),L.field(r,o));if(null!=u)for(var _=0,d=L.fields(u);_<d.length;){var b=d[_];++_,Object.prototype.hasOwnProperty.call(c.h,b)||(c.h[b]=L.field(u,b))}}if(!i)break;e=e.__super__}s.h[n]=l}return Object.prototype.hasOwnProperty.call(l.h,t)?l.h[t]:null},function(){}),_n=((E["ceramic.Files"]=un).__name__="ceramic.Files",un.haveSameContent=function(e,n){return ae.app.logger.warning("haveSameContent() is not supported on this target",{fileName:"../../../../ceramic/runtime/src/ceramic/Files.hx",lineNumber:64,className:"ceramic.Files",methodName:"haveSameContent"}),!1},un.haveSameLastModified=function(e,n){return ae.app.logger.warning("haveSameLastModified() is not supported on this target",{fileName:"../../../../ceramic/runtime/src/ceramic/Files.hx",lineNumber:111,className:"ceramic.Files",methodName:"haveSameLastModified"}),!1},un.setToSameLastModified=function(e,n){ae.app.logger.warning("setToSameLastModified() is not supported on this target",{fileName:"../../../../ceramic/runtime/src/ceramic/Files.hx",lineNumber:143,className:"ceramic.Files",methodName:"setToSameLastModified"})},un.getFlatDirectory=function(e,n,t,i){return null==i&&(i=!0),null==t&&(t=!1),null==n&&(n=!0),[]},un.getLastModified=function(e){return-1},un.removeEmptyDirectories=function(e,n){null==n&&(n=!0),ae.app.logger.warning("removeEmptyDirectories() is not supported on this target",{fileName:"../../../../ceramic/runtime/src/ceramic/Files.hx",lineNumber:302,className:"ceramic.Files",methodName:"removeEmptyDirectories"})},un.isEmptyDirectory=function(e,n){return null==n&&(n=!0),ae.app.logger.warning("isEmptyDirectory() is not supported on this target",{fileName:"../../../../ceramic/runtime/src/ceramic/Files.hx",lineNumber:330,className:"ceramic.Files",methodName:"isEmptyDirectory"}),!1},un.deleteRecursive=function(e){ae.app.logger.warning("deleteRecursive() is not supported on this target",{fileName:"../../../../ceramic/runtime/src/ceramic/Files.hx",lineNumber:382,className:"ceramic.Files",methodName:"deleteRecursive"})},un.getRelativePath=function(e,n){for(var t=he.substr(Nn.normalize(n),1,null).split("/"),i=he.substr(Nn.normalize(e),1,null).split("/"),n=Math.min(t.length,i.length),l=n,s=0,r=n;s<r;)if(t[a=s++]!=i[a]){l=a;break}for(var h=[],s=l,r=t.length;s<r;){var a=s++;h.push("..")}n=(h=h.concat(i.slice(l))).join("/");return z.endsWith(e,"/")&&!z.endsWith(n,"/")&&(n+="/"),n=z.startsWith(n,".")?n:"./"+n},un.copyFileWithIntermediateDirs=function(e,n){ae.app.logger.warning("copyFileWithIntermediateDirs() is not supported on this target",{fileName:"../../../../ceramic/runtime/src/ceramic/Files.hx",lineNumber:460,className:"ceramic.Files",methodName:"copyFileWithIntermediateDirs"})},un.copyDirectory=function(e,n,t){null==t&&(t=!1),ae.app.logger.warning("copyDirectory() is not supported on this target",{fileName:"../../../../ceramic/runtime/src/ceramic/Files.hx",lineNumber:501,className:"ceramic.Files",methodName:"copyDirectory"})},un.deleteFile=function(e){ae.app.logger.warning("deleteFile() is not supported on this target",{fileName:"../../../../ceramic/runtime/src/ceramic/Files.hx",lineNumber:533,className:"ceramic.Files",methodName:"deleteFile"})},un.getContent=function(e){return ae.app.logger.warning("getContent() is not supported on this target",{fileName:"../../../../ceramic/runtime/src/ceramic/Files.hx",lineNumber:565,className:"ceramic.Files",methodName:"getContent"}),null},un.getBytes=function(e){return ae.app.logger.warning("getBytes() is not supported on this target",{fileName:"../../../../ceramic/runtime/src/ceramic/Files.hx",lineNumber:599,className:"ceramic.Files",methodName:"getBytes"}),null},un.saveContent=function(e,n){ae.app.logger.warning("saveContent() is not supported on this target",{fileName:"../../../../ceramic/runtime/src/ceramic/Files.hx",lineNumber:631,className:"ceramic.Files",methodName:"saveContent"})},un.saveBytes=function(e,n){ae.app.logger.warning("saveBytes() is not supported on this target",{fileName:"../../../../ceramic/runtime/src/ceramic/Files.hx",lineNumber:663,className:"ceramic.Files",methodName:"saveBytes"})},un.createDirectory=function(e){ae.app.logger.warning("createDirectory() is not supported on this target",{fileName:"../../../../ceramic/runtime/src/ceramic/Files.hx",lineNumber:696,className:"ceramic.Files",methodName:"createDirectory"})},un.exists=function(e){return ae.app.logger.warning("exists() is not supported on this target",{fileName:"../../../../ceramic/runtime/src/ceramic/Files.hx",lineNumber:754,className:"ceramic.Files",methodName:"exists"}),!1},un.isDirectory=function(e){return ae.app.logger.warning("isDirectory() is not supported on this target",{fileName:"../../../../ceramic/runtime/src/ceramic/Files.hx",lineNumber:793,className:"ceramic.Files",methodName:"isDirectory"}),!1},function(){this.explicitRenderPendingResultCallbacks=null,this.explicitRenderState=0,this.neverEmpty=!1,this.density=-1,this.unobservedRenderTexture=null,this.renderTextureAutoruns=null,this.textureTile=null,this.textureTilePacker=null,this.explicitRender=!1,this.autoRender=!0,this.antialiasing=0,this.stencil=!0,this.depthBuffer=!0,this.textureFilter=Tt.LINEAR,this.enabled=!0,this.hitVisual=null,this.destroyMeshOnRemove=!0,this.neverEmptyQuad=null,this.meshDirty=!1,this.mesh=null,this.textureId=null,this.observedDirty=!1,q.call(this),this.flags&=-17,this.content=new p,this.content.flags|=16,this.content.color=16777215,this.add(this.content),this.set_hitVisual(this),ae.app.screen.onTexturesDensityChange(this,$bind(this,this.handleTexturesDensityChange))}),dn=((E["ceramic.Filter"]=_n).__name__="ceramic.Filter",_n.__interfaces__=[s],_n.__super__=q,_n.prototype=$extend(q.prototype,{__cbOnObservedDirty:null,__cbOnceObservedDirty:null,__cbOnOwnerUnbindObservedDirty:null,__cbOnceOwnerUnbindObservedDirty:null,emitObservedDirty:function(e,n){var t=0;if(null!=this.__cbOnObservedDirty&&(t+=this.__cbOnObservedDirty.length),null!=this.__cbOnceObservedDirty&&(t+=this.__cbOnceObservedDirty.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnObservedDirty)for(var r=0,h=this.__cbOnObservedDirty.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnObservedDirty[a],++s):--t}if(null!=this.__cbOnceObservedDirty){for(var o=null,c=null,r=0,h=this.__cbOnceObservedDirty.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceObservedDirty[a],this.__cbOnceObservedDirty[a]=null,u=this.__cbOnceOwnerUnbindObservedDirty[a],(this.__cbOnceOwnerUnbindObservedDirty[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindObservedDirty[a]),c.push(this.__cbOnceObservedDirty[a]))}this.__cbOnceOwnerUnbindObservedDirty=o,this.__cbOnceObservedDirty=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onObservedDirty:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event observedDirty because owner is destroyed!");var l=function(e){null!=t&&(i.offObservedDirty(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push(null);null==this.__cbOnObservedDirty&&(this.__cbOnObservedDirty=[]),this.__cbOnObservedDirty.push(t)},onceObservedDirty:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event observedDirty because owner is destroyed!");var l=function(e){null!=t&&(i.offObservedDirty(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push(null);null==this.__cbOnceObservedDirty&&(this.__cbOnceObservedDirty=[]),this.__cbOnceObservedDirty.push(t)},offObservedDirty:function(e){if(null!=e){var n;null!=this.__cbOnObservedDirty&&-1!=(n=this.__cbOnObservedDirty.indexOf(e))&&(this.__cbOnObservedDirty.splice(n,1),null!=(s=this.__cbOnOwnerUnbindObservedDirty[n])&&s(),this.__cbOnOwnerUnbindObservedDirty.splice(n,1)),null!=this.__cbOnceObservedDirty&&-1!=(n=this.__cbOnceObservedDirty.indexOf(e))&&(this.__cbOnceObservedDirty.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindObservedDirty[n])&&s(),this.__cbOnceOwnerUnbindObservedDirty.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindObservedDirty){for(var t=0,i=this.__cbOnOwnerUnbindObservedDirty.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindObservedDirty[l])&&s()}this.__cbOnOwnerUnbindObservedDirty=null}if(null!=this.__cbOnceOwnerUnbindObservedDirty){for(t=0,i=this.__cbOnceOwnerUnbindObservedDirty.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindObservedDirty[l])&&s()}this.__cbOnceOwnerUnbindObservedDirty=null}this.__cbOnObservedDirty=null,this.__cbOnceObservedDirty=null}},listensObservedDirty:function(){return null!=this.__cbOnObservedDirty&&0<this.__cbOnObservedDirty.length||null!=this.__cbOnceObservedDirty&&0<this.__cbOnceObservedDirty.length},observedDirty:null,textureId:null,set_textureId:function(e){return this.textureId=e,null!=this.get_renderTexture()&&(this.get_renderTexture().id=e),e},mesh:null,set_mesh:function(e){var n;return this.mesh!=e&&(null!=this.mesh&&(this.destroyMeshOnRemove?(n=this.mesh,this.mesh=null,n.destroy()):this.remove(this.mesh)),this.mesh=e,null!=this.mesh&&this.add(this.mesh),this.meshDirty=!0,this.contentDirty=!0,ae.app.visualsContentDirty=!0),e},meshDirty:null,neverEmptyQuad:null,destroyMeshOnRemove:null,content:null,hitVisual:null,set_hitVisual:function(e){return this.hitVisual!=e&&(null!=this.hitVisual&&ae.app.screen.removeHitVisual(this.hitVisual),this.hitVisual=e,null!=this.hitVisual)&&ae.app.screen.addHitVisual(this.hitVisual),e},enabled:null,set_enabled:function(e){return this.enabled!=e&&(this.enabled=e,this.flags=!e?16|this.flags:-17&this.flags,this.contentDirty=!0,ae.app.visualsContentDirty=!0),e},textureFilter:null,set_textureFilter:function(e){return this.textureFilter!=e&&(this.textureFilter=e,null!=this.get_renderTexture())&&this.get_renderTexture().set_filter(e),e},depthBuffer:null,set_depthBuffer:function(e){return this.depthBuffer!=e&&(this.depthBuffer=e,this.contentDirty=!0,ae.app.visualsContentDirty=!0),e},stencil:null,set_stencil:function(e){return this.stencil!=e&&(this.stencil=e,this.contentDirty=!0,ae.app.visualsContentDirty=!0),e},antialiasing:null,set_antialiasing:function(e){return this.antialiasing!=e&&(this.antialiasing=e,this.contentDirty=!0,ae.app.visualsContentDirty=!0),e},autoRender:null,set_autoRender:function(e){return this.autoRender!=e&&(this.autoRender=e,null!=this.get_renderTexture())&&(this.get_renderTexture().autoRender=e),e},explicitRender:null,set_explicitRender:function(e){return this.explicitRender!=e&&(this.explicitRender=e,this.content.set_active(!e)),e},textureTilePacker:null,set_textureTilePacker:function(e){return this.textureTilePacker!=e&&(null!=this.textureTile&&null!=this.textureTilePacker&&(this.textureTilePacker.releaseTile(this.textureTile),this.textureTile=null,this.set_tile(null),this.set_tile(null),this.content.set_renderTarget(null)),this.textureTilePacker=e,this.contentDirty=!0,ae.app.visualsContentDirty=!0),e},textureTile:null,renderTextureAutoruns:null,get_renderTexture:function(){var e,n,t=this.unobservedRenderTexture;return null!=A.current&&(e=A.current,null!=(n=this.renderTextureAutoruns)||(n=A.getAutorunArray(),null!=(this.renderTextureAutoruns=n)))&&e.bindToAutorunArray(n),t},set_renderTexture:function(e){var n=this.unobservedRenderTexture;return n!=(this.unobservedRenderTexture=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitRenderTextureChange(e,n),null!=(n=this.renderTextureAutoruns))&&(this.renderTextureAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateRenderTexture:function(){var e=this.unobservedRenderTexture,e=(this.emitRenderTextureChange(e,e),this.renderTextureAutoruns);null!=e&&(this.renderTextureAutoruns=null,A.invalidateAutorunArray(e))},unobservedRenderTexture:null,__cbOnRenderTextureChange:null,__cbOnceRenderTextureChange:null,__cbOnOwnerUnbindRenderTextureChange:null,__cbOnceOwnerUnbindRenderTextureChange:null,emitRenderTextureChange:function(e,n){var t=0;if(null!=this.__cbOnRenderTextureChange&&(t+=this.__cbOnRenderTextureChange.length),null!=this.__cbOnceRenderTextureChange&&(t+=this.__cbOnceRenderTextureChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnRenderTextureChange)for(var r=0,h=this.__cbOnRenderTextureChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnRenderTextureChange[a],++s):--t}if(null!=this.__cbOnceRenderTextureChange){for(var o=null,c=null,r=0,h=this.__cbOnceRenderTextureChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceRenderTextureChange[a],this.__cbOnceRenderTextureChange[a]=null,u=this.__cbOnceOwnerUnbindRenderTextureChange[a],(this.__cbOnceOwnerUnbindRenderTextureChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindRenderTextureChange[a]),c.push(this.__cbOnceRenderTextureChange[a]))}this.__cbOnceOwnerUnbindRenderTextureChange=o,this.__cbOnceRenderTextureChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onRenderTextureChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event renderTextureChange because owner is destroyed!");var l=function(e){null!=t&&(i.offRenderTextureChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindRenderTextureChange&&(this.__cbOnOwnerUnbindRenderTextureChange=[]),this.__cbOnOwnerUnbindRenderTextureChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindRenderTextureChange&&(this.__cbOnOwnerUnbindRenderTextureChange=[]),this.__cbOnOwnerUnbindRenderTextureChange.push(null);null==this.__cbOnRenderTextureChange&&(this.__cbOnRenderTextureChange=[]),this.__cbOnRenderTextureChange.push(t)},onceRenderTextureChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event renderTextureChange because owner is destroyed!");var l=function(e){null!=t&&(i.offRenderTextureChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindRenderTextureChange&&(this.__cbOnceOwnerUnbindRenderTextureChange=[]),this.__cbOnceOwnerUnbindRenderTextureChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindRenderTextureChange&&(this.__cbOnceOwnerUnbindRenderTextureChange=[]),this.__cbOnceOwnerUnbindRenderTextureChange.push(null);null==this.__cbOnceRenderTextureChange&&(this.__cbOnceRenderTextureChange=[]),this.__cbOnceRenderTextureChange.push(t)},offRenderTextureChange:function(e){if(null!=e){var n;null!=this.__cbOnRenderTextureChange&&-1!=(n=this.__cbOnRenderTextureChange.indexOf(e))&&(this.__cbOnRenderTextureChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindRenderTextureChange[n])&&s(),this.__cbOnOwnerUnbindRenderTextureChange.splice(n,1)),null!=this.__cbOnceRenderTextureChange&&-1!=(n=this.__cbOnceRenderTextureChange.indexOf(e))&&(this.__cbOnceRenderTextureChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindRenderTextureChange[n])&&s(),this.__cbOnceOwnerUnbindRenderTextureChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindRenderTextureChange){for(var t=0,i=this.__cbOnOwnerUnbindRenderTextureChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindRenderTextureChange[l])&&s()}this.__cbOnOwnerUnbindRenderTextureChange=null}if(null!=this.__cbOnceOwnerUnbindRenderTextureChange){for(t=0,i=this.__cbOnceOwnerUnbindRenderTextureChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindRenderTextureChange[l])&&s()}this.__cbOnceOwnerUnbindRenderTextureChange=null}this.__cbOnRenderTextureChange=null,this.__cbOnceRenderTextureChange=null}},listensRenderTextureChange:function(){return null!=this.__cbOnRenderTextureChange&&0<this.__cbOnRenderTextureChange.length||null!=this.__cbOnceRenderTextureChange&&0<this.__cbOnceRenderTextureChange.length},density:null,set_density:function(e){return this.density!=e&&(this.density=e,this.contentDirty=!0,ae.app.visualsContentDirty=!0),e},neverEmpty:null,set_neverEmpty:function(e){var n;return this.neverEmpty!=e&&((this.neverEmpty=e)?null==this.neverEmptyQuad&&(this.neverEmptyQuad=new p,(n=this.neverEmptyQuad).set_width(1),n.set_height(1),(n=this.neverEmptyQuad).set_x(-999999999),n.set_y(-999999999),this.content.add(this.neverEmptyQuad)):null!=this.neverEmptyQuad&&(this.neverEmptyQuad.destroy(),this.neverEmptyQuad=null)),e},explicitRenderState:null,explicitRenderPendingResultCallbacks:null,handleTexturesDensityChange:function(e,n){e!=n&&-1==this.density&&(this.updateRenderTextureAndContent(Math.ceil(this.get_width()),Math.ceil(this.get_height()),e,this.depthBuffer,this.stencil,this.antialiasing),this.contentDirty=!1)},updateRenderTextureAndContent:function(e,n,t,i,l,s){var r=null!=this.mesh?this.mesh.texture:this._texture,h=(this.enabled?(this.meshDirty||null==this.get_renderTexture()||(null==this.textureTilePacker||!this.textureTilePacker.managesTexture(this.get_renderTexture()))&&(this.get_renderTexture().width!=e||this.get_renderTexture().height!=n||-1!=t&&this.get_renderTexture().density!=t||this.get_renderTexture().depth!=i||this.get_renderTexture().stencil!=l||this.get_renderTexture().antialiasing!=s)||null!=this.textureTilePacker&&!this.textureTilePacker.managesTexture(this.get_renderTexture())||null!=this.textureTile&&(this.textureTile.frameWidth!=e||this.textureTile.frameHeight!=n))&&(null==this.get_renderTexture()||null!=this.textureTilePacker&&this.textureTilePacker.managesTexture(this.get_renderTexture())||(r=null,this.get_renderTexture().destroy(),this.set_renderTexture(null)),null!=this.textureTile&&null!=this.textureTilePacker&&(this.textureTilePacker.releaseTile(this.textureTile),this.textureTile=null),0<e)&&0<n&&(null!=this.textureTilePacker?(this.set_renderTexture(this.textureTilePacker.texture),this.textureTile=this.textureTilePacker.allocTile(e,n),this.set_tile(this.textureTile)):(this.set_renderTexture(new jn(e,n,t,i,l,s)),this.get_renderTexture().id=this.textureId,this.get_renderTexture().set_filter(this.textureFilter),this.get_renderTexture().autoRender=this.autoRender,this.set_tile(null),r=this.get_renderTexture())):null==this.get_renderTexture()||null!=this.textureTilePacker&&this.textureTilePacker.managesTexture(this.get_renderTexture())||(this.set_tile(null),r=null,this.get_renderTexture().destroy(),this.set_renderTexture(null)),null!=this.mesh?((h=this.mesh).texture!=r&&(null!=h.texture&&(h.texture.offDestroy($bind(h,h.textureDestroyed)),null!=h.texture.asset)&&h.texture.asset.release(),h.texture=r,null!=h.texture)&&(h.texture.onDestroy(h,$bind(h,h.textureDestroyed)),null!=h.texture.asset)&&h.texture.asset.retain(),null!=this._texture&&this._set_texture(null)):this._texture!=r&&this._set_texture(r),this.meshDirty=!1,this.content);h.set_width(e),h.set_height(n),this.content.set_renderTarget(this.get_renderTexture()),null!=this.textureTile?(h=this.content,t=this.textureTile.frameY,h.set_x(this.textureTile.frameX),h.set_y(t)):((h=this.content).set_x(0),h.set_y(0)),this.content.contentDirty&&this.content.computeContent()},render:function(r){var h=this;if(this.explicitRender)if(1==this.explicitRenderState)null!=r&&(null==this.explicitRenderPendingResultCallbacks&&(this.explicitRenderPendingResultCallbacks=[]),this.explicitRenderPendingResultCallbacks.push(r),r=null);else if(2==this.explicitRenderState)null!=r&&(null==this.explicitRenderPendingResultCallbacks&&(this.explicitRenderPendingResultCallbacks=[]),this.explicitRenderPendingResultCallbacks.push(function(){h.render(r),r=null}));else if(this.explicitRenderState=1,this.contentDirty&&this.computeContent(),null==this.get_renderTexture()){this.explicitRenderState=0;var e=this.explicitRenderPendingResultCallbacks;if((this.explicitRenderPendingResultCallbacks=null)!=r&&(r(),r=null),null!=e)for(var n=0,t=e.length;n<t;){var i=n++,l=e[i];e[i]=null,l(),l=null}}else this.content.set_active(!0),ae.app.onceUpdate(null,function(e){if(h._lifecycleState<0)r=null;else if(h.explicitRenderState=2,h.contentDirty&&h.computeContent(),null==h.get_renderTexture()){h.content.set_active(!1),h.explicitRenderState=0;var n=h.explicitRenderPendingResultCallbacks;if((h.explicitRenderPendingResultCallbacks=null)!=r&&(r(),r=null),null!=n)for(var t=0,i=n.length;t<i;){var l=t++,s=n[l];n[l]=null,s(),s=null}}else h.get_renderTexture().renderDirty=!0,ae.app.onceFinishDraw(null,function(){if(h._lifecycleState<0)r=null;else{h.content.set_active(!1),h.explicitRenderState=0;var e=h.explicitRenderPendingResultCallbacks;if((h.explicitRenderPendingResultCallbacks=null)!=r&&(r(),r=null),null!=e)for(var n=0,t=e.length;n<t;){var i=n++,l=e[i];e[i]=null,l(),l=null}}})});else ae.app.logger.warning("Explicit render is disabled on this filter. Ignoring render() call.",{fileName:"../../../../ceramic/runtime/src/ceramic/Filter.hx",lineNumber:479,className:"ceramic.Filter",methodName:"render"})},visualInContentHits:function(e,n,t){var i=nt.matchedHitVisual;if(nt.matchedHitVisual=null,this.hitVisual._hits(n,t,!1)){nt.matchedHitVisual=i,e.matrixDirty&&e.computeMatrix();var l=_n._matrix,s=(l.a=e.matA,l.b=e.matB,l.c=e.matC,l.d=e.matD,l.tx=e.matTX,l.ty=e.matTY,l.changedDirty=!0,this.hitVisual);do{s.matrixDirty&&s.computeMatrix();var r=_n._matrix.a*s.matA+_n._matrix.b*s.matC,h=(_n._matrix.b=_n._matrix.a*s.matB+_n._matrix.b*s.matD,_n._matrix.a=r,_n._matrix.c*s.matA+_n._matrix.d*s.matC),a=(_n._matrix.d=_n._matrix.c*s.matB+_n._matrix.d*s.matD,_n._matrix.c=h,_n._matrix.tx*s.matA+_n._matrix.ty*s.matC+s.matTX);if(_n._matrix.ty=_n._matrix.tx*s.matB+_n._matrix.ty*s.matD+s.matTY,_n._matrix.tx=a,null!=s.computedRenderTarget){var o=!1,c=s.parent;if(null!=c)do{if(null!=c.asQuad&&c instanceof _n){var u=c;if(u.get_renderTexture()==s.computedRenderTarget){s=u.hitVisual,o=!0;break}}}while(null!=(c=c.parent));if(!o)return!1}else s=null}while(null!=s);var _=(l=_n._matrix).a*l.d-l.b*l.c;return 0==_?(l.a=l.b=l.c=l.d=0,l.tx=-l.tx,l.ty=-l.ty):(r=l.d*(_=1/_),l.d=l.a*_,l.a=r,l.b*=-_,l.c*=-_,a=-l.a*l.tx-l.c*l.ty,l.ty=-l.b*l.tx-l.d*l.ty,l.tx=a),l.changedDirty=!0,e.hitTest(n,t,_n._matrix)}return nt.matchedHitVisual=i,!1},set_width:function(e){return this.get_width()==e?e:(this.contentDirty=!0,ae.app.visualsContentDirty=!0,q.prototype.set_width.call(this,e))},set_height:function(e){return this.get_height()==e?e:(this.contentDirty=!0,ae.app.visualsContentDirty=!0,q.prototype.set_height.call(this,e))},computeContent:function(){this.updateRenderTextureAndContent(Math.ceil(this.get_width()),Math.ceil(this.get_height()),this.density,this.depthBuffer,this.stencil,this.antialiasing),this.contentDirty=!1},destroy:function(){var e;this._lifecycleState<=-2||(this._lifecycleState=-2,this.set_hitVisual(null),null!=this._texture&&this._set_texture(null),null==this.get_renderTexture()||null!=this.textureTilePacker&&this.textureTilePacker.managesTexture(this.get_renderTexture())||(this.get_renderTexture().destroy(),this.set_renderTexture(null)),this.set_textureTilePacker(null),this.set_renderTexture(null),null!=this.mesh&&(e=this.mesh,this.set_mesh(null),e.destroy()),this.set_neverEmpty(!1),this.explicitRenderPendingResultCallbacks=null,this.content=null,this._lifecycleState=-1,q.prototype.destroy.call(this))},unbindEvents:function(){q.prototype.unbindEvents.call(this),this.offObservedDirty(),this.offRenderTextureChange()},__class__:_n,__properties__:$extend(q.prototype.__properties__,{set_neverEmpty:"set_neverEmpty",set_density:"set_density",set_renderTexture:"set_renderTexture",get_renderTexture:"get_renderTexture",set_textureTilePacker:"set_textureTilePacker",set_explicitRender:"set_explicitRender",set_autoRender:"set_autoRender",set_antialiasing:"set_antialiasing",set_stencil:"set_stencil",set_depthBuffer:"set_depthBuffer",set_textureFilter:"set_textureFilter",set_enabled:"set_enabled",set_hitVisual:"set_hitVisual",set_mesh:"set_mesh",set_textureId:"set_textureId"})}),function(e,n,t){this.transformedPath=null,this.unobservedFont=null,this.fontAutoruns=null,this.pages=null,this.fontData=null,Fa.call(this,"font",e,n,t),this.set_handleTexturesDensityChange(!0),this.assets=new Oe}),bn=((E["ceramic.FontAsset"]=dn).__name__="ceramic.FontAsset",dn.__super__=Fa,dn.prototype=$extend(Fa.prototype,{__cbOnReplaceFont:null,__cbOnceReplaceFont:null,__cbOnOwnerUnbindReplaceFont:null,__cbOnceOwnerUnbindReplaceFont:null,emitReplaceFont:function(e,n){var t=0;if(null!=this.__cbOnReplaceFont&&(t+=this.__cbOnReplaceFont.length),null!=this.__cbOnceReplaceFont&&(t+=this.__cbOnceReplaceFont.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnReplaceFont)for(var r=0,h=this.__cbOnReplaceFont.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnReplaceFont[a],++s):--t}if(null!=this.__cbOnceReplaceFont){for(var o=null,c=null,r=0,h=this.__cbOnceReplaceFont.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceReplaceFont[a],this.__cbOnceReplaceFont[a]=null,u=this.__cbOnceOwnerUnbindReplaceFont[a],(this.__cbOnceOwnerUnbindReplaceFont[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindReplaceFont[a]),c.push(this.__cbOnceReplaceFont[a]))}this.__cbOnceOwnerUnbindReplaceFont=o,this.__cbOnceReplaceFont=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onReplaceFont:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event replaceFont because owner is destroyed!");var l=function(e){null!=t&&(i.offReplaceFont(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindReplaceFont&&(this.__cbOnOwnerUnbindReplaceFont=[]),this.__cbOnOwnerUnbindReplaceFont.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindReplaceFont&&(this.__cbOnOwnerUnbindReplaceFont=[]),this.__cbOnOwnerUnbindReplaceFont.push(null);null==this.__cbOnReplaceFont&&(this.__cbOnReplaceFont=[]),this.__cbOnReplaceFont.push(t)},onceReplaceFont:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event replaceFont because owner is destroyed!");var l=function(e){null!=t&&(i.offReplaceFont(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindReplaceFont&&(this.__cbOnceOwnerUnbindReplaceFont=[]),this.__cbOnceOwnerUnbindReplaceFont.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindReplaceFont&&(this.__cbOnceOwnerUnbindReplaceFont=[]),this.__cbOnceOwnerUnbindReplaceFont.push(null);null==this.__cbOnceReplaceFont&&(this.__cbOnceReplaceFont=[]),this.__cbOnceReplaceFont.push(t)},offReplaceFont:function(e){if(null!=e){var n;null!=this.__cbOnReplaceFont&&-1!=(n=this.__cbOnReplaceFont.indexOf(e))&&(this.__cbOnReplaceFont.splice(n,1),null!=(s=this.__cbOnOwnerUnbindReplaceFont[n])&&s(),this.__cbOnOwnerUnbindReplaceFont.splice(n,1)),null!=this.__cbOnceReplaceFont&&-1!=(n=this.__cbOnceReplaceFont.indexOf(e))&&(this.__cbOnceReplaceFont.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindReplaceFont[n])&&s(),this.__cbOnceOwnerUnbindReplaceFont.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindReplaceFont){for(var t=0,i=this.__cbOnOwnerUnbindReplaceFont.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindReplaceFont[l])&&s()}this.__cbOnOwnerUnbindReplaceFont=null}if(null!=this.__cbOnceOwnerUnbindReplaceFont){for(t=0,i=this.__cbOnceOwnerUnbindReplaceFont.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindReplaceFont[l])&&s()}this.__cbOnceOwnerUnbindReplaceFont=null}this.__cbOnReplaceFont=null,this.__cbOnceReplaceFont=null}},listensReplaceFont:function(){return null!=this.__cbOnReplaceFont&&0<this.__cbOnReplaceFont.length||null!=this.__cbOnceReplaceFont&&0<this.__cbOnceReplaceFont.length},fontData:null,pages:null,fontAutoruns:null,get_font:function(){var e,n,t=this.unobservedFont;return null!=A.current&&(e=A.current,null!=(n=this.fontAutoruns)||(n=A.getAutorunArray(),null!=(this.fontAutoruns=n)))&&e.bindToAutorunArray(n),t},set_font:function(e){var n=this.unobservedFont;return n!=(this.unobservedFont=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitFontChange(e,n),null!=(n=this.fontAutoruns))&&(this.fontAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateFont:function(){var e=this.unobservedFont,e=(this.emitFontChange(e,e),this.fontAutoruns);null!=e&&(this.fontAutoruns=null,A.invalidateAutorunArray(e))},unobservedFont:null,__cbOnFontChange:null,__cbOnceFontChange:null,__cbOnOwnerUnbindFontChange:null,__cbOnceOwnerUnbindFontChange:null,emitFontChange:function(e,n){var t=0;if(null!=this.__cbOnFontChange&&(t+=this.__cbOnFontChange.length),null!=this.__cbOnceFontChange&&(t+=this.__cbOnceFontChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnFontChange)for(var r=0,h=this.__cbOnFontChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnFontChange[a],++s):--t}if(null!=this.__cbOnceFontChange){for(var o=null,c=null,r=0,h=this.__cbOnceFontChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceFontChange[a],this.__cbOnceFontChange[a]=null,u=this.__cbOnceOwnerUnbindFontChange[a],(this.__cbOnceOwnerUnbindFontChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindFontChange[a]),c.push(this.__cbOnceFontChange[a]))}this.__cbOnceOwnerUnbindFontChange=o,this.__cbOnceFontChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onFontChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event fontChange because owner is destroyed!");var l=function(e){null!=t&&(i.offFontChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindFontChange&&(this.__cbOnOwnerUnbindFontChange=[]),this.__cbOnOwnerUnbindFontChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindFontChange&&(this.__cbOnOwnerUnbindFontChange=[]),this.__cbOnOwnerUnbindFontChange.push(null);null==this.__cbOnFontChange&&(this.__cbOnFontChange=[]),this.__cbOnFontChange.push(t)},onceFontChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event fontChange because owner is destroyed!");var l=function(e){null!=t&&(i.offFontChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindFontChange&&(this.__cbOnceOwnerUnbindFontChange=[]),this.__cbOnceOwnerUnbindFontChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindFontChange&&(this.__cbOnceOwnerUnbindFontChange=[]),this.__cbOnceOwnerUnbindFontChange.push(null);null==this.__cbOnceFontChange&&(this.__cbOnceFontChange=[]),this.__cbOnceFontChange.push(t)},offFontChange:function(e){if(null!=e){var n;null!=this.__cbOnFontChange&&-1!=(n=this.__cbOnFontChange.indexOf(e))&&(this.__cbOnFontChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindFontChange[n])&&s(),this.__cbOnOwnerUnbindFontChange.splice(n,1)),null!=this.__cbOnceFontChange&&-1!=(n=this.__cbOnceFontChange.indexOf(e))&&(this.__cbOnceFontChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindFontChange[n])&&s(),this.__cbOnceOwnerUnbindFontChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindFontChange){for(var t=0,i=this.__cbOnOwnerUnbindFontChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindFontChange[l])&&s()}this.__cbOnOwnerUnbindFontChange=null}if(null!=this.__cbOnceOwnerUnbindFontChange){for(t=0,i=this.__cbOnceOwnerUnbindFontChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindFontChange[l])&&s()}this.__cbOnceOwnerUnbindFontChange=null}this.__cbOnFontChange=null,this.__cbOnceFontChange=null}},listensFontChange:function(){return null!=this.__cbOnFontChange&&0<this.__cbOnFontChange.length||null!=this.__cbOnceFontChange&&0<this.__cbOnceFontChange.length},transformedPath:null,load:function(){for(var _,e,d=this,b=(null!=this.owner&&(this.assets.inheritRuntimeAssetsFromAssets(this.owner),this.assets.loadMethod=this.owner.loadMethod,this.assets.scheduleMethod=this.owner.scheduleMethod,this.assets.delayBetweenXAssets=this.owner.delayBetweenXAssets),[]),g=this.assets.iterator();g.hasNext();){var n=g.next();b.push(n)}this.set_status(Me.LOADING),null==this.path?(ae.app.logger.warning("Cannot load font asset if path is undefined.",{fileName:"../../../../ceramic/runtime/src/ceramic/FontAsset.hx",lineNumber:113,className:"ceramic.FontAsset",methodName:"load"}),this.set_status(Me.BROKEN),this.emitComplete(!1)):(e=(_=this.path).toLowerCase(),(z.endsWith(e,".ttf")||z.endsWith(e,".otf"))&&(_=_.substring(0,_.length-4)+".fnt"),ae.app.logger.info("Load font "+_,{fileName:"../../../../ceramic/runtime/src/ceramic/FontAsset.hx",lineNumber:128,className:"ceramic.FontAsset",methodName:"load"}),null!=this.transformedPath&&(_=Nn.join([this.transformedPath,_])),this.assets.runtimeAssets=this.runtimeAssets,(g=new ft(this.name)).set_handleTexturesDensityChange(!1),g.set_path(_),this.assets.addAsset(g),this.assets.onceComplete(this,function(e){var n=g.get_text(),o=Nn.directory(_);if(""==o&&(o="."),null!=n)try{for(var t=Nn.withoutExtension(Nn.withoutDirectory(_))+".png",c=(d.fontData=Ya.parse(n,t),d.fontData.path=o,new Nl),u=[],i=0,l=d.fontData.pages;i<l.length;){var s=l[i],r=(++i,s.file),h=(""!=o&&(r=Nn.join([o,r])),Oe.decodePath(r)),a=new fn(h.name);a.set_handleTexturesDensityChange(!1),a.set_path(h.path),d.assets.addAsset(a),u.push(a)}d.assets.onceComplete(d,function(e){if(e){if(d.fontData.needsReparsing&&null!=d.fontData.rawFontData&&0<u.length){e=u[0].get_texture();if(null!=e){var e=Math.round(e.width),n=Nn.withoutExtension(Nn.withoutDirectory(_))+".png";try{d.fontData=Ya.parse(d.fontData.rawFontData,n,e),d.fontData.path=o}catch(t){Sl.lastError=t;n=$.caught(t).unwrap();ae.app.logger.error("Failed to re-parse Construct 3 font with image width: "+K.string(n),{fileName:"../../../../ceramic/runtime/src/ceramic/FontAsset.hx",lineNumber:195,className:"ceramic.FontAsset",methodName:"load"})}}}for(var t=0;t<u.length;){var i=u[t],l=(++t,i.path),s=i.get_texture();c.h[l]=s}var r=d.get_font(),e=new Ta(d.fontData,c);if(e.id="font:"+d.path,(e.asset=d).set_font(e),null!=r){d.emitReplaceFont(d.get_font(),r),r==ae.app.defaultFont&&(ae.app.defaultFont=d.get_font());for(var t=0,h=[].concat(ae.app.visuals);t<h.length;){var a=h[t];++t,0<=a._lifecycleState&&a instanceof gt&&(a=a).font==r&&a.set_font(d.get_font())}r.asset=null,r.destroy()}for(t=0;t<b.length;){i=b[t];++t,i instanceof fn&&-1!=u.indexOf(i)||i.destroy()}d.set_status(Me.READY),d.emitComplete(!0),d.handleTexturesDensityChange&&d.checkTexturesDensity()}else d.set_status(Me.BROKEN),ae.app.logger.error("Failed to load textures for font at path: "+d.path,{fileName:"../../../../ceramic/runtime/src/ceramic/FontAsset.hx",lineNumber:267,className:"ceramic.FontAsset",methodName:"load"}),d.emitComplete(!1)}),d.assets.load(null,{fileName:"../../../../ceramic/runtime/src/ceramic/FontAsset.hx",lineNumber:273,className:"ceramic.FontAsset",methodName:"load"})}catch(i){Sl.lastError=i,d.set_status(Me.BROKEN),ae.app.logger.error("Failed to decode font data at path: "+d.path,{fileName:"../../../../ceramic/runtime/src/ceramic/FontAsset.hx",lineNumber:277,className:"ceramic.FontAsset",methodName:"load"}),d.emitComplete(!1)}else d.set_status(Me.BROKEN),ae.app.logger.error("Failed to load font data at path: "+d.path,{fileName:"../../../../ceramic/runtime/src/ceramic/FontAsset.hx",lineNumber:283,className:"ceramic.FontAsset",methodName:"load"}),d.emitComplete(!1)}),this.assets.load(null,{fileName:"../../../../ceramic/runtime/src/ceramic/FontAsset.hx",lineNumber:288,className:"ceramic.FontAsset",methodName:"load"}))},texturesDensityDidChange:function(e,n){this.get_status()==Me.READY&&this.checkTexturesDensity()},checkTexturesDensity:function(){var e;null!=this.owner&&this.owner.reloadOnTextureDensityChange&&(e=this.path,this.computePath(),e!=this.path)&&(ae.app.logger.info("Reload font ("+e+" -> "+this.path+")",{fileName:"../../../../ceramic/runtime/src/ceramic/FontAsset.hx",lineNumber:316,className:"ceramic.FontAsset",methodName:"checkTexturesDensity"}),this.load())},assetFilesDidChange:function(e,n){var h=this,t=-1,n=(Object.prototype.hasOwnProperty.call(n.h,this.path)&&(t=n.h[this.path]),-1);(n=Object.prototype.hasOwnProperty.call(e.h,this.path)?e.h[this.path]:n)!=t&&(ae.app.logger.info("Reload font (file has changed)",{fileName:"../../../../ceramic/runtime/src/ceramic/FontAsset.hx",lineNumber:341,className:"ceramic.FontAsset",methodName:"assetFilesDidChange"}),e=this.path.toLowerCase(),null!=(null!=(n=this.owner)?n.runtimeAssets:null)&&z.endsWith(e,".ttf")||z.endsWith(e,".otf")?(this.path,this.owner.runtimeAssets.requestTransformedDir(function(r){Yn.runCeramic(["assets","--filter",h.path,"--from",h.owner.runtimeAssets.path,"--to",r,"--list-changed"],function(e,n,t){if(0==e){h.transformedPath=r;for(var i=JSON.parse(z.trim(n)),l=0;l<i.length;){var s=i[l];++l,ae.app.logger.debug("Updated on the fly: "+s,{fileName:"../../../../ceramic/runtime/src/ceramic/FontAsset.hx",lineNumber:359,className:"ceramic.FontAsset",methodName:"assetFilesDidChange"}),Oe.incrementReloadCount(s)}h.load()}})})):this.load())},destroy:function(){if(!(this._lifecycleState<=-2)&&(this._lifecycleState=-2,this._lifecycleState=-1,Fa.prototype.destroy.call(this),null!=this.get_font()&&(this.get_font().destroy(),this.set_font(null)),null!=this.pages)){for(var e=this.pages.h,n=Object.keys(e),t=n.length,i=0;i<t;){var l=n[i++];this.pages.h[l].destroy()}this.pages=null}},unbindEvents:function(){Fa.prototype.unbindEvents.call(this),this.offReplaceFont(),this.offFontChange()},__class__:dn,__properties__:$extend(Fa.prototype.__properties__,{set_font:"set_font",get_font:"get_font"})}),(E["ceramic.Value"]=X0).__name__="ceramic.Value",X0.prototype={value:null,__class__:X0},(E["ceramic.Fragment"]=Y0).__name__="ceramic.Fragment",Y0.cacheData=function(e){Y0.cachedFragmentData.h[e.id]=e},Y0.getData=function(e){return Y0.cachedFragmentData.h[e]},Y0.__super__=q,Y0.prototype=$extend(q.prototype,{assets:null,entities:null,items:null,tracks:null,fps:null,fragmentData:null,resizable:null,autoUpdateTimeline:null,set_autoUpdateTimeline:function(e){return this.autoUpdateTimeline!=e&&(this.autoUpdateTimeline=e,null!=this.timeline)&&this.timeline.set_autoUpdate(e),e},pendingLoads:null,timeline:null,ready:null,__cbOnReady:null,__cbOnceReady:null,__cbOnOwnerUnbindReady:null,__cbOnceOwnerUnbindReady:null,emitReady:function(){this.willEmitReady();var e=0;if(null!=this.__cbOnReady&&(e+=this.__cbOnReady.length),null!=this.__cbOnceReady&&(e+=this.__cbOnceReady.length),0<e){var n=C.pool(e),t=n.get(),i=0;if(null!=this.__cbOnReady)for(var l=0,s=this.__cbOnReady.length;l<s;){var r=l++;!0?(t.vector[i]=this.__cbOnReady[r],++i):--e}if(null!=this.__cbOnceReady){for(var h=null,a=null,l=0,s=this.__cbOnceReady.length;l<s;){var o,r=l++;!0?(t.vector[i]=this.__cbOnceReady[r],this.__cbOnceReady[r]=null,o=this.__cbOnceOwnerUnbindReady[r],(this.__cbOnceOwnerUnbindReady[r]=null)!=o&&o(),++i):(--e,null==h&&(h=[],a=[],0),h.push(this.__cbOnceOwnerUnbindReady[r]),a.push(this.__cbOnceReady[r]))}this.__cbOnceOwnerUnbindReady=h,this.__cbOnceReady=a}for(l=0,s=e;l<s;){i=l++;(0,t.vector[i])()}n.release(t)}},onReady:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event ready because owner is destroyed!");var l=function(e){null!=t&&(i.offReady(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindReady&&(this.__cbOnOwnerUnbindReady=[]),this.__cbOnOwnerUnbindReady.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindReady&&(this.__cbOnOwnerUnbindReady=[]),this.__cbOnOwnerUnbindReady.push(null);null==this.__cbOnReady&&(this.__cbOnReady=[]),this.__cbOnReady.push(t)},onceReady:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event ready because owner is destroyed!");var l=function(e){null!=t&&(i.offReady(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindReady&&(this.__cbOnceOwnerUnbindReady=[]),this.__cbOnceOwnerUnbindReady.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindReady&&(this.__cbOnceOwnerUnbindReady=[]),this.__cbOnceOwnerUnbindReady.push(null);null==this.__cbOnceReady&&(this.__cbOnceReady=[]),this.__cbOnceReady.push(t)},offReady:function(e){if(null!=e){var n;null!=this.__cbOnReady&&-1!=(n=this.__cbOnReady.indexOf(e))&&(this.__cbOnReady.splice(n,1),null!=(s=this.__cbOnOwnerUnbindReady[n])&&s(),this.__cbOnOwnerUnbindReady.splice(n,1)),null!=this.__cbOnceReady&&-1!=(n=this.__cbOnceReady.indexOf(e))&&(this.__cbOnceReady.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindReady[n])&&s(),this.__cbOnceOwnerUnbindReady.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindReady){for(var t=0,i=this.__cbOnOwnerUnbindReady.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindReady[l])&&s()}this.__cbOnOwnerUnbindReady=null}if(null!=this.__cbOnceOwnerUnbindReady){for(t=0,i=this.__cbOnceOwnerUnbindReady.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindReady[l])&&s()}this.__cbOnceOwnerUnbindReady=null}this.__cbOnReady=null,this.__cbOnceReady=null}},listensReady:function(){return null!=this.__cbOnReady&&0<this.__cbOnReady.length||null!=this.__cbOnceReady&&0<this.__cbOnceReady.length},scheduleWhenReady:function(e,n){this.ready?n():this.onceReady(e,n)},willEmitReady:function(){this.ready=!0},set_fragmentData:function(e){var n,t=this,i=(this.pendingLoads++,this.fragmentData=e,Object.create(null));if(null!=e&&(this.set_width(e.width),this.set_height(e.height),null!=e.color?this.color=e.color:this.color=0,null!=e.transparent?(n=e.transparent,this.flags=n?16|this.flags:-17&this.flags):this.flags|=16,null!=e.items))for(var l=0,s=e.items;l<s.length;){var r=s[l];++l,this.putItem(r),i[r.id]=!0}if(null==e||Object.prototype.hasOwnProperty.call(e,"items")){for(var h=null,l=0,s=this.entities;l<s.length;){var a=s[l];++l,Object.prototype.hasOwnProperty.call(i,a.id)||(h=null==h?[]:h).push(a.id)}if(null!=h)for(l=0;l<h.length;){var o=h[l];++l,this.removeItem(o)}}null!=e&&(this.pendingLoads++,ae.app.converters.h["ceramic.ReadOnlyMap<String,ceramic.Component>"].basicToField(this,"components",this.assets,e.components,function(e){t._lifecycleState<0||(t.pendingLoads--,t.onceReady(t,function(){t.set_fragmentComponents(e)}),0==t.pendingLoads&&t.emitReady())})),null!=e&&null!=e.fps&&this.set_fps(e.fps);var c=null;if(null!=e&&null!=e.tracks){for(l=0,s=e.tracks;l<s.length;){var u=s[l];++l,(c=null==c?new Nl:c).h[u.entity+"#"+u.field]=!0,this.putTrack(null,u)}if(null!=this.timeline&&0<this.timeline.tracks.length)for(l=0,s=[].concat(this.timeline.tracks);l<s.length;){var _,d=s[l];++l,null!=c&&Object.prototype.hasOwnProperty.call(c.h,d.id)||(2==(_=d.id.split("#")).length?this.removeTrack(_[0],_[1]):ae.app.logger.warning("Cannot remove track with unhandled id: "+d.id,{fileName:"../../../../ceramic/runtime/src/ceramic/Fragment.hx",lineNumber:314,className:"ceramic.Fragment",methodName:"set_fragmentData"}))}}var b=null;if(null!=e&&null!=e.labels){for(var g=e.labels,l=0,s=L.fields(g);l<s.length;){var O=s[l],f=(++l,(b=null==b?new Nl:b).h[O]=!0,g[O]);this.putLabel(f,O)}if(null!=this.timeline&&null!=this.timeline.labels)for(l=0,s=[].concat(this.timeline.labels);l<s.length;){var p=s[l];++l,null!=b&&Object.prototype.hasOwnProperty.call(b.h,p)||this.timeline.removeLabel(p)}}return this.pendingLoads--,0==this.pendingLoads&&this.emitReady(),e},set_fps:function(e){if(this.fps!=e&&(this.fps=e,null!=this.timeline&&(this.timeline.fps=e),null!=this.tracks))for(var n=0,t=this.tracks;n<t.length;){var i=t[n];++n,this.putTrack(null,i)}return e},putItem:function(e){var n,t=this._get(e.id),i=!1,l=(null!=t?(i=t instanceof o,s=Os.getClass(t),e.entity!=s.__name__&&(this.removeItem(e.id),t=null)):this.items.push(e),e.entity),s=E[l],r=null!=t?t:null,h="ceramic.Fragment"==e.entity;if(null==r&&(n=[],h&&(n.push(this.assets),n.push(!1)),r=B.createInstance(s,n)),null==r)throw $.thrown("Failed to create instance of "+e.entity);if(r.id=e.id,h&&r.set_depthRange(1),null!=e.props){for(var a=L.fields(e.props),c=(Rl.sort(a,function(e,n){return 0}),0);c<a.length;){var u=a[c],_=(++c,this.typeOfItemField(e,u)),d=L.field(e.props,u);if(null!=(m=null!=_?ae.app.converters.h[_]:null))this.putItemField(h,e,r,u,d,m);else{if(!Object.prototype.hasOwnProperty.call(Y0.basicTypes.h,_)){var b=_e[_];if(null!=b){for(var g=0,O=b.__constructs__,f=new Array(O.length),p=0,C=O.length;p<C;){var v=p++;f[v]=O[v]._hx_name}for(var w=f;g<w.length;){l=w[g];if(++g,l.toLowerCase()==d.toLowerCase()){d=B.createEnum(b,l);break}}}}L.setProperty(r,u,d)}}var m,_=this.typeOfItemField(e,"components"),d=e.components;null!=(m=null!=_?ae.app.converters.h[_]:null)?this.putItemField(h,e,r,"components",d,m):ae.app.logger.warning("No converter found for field: components (type: "+_+")",{fileName:"../../../../ceramic/runtime/src/ceramic/Fragment.hx",lineNumber:475,className:"ceramic.Fragment",methodName:"putItem"})}return null==t&&("ceramic.Assets"==this.typeOfItemField(e,"assets")&&L.setProperty(r,"assets",this.assets),this.entities.push(r)),r instanceof o&&!i&&this.add(r),null==t&&this.putTracksForItem(e.id),r},typeOfItemField:function(e,n){return null!=e.schema?L.field(e.schema,n):on.typeOf(e.entity,n)},putItemField:function(n,e,a,t,i,l){var s=this;this.pendingLoads++,l.basicToField(a,t,this.assets,i,function(h){var e;s.pendingLoads--,s._lifecycleState<0||(0<=a._lifecycleState&&(n&&"fragmentData"==t?(e=a,s.pendingLoads++,e.onceReady(s,function(){s.pendingLoads--,s._lifecycleState<0||0==s.pendingLoads&&s.emitReady()}),e.set_fragmentData(h)):"components"!=t?L.setProperty(a,t,h):s.onceReady(s,function(){var e;if(null!=h&&null!=(e=h))for(var n=e.h,t=Object.keys(n),i=t.length,l=0;l<i;){var s=t[l++],r=e.h[s];null!=r&&a.component(s,r)}})),0==s.pendingLoads&&s.emitReady())})},_get:function(e){for(var n=0,t=this.entities;n<t.length;){var i=t[n];if(++n,i.id==e)return i}return null},_getWithType:function(e,n){e=this._get(e);return null!=e?e:null},getItemInstanceByName:function(e){for(var n=0,t=this.entities;n<t.length;){var i=t[n];if(++n,i.id==e)return i}return null},getItem:function(e){for(var n=0,t=this.items;n<t.length;){var i=t[n];if(++n,i.id==e)return i}return null},getItemByName:function(e){for(var n=0,t=this.items;n<t.length;){var i=t[n];if(++n,i.name==e)return i}return null},typeOfItem:function(e){var n=this.getItem(e);return null!=n?n.entity:(ae.app.logger.warning("Failed to resolve entity type for item "+e,{fileName:"../../../../ceramic/runtime/src/ceramic/Fragment.hx",lineNumber:711,className:"ceramic.Fragment",methodName:"typeOfItem"}),null)},removeItem:function(e){for(var n=0,t=this.entities;n<t.length;){var i=t[n];if(++n,i.id==e){he.remove(this.entities,i),i.destroy();break}}for(n=0,t=this.items;n<t.length;){var l=t[n];if(++n,l.id==e){he.remove(this.items,l);break}}},removeAllItems:function(){for(var e=0,n=[].concat(this.entities);e<n.length;){var t=n[e];++e,he.remove(this.entities,t),t.destroy()}for(e=0,n=[].concat(this.items);e<n.length;){var i=n[e];++e,he.remove(this.items,i)}},destroy:function(){this._lifecycleState<=-2||(this._lifecycleState=-2,this._lifecycleState=-1,q.prototype.destroy.call(this),null!=this.timeline&&(this.timeline.destroy(),this.timeline=null),this.removeAllItems())},set_components:function(e){if(this._components!=e){if(null!=this._components){l=this._components.h;for(var n=(s=Object.keys(l)).length,t=0;t<n;){var i=s[t++];null!=e&&Object.prototype.hasOwnProperty.call(e.h,i)||null!=this.fragmentComponents&&Object.prototype.hasOwnProperty.call(this.fragmentComponents.h,i)||this.removeComponent(i)}}if(null!=e){l=e.h;for(var l,s,n=(s=Object.keys(l)).length,t=0;t<n;){var r,i=s[t++],h=e.h[i];null!=this._components&&null!=(r=this._components.h[i])?r!=h&&(this.removeComponent(i),this.component(i,h)):this.component(i,h)}}this._components=e}return e},fragmentComponents:null,set_fragmentComponents:function(e){if(this.fragmentComponents!=e){if(null!=this.fragmentComponents){l=this.fragmentComponents.h;for(var n=(s=Object.keys(l)).length,t=0;t<n;){var i=s[t++];null!=e&&Object.prototype.hasOwnProperty.call(e.h,i)||this.removeComponent(i)}}if(null!=e){l=e.h;for(var l,s,n=(s=Object.keys(l)).length,t=0;t<n;){var r,i=s[t++],h=e.h[i];null!=this.fragmentComponents&&null!=(r=this.fragmentComponents.h[i])?r!=h&&(this.removeComponent(i),this.component(i,h)):this.component(i,h)}}this.fragmentComponents=e}return e},isManagedComponent:function(){},putTrack:function(e,n){var t=null;if(null==(p=this.getTrack(n.entity,n.field)))null==this.tracks&&(this.tracks=[]),this.tracks.push(n);else{for(var t=new Ll,i=0,l=p.keyframes;i<l.length;){var s=l[i];++i,t.h[s.index]=!0}var r=this.tracks.indexOf(p);this.tracks[r]=n}var r=n.entity,h=this._get(r);if(null!=n.keyframes&&0<n.keyframes.length){this.createTimelineIfNeeded();var a=n.field,o=r+"#"+a,c=n.options;if(null==(e=null==e?this.typeOfItem(n.entity):e))ae.app.logger.warning("Cannot update timeline track "+o+": failed to resolve entity type",{fileName:"../../../../ceramic/runtime/src/ceramic/Fragment.hx",lineNumber:940,className:"ceramic.Fragment",methodName:"putTrack"});else{var r=on.types(e),u=null!=r?r.h[a]:null;if(null==u)ae.app.logger.warning("Cannot update timeline track "+o+": failed to resolve info for "+a+" of entity type "+e,{fileName:"../../../../ceramic/runtime/src/ceramic/Fragment.hx",lineNumber:947,className:"ceramic.Fragment",methodName:"putTrack"});else{var _=this.timeline.get(o);if(null==_){if(null==h)return void ae.app.logger.warning("Failed to create timeline track "+o+" because there is no entity with id "+n.entity,{fileName:"../../../../ceramic/runtime/src/ceramic/Fragment.hx",lineNumber:955,className:"ceramic.Fragment",methodName:"putTrack"});if(Y0._trackResult.value=null,ae.app.timelines.emitCreateTrack(u,c,Y0._trackResult),null==(_=Y0._trackResult.value))return void ae.app.logger.warning("Failed to create timeline track "+o+" for "+a+" of entity type "+e,{fileName:"../../../../ceramic/runtime/src/ceramic/Fragment.hx",lineNumber:963,className:"ceramic.Fragment",methodName:"putTrack"});h.onDestroy(_,function(e){_.destroy()}),_.id=o,ae.app.timelines.emitBindTrack(u,c,_,h,a),this.timeline.add(_)}if(_.loop=n.loop,0<Y0._usedKeyframes.length){for(i=0,l=Y0._usedKeyframes.length;i<l;){var d=i++;Y0._usedKeyframes[d]=null}if(0!=(y=Y0._usedKeyframes).length)if(0<y.length)y.splice(0,y.length);else for(var b=y;b.length<0;)b.push(null)}for(var g=-1,O=!0,i=0,l=n.keyframes;i<l.length;){var s=l[i],f=(++i,s.index),p=(f<g&&(O=!1),_.findKeyframeAtIndex(g=f));if(Y0._keyframeResult.value=null,ae.app.timelines.emitCreateKeyframe(u,c,s.value,f,K0.easingFromString(s.easing),p,Y0._keyframeResult),null==(m=Y0._keyframeResult.value))return void ae.app.logger.warning("Failed to create or update keyframe #"+K.string($bind(this,this.frame))+" of track "+o+" for field "+a+" of entity type "+e,{fileName:"../../../../ceramic/runtime/src/ceramic/Fragment.hx",lineNumber:1020,className:"ceramic.Fragment",methodName:"putTrack"});Y0._usedKeyframes.push(m),null!=p?p!=m&&(_.remove(p),_.add(m)):_.add(m)}var C=null,v=_.keyframes;if(O)for(var w=0,i=0,l=v.length;i<l;){var m=v[d=i++];Y0._usedKeyframes[w]==m?++w:(C=null==C?[]:C).push(m)}else{ae.app.logger.warning("Input keyframe array should be sorted by time in ascending order!",{fileName:"../../../../ceramic/runtime/src/ceramic/Fragment.hx",lineNumber:1050,className:"ceramic.Fragment",methodName:"putTrack"});for(i=0,l=v.length;i<l;){m=v[d=i++];-1==Y0._usedKeyframes.indexOf(m)&&(C=null==C?[]:C).push(m)}}if(null!=C){for(i=0;i<C.length;){m=C[i];++i,_.remove(m)}C=null}if(0<Y0._usedKeyframes.length){for(var y,i=0,l=Y0._usedKeyframes.length;i<l;){d=i++;Y0._usedKeyframes[d]=null}if(0!=(y=Y0._usedKeyframes).length)if(0<y.length)y.splice(0,y.length);else for(b=y;b.length<0;)b.push(null)}_.apply()}}}},putTracksForItem:function(e){if(null!=this.tracks)for(var n=0,t=this.tracks.length;n<t;){var i=n++,i=this.tracks[i];i.entity==e&&this.putTrack(null,i)}},getTrack:function(e,n){if(null!=this.tracks)for(var t=0,i=this.tracks;t<i.length;){var l=i[t];if(++t,l.entity==e&&l.field==n)return l}return null},removeTrack:function(e,n){if(null!=this.tracks){for(var t,i=-1,l=0,s=this.tracks.length;l<s;){var r=l++,h=this.tracks[r];if(h.entity==e&&h.field==n){i=r;break}}-1!=i&&(this.tracks.splice(i,1),null!=this.timeline)&&null!=(t=this.timeline.get(e+"#"+n))&&(this.timeline.remove(t),t.destroy())}},createTimelineIfNeeded:function(){null==this.timeline&&(this.timeline=new Nt,this.timeline.fps=this.fps,this.timeline.set_autoUpdate(this.autoUpdateTimeline))},putLabel:function(e,n){this.createTimelineIfNeeded(),this.timeline.setLabel(e,n)},indexOfLabel:function(e){return null!=this.timeline?this.timeline.indexOfLabel(e):-1},labelAtIndex:function(e){return null!=this.timeline?this.timeline.labelAtIndex(e):null},removeLabel:function(e){null!=this.timeline&&this.timeline.removeLabel(e)},removeLabelAtIndex:function(e){null!=this.timeline&&this.timeline.removeLabelAtIndex(e)},get_paused:function(){return null!=this.timeline&&this.timeline.paused},set_paused:function(e){return(null!=this.timeline&&this.timeline.paused)!=e&&(this.createTimelineIfNeeded(),this.timeline.set_paused(e)),e},unbindEvents:function(){q.prototype.unbindEvents.call(this),this.offReady()},__class__:Y0,__properties__:$extend(q.prototype.__properties__,{set_paused:"set_paused",get_paused:"get_paused",set_fragmentComponents:"set_fragmentComponents",set_autoUpdateTimeline:"set_autoUpdateTimeline",set_fragmentData:"set_fragmentData",set_fps:"set_fps"})}),function(e,n,t){this.unobservedFragments=null,this.fragmentsAutoruns=null,Fa.call(this,"fragments",e,n,t)}),gn=((E["ceramic.FragmentsAsset"]=bn).__name__="ceramic.FragmentsAsset",bn.fromRawFragments=function(e){var n={},t=0|e.version;if(1==t){var i=e.fragments;if(null!=i)for(var l=0;l<i.length;){var s=i[l],r=(++l,s.data),h=s.components,r={id:s.id,data:null!=r?r:{},width:s.width,height:s.height,components:null!=h?h:{}},a=(Object.prototype.hasOwnProperty.call(s,"color")&&(r.color=P.fromString(s.color)),Object.prototype.hasOwnProperty.call(s,"transparent")&&(r.transparent=1==s.transparent),e.schema),o=[];if(Object.prototype.hasOwnProperty.call(s,"visuals"))for(var c=s.visuals,u=0;u<c.length;){for(var _=c[u],d=(++u,_.data),b=_.components,g={id:_.id,data:null!=d?d:{},entity:_.entity,components:null!=b?b:{},props:{}},O=0,f=L.fields(_);O<f.length;){var p=f[O];switch(++O,p){case"components":case"data":case"id":case"kind":case"locked":break;case"entity":var C=L.field(_,p);null!=a&&null!=C&&Object.prototype.hasOwnProperty.call(a,C)&&(g.schema=L.field(a,C));break;default:g.props[p]=L.field(_,p)}}o.push(g)}if(Object.prototype.hasOwnProperty.call(s,"entities"))for(var v=s.entities,w=0;w<v.length;){for(var m=v[w],y=(++w,m.data),U=m.components,T={id:m.id,data:null!=y?y:{},entity:m.entity,components:null!=U?U:{},props:{}},D=0,x=L.fields(m);D<x.length;){var S=x[D];switch(++D,S){case"components":case"data":case"id":case"kind":case"locked":break;case"entity":var A=L.field(m,S);null!=a&&null!=A&&Object.prototype.hasOwnProperty.call(a,A)&&(T.schema=L.field(a,A));break;default:T.props[S]=L.field(m,S)}}o.push(T)}r.items=o,n[r.id]=r}}else ae.app.logger.warning("Unsupported fragments file version: "+t,{fileName:"../../../../ceramic/runtime/src/ceramic/FragmentsAsset.hx",lineNumber:267,className:"ceramic.FragmentsAsset",methodName:"fromRawFragments"});return n},bn.__super__=Fa,bn.prototype=$extend(Fa.prototype,{fragmentsAutoruns:null,get_fragments:function(){var e,n,t=this.unobservedFragments;return null!=A.current&&(e=A.current,null!=(n=this.fragmentsAutoruns)||(n=A.getAutorunArray(),null!=(this.fragmentsAutoruns=n)))&&e.bindToAutorunArray(n),t},set_fragments:function(e){var n=this.unobservedFragments;return n!=(this.unobservedFragments=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitFragmentsChange(e,n),null!=(n=this.fragmentsAutoruns))&&(this.fragmentsAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateFragments:function(){var e=this.unobservedFragments,e=(this.emitFragmentsChange(e,e),this.fragmentsAutoruns);null!=e&&(this.fragmentsAutoruns=null,A.invalidateAutorunArray(e))},unobservedFragments:null,__cbOnFragmentsChange:null,__cbOnceFragmentsChange:null,__cbOnOwnerUnbindFragmentsChange:null,__cbOnceOwnerUnbindFragmentsChange:null,emitFragmentsChange:function(e,n){var t=0;if(null!=this.__cbOnFragmentsChange&&(t+=this.__cbOnFragmentsChange.length),null!=this.__cbOnceFragmentsChange&&(t+=this.__cbOnceFragmentsChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnFragmentsChange)for(var r=0,h=this.__cbOnFragmentsChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnFragmentsChange[a],++s):--t}if(null!=this.__cbOnceFragmentsChange){for(var o=null,c=null,r=0,h=this.__cbOnceFragmentsChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceFragmentsChange[a],this.__cbOnceFragmentsChange[a]=null,u=this.__cbOnceOwnerUnbindFragmentsChange[a],(this.__cbOnceOwnerUnbindFragmentsChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindFragmentsChange[a]),c.push(this.__cbOnceFragmentsChange[a]))}this.__cbOnceOwnerUnbindFragmentsChange=o,this.__cbOnceFragmentsChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onFragmentsChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event fragmentsChange because owner is destroyed!");var l=function(e){null!=t&&(i.offFragmentsChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindFragmentsChange&&(this.__cbOnOwnerUnbindFragmentsChange=[]),this.__cbOnOwnerUnbindFragmentsChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindFragmentsChange&&(this.__cbOnOwnerUnbindFragmentsChange=[]),this.__cbOnOwnerUnbindFragmentsChange.push(null);null==this.__cbOnFragmentsChange&&(this.__cbOnFragmentsChange=[]),this.__cbOnFragmentsChange.push(t)},onceFragmentsChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event fragmentsChange because owner is destroyed!");var l=function(e){null!=t&&(i.offFragmentsChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindFragmentsChange&&(this.__cbOnceOwnerUnbindFragmentsChange=[]),this.__cbOnceOwnerUnbindFragmentsChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindFragmentsChange&&(this.__cbOnceOwnerUnbindFragmentsChange=[]),this.__cbOnceOwnerUnbindFragmentsChange.push(null);null==this.__cbOnceFragmentsChange&&(this.__cbOnceFragmentsChange=[]),this.__cbOnceFragmentsChange.push(t)},offFragmentsChange:function(e){if(null!=e){var n;null!=this.__cbOnFragmentsChange&&-1!=(n=this.__cbOnFragmentsChange.indexOf(e))&&(this.__cbOnFragmentsChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindFragmentsChange[n])&&s(),this.__cbOnOwnerUnbindFragmentsChange.splice(n,1)),null!=this.__cbOnceFragmentsChange&&-1!=(n=this.__cbOnceFragmentsChange.indexOf(e))&&(this.__cbOnceFragmentsChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindFragmentsChange[n])&&s(),this.__cbOnceOwnerUnbindFragmentsChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindFragmentsChange){for(var t=0,i=this.__cbOnOwnerUnbindFragmentsChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindFragmentsChange[l])&&s()}this.__cbOnOwnerUnbindFragmentsChange=null}if(null!=this.__cbOnceOwnerUnbindFragmentsChange){for(t=0,i=this.__cbOnceOwnerUnbindFragmentsChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindFragmentsChange[l])&&s()}this.__cbOnceOwnerUnbindFragmentsChange=null}this.__cbOnFragmentsChange=null,this.__cbOnceFragmentsChange=null}},listensFragmentsChange:function(){return null!=this.__cbOnFragmentsChange&&0<this.__cbOnFragmentsChange.length||null!=this.__cbOnceFragmentsChange&&0<this.__cbOnceFragmentsChange.length},load:function(){var e,n,t,i=this;this.set_status(Me.LOADING),null==this.path?(ae.app.logger.warning("Cannot load fragments asset if path is undefined.",{fileName:"../../../../ceramic/runtime/src/ceramic/FragmentsAsset.hx",lineNumber:86,className:"ceramic.FragmentsAsset",methodName:"load"}),this.set_status(Me.BROKEN),this.emitComplete(!1)):(e=this.path,n=Oe.realAssetPath(e,this.runtimeAssets),0<(t=Oe.getReloadCount(n))&&(n+="?hot="+t,e+="?hot="+t),t={},null!=this.owner&&(t.immediate=this.owner.immediate,t.loadMethod=this.owner.loadMethod),ae.app.logger.info("Load fragments "+e,{fileName:"../../../../ceramic/runtime/src/ceramic/FragmentsAsset.hx",lineNumber:107,className:"ceramic.FragmentsAsset",methodName:"load"}),ae.app.backend.texts.load(n,t,function(e){if(null!=e){try{var n=JSON.parse(e);Object.prototype.hasOwnProperty.call(n,"version")?i.set_fragments(bn.fromRawFragments(n)):i.set_fragments(n)}catch(e){return Sl.lastError=e,i.set_status(Me.BROKEN),ae.app.logger.error("Failed to parse fragments at path: "+i.path,{fileName:"../../../../ceramic/runtime/src/ceramic/FragmentsAsset.hx",lineNumber:121,className:"ceramic.FragmentsAsset",methodName:"load"}),void i.emitComplete(!1)}i.set_status(Me.READY),i.emitComplete(!0)}else i.set_status(Me.BROKEN),ae.app.logger.error("Failed to load fragments at path: "+i.path,{fileName:"../../../../ceramic/runtime/src/ceramic/FragmentsAsset.hx",lineNumber:130,className:"ceramic.FragmentsAsset",methodName:"load"}),i.emitComplete(!1)}))},assetFilesDidChange:function(e,n){var t=-1,n=(Object.prototype.hasOwnProperty.call(n.h,this.path)&&(t=n.h[this.path]),-1);(n=Object.prototype.hasOwnProperty.call(e.h,this.path)?e.h[this.path]:n)!=t&&(ae.app.logger.info("Reload fragments (file has changed)",{fileName:"../../../../ceramic/runtime/src/ceramic/FragmentsAsset.hx",lineNumber:295,className:"ceramic.FragmentsAsset",methodName:"assetFilesDidChange"}),this.load())},destroy:function(){this._lifecycleState<=-2||(this._lifecycleState=-2,this._lifecycleState=-1,Fa.prototype.destroy.call(this),this.set_fragments(null))},unbindEvents:function(){Fa.prototype.unbindEvents.call(this),this.offFragmentsChange()},__class__:bn,__properties__:$extend(Fa.prototype.__properties__,{set_fragments:"set_fragments",get_fragments:"get_fragments"})}),(E["ceramic.GeometryUtils"]=ab).__name__="ceramic.GeometryUtils",ab.pointInTriangle=function(e,n,t,i,l,s,r,h){var a=(e-l)*(i-s)-(t-l)*(n-s),s=(e-r)*(s-h)-(l-r)*(n-h),l=(e-t)*(h-i)-(r-t)*(n-i);return!((a<0||s<0||l<0)&&(0<a||0<s||0<l))},ab.pointInRectangle=function(e,n,t,i,l,s){return!(e<t||n<i||t+l<=e||i+s<=n)},ab.pointInCircle=function(e,n,t,i,l){return(e-t)*(e-t)+(n-i)*(n-i)<=l*l},ab.intersectCircles=function(e,n,t,i,l,s){i-=e,e=l-n,l=t+s;return i*i+e*e<=l*l},ab.distance=function(e,n,t,i){t-=e,e=i-n;return Math.sqrt(t*t+e*e)},ab.squareDistance=function(e,n,t,i){t-=e,e=i-n;return t*t+e*e},ab.angleTo=function(e,n,t,i){i=57.29577951308232*Math.atan2(i-n,t-e)+90;return i<0?i+=360:360<=i&&(i-=360),i},ab.angleDelta=function(e,n){for(var t=e;t<0;)t+=360;for(;360<=t;)t-=360;e=t;for(t=n;t<0;)t+=360;for(;360<=t;)t-=360;var i=(n=t)-e;return 180<i?n-=360:i<-180&&(n+=360),n-e},ab.clampDegrees=function(e){for(;e<0;)e+=360;for(;360<=e;)e-=360;return e},ab.angleDirection=function(e,n){e=.017453292519943295*(e-90);return n.x=Math.cos(e),n.y=Math.sin(e),n},ab.isClockwise=function(e,n,t){if(t<=2)return!1;for(var i=0,l=n+t-2,s=e[l],r=e[1+l],h=n;h<=l;){var a=e[h],o=e[h+1];i+=s*o-a*r,s=a,r=o,h+=2}return i<0},(E["ceramic.GlyphQuad"]=bb).__name__="ceramic.GlyphQuad",bb.__super__=p,bb.prototype=$extend(p.prototype,{__cbOnClear:null,__cbOnceClear:null,__cbOnOwnerUnbindClear:null,__cbOnceOwnerUnbindClear:null,emitClear:function(e){var n=0;if(null!=this.__cbOnClear&&(n+=this.__cbOnClear.length),null!=this.__cbOnceClear&&(n+=this.__cbOnceClear.length),0<n){var t=C.pool(n),i=t.get(),l=0;if(null!=this.__cbOnClear)for(var s=0,r=this.__cbOnClear.length;s<r;){var h=s++;!0?(i.vector[l]=this.__cbOnClear[h],++l):--n}if(null!=this.__cbOnceClear){for(var a=null,o=null,s=0,r=this.__cbOnceClear.length;s<r;){var c,h=s++;!0?(i.vector[l]=this.__cbOnceClear[h],this.__cbOnceClear[h]=null,c=this.__cbOnceOwnerUnbindClear[h],(this.__cbOnceOwnerUnbindClear[h]=null)!=c&&c(),++l):(--n,null==a&&(a=[],o=[],0),a.push(this.__cbOnceOwnerUnbindClear[h]),o.push(this.__cbOnceClear[h]))}this.__cbOnceOwnerUnbindClear=a,this.__cbOnceClear=o}for(s=0,r=n;s<r;){l=s++;(0,i.vector[l])(e)}t.release(i)}},onClear:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event clear because owner is destroyed!");var l=function(e){null!=t&&(i.offClear(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindClear&&(this.__cbOnOwnerUnbindClear=[]),this.__cbOnOwnerUnbindClear.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindClear&&(this.__cbOnOwnerUnbindClear=[]),this.__cbOnOwnerUnbindClear.push(null);null==this.__cbOnClear&&(this.__cbOnClear=[]),this.__cbOnClear.push(t)},onceClear:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event clear because owner is destroyed!");var l=function(e){null!=t&&(i.offClear(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindClear&&(this.__cbOnceOwnerUnbindClear=[]),this.__cbOnceOwnerUnbindClear.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindClear&&(this.__cbOnceOwnerUnbindClear=[]),this.__cbOnceOwnerUnbindClear.push(null);null==this.__cbOnceClear&&(this.__cbOnceClear=[]),this.__cbOnceClear.push(t)},offClear:function(e){if(null!=e){var n;null!=this.__cbOnClear&&-1!=(n=this.__cbOnClear.indexOf(e))&&(this.__cbOnClear.splice(n,1),null!=(s=this.__cbOnOwnerUnbindClear[n])&&s(),this.__cbOnOwnerUnbindClear.splice(n,1)),null!=this.__cbOnceClear&&-1!=(n=this.__cbOnceClear.indexOf(e))&&(this.__cbOnceClear.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindClear[n])&&s(),this.__cbOnceOwnerUnbindClear.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindClear){for(var t=0,i=this.__cbOnOwnerUnbindClear.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindClear[l])&&s()}this.__cbOnOwnerUnbindClear=null}if(null!=this.__cbOnceOwnerUnbindClear){for(t=0,i=this.__cbOnceOwnerUnbindClear.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindClear[l])&&s()}this.__cbOnceOwnerUnbindClear=null}this.__cbOnClear=null,this.__cbOnceClear=null}},listensClear:function(){return null!=this.__cbOnClear&&0<this.__cbOnClear.length||null!=this.__cbOnceClear&&0<this.__cbOnceClear.length},char:null,glyph:null,index:null,posInLine:null,line:null,code:null,glyphX:null,glyphY:null,glyphAdvance:null,toString:function(){return"GlyphQuad(c="+this.char+",i="+this.index+",l="+this.line+",x="+this.glyphX+",y="+this.glyphY+")"},clear:function(){this.emitClear(this),p.prototype.clear.call(this)},unbindEvents:function(){p.prototype.unbindEvents.call(this),this.offClear()},__class__:bb}),function(e){this.items=[],j.call(this),null!=e&&(this.id=e),ae.app.groups.push(this)}),On=((E["ceramic.Group"]=gn).__name__="ceramic.Group",gn.__super__=j,gn.prototype=$extend(j.prototype,{items:null,add:function(e){var n=this.items;-1!=n.indexOf(e)?ae.app.logger.warning("Cannot add item "+K.string(e)+" to group, already inside group",{fileName:"../../../../ceramic/runtime/src/ceramic/Group.hx",lineNumber:126,className:"ceramic.Group",methodName:"add"}):(n.push(e),e.onDestroy(this,$bind(this,this.itemDestroyed)))},remove:function(e){var n=this.items,t=n.indexOf(e);-1!=t?(n.splice(t,1),e.offDestroy($bind(this,this.itemDestroyed))):ae.app.logger.warning("Cannot remove item "+K.string(e)+" from group, index is -1",{fileName:"../../../../ceramic/runtime/src/ceramic/Group.hx",lineNumber:154,className:"ceramic.Group",methodName:"remove"})},contains:function(e){return-1!=this.items.indexOf(e)},itemDestroyed:function(e){this.remove(e)},clear:function(){var e=this.items;if(0<e.length){for(var n=e.length,t=C.pool(n),i=t.get(),l=0,s=n;l<s;){var r=l++;i.vector[r]=e[r]}for(l=0,s=n;l<s;){var r=l++,h=i.vector[r];h.offDestroy($bind(this,this.itemDestroyed)),h.destroy()}if(0!=e.length)if(0<e.length)e.splice(0,e.length);else for(var a=e;a.length<0;)a.push(null);t.release(i)}},destroy:function(){this._lifecycleState<=-2||(this._lifecycleState=-2,this._lifecycleState=-1,j.prototype.destroy.call(this),he.remove(ae.app.groups,this),this.clear())},__class__:gn}),function(){}),fn=((E["ceramic.HashedString"]=On).__name__="ceramic.HashedString",On.encode=function(e){return El.encode(e)+""+e.length+";"+e},On.append=function(e,n){return e+On.encode(n)},On.decode=function(e){On._lastDecodeIncomplete=!1;for(var n=0,t=e.length,i=null;n<t;){for(var l=e.substring(n,n+32),s=n+=32;s<t&&59!=he.cca(e,s);)++s;var r=K.parseInt(e.substring(n,s));if(null==r||r<=0){ae.app.logger.warning("Failed to parse all encoded string: invalid section length",{fileName:"../../../../ceramic/runtime/src/ceramic/HashedString.hx",lineNumber:148,className:"ceramic.HashedString",methodName:"decode"}),On._lastDecodeIncomplete=!0;break}var n=s+1,h=e.substring(n,n+r);if(null==h){ae.app.logger.warning("Failed to parse all encoded string: null section",{fileName:"../../../../ceramic/runtime/src/ceramic/HashedString.hx",lineNumber:157,className:"ceramic.HashedString",methodName:"decode"}),On._lastDecodeIncomplete=!0;break}if(El.encode(h)!=l){ae.app.logger.warning("Failed to parse all encoded string: section hash mismatch",{fileName:"../../../../ceramic/runtime/src/ceramic/HashedString.hx",lineNumber:163,className:"ceramic.HashedString",methodName:"decode"}),On._lastDecodeIncomplete=!0;break}n+=r,(i=null==i?new y:i).b+=null==h?"null":""+h}return null!=i?i.b:(ae.app.logger.error("Invalid encoded string",{fileName:"../../../../ceramic/runtime/src/ceramic/HashedString.hx",lineNumber:181,className:"ceramic.HashedString",methodName:"decode"}),On._lastDecodeIncomplete=!0,null)},On.isLastDecodeIncomplete=function(){return On._lastDecodeIncomplete},function(e,n,t){this.reloadBecauseOfDensityChange=!1,this.defaultImageOptions=null,this.unobservedTexture=null,this.textureAutoruns=null,Fa.call(this,"image",e,n,t),this.set_handleTexturesDensityChange(!0)}),pn=((E["ceramic.ImageAsset"]=fn).__name__="ceramic.ImageAsset",fn.__super__=Fa,fn.prototype=$extend(Fa.prototype,{__cbOnReplaceTexture:null,__cbOnceReplaceTexture:null,__cbOnOwnerUnbindReplaceTexture:null,__cbOnceOwnerUnbindReplaceTexture:null,emitReplaceTexture:function(e,n){var t=0;if(null!=this.__cbOnReplaceTexture&&(t+=this.__cbOnReplaceTexture.length),null!=this.__cbOnceReplaceTexture&&(t+=this.__cbOnceReplaceTexture.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnReplaceTexture)for(var r=0,h=this.__cbOnReplaceTexture.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnReplaceTexture[a],++s):--t}if(null!=this.__cbOnceReplaceTexture){for(var o=null,c=null,r=0,h=this.__cbOnceReplaceTexture.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceReplaceTexture[a],this.__cbOnceReplaceTexture[a]=null,u=this.__cbOnceOwnerUnbindReplaceTexture[a],(this.__cbOnceOwnerUnbindReplaceTexture[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindReplaceTexture[a]),c.push(this.__cbOnceReplaceTexture[a]))}this.__cbOnceOwnerUnbindReplaceTexture=o,this.__cbOnceReplaceTexture=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onReplaceTexture:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event replaceTexture because owner is destroyed!");var l=function(e){null!=t&&(i.offReplaceTexture(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindReplaceTexture&&(this.__cbOnOwnerUnbindReplaceTexture=[]),this.__cbOnOwnerUnbindReplaceTexture.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindReplaceTexture&&(this.__cbOnOwnerUnbindReplaceTexture=[]),this.__cbOnOwnerUnbindReplaceTexture.push(null);null==this.__cbOnReplaceTexture&&(this.__cbOnReplaceTexture=[]),this.__cbOnReplaceTexture.push(t)},onceReplaceTexture:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event replaceTexture because owner is destroyed!");var l=function(e){null!=t&&(i.offReplaceTexture(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindReplaceTexture&&(this.__cbOnceOwnerUnbindReplaceTexture=[]),this.__cbOnceOwnerUnbindReplaceTexture.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindReplaceTexture&&(this.__cbOnceOwnerUnbindReplaceTexture=[]),this.__cbOnceOwnerUnbindReplaceTexture.push(null);null==this.__cbOnceReplaceTexture&&(this.__cbOnceReplaceTexture=[]),this.__cbOnceReplaceTexture.push(t)},offReplaceTexture:function(e){if(null!=e){var n;null!=this.__cbOnReplaceTexture&&-1!=(n=this.__cbOnReplaceTexture.indexOf(e))&&(this.__cbOnReplaceTexture.splice(n,1),null!=(s=this.__cbOnOwnerUnbindReplaceTexture[n])&&s(),this.__cbOnOwnerUnbindReplaceTexture.splice(n,1)),null!=this.__cbOnceReplaceTexture&&-1!=(n=this.__cbOnceReplaceTexture.indexOf(e))&&(this.__cbOnceReplaceTexture.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindReplaceTexture[n])&&s(),this.__cbOnceOwnerUnbindReplaceTexture.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindReplaceTexture){for(var t=0,i=this.__cbOnOwnerUnbindReplaceTexture.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindReplaceTexture[l])&&s()}this.__cbOnOwnerUnbindReplaceTexture=null}if(null!=this.__cbOnceOwnerUnbindReplaceTexture){for(t=0,i=this.__cbOnceOwnerUnbindReplaceTexture.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindReplaceTexture[l])&&s()}this.__cbOnceOwnerUnbindReplaceTexture=null}this.__cbOnReplaceTexture=null,this.__cbOnceReplaceTexture=null}},listensReplaceTexture:function(){return null!=this.__cbOnReplaceTexture&&0<this.__cbOnReplaceTexture.length||null!=this.__cbOnceReplaceTexture&&0<this.__cbOnceReplaceTexture.length},textureAutoruns:null,get_texture:function(){var e,n,t=this.unobservedTexture;return null!=A.current&&(e=A.current,null!=(n=this.textureAutoruns)||(n=A.getAutorunArray(),null!=(this.textureAutoruns=n)))&&e.bindToAutorunArray(n),t},set_texture:function(e){var n=this.unobservedTexture;return n!=(this.unobservedTexture=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitTextureChange(e,n),null!=(n=this.textureAutoruns))&&(this.textureAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateTexture:function(){var e=this.unobservedTexture,e=(this.emitTextureChange(e,e),this.textureAutoruns);null!=e&&(this.textureAutoruns=null,A.invalidateAutorunArray(e))},unobservedTexture:null,__cbOnTextureChange:null,__cbOnceTextureChange:null,__cbOnOwnerUnbindTextureChange:null,__cbOnceOwnerUnbindTextureChange:null,emitTextureChange:function(e,n){var t=0;if(null!=this.__cbOnTextureChange&&(t+=this.__cbOnTextureChange.length),null!=this.__cbOnceTextureChange&&(t+=this.__cbOnceTextureChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnTextureChange)for(var r=0,h=this.__cbOnTextureChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnTextureChange[a],++s):--t}if(null!=this.__cbOnceTextureChange){for(var o=null,c=null,r=0,h=this.__cbOnceTextureChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceTextureChange[a],this.__cbOnceTextureChange[a]=null,u=this.__cbOnceOwnerUnbindTextureChange[a],(this.__cbOnceOwnerUnbindTextureChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindTextureChange[a]),c.push(this.__cbOnceTextureChange[a]))}this.__cbOnceOwnerUnbindTextureChange=o,this.__cbOnceTextureChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onTextureChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event textureChange because owner is destroyed!");var l=function(e){null!=t&&(i.offTextureChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindTextureChange&&(this.__cbOnOwnerUnbindTextureChange=[]),this.__cbOnOwnerUnbindTextureChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindTextureChange&&(this.__cbOnOwnerUnbindTextureChange=[]),this.__cbOnOwnerUnbindTextureChange.push(null);null==this.__cbOnTextureChange&&(this.__cbOnTextureChange=[]),this.__cbOnTextureChange.push(t)},onceTextureChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event textureChange because owner is destroyed!");var l=function(e){null!=t&&(i.offTextureChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindTextureChange&&(this.__cbOnceOwnerUnbindTextureChange=[]),this.__cbOnceOwnerUnbindTextureChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindTextureChange&&(this.__cbOnceOwnerUnbindTextureChange=[]),this.__cbOnceOwnerUnbindTextureChange.push(null);null==this.__cbOnceTextureChange&&(this.__cbOnceTextureChange=[]),this.__cbOnceTextureChange.push(t)},offTextureChange:function(e){if(null!=e){var n;null!=this.__cbOnTextureChange&&-1!=(n=this.__cbOnTextureChange.indexOf(e))&&(this.__cbOnTextureChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindTextureChange[n])&&s(),this.__cbOnOwnerUnbindTextureChange.splice(n,1)),null!=this.__cbOnceTextureChange&&-1!=(n=this.__cbOnceTextureChange.indexOf(e))&&(this.__cbOnceTextureChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindTextureChange[n])&&s(),this.__cbOnceOwnerUnbindTextureChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindTextureChange){for(var t=0,i=this.__cbOnOwnerUnbindTextureChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindTextureChange[l])&&s()}this.__cbOnOwnerUnbindTextureChange=null}if(null!=this.__cbOnceOwnerUnbindTextureChange){for(t=0,i=this.__cbOnceOwnerUnbindTextureChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindTextureChange[l])&&s()}this.__cbOnceOwnerUnbindTextureChange=null}this.__cbOnTextureChange=null,this.__cbOnceTextureChange=null}},listensTextureChange:function(){return null!=this.__cbOnTextureChange&&0<this.__cbOnTextureChange.length||null!=this.__cbOnceTextureChange&&0<this.__cbOnceTextureChange.length},defaultImageOptions:null,reloadBecauseOfDensityChange:null,load:function(){var _=this,d=(this.set_status(Me.LOADING),this.reloadBecauseOfDensityChange);if(this.reloadBecauseOfDensityChange=!1,null==this.path)ae.app.logger.warning("Cannot load image asset if path is undefined.",{fileName:"../../../../ceramic/runtime/src/ceramic/ImageAsset.hx",lineNumber:103,className:"ceramic.ImageAsset",methodName:"load"}),this.set_status(Me.BROKEN),this.emitComplete(!1);else{var e={};if(null!=this.owner&&(e.immediate=this.owner.immediate,e.loadMethod=this.owner.loadMethod),null!=this.defaultImageOptions)for(var n=0,t=L.fields(this.defaultImageOptions);n<t.length;){var i=t[n];++n,e[i]=L.field(this.defaultImageOptions,i)}if(null!=this.options)for(n=0,t=L.fields(this.options);n<t.length;){i=t[n];++n,e[i]=L.field(this.options,i)}this.loadTexture(this.path,e,function(e,n){if(null!=e){var t=_.get_texture();if(e.id="texture:"+n,_.set_texture(e),_.get_texture().asset=_,null!=t){_.get_texture().set_filter(t.filter),_.emitReplaceTexture(_.get_texture(),t);for(var i=0,l=[].concat(ae.app.visuals);i<l.length;){var s,r,h,a,o,c,u=l[i];++i,0<=u._lifecycleState&&(null!=u.asQuad?(s=u.asQuad)._texture==t&&(c=s.frameX,r=s.frameY,h=s.frameWidth,a=s.frameHeight,o=_.get_texture(),s._texture!=o&&s._set_texture(o),!d&&0==c&&0==r&&h==t.width&&a==t.height||(s.frameX=c,s.frameY=r,s.frameWidth!=h&&-1!=(s.frameWidth=h)&&s.set_width(h),s.frameHeight==a)||-1==(s.frameHeight=a)||s.set_height(a)):null!=u.asMesh&&(o=u.asMesh).texture==t&&(c=_.get_texture(),o.texture!=c)&&(null!=o.texture&&(o.texture.offDestroy($bind(o,o.textureDestroyed)),null!=o.texture.asset)&&o.texture.asset.release(),o.texture=c,null!=o.texture)&&(o.texture.onDestroy(o,$bind(o,o.textureDestroyed)),null!=o.texture.asset)&&o.texture.asset.retain())}t.asset=null,t.destroy()}_.set_status(Me.READY),_.emitComplete(!0),_.handleTexturesDensityChange&&_.checkTexturesDensity()}else ae.app.logger.warning("Failed to decode texture",{fileName:"../../../../ceramic/runtime/src/ceramic/ImageAsset.hx",lineNumber:201,className:"ceramic.ImageAsset",methodName:"load"}),_.set_status(Me.BROKEN),_.emitComplete(!1)})}},loadTexture:function(n,e,t){var i=this,l=n,s=Oe.realAssetPath(l,this.runtimeAssets),r=Oe.getReloadCount(s);0<r&&(s+="?hot="+r,l+="?hot="+r),ae.app.logger.info("Load image "+l+" (density="+this.density+")",{fileName:"../../../../ceramic/runtime/src/ceramic/ImageAsset.hx",lineNumber:221,className:"ceramic.ImageAsset",methodName:"loadTexture"}),ae.app.backend.textures.load(s,e,function(e){null!=e?(e=new Kn(e,i.density),t(e,l)):(i.set_status(Me.BROKEN),ae.app.logger.error("Failed to load texture at path: "+n,{fileName:"../../../../ceramic/runtime/src/ceramic/ImageAsset.hx",lineNumber:287,className:"ceramic.ImageAsset",methodName:"loadTexture"}),i.emitComplete(!1))})},texturesDensityDidChange:function(e,n){this.get_status()==Me.READY&&this.checkTexturesDensity()},checkTexturesDensity:function(){var e;null!=this.owner&&this.owner.reloadOnTextureDensityChange&&(e=this.path,this.computePath(),e!=this.path)&&(ae.app.logger.info("Reload texture ("+e+" -> "+this.path+")",{fileName:"../../../../ceramic/runtime/src/ceramic/ImageAsset.hx",lineNumber:323,className:"ceramic.ImageAsset",methodName:"checkTexturesDensity"}),this.reloadBecauseOfDensityChange=!0,this.load())},assetFilesDidChange:function(e,n){var t=-1,n=(Object.prototype.hasOwnProperty.call(n.h,this.path)&&(t=n.h[this.path]),-1);(n=Object.prototype.hasOwnProperty.call(e.h,this.path)?e.h[this.path]:n)!=t&&(ae.app.logger.info("Reload texture (file has changed)",{fileName:"../../../../ceramic/runtime/src/ceramic/ImageAsset.hx",lineNumber:349,className:"ceramic.ImageAsset",methodName:"assetFilesDidChange"}),this.load())},destroy:function(){this._lifecycleState<=-2||(this._lifecycleState=-2,this._lifecycleState=-1,Fa.prototype.destroy.call(this),null!=this.get_texture()&&(this.get_texture().destroy(),this.set_texture(null)))},unbindEvents:function(){Fa.prototype.unbindEvents.call(this),this.offReplaceTexture(),this.offTextureChange()},__class__:fn,__properties__:$extend(Fa.prototype.__properties__,{set_texture:"set_texture",get_texture:"get_texture"})}),function(){this.immediateCallbacksLen=0,this.immediateCallbacksCapacity=0,this.immediateCallbacks=[]}),Cn=((E["ceramic.Immediate"]=pn).__name__="ceramic.Immediate",pn.prototype={immediateCallbacks:null,immediateCallbacksCapacity:null,immediateCallbacksLen:null,push:function(e){if(null==e)throw $.thrown("Immediate callback should not be null!");this.immediateCallbacksLen<this.immediateCallbacksCapacity?(this.immediateCallbacks[this.immediateCallbacksLen]=e,this.immediateCallbacksLen++):(this.immediateCallbacks[this.immediateCallbacksLen++]=e,this.immediateCallbacksCapacity++)},flush:function(){for(var e=!1;0<this.immediateCallbacksLen;){for(var e=!0,n=C.pool(this.immediateCallbacksLen),t=n.get(),i=this.immediateCallbacksLen,l=this.immediateCallbacksLen=0,s=i;l<s;){var r=l++;t.vector[r]=this.immediateCallbacks[r],this.immediateCallbacks[r]=null}for(var h=0,a=i;h<a;){var o=h++;(0,t.vector[o])()}n.release(t)}return e},__class__:pn},function(e){this.settings=e}),vn=((E["ceramic.InitSettings"]=Cn).__name__="ceramic.InitSettings",Cn.prototype={settings:null,get_targetWidth:function(){return this.settings.get_targetWidth()},set_targetWidth:function(e){return this.settings.set_targetWidth(e)},get_targetHeight:function(){return this.settings.get_targetHeight()},set_targetHeight:function(e){return this.settings.set_targetHeight(e)},targetSize:function(e,n){this.settings.set_targetWidth(e),this.settings.set_targetHeight(n)},get_windowWidth:function(){return this.settings.get_windowWidth()},set_windowWidth:function(e){return this.settings.set_windowWidth(e)},get_windowHeight:function(){return this.settings.get_windowHeight()},set_windowHeight:function(e){return this.settings.set_windowHeight(e)},windowSize:function(e,n){this.settings.set_windowWidth(e),this.settings.set_windowHeight(n)},get_targetDensity:function(){return this.settings.get_targetDensity()},set_targetDensity:function(e){return this.settings.set_targetDensity(e)},get_background:function(){return this.settings.get_background()},set_background:function(e){return this.settings.set_background(e)},get_scaling:function(){return this.settings.get_scaling()},set_scaling:function(e){return this.settings.set_scaling(e)},get_title:function(){return this.settings.get_title()},set_title:function(e){return this.settings.set_title(e)},get_fullscreen:function(){return this.settings.get_fullscreen()},set_fullscreen:function(e){return this.settings.set_fullscreen(e)},get_targetFps:function(){return this.settings.get_targetFps()},set_targetFps:function(e){return this.settings.set_targetFps(e)},get_maxDelta:function(){return this.settings.get_maxDelta()},set_maxDelta:function(e){return this.settings.set_maxDelta(e)},get_overrideDelta:function(){return this.settings.get_overrideDelta()},set_overrideDelta:function(e){return this.settings.set_overrideDelta(e)},get_preventDefaultMouseWheel:function(){return this.settings.get_preventDefaultMouseWheel()},set_preventDefaultMouseWheel:function(e){return this.settings.set_preventDefaultMouseWheel(e)},get_preventDefaultTouches:function(){return this.settings.get_preventDefaultTouches()},set_preventDefaultTouches:function(e){return this.settings.set_preventDefaultTouches(e)},get_orientation:function(){return this.settings.orientation},set_orientation:function(e){return this.settings.orientation=e},get_antialiasing:function(){return this.settings.antialiasing},set_antialiasing:function(e){return this.settings.antialiasing=e},get_collections:function(){return this.settings.collections},set_collections:function(e){return this.settings.collections=e},get_appInfo:function(){return this.settings.appInfo},set_appInfo:function(e){return this.settings.appInfo=e},get_resizable:function(){return this.settings.resizable},set_resizable:function(e){return this.settings.resizable=e},get_assetsPath:function(){return this.settings.assetsPath},set_assetsPath:function(e){return this.settings.assetsPath=e},get_backend:function(){return this.settings.backend},set_backend:function(e){return this.settings.backend=e},get_defaultFont:function(){return this.settings.defaultFont},set_defaultFont:function(e){return this.settings.defaultFont=e},get_defaultShader:function(){return this.settings.defaultShader},set_defaultShader:function(e){return this.settings.defaultShader=e},__class__:Cn,__properties__:{set_defaultShader:"set_defaultShader",get_defaultShader:"get_defaultShader",set_defaultFont:"set_defaultFont",get_defaultFont:"get_defaultFont",set_backend:"set_backend",get_backend:"get_backend",set_assetsPath:"set_assetsPath",get_assetsPath:"get_assetsPath",set_resizable:"set_resizable",get_resizable:"get_resizable",set_appInfo:"set_appInfo",get_appInfo:"get_appInfo",set_collections:"set_collections",get_collections:"get_collections",set_antialiasing:"set_antialiasing",get_antialiasing:"get_antialiasing",set_orientation:"set_orientation",get_orientation:"get_orientation",set_preventDefaultTouches:"set_preventDefaultTouches",get_preventDefaultTouches:"get_preventDefaultTouches",set_preventDefaultMouseWheel:"set_preventDefaultMouseWheel",get_preventDefaultMouseWheel:"get_preventDefaultMouseWheel",set_overrideDelta:"set_overrideDelta",get_overrideDelta:"get_overrideDelta",set_maxDelta:"set_maxDelta",get_maxDelta:"get_maxDelta",set_targetFps:"set_targetFps",get_targetFps:"get_targetFps",set_fullscreen:"set_fullscreen",get_fullscreen:"get_fullscreen",set_title:"set_title",get_title:"get_title",set_scaling:"set_scaling",get_scaling:"get_scaling",set_background:"set_background",get_background:"get_background",set_targetDensity:"set_targetDensity",get_targetDensity:"get_targetDensity",set_windowHeight:"set_windowHeight",get_windowHeight:"get_windowHeight",set_windowWidth:"set_windowWidth",get_windowWidth:"get_windowWidth",set_targetHeight:"set_targetHeight",get_targetHeight:"get_targetHeight",set_targetWidth:"set_targetWidth",get_targetWidth:"get_targetWidth"}},function(){this.activeGamepads=[],this.gamepadNames=new Pn,this.gamepadGyroKeys=[],this.gamepadGyroDeltas=new Pn,this.gamepadAxisValues=new Tn(16,.5,!1),this.pressedGamepadButtons=new Ge(16,.5,!1),this.pressedKeyCodes=new Ge(16,.5,!1),this.pressedScanCodes=new Ge(16,.5,!1),j.call(this)}),wn=((E["ceramic.Input"]=vn).__name__="ceramic.Input",vn._elementsImFocused=function(){var e=G.get_context();return null!=e&&null!=e.focusedWindow},vn.__super__=j,vn.prototype=$extend(j.prototype,{__cbOnKeyDown:null,__cbOnceKeyDown:null,__cbOnOwnerUnbindKeyDown:null,__cbOnceOwnerUnbindKeyDown:null,__onOwnerKeyDown:null,__onceOwnerKeyDown:null,emitKeyDown:function(e){this.willEmitKeyDown(e);var n=0;if(null!=this.__cbOnKeyDown&&(n+=this.__cbOnKeyDown.length),null!=this.__cbOnceKeyDown&&(n+=this.__cbOnceKeyDown.length),0<n){var t=C.pool(n),i=t.get(),l=0;if(null!=this.__cbOnKeyDown)for(var s=0,r=this.__cbOnKeyDown.length;s<r;){var h=s++,a=this.__onOwnerKeyDown[h],o=!1;null!=G.get_context().focusedWindow?null!=a&&(o=Y._filterEventOwner(a)):o=!0,o?(i.vector[l]=this.__cbOnKeyDown[h],++l):--n}if(null!=this.__cbOnceKeyDown){for(var c=null,u=null,_=null,s=0,r=this.__cbOnceKeyDown.length;s<r;){var d,h=s++,a=this.__onceOwnerKeyDown[h],o=!1;null!=G.get_context().focusedWindow?null!=a&&(o=Y._filterEventOwner(a)):o=!0,o?(i.vector[l]=this.__cbOnceKeyDown[h],this.__cbOnceKeyDown[h]=null,d=this.__cbOnceOwnerUnbindKeyDown[h],(this.__cbOnceOwnerUnbindKeyDown[h]=null)!=d&&d(),++l):(--n,null==c&&(c=[],u=[],_=[]),c.push(this.__cbOnceOwnerUnbindKeyDown[h]),u.push(this.__cbOnceKeyDown[h]),_.push(this.__onceOwnerKeyDown[h]))}this.__cbOnceOwnerUnbindKeyDown=c,this.__cbOnceKeyDown=u,this.__onceOwnerKeyDown=_}for(s=0,r=n;s<r;){l=s++;(0,i.vector[l])(e)}t.release(i)}},onKeyDown:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event keyDown because owner is destroyed!");var l=function(e){null!=t&&(i.offKeyDown(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindKeyDown&&(this.__cbOnOwnerUnbindKeyDown=[]),this.__cbOnOwnerUnbindKeyDown.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindKeyDown&&(this.__cbOnOwnerUnbindKeyDown=[]),this.__cbOnOwnerUnbindKeyDown.push(null);null==this.__cbOnKeyDown&&(this.__cbOnKeyDown=[]),this.__cbOnKeyDown.push(t),null==this.__onOwnerKeyDown&&(this.__onOwnerKeyDown=[]),this.__onOwnerKeyDown.push(n)},onceKeyDown:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event keyDown because owner is destroyed!");var l=function(e){null!=t&&(i.offKeyDown(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindKeyDown&&(this.__cbOnceOwnerUnbindKeyDown=[]),this.__cbOnceOwnerUnbindKeyDown.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindKeyDown&&(this.__cbOnceOwnerUnbindKeyDown=[]),this.__cbOnceOwnerUnbindKeyDown.push(null);null==this.__cbOnceKeyDown&&(this.__cbOnceKeyDown=[]),this.__cbOnceKeyDown.push(t),null==this.__onceOwnerKeyDown&&(this.__onceOwnerKeyDown=[]),this.__onceOwnerKeyDown.push(n)},offKeyDown:function(e){if(null!=e){var n;null!=this.__cbOnKeyDown&&-1!=(n=this.__cbOnKeyDown.indexOf(e))&&(this.__cbOnKeyDown.splice(n,1),null!=(s=this.__cbOnOwnerUnbindKeyDown[n])&&s(),this.__cbOnOwnerUnbindKeyDown.splice(n,1),this.__onOwnerKeyDown.splice(n,1)),null!=this.__cbOnceKeyDown&&-1!=(n=this.__cbOnceKeyDown.indexOf(e))&&(this.__cbOnceKeyDown.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindKeyDown[n])&&s(),this.__cbOnceOwnerUnbindKeyDown.splice(n,1),this.__onceOwnerKeyDown.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindKeyDown){for(var t=0,i=this.__cbOnOwnerUnbindKeyDown.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindKeyDown[l])&&s()}this.__cbOnOwnerUnbindKeyDown=null}if(null!=this.__cbOnceOwnerUnbindKeyDown){for(t=0,i=this.__cbOnceOwnerUnbindKeyDown.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindKeyDown[l])&&s()}this.__cbOnceOwnerUnbindKeyDown=null}this.__cbOnKeyDown=null,this.__cbOnceKeyDown=null,this.__onOwnerKeyDown=null,this.__onceOwnerKeyDown=null}},listensKeyDown:function(){return null!=this.__cbOnKeyDown&&0<this.__cbOnKeyDown.length||null!=this.__cbOnceKeyDown&&0<this.__cbOnceKeyDown.length},__cbOnKeyUp:null,__cbOnceKeyUp:null,__cbOnOwnerUnbindKeyUp:null,__cbOnceOwnerUnbindKeyUp:null,__onOwnerKeyUp:null,__onceOwnerKeyUp:null,emitKeyUp:function(e){this.willEmitKeyUp(e);var n=0;if(null!=this.__cbOnKeyUp&&(n+=this.__cbOnKeyUp.length),null!=this.__cbOnceKeyUp&&(n+=this.__cbOnceKeyUp.length),0<n){var t=C.pool(n),i=t.get(),l=0;if(null!=this.__cbOnKeyUp)for(var s=0,r=this.__cbOnKeyUp.length;s<r;){var h=s++,a=this.__onOwnerKeyUp[h],o=!1;null!=G.get_context().focusedWindow?null!=a&&(o=Y._filterEventOwner(a)):o=!0,o?(i.vector[l]=this.__cbOnKeyUp[h],++l):--n}if(null!=this.__cbOnceKeyUp){for(var c=null,u=null,_=null,s=0,r=this.__cbOnceKeyUp.length;s<r;){var d,h=s++,a=this.__onceOwnerKeyUp[h],o=!1;null!=G.get_context().focusedWindow?null!=a&&(o=Y._filterEventOwner(a)):o=!0,o?(i.vector[l]=this.__cbOnceKeyUp[h],this.__cbOnceKeyUp[h]=null,d=this.__cbOnceOwnerUnbindKeyUp[h],(this.__cbOnceOwnerUnbindKeyUp[h]=null)!=d&&d(),++l):(--n,null==c&&(c=[],u=[],_=[]),c.push(this.__cbOnceOwnerUnbindKeyUp[h]),u.push(this.__cbOnceKeyUp[h]),_.push(this.__onceOwnerKeyUp[h]))}this.__cbOnceOwnerUnbindKeyUp=c,this.__cbOnceKeyUp=u,this.__onceOwnerKeyUp=_}for(s=0,r=n;s<r;){l=s++;(0,i.vector[l])(e)}t.release(i)}},onKeyUp:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event keyUp because owner is destroyed!");var l=function(e){null!=t&&(i.offKeyUp(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindKeyUp&&(this.__cbOnOwnerUnbindKeyUp=[]),this.__cbOnOwnerUnbindKeyUp.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindKeyUp&&(this.__cbOnOwnerUnbindKeyUp=[]),this.__cbOnOwnerUnbindKeyUp.push(null);null==this.__cbOnKeyUp&&(this.__cbOnKeyUp=[]),this.__cbOnKeyUp.push(t),null==this.__onOwnerKeyUp&&(this.__onOwnerKeyUp=[]),this.__onOwnerKeyUp.push(n)},onceKeyUp:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event keyUp because owner is destroyed!");var l=function(e){null!=t&&(i.offKeyUp(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindKeyUp&&(this.__cbOnceOwnerUnbindKeyUp=[]),this.__cbOnceOwnerUnbindKeyUp.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindKeyUp&&(this.__cbOnceOwnerUnbindKeyUp=[]),this.__cbOnceOwnerUnbindKeyUp.push(null);null==this.__cbOnceKeyUp&&(this.__cbOnceKeyUp=[]),this.__cbOnceKeyUp.push(t),null==this.__onceOwnerKeyUp&&(this.__onceOwnerKeyUp=[]),this.__onceOwnerKeyUp.push(n)},offKeyUp:function(e){if(null!=e){var n;null!=this.__cbOnKeyUp&&-1!=(n=this.__cbOnKeyUp.indexOf(e))&&(this.__cbOnKeyUp.splice(n,1),null!=(s=this.__cbOnOwnerUnbindKeyUp[n])&&s(),this.__cbOnOwnerUnbindKeyUp.splice(n,1),this.__onOwnerKeyUp.splice(n,1)),null!=this.__cbOnceKeyUp&&-1!=(n=this.__cbOnceKeyUp.indexOf(e))&&(this.__cbOnceKeyUp.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindKeyUp[n])&&s(),this.__cbOnceOwnerUnbindKeyUp.splice(n,1),this.__onceOwnerKeyUp.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindKeyUp){for(var t=0,i=this.__cbOnOwnerUnbindKeyUp.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindKeyUp[l])&&s()}this.__cbOnOwnerUnbindKeyUp=null}if(null!=this.__cbOnceOwnerUnbindKeyUp){for(t=0,i=this.__cbOnceOwnerUnbindKeyUp.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindKeyUp[l])&&s()}this.__cbOnceOwnerUnbindKeyUp=null}this.__cbOnKeyUp=null,this.__cbOnceKeyUp=null,this.__onOwnerKeyUp=null,this.__onceOwnerKeyUp=null}},listensKeyUp:function(){return null!=this.__cbOnKeyUp&&0<this.__cbOnKeyUp.length||null!=this.__cbOnceKeyUp&&0<this.__cbOnceKeyUp.length},__cbOnGamepadAxis:null,__cbOnceGamepadAxis:null,__cbOnOwnerUnbindGamepadAxis:null,__cbOnceOwnerUnbindGamepadAxis:null,emitGamepadAxis:function(e,n,t){this.gamepadAxisValues.set(32*e+n,t);var i=0;if(null!=this.__cbOnGamepadAxis&&(i+=this.__cbOnGamepadAxis.length),null!=this.__cbOnceGamepadAxis&&(i+=this.__cbOnceGamepadAxis.length),0<i){var l=C.pool(i),s=l.get(),r=0;if(null!=this.__cbOnGamepadAxis)for(var h=0,a=this.__cbOnGamepadAxis.length;h<a;){var o=h++;!0?(s.vector[r]=this.__cbOnGamepadAxis[o],++r):--i}if(null!=this.__cbOnceGamepadAxis){for(var c=null,u=null,h=0,a=this.__cbOnceGamepadAxis.length;h<a;){var _,o=h++;!0?(s.vector[r]=this.__cbOnceGamepadAxis[o],this.__cbOnceGamepadAxis[o]=null,_=this.__cbOnceOwnerUnbindGamepadAxis[o],(this.__cbOnceOwnerUnbindGamepadAxis[o]=null)!=_&&_(),++r):(--i,null==c&&(c=[],u=[],0),c.push(this.__cbOnceOwnerUnbindGamepadAxis[o]),u.push(this.__cbOnceGamepadAxis[o]))}this.__cbOnceOwnerUnbindGamepadAxis=c,this.__cbOnceGamepadAxis=u}for(h=0,a=i;h<a;){r=h++;(0,s.vector[r])(e,n,t)}l.release(s)}},onGamepadAxis:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event gamepadAxis because owner is destroyed!");var l=function(e){null!=t&&(i.offGamepadAxis(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindGamepadAxis&&(this.__cbOnOwnerUnbindGamepadAxis=[]),this.__cbOnOwnerUnbindGamepadAxis.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindGamepadAxis&&(this.__cbOnOwnerUnbindGamepadAxis=[]),this.__cbOnOwnerUnbindGamepadAxis.push(null);null==this.__cbOnGamepadAxis&&(this.__cbOnGamepadAxis=[]),this.__cbOnGamepadAxis.push(t)},onceGamepadAxis:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event gamepadAxis because owner is destroyed!");var l=function(e){null!=t&&(i.offGamepadAxis(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindGamepadAxis&&(this.__cbOnceOwnerUnbindGamepadAxis=[]),this.__cbOnceOwnerUnbindGamepadAxis.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindGamepadAxis&&(this.__cbOnceOwnerUnbindGamepadAxis=[]),this.__cbOnceOwnerUnbindGamepadAxis.push(null);null==this.__cbOnceGamepadAxis&&(this.__cbOnceGamepadAxis=[]),this.__cbOnceGamepadAxis.push(t)},offGamepadAxis:function(e){if(null!=e){var n;null!=this.__cbOnGamepadAxis&&-1!=(n=this.__cbOnGamepadAxis.indexOf(e))&&(this.__cbOnGamepadAxis.splice(n,1),null!=(s=this.__cbOnOwnerUnbindGamepadAxis[n])&&s(),this.__cbOnOwnerUnbindGamepadAxis.splice(n,1)),null!=this.__cbOnceGamepadAxis&&-1!=(n=this.__cbOnceGamepadAxis.indexOf(e))&&(this.__cbOnceGamepadAxis.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindGamepadAxis[n])&&s(),this.__cbOnceOwnerUnbindGamepadAxis.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindGamepadAxis){for(var t=0,i=this.__cbOnOwnerUnbindGamepadAxis.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindGamepadAxis[l])&&s()}this.__cbOnOwnerUnbindGamepadAxis=null}if(null!=this.__cbOnceOwnerUnbindGamepadAxis){for(t=0,i=this.__cbOnceOwnerUnbindGamepadAxis.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindGamepadAxis[l])&&s()}this.__cbOnceOwnerUnbindGamepadAxis=null}this.__cbOnGamepadAxis=null,this.__cbOnceGamepadAxis=null}},listensGamepadAxis:function(){return null!=this.__cbOnGamepadAxis&&0<this.__cbOnGamepadAxis.length||null!=this.__cbOnceGamepadAxis&&0<this.__cbOnceGamepadAxis.length},__cbOnGamepadDown:null,__cbOnceGamepadDown:null,__cbOnOwnerUnbindGamepadDown:null,__cbOnceOwnerUnbindGamepadDown:null,__onOwnerGamepadDown:null,__onceOwnerGamepadDown:null,emitGamepadDown:function(e,n){this.willEmitGamepadDown(e,n);var t=0;if(null!=this.__cbOnGamepadDown&&(t+=this.__cbOnGamepadDown.length),null!=this.__cbOnceGamepadDown&&(t+=this.__cbOnceGamepadDown.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnGamepadDown)for(var r=0,h=this.__cbOnGamepadDown.length;r<h;){var a=r++,o=this.__onOwnerGamepadDown[a],c=!1;null!=G.get_context().focusedWindow?null!=o&&(c=Y._filterEventOwner(o)):c=!0,c?(l.vector[s]=this.__cbOnGamepadDown[a],++s):--t}if(null!=this.__cbOnceGamepadDown){for(var u=null,_=null,d=null,r=0,h=this.__cbOnceGamepadDown.length;r<h;){var b,a=r++,o=this.__onceOwnerGamepadDown[a],c=!1;null!=G.get_context().focusedWindow?null!=o&&(c=Y._filterEventOwner(o)):c=!0,c?(l.vector[s]=this.__cbOnceGamepadDown[a],this.__cbOnceGamepadDown[a]=null,b=this.__cbOnceOwnerUnbindGamepadDown[a],(this.__cbOnceOwnerUnbindGamepadDown[a]=null)!=b&&b(),++s):(--t,null==u&&(u=[],_=[],d=[]),u.push(this.__cbOnceOwnerUnbindGamepadDown[a]),_.push(this.__cbOnceGamepadDown[a]),d.push(this.__onceOwnerGamepadDown[a]))}this.__cbOnceOwnerUnbindGamepadDown=u,this.__cbOnceGamepadDown=_,this.__onceOwnerGamepadDown=d}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onGamepadDown:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event gamepadDown because owner is destroyed!");var l=function(e){null!=t&&(i.offGamepadDown(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindGamepadDown&&(this.__cbOnOwnerUnbindGamepadDown=[]),this.__cbOnOwnerUnbindGamepadDown.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindGamepadDown&&(this.__cbOnOwnerUnbindGamepadDown=[]),this.__cbOnOwnerUnbindGamepadDown.push(null);null==this.__cbOnGamepadDown&&(this.__cbOnGamepadDown=[]),this.__cbOnGamepadDown.push(t),null==this.__onOwnerGamepadDown&&(this.__onOwnerGamepadDown=[]),this.__onOwnerGamepadDown.push(n)},onceGamepadDown:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event gamepadDown because owner is destroyed!");var l=function(e){null!=t&&(i.offGamepadDown(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindGamepadDown&&(this.__cbOnceOwnerUnbindGamepadDown=[]),this.__cbOnceOwnerUnbindGamepadDown.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindGamepadDown&&(this.__cbOnceOwnerUnbindGamepadDown=[]),this.__cbOnceOwnerUnbindGamepadDown.push(null);null==this.__cbOnceGamepadDown&&(this.__cbOnceGamepadDown=[]),this.__cbOnceGamepadDown.push(t),null==this.__onceOwnerGamepadDown&&(this.__onceOwnerGamepadDown=[]),this.__onceOwnerGamepadDown.push(n)},offGamepadDown:function(e){if(null!=e){var n;null!=this.__cbOnGamepadDown&&-1!=(n=this.__cbOnGamepadDown.indexOf(e))&&(this.__cbOnGamepadDown.splice(n,1),null!=(s=this.__cbOnOwnerUnbindGamepadDown[n])&&s(),this.__cbOnOwnerUnbindGamepadDown.splice(n,1),this.__onOwnerGamepadDown.splice(n,1)),null!=this.__cbOnceGamepadDown&&-1!=(n=this.__cbOnceGamepadDown.indexOf(e))&&(this.__cbOnceGamepadDown.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindGamepadDown[n])&&s(),this.__cbOnceOwnerUnbindGamepadDown.splice(n,1),this.__onceOwnerGamepadDown.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindGamepadDown){for(var t=0,i=this.__cbOnOwnerUnbindGamepadDown.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindGamepadDown[l])&&s()}this.__cbOnOwnerUnbindGamepadDown=null}if(null!=this.__cbOnceOwnerUnbindGamepadDown){for(t=0,i=this.__cbOnceOwnerUnbindGamepadDown.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindGamepadDown[l])&&s()}this.__cbOnceOwnerUnbindGamepadDown=null}this.__cbOnGamepadDown=null,this.__cbOnceGamepadDown=null,this.__onOwnerGamepadDown=null,this.__onceOwnerGamepadDown=null}},listensGamepadDown:function(){return null!=this.__cbOnGamepadDown&&0<this.__cbOnGamepadDown.length||null!=this.__cbOnceGamepadDown&&0<this.__cbOnceGamepadDown.length},__cbOnGamepadUp:null,__cbOnceGamepadUp:null,__cbOnOwnerUnbindGamepadUp:null,__cbOnceOwnerUnbindGamepadUp:null,__onOwnerGamepadUp:null,__onceOwnerGamepadUp:null,emitGamepadUp:function(e,n){this.willEmitGamepadUp(e,n);var t=0;if(null!=this.__cbOnGamepadUp&&(t+=this.__cbOnGamepadUp.length),null!=this.__cbOnceGamepadUp&&(t+=this.__cbOnceGamepadUp.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnGamepadUp)for(var r=0,h=this.__cbOnGamepadUp.length;r<h;){var a=r++,o=this.__onOwnerGamepadUp[a],c=!1;null!=G.get_context().focusedWindow?null!=o&&(c=Y._filterEventOwner(o)):c=!0,c?(l.vector[s]=this.__cbOnGamepadUp[a],++s):--t}if(null!=this.__cbOnceGamepadUp){for(var u=null,_=null,d=null,r=0,h=this.__cbOnceGamepadUp.length;r<h;){var b,a=r++,o=this.__onceOwnerGamepadUp[a],c=!1;null!=G.get_context().focusedWindow?null!=o&&(c=Y._filterEventOwner(o)):c=!0,c?(l.vector[s]=this.__cbOnceGamepadUp[a],this.__cbOnceGamepadUp[a]=null,b=this.__cbOnceOwnerUnbindGamepadUp[a],(this.__cbOnceOwnerUnbindGamepadUp[a]=null)!=b&&b(),++s):(--t,null==u&&(u=[],_=[],d=[]),u.push(this.__cbOnceOwnerUnbindGamepadUp[a]),_.push(this.__cbOnceGamepadUp[a]),d.push(this.__onceOwnerGamepadUp[a]))}this.__cbOnceOwnerUnbindGamepadUp=u,this.__cbOnceGamepadUp=_,this.__onceOwnerGamepadUp=d}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onGamepadUp:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event gamepadUp because owner is destroyed!");var l=function(e){null!=t&&(i.offGamepadUp(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindGamepadUp&&(this.__cbOnOwnerUnbindGamepadUp=[]),this.__cbOnOwnerUnbindGamepadUp.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindGamepadUp&&(this.__cbOnOwnerUnbindGamepadUp=[]),this.__cbOnOwnerUnbindGamepadUp.push(null);null==this.__cbOnGamepadUp&&(this.__cbOnGamepadUp=[]),this.__cbOnGamepadUp.push(t),null==this.__onOwnerGamepadUp&&(this.__onOwnerGamepadUp=[]),this.__onOwnerGamepadUp.push(n)},onceGamepadUp:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event gamepadUp because owner is destroyed!");var l=function(e){null!=t&&(i.offGamepadUp(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindGamepadUp&&(this.__cbOnceOwnerUnbindGamepadUp=[]),this.__cbOnceOwnerUnbindGamepadUp.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindGamepadUp&&(this.__cbOnceOwnerUnbindGamepadUp=[]),this.__cbOnceOwnerUnbindGamepadUp.push(null);null==this.__cbOnceGamepadUp&&(this.__cbOnceGamepadUp=[]),this.__cbOnceGamepadUp.push(t),null==this.__onceOwnerGamepadUp&&(this.__onceOwnerGamepadUp=[]),this.__onceOwnerGamepadUp.push(n)},offGamepadUp:function(e){if(null!=e){var n;null!=this.__cbOnGamepadUp&&-1!=(n=this.__cbOnGamepadUp.indexOf(e))&&(this.__cbOnGamepadUp.splice(n,1),null!=(s=this.__cbOnOwnerUnbindGamepadUp[n])&&s(),this.__cbOnOwnerUnbindGamepadUp.splice(n,1),this.__onOwnerGamepadUp.splice(n,1)),null!=this.__cbOnceGamepadUp&&-1!=(n=this.__cbOnceGamepadUp.indexOf(e))&&(this.__cbOnceGamepadUp.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindGamepadUp[n])&&s(),this.__cbOnceOwnerUnbindGamepadUp.splice(n,1),this.__onceOwnerGamepadUp.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindGamepadUp){for(var t=0,i=this.__cbOnOwnerUnbindGamepadUp.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindGamepadUp[l])&&s()}this.__cbOnOwnerUnbindGamepadUp=null}if(null!=this.__cbOnceOwnerUnbindGamepadUp){for(t=0,i=this.__cbOnceOwnerUnbindGamepadUp.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindGamepadUp[l])&&s()}this.__cbOnceOwnerUnbindGamepadUp=null}this.__cbOnGamepadUp=null,this.__cbOnceGamepadUp=null,this.__onOwnerGamepadUp=null,this.__onceOwnerGamepadUp=null}},listensGamepadUp:function(){return null!=this.__cbOnGamepadUp&&0<this.__cbOnGamepadUp.length||null!=this.__cbOnceGamepadUp&&0<this.__cbOnceGamepadUp.length},__cbOnGamepadGyro:null,__cbOnceGamepadGyro:null,__cbOnOwnerUnbindGamepadGyro:null,__cbOnceOwnerUnbindGamepadGyro:null,emitGamepadGyro:function(e,n,t,i){this.willEmitGamepadGyro(e,n,t,i);var l=0;if(null!=this.__cbOnGamepadGyro&&(l+=this.__cbOnGamepadGyro.length),null!=this.__cbOnceGamepadGyro&&(l+=this.__cbOnceGamepadGyro.length),0<l){var s=C.pool(l),r=s.get(),h=0;if(null!=this.__cbOnGamepadGyro)for(var a=0,o=this.__cbOnGamepadGyro.length;a<o;){var c=a++;!0?(r.vector[h]=this.__cbOnGamepadGyro[c],++h):--l}if(null!=this.__cbOnceGamepadGyro){for(var u=null,_=null,a=0,o=this.__cbOnceGamepadGyro.length;a<o;){var d,c=a++;!0?(r.vector[h]=this.__cbOnceGamepadGyro[c],this.__cbOnceGamepadGyro[c]=null,d=this.__cbOnceOwnerUnbindGamepadGyro[c],(this.__cbOnceOwnerUnbindGamepadGyro[c]=null)!=d&&d(),++h):(--l,null==u&&(u=[],_=[],0),u.push(this.__cbOnceOwnerUnbindGamepadGyro[c]),_.push(this.__cbOnceGamepadGyro[c]))}this.__cbOnceOwnerUnbindGamepadGyro=u,this.__cbOnceGamepadGyro=_}for(a=0,o=l;a<o;){h=a++;(0,r.vector[h])(e,n,t,i)}s.release(r)}},onGamepadGyro:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event gamepadGyro because owner is destroyed!");var l=function(e){null!=t&&(i.offGamepadGyro(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindGamepadGyro&&(this.__cbOnOwnerUnbindGamepadGyro=[]),this.__cbOnOwnerUnbindGamepadGyro.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindGamepadGyro&&(this.__cbOnOwnerUnbindGamepadGyro=[]),this.__cbOnOwnerUnbindGamepadGyro.push(null);null==this.__cbOnGamepadGyro&&(this.__cbOnGamepadGyro=[]),this.__cbOnGamepadGyro.push(t)},onceGamepadGyro:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event gamepadGyro because owner is destroyed!");var l=function(e){null!=t&&(i.offGamepadGyro(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindGamepadGyro&&(this.__cbOnceOwnerUnbindGamepadGyro=[]),this.__cbOnceOwnerUnbindGamepadGyro.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindGamepadGyro&&(this.__cbOnceOwnerUnbindGamepadGyro=[]),this.__cbOnceOwnerUnbindGamepadGyro.push(null);null==this.__cbOnceGamepadGyro&&(this.__cbOnceGamepadGyro=[]),this.__cbOnceGamepadGyro.push(t)},offGamepadGyro:function(e){if(null!=e){var n;null!=this.__cbOnGamepadGyro&&-1!=(n=this.__cbOnGamepadGyro.indexOf(e))&&(this.__cbOnGamepadGyro.splice(n,1),null!=(s=this.__cbOnOwnerUnbindGamepadGyro[n])&&s(),this.__cbOnOwnerUnbindGamepadGyro.splice(n,1)),null!=this.__cbOnceGamepadGyro&&-1!=(n=this.__cbOnceGamepadGyro.indexOf(e))&&(this.__cbOnceGamepadGyro.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindGamepadGyro[n])&&s(),this.__cbOnceOwnerUnbindGamepadGyro.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindGamepadGyro){for(var t=0,i=this.__cbOnOwnerUnbindGamepadGyro.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindGamepadGyro[l])&&s()}this.__cbOnOwnerUnbindGamepadGyro=null}if(null!=this.__cbOnceOwnerUnbindGamepadGyro){for(t=0,i=this.__cbOnceOwnerUnbindGamepadGyro.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindGamepadGyro[l])&&s()}this.__cbOnceOwnerUnbindGamepadGyro=null}this.__cbOnGamepadGyro=null,this.__cbOnceGamepadGyro=null}},listensGamepadGyro:function(){return null!=this.__cbOnGamepadGyro&&0<this.__cbOnGamepadGyro.length||null!=this.__cbOnceGamepadGyro&&0<this.__cbOnceGamepadGyro.length},__cbOnGamepadEnable:null,__cbOnceGamepadEnable:null,__cbOnOwnerUnbindGamepadEnable:null,__cbOnceOwnerUnbindGamepadEnable:null,emitGamepadEnable:function(e,n){this.willEmitGamepadEnable(e,n);var t=0;if(null!=this.__cbOnGamepadEnable&&(t+=this.__cbOnGamepadEnable.length),null!=this.__cbOnceGamepadEnable&&(t+=this.__cbOnceGamepadEnable.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnGamepadEnable)for(var r=0,h=this.__cbOnGamepadEnable.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnGamepadEnable[a],++s):--t}if(null!=this.__cbOnceGamepadEnable){for(var o=null,c=null,r=0,h=this.__cbOnceGamepadEnable.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceGamepadEnable[a],this.__cbOnceGamepadEnable[a]=null,u=this.__cbOnceOwnerUnbindGamepadEnable[a],(this.__cbOnceOwnerUnbindGamepadEnable[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindGamepadEnable[a]),c.push(this.__cbOnceGamepadEnable[a]))}this.__cbOnceOwnerUnbindGamepadEnable=o,this.__cbOnceGamepadEnable=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onGamepadEnable:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event gamepadEnable because owner is destroyed!");var l=function(e){null!=t&&(i.offGamepadEnable(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindGamepadEnable&&(this.__cbOnOwnerUnbindGamepadEnable=[]),this.__cbOnOwnerUnbindGamepadEnable.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindGamepadEnable&&(this.__cbOnOwnerUnbindGamepadEnable=[]),this.__cbOnOwnerUnbindGamepadEnable.push(null);null==this.__cbOnGamepadEnable&&(this.__cbOnGamepadEnable=[]),this.__cbOnGamepadEnable.push(t)},onceGamepadEnable:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event gamepadEnable because owner is destroyed!");var l=function(e){null!=t&&(i.offGamepadEnable(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindGamepadEnable&&(this.__cbOnceOwnerUnbindGamepadEnable=[]),this.__cbOnceOwnerUnbindGamepadEnable.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindGamepadEnable&&(this.__cbOnceOwnerUnbindGamepadEnable=[]),this.__cbOnceOwnerUnbindGamepadEnable.push(null);null==this.__cbOnceGamepadEnable&&(this.__cbOnceGamepadEnable=[]),this.__cbOnceGamepadEnable.push(t)},offGamepadEnable:function(e){if(null!=e){var n;null!=this.__cbOnGamepadEnable&&-1!=(n=this.__cbOnGamepadEnable.indexOf(e))&&(this.__cbOnGamepadEnable.splice(n,1),null!=(s=this.__cbOnOwnerUnbindGamepadEnable[n])&&s(),this.__cbOnOwnerUnbindGamepadEnable.splice(n,1)),null!=this.__cbOnceGamepadEnable&&-1!=(n=this.__cbOnceGamepadEnable.indexOf(e))&&(this.__cbOnceGamepadEnable.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindGamepadEnable[n])&&s(),this.__cbOnceOwnerUnbindGamepadEnable.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindGamepadEnable){for(var t=0,i=this.__cbOnOwnerUnbindGamepadEnable.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindGamepadEnable[l])&&s()}this.__cbOnOwnerUnbindGamepadEnable=null}if(null!=this.__cbOnceOwnerUnbindGamepadEnable){for(t=0,i=this.__cbOnceOwnerUnbindGamepadEnable.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindGamepadEnable[l])&&s()}this.__cbOnceOwnerUnbindGamepadEnable=null}this.__cbOnGamepadEnable=null,this.__cbOnceGamepadEnable=null}},listensGamepadEnable:function(){return null!=this.__cbOnGamepadEnable&&0<this.__cbOnGamepadEnable.length||null!=this.__cbOnceGamepadEnable&&0<this.__cbOnceGamepadEnable.length},__cbOnGamepadDisable:null,__cbOnceGamepadDisable:null,__cbOnOwnerUnbindGamepadDisable:null,__cbOnceOwnerUnbindGamepadDisable:null,emitGamepadDisable:function(e){this.willEmitGamepadDisable(e);var n=0;if(null!=this.__cbOnGamepadDisable&&(n+=this.__cbOnGamepadDisable.length),null!=this.__cbOnceGamepadDisable&&(n+=this.__cbOnceGamepadDisable.length),0<n){var t=C.pool(n),i=t.get(),l=0;if(null!=this.__cbOnGamepadDisable)for(var s=0,r=this.__cbOnGamepadDisable.length;s<r;){var h=s++;!0?(i.vector[l]=this.__cbOnGamepadDisable[h],++l):--n}if(null!=this.__cbOnceGamepadDisable){for(var a=null,o=null,s=0,r=this.__cbOnceGamepadDisable.length;s<r;){var c,h=s++;!0?(i.vector[l]=this.__cbOnceGamepadDisable[h],this.__cbOnceGamepadDisable[h]=null,c=this.__cbOnceOwnerUnbindGamepadDisable[h],(this.__cbOnceOwnerUnbindGamepadDisable[h]=null)!=c&&c(),++l):(--n,null==a&&(a=[],o=[],0),a.push(this.__cbOnceOwnerUnbindGamepadDisable[h]),o.push(this.__cbOnceGamepadDisable[h]))}this.__cbOnceOwnerUnbindGamepadDisable=a,this.__cbOnceGamepadDisable=o}for(s=0,r=n;s<r;){l=s++;(0,i.vector[l])(e)}t.release(i)}},onGamepadDisable:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event gamepadDisable because owner is destroyed!");var l=function(e){null!=t&&(i.offGamepadDisable(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindGamepadDisable&&(this.__cbOnOwnerUnbindGamepadDisable=[]),this.__cbOnOwnerUnbindGamepadDisable.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindGamepadDisable&&(this.__cbOnOwnerUnbindGamepadDisable=[]),this.__cbOnOwnerUnbindGamepadDisable.push(null);null==this.__cbOnGamepadDisable&&(this.__cbOnGamepadDisable=[]),this.__cbOnGamepadDisable.push(t)},onceGamepadDisable:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event gamepadDisable because owner is destroyed!");var l=function(e){null!=t&&(i.offGamepadDisable(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindGamepadDisable&&(this.__cbOnceOwnerUnbindGamepadDisable=[]),this.__cbOnceOwnerUnbindGamepadDisable.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindGamepadDisable&&(this.__cbOnceOwnerUnbindGamepadDisable=[]),this.__cbOnceOwnerUnbindGamepadDisable.push(null);null==this.__cbOnceGamepadDisable&&(this.__cbOnceGamepadDisable=[]),this.__cbOnceGamepadDisable.push(t)},offGamepadDisable:function(e){if(null!=e){var n;null!=this.__cbOnGamepadDisable&&-1!=(n=this.__cbOnGamepadDisable.indexOf(e))&&(this.__cbOnGamepadDisable.splice(n,1),null!=(s=this.__cbOnOwnerUnbindGamepadDisable[n])&&s(),this.__cbOnOwnerUnbindGamepadDisable.splice(n,1)),null!=this.__cbOnceGamepadDisable&&-1!=(n=this.__cbOnceGamepadDisable.indexOf(e))&&(this.__cbOnceGamepadDisable.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindGamepadDisable[n])&&s(),this.__cbOnceOwnerUnbindGamepadDisable.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindGamepadDisable){for(var t=0,i=this.__cbOnOwnerUnbindGamepadDisable.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindGamepadDisable[l])&&s()}this.__cbOnOwnerUnbindGamepadDisable=null}if(null!=this.__cbOnceOwnerUnbindGamepadDisable){for(t=0,i=this.__cbOnceOwnerUnbindGamepadDisable.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindGamepadDisable[l])&&s()}this.__cbOnceOwnerUnbindGamepadDisable=null}this.__cbOnGamepadDisable=null,this.__cbOnceGamepadDisable=null}},listensGamepadDisable:function(){return null!=this.__cbOnGamepadDisable&&0<this.__cbOnGamepadDisable.length||null!=this.__cbOnceGamepadDisable&&0<this.__cbOnceGamepadDisable.length},pressedScanCodes:null,pressedKeyCodes:null,pressedGamepadButtons:null,gamepadAxisValues:null,gamepadGyroDeltas:null,gamepadGyroKeys:null,gamepadNames:null,activeGamepads:null,resetDeltas:function(){for(;0<this.gamepadGyroKeys.length;){var e=this.gamepadGyroKeys.pop(),e=this.gamepadGyroDeltas.get(e);null!=e&&(e[0]=0,e[1]=0,e[2]=0)}},canEmitKeyDown:function(e){var n=!1;return null!=G.get_context().focusedWindow?null!=e&&(n=Y._filterEventOwner(e)):n=!0,n},canEmitKeyUp:function(e){var n=!1;return null!=G.get_context().focusedWindow?null!=e&&(n=Y._filterEventOwner(e)):n=!0,n},canEmitGamepadDown:function(e){var n=!1;return null!=G.get_context().focusedWindow?null!=e&&(n=Y._filterEventOwner(e)):n=!0,n},canEmitGamepadUp:function(e){var n=!1;return null!=G.get_context().focusedWindow?null!=e&&(n=Y._filterEventOwner(e)):n=!0,n},willEmitKeyDown:function(n){var t=this,e=this.pressedScanCodes.intMap.h[0|n.scanCode],i=null!=e?e:0,e=null!=(e=this.pressedKeyCodes.intMap.h[0|n.keyCode])?e:0;-1==i&&(e=i=0),this.pressedScanCodes.set(n.scanCode,i+1),this.pressedKeyCodes.set(n.keyCode,e+1),0==i&&ae.app.beginUpdateCallbacks.push(function(){var e=t.pressedScanCodes.intMap.h[0|n.scanCode];1==(null!=e?e:0)&&t.pressedScanCodes.set(n.scanCode,2),1==(null!=(e=t.pressedKeyCodes.intMap.h[0|n.keyCode])?e:0)&&t.pressedKeyCodes.set(n.keyCode,2)})},willEmitKeyUp:function(n){var t=this,e=this.pressedScanCodes.intMap.h[0|n.scanCode];0!=(null!=e?e:0)&&(this.pressedScanCodes.set(n.scanCode,-1),this.pressedKeyCodes.set(n.keyCode,-1),ae.app.beginUpdateCallbacks.push(function(){var e=t.pressedScanCodes.intMap.h[0|n.scanCode];-1==(null!=e?e:0)&&t.pressedScanCodes.set(n.scanCode,0),-1==(null!=(e=t.pressedKeyCodes.intMap.h[0|n.keyCode])?e:0)&&t.pressedKeyCodes.set(n.keyCode,0)}))},_keyPressed:function(e){e=this.pressedKeyCodes.intMap.h[0|e];return 0<(null!=e?e:0)},_keyJustPressed:function(e){e=this.pressedKeyCodes.intMap.h[0|e];return 1==(null!=e?e:0)},_keyJustReleased:function(e){e=this.pressedKeyCodes.intMap.h[0|e];return-1==(null!=e?e:0)},_scanPressed:function(e){e=this.pressedScanCodes.intMap.h[0|e];return 0<(null!=e?e:0)},_scanJustPressed:function(e){e=this.pressedScanCodes.intMap.h[0|e];return 1==(null!=e?e:0)},_scanJustReleased:function(e){e=this.pressedScanCodes.intMap.h[0|e];return-1==(null!=e?e:0)},willEmitGamepadEnable:function(e,n){for(var t=32*e,i=0;i<32;){var l=t+i++;this.pressedGamepadButtons.set(l,0),this.gamepadAxisValues.set(l,0)}-1==this.activeGamepads.indexOf(e)&&this.activeGamepads.push(e),this.gamepadNames.set(e,n)},willEmitGamepadDisable:function(e){for(var n=32*e,t=0;t<32;){var i=t++,l=n+i,s=this.pressedGamepadButtons.intMap.h[0|l],s=(0<(null!=s?s:0)&&this.emitGamepadUp(e,i),this.gamepadAxisValues.intMap.h[0|l]),l=null!=s?s:0;0!=l&&this.emitGamepadAxis(e,i,l)}var r=this.activeGamepads.indexOf(e);-1!=r&&this.activeGamepads.splice(r,1),this.gamepadNames.remove(e)},willEmitGamepadDown:function(e,n){var t=this,i=32*e+n,e=this.pressedGamepadButtons.intMap.h[0|i],n=null!=e?e:0;this.pressedGamepadButtons.set(i,(n=-1==n?0:n)+1),0==n&&ae.app.beginUpdateCallbacks.push(function(){var e=t.pressedGamepadButtons.intMap.h[0|i];1==(null!=e?e:0)&&t.pressedGamepadButtons.set(i,2)})},willEmitGamepadUp:function(e,n){var t=this,i=32*e+n;this.pressedGamepadButtons.set(i,-1),ae.app.beginUpdateCallbacks.push(function(){var e=t.pressedGamepadButtons.intMap.h[0|i];-1==(null!=e?e:0)&&t.pressedGamepadButtons.set(i,0)})},willEmitGamepadGyro:function(e,n,t,i){var l=this.gamepadGyroDeltas.get(e);null==l&&this.gamepadGyroDeltas.set(e,l=[0,0,0]),-1==this.gamepadGyroKeys.indexOf(e)&&this.gamepadGyroKeys.push(e),l[0]+=n,l[1]+=t,l[2]+=i},_gamepadPressed:function(e,n){e=this.pressedGamepadButtons.intMap.h[0|32*e+n];return 0<(null!=e?e:0)},_gamepadJustPressed:function(e,n){e=this.pressedGamepadButtons.intMap.h[0|32*e+n];return 1==(null!=e?e:0)},_gamepadJustReleased:function(e,n){e=this.pressedGamepadButtons.intMap.h[0|32*e+n];return-1==(null!=e?e:0)},willEmitGamepadAxis:function(e,n,t){this.gamepadAxisValues.set(32*e+n,t)},gamepadAxisValue:function(e,n){e=this.gamepadAxisValues.intMap.h[0|32*e+n];return null!=e?e:0},gamepadGyroDeltaX:function(e){e=this.gamepadGyroDeltas.get(e);return null!=e?e[0]:0},gamepadGyroDeltaY:function(e){e=this.gamepadGyroDeltas.get(e);return null!=e?e[1]:0},gamepadGyroDeltaZ:function(e){e=this.gamepadGyroDeltas.get(e);return null!=e?e[2]:0},startGamepadRumble:function(e,n,t,i){ae.app.backend.input.startGamepadRumble(e,t,i,n)},stopGamepadRumble:function(e){ae.app.backend.input.stopGamepadRumble(e)},gamepadName:function(e){return this.gamepadNames.get(e)},unbindEvents:function(){j.prototype.unbindEvents.call(this),this.offKeyDown(),this.offKeyUp(),this.offGamepadAxis(),this.offGamepadDown(),this.offGamepadUp(),this.offGamepadGyro(),this.offGamepadEnable(),this.offGamepadDisable()},__class__:vn}),{}),mn=(wn.__properties__={get_iterableKeys:"get_iterableKeys",get_size:"get_size"},wn.get_size=function(e){return e.size},wn.get_iterableKeys=function(e){return e.iterableKeys},wn._asIntBoolMap=function(e){return e},wn._new=function(e,n,t){return new Ge(e=null==e?16:e,n=null==n?.5:n,t=null==t?!1:t)},wn.exists=function(e,n){return e.intMap.h.hasOwnProperty(0|n)},wn.existsInline=function(e,n){return e.intMap.h.hasOwnProperty(0|n)},wn.get=function(e,n){e=e.intMap.h[0|n];return 0!=(null!=e?e:0)},wn.getInline=function(e,n){e=e.intMap.h[0|n];return 0!=(null!=e?e:0)},wn.set=function(e,n,t){e.set(n,t?1:0)},wn.remove=function(e,n){return 0!=e.remove(n)},wn.clear=function(e){e.clear()},wn.copy=function(e){var n=new Ge;return n.intMap=e.intMap.copy(),n.size=e.size,n.iterableKeys=null!=e.iterableKeys?e.iterableKeys.slice():null,n.iterableKeysUsed=null!=e.iterableKeysUsed?wn.copy(e.iterableKeysUsed):null,n},wn.iterator=function(e){return new mn(e)},wn.keys=function(e){return new yn(e)},wn.keyValueIterator=function(e){return new Un(e)},function(e){this.intBoolMap=e,this.i=0;e=this.intBoolMap.iterableKeys;this.len=null!=e?e.length:-1}),yn=((E["ceramic.IntBoolMapIterator"]=mn).__name__="ceramic.IntBoolMapIterator",mn.prototype={intBoolMap:null,i:null,len:null,hasNext:function(){return this.i<this.len},next:function(){var e=this.i++,e=this.intBoolMap.iterableKeys[e],e=this.intBoolMap.intMap.h[0|e];return 0!=(null!=e?e:0)},__class__:mn},function(e){this.i=0,this.iterableKeys=e.iterableKeys,this.len=null!=this.iterableKeys?this.iterableKeys.length:-1}),Un=((E["ceramic.IntBoolMapKeyIterator"]=yn).__name__="ceramic.IntBoolMapKeyIterator",yn.prototype={iterableKeys:null,i:null,len:null,hasNext:function(){return this.i<this.len},next:function(){var e=this.i++;return this.iterableKeys[e]},__class__:yn},function(e){this.intBoolMap=e,this.i=0;e=this.intBoolMap.iterableKeys;this.len=null!=e?e.length:-1}),Tn=((E["ceramic.IntBoolMapKeyValueIterator"]=Un).__name__="ceramic.IntBoolMapKeyValueIterator",Un.prototype={intBoolMap:null,i:null,len:null,hasNext:function(){return this.i<this.len},next:function(){var e=this.i++,e=this.intBoolMap.iterableKeys[e],n=this.intBoolMap.intMap.h[0|e];return{key:e,value:0!=(null!=n?n:0)}},__class__:Un},function(e,n,t){null==t&&(t=!1),null==n&&(n=.5),null==e&&(e=16),this.size=0,this.iterableKeysUsed=null,this.iterableKeys=null,this.intMap=new Ll,t&&(this.iterableKeys=[],this.iterableKeysUsed=new Ge(16,.5,!1))}),Dn=((E["ceramic.IntFloatMap"]=Tn).__name__="ceramic.IntFloatMap",Tn.prototype={intMap:null,iterableKeys:null,iterableKeysUsed:null,size:null,clear:function(){this.intMap.h={},this.size=0,null!=this.iterableKeys&&(this.iterableKeys=[],this.iterableKeysUsed=new Ge(16,.5,!1))},exists:function(e){return this.intMap.h.hasOwnProperty(0|e)},set:function(e,n){null!=this.iterableKeys&&0==(null!=(t=this.iterableKeysUsed.intMap.h[0|e])?t:0)&&(this.iterableKeysUsed.set(e,1),this.iterableKeys.push(e));var t=0|e;return this.intMap.h.hasOwnProperty(t)||this.size++,this.intMap.h[t]=n},get:function(e){e=this.intMap.h[0|e];return null!=e?e:0},remove:function(e){var n,t=0|e,i=0;return null!=this.iterableKeys&&0!=(null!=(n=this.iterableKeysUsed.intMap.h[0|e])?n:0)&&(this.iterableKeysUsed.set(e,0),this.iterableKeys.splice(this.iterableKeys.indexOf(e),1)),this.intMap.h.hasOwnProperty(t)&&(i=this.intMap.h[t],this.size--),this.intMap.remove(t),i},getInline:function(e){e=this.intMap.h[0|e];return null!=e?e:0},existsInline:function(e){return this.intMap.h.hasOwnProperty(0|e)},copy:function(){var e=new Tn;return e.intMap=this.intMap.copy(),e.size=this.size,e.iterableKeys=null!=this.iterableKeys?this.iterableKeys.slice():null,e.iterableKeysUsed=null!=this.iterableKeysUsed?wn.copy(this.iterableKeysUsed):null,e},iterator:function(){return new Dn(this)},keys:function(){return new xn(this)},keyValueIterator:function(){return new Sn(this)},__class__:Tn},function(e){this.intFloatMap=e,this.i=0;e=this.intFloatMap.iterableKeys;this.len=null!=e?e.length:-1}),xn=((E["ceramic.IntFloatMapIterator"]=Dn).__name__="ceramic.IntFloatMapIterator",Dn.prototype={intFloatMap:null,i:null,len:null,hasNext:function(){return this.i<this.len},next:function(){var e=this.i++,e=this.intFloatMap.iterableKeys[e],e=this.intFloatMap.intMap.h[0|e];return null!=e?e:0},__class__:Dn},function(e){this.i=0,this.iterableKeys=e.iterableKeys,this.len=null!=this.iterableKeys?this.iterableKeys.length:-1}),Sn=((E["ceramic.IntFloatMapKeyIterator"]=xn).__name__="ceramic.IntFloatMapKeyIterator",xn.prototype={iterableKeys:null,i:null,len:null,hasNext:function(){return this.i<this.len},next:function(){var e=this.i++;return this.iterableKeys[e]},__class__:xn},function(e){this.intFloatMap=e,this.i=0;e=this.intFloatMap.iterableKeys;this.len=null!=e?e.length:-1}),An=((E["ceramic.IntFloatMapKeyValueIterator"]=Sn).__name__="ceramic.IntFloatMapKeyValueIterator",Sn.prototype={intFloatMap:null,i:null,len:null,hasNext:function(){return this.i<this.len},next:function(){var e=this.i++,e=this.intFloatMap.iterableKeys[e],n=this.intFloatMap.intMap.h[0|e];return{key:e,value:null!=n?n:0}},__class__:Sn},function(e){this.intIntMap=e,this.i=0;e=this.intIntMap.iterableKeys;this.len=null!=e?e.length:-1}),kn=((E["ceramic.IntIntMapIterator"]=An).__name__="ceramic.IntIntMapIterator",An.prototype={intIntMap:null,i:null,len:null,hasNext:function(){return this.i<this.len},next:function(){var e=this.i++,e=this.intIntMap.iterableKeys[e],e=this.intIntMap.intMap.h[0|e];return null!=e?e:0},__class__:An},function(e){this.i=0,this.iterableKeys=e.iterableKeys,this.len=null!=this.iterableKeys?this.iterableKeys.length:-1}),In=((E["ceramic.IntIntMapKeyIterator"]=kn).__name__="ceramic.IntIntMapKeyIterator",kn.prototype={iterableKeys:null,i:null,len:null,hasNext:function(){return this.i<this.len},next:function(){var e=this.i++;return this.iterableKeys[e]},__class__:kn},function(e){this.intIntMap=e,this.i=0;e=this.intIntMap.iterableKeys;this.len=null!=e?e.length:-1}),Pn=((E["ceramic.IntIntMapKeyValueIterator"]=In).__name__="ceramic.IntIntMapKeyValueIterator",In.prototype={intIntMap:null,i:null,len:null,hasNext:function(){return this.i<this.len},next:function(){var e=this.i++,e=this.intIntMap.iterableKeys[e],n=this.intIntMap.intMap.h[0|e];return{key:e,value:null!=n?n:0}},__class__:In},function(e,n,t){null==t&&(t=!1),null==n&&(n=.5),null==e&&(e=16),this.iterableKeys=null,this.nextFreeIndex=0,this.initialSize=e,this.initialFillFactor=n,this._keys=new Ge(e,n),this.values=new Array(e),t&&(this.iterableKeys=[])}),Fn=((E["ceramic.IntMap"]=Pn).__name__="ceramic.IntMap",Pn.prototype={_keys:null,nextFreeIndex:null,initialSize:null,initialFillFactor:null,iterableKeys:null,values:null,get:function(e){e=this._keys.intMap.h[0|e],e=null!=e?e:0;return 2<=e?this.values[e-2]:Pn.RET_NULL},getInline:function(e){e=this._keys.intMap.h[0|e],e=null!=e?e:0;return 2<=e?this.values[e-2]:Pn.RET_NULL},exists:function(e){return this._keys.intMap.h.hasOwnProperty(0|e)},existsInline:function(e){return this._keys.intMap.h.hasOwnProperty(0|e)},set:function(e,n){var t=this._keys.intMap.h[0|e],t=null!=t?t:0;if(2<=t)t-=2,null!=n?this.values[t]=n:(this.values[t]=null,this.nextFreeIndex>t&&(this.nextFreeIndex=t),this._keys.set(e,1));else if(null==n)1!=t&&(this._keys.set(e,1),null!=this.iterableKeys)&&this.iterableKeys.push(e);else{var i=this.values.length;for(this.nextFreeIndex>=i&&this.resizeValues(2*this.values.length),this.values[this.nextFreeIndex]=n,this._keys.set(e,this.nextFreeIndex+2),1!=t&&null!=this.iterableKeys&&this.iterableKeys.push(e);this.nextFreeIndex++,this.nextFreeIndex<i&&null!=this.values[this.nextFreeIndex];);}},remove:function(e){var n=this._keys.intMap.h[0|e],n=null!=n?n:0;0!=n&&(1!=n&&(this.values[n-=2]=null,this.nextFreeIndex>n)&&(this.nextFreeIndex=n),this._keys.remove(e),null!=this.iterableKeys)&&this.iterableKeys.splice(this.iterableKeys.indexOf(e),1)},copy:function(){var e=new Pn,n=(e.initialSize=this.initialSize,e.initialFillFactor=this.initialFillFactor,this._keys),t=new Ge,n=(t.intMap=n.intMap.copy(),t.size=n.size,t.iterableKeys=null!=n.iterableKeys?n.iterableKeys.slice():null,t.iterableKeysUsed=null!=n.iterableKeysUsed?wn.copy(n.iterableKeysUsed):null,e._keys=t,e.nextFreeIndex=this.nextFreeIndex,e.iterableKeys=null!=this.iterableKeys?this.iterableKeys.slice():null,this.values),t=new Array(n.length);return Xl.blit(n,0,t,0,n.length),e.values=t,e},clear:function(){if(this._keys=new Ge(this.initialSize,this.initialFillFactor),this.values=new Array(this.initialSize),this.nextFreeIndex=0,null!=this.iterableKeys){var e=this.iterableKeys;if(0!=e.length)if(0<e.length)e.splice(0,e.length);else for(var n=e;n.length<0;)n.push(null)}},iterator:function(){return new Fn(this)},keys:function(){return new Mn(this)},keyValueIterator:function(){return new Bn(this)},resizeValues:function(e){for(var n=this.values,t=(this.values=new Array(e),0),i=n.length;t<i;){var l=t++;this.values[l]=n[l]}},__class__:Pn},function(e){this.intMap=e,this.i=0;e=this.intMap.iterableKeys;this.len=null!=e?e.length:-1}),Mn=((E["ceramic.IntMapIterator"]=Fn).__name__="ceramic.IntMapIterator",Fn.prototype={intMap:null,i:null,len:null,hasNext:function(){return this.i<this.len},next:function(){var e=this.i++,e=this.intMap.iterableKeys[e];return this.intMap.get(e)},__class__:Fn},function(e){this.i=0,this.iterableKeys=e.iterableKeys,this.len=null!=this.iterableKeys?this.iterableKeys.length:-1}),Bn=((E["ceramic.IntMapKeyIterator"]=Mn).__name__="ceramic.IntMapKeyIterator",Mn.prototype={iterableKeys:null,i:null,len:null,hasNext:function(){return this.i<this.len},next:function(){var e=this.i++;return this.iterableKeys[e]},__class__:Mn},function(e){this.intMap=e,this.i=0;e=this.intMap.iterableKeys;this.len=null!=e?e.length:-1}),En=((E["ceramic.IntMapKeyValueIterator"]=Bn).__name__="ceramic.IntMapKeyValueIterator",Bn.prototype={intMap:null,i:null,len:null,hasNext:function(){return this.i<this.len},next:function(){var e=this.i++,e=this.intMap.iterableKeys[e];return{key:e,value:this.intMap.get(e)}},__class__:Bn},(E["ceramic.Json"]=xb).__name__="ceramic.Json",xb.stringify=function(e,n,t){return JSON.stringify(e,n,t)},xb.parse=function(e){return JSON.parse(e)},function(e,n){this.keyCode=e,this.scanCode=n}),Rn=((E["ceramic.Key"]=En).__name__="ceramic.Key",En.prototype={keyCode:null,keyCodeName:null,get_keyCodeName:function(){return a.$name(this.keyCode)},scanCode:null,scanCodeName:null,get_scanCodeName:function(){return d.$name(this.scanCode)},toString:function(){return"Key("+this.keyCode+" "+a.$name(this.keyCode)+" / "+this.scanCode+" "+d.$name(this.scanCode)+")"},__class__:En,__properties__:{get_scanCodeName:"get_scanCodeName",get_keyCodeName:"get_keyCodeName"}},_e["ceramic.KeyAcceleratorItem"]={__ename__:"ceramic.KeyAcceleratorItem",__constructs__:null,SHIFT:{_hx_name:"SHIFT",_hx_index:0,__enum__:"ceramic.KeyAcceleratorItem",toString:c},CMD_OR_CTRL:{_hx_name:"CMD_OR_CTRL",_hx_index:1,__enum__:"ceramic.KeyAcceleratorItem",toString:c},SCAN:((b=function(e){return{_hx_index:2,scanCode:e,__enum__:"ceramic.KeyAcceleratorItem",toString:c}})._hx_name="SCAN",b.__params__=["scanCode"],b),KEY:((b=function(e){return{_hx_index:3,keyCode:e,__enum__:"ceramic.KeyAcceleratorItem",toString:c}})._hx_name="KEY",b.__params__=["keyCode"],b)}),Ln=(Rn.__constructs__=[Rn.SHIFT,Rn.CMD_OR_CTRL,Rn.SCAN,Rn.KEY],(E["ceramic.KeyBinding"]=Ab).__name__="ceramic.KeyBinding",Ab.__super__=j,Ab.prototype=$extend(j.prototype,{__cbOnTrigger:null,__cbOnceTrigger:null,__cbOnOwnerUnbindTrigger:null,__cbOnceOwnerUnbindTrigger:null,emitTrigger:function(){var e=0;if(null!=this.__cbOnTrigger&&(e+=this.__cbOnTrigger.length),null!=this.__cbOnceTrigger&&(e+=this.__cbOnceTrigger.length),0<e){var n=C.pool(e),t=n.get(),i=0;if(null!=this.__cbOnTrigger)for(var l=0,s=this.__cbOnTrigger.length;l<s;){var r=l++;!0?(t.vector[i]=this.__cbOnTrigger[r],++i):--e}if(null!=this.__cbOnceTrigger){for(var h=null,a=null,l=0,s=this.__cbOnceTrigger.length;l<s;){var o,r=l++;!0?(t.vector[i]=this.__cbOnceTrigger[r],this.__cbOnceTrigger[r]=null,o=this.__cbOnceOwnerUnbindTrigger[r],(this.__cbOnceOwnerUnbindTrigger[r]=null)!=o&&o(),++i):(--e,null==h&&(h=[],a=[],0),h.push(this.__cbOnceOwnerUnbindTrigger[r]),a.push(this.__cbOnceTrigger[r]))}this.__cbOnceOwnerUnbindTrigger=h,this.__cbOnceTrigger=a}for(l=0,s=e;l<s;){i=l++;(0,t.vector[i])()}n.release(t)}},onTrigger:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event trigger because owner is destroyed!");var l=function(e){null!=t&&(i.offTrigger(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindTrigger&&(this.__cbOnOwnerUnbindTrigger=[]),this.__cbOnOwnerUnbindTrigger.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindTrigger&&(this.__cbOnOwnerUnbindTrigger=[]),this.__cbOnOwnerUnbindTrigger.push(null);null==this.__cbOnTrigger&&(this.__cbOnTrigger=[]),this.__cbOnTrigger.push(t)},onceTrigger:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event trigger because owner is destroyed!");var l=function(e){null!=t&&(i.offTrigger(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindTrigger&&(this.__cbOnceOwnerUnbindTrigger=[]),this.__cbOnceOwnerUnbindTrigger.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindTrigger&&(this.__cbOnceOwnerUnbindTrigger=[]),this.__cbOnceOwnerUnbindTrigger.push(null);null==this.__cbOnceTrigger&&(this.__cbOnceTrigger=[]),this.__cbOnceTrigger.push(t)},offTrigger:function(e){if(null!=e){var n;null!=this.__cbOnTrigger&&-1!=(n=this.__cbOnTrigger.indexOf(e))&&(this.__cbOnTrigger.splice(n,1),null!=(s=this.__cbOnOwnerUnbindTrigger[n])&&s(),this.__cbOnOwnerUnbindTrigger.splice(n,1)),null!=this.__cbOnceTrigger&&-1!=(n=this.__cbOnceTrigger.indexOf(e))&&(this.__cbOnceTrigger.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindTrigger[n])&&s(),this.__cbOnceOwnerUnbindTrigger.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindTrigger){for(var t=0,i=this.__cbOnOwnerUnbindTrigger.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindTrigger[l])&&s()}this.__cbOnOwnerUnbindTrigger=null}if(null!=this.__cbOnceOwnerUnbindTrigger){for(t=0,i=this.__cbOnceOwnerUnbindTrigger.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindTrigger[l])&&s()}this.__cbOnceOwnerUnbindTrigger=null}this.__cbOnTrigger=null,this.__cbOnceTrigger=null}},listensTrigger:function(){return null!=this.__cbOnTrigger&&0<this.__cbOnTrigger.length||null!=this.__cbOnceTrigger&&0<this.__cbOnceTrigger.length},accelerator:null,bindings:null,pressedItems:null,matches:null,leftShiftPressed:null,rightShiftPressed:null,disableIfShiftPressed:null,cmdPressed:null,ctrlPressed:null,forceKeysUp:function(){this.leftShiftPressed=!1,this.rightShiftPressed=!1;for(var e=0,n=this.pressedItems.length;e<n;){var t=e++;this.pressedItems[t]=0}this.checkStatus()},bindKeyboardEvents:function(){for(var e=!1,n=0,t=this.accelerator.length;n<t;){var i=n++,l=(this.pressedItems.push(0),this.accelerator[i]);switch(l._hx_index){case 0:e=!0,this.bindScanCode(225,i),this.bindScanCode(229,i);break;case 1:this.disableIfShiftPressed=!0,this.bindScanCode(227,i),this.bindScanCode(231,i),this.bindScanCode(224,i),this.bindScanCode(228,i);break;case 2:var s=l.scanCode;this.bindScanCode(s,i);break;case 3:s=l.keyCode;this.bindKeyCode(s,i)}}e&&(this.disableIfShiftPressed=!1),this.disableIfShiftPressed&&this.bindShift()},bindScanCode:function(l,s){var r=this;ae.app.input.onKeyDown(this,function(e){var n,t,i;227==l||231==l?r.cmdPressed++:224!=l&&228!=l||r.ctrlPressed++,e.scanCode==l&&(n=ae.app.input,e=e.scanCode,t=r.bindings,(!vn._elementsImFocused()||(i=!1,null!=G.get_context().focusedWindow?null!=t&&(i=Y._filterEventOwner(t)):i=!0,i))&&n._scanJustPressed(e)||0==r.pressedItems[s])&&(r.pressedItems[s]++,r.checkStatus(),0<r.cmdPressed||0<r.ctrlPressed)&&227!=l&&231!=l&&224!=l&&228!=l&&225!=l&&229!=l&&ae.app.onceUpdate(r,function(e){0<r.pressedItems[s]&&r.pressedItems[s]--,r.checkStatus()})}),ae.app.input.onKeyUp(this,function(e){if(227==l||231==l){if(r.cmdPressed--,0==r.cmdPressed&&0==r.ctrlPressed){for(var n=0,t=r.pressedItems.length;n<t;){n++;r.pressedItems[s]=0}return void r.checkStatus()}}else if((224==l||228==l)&&(r.ctrlPressed--,0==r.cmdPressed)&&0==r.ctrlPressed){for(n=0,t=r.pressedItems.length;n<t;){n++;r.pressedItems[s]=0}return void r.checkStatus()}e.scanCode==l&&(0<r.pressedItems[s]&&r.pressedItems[s]--,r.checkStatus())})},bindKeyCode:function(l,s){var r=this;ae.app.input.onKeyDown(this,function(e){var n,t,i;e.keyCode==l&&(n=ae.app.input,e=e.scanCode,t=r.bindings,(!vn._elementsImFocused()||(i=!1,null!=G.get_context().focusedWindow?null!=t&&(i=Y._filterEventOwner(t)):i=!0,i))&&n._scanJustPressed(e)||0==r.pressedItems[s])&&(r.pressedItems[s]++,r.checkStatus(),0<r.cmdPressed||0<r.ctrlPressed)&&1073742051!=l&&1073742055!=l&&1073742048!=l&&1073742052!=l&&1073742049!=l&&1073742053!=l&&ae.app.onceUpdate(r,function(e){0<r.pressedItems[s]&&r.pressedItems[s]--,r.checkStatus()})}),ae.app.input.onKeyUp(this,function(e){e.keyCode==l&&(0<r.pressedItems[s]&&r.pressedItems[s]--,r.checkStatus())})},bindShift:function(){var n=this;ae.app.input.onKeyDown(this,function(e){225==e.scanCode?n.leftShiftPressed=!0:229==e.scanCode&&(n.rightShiftPressed=!0)}),ae.app.input.onKeyUp(this,function(e){225==e.scanCode?n.leftShiftPressed=!1:229==e.scanCode&&(n.rightShiftPressed=!1)})},checkStatus:function(){for(var e=!this.matches,n=!this.disableIfShiftPressed||!this.leftShiftPressed&&!this.rightShiftPressed,t=0,i=this.pressedItems.length;t<i;){var l=t++;if(this.pressedItems[l]<=0){n=!1;break}}n?(this.matches=!0,e&&this.emitTrigger()):this.matches=!1},unbindEvents:function(){j.prototype.unbindEvents.call(this),this.offTrigger()},__class__:Ab}),function(){this.initializerName=null,this.bindings=[],j.call(this),Ln.instances.push(this)}),a=((E["ceramic.KeyBindings"]=Ln).__name__="ceramic.KeyBindings",Ln.__interfaces__=[a0],Ln.forceKeysUp=function(){for(var e=0,n=Ln.instances;e<n.length;)for(var t=n[e],i=(++e,0),l=t.bindings;i<l.length;){var s=l[i];++i,s.forceKeysUp()}},Ln.__super__=j,Ln.prototype=$extend(j.prototype,{bindings:null,bindAsComponent:function(){},destroy:function(){if(!(this._lifecycleState<=-2)){if(this._lifecycleState=-2,this._lifecycleState=-1,j.prototype.destroy.call(this),null!=this.bindings){for(;0<this.bindings.length;)this.bindings.pop().destroy();this.bindings=null}Ln.instances.splice(Ln.instances.indexOf(this),1)}},bind:function(e,n){e=new Ab(e,this);return this.bindings.push(e),null!=n&&e.onTrigger(this,n),e},entity:null,setEntity:function(e){this.entity=e instanceof j?e:null},getEntity:function(){return this.entity},initializerName:null,__class__:Ln}),{}),Vn=(a.$name=function(e){if(0!=(e&d.MASK))return d.$name(e&~d.MASK);switch(e){case 8:return d.$name(42);case 9:return d.$name(43);case 13:return d.$name(40);case 27:return d.$name(41);case 32:return d.$name(44);case 97:return d.$name(4);case 98:return d.$name(5);case 99:return d.$name(6);case 100:return d.$name(7);case 101:return d.$name(8);case 102:return d.$name(9);case 103:return d.$name(10);case 104:return d.$name(11);case 105:return d.$name(12);case 106:return d.$name(13);case 107:return d.$name(14);case 108:return d.$name(15);case 109:return d.$name(16);case 110:return d.$name(17);case 111:return d.$name(18);case 112:return d.$name(19);case 113:return d.$name(20);case 114:return d.$name(21);case 115:return d.$name(22);case 116:return d.$name(23);case 117:return d.$name(24);case 118:return d.$name(25);case 119:return d.$name(26);case 120:return d.$name(27);case 121:return d.$name(28);case 122:return d.$name(29);case 127:return d.$name(76);default:return String.fromCodePoint(e)}},a.toString=function(e){return"KeyCode("+e+" "+a.$name(e)+")"},(E["ceramic.LayersLayout"]=Db).__name__="ceramic.LayersLayout",Db.__super__=f0,Db.prototype=$extend(f0.prototype,{computeSize:function(e,n,t,i){var l,s=this.paddingLeft,r=0==s?0:s<-39999.9&&-60000.1<s?.01*(s+5e4)*e:-60002.1<s&&s<-60001.9?e:s,h=0==(s=this.paddingTop)?0:s<-39999.9&&-60000.1<s?.01*(s+5e4)*n:-60002.1<s&&s<-60001.9?n:s,a=0==(s=this.paddingRight)?0:s<-39999.9&&-60000.1<s?.01*(s+5e4)*e:-60002.1<s&&s<-60001.9?e:s,s=0==(s=this.paddingBottom)?0:s<-39999.9&&-60000.1<s?.01*(s+5e4)*n:-60002.1<s&&s<-60001.9?n:s,o=(f0.prototype.computeSize.call(this,e,n,t,i),this.computedSize.computedWidth),c=this.computedSize.computedHeight,u=15,_=this.viewWidth,d=0,b=0;if(!!(-60001.1<_&&_<-60000.9)&&(null==(l=null)?1==(1&t):(t=l?1|t:-2&t,l))||(o-=r+a),!!(-60001.1<(_=this.viewHeight)&&_<-60000.9)&&(null==(l=null)?4==(4&t):(t=l?4|t:-5&t,l))||(c-=h+s),null!=this.subviews)for(var g=0,O=this.subviews.length;g<O;){var f=g++;1!=(1&(C=this.subviews[f]).flags)&&(C.computedSize=C.persistedComputedSizeForContext(o,c,u),null==C.computedSize&&C.computeSize(o,c,u,!1),C.computedSize.computedWidth>d&&(d=C.computedSize.computedWidth),C.computedSize.computedHeight>b)&&(b=C.computedSize.computedHeight)}if((null==(l=null)?1==(1&u):(u=l?1|u:-2&u,l))&&o<d&&(o=d),(null==(l=null)?4==(4&u):(u=l?4|u:-5&u,l))&&c<b&&(c=b),i){var p=u;if(null!=this.subviews)for(g=0,O=this.subviews.length;g<O;){var C,f=g++;1!=(1&(C=this.subviews[f]).flags)&&(C.computedSize=C.persistedComputedSizeForContext(o,c,p),null==C.computedSize)&&C.computeSize(o,c,p,i)}}o+=r+a,c+=h+s,i?this.persistComputedSize(e,n,t,o,c):this.assignComputedSize(o,c)},layout:function(){var e=this.paddingLeft,n=this.get_width(),t=0==e?0:e<-39999.9&&-60000.1<e?.01*(e+5e4)*n:-60002.1<e&&e<-60001.9?n:e,e=this.paddingTop,n=this.get_height(),i=0==e?0:e<-39999.9&&-60000.1<e?.01*(e+5e4)*n:-60002.1<e&&e<-60001.9?n:e,e=this.paddingRight,n=this.get_width(),l=0==e?0:e<-39999.9&&-60000.1<e?.01*(e+5e4)*n:-60002.1<e&&e<-60001.9?n:e,e=this.paddingBottom,n=this.get_height(),n=0==e?0:e<-39999.9&&-60000.1<e?.01*(e+5e4)*n:-60002.1<e&&e<-60001.9?n:e,s=this.get_width()-t-l,r=this.get_height()-i-n,h=1;if(null!=this.subviews)for(var a=0,o=this.subviews.length;a<o;){var c,u,_=a++,_=this.subviews[_];1!=(1&_.flags)&&(_.computedSize=_.persistedComputedSizeForContext(s,r,15),null==_.computedSize&&_.computeSize(s,r,15,!1),c=_.computedSize.computedHeight,_.set_width(_.computedSize.computedWidth),_.set_height(c),c=_.get_width()*_.anchorX+t,e=_.offsetX,_.set_x(c+(0==e?0:e<-39999.9&&-60000.1<e?.01*(e+5e4)*s:-60002.1<e&&e<-60001.9?s:e)),c=_.get_height()*_.anchorY+i,u=_.offsetY,_.set_y(c+(0==u?0:u<-39999.9&&-60000.1<u?.01*(u+5e4)*r:-60002.1<u&&u<-60001.9?r:u)),_.set_depth(h++))}},__class__:Db}),_e["ceramic.LayoutAlign"]={__ename__:"ceramic.LayoutAlign",__constructs__:null,LEFT:{_hx_name:"LEFT",_hx_index:0,__enum__:"ceramic.LayoutAlign",toString:c},RIGHT:{_hx_name:"RIGHT",_hx_index:1,__enum__:"ceramic.LayoutAlign",toString:c},TOP:{_hx_name:"TOP",_hx_index:2,__enum__:"ceramic.LayoutAlign",toString:c},BOTTOM:{_hx_name:"BOTTOM",_hx_index:3,__enum__:"ceramic.LayoutAlign",toString:c},CENTER:{_hx_name:"CENTER",_hx_index:4,__enum__:"ceramic.LayoutAlign",toString:c}}),Hn=(Vn.__constructs__=[Vn.LEFT,Vn.RIGHT,Vn.TOP,Vn.BOTTOM,Vn.CENTER],_e["ceramic.LayoutDirection"]={__ename__:"ceramic.LayoutDirection",__constructs__:null,HORIZONTAL:{_hx_name:"HORIZONTAL",_hx_index:0,__enum__:"ceramic.LayoutDirection",toString:c},VERTICAL:{_hx_name:"VERTICAL",_hx_index:1,__enum__:"ceramic.LayoutDirection",toString:c}}),Wn=(Hn.__constructs__=[Hn.HORIZONTAL,Hn.VERTICAL],(E["polyline.MiterUtils"]=Gb).__name__="polyline.MiterUtils",Gb.prototype={tangentX:null,tangentY:null,miterX:null,miterY:null,aX:null,aY:null,bX:null,bY:null,outX:null,outY:null,tmpX:null,tmpY:null,computeMiter:function(e){return this.tangentX=this.aX+this.bX,this.tangentY=this.aY+this.bY,this.miterX=-this.tangentY,this.miterY=this.tangentX,this.tmpX=-this.aY,this.tmpY=this.aX,e/(this.miterX*this.tmpX+this.miterY*this.tmpY)},normal:function(e,n){this.outX=-n,this.outY=e},direction:function(){this.outX=this.aX-this.bX,this.outY=this.aY-this.bY;var e=this.outX*this.outX+this.outY*this.outY;0<e&&(e=1/Math.sqrt(e),this.outX*=e,this.outY*=e)},__class__:Gb},(E["polyline.Stroke"]=Hb).__name__="polyline.Stroke",Hb.prototype={miterLimit:null,thickness:null,join:null,cap:null,canLoop:null,tmpX:null,tmpY:null,lineAX:null,lineAY:null,lineBX:null,lineBY:null,tangentX:null,tangentY:null,miterX:null,miterY:null,capEndX:null,capEndY:null,_hasNormal:null,_normalX:null,_normalY:null,_lastFlip:null,_started:null,_points:null,build:function(e,n,t){if(0<n.length&&n.splice(0,n.length),0<t.length&&t.splice(0,t.length),0!=e.length){var i,l,s,r,h,a,o,c,u,_,d,b,g,O,f,p,C,v,w,E=e.length,m=(this._lastFlip=-1,this._started=!1,2),y=0,U=this._hasNormal=!1,T=0,D=0,x=0,S=0,A=-9999999999,k=-9999999999,I=0;for(this._points=e;m<E;){if(U||(T=e[m-2],D=e[m-1],x=e[m],S=e[m+1]),U=!(k=A=-9999999999),I=this.mapThickness(x,S,m,e),m<E-2)if(A=e[m+2],k=e[m+3],x==A&&S==k)U=!0;else{var P=T-x,F=D-S,M=((A-x)*P+(k-S)*F)/(P*P+F*F),P=A-(x+M*P),M=k-(S+M*F);if(Math.sqrt(P*P+M*M)<I){for(var B=Math.atan2(D-S,T-x)-Math.atan2(k-S,A-x);B<0;)B+=6.28318530718;for(;6.28318530718<B;)B-=6.28318530718;(B<1.57079632679||4.71238898038<B)&&(k=A=-9999999999)}}U||(F=T,P=D,M=x,i=S,d=.5*I,l=0,o=this.cap==ps.SQUARE,O=this.join==Cs.BEVEL,Hb.miterUtils.aX=M,Hb.miterUtils.aY=i,Hb.miterUtils.bX=F,Hb.miterUtils.bY=P,(f=Hb.miterUtils).outX=f.aX-f.bX,f.outY=f.aY-f.bY,0<(_=f.outX*f.outX+f.outY*f.outY)&&(_=1/Math.sqrt(_),f.outX*=_,f.outY*=_),this.lineAX=Hb.miterUtils.outX,this.lineAY=Hb.miterUtils.outY,this._hasNormal||((s=Hb.miterUtils).outX=-this.lineAY,s.outY=this.lineAX,this._normalX=Hb.miterUtils.outX,this._normalY=Hb.miterUtils.outY,this._hasNormal=!0),this._started||(this._started=!0,s=.5*this.mapThickness(this._points[0],this._points[1],0,this._points),o&&(this.capEndX=F+this.lineAX*-s,this.capEndY=P+this.lineAY*-s,F=this.capEndX,P=this.capEndY),r=this._normalX,h=this._normalY,this.tmpX=F+r*-s,this.tmpY=P+h*-s,n.push(this.tmpX),n.push(this.tmpY),this.tmpX=F+r*s,this.tmpY=P+h*s,n.push(this.tmpX),n.push(this.tmpY)),t.push(y),t.push(y+1),t.push(y+2),-9999999999==A?((r=Hb.miterUtils).outX=-this.lineAY,r.outY=this.lineAX,this._normalX=Hb.miterUtils.outX,this._normalY=Hb.miterUtils.outY,this._hasNormal=!0,o&&(this.capEndX=M+this.lineAX*d,this.capEndY=i+this.lineAY*d,M=this.capEndX,i=this.capEndY),h=this._normalX,o=this._normalY,this.tmpX=M+h*-d,this.tmpY=i+o*-d,n.push(this.tmpX),n.push(this.tmpY),this.tmpX=M+h*d,this.tmpY=i+o*d,n.push(this.tmpX),n.push(this.tmpY),1==this._lastFlip?(t.push(y),t.push(y+2)):(t.push(y+2),t.push(y+1)),t.push(y+3),l+=4):(Hb.miterUtils.aX=A,Hb.miterUtils.aY=k,Hb.miterUtils.bX=M,Hb.miterUtils.bY=i,(o=Hb.miterUtils).outX=o.aX-o.bX,o.outY=o.aY-o.bY,0<(a=o.outX*o.outX+o.outY*o.outY)&&(a=1/Math.sqrt(a),o.outX*=a,o.outY*=a),this.lineBX=Hb.miterUtils.outX,this.lineBY=Hb.miterUtils.outY,Hb.miterUtils.tangentX=this.tangentX,Hb.miterUtils.tangentY=this.tangentY,Hb.miterUtils.miterX=this.miterX,Hb.miterUtils.miterY=this.miterY,Hb.miterUtils.aX=this.lineAX,Hb.miterUtils.aY=this.lineAY,Hb.miterUtils.bX=this.lineBX,Hb.miterUtils.bY=this.lineBY,(o=Hb.miterUtils).tangentX=o.aX+o.bX,o.tangentY=o.aY+o.bY,o.miterX=-o.tangentY,o.miterY=o.tangentX,o.tmpX=-o.aY,o.tmpY=o.aX,b=d/(o.miterX*o.tmpX+o.miterY*o.tmpY),this.tangentX=Hb.miterUtils.tangentX,this.tangentY=Hb.miterUtils.tangentY,this.miterX=Hb.miterUtils.miterX,this.miterY=Hb.miterUtils.miterY,a=this.tangentX*this._normalX+this.tangentY*this._normalY<0?-1:1,(o=O)||this.join!=Cs.MITER||b/d>this.miterLimit&&(o=!0),o?(this.tmpX=M+this._normalX*-d*a,this.tmpY=i+this._normalY*-d*a,n.push(this.tmpX),n.push(this.tmpY),this.tmpX=M+this.miterX*b*a,this.tmpY=i+this.miterY*b*a,n.push(this.tmpX),n.push(this.tmpY),this._lastFlip!=-a?(t.push(y),t.push(y+2)):(t.push(y+2),t.push(y+1)),t.push(y+3),t.push(y+2),t.push(y+3),t.push(y+4),(o=Hb.miterUtils).outX=-this.lineBY,o.outY=this.lineBX,this.tmpX=Hb.miterUtils.outX,this.tmpY=Hb.miterUtils.outY,this._normalX=this.tmpX,this._normalY=this.tmpY,this.tmpX=M+this.tmpX*-d*a,this.tmpY=i+this.tmpY*-d*a,n.push(this.tmpX),n.push(this.tmpY),l+=3):(o=this.miterX,c=this.miterY,this.tmpX=M+o*-b,this.tmpY=i+c*-b,n.push(this.tmpX),n.push(this.tmpY),this.tmpX=M+o*b,this.tmpY=i+c*b,n.push(this.tmpX),n.push(this.tmpY),1==this._lastFlip?(t.push(y),t.push(y+2)):(t.push(y+2),t.push(y+1)),t.push(y+3),a=-1,this._normalX=this.miterX,this._normalY=this.miterY,l+=2),this._lastFlip=a),y+=l),-9999999999==A&&(this._lastFlip=-1,this._started=!1,U=this._hasNormal=!1),m+=2}this._points=null,this.canLoop&&this.cap==ps.BUTT&&e[0]==e[e.length-2]&&e[1]==e[e.length-1]&&6<e.length&&(g=e[2],p=e[3],v=e[e.length-4],C=e[e.length-3],u=e[0],w=e[1],Hb.miterUtils.aX=g,Hb.miterUtils.aY=p,Hb.miterUtils.bX=u,Hb.miterUtils.bY=w,(f=Hb.miterUtils).outX=f.aX-f.bX,f.outY=f.aY-f.bY,0<(_=f.outX*f.outX+f.outY*f.outY)&&(_=1/Math.sqrt(_),f.outX*=_,f.outY*=_),g=Hb.miterUtils.outX,p=Hb.miterUtils.outY,Hb.miterUtils.aX=u,Hb.miterUtils.aY=w,Hb.miterUtils.bX=v,Hb.miterUtils.bY=C,(f=Hb.miterUtils).outX=f.aX-f.bX,f.outY=f.aY-f.bY,0<(_=f.outX*f.outX+f.outY*f.outY)&&(_=1/Math.sqrt(_),f.outX*=_,f.outY*=_),v=Hb.miterUtils.outX,C=Hb.miterUtils.outY,Hb.miterUtils.aX=v,Hb.miterUtils.aY=C,Hb.miterUtils.bX=g,Hb.miterUtils.bY=p,d=.5*I,(f=Hb.miterUtils).tangentX=f.aX+f.bX,f.tangentY=f.aY+f.bY,f.miterX=-f.tangentY,f.miterY=f.tangentX,f.tmpX=-f.aY,f.tmpY=f.aX,b=d/(f.miterX*f.tmpX+f.miterY*f.tmpY),g=Hb.miterUtils.miterX,p=Hb.miterUtils.miterY,(O=this.join==Cs.BEVEL)||this.join!=Cs.MITER||b/d>this.miterLimit&&(O=!0),O&&((f=Hb.miterUtils).outX=-C,f.outY=v,g=Hb.miterUtils.outX,p=Hb.miterUtils.outY,b=d),C=w+p*-b,v=u+g*b,w=w+p*b,n[0]=p=u+g*-b,n[1]=C,n[2]=v,n[3]=w,n[n.length-4]=p,n[n.length-3]=C,n[n.length-2]=v,n[n.length-1]=w)}},mapThickness:function(e,n,t,i){return this.thickness},_seg:function(e,n,t,i,l,s,r,h,a,o){var c,u,_,d=0,b=this.cap==ps.SQUARE,g=this.join==Cs.BEVEL,O=(Hb.miterUtils.aX=s,Hb.miterUtils.aY=r,Hb.miterUtils.bX=i,Hb.miterUtils.bY=l,Hb.miterUtils),f=(O.outX=O.aX-O.bX,O.outY=O.aY-O.bY,O.outX*O.outX+O.outY*O.outY);return 0<f&&(f=1/Math.sqrt(f),O.outX*=f,O.outY*=f),this.lineAX=Hb.miterUtils.outX,this.lineAY=Hb.miterUtils.outY,this._hasNormal||((O=Hb.miterUtils).outX=-this.lineAY,O.outY=this.lineAX,this._normalX=Hb.miterUtils.outX,this._normalY=Hb.miterUtils.outY,this._hasNormal=!0),this._started||(this._started=!0,c=.5*this.mapThickness(this._points[0],this._points[1],0,this._points),b&&(this.capEndX=i+this.lineAX*-c,this.capEndY=l+this.lineAY*-c,i=this.capEndX,l=this.capEndY),u=this._normalX,_=this._normalY,this.tmpX=i+u*-c,this.tmpY=l+_*-c,e.push(this.tmpX),e.push(this.tmpY),this.tmpX=i+u*c,this.tmpY=l+_*c,e.push(this.tmpX),e.push(this.tmpY)),n.push(t),n.push(t+1),n.push(t+2),-9999999999==h?((O=Hb.miterUtils).outX=-this.lineAY,O.outY=this.lineAX,this._normalX=Hb.miterUtils.outX,this._normalY=Hb.miterUtils.outY,this._hasNormal=!0,b&&(this.capEndX=s+this.lineAX*o,this.capEndY=r+this.lineAY*o,s=this.capEndX,r=this.capEndY),u=this._normalX,_=this._normalY,this.tmpX=s+u*-o,this.tmpY=r+_*-o,e.push(this.tmpX),e.push(this.tmpY),this.tmpX=s+u*o,this.tmpY=r+_*o,e.push(this.tmpX),e.push(this.tmpY),1==this._lastFlip?(n.push(t),n.push(t+2)):(n.push(t+2),n.push(t+1)),n.push(t+3),d+=4):(Hb.miterUtils.aX=h,Hb.miterUtils.aY=a,Hb.miterUtils.bX=s,Hb.miterUtils.bY=r,(O=Hb.miterUtils).outX=O.aX-O.bX,O.outY=O.aY-O.bY,0<(f=O.outX*O.outX+O.outY*O.outY)&&(f=1/Math.sqrt(f),O.outX*=f,O.outY*=f),this.lineBX=Hb.miterUtils.outX,this.lineBY=Hb.miterUtils.outY,Hb.miterUtils.tangentX=this.tangentX,Hb.miterUtils.tangentY=this.tangentY,Hb.miterUtils.miterX=this.miterX,Hb.miterUtils.miterY=this.miterY,Hb.miterUtils.aX=this.lineAX,Hb.miterUtils.aY=this.lineAY,Hb.miterUtils.bX=this.lineBX,Hb.miterUtils.bY=this.lineBY,(O=Hb.miterUtils).tangentX=O.aX+O.bX,O.tangentY=O.aY+O.bY,O.miterX=-O.tangentY,O.miterY=O.tangentX,O.tmpX=-O.aY,O.tmpY=O.aX,i=o/(O.miterX*O.tmpX+O.miterY*O.tmpY),this.tangentX=Hb.miterUtils.tangentX,this.tangentY=Hb.miterUtils.tangentY,this.miterX=Hb.miterUtils.miterX,this.miterY=Hb.miterUtils.miterY,l=this.tangentX*this._normalX+this.tangentY*this._normalY<0?-1:1,(c=g)||this.join!=Cs.MITER||i/o>this.miterLimit&&(c=!0),c?(this.tmpX=s+this._normalX*-o*l,this.tmpY=r+this._normalY*-o*l,e.push(this.tmpX),e.push(this.tmpY),this.tmpX=s+this.miterX*i*l,this.tmpY=r+this.miterY*i*l,e.push(this.tmpX),e.push(this.tmpY),this._lastFlip!=-l?(n.push(t),n.push(t+2)):(n.push(t+2),n.push(t+1)),n.push(t+3),n.push(t+2),n.push(t+3),n.push(t+4),(O=Hb.miterUtils).outX=-this.lineBY,O.outY=this.lineBX,this.tmpX=Hb.miterUtils.outX,this.tmpY=Hb.miterUtils.outY,this._normalX=this.tmpX,this._normalY=this.tmpY,this.tmpX=s+this.tmpX*-o*l,this.tmpY=r+this.tmpY*-o*l,e.push(this.tmpX),e.push(this.tmpY),d+=3):(u=this.miterX,_=this.miterY,this.tmpX=s+u*-i,this.tmpY=r+_*-i,e.push(this.tmpX),e.push(this.tmpY),this.tmpX=s+u*i,this.tmpY=r+_*i,e.push(this.tmpX),e.push(this.tmpY),1==this._lastFlip?(n.push(t),n.push(t+2)):(n.push(t+2),n.push(t+1)),n.push(t+3),l=-1,this._normalX=this.miterX,this._normalY=this.miterY,d+=2),this._lastFlip=l),d},extrusions:function(e,n,t,i,l,s){this.tmpX=n+i*-s,this.tmpY=t+l*-s,e.push(this.tmpX),e.push(this.tmpY),this.tmpX=n+i*s,this.tmpY=t+l*s,e.push(this.tmpX),e.push(this.tmpY)},pointsAngle:function(e,n,t,i,l,s){for(var r=Math.atan2(s-n,l-e)-Math.atan2(i-n,t-e);r<0;)r+=6.28318530718;for(;6.28318530718<r;)r-=6.28318530718;return r},distanceToLine:function(e,n,t,i,l,s){var l=l-t,s=s-i,r=((e-t)*l+(n-i)*s)/(l*l+s*s),e=e-(t+r*l),t=n-(i+r*s);return Math.sqrt(e*e+t*t)},__class__:Hb},(E["ceramic.Line"]=Ib).__name__="ceramic.Line",Ib.__super__=za,Ib.prototype=$extend(za.prototype,{points:null,set_points:function(e){return this.points=e,this.contentDirty=!0,ae.app.visualsContentDirty=!0,e},miterLimit:null,set_miterLimit:function(e){return this.miterLimit!=e&&(this.miterLimit=e,this.contentDirty=!0,ae.app.visualsContentDirty=!0),e},thickness:null,set_thickness:function(e){return this.thickness!=e&&(this.thickness=e,this.contentDirty=!0,ae.app.visualsContentDirty=!0),e},join:null,set_join:function(e){return this.join!=e&&(this.join=e,this.contentDirty=!0,ae.app.visualsContentDirty=!0),e},cap:null,set_cap:function(e){return this.cap!=e&&(this.cap=e,this.contentDirty=!0,ae.app.visualsContentDirty=!0),e},loop:null,set_loop:function(e){return this.loop!=e&&(this.loop=e,this.contentDirty=!0,ae.app.visualsContentDirty=!0),e},autoComputeSize:null,set_autoComputeSize:function(e){return this.autoComputeSize!=e&&(this.autoComputeSize=e)&&this.computeSize(),e},computeContent:function(){null!=this.points&&4<=this.points.length&&(Ib._stroke.miterLimit=this.miterLimit,Ib._stroke.thickness=this.thickness,Ib._stroke.join=this.join,Ib._stroke.cap=this.cap,Ib._stroke.canLoop=this.loop,null==this.vertices&&(this.vertices=[]),null==this.indices&&(this.indices=[]),Ib._stroke.build(this.points,this.vertices,this.indices)),this.autoComputeSize&&this.computeSize(),this.contentDirty=!1},computeSize:function(){if(null!=this.points&&2<=this.points.length){for(var e=0,n=0,t=0,i=this.points.length-1;t<i;){var l=this.points[t],l=(e<l&&(e=l),++t,this.points[t]);n<l&&(n=l),++t}this.set_width(e),this.set_height(n)}else this.set_width(0),this.set_height(0)},__class__:Ib,__properties__:$extend(za.prototype.__properties__,{set_autoComputeSize:"set_autoComputeSize",set_loop:"set_loop",set_cap:"set_cap",set_join:"set_join",set_thickness:"set_thickness",set_miterLimit:"set_miterLimit",set_points:"set_points"})}),function(){this.indentPrefix="",j.call(this),Wn.didInitOnce||(Wn.didInitOnce=!0)}),Nn=((E["ceramic.Logger"]=Wn).__name__="ceramic.Logger",Wn.__super__=j,Wn.prototype=$extend(j.prototype,{__cbOnInfo:null,__cbOnceInfo:null,__cbOnOwnerUnbindInfo:null,__cbOnceOwnerUnbindInfo:null,emitInfo:function(e,n){var t=0;if(null!=this.__cbOnInfo&&(t+=this.__cbOnInfo.length),null!=this.__cbOnceInfo&&(t+=this.__cbOnceInfo.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnInfo)for(var r=0,h=this.__cbOnInfo.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnInfo[a],++s):--t}if(null!=this.__cbOnceInfo){for(var o=null,c=null,r=0,h=this.__cbOnceInfo.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceInfo[a],this.__cbOnceInfo[a]=null,u=this.__cbOnceOwnerUnbindInfo[a],(this.__cbOnceOwnerUnbindInfo[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindInfo[a]),c.push(this.__cbOnceInfo[a]))}this.__cbOnceOwnerUnbindInfo=o,this.__cbOnceInfo=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onInfo:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event info because owner is destroyed!");var l=function(e){null!=t&&(i.offInfo(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindInfo&&(this.__cbOnOwnerUnbindInfo=[]),this.__cbOnOwnerUnbindInfo.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindInfo&&(this.__cbOnOwnerUnbindInfo=[]),this.__cbOnOwnerUnbindInfo.push(null);null==this.__cbOnInfo&&(this.__cbOnInfo=[]),this.__cbOnInfo.push(t)},onceInfo:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event info because owner is destroyed!");var l=function(e){null!=t&&(i.offInfo(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindInfo&&(this.__cbOnceOwnerUnbindInfo=[]),this.__cbOnceOwnerUnbindInfo.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindInfo&&(this.__cbOnceOwnerUnbindInfo=[]),this.__cbOnceOwnerUnbindInfo.push(null);null==this.__cbOnceInfo&&(this.__cbOnceInfo=[]),this.__cbOnceInfo.push(t)},offInfo:function(e){if(null!=e){var n;null!=this.__cbOnInfo&&-1!=(n=this.__cbOnInfo.indexOf(e))&&(this.__cbOnInfo.splice(n,1),null!=(s=this.__cbOnOwnerUnbindInfo[n])&&s(),this.__cbOnOwnerUnbindInfo.splice(n,1)),null!=this.__cbOnceInfo&&-1!=(n=this.__cbOnceInfo.indexOf(e))&&(this.__cbOnceInfo.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindInfo[n])&&s(),this.__cbOnceOwnerUnbindInfo.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindInfo){for(var t=0,i=this.__cbOnOwnerUnbindInfo.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindInfo[l])&&s()}this.__cbOnOwnerUnbindInfo=null}if(null!=this.__cbOnceOwnerUnbindInfo){for(t=0,i=this.__cbOnceOwnerUnbindInfo.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindInfo[l])&&s()}this.__cbOnceOwnerUnbindInfo=null}this.__cbOnInfo=null,this.__cbOnceInfo=null}},listensInfo:function(){return null!=this.__cbOnInfo&&0<this.__cbOnInfo.length||null!=this.__cbOnceInfo&&0<this.__cbOnceInfo.length},__cbOnDebug:null,__cbOnceDebug:null,__cbOnOwnerUnbindDebug:null,__cbOnceOwnerUnbindDebug:null,emitDebug:function(e,n){var t=0;if(null!=this.__cbOnDebug&&(t+=this.__cbOnDebug.length),null!=this.__cbOnceDebug&&(t+=this.__cbOnceDebug.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnDebug)for(var r=0,h=this.__cbOnDebug.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnDebug[a],++s):--t}if(null!=this.__cbOnceDebug){for(var o=null,c=null,r=0,h=this.__cbOnceDebug.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceDebug[a],this.__cbOnceDebug[a]=null,u=this.__cbOnceOwnerUnbindDebug[a],(this.__cbOnceOwnerUnbindDebug[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindDebug[a]),c.push(this.__cbOnceDebug[a]))}this.__cbOnceOwnerUnbindDebug=o,this.__cbOnceDebug=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onDebug:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event debug because owner is destroyed!");var l=function(e){null!=t&&(i.offDebug(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindDebug&&(this.__cbOnOwnerUnbindDebug=[]),this.__cbOnOwnerUnbindDebug.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindDebug&&(this.__cbOnOwnerUnbindDebug=[]),this.__cbOnOwnerUnbindDebug.push(null);null==this.__cbOnDebug&&(this.__cbOnDebug=[]),this.__cbOnDebug.push(t)},onceDebug:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event debug because owner is destroyed!");var l=function(e){null!=t&&(i.offDebug(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindDebug&&(this.__cbOnceOwnerUnbindDebug=[]),this.__cbOnceOwnerUnbindDebug.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindDebug&&(this.__cbOnceOwnerUnbindDebug=[]),this.__cbOnceOwnerUnbindDebug.push(null);null==this.__cbOnceDebug&&(this.__cbOnceDebug=[]),this.__cbOnceDebug.push(t)},offDebug:function(e){if(null!=e){var n;null!=this.__cbOnDebug&&-1!=(n=this.__cbOnDebug.indexOf(e))&&(this.__cbOnDebug.splice(n,1),null!=(s=this.__cbOnOwnerUnbindDebug[n])&&s(),this.__cbOnOwnerUnbindDebug.splice(n,1)),null!=this.__cbOnceDebug&&-1!=(n=this.__cbOnceDebug.indexOf(e))&&(this.__cbOnceDebug.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindDebug[n])&&s(),this.__cbOnceOwnerUnbindDebug.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindDebug){for(var t=0,i=this.__cbOnOwnerUnbindDebug.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindDebug[l])&&s()}this.__cbOnOwnerUnbindDebug=null}if(null!=this.__cbOnceOwnerUnbindDebug){for(t=0,i=this.__cbOnceOwnerUnbindDebug.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindDebug[l])&&s()}this.__cbOnceOwnerUnbindDebug=null}this.__cbOnDebug=null,this.__cbOnceDebug=null}},listensDebug:function(){return null!=this.__cbOnDebug&&0<this.__cbOnDebug.length||null!=this.__cbOnceDebug&&0<this.__cbOnceDebug.length},__cbOnSuccess:null,__cbOnceSuccess:null,__cbOnOwnerUnbindSuccess:null,__cbOnceOwnerUnbindSuccess:null,emitSuccess:function(e,n){var t=0;if(null!=this.__cbOnSuccess&&(t+=this.__cbOnSuccess.length),null!=this.__cbOnceSuccess&&(t+=this.__cbOnceSuccess.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnSuccess)for(var r=0,h=this.__cbOnSuccess.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnSuccess[a],++s):--t}if(null!=this.__cbOnceSuccess){for(var o=null,c=null,r=0,h=this.__cbOnceSuccess.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceSuccess[a],this.__cbOnceSuccess[a]=null,u=this.__cbOnceOwnerUnbindSuccess[a],(this.__cbOnceOwnerUnbindSuccess[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindSuccess[a]),c.push(this.__cbOnceSuccess[a]))}this.__cbOnceOwnerUnbindSuccess=o,this.__cbOnceSuccess=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onSuccess:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event success because owner is destroyed!");var l=function(e){null!=t&&(i.offSuccess(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindSuccess&&(this.__cbOnOwnerUnbindSuccess=[]),this.__cbOnOwnerUnbindSuccess.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindSuccess&&(this.__cbOnOwnerUnbindSuccess=[]),this.__cbOnOwnerUnbindSuccess.push(null);null==this.__cbOnSuccess&&(this.__cbOnSuccess=[]),this.__cbOnSuccess.push(t)},onceSuccess:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event success because owner is destroyed!");var l=function(e){null!=t&&(i.offSuccess(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindSuccess&&(this.__cbOnceOwnerUnbindSuccess=[]),this.__cbOnceOwnerUnbindSuccess.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindSuccess&&(this.__cbOnceOwnerUnbindSuccess=[]),this.__cbOnceOwnerUnbindSuccess.push(null);null==this.__cbOnceSuccess&&(this.__cbOnceSuccess=[]),this.__cbOnceSuccess.push(t)},offSuccess:function(e){if(null!=e){var n;null!=this.__cbOnSuccess&&-1!=(n=this.__cbOnSuccess.indexOf(e))&&(this.__cbOnSuccess.splice(n,1),null!=(s=this.__cbOnOwnerUnbindSuccess[n])&&s(),this.__cbOnOwnerUnbindSuccess.splice(n,1)),null!=this.__cbOnceSuccess&&-1!=(n=this.__cbOnceSuccess.indexOf(e))&&(this.__cbOnceSuccess.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindSuccess[n])&&s(),this.__cbOnceOwnerUnbindSuccess.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindSuccess){for(var t=0,i=this.__cbOnOwnerUnbindSuccess.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindSuccess[l])&&s()}this.__cbOnOwnerUnbindSuccess=null}if(null!=this.__cbOnceOwnerUnbindSuccess){for(t=0,i=this.__cbOnceOwnerUnbindSuccess.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindSuccess[l])&&s()}this.__cbOnceOwnerUnbindSuccess=null}this.__cbOnSuccess=null,this.__cbOnceSuccess=null}},listensSuccess:function(){return null!=this.__cbOnSuccess&&0<this.__cbOnSuccess.length||null!=this.__cbOnceSuccess&&0<this.__cbOnceSuccess.length},__cbOnWarning:null,__cbOnceWarning:null,__cbOnOwnerUnbindWarning:null,__cbOnceOwnerUnbindWarning:null,emitWarning:function(e,n){var t=0;if(null!=this.__cbOnWarning&&(t+=this.__cbOnWarning.length),null!=this.__cbOnceWarning&&(t+=this.__cbOnceWarning.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnWarning)for(var r=0,h=this.__cbOnWarning.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnWarning[a],++s):--t}if(null!=this.__cbOnceWarning){for(var o=null,c=null,r=0,h=this.__cbOnceWarning.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceWarning[a],this.__cbOnceWarning[a]=null,u=this.__cbOnceOwnerUnbindWarning[a],(this.__cbOnceOwnerUnbindWarning[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindWarning[a]),c.push(this.__cbOnceWarning[a]))}this.__cbOnceOwnerUnbindWarning=o,this.__cbOnceWarning=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onWarning:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event warning because owner is destroyed!");var l=function(e){null!=t&&(i.offWarning(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindWarning&&(this.__cbOnOwnerUnbindWarning=[]),this.__cbOnOwnerUnbindWarning.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindWarning&&(this.__cbOnOwnerUnbindWarning=[]),this.__cbOnOwnerUnbindWarning.push(null);null==this.__cbOnWarning&&(this.__cbOnWarning=[]),this.__cbOnWarning.push(t)},onceWarning:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event warning because owner is destroyed!");var l=function(e){null!=t&&(i.offWarning(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindWarning&&(this.__cbOnceOwnerUnbindWarning=[]),this.__cbOnceOwnerUnbindWarning.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindWarning&&(this.__cbOnceOwnerUnbindWarning=[]),this.__cbOnceOwnerUnbindWarning.push(null);null==this.__cbOnceWarning&&(this.__cbOnceWarning=[]),this.__cbOnceWarning.push(t)},offWarning:function(e){if(null!=e){var n;null!=this.__cbOnWarning&&-1!=(n=this.__cbOnWarning.indexOf(e))&&(this.__cbOnWarning.splice(n,1),null!=(s=this.__cbOnOwnerUnbindWarning[n])&&s(),this.__cbOnOwnerUnbindWarning.splice(n,1)),null!=this.__cbOnceWarning&&-1!=(n=this.__cbOnceWarning.indexOf(e))&&(this.__cbOnceWarning.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindWarning[n])&&s(),this.__cbOnceOwnerUnbindWarning.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindWarning){for(var t=0,i=this.__cbOnOwnerUnbindWarning.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindWarning[l])&&s()}this.__cbOnOwnerUnbindWarning=null}if(null!=this.__cbOnceOwnerUnbindWarning){for(t=0,i=this.__cbOnceOwnerUnbindWarning.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindWarning[l])&&s()}this.__cbOnceOwnerUnbindWarning=null}this.__cbOnWarning=null,this.__cbOnceWarning=null}},listensWarning:function(){return null!=this.__cbOnWarning&&0<this.__cbOnWarning.length||null!=this.__cbOnceWarning&&0<this.__cbOnceWarning.length},__cbOnError:null,__cbOnceError:null,__cbOnOwnerUnbindError:null,__cbOnceOwnerUnbindError:null,emitError:function(e,n){var t=0;if(null!=this.__cbOnError&&(t+=this.__cbOnError.length),null!=this.__cbOnceError&&(t+=this.__cbOnceError.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnError)for(var r=0,h=this.__cbOnError.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnError[a],++s):--t}if(null!=this.__cbOnceError){for(var o=null,c=null,r=0,h=this.__cbOnceError.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceError[a],this.__cbOnceError[a]=null,u=this.__cbOnceOwnerUnbindError[a],(this.__cbOnceOwnerUnbindError[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindError[a]),c.push(this.__cbOnceError[a]))}this.__cbOnceOwnerUnbindError=o,this.__cbOnceError=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onError:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event error because owner is destroyed!");var l=function(e){null!=t&&(i.offError(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindError&&(this.__cbOnOwnerUnbindError=[]),this.__cbOnOwnerUnbindError.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindError&&(this.__cbOnOwnerUnbindError=[]),this.__cbOnOwnerUnbindError.push(null);null==this.__cbOnError&&(this.__cbOnError=[]),this.__cbOnError.push(t)},onceError:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event error because owner is destroyed!");var l=function(e){null!=t&&(i.offError(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindError&&(this.__cbOnceOwnerUnbindError=[]),this.__cbOnceOwnerUnbindError.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindError&&(this.__cbOnceOwnerUnbindError=[]),this.__cbOnceOwnerUnbindError.push(null);null==this.__cbOnceError&&(this.__cbOnceError=[]),this.__cbOnceError.push(t)},offError:function(e){if(null!=e){var n;null!=this.__cbOnError&&-1!=(n=this.__cbOnError.indexOf(e))&&(this.__cbOnError.splice(n,1),null!=(s=this.__cbOnOwnerUnbindError[n])&&s(),this.__cbOnOwnerUnbindError.splice(n,1)),null!=this.__cbOnceError&&-1!=(n=this.__cbOnceError.indexOf(e))&&(this.__cbOnceError.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindError[n])&&s(),this.__cbOnceOwnerUnbindError.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindError){for(var t=0,i=this.__cbOnOwnerUnbindError.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindError[l])&&s()}this.__cbOnOwnerUnbindError=null}if(null!=this.__cbOnceOwnerUnbindError){for(t=0,i=this.__cbOnceOwnerUnbindError.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindError[l])&&s()}this.__cbOnceOwnerUnbindError=null}this.__cbOnError=null,this.__cbOnceError=null}},listensError:function(){return null!=this.__cbOnError&&0<this.__cbOnError.length||null!=this.__cbOnceError&&0<this.__cbOnceError.length},indentPrefix:null,debug:function(e,n){this.emitDebug(e,n),xl.trace(this.prefixLines("[debug] ",e),n)},info:function(e,n){this.emitInfo(e,n),xl.trace(this.prefixLines("[info] ",e),n)},success:function(e,n){this.emitSuccess(e,n),xl.trace(this.prefixLines("[success] ",e),n)},warning:function(e,n){this.emitWarning(e,n),Wn._hasElectronRunner?xl.trace(this.prefixLines("[warning] ",e),n):console.warn(e)},error:function(e,n){this.emitError(e,n),Wn._hasElectronRunner?xl.trace(this.prefixLines("[error] ",e),n):console.error(e)},pushIndent:function(){this.indentPrefix+="    "},popIndent:function(){this.indentPrefix=this.indentPrefix.substring(0,this.indentPrefix.length-4)},prefixLines:function(e,n){for(var t=[],i=0,l=K.string(n).split("\n");i<l.length;){var s=l[i];++i,t.push(e+this.indentPrefix+s)}return t.join("\n")},unbindEvents:function(){j.prototype.unbindEvents.call(this),this.offInfo(),this.offDebug(),this.offSuccess(),this.offWarning(),this.offError()},__class__:Wn}),(E["ceramic.LongPress"]=Kb).__name__="ceramic.LongPress",Kb.__interfaces__=[a0],Kb.__super__=j,Kb.prototype=$extend(j.prototype,{__cbOnLongPress:null,__cbOnceLongPress:null,__cbOnOwnerUnbindLongPress:null,__cbOnceOwnerUnbindLongPress:null,emitLongPress:function(e){var n=0;if(null!=this.__cbOnLongPress&&(n+=this.__cbOnLongPress.length),null!=this.__cbOnceLongPress&&(n+=this.__cbOnceLongPress.length),0<n){var t=C.pool(n),i=t.get(),l=0;if(null!=this.__cbOnLongPress)for(var s=0,r=this.__cbOnLongPress.length;s<r;){var h=s++;!0?(i.vector[l]=this.__cbOnLongPress[h],++l):--n}if(null!=this.__cbOnceLongPress){for(var a=null,o=null,s=0,r=this.__cbOnceLongPress.length;s<r;){var c,h=s++;!0?(i.vector[l]=this.__cbOnceLongPress[h],this.__cbOnceLongPress[h]=null,c=this.__cbOnceOwnerUnbindLongPress[h],(this.__cbOnceOwnerUnbindLongPress[h]=null)!=c&&c(),++l):(--n,null==a&&(a=[],o=[],0),a.push(this.__cbOnceOwnerUnbindLongPress[h]),o.push(this.__cbOnceLongPress[h]))}this.__cbOnceOwnerUnbindLongPress=a,this.__cbOnceLongPress=o}for(s=0,r=n;s<r;){l=s++;(0,i.vector[l])(e)}t.release(i)}},onLongPress:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event longPress because owner is destroyed!");var l=function(e){null!=t&&(i.offLongPress(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindLongPress&&(this.__cbOnOwnerUnbindLongPress=[]),this.__cbOnOwnerUnbindLongPress.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindLongPress&&(this.__cbOnOwnerUnbindLongPress=[]),this.__cbOnOwnerUnbindLongPress.push(null);null==this.__cbOnLongPress&&(this.__cbOnLongPress=[]),this.__cbOnLongPress.push(t)},onceLongPress:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event longPress because owner is destroyed!");var l=function(e){null!=t&&(i.offLongPress(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindLongPress&&(this.__cbOnceOwnerUnbindLongPress=[]),this.__cbOnceOwnerUnbindLongPress.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindLongPress&&(this.__cbOnceOwnerUnbindLongPress=[]),this.__cbOnceOwnerUnbindLongPress.push(null);null==this.__cbOnceLongPress&&(this.__cbOnceLongPress=[]),this.__cbOnceLongPress.push(t)},offLongPress:function(e){if(null!=e){var n;null!=this.__cbOnLongPress&&-1!=(n=this.__cbOnLongPress.indexOf(e))&&(this.__cbOnLongPress.splice(n,1),null!=(s=this.__cbOnOwnerUnbindLongPress[n])&&s(),this.__cbOnOwnerUnbindLongPress.splice(n,1)),null!=this.__cbOnceLongPress&&-1!=(n=this.__cbOnceLongPress.indexOf(e))&&(this.__cbOnceLongPress.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindLongPress[n])&&s(),this.__cbOnceOwnerUnbindLongPress.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindLongPress){for(var t=0,i=this.__cbOnOwnerUnbindLongPress.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindLongPress[l])&&s()}this.__cbOnOwnerUnbindLongPress=null}if(null!=this.__cbOnceOwnerUnbindLongPress){for(t=0,i=this.__cbOnceOwnerUnbindLongPress.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindLongPress[l])&&s()}this.__cbOnceOwnerUnbindLongPress=null}this.__cbOnLongPress=null,this.__cbOnceLongPress=null}},listensLongPress:function(){return null!=this.__cbOnLongPress&&0<this.__cbOnLongPress.length||null!=this.__cbOnceLongPress&&0<this.__cbOnceLongPress.length},threshold:null,requiredDuration:null,entity:null,click:null,bindAsComponent:function(){this.bindPointerEvents()},pointerStartX:null,pointerStartY:null,didLongPress:null,cancelLongPress:null,bindPointerEvents:function(){this.entity.onPointerDown(this,$bind(this,this.handlePointerDown)),this.entity.onPointerUp(this,$bind(this,this.handlePointerUp))},handlePointerDown:function(e){var n=this;this.didLongPress=!1,this.pointerStartX=ae.app.screen.pointerX,this.pointerStartY=ae.app.screen.pointerY,ae.app.screen.onPointerMove(this,$bind(this,this.handlePointerMove)),this.cancelLongPress=Gt.schedule(this,this.requiredDuration,function(){n.cancelLongPress=null,n.didLongPress=!0,null!=n.click&&n.click.cancel(),n.emitLongPress(e)},-1)},handlePointerMove:function(e){(Math.abs(ae.app.screen.pointerX-this.pointerStartX)>this.threshold||Math.abs(ae.app.screen.pointerY-this.pointerStartY)>this.threshold)&&(ae.app.screen.offPointerMove($bind(this,this.handlePointerMove)),null!=this.cancelLongPress)&&(this.cancelLongPress(),this.cancelLongPress=null)},handlePointerUp:function(e){null!=this.cancelLongPress&&(this.cancelLongPress(),this.cancelLongPress=null),ae.app.screen.offPointerMove($bind(this,this.handlePointerMove))},setEntity:function(e){this.entity=e instanceof o?e:null},getEntity:function(){return this.entity},initializerName:null,unbindEvents:function(){j.prototype.unbindEvents.call(this),this.offLongPress()},__class__:Kb}),function(e){switch(e){case".":case"..":return this.dir=e,void(this.file="")}var n=e.lastIndexOf("/"),t=e.lastIndexOf("\\"),t=(n<t?(this.dir=he.substr(e,0,t),e=he.substr(e,t+1,null),this.backslash=!0):t<n?(this.dir=he.substr(e,0,n),e=he.substr(e,n+1,null)):this.dir=null,e.lastIndexOf("."));-1!=t?(this.ext=he.substr(e,t+1,null),this.file=he.substr(e,0,t)):(this.ext=null,this.file=e)}),zn=((E["ceramic.Path"]=Nn).__name__="ceramic.Path",Nn.withoutExtension=function(e){e=new Nn(e);return e.ext=null,e.toString()},Nn.withoutDirectory=function(e){e=new Nn(e);return e.dir=null,e.toString()},Nn.directory=function(e){e=new Nn(e);return null==e.dir?"":e.dir},Nn.extension=function(e){e=new Nn(e);return null==e.ext?"":e.ext},Nn.withExtension=function(e,n){e=new Nn(e);return e.ext=n,e.toString()},Nn.join=function(e){for(var n=[],t=0,i=e;t<i.length;){var l=i[t];++t,null!=l&&""!=l&&n.push(l)}if(0==(e=n).length)return"";for(var s=e[0],n=1,t=e.length;n<t;){var r=n++,s=Nn.addTrailingSlash(s);s+=e[r]}return Nn.normalize(s)},Nn.normalize=function(e){if("/"==(e=e.split("\\").join("/")))return"/";for(var n=[],t=0,i=e.split("/");t<i.length;){var l=i[t];++t,".."==l&&0<n.length&&".."!=n[n.length-1]?n.pop():"."!=l&&n.push(l)}for(var s,r=n.join("/");-1!=(s=r.indexOf("//"));)r=r.substring(0,s)+r.substring(s+1);for(var h="",a=!1,o=!1,t=0,i=r.length;t<i;){var c=t++,u=r.charCodeAt(c);switch(u){case 47:a?(a=!1,o&&(h+="/",o=!1),h+=String.fromCodePoint(u)):o=!0;break;case 58:h+=":",a=!0;break;default:a=!1,o&&(h+="/",o=!1),h+=String.fromCodePoint(u)}}return h},Nn.addTrailingSlash=function(e){var n,t;return 0==e.length?"/":(n=e.lastIndexOf("/"))<(t=e.lastIndexOf("\\"))?t!=e.length-1?e+"\\":e:n!=e.length-1?e+"/":e},Nn.removeTrailingSlashes=function(e){e:for(;;){var n=he.cca(e,e.length-1);if(null==n)break;switch(n){case 47:case 92:e=he.substr(e,0,-1);break;default:break e}}return e},Nn.isAbsolute=function(e){return!!z.startsWith(e,"/")||":"==e.charAt(1)||!!z.startsWith(e,"\\\\")},Nn.prototype={dir:null,file:null,ext:null,backslash:null,toString:function(){return(null==this.dir?"":this.dir+(this.backslash?"\\":"/"))+this.file+(null==this.ext?"":"."+this.ext)},__class__:Nn},function(n){this.id=n;var e=ae.app.backend.io.readString("persistent_"+n);if(null!=e)try{var t=new kl(e);this.internalData=t.unserialize()}catch(e){Sl.lastError=e,ae.app.logger.warning("Failed to read persistent data with id "+n,{fileName:"../../../../ceramic/runtime/src/ceramic/PersistentData.hx",lineNumber:80,className:"ceramic.PersistentData",methodName:"new"})}null==this.internalData&&(this.internalData={})}),Gn=((E["ceramic.PersistentData"]=zn).__name__="ceramic.PersistentData",zn.prototype={internalData:null,id:null,get:function(e){return this.internalData[e]},set:function(e,n){this.internalData[e]=n},remove:function(e){L.deleteField(this.internalData,e)},clear:function(){for(var e=0,n=L.fields(this.internalData);e<n.length;){var t=n[e];++e,L.deleteField(this.internalData,t)}},exists:function(e){return Object.prototype.hasOwnProperty.call(this.internalData,e)},keys:function(){return L.fields(this.internalData)},save:function(){var e=new Al,e=(e.serialize(this.internalData),e.toString());ae.app.backend.io.saveString("persistent_"+this.id,e)},__class__:zn},function(){this.glowThresholdMax=.85,this.glowThresholdMin=.6,this.glowStrength=0,this.verticalMaskIntensity=0,this.verticalMaskOffset=0,this.verticalMaskCount=0,this.scanlineShape=1,this.scanlineIntensity=.25,this.scanlineOffset=0,this.scanlineCount=0,this.gridAlpha=0,this.gridColor=0,this.gridThickness=0,this.chromaticAberration=0,this.sharpness=8,_n.call(this),this.set_density(1),this.set_shader(ae.app.assets._shaderFromClass(ws).clone());ae.app.backend.shaders,this.shader.backendItem.uniforms.setFloat("sharpness",this.sharpness),ae.app.backend.shaders,this.shader.backendItem.uniforms.setFloat("chromaticAberration",.01*this.chromaticAberration),ae.app.backend.shaders,this.shader.backendItem.uniforms.setFloat("gridThickness",0),ae.app.backend.shaders,this.shader.backendItem.uniforms.setFloat("gridAlpha",1),ae.app.backend.shaders,this.shader.backendItem.uniforms.setVector3("gridColor",0,0,0),ae.app.backend.shaders,this.shader.backendItem.uniforms.setFloat("scanlineCount",this.scanlineCount),ae.app.backend.shaders,this.shader.backendItem.uniforms.setFloat("scanlineIntensity",1-this.scanlineIntensity),ae.app.backend.shaders,this.shader.backendItem.uniforms.setFloat("scanlineOffset",this.scanlineOffset),ae.app.backend.shaders,this.shader.backendItem.uniforms.setFloat("scanlineShape",this.scanlineShape),ae.app.backend.shaders,this.shader.backendItem.uniforms.setFloat("verticalMaskCount",this.verticalMaskCount),ae.app.backend.shaders,this.shader.backendItem.uniforms.setFloat("verticalMaskIntensity",1-this.verticalMaskIntensity),ae.app.backend.shaders,this.shader.backendItem.uniforms.setFloat("verticalMaskOffset",this.verticalMaskOffset),ae.app.backend.shaders,this.shader.backendItem.uniforms.setFloat("glowStrength",this.glowStrength),ae.app.backend.shaders,this.shader.backendItem.uniforms.setFloat("glowThresholdMin",this.glowThresholdMin),ae.app.backend.shaders;this.shader.backendItem.uniforms.setFloat("glowThresholdMax",this.glowThresholdMax),this.onResize(this,$bind(this,this.handleResize))}),Yn=((E["ceramic.PixelArt"]=Gn).__name__="ceramic.PixelArt",Gn.__super__=_n,Gn.prototype=$extend(_n.prototype,{sharpness:null,set_sharpness:function(e){return this.sharpness!=e&&(this.sharpness=e,ae.app.backend.shaders,this.shader.backendItem.uniforms.setFloat("sharpness",e)),e},chromaticAberration:null,set_chromaticAberration:function(e){return this.chromaticAberration!=e&&(this.chromaticAberration=e,ae.app.backend.shaders,this.shader.backendItem.uniforms.setFloat("chromaticAberration",.01*e)),e},gridThickness:null,set_gridThickness:function(e){return this.gridThickness!=e&&(this.gridThickness=e,ae.app.backend.shaders,this.shader.backendItem.uniforms.setFloat("gridThickness",e)),e},gridColor:null,set_gridColor:function(e){return this.gridColor!=e&&(this.gridColor=e,ae.app.backend.shaders,this.shader.backendItem.uniforms.setVector3("gridColor",(e>>16&255)/255,(e>>8&255)/255,(255&e)/255)),e},gridAlpha:null,set_gridAlpha:function(e){return this.gridAlpha!=e&&(this.gridAlpha=e,ae.app.backend.shaders,this.shader.backendItem.uniforms.setFloat("gridAlpha",e)),e},scanlineCount:null,set_scanlineCount:function(e){return this.scanlineCount!=e&&(this.scanlineCount=e,ae.app.backend.shaders,this.shader.backendItem.uniforms.setFloat("scanlineCount",e)),e},scanlineOffset:null,set_scanlineOffset:function(e){return this.scanlineOffset!=e&&(this.scanlineOffset=e,ae.app.backend.shaders,this.shader.backendItem.uniforms.setFloat("scanlineOffset",e)),e},scanlineIntensity:null,set_scanlineIntensity:function(e){return this.scanlineIntensity!=e&&(this.scanlineIntensity=e,ae.app.backend.shaders,this.shader.backendItem.uniforms.setFloat("scanlineIntensity",1-e)),e},scanlineShape:null,set_scanlineShape:function(e){return this.scanlineShape!=e&&(this.scanlineShape=e,ae.app.backend.shaders,this.shader.backendItem.uniforms.setFloat("scanlineShape",e)),e},verticalMaskCount:null,set_verticalMaskCount:function(e){return this.verticalMaskCount!=e&&(this.verticalMaskCount=e,ae.app.backend.shaders,this.shader.backendItem.uniforms.setFloat("verticalMaskCount",e)),e},verticalMaskOffset:null,set_verticalMaskOffset:function(e){return this.verticalMaskOffset!=e&&(this.verticalMaskOffset=e,ae.app.backend.shaders,this.shader.backendItem.uniforms.setFloat("verticalMaskOffset",e)),e},verticalMaskIntensity:null,set_verticalMaskIntensity:function(e){return this.verticalMaskIntensity!=e&&(this.verticalMaskIntensity=e,ae.app.backend.shaders,this.shader.backendItem.uniforms.setFloat("verticalMaskIntensity",1-e)),e},glowStrength:null,set_glowStrength:function(e){return this.glowStrength!=e&&(this.glowStrength=e,ae.app.backend.shaders,this.shader.backendItem.uniforms.setFloat("glowStrength",e)),e},glowThresholdMin:null,set_glowThresholdMin:function(e){return this.glowThresholdMin!=e&&(this.glowThresholdMin=e,ae.app.backend.shaders,this.shader.backendItem.uniforms.setFloat("glowThresholdMin",e)),e},glowThresholdMax:null,set_glowThresholdMax:function(e){return this.glowThresholdMax!=e&&(this.glowThresholdMax=e,ae.app.backend.shaders,this.shader.backendItem.uniforms.setFloat("glowThresholdMax",e)),e},set_density:function(e){return this.density!=e&&(_n.prototype.set_density.call(this,e),this.updateResolution()),e},handleResize:function(e,n){this.updateResolution()},updateResolution:function(){var e,n,t;0<this.get_width()&&0<this.get_height()&&null!=this.shader&&(e=this.shader,n=this.get_width()*this.density,t=this.get_height()*this.density,ae.app.backend.shaders,e.backendItem.uniforms.setVector2("resolution",n,t))},destroy:function(){this._lifecycleState<=-2||(this._lifecycleState=-2,null!=this.shader&&(this.shader.destroy(),this.set_shader(null)),this._lifecycleState=-1,_n.prototype.destroy.call(this))},__class__:Gn,__properties__:$extend(_n.prototype.__properties__,{set_glowThresholdMax:"set_glowThresholdMax",set_glowThresholdMin:"set_glowThresholdMin",set_glowStrength:"set_glowStrength",set_verticalMaskIntensity:"set_verticalMaskIntensity",set_verticalMaskOffset:"set_verticalMaskOffset",set_verticalMaskCount:"set_verticalMaskCount",set_scanlineShape:"set_scanlineShape",set_scanlineIntensity:"set_scanlineIntensity",set_scanlineOffset:"set_scanlineOffset",set_scanlineCount:"set_scanlineCount",set_gridAlpha:"set_gridAlpha",set_gridColor:"set_gridColor",set_gridThickness:"set_gridThickness",set_chromaticAberration:"set_chromaticAberration",set_sharpness:"set_sharpness"})}),(E["ceramic.Pixels"]=Ob).__name__="ceramic.Pixels",Ob.copy=function(e,n,t,i,l,s,r,h,a,o,c,u,_,d){null==d&&(d=!0),null==_&&(_=!0),null==u&&(u=!0),null==c&&(c=!0);for(var b=l+r,g=s+h,O=l,f=s,p=a,C=o;f<g;){for(var v=f*n,w=C*i;O<b;){var m=4*(v+O),y=4*(w+p);c&&(t[y]=e[m]),++m,++y,u&&(t[y]=e[m]),++m,++y,_&&(t[y]=e[m]),++m,++y,d&&(t[y]=e[m]),++O,++p}++f,++C,O=l,p=a}},Ob.create=function(e,n,t){for(var i=new Uint8Array(e*n*4),l=0,s=e*n;l<s;){var r=4*l++;i[r]=t>>16&255,i[++r]=t>>8&255,i[++r]=255&t,i[++r]=t>>24&255}return i},Ob.fromBytes=function(e){return new Uint8Array(e.b.bufferValue)},Ob.get=function(e,n,t,i){var i=4*(i*n+t),n=e[i],t=e[1+i],l=e[2+i],s=0,e=e[3+i],i=(0|(((s&65535|(255<n?255:n<0?0:n)<<16)&16711935|(255<t?255:t<0?0:t)<<8)&16776960|(255<l?255:l<0?0:l)))-16777216;return i&16777215|(255<(e=null==e?255:e)?255:e<0?0:e)<<24},Ob.set=function(e,n,t,i,l){i=4*(i*n+t);e[i]=l>>16&255,e[1+i]=l>>8&255,e[2+i]=255&l,e[3+i]=l>>24&255},Ob.setRectangle=function(e,n,t,i,l,s,r){for(var h=0,a=l;h<a;)for(var o=h++,c=0,u=s;c<u;){var _=4*((i+c++)*n+(t+o));e[_]=r>>16&255,e[1+_]=r>>8&255,e[2+_]=255&r,e[3+_]=r>>24&255}},Ob._pixelsToPng=function(e,n,t,i,l){ae.app.backend.textures.pixelsToPng(e,n,t,i,l)},Ob.rgbaPixelsToRgbPixels=function(e,n,t,i){for(var l=e*n*3,s=(null==i?i=new Uint8Array(l):i.length!=l&&(ae.app.logger.warning("Not reusing outPixels because its length ("+i.length+") does not match the required one: "+l+". Creating a new buffer.",{fileName:"../../../../ceramic/runtime/src/ceramic/Pixels.hx",lineNumber:388,className:"ceramic.Pixels",methodName:"rgbaPixelsToRgbPixels"}),i=new Uint8Array(l)),0),r=e*n;s<r;){var h=s++,a=3*h,h=4*h;i[a]=t[h],++h,i[++a]=t[h],++h,i[++a]=t[h]}return i},Ob.rgbPixelsToRgbaPixels=function(e,n,t,i,l){null==t&&(t=255);for(var s=e*n*4,r=(null==l?l=new Uint8Array(s):l.length!=s&&(ae.app.logger.warning("Not reusing outPixels because its length ("+l.length+") does not match the required one: "+s+". Creating a new buffer.",{fileName:"../../../../ceramic/runtime/src/ceramic/Pixels.hx",lineNumber:437,className:"ceramic.Pixels",methodName:"rgbPixelsToRgbaPixels"}),l=new Uint8Array(s)),0),h=e*n;r<h;){var a=r++,o=3*a,a=4*a;l[a]=i[o],++o,l[++a]=i[o],++o,l[++a]=i[o],l[++a]=t}return l},Ob.mixPixelsBuffers=function(e,n,t){null==n&&(n=1);for(var i=e.length,l=e[0].length,s=(null==t&&(t=new Uint8Array(l)),0),r=[],h=1,a=0,o=Math.ceil(.5*i);a<o;)s+=r[a]=h,h*=n,++a;for(a=i-1,h=1;o<=a;)s+=r[a]=h,h*=n,--a;for(var c=0,u=l;c<u;){for(var a=c++,_=0,d=0,b=i;d<b;){var g=d++;_+=e[g][a]*r[g]}t[a]=Math.round(_/s)}return t},Ob.flipY=function(e,n){for(var t=e.length/(4*n)|0,i=0,l=.5*t|0;i<l;)for(var s=i++,r=0,h=n;r<h;){var a,o=r++,c=e[a=4*(s*n+o)],u=e[1+a],_=e[2+a],d=e[3+a];e[a]=e[o=4*((t-1-s)*n+o)],e[1+a]=e[1+o],e[2+a]=e[2+o],e[3+a]=e[3+o],e[o]=c,e[1+o]=u,e[2+o]=_,e[3+o]=d}},Ob.flipX=function(e,n){for(var t=.5*n|0,i=0,l=e.length/(4*n)|0;i<l;)for(var s=i++,r=0,h=t;r<h;){var a,o=r++,c=e[a=4*(s*n+o)],u=e[1+a],_=e[2+a],d=e[3+a];e[a]=e[o=4*(s*n+n-1-o)],e[1+a]=e[1+o],e[2+a]=e[2+o],e[3+a]=e[3+o],e[o]=c,e[1+o]=u,e[2+o]=_,e[3+o]=d}},function(){}),Xn=((E["ceramic.Platform"]=Yn).__name__="ceramic.Platform",Yn.postAppInit=function(){},Yn.readStringFromAsset=function(e){return null},Yn.readBytesFromAsset=function(e){return null},Yn.getAssetsPath=function(){return null},Yn.getRtti=function(e){return ss.getRtti(e)},Yn.nodeRequire=function(e){return null},Yn.quit=function(){ee.app.shutdown()},Yn.runCeramic=function(e,n){var t=Yn.getEnv("CERAMIC_CLI");null==t&&(t=Yn.isWindows()?"ceramic.exe":"ceramic"),ae.app.logger.debug("ceramic "+e.join(" "),{fileName:"../../../../ceramic/runtime/src/ceramic/Platform.hx",lineNumber:344,className:"ceramic.Platform",methodName:"runCeramic"}),Yn.exec(t,e,n)},Yn.getEnv=function(e){return null},Yn.isWindows=function(){return!1},Yn.exec=function(e,n,t){Yn.exec__execDidLogError||(Yn.exec__execDidLogError=!0,ae.app.logger.error("exec() is not supported on this platform!",{fileName:"../../../../ceramic/runtime/src/ceramic/Platform.hx",lineNumber:470,className:"ceramic.Platform",methodName:"exec"})),t(-1,null,null)},function(){}),Kn=((E["ceramic.PremultiplyAlpha"]=Xn).__name__="ceramic.PremultiplyAlpha",Xn.premultiplyAlpha=function(e){for(var n=e.length,t=0;t<n;){var i=e[t],l=e[t+1],s=e[t+2],r=e[t+3]/255;e[t]=i*r|0,e[t+1]=l*r|0,e[t+2]=s*r|0,t+=4}},Xn.reversePremultiplyAlpha=function(e){for(var n=e.length,t=0;t<n;){var i=e[t],l=e[t+1],s=e[t+2],r=e[t+3]/255;0<r&&(e[t]=i/r|0,e[t+1]=l/r|0,e[t+2]=s/r|0),t+=4}},function(e,n){null==n&&(n=-1),this.asset=null,this.wrapT=0,this.wrapS=0,this.filter=Tt.LINEAR,this.asRenderTexture=null,this.isRenderTexture=!1,this.index=Kn._nextIndex++,j.call(this),-1==n&&(n=ae.app.screen.get_texturesDensity()),this.backendItem=e,this.set_density(n)}),jn=((E["ceramic.Texture"]=Kn).__name__="ceramic.Texture",Kn.fromPixels=function(e,n,t,i){null==i&&(i=1);e=ae.app.backend.textures.createTexture(Math.round(e*i),Math.round(n*i),t);return new Kn(e,i)},Kn.fromBytes=function(e,n,t,i){null==n&&(n=1),ae.app.backend.textures.loadFromBytes(e,$t.imageTypeFromBytes(e),t,function(e){i(new Kn(e,n))})},Kn.__super__=j,Kn.prototype=$extend(j.prototype,{index:null,isRenderTexture:null,asRenderTexture:null,get_textureId:function(){return this.backendItem.textureId},get_nativeWidth:function(){return this.backendItem.width},get_nativeHeight:function(){return this.backendItem.height},get_nativeWidthActual:function(){return this.backendItem.widthActual},get_nativeHeightActual:function(){return this.backendItem.heightActual},width:null,height:null,density:null,set_density:function(e){return this.density!=e&&(this.density=e,this.width=this.backendItem.width/e,this.height=this.backendItem.height/e),e},filter:null,set_filter:function(e){if(this.filter!=e){this.filter=e;ae.app.backend.textures;var n=this.backendItem;switch(e._hx_index){case 0:n.set_filterMin(9729),n.set_filterMag(9729);break;case 1:n.set_filterMin(9728),n.set_filterMag(9728)}}return e},wrapS:null,set_wrapS:function(e){if(this.wrapS!=e){this.wrapS=e;ae.app.backend.textures;var n=this.backendItem;switch(e){case 0:n.set_wrapS(33071);break;case 1:n.set_wrapS(10497);break;case 2:n.set_wrapS(33648)}}return e},wrapT:null,set_wrapT:function(e){if(this.wrapT!=e){this.wrapT=e;ae.app.backend.textures;var n=this.backendItem;switch(e){case 0:n.set_wrapT(33071);break;case 1:n.set_wrapT(10497);break;case 2:n.set_wrapT(33648)}}return e},setWrap:function(e,n){this.set_wrapS(e),null!=n&&this.set_wrapT(n)},backendItem:null,asset:null,destroy:function(){this._lifecycleState<=-2||(this._lifecycleState=-2,this._lifecycleState=-1,j.prototype.destroy.call(this),null!=this.asset&&this.asset.destroy(),ae.app.backend.textures.destroyTexture(this.backendItem),this.backendItem=null)},fetchPixels:function(e){return ae.app.backend.textures.fetchTexturePixels(this.backendItem,e)},submitPixels:function(e){ae.app.backend.textures.submitTexturePixels(this.backendItem,e)},_toPng:function(e,n,t){ae.app.backend.textures.textureToPng(this.backendItem,n=null==n?!0:n,e,t)},toString:function(){var e;return null!=this.id?(e=this.id,"Texture("+(e=z.startsWith(e,"texture:")?he.substr(e,8,null):e)+" "+this.width+" "+this.height+" "+this.density+" #"+this.index+")"):"Texture("+this.width+" "+this.height+" "+this.density+" #"+this.index+")"},__class__:Kn,__properties__:$extend(j.prototype.__properties__,{set_wrapT:"set_wrapT",set_wrapS:"set_wrapS",set_filter:"set_filter",set_density:"set_density",get_nativeHeightActual:"get_nativeHeightActual",get_nativeWidthActual:"get_nativeWidthActual",get_nativeHeight:"get_nativeHeight",get_nativeWidth:"get_nativeWidth",get_textureId:"get_textureId"})}),function(e,n,t,i,l,s){null==s&&(s=0),null==l&&(l=!0),null==i&&(i=!0),null==t&&(t=-1),this._initialClearQuad=null,this._renderedOnce=!1,this._usedInRendering=!1,this.incomingEdges=0,this.priority=0,this.dependingTextures=null,this.antialiasing=0,this.stencil=!0,this.depth=!0,this.renderDirty=!1,this.clearOnRender=!0,this.autoRender=!0,-1==t&&(t=ae.app.screen.get_texturesDensity()),this.depth=i,this.stencil=l,this.antialiasing=s;var r=ae.app.backend.textures,e=Math.round(e*t),n=Math.round(n*t),h="render:"+r.nextRenderIndex++,a=ee.app.runtime.webglVersion,o=new bi,e=(o.id=h,o.width=e,o.height=n,o.depth=i,o.stencil=l,o.antialiasing=2<=a?s:0,o.init(),r.loadedTexturesRetainCount.h[h]=1,o);Kn.call(this,e,t),this.isRenderTexture=!0,this.asRenderTexture=this,ae.app.renderTextures.push(this),this._initialClearQuad=new p,(r=this._initialClearQuad).set_x(0),r.set_y(0),(r=this._initialClearQuad).set_width(0),r.set_height(0),(r=this._initialClearQuad).flags&=-17,this._initialClearQuad.set_renderTarget(this),this.renderDirty=!0}),$n=((E["ceramic.RenderTexture"]=jn).__name__="ceramic.RenderTexture",jn.__super__=Kn,jn.prototype=$extend(Kn.prototype,{autoRender:null,clearOnRender:null,renderDirty:null,depth:null,stencil:null,antialiasing:null,dependingTextures:null,priority:null,incomingEdges:null,_usedInRendering:null,_renderedOnce:null,set__renderedOnce:function(e){return(this._renderedOnce=e)&&null!=this._initialClearQuad&&(this._initialClearQuad.destroy(),this._initialClearQuad=null),e},_initialClearQuad:null,destroy:function(){this._lifecycleState<=-2||(this._lifecycleState=-2,this._lifecycleState=-1,Kn.prototype.destroy.call(this),null!=this._initialClearQuad&&(this._initialClearQuad.destroy(),this._initialClearQuad=null),he.remove(ae.app.renderTextures,this))},stamp:function(e,n){this._stamp(e,n)},_stamp:function(n,t){var i=this,l=n.parent,s=n.renderTarget,r=n.visible;null!=l&&l.remove(n),n.set_renderTarget(this),n.set_visible(!0),ae.app.oncePreUpdate(this,function(e){i.renderDirty=!0,ae.app.onceFinishDraw(i,function(){n.set_visible(r),n.set_renderTarget(s),null!=l&&(l.add(n),l=null),s=n=null,t(),t=null})})},clear:function(e,n,t,i,l,s,r){var h;null==s&&(s=-1),null==l&&(l=-1),null==i&&(i=-1),null==t&&(t=-1),null==n&&(n=0),null==e&&(e=16777215),null==jn._clearQuad&&(jn._clearQuad=new p,jn._clearQuad.set_active(!1),jn._clearQuad.set_blending(4),(h=jn._clearQuad).set_anchorX(0),h.set_anchorY(0)),jn._clearQuad.color=e,jn._clearQuad.set_alpha(n),jn._clearQuad.set_depth(-1),-1!=t&&-1!=i&&-1!=l&&-1!=s?((h=jn._clearQuad).set_width(l),h.set_height(s),(h=jn._clearQuad).set_x(t),h.set_y(i)):(h=jn._clearQuad,e=this.height,h.set_width(this.width),h.set_height(e),(h=jn._clearQuad).set_x(0),h.set_y(0)),this.stamp(jn._clearQuad,r)},dependsOnTexture:function(e){return null!=this.dependingTextures&&0<(null!=(e=this.dependingTextures.intMap.h[0|e.index])?e:0)},dependsOnTextureCount:function(e){return null!=this.dependingTextures&&null!=(e=this.dependingTextures.intMap.h[0|e.index])?e:0},incrementDependingTextureCount:function(e){null==this.dependingTextures&&(this.dependingTextures=new Ge);var n=this.dependingTextures.intMap.h[0|e.index];this.dependingTextures.set(e.index,(null!=n?n:0)+1)},resetDependingTextureCounts:function(){null!=this.dependingTextures&&this.dependingTextures.clear()},toString:function(){var e;return null!=this.id?(e=this.id,"RenderTexture("+(e=z.startsWith(e,"texture:")?he.substr(e,8,null):e)+" "+this.width+" "+this.height+" "+this.density+" #"+this.index+"/"+this.priority+")"):"RenderTexture("+this.width+" "+this.height+" "+this.density+" #"+this.index+"/"+this.priority+")"},__class__:jn,__properties__:$extend(Kn.prototype.__properties__,{set__renderedOnce:"set__renderedOnce"})}),function(){this.zPerRenderTarget=new Tn,this.usedRenderTarget=null,this.activeShaderCanBatchMultipleTextures=!1,this.maxUsableTexturesInBatch=-1,this.usedTextures=0,this.usedTextureIndexes=[],this.z=0,this.stateDirty=!0,this.mesh=null,this.quad=null,this.defaultWhiteTexture=null,this.defaultTexturedShader=null,this.texHeightActual=0,this.texWidthActual=0,this.texHeight=0,this.texWidth=0,this.activeTextureSlot=0,this.lastClipIsRegular=!1,this.lastClip=null,this.lastComputedBlending=1,this.lastRenderTarget=null,this.lastShader=null,this.lastTextureId=null,this.lastTexture=null,this.stencilClip=!1,this.customFloatAttributesSize=0,this.activeShader=null,this.drawCalls=0,j.call(this)}),Qn=((E["ceramic.Renderer"]=$n).__name__="ceramic.Renderer",$n.__super__=j,$n.prototype=$extend(j.prototype,{drawCalls:null,activeShader:null,customFloatAttributesSize:null,stencilClip:null,lastTexture:null,lastTextureId:null,lastShader:null,lastRenderTarget:null,lastComputedBlending:null,lastClip:null,lastClipIsRegular:null,activeTextureSlot:null,backendTextures:null,backendShaders:null,texWidth:null,texHeight:null,texWidthActual:null,texHeightActual:null,defaultTexturedShader:null,defaultWhiteTexture:null,quad:null,mesh:null,stateDirty:null,z:null,usedTextureIndexes:null,usedTextures:null,maxUsableTexturesInBatch:null,activeShaderCanBatchMultipleTextures:null,usedRenderTarget:null,zPerRenderTarget:null,render:function(e,n){var t=ae.app.backend.draw;for(this.backendTextures=ae.app.backend.textures,this.backendShaders=ae.app.backend.shaders,this.defaultTexturedShader=ae.app.defaultTexturedShader.backendItem,this.defaultWhiteTexture=ae.app.defaultWhiteTexture,this.maxUsableTexturesInBatch=0|Math.min(this.backendTextures.maxTexturesByBatch(),this.backendShaders.maxIfStatementsByFragmentShader());this.usedTextureIndexes.length<this.maxUsableTexturesInBatch;)this.usedTextureIndexes.push(0);this.usedRenderTarget=null,this.zPerRenderTarget.clear(),this.drawCalls=0,J._activeTextureSlot=0;(h=J._batcher)._buffersIndex=-1,h.prepareNextBuffers();for(var i=ae.app.defaultWhiteTexture.backendItem,l=(Ci.defaultTextureId=i.textureId,this.quad=null,this.mesh=null,this.lastTexture=null,this.lastTextureId=null,this.lastShader=null,this.lastRenderTarget=null,this.lastComputedBlending=1,this.lastClip=null,this.usedTextures=0,this.texWidth=0,this.texHeight=0,this.texWidthActual=0,this.texHeightActual=0,this.stencilClip=!1,this.z=0,this.stateDirty=!0,ae.app.defaultTexturedShader.backendItem,ae.app.renderTextures),s=0,r=l.length;s<r;)(_=l[s++])._usedInRendering=!1,_.autoRender&&(_.renderDirty=!0);var h=J._batcher,h=(ne.gl.enableVertexAttribArray(0),ne.gl.enableVertexAttribArray(1),ne.gl.enableVertexAttribArray(2),this.usedTextures=this.maxUsableTexturesInBatch,this.unbindUsedTextures(t),J._activeTextureSlot=0,J._batcher);if(0!=(h=ee._graphics)._activeTextureSlot){for(h._activeTextureSlot=0;h._boundTexture2D.length<=h._activeTextureSlot;)h._boundTexture2D.push(null);ne.gl.activeTexture(33984)}this.activeTextureSlot=0,t.setRenderTarget(null,!0);var i=ae.app.settings.get_background(),h=J._batcher,h=(ee._graphics.clear((i>>16&255)/255,(i>>8&255)/255,(255&i)/255,1,!1),null!=J._currentRenderTarget&&(J._didUpdateCurrentRenderTarget=!0),J._batcher),h=ee._graphics,h=(ne.gl.enable(3042),this.activeShader=null,this.lastShader=null,this.useShader(t,null),J._batcher),h=ee._graphics,h=(ne.gl.blendFuncSeparate(1,771,1,771),this.lastComputedBlending=1,J._batcher);if(ne.gl.stencilFunc(519,1,255),ne.gl.stencilMask(255),ne.gl.colorMask(!0,!0,!0,!0),ne.gl.disable(2960),null!=n){for(s=0,r=n.length;s<r;){var a,o=n[s++],c=o.asQuad,u=o.asMesh;o.computedVisible&&(null==o.computedRenderTarget||o.computedRenderTarget.renderDirty)&&((a=o.computedClip)!=this.lastClip&&(this.flush(t),this.unbindUsedTextures(t),this.stateDirty=!0,null!=this.lastClip&&(this.lastClipIsRegular?(h=J._batcher,ne.gl.disable(3089)):(this.lastRenderTarget=this.lastClip.computedRenderTarget,this.useRenderTarget(t,this.lastRenderTarget),J._batcher,ne.gl.stencilFunc(519,1,255),ne.gl.stencilMask(255),ne.gl.colorMask(!0,!0,!0,!0),ne.gl.disable(2960))),this.lastClip=a,null!=this.lastClip)&&(this.lastRenderTarget=this.lastClip.computedRenderTarget,this.useRenderTarget(t,this.lastRenderTarget),null!=this.lastClip.asQuad&&this.lastClip.asQuad.isRegular()?(this.lastClipIsRegular=!0,this.scissorWithQuad(t,this.lastClip.asQuad)):(this.lastClipIsRegular=!1,J._drawingInStencilBuffer=!0,J._batcher,ne.gl.stencilMask(255),ne.gl.clearStencil(255),ne.gl.clear(1024),ne.gl.enable(2960),ne.gl.stencilOp(7680,7680,7681),ne.gl.stencilFunc(519,1,255),ne.gl.stencilMask(255),ne.gl.colorMask(!1,!1,!1,!1),null!=this.lastClip.asQuad?(c=this.lastClip.asQuad,this.stencilClip=!0,this.drawQuad(t,c),this.stencilClip=!1,c=o.asQuad):null!=this.lastClip.asMesh&&(u=this.lastClip.asMesh,this.stencilClip=!0,this.drawMesh(t,u),this.stencilClip=!1,u=o.asMesh),this.flush(t),this.unbindUsedTextures(t),this.stateDirty=!0,J._drawingInStencilBuffer=!1,J._batcher,ne.gl.stencilFunc(514,1,255),ne.gl.stencilMask(0),ne.gl.colorMask(!0,!0,!0,!0),ne.gl.enable(2960))),null!=c&&16!=(16&c.flags)?this.drawQuad(t,c):null!=u&&this.drawMesh(t,u))}this.flush(t),this.unbindUsedTextures(t),this.stateDirty=!0}for(var _,s=0,r=(l=ae.app.renderTextures).length;s<r;)(_=l[s++]).renderDirty=!1;J._activeTextureSlot=0;h=J._batcher;if(0!=(h=ee._graphics)._activeTextureSlot){for(h._activeTextureSlot=0;h._boundTexture2D.length<=h._activeTextureSlot;)h._boundTexture2D.push(null);ne.gl.activeTexture(33984)}this.activeTextureSlot=0,t.setRenderTarget(null,!0);h=J._batcher,h=ee._graphics,ne.gl.enable(3042),this.activeShader=null,this.lastShader=null,this.useShader(t,null),this.lastClipIsRegular&&(h=J._batcher,ne.gl.disable(3089)),h=J._batcher,h=ee._graphics;ne.gl.blendFuncSeparate(1,771,1,771)},drawQuad:function(e,n){var t=this;this.stencilClip?(this.unbindUsedTextures(e),this.useFirstTextureInBatch(e,null),y=J._batcher,y=ee._graphics,ne.gl.blendFuncSeparate(1,771,1,771),this.lastComputedBlending=1,this.lastRenderTarget=n.computedRenderTarget,this.useRenderTarget(e,this.lastRenderTarget),this.lastShader=null,this.useShader(e,null),this.stateDirty=!1):(a=null,this.stateDirty||(h=this.computeQuadBlending(n),this.stateDirty=!this.isSameShader(n.shader,this.lastShader)||h!=this.lastComputedBlending||n.computedRenderTarget!=this.lastRenderTarget,this.stateDirty)||n._texture!=this.lastTexture&&(null!=n._texture&&null!=this.lastTexture?n._texture.backendItem.textureId!=this.lastTextureId&&(this.canUseTextureInSameBatch(e,n._texture)?a=n._texture:this.stateDirty=!0):this.canUseTextureInSameBatch(e,n._texture)?a=null!=n._texture?n._texture:this.defaultWhiteTexture:this.stateDirty=!0),this.stateDirty?(t.flush(e),t.unbindUsedTextures(e),t.lastTexture=n._texture,t.useFirstTextureInBatch(e,t.lastTexture),n.computedRenderTarget!=t.lastRenderTarget&&(t.lastRenderTarget=n.computedRenderTarget,t.useRenderTarget(e,t.lastRenderTarget),null!=t.lastClip)&&t.lastClipIsRegular&&t.scissorWithQuad(e,t.lastClip.asQuad),t.lastShader=n.shader,t.useShader(e,null!=t.lastShader?t.lastShader.backendItem:null),t.lastComputedBlending=t.computeQuadBlending(n),t.useBlending(e,t.lastComputedBlending),t.stateDirty=!1):null!=a&&this.useTextureInSameBatch(e,a));((y=J._batcher)._numPos+4>y._maxVerts||16384<y._numIndices+6)&&(t.flush(e),t.unbindUsedTextures(e),t.lastTexture=n._texture,t.useFirstTextureInBatch(e,t.lastTexture),n.computedRenderTarget!=t.lastRenderTarget&&(t.lastRenderTarget=n.computedRenderTarget,t.useRenderTarget(e,t.lastRenderTarget),null!=t.lastClip)&&t.lastClipIsRegular&&t.scissorWithQuad(e,t.lastClip.asQuad),t.lastShader=n.shader,t.useShader(e,null!=t.lastShader?t.lastShader.backendItem:null),t.lastComputedBlending=t.computeQuadBlending(n),t.useBlending(e,t.lastComputedBlending),t.stateDirty=!1);var i,l,s,r,h=n.get_width(),a=n.get_height(),e=n.matA,o=n.matB,c=n.matC,u=n.matD,_=n.matTX,d=n.matTY,b=this.z,g=this.activeShaderCanBatchMultipleTextures?this.activeTextureSlot:-1;if(0==this.customFloatAttributesSize)-1!=g?(O=J._batcher._numPos,p=d+o*h+u*a,(y=J._batcher)._posList[y._posIndex]=f=_+e*h+c*a,y._posList[y._posIndex+1]=p,y._posList[y._posIndex+2]=b,y._posList[y._posIndex+3]=g,y._posIndex+=4,y._numPos++,(y=J._batcher)._posList[y._posIndex]=_+c*a,y._posList[y._posIndex+1]=d+u*a,y._posList[y._posIndex+2]=b,y._posList[y._posIndex+3]=g,y._posIndex+=4,y._numPos++,(y=J._batcher)._posList[y._posIndex]=_,y._posList[y._posIndex+1]=d,y._posList[y._posIndex+2]=b,y._posList[y._posIndex+3]=g,y._posIndex+=4,y._numPos++,(y=J._batcher)._posList[y._posIndex]=_+e*h,y._posList[y._posIndex+1]=d+o*h,y._posList[y._posIndex+2]=b,y._posList[y._posIndex+3]=g,y._posIndex+=4):(O=J._batcher._numPos,p=d+o*h+u*a,(y=J._batcher)._posList[y._posIndex]=f=_+e*h+c*a,y._posList[y._posIndex+1]=p,y._posList[y._posIndex+2]=b,y._posIndex+=3,y._numPos++,(y=J._batcher)._posList[y._posIndex]=_+c*a,y._posList[y._posIndex+1]=d+u*a,y._posList[y._posIndex+2]=b,y._posIndex+=3,y._numPos++,(y=J._batcher)._posList[y._posIndex]=_,y._posList[y._posIndex+1]=d,y._posList[y._posIndex+2]=b,y._posIndex+=3,y._numPos++,(y=J._batcher)._posList[y._posIndex]=_+e*h,y._posList[y._posIndex+1]=d+o*h,y._posList[y._posIndex+2]=b,y._posIndex+=3),y._numPos++;else{if(-1!=g){for(var O=J._batcher._numPos,f=_+e*h+c*a,p=d+o*h+u*a,C=((y=J._batcher)._posList[y._posIndex]=f,y._posList[y._posIndex+1]=p,y._posList[y._posIndex+2]=b,y._posList[y._posIndex+3]=g,y._posIndex+=4,y._numPos++,0),v=t.customFloatAttributesSize;C<v;){var w=C++;(y=J._batcher)._posList[y._posIndex+w]=0}(y=J._batcher)._posIndex+=y._floatAttributesSize;for(C=((y=J._batcher)._posList[y._posIndex]=_+c*a,y._posList[y._posIndex+1]=d+u*a,y._posList[y._posIndex+2]=b,y._posList[y._posIndex+3]=g,y._posIndex+=4,y._numPos++,0),v=t.customFloatAttributesSize;C<v;){w=C++;(y=J._batcher)._posList[y._posIndex+w]=0}(y=J._batcher)._posIndex+=y._floatAttributesSize;for(C=((y=J._batcher)._posList[y._posIndex]=_,y._posList[y._posIndex+1]=d,y._posList[y._posIndex+2]=b,y._posList[y._posIndex+3]=g,y._posIndex+=4,y._numPos++,0),v=t.customFloatAttributesSize;C<v;){w=C++;(y=J._batcher)._posList[y._posIndex+w]=0}(y=J._batcher)._posIndex+=y._floatAttributesSize;for(C=((y=J._batcher)._posList[y._posIndex]=_+e*h,y._posList[y._posIndex+1]=d+o*h,y._posList[y._posIndex+2]=b,y._posList[y._posIndex+3]=g,y._posIndex+=4,y._numPos++,0),v=t.customFloatAttributesSize;C<v;){w=C++;(y=J._batcher)._posList[y._posIndex+w]=0}}else{for(O=J._batcher._numPos,f=_+e*h+c*a,p=d+o*h+u*a,C=((y=J._batcher)._posList[y._posIndex]=f,y._posList[y._posIndex+1]=p,y._posList[y._posIndex+2]=b,y._posIndex+=3,y._numPos++,0),v=t.customFloatAttributesSize;C<v;){w=C++;(y=J._batcher)._posList[y._posIndex+w]=0}(y=J._batcher)._posIndex+=y._floatAttributesSize;for(C=((y=J._batcher)._posList[y._posIndex]=_+c*a,y._posList[y._posIndex+1]=d+u*a,y._posList[y._posIndex+2]=b,y._posIndex+=3,y._numPos++,0),v=t.customFloatAttributesSize;C<v;){w=C++;(y=J._batcher)._posList[y._posIndex+w]=0}(y=J._batcher)._posIndex+=y._floatAttributesSize;for(C=((y=J._batcher)._posList[y._posIndex]=_,y._posList[y._posIndex+1]=d,y._posList[y._posIndex+2]=b,y._posIndex+=3,y._numPos++,0),v=t.customFloatAttributesSize;C<v;){w=C++;(y=J._batcher)._posList[y._posIndex+w]=0}(y=J._batcher)._posIndex+=y._floatAttributesSize;for(C=((y=J._batcher)._posList[y._posIndex]=_+e*h,y._posList[y._posIndex+1]=d+o*h,y._posList[y._posIndex+2]=b,y._posIndex+=3,y._numPos++,0),v=t.customFloatAttributesSize;C<v;){w=C++;(y=J._batcher)._posList[y._posIndex+w]=0}}(y=J._batcher)._posIndex+=y._floatAttributesSize}(y=J._batcher)._indiceList[y._numIndices]=O,y._numIndices++,(y=J._batcher)._indiceList[y._numIndices]=O+1,y._numIndices++,(y=J._batcher)._indiceList[y._numIndices]=O+2,y._numIndices++,(y=J._batcher)._indiceList[y._numIndices]=O,y._numIndices++,(y=J._batcher)._indiceList[y._numIndices]=O+2,y._numIndices++,(y=J._batcher)._indiceList[y._numIndices]=O+3,y._numIndices++,this.stencilClip?(i=r=1,s=l=0):(s=3==this.lastComputedBlending?(r=n.computedAlpha,i=(n.color>>16&255)/255,l=(n.color>>8&255)/255,(255&n.color)/255):(r=n.computedAlpha,i=(n.color>>16&255)/255*r,l=(n.color>>8&255)/255*r,(255&n.color)/255*r),2==n.blending&&2!=this.lastComputedBlending&&(r=0));for(var m=0;m<4;)(y=J._batcher)._colorList[y._colorIndex]=i,y._colorList[y._colorIndex+1]=l,y._colorList[y._colorIndex+2]=s,y._colorList[y._colorIndex+3]=r,y._colorIndex+=4,y._numColors++,++m;var y,g=0,f=0,p=0,c=0;null!=n._texture?(u=this.texWidthActual,a=this.texHeightActual,_=n._texture.density,g=n.frameX*_/u,f=n.frameY*_/a,32==(32&n.flags)?(p=n.frameHeight*_/u,c=n.frameWidth*_/a,(y=J._batcher)._uvList[y._uvIndex]=g+p,y._uvList[y._uvIndex+1]=f,y._uvIndex+=2,y._numUVs++,(y=J._batcher)._uvList[y._uvIndex]=g+p,y._uvList[y._uvIndex+1]=f+c,y._uvIndex+=2,y._numUVs++,(y=J._batcher)._uvList[y._uvIndex]=g,y._uvList[y._uvIndex+1]=f+c,y._uvIndex+=2,y._numUVs++,(y=J._batcher)._uvList[y._uvIndex]=g):(p=n.frameWidth*_/u,c=n.frameHeight*_/a,(y=J._batcher)._uvList[y._uvIndex]=g+p,y._uvList[y._uvIndex+1]=f+c,y._uvIndex+=2,y._numUVs++,(y=J._batcher)._uvList[y._uvIndex]=g,y._uvList[y._uvIndex+1]=f+c,y._uvIndex+=2,y._numUVs++,(y=J._batcher)._uvList[y._uvIndex]=g,y._uvList[y._uvIndex+1]=f,y._uvIndex+=2,y._numUVs++,(y=J._batcher)._uvList[y._uvIndex]=g+p),y._uvList[y._uvIndex+1]=f):((y=J._batcher)._uvList[y._uvIndex]=0,y._uvList[y._uvIndex+1]=0,y._uvIndex+=2,y._numUVs++,(y=J._batcher)._uvList[y._uvIndex]=0,y._uvList[y._uvIndex+1]=0,y._uvIndex+=2,y._numUVs++,(y=J._batcher)._uvList[y._uvIndex]=0,y._uvList[y._uvIndex+1]=0,y._uvIndex+=2,y._numUVs++,(y=J._batcher)._uvList[y._uvIndex]=0,y._uvList[y._uvIndex+1]=0),y._uvIndex+=2,y._numUVs++,this.z=b+b*b*1e-5+1e-5},drawMesh:function(e,n){null!=n.vertices32?null!=n.floatColors?this.drawMeshWithVertices32AndFloatColors(e,n):this.drawMeshWithVertices32(e,n):null!=n.floatColors?this.drawMeshWithVerticesAndFloatColors(e,n):this.drawMeshWithVertices(e,n)},drawMeshWithVertices32:function(e,n){var t,i,l=n.vertices32,s=n.colors,r=this,h=((null!=l?l:null).length,this.stencilClip?(this.unbindUsedTextures(e),this.useFirstTextureInBatch(e,null),x=J._batcher,x=ee._graphics,ne.gl.blendFuncSeparate(1,771,1,771),this.lastComputedBlending=1,this.lastRenderTarget=n.computedRenderTarget,this.useRenderTarget(e,this.lastRenderTarget),this.lastShader=null,this.useShader(e,null),this.stateDirty=!1):(t=null,this.stateDirty||(i=this.computeMeshBlending(n),this.stateDirty=!this.isSameShader(n.shader,this.lastShader)||i!=this.lastComputedBlending||n.computedRenderTarget!=this.lastRenderTarget,this.stateDirty)||n.texture!=this.lastTexture&&(null!=n.texture&&null!=this.lastTexture?n.texture.backendItem.textureId!=this.lastTextureId&&(this.canUseTextureInSameBatch(e,n.texture)?t=n.texture:this.stateDirty=!0):this.canUseTextureInSameBatch(e,n.texture)?t=null!=n.texture?n.texture:this.defaultWhiteTexture:this.stateDirty=!0),this.stateDirty?(r.flush(e),r.unbindUsedTextures(e),r.lastTexture=n.texture,r.useFirstTextureInBatch(e,r.lastTexture),n.computedRenderTarget!=r.lastRenderTarget&&(r.lastRenderTarget=n.computedRenderTarget,r.useRenderTarget(e,r.lastRenderTarget),null!=r.lastClip)&&r.lastClipIsRegular&&r.scissorWithQuad(e,r.lastClip.asQuad),r.lastShader=n.shader,r.useShader(e,null!=r.lastShader?r.lastShader.backendItem:null),r.lastComputedBlending=r.computeMeshBlending(n),r.useBlending(e,r.lastComputedBlending),r.stateDirty=!1):null!=t&&this.useTextureInSameBatch(e,t)),n.matA),a=n.matB,o=n.matC,c=n.matD,u=n.matTX,_=n.matTY,d=this.z,b=this.activeShaderCanBatchMultipleTextures?this.activeTextureSlot:-1,g=this.stencilClip||0==n.colorMapping,E=!this.stencilClip&&1==n.colorMapping,O=n.uvs,f=n.indices,p=f.length,C=this.customFloatAttributesSize,R=n.customFloatAttributesSize,L=0,V=null!=n.texture&&n.texture.isRenderTexture,v=p,H=(((x=J._batcher)._numPos+p>x._maxVerts||16384<x._numIndices+p)&&(r.flush(e),r.unbindUsedTextures(e),r.lastTexture=n.texture,r.useFirstTextureInBatch(e,r.lastTexture),n.computedRenderTarget!=r.lastRenderTarget&&(r.lastRenderTarget=n.computedRenderTarget,r.useRenderTarget(e,r.lastRenderTarget),null!=r.lastClip)&&r.lastClipIsRegular&&r.scissorWithQuad(e,r.lastClip.asQuad),r.lastShader=n.shader,r.useShader(e,null!=r.lastShader?r.lastShader.backendItem:null),r.lastComputedBlending=r.computeMeshBlending(n),r.useBlending(e,r.lastComputedBlending),r.stateDirty=!1,b=this.activeShaderCanBatchMultipleTextures?this.activeTextureSlot:-1,p>(x=J._batcher)._maxVerts-x._numPos||p>16384-J._batcher._numIndices)&&(x=J._batcher,v=3*((v=0|Math.min(x._maxVerts-x._numPos,16384-J._batcher._numIndices))/3|0)),n.texture),W=0,N=0;for(null!=H&&(W=this.texWidth/this.texWidthActual,N=this.texHeight/this.texHeightActual);;){for(var w,m=0,y=0,U=0,T=0,D=(g&&(r.stencilClip?(y=m=1,T=U=0):(T=3==r.lastComputedBlending?(w=s[0],m=n.computedAlpha*((w>>24&255)/255),y=(w>>16&255)/255,U=(w>>8&255)/255,(255&w)/255):(y=((w=s[0])>>16&255)/255*(m=n.computedAlpha*((w>>24&255)/255)),U=(w>>8&255)/255*m,(255&w)/255*m),2==n.blending&&2!=r.lastComputedBlending&&(m=0))),L),z=J._batcher._numPos;D<v;){var x,S,A=f[D],k=2*A,I=A*(2+R),P=I++,P=(null!=l?l:null)[P],F=I++,F=(null!=l?l:null)[F],F=((x=J._batcher)._indiceList[x._numIndices]=z,x._numIndices++,++z,-1!=b?((S=J._batcher)._posList[S._posIndex]=u+h*P+o*F,S._posList[S._posIndex+1]=_+a*P+c*F,S._posList[S._posIndex+2]=d,S._posList[S._posIndex+3]=b,S._posIndex+=4,S._numPos++):((S=J._batcher)._posList[S._posIndex]=u+h*P+o*F,S._posList[S._posIndex+1]=_+a*P+c*F,S._posList[S._posIndex+2]=d,S._posIndex+=3,S._numPos++),g||(P=E?s[D]:s[A],T=V||3==r.lastComputedBlending?(m=n.computedAlpha*((P>>24&255)/255),y=(P>>16&255)/255,U=(P>>8&255)/255,(255&P)/255):(y=(P>>16&255)/255*(m=n.computedAlpha*((P>>24&255)/255)),U=(P>>8&255)/255*m,(255&P)/255*m),2==n.blending&&2!=r.lastComputedBlending&&(m=0)),J._batcher);if(F._colorList[F._colorIndex]=y,F._colorList[F._colorIndex+1]=U,F._colorList[F._colorIndex+2]=T,F._colorList[F._colorIndex+3]=m,F._colorIndex+=4,F._numColors++,null!=H?(A=O[k]*W,P=O[1+k]*N,(F=J._batcher)._uvList[F._uvIndex]=A,F._uvList[F._uvIndex+1]=P,F._uvIndex+=2,F._numUVs++):((k=J._batcher)._uvList[k._uvIndex]=0,k._uvList[k._uvIndex+1]=0,k._uvIndex+=2,k._numUVs++),0!=C){for(var G=0,Y=C;G<Y;){var X,M,B=G++;B<R?(X=I++,(M=J._batcher)._posList[M._posIndex+B]=(null!=l?l:null)[X]):(M=J._batcher)._posList[M._posIndex+B]=0}A=J._batcher;A._posIndex+=A._floatAttributesSize}++D}if(v==p)break;r.flush(e),r.unbindUsedTextures(e),r.lastTexture=n.texture,r.useFirstTextureInBatch(e,r.lastTexture),n.computedRenderTarget!=r.lastRenderTarget&&(r.lastRenderTarget=n.computedRenderTarget,r.useRenderTarget(e,r.lastRenderTarget),null!=r.lastClip)&&r.lastClipIsRegular&&r.scissorWithQuad(e,r.lastClip.asQuad),r.lastShader=n.shader,r.useShader(e,null!=r.lastShader?r.lastShader.backendItem:null),r.lastComputedBlending=r.computeMeshBlending(n),r.useBlending(e,r.lastComputedBlending),r.stateDirty=!1,b=r.activeShaderCanBatchMultipleTextures?r.activeTextureSlot:-1;var L=v,K=J._batcher;p<(v=3*((v=L+(0|Math.min(K._maxVerts-K._numPos,16384-J._batcher._numIndices)))/3|0))&&(v=p)}this.z=d+d*d*1e-5+1e-5},drawMeshWithVertices32AndFloatColors:function(e,n){var t,i,l=n.vertices32,s=n.floatColors,r=this,h=((null!=l?l:null).length,this.stencilClip?(this.unbindUsedTextures(e),this.useFirstTextureInBatch(e,null),x=J._batcher,x=ee._graphics,ne.gl.blendFuncSeparate(1,771,1,771),this.lastComputedBlending=1,this.lastRenderTarget=n.computedRenderTarget,this.useRenderTarget(e,this.lastRenderTarget),this.lastShader=null,this.useShader(e,null),this.stateDirty=!1):(t=null,this.stateDirty||(i=this.computeMeshBlending(n),this.stateDirty=!this.isSameShader(n.shader,this.lastShader)||i!=this.lastComputedBlending||n.computedRenderTarget!=this.lastRenderTarget,this.stateDirty)||n.texture!=this.lastTexture&&(null!=n.texture&&null!=this.lastTexture?n.texture.backendItem.textureId!=this.lastTextureId&&(this.canUseTextureInSameBatch(e,n.texture)?t=n.texture:this.stateDirty=!0):this.canUseTextureInSameBatch(e,n.texture)?t=null!=n.texture?n.texture:this.defaultWhiteTexture:this.stateDirty=!0),this.stateDirty?(r.flush(e),r.unbindUsedTextures(e),r.lastTexture=n.texture,r.useFirstTextureInBatch(e,r.lastTexture),n.computedRenderTarget!=r.lastRenderTarget&&(r.lastRenderTarget=n.computedRenderTarget,r.useRenderTarget(e,r.lastRenderTarget),null!=r.lastClip)&&r.lastClipIsRegular&&r.scissorWithQuad(e,r.lastClip.asQuad),r.lastShader=n.shader,r.useShader(e,null!=r.lastShader?r.lastShader.backendItem:null),r.lastComputedBlending=r.computeMeshBlending(n),r.useBlending(e,r.lastComputedBlending),r.stateDirty=!1):null!=t&&this.useTextureInSameBatch(e,t)),n.matA),a=n.matB,o=n.matC,c=n.matD,u=n.matTX,_=n.matTY,d=this.z,b=this.activeShaderCanBatchMultipleTextures?this.activeTextureSlot:-1,g=this.stencilClip||0==n.colorMapping,O=!this.stencilClip&&1==n.colorMapping,f=n.uvs,p=n.indices,C=p.length,E=this.customFloatAttributesSize,R=n.customFloatAttributesSize,L=0,V=null!=n.texture&&n.texture.isRenderTexture,v=C,H=(((x=J._batcher)._numPos+C>x._maxVerts||16384<x._numIndices+C)&&(r.flush(e),r.unbindUsedTextures(e),r.lastTexture=n.texture,r.useFirstTextureInBatch(e,r.lastTexture),n.computedRenderTarget!=r.lastRenderTarget&&(r.lastRenderTarget=n.computedRenderTarget,r.useRenderTarget(e,r.lastRenderTarget),null!=r.lastClip)&&r.lastClipIsRegular&&r.scissorWithQuad(e,r.lastClip.asQuad),r.lastShader=n.shader,r.useShader(e,null!=r.lastShader?r.lastShader.backendItem:null),r.lastComputedBlending=r.computeMeshBlending(n),r.useBlending(e,r.lastComputedBlending),r.stateDirty=!1,b=this.activeShaderCanBatchMultipleTextures?this.activeTextureSlot:-1,C>(x=J._batcher)._maxVerts-x._numPos||C>16384-J._batcher._numIndices)&&(x=J._batcher,v=3*((v=0|Math.min(x._maxVerts-x._numPos,16384-J._batcher._numIndices))/3|0)),n.texture),W=0,N=0;for(null!=H&&(W=this.texWidth/this.texWidthActual,N=this.texHeight/this.texHeightActual);;){for(var w,m=0,y=0,U=0,T=0,D=(g&&(r.stencilClip?(y=m=1,T=U=0):(T=null!=s?(m=n.computedAlpha*s[3],y=s[0],U=s[1],s[2]):3==r.lastComputedBlending?(w=null[0],m=n.computedAlpha*((w>>24&255)/255),y=(w>>16&255)/255,U=(w>>8&255)/255,(255&w)/255):(y=((w=null[0])>>16&255)/255*(m=n.computedAlpha*((w>>24&255)/255)),U=(w>>8&255)/255*m,(255&w)/255*m),2==n.blending&&2!=r.lastComputedBlending&&(m=0))),L),z=J._batcher._numPos;D<v;){var x,S,A=p[D],k=2*A,I=A*(2+R),P=I++,P=(null!=l?l:null)[P],F=I++,F=(null!=l?l:null)[F],P=((x=J._batcher)._indiceList[x._numIndices]=z,x._numIndices++,++z,-1!=b?((S=J._batcher)._posList[S._posIndex]=u+h*P+o*F,S._posList[S._posIndex+1]=_+a*P+c*F,S._posList[S._posIndex+2]=d,S._posList[S._posIndex+3]=b,S._posIndex+=4,S._numPos++):((S=J._batcher)._posList[S._posIndex]=u+h*P+o*F,S._posList[S._posIndex+1]=_+a*P+c*F,S._posList[S._posIndex+2]=d,S._posIndex+=3,S._numPos++),g||(T=null!=s?(P=4*(O?D:A),V||3==r.lastComputedBlending?(m=n.computedAlpha*s[3+P],y=s[P],U=s[1+P],s[2+P]):(m=n.computedAlpha*s[3+P],y=s[P]*m,U=s[1+P]*m,s[2+P]*m)):(F=O?null[D]:null[A],V||3==r.lastComputedBlending?(m=n.computedAlpha*((F>>24&255)/255),y=(F>>16&255)/255,U=(F>>8&255)/255,(255&F)/255):(y=(F>>16&255)/255*(m=n.computedAlpha*((F>>24&255)/255)),U=(F>>8&255)/255*m,(255&F)/255*m)),2==n.blending&&2!=r.lastComputedBlending&&(m=0)),J._batcher);if(P._colorList[P._colorIndex]=y,P._colorList[P._colorIndex+1]=U,P._colorList[P._colorIndex+2]=T,P._colorList[P._colorIndex+3]=m,P._colorIndex+=4,P._numColors++,null!=H?(A=f[k]*W,F=f[1+k]*N,(P=J._batcher)._uvList[P._uvIndex]=A,P._uvList[P._uvIndex+1]=F,P._uvIndex+=2,P._numUVs++):((k=J._batcher)._uvList[k._uvIndex]=0,k._uvList[k._uvIndex+1]=0,k._uvIndex+=2,k._numUVs++),0!=E){for(var G=0,Y=E;G<Y;){var X,M,B=G++;B<R?(X=I++,(M=J._batcher)._posList[M._posIndex+B]=(null!=l?l:null)[X]):(M=J._batcher)._posList[M._posIndex+B]=0}A=J._batcher;A._posIndex+=A._floatAttributesSize}++D}if(v==C)break;r.flush(e),r.unbindUsedTextures(e),r.lastTexture=n.texture,r.useFirstTextureInBatch(e,r.lastTexture),n.computedRenderTarget!=r.lastRenderTarget&&(r.lastRenderTarget=n.computedRenderTarget,r.useRenderTarget(e,r.lastRenderTarget),null!=r.lastClip)&&r.lastClipIsRegular&&r.scissorWithQuad(e,r.lastClip.asQuad),r.lastShader=n.shader,r.useShader(e,null!=r.lastShader?r.lastShader.backendItem:null),r.lastComputedBlending=r.computeMeshBlending(n),r.useBlending(e,r.lastComputedBlending),r.stateDirty=!1,b=r.activeShaderCanBatchMultipleTextures?r.activeTextureSlot:-1;var L=v,K=J._batcher;C<(v=3*((v=L+(0|Math.min(K._maxVerts-K._numPos,16384-J._batcher._numIndices)))/3|0))&&(v=C)}this.z=d+d*d*1e-5+1e-5},drawMeshWithVertices:function(e,n){var t,i,l=n.vertices,s=n.colors,r=this,h=(l.length,this.stencilClip?(this.unbindUsedTextures(e),this.useFirstTextureInBatch(e,null),x=J._batcher,x=ee._graphics,ne.gl.blendFuncSeparate(1,771,1,771),this.lastComputedBlending=1,this.lastRenderTarget=n.computedRenderTarget,this.useRenderTarget(e,this.lastRenderTarget),this.lastShader=null,this.useShader(e,null),this.stateDirty=!1):(t=null,this.stateDirty||(i=this.computeMeshBlending(n),this.stateDirty=!this.isSameShader(n.shader,this.lastShader)||i!=this.lastComputedBlending||n.computedRenderTarget!=this.lastRenderTarget,this.stateDirty)||n.texture!=this.lastTexture&&(null!=n.texture&&null!=this.lastTexture?n.texture.backendItem.textureId!=this.lastTextureId&&(this.canUseTextureInSameBatch(e,n.texture)?t=n.texture:this.stateDirty=!0):this.canUseTextureInSameBatch(e,n.texture)?t=null!=n.texture?n.texture:this.defaultWhiteTexture:this.stateDirty=!0),this.stateDirty?(r.flush(e),r.unbindUsedTextures(e),r.lastTexture=n.texture,r.useFirstTextureInBatch(e,r.lastTexture),n.computedRenderTarget!=r.lastRenderTarget&&(r.lastRenderTarget=n.computedRenderTarget,r.useRenderTarget(e,r.lastRenderTarget),null!=r.lastClip)&&r.lastClipIsRegular&&r.scissorWithQuad(e,r.lastClip.asQuad),r.lastShader=n.shader,r.useShader(e,null!=r.lastShader?r.lastShader.backendItem:null),r.lastComputedBlending=r.computeMeshBlending(n),r.useBlending(e,r.lastComputedBlending),r.stateDirty=!1):null!=t&&this.useTextureInSameBatch(e,t)),n.matA),a=n.matB,o=n.matC,c=n.matD,u=n.matTX,_=n.matTY,d=this.z,b=this.activeShaderCanBatchMultipleTextures?this.activeTextureSlot:-1,g=this.stencilClip||0==n.colorMapping,E=!this.stencilClip&&1==n.colorMapping,O=n.uvs,f=n.indices,p=f.length,C=this.customFloatAttributesSize,R=n.customFloatAttributesSize,L=0,V=null!=n.texture&&n.texture.isRenderTexture,v=p,H=(((x=J._batcher)._numPos+p>x._maxVerts||16384<x._numIndices+p)&&(r.flush(e),r.unbindUsedTextures(e),r.lastTexture=n.texture,r.useFirstTextureInBatch(e,r.lastTexture),n.computedRenderTarget!=r.lastRenderTarget&&(r.lastRenderTarget=n.computedRenderTarget,r.useRenderTarget(e,r.lastRenderTarget),null!=r.lastClip)&&r.lastClipIsRegular&&r.scissorWithQuad(e,r.lastClip.asQuad),r.lastShader=n.shader,r.useShader(e,null!=r.lastShader?r.lastShader.backendItem:null),r.lastComputedBlending=r.computeMeshBlending(n),r.useBlending(e,r.lastComputedBlending),r.stateDirty=!1,b=this.activeShaderCanBatchMultipleTextures?this.activeTextureSlot:-1,p>(x=J._batcher)._maxVerts-x._numPos||p>16384-J._batcher._numIndices)&&(x=J._batcher,v=3*((v=0|Math.min(x._maxVerts-x._numPos,16384-J._batcher._numIndices))/3|0)),n.texture),W=0,N=0;for(null!=H&&(W=this.texWidth/this.texWidthActual,N=this.texHeight/this.texHeightActual);;){for(var w,m=0,y=0,U=0,T=0,D=(g&&(r.stencilClip?(y=m=1,T=U=0):(T=3==r.lastComputedBlending?(w=s[0],m=n.computedAlpha*((w>>24&255)/255),y=(w>>16&255)/255,U=(w>>8&255)/255,(255&w)/255):(y=((w=s[0])>>16&255)/255*(m=n.computedAlpha*((w>>24&255)/255)),U=(w>>8&255)/255*m,(255&w)/255*m),2==n.blending&&2!=r.lastComputedBlending&&(m=0))),L),z=J._batcher._numPos;D<v;){var x,S,A=f[D],k=2*A,I=A*(2+R),P=I++,P=l[P],F=I++,F=l[F],F=((x=J._batcher)._indiceList[x._numIndices]=z,x._numIndices++,++z,-1!=b?((S=J._batcher)._posList[S._posIndex]=u+h*P+o*F,S._posList[S._posIndex+1]=_+a*P+c*F,S._posList[S._posIndex+2]=d,S._posList[S._posIndex+3]=b,S._posIndex+=4,S._numPos++):((S=J._batcher)._posList[S._posIndex]=u+h*P+o*F,S._posList[S._posIndex+1]=_+a*P+c*F,S._posList[S._posIndex+2]=d,S._posIndex+=3,S._numPos++),g||(P=E?s[D]:s[A],T=V||3==r.lastComputedBlending?(m=n.computedAlpha*((P>>24&255)/255),y=(P>>16&255)/255,U=(P>>8&255)/255,(255&P)/255):(y=(P>>16&255)/255*(m=n.computedAlpha*((P>>24&255)/255)),U=(P>>8&255)/255*m,(255&P)/255*m),2==n.blending&&2!=r.lastComputedBlending&&(m=0)),J._batcher);if(F._colorList[F._colorIndex]=y,F._colorList[F._colorIndex+1]=U,F._colorList[F._colorIndex+2]=T,F._colorList[F._colorIndex+3]=m,F._colorIndex+=4,F._numColors++,null!=H?(A=O[k]*W,P=O[1+k]*N,(F=J._batcher)._uvList[F._uvIndex]=A,F._uvList[F._uvIndex+1]=P,F._uvIndex+=2,F._numUVs++):((k=J._batcher)._uvList[k._uvIndex]=0,k._uvList[k._uvIndex+1]=0,k._uvIndex+=2,k._numUVs++),0!=C){for(var G=0,Y=C;G<Y;){var X,M,B=G++;B<R?(X=I++,(M=J._batcher)._posList[M._posIndex+B]=l[X]):(M=J._batcher)._posList[M._posIndex+B]=0}A=J._batcher;A._posIndex+=A._floatAttributesSize}++D}if(v==p)break;r.flush(e),r.unbindUsedTextures(e),r.lastTexture=n.texture,r.useFirstTextureInBatch(e,r.lastTexture),n.computedRenderTarget!=r.lastRenderTarget&&(r.lastRenderTarget=n.computedRenderTarget,r.useRenderTarget(e,r.lastRenderTarget),null!=r.lastClip)&&r.lastClipIsRegular&&r.scissorWithQuad(e,r.lastClip.asQuad),r.lastShader=n.shader,r.useShader(e,null!=r.lastShader?r.lastShader.backendItem:null),r.lastComputedBlending=r.computeMeshBlending(n),r.useBlending(e,r.lastComputedBlending),r.stateDirty=!1,b=r.activeShaderCanBatchMultipleTextures?r.activeTextureSlot:-1;var L=v,K=J._batcher;p<(v=3*((v=L+(0|Math.min(K._maxVerts-K._numPos,16384-J._batcher._numIndices)))/3|0))&&(v=p)}this.z=d+d*d*1e-5+1e-5},drawMeshWithVerticesAndFloatColors:function(e,n){var t,i,l=n.vertices,s=n.floatColors,r=this,h=(l.length,this.stencilClip?(this.unbindUsedTextures(e),this.useFirstTextureInBatch(e,null),x=J._batcher,x=ee._graphics,ne.gl.blendFuncSeparate(1,771,1,771),this.lastComputedBlending=1,this.lastRenderTarget=n.computedRenderTarget,this.useRenderTarget(e,this.lastRenderTarget),this.lastShader=null,this.useShader(e,null),this.stateDirty=!1):(t=null,this.stateDirty||(i=this.computeMeshBlending(n),this.stateDirty=!this.isSameShader(n.shader,this.lastShader)||i!=this.lastComputedBlending||n.computedRenderTarget!=this.lastRenderTarget,this.stateDirty)||n.texture!=this.lastTexture&&(null!=n.texture&&null!=this.lastTexture?n.texture.backendItem.textureId!=this.lastTextureId&&(this.canUseTextureInSameBatch(e,n.texture)?t=n.texture:this.stateDirty=!0):this.canUseTextureInSameBatch(e,n.texture)?t=null!=n.texture?n.texture:this.defaultWhiteTexture:this.stateDirty=!0),this.stateDirty?(r.flush(e),r.unbindUsedTextures(e),r.lastTexture=n.texture,r.useFirstTextureInBatch(e,r.lastTexture),n.computedRenderTarget!=r.lastRenderTarget&&(r.lastRenderTarget=n.computedRenderTarget,r.useRenderTarget(e,r.lastRenderTarget),null!=r.lastClip)&&r.lastClipIsRegular&&r.scissorWithQuad(e,r.lastClip.asQuad),r.lastShader=n.shader,r.useShader(e,null!=r.lastShader?r.lastShader.backendItem:null),r.lastComputedBlending=r.computeMeshBlending(n),r.useBlending(e,r.lastComputedBlending),r.stateDirty=!1):null!=t&&this.useTextureInSameBatch(e,t)),n.matA),a=n.matB,o=n.matC,c=n.matD,u=n.matTX,_=n.matTY,d=this.z,b=this.activeShaderCanBatchMultipleTextures?this.activeTextureSlot:-1,g=this.stencilClip||0==n.colorMapping,O=!this.stencilClip&&1==n.colorMapping,f=n.uvs,p=n.indices,C=p.length,E=this.customFloatAttributesSize,R=n.customFloatAttributesSize,L=0,V=null!=n.texture&&n.texture.isRenderTexture,v=C,H=(((x=J._batcher)._numPos+C>x._maxVerts||16384<x._numIndices+C)&&(r.flush(e),r.unbindUsedTextures(e),r.lastTexture=n.texture,r.useFirstTextureInBatch(e,r.lastTexture),n.computedRenderTarget!=r.lastRenderTarget&&(r.lastRenderTarget=n.computedRenderTarget,r.useRenderTarget(e,r.lastRenderTarget),null!=r.lastClip)&&r.lastClipIsRegular&&r.scissorWithQuad(e,r.lastClip.asQuad),r.lastShader=n.shader,r.useShader(e,null!=r.lastShader?r.lastShader.backendItem:null),r.lastComputedBlending=r.computeMeshBlending(n),r.useBlending(e,r.lastComputedBlending),r.stateDirty=!1,b=this.activeShaderCanBatchMultipleTextures?this.activeTextureSlot:-1,C>(x=J._batcher)._maxVerts-x._numPos||C>16384-J._batcher._numIndices)&&(x=J._batcher,v=3*((v=0|Math.min(x._maxVerts-x._numPos,16384-J._batcher._numIndices))/3|0)),n.texture),W=0,N=0;for(null!=H&&(W=this.texWidth/this.texWidthActual,N=this.texHeight/this.texHeightActual);;){for(var w,m=0,y=0,U=0,T=0,D=(g&&(r.stencilClip?(y=m=1,T=U=0):(T=null!=s?(m=n.computedAlpha*s[3],y=s[0],U=s[1],s[2]):3==r.lastComputedBlending?(w=null[0],m=n.computedAlpha*((w>>24&255)/255),y=(w>>16&255)/255,U=(w>>8&255)/255,(255&w)/255):(y=((w=null[0])>>16&255)/255*(m=n.computedAlpha*((w>>24&255)/255)),U=(w>>8&255)/255*m,(255&w)/255*m),2==n.blending&&2!=r.lastComputedBlending&&(m=0))),L),z=J._batcher._numPos;D<v;){var x,S,A=p[D],k=2*A,I=A*(2+R),P=I++,P=l[P],F=I++,F=l[F],P=((x=J._batcher)._indiceList[x._numIndices]=z,x._numIndices++,++z,-1!=b?((S=J._batcher)._posList[S._posIndex]=u+h*P+o*F,S._posList[S._posIndex+1]=_+a*P+c*F,S._posList[S._posIndex+2]=d,S._posList[S._posIndex+3]=b,S._posIndex+=4,S._numPos++):((S=J._batcher)._posList[S._posIndex]=u+h*P+o*F,S._posList[S._posIndex+1]=_+a*P+c*F,S._posList[S._posIndex+2]=d,S._posIndex+=3,S._numPos++),g||(T=null!=s?(P=4*(O?D:A),V||3==r.lastComputedBlending?(m=n.computedAlpha*s[3+P],y=s[P],U=s[1+P],s[2+P]):(m=n.computedAlpha*s[3+P],y=s[P]*m,U=s[1+P]*m,s[2+P]*m)):(F=O?null[D]:null[A],V||3==r.lastComputedBlending?(m=n.computedAlpha*((F>>24&255)/255),y=(F>>16&255)/255,U=(F>>8&255)/255,(255&F)/255):(y=(F>>16&255)/255*(m=n.computedAlpha*((F>>24&255)/255)),U=(F>>8&255)/255*m,(255&F)/255*m)),2==n.blending&&2!=r.lastComputedBlending&&(m=0)),J._batcher);if(P._colorList[P._colorIndex]=y,P._colorList[P._colorIndex+1]=U,P._colorList[P._colorIndex+2]=T,P._colorList[P._colorIndex+3]=m,P._colorIndex+=4,P._numColors++,null!=H?(A=f[k]*W,F=f[1+k]*N,(P=J._batcher)._uvList[P._uvIndex]=A,P._uvList[P._uvIndex+1]=F,P._uvIndex+=2,P._numUVs++):((k=J._batcher)._uvList[k._uvIndex]=0,k._uvList[k._uvIndex+1]=0,k._uvIndex+=2,k._numUVs++),0!=E){for(var G=0,Y=E;G<Y;){var X,M,B=G++;B<R?(X=I++,(M=J._batcher)._posList[M._posIndex+B]=l[X]):(M=J._batcher)._posList[M._posIndex+B]=0}A=J._batcher;A._posIndex+=A._floatAttributesSize}++D}if(v==C)break;r.flush(e),r.unbindUsedTextures(e),r.lastTexture=n.texture,r.useFirstTextureInBatch(e,r.lastTexture),n.computedRenderTarget!=r.lastRenderTarget&&(r.lastRenderTarget=n.computedRenderTarget,r.useRenderTarget(e,r.lastRenderTarget),null!=r.lastClip)&&r.lastClipIsRegular&&r.scissorWithQuad(e,r.lastClip.asQuad),r.lastShader=n.shader,r.useShader(e,null!=r.lastShader?r.lastShader.backendItem:null),r.lastComputedBlending=r.computeMeshBlending(n),r.useBlending(e,r.lastComputedBlending),r.stateDirty=!1,b=r.activeShaderCanBatchMultipleTextures?r.activeTextureSlot:-1;var L=v,K=J._batcher;C<(v=3*((v=L+(0|Math.min(K._maxVerts-K._numPos,16384-J._batcher._numIndices)))/3|0))&&(v=C)}this.z=d+d*d*1e-5+1e-5},_drawMesh:function(e,n,t,i,l,s){var r,h,a=this,o=((null!=i?i:t).length,this.stencilClip?(this.unbindUsedTextures(e),this.useFirstTextureInBatch(e,null),x=J._batcher,x=ee._graphics,ne.gl.blendFuncSeparate(1,771,1,771),this.lastComputedBlending=1,this.lastRenderTarget=n.computedRenderTarget,this.useRenderTarget(e,this.lastRenderTarget),this.lastShader=null,this.useShader(e,null),this.stateDirty=!1):(r=null,this.stateDirty||(h=this.computeMeshBlending(n),this.stateDirty=!this.isSameShader(n.shader,this.lastShader)||h!=this.lastComputedBlending||n.computedRenderTarget!=this.lastRenderTarget,this.stateDirty)||n.texture!=this.lastTexture&&(null!=n.texture&&null!=this.lastTexture?n.texture.backendItem.textureId!=this.lastTextureId&&(this.canUseTextureInSameBatch(e,n.texture)?r=n.texture:this.stateDirty=!0):this.canUseTextureInSameBatch(e,n.texture)?r=null!=n.texture?n.texture:this.defaultWhiteTexture:this.stateDirty=!0),this.stateDirty?(a.flush(e),a.unbindUsedTextures(e),a.lastTexture=n.texture,a.useFirstTextureInBatch(e,a.lastTexture),n.computedRenderTarget!=a.lastRenderTarget&&(a.lastRenderTarget=n.computedRenderTarget,a.useRenderTarget(e,a.lastRenderTarget),null!=a.lastClip)&&a.lastClipIsRegular&&a.scissorWithQuad(e,a.lastClip.asQuad),a.lastShader=n.shader,a.useShader(e,null!=a.lastShader?a.lastShader.backendItem:null),a.lastComputedBlending=a.computeMeshBlending(n),a.useBlending(e,a.lastComputedBlending),a.stateDirty=!1):null!=r&&this.useTextureInSameBatch(e,r)),n.matA),c=n.matB,u=n.matC,_=n.matD,d=n.matTX,b=n.matTY,g=this.z,O=this.activeShaderCanBatchMultipleTextures?this.activeTextureSlot:-1,f=this.stencilClip||0==n.colorMapping,p=!this.stencilClip&&1==n.colorMapping,E=n.uvs,R=n.indices,C=R.length,L=this.customFloatAttributesSize,V=n.customFloatAttributesSize,H=0,W=null!=n.texture&&n.texture.isRenderTexture,v=C,N=(((x=J._batcher)._numPos+C>x._maxVerts||16384<x._numIndices+C)&&(a.flush(e),a.unbindUsedTextures(e),a.lastTexture=n.texture,a.useFirstTextureInBatch(e,a.lastTexture),n.computedRenderTarget!=a.lastRenderTarget&&(a.lastRenderTarget=n.computedRenderTarget,a.useRenderTarget(e,a.lastRenderTarget),null!=a.lastClip)&&a.lastClipIsRegular&&a.scissorWithQuad(e,a.lastClip.asQuad),a.lastShader=n.shader,a.useShader(e,null!=a.lastShader?a.lastShader.backendItem:null),a.lastComputedBlending=a.computeMeshBlending(n),a.useBlending(e,a.lastComputedBlending),a.stateDirty=!1,O=this.activeShaderCanBatchMultipleTextures?this.activeTextureSlot:-1,C>(x=J._batcher)._maxVerts-x._numPos||C>16384-J._batcher._numIndices)&&(x=J._batcher,v=3*((v=0|Math.min(x._maxVerts-x._numPos,16384-J._batcher._numIndices))/3|0)),n.texture),z=0,G=0;for(null!=N&&(z=this.texWidth/this.texWidthActual,G=this.texHeight/this.texHeightActual);;){for(var w,m=0,y=0,U=0,T=0,D=(f&&(a.stencilClip?(y=m=1,T=U=0):(T=null!=s?(m=n.computedAlpha*s[3],y=s[0],U=s[1],s[2]):3==a.lastComputedBlending?(w=l[0],m=n.computedAlpha*((w>>24&255)/255),y=(w>>16&255)/255,U=(w>>8&255)/255,(255&w)/255):(y=((w=l[0])>>16&255)/255*(m=n.computedAlpha*((w>>24&255)/255)),U=(w>>8&255)/255*m,(255&w)/255*m),2==n.blending&&2!=a.lastComputedBlending&&(m=0))),H),Y=J._batcher._numPos;D<v;){var x,S,A=R[D],k=2*A,I=A*(2+V),P=I++,P=(null!=i?i:t)[P],F=I++,F=(null!=i?i:t)[F],P=((x=J._batcher)._indiceList[x._numIndices]=Y,x._numIndices++,++Y,-1!=O?((S=J._batcher)._posList[S._posIndex]=d+o*P+u*F,S._posList[S._posIndex+1]=b+c*P+_*F,S._posList[S._posIndex+2]=g,S._posList[S._posIndex+3]=O,S._posIndex+=4,S._numPos++):((S=J._batcher)._posList[S._posIndex]=d+o*P+u*F,S._posList[S._posIndex+1]=b+c*P+_*F,S._posList[S._posIndex+2]=g,S._posIndex+=3,S._numPos++),f||(T=null!=s?(P=4*(p?D:A),W||3==a.lastComputedBlending?(m=n.computedAlpha*s[3+P],y=s[P],U=s[1+P],s[2+P]):(m=n.computedAlpha*s[3+P],y=s[P]*m,U=s[1+P]*m,s[2+P]*m)):(F=p?l[D]:l[A],W||3==a.lastComputedBlending?(m=n.computedAlpha*((F>>24&255)/255),y=(F>>16&255)/255,U=(F>>8&255)/255,(255&F)/255):(y=(F>>16&255)/255*(m=n.computedAlpha*((F>>24&255)/255)),U=(F>>8&255)/255*m,(255&F)/255*m)),2==n.blending&&2!=a.lastComputedBlending&&(m=0)),J._batcher);if(P._colorList[P._colorIndex]=y,P._colorList[P._colorIndex+1]=U,P._colorList[P._colorIndex+2]=T,P._colorList[P._colorIndex+3]=m,P._colorIndex+=4,P._numColors++,null!=N?(A=E[k]*z,F=E[1+k]*G,(P=J._batcher)._uvList[P._uvIndex]=A,P._uvList[P._uvIndex+1]=F,P._uvIndex+=2,P._numUVs++):((k=J._batcher)._uvList[k._uvIndex]=0,k._uvList[k._uvIndex+1]=0,k._uvIndex+=2,k._numUVs++),0!=L){for(var X=0,K=L;X<K;){var j,M,B=X++;B<V?(j=I++,(M=J._batcher)._posList[M._posIndex+B]=(null!=i?i:t)[j]):(M=J._batcher)._posList[M._posIndex+B]=0}A=J._batcher;A._posIndex+=A._floatAttributesSize}++D}if(v==C)break;a.flush(e),a.unbindUsedTextures(e),a.lastTexture=n.texture,a.useFirstTextureInBatch(e,a.lastTexture),n.computedRenderTarget!=a.lastRenderTarget&&(a.lastRenderTarget=n.computedRenderTarget,a.useRenderTarget(e,a.lastRenderTarget),null!=a.lastClip)&&a.lastClipIsRegular&&a.scissorWithQuad(e,a.lastClip.asQuad),a.lastShader=n.shader,a.useShader(e,null!=a.lastShader?a.lastShader.backendItem:null),a.lastComputedBlending=a.computeMeshBlending(n),a.useBlending(e,a.lastComputedBlending),a.stateDirty=!1,O=a.activeShaderCanBatchMultipleTextures?a.activeTextureSlot:-1;var H=v,$=J._batcher;C<(v=3*((v=H+(0|Math.min($._maxVerts-$._numPos,16384-J._batcher._numIndices)))/3|0))&&(v=C)}this.z=g+g*g*1e-5+1e-5},incrementZ:function(e){return e+e*e*1e-5+1e-5},flush:function(e){return!(J._batcher._numPos<=0||(J._batcher.flush(),null!=J._currentRenderTarget&&(J._didUpdateCurrentRenderTarget=!0),this.drawCalls++,0))},computeQuadBlending:function(e){var n=e.blending;return n=0!=n&&2!=n?n:null!=e.computedRenderTarget?5:1},computeMeshBlending:function(e){var n=e.blending;return n=0!=n&&2!=n?n:null!=e.computedRenderTarget?5:1},isSameShader:function(e,n){return(null!=e?e.backendItem:this.defaultTexturedShader)==(null!=n?n.backendItem:this.defaultTexturedShader)},useShader:function(e,n){null==n&&(n=this.defaultTexturedShader),this.activeShader=n,J._activeShader=n;var t=J._batcher,t=(ee._graphics.projectionMatrix=J._projectionMatrix,J._batcher),i=(ee._graphics.modelViewMatrix=J._modelViewMatrix,ae.app.backend.shaders),l=0,s=J._activeShader.customAttributes;if(null!=s)for(var r=0,h=s.length;r<h;)l+=s[r++].size;var a=l,i=i.canBatchWithMultipleTextures(J._activeShader);J._batcher._customAttributes=null!=J._activeShader?J._activeShader.customAttributes:null;(t=J._batcher)._floatAttributesSize=a,t._batchMultiTexture=i,t._vertexSize=3+t._floatAttributesSize+(t._batchMultiTexture?1:0),t._posSize=t._vertexSize,t._vertexSize<4&&(t._vertexSize=4),t._maxVerts=0|Math.floor(65536/t._vertexSize),0==t._numPos&&(t._numIndices=0,t._numPos=0,t._numUVs=0,t._numColors=0,t._posIndex=0,t._uvIndex=0,t._colorIndex=0),n.activate(),this.activeShaderCanBatchMultipleTextures=this.backendShaders.canBatchWithMultipleTextures(n),t=this.backendShaders,l=0;if(null!=(s=n.customAttributes))for(r=0,h=s.length;r<h;)l+=s[r++].size;this.customFloatAttributesSize=l},useBlending:function(e,n){switch(n){case 0:throw $.thrown("Cannot apply AUTO blending. Needs to be computed to an actual blending function.");case 1:J._batcher,ee._graphics;ne.gl.blendFuncSeparate(1,771,1,771);break;case 2:J._batcher,ee._graphics;ne.gl.blendFuncSeparate(1,1,1,1);break;case 3:J._batcher,ee._graphics;ne.gl.blendFuncSeparate(770,771,1,771);break;case 4:J._batcher,ee._graphics;ne.gl.blendFuncSeparate(1,770,1,770);break;case 5:J._batcher,ee._graphics;ne.gl.blendFuncSeparate(1,771,773,1);break;case 6:J._batcher,ee._graphics;ne.gl.blendFuncSeparate(770,771,773,1);break;case 7:J._batcher,ee._graphics;ne.gl.blendFuncSeparate(1,0,1,0)}},scissorWithQuad:function(e,n){e.enableScissor(n.matTX,n.matTY,n.matA*n.get_width(),n.matD*n.get_height())},isNotRenderedRenderTexture:function(e){e=e.asRenderTexture;return!(null==e||e._renderedOnce||!e.renderDirty||e._usedInRendering)},useRenderTarget:function(e,n){var t,i;this.usedRenderTarget!=n&&(i=null!=this.usedRenderTarget?this.usedRenderTarget.index:0,t=null!=n?n.index:0,this.zPerRenderTarget.set(i,this.z),i=this.zPerRenderTarget.intMap.h[0|t],this.z=null!=i?i:0),null!=(this.usedRenderTarget=n)?(n._usedInRendering=!0,n.set__renderedOnce(!0),e.setRenderTarget(n)):e.setRenderTarget(null)},useFirstTextureInBatch:function(e,n){null==n&&(n=this.defaultWhiteTexture),this.usedTextures=1;var t=n.backendItem.index,i=(this.usedTextureIndexes[0]=t,J._activeTextureSlot=0,J._batcher);if(0!=(i=ee._graphics)._activeTextureSlot){for(i._activeTextureSlot=0;i._boundTexture2D.length<=i._activeTextureSlot;)i._boundTexture2D.push(null);ne.gl.activeTexture(33984)}this.activeTextureSlot=0,this.useTexture(e,n,!1)},useTexture:function(e,n,t){var i,l;null!=n?(this.lastTexture=n,this.lastTextureId=n.backendItem.textureId,this.texWidth=n.backendItem.width,this.texHeight=n.backendItem.height,this.texWidthActual=n.backendItem.widthActual,this.texHeightActual=n.backendItem.heightActual,t||(i=J._batcher,l=n.backendItem.textureId,(i=ee._graphics)._boundTexture2D[i._activeTextureSlot]!=l&&(i._boundTexture2D[i._activeTextureSlot]=l,ne.gl.bindTexture(3553,l)))):(this.lastTexture=null,this.lastTextureId=null,i=J._batcher,i=ee._graphics,l=Ci.defaultTextureId,i._boundTexture2D[i._activeTextureSlot]!=l&&(i._boundTexture2D[i._activeTextureSlot]=l,ne.gl.bindTexture(3553,l)))},canUseTextureInSameBatch:function(e,n){var t=!1;if(null==n&&(n=this.defaultWhiteTexture),0<this.usedTextures)if(this.activeShaderCanBatchMultipleTextures){for(var i=n.backendItem.index,l=0,s=this.usedTextures;l<s;){var r=l++;if(i==this.usedTextureIndexes[r]){t=!0;break}}!t&&this.usedTextures<this.maxUsableTexturesInBatch&&(t=!0)}else this.lastTexture==n&&(t=!0);return t},useTextureInSameBatch:function(e,n){var t=!1;if(null==n&&(n=this.defaultWhiteTexture),this.activeShaderCanBatchMultipleTextures){for(var i=n.backendItem.index,l=0,s=this.usedTextures;l<s;){var r=l++;if(i==this.usedTextureIndexes[r]){J._activeTextureSlot=r;var h=J._batcher,a=ee._graphics;if(a._activeTextureSlot!=r){for(a._activeTextureSlot=r;a._boundTexture2D.length<=a._activeTextureSlot;)a._boundTexture2D.push(null);ne.gl.activeTexture(33984+r)}this.activeTextureSlot=r,this.useTexture(e,n,!0),t=!0;break}}if(!t&&this.usedTextures<this.maxUsableTexturesInBatch){r=this.usedTextures++,h=(this.usedTextureIndexes[r]=i,J._activeTextureSlot=r,J._batcher);if((h=ee._graphics)._activeTextureSlot!=r){for(h._activeTextureSlot=r;h._boundTexture2D.length<=h._activeTextureSlot;)h._boundTexture2D.push(null);ne.gl.activeTexture(33984+r)}this.activeTextureSlot=r,this.useTexture(e,n,!1)}}},unbindUsedTextures:function(e){for(;0<this.usedTextures;){this.usedTextures--;var n=this.usedTextures,t=(J._activeTextureSlot=n,J._batcher),i=ee._graphics;if(i._activeTextureSlot!=n){for(i._activeTextureSlot=n;i._boundTexture2D.length<=i._activeTextureSlot;)i._boundTexture2D.push(null);ne.gl.activeTexture(33984+n)}J._batcher;var n=ee._graphics,l=Ci.defaultTextureId;n._boundTexture2D[n._activeTextureSlot]!=l&&(n._boundTexture2D[n._activeTextureSlot]=l,ne.gl.bindTexture(3553,l))}J._activeTextureSlot=0;t=J._batcher;if(0!=(t=ee._graphics)._activeTextureSlot){for(t._activeTextureSlot=0;t._boundTexture2D.length<=t._activeTextureSlot;)t._boundTexture2D.push(null);ne.gl.activeTexture(33984)}this.activeTextureSlot=0,this.useTexture(e,null,!1)},__class__:$n}),function(e){this._poolIndex=-1,this.set_length(e)}),qn=((E["ceramic.ReusableArray"]=Qn).__name__="ceramic.ReusableArray",Qn.prototype={_poolIndex:null,vector:null,length:null,set_length:function(e){if(null==this.vector)return this.vector=new Array(e),this.length=e;if(e!=this.length){if(e>this.vector.length){for(var n=new Array(e),t=0,i=this.length;t<i;)n[l=t++]=this.vector[l],this.vector[l]=null;this.vector=n;for(t=this.length,i=e;t<i;){var l=t++;this.vector[l]=null}}else for(t=e,i=this.length;t<i;){l=t++;this.vector[l]=null}this.length=e}return e},get:function(e){return this.vector[e]},set:function(e,n){this.vector[e]=n},__class__:Qn,__properties__:{set_length:"set_length"}},(E["ceramic.RowLayout"]=Yb).__name__="ceramic.RowLayout",Yb.__super__=q0,Yb.prototype=$extend(q0.prototype,{set_direction:function(e){if(e!=Hn.HORIZONTAL)throw $.thrown("Changing direction of an RowLayout is not allowed. Use a LinearLayout if you want to change direction at runtime.");return this.direction=Hn.HORIZONTAL},__class__:Yb}),function(){}),Zn=((E["ceramic.Runner"]=qn).__name__="ceramic.Runner",qn.currentIsMainThread=function(){return!0},qn.init=function(){},qn.tick=function(){},qn.isEmulatingBackgroundWithMain=function(){return!0},qn.runInMain=function(e){ae.app._onceImmediate(e)},qn.runInBackground=function(e){ae.app._onceImmediate(e)},function(e,n){this.path=null,this.cachedLists=null,this.cachedNames=new Nl,this.assetDirsByBaseName=null,this.assetsByBaseName=null,this.allAssetDirs=null,this.allAssets=null,this.pendingTransformedDirCallbacks=null,this.didQueryTransformedDir=0,this.transformedDir=null,this.allAssets=e,this.path=n,this.initData()}),d=((E["ceramic.RuntimeAssets"]=Zn).__name__="ceramic.RuntimeAssets",Zn.fromPath=function(e){return null},Zn.toAssetConstName=function(e){for(var n="",t=e.length,i=0,l=!1;i<t;){var s,r=e.charAt(i),l="/"==r?(n+="__",!1):"."!=r&&Zn.isAsciiChar(r)?(s=r.toUpperCase(),r=r==s,l&&r&&(n+="_",l=!1),n+=null==s?"null":""+s,!r):(n+="_",!1);++i}var h=n;return h=z.endsWith(h,"_")?he.substr(h,0,h.length-1):h},Zn.isAsciiChar=function(e){e=he.cca(e,0);return 48<=e&&e<=57||65<=e&&e<=90||97<=e&&e<=122},Zn.prototype={transformedDir:null,didQueryTransformedDir:null,pendingTransformedDirCallbacks:null,requestTransformedDir:function(r){var h=this;2==this.didQueryTransformedDir?ae.app._onceImmediate(function(){r(h.transformedDir)}):1==this.didQueryTransformedDir?(null==this.pendingTransformedDirCallbacks&&(this.pendingTransformedDirCallbacks=[]),this.pendingTransformedDirCallbacks.push(r)):(this.didQueryTransformedDir=1,Yn.runCeramic(["tmp","dir"],function(e,n,t){if(0==e?0<(n=z.trim(n)).length&&un.exists(n)&&(h.transformedDir=n):ae.app.logger.error("Failed to resolve tmp dir: "+e+" / "+t,{fileName:"../../../../ceramic/runtime/src/ceramic/RuntimeAssets.hx",lineNumber:86,className:"ceramic.RuntimeAssets",methodName:"requestTransformedDir"}),h.didQueryTransformedDir=2,r(h.transformedDir),null!=h.pendingTransformedDirCallbacks)for(var i=h.pendingTransformedDirCallbacks,l=(h.pendingTransformedDirCallbacks=null,0);l<i.length;){var s=i[l];++l,s(h.transformedDir)}}))},allAssets:null,allAssetDirs:null,assetsByBaseName:null,assetDirsByBaseName:null,cachedNames:null,cachedLists:null,path:null,reset:function(e,n){this.allAssets=e,this.path=n,this.allAssetDirs=null,this.assetsByBaseName=null,this.assetDirsByBaseName=null,this.cachedNames=new Nl,this.cachedLists=null,this.initData()},getNames:function(e,n,t){null==t&&(t=!1);var i=e+"|"+(null!=n?n.join(","):"")+(t?"|1":"|0"),l=this.cachedNames.h[i];if(null!=l)return l;var s=[];switch(null==n&&(n=[]),e){case"atlas":c=["atlas"];break;case"database":c=["csv"];break;case"font":c=["fnt","ttf","otf"];break;case"fragments":c=["fragments"];break;case"image":c=["png","jpg","jpeg"];break;case"shader":c=["frag","vert"];break;case"sound":ae.app.backend.info;null!=ye._soundExtensions||(ye._soundExtensions=[],r=new Audio,h=null!=ce.navigator?ce.navigator.userAgent:"",o=ye.RE_OPERA.match(h)&&parseInt(ye.RE_OPERA.matched(0).split("/")[1],10)<33,a=-1!=h.indexOf("Safari")&&-1==h.indexOf("Chrome"),h=ye.RE_SAFARI_VERSION.match(h),a&&h&&parseInt(ye.RE_SAFARI_VERSION.matched(1),10),null!=(a=r.canPlayType('audio/ogg; codecs="vorbis"'))&&"no"!=a&&""!=a&&ye._soundExtensions.push("ogg"),h=r.canPlayType("audio/mpeg;"),a=r.canPlayType("audio/mp3;"),!o&&(null!=h&&"no"!=h&&""!=h||null!=a&&"no"!=a&&""!=a)&&ye._soundExtensions.push("mp3"),o=r.canPlayType("audio/x-flac;"),h=r.canPlayType("audio/flac;"),(null!=o&&"no"!=o&&""!=o||null!=h&&"no"!=h&&""!=h)&&ye._soundExtensions.push("flac"),a=r.canPlayType('audio/wav; codecs="1"'),o=r.canPlayType("audio/wav;"),(null!=a&&"no"!=a&&""!=a||null!=o&&"no"!=o&&""!=o)&&ye._soundExtensions.push("wav"));var r,h,a,o,c=[].concat(ye._soundExtensions);break;case"text":c=["txt","json","fnt","atlas"];break;default:c=[]}if(0!=(n=n.concat(c)).length){for(var u=Object.create(null),_=t?this.allAssetDirs:this.allAssets,d=0;d<n.length;)for(var b=n[d],g=(++d,0);g<_.length;){var O,f=_[g],p=(++g,f.toLowerCase()),C=p.lastIndexOf("."),v=null;-1!=C&&(p=he.substr(p,C+1,null))==b&&(-1==(O=he.substr(f,0,C).lastIndexOf("@"))&&(O=C),f=he.substr(f,0,Math.min(O,C)),null==(v=Zn.toAssetConstName(f))||Object.prototype.hasOwnProperty.call(u,v)||null==p||(u[v]=f))}for(var w=t?this.assetDirsByBaseName:this.assetsByBaseName,m=Object.keys(u),y=m.length,U=0;U<y;){u[v=m[U++]];for(var T=[],D=w.h[u[v]],d=0;d<D.length;)for(var x=D[d],g=(++d,0);g<n.length;){b=n[g];if(++g,z.endsWith(x,"."+b)){T.push(x);break}}var S={name:u[v],constName:v,paths:T};s.push(S)}this.cachedNames.h[i]=s}return s},getLists:function(){if(null!=this.cachedLists)return this.cachedLists;for(var e={all:[],allDirs:[],allByName:new Nl,allDirsByName:new Nl},n=0,t=this.allAssets;n<t.length;){var i=t[n];++n,e.all.push(i)}for(n=0,t=this.allAssetDirs;n<t.length;){i=t[n];++n,e.allDirs.push(i)}for(var l=this.assetsByBaseName.h,s=Object.keys(l),r=s.length,h=0;h<r;){var a=s[h++],o=[].concat(this.assetsByBaseName.h[a]);e.allByName.h[a]=o}l=this.assetDirsByBaseName.h;for(r=(s=Object.keys(l)).length,h=0;h<r;){a=s[h++],o=[].concat(this.assetDirsByBaseName.h[a]);e.allDirsByName.h[a]=o}return this.cachedLists=e},getEncodableLists:function(){for(var e=this.getLists(),n={},t=e.allByName.h,i=Object.keys(t),l=i.length,s=0;s<l;)n[r=i[s++]]=e.allByName.h[r];for(var r,h={},l=(t=e.allDirsByName.h,(i=Object.keys(t)).length),s=0;s<l;)h[r=i[s++]]=e.allDirsByName.h[r];return{all:e.all,allDirs:e.allDirs,allByName:n,allDirsByName:h}},initData:function(){for(var e=Object.create(null),n=0,t=this.allAssets;n<t.length;){var i=t[n];++n,e[i]=!0}for(var l=Object.create(null),n=(this.allAssetDirs=[],0),t=this.allAssets;n<t.length;){var i=t[n],s=(++n,i.lastIndexOf("/"));if(-1!=s)for(var r=he.substr(i,0,s);!Object.prototype.hasOwnProperty.call(l,r)&&(this.allAssetDirs.push(r),l[r]=!0,-1!=(s=r.lastIndexOf("/")));)r=he.substr(r,0,s)}if(null==this.assetsByBaseName){this.assetsByBaseName=new Nl;for(n=0,t=this.allAssets;n<t.length;){var h=t[n],a=(++n,h.lastIndexOf(".")),o=(-1==(c=he.substr(h,0,a).lastIndexOf("@"))&&(c=a),he.substr(h,0,Math.min(c,a)));Object.prototype.hasOwnProperty.call(this.assetsByBaseName.h,o)||(this.assetsByBaseName.h[o]=[]),this.assetsByBaseName.h[o].push(h)}}if(null==this.assetDirsByBaseName){this.assetDirsByBaseName=new Nl;for(n=0,t=this.allAssetDirs;n<t.length;){var c,h=t[n],a=(++n,h.lastIndexOf(".")),o=(-1==(c=he.substr(h,0,a).lastIndexOf("@"))&&(c=a),he.substr(h,0,Math.min(c,a)));Object.prototype.hasOwnProperty.call(this.assetDirsByBaseName.h,o)||(this.assetDirsByBaseName.h[o]=[]),this.assetDirsByBaseName.h[o].push(h)}}},__class__:Zn},{}),Jn=(d.$name=function(e){var n=null;return null!=(n=0<=e&&e<d.scanCodeNames.length?d.scanCodeNames[e]:n)?n:""},d.toString=function(e){return"ScanCode("+e+" "+d.$name(e)+")"},{}),et=(Jn.toString=function(e){switch(e){case 0:return"NONE";case 1:return"PRELOAD";case 2:return"LOAD";case 3:return"CREATE";case 4:return"FADE_IN";case 5:return"READY";case 6:return"FADE_OUT";case 7:return"DISABLED";default:return"_"}},(E["ceramic.System"]=b1).__name__="ceramic.System",b1.__super__=j,b1.prototype=$extend(j.prototype,{__cbOnBeginEarlyUpdate:null,__cbOnceBeginEarlyUpdate:null,__cbOnOwnerUnbindBeginEarlyUpdate:null,__cbOnceOwnerUnbindBeginEarlyUpdate:null,emitBeginEarlyUpdate:function(e){var n=0;if(null!=this.__cbOnBeginEarlyUpdate&&(n+=this.__cbOnBeginEarlyUpdate.length),null!=this.__cbOnceBeginEarlyUpdate&&(n+=this.__cbOnceBeginEarlyUpdate.length),0<n){var t=C.pool(n),i=t.get(),l=0;if(null!=this.__cbOnBeginEarlyUpdate)for(var s=0,r=this.__cbOnBeginEarlyUpdate.length;s<r;){var h=s++;!0?(i.vector[l]=this.__cbOnBeginEarlyUpdate[h],++l):--n}if(null!=this.__cbOnceBeginEarlyUpdate){for(var a=null,o=null,s=0,r=this.__cbOnceBeginEarlyUpdate.length;s<r;){var c,h=s++;!0?(i.vector[l]=this.__cbOnceBeginEarlyUpdate[h],this.__cbOnceBeginEarlyUpdate[h]=null,c=this.__cbOnceOwnerUnbindBeginEarlyUpdate[h],(this.__cbOnceOwnerUnbindBeginEarlyUpdate[h]=null)!=c&&c(),++l):(--n,null==a&&(a=[],o=[],0),a.push(this.__cbOnceOwnerUnbindBeginEarlyUpdate[h]),o.push(this.__cbOnceBeginEarlyUpdate[h]))}this.__cbOnceOwnerUnbindBeginEarlyUpdate=a,this.__cbOnceBeginEarlyUpdate=o}for(s=0,r=n;s<r;){l=s++;(0,i.vector[l])(e)}t.release(i)}},onBeginEarlyUpdate:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event beginEarlyUpdate because owner is destroyed!");var l=function(e){null!=t&&(i.offBeginEarlyUpdate(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindBeginEarlyUpdate&&(this.__cbOnOwnerUnbindBeginEarlyUpdate=[]),this.__cbOnOwnerUnbindBeginEarlyUpdate.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindBeginEarlyUpdate&&(this.__cbOnOwnerUnbindBeginEarlyUpdate=[]),this.__cbOnOwnerUnbindBeginEarlyUpdate.push(null);null==this.__cbOnBeginEarlyUpdate&&(this.__cbOnBeginEarlyUpdate=[]),this.__cbOnBeginEarlyUpdate.push(t)},onceBeginEarlyUpdate:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event beginEarlyUpdate because owner is destroyed!");var l=function(e){null!=t&&(i.offBeginEarlyUpdate(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindBeginEarlyUpdate&&(this.__cbOnceOwnerUnbindBeginEarlyUpdate=[]),this.__cbOnceOwnerUnbindBeginEarlyUpdate.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindBeginEarlyUpdate&&(this.__cbOnceOwnerUnbindBeginEarlyUpdate=[]),this.__cbOnceOwnerUnbindBeginEarlyUpdate.push(null);null==this.__cbOnceBeginEarlyUpdate&&(this.__cbOnceBeginEarlyUpdate=[]),this.__cbOnceBeginEarlyUpdate.push(t)},offBeginEarlyUpdate:function(e){if(null!=e){var n;null!=this.__cbOnBeginEarlyUpdate&&-1!=(n=this.__cbOnBeginEarlyUpdate.indexOf(e))&&(this.__cbOnBeginEarlyUpdate.splice(n,1),null!=(s=this.__cbOnOwnerUnbindBeginEarlyUpdate[n])&&s(),this.__cbOnOwnerUnbindBeginEarlyUpdate.splice(n,1)),null!=this.__cbOnceBeginEarlyUpdate&&-1!=(n=this.__cbOnceBeginEarlyUpdate.indexOf(e))&&(this.__cbOnceBeginEarlyUpdate.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindBeginEarlyUpdate[n])&&s(),this.__cbOnceOwnerUnbindBeginEarlyUpdate.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindBeginEarlyUpdate){for(var t=0,i=this.__cbOnOwnerUnbindBeginEarlyUpdate.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindBeginEarlyUpdate[l])&&s()}this.__cbOnOwnerUnbindBeginEarlyUpdate=null}if(null!=this.__cbOnceOwnerUnbindBeginEarlyUpdate){for(t=0,i=this.__cbOnceOwnerUnbindBeginEarlyUpdate.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindBeginEarlyUpdate[l])&&s()}this.__cbOnceOwnerUnbindBeginEarlyUpdate=null}this.__cbOnBeginEarlyUpdate=null,this.__cbOnceBeginEarlyUpdate=null}},listensBeginEarlyUpdate:function(){return null!=this.__cbOnBeginEarlyUpdate&&0<this.__cbOnBeginEarlyUpdate.length||null!=this.__cbOnceBeginEarlyUpdate&&0<this.__cbOnceBeginEarlyUpdate.length},__cbOnEndEarlyUpdate:null,__cbOnceEndEarlyUpdate:null,__cbOnOwnerUnbindEndEarlyUpdate:null,__cbOnceOwnerUnbindEndEarlyUpdate:null,emitEndEarlyUpdate:function(e){var n=0;if(null!=this.__cbOnEndEarlyUpdate&&(n+=this.__cbOnEndEarlyUpdate.length),null!=this.__cbOnceEndEarlyUpdate&&(n+=this.__cbOnceEndEarlyUpdate.length),0<n){var t=C.pool(n),i=t.get(),l=0;if(null!=this.__cbOnEndEarlyUpdate)for(var s=0,r=this.__cbOnEndEarlyUpdate.length;s<r;){var h=s++;!0?(i.vector[l]=this.__cbOnEndEarlyUpdate[h],++l):--n}if(null!=this.__cbOnceEndEarlyUpdate){for(var a=null,o=null,s=0,r=this.__cbOnceEndEarlyUpdate.length;s<r;){var c,h=s++;!0?(i.vector[l]=this.__cbOnceEndEarlyUpdate[h],this.__cbOnceEndEarlyUpdate[h]=null,c=this.__cbOnceOwnerUnbindEndEarlyUpdate[h],(this.__cbOnceOwnerUnbindEndEarlyUpdate[h]=null)!=c&&c(),++l):(--n,null==a&&(a=[],o=[],0),a.push(this.__cbOnceOwnerUnbindEndEarlyUpdate[h]),o.push(this.__cbOnceEndEarlyUpdate[h]))}this.__cbOnceOwnerUnbindEndEarlyUpdate=a,this.__cbOnceEndEarlyUpdate=o}for(s=0,r=n;s<r;){l=s++;(0,i.vector[l])(e)}t.release(i)}},onEndEarlyUpdate:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event endEarlyUpdate because owner is destroyed!");var l=function(e){null!=t&&(i.offEndEarlyUpdate(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindEndEarlyUpdate&&(this.__cbOnOwnerUnbindEndEarlyUpdate=[]),this.__cbOnOwnerUnbindEndEarlyUpdate.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindEndEarlyUpdate&&(this.__cbOnOwnerUnbindEndEarlyUpdate=[]),this.__cbOnOwnerUnbindEndEarlyUpdate.push(null);null==this.__cbOnEndEarlyUpdate&&(this.__cbOnEndEarlyUpdate=[]),this.__cbOnEndEarlyUpdate.push(t)},onceEndEarlyUpdate:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event endEarlyUpdate because owner is destroyed!");var l=function(e){null!=t&&(i.offEndEarlyUpdate(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindEndEarlyUpdate&&(this.__cbOnceOwnerUnbindEndEarlyUpdate=[]),this.__cbOnceOwnerUnbindEndEarlyUpdate.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindEndEarlyUpdate&&(this.__cbOnceOwnerUnbindEndEarlyUpdate=[]),this.__cbOnceOwnerUnbindEndEarlyUpdate.push(null);null==this.__cbOnceEndEarlyUpdate&&(this.__cbOnceEndEarlyUpdate=[]),this.__cbOnceEndEarlyUpdate.push(t)},offEndEarlyUpdate:function(e){if(null!=e){var n;null!=this.__cbOnEndEarlyUpdate&&-1!=(n=this.__cbOnEndEarlyUpdate.indexOf(e))&&(this.__cbOnEndEarlyUpdate.splice(n,1),null!=(s=this.__cbOnOwnerUnbindEndEarlyUpdate[n])&&s(),this.__cbOnOwnerUnbindEndEarlyUpdate.splice(n,1)),null!=this.__cbOnceEndEarlyUpdate&&-1!=(n=this.__cbOnceEndEarlyUpdate.indexOf(e))&&(this.__cbOnceEndEarlyUpdate.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindEndEarlyUpdate[n])&&s(),this.__cbOnceOwnerUnbindEndEarlyUpdate.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindEndEarlyUpdate){for(var t=0,i=this.__cbOnOwnerUnbindEndEarlyUpdate.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindEndEarlyUpdate[l])&&s()}this.__cbOnOwnerUnbindEndEarlyUpdate=null}if(null!=this.__cbOnceOwnerUnbindEndEarlyUpdate){for(t=0,i=this.__cbOnceOwnerUnbindEndEarlyUpdate.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindEndEarlyUpdate[l])&&s()}this.__cbOnceOwnerUnbindEndEarlyUpdate=null}this.__cbOnEndEarlyUpdate=null,this.__cbOnceEndEarlyUpdate=null}},listensEndEarlyUpdate:function(){return null!=this.__cbOnEndEarlyUpdate&&0<this.__cbOnEndEarlyUpdate.length||null!=this.__cbOnceEndEarlyUpdate&&0<this.__cbOnceEndEarlyUpdate.length},__cbOnBeginLateUpdate:null,__cbOnceBeginLateUpdate:null,__cbOnOwnerUnbindBeginLateUpdate:null,__cbOnceOwnerUnbindBeginLateUpdate:null,emitBeginLateUpdate:function(e){var n=0;if(null!=this.__cbOnBeginLateUpdate&&(n+=this.__cbOnBeginLateUpdate.length),null!=this.__cbOnceBeginLateUpdate&&(n+=this.__cbOnceBeginLateUpdate.length),0<n){var t=C.pool(n),i=t.get(),l=0;if(null!=this.__cbOnBeginLateUpdate)for(var s=0,r=this.__cbOnBeginLateUpdate.length;s<r;){var h=s++;!0?(i.vector[l]=this.__cbOnBeginLateUpdate[h],++l):--n}if(null!=this.__cbOnceBeginLateUpdate){for(var a=null,o=null,s=0,r=this.__cbOnceBeginLateUpdate.length;s<r;){var c,h=s++;!0?(i.vector[l]=this.__cbOnceBeginLateUpdate[h],this.__cbOnceBeginLateUpdate[h]=null,c=this.__cbOnceOwnerUnbindBeginLateUpdate[h],(this.__cbOnceOwnerUnbindBeginLateUpdate[h]=null)!=c&&c(),++l):(--n,null==a&&(a=[],o=[],0),a.push(this.__cbOnceOwnerUnbindBeginLateUpdate[h]),o.push(this.__cbOnceBeginLateUpdate[h]))}this.__cbOnceOwnerUnbindBeginLateUpdate=a,this.__cbOnceBeginLateUpdate=o}for(s=0,r=n;s<r;){l=s++;(0,i.vector[l])(e)}t.release(i)}},onBeginLateUpdate:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event beginLateUpdate because owner is destroyed!");var l=function(e){null!=t&&(i.offBeginLateUpdate(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindBeginLateUpdate&&(this.__cbOnOwnerUnbindBeginLateUpdate=[]),this.__cbOnOwnerUnbindBeginLateUpdate.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindBeginLateUpdate&&(this.__cbOnOwnerUnbindBeginLateUpdate=[]),this.__cbOnOwnerUnbindBeginLateUpdate.push(null);null==this.__cbOnBeginLateUpdate&&(this.__cbOnBeginLateUpdate=[]),this.__cbOnBeginLateUpdate.push(t)},onceBeginLateUpdate:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event beginLateUpdate because owner is destroyed!");var l=function(e){null!=t&&(i.offBeginLateUpdate(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindBeginLateUpdate&&(this.__cbOnceOwnerUnbindBeginLateUpdate=[]),this.__cbOnceOwnerUnbindBeginLateUpdate.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindBeginLateUpdate&&(this.__cbOnceOwnerUnbindBeginLateUpdate=[]),this.__cbOnceOwnerUnbindBeginLateUpdate.push(null);null==this.__cbOnceBeginLateUpdate&&(this.__cbOnceBeginLateUpdate=[]),this.__cbOnceBeginLateUpdate.push(t)},offBeginLateUpdate:function(e){if(null!=e){var n;null!=this.__cbOnBeginLateUpdate&&-1!=(n=this.__cbOnBeginLateUpdate.indexOf(e))&&(this.__cbOnBeginLateUpdate.splice(n,1),null!=(s=this.__cbOnOwnerUnbindBeginLateUpdate[n])&&s(),this.__cbOnOwnerUnbindBeginLateUpdate.splice(n,1)),null!=this.__cbOnceBeginLateUpdate&&-1!=(n=this.__cbOnceBeginLateUpdate.indexOf(e))&&(this.__cbOnceBeginLateUpdate.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindBeginLateUpdate[n])&&s(),this.__cbOnceOwnerUnbindBeginLateUpdate.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindBeginLateUpdate){for(var t=0,i=this.__cbOnOwnerUnbindBeginLateUpdate.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindBeginLateUpdate[l])&&s()}this.__cbOnOwnerUnbindBeginLateUpdate=null}if(null!=this.__cbOnceOwnerUnbindBeginLateUpdate){for(t=0,i=this.__cbOnceOwnerUnbindBeginLateUpdate.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindBeginLateUpdate[l])&&s()}this.__cbOnceOwnerUnbindBeginLateUpdate=null}this.__cbOnBeginLateUpdate=null,this.__cbOnceBeginLateUpdate=null}},listensBeginLateUpdate:function(){return null!=this.__cbOnBeginLateUpdate&&0<this.__cbOnBeginLateUpdate.length||null!=this.__cbOnceBeginLateUpdate&&0<this.__cbOnceBeginLateUpdate.length},__cbOnEndLateUpdate:null,__cbOnceEndLateUpdate:null,__cbOnOwnerUnbindEndLateUpdate:null,__cbOnceOwnerUnbindEndLateUpdate:null,emitEndLateUpdate:function(e){var n=0;if(null!=this.__cbOnEndLateUpdate&&(n+=this.__cbOnEndLateUpdate.length),null!=this.__cbOnceEndLateUpdate&&(n+=this.__cbOnceEndLateUpdate.length),0<n){var t=C.pool(n),i=t.get(),l=0;if(null!=this.__cbOnEndLateUpdate)for(var s=0,r=this.__cbOnEndLateUpdate.length;s<r;){var h=s++;!0?(i.vector[l]=this.__cbOnEndLateUpdate[h],++l):--n}if(null!=this.__cbOnceEndLateUpdate){for(var a=null,o=null,s=0,r=this.__cbOnceEndLateUpdate.length;s<r;){var c,h=s++;!0?(i.vector[l]=this.__cbOnceEndLateUpdate[h],this.__cbOnceEndLateUpdate[h]=null,c=this.__cbOnceOwnerUnbindEndLateUpdate[h],(this.__cbOnceOwnerUnbindEndLateUpdate[h]=null)!=c&&c(),++l):(--n,null==a&&(a=[],o=[],0),a.push(this.__cbOnceOwnerUnbindEndLateUpdate[h]),o.push(this.__cbOnceEndLateUpdate[h]))}this.__cbOnceOwnerUnbindEndLateUpdate=a,this.__cbOnceEndLateUpdate=o}for(s=0,r=n;s<r;){l=s++;(0,i.vector[l])(e)}t.release(i)}},onEndLateUpdate:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event endLateUpdate because owner is destroyed!");var l=function(e){null!=t&&(i.offEndLateUpdate(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindEndLateUpdate&&(this.__cbOnOwnerUnbindEndLateUpdate=[]),this.__cbOnOwnerUnbindEndLateUpdate.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindEndLateUpdate&&(this.__cbOnOwnerUnbindEndLateUpdate=[]),this.__cbOnOwnerUnbindEndLateUpdate.push(null);null==this.__cbOnEndLateUpdate&&(this.__cbOnEndLateUpdate=[]),this.__cbOnEndLateUpdate.push(t)},onceEndLateUpdate:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event endLateUpdate because owner is destroyed!");var l=function(e){null!=t&&(i.offEndLateUpdate(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindEndLateUpdate&&(this.__cbOnceOwnerUnbindEndLateUpdate=[]),this.__cbOnceOwnerUnbindEndLateUpdate.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindEndLateUpdate&&(this.__cbOnceOwnerUnbindEndLateUpdate=[]),this.__cbOnceOwnerUnbindEndLateUpdate.push(null);null==this.__cbOnceEndLateUpdate&&(this.__cbOnceEndLateUpdate=[]),this.__cbOnceEndLateUpdate.push(t)},offEndLateUpdate:function(e){if(null!=e){var n;null!=this.__cbOnEndLateUpdate&&-1!=(n=this.__cbOnEndLateUpdate.indexOf(e))&&(this.__cbOnEndLateUpdate.splice(n,1),null!=(s=this.__cbOnOwnerUnbindEndLateUpdate[n])&&s(),this.__cbOnOwnerUnbindEndLateUpdate.splice(n,1)),null!=this.__cbOnceEndLateUpdate&&-1!=(n=this.__cbOnceEndLateUpdate.indexOf(e))&&(this.__cbOnceEndLateUpdate.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindEndLateUpdate[n])&&s(),this.__cbOnceOwnerUnbindEndLateUpdate.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindEndLateUpdate){for(var t=0,i=this.__cbOnOwnerUnbindEndLateUpdate.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindEndLateUpdate[l])&&s()}this.__cbOnOwnerUnbindEndLateUpdate=null}if(null!=this.__cbOnceOwnerUnbindEndLateUpdate){for(t=0,i=this.__cbOnceOwnerUnbindEndLateUpdate.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindEndLateUpdate[l])&&s()}this.__cbOnceOwnerUnbindEndLateUpdate=null}this.__cbOnEndLateUpdate=null,this.__cbOnceEndLateUpdate=null}},listensEndLateUpdate:function(){return null!=this.__cbOnEndLateUpdate&&0<this.__cbOnEndLateUpdate.length||null!=this.__cbOnceEndLateUpdate&&0<this.__cbOnceEndLateUpdate.length},name:null,autoUpdate:null,earlyUpdateOrder:null,set_earlyUpdateOrder:function(e){return this.earlyUpdateOrder!=e&&(this.earlyUpdateOrder=e,ae.app.systems.earlyUpdateOrderDirty=!0),e},lateUpdateOrder:null,set_lateUpdateOrder:function(e){return this.lateUpdateOrder!=e&&(this.lateUpdateOrder=e,ae.app.systems.lateUpdateOrderDirty=!0),e},destroy:function(){this._lifecycleState<=-2||(this._lifecycleState=-2,this._lifecycleState=-1,j.prototype.destroy.call(this),ae.app.systems.removeSystem(this))},earlyUpdate:function(e){},lateUpdate:function(e){},unbindEvents:function(){j.prototype.unbindEvents.call(this),this.offBeginEarlyUpdate(),this.offEndEarlyUpdate(),this.offBeginLateUpdate(),this.offEndLateUpdate()},__class__:b1,__properties__:$extend(j.prototype.__properties__,{set_lateUpdateOrder:"set_lateUpdateOrder",set_earlyUpdateOrder:"set_earlyUpdateOrder"})}),function(){this.rootScenes=new Nl,this.filter=null,this.autoScaleFilter=!0,this.autoDestroyFilter=!0,this.main=null,this.fadeOutWhenNextMainCanFadeIn=!0,this.bindMainToScreenSize=!0,this.keepAssetsForNextMain=!1,this._updatingScenes=[],this.all=[],b1.call(this),this.set_lateUpdateOrder(5e3)}),nt=((E["ceramic.SceneSystem"]=et).__name__="ceramic.SceneSystem",et.__properties__={set_shared:"set_shared",get_shared:"get_shared"},et.get_shared=function(){return et.lazyShared&&(et.lazyShared=!1,et.shared=new et),et.shared},et.set_shared=function(e){return et.shared=e},et.__super__=b1,et.prototype=$extend(b1.prototype,{all:null,_updatingScenes:null,keepAssetsForNextMain:null,bindMainToScreenSize:null,fadeOutWhenNextMainCanFadeIn:null,main:null,autoDestroyFilter:null,autoScaleFilter:null,filter:null,set_filter:function(e){if(this.filter!=e){var n=this.filter;if(null!=n){for(var i=_=this.rootScenes.h,l=(d=Object.keys(_)).length,s=0;s<l;)(b=i[d[s++]]).parent==n.content&&(n.content.remove(b),b.set_scaleX(1),b.set_scaleY(1));if(null!=n.content.children){for(var r=null,h=0,a=n.content.children.length;h<a;){var o=h++,c=n.content.children[o];c instanceof t&&(u=c).isRootScene&&(r=null==r?[]:r).push(u)}if(null!=r)for(h=0,a=r.length;h<a;){var u=r[o=h++];n.content.remove(u),u.set_active(!1)}}this.autoDestroyFilter?n.destroy():(n.set_scaleX(1),n.set_scaleY(1))}if(null!=(this.filter=e)){this.autoScaleFilter&&this.scaleFilter();for(var _,d,b,i=_=this.rootScenes.h,l=(d=Object.keys(_)).length,s=0;s<l;)(b=i[d[s++]]).parent!=e.content&&e.content.add(b)}}return e},scaleFilter:function(){var e=this.filter,n=ae.app.screen.width/this.filter.get_width(),t=ae.app.screen.height/this.filter.get_height(),e=(e.set_scaleX(n),e.set_scaleY(t),this.filter.content),n=this.filter.get_width()/ae.app.screen.width,t=this.filter.get_height()/ae.app.screen.height;e.set_scaleX(n),e.set_scaleY(t)},rootScenes:null,set_main:function(e){return this.main!=e&&(this.main=e,this.set("main",e,this.bindMainToScreenSize,this.keepAssetsForNextMain)),e},set:function(a,o,e,n){null==n&&(n=!1),null==e&&(e=!0);var c=this,t=this.rootScenes.h[a],i=null;if(null!=o&&o.isRootScene)for(var l=this.rootScenes.h,s=l,r=Object.keys(l),h=r.length,u=0;u<h;){var _=r[u++];if(s[_]==o){i=_;break}}if(null!=i){if(i==a)return;var d=this.rootScenes;Object.prototype.hasOwnProperty.call(d.h,i)&&delete d.h[i]}if(o!=t)if(null==o){d=this.rootScenes;if(Object.prototype.hasOwnProperty.call(d.h,a)&&delete d.h[a],"main"==a&&this.set_main(null),0<=t._lifecycleState)switch(t.get_status()){case 0:case 1:case 2:case 3:case 4:t.scheduleOnceReady(t,$bind(t,t.destroy));break;case 5:t.fadeOut($bind(t,t.destroy));break;case 6:case 7:t.destroy()}}else{if(o._lifecycleState<0)throw $.thrown("Cannot assign a destroyed scene as root scene!");l=null;if(null==i?(o.isRootScene=!0,this.rootScenes.h[a]=o,"main"==a&&this.set_main(o),o.onDestroy(this,function(e){var n=null;if(null!=o&&o.isRootScene)for(var t=c.rootScenes.h,i=t,l=Object.keys(t),s=l.length,r=0;r<s;){var h=l[r++];if(i[h]==e){n=h;break}}null!=n&&(t=c.rootScenes,Object.prototype.hasOwnProperty.call(t.h,a)&&delete t.h[a],"main"==n)&&c.main==e&&c.set_main(null)}),o.onReplace(this,function(e){var n=null;if(null!=o&&o.isRootScene)for(var t=c.rootScenes.h,i=t,l=Object.keys(t),s=l.length,r=0;r<s;){var h=l[r++];if(i[h]==o){n=h;break}}null!=n&&c.set(n,e)})):("main"==i&&this.set_main(null),this.rootScenes.h[a]=o,"main"==a&&this.set_main(o)),null!=t){n&&(l=t._assets);var b=function(){n&&(t._assets=null),t.destroy(),t=null};if(this.fadeOutWhenNextMainCanFadeIn){var g=null;switch(o.get_status()){case 0:case 1:case 2:case 3:g=function(e,n){switch(e){case 0:case 1:case 2:case 3:break;case 4:case 5:case 6:case 7:switch(o.offStatusChange(g),t.get_status()){case 5:t.fadeOut(b);break;case 0:case 1:case 2:case 3:case 4:case 6:case 7:b()}}},o.onStatusChange(t,g);break;case 4:case 5:case 6:case 7:switch(t.get_status()){case 5:t.fadeOut(b);break;case 0:case 1:case 2:case 3:case 4:case 6:case 7:b()}}}else switch(t.get_status()){case 5:t.fadeOut(b);break;case 0:case 1:case 2:case 3:case 4:case 6:case 7:b()}}null==i&&(o._assets=l,e&&o.bindToScreenSize(),null!=this.filter&&this.filter.content.add(o),o._boot())}},get:function(e){return this.rootScenes.h[e]},setCurrentScene:function(e,n){this.keepAssetsForNextMain=n=null==n?!1:n,this.set_main(e)},lateUpdate:function(e){for(var n=this.all.length,t=0,i=n;t<i;){var l=t++;this._updatingScenes[l]=this.all[l]}for(t=0,i=n;t<i;){var l=t++,s=this._updatingScenes[l];if((1!=(1&s.flags)||s.autoUpdateWhenInactive)&&(!(s._lifecycleState<0)&&(0==s.get_status()&&null!=s.parent&&s._boot(),!s.paused)&&s.autoUpdate))switch(s.get_status()){case 4:case 5:case 6:s.update(e)}}for(t=0,i=n;t<i;){l=t++;this._updatingScenes[l]=null}this.autoScaleFilter&&null!=this.filter&&this.scaleFilter()},__class__:et,__properties__:$extend(b1.prototype.__properties__,{set_filter:"set_filter",set_main:"set_main"})}),function(){this.hitVisuals=[],this.matchedOverListeners=new Ll,this.matchedDownListeners=new Ll,this.visualsListenPointerOver=!1,this.maxTouchIndex=-1,this.prevMouseY=0,this.prevMouseX=0,this.prevTouchPositions=new Tn(16,.5,!1),this.pressedTouches=new Ge(16,.5,!1),this.pressedMouseButtons=new Ge(16,.5,!1),this._numPointerDown=0,this.resizing=!1,this.reverseMatrix=new l,this.matrix=new l,this.unobservedTexturesDensity=1,this.texturesDensityAutoruns=null,this.unobservedFocusedVisual=null,this.focusedVisualAutoruns=null,this.touches=new Pn(8,.5,!1),this.mouseWheelDeltaY=0,this.mouseWheelDeltaX=0,this.mouseDeltaY=0,this.mouseDeltaX=0,this.mouseY=0,this.mouseX=0,this.pointerDeltaY=0,this.pointerDeltaX=0,this.pointerY=0,this.pointerX=0,this.offsetY=0,this.offsetX=0,this.actualHeight=0,this.actualWidth=0,this.height=0,this.width=0,this.density=1,this.observedDirty=!1,j.call(this)}),tt=((E["ceramic.Screen"]=nt).__name__="ceramic.Screen",nt.__interfaces__=[s],nt._elementsImFocused=function(){var e=G.get_context();return null!=e&&null!=e.focusedWindow},nt.__super__=j,nt.prototype=$extend(j.prototype,{__cbOnObservedDirty:null,__cbOnceObservedDirty:null,__cbOnOwnerUnbindObservedDirty:null,__cbOnceOwnerUnbindObservedDirty:null,emitObservedDirty:function(e,n){var t=0;if(null!=this.__cbOnObservedDirty&&(t+=this.__cbOnObservedDirty.length),null!=this.__cbOnceObservedDirty&&(t+=this.__cbOnceObservedDirty.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnObservedDirty)for(var r=0,h=this.__cbOnObservedDirty.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnObservedDirty[a],++s):--t}if(null!=this.__cbOnceObservedDirty){for(var o=null,c=null,r=0,h=this.__cbOnceObservedDirty.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceObservedDirty[a],this.__cbOnceObservedDirty[a]=null,u=this.__cbOnceOwnerUnbindObservedDirty[a],(this.__cbOnceOwnerUnbindObservedDirty[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindObservedDirty[a]),c.push(this.__cbOnceObservedDirty[a]))}this.__cbOnceOwnerUnbindObservedDirty=o,this.__cbOnceObservedDirty=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onObservedDirty:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event observedDirty because owner is destroyed!");var l=function(e){null!=t&&(i.offObservedDirty(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push(null);null==this.__cbOnObservedDirty&&(this.__cbOnObservedDirty=[]),this.__cbOnObservedDirty.push(t)},onceObservedDirty:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event observedDirty because owner is destroyed!");var l=function(e){null!=t&&(i.offObservedDirty(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push(null);null==this.__cbOnceObservedDirty&&(this.__cbOnceObservedDirty=[]),this.__cbOnceObservedDirty.push(t)},offObservedDirty:function(e){if(null!=e){var n;null!=this.__cbOnObservedDirty&&-1!=(n=this.__cbOnObservedDirty.indexOf(e))&&(this.__cbOnObservedDirty.splice(n,1),null!=(s=this.__cbOnOwnerUnbindObservedDirty[n])&&s(),this.__cbOnOwnerUnbindObservedDirty.splice(n,1)),null!=this.__cbOnceObservedDirty&&-1!=(n=this.__cbOnceObservedDirty.indexOf(e))&&(this.__cbOnceObservedDirty.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindObservedDirty[n])&&s(),this.__cbOnceOwnerUnbindObservedDirty.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindObservedDirty){for(var t=0,i=this.__cbOnOwnerUnbindObservedDirty.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindObservedDirty[l])&&s()}this.__cbOnOwnerUnbindObservedDirty=null}if(null!=this.__cbOnceOwnerUnbindObservedDirty){for(t=0,i=this.__cbOnceOwnerUnbindObservedDirty.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindObservedDirty[l])&&s()}this.__cbOnceOwnerUnbindObservedDirty=null}this.__cbOnObservedDirty=null,this.__cbOnceObservedDirty=null}},listensObservedDirty:function(){return null!=this.__cbOnObservedDirty&&0<this.__cbOnObservedDirty.length||null!=this.__cbOnceObservedDirty&&0<this.__cbOnceObservedDirty.length},observedDirty:null,density:null,width:null,height:null,actualWidth:null,actualHeight:null,offsetX:null,offsetY:null,nativeWidth:null,get_nativeWidth:function(){return ee.app.screenWidth},nativeHeight:null,get_nativeHeight:function(){return ee.app.screenHeight},nativeDensity:null,get_nativeDensity:function(){return ee.app.screenDensity},pointerX:null,pointerY:null,pointerDeltaX:null,pointerDeltaY:null,mouseX:null,mouseY:null,mouseDeltaX:null,mouseDeltaY:null,mouseWheelDeltaX:null,mouseWheelDeltaY:null,touches:null,focusedVisualAutoruns:null,get_focusedVisual:function(){var e,n,t=this.unobservedFocusedVisual;return null!=A.current&&(e=A.current,null!=(n=this.focusedVisualAutoruns)||(n=A.getAutorunArray(),null!=(this.focusedVisualAutoruns=n)))&&e.bindToAutorunArray(n),t},set_focusedVisual:function(e){var n=this.unobservedFocusedVisual;return this.set_unobservedFocusedVisual(e),n!=e&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitFocusedVisualChange(e,n),null!=(n=this.focusedVisualAutoruns))&&(this.focusedVisualAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateFocusedVisual:function(){var e=this.unobservedFocusedVisual,e=(this.emitFocusedVisualChange(e,e),this.focusedVisualAutoruns);null!=e&&(this.focusedVisualAutoruns=null,A.invalidateAutorunArray(e))},unobservedFocusedVisual:null,__cbOnFocusedVisualChange:null,__cbOnceFocusedVisualChange:null,__cbOnOwnerUnbindFocusedVisualChange:null,__cbOnceOwnerUnbindFocusedVisualChange:null,emitFocusedVisualChange:function(e,n){var t=0;if(null!=this.__cbOnFocusedVisualChange&&(t+=this.__cbOnFocusedVisualChange.length),null!=this.__cbOnceFocusedVisualChange&&(t+=this.__cbOnceFocusedVisualChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnFocusedVisualChange)for(var r=0,h=this.__cbOnFocusedVisualChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnFocusedVisualChange[a],++s):--t}if(null!=this.__cbOnceFocusedVisualChange){for(var o=null,c=null,r=0,h=this.__cbOnceFocusedVisualChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceFocusedVisualChange[a],this.__cbOnceFocusedVisualChange[a]=null,u=this.__cbOnceOwnerUnbindFocusedVisualChange[a],(this.__cbOnceOwnerUnbindFocusedVisualChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindFocusedVisualChange[a]),c.push(this.__cbOnceFocusedVisualChange[a]))}this.__cbOnceOwnerUnbindFocusedVisualChange=o,this.__cbOnceFocusedVisualChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onFocusedVisualChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event focusedVisualChange because owner is destroyed!");var l=function(e){null!=t&&(i.offFocusedVisualChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindFocusedVisualChange&&(this.__cbOnOwnerUnbindFocusedVisualChange=[]),this.__cbOnOwnerUnbindFocusedVisualChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindFocusedVisualChange&&(this.__cbOnOwnerUnbindFocusedVisualChange=[]),this.__cbOnOwnerUnbindFocusedVisualChange.push(null);null==this.__cbOnFocusedVisualChange&&(this.__cbOnFocusedVisualChange=[]),this.__cbOnFocusedVisualChange.push(t)},onceFocusedVisualChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event focusedVisualChange because owner is destroyed!");var l=function(e){null!=t&&(i.offFocusedVisualChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindFocusedVisualChange&&(this.__cbOnceOwnerUnbindFocusedVisualChange=[]),this.__cbOnceOwnerUnbindFocusedVisualChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindFocusedVisualChange&&(this.__cbOnceOwnerUnbindFocusedVisualChange=[]),this.__cbOnceOwnerUnbindFocusedVisualChange.push(null);null==this.__cbOnceFocusedVisualChange&&(this.__cbOnceFocusedVisualChange=[]),this.__cbOnceFocusedVisualChange.push(t)},offFocusedVisualChange:function(e){if(null!=e){var n;null!=this.__cbOnFocusedVisualChange&&-1!=(n=this.__cbOnFocusedVisualChange.indexOf(e))&&(this.__cbOnFocusedVisualChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindFocusedVisualChange[n])&&s(),this.__cbOnOwnerUnbindFocusedVisualChange.splice(n,1)),null!=this.__cbOnceFocusedVisualChange&&-1!=(n=this.__cbOnceFocusedVisualChange.indexOf(e))&&(this.__cbOnceFocusedVisualChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindFocusedVisualChange[n])&&s(),this.__cbOnceOwnerUnbindFocusedVisualChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindFocusedVisualChange){for(var t=0,i=this.__cbOnOwnerUnbindFocusedVisualChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindFocusedVisualChange[l])&&s()}this.__cbOnOwnerUnbindFocusedVisualChange=null}if(null!=this.__cbOnceOwnerUnbindFocusedVisualChange){for(t=0,i=this.__cbOnceOwnerUnbindFocusedVisualChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindFocusedVisualChange[l])&&s()}this.__cbOnceOwnerUnbindFocusedVisualChange=null}this.__cbOnFocusedVisualChange=null,this.__cbOnceFocusedVisualChange=null}},listensFocusedVisualChange:function(){return null!=this.__cbOnFocusedVisualChange&&0<this.__cbOnFocusedVisualChange.length||null!=this.__cbOnceFocusedVisualChange&&0<this.__cbOnceFocusedVisualChange.length},set_unobservedFocusedVisual:function(e){var n;return this.unobservedFocusedVisual!=e&&(n=this.unobservedFocusedVisual,this.unobservedFocusedVisual=e,null!=n&&(this.emitBlur(n),n.emitBlur()),null!=e)&&(this.emitFocus(e),e.emitFocus()),e},texturesDensityAutoruns:null,get_texturesDensity:function(){var e,n,t=this.unobservedTexturesDensity;return null!=A.current&&(e=A.current,null!=(n=this.texturesDensityAutoruns)||(n=A.getAutorunArray(),null!=(this.texturesDensityAutoruns=n)))&&e.bindToAutorunArray(n),t},set_texturesDensity:function(e){var n=this.unobservedTexturesDensity;return n!=(this.unobservedTexturesDensity=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitTexturesDensityChange(e,n),null!=(n=this.texturesDensityAutoruns))&&(this.texturesDensityAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateTexturesDensity:function(){var e=this.unobservedTexturesDensity,e=(this.emitTexturesDensityChange(e,e),this.texturesDensityAutoruns);null!=e&&(this.texturesDensityAutoruns=null,A.invalidateAutorunArray(e))},unobservedTexturesDensity:null,__cbOnTexturesDensityChange:null,__cbOnceTexturesDensityChange:null,__cbOnOwnerUnbindTexturesDensityChange:null,__cbOnceOwnerUnbindTexturesDensityChange:null,emitTexturesDensityChange:function(e,n){var t=0;if(null!=this.__cbOnTexturesDensityChange&&(t+=this.__cbOnTexturesDensityChange.length),null!=this.__cbOnceTexturesDensityChange&&(t+=this.__cbOnceTexturesDensityChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnTexturesDensityChange)for(var r=0,h=this.__cbOnTexturesDensityChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnTexturesDensityChange[a],++s):--t}if(null!=this.__cbOnceTexturesDensityChange){for(var o=null,c=null,r=0,h=this.__cbOnceTexturesDensityChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceTexturesDensityChange[a],this.__cbOnceTexturesDensityChange[a]=null,u=this.__cbOnceOwnerUnbindTexturesDensityChange[a],(this.__cbOnceOwnerUnbindTexturesDensityChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindTexturesDensityChange[a]),c.push(this.__cbOnceTexturesDensityChange[a]))}this.__cbOnceOwnerUnbindTexturesDensityChange=o,this.__cbOnceTexturesDensityChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onTexturesDensityChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event texturesDensityChange because owner is destroyed!");var l=function(e){null!=t&&(i.offTexturesDensityChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindTexturesDensityChange&&(this.__cbOnOwnerUnbindTexturesDensityChange=[]),this.__cbOnOwnerUnbindTexturesDensityChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindTexturesDensityChange&&(this.__cbOnOwnerUnbindTexturesDensityChange=[]),this.__cbOnOwnerUnbindTexturesDensityChange.push(null);null==this.__cbOnTexturesDensityChange&&(this.__cbOnTexturesDensityChange=[]),this.__cbOnTexturesDensityChange.push(t)},onceTexturesDensityChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event texturesDensityChange because owner is destroyed!");var l=function(e){null!=t&&(i.offTexturesDensityChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindTexturesDensityChange&&(this.__cbOnceOwnerUnbindTexturesDensityChange=[]),this.__cbOnceOwnerUnbindTexturesDensityChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindTexturesDensityChange&&(this.__cbOnceOwnerUnbindTexturesDensityChange=[]),this.__cbOnceOwnerUnbindTexturesDensityChange.push(null);null==this.__cbOnceTexturesDensityChange&&(this.__cbOnceTexturesDensityChange=[]),this.__cbOnceTexturesDensityChange.push(t)},offTexturesDensityChange:function(e){if(null!=e){var n;null!=this.__cbOnTexturesDensityChange&&-1!=(n=this.__cbOnTexturesDensityChange.indexOf(e))&&(this.__cbOnTexturesDensityChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindTexturesDensityChange[n])&&s(),this.__cbOnOwnerUnbindTexturesDensityChange.splice(n,1)),null!=this.__cbOnceTexturesDensityChange&&-1!=(n=this.__cbOnceTexturesDensityChange.indexOf(e))&&(this.__cbOnceTexturesDensityChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindTexturesDensityChange[n])&&s(),this.__cbOnceOwnerUnbindTexturesDensityChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindTexturesDensityChange){for(var t=0,i=this.__cbOnOwnerUnbindTexturesDensityChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindTexturesDensityChange[l])&&s()}this.__cbOnOwnerUnbindTexturesDensityChange=null}if(null!=this.__cbOnceOwnerUnbindTexturesDensityChange){for(t=0,i=this.__cbOnceOwnerUnbindTexturesDensityChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindTexturesDensityChange[l])&&s()}this.__cbOnceOwnerUnbindTexturesDensityChange=null}this.__cbOnTexturesDensityChange=null,this.__cbOnceTexturesDensityChange=null}},listensTexturesDensityChange:function(){return null!=this.__cbOnTexturesDensityChange&&0<this.__cbOnTexturesDensityChange.length||null!=this.__cbOnceTexturesDensityChange&&0<this.__cbOnceTexturesDensityChange.length},matrix:null,reverseMatrix:null,resizing:null,isPointerDown:null,_numPointerDown:null,get_isPointerDown:function(){return 0<this._numPointerDown},pressedMouseButtons:null,pressedTouches:null,prevTouchPositions:null,prevMouseX:null,prevMouseY:null,maxTouchIndex:null,visualsListenPointerOver:null,__cbOnResize:null,__cbOnceResize:null,__cbOnOwnerUnbindResize:null,__cbOnceOwnerUnbindResize:null,emitResize:function(){var e=0;if(null!=this.__cbOnResize&&(e+=this.__cbOnResize.length),null!=this.__cbOnceResize&&(e+=this.__cbOnceResize.length),0<e){var n=C.pool(e),t=n.get(),i=0;if(null!=this.__cbOnResize)for(var l=0,s=this.__cbOnResize.length;l<s;){var r=l++;!0?(t.vector[i]=this.__cbOnResize[r],++i):--e}if(null!=this.__cbOnceResize){for(var h=null,a=null,l=0,s=this.__cbOnceResize.length;l<s;){var o,r=l++;!0?(t.vector[i]=this.__cbOnceResize[r],this.__cbOnceResize[r]=null,o=this.__cbOnceOwnerUnbindResize[r],(this.__cbOnceOwnerUnbindResize[r]=null)!=o&&o(),++i):(--e,null==h&&(h=[],a=[],0),h.push(this.__cbOnceOwnerUnbindResize[r]),a.push(this.__cbOnceResize[r]))}this.__cbOnceOwnerUnbindResize=h,this.__cbOnceResize=a}for(l=0,s=e;l<s;){i=l++;(0,t.vector[i])()}n.release(t)}},onResize:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event resize because owner is destroyed!");var l=function(e){null!=t&&(i.offResize(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindResize&&(this.__cbOnOwnerUnbindResize=[]),this.__cbOnOwnerUnbindResize.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindResize&&(this.__cbOnOwnerUnbindResize=[]),this.__cbOnOwnerUnbindResize.push(null);null==this.__cbOnResize&&(this.__cbOnResize=[]),this.__cbOnResize.push(t)},onceResize:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event resize because owner is destroyed!");var l=function(e){null!=t&&(i.offResize(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindResize&&(this.__cbOnceOwnerUnbindResize=[]),this.__cbOnceOwnerUnbindResize.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindResize&&(this.__cbOnceOwnerUnbindResize=[]),this.__cbOnceOwnerUnbindResize.push(null);null==this.__cbOnceResize&&(this.__cbOnceResize=[]),this.__cbOnceResize.push(t)},offResize:function(e){if(null!=e){var n;null!=this.__cbOnResize&&-1!=(n=this.__cbOnResize.indexOf(e))&&(this.__cbOnResize.splice(n,1),null!=(s=this.__cbOnOwnerUnbindResize[n])&&s(),this.__cbOnOwnerUnbindResize.splice(n,1)),null!=this.__cbOnceResize&&-1!=(n=this.__cbOnceResize.indexOf(e))&&(this.__cbOnceResize.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindResize[n])&&s(),this.__cbOnceOwnerUnbindResize.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindResize){for(var t=0,i=this.__cbOnOwnerUnbindResize.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindResize[l])&&s()}this.__cbOnOwnerUnbindResize=null}if(null!=this.__cbOnceOwnerUnbindResize){for(t=0,i=this.__cbOnceOwnerUnbindResize.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindResize[l])&&s()}this.__cbOnceOwnerUnbindResize=null}this.__cbOnResize=null,this.__cbOnceResize=null}},listensResize:function(){return null!=this.__cbOnResize&&0<this.__cbOnResize.length||null!=this.__cbOnceResize&&0<this.__cbOnceResize.length},__cbOnMouseDown:null,__cbOnceMouseDown:null,__cbOnOwnerUnbindMouseDown:null,__cbOnceOwnerUnbindMouseDown:null,__onOwnerMouseDown:null,__onceOwnerMouseDown:null,emitMouseDown:function(e,n,t){this.willEmitMouseDown(e,n,t);var i=0;if(null!=this.__cbOnMouseDown&&(i+=this.__cbOnMouseDown.length),null!=this.__cbOnceMouseDown&&(i+=this.__cbOnceMouseDown.length),0<i){var l=C.pool(i),s=l.get(),r=0;if(null!=this.__cbOnMouseDown)for(var h=0,a=this.__cbOnMouseDown.length;h<a;){var o=h++,c=this.__onOwnerMouseDown[o],u=!1;null!=G.get_context().focusedWindow?null!=c&&(u=Y._filterEventOwner(c)):u=!0,u?(s.vector[r]=this.__cbOnMouseDown[o],++r):--i}if(null!=this.__cbOnceMouseDown){for(var _=null,d=null,b=null,h=0,a=this.__cbOnceMouseDown.length;h<a;){var g,o=h++,c=this.__onceOwnerMouseDown[o],u=!1;null!=G.get_context().focusedWindow?null!=c&&(u=Y._filterEventOwner(c)):u=!0,u?(s.vector[r]=this.__cbOnceMouseDown[o],this.__cbOnceMouseDown[o]=null,g=this.__cbOnceOwnerUnbindMouseDown[o],(this.__cbOnceOwnerUnbindMouseDown[o]=null)!=g&&g(),++r):(--i,null==_&&(_=[],d=[],b=[]),_.push(this.__cbOnceOwnerUnbindMouseDown[o]),d.push(this.__cbOnceMouseDown[o]),b.push(this.__onceOwnerMouseDown[o]))}this.__cbOnceOwnerUnbindMouseDown=_,this.__cbOnceMouseDown=d,this.__onceOwnerMouseDown=b}for(h=0,a=i;h<a;){r=h++;(0,s.vector[r])(e,n,t)}l.release(s),s=null}l=this.matchFirstDownListener(n,t,-1,e);null!=l&&(l._numPointerDown++,1!=l._numPointerDown&&!l.multiTouch||(ae.app.screen.set_focusedVisual(l),l.emitPointerDown(new Kt(-1,e,n,t,!0)))),this.matchedDownListeners.h[1e4+e]=l},onMouseDown:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event mouseDown because owner is destroyed!");var l=function(e){null!=t&&(i.offMouseDown(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindMouseDown&&(this.__cbOnOwnerUnbindMouseDown=[]),this.__cbOnOwnerUnbindMouseDown.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindMouseDown&&(this.__cbOnOwnerUnbindMouseDown=[]),this.__cbOnOwnerUnbindMouseDown.push(null);null==this.__cbOnMouseDown&&(this.__cbOnMouseDown=[]),this.__cbOnMouseDown.push(t),null==this.__onOwnerMouseDown&&(this.__onOwnerMouseDown=[]),this.__onOwnerMouseDown.push(n)},onceMouseDown:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event mouseDown because owner is destroyed!");var l=function(e){null!=t&&(i.offMouseDown(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindMouseDown&&(this.__cbOnceOwnerUnbindMouseDown=[]),this.__cbOnceOwnerUnbindMouseDown.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindMouseDown&&(this.__cbOnceOwnerUnbindMouseDown=[]),this.__cbOnceOwnerUnbindMouseDown.push(null);null==this.__cbOnceMouseDown&&(this.__cbOnceMouseDown=[]),this.__cbOnceMouseDown.push(t),null==this.__onceOwnerMouseDown&&(this.__onceOwnerMouseDown=[]),this.__onceOwnerMouseDown.push(n)},offMouseDown:function(e){if(null!=e){var n;null!=this.__cbOnMouseDown&&-1!=(n=this.__cbOnMouseDown.indexOf(e))&&(this.__cbOnMouseDown.splice(n,1),null!=(s=this.__cbOnOwnerUnbindMouseDown[n])&&s(),this.__cbOnOwnerUnbindMouseDown.splice(n,1),this.__onOwnerMouseDown.splice(n,1)),null!=this.__cbOnceMouseDown&&-1!=(n=this.__cbOnceMouseDown.indexOf(e))&&(this.__cbOnceMouseDown.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindMouseDown[n])&&s(),this.__cbOnceOwnerUnbindMouseDown.splice(n,1),this.__onceOwnerMouseDown.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindMouseDown){for(var t=0,i=this.__cbOnOwnerUnbindMouseDown.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindMouseDown[l])&&s()}this.__cbOnOwnerUnbindMouseDown=null}if(null!=this.__cbOnceOwnerUnbindMouseDown){for(t=0,i=this.__cbOnceOwnerUnbindMouseDown.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindMouseDown[l])&&s()}this.__cbOnceOwnerUnbindMouseDown=null}this.__cbOnMouseDown=null,this.__cbOnceMouseDown=null,this.__onOwnerMouseDown=null,this.__onceOwnerMouseDown=null}},listensMouseDown:function(){return null!=this.__cbOnMouseDown&&0<this.__cbOnMouseDown.length||null!=this.__cbOnceMouseDown&&0<this.__cbOnceMouseDown.length},__cbOnMouseUp:null,__cbOnceMouseUp:null,__cbOnOwnerUnbindMouseUp:null,__cbOnceOwnerUnbindMouseUp:null,__onOwnerMouseUp:null,__onceOwnerMouseUp:null,emitMouseUp:function(e,n,t){this.willEmitMouseUp(e,n,t);var i=0;if(null!=this.__cbOnMouseUp&&(i+=this.__cbOnMouseUp.length),null!=this.__cbOnceMouseUp&&(i+=this.__cbOnceMouseUp.length),0<i){var l=C.pool(i),s=l.get(),r=0;if(null!=this.__cbOnMouseUp)for(var h=0,a=this.__cbOnMouseUp.length;h<a;){var o=h++,c=this.__onOwnerMouseUp[o],u=!1;null!=G.get_context().focusedWindow?null!=c&&(u=Y._filterEventOwner(c)):u=!0,u?(s.vector[r]=this.__cbOnMouseUp[o],++r):--i}if(null!=this.__cbOnceMouseUp){for(var _=null,d=null,b=null,h=0,a=this.__cbOnceMouseUp.length;h<a;){var g,o=h++,c=this.__onceOwnerMouseUp[o],u=!1;null!=G.get_context().focusedWindow?null!=c&&(u=Y._filterEventOwner(c)):u=!0,u?(s.vector[r]=this.__cbOnceMouseUp[o],this.__cbOnceMouseUp[o]=null,g=this.__cbOnceOwnerUnbindMouseUp[o],(this.__cbOnceOwnerUnbindMouseUp[o]=null)!=g&&g(),++r):(--i,null==_&&(_=[],d=[],b=[]),_.push(this.__cbOnceOwnerUnbindMouseUp[o]),d.push(this.__cbOnceMouseUp[o]),b.push(this.__onceOwnerMouseUp[o]))}this.__cbOnceOwnerUnbindMouseUp=_,this.__cbOnceMouseUp=d,this.__onceOwnerMouseUp=b}for(h=0,a=i;h<a;){r=h++;(0,s.vector[r])(e,n,t)}l.release(s),s=null}var l=1e4+e,O=this.matchedDownListeners.h[l];null!=O&&0<=O._lifecycleState&&0<O._numPointerDown&&(O._numPointerDown--,0!=O._numPointerDown&&!O.multiTouch||O.emitPointerUp(new Kt(-1,e,n,t,O._hits(n,t,!1)))),this.matchedDownListeners.remove(l)},onMouseUp:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event mouseUp because owner is destroyed!");var l=function(e){null!=t&&(i.offMouseUp(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindMouseUp&&(this.__cbOnOwnerUnbindMouseUp=[]),this.__cbOnOwnerUnbindMouseUp.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindMouseUp&&(this.__cbOnOwnerUnbindMouseUp=[]),this.__cbOnOwnerUnbindMouseUp.push(null);null==this.__cbOnMouseUp&&(this.__cbOnMouseUp=[]),this.__cbOnMouseUp.push(t),null==this.__onOwnerMouseUp&&(this.__onOwnerMouseUp=[]),this.__onOwnerMouseUp.push(n)},onceMouseUp:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event mouseUp because owner is destroyed!");var l=function(e){null!=t&&(i.offMouseUp(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindMouseUp&&(this.__cbOnceOwnerUnbindMouseUp=[]),this.__cbOnceOwnerUnbindMouseUp.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindMouseUp&&(this.__cbOnceOwnerUnbindMouseUp=[]),this.__cbOnceOwnerUnbindMouseUp.push(null);null==this.__cbOnceMouseUp&&(this.__cbOnceMouseUp=[]),this.__cbOnceMouseUp.push(t),null==this.__onceOwnerMouseUp&&(this.__onceOwnerMouseUp=[]),this.__onceOwnerMouseUp.push(n)},offMouseUp:function(e){if(null!=e){var n;null!=this.__cbOnMouseUp&&-1!=(n=this.__cbOnMouseUp.indexOf(e))&&(this.__cbOnMouseUp.splice(n,1),null!=(s=this.__cbOnOwnerUnbindMouseUp[n])&&s(),this.__cbOnOwnerUnbindMouseUp.splice(n,1),this.__onOwnerMouseUp.splice(n,1)),null!=this.__cbOnceMouseUp&&-1!=(n=this.__cbOnceMouseUp.indexOf(e))&&(this.__cbOnceMouseUp.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindMouseUp[n])&&s(),this.__cbOnceOwnerUnbindMouseUp.splice(n,1),this.__onceOwnerMouseUp.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindMouseUp){for(var t=0,i=this.__cbOnOwnerUnbindMouseUp.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindMouseUp[l])&&s()}this.__cbOnOwnerUnbindMouseUp=null}if(null!=this.__cbOnceOwnerUnbindMouseUp){for(t=0,i=this.__cbOnceOwnerUnbindMouseUp.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindMouseUp[l])&&s()}this.__cbOnceOwnerUnbindMouseUp=null}this.__cbOnMouseUp=null,this.__cbOnceMouseUp=null,this.__onOwnerMouseUp=null,this.__onceOwnerMouseUp=null}},listensMouseUp:function(){return null!=this.__cbOnMouseUp&&0<this.__cbOnMouseUp.length||null!=this.__cbOnceMouseUp&&0<this.__cbOnceMouseUp.length},__cbOnMouseWheel:null,__cbOnceMouseWheel:null,__cbOnOwnerUnbindMouseWheel:null,__cbOnceOwnerUnbindMouseWheel:null,emitMouseWheel:function(e,n){this.willEmitMouseWheel(e,n);var t=0;if(null!=this.__cbOnMouseWheel&&(t+=this.__cbOnMouseWheel.length),null!=this.__cbOnceMouseWheel&&(t+=this.__cbOnceMouseWheel.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnMouseWheel)for(var r=0,h=this.__cbOnMouseWheel.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnMouseWheel[a],++s):--t}if(null!=this.__cbOnceMouseWheel){for(var o=null,c=null,r=0,h=this.__cbOnceMouseWheel.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceMouseWheel[a],this.__cbOnceMouseWheel[a]=null,u=this.__cbOnceOwnerUnbindMouseWheel[a],(this.__cbOnceOwnerUnbindMouseWheel[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindMouseWheel[a]),c.push(this.__cbOnceMouseWheel[a]))}this.__cbOnceOwnerUnbindMouseWheel=o,this.__cbOnceMouseWheel=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onMouseWheel:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event mouseWheel because owner is destroyed!");var l=function(e){null!=t&&(i.offMouseWheel(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindMouseWheel&&(this.__cbOnOwnerUnbindMouseWheel=[]),this.__cbOnOwnerUnbindMouseWheel.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindMouseWheel&&(this.__cbOnOwnerUnbindMouseWheel=[]),this.__cbOnOwnerUnbindMouseWheel.push(null);null==this.__cbOnMouseWheel&&(this.__cbOnMouseWheel=[]),this.__cbOnMouseWheel.push(t)},onceMouseWheel:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event mouseWheel because owner is destroyed!");var l=function(e){null!=t&&(i.offMouseWheel(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindMouseWheel&&(this.__cbOnceOwnerUnbindMouseWheel=[]),this.__cbOnceOwnerUnbindMouseWheel.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindMouseWheel&&(this.__cbOnceOwnerUnbindMouseWheel=[]),this.__cbOnceOwnerUnbindMouseWheel.push(null);null==this.__cbOnceMouseWheel&&(this.__cbOnceMouseWheel=[]),this.__cbOnceMouseWheel.push(t)},offMouseWheel:function(e){if(null!=e){var n;null!=this.__cbOnMouseWheel&&-1!=(n=this.__cbOnMouseWheel.indexOf(e))&&(this.__cbOnMouseWheel.splice(n,1),null!=(s=this.__cbOnOwnerUnbindMouseWheel[n])&&s(),this.__cbOnOwnerUnbindMouseWheel.splice(n,1)),null!=this.__cbOnceMouseWheel&&-1!=(n=this.__cbOnceMouseWheel.indexOf(e))&&(this.__cbOnceMouseWheel.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindMouseWheel[n])&&s(),this.__cbOnceOwnerUnbindMouseWheel.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindMouseWheel){for(var t=0,i=this.__cbOnOwnerUnbindMouseWheel.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindMouseWheel[l])&&s()}this.__cbOnOwnerUnbindMouseWheel=null}if(null!=this.__cbOnceOwnerUnbindMouseWheel){for(t=0,i=this.__cbOnceOwnerUnbindMouseWheel.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindMouseWheel[l])&&s()}this.__cbOnceOwnerUnbindMouseWheel=null}this.__cbOnMouseWheel=null,this.__cbOnceMouseWheel=null}},listensMouseWheel:function(){return null!=this.__cbOnMouseWheel&&0<this.__cbOnMouseWheel.length||null!=this.__cbOnceMouseWheel&&0<this.__cbOnceMouseWheel.length},__cbOnMouseMove:null,__cbOnceMouseMove:null,__cbOnOwnerUnbindMouseMove:null,__cbOnceOwnerUnbindMouseMove:null,__onOwnerMouseMove:null,__onceOwnerMouseMove:null,emitMouseMove:function(e,n){this.willEmitMouseMove(e,n);var t=0;if(null!=this.__cbOnMouseMove&&(t+=this.__cbOnMouseMove.length),null!=this.__cbOnceMouseMove&&(t+=this.__cbOnceMouseMove.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnMouseMove)for(var r=0,h=this.__cbOnMouseMove.length;r<h;){var a=r++,o=this.__onOwnerMouseMove[a],c=!1;null!=G.get_context().focusedWindow?null!=o&&(c=Y._filterEventOwner(o)):c=!0,c?(l.vector[s]=this.__cbOnMouseMove[a],++s):--t}if(null!=this.__cbOnceMouseMove){for(var u=null,_=null,d=null,r=0,h=this.__cbOnceMouseMove.length;r<h;){var b,a=r++,o=this.__onceOwnerMouseMove[a],c=!1;null!=G.get_context().focusedWindow?null!=o&&(c=Y._filterEventOwner(o)):c=!0,c?(l.vector[s]=this.__cbOnceMouseMove[a],this.__cbOnceMouseMove[a]=null,b=this.__cbOnceOwnerUnbindMouseMove[a],(this.__cbOnceOwnerUnbindMouseMove[a]=null)!=b&&b(),++s):(--t,null==u&&(u=[],_=[],d=[]),u.push(this.__cbOnceOwnerUnbindMouseMove[a]),_.push(this.__cbOnceMouseMove[a]),d.push(this.__onceOwnerMouseMove[a]))}this.__cbOnceOwnerUnbindMouseMove=u,this.__cbOnceMouseMove=_,this.__onceOwnerMouseMove=d}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onMouseMove:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event mouseMove because owner is destroyed!");var l=function(e){null!=t&&(i.offMouseMove(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindMouseMove&&(this.__cbOnOwnerUnbindMouseMove=[]),this.__cbOnOwnerUnbindMouseMove.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindMouseMove&&(this.__cbOnOwnerUnbindMouseMove=[]),this.__cbOnOwnerUnbindMouseMove.push(null);null==this.__cbOnMouseMove&&(this.__cbOnMouseMove=[]),this.__cbOnMouseMove.push(t),null==this.__onOwnerMouseMove&&(this.__onOwnerMouseMove=[]),this.__onOwnerMouseMove.push(n)},onceMouseMove:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event mouseMove because owner is destroyed!");var l=function(e){null!=t&&(i.offMouseMove(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindMouseMove&&(this.__cbOnceOwnerUnbindMouseMove=[]),this.__cbOnceOwnerUnbindMouseMove.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindMouseMove&&(this.__cbOnceOwnerUnbindMouseMove=[]),this.__cbOnceOwnerUnbindMouseMove.push(null);null==this.__cbOnceMouseMove&&(this.__cbOnceMouseMove=[]),this.__cbOnceMouseMove.push(t),null==this.__onceOwnerMouseMove&&(this.__onceOwnerMouseMove=[]),this.__onceOwnerMouseMove.push(n)},offMouseMove:function(e){if(null!=e){var n;null!=this.__cbOnMouseMove&&-1!=(n=this.__cbOnMouseMove.indexOf(e))&&(this.__cbOnMouseMove.splice(n,1),null!=(s=this.__cbOnOwnerUnbindMouseMove[n])&&s(),this.__cbOnOwnerUnbindMouseMove.splice(n,1),this.__onOwnerMouseMove.splice(n,1)),null!=this.__cbOnceMouseMove&&-1!=(n=this.__cbOnceMouseMove.indexOf(e))&&(this.__cbOnceMouseMove.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindMouseMove[n])&&s(),this.__cbOnceOwnerUnbindMouseMove.splice(n,1),this.__onceOwnerMouseMove.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindMouseMove){for(var t=0,i=this.__cbOnOwnerUnbindMouseMove.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindMouseMove[l])&&s()}this.__cbOnOwnerUnbindMouseMove=null}if(null!=this.__cbOnceOwnerUnbindMouseMove){for(t=0,i=this.__cbOnceOwnerUnbindMouseMove.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindMouseMove[l])&&s()}this.__cbOnceOwnerUnbindMouseMove=null}this.__cbOnMouseMove=null,this.__cbOnceMouseMove=null,this.__onOwnerMouseMove=null,this.__onceOwnerMouseMove=null}},listensMouseMove:function(){return null!=this.__cbOnMouseMove&&0<this.__cbOnMouseMove.length||null!=this.__cbOnceMouseMove&&0<this.__cbOnceMouseMove.length},__cbOnTouchDown:null,__cbOnceTouchDown:null,__cbOnOwnerUnbindTouchDown:null,__cbOnceOwnerUnbindTouchDown:null,__onOwnerTouchDown:null,__onceOwnerTouchDown:null,emitTouchDown:function(e,n,t){this.willEmitTouchDown(e,n,t);var i=0;if(null!=this.__cbOnTouchDown&&(i+=this.__cbOnTouchDown.length),null!=this.__cbOnceTouchDown&&(i+=this.__cbOnceTouchDown.length),0<i){var l=C.pool(i),s=l.get(),r=0;if(null!=this.__cbOnTouchDown)for(var h=0,a=this.__cbOnTouchDown.length;h<a;){var o=h++,c=this.__onOwnerTouchDown[o],u=!1;null!=G.get_context().focusedWindow?null!=c&&(u=Y._filterEventOwner(c)):u=!0,u?(s.vector[r]=this.__cbOnTouchDown[o],++r):--i}if(null!=this.__cbOnceTouchDown){for(var _=null,d=null,b=null,h=0,a=this.__cbOnceTouchDown.length;h<a;){var g,o=h++,c=this.__onceOwnerTouchDown[o],u=!1;null!=G.get_context().focusedWindow?null!=c&&(u=Y._filterEventOwner(c)):u=!0,u?(s.vector[r]=this.__cbOnceTouchDown[o],this.__cbOnceTouchDown[o]=null,g=this.__cbOnceOwnerUnbindTouchDown[o],(this.__cbOnceOwnerUnbindTouchDown[o]=null)!=g&&g(),++r):(--i,null==_&&(_=[],d=[],b=[]),_.push(this.__cbOnceOwnerUnbindTouchDown[o]),d.push(this.__cbOnceTouchDown[o]),b.push(this.__onceOwnerTouchDown[o]))}this.__cbOnceOwnerUnbindTouchDown=_,this.__cbOnceTouchDown=d,this.__onceOwnerTouchDown=b}for(h=0,a=i;h<a;){r=h++;(0,s.vector[r])(e,n,t)}l.release(s),s=null}l=this.matchFirstDownListener(n,t,e,-1);null!=l&&(l._numPointerDown++,1!=l._numPointerDown&&!l.multiTouch||(ae.app.screen.set_focusedVisual(l),l.emitPointerDown(new Kt(e,-1,n,t,!0)))),this.matchedDownListeners.h[2e4+e]=l},onTouchDown:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event touchDown because owner is destroyed!");var l=function(e){null!=t&&(i.offTouchDown(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindTouchDown&&(this.__cbOnOwnerUnbindTouchDown=[]),this.__cbOnOwnerUnbindTouchDown.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindTouchDown&&(this.__cbOnOwnerUnbindTouchDown=[]),this.__cbOnOwnerUnbindTouchDown.push(null);null==this.__cbOnTouchDown&&(this.__cbOnTouchDown=[]),this.__cbOnTouchDown.push(t),null==this.__onOwnerTouchDown&&(this.__onOwnerTouchDown=[]),this.__onOwnerTouchDown.push(n)},onceTouchDown:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event touchDown because owner is destroyed!");var l=function(e){null!=t&&(i.offTouchDown(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindTouchDown&&(this.__cbOnceOwnerUnbindTouchDown=[]),this.__cbOnceOwnerUnbindTouchDown.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindTouchDown&&(this.__cbOnceOwnerUnbindTouchDown=[]),this.__cbOnceOwnerUnbindTouchDown.push(null);null==this.__cbOnceTouchDown&&(this.__cbOnceTouchDown=[]),this.__cbOnceTouchDown.push(t),null==this.__onceOwnerTouchDown&&(this.__onceOwnerTouchDown=[]),this.__onceOwnerTouchDown.push(n)},offTouchDown:function(e){if(null!=e){var n;null!=this.__cbOnTouchDown&&-1!=(n=this.__cbOnTouchDown.indexOf(e))&&(this.__cbOnTouchDown.splice(n,1),null!=(s=this.__cbOnOwnerUnbindTouchDown[n])&&s(),this.__cbOnOwnerUnbindTouchDown.splice(n,1),this.__onOwnerTouchDown.splice(n,1)),null!=this.__cbOnceTouchDown&&-1!=(n=this.__cbOnceTouchDown.indexOf(e))&&(this.__cbOnceTouchDown.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindTouchDown[n])&&s(),this.__cbOnceOwnerUnbindTouchDown.splice(n,1),this.__onceOwnerTouchDown.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindTouchDown){for(var t=0,i=this.__cbOnOwnerUnbindTouchDown.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindTouchDown[l])&&s()}this.__cbOnOwnerUnbindTouchDown=null}if(null!=this.__cbOnceOwnerUnbindTouchDown){for(t=0,i=this.__cbOnceOwnerUnbindTouchDown.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindTouchDown[l])&&s()}this.__cbOnceOwnerUnbindTouchDown=null}this.__cbOnTouchDown=null,this.__cbOnceTouchDown=null,this.__onOwnerTouchDown=null,this.__onceOwnerTouchDown=null}},listensTouchDown:function(){return null!=this.__cbOnTouchDown&&0<this.__cbOnTouchDown.length||null!=this.__cbOnceTouchDown&&0<this.__cbOnceTouchDown.length},__cbOnTouchUp:null,__cbOnceTouchUp:null,__cbOnOwnerUnbindTouchUp:null,__cbOnceOwnerUnbindTouchUp:null,__onOwnerTouchUp:null,__onceOwnerTouchUp:null,emitTouchUp:function(e,n,t){this.willEmitTouchUp(e,n,t);var i=0;if(null!=this.__cbOnTouchUp&&(i+=this.__cbOnTouchUp.length),null!=this.__cbOnceTouchUp&&(i+=this.__cbOnceTouchUp.length),0<i){var l=C.pool(i),s=l.get(),r=0;if(null!=this.__cbOnTouchUp)for(var h=0,a=this.__cbOnTouchUp.length;h<a;){var o=h++,c=this.__onOwnerTouchUp[o],u=!1;null!=G.get_context().focusedWindow?null!=c&&(u=Y._filterEventOwner(c)):u=!0,u?(s.vector[r]=this.__cbOnTouchUp[o],++r):--i}if(null!=this.__cbOnceTouchUp){for(var _=null,d=null,b=null,h=0,a=this.__cbOnceTouchUp.length;h<a;){var g,o=h++,c=this.__onceOwnerTouchUp[o],u=!1;null!=G.get_context().focusedWindow?null!=c&&(u=Y._filterEventOwner(c)):u=!0,u?(s.vector[r]=this.__cbOnceTouchUp[o],this.__cbOnceTouchUp[o]=null,g=this.__cbOnceOwnerUnbindTouchUp[o],(this.__cbOnceOwnerUnbindTouchUp[o]=null)!=g&&g(),++r):(--i,null==_&&(_=[],d=[],b=[]),_.push(this.__cbOnceOwnerUnbindTouchUp[o]),d.push(this.__cbOnceTouchUp[o]),b.push(this.__onceOwnerTouchUp[o]))}this.__cbOnceOwnerUnbindTouchUp=_,this.__cbOnceTouchUp=d,this.__onceOwnerTouchUp=b}for(h=0,a=i;h<a;){r=h++;(0,s.vector[r])(e,n,t)}l.release(s),s=null}var l=2e4+e,O=this.matchedDownListeners.h[l];null!=O&&0<=O._lifecycleState&&0<O._numPointerDown&&(O._numPointerDown--,0!=O._numPointerDown&&!O.multiTouch||O.emitPointerUp(new Kt(e,-1,n,t,O._hits(n,t,!1)))),this.matchedDownListeners.remove(l)},onTouchUp:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event touchUp because owner is destroyed!");var l=function(e){null!=t&&(i.offTouchUp(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindTouchUp&&(this.__cbOnOwnerUnbindTouchUp=[]),this.__cbOnOwnerUnbindTouchUp.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindTouchUp&&(this.__cbOnOwnerUnbindTouchUp=[]),this.__cbOnOwnerUnbindTouchUp.push(null);null==this.__cbOnTouchUp&&(this.__cbOnTouchUp=[]),this.__cbOnTouchUp.push(t),null==this.__onOwnerTouchUp&&(this.__onOwnerTouchUp=[]),this.__onOwnerTouchUp.push(n)},onceTouchUp:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event touchUp because owner is destroyed!");var l=function(e){null!=t&&(i.offTouchUp(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindTouchUp&&(this.__cbOnceOwnerUnbindTouchUp=[]),this.__cbOnceOwnerUnbindTouchUp.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindTouchUp&&(this.__cbOnceOwnerUnbindTouchUp=[]),this.__cbOnceOwnerUnbindTouchUp.push(null);null==this.__cbOnceTouchUp&&(this.__cbOnceTouchUp=[]),this.__cbOnceTouchUp.push(t),null==this.__onceOwnerTouchUp&&(this.__onceOwnerTouchUp=[]),this.__onceOwnerTouchUp.push(n)},offTouchUp:function(e){if(null!=e){var n;null!=this.__cbOnTouchUp&&-1!=(n=this.__cbOnTouchUp.indexOf(e))&&(this.__cbOnTouchUp.splice(n,1),null!=(s=this.__cbOnOwnerUnbindTouchUp[n])&&s(),this.__cbOnOwnerUnbindTouchUp.splice(n,1),this.__onOwnerTouchUp.splice(n,1)),null!=this.__cbOnceTouchUp&&-1!=(n=this.__cbOnceTouchUp.indexOf(e))&&(this.__cbOnceTouchUp.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindTouchUp[n])&&s(),this.__cbOnceOwnerUnbindTouchUp.splice(n,1),this.__onceOwnerTouchUp.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindTouchUp){for(var t=0,i=this.__cbOnOwnerUnbindTouchUp.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindTouchUp[l])&&s()}this.__cbOnOwnerUnbindTouchUp=null}if(null!=this.__cbOnceOwnerUnbindTouchUp){for(t=0,i=this.__cbOnceOwnerUnbindTouchUp.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindTouchUp[l])&&s()}this.__cbOnceOwnerUnbindTouchUp=null}this.__cbOnTouchUp=null,this.__cbOnceTouchUp=null,this.__onOwnerTouchUp=null,this.__onceOwnerTouchUp=null}},listensTouchUp:function(){return null!=this.__cbOnTouchUp&&0<this.__cbOnTouchUp.length||null!=this.__cbOnceTouchUp&&0<this.__cbOnceTouchUp.length},__cbOnTouchMove:null,__cbOnceTouchMove:null,__cbOnOwnerUnbindTouchMove:null,__cbOnceOwnerUnbindTouchMove:null,__onOwnerTouchMove:null,__onceOwnerTouchMove:null,emitTouchMove:function(e,n,t){this.willEmitTouchMove(e,n,t);var i=0;if(null!=this.__cbOnTouchMove&&(i+=this.__cbOnTouchMove.length),null!=this.__cbOnceTouchMove&&(i+=this.__cbOnceTouchMove.length),0<i){var l=C.pool(i),s=l.get(),r=0;if(null!=this.__cbOnTouchMove)for(var h=0,a=this.__cbOnTouchMove.length;h<a;){var o=h++,c=this.__onOwnerTouchMove[o],u=!1;null!=G.get_context().focusedWindow?null!=c&&(u=Y._filterEventOwner(c)):u=!0,u?(s.vector[r]=this.__cbOnTouchMove[o],++r):--i}if(null!=this.__cbOnceTouchMove){for(var _=null,d=null,b=null,h=0,a=this.__cbOnceTouchMove.length;h<a;){var g,o=h++,c=this.__onceOwnerTouchMove[o],u=!1;null!=G.get_context().focusedWindow?null!=c&&(u=Y._filterEventOwner(c)):u=!0,u?(s.vector[r]=this.__cbOnceTouchMove[o],this.__cbOnceTouchMove[o]=null,g=this.__cbOnceOwnerUnbindTouchMove[o],(this.__cbOnceOwnerUnbindTouchMove[o]=null)!=g&&g(),++r):(--i,null==_&&(_=[],d=[],b=[]),_.push(this.__cbOnceOwnerUnbindTouchMove[o]),d.push(this.__cbOnceTouchMove[o]),b.push(this.__onceOwnerTouchMove[o]))}this.__cbOnceOwnerUnbindTouchMove=_,this.__cbOnceTouchMove=d,this.__onceOwnerTouchMove=b}for(h=0,a=i;h<a;){r=h++;(0,s.vector[r])(e,n,t)}l.release(s)}},onTouchMove:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event touchMove because owner is destroyed!");var l=function(e){null!=t&&(i.offTouchMove(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindTouchMove&&(this.__cbOnOwnerUnbindTouchMove=[]),this.__cbOnOwnerUnbindTouchMove.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindTouchMove&&(this.__cbOnOwnerUnbindTouchMove=[]),this.__cbOnOwnerUnbindTouchMove.push(null);null==this.__cbOnTouchMove&&(this.__cbOnTouchMove=[]),this.__cbOnTouchMove.push(t),null==this.__onOwnerTouchMove&&(this.__onOwnerTouchMove=[]),this.__onOwnerTouchMove.push(n)},onceTouchMove:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event touchMove because owner is destroyed!");var l=function(e){null!=t&&(i.offTouchMove(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindTouchMove&&(this.__cbOnceOwnerUnbindTouchMove=[]),this.__cbOnceOwnerUnbindTouchMove.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindTouchMove&&(this.__cbOnceOwnerUnbindTouchMove=[]),this.__cbOnceOwnerUnbindTouchMove.push(null);null==this.__cbOnceTouchMove&&(this.__cbOnceTouchMove=[]),this.__cbOnceTouchMove.push(t),null==this.__onceOwnerTouchMove&&(this.__onceOwnerTouchMove=[]),this.__onceOwnerTouchMove.push(n)},offTouchMove:function(e){if(null!=e){var n;null!=this.__cbOnTouchMove&&-1!=(n=this.__cbOnTouchMove.indexOf(e))&&(this.__cbOnTouchMove.splice(n,1),null!=(s=this.__cbOnOwnerUnbindTouchMove[n])&&s(),this.__cbOnOwnerUnbindTouchMove.splice(n,1),this.__onOwnerTouchMove.splice(n,1)),null!=this.__cbOnceTouchMove&&-1!=(n=this.__cbOnceTouchMove.indexOf(e))&&(this.__cbOnceTouchMove.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindTouchMove[n])&&s(),this.__cbOnceOwnerUnbindTouchMove.splice(n,1),this.__onceOwnerTouchMove.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindTouchMove){for(var t=0,i=this.__cbOnOwnerUnbindTouchMove.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindTouchMove[l])&&s()}this.__cbOnOwnerUnbindTouchMove=null}if(null!=this.__cbOnceOwnerUnbindTouchMove){for(t=0,i=this.__cbOnceOwnerUnbindTouchMove.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindTouchMove[l])&&s()}this.__cbOnceOwnerUnbindTouchMove=null}this.__cbOnTouchMove=null,this.__cbOnceTouchMove=null,this.__onOwnerTouchMove=null,this.__onceOwnerTouchMove=null}},listensTouchMove:function(){return null!=this.__cbOnTouchMove&&0<this.__cbOnTouchMove.length||null!=this.__cbOnceTouchMove&&0<this.__cbOnceTouchMove.length},__cbOnPointerDown:null,__cbOncePointerDown:null,__cbOnOwnerUnbindPointerDown:null,__cbOnceOwnerUnbindPointerDown:null,__onOwnerPointerDown:null,__onceOwnerPointerDown:null,emitPointerDown:function(e){var n=0;if(null!=this.__cbOnPointerDown&&(n+=this.__cbOnPointerDown.length),null!=this.__cbOncePointerDown&&(n+=this.__cbOncePointerDown.length),0<n){var t=C.pool(n),i=t.get(),l=0;if(null!=this.__cbOnPointerDown)for(var s=0,r=this.__cbOnPointerDown.length;s<r;){var h=s++,a=this.__onOwnerPointerDown[h],o=!1;null!=G.get_context().focusedWindow?null!=a&&(o=Y._filterEventOwner(a)):o=!0,o?(i.vector[l]=this.__cbOnPointerDown[h],++l):--n}if(null!=this.__cbOncePointerDown){for(var c=null,u=null,_=null,s=0,r=this.__cbOncePointerDown.length;s<r;){var d,h=s++,a=this.__onceOwnerPointerDown[h],o=!1;null!=G.get_context().focusedWindow?null!=a&&(o=Y._filterEventOwner(a)):o=!0,o?(i.vector[l]=this.__cbOncePointerDown[h],this.__cbOncePointerDown[h]=null,d=this.__cbOnceOwnerUnbindPointerDown[h],(this.__cbOnceOwnerUnbindPointerDown[h]=null)!=d&&d(),++l):(--n,null==c&&(c=[],u=[],_=[]),c.push(this.__cbOnceOwnerUnbindPointerDown[h]),u.push(this.__cbOncePointerDown[h]),_.push(this.__onceOwnerPointerDown[h]))}this.__cbOnceOwnerUnbindPointerDown=c,this.__cbOncePointerDown=u,this.__onceOwnerPointerDown=_}for(s=0,r=n;s<r;){l=s++;(0,i.vector[l])(e)}t.release(i)}},onPointerDown:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event pointerDown because owner is destroyed!");var l=function(e){null!=t&&(i.offPointerDown(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindPointerDown&&(this.__cbOnOwnerUnbindPointerDown=[]),this.__cbOnOwnerUnbindPointerDown.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindPointerDown&&(this.__cbOnOwnerUnbindPointerDown=[]),this.__cbOnOwnerUnbindPointerDown.push(null);null==this.__cbOnPointerDown&&(this.__cbOnPointerDown=[]),this.__cbOnPointerDown.push(t),null==this.__onOwnerPointerDown&&(this.__onOwnerPointerDown=[]),this.__onOwnerPointerDown.push(n)},oncePointerDown:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event pointerDown because owner is destroyed!");var l=function(e){null!=t&&(i.offPointerDown(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindPointerDown&&(this.__cbOnceOwnerUnbindPointerDown=[]),this.__cbOnceOwnerUnbindPointerDown.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindPointerDown&&(this.__cbOnceOwnerUnbindPointerDown=[]),this.__cbOnceOwnerUnbindPointerDown.push(null);null==this.__cbOncePointerDown&&(this.__cbOncePointerDown=[]),this.__cbOncePointerDown.push(t),null==this.__onceOwnerPointerDown&&(this.__onceOwnerPointerDown=[]),this.__onceOwnerPointerDown.push(n)},offPointerDown:function(e){if(null!=e){var n;null!=this.__cbOnPointerDown&&-1!=(n=this.__cbOnPointerDown.indexOf(e))&&(this.__cbOnPointerDown.splice(n,1),null!=(s=this.__cbOnOwnerUnbindPointerDown[n])&&s(),this.__cbOnOwnerUnbindPointerDown.splice(n,1),this.__onOwnerPointerDown.splice(n,1)),null!=this.__cbOncePointerDown&&-1!=(n=this.__cbOncePointerDown.indexOf(e))&&(this.__cbOncePointerDown.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindPointerDown[n])&&s(),this.__cbOnceOwnerUnbindPointerDown.splice(n,1),this.__onceOwnerPointerDown.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindPointerDown){for(var t=0,i=this.__cbOnOwnerUnbindPointerDown.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindPointerDown[l])&&s()}this.__cbOnOwnerUnbindPointerDown=null}if(null!=this.__cbOnceOwnerUnbindPointerDown){for(t=0,i=this.__cbOnceOwnerUnbindPointerDown.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindPointerDown[l])&&s()}this.__cbOnceOwnerUnbindPointerDown=null}this.__cbOnPointerDown=null,this.__cbOncePointerDown=null,this.__onOwnerPointerDown=null,this.__onceOwnerPointerDown=null}},listensPointerDown:function(){return null!=this.__cbOnPointerDown&&0<this.__cbOnPointerDown.length||null!=this.__cbOncePointerDown&&0<this.__cbOncePointerDown.length},__cbOnPointerUp:null,__cbOncePointerUp:null,__cbOnOwnerUnbindPointerUp:null,__cbOnceOwnerUnbindPointerUp:null,__onOwnerPointerUp:null,__onceOwnerPointerUp:null,emitPointerUp:function(e){var n=0;if(null!=this.__cbOnPointerUp&&(n+=this.__cbOnPointerUp.length),null!=this.__cbOncePointerUp&&(n+=this.__cbOncePointerUp.length),0<n){var t=C.pool(n),i=t.get(),l=0;if(null!=this.__cbOnPointerUp)for(var s=0,r=this.__cbOnPointerUp.length;s<r;){var h=s++,a=this.__onOwnerPointerUp[h],o=!1;null!=G.get_context().focusedWindow?null!=a&&(o=Y._filterEventOwner(a)):o=!0,o?(i.vector[l]=this.__cbOnPointerUp[h],++l):--n}if(null!=this.__cbOncePointerUp){for(var c=null,u=null,_=null,s=0,r=this.__cbOncePointerUp.length;s<r;){var d,h=s++,a=this.__onceOwnerPointerUp[h],o=!1;null!=G.get_context().focusedWindow?null!=a&&(o=Y._filterEventOwner(a)):o=!0,o?(i.vector[l]=this.__cbOncePointerUp[h],this.__cbOncePointerUp[h]=null,d=this.__cbOnceOwnerUnbindPointerUp[h],(this.__cbOnceOwnerUnbindPointerUp[h]=null)!=d&&d(),++l):(--n,null==c&&(c=[],u=[],_=[]),c.push(this.__cbOnceOwnerUnbindPointerUp[h]),u.push(this.__cbOncePointerUp[h]),_.push(this.__onceOwnerPointerUp[h]))}this.__cbOnceOwnerUnbindPointerUp=c,this.__cbOncePointerUp=u,this.__onceOwnerPointerUp=_}for(s=0,r=n;s<r;){l=s++;(0,i.vector[l])(e)}t.release(i)}},onPointerUp:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event pointerUp because owner is destroyed!");var l=function(e){null!=t&&(i.offPointerUp(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindPointerUp&&(this.__cbOnOwnerUnbindPointerUp=[]),this.__cbOnOwnerUnbindPointerUp.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindPointerUp&&(this.__cbOnOwnerUnbindPointerUp=[]),this.__cbOnOwnerUnbindPointerUp.push(null);null==this.__cbOnPointerUp&&(this.__cbOnPointerUp=[]),this.__cbOnPointerUp.push(t),null==this.__onOwnerPointerUp&&(this.__onOwnerPointerUp=[]),this.__onOwnerPointerUp.push(n)},oncePointerUp:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event pointerUp because owner is destroyed!");var l=function(e){null!=t&&(i.offPointerUp(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindPointerUp&&(this.__cbOnceOwnerUnbindPointerUp=[]),this.__cbOnceOwnerUnbindPointerUp.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindPointerUp&&(this.__cbOnceOwnerUnbindPointerUp=[]),this.__cbOnceOwnerUnbindPointerUp.push(null);null==this.__cbOncePointerUp&&(this.__cbOncePointerUp=[]),this.__cbOncePointerUp.push(t),null==this.__onceOwnerPointerUp&&(this.__onceOwnerPointerUp=[]),this.__onceOwnerPointerUp.push(n)},offPointerUp:function(e){if(null!=e){var n;null!=this.__cbOnPointerUp&&-1!=(n=this.__cbOnPointerUp.indexOf(e))&&(this.__cbOnPointerUp.splice(n,1),null!=(s=this.__cbOnOwnerUnbindPointerUp[n])&&s(),this.__cbOnOwnerUnbindPointerUp.splice(n,1),this.__onOwnerPointerUp.splice(n,1)),null!=this.__cbOncePointerUp&&-1!=(n=this.__cbOncePointerUp.indexOf(e))&&(this.__cbOncePointerUp.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindPointerUp[n])&&s(),this.__cbOnceOwnerUnbindPointerUp.splice(n,1),this.__onceOwnerPointerUp.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindPointerUp){for(var t=0,i=this.__cbOnOwnerUnbindPointerUp.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindPointerUp[l])&&s()}this.__cbOnOwnerUnbindPointerUp=null}if(null!=this.__cbOnceOwnerUnbindPointerUp){for(t=0,i=this.__cbOnceOwnerUnbindPointerUp.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindPointerUp[l])&&s()}this.__cbOnceOwnerUnbindPointerUp=null}this.__cbOnPointerUp=null,this.__cbOncePointerUp=null,this.__onOwnerPointerUp=null,this.__onceOwnerPointerUp=null}},listensPointerUp:function(){return null!=this.__cbOnPointerUp&&0<this.__cbOnPointerUp.length||null!=this.__cbOncePointerUp&&0<this.__cbOncePointerUp.length},__cbOnPointerMove:null,__cbOncePointerMove:null,__cbOnOwnerUnbindPointerMove:null,__cbOnceOwnerUnbindPointerMove:null,__onOwnerPointerMove:null,__onceOwnerPointerMove:null,emitPointerMove:function(e){var n=0;if(null!=this.__cbOnPointerMove&&(n+=this.__cbOnPointerMove.length),null!=this.__cbOncePointerMove&&(n+=this.__cbOncePointerMove.length),0<n){var t=C.pool(n),i=t.get(),l=0;if(null!=this.__cbOnPointerMove)for(var s=0,r=this.__cbOnPointerMove.length;s<r;){var h=s++,a=this.__onOwnerPointerMove[h],o=!1;null!=G.get_context().focusedWindow?null!=a&&(o=Y._filterEventOwner(a)):o=!0,o?(i.vector[l]=this.__cbOnPointerMove[h],++l):--n}if(null!=this.__cbOncePointerMove){for(var c=null,u=null,_=null,s=0,r=this.__cbOncePointerMove.length;s<r;){var d,h=s++,a=this.__onceOwnerPointerMove[h],o=!1;null!=G.get_context().focusedWindow?null!=a&&(o=Y._filterEventOwner(a)):o=!0,o?(i.vector[l]=this.__cbOncePointerMove[h],this.__cbOncePointerMove[h]=null,d=this.__cbOnceOwnerUnbindPointerMove[h],(this.__cbOnceOwnerUnbindPointerMove[h]=null)!=d&&d(),++l):(--n,null==c&&(c=[],u=[],_=[]),c.push(this.__cbOnceOwnerUnbindPointerMove[h]),u.push(this.__cbOncePointerMove[h]),_.push(this.__onceOwnerPointerMove[h]))}this.__cbOnceOwnerUnbindPointerMove=c,this.__cbOncePointerMove=u,this.__onceOwnerPointerMove=_}for(s=0,r=n;s<r;){l=s++;(0,i.vector[l])(e)}t.release(i)}},onPointerMove:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event pointerMove because owner is destroyed!");var l=function(e){null!=t&&(i.offPointerMove(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindPointerMove&&(this.__cbOnOwnerUnbindPointerMove=[]),this.__cbOnOwnerUnbindPointerMove.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindPointerMove&&(this.__cbOnOwnerUnbindPointerMove=[]),this.__cbOnOwnerUnbindPointerMove.push(null);null==this.__cbOnPointerMove&&(this.__cbOnPointerMove=[]),this.__cbOnPointerMove.push(t),null==this.__onOwnerPointerMove&&(this.__onOwnerPointerMove=[]),this.__onOwnerPointerMove.push(n)},oncePointerMove:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event pointerMove because owner is destroyed!");var l=function(e){null!=t&&(i.offPointerMove(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindPointerMove&&(this.__cbOnceOwnerUnbindPointerMove=[]),this.__cbOnceOwnerUnbindPointerMove.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindPointerMove&&(this.__cbOnceOwnerUnbindPointerMove=[]),this.__cbOnceOwnerUnbindPointerMove.push(null);null==this.__cbOncePointerMove&&(this.__cbOncePointerMove=[]),this.__cbOncePointerMove.push(t),null==this.__onceOwnerPointerMove&&(this.__onceOwnerPointerMove=[]),this.__onceOwnerPointerMove.push(n)},offPointerMove:function(e){if(null!=e){var n;null!=this.__cbOnPointerMove&&-1!=(n=this.__cbOnPointerMove.indexOf(e))&&(this.__cbOnPointerMove.splice(n,1),null!=(s=this.__cbOnOwnerUnbindPointerMove[n])&&s(),this.__cbOnOwnerUnbindPointerMove.splice(n,1),this.__onOwnerPointerMove.splice(n,1)),null!=this.__cbOncePointerMove&&-1!=(n=this.__cbOncePointerMove.indexOf(e))&&(this.__cbOncePointerMove.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindPointerMove[n])&&s(),this.__cbOnceOwnerUnbindPointerMove.splice(n,1),this.__onceOwnerPointerMove.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindPointerMove){for(var t=0,i=this.__cbOnOwnerUnbindPointerMove.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindPointerMove[l])&&s()}this.__cbOnOwnerUnbindPointerMove=null}if(null!=this.__cbOnceOwnerUnbindPointerMove){for(t=0,i=this.__cbOnceOwnerUnbindPointerMove.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindPointerMove[l])&&s()}this.__cbOnceOwnerUnbindPointerMove=null}this.__cbOnPointerMove=null,this.__cbOncePointerMove=null,this.__onOwnerPointerMove=null,this.__onceOwnerPointerMove=null}},listensPointerMove:function(){return null!=this.__cbOnPointerMove&&0<this.__cbOnPointerMove.length||null!=this.__cbOncePointerMove&&0<this.__cbOncePointerMove.length},__cbOnMultiTouchPointerDown:null,__cbOnceMultiTouchPointerDown:null,__cbOnOwnerUnbindMultiTouchPointerDown:null,__cbOnceOwnerUnbindMultiTouchPointerDown:null,__onOwnerMultiTouchPointerDown:null,__onceOwnerMultiTouchPointerDown:null,emitMultiTouchPointerDown:function(e){var n=0;if(null!=this.__cbOnMultiTouchPointerDown&&(n+=this.__cbOnMultiTouchPointerDown.length),null!=this.__cbOnceMultiTouchPointerDown&&(n+=this.__cbOnceMultiTouchPointerDown.length),0<n){var t=C.pool(n),i=t.get(),l=0;if(null!=this.__cbOnMultiTouchPointerDown)for(var s=0,r=this.__cbOnMultiTouchPointerDown.length;s<r;){var h=s++,a=this.__onOwnerMultiTouchPointerDown[h],o=!1;null!=G.get_context().focusedWindow?null!=a&&(o=Y._filterEventOwner(a)):o=!0,o?(i.vector[l]=this.__cbOnMultiTouchPointerDown[h],++l):--n}if(null!=this.__cbOnceMultiTouchPointerDown){for(var c=null,u=null,_=null,s=0,r=this.__cbOnceMultiTouchPointerDown.length;s<r;){var d,h=s++,a=this.__onceOwnerMultiTouchPointerDown[h],o=!1;null!=G.get_context().focusedWindow?null!=a&&(o=Y._filterEventOwner(a)):o=!0,o?(i.vector[l]=this.__cbOnceMultiTouchPointerDown[h],this.__cbOnceMultiTouchPointerDown[h]=null,d=this.__cbOnceOwnerUnbindMultiTouchPointerDown[h],(this.__cbOnceOwnerUnbindMultiTouchPointerDown[h]=null)!=d&&d(),++l):(--n,null==c&&(c=[],u=[],_=[]),c.push(this.__cbOnceOwnerUnbindMultiTouchPointerDown[h]),u.push(this.__cbOnceMultiTouchPointerDown[h]),_.push(this.__onceOwnerMultiTouchPointerDown[h]))}this.__cbOnceOwnerUnbindMultiTouchPointerDown=c,this.__cbOnceMultiTouchPointerDown=u,this.__onceOwnerMultiTouchPointerDown=_}for(s=0,r=n;s<r;){l=s++;(0,i.vector[l])(e)}t.release(i)}},onMultiTouchPointerDown:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event multiTouchPointerDown because owner is destroyed!");var l=function(e){null!=t&&(i.offMultiTouchPointerDown(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindMultiTouchPointerDown&&(this.__cbOnOwnerUnbindMultiTouchPointerDown=[]),this.__cbOnOwnerUnbindMultiTouchPointerDown.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindMultiTouchPointerDown&&(this.__cbOnOwnerUnbindMultiTouchPointerDown=[]),this.__cbOnOwnerUnbindMultiTouchPointerDown.push(null);null==this.__cbOnMultiTouchPointerDown&&(this.__cbOnMultiTouchPointerDown=[]),this.__cbOnMultiTouchPointerDown.push(t),null==this.__onOwnerMultiTouchPointerDown&&(this.__onOwnerMultiTouchPointerDown=[]),this.__onOwnerMultiTouchPointerDown.push(n)},onceMultiTouchPointerDown:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event multiTouchPointerDown because owner is destroyed!");var l=function(e){null!=t&&(i.offMultiTouchPointerDown(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindMultiTouchPointerDown&&(this.__cbOnceOwnerUnbindMultiTouchPointerDown=[]),this.__cbOnceOwnerUnbindMultiTouchPointerDown.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindMultiTouchPointerDown&&(this.__cbOnceOwnerUnbindMultiTouchPointerDown=[]),this.__cbOnceOwnerUnbindMultiTouchPointerDown.push(null);null==this.__cbOnceMultiTouchPointerDown&&(this.__cbOnceMultiTouchPointerDown=[]),this.__cbOnceMultiTouchPointerDown.push(t),null==this.__onceOwnerMultiTouchPointerDown&&(this.__onceOwnerMultiTouchPointerDown=[]),this.__onceOwnerMultiTouchPointerDown.push(n)},offMultiTouchPointerDown:function(e){if(null!=e){var n;null!=this.__cbOnMultiTouchPointerDown&&-1!=(n=this.__cbOnMultiTouchPointerDown.indexOf(e))&&(this.__cbOnMultiTouchPointerDown.splice(n,1),null!=(s=this.__cbOnOwnerUnbindMultiTouchPointerDown[n])&&s(),this.__cbOnOwnerUnbindMultiTouchPointerDown.splice(n,1),this.__onOwnerMultiTouchPointerDown.splice(n,1)),null!=this.__cbOnceMultiTouchPointerDown&&-1!=(n=this.__cbOnceMultiTouchPointerDown.indexOf(e))&&(this.__cbOnceMultiTouchPointerDown.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindMultiTouchPointerDown[n])&&s(),this.__cbOnceOwnerUnbindMultiTouchPointerDown.splice(n,1),this.__onceOwnerMultiTouchPointerDown.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindMultiTouchPointerDown){for(var t=0,i=this.__cbOnOwnerUnbindMultiTouchPointerDown.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindMultiTouchPointerDown[l])&&s()}this.__cbOnOwnerUnbindMultiTouchPointerDown=null}if(null!=this.__cbOnceOwnerUnbindMultiTouchPointerDown){for(t=0,i=this.__cbOnceOwnerUnbindMultiTouchPointerDown.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindMultiTouchPointerDown[l])&&s()}this.__cbOnceOwnerUnbindMultiTouchPointerDown=null}this.__cbOnMultiTouchPointerDown=null,this.__cbOnceMultiTouchPointerDown=null,this.__onOwnerMultiTouchPointerDown=null,this.__onceOwnerMultiTouchPointerDown=null}},listensMultiTouchPointerDown:function(){return null!=this.__cbOnMultiTouchPointerDown&&0<this.__cbOnMultiTouchPointerDown.length||null!=this.__cbOnceMultiTouchPointerDown&&0<this.__cbOnceMultiTouchPointerDown.length},__cbOnMultiTouchPointerUp:null,__cbOnceMultiTouchPointerUp:null,__cbOnOwnerUnbindMultiTouchPointerUp:null,__cbOnceOwnerUnbindMultiTouchPointerUp:null,__onOwnerMultiTouchPointerUp:null,__onceOwnerMultiTouchPointerUp:null,emitMultiTouchPointerUp:function(e){var n=0;if(null!=this.__cbOnMultiTouchPointerUp&&(n+=this.__cbOnMultiTouchPointerUp.length),null!=this.__cbOnceMultiTouchPointerUp&&(n+=this.__cbOnceMultiTouchPointerUp.length),0<n){var t=C.pool(n),i=t.get(),l=0;if(null!=this.__cbOnMultiTouchPointerUp)for(var s=0,r=this.__cbOnMultiTouchPointerUp.length;s<r;){var h=s++,a=this.__onOwnerMultiTouchPointerUp[h],o=!1;null!=G.get_context().focusedWindow?null!=a&&(o=Y._filterEventOwner(a)):o=!0,o?(i.vector[l]=this.__cbOnMultiTouchPointerUp[h],++l):--n}if(null!=this.__cbOnceMultiTouchPointerUp){for(var c=null,u=null,_=null,s=0,r=this.__cbOnceMultiTouchPointerUp.length;s<r;){var d,h=s++,a=this.__onceOwnerMultiTouchPointerUp[h],o=!1;null!=G.get_context().focusedWindow?null!=a&&(o=Y._filterEventOwner(a)):o=!0,o?(i.vector[l]=this.__cbOnceMultiTouchPointerUp[h],this.__cbOnceMultiTouchPointerUp[h]=null,d=this.__cbOnceOwnerUnbindMultiTouchPointerUp[h],(this.__cbOnceOwnerUnbindMultiTouchPointerUp[h]=null)!=d&&d(),++l):(--n,null==c&&(c=[],u=[],_=[]),c.push(this.__cbOnceOwnerUnbindMultiTouchPointerUp[h]),u.push(this.__cbOnceMultiTouchPointerUp[h]),_.push(this.__onceOwnerMultiTouchPointerUp[h]))}this.__cbOnceOwnerUnbindMultiTouchPointerUp=c,this.__cbOnceMultiTouchPointerUp=u,this.__onceOwnerMultiTouchPointerUp=_}for(s=0,r=n;s<r;){l=s++;(0,i.vector[l])(e)}t.release(i)}},onMultiTouchPointerUp:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event multiTouchPointerUp because owner is destroyed!");var l=function(e){null!=t&&(i.offMultiTouchPointerUp(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindMultiTouchPointerUp&&(this.__cbOnOwnerUnbindMultiTouchPointerUp=[]),this.__cbOnOwnerUnbindMultiTouchPointerUp.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindMultiTouchPointerUp&&(this.__cbOnOwnerUnbindMultiTouchPointerUp=[]),this.__cbOnOwnerUnbindMultiTouchPointerUp.push(null);null==this.__cbOnMultiTouchPointerUp&&(this.__cbOnMultiTouchPointerUp=[]),this.__cbOnMultiTouchPointerUp.push(t),null==this.__onOwnerMultiTouchPointerUp&&(this.__onOwnerMultiTouchPointerUp=[]),this.__onOwnerMultiTouchPointerUp.push(n)},onceMultiTouchPointerUp:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event multiTouchPointerUp because owner is destroyed!");var l=function(e){null!=t&&(i.offMultiTouchPointerUp(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindMultiTouchPointerUp&&(this.__cbOnceOwnerUnbindMultiTouchPointerUp=[]),this.__cbOnceOwnerUnbindMultiTouchPointerUp.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindMultiTouchPointerUp&&(this.__cbOnceOwnerUnbindMultiTouchPointerUp=[]),this.__cbOnceOwnerUnbindMultiTouchPointerUp.push(null);null==this.__cbOnceMultiTouchPointerUp&&(this.__cbOnceMultiTouchPointerUp=[]),this.__cbOnceMultiTouchPointerUp.push(t),null==this.__onceOwnerMultiTouchPointerUp&&(this.__onceOwnerMultiTouchPointerUp=[]),this.__onceOwnerMultiTouchPointerUp.push(n)},offMultiTouchPointerUp:function(e){if(null!=e){var n;null!=this.__cbOnMultiTouchPointerUp&&-1!=(n=this.__cbOnMultiTouchPointerUp.indexOf(e))&&(this.__cbOnMultiTouchPointerUp.splice(n,1),null!=(s=this.__cbOnOwnerUnbindMultiTouchPointerUp[n])&&s(),this.__cbOnOwnerUnbindMultiTouchPointerUp.splice(n,1),this.__onOwnerMultiTouchPointerUp.splice(n,1)),null!=this.__cbOnceMultiTouchPointerUp&&-1!=(n=this.__cbOnceMultiTouchPointerUp.indexOf(e))&&(this.__cbOnceMultiTouchPointerUp.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindMultiTouchPointerUp[n])&&s(),this.__cbOnceOwnerUnbindMultiTouchPointerUp.splice(n,1),this.__onceOwnerMultiTouchPointerUp.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindMultiTouchPointerUp){for(var t=0,i=this.__cbOnOwnerUnbindMultiTouchPointerUp.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindMultiTouchPointerUp[l])&&s()}this.__cbOnOwnerUnbindMultiTouchPointerUp=null}if(null!=this.__cbOnceOwnerUnbindMultiTouchPointerUp){for(t=0,i=this.__cbOnceOwnerUnbindMultiTouchPointerUp.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindMultiTouchPointerUp[l])&&s()}this.__cbOnceOwnerUnbindMultiTouchPointerUp=null}this.__cbOnMultiTouchPointerUp=null,this.__cbOnceMultiTouchPointerUp=null,this.__onOwnerMultiTouchPointerUp=null,this.__onceOwnerMultiTouchPointerUp=null}},listensMultiTouchPointerUp:function(){return null!=this.__cbOnMultiTouchPointerUp&&0<this.__cbOnMultiTouchPointerUp.length||null!=this.__cbOnceMultiTouchPointerUp&&0<this.__cbOnceMultiTouchPointerUp.length},__cbOnMultiTouchPointerMove:null,__cbOnceMultiTouchPointerMove:null,__cbOnOwnerUnbindMultiTouchPointerMove:null,__cbOnceOwnerUnbindMultiTouchPointerMove:null,__onOwnerMultiTouchPointerMove:null,__onceOwnerMultiTouchPointerMove:null,emitMultiTouchPointerMove:function(e){var n=0;if(null!=this.__cbOnMultiTouchPointerMove&&(n+=this.__cbOnMultiTouchPointerMove.length),null!=this.__cbOnceMultiTouchPointerMove&&(n+=this.__cbOnceMultiTouchPointerMove.length),0<n){var t=C.pool(n),i=t.get(),l=0;if(null!=this.__cbOnMultiTouchPointerMove)for(var s=0,r=this.__cbOnMultiTouchPointerMove.length;s<r;){var h=s++,a=this.__onOwnerMultiTouchPointerMove[h],o=!1;null!=G.get_context().focusedWindow?null!=a&&(o=Y._filterEventOwner(a)):o=!0,o?(i.vector[l]=this.__cbOnMultiTouchPointerMove[h],++l):--n}if(null!=this.__cbOnceMultiTouchPointerMove){for(var c=null,u=null,_=null,s=0,r=this.__cbOnceMultiTouchPointerMove.length;s<r;){var d,h=s++,a=this.__onceOwnerMultiTouchPointerMove[h],o=!1;null!=G.get_context().focusedWindow?null!=a&&(o=Y._filterEventOwner(a)):o=!0,o?(i.vector[l]=this.__cbOnceMultiTouchPointerMove[h],this.__cbOnceMultiTouchPointerMove[h]=null,d=this.__cbOnceOwnerUnbindMultiTouchPointerMove[h],(this.__cbOnceOwnerUnbindMultiTouchPointerMove[h]=null)!=d&&d(),++l):(--n,null==c&&(c=[],u=[],_=[]),c.push(this.__cbOnceOwnerUnbindMultiTouchPointerMove[h]),u.push(this.__cbOnceMultiTouchPointerMove[h]),_.push(this.__onceOwnerMultiTouchPointerMove[h]))}this.__cbOnceOwnerUnbindMultiTouchPointerMove=c,this.__cbOnceMultiTouchPointerMove=u,this.__onceOwnerMultiTouchPointerMove=_}for(s=0,r=n;s<r;){l=s++;(0,i.vector[l])(e)}t.release(i)}},onMultiTouchPointerMove:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event multiTouchPointerMove because owner is destroyed!");var l=function(e){null!=t&&(i.offMultiTouchPointerMove(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindMultiTouchPointerMove&&(this.__cbOnOwnerUnbindMultiTouchPointerMove=[]),this.__cbOnOwnerUnbindMultiTouchPointerMove.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindMultiTouchPointerMove&&(this.__cbOnOwnerUnbindMultiTouchPointerMove=[]),this.__cbOnOwnerUnbindMultiTouchPointerMove.push(null);null==this.__cbOnMultiTouchPointerMove&&(this.__cbOnMultiTouchPointerMove=[]),this.__cbOnMultiTouchPointerMove.push(t),null==this.__onOwnerMultiTouchPointerMove&&(this.__onOwnerMultiTouchPointerMove=[]),this.__onOwnerMultiTouchPointerMove.push(n)},onceMultiTouchPointerMove:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event multiTouchPointerMove because owner is destroyed!");var l=function(e){null!=t&&(i.offMultiTouchPointerMove(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindMultiTouchPointerMove&&(this.__cbOnceOwnerUnbindMultiTouchPointerMove=[]),this.__cbOnceOwnerUnbindMultiTouchPointerMove.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindMultiTouchPointerMove&&(this.__cbOnceOwnerUnbindMultiTouchPointerMove=[]),this.__cbOnceOwnerUnbindMultiTouchPointerMove.push(null);null==this.__cbOnceMultiTouchPointerMove&&(this.__cbOnceMultiTouchPointerMove=[]),this.__cbOnceMultiTouchPointerMove.push(t),null==this.__onceOwnerMultiTouchPointerMove&&(this.__onceOwnerMultiTouchPointerMove=[]),this.__onceOwnerMultiTouchPointerMove.push(n)},offMultiTouchPointerMove:function(e){if(null!=e){var n;null!=this.__cbOnMultiTouchPointerMove&&-1!=(n=this.__cbOnMultiTouchPointerMove.indexOf(e))&&(this.__cbOnMultiTouchPointerMove.splice(n,1),null!=(s=this.__cbOnOwnerUnbindMultiTouchPointerMove[n])&&s(),this.__cbOnOwnerUnbindMultiTouchPointerMove.splice(n,1),this.__onOwnerMultiTouchPointerMove.splice(n,1)),null!=this.__cbOnceMultiTouchPointerMove&&-1!=(n=this.__cbOnceMultiTouchPointerMove.indexOf(e))&&(this.__cbOnceMultiTouchPointerMove.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindMultiTouchPointerMove[n])&&s(),this.__cbOnceOwnerUnbindMultiTouchPointerMove.splice(n,1),this.__onceOwnerMultiTouchPointerMove.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindMultiTouchPointerMove){for(var t=0,i=this.__cbOnOwnerUnbindMultiTouchPointerMove.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindMultiTouchPointerMove[l])&&s()}this.__cbOnOwnerUnbindMultiTouchPointerMove=null}if(null!=this.__cbOnceOwnerUnbindMultiTouchPointerMove){for(t=0,i=this.__cbOnceOwnerUnbindMultiTouchPointerMove.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindMultiTouchPointerMove[l])&&s()}this.__cbOnceOwnerUnbindMultiTouchPointerMove=null}this.__cbOnMultiTouchPointerMove=null,this.__cbOnceMultiTouchPointerMove=null,this.__onOwnerMultiTouchPointerMove=null,this.__onceOwnerMultiTouchPointerMove=null}},listensMultiTouchPointerMove:function(){return null!=this.__cbOnMultiTouchPointerMove&&0<this.__cbOnMultiTouchPointerMove.length||null!=this.__cbOnceMultiTouchPointerMove&&0<this.__cbOnceMultiTouchPointerMove.length},__cbOnFocus:null,__cbOnceFocus:null,__cbOnOwnerUnbindFocus:null,__cbOnceOwnerUnbindFocus:null,emitFocus:function(e){var n=0;if(null!=this.__cbOnFocus&&(n+=this.__cbOnFocus.length),null!=this.__cbOnceFocus&&(n+=this.__cbOnceFocus.length),0<n){var t=C.pool(n),i=t.get(),l=0;if(null!=this.__cbOnFocus)for(var s=0,r=this.__cbOnFocus.length;s<r;){var h=s++;!0?(i.vector[l]=this.__cbOnFocus[h],++l):--n}if(null!=this.__cbOnceFocus){for(var a=null,o=null,s=0,r=this.__cbOnceFocus.length;s<r;){var c,h=s++;!0?(i.vector[l]=this.__cbOnceFocus[h],this.__cbOnceFocus[h]=null,c=this.__cbOnceOwnerUnbindFocus[h],(this.__cbOnceOwnerUnbindFocus[h]=null)!=c&&c(),++l):(--n,null==a&&(a=[],o=[],0),a.push(this.__cbOnceOwnerUnbindFocus[h]),o.push(this.__cbOnceFocus[h]))}this.__cbOnceOwnerUnbindFocus=a,this.__cbOnceFocus=o}for(s=0,r=n;s<r;){l=s++;(0,i.vector[l])(e)}t.release(i)}},onFocus:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event focus because owner is destroyed!");var l=function(e){null!=t&&(i.offFocus(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindFocus&&(this.__cbOnOwnerUnbindFocus=[]),this.__cbOnOwnerUnbindFocus.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindFocus&&(this.__cbOnOwnerUnbindFocus=[]),this.__cbOnOwnerUnbindFocus.push(null);null==this.__cbOnFocus&&(this.__cbOnFocus=[]),this.__cbOnFocus.push(t)},onceFocus:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event focus because owner is destroyed!");var l=function(e){null!=t&&(i.offFocus(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindFocus&&(this.__cbOnceOwnerUnbindFocus=[]),this.__cbOnceOwnerUnbindFocus.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindFocus&&(this.__cbOnceOwnerUnbindFocus=[]),this.__cbOnceOwnerUnbindFocus.push(null);null==this.__cbOnceFocus&&(this.__cbOnceFocus=[]),this.__cbOnceFocus.push(t)},offFocus:function(e){if(null!=e){var n;null!=this.__cbOnFocus&&-1!=(n=this.__cbOnFocus.indexOf(e))&&(this.__cbOnFocus.splice(n,1),null!=(s=this.__cbOnOwnerUnbindFocus[n])&&s(),this.__cbOnOwnerUnbindFocus.splice(n,1)),null!=this.__cbOnceFocus&&-1!=(n=this.__cbOnceFocus.indexOf(e))&&(this.__cbOnceFocus.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindFocus[n])&&s(),this.__cbOnceOwnerUnbindFocus.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindFocus){for(var t=0,i=this.__cbOnOwnerUnbindFocus.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindFocus[l])&&s()}this.__cbOnOwnerUnbindFocus=null}if(null!=this.__cbOnceOwnerUnbindFocus){for(t=0,i=this.__cbOnceOwnerUnbindFocus.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindFocus[l])&&s()}this.__cbOnceOwnerUnbindFocus=null}this.__cbOnFocus=null,this.__cbOnceFocus=null}},listensFocus:function(){return null!=this.__cbOnFocus&&0<this.__cbOnFocus.length||null!=this.__cbOnceFocus&&0<this.__cbOnceFocus.length},__cbOnBlur:null,__cbOnceBlur:null,__cbOnOwnerUnbindBlur:null,__cbOnceOwnerUnbindBlur:null,emitBlur:function(e){var n=0;if(null!=this.__cbOnBlur&&(n+=this.__cbOnBlur.length),null!=this.__cbOnceBlur&&(n+=this.__cbOnceBlur.length),0<n){var t=C.pool(n),i=t.get(),l=0;if(null!=this.__cbOnBlur)for(var s=0,r=this.__cbOnBlur.length;s<r;){var h=s++;!0?(i.vector[l]=this.__cbOnBlur[h],++l):--n}if(null!=this.__cbOnceBlur){for(var a=null,o=null,s=0,r=this.__cbOnceBlur.length;s<r;){var c,h=s++;!0?(i.vector[l]=this.__cbOnceBlur[h],this.__cbOnceBlur[h]=null,c=this.__cbOnceOwnerUnbindBlur[h],(this.__cbOnceOwnerUnbindBlur[h]=null)!=c&&c(),++l):(--n,null==a&&(a=[],o=[],0),a.push(this.__cbOnceOwnerUnbindBlur[h]),o.push(this.__cbOnceBlur[h]))}this.__cbOnceOwnerUnbindBlur=a,this.__cbOnceBlur=o}for(s=0,r=n;s<r;){l=s++;(0,i.vector[l])(e)}t.release(i)}},onBlur:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event blur because owner is destroyed!");var l=function(e){null!=t&&(i.offBlur(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindBlur&&(this.__cbOnOwnerUnbindBlur=[]),this.__cbOnOwnerUnbindBlur.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindBlur&&(this.__cbOnOwnerUnbindBlur=[]),this.__cbOnOwnerUnbindBlur.push(null);null==this.__cbOnBlur&&(this.__cbOnBlur=[]),this.__cbOnBlur.push(t)},onceBlur:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event blur because owner is destroyed!");var l=function(e){null!=t&&(i.offBlur(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindBlur&&(this.__cbOnceOwnerUnbindBlur=[]),this.__cbOnceOwnerUnbindBlur.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindBlur&&(this.__cbOnceOwnerUnbindBlur=[]),this.__cbOnceOwnerUnbindBlur.push(null);null==this.__cbOnceBlur&&(this.__cbOnceBlur=[]),this.__cbOnceBlur.push(t)},offBlur:function(e){if(null!=e){var n;null!=this.__cbOnBlur&&-1!=(n=this.__cbOnBlur.indexOf(e))&&(this.__cbOnBlur.splice(n,1),null!=(s=this.__cbOnOwnerUnbindBlur[n])&&s(),this.__cbOnOwnerUnbindBlur.splice(n,1)),null!=this.__cbOnceBlur&&-1!=(n=this.__cbOnceBlur.indexOf(e))&&(this.__cbOnceBlur.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindBlur[n])&&s(),this.__cbOnceOwnerUnbindBlur.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindBlur){for(var t=0,i=this.__cbOnOwnerUnbindBlur.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindBlur[l])&&s()}this.__cbOnOwnerUnbindBlur=null}if(null!=this.__cbOnceOwnerUnbindBlur){for(t=0,i=this.__cbOnceOwnerUnbindBlur.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindBlur[l])&&s()}this.__cbOnceOwnerUnbindBlur=null}this.__cbOnBlur=null,this.__cbOnceBlur=null}},listensBlur:function(){return null!=this.__cbOnBlur&&0<this.__cbOnBlur.length||null!=this.__cbOnceBlur&&0<this.__cbOnceBlur.length},backendReady:function(){var O=this;ae.app.backend.screen.onResize(this,$bind(this,this.resize)),this.resize(),ae.app.settings.onBackgroundChange(this,function(e,n){ae.app.backend.screen.setBackground(e)}),ae.app.settings.onTitleChange(this,function(e,n){ae.app.backend.screen.setWindowTitle(e)}),ae.app.settings.onFullscreenChange(this,function(e,n){ae.app.backend.screen.setWindowFullscreen(e)}),ae.app.settings.onScalingChange(this,function(e,n){O.resize()}),ae.app.settings.onTargetWidthChange(this,function(e,n){O.resize()}),ae.app.settings.onTargetHeightChange(this,function(e,n){O.resize()}),ae.app.settings.onTargetDensityChange(this,function(e,n){O.updateTexturesDensity()}),this.matrix.onChange(this,function(){(e=O.reverseMatrix).a=1,e.b=0,e.c=0,e.d=1,e.tx=0,e.ty=0,e.changedDirty=!0;var e=O.reverseMatrix,n=O.matrix,t=e.a*n.a+e.b*n.c,i=(e.b=e.a*n.b+e.b*n.d,e.a=t,e.c*n.a+e.d*n.c),i=(e.d=e.c*n.b+e.d*n.d,e.c=i,e.tx*n.a+e.ty*n.c+n.tx);e.ty=e.tx*n.b+e.ty*n.d+n.ty,e.tx=i,e.changedDirty=!0;n=(e=O.reverseMatrix).a*e.d-e.b*e.c;0==n?(e.a=e.b=e.c=e.d=0,e.tx=-e.tx,e.ty=-e.ty):(t=e.d*(n=1/n),e.d=e.a*n,e.a=t,e.b*=-n,e.c*=-n,i=-e.a*e.tx-e.c*e.ty,e.ty=-e.b*e.tx-e.d*e.ty,e.tx=i),e.changedDirty=!0,O.reverseMatrix.emitChange()}),ae.app.backend.screen.onMouseDown(this,function(d,b,g){ae.app.beginUpdateCallbacks.push(function(){ae.app.flushImmediate();for(var e=b*ee.app.screenDensity,n=g*ee.app.screenDensity,t=O.reverseMatrix,i=e*t.a+n*t.c+t.tx,e=e*(t=O.reverseMatrix).b+n*t.d+t.ty,n=new Kt(-1,d,i,e,0<=i&&i<=O.width&&0<=e&&e<=O.height),t=(-1!=n.buttonId&&(O.mouseX=n.x,O.mouseY=n.y),-1!=n.touchIndex&&(null==(u=O.touches.get(n.touchIndex))?(u=new Xt(n.touchIndex,n.x,n.y,0,0),O.touches.set(n.touchIndex,u)):(u.x=n.x,u.y=n.y)),O.pointerX),l=O.pointerY,s=0,r=0,h=0,a=O.touches,o=0,c=a.values.length;;){for(;o<c&&null==a.values[o];)++o;if(!(o<c))break;var u,_=o++;++s,r+=(u=a.values[_]).x,h+=u.y}0<s?(O.pointerX=r/s,O.pointerY=h/s):(O.pointerX=O.mouseX,O.pointerY=O.mouseY),O.pointerDeltaX+=O.pointerX-t,O.pointerDeltaY+=O.pointerY-l,O.emitMouseDown(d,i,e),O._numPointerDown++,O.emitMultiTouchPointerDown(n),1==O._numPointerDown&&O.emitPointerDown(n)})}),ae.app.backend.screen.onMouseUp(this,function(d,b,g){ae.app.beginUpdateCallbacks.push(function(){ae.app.flushImmediate();for(var e=b*ee.app.screenDensity,n=g*ee.app.screenDensity,t=O.reverseMatrix,i=e*t.a+n*t.c+t.tx,e=e*(t=O.reverseMatrix).b+n*t.d+t.ty,n=new Kt(-1,d,i,e,0<=i&&i<=O.width&&0<=e&&e<=O.height),t=(-1!=n.buttonId&&(O.mouseX=n.x,O.mouseY=n.y),-1!=n.touchIndex&&(null==(u=O.touches.get(n.touchIndex))?(u=new Xt(n.touchIndex,n.x,n.y,0,0),O.touches.set(n.touchIndex,u)):(u.x=n.x,u.y=n.y)),O.pointerX),l=O.pointerY,s=0,r=0,h=0,a=O.touches,o=0,c=a.values.length;;){for(;o<c&&null==a.values[o];)++o;if(!(o<c))break;var u,_=o++;++s,r+=(u=a.values[_]).x,h+=u.y}0<s?(O.pointerX=r/s,O.pointerY=h/s):(O.pointerX=O.mouseX,O.pointerY=O.mouseY),O.pointerDeltaX+=O.pointerX-t,O.pointerDeltaY+=O.pointerY-l,-1!=n.touchIndex&&O.touches.set(n.touchIndex,null),O.emitMouseUp(d,i,e),O._numPointerDown--,O.emitMultiTouchPointerUp(n),0==O._numPointerDown&&O.emitPointerUp(n)})}),ae.app.backend.screen.onMouseMove(this,function(d,b){ae.app.beginUpdateCallbacks.push(function(){ae.app.flushImmediate();for(var e=d*ee.app.screenDensity,n=b*ee.app.screenDensity,t=O.reverseMatrix,i=e*t.a+n*t.c+t.tx,e=e*(t=O.reverseMatrix).b+n*t.d+t.ty,n=new Kt(-1,-1,i,e,0<=i&&i<=O.width&&0<=e&&e<=O.height),t=(O.mouseX=n.x,O.mouseY=n.y,-1!=n.touchIndex&&(null==(u=O.touches.get(n.touchIndex))?(u=new Xt(n.touchIndex,n.x,n.y,0,0),O.touches.set(n.touchIndex,u)):(u.x=n.x,u.y=n.y)),O.pointerX),l=O.pointerY,s=0,r=0,h=0,a=O.touches,o=0,c=a.values.length;;){for(;o<c&&null==a.values[o];)++o;if(!(o<c))break;var u,_=o++;++s,r+=(u=a.values[_]).x,h+=u.y}0<s?(O.pointerX=r/s,O.pointerY=h/s):(O.pointerX=O.mouseX,O.pointerY=O.mouseY),O.pointerDeltaX+=O.pointerX-t,O.pointerDeltaY+=O.pointerY-l,O.emitMouseMove(i,e),O.emitMultiTouchPointerMove(n),O.emitPointerMove(n)})}),ae.app.backend.screen.onMouseWheel(this,function(e,n){ae.app.beginUpdateCallbacks.push(function(){O.emitMouseWheel(e,n)})}),ae.app.backend.screen.onTouchDown(this,function(d,b,g){ae.app.beginUpdateCallbacks.push(function(){ae.app.flushImmediate();for(var e=b*ee.app.screenDensity,n=g*ee.app.screenDensity,t=O.reverseMatrix,i=e*t.a+n*t.c+t.tx,e=e*(t=O.reverseMatrix).b+n*t.d+t.ty,n=new Kt(d,-1,i,e,0<=i&&i<=O.width&&0<=e&&e<=O.height),t=(-1!=n.buttonId&&(O.mouseX=n.x,O.mouseY=n.y),-1!=n.touchIndex&&(null==(u=O.touches.get(n.touchIndex))?(u=new Xt(n.touchIndex,n.x,n.y,0,0),O.touches.set(n.touchIndex,u)):(u.x=n.x,u.y=n.y)),O.pointerX),l=O.pointerY,s=0,r=0,h=0,a=O.touches,o=0,c=a.values.length;;){for(;o<c&&null==a.values[o];)++o;if(!(o<c))break;var u,_=o++;++s,r+=(u=a.values[_]).x,h+=u.y}0<s?(O.pointerX=r/s,O.pointerY=h/s):(O.pointerX=O.mouseX,O.pointerY=O.mouseY),O.pointerDeltaX+=O.pointerX-t,O.pointerDeltaY+=O.pointerY-l,O.emitTouchDown(d,i,e),O._numPointerDown++,O.emitMultiTouchPointerDown(n),1==O._numPointerDown&&O.emitPointerDown(n)})}),ae.app.backend.screen.onTouchUp(this,function(d,b,g){ae.app.beginUpdateCallbacks.push(function(){ae.app.flushImmediate();for(var e=b*ee.app.screenDensity,n=g*ee.app.screenDensity,t=O.reverseMatrix,i=e*t.a+n*t.c+t.tx,e=e*(t=O.reverseMatrix).b+n*t.d+t.ty,n=new Kt(d,-1,i,e,0<=i&&i<=O.width&&0<=e&&e<=O.height),t=(-1!=n.buttonId&&(O.mouseX=n.x,O.mouseY=n.y),-1!=n.touchIndex&&(null==(u=O.touches.get(n.touchIndex))?(u=new Xt(n.touchIndex,n.x,n.y,0,0),O.touches.set(n.touchIndex,u)):(u.x=n.x,u.y=n.y)),O.pointerX),l=O.pointerY,s=0,r=0,h=0,a=O.touches,o=0,c=a.values.length;;){for(;o<c&&null==a.values[o];)++o;if(!(o<c))break;var u,_=o++;++s,r+=(u=a.values[_]).x,h+=u.y}0<s?(O.pointerX=r/s,O.pointerY=h/s):(O.pointerX=O.mouseX,O.pointerY=O.mouseY),O.pointerDeltaX+=O.pointerX-t,O.pointerDeltaY+=O.pointerY-l,-1!=n.touchIndex&&O.touches.set(n.touchIndex,null),O.emitTouchUp(d,i,e),O._numPointerDown--,O.emitMultiTouchPointerUp(n),0==O._numPointerDown&&O.emitPointerUp(n)})}),ae.app.backend.screen.onTouchMove(this,function(d,b,g){ae.app.beginUpdateCallbacks.push(function(){ae.app.flushImmediate();for(var e=b*ee.app.screenDensity,n=g*ee.app.screenDensity,t=O.reverseMatrix,i=e*t.a+n*t.c+t.tx,e=e*(t=O.reverseMatrix).b+n*t.d+t.ty,n=new Kt(d,-1,i,e,0<=i&&i<=O.width&&0<=e&&e<=O.height),t=(-1!=n.touchIndex&&(null==(u=O.touches.get(n.touchIndex))?(u=new Xt(n.touchIndex,n.x,n.y,0,0),O.touches.set(n.touchIndex,u)):(u.x=n.x,u.y=n.y)),O.pointerX),l=O.pointerY,s=0,r=0,h=0,a=O.touches,o=0,c=a.values.length;;){for(;o<c&&null==a.values[o];)++o;if(!(o<c))break;var u,_=o++;++s,r+=(u=a.values[_]).x,h+=u.y}0<s?(O.pointerX=r/s,O.pointerY=h/s):(O.pointerX=O.mouseX,O.pointerY=O.mouseY),O.pointerDeltaX+=O.pointerX-t,O.pointerDeltaY+=O.pointerY-l,O.emitTouchMove(d,i,e),O.emitMultiTouchPointerMove(n),0<O._numPointerDown&&O.emitPointerMove(n)})})},updatePointerOverState:function(e){for(var n=this.mouseX,t=this.mouseY,i=1e4,l=this.matchedOverListeners.h[i],s=((a=this.matchFirstOverListener(n,t))!=l&&(null!=a?this.matchedOverListeners.h[i]=a:this.matchedOverListeners.remove(i)),null!=l&&l!=a&&0<=l._lifecycleState&&0<l._numPointerOver&&(l._numPointerOver--,0!=l._numPointerOver&&!l.multiTouch||l.emitPointerOut(new Kt(-1,-1,n,t,!1))),null!=a&&l!=a&&(a._numPointerOver++,1!=a._numPointerOver&&!a.multiTouch||a.emitPointerOver(new Kt(-1,-1,n,t,!0))),this.touches),r=0,h=s.values.length;;){for(;r<h&&null==s.values[r];)++r;if(!(r<h))break;var a,o=r++,o=s.values[o],n=o.x,t=o.y,i=2e4+o.index,l=this.matchedOverListeners.h[i];(a=this.matchFirstOverListener(n,t))!=l&&(null!=a?this.matchedOverListeners.h[i]=a:this.matchedOverListeners.remove(i)),null!=l&&l!=a&&0<=l._lifecycleState&&0<l._numPointerOver&&(l._numPointerOver--,0!=l._numPointerOver&&!l.multiTouch||l.emitPointerOut(new Kt(-1,-1,n,t,!1))),null!=a&&l!=a&&(a._numPointerOver++,1!=a._numPointerOver&&!a.multiTouch||a.emitPointerOver(new Kt(-1,-1,n,t,!0)))}},resize:function(){var e,n,t;this.resizing||(this.resizing=!0,this.updateScaling(),e=ae.app.settings.get_scaling(),n=ae.app.settings.get_targetWidth(),t=ae.app.settings.get_targetHeight(),this.emitResize(),e==ae.app.settings.get_scaling()&&n==ae.app.settings.get_targetWidth()&&t==ae.app.settings.get_targetHeight()||this.updateScaling(),this.updateTransform(),this.updateTexturesDensity(),this.resizing=!1)},updateTexturesDensity:function(){var e;0<ae.app.settings.get_targetDensity()?this.set_texturesDensity(ae.app.settings.get_targetDensity()):(e=(e=this.density)<1?1:Math.round(e),this.set_texturesDensity(e))},updateScaling:function(){var e,n=0<ae.app.settings.get_targetWidth()?ae.app.settings.get_targetWidth():ee.app.screenWidth,t=0<ae.app.settings.get_targetHeight()?ae.app.settings.get_targetHeight():ee.app.screenHeight;switch(ae.app.settings.get_scaling()._hx_index){case 0:e=Math.max(n/(ee.app.screenWidth*ee.app.screenDensity),t/(ee.app.screenHeight*ee.app.screenDensity));break;case 1:e=Math.min(n/(ee.app.screenWidth*ee.app.screenDensity),t/(ee.app.screenHeight*ee.app.screenDensity));break;case 2:n=ee.app.screenWidth,t=ee.app.screenHeight,e=Math.max(n/(ee.app.screenWidth*ee.app.screenDensity),t/(ee.app.screenHeight*ee.app.screenDensity));break;case 3:var i=ee.app.screenHeight/ee.app.screenWidth,l=t/n;l<i?t=n*i:i<l&&(n=t/i),n=Math.ceil(n),t=Math.ceil(t),e=Math.max(n/(ee.app.screenWidth*ee.app.screenDensity),t/(ee.app.screenHeight*ee.app.screenDensity))}switch(this.actualWidth=Math.ceil(ee.app.screenWidth*ee.app.screenDensity*e),this.actualHeight=Math.ceil(ee.app.screenHeight*ee.app.screenDensity*e),this.density=1/e,ae.app.settings.get_scaling()._hx_index){case 0:case 1:this.offsetX=.5*(this.actualWidth-n),this.offsetY=.5*(this.actualHeight-t);break;case 2:case 3:this.offsetX=0,this.offsetY=0}this.width=n,this.height=t},updateTransform:function(){var e=0<ae.app.settings.get_targetWidth()?ae.app.settings.get_targetWidth()*this.density:ee.app.screenWidth*ee.app.screenDensity,n=0<ae.app.settings.get_targetHeight()?ae.app.settings.get_targetHeight()*this.density:ee.app.screenHeight*ee.app.screenDensity;switch(ae.app.settings.get_scaling()._hx_index){case 2:e=ee.app.screenWidth*ee.app.screenDensity,n=ee.app.screenHeight*ee.app.screenDensity;break;case 3:var t=ee.app.screenHeight/ee.app.screenWidth,i=n/e;i<t?n=e*t:t<i&&(e=n/t)}(l=this.matrix).a=1,l.b=0,l.c=0,l.d=1,l.tx=0,l.ty=0,l.changedDirty=!0;var l=this.matrix,s=this.density,r=this.density,s=(l.a*=s,l.b*=r,l.c*=s,l.d*=r,l.tx*=s,l.ty*=r,l.changedDirty=!0,.5*(ee.app.screenWidth*ee.app.screenDensity-e)),r=.5*(ee.app.screenHeight*ee.app.screenDensity-n);(l=this.matrix).tx+=s,l.ty+=r,l.changedDirty=!0},matchFirstDownListener:function(e,n,t,i){null==i&&(i=-1),null==t&&(t=-1),ae.app.computeHierarchy();for(var l=0;l<2;)for(var s=l++,r=(nt.matchedHitVisual=null,0==s),h=ae.app.visuals,a=h.length-1;0<=a;){var o=h[a];if(0<=o._lifecycleState&&o.computedTouchable){var c=null!=o.__cbOnPointerDown&&0<o.__cbOnPointerDown.length||null!=o.__cbOncePointerDown&&0<o.__cbOncePointerDown.length,u=!1,_=!1;if(c&&(u=o._hits(e,n,!1))&&(_=o.interceptPointerDown(o,e,n,t,i)),u&&!_||r&&this.isHitVisual(o)&&o._hits(e,n,!1)){var d=!1;if(c)for(var b=o.parent;null!=b&&!(d=b.interceptPointerDown(o,e,n,t,i));)b=b.parent;if(!d){if(c||!r||!this.isHitVisual(o))return nt.matchedHitVisual=null,o;nt.matchedHitVisual=o}}}--a}return nt.matchedHitVisual=null},matchFirstOverListener:function(e,n){if(this.visualsListenPointerOver){ae.app.computeHierarchy();for(var t=0;t<2;)for(var i=t++,l=(nt.matchedHitVisual=null,0==i),s=ae.app.visuals,r=s.length-1;0<=r;){var h=s[r];if(0<=h._lifecycleState&&h.computedTouchable){var a=null!=h.__cbOnPointerOver&&0<h.__cbOnPointerOver.length||null!=h.__cbOncePointerOver&&0<h.__cbOncePointerOver.length,o=!1,c=!1;if(a&&(o=h._hits(e,n,!1))&&(c=h.interceptPointerOver(h,e,n)),o&&!c||l&&this.isHitVisual(h)&&h._hits(e,n,!1)){var u=!1;if(a)for(var _=h.parent;null!=_&&!(u=_.interceptPointerOver(h,e,n));)_=_.parent;if(!u){if(a||!l||!this.isHitVisual(h))return nt.matchedHitVisual=null,h;nt.matchedHitVisual=h}}}--r}nt.matchedHitVisual=null}return null},prepareMultiTouchPointerDown:function(e){-1!=e.buttonId&&(this.mouseX=e.x,this.mouseY=e.y),-1!=e.touchIndex&&(null==(a=this.touches.get(e.touchIndex))?(a=new Xt(e.touchIndex,e.x,e.y,0,0),this.touches.set(e.touchIndex,a)):(a.x=e.x,a.y=e.y));for(var e=this.pointerX,n=this.pointerY,t=0,i=0,l=0,s=this.touches,r=0,h=s.values.length;;){for(;r<h&&null==s.values[r];)++r;if(!(r<h))break;var a,o=r++;++t,i+=(a=s.values[o]).x,l+=a.y}0<t?(this.pointerX=i/t,this.pointerY=l/t):(this.pointerX=this.mouseX,this.pointerY=this.mouseY),this.pointerDeltaX+=this.pointerX-e,this.pointerDeltaY+=this.pointerY-n},prepareMultiTouchPointerUp:function(e){-1!=e.buttonId&&(this.mouseX=e.x,this.mouseY=e.y),-1!=e.touchIndex&&(null==(o=this.touches.get(e.touchIndex))?(o=new Xt(e.touchIndex,e.x,e.y,0,0),this.touches.set(e.touchIndex,o)):(o.x=e.x,o.y=e.y));for(var n=this.pointerX,t=this.pointerY,i=0,l=0,s=0,r=this.touches,h=0,a=r.values.length;;){for(;h<a&&null==r.values[h];)++h;if(!(h<a))break;var o,c=h++;++i,l+=(o=r.values[c]).x,s+=o.y}0<i?(this.pointerX=l/i,this.pointerY=s/i):(this.pointerX=this.mouseX,this.pointerY=this.mouseY),this.pointerDeltaX+=this.pointerX-n,this.pointerDeltaY+=this.pointerY-t,-1!=e.touchIndex&&this.touches.set(e.touchIndex,null)},prepareMultiTouchPointerMove:function(e,n){n&&(this.mouseX=e.x,this.mouseY=e.y),-1!=e.touchIndex&&(null==(a=this.touches.get(e.touchIndex))?(a=new Xt(e.touchIndex,e.x,e.y,0,0),this.touches.set(e.touchIndex,a)):(a.x=e.x,a.y=e.y));for(var n=this.pointerX,e=this.pointerY,t=0,i=0,l=0,s=this.touches,r=0,h=s.values.length;;){for(;r<h&&null==s.values[r];)++r;if(!(r<h))break;var a,o=r++;++t,i+=(a=s.values[o]).x,l+=a.y}0<t?(this.pointerX=i/t,this.pointerY=l/t):(this.pointerX=this.mouseX,this.pointerY=this.mouseY),this.pointerDeltaX+=this.pointerX-n,this.pointerDeltaY+=this.pointerY-e},updatePointer:function(){for(var e=this.pointerX,n=this.pointerY,t=0,i=0,l=0,s=this.touches,r=0,h=s.values.length;;){for(;r<h&&null==s.values[r];)++r;if(!(r<h))break;var a=r++,a=s.values[a];++t,i+=a.x,l+=a.y}0<t?(this.pointerX=i/t,this.pointerY=l/t):(this.pointerX=this.mouseX,this.pointerY=this.mouseY),this.pointerDeltaX+=this.pointerX-e,this.pointerDeltaY+=this.pointerY-n},canEmitMultiTouchPointerDown:function(e){var n=!1;return null!=G.get_context().focusedWindow?null!=e&&(n=Y._filterEventOwner(e)):n=!0,n},canEmitMultiTouchPointerMove:function(e){var n=!1;return null!=G.get_context().focusedWindow?null!=e&&(n=Y._filterEventOwner(e)):n=!0,n},canEmitMultiTouchPointerUp:function(e){var n=!1;return null!=G.get_context().focusedWindow?null!=e&&(n=Y._filterEventOwner(e)):n=!0,n},canEmitMouseDown:function(e){var n=!1;return null!=G.get_context().focusedWindow?null!=e&&(n=Y._filterEventOwner(e)):n=!0,n},canEmitMouseMove:function(e){var n=!1;return null!=G.get_context().focusedWindow?null!=e&&(n=Y._filterEventOwner(e)):n=!0,n},canEmitMouseUp:function(e){var n=!1;return null!=G.get_context().focusedWindow?null!=e&&(n=Y._filterEventOwner(e)):n=!0,n},canEmitTouchDown:function(e){var n=!1;return null!=G.get_context().focusedWindow?null!=e&&(n=Y._filterEventOwner(e)):n=!0,n},canEmitTouchMove:function(e){var n=!1;return null!=G.get_context().focusedWindow?null!=e&&(n=Y._filterEventOwner(e)):n=!0,n},canEmitTouchUp:function(e){var n=!1;return null!=G.get_context().focusedWindow?null!=e&&(n=Y._filterEventOwner(e)):n=!0,n},canEmitPointerDown:function(e){var n=!1;return null!=G.get_context().focusedWindow?null!=e&&(n=Y._filterEventOwner(e)):n=!0,n},canEmitPointerMove:function(e){var n=!1;return null!=G.get_context().focusedWindow?null!=e&&(n=Y._filterEventOwner(e)):n=!0,n},canEmitPointerUp:function(e){var n=!1;return null!=G.get_context().focusedWindow?null!=e&&(n=Y._filterEventOwner(e)):n=!0,n},matchedDownListeners:null,matchedOverListeners:null,didEmitMouseDown:function(e,n,t){var i=this.matchFirstDownListener(n,t,-1,e);null!=i&&(i._numPointerDown++,1!=i._numPointerDown&&!i.multiTouch||(ae.app.screen.set_focusedVisual(i),i.emitPointerDown(new Kt(-1,e,n,t,!0)))),this.matchedDownListeners.h[1e4+e]=i},didEmitMouseUp:function(e,n,t){var i=1e4+e,l=this.matchedDownListeners.h[i];null!=l&&0<=l._lifecycleState&&0<l._numPointerDown&&(l._numPointerDown--,0!=l._numPointerDown&&!l.multiTouch||l.emitPointerUp(new Kt(-1,e,n,t,l._hits(n,t,!1)))),this.matchedDownListeners.remove(i)},updateMouseOver:function(e,n){var t=this.matchedOverListeners.h[1e4],i=this.matchFirstOverListener(e,n);i!=t&&(null!=i?this.matchedOverListeners.h[1e4]=i:this.matchedOverListeners.remove(1e4)),null!=t&&t!=i&&0<=t._lifecycleState&&0<t._numPointerOver&&(t._numPointerOver--,0!=t._numPointerOver&&!t.multiTouch||t.emitPointerOut(new Kt(-1,-1,e,n,!1))),null!=i&&t!=i&&(i._numPointerOver++,1!=i._numPointerOver&&!i.multiTouch||i.emitPointerOver(new Kt(-1,-1,e,n,!0)))},didEmitTouchDown:function(e,n,t){var i=this.matchFirstDownListener(n,t,e,-1);null!=i&&(i._numPointerDown++,1!=i._numPointerDown&&!i.multiTouch||(ae.app.screen.set_focusedVisual(i),i.emitPointerDown(new Kt(e,-1,n,t,!0)))),this.matchedDownListeners.h[2e4+e]=i},didEmitTouchUp:function(e,n,t){var i=2e4+e,l=this.matchedDownListeners.h[i];null!=l&&0<=l._lifecycleState&&0<l._numPointerDown&&(l._numPointerDown--,0!=l._numPointerDown&&!l.multiTouch||l.emitPointerUp(new Kt(e,-1,n,t,l._hits(n,t,!1)))),this.matchedDownListeners.remove(i)},updateTouchOver:function(e,n,t){var e=2e4+e,i=this.matchedOverListeners.h[e],l=this.matchFirstOverListener(n,t);l!=i&&(null!=l?this.matchedOverListeners.h[e]=l:this.matchedOverListeners.remove(e)),null!=i&&i!=l&&0<=i._lifecycleState&&0<i._numPointerOver&&(i._numPointerOver--,0!=i._numPointerOver&&!i.multiTouch||i.emitPointerOut(new Kt(-1,-1,n,t,!1))),null!=l&&i!=l&&(l._numPointerOver++,1!=l._numPointerOver&&!l.multiTouch||l.emitPointerOver(new Kt(-1,-1,n,t,!0)))},hitVisuals:null,addHitVisual:function(e){var n=8==(8&e.flags);this.hitVisuals.push(e),n||(e.flags|=8)},removeHitVisual:function(e){var n=this.hitVisuals.indexOf(e);-1==n?ae.app.logger.warning("Hit visual not removed from hitVisuals because it was not added at the first place",{fileName:"../../../../ceramic/runtime/src/ceramic/Screen.hx",lineNumber:1349,className:"ceramic.Screen",methodName:"removeHitVisual"}):(this.hitVisuals.splice(n,1),-1==this.hitVisuals.indexOf(e)&&(e.flags&=-9))},isHitVisual:function(e){return 8==(8&e.flags)},resetDeltas:function(){this.pointerDeltaX=0,this.pointerDeltaY=0,this.mouseDeltaX=0,this.mouseDeltaY=0,this.mouseWheelDeltaX=0;for(var e=this.mouseWheelDeltaY=0;e<=this.maxTouchIndex;){var n=this.touches.get(e);null!=n&&(n.deltaX=0,n.deltaY=0),++e}},willEmitMouseMove:function(e,n){this.mouseDeltaX+=e-this.prevMouseX,this.mouseDeltaY+=n-this.prevMouseY,this.prevMouseX=e,this.prevMouseY=n},willEmitMouseDown:function(n,e,t){var i=this,l=(this.prevMouseX=e,this.prevMouseY=t,this.pressedMouseButtons.intMap.h[0|n]),l=null!=l?l:0,l=(this.pressedMouseButtons.set(n,(l=-1==l?0:l)+1),0==l&&ae.app.beginUpdateCallbacks.push(function(){var e=i.pressedMouseButtons.intMap.h[0|n];1==(null!=e?e:0)&&i.pressedMouseButtons.set(n,2)}),G.get_context());null==l||null==l.focusedWindow||null!=(l=this.matchFirstDownListener(e,t,-1,n))&&(e=!1,null!=G.get_context().focusedWindow?null!=l&&(e=Y._filterEventOwner(l)):e=!0,e)||this.set_focusedVisual(null)},willEmitMouseUp:function(n,e,t){var i=this;this.pressedMouseButtons.set(n,-1),ae.app.beginUpdateCallbacks.push(function(){var e=i.pressedMouseButtons.intMap.h[0|n];-1==(null!=e?e:0)&&i.pressedMouseButtons.set(n,0)})},willEmitMouseWheel:function(e,n){this.mouseWheelDeltaX+=e,this.mouseWheelDeltaY+=n},mouseAllowed:function(e){var n;return!nt._elementsImFocused()||(n=!1,null!=G.get_context().focusedWindow?null!=e&&(n=Y._filterEventOwner(e)):n=!0,n)},_mousePressed:function(e){e=this.pressedMouseButtons.intMap.h[0|e];return 0<(null!=e?e:0)},_mouseJustPressed:function(e){e=this.pressedMouseButtons.intMap.h[0|e];return 1==(null!=e?e:0)},_mouseJustReleased:function(e){e=this.pressedMouseButtons.intMap.h[0|e];return-1==(null!=e?e:0)},willEmitTouchMove:function(e,n,t){e>this.maxTouchIndex&&(this.maxTouchIndex=e);var i=2*e,l=this.prevTouchPositions.intMap.h[0|i],s=null!=l?l:0,i=null!=(l=this.prevTouchPositions.intMap.h[0|1+i])?l:0,l=this.touches.get(e);null!=l&&(l.deltaX+=n-s,l.deltaY+=t-i)},willEmitTouchDown:function(n,e,t){var i=this,l=2*n,s=1+l,l=(this.prevTouchPositions.set(l,e),this.prevTouchPositions.set(s,t),this.pressedTouches.intMap.h[0|n]),s=null!=l?l:0,l=(this.pressedTouches.set(n,(s=-1==s?0:s)+1),0==s&&ae.app.beginUpdateCallbacks.push(function(){var e=i.pressedTouches.intMap.h[0|n];1==(null!=e?e:0)&&i.pressedTouches.set(n,2)}),G.get_context());null==l||null==l.focusedWindow||null!=(s=this.matchFirstDownListener(e,t,n,-1))&&(l=!1,null!=G.get_context().focusedWindow?null!=s&&(l=Y._filterEventOwner(s)):l=!0,l)||this.set_focusedVisual(null)},willEmitTouchUp:function(n,e,t){var i=this,l=this.pressedTouches.intMap.h[0|n];1==(null!=l?l:0)?this.pressedTouches.set(n,-2):this.pressedTouches.set(n,-1),ae.app.beginUpdateCallbacks.push(function(){var e=i.pressedTouches.intMap.h[0|n],e=null!=e?e:0;-1!=e&&-2!=e||i.pressedTouches.set(n,0)})},_touchPressed:function(e){e=this.pressedTouches.intMap.h[0|e];return 0<(null!=e?e:0)},_touchJustPressed:function(e){e=this.pressedTouches.intMap.h[0|e],e=null!=e?e:0;return 1==e||-2==e},_touchJustReleased:function(e){e=this.pressedTouches.intMap.h[0|e],e=null!=e?e:0;return-1==e||-2==e},touchDeltaX:function(e){e=this.touches.get(e);return null!=e?e.deltaX:0},touchDeltaY:function(e){e=this.touches.get(e);return null!=e?e.deltaY:0},toTexture:function(n){ae.app.backend.screen.screenshotToTexture(function(e){null!=e?(e=new Kn(e,ee.app.screenDensity),n(e)):n(null)})},toPixels:function(e){ae.app.backend.screen.screenshotToPixels(e)},_toPng:function(e,n){ae.app.onceFinishDraw(this,function(){ae.app.backend.screen.screenshotToPng(e,n)})},unbindEvents:function(){j.prototype.unbindEvents.call(this),this.offObservedDirty(),this.offFocusedVisualChange(),this.offTexturesDensityChange(),this.offResize(),this.offMouseDown(),this.offMouseUp(),this.offMouseWheel(),this.offMouseMove(),this.offTouchDown(),this.offTouchUp(),this.offTouchMove(),this.offPointerDown(),this.offPointerUp(),this.offPointerMove(),this.offMultiTouchPointerDown(),this.offMultiTouchPointerUp(),this.offMultiTouchPointerMove(),this.offFocus(),this.offBlur()},__class__:nt,__properties__:$extend(j.prototype.__properties__,{get_isPointerDown:"get_isPointerDown",set_texturesDensity:"set_texturesDensity",get_texturesDensity:"get_texturesDensity",set_unobservedFocusedVisual:"set_unobservedFocusedVisual",set_focusedVisual:"set_focusedVisual",get_focusedVisual:"get_focusedVisual",get_nativeDensity:"get_nativeDensity",get_nativeHeight:"get_nativeHeight",get_nativeWidth:"get_nativeWidth"})}),_e["ceramic.ScreenScaling"]={__ename__:"ceramic.ScreenScaling",__constructs__:null,FIT:{_hx_name:"FIT",_hx_index:0,__enum__:"ceramic.ScreenScaling",toString:c},FILL:{_hx_name:"FILL",_hx_index:1,__enum__:"ceramic.ScreenScaling",toString:c},RESIZE:{_hx_name:"RESIZE",_hx_index:2,__enum__:"ceramic.ScreenScaling",toString:c},FIT_RESIZE:{_hx_name:"FIT_RESIZE",_hx_index:3,__enum__:"ceramic.ScreenScaling",toString:c}}),it=(tt.__constructs__=[tt.FIT,tt.FILL,tt.RESIZE,tt.FIT_RESIZE],_e["ceramic.ScrollDirection"]={__ename__:"ceramic.ScrollDirection",__constructs__:null,HORIZONTAL:{_hx_name:"HORIZONTAL",_hx_index:0,__enum__:"ceramic.ScrollDirection",toString:c},VERTICAL:{_hx_name:"VERTICAL",_hx_index:1,__enum__:"ceramic.ScrollDirection",toString:c}}),lt=(it.__constructs__=[it.HORIZONTAL,it.VERTICAL],function(e){this.pageIndexOnStartDrag=0,this.pageMomentumThreshold=-1,this.pageSpacing=0,this.pageSize=-1,this.pagingEnabled=!1,this.scrollbarStartY=-1,this.scrollbarStartX=-1,this.scrollbarDownY=-1,this.scrollbarDownX=-1,this.blockingDefaultScroll=!1,this.pointerOnScrollerChild=!1,this.pointerOnScroller=!1,this.animating=!1,this.tweenY=null,this.tweenX=null,this.canClick=!1,this.lastWheelEventTime=-1,this.fromWheel=!1,this.releaseSnap=!1,this.momentum=0,this.scrollVelocity=null,this.touchIndex=-1,this.pointerStartY=0,this.pointerStartX=0,this.pointerStart=0,this.contentStart=0,this.position=0,this.dragThresholdStatus=0,this.prevPointerY=-99999999,this.prevPointerX=-99999999,this.touchableStrictHierarchy=!0,this.dragFactor=1,this.bounceNoMomentumDuration=.1,this.bounceDurationFactor=4e-5,this.bounceMinDuration=.08,this.bounceMomentumFactor=75e-5,this.maxClickMomentum=100,this.overScrollResistance=5,this.wheelEndDelay=.25,this.wheelMomentum=!1,this.wheelFactor=1,this.wheelDeceleration=1600,this.deceleration=300,this.verticalToHorizontalWheel=!1,this.unobservedStatus=st.IDLE,this.statusAutoruns=null,this.roundScrollWhenIdle=1,this.noDragThreshold=0,this.dragThreshold=0,this.dragEnabled=!0,this.scrollEnabled=!0,this.scrollTransform=new l,this.allowPointerOutside=!0,this.direction=it.VERTICAL,this.scrollbar=null,this.content=null,this.observedDirty=!1,o.call(this),null==e&&(e=new o),(this.content=e).set_anchorX(0),e.set_anchorY(0),e.set_x(0),e.set_y(0),e.set_transform(this.scrollTransform),e.set_depth(1),this.add(e),this.scrollTransform.onChange(this,$bind(this,this.updateScrollbar)),this.onPointerDown(this,function(e){}),this.startTracking()}),st=((E["ceramic.Scroller"]=lt).__name__="ceramic.Scroller",lt.__interfaces__=[s],lt.__super__=o,lt.prototype=$extend(o.prototype,{__cbOnObservedDirty:null,__cbOnceObservedDirty:null,__cbOnOwnerUnbindObservedDirty:null,__cbOnceOwnerUnbindObservedDirty:null,emitObservedDirty:function(e,n){var t=0;if(null!=this.__cbOnObservedDirty&&(t+=this.__cbOnObservedDirty.length),null!=this.__cbOnceObservedDirty&&(t+=this.__cbOnceObservedDirty.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnObservedDirty)for(var r=0,h=this.__cbOnObservedDirty.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnObservedDirty[a],++s):--t}if(null!=this.__cbOnceObservedDirty){for(var o=null,c=null,r=0,h=this.__cbOnceObservedDirty.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceObservedDirty[a],this.__cbOnceObservedDirty[a]=null,u=this.__cbOnceOwnerUnbindObservedDirty[a],(this.__cbOnceOwnerUnbindObservedDirty[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindObservedDirty[a]),c.push(this.__cbOnceObservedDirty[a]))}this.__cbOnceOwnerUnbindObservedDirty=o,this.__cbOnceObservedDirty=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onObservedDirty:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event observedDirty because owner is destroyed!");var l=function(e){null!=t&&(i.offObservedDirty(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push(null);null==this.__cbOnObservedDirty&&(this.__cbOnObservedDirty=[]),this.__cbOnObservedDirty.push(t)},onceObservedDirty:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event observedDirty because owner is destroyed!");var l=function(e){null!=t&&(i.offObservedDirty(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push(null);null==this.__cbOnceObservedDirty&&(this.__cbOnceObservedDirty=[]),this.__cbOnceObservedDirty.push(t)},offObservedDirty:function(e){if(null!=e){var n;null!=this.__cbOnObservedDirty&&-1!=(n=this.__cbOnObservedDirty.indexOf(e))&&(this.__cbOnObservedDirty.splice(n,1),null!=(s=this.__cbOnOwnerUnbindObservedDirty[n])&&s(),this.__cbOnOwnerUnbindObservedDirty.splice(n,1)),null!=this.__cbOnceObservedDirty&&-1!=(n=this.__cbOnceObservedDirty.indexOf(e))&&(this.__cbOnceObservedDirty.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindObservedDirty[n])&&s(),this.__cbOnceOwnerUnbindObservedDirty.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindObservedDirty){for(var t=0,i=this.__cbOnOwnerUnbindObservedDirty.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindObservedDirty[l])&&s()}this.__cbOnOwnerUnbindObservedDirty=null}if(null!=this.__cbOnceOwnerUnbindObservedDirty){for(t=0,i=this.__cbOnceOwnerUnbindObservedDirty.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindObservedDirty[l])&&s()}this.__cbOnceOwnerUnbindObservedDirty=null}this.__cbOnObservedDirty=null,this.__cbOnceObservedDirty=null}},listensObservedDirty:function(){return null!=this.__cbOnObservedDirty&&0<this.__cbOnObservedDirty.length||null!=this.__cbOnceObservedDirty&&0<this.__cbOnceObservedDirty.length},observedDirty:null,__cbOnAnimateStart:null,__cbOnceAnimateStart:null,__cbOnOwnerUnbindAnimateStart:null,__cbOnceOwnerUnbindAnimateStart:null,emitAnimateStart:function(){var e=0;if(null!=this.__cbOnAnimateStart&&(e+=this.__cbOnAnimateStart.length),null!=this.__cbOnceAnimateStart&&(e+=this.__cbOnceAnimateStart.length),0<e){var n=C.pool(e),t=n.get(),i=0;if(null!=this.__cbOnAnimateStart)for(var l=0,s=this.__cbOnAnimateStart.length;l<s;){var r=l++;!0?(t.vector[i]=this.__cbOnAnimateStart[r],++i):--e}if(null!=this.__cbOnceAnimateStart){for(var h=null,a=null,l=0,s=this.__cbOnceAnimateStart.length;l<s;){var o,r=l++;!0?(t.vector[i]=this.__cbOnceAnimateStart[r],this.__cbOnceAnimateStart[r]=null,o=this.__cbOnceOwnerUnbindAnimateStart[r],(this.__cbOnceOwnerUnbindAnimateStart[r]=null)!=o&&o(),++i):(--e,null==h&&(h=[],a=[],0),h.push(this.__cbOnceOwnerUnbindAnimateStart[r]),a.push(this.__cbOnceAnimateStart[r]))}this.__cbOnceOwnerUnbindAnimateStart=h,this.__cbOnceAnimateStart=a}for(l=0,s=e;l<s;){i=l++;(0,t.vector[i])()}n.release(t)}},onAnimateStart:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event animateStart because owner is destroyed!");var l=function(e){null!=t&&(i.offAnimateStart(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindAnimateStart&&(this.__cbOnOwnerUnbindAnimateStart=[]),this.__cbOnOwnerUnbindAnimateStart.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindAnimateStart&&(this.__cbOnOwnerUnbindAnimateStart=[]),this.__cbOnOwnerUnbindAnimateStart.push(null);null==this.__cbOnAnimateStart&&(this.__cbOnAnimateStart=[]),this.__cbOnAnimateStart.push(t)},onceAnimateStart:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event animateStart because owner is destroyed!");var l=function(e){null!=t&&(i.offAnimateStart(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindAnimateStart&&(this.__cbOnceOwnerUnbindAnimateStart=[]),this.__cbOnceOwnerUnbindAnimateStart.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindAnimateStart&&(this.__cbOnceOwnerUnbindAnimateStart=[]),this.__cbOnceOwnerUnbindAnimateStart.push(null);null==this.__cbOnceAnimateStart&&(this.__cbOnceAnimateStart=[]),this.__cbOnceAnimateStart.push(t)},offAnimateStart:function(e){if(null!=e){var n;null!=this.__cbOnAnimateStart&&-1!=(n=this.__cbOnAnimateStart.indexOf(e))&&(this.__cbOnAnimateStart.splice(n,1),null!=(s=this.__cbOnOwnerUnbindAnimateStart[n])&&s(),this.__cbOnOwnerUnbindAnimateStart.splice(n,1)),null!=this.__cbOnceAnimateStart&&-1!=(n=this.__cbOnceAnimateStart.indexOf(e))&&(this.__cbOnceAnimateStart.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindAnimateStart[n])&&s(),this.__cbOnceOwnerUnbindAnimateStart.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindAnimateStart){for(var t=0,i=this.__cbOnOwnerUnbindAnimateStart.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindAnimateStart[l])&&s()}this.__cbOnOwnerUnbindAnimateStart=null}if(null!=this.__cbOnceOwnerUnbindAnimateStart){for(t=0,i=this.__cbOnceOwnerUnbindAnimateStart.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindAnimateStart[l])&&s()}this.__cbOnceOwnerUnbindAnimateStart=null}this.__cbOnAnimateStart=null,this.__cbOnceAnimateStart=null}},listensAnimateStart:function(){return null!=this.__cbOnAnimateStart&&0<this.__cbOnAnimateStart.length||null!=this.__cbOnceAnimateStart&&0<this.__cbOnceAnimateStart.length},__cbOnAnimateEnd:null,__cbOnceAnimateEnd:null,__cbOnOwnerUnbindAnimateEnd:null,__cbOnceOwnerUnbindAnimateEnd:null,emitAnimateEnd:function(){var e=0;if(null!=this.__cbOnAnimateEnd&&(e+=this.__cbOnAnimateEnd.length),null!=this.__cbOnceAnimateEnd&&(e+=this.__cbOnceAnimateEnd.length),0<e){var n=C.pool(e),t=n.get(),i=0;if(null!=this.__cbOnAnimateEnd)for(var l=0,s=this.__cbOnAnimateEnd.length;l<s;){var r=l++;!0?(t.vector[i]=this.__cbOnAnimateEnd[r],++i):--e}if(null!=this.__cbOnceAnimateEnd){for(var h=null,a=null,l=0,s=this.__cbOnceAnimateEnd.length;l<s;){var o,r=l++;!0?(t.vector[i]=this.__cbOnceAnimateEnd[r],this.__cbOnceAnimateEnd[r]=null,o=this.__cbOnceOwnerUnbindAnimateEnd[r],(this.__cbOnceOwnerUnbindAnimateEnd[r]=null)!=o&&o(),++i):(--e,null==h&&(h=[],a=[],0),h.push(this.__cbOnceOwnerUnbindAnimateEnd[r]),a.push(this.__cbOnceAnimateEnd[r]))}this.__cbOnceOwnerUnbindAnimateEnd=h,this.__cbOnceAnimateEnd=a}for(l=0,s=e;l<s;){i=l++;(0,t.vector[i])()}n.release(t)}},onAnimateEnd:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event animateEnd because owner is destroyed!");var l=function(e){null!=t&&(i.offAnimateEnd(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindAnimateEnd&&(this.__cbOnOwnerUnbindAnimateEnd=[]),this.__cbOnOwnerUnbindAnimateEnd.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindAnimateEnd&&(this.__cbOnOwnerUnbindAnimateEnd=[]),this.__cbOnOwnerUnbindAnimateEnd.push(null);null==this.__cbOnAnimateEnd&&(this.__cbOnAnimateEnd=[]),this.__cbOnAnimateEnd.push(t)},onceAnimateEnd:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event animateEnd because owner is destroyed!");var l=function(e){null!=t&&(i.offAnimateEnd(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindAnimateEnd&&(this.__cbOnceOwnerUnbindAnimateEnd=[]),this.__cbOnceOwnerUnbindAnimateEnd.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindAnimateEnd&&(this.__cbOnceOwnerUnbindAnimateEnd=[]),this.__cbOnceOwnerUnbindAnimateEnd.push(null);null==this.__cbOnceAnimateEnd&&(this.__cbOnceAnimateEnd=[]),this.__cbOnceAnimateEnd.push(t)},offAnimateEnd:function(e){if(null!=e){var n;null!=this.__cbOnAnimateEnd&&-1!=(n=this.__cbOnAnimateEnd.indexOf(e))&&(this.__cbOnAnimateEnd.splice(n,1),null!=(s=this.__cbOnOwnerUnbindAnimateEnd[n])&&s(),this.__cbOnOwnerUnbindAnimateEnd.splice(n,1)),null!=this.__cbOnceAnimateEnd&&-1!=(n=this.__cbOnceAnimateEnd.indexOf(e))&&(this.__cbOnceAnimateEnd.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindAnimateEnd[n])&&s(),this.__cbOnceOwnerUnbindAnimateEnd.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindAnimateEnd){for(var t=0,i=this.__cbOnOwnerUnbindAnimateEnd.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindAnimateEnd[l])&&s()}this.__cbOnOwnerUnbindAnimateEnd=null}if(null!=this.__cbOnceOwnerUnbindAnimateEnd){for(t=0,i=this.__cbOnceOwnerUnbindAnimateEnd.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindAnimateEnd[l])&&s()}this.__cbOnceOwnerUnbindAnimateEnd=null}this.__cbOnAnimateEnd=null,this.__cbOnceAnimateEnd=null}},listensAnimateEnd:function(){return null!=this.__cbOnAnimateEnd&&0<this.__cbOnAnimateEnd.length||null!=this.__cbOnceAnimateEnd&&0<this.__cbOnceAnimateEnd.length},__cbOnDragStart:null,__cbOnceDragStart:null,__cbOnOwnerUnbindDragStart:null,__cbOnceOwnerUnbindDragStart:null,emitDragStart:function(){var e=0;if(null!=this.__cbOnDragStart&&(e+=this.__cbOnDragStart.length),null!=this.__cbOnceDragStart&&(e+=this.__cbOnceDragStart.length),0<e){var n=C.pool(e),t=n.get(),i=0;if(null!=this.__cbOnDragStart)for(var l=0,s=this.__cbOnDragStart.length;l<s;){var r=l++;!0?(t.vector[i]=this.__cbOnDragStart[r],++i):--e}if(null!=this.__cbOnceDragStart){for(var h=null,a=null,l=0,s=this.__cbOnceDragStart.length;l<s;){var o,r=l++;!0?(t.vector[i]=this.__cbOnceDragStart[r],this.__cbOnceDragStart[r]=null,o=this.__cbOnceOwnerUnbindDragStart[r],(this.__cbOnceOwnerUnbindDragStart[r]=null)!=o&&o(),++i):(--e,null==h&&(h=[],a=[],0),h.push(this.__cbOnceOwnerUnbindDragStart[r]),a.push(this.__cbOnceDragStart[r]))}this.__cbOnceOwnerUnbindDragStart=h,this.__cbOnceDragStart=a}for(l=0,s=e;l<s;){i=l++;(0,t.vector[i])()}n.release(t)}},onDragStart:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event dragStart because owner is destroyed!");var l=function(e){null!=t&&(i.offDragStart(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindDragStart&&(this.__cbOnOwnerUnbindDragStart=[]),this.__cbOnOwnerUnbindDragStart.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindDragStart&&(this.__cbOnOwnerUnbindDragStart=[]),this.__cbOnOwnerUnbindDragStart.push(null);null==this.__cbOnDragStart&&(this.__cbOnDragStart=[]),this.__cbOnDragStart.push(t)},onceDragStart:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event dragStart because owner is destroyed!");var l=function(e){null!=t&&(i.offDragStart(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindDragStart&&(this.__cbOnceOwnerUnbindDragStart=[]),this.__cbOnceOwnerUnbindDragStart.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindDragStart&&(this.__cbOnceOwnerUnbindDragStart=[]),this.__cbOnceOwnerUnbindDragStart.push(null);null==this.__cbOnceDragStart&&(this.__cbOnceDragStart=[]),this.__cbOnceDragStart.push(t)},offDragStart:function(e){if(null!=e){var n;null!=this.__cbOnDragStart&&-1!=(n=this.__cbOnDragStart.indexOf(e))&&(this.__cbOnDragStart.splice(n,1),null!=(s=this.__cbOnOwnerUnbindDragStart[n])&&s(),this.__cbOnOwnerUnbindDragStart.splice(n,1)),null!=this.__cbOnceDragStart&&-1!=(n=this.__cbOnceDragStart.indexOf(e))&&(this.__cbOnceDragStart.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindDragStart[n])&&s(),this.__cbOnceOwnerUnbindDragStart.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindDragStart){for(var t=0,i=this.__cbOnOwnerUnbindDragStart.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindDragStart[l])&&s()}this.__cbOnOwnerUnbindDragStart=null}if(null!=this.__cbOnceOwnerUnbindDragStart){for(t=0,i=this.__cbOnceOwnerUnbindDragStart.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindDragStart[l])&&s()}this.__cbOnceOwnerUnbindDragStart=null}this.__cbOnDragStart=null,this.__cbOnceDragStart=null}},listensDragStart:function(){return null!=this.__cbOnDragStart&&0<this.__cbOnDragStart.length||null!=this.__cbOnceDragStart&&0<this.__cbOnceDragStart.length},__cbOnDragEnd:null,__cbOnceDragEnd:null,__cbOnOwnerUnbindDragEnd:null,__cbOnceOwnerUnbindDragEnd:null,emitDragEnd:function(){var e=0;if(null!=this.__cbOnDragEnd&&(e+=this.__cbOnDragEnd.length),null!=this.__cbOnceDragEnd&&(e+=this.__cbOnceDragEnd.length),0<e){var n=C.pool(e),t=n.get(),i=0;if(null!=this.__cbOnDragEnd)for(var l=0,s=this.__cbOnDragEnd.length;l<s;){var r=l++;!0?(t.vector[i]=this.__cbOnDragEnd[r],++i):--e}if(null!=this.__cbOnceDragEnd){for(var h=null,a=null,l=0,s=this.__cbOnceDragEnd.length;l<s;){var o,r=l++;!0?(t.vector[i]=this.__cbOnceDragEnd[r],this.__cbOnceDragEnd[r]=null,o=this.__cbOnceOwnerUnbindDragEnd[r],(this.__cbOnceOwnerUnbindDragEnd[r]=null)!=o&&o(),++i):(--e,null==h&&(h=[],a=[],0),h.push(this.__cbOnceOwnerUnbindDragEnd[r]),a.push(this.__cbOnceDragEnd[r]))}this.__cbOnceOwnerUnbindDragEnd=h,this.__cbOnceDragEnd=a}for(l=0,s=e;l<s;){i=l++;(0,t.vector[i])()}n.release(t)}},onDragEnd:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event dragEnd because owner is destroyed!");var l=function(e){null!=t&&(i.offDragEnd(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindDragEnd&&(this.__cbOnOwnerUnbindDragEnd=[]),this.__cbOnOwnerUnbindDragEnd.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindDragEnd&&(this.__cbOnOwnerUnbindDragEnd=[]),this.__cbOnOwnerUnbindDragEnd.push(null);null==this.__cbOnDragEnd&&(this.__cbOnDragEnd=[]),this.__cbOnDragEnd.push(t)},onceDragEnd:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event dragEnd because owner is destroyed!");var l=function(e){null!=t&&(i.offDragEnd(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindDragEnd&&(this.__cbOnceOwnerUnbindDragEnd=[]),this.__cbOnceOwnerUnbindDragEnd.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindDragEnd&&(this.__cbOnceOwnerUnbindDragEnd=[]),this.__cbOnceOwnerUnbindDragEnd.push(null);null==this.__cbOnceDragEnd&&(this.__cbOnceDragEnd=[]),this.__cbOnceDragEnd.push(t)},offDragEnd:function(e){if(null!=e){var n;null!=this.__cbOnDragEnd&&-1!=(n=this.__cbOnDragEnd.indexOf(e))&&(this.__cbOnDragEnd.splice(n,1),null!=(s=this.__cbOnOwnerUnbindDragEnd[n])&&s(),this.__cbOnOwnerUnbindDragEnd.splice(n,1)),null!=this.__cbOnceDragEnd&&-1!=(n=this.__cbOnceDragEnd.indexOf(e))&&(this.__cbOnceDragEnd.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindDragEnd[n])&&s(),this.__cbOnceOwnerUnbindDragEnd.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindDragEnd){for(var t=0,i=this.__cbOnOwnerUnbindDragEnd.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindDragEnd[l])&&s()}this.__cbOnOwnerUnbindDragEnd=null}if(null!=this.__cbOnceOwnerUnbindDragEnd){for(t=0,i=this.__cbOnceOwnerUnbindDragEnd.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindDragEnd[l])&&s()}this.__cbOnceOwnerUnbindDragEnd=null}this.__cbOnDragEnd=null,this.__cbOnceDragEnd=null}},listensDragEnd:function(){return null!=this.__cbOnDragEnd&&0<this.__cbOnDragEnd.length||null!=this.__cbOnceDragEnd&&0<this.__cbOnceDragEnd.length},__cbOnWheelStart:null,__cbOnceWheelStart:null,__cbOnOwnerUnbindWheelStart:null,__cbOnceOwnerUnbindWheelStart:null,emitWheelStart:function(){var e=0;if(null!=this.__cbOnWheelStart&&(e+=this.__cbOnWheelStart.length),null!=this.__cbOnceWheelStart&&(e+=this.__cbOnceWheelStart.length),0<e){var n=C.pool(e),t=n.get(),i=0;if(null!=this.__cbOnWheelStart)for(var l=0,s=this.__cbOnWheelStart.length;l<s;){var r=l++;!0?(t.vector[i]=this.__cbOnWheelStart[r],++i):--e}if(null!=this.__cbOnceWheelStart){for(var h=null,a=null,l=0,s=this.__cbOnceWheelStart.length;l<s;){var o,r=l++;!0?(t.vector[i]=this.__cbOnceWheelStart[r],this.__cbOnceWheelStart[r]=null,o=this.__cbOnceOwnerUnbindWheelStart[r],(this.__cbOnceOwnerUnbindWheelStart[r]=null)!=o&&o(),++i):(--e,null==h&&(h=[],a=[],0),h.push(this.__cbOnceOwnerUnbindWheelStart[r]),a.push(this.__cbOnceWheelStart[r]))}this.__cbOnceOwnerUnbindWheelStart=h,this.__cbOnceWheelStart=a}for(l=0,s=e;l<s;){i=l++;(0,t.vector[i])()}n.release(t)}},onWheelStart:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event wheelStart because owner is destroyed!");var l=function(e){null!=t&&(i.offWheelStart(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindWheelStart&&(this.__cbOnOwnerUnbindWheelStart=[]),this.__cbOnOwnerUnbindWheelStart.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindWheelStart&&(this.__cbOnOwnerUnbindWheelStart=[]),this.__cbOnOwnerUnbindWheelStart.push(null);null==this.__cbOnWheelStart&&(this.__cbOnWheelStart=[]),this.__cbOnWheelStart.push(t)},onceWheelStart:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event wheelStart because owner is destroyed!");var l=function(e){null!=t&&(i.offWheelStart(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindWheelStart&&(this.__cbOnceOwnerUnbindWheelStart=[]),this.__cbOnceOwnerUnbindWheelStart.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindWheelStart&&(this.__cbOnceOwnerUnbindWheelStart=[]),this.__cbOnceOwnerUnbindWheelStart.push(null);null==this.__cbOnceWheelStart&&(this.__cbOnceWheelStart=[]),this.__cbOnceWheelStart.push(t)},offWheelStart:function(e){if(null!=e){var n;null!=this.__cbOnWheelStart&&-1!=(n=this.__cbOnWheelStart.indexOf(e))&&(this.__cbOnWheelStart.splice(n,1),null!=(s=this.__cbOnOwnerUnbindWheelStart[n])&&s(),this.__cbOnOwnerUnbindWheelStart.splice(n,1)),null!=this.__cbOnceWheelStart&&-1!=(n=this.__cbOnceWheelStart.indexOf(e))&&(this.__cbOnceWheelStart.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindWheelStart[n])&&s(),this.__cbOnceOwnerUnbindWheelStart.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindWheelStart){for(var t=0,i=this.__cbOnOwnerUnbindWheelStart.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindWheelStart[l])&&s()}this.__cbOnOwnerUnbindWheelStart=null}if(null!=this.__cbOnceOwnerUnbindWheelStart){for(t=0,i=this.__cbOnceOwnerUnbindWheelStart.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindWheelStart[l])&&s()}this.__cbOnceOwnerUnbindWheelStart=null}this.__cbOnWheelStart=null,this.__cbOnceWheelStart=null}},listensWheelStart:function(){return null!=this.__cbOnWheelStart&&0<this.__cbOnWheelStart.length||null!=this.__cbOnceWheelStart&&0<this.__cbOnceWheelStart.length},__cbOnWheelEnd:null,__cbOnceWheelEnd:null,__cbOnOwnerUnbindWheelEnd:null,__cbOnceOwnerUnbindWheelEnd:null,emitWheelEnd:function(){var e=0;if(null!=this.__cbOnWheelEnd&&(e+=this.__cbOnWheelEnd.length),null!=this.__cbOnceWheelEnd&&(e+=this.__cbOnceWheelEnd.length),0<e){var n=C.pool(e),t=n.get(),i=0;if(null!=this.__cbOnWheelEnd)for(var l=0,s=this.__cbOnWheelEnd.length;l<s;){var r=l++;!0?(t.vector[i]=this.__cbOnWheelEnd[r],++i):--e}if(null!=this.__cbOnceWheelEnd){for(var h=null,a=null,l=0,s=this.__cbOnceWheelEnd.length;l<s;){var o,r=l++;!0?(t.vector[i]=this.__cbOnceWheelEnd[r],this.__cbOnceWheelEnd[r]=null,o=this.__cbOnceOwnerUnbindWheelEnd[r],(this.__cbOnceOwnerUnbindWheelEnd[r]=null)!=o&&o(),++i):(--e,null==h&&(h=[],a=[],0),h.push(this.__cbOnceOwnerUnbindWheelEnd[r]),a.push(this.__cbOnceWheelEnd[r]))}this.__cbOnceOwnerUnbindWheelEnd=h,this.__cbOnceWheelEnd=a}for(l=0,s=e;l<s;){i=l++;(0,t.vector[i])()}n.release(t)}},onWheelEnd:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event wheelEnd because owner is destroyed!");var l=function(e){null!=t&&(i.offWheelEnd(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindWheelEnd&&(this.__cbOnOwnerUnbindWheelEnd=[]),this.__cbOnOwnerUnbindWheelEnd.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindWheelEnd&&(this.__cbOnOwnerUnbindWheelEnd=[]),this.__cbOnOwnerUnbindWheelEnd.push(null);null==this.__cbOnWheelEnd&&(this.__cbOnWheelEnd=[]),this.__cbOnWheelEnd.push(t)},onceWheelEnd:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event wheelEnd because owner is destroyed!");var l=function(e){null!=t&&(i.offWheelEnd(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindWheelEnd&&(this.__cbOnceOwnerUnbindWheelEnd=[]),this.__cbOnceOwnerUnbindWheelEnd.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindWheelEnd&&(this.__cbOnceOwnerUnbindWheelEnd=[]),this.__cbOnceOwnerUnbindWheelEnd.push(null);null==this.__cbOnceWheelEnd&&(this.__cbOnceWheelEnd=[]),this.__cbOnceWheelEnd.push(t)},offWheelEnd:function(e){if(null!=e){var n;null!=this.__cbOnWheelEnd&&-1!=(n=this.__cbOnWheelEnd.indexOf(e))&&(this.__cbOnWheelEnd.splice(n,1),null!=(s=this.__cbOnOwnerUnbindWheelEnd[n])&&s(),this.__cbOnOwnerUnbindWheelEnd.splice(n,1)),null!=this.__cbOnceWheelEnd&&-1!=(n=this.__cbOnceWheelEnd.indexOf(e))&&(this.__cbOnceWheelEnd.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindWheelEnd[n])&&s(),this.__cbOnceOwnerUnbindWheelEnd.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindWheelEnd){for(var t=0,i=this.__cbOnOwnerUnbindWheelEnd.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindWheelEnd[l])&&s()}this.__cbOnOwnerUnbindWheelEnd=null}if(null!=this.__cbOnceOwnerUnbindWheelEnd){for(t=0,i=this.__cbOnceOwnerUnbindWheelEnd.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindWheelEnd[l])&&s()}this.__cbOnceOwnerUnbindWheelEnd=null}this.__cbOnWheelEnd=null,this.__cbOnceWheelEnd=null}},listensWheelEnd:function(){return null!=this.__cbOnWheelEnd&&0<this.__cbOnWheelEnd.length||null!=this.__cbOnceWheelEnd&&0<this.__cbOnceWheelEnd.length},__cbOnClick:null,__cbOnceClick:null,__cbOnOwnerUnbindClick:null,__cbOnceOwnerUnbindClick:null,emitClick:function(e){var n=0;if(null!=this.__cbOnClick&&(n+=this.__cbOnClick.length),null!=this.__cbOnceClick&&(n+=this.__cbOnceClick.length),0<n){var t=C.pool(n),i=t.get(),l=0;if(null!=this.__cbOnClick)for(var s=0,r=this.__cbOnClick.length;s<r;){var h=s++;!0?(i.vector[l]=this.__cbOnClick[h],++l):--n}if(null!=this.__cbOnceClick){for(var a=null,o=null,s=0,r=this.__cbOnceClick.length;s<r;){var c,h=s++;!0?(i.vector[l]=this.__cbOnceClick[h],this.__cbOnceClick[h]=null,c=this.__cbOnceOwnerUnbindClick[h],(this.__cbOnceOwnerUnbindClick[h]=null)!=c&&c(),++l):(--n,null==a&&(a=[],o=[],0),a.push(this.__cbOnceOwnerUnbindClick[h]),o.push(this.__cbOnceClick[h]))}this.__cbOnceOwnerUnbindClick=a,this.__cbOnceClick=o}for(s=0,r=n;s<r;){l=s++;(0,i.vector[l])(e)}t.release(i)}},onClick:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event click because owner is destroyed!");var l=function(e){null!=t&&(i.offClick(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindClick&&(this.__cbOnOwnerUnbindClick=[]),this.__cbOnOwnerUnbindClick.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindClick&&(this.__cbOnOwnerUnbindClick=[]),this.__cbOnOwnerUnbindClick.push(null);null==this.__cbOnClick&&(this.__cbOnClick=[]),this.__cbOnClick.push(t)},onceClick:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event click because owner is destroyed!");var l=function(e){null!=t&&(i.offClick(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindClick&&(this.__cbOnceOwnerUnbindClick=[]),this.__cbOnceOwnerUnbindClick.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindClick&&(this.__cbOnceOwnerUnbindClick=[]),this.__cbOnceOwnerUnbindClick.push(null);null==this.__cbOnceClick&&(this.__cbOnceClick=[]),this.__cbOnceClick.push(t)},offClick:function(e){if(null!=e){var n;null!=this.__cbOnClick&&-1!=(n=this.__cbOnClick.indexOf(e))&&(this.__cbOnClick.splice(n,1),null!=(s=this.__cbOnOwnerUnbindClick[n])&&s(),this.__cbOnOwnerUnbindClick.splice(n,1)),null!=this.__cbOnceClick&&-1!=(n=this.__cbOnceClick.indexOf(e))&&(this.__cbOnceClick.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindClick[n])&&s(),this.__cbOnceOwnerUnbindClick.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindClick){for(var t=0,i=this.__cbOnOwnerUnbindClick.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindClick[l])&&s()}this.__cbOnOwnerUnbindClick=null}if(null!=this.__cbOnceOwnerUnbindClick){for(t=0,i=this.__cbOnceOwnerUnbindClick.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindClick[l])&&s()}this.__cbOnceOwnerUnbindClick=null}this.__cbOnClick=null,this.__cbOnceClick=null}},listensClick:function(){return null!=this.__cbOnClick&&0<this.__cbOnClick.length||null!=this.__cbOnceClick&&0<this.__cbOnceClick.length},__cbOnScrollerPointerDown:null,__cbOnceScrollerPointerDown:null,__cbOnOwnerUnbindScrollerPointerDown:null,__cbOnceOwnerUnbindScrollerPointerDown:null,emitScrollerPointerDown:function(e){var n=0;if(null!=this.__cbOnScrollerPointerDown&&(n+=this.__cbOnScrollerPointerDown.length),null!=this.__cbOnceScrollerPointerDown&&(n+=this.__cbOnceScrollerPointerDown.length),0<n){var t=C.pool(n),i=t.get(),l=0;if(null!=this.__cbOnScrollerPointerDown)for(var s=0,r=this.__cbOnScrollerPointerDown.length;s<r;){var h=s++;!0?(i.vector[l]=this.__cbOnScrollerPointerDown[h],++l):--n}if(null!=this.__cbOnceScrollerPointerDown){for(var a=null,o=null,s=0,r=this.__cbOnceScrollerPointerDown.length;s<r;){var c,h=s++;!0?(i.vector[l]=this.__cbOnceScrollerPointerDown[h],this.__cbOnceScrollerPointerDown[h]=null,c=this.__cbOnceOwnerUnbindScrollerPointerDown[h],(this.__cbOnceOwnerUnbindScrollerPointerDown[h]=null)!=c&&c(),++l):(--n,null==a&&(a=[],o=[],0),a.push(this.__cbOnceOwnerUnbindScrollerPointerDown[h]),o.push(this.__cbOnceScrollerPointerDown[h]))}this.__cbOnceOwnerUnbindScrollerPointerDown=a,this.__cbOnceScrollerPointerDown=o}for(s=0,r=n;s<r;){l=s++;(0,i.vector[l])(e)}t.release(i)}},onScrollerPointerDown:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event scrollerPointerDown because owner is destroyed!");var l=function(e){null!=t&&(i.offScrollerPointerDown(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindScrollerPointerDown&&(this.__cbOnOwnerUnbindScrollerPointerDown=[]),this.__cbOnOwnerUnbindScrollerPointerDown.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindScrollerPointerDown&&(this.__cbOnOwnerUnbindScrollerPointerDown=[]),this.__cbOnOwnerUnbindScrollerPointerDown.push(null);null==this.__cbOnScrollerPointerDown&&(this.__cbOnScrollerPointerDown=[]),this.__cbOnScrollerPointerDown.push(t)},onceScrollerPointerDown:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event scrollerPointerDown because owner is destroyed!");var l=function(e){null!=t&&(i.offScrollerPointerDown(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindScrollerPointerDown&&(this.__cbOnceOwnerUnbindScrollerPointerDown=[]),this.__cbOnceOwnerUnbindScrollerPointerDown.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindScrollerPointerDown&&(this.__cbOnceOwnerUnbindScrollerPointerDown=[]),this.__cbOnceOwnerUnbindScrollerPointerDown.push(null);null==this.__cbOnceScrollerPointerDown&&(this.__cbOnceScrollerPointerDown=[]),this.__cbOnceScrollerPointerDown.push(t)},offScrollerPointerDown:function(e){if(null!=e){var n;null!=this.__cbOnScrollerPointerDown&&-1!=(n=this.__cbOnScrollerPointerDown.indexOf(e))&&(this.__cbOnScrollerPointerDown.splice(n,1),null!=(s=this.__cbOnOwnerUnbindScrollerPointerDown[n])&&s(),this.__cbOnOwnerUnbindScrollerPointerDown.splice(n,1)),null!=this.__cbOnceScrollerPointerDown&&-1!=(n=this.__cbOnceScrollerPointerDown.indexOf(e))&&(this.__cbOnceScrollerPointerDown.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindScrollerPointerDown[n])&&s(),this.__cbOnceOwnerUnbindScrollerPointerDown.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindScrollerPointerDown){for(var t=0,i=this.__cbOnOwnerUnbindScrollerPointerDown.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindScrollerPointerDown[l])&&s()}this.__cbOnOwnerUnbindScrollerPointerDown=null}if(null!=this.__cbOnceOwnerUnbindScrollerPointerDown){for(t=0,i=this.__cbOnceOwnerUnbindScrollerPointerDown.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindScrollerPointerDown[l])&&s()}this.__cbOnceOwnerUnbindScrollerPointerDown=null}this.__cbOnScrollerPointerDown=null,this.__cbOnceScrollerPointerDown=null}},listensScrollerPointerDown:function(){return null!=this.__cbOnScrollerPointerDown&&0<this.__cbOnScrollerPointerDown.length||null!=this.__cbOnceScrollerPointerDown&&0<this.__cbOnceScrollerPointerDown.length},__cbOnScrollerPointerUp:null,__cbOnceScrollerPointerUp:null,__cbOnOwnerUnbindScrollerPointerUp:null,__cbOnceOwnerUnbindScrollerPointerUp:null,emitScrollerPointerUp:function(e){var n=0;if(null!=this.__cbOnScrollerPointerUp&&(n+=this.__cbOnScrollerPointerUp.length),null!=this.__cbOnceScrollerPointerUp&&(n+=this.__cbOnceScrollerPointerUp.length),0<n){var t=C.pool(n),i=t.get(),l=0;if(null!=this.__cbOnScrollerPointerUp)for(var s=0,r=this.__cbOnScrollerPointerUp.length;s<r;){var h=s++;!0?(i.vector[l]=this.__cbOnScrollerPointerUp[h],++l):--n}if(null!=this.__cbOnceScrollerPointerUp){for(var a=null,o=null,s=0,r=this.__cbOnceScrollerPointerUp.length;s<r;){var c,h=s++;!0?(i.vector[l]=this.__cbOnceScrollerPointerUp[h],this.__cbOnceScrollerPointerUp[h]=null,c=this.__cbOnceOwnerUnbindScrollerPointerUp[h],(this.__cbOnceOwnerUnbindScrollerPointerUp[h]=null)!=c&&c(),++l):(--n,null==a&&(a=[],o=[],0),a.push(this.__cbOnceOwnerUnbindScrollerPointerUp[h]),o.push(this.__cbOnceScrollerPointerUp[h]))}this.__cbOnceOwnerUnbindScrollerPointerUp=a,this.__cbOnceScrollerPointerUp=o}for(s=0,r=n;s<r;){l=s++;(0,i.vector[l])(e)}t.release(i)}},onScrollerPointerUp:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event scrollerPointerUp because owner is destroyed!");var l=function(e){null!=t&&(i.offScrollerPointerUp(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindScrollerPointerUp&&(this.__cbOnOwnerUnbindScrollerPointerUp=[]),this.__cbOnOwnerUnbindScrollerPointerUp.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindScrollerPointerUp&&(this.__cbOnOwnerUnbindScrollerPointerUp=[]),this.__cbOnOwnerUnbindScrollerPointerUp.push(null);null==this.__cbOnScrollerPointerUp&&(this.__cbOnScrollerPointerUp=[]),this.__cbOnScrollerPointerUp.push(t)},onceScrollerPointerUp:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event scrollerPointerUp because owner is destroyed!");var l=function(e){null!=t&&(i.offScrollerPointerUp(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindScrollerPointerUp&&(this.__cbOnceOwnerUnbindScrollerPointerUp=[]),this.__cbOnceOwnerUnbindScrollerPointerUp.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindScrollerPointerUp&&(this.__cbOnceOwnerUnbindScrollerPointerUp=[]),this.__cbOnceOwnerUnbindScrollerPointerUp.push(null);null==this.__cbOnceScrollerPointerUp&&(this.__cbOnceScrollerPointerUp=[]),this.__cbOnceScrollerPointerUp.push(t)},offScrollerPointerUp:function(e){if(null!=e){var n;null!=this.__cbOnScrollerPointerUp&&-1!=(n=this.__cbOnScrollerPointerUp.indexOf(e))&&(this.__cbOnScrollerPointerUp.splice(n,1),null!=(s=this.__cbOnOwnerUnbindScrollerPointerUp[n])&&s(),this.__cbOnOwnerUnbindScrollerPointerUp.splice(n,1)),null!=this.__cbOnceScrollerPointerUp&&-1!=(n=this.__cbOnceScrollerPointerUp.indexOf(e))&&(this.__cbOnceScrollerPointerUp.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindScrollerPointerUp[n])&&s(),this.__cbOnceOwnerUnbindScrollerPointerUp.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindScrollerPointerUp){for(var t=0,i=this.__cbOnOwnerUnbindScrollerPointerUp.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindScrollerPointerUp[l])&&s()}this.__cbOnOwnerUnbindScrollerPointerUp=null}if(null!=this.__cbOnceOwnerUnbindScrollerPointerUp){for(t=0,i=this.__cbOnceOwnerUnbindScrollerPointerUp.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindScrollerPointerUp[l])&&s()}this.__cbOnceOwnerUnbindScrollerPointerUp=null}this.__cbOnScrollerPointerUp=null,this.__cbOnceScrollerPointerUp=null}},listensScrollerPointerUp:function(){return null!=this.__cbOnScrollerPointerUp&&0<this.__cbOnScrollerPointerUp.length||null!=this.__cbOnceScrollerPointerUp&&0<this.__cbOnceScrollerPointerUp.length},content:null,scrollbar:null,set_scrollbar:function(e){return this.scrollbar==e?e:(null!=this.scrollbar&&this.scrollbar.destroy(),this.scrollbar=e,null!=this.scrollbar&&(this.add(this.scrollbar),this.scrollbar.set_depth(2),this.bindScrollbar(this.scrollbar)),this.scrollbar)},direction:null,allowPointerOutside:null,scrollTransform:null,scrollEnabled:null,dragEnabled:null,dragThreshold:null,noDragThreshold:null,roundScrollWhenIdle:null,set_roundScrollWhenIdle:function(e){var n;return this.roundScrollWhenIdle!=e&&(this.roundScrollWhenIdle=e,this.get_status()==st.IDLE&&0<this.roundScrollWhenIdle&&(n=1==this.roundScrollWhenIdle?(n=Math.round(-this.scrollTransform.tx),this.scrollTransform.tx!=-n&&(this.scrollTransform.tx=-n,this.scrollTransform.changedDirty=!0),Math.round(-this.scrollTransform.ty)):(n=Math.round(-this.scrollTransform.tx*this.roundScrollWhenIdle)/this.roundScrollWhenIdle,this.scrollTransform.tx!=-n&&(this.scrollTransform.tx=-n,this.scrollTransform.changedDirty=!0),Math.round(-this.scrollTransform.ty*this.roundScrollWhenIdle)/this.roundScrollWhenIdle),this.scrollTransform.ty!=-n))&&(this.scrollTransform.ty=-n,this.scrollTransform.changedDirty=!0),e},statusAutoruns:null,get_status:function(){var e,n,t=this.unobservedStatus;return null!=A.current&&(e=A.current,null!=(n=this.statusAutoruns)||(n=A.getAutorunArray(),null!=(this.statusAutoruns=n)))&&e.bindToAutorunArray(n),t},set_status:function(e){var n=this.unobservedStatus;return this.set_unobservedStatus(e),n!=e&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitStatusChange(e,n),null!=(n=this.statusAutoruns))&&(this.statusAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateStatus:function(){var e=this.unobservedStatus,e=(this.emitStatusChange(e,e),this.statusAutoruns);null!=e&&(this.statusAutoruns=null,A.invalidateAutorunArray(e))},unobservedStatus:null,__cbOnStatusChange:null,__cbOnceStatusChange:null,__cbOnOwnerUnbindStatusChange:null,__cbOnceOwnerUnbindStatusChange:null,emitStatusChange:function(e,n){var t=0;if(null!=this.__cbOnStatusChange&&(t+=this.__cbOnStatusChange.length),null!=this.__cbOnceStatusChange&&(t+=this.__cbOnceStatusChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnStatusChange)for(var r=0,h=this.__cbOnStatusChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnStatusChange[a],++s):--t}if(null!=this.__cbOnceStatusChange){for(var o=null,c=null,r=0,h=this.__cbOnceStatusChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceStatusChange[a],this.__cbOnceStatusChange[a]=null,u=this.__cbOnceOwnerUnbindStatusChange[a],(this.__cbOnceOwnerUnbindStatusChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindStatusChange[a]),c.push(this.__cbOnceStatusChange[a]))}this.__cbOnceOwnerUnbindStatusChange=o,this.__cbOnceStatusChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onStatusChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event statusChange because owner is destroyed!");var l=function(e){null!=t&&(i.offStatusChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindStatusChange&&(this.__cbOnOwnerUnbindStatusChange=[]),this.__cbOnOwnerUnbindStatusChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindStatusChange&&(this.__cbOnOwnerUnbindStatusChange=[]),this.__cbOnOwnerUnbindStatusChange.push(null);null==this.__cbOnStatusChange&&(this.__cbOnStatusChange=[]),this.__cbOnStatusChange.push(t)},onceStatusChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event statusChange because owner is destroyed!");var l=function(e){null!=t&&(i.offStatusChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindStatusChange&&(this.__cbOnceOwnerUnbindStatusChange=[]),this.__cbOnceOwnerUnbindStatusChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindStatusChange&&(this.__cbOnceOwnerUnbindStatusChange=[]),this.__cbOnceOwnerUnbindStatusChange.push(null);null==this.__cbOnceStatusChange&&(this.__cbOnceStatusChange=[]),this.__cbOnceStatusChange.push(t)},offStatusChange:function(e){if(null!=e){var n;null!=this.__cbOnStatusChange&&-1!=(n=this.__cbOnStatusChange.indexOf(e))&&(this.__cbOnStatusChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindStatusChange[n])&&s(),this.__cbOnOwnerUnbindStatusChange.splice(n,1)),null!=this.__cbOnceStatusChange&&-1!=(n=this.__cbOnceStatusChange.indexOf(e))&&(this.__cbOnceStatusChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindStatusChange[n])&&s(),this.__cbOnceOwnerUnbindStatusChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindStatusChange){for(var t=0,i=this.__cbOnOwnerUnbindStatusChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindStatusChange[l])&&s()}this.__cbOnOwnerUnbindStatusChange=null}if(null!=this.__cbOnceOwnerUnbindStatusChange){for(t=0,i=this.__cbOnceOwnerUnbindStatusChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindStatusChange[l])&&s()}this.__cbOnceOwnerUnbindStatusChange=null}this.__cbOnStatusChange=null,this.__cbOnceStatusChange=null}},listensStatusChange:function(){return null!=this.__cbOnStatusChange&&0<this.__cbOnStatusChange.length||null!=this.__cbOnceStatusChange&&0<this.__cbOnceStatusChange.length},set_unobservedStatus:function(e){var n,t;return e!=this.unobservedStatus&&(t=this.unobservedStatus,(this.unobservedStatus=e)==st.DRAGGING?(this.pagingEnabled&&(this.pageIndexOnStartDrag=this.pageIndexFromScroll(-this.scrollTransform.tx,-this.scrollTransform.ty)),this.emitDragStart()):t==st.DRAGGING?this.emitDragEnd():e==st.IDLE&&0<this.roundScrollWhenIdle&&(t=1==this.roundScrollWhenIdle?(n=Math.round(-this.scrollTransform.tx),this.scrollTransform.tx!=-n&&(this.scrollTransform.tx=-n,this.scrollTransform.changedDirty=!0),Math.round(-this.scrollTransform.ty)):(n=Math.round(-this.scrollTransform.tx*this.roundScrollWhenIdle)/this.roundScrollWhenIdle,this.scrollTransform.tx!=-n&&(this.scrollTransform.tx=-n,this.scrollTransform.changedDirty=!0),Math.round(-this.scrollTransform.ty*this.roundScrollWhenIdle)/this.roundScrollWhenIdle),this.scrollTransform.ty!=-t)&&(this.scrollTransform.ty=-t,this.scrollTransform.changedDirty=!0)),e},verticalToHorizontalWheel:null,deceleration:null,wheelDeceleration:null,wheelFactor:null,wheelMomentum:null,wheelEndDelay:null,overScrollResistance:null,maxClickMomentum:null,bounceMomentumFactor:null,bounceMinDuration:null,bounceDurationFactor:null,bounceNoMomentumDuration:null,dragFactor:null,touchableStrictHierarchy:null,prevPointerX:null,prevPointerY:null,dragThresholdStatus:null,destroy:function(){this._lifecycleState<=-2||(this._lifecycleState=-2,this.blockingDefaultScroll&&(this.blockingDefaultScroll=!1,ae.app.numBlockingDefaultScroll--),this._lifecycleState=-1,o.prototype.destroy.call(this))},set_scrollEnabled:function(e){return this.scrollEnabled!=e&&(this.scrollEnabled=e,this.set_status(st.IDLE),e?this.startTracking():this.stopTracking()),e},set_width:function(e){return o.prototype.set_width.call(this,e),this.direction==it.VERTICAL&&this.content.set_width(e),e},set_height:function(e){return o.prototype.set_height.call(this,e),this.direction==it.HORIZONTAL&&this.content.set_height(e),e},interceptPointerDown:function(e,n,t,i,l){return!(!this.scrollEnabled||this.allowPointerOutside||this._hits(n,t,!1))},interceptPointerOver:function(e,n,t){if(this.scrollEnabled){n=this._hits(n,t,!1);if(this.pointerOnScrollerChild=n&&!(e instanceof lt),!this.allowPointerOutside&&!n)return!0}return!1},scrollToBounds:function(){var e;this.direction==it.VERTICAL?this.content.get_height()<=this.get_height()?0!=this.scrollTransform.ty&&(this.scrollTransform.ty=0,this.scrollTransform.changedDirty=!0):this.content.get_height()-this.get_height()<-this.scrollTransform.ty?(e=this.content.get_height()-this.get_height(),this.scrollTransform.ty!=-e&&(this.scrollTransform.ty=-e,this.scrollTransform.changedDirty=!0)):-this.scrollTransform.ty<0&&0!=this.scrollTransform.ty&&(this.scrollTransform.ty=0,this.scrollTransform.changedDirty=!0):this.content.get_width()<=this.get_width()?0!=this.scrollTransform.tx&&(this.scrollTransform.tx=0,this.scrollTransform.changedDirty=!0):this.content.get_width()-this.get_width()<-this.scrollTransform.tx?(e=this.content.get_width()-this.get_width(),this.scrollTransform.tx!=-e&&(this.scrollTransform.tx=-e,this.scrollTransform.changedDirty=!0)):-this.scrollTransform.tx<0&&0!=this.scrollTransform.tx&&(this.scrollTransform.tx=0,this.scrollTransform.changedDirty=!0)},isContentPositionInBounds:function(e,n){return!(e<-this.scrollTransform.tx||e>=-this.scrollTransform.tx+this.get_width()||n<-this.scrollTransform.ty||n>=-this.scrollTransform.ty+this.get_height())},ensureContentPositionIsInBounds:function(e,n){var t=-this.scrollTransform.tx,i=-this.scrollTransform.ty,e=(e<t?t=e:e>=t+this.get_width()&&(t=e-this.get_width()),this.content.get_width()-this.get_width()),e=((t=e<t?e:t)<0&&(t=0),n<i?i=n:n>=i+this.get_height()&&(i=n-this.get_height()),this.content.get_height()-this.get_height());(i=e<i?e:i)<0&&(i=0),this.scrollTransform.tx!=-t&&(this.scrollTransform.tx=-t,this.scrollTransform.changedDirty=!0),this.scrollTransform.ty!=-i&&(this.scrollTransform.ty=-i,this.scrollTransform.changedDirty=!0)},get_scrollX:function(){return-this.scrollTransform.tx},set_scrollX:function(e){return this.scrollTransform.tx!=-e&&(this.scrollTransform.tx=-e,this.scrollTransform.changedDirty=!0),e},get_scrollY:function(){return-this.scrollTransform.ty},set_scrollY:function(e){return this.scrollTransform.ty!=-e&&(this.scrollTransform.ty=-e,this.scrollTransform.changedDirty=!0),e},position:null,contentStart:null,pointerStart:null,pointerStartX:null,pointerStartY:null,touchIndex:null,scrollVelocity:null,momentum:null,releaseSnap:null,fromWheel:null,lastWheelEventTime:null,canClick:null,tweenX:null,tweenY:null,animating:null,set_animating:function(e){return this.animating!=e&&((this.animating=e)?this.emitAnimateStart():this.emitAnimateEnd()),e},pointerOnScroller:null,pointerOnScrollerChild:null,blockingDefaultScroll:null,startTracking:function(){ae.app.onUpdate(this,$bind(this,this.update)),this.onPointerOver(this,$bind(this,this.pointerOver)),this.onPointerOut(this,$bind(this,this.pointerOut)),ae.app.screen.onMultiTouchPointerDown(this,$bind(this,this.pointerDown)),ae.app.screen.onFocus(this,$bind(this,this.screenFocus)),ae.app.screen.onMouseWheel(this,$bind(this,this.mouseWheel))},stopTracking:function(){ae.app.offUpdate($bind(this,this.update)),this.offPointerOver($bind(this,this.pointerOver)),this.offPointerOut($bind(this,this.pointerOut)),ae.app.screen.offMultiTouchPointerDown($bind(this,this.pointerDown)),ae.app.screen.offFocus($bind(this,this.screenFocus)),ae.app.screen.offMouseWheel($bind(this,this.mouseWheel)),this.blockingDefaultScroll&&(this.blockingDefaultScroll=!1,ae.app.numBlockingDefaultScroll--)},pointerOver:function(e){this.pointerOnScroller=!0},pointerOut:function(e){this.pointerOnScroller=!1},mouseWheel:function(e,n){if(!this.pagingEnabled&&this.get_status()!=st.TOUCHING&&this.get_status()!=st.DRAGGING&&(this.pointerOnScroller||this.pointerOnScrollerChild)&&this._hits(ae.app.screen.pointerX,ae.app.screen.pointerY,!1)){if(this.direction==it.VERTICAL){if(0<this.scrollTransform.ty||this.scrollTransform.ty<this.get_height()-this.content.get_height())return}else if(0<this.scrollTransform.tx||this.scrollTransform.tx<this.get_width()-this.content.get_width())return;var t,i;e*=this.wheelFactor,n*=this.wheelFactor,this.set_status(st.SCROLLING),this.fromWheel=!0,-1==this.lastWheelEventTime?(this.lastWheelEventTime=Gt.now,this.emitWheelStart()):this.lastWheelEventTime=Gt.now,this.direction==it.VERTICAL?((this.momentum<0&&0<n||0<this.momentum&&n<0)&&(this.momentum=0),this.scrollTransform.ty-=n,0<this.scrollTransform.ty?this.scrollTransform.ty=0:this.scrollTransform.ty<this.get_height()-this.content.get_height()&&(t=this.get_height(),i=this.content.get_height(),this.scrollTransform.ty=t-i),this.wheelMomentum&&this.scrollTransform.ty<0&&this.scrollTransform.ty>this.get_height()-this.content.get_height()&&(this.momentum-=60*n)):this.verticalToHorizontalWheel&&0==e?((this.momentum<0&&0<n||0<this.momentum&&n<0)&&(this.momentum=0),this.scrollTransform.tx-=n,0<this.scrollTransform.tx?this.scrollTransform.tx=0:this.scrollTransform.tx<this.get_width()-this.content.get_width()&&(t=this.get_width(),i=this.content.get_width(),this.scrollTransform.tx=t-i),this.wheelMomentum&&this.scrollTransform.tx<=0&&this.scrollTransform.tx>=this.get_width()-this.content.get_width()&&(this.momentum-=60*n)):((this.momentum<0&&0<e||0<this.momentum&&e<0)&&(this.momentum=0),this.scrollTransform.tx-=e,0<this.scrollTransform.tx?this.scrollTransform.tx=0:this.scrollTransform.tx<this.get_width()-this.content.get_width()&&(t=this.get_width(),i=this.content.get_width(),this.scrollTransform.tx=t-i),this.wheelMomentum&&this.scrollTransform.tx<=0&&this.scrollTransform.tx>=this.get_width()-this.content.get_width()&&(this.momentum-=60*e)),this.scrollTransform.changedDirty=!0}},pointerDown:function(e){var n,t;this.computedTouchable&&this.dragEnabled&&this.get_status()!=st.TOUCHING&&this.get_status()!=st.DRAGGING&&(this.dragThresholdStatus=0<this.dragThreshold?1:0,t=(n=this._hits(e.x,e.y,!1))&&this.touchableStrictHierarchy?ae.app.screen.matchFirstDownListener(e.x,e.y):null,n)&&(!this.touchableStrictHierarchy||null!=t&&(t==this||this.contains(t,!0)))&&(this.set_animating(!1),null!=this.tweenX&&this.tweenX.destroy(),null!=this.tweenY&&this.tweenY.destroy(),this.get_status()==st.SCROLLING&&Math.abs(this.momentum)>this.maxClickMomentum?(ae.app.screen.set_focusedVisual(this),this.canClick=!1):this.canClick=!0,this.prevPointerX=-99999999,this.prevPointerY=-99999999,this.set_status(st.TOUCHING),this.touchIndex=e.touchIndex,this.pointerStartX=e.x,this.pointerStartY=e.y,this.direction==it.VERTICAL?(this.contentStart=this.scrollTransform.ty,this.pointerStart=e.y):(this.contentStart=this.scrollTransform.tx,this.pointerStart=e.x),this.scrollVelocity=new Qt,this.scrollVelocity.add(0),ae.app.screen.onMultiTouchPointerUp(this,$bind(this,this.pointerUp)),this.emitScrollerPointerDown(e))},pointerUp:function(e){e.touchIndex==this.touchIndex&&(this.get_status()==st.TOUCHING&&ae.app.screen.get_focusedVisual()==this||(this.canClick=!1),this.momentum=this.scrollVelocity.get(),this.scrollVelocity=null,this.touchIndex=-1,this.set_status(st.SCROLLING),ae.app.screen.offMultiTouchPointerUp($bind(this,this.pointerUp)),this.direction==it.VERTICAL?this.pagingEnabled||0<this.scrollTransform.ty||this.scrollTransform.ty<this.get_height()-this.content.get_height()?this.releaseSnap=!0:this.releaseSnap=!1:this.pagingEnabled||0<this.scrollTransform.tx||this.scrollTransform.tx<this.get_width()-this.content.get_width()?this.releaseSnap=!0:this.releaseSnap=!1,this.canClick&&(this.canClick=!1,this.emitClick(e)),this.emitScrollerPointerUp(e))},screenFocus:function(e){null==e||e==this||this.get_status()!=st.TOUCHING||this.contains(e)||(this.set_status(st.IDLE),ae.app.screen.offMultiTouchPointerUp($bind(this,this.pointerUp)))},isOverScrollingTop:function(){return 0<this.scrollTransform.ty},isOverScrollingBottom:function(){return this.scrollTransform.ty<this.get_height()-this.content.get_height()},isOverScrollingLeft:function(){return 0<this.scrollTransform.tx},isOverScrollingRight:function(){return this.scrollTransform.tx<this.get_width()-this.content.get_width()},roundScrollIfNeeded:function(){var e;0<this.roundScrollWhenIdle&&(e=1==this.roundScrollWhenIdle?(e=Math.round(-this.scrollTransform.tx),this.scrollTransform.tx!=-e&&(this.scrollTransform.tx=-e,this.scrollTransform.changedDirty=!0),Math.round(-this.scrollTransform.ty)):(e=Math.round(-this.scrollTransform.tx*this.roundScrollWhenIdle)/this.roundScrollWhenIdle,this.scrollTransform.tx!=-e&&(this.scrollTransform.tx=-e,this.scrollTransform.changedDirty=!0),Math.round(-this.scrollTransform.ty*this.roundScrollWhenIdle)/this.roundScrollWhenIdle),this.scrollTransform.ty!=-e)&&(this.scrollTransform.ty=-e,this.scrollTransform.changedDirty=!0)},update:function(e){var n=this.blockingDefaultScroll;if(this.blockingDefaultScroll=(this.pointerOnScroller||this.pointerOnScrollerChild)&&this._hits(ae.app.screen.pointerX,ae.app.screen.pointerY,!1),this.blockingDefaultScroll!=n&&(this.blockingDefaultScroll?ae.app.numBlockingDefaultScroll++:ae.app.numBlockingDefaultScroll--),0!=e&&3!=this.dragThresholdStatus){var t=ae.app.screen.pointerX,i=ae.app.screen.pointerY;if(-1!=this.touchIndex&&null!=(n=ae.app.screen.touches.get(this.touchIndex))&&(t=n.x,i=n.y),1==this.dragThresholdStatus){var n=Math.abs(t-this.pointerStartX),l=Math.abs(i-this.pointerStartY),s=0<this.noDragThreshold?this.noDragThreshold:this.dragThreshold;if(this.direction==it.VERTICAL?(0<this.noDragThreshold||l<n)&&s<=n?this.dragThresholdStatus=3:n<l&&l>=this.dragThreshold&&(this.dragThresholdStatus=2):(0<this.noDragThreshold||n<l)&&s<=l?this.dragThresholdStatus=3:l<n&&n>=this.dragThreshold&&(this.dragThresholdStatus=2),3==this.dragThresholdStatus)return}switch(this.scrollUpdate(t,i,e),-1!=this.lastWheelEventTime&&Gt.now-this.lastWheelEventTime>this.wheelEndDelay&&(this.lastWheelEventTime=-1,this.emitWheelEnd()),this.get_status()._hx_index){case 1:case 2:this.prevPointerX=t,this.prevPointerY=i;break;default:this.prevPointerX=-99999999,this.prevPointerY=-99999999}this.updateScrollbar(),this.get_status()==st.IDLE&&this.roundScrollIfNeeded()}},updateScrollbar:function(){null!=this.scrollbar&&(this.direction==it.VERTICAL?(this.scrollbar.set_x(this.get_width()-this.scrollbar.get_width()*(1-this.scrollbar.anchorX)),0<this.content.get_height()?(this.scrollbar.set_height(Math.min(this.get_height(),this.get_height()*this.get_height()/this.content.get_height())),this.scrollbar.set_y(this.get_height()*-this.scrollTransform.ty/this.content.get_height())):(this.scrollbar.set_height(0),this.scrollbar.set_y(0))):(this.scrollbar.set_y(this.get_height()-this.scrollbar.get_height()*(1-this.scrollbar.anchorY)),0<this.content.get_width()?(this.scrollbar.set_width(Math.min(this.get_width(),this.get_width()*this.get_width()/this.content.get_width())),this.scrollbar.set_x(this.get_width()*-this.scrollTransform.tx/this.content.get_width())):(this.scrollbar.set_width(0),this.scrollbar.set_x(0))))},scrollbarDownX:null,scrollbarDownY:null,scrollbarStartX:null,scrollbarStartY:null,bindScrollbar:function(e){this.scrollbarDownX=-1,this.scrollbarDownY=-1,e.onPointerDown(this,$bind(this,this.handleScrollbarDown)),e.onPointerUp(this,$bind(this,this.handleScrollbarUp))},handleScrollbarDown:function(e){this.scrollEnabled&&(this.scrollbarStartX=this.scrollbar.x,this.scrollbarStartY=this.scrollbar.y,this.screenToVisual(e.x,e.y,lt._point),this.scrollbarDownX=lt._point.x,this.scrollbarDownY=lt._point.y,ae.app.screen.offPointerMove($bind(this,this.handleScrollbarMove)),ae.app.screen.onPointerMove(this.scrollbar,$bind(this,this.handleScrollbarMove)))},handleScrollbarUp:function(e){ae.app.screen.offPointerMove($bind(this,this.handleScrollbarMove))},handleScrollbarMove:function(e){this.screenToVisual(e.x,e.y,lt._point);var e=lt._point.x-this.scrollbarDownX,n=lt._point.y-this.scrollbarDownY;this.direction==it.VERTICAL?(n=(this.scrollbarStartY+n)*this.content.get_height()/this.get_height(),this.scrollTransform.ty!=-n&&(this.scrollTransform.ty=-n,this.scrollTransform.changedDirty=!0)):(n=(this.scrollbarStartX+e)*this.content.get_width()/this.get_width(),this.scrollTransform.tx!=-n&&(this.scrollTransform.tx=-n,this.scrollTransform.changedDirty=!0)),this.scrollToBounds()},scrollUpdate:function(e,n,t,i){switch(null==i&&(i=0),this.get_status()._hx_index){case 0:break;case 1:var l=Math.abs(e-this.pointerStartX),s=Math.abs(n-this.pointerStartY),r=0<this.noDragThreshold?this.noDragThreshold:this.dragThreshold;this.direction==it.VERTICAL?(l<s&&s>=Math.max(lt.threshold,this.dragThreshold)&&!((0<this.noDragThreshold||s<l)&&r<=l)&&(this.set_status(st.DRAGGING),this.fromWheel=!1,this.pointerStart=n,this.scrollTransform.ty=this.contentStart+n-this.pointerStart,0<this.scrollTransform.tx?(this.scrollVelocity.reset(),h=Math.max(this.contentStart,0),this.pointerStart=this.contentStart+n-(h+(this.scrollTransform.ty-h)*this.overScrollResistance),this.scrollTransform.ty=h+(this.contentStart+n-this.pointerStart-h)/this.overScrollResistance):this.scrollTransform.tx<this.get_width()-this.content.get_width()&&(this.scrollVelocity.reset(),a=Math.min(this.contentStart,this.get_height()-this.content.get_height()),this.pointerStart=this.contentStart+n-(a+(this.scrollTransform.ty-a)*this.overScrollResistance),this.scrollTransform.ty=a+(this.contentStart+n-this.pointerStart-a)/this.overScrollResistance),this.scrollTransform.changedDirty=!0,ae.app.screen.set_focusedVisual(this)),this.scrollVelocity.add(n-this.pointerStart,i)):(s<l&&l>=Math.max(lt.threshold,this.dragThreshold)&&!((0<this.noDragThreshold||l<s)&&r<=s)&&(this.set_status(st.DRAGGING),this.fromWheel=!1,this.pointerStart=e,this.scrollTransform.tx=this.contentStart+e-this.pointerStart,0<this.scrollTransform.tx?(this.scrollVelocity.reset(),o=Math.max(this.contentStart,0),this.pointerStart=this.contentStart+e-(o+(this.scrollTransform.tx-o)*this.overScrollResistance),this.scrollTransform.tx=o+(this.contentStart+e-this.pointerStart-o)/this.overScrollResistance):this.scrollTransform.tx<this.get_width()-this.content.get_width()&&(this.scrollVelocity.reset(),c=Math.min(this.contentStart,this.get_width()-this.content.get_width()),this.pointerStart=this.contentStart+e-(c+(this.scrollTransform.tx-c)*this.overScrollResistance),this.scrollTransform.tx=c+(this.contentStart+e-this.pointerStart-c)/this.overScrollResistance),this.scrollTransform.changedDirty=!0,ae.app.screen.set_focusedVisual(this)),this.scrollVelocity.add(e-this.pointerStart,i));break;case 2:var h,a,o,c;this.direction==it.VERTICAL?(e=this.pointerStart+(n-this.pointerStart)*this.dragFactor,this.scrollTransform.ty=this.contentStart+n-this.pointerStart,h=Math.max(this.contentStart,0),this.scrollTransform.ty>h?this.scrollTransform.ty=h+(this.scrollTransform.ty-h)/this.overScrollResistance:(a=Math.min(this.contentStart,this.get_height()-this.content.get_height()),this.scrollTransform.ty<a&&(this.scrollTransform.ty=a+(this.scrollTransform.ty-a)/this.overScrollResistance)),this.scrollTransform.changedDirty=!0,this.scrollVelocity.add(n-this.pointerStart,i)):(e=this.pointerStart+(e-this.pointerStart)*this.dragFactor,this.scrollTransform.tx=this.contentStart+e-this.pointerStart,o=Math.max(this.contentStart,0),this.scrollTransform.tx>o?this.scrollTransform.tx=o+(this.scrollTransform.tx-o)/this.overScrollResistance:(c=Math.min(this.contentStart,this.get_width()-this.content.get_width()),this.scrollTransform.tx<c&&(this.scrollTransform.tx=c+(this.scrollTransform.tx-c)/this.overScrollResistance)),this.scrollTransform.changedDirty=!0,this.scrollVelocity.add(e-this.pointerStart,i));break;case 3:l=0;this.direction==it.VERTICAL?this.animating||(this.pagingEnabled||0<this.scrollTransform.ty||this.scrollTransform.ty<this.get_height()-this.content.get_height()?this.bounceScroll():(l=this.fromWheel?Math.round(this.wheelDeceleration*ae.app.screen.height/(ee.app.screenHeight*ee.app.screenDensity)):Math.round(this.deceleration*ae.app.screen.height/(ee.app.screenHeight*ee.app.screenDensity)),this.scrollTransform.ty+=this.momentum*t,this.scrollTransform.changedDirty=!0)):this.animating||(this.pagingEnabled||0<this.scrollTransform.tx||this.scrollTransform.tx<this.get_width()-this.content.get_width()?this.bounceScroll():(l=this.fromWheel?Math.round(this.wheelDeceleration*ae.app.screen.width/(ee.app.screenWidth*ee.app.screenDensity)):Math.round(this.deceleration*ae.app.screen.width/(ee.app.screenWidth*ee.app.screenDensity)),this.scrollTransform.tx+=this.momentum*t,this.scrollTransform.changedDirty=!0)),0<this.momentum?this.momentum=Math.max(0,this.momentum-l*t):this.momentum<0?this.momentum=Math.min(0,this.momentum+l*t):0!=this.momentum||this.animating||this.set_status(st.IDLE)}},stop:function(){o.prototype.stop.call(this),this.set_status(st.IDLE),this.set_animating(!1),null!=this.tweenX&&this.tweenX.destroy(),null!=this.tweenY&&this.tweenY.destroy()},stopTweens:function(){null!=this.tweenX&&this.tweenX.destroy(),null!=this.tweenY&&this.tweenY.destroy()},scrollTo:function(e,n){this.stop(),this.scrollTransform.tx!=-e&&(this.scrollTransform.tx=-e,this.scrollTransform.changedDirty=!0),this.scrollTransform.ty!=-n&&(this.scrollTransform.ty=-n,this.scrollTransform.changedDirty=!0)},smoothScrollTo:function(e,n,t,i){null==t&&(t=.15);var l,s,r=this,h=(null!=this.tweenX&&this.tweenX.destroy(),null!=this.tweenY&&this.tweenY.destroy(),this.momentum=0,!1);null==i&&(i=rn.QUAD_EASE_IN_OUT),e!=-this.scrollTransform.tx&&(this.set_animating(!0),this.set_status(st.SCROLLING),h=!0,l=this.tween(i,t,-this.scrollTransform.tx,e,function(e,n){r.scrollTransform.tx!=-e&&(r.scrollTransform.tx=-e,r.scrollTransform.changedDirty=!0)}),(this.tweenX=l).onceComplete(this,function(){r.set_animating(!1),r.set_status(st.IDLE)}),l.onDestroy(this,function(e){r.tweenX==l&&(r.tweenX=null)})),n!=-this.scrollTransform.ty&&(this.set_animating(!0),this.set_status(st.SCROLLING),h=!0,s=this.tween(i,t,-this.scrollTransform.ty,n,function(e,n){r.scrollTransform.ty!=-e&&(r.scrollTransform.ty=-e,r.scrollTransform.changedDirty=!0)}),(this.tweenY=s).onceComplete(this,function(){r.set_animating(!1),r.set_status(st.IDLE)}),s.onDestroy(this,function(e){r.tweenY==s&&(r.tweenY=null)})),h||(this.set_animating(!1),this.set_status(st.IDLE))},snapTo:function(e,n,t,i){null==t&&(t=.15),this.momentum=0,this.set_animating(!0),null!=this.tweenX&&this.tweenX.destroy(),null!=this.tweenY&&this.tweenY.destroy(),this.set_status(st.SCROLLING),0<t?this.smoothScrollTo(e,n,t,i):this.scrollTo(n,n)},bounceScroll:function(){var t,i,l,n,s,r,h,a,o,e,c,u,_,d,b,g=this,O=this.momentum;this.momentum=0,null!=this.tweenX&&this.tweenX.destroy(),null!=this.tweenY&&this.tweenY.destroy(),this.set_status(st.SCROLLING),this.direction==it.VERTICAL?(null!=this.tweenY&&this.tweenY.destroy(),!this.releaseSnap&&(0<O||O<0)?(c=rn.LINEAR,t=Math.abs(-this.scrollTransform.ty-this.content.get_height()+this.get_height())<Math.abs(-this.scrollTransform.ty)?this.content.get_height()-this.get_height():0,i=-this.scrollTransform.ty-t,l=-this.scrollTransform.ty+O*this.bounceMomentumFactor-t,e=this.bounceMinDuration+Math.abs(O)*this.bounceDurationFactor,this.set_animating(!0),n=this.tween(c,e,0,1,function(e,n){e=e<=.5?(2*i*(1-2*e)+2*e*l)/2:l*(1-2*(e-.5))/2,e=t+e;g.scrollTransform.ty!=-e&&(g.scrollTransform.ty=-e,g.scrollTransform.changedDirty=!0)}),(this.tweenY=n).onceComplete(this,function(){g.set_animating(!1),g.set_status(st.IDLE)}),n.onDestroy(this,function(e){g.tweenY==n&&(g.tweenY=null)})):(e=this.bounceNoMomentumDuration,c=rn.QUAD_EASE_OUT,u=-this.scrollTransform.ty,d=this.pagingEnabled?(_=this._computeTargetPageIndex(-this.scrollTransform.tx,-this.scrollTransform.ty,O,this.pageIndexOnStartDrag),this.getTargetScrollYForPageIndex(_)):!(this.content.get_height()<=this.get_height())&&Math.abs(-this.scrollTransform.ty-this.content.get_height()+this.get_height())<Math.abs(-this.scrollTransform.ty)?this.content.get_height()-this.get_height():0,this.set_animating(!0),s=this.tween(c,2*e,u,d,function(e,n){g.scrollTransform.ty!=-e&&(g.scrollTransform.ty=-e,g.scrollTransform.changedDirty=!0)}),(this.tweenY=s).onceComplete(this,function(){g.set_animating(!1),g.set_status(st.IDLE)}),s.onDestroy(this,function(e){g.tweenY==s&&(g.tweenY=null)}))):(null!=this.tweenX&&this.tweenX.destroy(),!this.releaseSnap&&(0<O||O<0)?(c=rn.LINEAR,r=Math.abs(-this.scrollTransform.tx-this.content.get_width()+this.get_width())<Math.abs(-this.scrollTransform.tx)?this.content.get_width()-this.get_width():0,h=-this.scrollTransform.tx-r,a=-this.scrollTransform.tx+O*this.bounceMomentumFactor-r,e=this.bounceMinDuration+Math.abs(O)*this.bounceDurationFactor,o=this.tween(c,e,0,1,function(e,n){e=e<=.5?(2*h*(1-2*e)+2*e*a)/2:a*(1-2*(e-.5))/2,e=r+e;g.scrollTransform.tx!=-e&&(g.scrollTransform.tx=-e,g.scrollTransform.changedDirty=!0)}),(this.tweenX=o).onceComplete(this,function(){g.set_animating(!1),g.set_status(st.IDLE)}),o.onDestroy(this,function(e){g.tweenX==o&&(g.tweenX=null)})):(e=this.bounceNoMomentumDuration,c=rn.QUAD_EASE_OUT,u=-this.scrollTransform.tx,d=this.pagingEnabled?(_=this._computeTargetPageIndex(-this.scrollTransform.tx,-this.scrollTransform.ty,O,this.pageIndexOnStartDrag),this.getTargetScrollXForPageIndex(_)):!(this.content.get_width()<=this.get_width())&&Math.abs(-this.scrollTransform.tx-this.content.get_width()+this.get_width())<Math.abs(-this.scrollTransform.tx)?this.content.get_width()-this.get_width():0,this.set_animating(!0),b=this.tween(c,2*e,u,d,function(e,n){g.scrollTransform.tx!=-e&&(g.scrollTransform.tx=-e,g.scrollTransform.changedDirty=!0)}),(this.tweenX=b).onceComplete(this,function(){g.set_animating(!1),g.set_status(st.IDLE)}),b.onDestroy(this,function(e){g.tweenX==b&&(g.tweenX=null)})))},pagingEnabled:null,pageSize:null,pageSpacing:null,pageMomentumThreshold:null,pageIndexOnStartDrag:null,pageIndexFromScroll:function(e,n){var n=this.direction==it.VERTICAL?n:e,e=0<this.pageSize?this.pageSize:this.direction==it.VERTICAL?this.get_height():this.get_width(),n=n/(e+this.pageSpacing),t=Math.floor(n);return t+(.5<=(n-t)*((e+this.pageSpacing)/e)?1:0)},_computeTargetPageIndex:function(e,n,t,i){e=this.pageIndexFromScroll(e,n),n=0<this.pageSize?this.pageSize:this.direction==it.VERTICAL?this.get_height():this.get_width();return t<=-n?e=i+1:n<=t&&(e=i-1),e},scrollToPageIndex:function(e){var n=-this.scrollTransform.tx,t=-this.scrollTransform.ty;this.direction==it.VERTICAL?t=this.getTargetScrollYForPageIndex(e):n=this.getTargetScrollXForPageIndex(e),this.scrollTo(n,t)},smoothScrollToPageIndex:function(e,n,t,i){null==i&&(i=!1),null==n&&(n=.15);var l=-this.scrollTransform.tx,s=-this.scrollTransform.ty;this.direction==it.VERTICAL?s=this.getTargetScrollYForPageIndex(e,i):l=this.getTargetScrollXForPageIndex(e,i),this.smoothScrollTo(l,s,n,t)},getTargetScrollXForPageIndex:function(e,n){return null==n&&(n=!1),this.direction==it.VERTICAL?-this.scrollTransform.tx:(e=e*((0<this.pageSize?this.pageSize:this.get_width())+this.pageSpacing),n||(this.content.get_width()-this.get_width()<e?e=this.content.get_width()-this.get_width():e<0&&(e=0)),e)},getTargetScrollYForPageIndex:function(e,n){return null==n&&(n=!1),this.direction==it.HORIZONTAL?-this.scrollTransform.ty:(e=e*((0<this.pageSize?this.pageSize:this.get_height())+this.pageSpacing),n||(this.content.get_height()-this.get_height()<e?e=this.content.get_height()-this.get_height():e<0&&(e=0)),e)},unbindEvents:function(){o.prototype.unbindEvents.call(this),this.offObservedDirty(),this.offStatusChange(),this.offAnimateStart(),this.offAnimateEnd(),this.offDragStart(),this.offDragEnd(),this.offWheelStart(),this.offWheelEnd(),this.offClick(),this.offScrollerPointerDown(),this.offScrollerPointerUp()},__class__:lt,__properties__:$extend(o.prototype.__properties__,{set_animating:"set_animating",set_scrollY:"set_scrollY",get_scrollY:"get_scrollY",set_scrollX:"set_scrollX",get_scrollX:"get_scrollX",set_unobservedStatus:"set_unobservedStatus",set_status:"set_status",get_status:"get_status",set_roundScrollWhenIdle:"set_roundScrollWhenIdle",set_scrollEnabled:"set_scrollEnabled",set_scrollbar:"set_scrollbar"})}),_e["ceramic.ScrollerStatus"]={__ename__:"ceramic.ScrollerStatus",__constructs__:null,IDLE:{_hx_name:"IDLE",_hx_index:0,__enum__:"ceramic.ScrollerStatus",toString:c},TOUCHING:{_hx_name:"TOUCHING",_hx_index:1,__enum__:"ceramic.ScrollerStatus",toString:c},DRAGGING:{_hx_name:"DRAGGING",_hx_index:2,__enum__:"ceramic.ScrollerStatus",toString:c},SCROLLING:{_hx_name:"SCROLLING",_hx_index:3,__enum__:"ceramic.ScrollerStatus",toString:c}}),rt=(st.__constructs__=[st.IDLE,st.TOUCHING,st.DRAGGING,st.SCROLLING],function(e,n,t,i,l,s){null==s&&(s=1),null==l&&(l=1),null==i&&(i=0),null==t&&(t=0),this.initializerName=null,this.textCursorToggleVisibilityTime=1,this.textCursor=null,this.willUpdateSelection=!1,this.selectionBackgrounds=[],this.didDoubleClick=!1,this.doubleClick=null,this.boundContainer=null,this.unobservedPointerIsDown=!1,this.pointerIsDownAutoruns=null,this.unobservedInvertedSelection=!1,this.invertedSelectionAutoruns=null,this.unobservedSelectionEnd=-1,this.selectionEndAutoruns=null,this.unobservedSelectionStart=-1,this.selectionStartAutoruns=null,this.unobservedShowCursor=!1,this.showCursorAutoruns=null,this.unobservedAllowSelectingFromPointer=!1,this.allowSelectingFromPointerAutoruns=null,this.unobservedContainer=null,this.containerAutoruns=null,this.textCursorWidth=1,this.textCursorHeightFactor=1,this.textCursorOffsetY=0,this.textCursorOffsetX=0,this.observedDirty=!1,j.call(this),this.selectionColor=e,this.textCursorColor=n,this.textCursorOffsetX=t,this.textCursorOffsetY=i,this.textCursorHeightFactor=l,this.textCursorWidth=s}),ht=((E["ceramic.SelectText"]=rt).__name__="ceramic.SelectText",rt.__interfaces__=[s,a0],rt.__super__=j,rt.prototype=$extend(j.prototype,{__cbOnObservedDirty:null,__cbOnceObservedDirty:null,__cbOnOwnerUnbindObservedDirty:null,__cbOnceOwnerUnbindObservedDirty:null,emitObservedDirty:function(e,n){var t=0;if(null!=this.__cbOnObservedDirty&&(t+=this.__cbOnObservedDirty.length),null!=this.__cbOnceObservedDirty&&(t+=this.__cbOnceObservedDirty.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnObservedDirty)for(var r=0,h=this.__cbOnObservedDirty.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnObservedDirty[a],++s):--t}if(null!=this.__cbOnceObservedDirty){for(var o=null,c=null,r=0,h=this.__cbOnceObservedDirty.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceObservedDirty[a],this.__cbOnceObservedDirty[a]=null,u=this.__cbOnceOwnerUnbindObservedDirty[a],(this.__cbOnceOwnerUnbindObservedDirty[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindObservedDirty[a]),c.push(this.__cbOnceObservedDirty[a]))}this.__cbOnceOwnerUnbindObservedDirty=o,this.__cbOnceObservedDirty=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onObservedDirty:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event observedDirty because owner is destroyed!");var l=function(e){null!=t&&(i.offObservedDirty(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push(null);null==this.__cbOnObservedDirty&&(this.__cbOnObservedDirty=[]),this.__cbOnObservedDirty.push(t)},onceObservedDirty:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event observedDirty because owner is destroyed!");var l=function(e){null!=t&&(i.offObservedDirty(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push(null);null==this.__cbOnceObservedDirty&&(this.__cbOnceObservedDirty=[]),this.__cbOnceObservedDirty.push(t)},offObservedDirty:function(e){if(null!=e){var n;null!=this.__cbOnObservedDirty&&-1!=(n=this.__cbOnObservedDirty.indexOf(e))&&(this.__cbOnObservedDirty.splice(n,1),null!=(s=this.__cbOnOwnerUnbindObservedDirty[n])&&s(),this.__cbOnOwnerUnbindObservedDirty.splice(n,1)),null!=this.__cbOnceObservedDirty&&-1!=(n=this.__cbOnceObservedDirty.indexOf(e))&&(this.__cbOnceObservedDirty.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindObservedDirty[n])&&s(),this.__cbOnceOwnerUnbindObservedDirty.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindObservedDirty){for(var t=0,i=this.__cbOnOwnerUnbindObservedDirty.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindObservedDirty[l])&&s()}this.__cbOnOwnerUnbindObservedDirty=null}if(null!=this.__cbOnceOwnerUnbindObservedDirty){for(t=0,i=this.__cbOnceOwnerUnbindObservedDirty.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindObservedDirty[l])&&s()}this.__cbOnceOwnerUnbindObservedDirty=null}this.__cbOnObservedDirty=null,this.__cbOnceObservedDirty=null}},listensObservedDirty:function(){return null!=this.__cbOnObservedDirty&&0<this.__cbOnObservedDirty.length||null!=this.__cbOnceObservedDirty&&0<this.__cbOnceObservedDirty.length},observedDirty:null,__cbOnSelection:null,__cbOnceSelection:null,__cbOnOwnerUnbindSelection:null,__cbOnceOwnerUnbindSelection:null,emitSelection:function(e,n,t){var i=0;if(null!=this.__cbOnSelection&&(i+=this.__cbOnSelection.length),null!=this.__cbOnceSelection&&(i+=this.__cbOnceSelection.length),0<i){var l=C.pool(i),s=l.get(),r=0;if(null!=this.__cbOnSelection)for(var h=0,a=this.__cbOnSelection.length;h<a;){var o=h++;!0?(s.vector[r]=this.__cbOnSelection[o],++r):--i}if(null!=this.__cbOnceSelection){for(var c=null,u=null,h=0,a=this.__cbOnceSelection.length;h<a;){var _,o=h++;!0?(s.vector[r]=this.__cbOnceSelection[o],this.__cbOnceSelection[o]=null,_=this.__cbOnceOwnerUnbindSelection[o],(this.__cbOnceOwnerUnbindSelection[o]=null)!=_&&_(),++r):(--i,null==c&&(c=[],u=[],0),c.push(this.__cbOnceOwnerUnbindSelection[o]),u.push(this.__cbOnceSelection[o]))}this.__cbOnceOwnerUnbindSelection=c,this.__cbOnceSelection=u}for(h=0,a=i;h<a;){r=h++;(0,s.vector[r])(e,n,t)}l.release(s)}},onSelection:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event selection because owner is destroyed!");var l=function(e){null!=t&&(i.offSelection(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindSelection&&(this.__cbOnOwnerUnbindSelection=[]),this.__cbOnOwnerUnbindSelection.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindSelection&&(this.__cbOnOwnerUnbindSelection=[]),this.__cbOnOwnerUnbindSelection.push(null);null==this.__cbOnSelection&&(this.__cbOnSelection=[]),this.__cbOnSelection.push(t)},onceSelection:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event selection because owner is destroyed!");var l=function(e){null!=t&&(i.offSelection(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindSelection&&(this.__cbOnceOwnerUnbindSelection=[]),this.__cbOnceOwnerUnbindSelection.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindSelection&&(this.__cbOnceOwnerUnbindSelection=[]),this.__cbOnceOwnerUnbindSelection.push(null);null==this.__cbOnceSelection&&(this.__cbOnceSelection=[]),this.__cbOnceSelection.push(t)},offSelection:function(e){if(null!=e){var n;null!=this.__cbOnSelection&&-1!=(n=this.__cbOnSelection.indexOf(e))&&(this.__cbOnSelection.splice(n,1),null!=(s=this.__cbOnOwnerUnbindSelection[n])&&s(),this.__cbOnOwnerUnbindSelection.splice(n,1)),null!=this.__cbOnceSelection&&-1!=(n=this.__cbOnceSelection.indexOf(e))&&(this.__cbOnceSelection.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindSelection[n])&&s(),this.__cbOnceOwnerUnbindSelection.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindSelection){for(var t=0,i=this.__cbOnOwnerUnbindSelection.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindSelection[l])&&s()}this.__cbOnOwnerUnbindSelection=null}if(null!=this.__cbOnceOwnerUnbindSelection){for(t=0,i=this.__cbOnceOwnerUnbindSelection.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindSelection[l])&&s()}this.__cbOnceOwnerUnbindSelection=null}this.__cbOnSelection=null,this.__cbOnceSelection=null}},listensSelection:function(){return null!=this.__cbOnSelection&&0<this.__cbOnSelection.length||null!=this.__cbOnceSelection&&0<this.__cbOnceSelection.length},entity:null,selectionColor:null,textCursorColor:null,textCursorOffsetX:null,textCursorOffsetY:null,textCursorHeightFactor:null,textCursorWidth:null,containerAutoruns:null,get_container:function(){var e,n,t=this.unobservedContainer;return null!=A.current&&(e=A.current,null!=(n=this.containerAutoruns)||(n=A.getAutorunArray(),null!=(this.containerAutoruns=n)))&&e.bindToAutorunArray(n),t},set_container:function(e){var n=this.unobservedContainer;return n!=(this.unobservedContainer=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitContainerChange(e,n),null!=(n=this.containerAutoruns))&&(this.containerAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateContainer:function(){var e=this.unobservedContainer,e=(this.emitContainerChange(e,e),this.containerAutoruns);null!=e&&(this.containerAutoruns=null,A.invalidateAutorunArray(e))},unobservedContainer:null,__cbOnContainerChange:null,__cbOnceContainerChange:null,__cbOnOwnerUnbindContainerChange:null,__cbOnceOwnerUnbindContainerChange:null,emitContainerChange:function(e,n){var t=0;if(null!=this.__cbOnContainerChange&&(t+=this.__cbOnContainerChange.length),null!=this.__cbOnceContainerChange&&(t+=this.__cbOnceContainerChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnContainerChange)for(var r=0,h=this.__cbOnContainerChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnContainerChange[a],++s):--t}if(null!=this.__cbOnceContainerChange){for(var o=null,c=null,r=0,h=this.__cbOnceContainerChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceContainerChange[a],this.__cbOnceContainerChange[a]=null,u=this.__cbOnceOwnerUnbindContainerChange[a],(this.__cbOnceOwnerUnbindContainerChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindContainerChange[a]),c.push(this.__cbOnceContainerChange[a]))}this.__cbOnceOwnerUnbindContainerChange=o,this.__cbOnceContainerChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onContainerChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event containerChange because owner is destroyed!");var l=function(e){null!=t&&(i.offContainerChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindContainerChange&&(this.__cbOnOwnerUnbindContainerChange=[]),this.__cbOnOwnerUnbindContainerChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindContainerChange&&(this.__cbOnOwnerUnbindContainerChange=[]),this.__cbOnOwnerUnbindContainerChange.push(null);null==this.__cbOnContainerChange&&(this.__cbOnContainerChange=[]),this.__cbOnContainerChange.push(t)},onceContainerChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event containerChange because owner is destroyed!");var l=function(e){null!=t&&(i.offContainerChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindContainerChange&&(this.__cbOnceOwnerUnbindContainerChange=[]),this.__cbOnceOwnerUnbindContainerChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindContainerChange&&(this.__cbOnceOwnerUnbindContainerChange=[]),this.__cbOnceOwnerUnbindContainerChange.push(null);null==this.__cbOnceContainerChange&&(this.__cbOnceContainerChange=[]),this.__cbOnceContainerChange.push(t)},offContainerChange:function(e){if(null!=e){var n;null!=this.__cbOnContainerChange&&-1!=(n=this.__cbOnContainerChange.indexOf(e))&&(this.__cbOnContainerChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindContainerChange[n])&&s(),this.__cbOnOwnerUnbindContainerChange.splice(n,1)),null!=this.__cbOnceContainerChange&&-1!=(n=this.__cbOnceContainerChange.indexOf(e))&&(this.__cbOnceContainerChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindContainerChange[n])&&s(),this.__cbOnceOwnerUnbindContainerChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindContainerChange){for(var t=0,i=this.__cbOnOwnerUnbindContainerChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindContainerChange[l])&&s()}this.__cbOnOwnerUnbindContainerChange=null}if(null!=this.__cbOnceOwnerUnbindContainerChange){for(t=0,i=this.__cbOnceOwnerUnbindContainerChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindContainerChange[l])&&s()}this.__cbOnceOwnerUnbindContainerChange=null}this.__cbOnContainerChange=null,this.__cbOnceContainerChange=null}},listensContainerChange:function(){return null!=this.__cbOnContainerChange&&0<this.__cbOnContainerChange.length||null!=this.__cbOnceContainerChange&&0<this.__cbOnceContainerChange.length},allowSelectingFromPointerAutoruns:null,get_allowSelectingFromPointer:function(){var e,n,t=this.unobservedAllowSelectingFromPointer;return null!=A.current&&(e=A.current,null!=(n=this.allowSelectingFromPointerAutoruns)||(n=A.getAutorunArray(),null!=(this.allowSelectingFromPointerAutoruns=n)))&&e.bindToAutorunArray(n),t},set_allowSelectingFromPointer:function(e){var n=this.unobservedAllowSelectingFromPointer;return n!=(this.unobservedAllowSelectingFromPointer=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitAllowSelectingFromPointerChange(e,n),null!=(n=this.allowSelectingFromPointerAutoruns))&&(this.allowSelectingFromPointerAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateAllowSelectingFromPointer:function(){var e=this.unobservedAllowSelectingFromPointer,e=(this.emitAllowSelectingFromPointerChange(e,e),this.allowSelectingFromPointerAutoruns);null!=e&&(this.allowSelectingFromPointerAutoruns=null,A.invalidateAutorunArray(e))},unobservedAllowSelectingFromPointer:null,__cbOnAllowSelectingFromPointerChange:null,__cbOnceAllowSelectingFromPointerChange:null,__cbOnOwnerUnbindAllowSelectingFromPointerChange:null,__cbOnceOwnerUnbindAllowSelectingFromPointerChange:null,emitAllowSelectingFromPointerChange:function(e,n){var t=0;if(null!=this.__cbOnAllowSelectingFromPointerChange&&(t+=this.__cbOnAllowSelectingFromPointerChange.length),null!=this.__cbOnceAllowSelectingFromPointerChange&&(t+=this.__cbOnceAllowSelectingFromPointerChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnAllowSelectingFromPointerChange)for(var r=0,h=this.__cbOnAllowSelectingFromPointerChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnAllowSelectingFromPointerChange[a],++s):--t}if(null!=this.__cbOnceAllowSelectingFromPointerChange){for(var o=null,c=null,r=0,h=this.__cbOnceAllowSelectingFromPointerChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceAllowSelectingFromPointerChange[a],this.__cbOnceAllowSelectingFromPointerChange[a]=null,u=this.__cbOnceOwnerUnbindAllowSelectingFromPointerChange[a],(this.__cbOnceOwnerUnbindAllowSelectingFromPointerChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindAllowSelectingFromPointerChange[a]),c.push(this.__cbOnceAllowSelectingFromPointerChange[a]))}this.__cbOnceOwnerUnbindAllowSelectingFromPointerChange=o,this.__cbOnceAllowSelectingFromPointerChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onAllowSelectingFromPointerChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event allowSelectingFromPointerChange because owner is destroyed!");var l=function(e){null!=t&&(i.offAllowSelectingFromPointerChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindAllowSelectingFromPointerChange&&(this.__cbOnOwnerUnbindAllowSelectingFromPointerChange=[]),this.__cbOnOwnerUnbindAllowSelectingFromPointerChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindAllowSelectingFromPointerChange&&(this.__cbOnOwnerUnbindAllowSelectingFromPointerChange=[]),this.__cbOnOwnerUnbindAllowSelectingFromPointerChange.push(null);null==this.__cbOnAllowSelectingFromPointerChange&&(this.__cbOnAllowSelectingFromPointerChange=[]),this.__cbOnAllowSelectingFromPointerChange.push(t)},onceAllowSelectingFromPointerChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event allowSelectingFromPointerChange because owner is destroyed!");var l=function(e){null!=t&&(i.offAllowSelectingFromPointerChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindAllowSelectingFromPointerChange&&(this.__cbOnceOwnerUnbindAllowSelectingFromPointerChange=[]),this.__cbOnceOwnerUnbindAllowSelectingFromPointerChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindAllowSelectingFromPointerChange&&(this.__cbOnceOwnerUnbindAllowSelectingFromPointerChange=[]),this.__cbOnceOwnerUnbindAllowSelectingFromPointerChange.push(null);null==this.__cbOnceAllowSelectingFromPointerChange&&(this.__cbOnceAllowSelectingFromPointerChange=[]),this.__cbOnceAllowSelectingFromPointerChange.push(t)},offAllowSelectingFromPointerChange:function(e){if(null!=e){var n;null!=this.__cbOnAllowSelectingFromPointerChange&&-1!=(n=this.__cbOnAllowSelectingFromPointerChange.indexOf(e))&&(this.__cbOnAllowSelectingFromPointerChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindAllowSelectingFromPointerChange[n])&&s(),this.__cbOnOwnerUnbindAllowSelectingFromPointerChange.splice(n,1)),null!=this.__cbOnceAllowSelectingFromPointerChange&&-1!=(n=this.__cbOnceAllowSelectingFromPointerChange.indexOf(e))&&(this.__cbOnceAllowSelectingFromPointerChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindAllowSelectingFromPointerChange[n])&&s(),this.__cbOnceOwnerUnbindAllowSelectingFromPointerChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindAllowSelectingFromPointerChange){for(var t=0,i=this.__cbOnOwnerUnbindAllowSelectingFromPointerChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindAllowSelectingFromPointerChange[l])&&s()}this.__cbOnOwnerUnbindAllowSelectingFromPointerChange=null}if(null!=this.__cbOnceOwnerUnbindAllowSelectingFromPointerChange){for(t=0,i=this.__cbOnceOwnerUnbindAllowSelectingFromPointerChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindAllowSelectingFromPointerChange[l])&&s()}this.__cbOnceOwnerUnbindAllowSelectingFromPointerChange=null}this.__cbOnAllowSelectingFromPointerChange=null,this.__cbOnceAllowSelectingFromPointerChange=null}},listensAllowSelectingFromPointerChange:function(){return null!=this.__cbOnAllowSelectingFromPointerChange&&0<this.__cbOnAllowSelectingFromPointerChange.length||null!=this.__cbOnceAllowSelectingFromPointerChange&&0<this.__cbOnceAllowSelectingFromPointerChange.length},showCursorAutoruns:null,get_showCursor:function(){var e,n,t=this.unobservedShowCursor;return null!=A.current&&(e=A.current,null!=(n=this.showCursorAutoruns)||(n=A.getAutorunArray(),null!=(this.showCursorAutoruns=n)))&&e.bindToAutorunArray(n),t},set_showCursor:function(e){var n=this.unobservedShowCursor;return n!=(this.unobservedShowCursor=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitShowCursorChange(e,n),null!=(n=this.showCursorAutoruns))&&(this.showCursorAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateShowCursor:function(){var e=this.unobservedShowCursor,e=(this.emitShowCursorChange(e,e),this.showCursorAutoruns);null!=e&&(this.showCursorAutoruns=null,A.invalidateAutorunArray(e))},unobservedShowCursor:null,__cbOnShowCursorChange:null,__cbOnceShowCursorChange:null,__cbOnOwnerUnbindShowCursorChange:null,__cbOnceOwnerUnbindShowCursorChange:null,emitShowCursorChange:function(e,n){var t=0;if(null!=this.__cbOnShowCursorChange&&(t+=this.__cbOnShowCursorChange.length),null!=this.__cbOnceShowCursorChange&&(t+=this.__cbOnceShowCursorChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnShowCursorChange)for(var r=0,h=this.__cbOnShowCursorChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnShowCursorChange[a],++s):--t}if(null!=this.__cbOnceShowCursorChange){for(var o=null,c=null,r=0,h=this.__cbOnceShowCursorChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceShowCursorChange[a],this.__cbOnceShowCursorChange[a]=null,u=this.__cbOnceOwnerUnbindShowCursorChange[a],(this.__cbOnceOwnerUnbindShowCursorChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindShowCursorChange[a]),c.push(this.__cbOnceShowCursorChange[a]))}this.__cbOnceOwnerUnbindShowCursorChange=o,this.__cbOnceShowCursorChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onShowCursorChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event showCursorChange because owner is destroyed!");var l=function(e){null!=t&&(i.offShowCursorChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindShowCursorChange&&(this.__cbOnOwnerUnbindShowCursorChange=[]),this.__cbOnOwnerUnbindShowCursorChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindShowCursorChange&&(this.__cbOnOwnerUnbindShowCursorChange=[]),this.__cbOnOwnerUnbindShowCursorChange.push(null);null==this.__cbOnShowCursorChange&&(this.__cbOnShowCursorChange=[]),this.__cbOnShowCursorChange.push(t)},onceShowCursorChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event showCursorChange because owner is destroyed!");var l=function(e){null!=t&&(i.offShowCursorChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindShowCursorChange&&(this.__cbOnceOwnerUnbindShowCursorChange=[]),this.__cbOnceOwnerUnbindShowCursorChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindShowCursorChange&&(this.__cbOnceOwnerUnbindShowCursorChange=[]),this.__cbOnceOwnerUnbindShowCursorChange.push(null);null==this.__cbOnceShowCursorChange&&(this.__cbOnceShowCursorChange=[]),this.__cbOnceShowCursorChange.push(t)},offShowCursorChange:function(e){if(null!=e){var n;null!=this.__cbOnShowCursorChange&&-1!=(n=this.__cbOnShowCursorChange.indexOf(e))&&(this.__cbOnShowCursorChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindShowCursorChange[n])&&s(),this.__cbOnOwnerUnbindShowCursorChange.splice(n,1)),null!=this.__cbOnceShowCursorChange&&-1!=(n=this.__cbOnceShowCursorChange.indexOf(e))&&(this.__cbOnceShowCursorChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindShowCursorChange[n])&&s(),this.__cbOnceOwnerUnbindShowCursorChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindShowCursorChange){for(var t=0,i=this.__cbOnOwnerUnbindShowCursorChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindShowCursorChange[l])&&s()}this.__cbOnOwnerUnbindShowCursorChange=null}if(null!=this.__cbOnceOwnerUnbindShowCursorChange){for(t=0,i=this.__cbOnceOwnerUnbindShowCursorChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindShowCursorChange[l])&&s()}this.__cbOnceOwnerUnbindShowCursorChange=null}this.__cbOnShowCursorChange=null,this.__cbOnceShowCursorChange=null}},listensShowCursorChange:function(){return null!=this.__cbOnShowCursorChange&&0<this.__cbOnShowCursorChange.length||null!=this.__cbOnceShowCursorChange&&0<this.__cbOnceShowCursorChange.length},selectionStartAutoruns:null,get_selectionStart:function(){var e,n,t=this.unobservedSelectionStart;return null!=A.current&&(e=A.current,null!=(n=this.selectionStartAutoruns)||(n=A.getAutorunArray(),null!=(this.selectionStartAutoruns=n)))&&e.bindToAutorunArray(n),t},set_selectionStart:function(e){var n=this.unobservedSelectionStart;return n!=(this.unobservedSelectionStart=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitSelectionStartChange(e,n),null!=(n=this.selectionStartAutoruns))&&(this.selectionStartAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateSelectionStart:function(){var e=this.unobservedSelectionStart,e=(this.emitSelectionStartChange(e,e),this.selectionStartAutoruns);null!=e&&(this.selectionStartAutoruns=null,A.invalidateAutorunArray(e))},unobservedSelectionStart:null,__cbOnSelectionStartChange:null,__cbOnceSelectionStartChange:null,__cbOnOwnerUnbindSelectionStartChange:null,__cbOnceOwnerUnbindSelectionStartChange:null,emitSelectionStartChange:function(e,n){var t=0;if(null!=this.__cbOnSelectionStartChange&&(t+=this.__cbOnSelectionStartChange.length),null!=this.__cbOnceSelectionStartChange&&(t+=this.__cbOnceSelectionStartChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnSelectionStartChange)for(var r=0,h=this.__cbOnSelectionStartChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnSelectionStartChange[a],++s):--t}if(null!=this.__cbOnceSelectionStartChange){for(var o=null,c=null,r=0,h=this.__cbOnceSelectionStartChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceSelectionStartChange[a],this.__cbOnceSelectionStartChange[a]=null,u=this.__cbOnceOwnerUnbindSelectionStartChange[a],(this.__cbOnceOwnerUnbindSelectionStartChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindSelectionStartChange[a]),c.push(this.__cbOnceSelectionStartChange[a]))}this.__cbOnceOwnerUnbindSelectionStartChange=o,this.__cbOnceSelectionStartChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onSelectionStartChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event selectionStartChange because owner is destroyed!");var l=function(e){null!=t&&(i.offSelectionStartChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindSelectionStartChange&&(this.__cbOnOwnerUnbindSelectionStartChange=[]),this.__cbOnOwnerUnbindSelectionStartChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindSelectionStartChange&&(this.__cbOnOwnerUnbindSelectionStartChange=[]),this.__cbOnOwnerUnbindSelectionStartChange.push(null);null==this.__cbOnSelectionStartChange&&(this.__cbOnSelectionStartChange=[]),this.__cbOnSelectionStartChange.push(t)},onceSelectionStartChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event selectionStartChange because owner is destroyed!");var l=function(e){null!=t&&(i.offSelectionStartChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindSelectionStartChange&&(this.__cbOnceOwnerUnbindSelectionStartChange=[]),this.__cbOnceOwnerUnbindSelectionStartChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindSelectionStartChange&&(this.__cbOnceOwnerUnbindSelectionStartChange=[]),this.__cbOnceOwnerUnbindSelectionStartChange.push(null);null==this.__cbOnceSelectionStartChange&&(this.__cbOnceSelectionStartChange=[]),this.__cbOnceSelectionStartChange.push(t)},offSelectionStartChange:function(e){if(null!=e){var n;null!=this.__cbOnSelectionStartChange&&-1!=(n=this.__cbOnSelectionStartChange.indexOf(e))&&(this.__cbOnSelectionStartChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindSelectionStartChange[n])&&s(),this.__cbOnOwnerUnbindSelectionStartChange.splice(n,1)),null!=this.__cbOnceSelectionStartChange&&-1!=(n=this.__cbOnceSelectionStartChange.indexOf(e))&&(this.__cbOnceSelectionStartChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindSelectionStartChange[n])&&s(),this.__cbOnceOwnerUnbindSelectionStartChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindSelectionStartChange){for(var t=0,i=this.__cbOnOwnerUnbindSelectionStartChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindSelectionStartChange[l])&&s()}this.__cbOnOwnerUnbindSelectionStartChange=null}if(null!=this.__cbOnceOwnerUnbindSelectionStartChange){for(t=0,i=this.__cbOnceOwnerUnbindSelectionStartChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindSelectionStartChange[l])&&s()}this.__cbOnceOwnerUnbindSelectionStartChange=null}this.__cbOnSelectionStartChange=null,this.__cbOnceSelectionStartChange=null}},listensSelectionStartChange:function(){return null!=this.__cbOnSelectionStartChange&&0<this.__cbOnSelectionStartChange.length||null!=this.__cbOnceSelectionStartChange&&0<this.__cbOnceSelectionStartChange.length},selectionEndAutoruns:null,get_selectionEnd:function(){var e,n,t=this.unobservedSelectionEnd;return null!=A.current&&(e=A.current,null!=(n=this.selectionEndAutoruns)||(n=A.getAutorunArray(),null!=(this.selectionEndAutoruns=n)))&&e.bindToAutorunArray(n),t},set_selectionEnd:function(e){var n=this.unobservedSelectionEnd;return n!=(this.unobservedSelectionEnd=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitSelectionEndChange(e,n),null!=(n=this.selectionEndAutoruns))&&(this.selectionEndAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateSelectionEnd:function(){var e=this.unobservedSelectionEnd,e=(this.emitSelectionEndChange(e,e),this.selectionEndAutoruns);null!=e&&(this.selectionEndAutoruns=null,A.invalidateAutorunArray(e))},unobservedSelectionEnd:null,__cbOnSelectionEndChange:null,__cbOnceSelectionEndChange:null,__cbOnOwnerUnbindSelectionEndChange:null,__cbOnceOwnerUnbindSelectionEndChange:null,emitSelectionEndChange:function(e,n){var t=0;if(null!=this.__cbOnSelectionEndChange&&(t+=this.__cbOnSelectionEndChange.length),null!=this.__cbOnceSelectionEndChange&&(t+=this.__cbOnceSelectionEndChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnSelectionEndChange)for(var r=0,h=this.__cbOnSelectionEndChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnSelectionEndChange[a],++s):--t}if(null!=this.__cbOnceSelectionEndChange){for(var o=null,c=null,r=0,h=this.__cbOnceSelectionEndChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceSelectionEndChange[a],this.__cbOnceSelectionEndChange[a]=null,u=this.__cbOnceOwnerUnbindSelectionEndChange[a],(this.__cbOnceOwnerUnbindSelectionEndChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindSelectionEndChange[a]),c.push(this.__cbOnceSelectionEndChange[a]))}this.__cbOnceOwnerUnbindSelectionEndChange=o,this.__cbOnceSelectionEndChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onSelectionEndChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event selectionEndChange because owner is destroyed!");var l=function(e){null!=t&&(i.offSelectionEndChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindSelectionEndChange&&(this.__cbOnOwnerUnbindSelectionEndChange=[]),this.__cbOnOwnerUnbindSelectionEndChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindSelectionEndChange&&(this.__cbOnOwnerUnbindSelectionEndChange=[]),this.__cbOnOwnerUnbindSelectionEndChange.push(null);null==this.__cbOnSelectionEndChange&&(this.__cbOnSelectionEndChange=[]),this.__cbOnSelectionEndChange.push(t)},onceSelectionEndChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event selectionEndChange because owner is destroyed!");var l=function(e){null!=t&&(i.offSelectionEndChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindSelectionEndChange&&(this.__cbOnceOwnerUnbindSelectionEndChange=[]),this.__cbOnceOwnerUnbindSelectionEndChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindSelectionEndChange&&(this.__cbOnceOwnerUnbindSelectionEndChange=[]),this.__cbOnceOwnerUnbindSelectionEndChange.push(null);null==this.__cbOnceSelectionEndChange&&(this.__cbOnceSelectionEndChange=[]),this.__cbOnceSelectionEndChange.push(t)},offSelectionEndChange:function(e){if(null!=e){var n;null!=this.__cbOnSelectionEndChange&&-1!=(n=this.__cbOnSelectionEndChange.indexOf(e))&&(this.__cbOnSelectionEndChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindSelectionEndChange[n])&&s(),this.__cbOnOwnerUnbindSelectionEndChange.splice(n,1)),null!=this.__cbOnceSelectionEndChange&&-1!=(n=this.__cbOnceSelectionEndChange.indexOf(e))&&(this.__cbOnceSelectionEndChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindSelectionEndChange[n])&&s(),this.__cbOnceOwnerUnbindSelectionEndChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindSelectionEndChange){for(var t=0,i=this.__cbOnOwnerUnbindSelectionEndChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindSelectionEndChange[l])&&s()}this.__cbOnOwnerUnbindSelectionEndChange=null}if(null!=this.__cbOnceOwnerUnbindSelectionEndChange){for(t=0,i=this.__cbOnceOwnerUnbindSelectionEndChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindSelectionEndChange[l])&&s()}this.__cbOnceOwnerUnbindSelectionEndChange=null}this.__cbOnSelectionEndChange=null,this.__cbOnceSelectionEndChange=null}},listensSelectionEndChange:function(){return null!=this.__cbOnSelectionEndChange&&0<this.__cbOnSelectionEndChange.length||null!=this.__cbOnceSelectionEndChange&&0<this.__cbOnceSelectionEndChange.length},invertedSelectionAutoruns:null,get_invertedSelection:function(){var e,n,t=this.unobservedInvertedSelection;return null!=A.current&&(e=A.current,null!=(n=this.invertedSelectionAutoruns)||(n=A.getAutorunArray(),null!=(this.invertedSelectionAutoruns=n)))&&e.bindToAutorunArray(n),t},set_invertedSelection:function(e){var n=this.unobservedInvertedSelection;return n!=(this.unobservedInvertedSelection=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitInvertedSelectionChange(e,n),null!=(n=this.invertedSelectionAutoruns))&&(this.invertedSelectionAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateInvertedSelection:function(){var e=this.unobservedInvertedSelection,e=(this.emitInvertedSelectionChange(e,e),this.invertedSelectionAutoruns);null!=e&&(this.invertedSelectionAutoruns=null,A.invalidateAutorunArray(e))},unobservedInvertedSelection:null,__cbOnInvertedSelectionChange:null,__cbOnceInvertedSelectionChange:null,__cbOnOwnerUnbindInvertedSelectionChange:null,__cbOnceOwnerUnbindInvertedSelectionChange:null,emitInvertedSelectionChange:function(e,n){var t=0;if(null!=this.__cbOnInvertedSelectionChange&&(t+=this.__cbOnInvertedSelectionChange.length),null!=this.__cbOnceInvertedSelectionChange&&(t+=this.__cbOnceInvertedSelectionChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnInvertedSelectionChange)for(var r=0,h=this.__cbOnInvertedSelectionChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnInvertedSelectionChange[a],++s):--t}if(null!=this.__cbOnceInvertedSelectionChange){for(var o=null,c=null,r=0,h=this.__cbOnceInvertedSelectionChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceInvertedSelectionChange[a],this.__cbOnceInvertedSelectionChange[a]=null,u=this.__cbOnceOwnerUnbindInvertedSelectionChange[a],(this.__cbOnceOwnerUnbindInvertedSelectionChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindInvertedSelectionChange[a]),c.push(this.__cbOnceInvertedSelectionChange[a]))}this.__cbOnceOwnerUnbindInvertedSelectionChange=o,this.__cbOnceInvertedSelectionChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onInvertedSelectionChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event invertedSelectionChange because owner is destroyed!");var l=function(e){null!=t&&(i.offInvertedSelectionChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindInvertedSelectionChange&&(this.__cbOnOwnerUnbindInvertedSelectionChange=[]),this.__cbOnOwnerUnbindInvertedSelectionChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindInvertedSelectionChange&&(this.__cbOnOwnerUnbindInvertedSelectionChange=[]),this.__cbOnOwnerUnbindInvertedSelectionChange.push(null);null==this.__cbOnInvertedSelectionChange&&(this.__cbOnInvertedSelectionChange=[]),this.__cbOnInvertedSelectionChange.push(t)},onceInvertedSelectionChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event invertedSelectionChange because owner is destroyed!");var l=function(e){null!=t&&(i.offInvertedSelectionChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindInvertedSelectionChange&&(this.__cbOnceOwnerUnbindInvertedSelectionChange=[]),this.__cbOnceOwnerUnbindInvertedSelectionChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindInvertedSelectionChange&&(this.__cbOnceOwnerUnbindInvertedSelectionChange=[]),this.__cbOnceOwnerUnbindInvertedSelectionChange.push(null);null==this.__cbOnceInvertedSelectionChange&&(this.__cbOnceInvertedSelectionChange=[]),this.__cbOnceInvertedSelectionChange.push(t)},offInvertedSelectionChange:function(e){if(null!=e){var n;null!=this.__cbOnInvertedSelectionChange&&-1!=(n=this.__cbOnInvertedSelectionChange.indexOf(e))&&(this.__cbOnInvertedSelectionChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindInvertedSelectionChange[n])&&s(),this.__cbOnOwnerUnbindInvertedSelectionChange.splice(n,1)),null!=this.__cbOnceInvertedSelectionChange&&-1!=(n=this.__cbOnceInvertedSelectionChange.indexOf(e))&&(this.__cbOnceInvertedSelectionChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindInvertedSelectionChange[n])&&s(),this.__cbOnceOwnerUnbindInvertedSelectionChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindInvertedSelectionChange){for(var t=0,i=this.__cbOnOwnerUnbindInvertedSelectionChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindInvertedSelectionChange[l])&&s()}this.__cbOnOwnerUnbindInvertedSelectionChange=null}if(null!=this.__cbOnceOwnerUnbindInvertedSelectionChange){for(t=0,i=this.__cbOnceOwnerUnbindInvertedSelectionChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindInvertedSelectionChange[l])&&s()}this.__cbOnceOwnerUnbindInvertedSelectionChange=null}this.__cbOnInvertedSelectionChange=null,this.__cbOnceInvertedSelectionChange=null}},listensInvertedSelectionChange:function(){return null!=this.__cbOnInvertedSelectionChange&&0<this.__cbOnInvertedSelectionChange.length||null!=this.__cbOnceInvertedSelectionChange&&0<this.__cbOnceInvertedSelectionChange.length},pointerIsDownAutoruns:null,get_pointerIsDown:function(){var e,n,t=this.unobservedPointerIsDown;return null!=A.current&&(e=A.current,null!=(n=this.pointerIsDownAutoruns)||(n=A.getAutorunArray(),null!=(this.pointerIsDownAutoruns=n)))&&e.bindToAutorunArray(n),t},set_pointerIsDown:function(e){var n=this.unobservedPointerIsDown;return n!=(this.unobservedPointerIsDown=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitPointerIsDownChange(e,n),null!=(n=this.pointerIsDownAutoruns))&&(this.pointerIsDownAutoruns=null,A.invalidateAutorunArray(n)),e},invalidatePointerIsDown:function(){var e=this.unobservedPointerIsDown,e=(this.emitPointerIsDownChange(e,e),this.pointerIsDownAutoruns);null!=e&&(this.pointerIsDownAutoruns=null,A.invalidateAutorunArray(e))},unobservedPointerIsDown:null,__cbOnPointerIsDownChange:null,__cbOncePointerIsDownChange:null,__cbOnOwnerUnbindPointerIsDownChange:null,__cbOnceOwnerUnbindPointerIsDownChange:null,emitPointerIsDownChange:function(e,n){var t=0;if(null!=this.__cbOnPointerIsDownChange&&(t+=this.__cbOnPointerIsDownChange.length),null!=this.__cbOncePointerIsDownChange&&(t+=this.__cbOncePointerIsDownChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnPointerIsDownChange)for(var r=0,h=this.__cbOnPointerIsDownChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnPointerIsDownChange[a],++s):--t}if(null!=this.__cbOncePointerIsDownChange){for(var o=null,c=null,r=0,h=this.__cbOncePointerIsDownChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOncePointerIsDownChange[a],this.__cbOncePointerIsDownChange[a]=null,u=this.__cbOnceOwnerUnbindPointerIsDownChange[a],(this.__cbOnceOwnerUnbindPointerIsDownChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindPointerIsDownChange[a]),c.push(this.__cbOncePointerIsDownChange[a]))}this.__cbOnceOwnerUnbindPointerIsDownChange=o,this.__cbOncePointerIsDownChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onPointerIsDownChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event pointerIsDownChange because owner is destroyed!");var l=function(e){null!=t&&(i.offPointerIsDownChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindPointerIsDownChange&&(this.__cbOnOwnerUnbindPointerIsDownChange=[]),this.__cbOnOwnerUnbindPointerIsDownChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindPointerIsDownChange&&(this.__cbOnOwnerUnbindPointerIsDownChange=[]),this.__cbOnOwnerUnbindPointerIsDownChange.push(null);null==this.__cbOnPointerIsDownChange&&(this.__cbOnPointerIsDownChange=[]),this.__cbOnPointerIsDownChange.push(t)},oncePointerIsDownChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event pointerIsDownChange because owner is destroyed!");var l=function(e){null!=t&&(i.offPointerIsDownChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindPointerIsDownChange&&(this.__cbOnceOwnerUnbindPointerIsDownChange=[]),this.__cbOnceOwnerUnbindPointerIsDownChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindPointerIsDownChange&&(this.__cbOnceOwnerUnbindPointerIsDownChange=[]),this.__cbOnceOwnerUnbindPointerIsDownChange.push(null);null==this.__cbOncePointerIsDownChange&&(this.__cbOncePointerIsDownChange=[]),this.__cbOncePointerIsDownChange.push(t)},offPointerIsDownChange:function(e){if(null!=e){var n;null!=this.__cbOnPointerIsDownChange&&-1!=(n=this.__cbOnPointerIsDownChange.indexOf(e))&&(this.__cbOnPointerIsDownChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindPointerIsDownChange[n])&&s(),this.__cbOnOwnerUnbindPointerIsDownChange.splice(n,1)),null!=this.__cbOncePointerIsDownChange&&-1!=(n=this.__cbOncePointerIsDownChange.indexOf(e))&&(this.__cbOncePointerIsDownChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindPointerIsDownChange[n])&&s(),this.__cbOnceOwnerUnbindPointerIsDownChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindPointerIsDownChange){for(var t=0,i=this.__cbOnOwnerUnbindPointerIsDownChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindPointerIsDownChange[l])&&s()}this.__cbOnOwnerUnbindPointerIsDownChange=null}if(null!=this.__cbOnceOwnerUnbindPointerIsDownChange){for(t=0,i=this.__cbOnceOwnerUnbindPointerIsDownChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindPointerIsDownChange[l])&&s()}this.__cbOnceOwnerUnbindPointerIsDownChange=null}this.__cbOnPointerIsDownChange=null,this.__cbOncePointerIsDownChange=null}},listensPointerIsDownChange:function(){return null!=this.__cbOnPointerIsDownChange&&0<this.__cbOnPointerIsDownChange.length||null!=this.__cbOncePointerIsDownChange&&0<this.__cbOncePointerIsDownChange.length},boundContainer:null,doubleClick:null,didDoubleClick:null,selectionBackgrounds:null,willUpdateSelection:null,textCursor:null,textCursorToggleVisibilityTime:null,bindAsComponent:function(){var t=this;this.entity.onGlyphQuadsChange(this,$bind(this,this.updateSelectionGraphics)),ae.app.onUpdate(this,$bind(this,this.updateCursorVisibility)),this.onShowCursorChange(this,$bind(this,this.handleShowCursorChange)),this.autorun($bind(this,this.updateFromSelection)),this.autorun($bind(this,this.updatePointerEventBindings)),this.onSelectionStartChange(this,function(e,n){t.updateSelectionGraphics()}),this.onSelectionEndChange(this,function(e,n){t.updateSelectionGraphics()}),this.bindKeyBindings()},updateFromSelection:function(){var e=this.get_selectionStart(),n=this.get_selectionEnd(),t=this.get_invertedSelection();A.unobserve(),this.emitSelection(e,n,t),this.resetCursorVisibility(),this.updateSelectionGraphics(),A.reobserve()},updateSelectionGraphics:function(){this.willUpdateSelection||(this.willUpdateSelection=!0,ae.app._onceImmediate($bind(this,this.doUpdateSelectionGraphics)))},doUpdateSelectionGraphics:function(){var n=this;if(this.willUpdateSelection=!1,-1==this.get_selectionStart()||-1==this.get_selectionEnd())this.clearSelectionGraphics();else{var e,t=this.entity.glyphQuads,i=-1,l=-1,s=-1,r=-1,h=-1,a=-1,o=Math.round(.1*this.entity.pointSize),c=Math.round(this.entity.pointSize*(this.textCursorHeightFactor-.8)),u=Math.ceil(this.entity.pointSize),_=this.textCursorWidth,d=Math.ceil(this.entity.pointSize),b=this.entity.lineHeight*this.entity.font.fontData.lineHeight*this.entity.pointSize/this.entity.font.fontData.pointSize,g=.4*this.entity.pointSize;if(this.get_selectionEnd()>this.get_selectionStart()){null!=this.textCursor&&(this.textCursor.destroy(),this.textCursor=null);for(var O=0,f=t.length;O<f;){var C,v,w,m=(T=t[U=O++]).index,y=T.line;this.get_selectionEnd()>this.get_selectionStart()&&(-1==l&&m>=this.get_selectionStart()&&(0<U&&m>this.get_selectionStart()&&0==T.posInLine?(w=t[U-1],v=this.entity.lineForIndex(this.get_selectionStart()),C=this.entity.lineForIndex(this.get_selectionEnd()),T.line,v<C&&v==w.line&&(l=y-1,s=w.glyphX+w.glyphAdvance,h=w.glyphX+w.glyphAdvance+g,r=w.glyphY,a=w.glyphY+u,++i,null==(C=[n.selectionBackgrounds[i]])[0]&&(C[0]=new p,n.selectionBackgrounds[i]=C[0],C[0].set_depth(-1),n.entity.add(C[0]),C[0].autorun(function(e){return function(){e[0].color=n.selectionColor}}(C))),0==s?(A=r-o+n.textCursorOffsetY,C[0].set_x(s-o+n.textCursorOffsetX),C[0].set_y(A),C[0].set_width(h+o-s+1)):(k=r-o+n.textCursorOffsetY,C[0].set_x(s+n.textCursorOffsetX),C[0].set_y(k),C[0].set_width(h-s+1)),C[0].set_height(a+2*o-r)),l=-1,m>=this.get_selectionStart()&&m<this.get_selectionEnd()&&(l=y,s=T.glyphX,h=0,r=T.glyphY,a=T.glyphY+u)):m<=this.get_selectionEnd()&&(l=y,s=T.glyphX,h=T.glyphX+T.glyphAdvance,r=T.glyphY,a=T.glyphY+u)),-1!=l)&&(l<y||m>=this.get_selectionEnd()?(0<U&&0==T.posInLine&&this.get_selectionEnd()-1>t[U-1].index&&(h=(v=t[U-1]).glyphX+v.glyphAdvance+g),++i,null==(w=[n.selectionBackgrounds[i]])[0]&&(w[0]=new p,n.selectionBackgrounds[i]=w[0],w[0].set_depth(-1),n.entity.add(w[0]),w[0].autorun(function(e){return function(){e[0].color=n.selectionColor}}(w))),0==s?(B=r-o+n.textCursorOffsetY,w[0].set_x(s-o+n.textCursorOffsetX),w[0].set_y(B),w[0].set_width(h+o-s+1)):(D=r-o+n.textCursorOffsetY,w[0].set_x(s+n.textCursorOffsetX),w[0].set_y(D),w[0].set_width(h-s+1)),w[0].set_height(a+2*o-r),l=-1,m>=this.get_selectionStart()&&m<this.get_selectionEnd()&&(l=y,s=T.glyphX,h=T.glyphX+T.glyphAdvance,r=T.glyphY,a=T.glyphY+u)):(r=Math.min(r,T.glyphY),h=T.glyphX+T.glyphAdvance,a=Math.max(a,T.glyphY+u)))}}else for(var U,T,D,x,O=0,f=t.length;O<f;){if((m=(T=t[U=O++]).index)==this.get_selectionStart()-1){null==n.textCursor&&(n.textCursor=new p,n.textCursor.autorun(function(){n.textCursor.color=n.textCursorColor}),n.textCursor.set_depth(0),n.entity.add(n.textCursor));var S=this.textCursor,A=T.glyphY-c+this.textCursorOffsetY,S=(S.set_x(T.glyphX+T.glyphAdvance+this.textCursorOffsetX),S.set_y(A),this.textCursor);S.set_width(_),S.set_height(d+2*c);break}if(m>=this.get_selectionStart()){null==n.textCursor&&(n.textCursor=new p,n.textCursor.autorun(function(){n.textCursor.color=n.textCursorColor}),n.textCursor.set_depth(0),n.entity.add(n.textCursor));for(var S=this.textCursor,k=T.glyphY-.5*c+this.textCursorOffsetY,I=(S.set_x(T.glyphX+this.textCursorOffsetX),S.set_y(k),this.textCursor),P=(I.set_width(_),I.set_height(d+2*c),T.line),F=this.entity.lineForIndex(this.get_selectionStart());F<P;){var M=this.textCursor,B=this.textCursor.y-b;M.set_x(0),M.set_y(B),--P}break}U==t.length-1&&(null==n.textCursor&&(n.textCursor=new p,n.textCursor.autorun(function(){n.textCursor.color=n.textCursorColor}),n.textCursor.set_depth(0),n.entity.add(n.textCursor)),I=this.textCursor,D=T.glyphY-.5*c+this.textCursorOffsetY,I.set_x(T.glyphX+T.glyphAdvance+this.textCursorOffsetX),I.set_y(D),(x=this.textCursor).set_width(_),x.set_height(d+2*c))}for(-1!=l&&(null==(e=n.selectionBackgrounds[++i])&&(e=new p,(n.selectionBackgrounds[i]=e).set_depth(-1),n.entity.add(e),e.autorun(function(){e.color=n.selectionColor})),0==s?(A=r-o+n.textCursorOffsetY,e.set_x(s-o+n.textCursorOffsetX),e.set_y(A),e.set_width(h+o-s+1)):(A=r-o+n.textCursorOffsetY,e.set_x(s+n.textCursorOffsetX),e.set_y(A),e.set_width(h-s+1)),e.set_height(a+2*o-r));i<this.selectionBackgrounds.length-1;)this.selectionBackgrounds.pop().destroy()}},clearSelectionGraphics:function(){for(null!=this.textCursor&&(this.textCursor.destroy(),this.textCursor=null);0<this.selectionBackgrounds.length;)this.selectionBackgrounds.pop().destroy()},handleShowCursorChange:function(e,n){this.resetCursorVisibility()},updateCursorVisibility:function(e){if(null!=this.textCursor)if(this.get_showCursor())if(this.get_pointerIsDown())this.resetCursorVisibility();else for(this.textCursorToggleVisibilityTime-=e;this.textCursorToggleVisibilityTime<=0;)this.textCursorToggleVisibilityTime+=.5,this.textCursor.set_visible(!this.textCursor.visible);else this.textCursor.set_visible(!1)},resetCursorVisibility:function(){this.textCursorToggleVisibilityTime=.5,null!=this.textCursor&&this.textCursor.set_visible(this.get_showCursor())},updatePointerEventBindings:function(){var e=this.get_container(),n=this.get_allowSelectingFromPointer();A.unobserve(),null!=this.boundContainer&&(this.boundContainer.offPointerDown($bind(this,this.handlePointerDown)),this.boundContainer.offPointerUp($bind(this,this.handlePointerUp)),this.boundContainer=null),this.entity.offPointerDown($bind(this,this.handlePointerDown)),this.entity.offPointerUp($bind(this,this.handlePointerUp)),null!=this.doubleClick&&(this.doubleClick.destroy(),this.doubleClick=null),n?(n=this.entity,null!=e&&(this.boundContainer=n=e),n.onPointerDown(this,$bind(this,this.handlePointerDown)),n.onPointerUp(this,$bind(this,this.handlePointerUp)),this.doubleClick=new H0,this.doubleClick.onDoubleClick(this,$bind(this,this.handleDoubleClick)),n.component("doubleClick",this.doubleClick)):(this.set_pointerIsDown(!1),ae.app.screen.offPointerMove($bind(this,this.handlePointerMove))),A.reobserve()},indexFromScreenPosition:function(e,n){this.entity.screenToVisual(e,n,rt._point),e=rt._point.x,n=rt._point.y;n=this.entity.lineForYPosition(n),e=this.entity.posInLineForX(n,e);return this.entity.indexForPosInLine(n,e)},handlePointerDown:function(e){var n=ae.app.screen.pointerX,t=ae.app.screen.pointerY,n=this.indexFromScreenPosition(n,t);this.set_selectionStart(n),this.set_selectionEnd(n),this.set_invertedSelection(!1),this.resetCursorVisibility(),this.set_pointerIsDown(!0),ae.app.screen.onPointerMove(this,$bind(this,this.handlePointerMove))},handlePointerMove:function(e){this.updateSelectionFromMovingPointer(ae.app.screen.pointerX,ae.app.screen.pointerY)},handlePointerUp:function(e){ae.app.screen.offPointerMove($bind(this,this.handlePointerMove)),this.get_pointerIsDown()&&(this.set_pointerIsDown(!1),this.didDoubleClick?this.didDoubleClick=!1:this.updateSelectionFromMovingPointer(ae.app.screen.pointerX,ae.app.screen.pointerY))},updateSelectionFromMovingPointer:function(e,n){e=this.indexFromScreenPosition(e,n);this.get_invertedSelection()?e>=this.get_selectionEnd()?(this.set_invertedSelection(!1),this.set_selectionStart(this.get_selectionEnd()),this.set_selectionEnd(e)):this.set_selectionStart(e):e<this.get_selectionStart()?(this.set_invertedSelection(!0),this.set_selectionEnd(this.get_selectionStart()),this.set_selectionStart(e)):this.set_selectionEnd(e),this.resetCursorVisibility()},isSelectionBoundChararacter:function(e){return""==z.trim(e)||-1!="/\\<>()[]{}-".indexOf(e)},handleDoubleClick:function(){this.didDoubleClick=!0;for(var e=this.indexFromScreenPosition(ae.app.screen.pointerX,ae.app.screen.pointerY),n=this.entity.content,t=n.length,i=e,l=null,s=!1;0<i&&(l=n.charAt(i-1),""!=z.trim(l))&&-1=="/\\<>()[]{}-".indexOf(l);)s=!0,--i;var r=s?e:e+1;if(null!=(l=n.charAt(e))&&""!=z.trim(l))for(;r<t&&(l=n.charAt(r),""!=z.trim(l))&&-1=="/\\<>()[]{}-".indexOf(l);)++r;t<r&&(r=t),this.set_invertedSelection(!1),this.set_selectionStart(i),this.set_selectionEnd(r)},bindKeyBindings:function(){var n=this,t=new Ln;t.bind([Rn.CMD_OR_CTRL,Rn.KEY(99)],function(){var e;ae.app.screen.get_focusedVisual()!=n.entity||n.get_selectionEnd()-n.get_selectionStart()<=0||(e=n.entity.content.substring(n.get_selectionStart(),n.get_selectionEnd()),ae.app.backend.clipboard.setText(e))}),this.onDestroy(t,function(e){t.destroy(),t=null}),this.entity.component("selectText.keyBindings",t)},unbindEvents:function(){j.prototype.unbindEvents.call(this),this.offObservedDirty(),this.offContainerChange(),this.offAllowSelectingFromPointerChange(),this.offShowCursorChange(),this.offSelectionStartChange(),this.offSelectionEndChange(),this.offInvertedSelectionChange(),this.offPointerIsDownChange(),this.offSelection()},setEntity:function(e){e instanceof gt?this.entity=e:this.entity=null},getEntity:function(){return this.entity},initializerName:null,__class__:rt,__properties__:$extend(j.prototype.__properties__,{set_pointerIsDown:"set_pointerIsDown",get_pointerIsDown:"get_pointerIsDown",set_invertedSelection:"set_invertedSelection",get_invertedSelection:"get_invertedSelection",set_selectionEnd:"set_selectionEnd",get_selectionEnd:"get_selectionEnd",set_selectionStart:"set_selectionStart",get_selectionStart:"get_selectionStart",set_showCursor:"set_showCursor",get_showCursor:"get_showCursor",set_allowSelectingFromPointer:"set_allowSelectingFromPointer",get_allowSelectingFromPointer:"get_allowSelectingFromPointer",set_container:"set_container",get_container:"get_container"})}),function(){this.defaultShader=ms,this.defaultFont="font:RobotoMedium",this.backend={},this.assetsPath="assets",this.resizable=!1,this.antialiasing=0,this.appInfo=null,this.collections=null,this.orientation=0,this.unobservedPreventDefaultTouches=!1,this.preventDefaultTouchesAutoruns=null,this.unobservedPreventDefaultMouseWheel=!1,this.preventDefaultMouseWheelAutoruns=null,this.unobservedOverrideDelta=-1,this.overrideDeltaAutoruns=null,this.unobservedMaxDelta=.1,this.maxDeltaAutoruns=null,this.unobservedTargetFps=-1,this.targetFpsAutoruns=null,this.unobservedFullscreen=!1,this.fullscreenAutoruns=null,this.unobservedTitle="App",this.titleAutoruns=null,this.unobservedScaling=tt.FIT,this.scalingAutoruns=null,this.unobservedBackground=0,this.backgroundAutoruns=null,this.unobservedTargetDensity=0,this.targetDensityAutoruns=null,this.unobservedWindowHeight=0,this.windowHeightAutoruns=null,this.unobservedWindowWidth=0,this.windowWidthAutoruns=null,this.unobservedTargetHeight=0,this.targetHeightAutoruns=null,this.unobservedTargetWidth=0,this.targetWidthAutoruns=null,this.observedDirty=!1}),at=((E["ceramic.Settings"]=ht).__name__="ceramic.Settings",ht.__interfaces__=[s],ht.prototype={__cbOnObservedDirty:null,__cbOnceObservedDirty:null,__cbOnOwnerUnbindObservedDirty:null,__cbOnceOwnerUnbindObservedDirty:null,emitObservedDirty:function(e,n){var t=0;if(null!=this.__cbOnObservedDirty&&(t+=this.__cbOnObservedDirty.length),null!=this.__cbOnceObservedDirty&&(t+=this.__cbOnceObservedDirty.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnObservedDirty)for(var r=0,h=this.__cbOnObservedDirty.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnObservedDirty[a],++s):--t}if(null!=this.__cbOnceObservedDirty){for(var o=null,c=null,r=0,h=this.__cbOnceObservedDirty.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceObservedDirty[a],this.__cbOnceObservedDirty[a]=null,u=this.__cbOnceOwnerUnbindObservedDirty[a],(this.__cbOnceOwnerUnbindObservedDirty[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindObservedDirty[a]),c.push(this.__cbOnceObservedDirty[a]))}this.__cbOnceOwnerUnbindObservedDirty=o,this.__cbOnceObservedDirty=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onObservedDirty:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event observedDirty because owner is destroyed!");var l=function(e){null!=t&&(i.offObservedDirty(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push(null);null==this.__cbOnObservedDirty&&(this.__cbOnObservedDirty=[]),this.__cbOnObservedDirty.push(t)},onceObservedDirty:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event observedDirty because owner is destroyed!");var l=function(e){null!=t&&(i.offObservedDirty(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push(null);null==this.__cbOnceObservedDirty&&(this.__cbOnceObservedDirty=[]),this.__cbOnceObservedDirty.push(t)},offObservedDirty:function(e){if(null!=e){var n;null!=this.__cbOnObservedDirty&&-1!=(n=this.__cbOnObservedDirty.indexOf(e))&&(this.__cbOnObservedDirty.splice(n,1),null!=(s=this.__cbOnOwnerUnbindObservedDirty[n])&&s(),this.__cbOnOwnerUnbindObservedDirty.splice(n,1)),null!=this.__cbOnceObservedDirty&&-1!=(n=this.__cbOnceObservedDirty.indexOf(e))&&(this.__cbOnceObservedDirty.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindObservedDirty[n])&&s(),this.__cbOnceOwnerUnbindObservedDirty.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindObservedDirty){for(var t=0,i=this.__cbOnOwnerUnbindObservedDirty.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindObservedDirty[l])&&s()}this.__cbOnOwnerUnbindObservedDirty=null}if(null!=this.__cbOnceOwnerUnbindObservedDirty){for(t=0,i=this.__cbOnceOwnerUnbindObservedDirty.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindObservedDirty[l])&&s()}this.__cbOnceOwnerUnbindObservedDirty=null}this.__cbOnObservedDirty=null,this.__cbOnceObservedDirty=null}},listensObservedDirty:function(){return null!=this.__cbOnObservedDirty&&0<this.__cbOnObservedDirty.length||null!=this.__cbOnceObservedDirty&&0<this.__cbOnceObservedDirty.length},observedDirty:null,targetWidthAutoruns:null,get_targetWidth:function(){var e,n,t=this.unobservedTargetWidth;return null!=A.current&&(e=A.current,null!=(n=this.targetWidthAutoruns)||(n=A.getAutorunArray(),null!=(this.targetWidthAutoruns=n)))&&e.bindToAutorunArray(n),t},set_targetWidth:function(e){var n=this.unobservedTargetWidth;return n!=(this.unobservedTargetWidth=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitTargetWidthChange(e,n),null!=(n=this.targetWidthAutoruns))&&(this.targetWidthAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateTargetWidth:function(){var e=this.unobservedTargetWidth,e=(this.emitTargetWidthChange(e,e),this.targetWidthAutoruns);null!=e&&(this.targetWidthAutoruns=null,A.invalidateAutorunArray(e))},unobservedTargetWidth:null,__cbOnTargetWidthChange:null,__cbOnceTargetWidthChange:null,__cbOnOwnerUnbindTargetWidthChange:null,__cbOnceOwnerUnbindTargetWidthChange:null,emitTargetWidthChange:function(e,n){var t=0;if(null!=this.__cbOnTargetWidthChange&&(t+=this.__cbOnTargetWidthChange.length),null!=this.__cbOnceTargetWidthChange&&(t+=this.__cbOnceTargetWidthChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnTargetWidthChange)for(var r=0,h=this.__cbOnTargetWidthChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnTargetWidthChange[a],++s):--t}if(null!=this.__cbOnceTargetWidthChange){for(var o=null,c=null,r=0,h=this.__cbOnceTargetWidthChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceTargetWidthChange[a],this.__cbOnceTargetWidthChange[a]=null,u=this.__cbOnceOwnerUnbindTargetWidthChange[a],(this.__cbOnceOwnerUnbindTargetWidthChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindTargetWidthChange[a]),c.push(this.__cbOnceTargetWidthChange[a]))}this.__cbOnceOwnerUnbindTargetWidthChange=o,this.__cbOnceTargetWidthChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onTargetWidthChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event targetWidthChange because owner is destroyed!");var l=function(e){null!=t&&(i.offTargetWidthChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindTargetWidthChange&&(this.__cbOnOwnerUnbindTargetWidthChange=[]),this.__cbOnOwnerUnbindTargetWidthChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindTargetWidthChange&&(this.__cbOnOwnerUnbindTargetWidthChange=[]),this.__cbOnOwnerUnbindTargetWidthChange.push(null);null==this.__cbOnTargetWidthChange&&(this.__cbOnTargetWidthChange=[]),this.__cbOnTargetWidthChange.push(t)},onceTargetWidthChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event targetWidthChange because owner is destroyed!");var l=function(e){null!=t&&(i.offTargetWidthChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindTargetWidthChange&&(this.__cbOnceOwnerUnbindTargetWidthChange=[]),this.__cbOnceOwnerUnbindTargetWidthChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindTargetWidthChange&&(this.__cbOnceOwnerUnbindTargetWidthChange=[]),this.__cbOnceOwnerUnbindTargetWidthChange.push(null);null==this.__cbOnceTargetWidthChange&&(this.__cbOnceTargetWidthChange=[]),this.__cbOnceTargetWidthChange.push(t)},offTargetWidthChange:function(e){if(null!=e){var n;null!=this.__cbOnTargetWidthChange&&-1!=(n=this.__cbOnTargetWidthChange.indexOf(e))&&(this.__cbOnTargetWidthChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindTargetWidthChange[n])&&s(),this.__cbOnOwnerUnbindTargetWidthChange.splice(n,1)),null!=this.__cbOnceTargetWidthChange&&-1!=(n=this.__cbOnceTargetWidthChange.indexOf(e))&&(this.__cbOnceTargetWidthChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindTargetWidthChange[n])&&s(),this.__cbOnceOwnerUnbindTargetWidthChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindTargetWidthChange){for(var t=0,i=this.__cbOnOwnerUnbindTargetWidthChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindTargetWidthChange[l])&&s()}this.__cbOnOwnerUnbindTargetWidthChange=null}if(null!=this.__cbOnceOwnerUnbindTargetWidthChange){for(t=0,i=this.__cbOnceOwnerUnbindTargetWidthChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindTargetWidthChange[l])&&s()}this.__cbOnceOwnerUnbindTargetWidthChange=null}this.__cbOnTargetWidthChange=null,this.__cbOnceTargetWidthChange=null}},listensTargetWidthChange:function(){return null!=this.__cbOnTargetWidthChange&&0<this.__cbOnTargetWidthChange.length||null!=this.__cbOnceTargetWidthChange&&0<this.__cbOnceTargetWidthChange.length},targetHeightAutoruns:null,get_targetHeight:function(){var e,n,t=this.unobservedTargetHeight;return null!=A.current&&(e=A.current,null!=(n=this.targetHeightAutoruns)||(n=A.getAutorunArray(),null!=(this.targetHeightAutoruns=n)))&&e.bindToAutorunArray(n),t},set_targetHeight:function(e){var n=this.unobservedTargetHeight;return n!=(this.unobservedTargetHeight=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitTargetHeightChange(e,n),null!=(n=this.targetHeightAutoruns))&&(this.targetHeightAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateTargetHeight:function(){var e=this.unobservedTargetHeight,e=(this.emitTargetHeightChange(e,e),this.targetHeightAutoruns);null!=e&&(this.targetHeightAutoruns=null,A.invalidateAutorunArray(e))},unobservedTargetHeight:null,__cbOnTargetHeightChange:null,__cbOnceTargetHeightChange:null,__cbOnOwnerUnbindTargetHeightChange:null,__cbOnceOwnerUnbindTargetHeightChange:null,emitTargetHeightChange:function(e,n){var t=0;if(null!=this.__cbOnTargetHeightChange&&(t+=this.__cbOnTargetHeightChange.length),null!=this.__cbOnceTargetHeightChange&&(t+=this.__cbOnceTargetHeightChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnTargetHeightChange)for(var r=0,h=this.__cbOnTargetHeightChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnTargetHeightChange[a],++s):--t}if(null!=this.__cbOnceTargetHeightChange){for(var o=null,c=null,r=0,h=this.__cbOnceTargetHeightChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceTargetHeightChange[a],this.__cbOnceTargetHeightChange[a]=null,u=this.__cbOnceOwnerUnbindTargetHeightChange[a],(this.__cbOnceOwnerUnbindTargetHeightChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindTargetHeightChange[a]),c.push(this.__cbOnceTargetHeightChange[a]))}this.__cbOnceOwnerUnbindTargetHeightChange=o,this.__cbOnceTargetHeightChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onTargetHeightChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event targetHeightChange because owner is destroyed!");var l=function(e){null!=t&&(i.offTargetHeightChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindTargetHeightChange&&(this.__cbOnOwnerUnbindTargetHeightChange=[]),this.__cbOnOwnerUnbindTargetHeightChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindTargetHeightChange&&(this.__cbOnOwnerUnbindTargetHeightChange=[]),this.__cbOnOwnerUnbindTargetHeightChange.push(null);null==this.__cbOnTargetHeightChange&&(this.__cbOnTargetHeightChange=[]),this.__cbOnTargetHeightChange.push(t)},onceTargetHeightChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event targetHeightChange because owner is destroyed!");var l=function(e){null!=t&&(i.offTargetHeightChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindTargetHeightChange&&(this.__cbOnceOwnerUnbindTargetHeightChange=[]),this.__cbOnceOwnerUnbindTargetHeightChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindTargetHeightChange&&(this.__cbOnceOwnerUnbindTargetHeightChange=[]),this.__cbOnceOwnerUnbindTargetHeightChange.push(null);null==this.__cbOnceTargetHeightChange&&(this.__cbOnceTargetHeightChange=[]),this.__cbOnceTargetHeightChange.push(t)},offTargetHeightChange:function(e){if(null!=e){var n;null!=this.__cbOnTargetHeightChange&&-1!=(n=this.__cbOnTargetHeightChange.indexOf(e))&&(this.__cbOnTargetHeightChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindTargetHeightChange[n])&&s(),this.__cbOnOwnerUnbindTargetHeightChange.splice(n,1)),null!=this.__cbOnceTargetHeightChange&&-1!=(n=this.__cbOnceTargetHeightChange.indexOf(e))&&(this.__cbOnceTargetHeightChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindTargetHeightChange[n])&&s(),this.__cbOnceOwnerUnbindTargetHeightChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindTargetHeightChange){for(var t=0,i=this.__cbOnOwnerUnbindTargetHeightChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindTargetHeightChange[l])&&s()}this.__cbOnOwnerUnbindTargetHeightChange=null}if(null!=this.__cbOnceOwnerUnbindTargetHeightChange){for(t=0,i=this.__cbOnceOwnerUnbindTargetHeightChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindTargetHeightChange[l])&&s()}this.__cbOnceOwnerUnbindTargetHeightChange=null}this.__cbOnTargetHeightChange=null,this.__cbOnceTargetHeightChange=null}},listensTargetHeightChange:function(){return null!=this.__cbOnTargetHeightChange&&0<this.__cbOnTargetHeightChange.length||null!=this.__cbOnceTargetHeightChange&&0<this.__cbOnceTargetHeightChange.length},targetSize:function(e,n){this.set_targetWidth(e),this.set_targetHeight(n)},windowWidthAutoruns:null,get_windowWidth:function(){var e,n,t=this.unobservedWindowWidth;return null!=A.current&&(e=A.current,null!=(n=this.windowWidthAutoruns)||(n=A.getAutorunArray(),null!=(this.windowWidthAutoruns=n)))&&e.bindToAutorunArray(n),t},set_windowWidth:function(e){var n=this.unobservedWindowWidth;return n!=(this.unobservedWindowWidth=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitWindowWidthChange(e,n),null!=(n=this.windowWidthAutoruns))&&(this.windowWidthAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateWindowWidth:function(){var e=this.unobservedWindowWidth,e=(this.emitWindowWidthChange(e,e),this.windowWidthAutoruns);null!=e&&(this.windowWidthAutoruns=null,A.invalidateAutorunArray(e))},unobservedWindowWidth:null,__cbOnWindowWidthChange:null,__cbOnceWindowWidthChange:null,__cbOnOwnerUnbindWindowWidthChange:null,__cbOnceOwnerUnbindWindowWidthChange:null,emitWindowWidthChange:function(e,n){var t=0;if(null!=this.__cbOnWindowWidthChange&&(t+=this.__cbOnWindowWidthChange.length),null!=this.__cbOnceWindowWidthChange&&(t+=this.__cbOnceWindowWidthChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnWindowWidthChange)for(var r=0,h=this.__cbOnWindowWidthChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnWindowWidthChange[a],++s):--t}if(null!=this.__cbOnceWindowWidthChange){for(var o=null,c=null,r=0,h=this.__cbOnceWindowWidthChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceWindowWidthChange[a],this.__cbOnceWindowWidthChange[a]=null,u=this.__cbOnceOwnerUnbindWindowWidthChange[a],(this.__cbOnceOwnerUnbindWindowWidthChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindWindowWidthChange[a]),c.push(this.__cbOnceWindowWidthChange[a]))}this.__cbOnceOwnerUnbindWindowWidthChange=o,this.__cbOnceWindowWidthChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onWindowWidthChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event windowWidthChange because owner is destroyed!");var l=function(e){null!=t&&(i.offWindowWidthChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindWindowWidthChange&&(this.__cbOnOwnerUnbindWindowWidthChange=[]),this.__cbOnOwnerUnbindWindowWidthChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindWindowWidthChange&&(this.__cbOnOwnerUnbindWindowWidthChange=[]),this.__cbOnOwnerUnbindWindowWidthChange.push(null);null==this.__cbOnWindowWidthChange&&(this.__cbOnWindowWidthChange=[]),this.__cbOnWindowWidthChange.push(t)},onceWindowWidthChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event windowWidthChange because owner is destroyed!");var l=function(e){null!=t&&(i.offWindowWidthChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindWindowWidthChange&&(this.__cbOnceOwnerUnbindWindowWidthChange=[]),this.__cbOnceOwnerUnbindWindowWidthChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindWindowWidthChange&&(this.__cbOnceOwnerUnbindWindowWidthChange=[]),this.__cbOnceOwnerUnbindWindowWidthChange.push(null);null==this.__cbOnceWindowWidthChange&&(this.__cbOnceWindowWidthChange=[]),this.__cbOnceWindowWidthChange.push(t)},offWindowWidthChange:function(e){if(null!=e){var n;null!=this.__cbOnWindowWidthChange&&-1!=(n=this.__cbOnWindowWidthChange.indexOf(e))&&(this.__cbOnWindowWidthChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindWindowWidthChange[n])&&s(),this.__cbOnOwnerUnbindWindowWidthChange.splice(n,1)),null!=this.__cbOnceWindowWidthChange&&-1!=(n=this.__cbOnceWindowWidthChange.indexOf(e))&&(this.__cbOnceWindowWidthChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindWindowWidthChange[n])&&s(),this.__cbOnceOwnerUnbindWindowWidthChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindWindowWidthChange){for(var t=0,i=this.__cbOnOwnerUnbindWindowWidthChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindWindowWidthChange[l])&&s()}this.__cbOnOwnerUnbindWindowWidthChange=null}if(null!=this.__cbOnceOwnerUnbindWindowWidthChange){for(t=0,i=this.__cbOnceOwnerUnbindWindowWidthChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindWindowWidthChange[l])&&s()}this.__cbOnceOwnerUnbindWindowWidthChange=null}this.__cbOnWindowWidthChange=null,this.__cbOnceWindowWidthChange=null}},listensWindowWidthChange:function(){return null!=this.__cbOnWindowWidthChange&&0<this.__cbOnWindowWidthChange.length||null!=this.__cbOnceWindowWidthChange&&0<this.__cbOnceWindowWidthChange.length},windowHeightAutoruns:null,get_windowHeight:function(){var e,n,t=this.unobservedWindowHeight;return null!=A.current&&(e=A.current,null!=(n=this.windowHeightAutoruns)||(n=A.getAutorunArray(),null!=(this.windowHeightAutoruns=n)))&&e.bindToAutorunArray(n),t},set_windowHeight:function(e){var n=this.unobservedWindowHeight;return n!=(this.unobservedWindowHeight=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitWindowHeightChange(e,n),null!=(n=this.windowHeightAutoruns))&&(this.windowHeightAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateWindowHeight:function(){var e=this.unobservedWindowHeight,e=(this.emitWindowHeightChange(e,e),this.windowHeightAutoruns);null!=e&&(this.windowHeightAutoruns=null,A.invalidateAutorunArray(e))},unobservedWindowHeight:null,__cbOnWindowHeightChange:null,__cbOnceWindowHeightChange:null,__cbOnOwnerUnbindWindowHeightChange:null,__cbOnceOwnerUnbindWindowHeightChange:null,emitWindowHeightChange:function(e,n){var t=0;if(null!=this.__cbOnWindowHeightChange&&(t+=this.__cbOnWindowHeightChange.length),null!=this.__cbOnceWindowHeightChange&&(t+=this.__cbOnceWindowHeightChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnWindowHeightChange)for(var r=0,h=this.__cbOnWindowHeightChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnWindowHeightChange[a],++s):--t}if(null!=this.__cbOnceWindowHeightChange){for(var o=null,c=null,r=0,h=this.__cbOnceWindowHeightChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceWindowHeightChange[a],this.__cbOnceWindowHeightChange[a]=null,u=this.__cbOnceOwnerUnbindWindowHeightChange[a],(this.__cbOnceOwnerUnbindWindowHeightChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindWindowHeightChange[a]),c.push(this.__cbOnceWindowHeightChange[a]))}this.__cbOnceOwnerUnbindWindowHeightChange=o,this.__cbOnceWindowHeightChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onWindowHeightChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event windowHeightChange because owner is destroyed!");var l=function(e){null!=t&&(i.offWindowHeightChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindWindowHeightChange&&(this.__cbOnOwnerUnbindWindowHeightChange=[]),this.__cbOnOwnerUnbindWindowHeightChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindWindowHeightChange&&(this.__cbOnOwnerUnbindWindowHeightChange=[]),this.__cbOnOwnerUnbindWindowHeightChange.push(null);null==this.__cbOnWindowHeightChange&&(this.__cbOnWindowHeightChange=[]),this.__cbOnWindowHeightChange.push(t)},onceWindowHeightChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event windowHeightChange because owner is destroyed!");var l=function(e){null!=t&&(i.offWindowHeightChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindWindowHeightChange&&(this.__cbOnceOwnerUnbindWindowHeightChange=[]),this.__cbOnceOwnerUnbindWindowHeightChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindWindowHeightChange&&(this.__cbOnceOwnerUnbindWindowHeightChange=[]),this.__cbOnceOwnerUnbindWindowHeightChange.push(null);null==this.__cbOnceWindowHeightChange&&(this.__cbOnceWindowHeightChange=[]),this.__cbOnceWindowHeightChange.push(t)},offWindowHeightChange:function(e){if(null!=e){var n;null!=this.__cbOnWindowHeightChange&&-1!=(n=this.__cbOnWindowHeightChange.indexOf(e))&&(this.__cbOnWindowHeightChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindWindowHeightChange[n])&&s(),this.__cbOnOwnerUnbindWindowHeightChange.splice(n,1)),null!=this.__cbOnceWindowHeightChange&&-1!=(n=this.__cbOnceWindowHeightChange.indexOf(e))&&(this.__cbOnceWindowHeightChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindWindowHeightChange[n])&&s(),this.__cbOnceOwnerUnbindWindowHeightChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindWindowHeightChange){for(var t=0,i=this.__cbOnOwnerUnbindWindowHeightChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindWindowHeightChange[l])&&s()}this.__cbOnOwnerUnbindWindowHeightChange=null}if(null!=this.__cbOnceOwnerUnbindWindowHeightChange){for(t=0,i=this.__cbOnceOwnerUnbindWindowHeightChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindWindowHeightChange[l])&&s()}this.__cbOnceOwnerUnbindWindowHeightChange=null}this.__cbOnWindowHeightChange=null,this.__cbOnceWindowHeightChange=null}},listensWindowHeightChange:function(){return null!=this.__cbOnWindowHeightChange&&0<this.__cbOnWindowHeightChange.length||null!=this.__cbOnceWindowHeightChange&&0<this.__cbOnceWindowHeightChange.length},targetDensityAutoruns:null,get_targetDensity:function(){var e,n,t=this.unobservedTargetDensity;return null!=A.current&&(e=A.current,null!=(n=this.targetDensityAutoruns)||(n=A.getAutorunArray(),null!=(this.targetDensityAutoruns=n)))&&e.bindToAutorunArray(n),t},set_targetDensity:function(e){var n=this.unobservedTargetDensity;return n!=(this.unobservedTargetDensity=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitTargetDensityChange(e,n),null!=(n=this.targetDensityAutoruns))&&(this.targetDensityAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateTargetDensity:function(){var e=this.unobservedTargetDensity,e=(this.emitTargetDensityChange(e,e),this.targetDensityAutoruns);null!=e&&(this.targetDensityAutoruns=null,A.invalidateAutorunArray(e))},unobservedTargetDensity:null,__cbOnTargetDensityChange:null,__cbOnceTargetDensityChange:null,__cbOnOwnerUnbindTargetDensityChange:null,__cbOnceOwnerUnbindTargetDensityChange:null,emitTargetDensityChange:function(e,n){var t=0;if(null!=this.__cbOnTargetDensityChange&&(t+=this.__cbOnTargetDensityChange.length),null!=this.__cbOnceTargetDensityChange&&(t+=this.__cbOnceTargetDensityChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnTargetDensityChange)for(var r=0,h=this.__cbOnTargetDensityChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnTargetDensityChange[a],++s):--t}if(null!=this.__cbOnceTargetDensityChange){for(var o=null,c=null,r=0,h=this.__cbOnceTargetDensityChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceTargetDensityChange[a],this.__cbOnceTargetDensityChange[a]=null,u=this.__cbOnceOwnerUnbindTargetDensityChange[a],(this.__cbOnceOwnerUnbindTargetDensityChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindTargetDensityChange[a]),c.push(this.__cbOnceTargetDensityChange[a]))}this.__cbOnceOwnerUnbindTargetDensityChange=o,this.__cbOnceTargetDensityChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onTargetDensityChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event targetDensityChange because owner is destroyed!");var l=function(e){null!=t&&(i.offTargetDensityChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindTargetDensityChange&&(this.__cbOnOwnerUnbindTargetDensityChange=[]),this.__cbOnOwnerUnbindTargetDensityChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindTargetDensityChange&&(this.__cbOnOwnerUnbindTargetDensityChange=[]),this.__cbOnOwnerUnbindTargetDensityChange.push(null);null==this.__cbOnTargetDensityChange&&(this.__cbOnTargetDensityChange=[]),this.__cbOnTargetDensityChange.push(t)},onceTargetDensityChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event targetDensityChange because owner is destroyed!");var l=function(e){null!=t&&(i.offTargetDensityChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindTargetDensityChange&&(this.__cbOnceOwnerUnbindTargetDensityChange=[]),this.__cbOnceOwnerUnbindTargetDensityChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindTargetDensityChange&&(this.__cbOnceOwnerUnbindTargetDensityChange=[]),this.__cbOnceOwnerUnbindTargetDensityChange.push(null);null==this.__cbOnceTargetDensityChange&&(this.__cbOnceTargetDensityChange=[]),this.__cbOnceTargetDensityChange.push(t)},offTargetDensityChange:function(e){if(null!=e){var n;null!=this.__cbOnTargetDensityChange&&-1!=(n=this.__cbOnTargetDensityChange.indexOf(e))&&(this.__cbOnTargetDensityChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindTargetDensityChange[n])&&s(),this.__cbOnOwnerUnbindTargetDensityChange.splice(n,1)),null!=this.__cbOnceTargetDensityChange&&-1!=(n=this.__cbOnceTargetDensityChange.indexOf(e))&&(this.__cbOnceTargetDensityChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindTargetDensityChange[n])&&s(),this.__cbOnceOwnerUnbindTargetDensityChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindTargetDensityChange){for(var t=0,i=this.__cbOnOwnerUnbindTargetDensityChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindTargetDensityChange[l])&&s()}this.__cbOnOwnerUnbindTargetDensityChange=null}if(null!=this.__cbOnceOwnerUnbindTargetDensityChange){for(t=0,i=this.__cbOnceOwnerUnbindTargetDensityChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindTargetDensityChange[l])&&s()}this.__cbOnceOwnerUnbindTargetDensityChange=null}this.__cbOnTargetDensityChange=null,this.__cbOnceTargetDensityChange=null}},listensTargetDensityChange:function(){return null!=this.__cbOnTargetDensityChange&&0<this.__cbOnTargetDensityChange.length||null!=this.__cbOnceTargetDensityChange&&0<this.__cbOnceTargetDensityChange.length},backgroundAutoruns:null,get_background:function(){var e,n,t=this.unobservedBackground;return null!=A.current&&(e=A.current,null!=(n=this.backgroundAutoruns)||(n=A.getAutorunArray(),null!=(this.backgroundAutoruns=n)))&&e.bindToAutorunArray(n),t},set_background:function(e){var n=this.unobservedBackground;return n!=(this.unobservedBackground=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitBackgroundChange(e,n),null!=(n=this.backgroundAutoruns))&&(this.backgroundAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateBackground:function(){var e=this.unobservedBackground,e=(this.emitBackgroundChange(e,e),this.backgroundAutoruns);null!=e&&(this.backgroundAutoruns=null,A.invalidateAutorunArray(e))},unobservedBackground:null,__cbOnBackgroundChange:null,__cbOnceBackgroundChange:null,__cbOnOwnerUnbindBackgroundChange:null,__cbOnceOwnerUnbindBackgroundChange:null,emitBackgroundChange:function(e,n){var t=0;if(null!=this.__cbOnBackgroundChange&&(t+=this.__cbOnBackgroundChange.length),null!=this.__cbOnceBackgroundChange&&(t+=this.__cbOnceBackgroundChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnBackgroundChange)for(var r=0,h=this.__cbOnBackgroundChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnBackgroundChange[a],++s):--t}if(null!=this.__cbOnceBackgroundChange){for(var o=null,c=null,r=0,h=this.__cbOnceBackgroundChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceBackgroundChange[a],this.__cbOnceBackgroundChange[a]=null,u=this.__cbOnceOwnerUnbindBackgroundChange[a],(this.__cbOnceOwnerUnbindBackgroundChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindBackgroundChange[a]),c.push(this.__cbOnceBackgroundChange[a]))}this.__cbOnceOwnerUnbindBackgroundChange=o,this.__cbOnceBackgroundChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onBackgroundChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event backgroundChange because owner is destroyed!");var l=function(e){null!=t&&(i.offBackgroundChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindBackgroundChange&&(this.__cbOnOwnerUnbindBackgroundChange=[]),this.__cbOnOwnerUnbindBackgroundChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindBackgroundChange&&(this.__cbOnOwnerUnbindBackgroundChange=[]),this.__cbOnOwnerUnbindBackgroundChange.push(null);null==this.__cbOnBackgroundChange&&(this.__cbOnBackgroundChange=[]),this.__cbOnBackgroundChange.push(t)},onceBackgroundChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event backgroundChange because owner is destroyed!");var l=function(e){null!=t&&(i.offBackgroundChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindBackgroundChange&&(this.__cbOnceOwnerUnbindBackgroundChange=[]),this.__cbOnceOwnerUnbindBackgroundChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindBackgroundChange&&(this.__cbOnceOwnerUnbindBackgroundChange=[]),this.__cbOnceOwnerUnbindBackgroundChange.push(null);null==this.__cbOnceBackgroundChange&&(this.__cbOnceBackgroundChange=[]),this.__cbOnceBackgroundChange.push(t)},offBackgroundChange:function(e){if(null!=e){var n;null!=this.__cbOnBackgroundChange&&-1!=(n=this.__cbOnBackgroundChange.indexOf(e))&&(this.__cbOnBackgroundChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindBackgroundChange[n])&&s(),this.__cbOnOwnerUnbindBackgroundChange.splice(n,1)),null!=this.__cbOnceBackgroundChange&&-1!=(n=this.__cbOnceBackgroundChange.indexOf(e))&&(this.__cbOnceBackgroundChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindBackgroundChange[n])&&s(),this.__cbOnceOwnerUnbindBackgroundChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindBackgroundChange){for(var t=0,i=this.__cbOnOwnerUnbindBackgroundChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindBackgroundChange[l])&&s()}this.__cbOnOwnerUnbindBackgroundChange=null}if(null!=this.__cbOnceOwnerUnbindBackgroundChange){for(t=0,i=this.__cbOnceOwnerUnbindBackgroundChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindBackgroundChange[l])&&s()}this.__cbOnceOwnerUnbindBackgroundChange=null}this.__cbOnBackgroundChange=null,this.__cbOnceBackgroundChange=null}},listensBackgroundChange:function(){return null!=this.__cbOnBackgroundChange&&0<this.__cbOnBackgroundChange.length||null!=this.__cbOnceBackgroundChange&&0<this.__cbOnceBackgroundChange.length},scalingAutoruns:null,get_scaling:function(){var e,n,t=this.unobservedScaling;return null!=A.current&&(e=A.current,null!=(n=this.scalingAutoruns)||(n=A.getAutorunArray(),null!=(this.scalingAutoruns=n)))&&e.bindToAutorunArray(n),t},set_scaling:function(e){var n=this.unobservedScaling;return n!=(this.unobservedScaling=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitScalingChange(e,n),null!=(n=this.scalingAutoruns))&&(this.scalingAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateScaling:function(){var e=this.unobservedScaling,e=(this.emitScalingChange(e,e),this.scalingAutoruns);null!=e&&(this.scalingAutoruns=null,A.invalidateAutorunArray(e))},unobservedScaling:null,__cbOnScalingChange:null,__cbOnceScalingChange:null,__cbOnOwnerUnbindScalingChange:null,__cbOnceOwnerUnbindScalingChange:null,emitScalingChange:function(e,n){var t=0;if(null!=this.__cbOnScalingChange&&(t+=this.__cbOnScalingChange.length),null!=this.__cbOnceScalingChange&&(t+=this.__cbOnceScalingChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnScalingChange)for(var r=0,h=this.__cbOnScalingChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnScalingChange[a],++s):--t}if(null!=this.__cbOnceScalingChange){for(var o=null,c=null,r=0,h=this.__cbOnceScalingChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceScalingChange[a],this.__cbOnceScalingChange[a]=null,u=this.__cbOnceOwnerUnbindScalingChange[a],(this.__cbOnceOwnerUnbindScalingChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindScalingChange[a]),c.push(this.__cbOnceScalingChange[a]))}this.__cbOnceOwnerUnbindScalingChange=o,this.__cbOnceScalingChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onScalingChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event scalingChange because owner is destroyed!");var l=function(e){null!=t&&(i.offScalingChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindScalingChange&&(this.__cbOnOwnerUnbindScalingChange=[]),this.__cbOnOwnerUnbindScalingChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindScalingChange&&(this.__cbOnOwnerUnbindScalingChange=[]),this.__cbOnOwnerUnbindScalingChange.push(null);null==this.__cbOnScalingChange&&(this.__cbOnScalingChange=[]),this.__cbOnScalingChange.push(t)},onceScalingChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event scalingChange because owner is destroyed!");var l=function(e){null!=t&&(i.offScalingChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindScalingChange&&(this.__cbOnceOwnerUnbindScalingChange=[]),this.__cbOnceOwnerUnbindScalingChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindScalingChange&&(this.__cbOnceOwnerUnbindScalingChange=[]),this.__cbOnceOwnerUnbindScalingChange.push(null);null==this.__cbOnceScalingChange&&(this.__cbOnceScalingChange=[]),this.__cbOnceScalingChange.push(t)},offScalingChange:function(e){if(null!=e){var n;null!=this.__cbOnScalingChange&&-1!=(n=this.__cbOnScalingChange.indexOf(e))&&(this.__cbOnScalingChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindScalingChange[n])&&s(),this.__cbOnOwnerUnbindScalingChange.splice(n,1)),null!=this.__cbOnceScalingChange&&-1!=(n=this.__cbOnceScalingChange.indexOf(e))&&(this.__cbOnceScalingChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindScalingChange[n])&&s(),this.__cbOnceOwnerUnbindScalingChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindScalingChange){for(var t=0,i=this.__cbOnOwnerUnbindScalingChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindScalingChange[l])&&s()}this.__cbOnOwnerUnbindScalingChange=null}if(null!=this.__cbOnceOwnerUnbindScalingChange){for(t=0,i=this.__cbOnceOwnerUnbindScalingChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindScalingChange[l])&&s()}this.__cbOnceOwnerUnbindScalingChange=null}this.__cbOnScalingChange=null,this.__cbOnceScalingChange=null}},listensScalingChange:function(){return null!=this.__cbOnScalingChange&&0<this.__cbOnScalingChange.length||null!=this.__cbOnceScalingChange&&0<this.__cbOnceScalingChange.length},titleAutoruns:null,get_title:function(){var e,n,t=this.unobservedTitle;return null!=A.current&&(e=A.current,null!=(n=this.titleAutoruns)||(n=A.getAutorunArray(),null!=(this.titleAutoruns=n)))&&e.bindToAutorunArray(n),t},set_title:function(e){var n=this.unobservedTitle;return n!=(this.unobservedTitle=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitTitleChange(e,n),null!=(n=this.titleAutoruns))&&(this.titleAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateTitle:function(){var e=this.unobservedTitle,e=(this.emitTitleChange(e,e),this.titleAutoruns);null!=e&&(this.titleAutoruns=null,A.invalidateAutorunArray(e))},unobservedTitle:null,__cbOnTitleChange:null,__cbOnceTitleChange:null,__cbOnOwnerUnbindTitleChange:null,__cbOnceOwnerUnbindTitleChange:null,emitTitleChange:function(e,n){var t=0;if(null!=this.__cbOnTitleChange&&(t+=this.__cbOnTitleChange.length),null!=this.__cbOnceTitleChange&&(t+=this.__cbOnceTitleChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnTitleChange)for(var r=0,h=this.__cbOnTitleChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnTitleChange[a],++s):--t}if(null!=this.__cbOnceTitleChange){for(var o=null,c=null,r=0,h=this.__cbOnceTitleChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceTitleChange[a],this.__cbOnceTitleChange[a]=null,u=this.__cbOnceOwnerUnbindTitleChange[a],(this.__cbOnceOwnerUnbindTitleChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindTitleChange[a]),c.push(this.__cbOnceTitleChange[a]))}this.__cbOnceOwnerUnbindTitleChange=o,this.__cbOnceTitleChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onTitleChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event titleChange because owner is destroyed!");var l=function(e){null!=t&&(i.offTitleChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindTitleChange&&(this.__cbOnOwnerUnbindTitleChange=[]),this.__cbOnOwnerUnbindTitleChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindTitleChange&&(this.__cbOnOwnerUnbindTitleChange=[]),this.__cbOnOwnerUnbindTitleChange.push(null);null==this.__cbOnTitleChange&&(this.__cbOnTitleChange=[]),this.__cbOnTitleChange.push(t)},onceTitleChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event titleChange because owner is destroyed!");var l=function(e){null!=t&&(i.offTitleChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindTitleChange&&(this.__cbOnceOwnerUnbindTitleChange=[]),this.__cbOnceOwnerUnbindTitleChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindTitleChange&&(this.__cbOnceOwnerUnbindTitleChange=[]),this.__cbOnceOwnerUnbindTitleChange.push(null);null==this.__cbOnceTitleChange&&(this.__cbOnceTitleChange=[]),this.__cbOnceTitleChange.push(t)},offTitleChange:function(e){if(null!=e){var n;null!=this.__cbOnTitleChange&&-1!=(n=this.__cbOnTitleChange.indexOf(e))&&(this.__cbOnTitleChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindTitleChange[n])&&s(),this.__cbOnOwnerUnbindTitleChange.splice(n,1)),null!=this.__cbOnceTitleChange&&-1!=(n=this.__cbOnceTitleChange.indexOf(e))&&(this.__cbOnceTitleChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindTitleChange[n])&&s(),this.__cbOnceOwnerUnbindTitleChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindTitleChange){for(var t=0,i=this.__cbOnOwnerUnbindTitleChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindTitleChange[l])&&s()}this.__cbOnOwnerUnbindTitleChange=null}if(null!=this.__cbOnceOwnerUnbindTitleChange){for(t=0,i=this.__cbOnceOwnerUnbindTitleChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindTitleChange[l])&&s()}this.__cbOnceOwnerUnbindTitleChange=null}this.__cbOnTitleChange=null,this.__cbOnceTitleChange=null}},listensTitleChange:function(){return null!=this.__cbOnTitleChange&&0<this.__cbOnTitleChange.length||null!=this.__cbOnceTitleChange&&0<this.__cbOnceTitleChange.length},fullscreenAutoruns:null,get_fullscreen:function(){var e,n,t=this.unobservedFullscreen;return null!=A.current&&(e=A.current,null!=(n=this.fullscreenAutoruns)||(n=A.getAutorunArray(),null!=(this.fullscreenAutoruns=n)))&&e.bindToAutorunArray(n),t},set_fullscreen:function(e){var n=this.unobservedFullscreen;return n!=(this.unobservedFullscreen=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitFullscreenChange(e,n),null!=(n=this.fullscreenAutoruns))&&(this.fullscreenAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateFullscreen:function(){var e=this.unobservedFullscreen,e=(this.emitFullscreenChange(e,e),this.fullscreenAutoruns);null!=e&&(this.fullscreenAutoruns=null,A.invalidateAutorunArray(e))},unobservedFullscreen:null,__cbOnFullscreenChange:null,__cbOnceFullscreenChange:null,__cbOnOwnerUnbindFullscreenChange:null,__cbOnceOwnerUnbindFullscreenChange:null,emitFullscreenChange:function(e,n){var t=0;if(null!=this.__cbOnFullscreenChange&&(t+=this.__cbOnFullscreenChange.length),null!=this.__cbOnceFullscreenChange&&(t+=this.__cbOnceFullscreenChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnFullscreenChange)for(var r=0,h=this.__cbOnFullscreenChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnFullscreenChange[a],++s):--t}if(null!=this.__cbOnceFullscreenChange){for(var o=null,c=null,r=0,h=this.__cbOnceFullscreenChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceFullscreenChange[a],this.__cbOnceFullscreenChange[a]=null,u=this.__cbOnceOwnerUnbindFullscreenChange[a],(this.__cbOnceOwnerUnbindFullscreenChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindFullscreenChange[a]),c.push(this.__cbOnceFullscreenChange[a]))}this.__cbOnceOwnerUnbindFullscreenChange=o,this.__cbOnceFullscreenChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onFullscreenChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event fullscreenChange because owner is destroyed!");var l=function(e){null!=t&&(i.offFullscreenChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindFullscreenChange&&(this.__cbOnOwnerUnbindFullscreenChange=[]),this.__cbOnOwnerUnbindFullscreenChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindFullscreenChange&&(this.__cbOnOwnerUnbindFullscreenChange=[]),this.__cbOnOwnerUnbindFullscreenChange.push(null);null==this.__cbOnFullscreenChange&&(this.__cbOnFullscreenChange=[]),this.__cbOnFullscreenChange.push(t)},onceFullscreenChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event fullscreenChange because owner is destroyed!");var l=function(e){null!=t&&(i.offFullscreenChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindFullscreenChange&&(this.__cbOnceOwnerUnbindFullscreenChange=[]),this.__cbOnceOwnerUnbindFullscreenChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindFullscreenChange&&(this.__cbOnceOwnerUnbindFullscreenChange=[]),this.__cbOnceOwnerUnbindFullscreenChange.push(null);null==this.__cbOnceFullscreenChange&&(this.__cbOnceFullscreenChange=[]),this.__cbOnceFullscreenChange.push(t)},offFullscreenChange:function(e){if(null!=e){var n;null!=this.__cbOnFullscreenChange&&-1!=(n=this.__cbOnFullscreenChange.indexOf(e))&&(this.__cbOnFullscreenChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindFullscreenChange[n])&&s(),this.__cbOnOwnerUnbindFullscreenChange.splice(n,1)),null!=this.__cbOnceFullscreenChange&&-1!=(n=this.__cbOnceFullscreenChange.indexOf(e))&&(this.__cbOnceFullscreenChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindFullscreenChange[n])&&s(),this.__cbOnceOwnerUnbindFullscreenChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindFullscreenChange){for(var t=0,i=this.__cbOnOwnerUnbindFullscreenChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindFullscreenChange[l])&&s()}this.__cbOnOwnerUnbindFullscreenChange=null}if(null!=this.__cbOnceOwnerUnbindFullscreenChange){for(t=0,i=this.__cbOnceOwnerUnbindFullscreenChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindFullscreenChange[l])&&s()}this.__cbOnceOwnerUnbindFullscreenChange=null}this.__cbOnFullscreenChange=null,this.__cbOnceFullscreenChange=null}},listensFullscreenChange:function(){return null!=this.__cbOnFullscreenChange&&0<this.__cbOnFullscreenChange.length||null!=this.__cbOnceFullscreenChange&&0<this.__cbOnceFullscreenChange.length},targetFpsAutoruns:null,get_targetFps:function(){var e,n,t=this.unobservedTargetFps;return null!=A.current&&(e=A.current,null!=(n=this.targetFpsAutoruns)||(n=A.getAutorunArray(),null!=(this.targetFpsAutoruns=n)))&&e.bindToAutorunArray(n),t},set_targetFps:function(e){var n=this.unobservedTargetFps;return n!=(this.unobservedTargetFps=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitTargetFpsChange(e,n),null!=(n=this.targetFpsAutoruns))&&(this.targetFpsAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateTargetFps:function(){var e=this.unobservedTargetFps,e=(this.emitTargetFpsChange(e,e),this.targetFpsAutoruns);null!=e&&(this.targetFpsAutoruns=null,A.invalidateAutorunArray(e))},unobservedTargetFps:null,__cbOnTargetFpsChange:null,__cbOnceTargetFpsChange:null,__cbOnOwnerUnbindTargetFpsChange:null,__cbOnceOwnerUnbindTargetFpsChange:null,emitTargetFpsChange:function(e,n){var t=0;if(null!=this.__cbOnTargetFpsChange&&(t+=this.__cbOnTargetFpsChange.length),null!=this.__cbOnceTargetFpsChange&&(t+=this.__cbOnceTargetFpsChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnTargetFpsChange)for(var r=0,h=this.__cbOnTargetFpsChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnTargetFpsChange[a],++s):--t}if(null!=this.__cbOnceTargetFpsChange){for(var o=null,c=null,r=0,h=this.__cbOnceTargetFpsChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceTargetFpsChange[a],this.__cbOnceTargetFpsChange[a]=null,u=this.__cbOnceOwnerUnbindTargetFpsChange[a],(this.__cbOnceOwnerUnbindTargetFpsChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindTargetFpsChange[a]),c.push(this.__cbOnceTargetFpsChange[a]))}this.__cbOnceOwnerUnbindTargetFpsChange=o,this.__cbOnceTargetFpsChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onTargetFpsChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event targetFpsChange because owner is destroyed!");var l=function(e){null!=t&&(i.offTargetFpsChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindTargetFpsChange&&(this.__cbOnOwnerUnbindTargetFpsChange=[]),this.__cbOnOwnerUnbindTargetFpsChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindTargetFpsChange&&(this.__cbOnOwnerUnbindTargetFpsChange=[]),this.__cbOnOwnerUnbindTargetFpsChange.push(null);null==this.__cbOnTargetFpsChange&&(this.__cbOnTargetFpsChange=[]),this.__cbOnTargetFpsChange.push(t)},onceTargetFpsChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event targetFpsChange because owner is destroyed!");var l=function(e){null!=t&&(i.offTargetFpsChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindTargetFpsChange&&(this.__cbOnceOwnerUnbindTargetFpsChange=[]),this.__cbOnceOwnerUnbindTargetFpsChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindTargetFpsChange&&(this.__cbOnceOwnerUnbindTargetFpsChange=[]),this.__cbOnceOwnerUnbindTargetFpsChange.push(null);null==this.__cbOnceTargetFpsChange&&(this.__cbOnceTargetFpsChange=[]),this.__cbOnceTargetFpsChange.push(t)},offTargetFpsChange:function(e){if(null!=e){var n;null!=this.__cbOnTargetFpsChange&&-1!=(n=this.__cbOnTargetFpsChange.indexOf(e))&&(this.__cbOnTargetFpsChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindTargetFpsChange[n])&&s(),this.__cbOnOwnerUnbindTargetFpsChange.splice(n,1)),null!=this.__cbOnceTargetFpsChange&&-1!=(n=this.__cbOnceTargetFpsChange.indexOf(e))&&(this.__cbOnceTargetFpsChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindTargetFpsChange[n])&&s(),this.__cbOnceOwnerUnbindTargetFpsChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindTargetFpsChange){for(var t=0,i=this.__cbOnOwnerUnbindTargetFpsChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindTargetFpsChange[l])&&s()}this.__cbOnOwnerUnbindTargetFpsChange=null}if(null!=this.__cbOnceOwnerUnbindTargetFpsChange){for(t=0,i=this.__cbOnceOwnerUnbindTargetFpsChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindTargetFpsChange[l])&&s()}this.__cbOnceOwnerUnbindTargetFpsChange=null}this.__cbOnTargetFpsChange=null,this.__cbOnceTargetFpsChange=null}},listensTargetFpsChange:function(){return null!=this.__cbOnTargetFpsChange&&0<this.__cbOnTargetFpsChange.length||null!=this.__cbOnceTargetFpsChange&&0<this.__cbOnceTargetFpsChange.length},maxDeltaAutoruns:null,get_maxDelta:function(){var e,n,t=this.unobservedMaxDelta;return null!=A.current&&(e=A.current,null!=(n=this.maxDeltaAutoruns)||(n=A.getAutorunArray(),null!=(this.maxDeltaAutoruns=n)))&&e.bindToAutorunArray(n),t},set_maxDelta:function(e){var n=this.unobservedMaxDelta;return n!=(this.unobservedMaxDelta=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitMaxDeltaChange(e,n),null!=(n=this.maxDeltaAutoruns))&&(this.maxDeltaAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateMaxDelta:function(){var e=this.unobservedMaxDelta,e=(this.emitMaxDeltaChange(e,e),this.maxDeltaAutoruns);null!=e&&(this.maxDeltaAutoruns=null,A.invalidateAutorunArray(e))},unobservedMaxDelta:null,__cbOnMaxDeltaChange:null,__cbOnceMaxDeltaChange:null,__cbOnOwnerUnbindMaxDeltaChange:null,__cbOnceOwnerUnbindMaxDeltaChange:null,emitMaxDeltaChange:function(e,n){var t=0;if(null!=this.__cbOnMaxDeltaChange&&(t+=this.__cbOnMaxDeltaChange.length),null!=this.__cbOnceMaxDeltaChange&&(t+=this.__cbOnceMaxDeltaChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnMaxDeltaChange)for(var r=0,h=this.__cbOnMaxDeltaChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnMaxDeltaChange[a],++s):--t}if(null!=this.__cbOnceMaxDeltaChange){for(var o=null,c=null,r=0,h=this.__cbOnceMaxDeltaChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceMaxDeltaChange[a],this.__cbOnceMaxDeltaChange[a]=null,u=this.__cbOnceOwnerUnbindMaxDeltaChange[a],(this.__cbOnceOwnerUnbindMaxDeltaChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindMaxDeltaChange[a]),c.push(this.__cbOnceMaxDeltaChange[a]))}this.__cbOnceOwnerUnbindMaxDeltaChange=o,this.__cbOnceMaxDeltaChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onMaxDeltaChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event maxDeltaChange because owner is destroyed!");var l=function(e){null!=t&&(i.offMaxDeltaChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindMaxDeltaChange&&(this.__cbOnOwnerUnbindMaxDeltaChange=[]),this.__cbOnOwnerUnbindMaxDeltaChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindMaxDeltaChange&&(this.__cbOnOwnerUnbindMaxDeltaChange=[]),this.__cbOnOwnerUnbindMaxDeltaChange.push(null);null==this.__cbOnMaxDeltaChange&&(this.__cbOnMaxDeltaChange=[]),this.__cbOnMaxDeltaChange.push(t)},onceMaxDeltaChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event maxDeltaChange because owner is destroyed!");var l=function(e){null!=t&&(i.offMaxDeltaChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindMaxDeltaChange&&(this.__cbOnceOwnerUnbindMaxDeltaChange=[]),this.__cbOnceOwnerUnbindMaxDeltaChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindMaxDeltaChange&&(this.__cbOnceOwnerUnbindMaxDeltaChange=[]),this.__cbOnceOwnerUnbindMaxDeltaChange.push(null);null==this.__cbOnceMaxDeltaChange&&(this.__cbOnceMaxDeltaChange=[]),this.__cbOnceMaxDeltaChange.push(t)},offMaxDeltaChange:function(e){if(null!=e){var n;null!=this.__cbOnMaxDeltaChange&&-1!=(n=this.__cbOnMaxDeltaChange.indexOf(e))&&(this.__cbOnMaxDeltaChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindMaxDeltaChange[n])&&s(),this.__cbOnOwnerUnbindMaxDeltaChange.splice(n,1)),null!=this.__cbOnceMaxDeltaChange&&-1!=(n=this.__cbOnceMaxDeltaChange.indexOf(e))&&(this.__cbOnceMaxDeltaChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindMaxDeltaChange[n])&&s(),this.__cbOnceOwnerUnbindMaxDeltaChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindMaxDeltaChange){for(var t=0,i=this.__cbOnOwnerUnbindMaxDeltaChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindMaxDeltaChange[l])&&s()}this.__cbOnOwnerUnbindMaxDeltaChange=null}if(null!=this.__cbOnceOwnerUnbindMaxDeltaChange){for(t=0,i=this.__cbOnceOwnerUnbindMaxDeltaChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindMaxDeltaChange[l])&&s()}this.__cbOnceOwnerUnbindMaxDeltaChange=null}this.__cbOnMaxDeltaChange=null,this.__cbOnceMaxDeltaChange=null}},listensMaxDeltaChange:function(){return null!=this.__cbOnMaxDeltaChange&&0<this.__cbOnMaxDeltaChange.length||null!=this.__cbOnceMaxDeltaChange&&0<this.__cbOnceMaxDeltaChange.length},overrideDeltaAutoruns:null,get_overrideDelta:function(){var e,n,t=this.unobservedOverrideDelta;return null!=A.current&&(e=A.current,null!=(n=this.overrideDeltaAutoruns)||(n=A.getAutorunArray(),null!=(this.overrideDeltaAutoruns=n)))&&e.bindToAutorunArray(n),t},set_overrideDelta:function(e){var n=this.unobservedOverrideDelta;return n!=(this.unobservedOverrideDelta=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitOverrideDeltaChange(e,n),null!=(n=this.overrideDeltaAutoruns))&&(this.overrideDeltaAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateOverrideDelta:function(){var e=this.unobservedOverrideDelta,e=(this.emitOverrideDeltaChange(e,e),this.overrideDeltaAutoruns);null!=e&&(this.overrideDeltaAutoruns=null,A.invalidateAutorunArray(e))},unobservedOverrideDelta:null,__cbOnOverrideDeltaChange:null,__cbOnceOverrideDeltaChange:null,__cbOnOwnerUnbindOverrideDeltaChange:null,__cbOnceOwnerUnbindOverrideDeltaChange:null,emitOverrideDeltaChange:function(e,n){var t=0;if(null!=this.__cbOnOverrideDeltaChange&&(t+=this.__cbOnOverrideDeltaChange.length),null!=this.__cbOnceOverrideDeltaChange&&(t+=this.__cbOnceOverrideDeltaChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnOverrideDeltaChange)for(var r=0,h=this.__cbOnOverrideDeltaChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnOverrideDeltaChange[a],++s):--t}if(null!=this.__cbOnceOverrideDeltaChange){for(var o=null,c=null,r=0,h=this.__cbOnceOverrideDeltaChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceOverrideDeltaChange[a],this.__cbOnceOverrideDeltaChange[a]=null,u=this.__cbOnceOwnerUnbindOverrideDeltaChange[a],(this.__cbOnceOwnerUnbindOverrideDeltaChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindOverrideDeltaChange[a]),c.push(this.__cbOnceOverrideDeltaChange[a]))}this.__cbOnceOwnerUnbindOverrideDeltaChange=o,this.__cbOnceOverrideDeltaChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onOverrideDeltaChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event overrideDeltaChange because owner is destroyed!");var l=function(e){null!=t&&(i.offOverrideDeltaChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindOverrideDeltaChange&&(this.__cbOnOwnerUnbindOverrideDeltaChange=[]),this.__cbOnOwnerUnbindOverrideDeltaChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindOverrideDeltaChange&&(this.__cbOnOwnerUnbindOverrideDeltaChange=[]),this.__cbOnOwnerUnbindOverrideDeltaChange.push(null);null==this.__cbOnOverrideDeltaChange&&(this.__cbOnOverrideDeltaChange=[]),this.__cbOnOverrideDeltaChange.push(t)},onceOverrideDeltaChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event overrideDeltaChange because owner is destroyed!");var l=function(e){null!=t&&(i.offOverrideDeltaChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindOverrideDeltaChange&&(this.__cbOnceOwnerUnbindOverrideDeltaChange=[]),this.__cbOnceOwnerUnbindOverrideDeltaChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindOverrideDeltaChange&&(this.__cbOnceOwnerUnbindOverrideDeltaChange=[]),this.__cbOnceOwnerUnbindOverrideDeltaChange.push(null);null==this.__cbOnceOverrideDeltaChange&&(this.__cbOnceOverrideDeltaChange=[]),this.__cbOnceOverrideDeltaChange.push(t)},offOverrideDeltaChange:function(e){if(null!=e){var n;null!=this.__cbOnOverrideDeltaChange&&-1!=(n=this.__cbOnOverrideDeltaChange.indexOf(e))&&(this.__cbOnOverrideDeltaChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindOverrideDeltaChange[n])&&s(),this.__cbOnOwnerUnbindOverrideDeltaChange.splice(n,1)),null!=this.__cbOnceOverrideDeltaChange&&-1!=(n=this.__cbOnceOverrideDeltaChange.indexOf(e))&&(this.__cbOnceOverrideDeltaChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindOverrideDeltaChange[n])&&s(),this.__cbOnceOwnerUnbindOverrideDeltaChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindOverrideDeltaChange){for(var t=0,i=this.__cbOnOwnerUnbindOverrideDeltaChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindOverrideDeltaChange[l])&&s()}this.__cbOnOwnerUnbindOverrideDeltaChange=null}if(null!=this.__cbOnceOwnerUnbindOverrideDeltaChange){for(t=0,i=this.__cbOnceOwnerUnbindOverrideDeltaChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindOverrideDeltaChange[l])&&s()}this.__cbOnceOwnerUnbindOverrideDeltaChange=null}this.__cbOnOverrideDeltaChange=null,this.__cbOnceOverrideDeltaChange=null}},listensOverrideDeltaChange:function(){return null!=this.__cbOnOverrideDeltaChange&&0<this.__cbOnOverrideDeltaChange.length||null!=this.__cbOnceOverrideDeltaChange&&0<this.__cbOnceOverrideDeltaChange.length},preventDefaultMouseWheelAutoruns:null,get_preventDefaultMouseWheel:function(){var e,n,t=this.unobservedPreventDefaultMouseWheel;return null!=A.current&&(e=A.current,null!=(n=this.preventDefaultMouseWheelAutoruns)||(n=A.getAutorunArray(),null!=(this.preventDefaultMouseWheelAutoruns=n)))&&e.bindToAutorunArray(n),t},set_preventDefaultMouseWheel:function(e){var n=this.unobservedPreventDefaultMouseWheel;return n!=(this.unobservedPreventDefaultMouseWheel=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitPreventDefaultMouseWheelChange(e,n),null!=(n=this.preventDefaultMouseWheelAutoruns))&&(this.preventDefaultMouseWheelAutoruns=null,A.invalidateAutorunArray(n)),e},invalidatePreventDefaultMouseWheel:function(){var e=this.unobservedPreventDefaultMouseWheel,e=(this.emitPreventDefaultMouseWheelChange(e,e),this.preventDefaultMouseWheelAutoruns);null!=e&&(this.preventDefaultMouseWheelAutoruns=null,A.invalidateAutorunArray(e))},unobservedPreventDefaultMouseWheel:null,__cbOnPreventDefaultMouseWheelChange:null,__cbOncePreventDefaultMouseWheelChange:null,__cbOnOwnerUnbindPreventDefaultMouseWheelChange:null,__cbOnceOwnerUnbindPreventDefaultMouseWheelChange:null,emitPreventDefaultMouseWheelChange:function(e,n){var t=0;if(null!=this.__cbOnPreventDefaultMouseWheelChange&&(t+=this.__cbOnPreventDefaultMouseWheelChange.length),null!=this.__cbOncePreventDefaultMouseWheelChange&&(t+=this.__cbOncePreventDefaultMouseWheelChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnPreventDefaultMouseWheelChange)for(var r=0,h=this.__cbOnPreventDefaultMouseWheelChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnPreventDefaultMouseWheelChange[a],++s):--t}if(null!=this.__cbOncePreventDefaultMouseWheelChange){for(var o=null,c=null,r=0,h=this.__cbOncePreventDefaultMouseWheelChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOncePreventDefaultMouseWheelChange[a],this.__cbOncePreventDefaultMouseWheelChange[a]=null,u=this.__cbOnceOwnerUnbindPreventDefaultMouseWheelChange[a],(this.__cbOnceOwnerUnbindPreventDefaultMouseWheelChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindPreventDefaultMouseWheelChange[a]),c.push(this.__cbOncePreventDefaultMouseWheelChange[a]))}this.__cbOnceOwnerUnbindPreventDefaultMouseWheelChange=o,this.__cbOncePreventDefaultMouseWheelChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onPreventDefaultMouseWheelChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event preventDefaultMouseWheelChange because owner is destroyed!");var l=function(e){null!=t&&(i.offPreventDefaultMouseWheelChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindPreventDefaultMouseWheelChange&&(this.__cbOnOwnerUnbindPreventDefaultMouseWheelChange=[]),this.__cbOnOwnerUnbindPreventDefaultMouseWheelChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindPreventDefaultMouseWheelChange&&(this.__cbOnOwnerUnbindPreventDefaultMouseWheelChange=[]),this.__cbOnOwnerUnbindPreventDefaultMouseWheelChange.push(null);null==this.__cbOnPreventDefaultMouseWheelChange&&(this.__cbOnPreventDefaultMouseWheelChange=[]),this.__cbOnPreventDefaultMouseWheelChange.push(t)},oncePreventDefaultMouseWheelChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event preventDefaultMouseWheelChange because owner is destroyed!");var l=function(e){null!=t&&(i.offPreventDefaultMouseWheelChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindPreventDefaultMouseWheelChange&&(this.__cbOnceOwnerUnbindPreventDefaultMouseWheelChange=[]),this.__cbOnceOwnerUnbindPreventDefaultMouseWheelChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindPreventDefaultMouseWheelChange&&(this.__cbOnceOwnerUnbindPreventDefaultMouseWheelChange=[]),this.__cbOnceOwnerUnbindPreventDefaultMouseWheelChange.push(null);null==this.__cbOncePreventDefaultMouseWheelChange&&(this.__cbOncePreventDefaultMouseWheelChange=[]),this.__cbOncePreventDefaultMouseWheelChange.push(t)},offPreventDefaultMouseWheelChange:function(e){if(null!=e){var n;null!=this.__cbOnPreventDefaultMouseWheelChange&&-1!=(n=this.__cbOnPreventDefaultMouseWheelChange.indexOf(e))&&(this.__cbOnPreventDefaultMouseWheelChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindPreventDefaultMouseWheelChange[n])&&s(),this.__cbOnOwnerUnbindPreventDefaultMouseWheelChange.splice(n,1)),null!=this.__cbOncePreventDefaultMouseWheelChange&&-1!=(n=this.__cbOncePreventDefaultMouseWheelChange.indexOf(e))&&(this.__cbOncePreventDefaultMouseWheelChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindPreventDefaultMouseWheelChange[n])&&s(),this.__cbOnceOwnerUnbindPreventDefaultMouseWheelChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindPreventDefaultMouseWheelChange){for(var t=0,i=this.__cbOnOwnerUnbindPreventDefaultMouseWheelChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindPreventDefaultMouseWheelChange[l])&&s()}this.__cbOnOwnerUnbindPreventDefaultMouseWheelChange=null}if(null!=this.__cbOnceOwnerUnbindPreventDefaultMouseWheelChange){for(t=0,i=this.__cbOnceOwnerUnbindPreventDefaultMouseWheelChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindPreventDefaultMouseWheelChange[l])&&s()}this.__cbOnceOwnerUnbindPreventDefaultMouseWheelChange=null}this.__cbOnPreventDefaultMouseWheelChange=null,this.__cbOncePreventDefaultMouseWheelChange=null}},listensPreventDefaultMouseWheelChange:function(){return null!=this.__cbOnPreventDefaultMouseWheelChange&&0<this.__cbOnPreventDefaultMouseWheelChange.length||null!=this.__cbOncePreventDefaultMouseWheelChange&&0<this.__cbOncePreventDefaultMouseWheelChange.length},preventDefaultTouchesAutoruns:null,get_preventDefaultTouches:function(){var e,n,t=this.unobservedPreventDefaultTouches;return null!=A.current&&(e=A.current,null!=(n=this.preventDefaultTouchesAutoruns)||(n=A.getAutorunArray(),null!=(this.preventDefaultTouchesAutoruns=n)))&&e.bindToAutorunArray(n),t},set_preventDefaultTouches:function(e){var n=this.unobservedPreventDefaultTouches;return n!=(this.unobservedPreventDefaultTouches=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitPreventDefaultTouchesChange(e,n),null!=(n=this.preventDefaultTouchesAutoruns))&&(this.preventDefaultTouchesAutoruns=null,A.invalidateAutorunArray(n)),e},invalidatePreventDefaultTouches:function(){var e=this.unobservedPreventDefaultTouches,e=(this.emitPreventDefaultTouchesChange(e,e),this.preventDefaultTouchesAutoruns);null!=e&&(this.preventDefaultTouchesAutoruns=null,A.invalidateAutorunArray(e))},unobservedPreventDefaultTouches:null,__cbOnPreventDefaultTouchesChange:null,__cbOncePreventDefaultTouchesChange:null,__cbOnOwnerUnbindPreventDefaultTouchesChange:null,__cbOnceOwnerUnbindPreventDefaultTouchesChange:null,emitPreventDefaultTouchesChange:function(e,n){var t=0;if(null!=this.__cbOnPreventDefaultTouchesChange&&(t+=this.__cbOnPreventDefaultTouchesChange.length),null!=this.__cbOncePreventDefaultTouchesChange&&(t+=this.__cbOncePreventDefaultTouchesChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnPreventDefaultTouchesChange)for(var r=0,h=this.__cbOnPreventDefaultTouchesChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnPreventDefaultTouchesChange[a],++s):--t}if(null!=this.__cbOncePreventDefaultTouchesChange){for(var o=null,c=null,r=0,h=this.__cbOncePreventDefaultTouchesChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOncePreventDefaultTouchesChange[a],this.__cbOncePreventDefaultTouchesChange[a]=null,u=this.__cbOnceOwnerUnbindPreventDefaultTouchesChange[a],(this.__cbOnceOwnerUnbindPreventDefaultTouchesChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindPreventDefaultTouchesChange[a]),c.push(this.__cbOncePreventDefaultTouchesChange[a]))}this.__cbOnceOwnerUnbindPreventDefaultTouchesChange=o,this.__cbOncePreventDefaultTouchesChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onPreventDefaultTouchesChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event preventDefaultTouchesChange because owner is destroyed!");var l=function(e){null!=t&&(i.offPreventDefaultTouchesChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindPreventDefaultTouchesChange&&(this.__cbOnOwnerUnbindPreventDefaultTouchesChange=[]),this.__cbOnOwnerUnbindPreventDefaultTouchesChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindPreventDefaultTouchesChange&&(this.__cbOnOwnerUnbindPreventDefaultTouchesChange=[]),this.__cbOnOwnerUnbindPreventDefaultTouchesChange.push(null);null==this.__cbOnPreventDefaultTouchesChange&&(this.__cbOnPreventDefaultTouchesChange=[]),this.__cbOnPreventDefaultTouchesChange.push(t)},oncePreventDefaultTouchesChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event preventDefaultTouchesChange because owner is destroyed!");var l=function(e){null!=t&&(i.offPreventDefaultTouchesChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindPreventDefaultTouchesChange&&(this.__cbOnceOwnerUnbindPreventDefaultTouchesChange=[]),this.__cbOnceOwnerUnbindPreventDefaultTouchesChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindPreventDefaultTouchesChange&&(this.__cbOnceOwnerUnbindPreventDefaultTouchesChange=[]),this.__cbOnceOwnerUnbindPreventDefaultTouchesChange.push(null);null==this.__cbOncePreventDefaultTouchesChange&&(this.__cbOncePreventDefaultTouchesChange=[]),this.__cbOncePreventDefaultTouchesChange.push(t)},offPreventDefaultTouchesChange:function(e){if(null!=e){var n;null!=this.__cbOnPreventDefaultTouchesChange&&-1!=(n=this.__cbOnPreventDefaultTouchesChange.indexOf(e))&&(this.__cbOnPreventDefaultTouchesChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindPreventDefaultTouchesChange[n])&&s(),this.__cbOnOwnerUnbindPreventDefaultTouchesChange.splice(n,1)),null!=this.__cbOncePreventDefaultTouchesChange&&-1!=(n=this.__cbOncePreventDefaultTouchesChange.indexOf(e))&&(this.__cbOncePreventDefaultTouchesChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindPreventDefaultTouchesChange[n])&&s(),this.__cbOnceOwnerUnbindPreventDefaultTouchesChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindPreventDefaultTouchesChange){for(var t=0,i=this.__cbOnOwnerUnbindPreventDefaultTouchesChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindPreventDefaultTouchesChange[l])&&s()}this.__cbOnOwnerUnbindPreventDefaultTouchesChange=null}if(null!=this.__cbOnceOwnerUnbindPreventDefaultTouchesChange){for(t=0,i=this.__cbOnceOwnerUnbindPreventDefaultTouchesChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindPreventDefaultTouchesChange[l])&&s()}this.__cbOnceOwnerUnbindPreventDefaultTouchesChange=null}this.__cbOnPreventDefaultTouchesChange=null,this.__cbOncePreventDefaultTouchesChange=null}},listensPreventDefaultTouchesChange:function(){return null!=this.__cbOnPreventDefaultTouchesChange&&0<this.__cbOnPreventDefaultTouchesChange.length||null!=this.__cbOncePreventDefaultTouchesChange&&0<this.__cbOncePreventDefaultTouchesChange.length},orientation:null,collections:null,appInfo:null,antialiasing:null,resizable:null,assetsPath:null,backend:null,defaultFont:null,defaultShader:null,unbindEvents:function(){this.offObservedDirty(),this.offTargetWidthChange(),this.offTargetHeightChange(),this.offWindowWidthChange(),this.offWindowHeightChange(),this.offTargetDensityChange(),this.offBackgroundChange(),this.offScalingChange(),this.offTitleChange(),this.offFullscreenChange(),this.offTargetFpsChange(),this.offMaxDeltaChange(),this.offOverrideDeltaChange(),this.offPreventDefaultMouseWheelChange(),this.offPreventDefaultTouchesChange()},__class__:ht,__properties__:{set_preventDefaultTouches:"set_preventDefaultTouches",get_preventDefaultTouches:"get_preventDefaultTouches",set_preventDefaultMouseWheel:"set_preventDefaultMouseWheel",get_preventDefaultMouseWheel:"get_preventDefaultMouseWheel",set_overrideDelta:"set_overrideDelta",get_overrideDelta:"get_overrideDelta",set_maxDelta:"set_maxDelta",get_maxDelta:"get_maxDelta",set_targetFps:"set_targetFps",get_targetFps:"get_targetFps",set_fullscreen:"set_fullscreen",get_fullscreen:"get_fullscreen",set_title:"set_title",get_title:"get_title",set_scaling:"set_scaling",get_scaling:"get_scaling",set_background:"set_background",get_background:"get_background",set_targetDensity:"set_targetDensity",get_targetDensity:"get_targetDensity",set_windowHeight:"set_windowHeight",get_windowHeight:"get_windowHeight",set_windowWidth:"set_windowWidth",get_windowWidth:"get_windowWidth",set_targetHeight:"set_targetHeight",get_targetHeight:"get_targetHeight",set_targetWidth:"set_targetWidth",get_targetWidth:"get_targetWidth"}},(E["ceramic.Shader"]=k1).__name__="ceramic.Shader",k1.__super__=j,k1.prototype=$extend(j.prototype,{backendItem:null,set_backendItem:function(e){if(this.backendItem!=e&&null!=(this.backendItem=e)){ae.app.backend.shaders;var n=0,t=e.customAttributes;if(null!=t)for(var i=0,l=t.length;i<l;)n+=t[i++].size;this.customFloatAttributesSize=n}return e},asset:null,attributes:null,baseAttributes:null,customAttributes:null,textureIdAttribute:null,customFloatAttributesSize:null,textureSlots:null,usedTextures:null,destroy:function(){this._lifecycleState<=-2||(this._lifecycleState=-2,this._lifecycleState=-1,j.prototype.destroy.call(this),null!=this.asset&&this.asset.destroy(),null!=this.backendItem&&(ae.app.backend.shaders,this.backendItem.destroy(),this.set_backendItem(null)),this.attributes=null)},clone:function(){ae.app.backend.shaders;var e=this.backendItem.clone(),n=new k1(this.customAttributes,this.baseAttributes,this.textureIdAttribute);return n.set_backendItem(e),n},setInt:function(e,n){ae.app.backend.shaders;this.backendItem.uniforms.setInt(e,n)},setFloat:function(e,n){ae.app.backend.shaders;this.backendItem.uniforms.setFloat(e,n)},setVec2:function(e,n,t){ae.app.backend.shaders;this.backendItem.uniforms.setVector2(e,n,t)},setFloatArray:function(e,n){ae.app.backend.shaders;this.backendItem.uniforms.setFloatArray(e,new Float32Array(n))},resolveTextureSlot:function(e){return-1},setTexture:function(e,n,t){(n=null==n?-1:n)<0&&(n=this.resolveTextureSlot(e)),null==this.textureSlots&&(this.textureSlots=new Pn,this.usedTextures=[]);var i=this.textureSlots.get(n);null!=i&&this.usedTextures.splice(this.usedTextures.indexOf(i),1),this.textureSlots.set(n,t),null!=t&&this.usedTextures.push(t),ae.app.backend.shaders;this.backendItem.uniforms.setTexture(e,n,null!=t?t.backendItem:null)},setMat2:function(e,n,t,i,l){ae.app.backend.shaders;this.backendItem.uniforms.setMatrix2(e,new Float32Array([n,t,i,l]))},toString:function(){var e;return null!=this.id?(e=this.id,z.startsWith(e,"shader:")&&(e=he.substr(e,7,null)),null!=this.asset&&null!=this.asset.options.vertId||null!=this.asset.options.fragId?"Shader("+e+" "+(null!=this.asset.options.vertId?this.asset.options.vertId:"default")+" "+(null!=this.asset.options.fragId?this.asset.options.fragId:"default")+")":"Shader("+e+")"):"Shader()"},__class__:k1,__properties__:$extend(j.prototype.__properties__,{set_backendItem:"set_backendItem"})}),function(e,n,t){this.shaderClass=null,this.unobservedShader=null,this.shaderAutoruns=null,Fa.call(this,"shader",e,n,t)}),ot=((E["ceramic.ShaderAsset"]=at).__name__="ceramic.ShaderAsset",at.__super__=Fa,at.prototype=$extend(Fa.prototype,{shaderAutoruns:null,get_shader:function(){var e,n,t=this.unobservedShader;return null!=A.current&&(e=A.current,null!=(n=this.shaderAutoruns)||(n=A.getAutorunArray(),null!=(this.shaderAutoruns=n)))&&e.bindToAutorunArray(n),t},set_shader:function(e){var n=this.unobservedShader;return n!=(this.unobservedShader=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitShaderChange(e,n),null!=(n=this.shaderAutoruns))&&(this.shaderAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateShader:function(){var e=this.unobservedShader,e=(this.emitShaderChange(e,e),this.shaderAutoruns);null!=e&&(this.shaderAutoruns=null,A.invalidateAutorunArray(e))},unobservedShader:null,__cbOnShaderChange:null,__cbOnceShaderChange:null,__cbOnOwnerUnbindShaderChange:null,__cbOnceOwnerUnbindShaderChange:null,emitShaderChange:function(e,n){var t=0;if(null!=this.__cbOnShaderChange&&(t+=this.__cbOnShaderChange.length),null!=this.__cbOnceShaderChange&&(t+=this.__cbOnceShaderChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnShaderChange)for(var r=0,h=this.__cbOnShaderChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnShaderChange[a],++s):--t}if(null!=this.__cbOnceShaderChange){for(var o=null,c=null,r=0,h=this.__cbOnceShaderChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceShaderChange[a],this.__cbOnceShaderChange[a]=null,u=this.__cbOnceOwnerUnbindShaderChange[a],(this.__cbOnceOwnerUnbindShaderChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindShaderChange[a]),c.push(this.__cbOnceShaderChange[a]))}this.__cbOnceOwnerUnbindShaderChange=o,this.__cbOnceShaderChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onShaderChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event shaderChange because owner is destroyed!");var l=function(e){null!=t&&(i.offShaderChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindShaderChange&&(this.__cbOnOwnerUnbindShaderChange=[]),this.__cbOnOwnerUnbindShaderChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindShaderChange&&(this.__cbOnOwnerUnbindShaderChange=[]),this.__cbOnOwnerUnbindShaderChange.push(null);null==this.__cbOnShaderChange&&(this.__cbOnShaderChange=[]),this.__cbOnShaderChange.push(t)},onceShaderChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event shaderChange because owner is destroyed!");var l=function(e){null!=t&&(i.offShaderChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindShaderChange&&(this.__cbOnceOwnerUnbindShaderChange=[]),this.__cbOnceOwnerUnbindShaderChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindShaderChange&&(this.__cbOnceOwnerUnbindShaderChange=[]),this.__cbOnceOwnerUnbindShaderChange.push(null);null==this.__cbOnceShaderChange&&(this.__cbOnceShaderChange=[]),this.__cbOnceShaderChange.push(t)},offShaderChange:function(e){if(null!=e){var n;null!=this.__cbOnShaderChange&&-1!=(n=this.__cbOnShaderChange.indexOf(e))&&(this.__cbOnShaderChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindShaderChange[n])&&s(),this.__cbOnOwnerUnbindShaderChange.splice(n,1)),null!=this.__cbOnceShaderChange&&-1!=(n=this.__cbOnceShaderChange.indexOf(e))&&(this.__cbOnceShaderChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindShaderChange[n])&&s(),this.__cbOnceOwnerUnbindShaderChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindShaderChange){for(var t=0,i=this.__cbOnOwnerUnbindShaderChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindShaderChange[l])&&s()}this.__cbOnOwnerUnbindShaderChange=null}if(null!=this.__cbOnceOwnerUnbindShaderChange){for(t=0,i=this.__cbOnceOwnerUnbindShaderChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindShaderChange[l])&&s()}this.__cbOnceOwnerUnbindShaderChange=null}this.__cbOnShaderChange=null,this.__cbOnceShaderChange=null}},listensShaderChange:function(){return null!=this.__cbOnShaderChange&&0<this.__cbOnShaderChange.length||null!=this.__cbOnceShaderChange&&0<this.__cbOnceShaderChange.length},shaderClass:null,load:function(){var n=this;if(this.set_status(Me.LOADING),null==this.path)ae.app.logger.warning("Cannot load shader asset if path is undefined.",{fileName:"../../../../ceramic/runtime/src/ceramic/ShaderAsset.hx",lineNumber:81,className:"ceramic.ShaderAsset",methodName:"load"}),this.set_status(Me.BROKEN),this.emitComplete(!1);else{var t=null,e=null,i=null,l=null;if(null==this.shaderClass){if(e=[new ot(3,"vertexPosition"),new ot(2,"vertexTCoord"),new ot(4,"vertexColor")],l=new ot(1,"vertexTextureId"),null!=this.options.customAttributes)for(var i=[],s=this.options.customAttributes,r=0,h=s.length;r<h;){var a=s[r++];i.push(new ot(a.size,a.name))}null!=this.owner&&(this.owner.immediate,this.owner.loadMethod),t=new k1(e,i,l)}else e=(t=B.createInstance(this.shaderClass,[])).baseAttributes,i=t.customAttributes,l=t.textureIdAttribute;var o=this.path;z.startsWith(o,"shaders_")&&(o=he.substr(o,"shaders_".length,null)),null!=l?ae.app.logger.info("Load shader "+o+" (multi-texture)",{fileName:"../../../../ceramic/runtime/src/ceramic/ShaderAsset.hx",lineNumber:137,className:"ceramic.ShaderAsset",methodName:"load"}):ae.app.logger.info("Load shader "+o,{fileName:"../../../../ceramic/runtime/src/ceramic/ShaderAsset.hx",lineNumber:140,className:"ceramic.ShaderAsset",methodName:"load"}),ae.app.backend.shaders.load(Oe.realAssetPath(this.path,this.runtimeAssets),e,i,l,function(e){null==e?(n.set_status(Me.BROKEN),null!=t&&(t.destroy(),t=null),ae.app.logger.error("Failed to load shader at path: "+n.path,{fileName:"../../../../ceramic/runtime/src/ceramic/ShaderAsset.hx",lineNumber:151,className:"ceramic.ShaderAsset",methodName:"load"}),n.emitComplete(!1)):(t.set_backendItem(e),n.set_shader(t),(n.get_shader().asset=n).get_shader().id="shader:"+n.path,n.set_status(Me.READY),n.emitComplete(!0))})}},assetFilesDidChange:function(e,n){},destroy:function(){this._lifecycleState<=-2||(this._lifecycleState=-2,this._lifecycleState=-1,Fa.prototype.destroy.call(this),null!=this.get_shader()&&(this.get_shader().destroy(),this.set_shader(null)))},toString:function(){var e,n,t="ShaderAsset";return null!=this.options.vertId||null!=this.options.fragId?(e=null!=this.options.vertId?this.options.vertId:"default",n=null!=this.options.fragId?this.options.fragId:"default",t+"("+this.name+" "+e+" "+n+")"):null!=this.path&&""!=z.trim(this.path)?t+"("+this.name+" "+this.path+")":t+"("+this.name+")"},unbindEvents:function(){Fa.prototype.unbindEvents.call(this),this.offShaderChange()},__class__:at,__properties__:$extend(Fa.prototype.__properties__,{set_shader:"set_shader",get_shader:"get_shader"})}),function(e,n){this.size=e,this.name=n}),ct=((E["ceramic.ShaderAttribute"]=ot).__name__="ceramic.ShaderAttribute",ot.prototype={size:null,name:null,toString:function(){return""+K.string({size:this.size,name:this.name})},__class__:ot},(E["ceramic.Shortcuts"]=n1).__name__="ceramic.Shortcuts",n1.__properties__={get_systems:"get_systems",get_log:"get_log",get_settings:"get_settings",get_input:"get_input",get_audio:"get_audio",get_screen:"get_screen",get_app:"get_app"},n1.get_app=function(){return ae.app},n1.get_screen=function(){return ae.app.screen},n1.get_audio=function(){return ae.app.audio},n1.get_input=function(){return ae.app.input},n1.get_settings=function(){return ae.app.settings},n1.get_log=function(){return ae.app.logger},n1.get_systems=function(){return ae.app.systems},n1.unobserve=function(){A.unobserve()},n1.reobserve=function(){A.reobserve()},n1.cease=function(){A.cease()},(E["ceramic.SlugOptions"]=o1).__name__="ceramic.SlugOptions",o1.prototype={lower:null,remove:null,replacement:null,__class__:o1},function(){}),ut=((E["ceramic.Slug"]=ct).__name__="ceramic.Slug",ct.encode=function(e,n){null==n&&(n=ct.DEFAULT_OPTIONS);for(var t="",i=0,l=e;i<l.length;){var s=l,r=i++,h=s.charCodeAt(r),s=(h=55296<=h&&h<=56319?h-55232<<10|1023&s.charCodeAt(1+r):h,65536<=h&&++i,h);t+=K.string(ct.charMap.h.hasOwnProperty(s)?ct.charMap.h[s]:String.fromCodePoint(s))}e=z.trim(t),e=(null!=n.remove?n.remove:ct.safe).map(e,function(e){return""});return e=z.replace(e," ",n.replacement),n.lower?e.toLowerCase():e},function(){}),_t=((E["ceramic.SortVisuals"]=ut).__name__="ceramic.SortVisuals",ut.cmp=function(e,n){var t,i,l,s,r=0;return e.computedVisible||e.computedTouchable?n.computedVisible||n.computedTouchable?e.computedRenderTarget!=n.computedRenderTarget?r=null!=e.computedRenderTarget&&(null==n.computedRenderTarget||e.computedRenderTarget.priority>n.computedRenderTarget.priority||!(e.computedRenderTarget.priority<n.computedRenderTarget.priority)&&e.computedRenderTarget.index<n.computedRenderTarget.index)?-1:1:e.computedDepth>n.computedDepth?r=1:e.computedDepth<n.computedDepth?r=-1:(s=e.asQuad,t=n.asQuad,l=e.asMesh,i=n.asMesh,null==s&&null==l||null==t&&null==i||(l=null!=l?l.texture:s._texture,s=null!=i?i.texture:t._texture,null!=l&&null==s?r=1:null==l&&null!=s?r=-1:null!=l&&null!=s?l.index<s.index?r=1:l.index>s.index?r=-1:e.blending>n.blending?r=1:e.blending<n.blending&&(r=-1):e.blending>n.blending?r=1:e.blending<n.blending&&(r=-1))):r=1:r=-1,r},ut.sort=function(e){ut.rec(e,0,e.length)},ut.rec=function(e,n,t){var i=n+t>>1;if(t-n<12){if(!(t<=n))for(var l=n+1,s=t;l<s;)for(var r=l++;n<r;){var h,a,o=e[r],c=e[r-1],u=0;if(o.computedVisible||o.computedTouchable?c.computedVisible||c.computedTouchable?o.computedRenderTarget!=c.computedRenderTarget?u=null!=o.computedRenderTarget&&(null==c.computedRenderTarget||o.computedRenderTarget.priority>c.computedRenderTarget.priority||!(o.computedRenderTarget.priority<c.computedRenderTarget.priority)&&o.computedRenderTarget.index<c.computedRenderTarget.index)?-1:1:o.computedDepth>c.computedDepth?u=1:o.computedDepth<c.computedDepth?u=-1:(a=o.asQuad,d=c.asQuad,h=o.asMesh,_=c.asMesh,null==a&&null==h||null==d&&null==_||(h=null!=h?h.texture:a._texture,a=null!=_?_.texture:d._texture,null!=h&&null==a?u=1:null==h&&null!=a?u=-1:null!=h&&null!=a?h.index<a.index?u=1:h.index>a.index?u=-1:o.blending>c.blending?u=1:o.blending<c.blending&&(u=-1):o.blending>c.blending?u=1:o.blending<c.blending&&(u=-1))):u=1:u=-1,!(u<0))break;var _=r-1,d=e[_];e[_]=e[r],e[r]=d,--r}}else ut.rec(e,n,i),ut.rec(e,i,t),ut.doMerge(e,n,i,t,i-n,t-i)},ut.doMerge=function(e,n,t,i,l,s){var r;if(0!=l&&0!=s)if(l+s==2)c=e[t],u=e[n],_=0,c.computedVisible||c.computedTouchable?u.computedVisible||u.computedTouchable?c.computedRenderTarget!=u.computedRenderTarget?_=null!=c.computedRenderTarget&&(null==u.computedRenderTarget||c.computedRenderTarget.priority>u.computedRenderTarget.priority||!(c.computedRenderTarget.priority<u.computedRenderTarget.priority)&&c.computedRenderTarget.index<u.computedRenderTarget.index)?-1:1:c.computedDepth>u.computedDepth?_=1:c.computedDepth<u.computedDepth?_=-1:(p=c.asQuad,C=u.asQuad,v=c.asMesh,w=u.asMesh,m=null!=C||null!=w,(null!=p||null!=v)&&m&&(y=null!=v?v.texture:p._texture,U=null!=w?w.texture:C._texture,null!=y&&null==U?_=1:null==y&&null!=U?_=-1:null!=y&&null!=U?y.index<U.index?_=1:y.index>U.index?_=-1:c.blending>u.blending?_=1:c.blending<u.blending&&(_=-1):c.blending>u.blending?_=1:c.blending<u.blending&&(_=-1))):_=1:_=-1,_<0&&(P=e[t],e[t]=e[n],e[n]=P);else{if(s<l){for(var h,a=n+(h=l>>1),o=i-(b=t);0<o;){var c=e[O=b+(g=o>>1)],u=e[a],_=0;c.computedVisible||c.computedTouchable?u.computedVisible||u.computedTouchable?c.computedRenderTarget!=u.computedRenderTarget?_=null!=c.computedRenderTarget&&(null==u.computedRenderTarget||c.computedRenderTarget.priority>u.computedRenderTarget.priority||!(c.computedRenderTarget.priority<u.computedRenderTarget.priority)&&c.computedRenderTarget.index<u.computedRenderTarget.index)?-1:1:c.computedDepth>u.computedDepth?_=1:c.computedDepth<u.computedDepth?_=-1:(p=c.asQuad,C=u.asQuad,v=c.asMesh,w=u.asMesh,m=null!=C||null!=w,(null!=p||null!=v)&&m&&(y=null!=v?v.texture:p._texture,U=null!=w?w.texture:C._texture,null!=y&&null==U?_=1:null==y&&null!=U?_=-1:null!=y&&null!=U?y.index<U.index?_=1:y.index>U.index?_=-1:c.blending>u.blending?_=1:c.blending<u.blending&&(_=-1):c.blending>u.blending?_=1:c.blending<u.blending&&(_=-1))):_=1:_=-1,o=_<0?(b=O+1,o-g-1):g}d=(f=b)-t}else{for(var d,b,g,O,f=t+(d=s>>1),o=t-(b=n);0<o;){var p,C,v,w,m,y,U,c=e[f],u=e[O=b+(g=o>>1)],_=0;c.computedVisible||c.computedTouchable?u.computedVisible||u.computedTouchable?c.computedRenderTarget!=u.computedRenderTarget?_=null!=c.computedRenderTarget&&(null==u.computedRenderTarget||c.computedRenderTarget.priority>u.computedRenderTarget.priority||!(c.computedRenderTarget.priority<u.computedRenderTarget.priority)&&c.computedRenderTarget.index<u.computedRenderTarget.index)?-1:1:c.computedDepth>u.computedDepth?_=1:c.computedDepth<u.computedDepth?_=-1:(p=c.asQuad,C=u.asQuad,v=c.asMesh,w=u.asMesh,m=null!=C||null!=w,(null!=p||null!=v)&&m&&(y=null!=v?v.texture:p._texture,U=null!=w?w.texture:C._texture,null!=y&&null==U?_=1:null==y&&null!=U?_=-1:null!=y&&null!=U?y.index<U.index?_=1:y.index>U.index?_=-1:c.blending>u.blending?_=1:c.blending<u.blending&&(_=-1):c.blending>u.blending?_=1:c.blending<u.blending&&(_=-1))):_=1:_=-1,o=_<0?g:(b=O+1,o-g-1)}h=(a=b)-n}if(a!=t&&t!=f){for(var T=f-a,D=t-a;0!=D;)var x=T%D,T=D,D=x;for(r=T;0!=r--;){for(var S=e[a+r],A=t-a,k=a+r,I=a+r+A;I!=a+r;)e[k]=e[I],A<f-(k=I)?I+=A:I=a+(A-(f-I));e[k]=S}}var P=a+d;ut.doMerge(e,n,a,P,h,d),ut.doMerge(e,P,f,i,l-h,s-d)}},ut.rotate=function(e,n,t,i){if(n!=t&&t!=i){for(var l=i-n,s=t-n;0!=s;){var r=l%s,l=s;s=r}for(s=l;0!=s--;){for(var h=e[n+s],a=t-n,o=n+s,c=n+s+a;c!=n+s;)e[o]=e[c],a<i-(o=c)?c+=a:c=n+(a-(i-c));e[o]=h}}},ut.gcd=function(e,n){for(;0!=n;){var t=e%n;e=n,n=t}return e},ut.upper=function(e,n,t,i){for(var l=t-n;0<l;){var s,r,h,a,o,c,u=e[i],_=e[r=n+(s=l>>1)],d=0;u.computedVisible||u.computedTouchable?_.computedVisible||_.computedTouchable?u.computedRenderTarget!=_.computedRenderTarget?d=null!=u.computedRenderTarget&&(null==_.computedRenderTarget||u.computedRenderTarget.priority>_.computedRenderTarget.priority||!(u.computedRenderTarget.priority<_.computedRenderTarget.priority)&&u.computedRenderTarget.index<_.computedRenderTarget.index)?-1:1:u.computedDepth>_.computedDepth?d=1:u.computedDepth<_.computedDepth?d=-1:(c=u.asQuad,h=_.asQuad,o=u.asMesh,a=_.asMesh,null==c&&null==o||null==h&&null==a||(o=null!=o?o.texture:c._texture,c=null!=a?a.texture:h._texture,null!=o&&null==c?d=1:null==o&&null!=c?d=-1:null!=o&&null!=c?o.index<c.index?d=1:o.index>c.index?d=-1:u.blending>_.blending?d=1:u.blending<_.blending&&(d=-1):u.blending>_.blending?d=1:u.blending<_.blending&&(d=-1))):d=1:d=-1,l=d<0?s:(n=r+1,l-s-1)}return n},ut.lower=function(e,n,t,i){for(var l=t-n;0<l;){var s,r,h,a,o,c,u=e[r=n+(s=l>>1)],_=e[i],d=0;u.computedVisible||u.computedTouchable?_.computedVisible||_.computedTouchable?u.computedRenderTarget!=_.computedRenderTarget?d=null!=u.computedRenderTarget&&(null==_.computedRenderTarget||u.computedRenderTarget.priority>_.computedRenderTarget.priority||!(u.computedRenderTarget.priority<_.computedRenderTarget.priority)&&u.computedRenderTarget.index<_.computedRenderTarget.index)?-1:1:u.computedDepth>_.computedDepth?d=1:u.computedDepth<_.computedDepth?d=-1:(c=u.asQuad,h=_.asQuad,o=u.asMesh,a=_.asMesh,null==c&&null==o||null==h&&null==a||(o=null!=o?o.texture:c._texture,c=null!=a?a.texture:h._texture,null!=o&&null==c?d=1:null==o&&null!=c?d=-1:null!=o&&null!=c?o.index<c.index?d=1:o.index>c.index?d=-1:u.blending>_.blending?d=1:u.blending<_.blending&&(d=-1):u.blending>_.blending?d=1:u.blending<_.blending&&(d=-1))):d=1:d=-1,l=d<0?(n=r+1,l-s-1):s}return n},ut.swap=function(e,n,t){var i=e[n];e[n]=e[t],e[t]=i},ut.compare=function(e,n,t){var i,l,s,r,n=e[n],e=e[t],t=0;return n.computedVisible||n.computedTouchable?e.computedVisible||e.computedTouchable?n.computedRenderTarget!=e.computedRenderTarget?t=null!=n.computedRenderTarget&&(null==e.computedRenderTarget||n.computedRenderTarget.priority>e.computedRenderTarget.priority||!(n.computedRenderTarget.priority<e.computedRenderTarget.priority)&&n.computedRenderTarget.index<e.computedRenderTarget.index)?-1:1:n.computedDepth>e.computedDepth?t=1:n.computedDepth<e.computedDepth?t=-1:(r=n.asQuad,i=e.asQuad,s=n.asMesh,l=e.asMesh,null==r&&null==s||null==i&&null==l||(s=null!=s?s.texture:r._texture,r=null!=l?l.texture:i._texture,null!=s&&null==r?t=1:null==s&&null!=r?t=-1:null!=s&&null!=r?s.index<r.index?t=1:s.index>r.index?t=-1:n.blending>e.blending?t=1:n.blending<e.blending&&(t=-1):n.blending>e.blending?t=1:n.blending<e.blending&&(t=-1))):t=1:t=-1,t},function(){}),dt=((E["ceramic.SortVisualsByDepth"]=_t).__name__="ceramic.SortVisualsByDepth",_t.cmp=function(e,n){var t=0;return e.depth>n.depth?t=1:e.depth<n.depth&&(t=-1),t},_t.sort=function(e){_t.rec(e,0,e.length)},_t.rec=function(e,n,t){var i=n+t>>1;if(t-n<12){if(!(t<=n))for(var l=n+1,s=t;l<s;)for(var r=l++;n<r;){var h=e[r],a=e[r-1],o=0;if(h.depth>a.depth?o=1:h.depth<a.depth&&(o=-1),!(o<0))break;h=r-1,a=e[h];e[h]=e[r],e[r]=a,--r}}else _t.rec(e,n,i),_t.rec(e,i,t),_t.doMerge(e,n,i,t,i-n,t-i)},_t.doMerge=function(e,n,t,i,l,s){var r;if(0!=l&&0!=s)if(l+s==2)c=e[t],u=e[n],_=0,c.depth>u.depth?_=1:c.depth<u.depth&&(_=-1),_<0&&(T=e[t],e[t]=e[n],e[n]=T);else{if(s<l){for(var h,a=n+(h=l>>1),o=i-(b=t);0<o;){var c=e[O=b+(g=o>>1)],u=e[a],_=0;c.depth>u.depth?_=1:c.depth<u.depth&&(_=-1),o=_<0?(b=O+1,o-g-1):g}d=(f=b)-t}else{for(var d,b,g,O,f=t+(d=s>>1),o=t-(b=n);0<o;){c=e[f],u=e[O=b+(g=o>>1)],_=0;c.depth>u.depth?_=1:c.depth<u.depth&&(_=-1),o=_<0?g:(b=O+1,o-g-1)}h=(a=b)-n}if(a!=t&&t!=f){for(var p=f-a,C=t-a;0!=C;)var v=p%C,p=C,C=v;for(r=p;0!=r--;){for(var w=e[a+r],m=t-a,y=a+r,U=a+r+m;U!=a+r;)e[y]=e[U],m<f-(y=U)?U+=m:U=a+(m-(f-U));e[y]=w}}var T=a+d;_t.doMerge(e,n,a,T,h,d),_t.doMerge(e,T,f,i,l-h,s-d)}},_t.rotate=function(e,n,t,i){if(n!=t&&t!=i){for(var l=i-n,s=t-n;0!=s;){var r=l%s,l=s;s=r}for(s=l;0!=s--;){for(var h=e[n+s],a=t-n,o=n+s,c=n+s+a;c!=n+s;)e[o]=e[c],a<i-(o=c)?c+=a:c=n+(a-(i-c));e[o]=h}}},_t.gcd=function(e,n){for(;0!=n;){var t=e%n;e=n,n=t}return e},_t.upper=function(e,n,t,i){for(var l=t-n;0<l;){var s,r,h=e[i],a=e[r=n+(s=l>>1)],o=0;h.depth>a.depth?o=1:h.depth<a.depth&&(o=-1),l=o<0?s:(n=r+1,l-s-1)}return n},_t.lower=function(e,n,t,i){for(var l=t-n;0<l;){var s,r,h=e[r=n+(s=l>>1)],a=e[i],o=0;h.depth>a.depth?o=1:h.depth<a.depth&&(o=-1),l=o<0?(n=r+1,l-s-1):s}return n},_t.swap=function(e,n,t){var i=e[n];e[n]=e[t],e[t]=i},_t.compare=function(e,n,t){n=e[n],e=e[t],t=0;return n.depth>e.depth?t=1:n.depth<e.depth&&(t=-1),t},(E["ceramic.Sound"]=s1).__name__="ceramic.Sound",s1.fromSamplesBuffer=function(e,n,t,i,l){e=ae.app.backend.audio.createFromSamplesBuffer(e,n,t,i,l);return new s1(e)},s1.__super__=j,s1.prototype=$extend(j.prototype,{backendItem:null,asset:null,bus:null,group:null,set_group:function(e){var n;return this.group==e||(this.group=e,(n=ae.app.audio).mixers.exists(e))||n.mixers.set(e,new Re(e)),e},destroy:function(){if(!(this._lifecycleState<=-2)){this._lifecycleState=-2,this._lifecycleState=-1,j.prototype.destroy.call(this),null!=this.asset&&this.asset.destroy();for(var e=ae.app.backend.audio,n=this.backendItem,t=null,i=e.loadedAudioResources.h,l=i,s=Object.keys(i),r=s.length,h=0;h<r;){var a=s[h++];l[a]==n&&(t=a)}null==t?ae.app.logger.error("Failed to destroy audio resource: "+K.string(n)+" because id could not be resolved",{fileName:"../../../../ceramic/plugins/clay/runtime/src/backend/Audio.hx",lineNumber:284,className:"backend.Audio",methodName:"destroy"}):1<e.loadedAudioRetainCount.h[t]?--e.loadedAudioRetainCount.h[t]:(i=e.loadedAudioResources,Object.prototype.hasOwnProperty.call(i.h,t)&&delete i.h[t],i=e.loadedAudioRetainCount,Object.prototype.hasOwnProperty.call(i.h,t)&&delete i.h[t],n.destroy()),this.backendItem=null}},volume:null,pan:null,pitch:null,get_duration:function(){ae.app.backend.audio;return this.backendItem.getDuration()},play:function(e,n,t,i,l,s){null==n&&(n=!1);var r=ae.app.audio.mixers,h=r._keys.intMap.h[0|this.group],h=null!=h?h:0,r=2<=h?r.values[h-2]:Pn.RET_NULL;return r.mute?-1:(null==t&&(t=this.volume),null==i&&(i=this.pan),null==l&&(l=this.pitch),null==s&&(s=this.bus),t*=2*r.volume,i+=r.pan,l+=r.pitch-1,ae.app.backend.audio.play(this.backendItem,t,i,l,e=null==e?0:e,n,s))},__class__:s1,__properties__:$extend(j.prototype.__properties__,{get_duration:"get_duration",set_group:"set_group"})}),function(e,n,t){this.unobservedSound=null,this.soundAutoruns=null,this.stream=!1,Fa.call(this,"sound",e,n,t)}),bt=((E["ceramic.SoundAsset"]=dt).__name__="ceramic.SoundAsset",dt.__super__=Fa,dt.prototype=$extend(Fa.prototype,{__cbOnReplaceSound:null,__cbOnceReplaceSound:null,__cbOnOwnerUnbindReplaceSound:null,__cbOnceOwnerUnbindReplaceSound:null,emitReplaceSound:function(e,n){var t=0;if(null!=this.__cbOnReplaceSound&&(t+=this.__cbOnReplaceSound.length),null!=this.__cbOnceReplaceSound&&(t+=this.__cbOnceReplaceSound.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnReplaceSound)for(var r=0,h=this.__cbOnReplaceSound.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnReplaceSound[a],++s):--t}if(null!=this.__cbOnceReplaceSound){for(var o=null,c=null,r=0,h=this.__cbOnceReplaceSound.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceReplaceSound[a],this.__cbOnceReplaceSound[a]=null,u=this.__cbOnceOwnerUnbindReplaceSound[a],(this.__cbOnceOwnerUnbindReplaceSound[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindReplaceSound[a]),c.push(this.__cbOnceReplaceSound[a]))}this.__cbOnceOwnerUnbindReplaceSound=o,this.__cbOnceReplaceSound=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onReplaceSound:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event replaceSound because owner is destroyed!");var l=function(e){null!=t&&(i.offReplaceSound(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindReplaceSound&&(this.__cbOnOwnerUnbindReplaceSound=[]),this.__cbOnOwnerUnbindReplaceSound.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindReplaceSound&&(this.__cbOnOwnerUnbindReplaceSound=[]),this.__cbOnOwnerUnbindReplaceSound.push(null);null==this.__cbOnReplaceSound&&(this.__cbOnReplaceSound=[]),this.__cbOnReplaceSound.push(t)},onceReplaceSound:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event replaceSound because owner is destroyed!");var l=function(e){null!=t&&(i.offReplaceSound(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindReplaceSound&&(this.__cbOnceOwnerUnbindReplaceSound=[]),this.__cbOnceOwnerUnbindReplaceSound.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindReplaceSound&&(this.__cbOnceOwnerUnbindReplaceSound=[]),this.__cbOnceOwnerUnbindReplaceSound.push(null);null==this.__cbOnceReplaceSound&&(this.__cbOnceReplaceSound=[]),this.__cbOnceReplaceSound.push(t)},offReplaceSound:function(e){if(null!=e){var n;null!=this.__cbOnReplaceSound&&-1!=(n=this.__cbOnReplaceSound.indexOf(e))&&(this.__cbOnReplaceSound.splice(n,1),null!=(s=this.__cbOnOwnerUnbindReplaceSound[n])&&s(),this.__cbOnOwnerUnbindReplaceSound.splice(n,1)),null!=this.__cbOnceReplaceSound&&-1!=(n=this.__cbOnceReplaceSound.indexOf(e))&&(this.__cbOnceReplaceSound.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindReplaceSound[n])&&s(),this.__cbOnceOwnerUnbindReplaceSound.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindReplaceSound){for(var t=0,i=this.__cbOnOwnerUnbindReplaceSound.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindReplaceSound[l])&&s()}this.__cbOnOwnerUnbindReplaceSound=null}if(null!=this.__cbOnceOwnerUnbindReplaceSound){for(t=0,i=this.__cbOnceOwnerUnbindReplaceSound.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindReplaceSound[l])&&s()}this.__cbOnceOwnerUnbindReplaceSound=null}this.__cbOnReplaceSound=null,this.__cbOnceReplaceSound=null}},listensReplaceSound:function(){return null!=this.__cbOnReplaceSound&&0<this.__cbOnReplaceSound.length||null!=this.__cbOnceReplaceSound&&0<this.__cbOnceReplaceSound.length},stream:null,soundAutoruns:null,get_sound:function(){var e,n,t=this.unobservedSound;return null!=A.current&&(e=A.current,null!=(n=this.soundAutoruns)||(n=A.getAutorunArray(),null!=(this.soundAutoruns=n)))&&e.bindToAutorunArray(n),t},set_sound:function(e){var n=this.unobservedSound;return n!=(this.unobservedSound=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitSoundChange(e,n),null!=(n=this.soundAutoruns))&&(this.soundAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateSound:function(){var e=this.unobservedSound,e=(this.emitSoundChange(e,e),this.soundAutoruns);null!=e&&(this.soundAutoruns=null,A.invalidateAutorunArray(e))},unobservedSound:null,__cbOnSoundChange:null,__cbOnceSoundChange:null,__cbOnOwnerUnbindSoundChange:null,__cbOnceOwnerUnbindSoundChange:null,emitSoundChange:function(e,n){var t=0;if(null!=this.__cbOnSoundChange&&(t+=this.__cbOnSoundChange.length),null!=this.__cbOnceSoundChange&&(t+=this.__cbOnceSoundChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnSoundChange)for(var r=0,h=this.__cbOnSoundChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnSoundChange[a],++s):--t}if(null!=this.__cbOnceSoundChange){for(var o=null,c=null,r=0,h=this.__cbOnceSoundChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceSoundChange[a],this.__cbOnceSoundChange[a]=null,u=this.__cbOnceOwnerUnbindSoundChange[a],(this.__cbOnceOwnerUnbindSoundChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindSoundChange[a]),c.push(this.__cbOnceSoundChange[a]))}this.__cbOnceOwnerUnbindSoundChange=o,this.__cbOnceSoundChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onSoundChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event soundChange because owner is destroyed!");var l=function(e){null!=t&&(i.offSoundChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindSoundChange&&(this.__cbOnOwnerUnbindSoundChange=[]),this.__cbOnOwnerUnbindSoundChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindSoundChange&&(this.__cbOnOwnerUnbindSoundChange=[]),this.__cbOnOwnerUnbindSoundChange.push(null);null==this.__cbOnSoundChange&&(this.__cbOnSoundChange=[]),this.__cbOnSoundChange.push(t)},onceSoundChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event soundChange because owner is destroyed!");var l=function(e){null!=t&&(i.offSoundChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindSoundChange&&(this.__cbOnceOwnerUnbindSoundChange=[]),this.__cbOnceOwnerUnbindSoundChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindSoundChange&&(this.__cbOnceOwnerUnbindSoundChange=[]),this.__cbOnceOwnerUnbindSoundChange.push(null);null==this.__cbOnceSoundChange&&(this.__cbOnceSoundChange=[]),this.__cbOnceSoundChange.push(t)},offSoundChange:function(e){if(null!=e){var n;null!=this.__cbOnSoundChange&&-1!=(n=this.__cbOnSoundChange.indexOf(e))&&(this.__cbOnSoundChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindSoundChange[n])&&s(),this.__cbOnOwnerUnbindSoundChange.splice(n,1)),null!=this.__cbOnceSoundChange&&-1!=(n=this.__cbOnceSoundChange.indexOf(e))&&(this.__cbOnceSoundChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindSoundChange[n])&&s(),this.__cbOnceOwnerUnbindSoundChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindSoundChange){for(var t=0,i=this.__cbOnOwnerUnbindSoundChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindSoundChange[l])&&s()}this.__cbOnOwnerUnbindSoundChange=null}if(null!=this.__cbOnceOwnerUnbindSoundChange){for(t=0,i=this.__cbOnceOwnerUnbindSoundChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindSoundChange[l])&&s()}this.__cbOnceOwnerUnbindSoundChange=null}this.__cbOnSoundChange=null,this.__cbOnceSoundChange=null}},listensSoundChange:function(){return null!=this.__cbOnSoundChange&&0<this.__cbOnSoundChange.length||null!=this.__cbOnceSoundChange&&0<this.__cbOnceSoundChange.length},load:function(){var l=this;if(this.set_status(Me.LOADING),null==this.path)ae.app.logger.warning("Cannot load sound asset if path is undefined.",{fileName:"../../../../ceramic/runtime/src/ceramic/SoundAsset.hx",lineNumber:78,className:"ceramic.SoundAsset",methodName:"load"}),this.set_status(Me.BROKEN),this.emitComplete(!1);else{var s={};if(null!=this.owner&&(s.immediate=this.owner.immediate,s.loadMethod=this.owner.loadMethod),null!=this.options)for(var e=0,n=L.fields(this.options);e<n.length;){var t=n[e];++e,s[t]=L.field(this.options,t)}var r=[].concat(this.allPaths),h=function(e){var n;null!=e?(n=l.get_sound(),((e=new s1(e)).asset=l).set_sound(e),null!=n&&(l.emitReplaceSound(l.get_sound(),n),n.asset=null,n.destroy()),l.set_status(Me.READY),l.emitComplete(!0)):(l.set_status(Me.BROKEN),ae.app.logger.error("Failed to load audio at path: "+l.path,{fileName:"../../../../ceramic/runtime/src/ceramic/SoundAsset.hx",lineNumber:122,className:"ceramic.SoundAsset",methodName:"load"}),l.emitComplete(!1))},a=null,a=function(n){var e=n,t=Oe.realAssetPath(e,l.runtimeAssets),i=Oe.getReloadCount(t),i=(0<i&&(t+="?hot="+i,e+="?hot="+i),ae.app.logger.info("Load sound "+e,{fileName:"../../../../ceramic/runtime/src/ceramic/SoundAsset.hx",lineNumber:138,className:"ceramic.SoundAsset",methodName:"load"}),Nn.extension(t));null!=i&&(i=i.toLowerCase()),ae.app.backend.audio.load(t,s,function(e){null!=e||0==r.length?h(e):(e=r.shift(),ae.app.logger.warning("Failed to load "+n+". Try "+e+"...",{fileName:"../../../../ceramic/runtime/src/ceramic/SoundAsset.hx",lineNumber:151,className:"ceramic.SoundAsset",methodName:"load"}),a(e))})};0<r.length?a(r.shift()):(this.set_status(Me.BROKEN),ae.app.logger.error("Failed to load audio at path: "+this.path,{fileName:"../../../../ceramic/runtime/src/ceramic/SoundAsset.hx",lineNumber:163,className:"ceramic.SoundAsset",methodName:"load"}),this.emitComplete(!1))}},assetFilesDidChange:function(e,n){var t=-1,n=(Object.prototype.hasOwnProperty.call(n.h,this.path)&&(t=n.h[this.path]),-1);(n=Object.prototype.hasOwnProperty.call(e.h,this.path)?e.h[this.path]:n)!=t&&(ae.app.logger.info("Reload sound (file has changed)",{fileName:"../../../../ceramic/runtime/src/ceramic/SoundAsset.hx",lineNumber:188,className:"ceramic.SoundAsset",methodName:"assetFilesDidChange"}),this.load())},destroy:function(){this._lifecycleState<=-2||(this._lifecycleState=-2,this._lifecycleState=-1,Fa.prototype.destroy.call(this),null!=this.get_sound()&&(this.get_sound().destroy(),this.set_sound(null)))},unbindEvents:function(){Fa.prototype.unbindEvents.call(this),this.offReplaceSound(),this.offSoundChange()},__class__:dt,__properties__:$extend(Fa.prototype.__properties__,{set_sound:"set_sound",get_sound:"get_sound"})}),function(){this._udpatingSystems=[],this.lateUpdateOrdered=[],this.earlyUpdateOrdered=[],this.lateUpdateOrderDirty=!1,this.earlyUpdateOrderDirty=!1,j.call(this)}),gt=((E["ceramic.Systems"]=bt).__name__="ceramic.Systems",bt.sortSystemsByEarlyUpdateOrder=function(e,n){return e.earlyUpdateOrder>n.earlyUpdateOrder?1:e.earlyUpdateOrder<n.earlyUpdateOrder?-1:0},bt.sortSystemsByLateUpdateOrder=function(e,n){return e.lateUpdateOrder>n.lateUpdateOrder?1:e.lateUpdateOrder<n.lateUpdateOrder?-1:0},bt.__super__=j,bt.prototype=$extend(j.prototype,{earlyUpdateOrderDirty:null,lateUpdateOrderDirty:null,earlyUpdateOrdered:null,lateUpdateOrdered:null,_udpatingSystems:null,addSystem:function(e){this.earlyUpdateOrdered.push(e),this.earlyUpdateOrderDirty=!0,this.lateUpdateOrdered.push(e),this.lateUpdateOrderDirty=!0},removeSystem:function(e){he.remove(this.earlyUpdateOrdered,e),this.earlyUpdateOrderDirty=!0,he.remove(this.lateUpdateOrdered,e),this.lateUpdateOrderDirty=!0},earlyUpdate:function(e){this.earlyUpdateOrderDirty&&(Rl.sort(this.earlyUpdateOrdered,bt.sortSystemsByEarlyUpdateOrder),this.earlyUpdateOrderDirty=!1);for(var n=this.earlyUpdateOrdered.length,t=0,i=n;t<i;){var l=t++;this._udpatingSystems[l]=this.earlyUpdateOrdered[l]}for(t=0,i=n;t<i;){var l=t++,s=this._udpatingSystems[l];s.emitBeginEarlyUpdate(e),s.earlyUpdate(e),s.emitEndEarlyUpdate(e),ae.app.flushImmediate()}for(t=0,i=n;t<i;){l=t++;this._udpatingSystems[l]=null}},lateUpdate:function(e){this.lateUpdateOrderDirty&&(Rl.sort(this.lateUpdateOrdered,bt.sortSystemsByLateUpdateOrder),this.lateUpdateOrderDirty=!1);for(var n=this.lateUpdateOrdered.length,t=0,i=n;t<i;){var l=t++;this._udpatingSystems[l]=this.lateUpdateOrdered[l]}for(t=0,i=n;t<i;){var l=t++,s=this._udpatingSystems[l];s.emitBeginLateUpdate(e),s.lateUpdate(e),s.emitEndLateUpdate(e),ae.app.flushImmediate()}for(t=0,i=n;t<i;){l=t++;this._udpatingSystems[l]=null}},get:function(e){for(var n=0,t=this.earlyUpdateOrdered.length;n<t;){var i=n++,i=this.earlyUpdateOrdered[i];if(i.name==e)return i}return null},__class__:bt}),function(){this.glyphCode=null,this.maxLineDiff=-1,this.fitWidth=-1,this.align=Ot.LEFT,this.preRenderedSize=-1,this.clipTextHeight=-1,this.clipTextWidth=-1,this.clipTextY=-1,this.clipTextX=-1,this.letterSpacing=0,this.lineHeight=1,this.pointSize=20,this.content="",this.color=16777215,this.numLines=1,this.glyphQuads=[],o.call(this),this.set_font(ae.app.defaultFont)}),Ot=((E["ceramic.Text"]=gt).__name__="ceramic.Text",gt.__super__=o,gt.prototype=$extend(o.prototype,{__cbOnGlyphQuadsChange:null,__cbOnceGlyphQuadsChange:null,__cbOnOwnerUnbindGlyphQuadsChange:null,__cbOnceOwnerUnbindGlyphQuadsChange:null,emitGlyphQuadsChange:function(){var e=0;if(null!=this.__cbOnGlyphQuadsChange&&(e+=this.__cbOnGlyphQuadsChange.length),null!=this.__cbOnceGlyphQuadsChange&&(e+=this.__cbOnceGlyphQuadsChange.length),0<e){var n=C.pool(e),t=n.get(),i=0;if(null!=this.__cbOnGlyphQuadsChange)for(var l=0,s=this.__cbOnGlyphQuadsChange.length;l<s;){var r=l++;!0?(t.vector[i]=this.__cbOnGlyphQuadsChange[r],++i):--e}if(null!=this.__cbOnceGlyphQuadsChange){for(var h=null,a=null,l=0,s=this.__cbOnceGlyphQuadsChange.length;l<s;){var o,r=l++;!0?(t.vector[i]=this.__cbOnceGlyphQuadsChange[r],this.__cbOnceGlyphQuadsChange[r]=null,o=this.__cbOnceOwnerUnbindGlyphQuadsChange[r],(this.__cbOnceOwnerUnbindGlyphQuadsChange[r]=null)!=o&&o(),++i):(--e,null==h&&(h=[],a=[],0),h.push(this.__cbOnceOwnerUnbindGlyphQuadsChange[r]),a.push(this.__cbOnceGlyphQuadsChange[r]))}this.__cbOnceOwnerUnbindGlyphQuadsChange=h,this.__cbOnceGlyphQuadsChange=a}for(l=0,s=e;l<s;){i=l++;(0,t.vector[i])()}n.release(t)}},onGlyphQuadsChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event glyphQuadsChange because owner is destroyed!");var l=function(e){null!=t&&(i.offGlyphQuadsChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindGlyphQuadsChange&&(this.__cbOnOwnerUnbindGlyphQuadsChange=[]),this.__cbOnOwnerUnbindGlyphQuadsChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindGlyphQuadsChange&&(this.__cbOnOwnerUnbindGlyphQuadsChange=[]),this.__cbOnOwnerUnbindGlyphQuadsChange.push(null);null==this.__cbOnGlyphQuadsChange&&(this.__cbOnGlyphQuadsChange=[]),this.__cbOnGlyphQuadsChange.push(t)},onceGlyphQuadsChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event glyphQuadsChange because owner is destroyed!");var l=function(e){null!=t&&(i.offGlyphQuadsChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindGlyphQuadsChange&&(this.__cbOnceOwnerUnbindGlyphQuadsChange=[]),this.__cbOnceOwnerUnbindGlyphQuadsChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindGlyphQuadsChange&&(this.__cbOnceOwnerUnbindGlyphQuadsChange=[]),this.__cbOnceOwnerUnbindGlyphQuadsChange.push(null);null==this.__cbOnceGlyphQuadsChange&&(this.__cbOnceGlyphQuadsChange=[]),this.__cbOnceGlyphQuadsChange.push(t)},offGlyphQuadsChange:function(e){if(null!=e){var n;null!=this.__cbOnGlyphQuadsChange&&-1!=(n=this.__cbOnGlyphQuadsChange.indexOf(e))&&(this.__cbOnGlyphQuadsChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindGlyphQuadsChange[n])&&s(),this.__cbOnOwnerUnbindGlyphQuadsChange.splice(n,1)),null!=this.__cbOnceGlyphQuadsChange&&-1!=(n=this.__cbOnceGlyphQuadsChange.indexOf(e))&&(this.__cbOnceGlyphQuadsChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindGlyphQuadsChange[n])&&s(),this.__cbOnceOwnerUnbindGlyphQuadsChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindGlyphQuadsChange){for(var t=0,i=this.__cbOnOwnerUnbindGlyphQuadsChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindGlyphQuadsChange[l])&&s()}this.__cbOnOwnerUnbindGlyphQuadsChange=null}if(null!=this.__cbOnceOwnerUnbindGlyphQuadsChange){for(t=0,i=this.__cbOnceOwnerUnbindGlyphQuadsChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindGlyphQuadsChange[l])&&s()}this.__cbOnceOwnerUnbindGlyphQuadsChange=null}this.__cbOnGlyphQuadsChange=null,this.__cbOnceGlyphQuadsChange=null}},listensGlyphQuadsChange:function(){return null!=this.__cbOnGlyphQuadsChange&&0<this.__cbOnGlyphQuadsChange.length||null!=this.__cbOnceGlyphQuadsChange&&0<this.__cbOnceGlyphQuadsChange.length},glyphQuads:null,numLines:null,get_numLines:function(){return this.contentDirty&&this.computeContent(),this.numLines},color:null,set_color:function(e){if(this.color!=e&&(this.color=e,null!=this.glyphQuads))for(var n=0,t=this.glyphQuads.length;n<t;){var i=n++;this.glyphQuads[i].color=e}return e},set_roundTranslation:function(e){return this.roundTranslation!=e&&(this.contentDirty=!0,ae.app.visualsContentDirty=!0,this.roundTranslation=e),e},content:null,set_content:function(e){return this.content!=e&&(this.contentDirty=!0,ae.app.visualsContentDirty=!0,this.content=e),e},pointSize:null,set_pointSize:function(e){return this.pointSize!=e&&(this.contentDirty=!0,ae.app.visualsContentDirty=!0,this.pointSize=e),e},lineHeight:null,set_lineHeight:function(e){return this.lineHeight!=e&&(this.contentDirty=!0,ae.app.visualsContentDirty=!0,this.lineHeight=e),e},letterSpacing:null,set_letterSpacing:function(e){return this.letterSpacing!=e&&(this.contentDirty=!0,ae.app.visualsContentDirty=!0,this.letterSpacing=e),e},font:null,set_font:function(e){return null==e&&(e=ae.app.defaultFont),this.font!=e&&(null!=this.font&&(this.font.offDestroy($bind(this,this.fontDestroyed)),null!=this.font.asset)&&this.font.asset.release(),this.contentDirty=!0,ae.app.visualsContentDirty=!0,this.font=e,null!=this.font&&(this.font.onDestroy(this,$bind(this,this.fontDestroyed)),null!=this.font.asset))&&this.font.asset.retain(),e},clipTextX:null,set_clipTextX:function(e){return this.clipTextX!=e&&(this.clipTextX=e,this.contentDirty=!0,ae.app.visualsContentDirty=!0),e},clipTextY:null,set_clipTextY:function(e){return this.clipTextY!=e&&(this.clipTextY=e,this.contentDirty=!0,ae.app.visualsContentDirty=!0),e},clipTextWidth:null,set_clipTextWidth:function(e){return this.clipTextWidth!=e&&(this.clipTextWidth=e,this.contentDirty=!0,ae.app.visualsContentDirty=!0),e},clipTextHeight:null,set_clipTextHeight:function(e){return this.clipTextHeight!=e&&(this.clipTextHeight=e,this.contentDirty=!0,ae.app.visualsContentDirty=!0),e},clipText:function(e,n,t,i){this.set_clipTextX(e),this.set_clipTextY(n),this.set_clipTextWidth(t),this.set_clipTextHeight(i)},preRenderedSize:null,set_preRenderedSize:function(e){return this.preRenderedSize!=e&&(this.contentDirty=!0,ae.app.visualsContentDirty=!0,this.preRenderedSize<=0&&0<e&&ae.app.screen.onTexturesDensityChange(this,$bind(this,this.handleTexturesDensityChange)),0<this.preRenderedSize&&e<=0&&ae.app.screen.offTexturesDensityChange($bind(this,this.handleTexturesDensityChange)),this.preRenderedSize=e),e},handleTexturesDensityChange:function(e,n){this.contentDirty=!0,ae.app.visualsContentDirty=!0},align:null,set_align:function(e){return this.align!=e&&(this.contentDirty=!0,ae.app.visualsContentDirty=!0,this.align=e),e},fitWidth:null,set_fitWidth:function(e){return this.fitWidth!=e&&(this.fitWidth=e,this.contentDirty=!0,ae.app.visualsContentDirty=!0),e},maxLineDiff:null,set_maxLineDiff:function(e){return this.maxLineDiff!=e&&(this.maxLineDiff=e,-1!=this.fitWidth)&&(this.contentDirty=!0,ae.app.visualsContentDirty=!0),e},glyphCode:null,set_depth:function(e){if(this.depth==e)return e;if(null!=this.glyphQuads)for(var n=0,t=this.glyphQuads.length;n<t;){var i=n++;this.glyphQuads[i].set_depth(e)}return o.prototype.set_depth.call(this,e)},get_width:function(){return this.contentDirty&&this.computeContent(),o.prototype.get_width.call(this)},scaleWidth:function(e){if(this._width!=e&&(this.set_scaleX(e/this._width),this.matrixDirty=!0,null!=this.children))for(var n=0,t=this.children.length;n<t;){var i=n++,l=this.children[i];if(l.matrixDirty=!0,null!=l.children)for(var s=0,r=l.children.length;s<r;){var h=s++;l.children[h].set_matrixDirty(!0)}}},get_height:function(){return this.contentDirty&&this.computeContent(),o.prototype.get_height.call(this)},scaleHeight:function(e){if(this._height!=e&&(this.set_scaleY(e/this._height),this.matrixDirty=!0,null!=this.children))for(var n=0,t=this.children.length;n<t;){var i=n++,l=this.children[i];if(l.matrixDirty=!0,null!=l.children)for(var s=0,r=l.children.length;s<r;){var h=s++;l.children[h].set_matrixDirty(!0)}}},set_blending:function(e){if(this.blending!=e&&(this.blending=e,null!=this.glyphQuads))for(var n=0,t=this.glyphQuads.length;n<t;){var i=n++;this.glyphQuads[i].set_blending(e)}return e},destroy:function(){if(!(this._lifecycleState<=-2)&&(this._lifecycleState=-2,this._lifecycleState=-1,o.prototype.destroy.call(this),null!=this.glyphQuads)){for(var e=0,n=this.glyphQuads.length;e<n;){var t=e++;this.glyphQuads[t].destroy()}this.glyphQuads=null}},computeContent:function(){var e=this;if(null==this.font)this.set_width(0),this.set_height(0),this.contentDirty=!1;else{if(this.numLines=this.computeGlyphQuads(this.fitWidth,this.maxLineDiff),this.contentDirty=!1,this.matrixDirty=!0,null!=this.children)for(var n=0,t=this.children.length;n<t;){var i=n++,l=this.children[i];if(l.matrixDirty=!0,null!=l.children)for(var s=0,r=l.children.length;s<r;){var h=s++;l.children[h].set_matrixDirty(!0)}}var a,o=this.preRenderedSize*ae.app.screen.get_texturesDensity()|0;0<o&&null!=(a=this.font).fontData.distanceField&&"msdf"==a.fontData.distanceField.fieldType&&this.font.needsToPreRenderAtSize(o)&&this.font.preRenderAtSize(o,function(){e.contentDirty=!0,ae.app.visualsContentDirty=!0}),this.emitGlyphQuadsChange()}},computeGlyphQuads:function(e,E,R){null==R&&(R=-1);var n,t,i,l=0,L=0,V=0,s=this.pointSize/this.font.fontData.pointSize,r=null,h=-1,a=null,o=-1,c=0,u=null,_=[],d=[[]],b=0,H=!1,W=!1,N=!1,g=0,z=0,O=!1,f=0,G=!1,Y=(-1!=this.clipTextX&&-1!=this.clipTextY&&-1!=this.clipTextWidth&&-1!=this.clipTextHeight&&(G=!0),this.preRenderedSize*ae.app.screen.get_texturesDensity()|0),X=0<Y&&null!=(U=this.font).fontData.distanceField&&"msdf"==U.fontData.distanceField.fieldType&&!this.font.needsToPreRenderAtSize(Y),p=this.content;if((""==p||0<p.length&&10==he.cca(p,p.length-1))&&(O=!0,p+=" "),null!=this.glyphCode){for(var K="",C=0,v=p.length;C<v;){var w=C++,j=he.cca(p,w),j=this.glyphCode(j,w);K+=String.fromCodePoint(j)}p=K}for(var m,y,U,$=p.length;c<$&&b<2*$;){if(a=r,o=h,r=p.charAt(c),h=he.cca(r,0),(W=" "==r)&&++g,(H="\n"==r)||W||c==$-1)if(!N&&0<=e&&1<V&&e-1<V&&0<g)for(N=!0,--g;0<c;){if(--c,r=p.charAt(c),h=he.cca(r,0),o=0<c?(a=p.charAt(c-1),he.cca(a,0)):(a=null,-1),u=this.font.fontData.chars.get(h),null!=a&&(l-=(null!=(m=this.font.fontData.kernings.get(o))&&m.intMap.h.hasOwnProperty(0|h)&&null!=(m=m.intMap.h[0|h])?m:0)*s),null!=u&&(l-=u.xAdvance*s+this.letterSpacing),!(0<d[d.length-1].length))break;if(--b,d[d.length-1].pop()," "==r){r="\n",u=this.font.fontData.chars.get(10),h=he.cca(r,0),--g,W=!(H=!0);break}}else N=!1;if(H)g=0,o=-1,z=++c,L+=this.lineHeight*this.font.fontData.lineHeight*s,_.push(l+((a=null)!=u?(u.xOffset+u.width-u.xAdvance)*s-this.letterSpacing:0)),d.push([]),V=l=0;else{if(null!=(u=this.font.fontData.chars.get(h))){if(null!=a&&(l+=(null!=(y=this.font.fontData.kernings.get(o))&&y.intMap.h.hasOwnProperty(0|h)&&null!=(y=y.intMap.h[0|h])?y:0)*s),y=l+u.xOffset*s,n=L+u.yOffset*s,t=u.width*s,i=u.height*s,f=0,G&&(y>=this.clipTextX+this.clipTextWidth||y+t<this.clipTextX||n>=this.clipTextY+this.clipTextHeight||n+i<this.clipTextY?f=2:(this.clipTextX>y&&this.clipTextX<=y+t||this.clipTextY>n&&this.clipTextY<=n+i||this.clipTextX+this.clipTextWidth>y&&this.clipTextX+this.clipTextWidth<=y+t||this.clipTextY+this.clipTextHeight>n&&this.clipTextY+this.clipTextHeight<=n+i)&&(f=1)),null==(B=b<this.glyphQuads.length?this.glyphQuads[b]:null)){if(1!=(B=new bb).inheritAlpha&&(B.inheritAlpha=!0,B.visibilityDirty=!0,null!=B.children))for(C=0,v=B.children.length;C<v;){var Q=C++,q=B.children[Q];if(q.visibilityDirty=!0,null!=q.children)for(var T=0,D=q.children.length;T<D;){var Z=T++;q.children[Z].set_visibilityDirty(!0)}}this.glyphQuads.push(B),this.add(B)}++b,B.char=r,B.code=h,B.index=c,B.set_visible(2!=f),B.flags&=-17,B.posInLine=c-z,B.line=d.length-1;var J,ee,x,S,A,k,I,P,F=X?this.font.preRenderedPages.h[Y].h[u.page]:this.font.pages.get(u.page);B._texture!=F&&B._set_texture(F),B.set_roundTranslation(0<=this.roundTranslation?this.roundTranslation:null!=B._texture&&B._texture.filter==Tt.NEAREST?1:0),B.set_shader(X||null==this.font.pageShaders?null:this.font.pageShaders.h[u.page]),B.color=this.color,B.set_depth(this.depth),B.set_blending(this.blending),B.glyphX=l,B.glyphY=L,B.glyphAdvance=u.xAdvance*s+this.letterSpacing,B.glyph=u,1==f?(F=Math.max(this.clipTextX,y),k=Math.max(this.clipTextY,n),I=Math.min(this.clipTextX+this.clipTextWidth,y+t)-F,P=Math.min(this.clipTextY+this.clipTextHeight,n+i)-k,S=X?(S=this.font.pages.get(u.page),J=u.x*B._texture.width/S.width,ee=u.y*B._texture.height/S.height,x=u.width*B._texture.width/S.width,u.height*B._texture.height/S.height):(J=u.x/B._texture.density,ee=u.y/B._texture.density,x=u.width/B._texture.density,u.height/B._texture.density),J+=A=(F-y)*x/t,x-=A+(y+t-F-I)*x/t,ee+=A=(k-n)*S/i,S-=A+(n+i-k-P)*S/i,B.frameX=J,B.frameY=ee,B.frameWidth!=x&&-1!=(B.frameWidth=x)&&B.set_width(x),B.frameHeight!=S&&-1!=(B.frameHeight=S)&&B.set_height(S),B.set_x(F),B.set_y(k),B.set_width(I),B.set_height(P)):(X?(A=this.font.pages.get(u.page),F=u.width*B._texture.width/A.width,k=u.height*B._texture.height/A.height,B.frameX=u.x*B._texture.width/A.width,B.frameY=u.y*B._texture.height/A.height,B.frameWidth!=F&&-1!=(B.frameWidth=F)&&B.set_width(F),B.frameHeight!=k&&-1!=(B.frameHeight=k)&&B.set_height(k)):(I=u.width/B._texture.density,P=u.height/B._texture.density,B.frameX=u.x/B._texture.density,B.frameY=u.y/B._texture.density,B.frameWidth!=I&&-1!=(B.frameWidth=I)&&B.set_width(I),B.frameHeight!=P&&-1!=(B.frameHeight=P)&&B.set_height(P)),B.set_x(y),B.set_y(n),B.set_width(t),B.set_height(i)),B.set_anchorX(0),B.set_anchorY(0),d[d.length-1].push(B),V=l+Math.max((u.xOffset+u.width)*s,u.xAdvance*s),l+=u.xAdvance*s+this.letterSpacing}++c}}for(0<l&&_.push(l),O&&0<b&&(U=this.glyphQuads[b-1],O=_[_.length-1],O-=U.glyphAdvance,_[_.length-1]=O,U.glyphAdvance=0,U.set_visible(!1));b<this.glyphQuads.length;)(B=this.glyphQuads.pop()).destroy();for(var M=0,C=0,v=_.length;C<v;)c=C++,M=Math.max(_[c],M);switch(this.set_width(Math.round(1e3*M)/1e3),this.set_height(Math.round(1e3*((_.length-1)*this.lineHeight*this.font.fontData.lineHeight*s+this.font.fontData.lineHeight*s))/1e3),this.align._hx_index){case 1:for(C=0,v=_.length;C<v;)for(var ne=M-_[c=C++],T=0,D=(te=d[c]).length;T<D;)(B=te[w=T++]).set_x(B.x+ne);break;case 2:for(C=0,v=_.length;C<v;)for(var te,B,ne=.5*(M-_[c=C++]),T=0,D=(te=d[c]).length;T<D;)(B=te[w=T++]).set_x(B.x+ne)}if((-1==R||R==_.length)&&0<e&&-1!=E&&e>this.pointSize){for(var ie=0,le=this.fitWidth*E,C=0,v=_.length;C<v;)for(c=C++,T=0,D=_.length;T<D;){var w=T++,se=_[c]-_[w];if(le<(ie=ie<(se=se<0?-se:se)?se:ie))break}le<ie&&(O=this.computeGlyphQuads(e-this.pointSize,E,_.length),_.length<O)&&this.computeGlyphQuads(e,-1,_.length)}return _.length},lineForYPosition:function(e){this.contentDirty&&this.computeContent();var n,t=this.lineHeight*this.font.fontData.lineHeight*this.pointSize/this.font.fontData.pointSize,i=0;return t<=0?0:(i=0<(n=this.glyphQuads).length?n[n.length-1].line:i)<(n=(n=Math.floor(e/t))<0?0:n)?i:n},posInLineForX:function(e,n){this.contentDirty&&this.computeContent();var t=this.glyphQuads,i=0;if(0!=t.length&&0!=n)for(var l=0,s=t.length;l<s;){var r=t[l++];if(r.line==e){if(r.glyphX>=n)return i;if(r.glyphX+r.glyphAdvance>=n){var h=r.glyphX+r.glyphAdvance-n;if(n-r.glyphX<=h)return i}++i}else if(r.line>e)break}return i},indexForPosInLine:function(e,n){this.contentDirty&&this.computeContent();var t=this.glyphQuads;if(0==t.length)return 0;for(var i=0,l=t.length;i<l;){var s=t[i++];if(s.line==e&&s.posInLine>=n)return s.index+n-s.posInLine;if(s.line>e)return s.index-s.posInLine-(s.line-e)}return this.content.length},xPositionAtIndex:function(e){this.contentDirty&&this.computeContent();var n=this.glyphQuads;if(0==n.length)return 0;for(var t=0,i=n.length;t<i;){var l=t++,s=n[l];if(s.index>=e)return 0==s.glyphX&&s.index>e?1<=l?(l=n[l-1]).glyphX+l.glyphAdvance:0:s.glyphX}var r=n[n.length-1];return r.glyphX+r.glyphAdvance},lineForIndex:function(e){this.contentDirty&&this.computeContent();var n=this.glyphQuads;if(0==n.length)return 0;for(var t=0,i=n.length;t<i;){var l=n[t++];if(l.index>=e){if(l.posInLine>e-l.index){for(var s=l.index-l.posInLine,r=l.line;e<s;)--s,--r;return r}return l.line}}return n[n.length-1].line},posInLineForIndex:function(e){this.contentDirty&&this.computeContent();var n=this.glyphQuads;if(0!=n.length)for(var t=!1,i=-1,l=0,s=n.length;l<s;){var r=l++,h=n[r];if(h.index>=e){var a=h.posInLine+e-h.index;if(a<0)for(var o=r-1;0<=o;){var c=n[o];if(t||(t=!0,i=this.lineForIndex(e)),c.line==i)return a=c.posInLine+e-c.index;if(c.line<i)return 0;--o}return 0<=a?a:0}}return 0},fontDestroyed:function(e){this.set_font(ae.app.defaultFont)},toString:function(){return null!=this.id?"Text("+this.id+" "+this.content+")":"Text("+this.content+")"},unbindEvents:function(){o.prototype.unbindEvents.call(this),this.offGlyphQuadsChange()},__class__:gt,__properties__:$extend(o.prototype.__properties__,{set_maxLineDiff:"set_maxLineDiff",set_fitWidth:"set_fitWidth",set_align:"set_align",set_preRenderedSize:"set_preRenderedSize",set_clipTextHeight:"set_clipTextHeight",set_clipTextWidth:"set_clipTextWidth",set_clipTextY:"set_clipTextY",set_clipTextX:"set_clipTextX",set_font:"set_font",set_letterSpacing:"set_letterSpacing",set_lineHeight:"set_lineHeight",set_pointSize:"set_pointSize",set_content:"set_content",set_color:"set_color",get_numLines:"get_numLines"})}),_e["ceramic.TextAlign"]={__ename__:"ceramic.TextAlign",__constructs__:null,LEFT:{_hx_name:"LEFT",_hx_index:0,__enum__:"ceramic.TextAlign",toString:c},RIGHT:{_hx_name:"RIGHT",_hx_index:1,__enum__:"ceramic.TextAlign",toString:c},CENTER:{_hx_name:"CENTER",_hx_index:2,__enum__:"ceramic.TextAlign",toString:c}}),ft=(Ot.__constructs__=[Ot.LEFT,Ot.RIGHT,Ot.CENTER],function(e,n,t){this.unobservedText=null,this.textAutoruns=null,Fa.call(this,"text",e,n,t)}),pt=((E["ceramic.TextAsset"]=ft).__name__="ceramic.TextAsset",ft.__super__=Fa,ft.prototype=$extend(Fa.prototype,{textAutoruns:null,get_text:function(){var e,n,t=this.unobservedText;return null!=A.current&&(e=A.current,null!=(n=this.textAutoruns)||(n=A.getAutorunArray(),null!=(this.textAutoruns=n)))&&e.bindToAutorunArray(n),t},set_text:function(e){var n=this.unobservedText;return n!=(this.unobservedText=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitTextChange(e,n),null!=(n=this.textAutoruns))&&(this.textAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateText:function(){var e=this.unobservedText,e=(this.emitTextChange(e,e),this.textAutoruns);null!=e&&(this.textAutoruns=null,A.invalidateAutorunArray(e))},unobservedText:null,__cbOnTextChange:null,__cbOnceTextChange:null,__cbOnOwnerUnbindTextChange:null,__cbOnceOwnerUnbindTextChange:null,emitTextChange:function(e,n){var t=0;if(null!=this.__cbOnTextChange&&(t+=this.__cbOnTextChange.length),null!=this.__cbOnceTextChange&&(t+=this.__cbOnceTextChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnTextChange)for(var r=0,h=this.__cbOnTextChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnTextChange[a],++s):--t}if(null!=this.__cbOnceTextChange){for(var o=null,c=null,r=0,h=this.__cbOnceTextChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceTextChange[a],this.__cbOnceTextChange[a]=null,u=this.__cbOnceOwnerUnbindTextChange[a],(this.__cbOnceOwnerUnbindTextChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindTextChange[a]),c.push(this.__cbOnceTextChange[a]))}this.__cbOnceOwnerUnbindTextChange=o,this.__cbOnceTextChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onTextChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event textChange because owner is destroyed!");var l=function(e){null!=t&&(i.offTextChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindTextChange&&(this.__cbOnOwnerUnbindTextChange=[]),this.__cbOnOwnerUnbindTextChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindTextChange&&(this.__cbOnOwnerUnbindTextChange=[]),this.__cbOnOwnerUnbindTextChange.push(null);null==this.__cbOnTextChange&&(this.__cbOnTextChange=[]),this.__cbOnTextChange.push(t)},onceTextChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event textChange because owner is destroyed!");var l=function(e){null!=t&&(i.offTextChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindTextChange&&(this.__cbOnceOwnerUnbindTextChange=[]),this.__cbOnceOwnerUnbindTextChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindTextChange&&(this.__cbOnceOwnerUnbindTextChange=[]),this.__cbOnceOwnerUnbindTextChange.push(null);null==this.__cbOnceTextChange&&(this.__cbOnceTextChange=[]),this.__cbOnceTextChange.push(t)},offTextChange:function(e){if(null!=e){var n;null!=this.__cbOnTextChange&&-1!=(n=this.__cbOnTextChange.indexOf(e))&&(this.__cbOnTextChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindTextChange[n])&&s(),this.__cbOnOwnerUnbindTextChange.splice(n,1)),null!=this.__cbOnceTextChange&&-1!=(n=this.__cbOnceTextChange.indexOf(e))&&(this.__cbOnceTextChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindTextChange[n])&&s(),this.__cbOnceOwnerUnbindTextChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindTextChange){for(var t=0,i=this.__cbOnOwnerUnbindTextChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindTextChange[l])&&s()}this.__cbOnOwnerUnbindTextChange=null}if(null!=this.__cbOnceOwnerUnbindTextChange){for(t=0,i=this.__cbOnceOwnerUnbindTextChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindTextChange[l])&&s()}this.__cbOnceOwnerUnbindTextChange=null}this.__cbOnTextChange=null,this.__cbOnceTextChange=null}},listensTextChange:function(){return null!=this.__cbOnTextChange&&0<this.__cbOnTextChange.length||null!=this.__cbOnceTextChange&&0<this.__cbOnceTextChange.length},load:function(){var n=this;if(this.set_status(Me.LOADING),null==this.path)ae.app.logger.warning("Cannot load text asset if path is undefined.",{fileName:"../../../../ceramic/runtime/src/ceramic/TextAsset.hx",lineNumber:62,className:"ceramic.TextAsset",methodName:"load"}),this.set_status(Me.BROKEN),this.emitComplete(!1);else{var e={};if(null!=this.owner&&(e.immediate=this.owner.immediate,e.loadMethod=this.owner.loadMethod),null!=this.options)for(var t=0,i=L.fields(this.options);t<i.length;){var l=i[t];++t,e[l]=L.field(this.options,l)}var s=this.path,r=Oe.realAssetPath(s,this.runtimeAssets),h=Oe.getReloadCount(r);0<h&&(r+="?hot="+h,s+="?hot="+h),ae.app.logger.info("Load text "+s,{fileName:"../../../../ceramic/runtime/src/ceramic/TextAsset.hx",lineNumber:88,className:"ceramic.TextAsset",methodName:"load"}),ae.app.backend.texts.load(r,e,function(e){null!=e?(n.set_text(e),n.set_status(Me.READY),n.emitComplete(!0)):(n.set_status(Me.BROKEN),ae.app.logger.error("Failed to load text at path: "+n.path,{fileName:"../../../../ceramic/runtime/src/ceramic/TextAsset.hx",lineNumber:98,className:"ceramic.TextAsset",methodName:"load"}),n.emitComplete(!1))})}},assetFilesDidChange:function(e,n){var t=-1,n=(Object.prototype.hasOwnProperty.call(n.h,this.path)&&(t=n.h[this.path]),-1);(n=Object.prototype.hasOwnProperty.call(e.h,this.path)?e.h[this.path]:n)!=t&&(ae.app.logger.info("Reload text (file has changed)",{fileName:"../../../../ceramic/runtime/src/ceramic/TextAsset.hx",lineNumber:125,className:"ceramic.TextAsset",methodName:"assetFilesDidChange"}),this.load())},destroy:function(){this._lifecycleState<=-2||(this._lifecycleState=-2,this._lifecycleState=-1,Fa.prototype.destroy.call(this),this.set_text(null))},unbindEvents:function(){Fa.prototype.unbindEvents.call(this),this.offTextChange()},__class__:ft,__properties__:$extend(Fa.prototype.__properties__,{set_text:"set_text",get_text:"get_text"})}),function(){this.delegate=null,this.selectionEnd=-1,this.selectionStart=-1,this.text="",this.multiline=!1,this.allowMovingCursor=!1,this.invertedSelection=!1,this.rmetaPressed=!1,this.lmetaPressed=!1,this.rctrlPressed=!1,this.lctrlPressed=!1,this.rshiftPressed=!1,this.lshiftPressed=!1,this.explicitPosLine=0,this.explicitPosInLine=0,this.inputActive=!1}),Ct=((E["ceramic.TextInput"]=pt).__name__="ceramic.TextInput",pt.__interfaces__=[i],pt.prototype={__cbOnUpdate:null,__cbOnceUpdate:null,__cbOnOwnerUnbindUpdate:null,__cbOnceOwnerUnbindUpdate:null,emitUpdate:function(e){var n=0;if(null!=this.__cbOnUpdate&&(n+=this.__cbOnUpdate.length),null!=this.__cbOnceUpdate&&(n+=this.__cbOnceUpdate.length),0<n){var t=C.pool(n),i=t.get(),l=0;if(null!=this.__cbOnUpdate)for(var s=0,r=this.__cbOnUpdate.length;s<r;){var h=s++;!0?(i.vector[l]=this.__cbOnUpdate[h],++l):--n}if(null!=this.__cbOnceUpdate){for(var a=null,o=null,s=0,r=this.__cbOnceUpdate.length;s<r;){var c,h=s++;!0?(i.vector[l]=this.__cbOnceUpdate[h],this.__cbOnceUpdate[h]=null,c=this.__cbOnceOwnerUnbindUpdate[h],(this.__cbOnceOwnerUnbindUpdate[h]=null)!=c&&c(),++l):(--n,null==a&&(a=[],o=[],0),a.push(this.__cbOnceOwnerUnbindUpdate[h]),o.push(this.__cbOnceUpdate[h]))}this.__cbOnceOwnerUnbindUpdate=a,this.__cbOnceUpdate=o}for(s=0,r=n;s<r;){l=s++;(0,i.vector[l])(e)}t.release(i)}},onUpdate:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event update because owner is destroyed!");var l=function(e){null!=t&&(i.offUpdate(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindUpdate&&(this.__cbOnOwnerUnbindUpdate=[]),this.__cbOnOwnerUnbindUpdate.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindUpdate&&(this.__cbOnOwnerUnbindUpdate=[]),this.__cbOnOwnerUnbindUpdate.push(null);null==this.__cbOnUpdate&&(this.__cbOnUpdate=[]),this.__cbOnUpdate.push(t)},onceUpdate:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event update because owner is destroyed!");var l=function(e){null!=t&&(i.offUpdate(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindUpdate&&(this.__cbOnceOwnerUnbindUpdate=[]),this.__cbOnceOwnerUnbindUpdate.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindUpdate&&(this.__cbOnceOwnerUnbindUpdate=[]),this.__cbOnceOwnerUnbindUpdate.push(null);null==this.__cbOnceUpdate&&(this.__cbOnceUpdate=[]),this.__cbOnceUpdate.push(t)},offUpdate:function(e){if(null!=e){var n;null!=this.__cbOnUpdate&&-1!=(n=this.__cbOnUpdate.indexOf(e))&&(this.__cbOnUpdate.splice(n,1),null!=(s=this.__cbOnOwnerUnbindUpdate[n])&&s(),this.__cbOnOwnerUnbindUpdate.splice(n,1)),null!=this.__cbOnceUpdate&&-1!=(n=this.__cbOnceUpdate.indexOf(e))&&(this.__cbOnceUpdate.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindUpdate[n])&&s(),this.__cbOnceOwnerUnbindUpdate.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindUpdate){for(var t=0,i=this.__cbOnOwnerUnbindUpdate.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindUpdate[l])&&s()}this.__cbOnOwnerUnbindUpdate=null}if(null!=this.__cbOnceOwnerUnbindUpdate){for(t=0,i=this.__cbOnceOwnerUnbindUpdate.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindUpdate[l])&&s()}this.__cbOnceOwnerUnbindUpdate=null}this.__cbOnUpdate=null,this.__cbOnceUpdate=null}},listensUpdate:function(){return null!=this.__cbOnUpdate&&0<this.__cbOnUpdate.length||null!=this.__cbOnceUpdate&&0<this.__cbOnceUpdate.length},__cbOnEnter:null,__cbOnceEnter:null,__cbOnOwnerUnbindEnter:null,__cbOnceOwnerUnbindEnter:null,emitEnter:function(){var e=0;if(null!=this.__cbOnEnter&&(e+=this.__cbOnEnter.length),null!=this.__cbOnceEnter&&(e+=this.__cbOnceEnter.length),0<e){var n=C.pool(e),t=n.get(),i=0;if(null!=this.__cbOnEnter)for(var l=0,s=this.__cbOnEnter.length;l<s;){var r=l++;!0?(t.vector[i]=this.__cbOnEnter[r],++i):--e}if(null!=this.__cbOnceEnter){for(var h=null,a=null,l=0,s=this.__cbOnceEnter.length;l<s;){var o,r=l++;!0?(t.vector[i]=this.__cbOnceEnter[r],this.__cbOnceEnter[r]=null,o=this.__cbOnceOwnerUnbindEnter[r],(this.__cbOnceOwnerUnbindEnter[r]=null)!=o&&o(),++i):(--e,null==h&&(h=[],a=[],0),h.push(this.__cbOnceOwnerUnbindEnter[r]),a.push(this.__cbOnceEnter[r]))}this.__cbOnceOwnerUnbindEnter=h,this.__cbOnceEnter=a}for(l=0,s=e;l<s;){i=l++;(0,t.vector[i])()}n.release(t)}},onEnter:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event enter because owner is destroyed!");var l=function(e){null!=t&&(i.offEnter(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindEnter&&(this.__cbOnOwnerUnbindEnter=[]),this.__cbOnOwnerUnbindEnter.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindEnter&&(this.__cbOnOwnerUnbindEnter=[]),this.__cbOnOwnerUnbindEnter.push(null);null==this.__cbOnEnter&&(this.__cbOnEnter=[]),this.__cbOnEnter.push(t)},onceEnter:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event enter because owner is destroyed!");var l=function(e){null!=t&&(i.offEnter(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindEnter&&(this.__cbOnceOwnerUnbindEnter=[]),this.__cbOnceOwnerUnbindEnter.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindEnter&&(this.__cbOnceOwnerUnbindEnter=[]),this.__cbOnceOwnerUnbindEnter.push(null);null==this.__cbOnceEnter&&(this.__cbOnceEnter=[]),this.__cbOnceEnter.push(t)},offEnter:function(e){if(null!=e){var n;null!=this.__cbOnEnter&&-1!=(n=this.__cbOnEnter.indexOf(e))&&(this.__cbOnEnter.splice(n,1),null!=(s=this.__cbOnOwnerUnbindEnter[n])&&s(),this.__cbOnOwnerUnbindEnter.splice(n,1)),null!=this.__cbOnceEnter&&-1!=(n=this.__cbOnceEnter.indexOf(e))&&(this.__cbOnceEnter.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindEnter[n])&&s(),this.__cbOnceOwnerUnbindEnter.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindEnter){for(var t=0,i=this.__cbOnOwnerUnbindEnter.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindEnter[l])&&s()}this.__cbOnOwnerUnbindEnter=null}if(null!=this.__cbOnceOwnerUnbindEnter){for(t=0,i=this.__cbOnceOwnerUnbindEnter.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindEnter[l])&&s()}this.__cbOnceOwnerUnbindEnter=null}this.__cbOnEnter=null,this.__cbOnceEnter=null}},listensEnter:function(){return null!=this.__cbOnEnter&&0<this.__cbOnEnter.length||null!=this.__cbOnceEnter&&0<this.__cbOnceEnter.length},__cbOnEscape:null,__cbOnceEscape:null,__cbOnOwnerUnbindEscape:null,__cbOnceOwnerUnbindEscape:null,emitEscape:function(){var e=0;if(null!=this.__cbOnEscape&&(e+=this.__cbOnEscape.length),null!=this.__cbOnceEscape&&(e+=this.__cbOnceEscape.length),0<e){var n=C.pool(e),t=n.get(),i=0;if(null!=this.__cbOnEscape)for(var l=0,s=this.__cbOnEscape.length;l<s;){var r=l++;!0?(t.vector[i]=this.__cbOnEscape[r],++i):--e}if(null!=this.__cbOnceEscape){for(var h=null,a=null,l=0,s=this.__cbOnceEscape.length;l<s;){var o,r=l++;!0?(t.vector[i]=this.__cbOnceEscape[r],this.__cbOnceEscape[r]=null,o=this.__cbOnceOwnerUnbindEscape[r],(this.__cbOnceOwnerUnbindEscape[r]=null)!=o&&o(),++i):(--e,null==h&&(h=[],a=[],0),h.push(this.__cbOnceOwnerUnbindEscape[r]),a.push(this.__cbOnceEscape[r]))}this.__cbOnceOwnerUnbindEscape=h,this.__cbOnceEscape=a}for(l=0,s=e;l<s;){i=l++;(0,t.vector[i])()}n.release(t)}},onEscape:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event escape because owner is destroyed!");var l=function(e){null!=t&&(i.offEscape(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindEscape&&(this.__cbOnOwnerUnbindEscape=[]),this.__cbOnOwnerUnbindEscape.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindEscape&&(this.__cbOnOwnerUnbindEscape=[]),this.__cbOnOwnerUnbindEscape.push(null);null==this.__cbOnEscape&&(this.__cbOnEscape=[]),this.__cbOnEscape.push(t)},onceEscape:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event escape because owner is destroyed!");var l=function(e){null!=t&&(i.offEscape(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindEscape&&(this.__cbOnceOwnerUnbindEscape=[]),this.__cbOnceOwnerUnbindEscape.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindEscape&&(this.__cbOnceOwnerUnbindEscape=[]),this.__cbOnceOwnerUnbindEscape.push(null);null==this.__cbOnceEscape&&(this.__cbOnceEscape=[]),this.__cbOnceEscape.push(t)},offEscape:function(e){if(null!=e){var n;null!=this.__cbOnEscape&&-1!=(n=this.__cbOnEscape.indexOf(e))&&(this.__cbOnEscape.splice(n,1),null!=(s=this.__cbOnOwnerUnbindEscape[n])&&s(),this.__cbOnOwnerUnbindEscape.splice(n,1)),null!=this.__cbOnceEscape&&-1!=(n=this.__cbOnceEscape.indexOf(e))&&(this.__cbOnceEscape.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindEscape[n])&&s(),this.__cbOnceOwnerUnbindEscape.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindEscape){for(var t=0,i=this.__cbOnOwnerUnbindEscape.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindEscape[l])&&s()}this.__cbOnOwnerUnbindEscape=null}if(null!=this.__cbOnceOwnerUnbindEscape){for(t=0,i=this.__cbOnceOwnerUnbindEscape.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindEscape[l])&&s()}this.__cbOnceOwnerUnbindEscape=null}this.__cbOnEscape=null,this.__cbOnceEscape=null}},listensEscape:function(){return null!=this.__cbOnEscape&&0<this.__cbOnEscape.length||null!=this.__cbOnceEscape&&0<this.__cbOnceEscape.length},__cbOnSelection:null,__cbOnceSelection:null,__cbOnOwnerUnbindSelection:null,__cbOnceOwnerUnbindSelection:null,emitSelection:function(e,n){var t=0;if(null!=this.__cbOnSelection&&(t+=this.__cbOnSelection.length),null!=this.__cbOnceSelection&&(t+=this.__cbOnceSelection.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnSelection)for(var r=0,h=this.__cbOnSelection.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnSelection[a],++s):--t}if(null!=this.__cbOnceSelection){for(var o=null,c=null,r=0,h=this.__cbOnceSelection.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceSelection[a],this.__cbOnceSelection[a]=null,u=this.__cbOnceOwnerUnbindSelection[a],(this.__cbOnceOwnerUnbindSelection[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindSelection[a]),c.push(this.__cbOnceSelection[a]))}this.__cbOnceOwnerUnbindSelection=o,this.__cbOnceSelection=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onSelection:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event selection because owner is destroyed!");var l=function(e){null!=t&&(i.offSelection(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindSelection&&(this.__cbOnOwnerUnbindSelection=[]),this.__cbOnOwnerUnbindSelection.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindSelection&&(this.__cbOnOwnerUnbindSelection=[]),this.__cbOnOwnerUnbindSelection.push(null);null==this.__cbOnSelection&&(this.__cbOnSelection=[]),this.__cbOnSelection.push(t)},onceSelection:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event selection because owner is destroyed!");var l=function(e){null!=t&&(i.offSelection(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindSelection&&(this.__cbOnceOwnerUnbindSelection=[]),this.__cbOnceOwnerUnbindSelection.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindSelection&&(this.__cbOnceOwnerUnbindSelection=[]),this.__cbOnceOwnerUnbindSelection.push(null);null==this.__cbOnceSelection&&(this.__cbOnceSelection=[]),this.__cbOnceSelection.push(t)},offSelection:function(e){if(null!=e){var n;null!=this.__cbOnSelection&&-1!=(n=this.__cbOnSelection.indexOf(e))&&(this.__cbOnSelection.splice(n,1),null!=(s=this.__cbOnOwnerUnbindSelection[n])&&s(),this.__cbOnOwnerUnbindSelection.splice(n,1)),null!=this.__cbOnceSelection&&-1!=(n=this.__cbOnceSelection.indexOf(e))&&(this.__cbOnceSelection.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindSelection[n])&&s(),this.__cbOnceOwnerUnbindSelection.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindSelection){for(var t=0,i=this.__cbOnOwnerUnbindSelection.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindSelection[l])&&s()}this.__cbOnOwnerUnbindSelection=null}if(null!=this.__cbOnceOwnerUnbindSelection){for(t=0,i=this.__cbOnceOwnerUnbindSelection.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindSelection[l])&&s()}this.__cbOnceOwnerUnbindSelection=null}this.__cbOnSelection=null,this.__cbOnceSelection=null}},listensSelection:function(){return null!=this.__cbOnSelection&&0<this.__cbOnSelection.length||null!=this.__cbOnceSelection&&0<this.__cbOnceSelection.length},__cbOnStop:null,__cbOnceStop:null,__cbOnOwnerUnbindStop:null,__cbOnceOwnerUnbindStop:null,emitStop:function(){var e=0;if(null!=this.__cbOnStop&&(e+=this.__cbOnStop.length),null!=this.__cbOnceStop&&(e+=this.__cbOnceStop.length),0<e){var n=C.pool(e),t=n.get(),i=0;if(null!=this.__cbOnStop)for(var l=0,s=this.__cbOnStop.length;l<s;){var r=l++;!0?(t.vector[i]=this.__cbOnStop[r],++i):--e}if(null!=this.__cbOnceStop){for(var h=null,a=null,l=0,s=this.__cbOnceStop.length;l<s;){var o,r=l++;!0?(t.vector[i]=this.__cbOnceStop[r],this.__cbOnceStop[r]=null,o=this.__cbOnceOwnerUnbindStop[r],(this.__cbOnceOwnerUnbindStop[r]=null)!=o&&o(),++i):(--e,null==h&&(h=[],a=[],0),h.push(this.__cbOnceOwnerUnbindStop[r]),a.push(this.__cbOnceStop[r]))}this.__cbOnceOwnerUnbindStop=h,this.__cbOnceStop=a}for(l=0,s=e;l<s;){i=l++;(0,t.vector[i])()}n.release(t)}},onStop:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event stop because owner is destroyed!");var l=function(e){null!=t&&(i.offStop(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindStop&&(this.__cbOnOwnerUnbindStop=[]),this.__cbOnOwnerUnbindStop.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindStop&&(this.__cbOnOwnerUnbindStop=[]),this.__cbOnOwnerUnbindStop.push(null);null==this.__cbOnStop&&(this.__cbOnStop=[]),this.__cbOnStop.push(t)},onceStop:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event stop because owner is destroyed!");var l=function(e){null!=t&&(i.offStop(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindStop&&(this.__cbOnceOwnerUnbindStop=[]),this.__cbOnceOwnerUnbindStop.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindStop&&(this.__cbOnceOwnerUnbindStop=[]),this.__cbOnceOwnerUnbindStop.push(null);null==this.__cbOnceStop&&(this.__cbOnceStop=[]),this.__cbOnceStop.push(t)},offStop:function(e){if(null!=e){var n;null!=this.__cbOnStop&&-1!=(n=this.__cbOnStop.indexOf(e))&&(this.__cbOnStop.splice(n,1),null!=(s=this.__cbOnOwnerUnbindStop[n])&&s(),this.__cbOnOwnerUnbindStop.splice(n,1)),null!=this.__cbOnceStop&&-1!=(n=this.__cbOnceStop.indexOf(e))&&(this.__cbOnceStop.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindStop[n])&&s(),this.__cbOnceOwnerUnbindStop.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindStop){for(var t=0,i=this.__cbOnOwnerUnbindStop.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindStop[l])&&s()}this.__cbOnOwnerUnbindStop=null}if(null!=this.__cbOnceOwnerUnbindStop){for(t=0,i=this.__cbOnceOwnerUnbindStop.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindStop[l])&&s()}this.__cbOnceOwnerUnbindStop=null}this.__cbOnStop=null,this.__cbOnceStop=null}},listensStop:function(){return null!=this.__cbOnStop&&0<this.__cbOnStop.length||null!=this.__cbOnceStop&&0<this.__cbOnceStop.length},inputActive:null,explicitPosInLine:null,explicitPosLine:null,lshiftPressed:null,rshiftPressed:null,lctrlPressed:null,rctrlPressed:null,lmetaPressed:null,rmetaPressed:null,invertedSelection:null,allowMovingCursor:null,multiline:null,text:null,selectionStart:null,selectionEnd:null,delegate:null,start:function(e,n,t,i,l,s,r,h,a,o){null==a&&(a=!1),null==h&&(h=-1),null==r&&(r=-1),null==s&&(s=!1),this.inputActive&&this.stop(),this.inputActive=!0,this.set_text(e),this.multiline=s,this.allowMovingCursor=a,this.delegate=o,this.explicitPosInLine=0,this.explicitPosLine=0,this.invertedSelection=!1,h<(r=r<0?e.length:r)&&(h=r),this.selectionStart=r,this.selectionEnd=h;var s=ae.app.screen.matrix,a=(n*s.a+t*s.c+s.tx)/ee.app.screenDensity,o=(n*s.b+t*s.d+s.ty)/ee.app.screenDensity,c=((n+i)*s.a+(t+l)*s.c+s.tx)/ee.app.screenDensity-a,n=((n+i)*s.b+(t+l)*s.d+s.ty)/ee.app.screenDensity-o;ae.app.backend.textInput.start(e,a,o,c,n),this.emitUpdate(e),this.emitSelection(r,h)},stop:function(){this.inputActive&&(this.inputActive=!1,this.selectionStart=-1,this.selectionEnd=-1,this.invertedSelection=!1,this.delegate=null,ae.app.backend.textInput.stop(),this.emitStop())},updateSelection:function(e,n,t){this.selectionStart==e&&this.selectionEnd==n||(this.selectionStart=e,this.selectionEnd=n,null!=t&&(this.invertedSelection=t),this.emitSelection(e,n))},appendText:function(e){var n;this.lctrlPressed||this.rctrlPressed||(n="",0<this.selectionStart&&(n+=this.text.substring(0,this.selectionStart)),n=(n+=e)+this.text.substring(this.selectionEnd),this.selectionStart+=e.length,this.selectionEnd=this.selectionStart,this.invertedSelection=!1,this.set_text(n),this.emitUpdate(this.text),this.emitSelection(this.selectionStart,this.selectionEnd),this.explicitPosInLine=this.posInCurrentLine(this.selectionStart),this.explicitPosLine=this.lineForPos(this.selectionStart))},space:function(){this.appendText(" ")},backspace:function(){var e=this.selectionEnd>this.selectionStart,n="";1<this.selectionStart&&(n+=this.text.substring(0,e?this.selectionStart:this.selectionStart-1)),n+=this.text.substring(this.selectionEnd),0<this.selectionStart&&!e&&this.selectionStart--,this.selectionEnd=this.selectionStart,this.set_text(n),this.emitUpdate(this.text),this.emitSelection(this.selectionStart,this.selectionEnd),this.explicitPosInLine=this.posInCurrentLine(this.selectionStart),this.explicitPosLine=this.lineForPos(this.selectionStart)},moveLeft:function(){this.allowMovingCursor&&(this.lshiftPressed||this.rshiftPressed?this.invertedSelection?(0<this.selectionStart&&(this.selectionStart--,this.emitSelection(this.selectionStart,this.selectionEnd)),this.explicitPosInLine=this.posInCurrentLine(this.selectionStart),this.explicitPosLine=this.lineForPos(this.selectionStart)):this.selectionEnd>this.selectionStart?(this.selectionEnd--,this.emitSelection(this.selectionStart,this.selectionEnd),this.explicitPosInLine=this.posInCurrentLine(this.selectionEnd),this.explicitPosLine=this.lineForPos(this.selectionEnd)):(0<this.selectionStart&&(this.invertedSelection=!0,this.selectionStart--,this.emitSelection(this.selectionStart,this.selectionEnd)),this.explicitPosInLine=this.posInCurrentLine(this.selectionStart),this.explicitPosLine=this.lineForPos(this.selectionStart)):(this.invertedSelection=!1,this.selectionEnd>this.selectionStart?(this.selectionEnd=this.selectionStart,this.emitSelection(this.selectionStart,this.selectionEnd)):0<this.selectionStart&&(this.selectionStart--,this.selectionEnd=this.selectionStart,this.emitSelection(this.selectionStart,this.selectionEnd)),this.explicitPosInLine=this.posInCurrentLine(this.selectionStart),this.explicitPosLine=this.lineForPos(this.selectionStart)))},moveRight:function(){var e;this.allowMovingCursor&&(this.lshiftPressed||this.rshiftPressed?(e=this.text.length,this.selectionStart==this.selectionEnd?(this.invertedSelection=!1,this.selectionEnd<e&&(this.selectionEnd++,this.emitSelection(this.selectionStart,this.selectionEnd)),this.explicitPosInLine=this.posInCurrentLine(this.selectionEnd),this.explicitPosLine=this.lineForPos(this.selectionEnd)):this.invertedSelection?(this.selectionStart++,this.emitSelection(this.selectionStart,this.selectionEnd),this.explicitPosInLine=this.posInCurrentLine(this.selectionStart),this.explicitPosLine=this.lineForPos(this.selectionStart)):(this.selectionEnd<e&&(this.selectionEnd++,this.emitSelection(this.selectionStart,this.selectionEnd)),this.explicitPosInLine=this.posInCurrentLine(this.selectionEnd),this.explicitPosLine=this.lineForPos(this.selectionEnd))):(this.invertedSelection=!1,this.selectionEnd>this.selectionStart?(this.selectionStart=this.selectionEnd,this.emitSelection(this.selectionStart,this.selectionEnd)):this.selectionStart<this.text.length&&(this.selectionStart++,this.selectionEnd=this.selectionStart,this.emitSelection(this.selectionStart,this.selectionEnd)),this.explicitPosInLine=this.posInCurrentLine(this.selectionStart),this.explicitPosLine=this.lineForPos(this.selectionStart)))},moveUp:function(){var e,n,t,i;this.allowMovingCursor&&(this.lshiftPressed||this.rshiftPressed?(e=this.lineForPos(this.selectionStart),n=this.lineForPos(this.selectionEnd),!this.invertedSelection&&e<n?(i=this.explicitPosInLine,t=n,null!=this.delegate&&(i=this.delegate.textInputClosestPositionInLine(this.explicitPosInLine,this.explicitPosLine,t-1)),n=this.globalPosForLine(t-1,i),this.selectionEnd=0|Math.max(this.selectionStart,n),this.emitSelection(this.selectionStart,this.selectionEnd)):0<this.selectionStart&&(this.invertedSelection=!0,0<e?(i=this.explicitPosInLine,t=e,null!=this.delegate&&(i=this.delegate.textInputClosestPositionInLine(this.explicitPosInLine,this.explicitPosLine,t-1)),this.selectionStart=this.globalPosForLine(t-1,i)):this.selectionStart=0,this.emitSelection(this.selectionStart,this.selectionEnd))):(this.invertedSelection=!1,0<this.selectionStart&&0<(t=this.lineForPos(this.selectionStart))?(i=this.explicitPosInLine,null!=this.delegate&&(i=this.delegate.textInputClosestPositionInLine(this.explicitPosInLine,this.explicitPosLine,t-1)),this.selectionStart=this.globalPosForLine(t-1,i),this.selectionEnd=this.selectionStart):(this.selectionStart=0,this.selectionEnd=0),this.emitSelection(this.selectionStart,this.selectionEnd)))},moveDown:function(){var e,n,t,i,l,s,r;this.allowMovingCursor&&(e=this.text.length,this.lshiftPressed||this.rshiftPressed?(n=this.lineForPos(this.selectionStart),t=this.lineForPos(this.selectionEnd),this.invertedSelection?this.invertedSelection&&(n<t?(r=this.explicitPosInLine,l=n,null!=this.delegate&&(r=this.delegate.textInputClosestPositionInLine(this.explicitPosInLine,this.explicitPosLine,l+1)),i=this.globalPosForLine(l+1,r),this.selectionStart=0|Math.min(this.selectionEnd,i),this.emitSelection(this.selectionStart,this.selectionEnd)):this.selectionEnd<e-1?(this.invertedSelection=!1,l=n,s=this.numLines(),r=this.explicitPosInLine,l<s-1?(null!=this.delegate&&(r=this.delegate.textInputClosestPositionInLine(this.explicitPosInLine,this.explicitPosLine,l+1)),this.selectionEnd=this.globalPosForLine(l+1,r)):this.selectionEnd=e,this.emitSelection(this.selectionStart,this.selectionEnd)):this.selectionEnd<e&&(this.invertedSelection=!1,this.selectionEnd=e,this.emitSelection(this.selectionStart,this.selectionEnd))):this.selectionEnd<e-1?(r=this.explicitPosInLine,(l=t)<(s=this.numLines())-1?(null!=this.delegate&&(r=this.delegate.textInputClosestPositionInLine(this.explicitPosInLine,this.explicitPosLine,l+1)),this.selectionEnd=this.globalPosForLine(l+1,r)):this.selectionEnd=e,this.emitSelection(this.selectionStart,this.selectionEnd)):this.selectionEnd<e&&(this.selectionEnd=e,this.emitSelection(this.selectionStart,this.selectionEnd))):(this.invertedSelection=!1,this.selectionEnd<e-1&&(l=this.lineForPos(this.selectionEnd))<(s=this.numLines())-1?(r=this.explicitPosInLine,null!=this.delegate&&(r=this.delegate.textInputClosestPositionInLine(this.explicitPosInLine,this.explicitPosLine,l+1)),this.selectionStart=this.globalPosForLine(l+1,r)):this.selectionStart=e,this.selectionEnd=this.selectionStart,this.emitSelection(this.selectionStart,this.selectionEnd)))},enter:function(){this.emitEnter(),this.inputActive&&this.multiline&&this.appendText("\n")},kpEnter:function(){this.enter()},escape:function(){this.emitEscape(),this.stop()},lshiftDown:function(){this.lshiftPressed=!0},lshiftUp:function(){this.lshiftPressed=!1},rshiftDown:function(){this.rshiftPressed=!0},rshiftUp:function(){this.rshiftPressed=!1},lctrlDown:function(){this.lctrlPressed=!0},lctrlUp:function(){this.lctrlPressed=!1},rctrlDown:function(){this.rctrlPressed=!0},rctrlUp:function(){this.rctrlPressed=!1},lmetaDown:function(){this.lmetaPressed=!0},lmetaUp:function(){this.lmetaPressed=!1},rmetaDown:function(){this.rmetaPressed=!0},rmetaUp:function(){this.rmetaPressed=!1},posInCurrentLine:function(e){if(null!=this.delegate)return this.delegate.textInputPosInLineForIndex(e);for(var n=this.text,t=0;0<e;){if("\n"==n.charAt(e)&&0<t){--t;break}--e,++t}return t},lineForPos:function(e){if(null!=this.delegate)return this.delegate.textInputLineForIndex(e);for(var n=this.text,t=0,i=0;i<e;)"\n"==n.charAt(i)&&++t,++i;return t},numLines:function(){return null!=this.delegate?this.delegate.textInputNumberOfLines():this.text.split("\n").length},globalPosForLine:function(e,n){if(null!=this.delegate)return this.delegate.textInputIndexForPosInLine(e,n);for(var t=this.text,i=0,l=t.length,s=0;i<l;){var r=t.charAt(i);if(s==e){if(!(0<n))break;if("\n"==r)break;--n}else"\n"==r&&++s;++i}return i},set_text:function(e){var n,t,i;return this.text!=e&&(n=(this.text=e).length,t=this.selectionStart,(i=n<(i=this.selectionEnd)?n:i)<t&&(t=i),this.updateSelection(t,i)),e},unbindEvents:function(){this.offUpdate(),this.offEnter(),this.offEscape(),this.offSelection(),this.offStop()},__class__:pt,__properties__:{set_text:"set_text"}},(E["ceramic.TextView"]=A1).__name__="ceramic.TextView",A1.__super__=f0,A1.prototype=$extend(f0.prototype,{text:null,verticalAlign:null,set_verticalAlign:function(e){return this.verticalAlign!=e&&(this.verticalAlign=e,this.layoutDirty=!0),e},get_font:function(){return this.text.font},set_font:function(e){return this.text.font!=e&&(this.text.set_font(e),this.layoutDirty=!0),e},get_preRenderedSize:function(){return this.text.preRenderedSize},set_preRenderedSize:function(e){return this.text.preRenderedSize!=e&&(this.text.set_preRenderedSize(e),this.layoutDirty=!0),e},get_textColor:function(){return this.text.color},set_textColor:function(e){return this.text.color!=e&&this.text.set_color(e),e},get_textAlpha:function(){return this.text.alpha},set_textAlpha:function(e){return this.text.alpha!=e&&this.text.set_alpha(e),e},get_content:function(){return this.text.content},set_content:function(e){return this.text.content!=e&&(this.text.set_content(e),this.layoutDirty=!0),e},get_pointSize:function(){return this.text.pointSize},set_pointSize:function(e){return this.text.pointSize!=e&&(this.text.set_pointSize(e),this.layoutDirty=!0),e},minHeight:null,set_minHeight:function(e){return this.minHeight!=e&&(this.minHeight=e,this.layoutDirty=!0),e},get_lineHeight:function(){return this.text.lineHeight},set_lineHeight:function(e){return this.text.lineHeight!=e&&(this.text.set_lineHeight(e),this.layoutDirty=!0),e},get_letterSpacing:function(){return this.text.letterSpacing},set_letterSpacing:function(e){return this.text.letterSpacing!=e&&(this.text.set_letterSpacing(e),this.layoutDirty=!0),e},get_align:function(){return this.text.align},set_align:function(e){return this.text.align!=e&&(this.text.set_align(e),this.layoutDirty=!0),e},centerIfOneLine:null,set_centerIfOneLine:function(e){return this.centerIfOneLine!=e&&(this.centerIfOneLine=e,this.layoutDirty=!0),e},get_maxLineDiff:function(){return this.text.maxLineDiff},set_maxLineDiff:function(e){return this.text.maxLineDiff!=e&&(this.text.set_maxLineDiff(e),this.layoutDirty=!0),e},noFitWidth:null,set_noFitWidth:function(e){return this.noFitWidth!=e&&(this.noFitWidth=e,this.layoutDirty=!0),e},computeSize:function(e,n,t,i){f0.prototype.computeSize.call(this,e,n,t,i);var l=this.computedSize.computedWidth,s=this.computedSize.computedHeight,r=!1,h=!1,a=this.viewWidth,o=!(-60001.1<a&&a<-60000.9);o||(r=!0);var c;(h=-60001.1<(a=this.viewHeight)&&a<-60000.9?!0:h)||r?(!this.noFitWidth&&0<l?o?this.text.set_fitWidth(l-this.paddingLeft-this.paddingRight):this.text.set_fitWidth(l):this.text.set_fitWidth(-1),a=this.text.get_width(),c=this.text.get_height(),h&&(s=c),r&&(l=a)):!this.noFitWidth&&o&&0<l?this.text.set_fitWidth(l-this.paddingLeft-this.paddingRight):this.text.set_fitWidth(-1),1!=(1&t)&&e<l&&(l=e),2!=(2&t)&&l<e&&(l=e),4!=(4&t)&&n<s&&(s=n);8!=(8&t)&&s<n&&(s=n),r&&(l+=this.paddingLeft+this.paddingRight),h&&(s+=this.paddingTop+this.paddingBottom),s<this.minHeight&&(s=this.minHeight),l=Math.round(l),s=Math.round(s),i?this.persistComputedSize(e,n,t,l,s).computedFitWidth=this.text.fitWidth:this.assignComputedSize(l,s)},layout:function(){var e=this.paddingLeft,n=this.get_width(),t=0==e?0:e<-39999.9&&-60000.1<e?.01*(e+5e4)*n:-60002.1<e&&e<-60001.9?n:e,e=this.paddingTop,n=this.get_height(),i=0==e?0:e<-39999.9&&-60000.1<e?.01*(e+5e4)*n:-60002.1<e&&e<-60001.9?n:e,e=this.paddingRight,n=this.get_width(),l=0==e?0:e<-39999.9&&-60000.1<e?.01*(e+5e4)*n:-60002.1<e&&e<-60001.9?n:e,e=this.paddingBottom,n=this.get_height(),s=0==e?0:e<-39999.9&&-60000.1<e?.01*(e+5e4)*n:-60002.1<e&&e<-60001.9?n:e,r=(null!=this.computedSize&&this.computedSize.computedFitWidth!=Ke.NO_SIZE?this.text.set_fitWidth(this.computedSize.computedFitWidth):this.text.set_fitWidth(-1),this.text.align);switch(this.verticalAlign._hx_index){case 0:case 1:case 4:switch(r._hx_index){case 0:(h=this.text).set_anchorX(0),h.set_anchorY(.5);var h=this.text,a=.5*this.get_height()+i-s;h.set_x(t),h.set_y(a);break;case 1:(h=this.text).set_anchorX(1),h.set_anchorY(.5);var h=this.text,o=this.get_width()-l,a=.5*this.get_height()+i-s;h.set_x(o),h.set_y(a);break;case 2:(h=this.text).set_anchorX(.5),h.set_anchorY(.5);var h=this.text,o=.5*this.get_width()+t-l,a=.5*this.get_height()+i-s;h.set_x(o),h.set_y(a)}break;case 2:switch(r._hx_index){case 0:(h=this.text).set_anchorX(0),h.set_anchorY(0),(h=this.text).set_x(t),h.set_y(i);break;case 1:(h=this.text).set_anchorX(1),h.set_anchorY(0),(h=this.text).set_x(this.get_width()-l),h.set_y(i);break;case 2:(h=this.text).set_anchorX(.5),h.set_anchorY(0),(h=this.text).set_x(.5*this.get_width()+t-l),h.set_y(i)}break;case 3:switch(r._hx_index){case 0:h=((h=this.text).set_anchorX(0),h.set_anchorY(1),this.text),a=this.get_height()-s;h.set_x(t),h.set_y(a);break;case 1:h=((h=this.text).set_anchorX(1),h.set_anchorY(1),this.text),o=this.get_width()-l,a=this.get_height()-s;h.set_x(o),h.set_y(a);break;case 2:h=((h=this.text).set_anchorX(.5),h.set_anchorY(1),this.text),o=.5*this.get_width()+t-l,a=this.get_height()-s;h.set_x(o),h.set_y(a)}}this.centerIfOneLine&&1==this.text.get_numLines()&&(this.text.set_anchorX(.5),this.text.set_x(.5*this.get_width()+t-l))},__class__:A1,__properties__:$extend(f0.prototype.__properties__,{set_noFitWidth:"set_noFitWidth",set_maxLineDiff:"set_maxLineDiff",get_maxLineDiff:"get_maxLineDiff",set_centerIfOneLine:"set_centerIfOneLine",set_align:"set_align",get_align:"get_align",set_letterSpacing:"set_letterSpacing",get_letterSpacing:"get_letterSpacing",set_lineHeight:"set_lineHeight",get_lineHeight:"get_lineHeight",set_minHeight:"set_minHeight",set_pointSize:"set_pointSize",get_pointSize:"get_pointSize",set_content:"set_content",get_content:"get_content",set_textAlpha:"set_textAlpha",get_textAlpha:"get_textAlpha",set_textColor:"set_textColor",get_textColor:"get_textColor",set_preRenderedSize:"set_preRenderedSize",get_preRenderedSize:"get_preRenderedSize",set_font:"set_font",get_font:"get_font",set_verticalAlign:"set_verticalAlign"})}),(E["ceramic.TextureAtlas"]=B1).__name__="ceramic.TextureAtlas",B1.__super__=j,B1.prototype=$extend(j.prototype,{pages:null,regions:null,asset:null,region:function(e){for(var n=0,t=this.regions.length;n<t;){var i=n++,i=this.regions[i];if(i.name==e)return i}return null},computeFrames:function(){for(var e=0,n=this.regions.length;e<n;){var t=e++;this.regions[t].computeFrame()}},destroy:function(){if(!(this._lifecycleState<=-2)){for(this._lifecycleState=-2;0<this.pages.length;){var e=this.pages.pop().get_texture();null!=e&&e.destroy()}null!=this.asset&&this.asset.destroy(),this._lifecycleState=-1,j.prototype.destroy.call(this)}},__class__:B1}),(E["ceramic.TextureAtlasPacker"]=C1).__name__="ceramic.TextureAtlasPacker",C1.__super__=j,C1.prototype=$extend(j.prototype,{__cbOnFinishPack:null,__cbOnceFinishPack:null,__cbOnOwnerUnbindFinishPack:null,__cbOnceOwnerUnbindFinishPack:null,emitFinishPack:function(){var e=0;if(null!=this.__cbOnFinishPack&&(e+=this.__cbOnFinishPack.length),null!=this.__cbOnceFinishPack&&(e+=this.__cbOnceFinishPack.length),0<e){var n=C.pool(e),t=n.get(),i=0;if(null!=this.__cbOnFinishPack)for(var l=0,s=this.__cbOnFinishPack.length;l<s;){var r=l++;!0?(t.vector[i]=this.__cbOnFinishPack[r],++i):--e}if(null!=this.__cbOnceFinishPack){for(var h=null,a=null,l=0,s=this.__cbOnceFinishPack.length;l<s;){var o,r=l++;!0?(t.vector[i]=this.__cbOnceFinishPack[r],this.__cbOnceFinishPack[r]=null,o=this.__cbOnceOwnerUnbindFinishPack[r],(this.__cbOnceOwnerUnbindFinishPack[r]=null)!=o&&o(),++i):(--e,null==h&&(h=[],a=[],0),h.push(this.__cbOnceOwnerUnbindFinishPack[r]),a.push(this.__cbOnceFinishPack[r]))}this.__cbOnceOwnerUnbindFinishPack=h,this.__cbOnceFinishPack=a}for(l=0,s=e;l<s;){i=l++;(0,t.vector[i])()}n.release(t)}},onFinishPack:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event finishPack because owner is destroyed!");var l=function(e){null!=t&&(i.offFinishPack(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindFinishPack&&(this.__cbOnOwnerUnbindFinishPack=[]),this.__cbOnOwnerUnbindFinishPack.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindFinishPack&&(this.__cbOnOwnerUnbindFinishPack=[]),this.__cbOnOwnerUnbindFinishPack.push(null);null==this.__cbOnFinishPack&&(this.__cbOnFinishPack=[]),this.__cbOnFinishPack.push(t)},onceFinishPack:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event finishPack because owner is destroyed!");var l=function(e){null!=t&&(i.offFinishPack(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindFinishPack&&(this.__cbOnceOwnerUnbindFinishPack=[]),this.__cbOnceOwnerUnbindFinishPack.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindFinishPack&&(this.__cbOnceOwnerUnbindFinishPack=[]),this.__cbOnceOwnerUnbindFinishPack.push(null);null==this.__cbOnceFinishPack&&(this.__cbOnceFinishPack=[]),this.__cbOnceFinishPack.push(t)},offFinishPack:function(e){if(null!=e){var n;null!=this.__cbOnFinishPack&&-1!=(n=this.__cbOnFinishPack.indexOf(e))&&(this.__cbOnFinishPack.splice(n,1),null!=(s=this.__cbOnOwnerUnbindFinishPack[n])&&s(),this.__cbOnOwnerUnbindFinishPack.splice(n,1)),null!=this.__cbOnceFinishPack&&-1!=(n=this.__cbOnceFinishPack.indexOf(e))&&(this.__cbOnceFinishPack.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindFinishPack[n])&&s(),this.__cbOnceOwnerUnbindFinishPack.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindFinishPack){for(var t=0,i=this.__cbOnOwnerUnbindFinishPack.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindFinishPack[l])&&s()}this.__cbOnOwnerUnbindFinishPack=null}if(null!=this.__cbOnceOwnerUnbindFinishPack){for(t=0,i=this.__cbOnceOwnerUnbindFinishPack.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindFinishPack[l])&&s()}this.__cbOnceOwnerUnbindFinishPack=null}this.__cbOnFinishPack=null,this.__cbOnceFinishPack=null}},listensFinishPack:function(){return null!=this.__cbOnFinishPack&&0<this.__cbOnFinishPack.length||null!=this.__cbOnceFinishPack&&0<this.__cbOnceFinishPack.length},atlas:null,spacing:null,filter:null,pendingRegions:null,pages:null,hasPendingRegions:function(){return null!=this.pendingRegions&&0<this.pendingRegions.length},region:function(e){if(null!=this.pendingRegions)for(var n=0,t=this.pendingRegions.length;n<t;){var i=n++;if((a=this.pendingRegions[i]).name==e)return a}if(null!=this.pages)for(n=0,t=this.pages.length;n<t;)for(var l=n++,s=this.pages[l],r=0,h=s.regions.length;r<h;){var a,i=r++;if((a=s.regions[i]).name==e)return a}return null},removeRegionsWithMatcher:function(e,n){if(null==e&&(e=!0),null!=this.pendingRegions){for(var t=null,i=0,l=this.pendingRegions.length;i<l;){var s=i++;n((r=this.pendingRegions[s]).name)&&(t=null==t?[]:t).push(r)}if(null!=t)for(i=0,l=t.length;i<l;){var r=t[s=i++];he.remove(this.pendingRegions,r)}}if(null!=this.pages){for(var h=null,i=0,l=this.pages.length;i<l;){for(var a=i++,t=null,o=this.pages[a],c=0,u=o.regions.length;c<u;){s=c++;n((r=o.regions[s]).name)&&(t=null==t?[]:t).push(r)}if(null!=t){(h=null==h?[]:h).push(o);for(var _=0,d=t.length;_<d;){var b=t[_++];he.remove(o.regions,b),o.shouldResetTexture=!0}null!=this.pendingRegions&&(this.pendingRegions=[]);for(var g=0,O=o.regions.length;g<O;){var f=g++,f=o.regions[f];f.rect=null,f.rendered=!1,this.pendingRegions.unshift(f)}}}if(null!=h)for(i=0,l=h.length;i<l;){a=i++;he.remove(this.pages,h[a])}}if(e&&null!=this.atlas){for(var p=null,i=0,l=this.atlas.regions.length;i<l;){var s=i++,C=this.atlas.regions[s];n(C.name)&&(p=null==p?[]:p).push(C)}if(null!=p)for(i=0,l=p.length;i<l;){s=i++;he.remove(this.atlas.regions,p[s])}}},removeRegionsWithPrefix:function(e,n){this.removeRegionsWithMatcher(e=null==e?!0:e,function(e){return z.startsWith(e,n)})},destroy:function(){if(!(this._lifecycleState<=-2)){if(this._lifecycleState=-2,null!=this.atlas){if(null!=this.atlas.pages)for(var e=0,n=this.atlas.pages.length;e<n;){var t=e++,t=this.atlas.pages[t],i=t.get_texture();null!=i&&(t.set_texture(null),i.destroy())}this.atlas.destroy(),this.atlas=null}this.pendingRegions=null,this.pages=null,this._lifecycleState=-1,j.prototype.destroy.call(this)}},_addRegionFromPixels:function(e,n,t,i,l,s,r,h){-1==s&&(s=Math.round(n.length/l)),this.pendingRegions.push(new Ct(e,t,i,l,s,r,h,n,null,null,null))},_addVariantRegion:function(e,n,t,i,l,s){var r=this.region(n);if(null==r)throw $.thrown('Cannot add variant region: source region "'+n+'" not found!');this.pendingRegions.push(new Ct(e,t,i,r.packedWidth,r.packedHeight,l,s,null,r,null,null))},pack:function(e){var n=this,t=C1.MIN_TEXTURE_SIZE;0==this.pages.length&&this.pages.push(new vt(this.spacing,"page"+this.pages.length,t,t,[],new ua(t+this.spacing,t+this.spacing,!1),!0));for(var t=(O=this.pages[this.pages.length-1]).width,i=[];0<this.pendingRegions.length;)if(null==(w=this.pendingRegions.shift()).pixels)i.push(w);else{if(w.packedWidth>C1.MAX_TEXTURE_SIZE||w.packedHeight>C1.MAX_TEXTURE_SIZE)throw $.thrown("Cannot insert region "+w.name+" with used size: "+w.packedWidth+" x "+w.packedHeight);var l;if(null==(l=O.binPacker.insert(w.packedWidth+O.spacing,w.packedHeight+O.spacing,3)))if(t<C1.MAX_TEXTURE_SIZE){t*=2,O.width=t,O.height=t,O.binPacker=new ua(t+O.spacing,t+O.spacing,!1);for(var s=0,r=O.regions.length;s<r;){var h=s++;O.regions[h].rect=null,O.regions[h].rendered=!1}this.pendingRegions=[w].concat(O.regions.concat(this.pendingRegions)),O.regions=[],O.shouldResetTexture=!0}else this.pages.push(new vt(this.spacing,"page"+this.pages.length,t=C1.MIN_TEXTURE_SIZE,t,[],new ua(t+this.spacing,t+this.spacing,!1),!0)),this.pendingRegions.unshift(w);else w.rect=l,O.regions.push(w)}for(s=0,r=i.length;s<r;){for(var a=(w=i[m=s++]).sourceRegion;null!=a&&null!=a.sourceRegion;)a=a.sourceRegion;if(null==a)throw $.thrown("Invalid variant region: "+w.name+" (source region not found).");for(var o=null,c=0,u=this.pages.length;c<u;){for(var _=c++,d=0,b=(O=this.pages[_]).regions.length;d<b;){var g=d++;if(O.regions[g].name==a.name){o=O;break}}if(null!=o)break}if(null==o)throw $.thrown("Invalid variant region: "+w.name+" (source region not found in any page).");o.regions.push(w)}null==this.atlas&&(this.atlas=new B1,this.atlas.onDestroy(this,function(e){n.destroy()}));for(s=0,r=this.pages.length;s<r;){var O,_=s++;if(0<(O=this.pages[_]).regions.length){for(var f=null,p=(null==(f=this.atlas.pages.length>_?this.atlas.pages[_]:f)&&(f=new wt(O.name,O.width,O.height,this.filter),this.atlas.pages.push(f)),null),C=(O.shouldResetTexture||null==f.get_texture()?(p=Ob.create(O.width,O.height,0),f.set_width(O.width),f.set_height(O.height)):p=f.get_texture().fetchPixels(),[]),v=[],c=0,u=O.regions.length;c<u;){var w,m=c++;if(!(w=O.regions[m]).rendered)if(null!=w.pixels)Ob.copy(w.pixels,w.packedWidth,p,O.width,0,0,w.packedWidth,w.packedHeight,0|w.rect.x,0|w.rect.y),w.rendered=!0,C.push(w);else{if(null==w.sourceRegion)throw $.thrown("Cannot render region "+w.name+" because it doesn't have pixels");w.rendered=!0,v.push(w)}}if(0<C.length){null!=f.get_texture()?f.get_texture().backendItem.width==O.width&&f.get_texture().backendItem.height==O.height?f.get_texture().submitPixels(p):(f.get_texture().destroy(),f.set_texture(Kn.fromPixels(O.width,O.height,p,1))):f.set_texture(Kn.fromPixels(O.width,O.height,p,1)),f.get_texture().set_filter(this.filter);for(d=0,b=C.length;d<b;){var y=C[d++],U=this.atlas.region(y.name);(U=null==U?new Ut(y.name,this.atlas,_):U).texture=f.get_texture(),U.originalWidth=y.originalWidth,U.originalHeight=y.originalHeight,U.packedWidth=y.packedWidth,U.packedHeight=y.packedHeight,U.offsetX=y.offsetX,U.offsetY=y.offsetY,U.x=Math.round(y.rect.x+O.spacing),U.y=Math.round(y.rect.y+O.spacing),U.width=y.packedWidth,U.height=y.packedHeight,U.computeFrame()}}if(0<v.length)for(var T=0,D=v.length;T<D;){for(var x=v[T++],a=x.sourceRegion;null!=a&&null!=a.sourceRegion;)a=a.sourceRegion;var S=this.atlas.region(a.name);if(null==S)throw $.thrown("Invalid variant region: "+x.name+" (source atlas region not found).");var A=this.atlas.region(x.name);(A=null==A?new Ut(x.name,this.atlas,_):A).texture=S.texture,A.originalWidth=x.originalWidth,A.originalHeight=x.originalHeight,A.packedWidth=a.packedWidth,A.packedHeight=a.packedHeight,A.offsetX=x.offsetX,A.offsetY=x.offsetY,A.x=Math.round(a.rect.x+O.spacing),A.y=Math.round(a.rect.y+O.spacing),A.width=x.packedWidth,A.height=x.packedHeight,A.computeFrame()}}}this.emitFinishPack(),e(this.atlas)},unbindEvents:function(){j.prototype.unbindEvents.call(this),this.offFinishPack()},__class__:C1}),function(e,n,t,i,l,s,r,h,a,o,c){this.rendered=!1,this.rect=null,this.sourceRegion=null,this.pixels=null,this.offsetY=0,this.offsetX=0,this.originalHeight=0,this.originalWidth=0,this.name=e,null!=n&&(this.originalWidth=n),null!=t&&(this.originalHeight=t),this.packedWidth=i,this.packedHeight=l,null!=s&&(this.offsetX=s),null!=r&&(this.offsetY=r),null!=h&&(this.pixels=h),null!=a&&(this.sourceRegion=a),null!=o&&(this.rect=o),null!=c&&(this.rendered=c)}),vt=((E["ceramic._TextureAtlasPacker.TextureAtlasPackerRegion"]=Ct).__name__="ceramic._TextureAtlasPacker.TextureAtlasPackerRegion",Ct.prototype={name:null,originalWidth:null,originalHeight:null,packedWidth:null,packedHeight:null,offsetX:null,offsetY:null,pixels:null,sourceRegion:null,rect:null,rendered:null,__class__:Ct},function(e,n,t,i,l,s,r){this.spacing=e,this.name=n,this.width=t,this.height=i,this.regions=l,this.binPacker=s,this.shouldResetTexture=r}),wt=((E["ceramic._TextureAtlasPacker.TextureAtlasPackerPage"]=vt).__name__="ceramic._TextureAtlasPacker.TextureAtlasPackerPage",vt.prototype={spacing:null,name:null,width:null,height:null,regions:null,binPacker:null,shouldResetTexture:null,__class__:vt},function(e,n,t,i,l){null==i&&(i=Tt.LINEAR),null==t&&(t=0),null==n&&(n=0),this.unobservedTexture=null,this.textureAutoruns=null,this.unobservedFilter=Tt.LINEAR,this.filterAutoruns=null,this.unobservedHeight=0,this.heightAutoruns=null,this.unobservedWidth=0,this.widthAutoruns=null,this.nameAutoruns=null,this.observedDirty=!1,this.set_name(e),this.set_width(n),this.set_height(t),this.set_filter(i),this.set_texture(l)}),mt=((E["ceramic.TextureAtlasPage"]=wt).__name__="ceramic.TextureAtlasPage",wt.__interfaces__=[s],wt.prototype={__cbOnObservedDirty:null,__cbOnceObservedDirty:null,__cbOnOwnerUnbindObservedDirty:null,__cbOnceOwnerUnbindObservedDirty:null,emitObservedDirty:function(e,n){var t=0;if(null!=this.__cbOnObservedDirty&&(t+=this.__cbOnObservedDirty.length),null!=this.__cbOnceObservedDirty&&(t+=this.__cbOnceObservedDirty.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnObservedDirty)for(var r=0,h=this.__cbOnObservedDirty.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnObservedDirty[a],++s):--t}if(null!=this.__cbOnceObservedDirty){for(var o=null,c=null,r=0,h=this.__cbOnceObservedDirty.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceObservedDirty[a],this.__cbOnceObservedDirty[a]=null,u=this.__cbOnceOwnerUnbindObservedDirty[a],(this.__cbOnceOwnerUnbindObservedDirty[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindObservedDirty[a]),c.push(this.__cbOnceObservedDirty[a]))}this.__cbOnceOwnerUnbindObservedDirty=o,this.__cbOnceObservedDirty=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onObservedDirty:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event observedDirty because owner is destroyed!");var l=function(e){null!=t&&(i.offObservedDirty(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push(null);null==this.__cbOnObservedDirty&&(this.__cbOnObservedDirty=[]),this.__cbOnObservedDirty.push(t)},onceObservedDirty:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event observedDirty because owner is destroyed!");var l=function(e){null!=t&&(i.offObservedDirty(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push(null);null==this.__cbOnceObservedDirty&&(this.__cbOnceObservedDirty=[]),this.__cbOnceObservedDirty.push(t)},offObservedDirty:function(e){if(null!=e){var n;null!=this.__cbOnObservedDirty&&-1!=(n=this.__cbOnObservedDirty.indexOf(e))&&(this.__cbOnObservedDirty.splice(n,1),null!=(s=this.__cbOnOwnerUnbindObservedDirty[n])&&s(),this.__cbOnOwnerUnbindObservedDirty.splice(n,1)),null!=this.__cbOnceObservedDirty&&-1!=(n=this.__cbOnceObservedDirty.indexOf(e))&&(this.__cbOnceObservedDirty.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindObservedDirty[n])&&s(),this.__cbOnceOwnerUnbindObservedDirty.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindObservedDirty){for(var t=0,i=this.__cbOnOwnerUnbindObservedDirty.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindObservedDirty[l])&&s()}this.__cbOnOwnerUnbindObservedDirty=null}if(null!=this.__cbOnceOwnerUnbindObservedDirty){for(t=0,i=this.__cbOnceOwnerUnbindObservedDirty.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindObservedDirty[l])&&s()}this.__cbOnceOwnerUnbindObservedDirty=null}this.__cbOnObservedDirty=null,this.__cbOnceObservedDirty=null}},listensObservedDirty:function(){return null!=this.__cbOnObservedDirty&&0<this.__cbOnObservedDirty.length||null!=this.__cbOnceObservedDirty&&0<this.__cbOnceObservedDirty.length},observedDirty:null,nameAutoruns:null,get_name:function(){var e,n,t=this.unobservedName;return null!=A.current&&(e=A.current,null!=(n=this.nameAutoruns)||(n=A.getAutorunArray(),null!=(this.nameAutoruns=n)))&&e.bindToAutorunArray(n),t},set_name:function(e){var n=this.unobservedName;return n!=(this.unobservedName=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitNameChange(e,n),null!=(n=this.nameAutoruns))&&(this.nameAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateName:function(){var e=this.unobservedName,e=(this.emitNameChange(e,e),this.nameAutoruns);null!=e&&(this.nameAutoruns=null,A.invalidateAutorunArray(e))},unobservedName:null,__cbOnNameChange:null,__cbOnceNameChange:null,__cbOnOwnerUnbindNameChange:null,__cbOnceOwnerUnbindNameChange:null,emitNameChange:function(e,n){var t=0;if(null!=this.__cbOnNameChange&&(t+=this.__cbOnNameChange.length),null!=this.__cbOnceNameChange&&(t+=this.__cbOnceNameChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnNameChange)for(var r=0,h=this.__cbOnNameChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnNameChange[a],++s):--t}if(null!=this.__cbOnceNameChange){for(var o=null,c=null,r=0,h=this.__cbOnceNameChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceNameChange[a],this.__cbOnceNameChange[a]=null,u=this.__cbOnceOwnerUnbindNameChange[a],(this.__cbOnceOwnerUnbindNameChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindNameChange[a]),c.push(this.__cbOnceNameChange[a]))}this.__cbOnceOwnerUnbindNameChange=o,this.__cbOnceNameChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onNameChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event nameChange because owner is destroyed!");var l=function(e){null!=t&&(i.offNameChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindNameChange&&(this.__cbOnOwnerUnbindNameChange=[]),this.__cbOnOwnerUnbindNameChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindNameChange&&(this.__cbOnOwnerUnbindNameChange=[]),this.__cbOnOwnerUnbindNameChange.push(null);null==this.__cbOnNameChange&&(this.__cbOnNameChange=[]),this.__cbOnNameChange.push(t)},onceNameChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event nameChange because owner is destroyed!");var l=function(e){null!=t&&(i.offNameChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindNameChange&&(this.__cbOnceOwnerUnbindNameChange=[]),this.__cbOnceOwnerUnbindNameChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindNameChange&&(this.__cbOnceOwnerUnbindNameChange=[]),this.__cbOnceOwnerUnbindNameChange.push(null);null==this.__cbOnceNameChange&&(this.__cbOnceNameChange=[]),this.__cbOnceNameChange.push(t)},offNameChange:function(e){if(null!=e){var n;null!=this.__cbOnNameChange&&-1!=(n=this.__cbOnNameChange.indexOf(e))&&(this.__cbOnNameChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindNameChange[n])&&s(),this.__cbOnOwnerUnbindNameChange.splice(n,1)),null!=this.__cbOnceNameChange&&-1!=(n=this.__cbOnceNameChange.indexOf(e))&&(this.__cbOnceNameChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindNameChange[n])&&s(),this.__cbOnceOwnerUnbindNameChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindNameChange){for(var t=0,i=this.__cbOnOwnerUnbindNameChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindNameChange[l])&&s()}this.__cbOnOwnerUnbindNameChange=null}if(null!=this.__cbOnceOwnerUnbindNameChange){for(t=0,i=this.__cbOnceOwnerUnbindNameChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindNameChange[l])&&s()}this.__cbOnceOwnerUnbindNameChange=null}this.__cbOnNameChange=null,this.__cbOnceNameChange=null}},listensNameChange:function(){return null!=this.__cbOnNameChange&&0<this.__cbOnNameChange.length||null!=this.__cbOnceNameChange&&0<this.__cbOnceNameChange.length},widthAutoruns:null,get_width:function(){var e,n,t=this.unobservedWidth;return null!=A.current&&(e=A.current,null!=(n=this.widthAutoruns)||(n=A.getAutorunArray(),null!=(this.widthAutoruns=n)))&&e.bindToAutorunArray(n),t},set_width:function(e){var n=this.unobservedWidth;return n!=(this.unobservedWidth=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitWidthChange(e,n),null!=(n=this.widthAutoruns))&&(this.widthAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateWidth:function(){var e=this.unobservedWidth,e=(this.emitWidthChange(e,e),this.widthAutoruns);null!=e&&(this.widthAutoruns=null,A.invalidateAutorunArray(e))},unobservedWidth:null,__cbOnWidthChange:null,__cbOnceWidthChange:null,__cbOnOwnerUnbindWidthChange:null,__cbOnceOwnerUnbindWidthChange:null,emitWidthChange:function(e,n){var t=0;if(null!=this.__cbOnWidthChange&&(t+=this.__cbOnWidthChange.length),null!=this.__cbOnceWidthChange&&(t+=this.__cbOnceWidthChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnWidthChange)for(var r=0,h=this.__cbOnWidthChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnWidthChange[a],++s):--t}if(null!=this.__cbOnceWidthChange){for(var o=null,c=null,r=0,h=this.__cbOnceWidthChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceWidthChange[a],this.__cbOnceWidthChange[a]=null,u=this.__cbOnceOwnerUnbindWidthChange[a],(this.__cbOnceOwnerUnbindWidthChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindWidthChange[a]),c.push(this.__cbOnceWidthChange[a]))}this.__cbOnceOwnerUnbindWidthChange=o,this.__cbOnceWidthChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onWidthChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event widthChange because owner is destroyed!");var l=function(e){null!=t&&(i.offWidthChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindWidthChange&&(this.__cbOnOwnerUnbindWidthChange=[]),this.__cbOnOwnerUnbindWidthChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindWidthChange&&(this.__cbOnOwnerUnbindWidthChange=[]),this.__cbOnOwnerUnbindWidthChange.push(null);null==this.__cbOnWidthChange&&(this.__cbOnWidthChange=[]),this.__cbOnWidthChange.push(t)},onceWidthChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event widthChange because owner is destroyed!");var l=function(e){null!=t&&(i.offWidthChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindWidthChange&&(this.__cbOnceOwnerUnbindWidthChange=[]),this.__cbOnceOwnerUnbindWidthChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindWidthChange&&(this.__cbOnceOwnerUnbindWidthChange=[]),this.__cbOnceOwnerUnbindWidthChange.push(null);null==this.__cbOnceWidthChange&&(this.__cbOnceWidthChange=[]),this.__cbOnceWidthChange.push(t)},offWidthChange:function(e){if(null!=e){var n;null!=this.__cbOnWidthChange&&-1!=(n=this.__cbOnWidthChange.indexOf(e))&&(this.__cbOnWidthChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindWidthChange[n])&&s(),this.__cbOnOwnerUnbindWidthChange.splice(n,1)),null!=this.__cbOnceWidthChange&&-1!=(n=this.__cbOnceWidthChange.indexOf(e))&&(this.__cbOnceWidthChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindWidthChange[n])&&s(),this.__cbOnceOwnerUnbindWidthChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindWidthChange){for(var t=0,i=this.__cbOnOwnerUnbindWidthChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindWidthChange[l])&&s()}this.__cbOnOwnerUnbindWidthChange=null}if(null!=this.__cbOnceOwnerUnbindWidthChange){for(t=0,i=this.__cbOnceOwnerUnbindWidthChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindWidthChange[l])&&s()}this.__cbOnceOwnerUnbindWidthChange=null}this.__cbOnWidthChange=null,this.__cbOnceWidthChange=null}},listensWidthChange:function(){return null!=this.__cbOnWidthChange&&0<this.__cbOnWidthChange.length||null!=this.__cbOnceWidthChange&&0<this.__cbOnceWidthChange.length},heightAutoruns:null,get_height:function(){var e,n,t=this.unobservedHeight;return null!=A.current&&(e=A.current,null!=(n=this.heightAutoruns)||(n=A.getAutorunArray(),null!=(this.heightAutoruns=n)))&&e.bindToAutorunArray(n),t},set_height:function(e){var n=this.unobservedHeight;return n!=(this.unobservedHeight=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitHeightChange(e,n),null!=(n=this.heightAutoruns))&&(this.heightAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateHeight:function(){var e=this.unobservedHeight,e=(this.emitHeightChange(e,e),this.heightAutoruns);null!=e&&(this.heightAutoruns=null,A.invalidateAutorunArray(e))},unobservedHeight:null,__cbOnHeightChange:null,__cbOnceHeightChange:null,__cbOnOwnerUnbindHeightChange:null,__cbOnceOwnerUnbindHeightChange:null,emitHeightChange:function(e,n){var t=0;if(null!=this.__cbOnHeightChange&&(t+=this.__cbOnHeightChange.length),null!=this.__cbOnceHeightChange&&(t+=this.__cbOnceHeightChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnHeightChange)for(var r=0,h=this.__cbOnHeightChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnHeightChange[a],++s):--t}if(null!=this.__cbOnceHeightChange){for(var o=null,c=null,r=0,h=this.__cbOnceHeightChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceHeightChange[a],this.__cbOnceHeightChange[a]=null,u=this.__cbOnceOwnerUnbindHeightChange[a],(this.__cbOnceOwnerUnbindHeightChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindHeightChange[a]),c.push(this.__cbOnceHeightChange[a]))}this.__cbOnceOwnerUnbindHeightChange=o,this.__cbOnceHeightChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onHeightChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event heightChange because owner is destroyed!");var l=function(e){null!=t&&(i.offHeightChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindHeightChange&&(this.__cbOnOwnerUnbindHeightChange=[]),this.__cbOnOwnerUnbindHeightChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindHeightChange&&(this.__cbOnOwnerUnbindHeightChange=[]),this.__cbOnOwnerUnbindHeightChange.push(null);null==this.__cbOnHeightChange&&(this.__cbOnHeightChange=[]),this.__cbOnHeightChange.push(t)},onceHeightChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event heightChange because owner is destroyed!");var l=function(e){null!=t&&(i.offHeightChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindHeightChange&&(this.__cbOnceOwnerUnbindHeightChange=[]),this.__cbOnceOwnerUnbindHeightChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindHeightChange&&(this.__cbOnceOwnerUnbindHeightChange=[]),this.__cbOnceOwnerUnbindHeightChange.push(null);null==this.__cbOnceHeightChange&&(this.__cbOnceHeightChange=[]),this.__cbOnceHeightChange.push(t)},offHeightChange:function(e){if(null!=e){var n;null!=this.__cbOnHeightChange&&-1!=(n=this.__cbOnHeightChange.indexOf(e))&&(this.__cbOnHeightChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindHeightChange[n])&&s(),this.__cbOnOwnerUnbindHeightChange.splice(n,1)),null!=this.__cbOnceHeightChange&&-1!=(n=this.__cbOnceHeightChange.indexOf(e))&&(this.__cbOnceHeightChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindHeightChange[n])&&s(),this.__cbOnceOwnerUnbindHeightChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindHeightChange){for(var t=0,i=this.__cbOnOwnerUnbindHeightChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindHeightChange[l])&&s()}this.__cbOnOwnerUnbindHeightChange=null}if(null!=this.__cbOnceOwnerUnbindHeightChange){for(t=0,i=this.__cbOnceOwnerUnbindHeightChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindHeightChange[l])&&s()}this.__cbOnceOwnerUnbindHeightChange=null}this.__cbOnHeightChange=null,this.__cbOnceHeightChange=null}},listensHeightChange:function(){return null!=this.__cbOnHeightChange&&0<this.__cbOnHeightChange.length||null!=this.__cbOnceHeightChange&&0<this.__cbOnceHeightChange.length},filterAutoruns:null,get_filter:function(){var e,n,t=this.unobservedFilter;return null!=A.current&&(e=A.current,null!=(n=this.filterAutoruns)||(n=A.getAutorunArray(),null!=(this.filterAutoruns=n)))&&e.bindToAutorunArray(n),t},set_filter:function(e){var n=this.unobservedFilter;return this.set_unobservedFilter(e),n!=e&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitFilterChange(e,n),null!=(n=this.filterAutoruns))&&(this.filterAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateFilter:function(){var e=this.unobservedFilter,e=(this.emitFilterChange(e,e),this.filterAutoruns);null!=e&&(this.filterAutoruns=null,A.invalidateAutorunArray(e))},unobservedFilter:null,__cbOnFilterChange:null,__cbOnceFilterChange:null,__cbOnOwnerUnbindFilterChange:null,__cbOnceOwnerUnbindFilterChange:null,emitFilterChange:function(e,n){var t=0;if(null!=this.__cbOnFilterChange&&(t+=this.__cbOnFilterChange.length),null!=this.__cbOnceFilterChange&&(t+=this.__cbOnceFilterChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnFilterChange)for(var r=0,h=this.__cbOnFilterChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnFilterChange[a],++s):--t}if(null!=this.__cbOnceFilterChange){for(var o=null,c=null,r=0,h=this.__cbOnceFilterChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceFilterChange[a],this.__cbOnceFilterChange[a]=null,u=this.__cbOnceOwnerUnbindFilterChange[a],(this.__cbOnceOwnerUnbindFilterChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindFilterChange[a]),c.push(this.__cbOnceFilterChange[a]))}this.__cbOnceOwnerUnbindFilterChange=o,this.__cbOnceFilterChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onFilterChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event filterChange because owner is destroyed!");var l=function(e){null!=t&&(i.offFilterChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindFilterChange&&(this.__cbOnOwnerUnbindFilterChange=[]),this.__cbOnOwnerUnbindFilterChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindFilterChange&&(this.__cbOnOwnerUnbindFilterChange=[]),this.__cbOnOwnerUnbindFilterChange.push(null);null==this.__cbOnFilterChange&&(this.__cbOnFilterChange=[]),this.__cbOnFilterChange.push(t)},onceFilterChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event filterChange because owner is destroyed!");var l=function(e){null!=t&&(i.offFilterChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindFilterChange&&(this.__cbOnceOwnerUnbindFilterChange=[]),this.__cbOnceOwnerUnbindFilterChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindFilterChange&&(this.__cbOnceOwnerUnbindFilterChange=[]),this.__cbOnceOwnerUnbindFilterChange.push(null);null==this.__cbOnceFilterChange&&(this.__cbOnceFilterChange=[]),this.__cbOnceFilterChange.push(t)},offFilterChange:function(e){if(null!=e){var n;null!=this.__cbOnFilterChange&&-1!=(n=this.__cbOnFilterChange.indexOf(e))&&(this.__cbOnFilterChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindFilterChange[n])&&s(),this.__cbOnOwnerUnbindFilterChange.splice(n,1)),null!=this.__cbOnceFilterChange&&-1!=(n=this.__cbOnceFilterChange.indexOf(e))&&(this.__cbOnceFilterChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindFilterChange[n])&&s(),this.__cbOnceOwnerUnbindFilterChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindFilterChange){for(var t=0,i=this.__cbOnOwnerUnbindFilterChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindFilterChange[l])&&s()}this.__cbOnOwnerUnbindFilterChange=null}if(null!=this.__cbOnceOwnerUnbindFilterChange){for(t=0,i=this.__cbOnceOwnerUnbindFilterChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindFilterChange[l])&&s()}this.__cbOnceOwnerUnbindFilterChange=null}this.__cbOnFilterChange=null,this.__cbOnceFilterChange=null}},listensFilterChange:function(){return null!=this.__cbOnFilterChange&&0<this.__cbOnFilterChange.length||null!=this.__cbOnceFilterChange&&0<this.__cbOnceFilterChange.length},set_unobservedFilter:function(e){return this.unobservedFilter!=e&&(this.unobservedFilter=e,null!=this.get_texture())&&this.get_texture().set_filter(e),e},textureAutoruns:null,get_texture:function(){var e,n,t=this.unobservedTexture;return null!=A.current&&(e=A.current,null!=(n=this.textureAutoruns)||(n=A.getAutorunArray(),null!=(this.textureAutoruns=n)))&&e.bindToAutorunArray(n),t},set_texture:function(e){var n=this.unobservedTexture;return this.set_unobservedTexture(e),n!=e&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitTextureChange(e,n),null!=(n=this.textureAutoruns))&&(this.textureAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateTexture:function(){var e=this.unobservedTexture,e=(this.emitTextureChange(e,e),this.textureAutoruns);null!=e&&(this.textureAutoruns=null,A.invalidateAutorunArray(e))},unobservedTexture:null,__cbOnTextureChange:null,__cbOnceTextureChange:null,__cbOnOwnerUnbindTextureChange:null,__cbOnceOwnerUnbindTextureChange:null,emitTextureChange:function(e,n){var t=0;if(null!=this.__cbOnTextureChange&&(t+=this.__cbOnTextureChange.length),null!=this.__cbOnceTextureChange&&(t+=this.__cbOnceTextureChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnTextureChange)for(var r=0,h=this.__cbOnTextureChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnTextureChange[a],++s):--t}if(null!=this.__cbOnceTextureChange){for(var o=null,c=null,r=0,h=this.__cbOnceTextureChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceTextureChange[a],this.__cbOnceTextureChange[a]=null,u=this.__cbOnceOwnerUnbindTextureChange[a],(this.__cbOnceOwnerUnbindTextureChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindTextureChange[a]),c.push(this.__cbOnceTextureChange[a]))}this.__cbOnceOwnerUnbindTextureChange=o,this.__cbOnceTextureChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onTextureChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event textureChange because owner is destroyed!");var l=function(e){null!=t&&(i.offTextureChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindTextureChange&&(this.__cbOnOwnerUnbindTextureChange=[]),this.__cbOnOwnerUnbindTextureChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindTextureChange&&(this.__cbOnOwnerUnbindTextureChange=[]),this.__cbOnOwnerUnbindTextureChange.push(null);null==this.__cbOnTextureChange&&(this.__cbOnTextureChange=[]),this.__cbOnTextureChange.push(t)},onceTextureChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event textureChange because owner is destroyed!");var l=function(e){null!=t&&(i.offTextureChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindTextureChange&&(this.__cbOnceOwnerUnbindTextureChange=[]),this.__cbOnceOwnerUnbindTextureChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindTextureChange&&(this.__cbOnceOwnerUnbindTextureChange=[]),this.__cbOnceOwnerUnbindTextureChange.push(null);null==this.__cbOnceTextureChange&&(this.__cbOnceTextureChange=[]),this.__cbOnceTextureChange.push(t)},offTextureChange:function(e){if(null!=e){var n;null!=this.__cbOnTextureChange&&-1!=(n=this.__cbOnTextureChange.indexOf(e))&&(this.__cbOnTextureChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindTextureChange[n])&&s(),this.__cbOnOwnerUnbindTextureChange.splice(n,1)),null!=this.__cbOnceTextureChange&&-1!=(n=this.__cbOnceTextureChange.indexOf(e))&&(this.__cbOnceTextureChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindTextureChange[n])&&s(),this.__cbOnceOwnerUnbindTextureChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindTextureChange){for(var t=0,i=this.__cbOnOwnerUnbindTextureChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindTextureChange[l])&&s()}this.__cbOnOwnerUnbindTextureChange=null}if(null!=this.__cbOnceOwnerUnbindTextureChange){for(t=0,i=this.__cbOnceOwnerUnbindTextureChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindTextureChange[l])&&s()}this.__cbOnceOwnerUnbindTextureChange=null}this.__cbOnTextureChange=null,this.__cbOnceTextureChange=null}},listensTextureChange:function(){return null!=this.__cbOnTextureChange&&0<this.__cbOnTextureChange.length||null!=this.__cbOnceTextureChange&&0<this.__cbOnceTextureChange.length},set_unobservedTexture:function(e){return this.unobservedTexture!=e&&null!=(this.unobservedTexture=e)&&(this.get_width()<=0&&this.set_width(e.backendItem.width),this.get_height()<=0)&&this.set_height(e.backendItem.height),e},unbindEvents:function(){this.offObservedDirty(),this.offNameChange(),this.offWidthChange(),this.offHeightChange(),this.offFilterChange(),this.offTextureChange()},__class__:wt,__properties__:{set_unobservedTexture:"set_unobservedTexture",set_texture:"set_texture",get_texture:"get_texture",set_unobservedFilter:"set_unobservedFilter",set_filter:"set_filter",get_filter:"get_filter",set_height:"set_height",get_height:"get_height",set_width:"set_width",get_width:"get_width",set_name:"set_name",get_name:"get_name"}},function(){}),yt=((E["ceramic.TextureAtlasParser"]=mt).__name__="ceramic.TextureAtlasParser",mt.parse=function(e){if(z.startsWith(z.trim(e),"<"))try{e=mt.convertXmlTextureAtlas(e)}catch(e){Sl.lastError=e;var n=$.caught(e).unwrap();throw $.thrown("TextureAtlas: invalid xml atlas data specified for parser: "+K.string(n))}for(var t=new yt(e),i=[null,null,null,null],l=null,s=new B1;;){var r=t.readLine();if(null==r)break;if(0==(r=t.trim(r)).length)l=null;else if(null==l){for(var l=new wt(r),h=t.nextLineKey();null!=h;){switch(h){case"filter":t.readTuple(i),l.set_filter(null!=i[0]&&"nearest"==i[0].toLowerCase()?Tt.NEAREST:Tt.LINEAR);break;case"size":t.readTuple(i),l.set_width(K.parseInt(i[0])),l.set_height(K.parseInt(i[1]));break;default:t.readLine()}h=t.nextLineKey()}s.pages.push(l)}else{for(var a=r.toLowerCase(),o=(z.endsWith(a,".png")||z.endsWith(a,".gif")||z.endsWith(a,".jpg")?r=he.substr(r,0,r.length-4):z.endsWith(a,".jpeg")&&(r=he.substr(r,0,r.length-5)),new Ut(r,s,s.pages.length-1)),c=0,u=0,_=0,d=0,b=0,g=0,O=t.nextLineKey();null!=O;){switch(O){case"bounds":t.readTuple(i),c=K.parseInt(i[0]),u=K.parseInt(i[1]),_=K.parseInt(i[2]),d=K.parseInt(i[3]);break;case"offset":t.readTuple(i),o.offsetX=K.parseInt(i[0]),o.offsetY=K.parseInt(i[1]);break;case"offsets":t.readTuple(i),o.offsetX=K.parseInt(i[0]),o.offsetY=K.parseInt(i[1]),b=K.parseInt(i[2]),g=K.parseInt(i[3]);break;case"orig":t.readTuple(i),b=K.parseInt(i[0]),g=K.parseInt(i[1]);break;case"rotate":var f=t.readValue();o.rotateFrame="true"==f||"90"==f;break;case"size":t.readTuple(i),_=K.parseInt(i[0]),d=K.parseInt(i[1]);break;case"xy":t.readTuple(i),c=K.parseInt(i[0]),u=K.parseInt(i[1]);break;default:t.readLine()}O=t.nextLineKey()}o.x=c,o.y=u,o.width=0|Math.abs(_),o.height=0|Math.abs(d),o.originalWidth=0!=b?b:o.width,o.originalHeight=0!=g?g:o.height,o.rotateFrame?(o.packedWidth=o.height,o.packedHeight=o.width):(o.packedWidth=o.width,o.packedHeight=o.height)}}return s},mt.convertXmlTextureAtlas=function(e){for(var n="",e=D.parse(e).firstElement(),t=(n=n+K.string(e.get("imagePath"))+"\n",e.elements());t.hasNext();){var i=t.next();if(i.nodeType!=D.Element)throw $.thrown("Bad node type, expected Element but found "+(null==i.nodeType?"null":ge.toString(i.nodeType)));"SubTexture"==i.nodeName&&(n=n+K.string(i.get("name"))+"\n",i.exists("frameX")&&i.exists("frameY")&&i.exists("frameWidth")&&i.exists("frameHeight")&&(n=(n=(n=(n=(n+="offsets:")+K.string(-parseFloat(i.get("frameX")))+",")+K.string(-parseFloat(i.get("frameY")))+",")+K.string(parseFloat(i.get("frameWidth")))+",")+K.string(parseFloat(i.get("frameHeight")))+"\n"),n=(n=(n=(n=(n+="bounds:")+K.string(parseFloat(i.get("x")))+",")+K.string(parseFloat(i.get("y")))+",")+K.string(parseFloat(i.get("width")))+",")+K.string(parseFloat(i.get("height")))+"\n",i.exists("rotate"))&&(n=(n+="rotate:")+K.string(i.get("rotate"))+"\n")}return n},function(e){this.lines=z.replace(z.replace(z.trim(e),"\r\n","\n"),"\r","\n").split("\n"),this.index=0}),Ut=((E["ceramic._TextureAtlasParser.TextureAtlasReader"]=yt).__name__="ceramic._TextureAtlasParser.TextureAtlasReader",yt.prototype={lines:null,index:null,trim:function(e){return z.trim(e)},readLine:function(){return this.index>=this.lines.length?null:this.lines[this.index++]},nextLineKey:function(){var e,n;return!(this.index>=this.lines.length)&&-1!=(n=(e=this.lines[this.index]).indexOf(":"))?z.trim(e.substring(0,n)):null},readValue:function(){var e=this.readLine(),n=e.indexOf(":");if(-1==n)throw $.thrown("Invalid line: "+e);return this.trim(e.substring(n+1))},readTuple:function(e){var n=this.readLine(),t=n.indexOf(":");if(-1==t)throw $.thrown("Invalid line: "+n);for(var i=0,l=t+1;i<3;){var s=n.indexOf(",",l);if(-1==s)break;e[i]=this.trim(he.substr(n,l,s-l)),l=s+1,++i}return e[i]=this.trim(n.substring(l)),i+1},__class__:yt},(E["ceramic.TextureTile"]=I1).__name__="ceramic.TextureTile",I1.prototype={texture:null,frameX:null,frameY:null,frameWidth:null,frameHeight:null,rotateFrame:null,edgeInset:null,frame:function(e,n,t,i){this.frameX=e,this.frameY=n,this.frameWidth=t,this.frameHeight=i},toString:function(){return""+K.string({texture:this.texture,frameX:this.frameX,frameY:this.frameY,frameWidth:this.frameWidth,frameHeight:this.frameHeight})},__class__:I1},function(e,n,t){this.originalHeight=0,this.originalWidth=0,this.offsetY=0,this.offsetX=0,this.height=0,this.width=0,this.y=0,this.x=0,this.packedHeight=0,this.packedWidth=0,this.page=0,this.atlas=null,this.name=null,this.name=e,this.atlas=n,this.page=t;e=n.pages[t];I1.call(this,null!=e?e.get_texture():null,0,0,0,0,!1,0),n.regions.push(this)}),Tt=((E["ceramic.TextureAtlasRegion"]=Ut).__name__="ceramic.TextureAtlasRegion",Ut.__super__=I1,Ut.prototype=$extend(I1.prototype,{name:null,atlas:null,page:null,packedWidth:null,packedHeight:null,x:null,y:null,width:null,height:null,offsetX:null,offsetY:null,originalWidth:null,originalHeight:null,computeFrame:function(){var e,n=this.atlas.pages[this.page];null!=n?(this.texture=n.get_texture(),null!=this.texture?(e=n.get_width(),n=n.get_height(),e=this.texture.width/e,n=this.texture.height/n,this.frameX=this.x*e,this.frameY=this.y*n,this.frameWidth=this.width*e,this.frameHeight=this.height*n):ae.app.logger.warning("Failed to compute region frame because there is no texture at page "+this.page,{fileName:"../../../../ceramic/runtime/src/ceramic/TextureAtlasRegion.hx",lineNumber:215,className:"ceramic.TextureAtlasRegion",methodName:"computeFrame"})):ae.app.logger.warning("Failed to compute region frame because there is no page "+this.page,{fileName:"../../../../ceramic/runtime/src/ceramic/TextureAtlasRegion.hx",lineNumber:219,className:"ceramic.TextureAtlasRegion",methodName:"computeFrame"})},toString:function(){return""+K.string({name:this.name,page:this.page,texture:this.texture,packedWidth:this.packedWidth,packedHeight:this.packedHeight,originalWidth:this.originalWidth,originalHeight:this.originalHeight,width:this.width,height:this.height,offsetX:this.offsetX,offsetY:this.offsetY,frameX:this.frameX,frameY:this.frameY,frameWidth:this.frameWidth,frameHeight:this.frameHeight})},__class__:Ut}),_e["ceramic.TextureFilter"]={__ename__:"ceramic.TextureFilter",__constructs__:null,LINEAR:{_hx_name:"LINEAR",_hx_index:0,__enum__:"ceramic.TextureFilter",toString:c},NEAREST:{_hx_name:"NEAREST",_hx_index:1,__enum__:"ceramic.TextureFilter",toString:c}}),Dt=(Tt.__constructs__=[Tt.LINEAR,Tt.NEAREST],(E["ceramic.TextureTilePacker"]=L1).__name__="ceramic.TextureTilePacker",L1.__super__=j,L1.prototype=$extend(j.prototype,{texture:null,padWidth:null,padHeight:null,margin:null,nextPacker:null,areas:null,numCols:null,numRows:null,maxPixelTextureWidth:null,maxPixelTextureHeight:null,destroy:function(){this._lifecycleState<=-2||(this._lifecycleState=-2,this._lifecycleState=-1,j.prototype.destroy.call(this),null!=this.nextPacker&&(this.nextPacker.destroy(),this.nextPacker=null),this.texture.destroy(),this.texture=null,this.areas=null)},getTileAtPosition:function(e,n){return this.areas[n*this.numCols+e]},setTileAtPosition:function(e,n,t){this.areas[n*this.numCols+e]=t},allocTile:function(e,n){this.texture.width,this.texture.height;var t=this.padWidth+2*this.margin,i=this.padHeight+2*this.margin,l=t*this.numCols-2*this.margin,s=i*this.numRows-2*this.margin;if(l<e||s<n)return ae.app.logger.warning("Cannot alloc tile of "+e+" x "+n+" because this is bigger than "+l+" x "+s,{fileName:"../../../../ceramic/runtime/src/ceramic/TextureTilePacker.hx",lineNumber:247,className:"ceramic.TextureTilePacker",methodName:"allocTile"}),null;for(var r=this.padWidth,h=1;r<e;)++h,r+=this.padWidth+2*this.margin;for(var a=this.padHeight,o=1;a<n;)++o,a+=this.padHeight+2*this.margin;for(var c=0,u=this.numRows-o+1;c<u;)for(var _=c++,d=0,b=this.numCols-h+1;d<b;){for(var g=d++,O=!0,f=_,p=_+o;f<p;){for(var C=f++,v=g,w=g+h;v<w;){var m=v++;if(null!=this.areas[C*this.numCols+m]){O=!1;break}}if(!O)break}if(O){for(var y=new Dt(this.texture,g*t,_*i,e,n),U=(y.col=g,y.row=_,y.usedCols=h,_),T=_+(y.usedRows=o);U<T;)for(var D=U++,x=g,S=g+h;x<S;){var A=x++;this.areas[D*this.numCols+A]=y}return y}}return null==this.nextPacker&&(this.nextPacker=new L1(this.texture.autoRender,this.maxPixelTextureWidth,this.maxPixelTextureHeight,this.padWidth,this.padHeight,this.margin)),this.nextPacker.allocTile(e,n)},releaseTile:function(e){var n=this;if(ae.app.logger.info("release tile "+K.string(e),{fileName:"../../../../ceramic/runtime/src/ceramic/TextureTilePacker.hx",lineNumber:338,className:"ceramic.TextureTilePacker",methodName:"releaseTile"}),!(e instanceof Dt))throw $.thrown("Cannot release tile: "+K.string(e)+".");for(var a=e,o=this;null!=o&&o.texture!=a.texture;)o=o.nextPacker;null==o?ae.app.logger.warning("Failed to release tile: "+K.string(a)+" (it doesn't belong to this packer)",{fileName:"../../../../ceramic/runtime/src/ceramic/TextureTilePacker.hx",lineNumber:353,className:"ceramic.TextureTilePacker",methodName:"releaseTile"}):ae.app.onceUpdate(this,function(e){ae.app.onceUpdate(n,function(e){for(var n=!1,t=a.row,i=a.row+a.usedRows;t<i;)for(var l=t++,s=a.col,r=a.col+a.usedCols;s<r;){var h=s++;o.areas[l*o.numCols+h]==a&&(n=!0,o.areas[l*o.numCols+h]=null)}a.texture=null,n||ae.app.logger.warning("Failed to release tile: "+K.string(a)+" (did not find it)",{fileName:"../../../../ceramic/runtime/src/ceramic/TextureTilePacker.hx",lineNumber:374,className:"ceramic.TextureTilePacker",methodName:"releaseTile"})})})},stamp:function(e,n,t){var i=new p,s=(i.set_anchorX(0),i.set_anchorY(0),e.frameHeight+2*this.margin),s=(i.set_width(e.frameWidth+2*this.margin),i.set_height(s),e.frameY-this.margin);if(i.set_x(e.frameX-this.margin),i.set_y(s),i.set_blending(4),0!=i.inheritAlpha&&(i.inheritAlpha=!1,i.visibilityDirty=!0,null!=i.children))for(var r=0,h=i.children.length;r<h;){var a=r++,o=i.children[a];if(o.visibilityDirty=!0,null!=o.children)for(var c=0,u=o.children.length;c<u;){var _=c++;o.children[_].set_visibilityDirty(!0)}}i.set_alpha(0),i.color=16777215;var d=n.transform,b=n.parent,s=(null!=b&&b.remove(n),i.add(n),n.set_transform(new l),n.transform);s.tx+=this.margin,s.ty+=this.margin,s.changedDirty=!0,e.texture.stamp(i,function(){i.remove(n),null!=b&&b.add(n),i.destroy(),i=null,n.set_transform(d),n=null,t(),t=null})},managesTexture:function(e){return this.texture==e||null!=this.nextPacker&&this.nextPacker.managesTexture(e)},__class__:L1}),function(e,n,t,i,l){this.usedRows=1,this.usedCols=1,this.row=-1,this.col=-1,I1.call(this,e,n,t,i,l)}),xt=((E["ceramic._TextureTilePacker.PackedTextureTile"]=Dt).__name__="ceramic._TextureTilePacker.PackedTextureTile",Dt.__super__=I1,Dt.prototype=$extend(I1.prototype,{col:null,row:null,usedCols:null,usedRows:null,__class__:Dt}),(E["ceramic.TileSlope"]=N1).__name__="ceramic.TileSlope",N1.prototype={index:null,rotation:null,y0:null,y1:null,__class__:N1},function(){this.layers=[],this.clipTilesHeight=-1,this.clipTilesWidth=-1,this.clipTilesY=-1,this.clipTilesX=-1,this.tileScale=1,this.tilemapData=null,this.roundTilesTranslation=1,p.call(this),this.flags|=16}),St=((E["ceramic.Tilemap"]=xt).__name__="ceramic.Tilemap",xt.__super__=p,xt.prototype=$extend(p.prototype,{__cbOnCreateLayer:null,__cbOnceCreateLayer:null,__cbOnOwnerUnbindCreateLayer:null,__cbOnceOwnerUnbindCreateLayer:null,emitCreateLayer:function(e,n){var t=0;if(null!=this.__cbOnCreateLayer&&(t+=this.__cbOnCreateLayer.length),null!=this.__cbOnceCreateLayer&&(t+=this.__cbOnceCreateLayer.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnCreateLayer)for(var r=0,h=this.__cbOnCreateLayer.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnCreateLayer[a],++s):--t}if(null!=this.__cbOnceCreateLayer){for(var o=null,c=null,r=0,h=this.__cbOnceCreateLayer.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceCreateLayer[a],this.__cbOnceCreateLayer[a]=null,u=this.__cbOnceOwnerUnbindCreateLayer[a],(this.__cbOnceOwnerUnbindCreateLayer[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindCreateLayer[a]),c.push(this.__cbOnceCreateLayer[a]))}this.__cbOnceOwnerUnbindCreateLayer=o,this.__cbOnceCreateLayer=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onCreateLayer:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event createLayer because owner is destroyed!");var l=function(e){null!=t&&(i.offCreateLayer(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindCreateLayer&&(this.__cbOnOwnerUnbindCreateLayer=[]),this.__cbOnOwnerUnbindCreateLayer.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindCreateLayer&&(this.__cbOnOwnerUnbindCreateLayer=[]),this.__cbOnOwnerUnbindCreateLayer.push(null);null==this.__cbOnCreateLayer&&(this.__cbOnCreateLayer=[]),this.__cbOnCreateLayer.push(t)},onceCreateLayer:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event createLayer because owner is destroyed!");var l=function(e){null!=t&&(i.offCreateLayer(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindCreateLayer&&(this.__cbOnceOwnerUnbindCreateLayer=[]),this.__cbOnceOwnerUnbindCreateLayer.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindCreateLayer&&(this.__cbOnceOwnerUnbindCreateLayer=[]),this.__cbOnceOwnerUnbindCreateLayer.push(null);null==this.__cbOnceCreateLayer&&(this.__cbOnceCreateLayer=[]),this.__cbOnceCreateLayer.push(t)},offCreateLayer:function(e){if(null!=e){var n;null!=this.__cbOnCreateLayer&&-1!=(n=this.__cbOnCreateLayer.indexOf(e))&&(this.__cbOnCreateLayer.splice(n,1),null!=(s=this.__cbOnOwnerUnbindCreateLayer[n])&&s(),this.__cbOnOwnerUnbindCreateLayer.splice(n,1)),null!=this.__cbOnceCreateLayer&&-1!=(n=this.__cbOnceCreateLayer.indexOf(e))&&(this.__cbOnceCreateLayer.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindCreateLayer[n])&&s(),this.__cbOnceOwnerUnbindCreateLayer.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindCreateLayer){for(var t=0,i=this.__cbOnOwnerUnbindCreateLayer.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindCreateLayer[l])&&s()}this.__cbOnOwnerUnbindCreateLayer=null}if(null!=this.__cbOnceOwnerUnbindCreateLayer){for(t=0,i=this.__cbOnceOwnerUnbindCreateLayer.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindCreateLayer[l])&&s()}this.__cbOnceOwnerUnbindCreateLayer=null}this.__cbOnCreateLayer=null,this.__cbOnceCreateLayer=null}},listensCreateLayer:function(){return null!=this.__cbOnCreateLayer&&0<this.__cbOnCreateLayer.length||null!=this.__cbOnceCreateLayer&&0<this.__cbOnceCreateLayer.length},roundTilesTranslation:null,set_roundTilesTranslation:function(e){if(this.roundTilesTranslation!=e){this.roundTilesTranslation=e,this.contentDirty=!0,ae.app.visualsContentDirty=!0;for(var n=0,t=this.layers.length;n<t;){var i=n++;this.layers[i].contentDirty=!0,ae.app.visualsContentDirty=!0}}return e},tilemapData:null,set_tilemapData:function(e){if(this.tilemapData!=e){this.tilemapData=e,this.contentDirty=!0,ae.app.visualsContentDirty=!0;for(var n=0,t=this.layers.length;n<t;){var i=n++;this.layers[i].contentDirty=!0,ae.app.visualsContentDirty=!0}}return e},tileScale:null,set_tileScale:function(e){if(this.tileScale!=e&&-1!=(this.tileScale=e))for(var n=0,t=this.layers.length;n<t;){var i=n++;this.layers[i].set_tileScale(e)}return e},clipTilesX:null,set_clipTilesX:function(e){if(this.clipTilesX!=e){this.clipTilesX=e,this.contentDirty=!0,ae.app.visualsContentDirty=!0;for(var n=0,t=this.layers.length;n<t;){var i=n++;this.layers[i].contentDirty=!0,ae.app.visualsContentDirty=!0}}return e},clipTilesY:null,set_clipTilesY:function(e){if(this.clipTilesY!=e){this.clipTilesY=e,this.contentDirty=!0,ae.app.visualsContentDirty=!0;for(var n=0,t=this.layers.length;n<t;){var i=n++;this.layers[i].contentDirty=!0,ae.app.visualsContentDirty=!0}}return e},clipTilesWidth:null,set_clipTilesWidth:function(e){if(this.clipTilesWidth!=e){this.clipTilesWidth=e,this.contentDirty=!0,ae.app.visualsContentDirty=!0;for(var n=0,t=this.layers.length;n<t;){var i=n++;this.layers[i].contentDirty=!0,ae.app.visualsContentDirty=!0}}return e},clipTilesHeight:null,set_clipTilesHeight:function(e){if(this.clipTilesHeight!=e){this.clipTilesHeight=e,this.contentDirty=!0,ae.app.visualsContentDirty=!0;for(var n=0,t=this.layers.length;n<t;){var i=n++;this.layers[i].contentDirty=!0,ae.app.visualsContentDirty=!0}}return e},layers:null,get_width:function(){return this.contentDirty&&this.computeContent(),p.prototype.get_width.call(this)},get_height:function(){return this.contentDirty&&this.computeContent(),p.prototype.get_height.call(this)},destroy:function(){if(!(this._lifecycleState<=-2)){this._lifecycleState=-2;var e=this.layers;if(null!=e)for(var n=0,t=(e=[].concat(e)).length;n<t;)e[n++].destroy();this._lifecycleState=-1,p.prototype.destroy.call(this)}},computeContent:function(){var e,n;null==this.tilemapData?(this.set_width(0),this.set_height(0),this.flags|=16,this.color=16777215):(e=this.tilemapData.get_width(),n=this.tilemapData.get_height(),this.set_width(e),this.set_height(n),-1!=this.tilemapData.get_backgroundColor()&&0<(this.tilemapData.get_backgroundColor()>>24&255)?(this.flags&=-17,this.set_alpha((this.tilemapData.get_backgroundColor()>>24&255)/255),e=this.tilemapData.get_backgroundColor(),this.color=((0&65535|(255<(n=e>>16&255)?255:n<0?0:n)<<16)&16711935|(255<(n=e>>8&255)?255:n<0?0:n)<<8)&16776960|(255<(n=255&e)?255:n<0?0:n)):(this.flags|=16,this.color=16777215),this.computeLayers()),this.contentDirty=!1},computeLayers:function(){for(var e=0,n=this.tileScale,t=0,i=this.tilemapData.get_layers().length;t<i;){var l,s=t++,r=this.tilemapData.get_layers()[s],h=!1;null==(l=e<this.layers.length?this.layers[e]:null)&&(h=!0,(l=new At).tilemap=this,-1!=n&&l.set_tileScale(n),l.set_depthRange(1),this.layers.push(l),this.add(l)),++e,null!=r.get_explicitDepth()?l.set_depth(r.get_explicitDepth()):l.set_depth(1+s),l.set_layerData(r),h&&this.emitCreateLayer(this,l)}for(;e<this.layers.length;)(l=this.layers.pop()).destroy()},clipTiles:function(e,n,t,i){this.set_clipTilesX(e),this.set_clipTilesY(n),this.set_clipTilesWidth(t),this.set_clipTilesHeight(i)},layer:function(e){this.contentDirty&&this.computeContent();for(var n=0,t=this.layers.length;n<t;){var i=n++,i=this.layers[i],l=i.layerData;if(null!=l&&l.get_name()==e)return i}return null},unbindEvents:function(){p.prototype.unbindEvents.call(this),this.offCreateLayer()},__class__:xt,__properties__:$extend(p.prototype.__properties__,{set_clipTilesHeight:"set_clipTilesHeight",set_clipTilesWidth:"set_clipTilesWidth",set_clipTilesY:"set_clipTilesY",set_clipTilesX:"set_clipTilesX",set_tileScale:"set_tileScale",set_tilemapData:"set_tilemapData",set_roundTilesTranslation:"set_roundTilesTranslation"})}),(E["ceramic.TilemapAsset"]=P1).__name__="ceramic.TilemapAsset",P1.__super__=Fa,P1.prototype=$extend(Fa.prototype,{tmxMapAutoruns:null,get_tmxMap:function(){var e,n,t=this.unobservedTmxMap;return null!=A.current&&(e=A.current,null!=(n=this.tmxMapAutoruns)||(n=A.getAutorunArray(),null!=(this.tmxMapAutoruns=n)))&&e.bindToAutorunArray(n),t},set_tmxMap:function(e){var n=this.unobservedTmxMap;return n!=(this.unobservedTmxMap=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitTmxMapChange(e,n),null!=(n=this.tmxMapAutoruns))&&(this.tmxMapAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateTmxMap:function(){var e=this.unobservedTmxMap,e=(this.emitTmxMapChange(e,e),this.tmxMapAutoruns);null!=e&&(this.tmxMapAutoruns=null,A.invalidateAutorunArray(e))},unobservedTmxMap:null,__cbOnTmxMapChange:null,__cbOnceTmxMapChange:null,__cbOnOwnerUnbindTmxMapChange:null,__cbOnceOwnerUnbindTmxMapChange:null,emitTmxMapChange:function(e,n){var t=0;if(null!=this.__cbOnTmxMapChange&&(t+=this.__cbOnTmxMapChange.length),null!=this.__cbOnceTmxMapChange&&(t+=this.__cbOnceTmxMapChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnTmxMapChange)for(var r=0,h=this.__cbOnTmxMapChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnTmxMapChange[a],++s):--t}if(null!=this.__cbOnceTmxMapChange){for(var o=null,c=null,r=0,h=this.__cbOnceTmxMapChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceTmxMapChange[a],this.__cbOnceTmxMapChange[a]=null,u=this.__cbOnceOwnerUnbindTmxMapChange[a],(this.__cbOnceOwnerUnbindTmxMapChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindTmxMapChange[a]),c.push(this.__cbOnceTmxMapChange[a]))}this.__cbOnceOwnerUnbindTmxMapChange=o,this.__cbOnceTmxMapChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onTmxMapChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event tmxMapChange because owner is destroyed!");var l=function(e){null!=t&&(i.offTmxMapChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindTmxMapChange&&(this.__cbOnOwnerUnbindTmxMapChange=[]),this.__cbOnOwnerUnbindTmxMapChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindTmxMapChange&&(this.__cbOnOwnerUnbindTmxMapChange=[]),this.__cbOnOwnerUnbindTmxMapChange.push(null);null==this.__cbOnTmxMapChange&&(this.__cbOnTmxMapChange=[]),this.__cbOnTmxMapChange.push(t)},onceTmxMapChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event tmxMapChange because owner is destroyed!");var l=function(e){null!=t&&(i.offTmxMapChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindTmxMapChange&&(this.__cbOnceOwnerUnbindTmxMapChange=[]),this.__cbOnceOwnerUnbindTmxMapChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindTmxMapChange&&(this.__cbOnceOwnerUnbindTmxMapChange=[]),this.__cbOnceOwnerUnbindTmxMapChange.push(null);null==this.__cbOnceTmxMapChange&&(this.__cbOnceTmxMapChange=[]),this.__cbOnceTmxMapChange.push(t)},offTmxMapChange:function(e){if(null!=e){var n;null!=this.__cbOnTmxMapChange&&-1!=(n=this.__cbOnTmxMapChange.indexOf(e))&&(this.__cbOnTmxMapChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindTmxMapChange[n])&&s(),this.__cbOnOwnerUnbindTmxMapChange.splice(n,1)),null!=this.__cbOnceTmxMapChange&&-1!=(n=this.__cbOnceTmxMapChange.indexOf(e))&&(this.__cbOnceTmxMapChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindTmxMapChange[n])&&s(),this.__cbOnceOwnerUnbindTmxMapChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindTmxMapChange){for(var t=0,i=this.__cbOnOwnerUnbindTmxMapChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindTmxMapChange[l])&&s()}this.__cbOnOwnerUnbindTmxMapChange=null}if(null!=this.__cbOnceOwnerUnbindTmxMapChange){for(t=0,i=this.__cbOnceOwnerUnbindTmxMapChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindTmxMapChange[l])&&s()}this.__cbOnceOwnerUnbindTmxMapChange=null}this.__cbOnTmxMapChange=null,this.__cbOnceTmxMapChange=null}},listensTmxMapChange:function(){return null!=this.__cbOnTmxMapChange&&0<this.__cbOnTmxMapChange.length||null!=this.__cbOnceTmxMapChange&&0<this.__cbOnceTmxMapChange.length},tilemapDataAutoruns:null,get_tilemapData:function(){var e,n,t=this.unobservedTilemapData;return null!=A.current&&(e=A.current,null!=(n=this.tilemapDataAutoruns)||(n=A.getAutorunArray(),null!=(this.tilemapDataAutoruns=n)))&&e.bindToAutorunArray(n),t},set_tilemapData:function(e){var n=this.unobservedTilemapData;return n!=(this.unobservedTilemapData=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitTilemapDataChange(e,n),null!=(n=this.tilemapDataAutoruns))&&(this.tilemapDataAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateTilemapData:function(){var e=this.unobservedTilemapData,e=(this.emitTilemapDataChange(e,e),this.tilemapDataAutoruns);null!=e&&(this.tilemapDataAutoruns=null,A.invalidateAutorunArray(e))},unobservedTilemapData:null,__cbOnTilemapDataChange:null,__cbOnceTilemapDataChange:null,__cbOnOwnerUnbindTilemapDataChange:null,__cbOnceOwnerUnbindTilemapDataChange:null,emitTilemapDataChange:function(e,n){var t=0;if(null!=this.__cbOnTilemapDataChange&&(t+=this.__cbOnTilemapDataChange.length),null!=this.__cbOnceTilemapDataChange&&(t+=this.__cbOnceTilemapDataChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnTilemapDataChange)for(var r=0,h=this.__cbOnTilemapDataChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnTilemapDataChange[a],++s):--t}if(null!=this.__cbOnceTilemapDataChange){for(var o=null,c=null,r=0,h=this.__cbOnceTilemapDataChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceTilemapDataChange[a],this.__cbOnceTilemapDataChange[a]=null,u=this.__cbOnceOwnerUnbindTilemapDataChange[a],(this.__cbOnceOwnerUnbindTilemapDataChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindTilemapDataChange[a]),c.push(this.__cbOnceTilemapDataChange[a]))}this.__cbOnceOwnerUnbindTilemapDataChange=o,this.__cbOnceTilemapDataChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onTilemapDataChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event tilemapDataChange because owner is destroyed!");var l=function(e){null!=t&&(i.offTilemapDataChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindTilemapDataChange&&(this.__cbOnOwnerUnbindTilemapDataChange=[]),this.__cbOnOwnerUnbindTilemapDataChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindTilemapDataChange&&(this.__cbOnOwnerUnbindTilemapDataChange=[]),this.__cbOnOwnerUnbindTilemapDataChange.push(null);null==this.__cbOnTilemapDataChange&&(this.__cbOnTilemapDataChange=[]),this.__cbOnTilemapDataChange.push(t)},onceTilemapDataChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event tilemapDataChange because owner is destroyed!");var l=function(e){null!=t&&(i.offTilemapDataChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindTilemapDataChange&&(this.__cbOnceOwnerUnbindTilemapDataChange=[]),this.__cbOnceOwnerUnbindTilemapDataChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindTilemapDataChange&&(this.__cbOnceOwnerUnbindTilemapDataChange=[]),this.__cbOnceOwnerUnbindTilemapDataChange.push(null);null==this.__cbOnceTilemapDataChange&&(this.__cbOnceTilemapDataChange=[]),this.__cbOnceTilemapDataChange.push(t)},offTilemapDataChange:function(e){if(null!=e){var n;null!=this.__cbOnTilemapDataChange&&-1!=(n=this.__cbOnTilemapDataChange.indexOf(e))&&(this.__cbOnTilemapDataChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindTilemapDataChange[n])&&s(),this.__cbOnOwnerUnbindTilemapDataChange.splice(n,1)),null!=this.__cbOnceTilemapDataChange&&-1!=(n=this.__cbOnceTilemapDataChange.indexOf(e))&&(this.__cbOnceTilemapDataChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindTilemapDataChange[n])&&s(),this.__cbOnceOwnerUnbindTilemapDataChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindTilemapDataChange){for(var t=0,i=this.__cbOnOwnerUnbindTilemapDataChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindTilemapDataChange[l])&&s()}this.__cbOnOwnerUnbindTilemapDataChange=null}if(null!=this.__cbOnceOwnerUnbindTilemapDataChange){for(t=0,i=this.__cbOnceOwnerUnbindTilemapDataChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindTilemapDataChange[l])&&s()}this.__cbOnceOwnerUnbindTilemapDataChange=null}this.__cbOnTilemapDataChange=null,this.__cbOnceTilemapDataChange=null}},listensTilemapDataChange:function(){return null!=this.__cbOnTilemapDataChange&&0<this.__cbOnTilemapDataChange.length||null!=this.__cbOnceTilemapDataChange&&0<this.__cbOnceTilemapDataChange.length},tsxRawData:null,load:function(){null!=this.owner&&(this.assets.inheritRuntimeAssetsFromAssets(this.owner),this.assets.loadMethod=this.owner.loadMethod,this.assets.scheduleMethod=this.owner.scheduleMethod,this.assets.delayBetweenXAssets=this.owner.delayBetweenXAssets),this.set_status(Me.LOADING),ae.app.logger.info("Load tilemap "+this.path,{fileName:"../../../../ceramic/plugins/tilemap/runtime/src/ceramic/TilemapAsset.hx",lineNumber:131,className:"ceramic.TilemapAsset",methodName:"load"}),this.assets.runtimeAssets=this.runtimeAssets,z.endsWith(this.path.toLowerCase(),".tmx")?this.loadTmxTiledMap():(this.set_status(Me.BROKEN),ae.app.logger.error("Unknown format for tilemap data at path: "+this.path,{fileName:"../../../../ceramic/plugins/tilemap/runtime/src/ceramic/TilemapAsset.hx",lineNumber:152,className:"ceramic.TilemapAsset",methodName:"load"}),this.emitComplete(!1))},loadTmxTiledMap:function(){var t=this,i=new ft(this.path),e=this.assets.addAsset(i);i.computePath(["tmx"],!1,this.runtimeAssets),null!=e&&e.destroy(),this.assets.onceComplete(this,function(e){var n=i.get_text();i.destroy(),null!=n&&0<n.length?t.loadExternalTsxTilesetData(n,function(e){e?(e=Ft.getTilemapParser(t.owner),t.set_tmxMap(e.parseTmx(n,Nn.directory(t.path),$bind(t,t.resolveTsxRawData))),t.set_tilemapData(e.tmxMapToTilemapData(t.get_tmxMap(),$bind(t,t.loadTextureFromSource))),null!=t.get_tilemapData()?((t.get_tilemapData().asset=t).assets.onceComplete(t,function(e){e?(t.set_status(Me.READY),t.emitComplete(!0),t.handleTexturesDensityChange&&t.checkTexturesDensity()):(t.set_status(Me.BROKEN),ae.app.logger.error("Failed to load tilemap textures at path: "+t.path,{fileName:"../../../../ceramic/plugins/tilemap/runtime/src/ceramic/TilemapAsset.hx",lineNumber:216,className:"ceramic.TilemapAsset",methodName:"loadTmxTiledMap"}),t.emitComplete(!1))}),t.assets.load(!1,{fileName:"../../../../ceramic/plugins/tilemap/runtime/src/ceramic/TilemapAsset.hx",lineNumber:222,className:"ceramic.TilemapAsset",methodName:"loadTmxTiledMap"})):(t.set_status(Me.BROKEN),ae.app.logger.error("Failed to load tilemap data at path: "+t.path,{fileName:"../../../../ceramic/plugins/tilemap/runtime/src/ceramic/TilemapAsset.hx",lineNumber:227,className:"ceramic.TilemapAsset",methodName:"loadTmxTiledMap"}),t.emitComplete(!1))):(t.set_status(Me.BROKEN),ae.app.logger.error("Failed to load external tilesets of map: "+t.path,{fileName:"../../../../ceramic/plugins/tilemap/runtime/src/ceramic/TilemapAsset.hx",lineNumber:234,className:"ceramic.TilemapAsset",methodName:"loadTmxTiledMap"}),t.emitComplete(!1))}):(t.set_status(Me.BROKEN),ae.app.logger.error("Failed to load raw tilemap data at path: "+t.path,{fileName:"../../../../ceramic/plugins/tilemap/runtime/src/ceramic/TilemapAsset.hx",lineNumber:243,className:"ceramic.TilemapAsset",methodName:"loadTmxTiledMap"}),t.emitComplete(!1))}),this.assets.load(null,{fileName:"../../../../ceramic/plugins/tilemap/runtime/src/ceramic/TilemapAsset.hx",lineNumber:249,className:"ceramic.TilemapAsset",methodName:"loadTmxTiledMap"})},loadExternalTsxTilesetData:function(e,s){var r=this,n=Ft.getTilemapParser(this.owner),h=Ft.getRawTsxCache(this.owner),a=n.parseExternalTilesetNames(e);if(null==a||0==a.length)s(!0);else{for(var o=null,t=(null==this.tsxRawData&&(this.tsxRawData=new Nl),0);t<a.length;){var i=a[t],l=(++t,Nn.join([Nn.directory(r.path),i]));null!=(l=h.h[l])?this.tsxRawData.h[i]=l:(null==o&&(o=new Oe),this.addTilesetTextAsset(o,i))}null!=o?(o.onceComplete(this,function(e){if(e){for(var n=0;n<a.length;){var t=a[n],i=(++n,Oe.decodePath(Nn.join([Nn.directory(r.path),t]))),i=o.text(i.name),l=Nn.join([Nn.directory(r.path),t]);r.tsxRawData.h[t]=i,h.h[l]=i}o.destroy(),s(!0)}else o.destroy(),s(!1)}),o.load(null,{fileName:"../../../../ceramic/plugins/tilemap/runtime/src/ceramic/TilemapAsset.hx",lineNumber:322,className:"ceramic.TilemapAsset",methodName:"loadExternalTsxTilesetData"})):s(!0)}},addTilesetTextAsset:function(e,n){var n=Nn.join([Nn.directory(this.path),n]),n=Oe.decodePath(n),t=new ft(n.name);t.set_path(n.path),e.addAsset(t)},resolveTsxRawData:function(e,n){return null!=this.tsxRawData?this.tsxRawData.h[e]:null},loadTextureFromSource:function(e,n,t){var i=this;if(null!=e){var l=Oe.decodePath(Nn.join([Nn.directory(this.path),e])),s=this.owner.texture(l.name);if(null==s){var r=this.owner.imageAsset(l.name);if(null!=r)switch(r.get_status()._hx_index){case 0:case 1:r.onceComplete(this,function(e){e?(e=i.owner.texture(r.name),t(e)):t(null)});break;case 2:case 3:t(null)}else{var h=new fn(l.name);null!=n&&n(h),h.set_handleTexturesDensityChange(!0),h.onDestroy(this,function(e){}),this.assets.addAsset(h),this.assets.onceComplete(this,function(e){e&&((e=i.assets.texture(h.name)).set_filter(Tt.NEAREST),i.owner.addAsset(h),t(e))})}}else t(s)}else ae.app.logger.warning("Cannot load texture for source: "+e,{fileName:"../../../../ceramic/plugins/tilemap/runtime/src/ceramic/TilemapAsset.hx",lineNumber:447,className:"ceramic.TilemapAsset",methodName:"loadTextureFromSource"})},texturesDensityDidChange:function(e,n){this.get_status()==Me.READY&&this.checkTexturesDensity()},checkTexturesDensity:function(){},assetFilesDidChange:function(e,n){var t=-1,n=(Object.prototype.hasOwnProperty.call(n.h,this.path)&&(t=n.h[this.path]),-1);(n=Object.prototype.hasOwnProperty.call(e.h,this.path)?e.h[this.path]:n)!=t&&(ae.app.logger.info("Reload tilemap (file has changed)",{fileName:"../../../../ceramic/plugins/tilemap/runtime/src/ceramic/TilemapAsset.hx",lineNumber:660,className:"ceramic.TilemapAsset",methodName:"assetFilesDidChange"}),this.load())},destroy:function(){this._lifecycleState<=-2||(this._lifecycleState=-2,this._lifecycleState=-1,Fa.prototype.destroy.call(this),null!=this.get_tilemapData()&&(this.get_tilemapData().destroy(),this.set_tilemapData(null)),null!=this.get_tmxMap()&&this.set_tmxMap(null))},unbindEvents:function(){Fa.prototype.unbindEvents.call(this),this.offTmxMapChange(),this.offTilemapDataChange()},__class__:P1,__properties__:$extend(Fa.prototype.__properties__,{set_tilemapData:"set_tilemapData",get_tilemapData:"get_tilemapData",set_tmxMap:"set_tmxMap",get_tmxMap:"get_tmxMap"})}),(E["tracker.Serializable"]=Q1).__name__="tracker.Serializable",Q1.__isInterface__=!0,Q1.prototype={_serializeId:null,willSerialize:null,didDeserialize:null,__class__:Q1},(E["tracker.Model"]=R1).__name__="tracker.Model",R1.__interfaces__=[Q1,s],R1.__super__=j,R1.prototype=$extend(j.prototype,{__cbOnObservedDirty:null,__cbOnceObservedDirty:null,__cbOnOwnerUnbindObservedDirty:null,__cbOnceOwnerUnbindObservedDirty:null,emitObservedDirty:function(e,n){var t=0;if(null!=this.__cbOnObservedDirty&&(t+=this.__cbOnObservedDirty.length),null!=this.__cbOnceObservedDirty&&(t+=this.__cbOnceObservedDirty.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnObservedDirty)for(var r=0,h=this.__cbOnObservedDirty.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnObservedDirty[a],++s):--t}if(null!=this.__cbOnceObservedDirty){for(var o=null,c=null,r=0,h=this.__cbOnceObservedDirty.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceObservedDirty[a],this.__cbOnceObservedDirty[a]=null,u=this.__cbOnceOwnerUnbindObservedDirty[a],(this.__cbOnceOwnerUnbindObservedDirty[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindObservedDirty[a]),c.push(this.__cbOnceObservedDirty[a]))}this.__cbOnceOwnerUnbindObservedDirty=o,this.__cbOnceObservedDirty=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onObservedDirty:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event observedDirty because owner is destroyed!");var l=function(e){null!=t&&(i.offObservedDirty(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push(null);null==this.__cbOnObservedDirty&&(this.__cbOnObservedDirty=[]),this.__cbOnObservedDirty.push(t)},onceObservedDirty:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event observedDirty because owner is destroyed!");var l=function(e){null!=t&&(i.offObservedDirty(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push(null);null==this.__cbOnceObservedDirty&&(this.__cbOnceObservedDirty=[]),this.__cbOnceObservedDirty.push(t)},offObservedDirty:function(e){if(null!=e){var n;null!=this.__cbOnObservedDirty&&-1!=(n=this.__cbOnObservedDirty.indexOf(e))&&(this.__cbOnObservedDirty.splice(n,1),null!=(s=this.__cbOnOwnerUnbindObservedDirty[n])&&s(),this.__cbOnOwnerUnbindObservedDirty.splice(n,1)),null!=this.__cbOnceObservedDirty&&-1!=(n=this.__cbOnceObservedDirty.indexOf(e))&&(this.__cbOnceObservedDirty.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindObservedDirty[n])&&s(),this.__cbOnceOwnerUnbindObservedDirty.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindObservedDirty){for(var t=0,i=this.__cbOnOwnerUnbindObservedDirty.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindObservedDirty[l])&&s()}this.__cbOnOwnerUnbindObservedDirty=null}if(null!=this.__cbOnceOwnerUnbindObservedDirty){for(t=0,i=this.__cbOnceOwnerUnbindObservedDirty.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindObservedDirty[l])&&s()}this.__cbOnceOwnerUnbindObservedDirty=null}this.__cbOnObservedDirty=null,this.__cbOnceObservedDirty=null}},listensObservedDirty:function(){return null!=this.__cbOnObservedDirty&&0<this.__cbOnObservedDirty.length||null!=this.__cbOnceObservedDirty&&0<this.__cbOnceObservedDirty.length},observedDirty:null,__cbOnModelDirty:null,__cbOnceModelDirty:null,__cbOnOwnerUnbindModelDirty:null,__cbOnceOwnerUnbindModelDirty:null,emitModelDirty:function(e){var n=0;if(null!=this.__cbOnModelDirty&&(n+=this.__cbOnModelDirty.length),null!=this.__cbOnceModelDirty&&(n+=this.__cbOnceModelDirty.length),0<n){var t=C.pool(n),i=t.get(),l=0;if(null!=this.__cbOnModelDirty)for(var s=0,r=this.__cbOnModelDirty.length;s<r;){var h=s++;!0?(i.vector[l]=this.__cbOnModelDirty[h],++l):--n}if(null!=this.__cbOnceModelDirty){for(var a=null,o=null,s=0,r=this.__cbOnceModelDirty.length;s<r;){var c,h=s++;!0?(i.vector[l]=this.__cbOnceModelDirty[h],this.__cbOnceModelDirty[h]=null,c=this.__cbOnceOwnerUnbindModelDirty[h],(this.__cbOnceOwnerUnbindModelDirty[h]=null)!=c&&c(),++l):(--n,null==a&&(a=[],o=[],0),a.push(this.__cbOnceOwnerUnbindModelDirty[h]),o.push(this.__cbOnceModelDirty[h]))}this.__cbOnceOwnerUnbindModelDirty=a,this.__cbOnceModelDirty=o}for(s=0,r=n;s<r;){l=s++;(0,i.vector[l])(e)}t.release(i)}},onModelDirty:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event modelDirty because owner is destroyed!");var l=function(e){null!=t&&(i.offModelDirty(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindModelDirty&&(this.__cbOnOwnerUnbindModelDirty=[]),this.__cbOnOwnerUnbindModelDirty.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindModelDirty&&(this.__cbOnOwnerUnbindModelDirty=[]),this.__cbOnOwnerUnbindModelDirty.push(null);null==this.__cbOnModelDirty&&(this.__cbOnModelDirty=[]),this.__cbOnModelDirty.push(t)},onceModelDirty:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event modelDirty because owner is destroyed!");var l=function(e){null!=t&&(i.offModelDirty(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindModelDirty&&(this.__cbOnceOwnerUnbindModelDirty=[]),this.__cbOnceOwnerUnbindModelDirty.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindModelDirty&&(this.__cbOnceOwnerUnbindModelDirty=[]),this.__cbOnceOwnerUnbindModelDirty.push(null);null==this.__cbOnceModelDirty&&(this.__cbOnceModelDirty=[]),this.__cbOnceModelDirty.push(t)},offModelDirty:function(e){if(null!=e){var n;null!=this.__cbOnModelDirty&&-1!=(n=this.__cbOnModelDirty.indexOf(e))&&(this.__cbOnModelDirty.splice(n,1),null!=(s=this.__cbOnOwnerUnbindModelDirty[n])&&s(),this.__cbOnOwnerUnbindModelDirty.splice(n,1)),null!=this.__cbOnceModelDirty&&-1!=(n=this.__cbOnceModelDirty.indexOf(e))&&(this.__cbOnceModelDirty.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindModelDirty[n])&&s(),this.__cbOnceOwnerUnbindModelDirty.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindModelDirty){for(var t=0,i=this.__cbOnOwnerUnbindModelDirty.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindModelDirty[l])&&s()}this.__cbOnOwnerUnbindModelDirty=null}if(null!=this.__cbOnceOwnerUnbindModelDirty){for(t=0,i=this.__cbOnceOwnerUnbindModelDirty.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindModelDirty[l])&&s()}this.__cbOnceOwnerUnbindModelDirty=null}this.__cbOnModelDirty=null,this.__cbOnceModelDirty=null}},listensModelDirty:function(){return null!=this.__cbOnModelDirty&&0<this.__cbOnModelDirty.length||null!=this.__cbOnceModelDirty&&0<this.__cbOnceModelDirty.length},serializer:null,set_serializer:function(e){return this.serializer==e?this.serializer:(null!=this.serializer&&this.serializer.destroy(),this.serializer=e,null!=this.serializer?(this.component("serializer",this.serializer,!0),this.serializer):(this.removeComponent("serializer"),null))},sharer:null,set_sharer:function(e){return this.sharer==e?this.sharer:(null!=this.sharer&&this.sharer.destroy(),this.sharer=e,null!=this.sharer?(this.component("sharer",this.sharer,!0),this.sharer):(this.removeComponent("sharer"),null))},dirty:null,set_dirty:function(e){return e!=this.dirty&&(this.dirty=e)&&this.emitModelDirty(this),e},willSerialize:function(){},didDeserialize:function(){},serializeShouldDestroy:function(){return!0},hxSerialize:function(e){e.serialize(oe.serializeValue(this))},hxUnserialize:function(e){oe.deserializeValue(e.unserialize(),this)},_default_dirty:function(){return!1},_serializeId:null,__cbOnSerialize:null,__cbOnceSerialize:null,__cbOnOwnerUnbindSerialize:null,__cbOnceOwnerUnbindSerialize:null,emitSerialize:function(){var e=0;if(null!=this.__cbOnSerialize&&(e+=this.__cbOnSerialize.length),null!=this.__cbOnceSerialize&&(e+=this.__cbOnceSerialize.length),0<e){var n=C.pool(e),t=n.get(),i=0;if(null!=this.__cbOnSerialize)for(var l=0,s=this.__cbOnSerialize.length;l<s;){var r=l++;!0?(t.vector[i]=this.__cbOnSerialize[r],++i):--e}if(null!=this.__cbOnceSerialize){for(var h=null,a=null,l=0,s=this.__cbOnceSerialize.length;l<s;){var o,r=l++;!0?(t.vector[i]=this.__cbOnceSerialize[r],this.__cbOnceSerialize[r]=null,o=this.__cbOnceOwnerUnbindSerialize[r],(this.__cbOnceOwnerUnbindSerialize[r]=null)!=o&&o(),++i):(--e,null==h&&(h=[],a=[],0),h.push(this.__cbOnceOwnerUnbindSerialize[r]),a.push(this.__cbOnceSerialize[r]))}this.__cbOnceOwnerUnbindSerialize=h,this.__cbOnceSerialize=a}for(l=0,s=e;l<s;){i=l++;(0,t.vector[i])()}n.release(t)}},onSerialize:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event serialize because owner is destroyed!");var l=function(e){null!=t&&(i.offSerialize(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindSerialize&&(this.__cbOnOwnerUnbindSerialize=[]),this.__cbOnOwnerUnbindSerialize.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindSerialize&&(this.__cbOnOwnerUnbindSerialize=[]),this.__cbOnOwnerUnbindSerialize.push(null);null==this.__cbOnSerialize&&(this.__cbOnSerialize=[]),this.__cbOnSerialize.push(t)},onceSerialize:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event serialize because owner is destroyed!");var l=function(e){null!=t&&(i.offSerialize(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindSerialize&&(this.__cbOnceOwnerUnbindSerialize=[]),this.__cbOnceOwnerUnbindSerialize.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindSerialize&&(this.__cbOnceOwnerUnbindSerialize=[]),this.__cbOnceOwnerUnbindSerialize.push(null);null==this.__cbOnceSerialize&&(this.__cbOnceSerialize=[]),this.__cbOnceSerialize.push(t)},offSerialize:function(e){if(null!=e){var n;null!=this.__cbOnSerialize&&-1!=(n=this.__cbOnSerialize.indexOf(e))&&(this.__cbOnSerialize.splice(n,1),null!=(s=this.__cbOnOwnerUnbindSerialize[n])&&s(),this.__cbOnOwnerUnbindSerialize.splice(n,1)),null!=this.__cbOnceSerialize&&-1!=(n=this.__cbOnceSerialize.indexOf(e))&&(this.__cbOnceSerialize.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindSerialize[n])&&s(),this.__cbOnceOwnerUnbindSerialize.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindSerialize){for(var t=0,i=this.__cbOnOwnerUnbindSerialize.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindSerialize[l])&&s()}this.__cbOnOwnerUnbindSerialize=null}if(null!=this.__cbOnceOwnerUnbindSerialize){for(t=0,i=this.__cbOnceOwnerUnbindSerialize.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindSerialize[l])&&s()}this.__cbOnceOwnerUnbindSerialize=null}this.__cbOnSerialize=null,this.__cbOnceSerialize=null}},listensSerialize:function(){return null!=this.__cbOnSerialize&&0<this.__cbOnSerialize.length||null!=this.__cbOnceSerialize&&0<this.__cbOnceSerialize.length},unbindEvents:function(){j.prototype.unbindEvents.call(this),this.offSerialize(),this.offDeserialize(),this.offObservedDirty(),this.offModelDirty()},__cbOnDeserialize:null,__cbOnceDeserialize:null,__cbOnOwnerUnbindDeserialize:null,__cbOnceOwnerUnbindDeserialize:null,emitDeserialize:function(){var e=0;if(null!=this.__cbOnDeserialize&&(e+=this.__cbOnDeserialize.length),null!=this.__cbOnceDeserialize&&(e+=this.__cbOnceDeserialize.length),0<e){var n=C.pool(e),t=n.get(),i=0;if(null!=this.__cbOnDeserialize)for(var l=0,s=this.__cbOnDeserialize.length;l<s;){var r=l++;!0?(t.vector[i]=this.__cbOnDeserialize[r],++i):--e}if(null!=this.__cbOnceDeserialize){for(var h=null,a=null,l=0,s=this.__cbOnceDeserialize.length;l<s;){var o,r=l++;!0?(t.vector[i]=this.__cbOnceDeserialize[r],this.__cbOnceDeserialize[r]=null,o=this.__cbOnceOwnerUnbindDeserialize[r],(this.__cbOnceOwnerUnbindDeserialize[r]=null)!=o&&o(),++i):(--e,null==h&&(h=[],a=[],0),h.push(this.__cbOnceOwnerUnbindDeserialize[r]),a.push(this.__cbOnceDeserialize[r]))}this.__cbOnceOwnerUnbindDeserialize=h,this.__cbOnceDeserialize=a}for(l=0,s=e;l<s;){i=l++;(0,t.vector[i])()}n.release(t)}},onDeserialize:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event deserialize because owner is destroyed!");var l=function(e){null!=t&&(i.offDeserialize(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindDeserialize&&(this.__cbOnOwnerUnbindDeserialize=[]),this.__cbOnOwnerUnbindDeserialize.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindDeserialize&&(this.__cbOnOwnerUnbindDeserialize=[]),this.__cbOnOwnerUnbindDeserialize.push(null);null==this.__cbOnDeserialize&&(this.__cbOnDeserialize=[]),this.__cbOnDeserialize.push(t)},onceDeserialize:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event deserialize because owner is destroyed!");var l=function(e){null!=t&&(i.offDeserialize(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindDeserialize&&(this.__cbOnceOwnerUnbindDeserialize=[]),this.__cbOnceOwnerUnbindDeserialize.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindDeserialize&&(this.__cbOnceOwnerUnbindDeserialize=[]),this.__cbOnceOwnerUnbindDeserialize.push(null);null==this.__cbOnceDeserialize&&(this.__cbOnceDeserialize=[]),this.__cbOnceDeserialize.push(t)},offDeserialize:function(e){if(null!=e){var n;null!=this.__cbOnDeserialize&&-1!=(n=this.__cbOnDeserialize.indexOf(e))&&(this.__cbOnDeserialize.splice(n,1),null!=(s=this.__cbOnOwnerUnbindDeserialize[n])&&s(),this.__cbOnOwnerUnbindDeserialize.splice(n,1)),null!=this.__cbOnceDeserialize&&-1!=(n=this.__cbOnceDeserialize.indexOf(e))&&(this.__cbOnceDeserialize.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindDeserialize[n])&&s(),this.__cbOnceOwnerUnbindDeserialize.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindDeserialize){for(var t=0,i=this.__cbOnOwnerUnbindDeserialize.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindDeserialize[l])&&s()}this.__cbOnOwnerUnbindDeserialize=null}if(null!=this.__cbOnceOwnerUnbindDeserialize){for(t=0,i=this.__cbOnceOwnerUnbindDeserialize.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindDeserialize[l])&&s()}this.__cbOnceOwnerUnbindDeserialize=null}this.__cbOnDeserialize=null,this.__cbOnceDeserialize=null}},listensDeserialize:function(){return null!=this.__cbOnDeserialize&&0<this.__cbOnDeserialize.length||null!=this.__cbOnceDeserialize&&0<this.__cbOnceDeserialize.length},__class__:R1,__properties__:$extend(j.prototype.__properties__,{set_dirty:"set_dirty",set_sharer:"set_sharer",set_serializer:"set_serializer"})}),function(){this.unobservedLayers=[],this.layersAutoruns=null,this.unobservedTilesets=[],this.tilesetsAutoruns=null,this.computedOnceMaxTileHeight=!1,this.maxTileHeightAutoruns=null,this.computedOnceMaxTileWidth=!1,this.maxTileWidthAutoruns=null;var e=0,n=-1;this.unobservedBackgroundColor=n&16777215|(255<(e=null==e?255:e)?255:e<0?0:e)<<24,this.backgroundColorAutoruns=null,this.unobservedStaggerIndex=Rt.ODD,this.staggerIndexAutoruns=null,this.unobservedStaggerAxis=Et.AXIS_X,this.staggerAxisAutoruns=null,this.unobservedHexSideLength=-1,this.hexSideLengthAutoruns=null,this.unobservedRenderOrder=Bt.RIGHT_DOWN,this.renderOrderAutoruns=null,this.unobservedHeight=-1,this.heightAutoruns=null,this.unobservedWidth=-1,this.widthAutoruns=null,this.unobservedOrientation=Pt.ORTHOGONAL,this.orientationAutoruns=null,this.unobservedName=null,this.nameAutoruns=null,R1.call(this)}),At=((E["ceramic.TilemapData"]=St).__name__="ceramic.TilemapData",St.__super__=R1,St.prototype=$extend(R1.prototype,{nameAutoruns:null,get_name:function(){var e,n,t=this.unobservedName;return null!=A.current&&(e=A.current,null!=(n=this.nameAutoruns)||(n=A.getAutorunArray(),null!=(this.nameAutoruns=n)))&&e.bindToAutorunArray(n),t},set_name:function(e){var n=this.unobservedName;return n!=(this.unobservedName=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!0)),this.emitNameChange(e,n),null!=(n=this.nameAutoruns))&&(this.nameAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateName:function(){var e=this.unobservedName,e=(this.emitNameChange(e,e),this.nameAutoruns);null!=e&&(this.nameAutoruns=null,A.invalidateAutorunArray(e))},unobservedName:null,__cbOnNameChange:null,__cbOnceNameChange:null,__cbOnOwnerUnbindNameChange:null,__cbOnceOwnerUnbindNameChange:null,emitNameChange:function(e,n){var t=0;if(null!=this.__cbOnNameChange&&(t+=this.__cbOnNameChange.length),null!=this.__cbOnceNameChange&&(t+=this.__cbOnceNameChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnNameChange)for(var r=0,h=this.__cbOnNameChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnNameChange[a],++s):--t}if(null!=this.__cbOnceNameChange){for(var o=null,c=null,r=0,h=this.__cbOnceNameChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceNameChange[a],this.__cbOnceNameChange[a]=null,u=this.__cbOnceOwnerUnbindNameChange[a],(this.__cbOnceOwnerUnbindNameChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindNameChange[a]),c.push(this.__cbOnceNameChange[a]))}this.__cbOnceOwnerUnbindNameChange=o,this.__cbOnceNameChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onNameChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event nameChange because owner is destroyed!");var l=function(e){null!=t&&(i.offNameChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindNameChange&&(this.__cbOnOwnerUnbindNameChange=[]),this.__cbOnOwnerUnbindNameChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindNameChange&&(this.__cbOnOwnerUnbindNameChange=[]),this.__cbOnOwnerUnbindNameChange.push(null);null==this.__cbOnNameChange&&(this.__cbOnNameChange=[]),this.__cbOnNameChange.push(t)},onceNameChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event nameChange because owner is destroyed!");var l=function(e){null!=t&&(i.offNameChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindNameChange&&(this.__cbOnceOwnerUnbindNameChange=[]),this.__cbOnceOwnerUnbindNameChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindNameChange&&(this.__cbOnceOwnerUnbindNameChange=[]),this.__cbOnceOwnerUnbindNameChange.push(null);null==this.__cbOnceNameChange&&(this.__cbOnceNameChange=[]),this.__cbOnceNameChange.push(t)},offNameChange:function(e){if(null!=e){var n;null!=this.__cbOnNameChange&&-1!=(n=this.__cbOnNameChange.indexOf(e))&&(this.__cbOnNameChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindNameChange[n])&&s(),this.__cbOnOwnerUnbindNameChange.splice(n,1)),null!=this.__cbOnceNameChange&&-1!=(n=this.__cbOnceNameChange.indexOf(e))&&(this.__cbOnceNameChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindNameChange[n])&&s(),this.__cbOnceOwnerUnbindNameChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindNameChange){for(var t=0,i=this.__cbOnOwnerUnbindNameChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindNameChange[l])&&s()}this.__cbOnOwnerUnbindNameChange=null}if(null!=this.__cbOnceOwnerUnbindNameChange){for(t=0,i=this.__cbOnceOwnerUnbindNameChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindNameChange[l])&&s()}this.__cbOnceOwnerUnbindNameChange=null}this.__cbOnNameChange=null,this.__cbOnceNameChange=null}},listensNameChange:function(){return null!=this.__cbOnNameChange&&0<this.__cbOnNameChange.length||null!=this.__cbOnceNameChange&&0<this.__cbOnceNameChange.length},orientationAutoruns:null,get_orientation:function(){var e,n,t=this.unobservedOrientation;return null!=A.current&&(e=A.current,null!=(n=this.orientationAutoruns)||(n=A.getAutorunArray(),null!=(this.orientationAutoruns=n)))&&e.bindToAutorunArray(n),t},set_orientation:function(e){var n=this.unobservedOrientation;return n!=(this.unobservedOrientation=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!0)),this.emitOrientationChange(e,n),null!=(n=this.orientationAutoruns))&&(this.orientationAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateOrientation:function(){var e=this.unobservedOrientation,e=(this.emitOrientationChange(e,e),this.orientationAutoruns);null!=e&&(this.orientationAutoruns=null,A.invalidateAutorunArray(e))},unobservedOrientation:null,__cbOnOrientationChange:null,__cbOnceOrientationChange:null,__cbOnOwnerUnbindOrientationChange:null,__cbOnceOwnerUnbindOrientationChange:null,emitOrientationChange:function(e,n){var t=0;if(null!=this.__cbOnOrientationChange&&(t+=this.__cbOnOrientationChange.length),null!=this.__cbOnceOrientationChange&&(t+=this.__cbOnceOrientationChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnOrientationChange)for(var r=0,h=this.__cbOnOrientationChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnOrientationChange[a],++s):--t}if(null!=this.__cbOnceOrientationChange){for(var o=null,c=null,r=0,h=this.__cbOnceOrientationChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceOrientationChange[a],this.__cbOnceOrientationChange[a]=null,u=this.__cbOnceOwnerUnbindOrientationChange[a],(this.__cbOnceOwnerUnbindOrientationChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindOrientationChange[a]),c.push(this.__cbOnceOrientationChange[a]))}this.__cbOnceOwnerUnbindOrientationChange=o,this.__cbOnceOrientationChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onOrientationChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event orientationChange because owner is destroyed!");var l=function(e){null!=t&&(i.offOrientationChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindOrientationChange&&(this.__cbOnOwnerUnbindOrientationChange=[]),this.__cbOnOwnerUnbindOrientationChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindOrientationChange&&(this.__cbOnOwnerUnbindOrientationChange=[]),this.__cbOnOwnerUnbindOrientationChange.push(null);null==this.__cbOnOrientationChange&&(this.__cbOnOrientationChange=[]),this.__cbOnOrientationChange.push(t)},onceOrientationChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event orientationChange because owner is destroyed!");var l=function(e){null!=t&&(i.offOrientationChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindOrientationChange&&(this.__cbOnceOwnerUnbindOrientationChange=[]),this.__cbOnceOwnerUnbindOrientationChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindOrientationChange&&(this.__cbOnceOwnerUnbindOrientationChange=[]),this.__cbOnceOwnerUnbindOrientationChange.push(null);null==this.__cbOnceOrientationChange&&(this.__cbOnceOrientationChange=[]),this.__cbOnceOrientationChange.push(t)},offOrientationChange:function(e){if(null!=e){var n;null!=this.__cbOnOrientationChange&&-1!=(n=this.__cbOnOrientationChange.indexOf(e))&&(this.__cbOnOrientationChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindOrientationChange[n])&&s(),this.__cbOnOwnerUnbindOrientationChange.splice(n,1)),null!=this.__cbOnceOrientationChange&&-1!=(n=this.__cbOnceOrientationChange.indexOf(e))&&(this.__cbOnceOrientationChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindOrientationChange[n])&&s(),this.__cbOnceOwnerUnbindOrientationChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindOrientationChange){for(var t=0,i=this.__cbOnOwnerUnbindOrientationChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindOrientationChange[l])&&s()}this.__cbOnOwnerUnbindOrientationChange=null}if(null!=this.__cbOnceOwnerUnbindOrientationChange){for(t=0,i=this.__cbOnceOwnerUnbindOrientationChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindOrientationChange[l])&&s()}this.__cbOnceOwnerUnbindOrientationChange=null}this.__cbOnOrientationChange=null,this.__cbOnceOrientationChange=null}},listensOrientationChange:function(){return null!=this.__cbOnOrientationChange&&0<this.__cbOnOrientationChange.length||null!=this.__cbOnceOrientationChange&&0<this.__cbOnceOrientationChange.length},widthAutoruns:null,get_width:function(){var e,n,t=this.unobservedWidth;return null!=A.current&&(e=A.current,null!=(n=this.widthAutoruns)||(n=A.getAutorunArray(),null!=(this.widthAutoruns=n)))&&e.bindToAutorunArray(n),t},set_width:function(e){var n=this.unobservedWidth;return n!=(this.unobservedWidth=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!0)),this.emitWidthChange(e,n),null!=(n=this.widthAutoruns))&&(this.widthAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateWidth:function(){var e=this.unobservedWidth,e=(this.emitWidthChange(e,e),this.widthAutoruns);null!=e&&(this.widthAutoruns=null,A.invalidateAutorunArray(e))},unobservedWidth:null,__cbOnWidthChange:null,__cbOnceWidthChange:null,__cbOnOwnerUnbindWidthChange:null,__cbOnceOwnerUnbindWidthChange:null,emitWidthChange:function(e,n){var t=0;if(null!=this.__cbOnWidthChange&&(t+=this.__cbOnWidthChange.length),null!=this.__cbOnceWidthChange&&(t+=this.__cbOnceWidthChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnWidthChange)for(var r=0,h=this.__cbOnWidthChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnWidthChange[a],++s):--t}if(null!=this.__cbOnceWidthChange){for(var o=null,c=null,r=0,h=this.__cbOnceWidthChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceWidthChange[a],this.__cbOnceWidthChange[a]=null,u=this.__cbOnceOwnerUnbindWidthChange[a],(this.__cbOnceOwnerUnbindWidthChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindWidthChange[a]),c.push(this.__cbOnceWidthChange[a]))}this.__cbOnceOwnerUnbindWidthChange=o,this.__cbOnceWidthChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onWidthChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event widthChange because owner is destroyed!");var l=function(e){null!=t&&(i.offWidthChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindWidthChange&&(this.__cbOnOwnerUnbindWidthChange=[]),this.__cbOnOwnerUnbindWidthChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindWidthChange&&(this.__cbOnOwnerUnbindWidthChange=[]),this.__cbOnOwnerUnbindWidthChange.push(null);null==this.__cbOnWidthChange&&(this.__cbOnWidthChange=[]),this.__cbOnWidthChange.push(t)},onceWidthChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event widthChange because owner is destroyed!");var l=function(e){null!=t&&(i.offWidthChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindWidthChange&&(this.__cbOnceOwnerUnbindWidthChange=[]),this.__cbOnceOwnerUnbindWidthChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindWidthChange&&(this.__cbOnceOwnerUnbindWidthChange=[]),this.__cbOnceOwnerUnbindWidthChange.push(null);null==this.__cbOnceWidthChange&&(this.__cbOnceWidthChange=[]),this.__cbOnceWidthChange.push(t)},offWidthChange:function(e){if(null!=e){var n;null!=this.__cbOnWidthChange&&-1!=(n=this.__cbOnWidthChange.indexOf(e))&&(this.__cbOnWidthChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindWidthChange[n])&&s(),this.__cbOnOwnerUnbindWidthChange.splice(n,1)),null!=this.__cbOnceWidthChange&&-1!=(n=this.__cbOnceWidthChange.indexOf(e))&&(this.__cbOnceWidthChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindWidthChange[n])&&s(),this.__cbOnceOwnerUnbindWidthChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindWidthChange){for(var t=0,i=this.__cbOnOwnerUnbindWidthChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindWidthChange[l])&&s()}this.__cbOnOwnerUnbindWidthChange=null}if(null!=this.__cbOnceOwnerUnbindWidthChange){for(t=0,i=this.__cbOnceOwnerUnbindWidthChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindWidthChange[l])&&s()}this.__cbOnceOwnerUnbindWidthChange=null}this.__cbOnWidthChange=null,this.__cbOnceWidthChange=null}},listensWidthChange:function(){return null!=this.__cbOnWidthChange&&0<this.__cbOnWidthChange.length||null!=this.__cbOnceWidthChange&&0<this.__cbOnceWidthChange.length},heightAutoruns:null,get_height:function(){var e,n,t=this.unobservedHeight;return null!=A.current&&(e=A.current,null!=(n=this.heightAutoruns)||(n=A.getAutorunArray(),null!=(this.heightAutoruns=n)))&&e.bindToAutorunArray(n),t},set_height:function(e){var n=this.unobservedHeight;return n!=(this.unobservedHeight=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!0)),this.emitHeightChange(e,n),null!=(n=this.heightAutoruns))&&(this.heightAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateHeight:function(){var e=this.unobservedHeight,e=(this.emitHeightChange(e,e),this.heightAutoruns);null!=e&&(this.heightAutoruns=null,A.invalidateAutorunArray(e))},unobservedHeight:null,__cbOnHeightChange:null,__cbOnceHeightChange:null,__cbOnOwnerUnbindHeightChange:null,__cbOnceOwnerUnbindHeightChange:null,emitHeightChange:function(e,n){var t=0;if(null!=this.__cbOnHeightChange&&(t+=this.__cbOnHeightChange.length),null!=this.__cbOnceHeightChange&&(t+=this.__cbOnceHeightChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnHeightChange)for(var r=0,h=this.__cbOnHeightChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnHeightChange[a],++s):--t}if(null!=this.__cbOnceHeightChange){for(var o=null,c=null,r=0,h=this.__cbOnceHeightChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceHeightChange[a],this.__cbOnceHeightChange[a]=null,u=this.__cbOnceOwnerUnbindHeightChange[a],(this.__cbOnceOwnerUnbindHeightChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindHeightChange[a]),c.push(this.__cbOnceHeightChange[a]))}this.__cbOnceOwnerUnbindHeightChange=o,this.__cbOnceHeightChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onHeightChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event heightChange because owner is destroyed!");var l=function(e){null!=t&&(i.offHeightChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindHeightChange&&(this.__cbOnOwnerUnbindHeightChange=[]),this.__cbOnOwnerUnbindHeightChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindHeightChange&&(this.__cbOnOwnerUnbindHeightChange=[]),this.__cbOnOwnerUnbindHeightChange.push(null);null==this.__cbOnHeightChange&&(this.__cbOnHeightChange=[]),this.__cbOnHeightChange.push(t)},onceHeightChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event heightChange because owner is destroyed!");var l=function(e){null!=t&&(i.offHeightChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindHeightChange&&(this.__cbOnceOwnerUnbindHeightChange=[]),this.__cbOnceOwnerUnbindHeightChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindHeightChange&&(this.__cbOnceOwnerUnbindHeightChange=[]),this.__cbOnceOwnerUnbindHeightChange.push(null);null==this.__cbOnceHeightChange&&(this.__cbOnceHeightChange=[]),this.__cbOnceHeightChange.push(t)},offHeightChange:function(e){if(null!=e){var n;null!=this.__cbOnHeightChange&&-1!=(n=this.__cbOnHeightChange.indexOf(e))&&(this.__cbOnHeightChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindHeightChange[n])&&s(),this.__cbOnOwnerUnbindHeightChange.splice(n,1)),null!=this.__cbOnceHeightChange&&-1!=(n=this.__cbOnceHeightChange.indexOf(e))&&(this.__cbOnceHeightChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindHeightChange[n])&&s(),this.__cbOnceOwnerUnbindHeightChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindHeightChange){for(var t=0,i=this.__cbOnOwnerUnbindHeightChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindHeightChange[l])&&s()}this.__cbOnOwnerUnbindHeightChange=null}if(null!=this.__cbOnceOwnerUnbindHeightChange){for(t=0,i=this.__cbOnceOwnerUnbindHeightChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindHeightChange[l])&&s()}this.__cbOnceOwnerUnbindHeightChange=null}this.__cbOnHeightChange=null,this.__cbOnceHeightChange=null}},listensHeightChange:function(){return null!=this.__cbOnHeightChange&&0<this.__cbOnHeightChange.length||null!=this.__cbOnceHeightChange&&0<this.__cbOnceHeightChange.length},renderOrderAutoruns:null,get_renderOrder:function(){var e,n,t=this.unobservedRenderOrder;return null!=A.current&&(e=A.current,null!=(n=this.renderOrderAutoruns)||(n=A.getAutorunArray(),null!=(this.renderOrderAutoruns=n)))&&e.bindToAutorunArray(n),t},set_renderOrder:function(e){var n=this.unobservedRenderOrder;return n!=(this.unobservedRenderOrder=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!0)),this.emitRenderOrderChange(e,n),null!=(n=this.renderOrderAutoruns))&&(this.renderOrderAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateRenderOrder:function(){var e=this.unobservedRenderOrder,e=(this.emitRenderOrderChange(e,e),this.renderOrderAutoruns);null!=e&&(this.renderOrderAutoruns=null,A.invalidateAutorunArray(e))},unobservedRenderOrder:null,__cbOnRenderOrderChange:null,__cbOnceRenderOrderChange:null,__cbOnOwnerUnbindRenderOrderChange:null,__cbOnceOwnerUnbindRenderOrderChange:null,emitRenderOrderChange:function(e,n){var t=0;if(null!=this.__cbOnRenderOrderChange&&(t+=this.__cbOnRenderOrderChange.length),null!=this.__cbOnceRenderOrderChange&&(t+=this.__cbOnceRenderOrderChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnRenderOrderChange)for(var r=0,h=this.__cbOnRenderOrderChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnRenderOrderChange[a],++s):--t}if(null!=this.__cbOnceRenderOrderChange){for(var o=null,c=null,r=0,h=this.__cbOnceRenderOrderChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceRenderOrderChange[a],this.__cbOnceRenderOrderChange[a]=null,u=this.__cbOnceOwnerUnbindRenderOrderChange[a],(this.__cbOnceOwnerUnbindRenderOrderChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindRenderOrderChange[a]),c.push(this.__cbOnceRenderOrderChange[a]))}this.__cbOnceOwnerUnbindRenderOrderChange=o,this.__cbOnceRenderOrderChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onRenderOrderChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event renderOrderChange because owner is destroyed!");var l=function(e){null!=t&&(i.offRenderOrderChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindRenderOrderChange&&(this.__cbOnOwnerUnbindRenderOrderChange=[]),this.__cbOnOwnerUnbindRenderOrderChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindRenderOrderChange&&(this.__cbOnOwnerUnbindRenderOrderChange=[]),this.__cbOnOwnerUnbindRenderOrderChange.push(null);null==this.__cbOnRenderOrderChange&&(this.__cbOnRenderOrderChange=[]),this.__cbOnRenderOrderChange.push(t)},onceRenderOrderChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event renderOrderChange because owner is destroyed!");var l=function(e){null!=t&&(i.offRenderOrderChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindRenderOrderChange&&(this.__cbOnceOwnerUnbindRenderOrderChange=[]),this.__cbOnceOwnerUnbindRenderOrderChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindRenderOrderChange&&(this.__cbOnceOwnerUnbindRenderOrderChange=[]),this.__cbOnceOwnerUnbindRenderOrderChange.push(null);null==this.__cbOnceRenderOrderChange&&(this.__cbOnceRenderOrderChange=[]),this.__cbOnceRenderOrderChange.push(t)},offRenderOrderChange:function(e){if(null!=e){var n;null!=this.__cbOnRenderOrderChange&&-1!=(n=this.__cbOnRenderOrderChange.indexOf(e))&&(this.__cbOnRenderOrderChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindRenderOrderChange[n])&&s(),this.__cbOnOwnerUnbindRenderOrderChange.splice(n,1)),null!=this.__cbOnceRenderOrderChange&&-1!=(n=this.__cbOnceRenderOrderChange.indexOf(e))&&(this.__cbOnceRenderOrderChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindRenderOrderChange[n])&&s(),this.__cbOnceOwnerUnbindRenderOrderChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindRenderOrderChange){for(var t=0,i=this.__cbOnOwnerUnbindRenderOrderChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindRenderOrderChange[l])&&s()}this.__cbOnOwnerUnbindRenderOrderChange=null}if(null!=this.__cbOnceOwnerUnbindRenderOrderChange){for(t=0,i=this.__cbOnceOwnerUnbindRenderOrderChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindRenderOrderChange[l])&&s()}this.__cbOnceOwnerUnbindRenderOrderChange=null}this.__cbOnRenderOrderChange=null,this.__cbOnceRenderOrderChange=null}},listensRenderOrderChange:function(){return null!=this.__cbOnRenderOrderChange&&0<this.__cbOnRenderOrderChange.length||null!=this.__cbOnceRenderOrderChange&&0<this.__cbOnceRenderOrderChange.length},hexSideLengthAutoruns:null,get_hexSideLength:function(){var e,n,t=this.unobservedHexSideLength;return null!=A.current&&(e=A.current,null!=(n=this.hexSideLengthAutoruns)||(n=A.getAutorunArray(),null!=(this.hexSideLengthAutoruns=n)))&&e.bindToAutorunArray(n),t},set_hexSideLength:function(e){var n=this.unobservedHexSideLength;return n!=(this.unobservedHexSideLength=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!0)),this.emitHexSideLengthChange(e,n),null!=(n=this.hexSideLengthAutoruns))&&(this.hexSideLengthAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateHexSideLength:function(){var e=this.unobservedHexSideLength,e=(this.emitHexSideLengthChange(e,e),this.hexSideLengthAutoruns);null!=e&&(this.hexSideLengthAutoruns=null,A.invalidateAutorunArray(e))},unobservedHexSideLength:null,__cbOnHexSideLengthChange:null,__cbOnceHexSideLengthChange:null,__cbOnOwnerUnbindHexSideLengthChange:null,__cbOnceOwnerUnbindHexSideLengthChange:null,emitHexSideLengthChange:function(e,n){var t=0;if(null!=this.__cbOnHexSideLengthChange&&(t+=this.__cbOnHexSideLengthChange.length),null!=this.__cbOnceHexSideLengthChange&&(t+=this.__cbOnceHexSideLengthChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnHexSideLengthChange)for(var r=0,h=this.__cbOnHexSideLengthChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnHexSideLengthChange[a],++s):--t}if(null!=this.__cbOnceHexSideLengthChange){for(var o=null,c=null,r=0,h=this.__cbOnceHexSideLengthChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceHexSideLengthChange[a],this.__cbOnceHexSideLengthChange[a]=null,u=this.__cbOnceOwnerUnbindHexSideLengthChange[a],(this.__cbOnceOwnerUnbindHexSideLengthChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindHexSideLengthChange[a]),c.push(this.__cbOnceHexSideLengthChange[a]))}this.__cbOnceOwnerUnbindHexSideLengthChange=o,this.__cbOnceHexSideLengthChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onHexSideLengthChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event hexSideLengthChange because owner is destroyed!");var l=function(e){null!=t&&(i.offHexSideLengthChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindHexSideLengthChange&&(this.__cbOnOwnerUnbindHexSideLengthChange=[]),this.__cbOnOwnerUnbindHexSideLengthChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindHexSideLengthChange&&(this.__cbOnOwnerUnbindHexSideLengthChange=[]),this.__cbOnOwnerUnbindHexSideLengthChange.push(null);null==this.__cbOnHexSideLengthChange&&(this.__cbOnHexSideLengthChange=[]),this.__cbOnHexSideLengthChange.push(t)},onceHexSideLengthChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event hexSideLengthChange because owner is destroyed!");var l=function(e){null!=t&&(i.offHexSideLengthChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindHexSideLengthChange&&(this.__cbOnceOwnerUnbindHexSideLengthChange=[]),this.__cbOnceOwnerUnbindHexSideLengthChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindHexSideLengthChange&&(this.__cbOnceOwnerUnbindHexSideLengthChange=[]),this.__cbOnceOwnerUnbindHexSideLengthChange.push(null);null==this.__cbOnceHexSideLengthChange&&(this.__cbOnceHexSideLengthChange=[]),this.__cbOnceHexSideLengthChange.push(t)},offHexSideLengthChange:function(e){if(null!=e){var n;null!=this.__cbOnHexSideLengthChange&&-1!=(n=this.__cbOnHexSideLengthChange.indexOf(e))&&(this.__cbOnHexSideLengthChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindHexSideLengthChange[n])&&s(),this.__cbOnOwnerUnbindHexSideLengthChange.splice(n,1)),null!=this.__cbOnceHexSideLengthChange&&-1!=(n=this.__cbOnceHexSideLengthChange.indexOf(e))&&(this.__cbOnceHexSideLengthChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindHexSideLengthChange[n])&&s(),this.__cbOnceOwnerUnbindHexSideLengthChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindHexSideLengthChange){for(var t=0,i=this.__cbOnOwnerUnbindHexSideLengthChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindHexSideLengthChange[l])&&s()}this.__cbOnOwnerUnbindHexSideLengthChange=null}if(null!=this.__cbOnceOwnerUnbindHexSideLengthChange){for(t=0,i=this.__cbOnceOwnerUnbindHexSideLengthChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindHexSideLengthChange[l])&&s()}this.__cbOnceOwnerUnbindHexSideLengthChange=null}this.__cbOnHexSideLengthChange=null,this.__cbOnceHexSideLengthChange=null}},listensHexSideLengthChange:function(){return null!=this.__cbOnHexSideLengthChange&&0<this.__cbOnHexSideLengthChange.length||null!=this.__cbOnceHexSideLengthChange&&0<this.__cbOnceHexSideLengthChange.length},staggerAxisAutoruns:null,get_staggerAxis:function(){var e,n,t=this.unobservedStaggerAxis;return null!=A.current&&(e=A.current,null!=(n=this.staggerAxisAutoruns)||(n=A.getAutorunArray(),null!=(this.staggerAxisAutoruns=n)))&&e.bindToAutorunArray(n),t},set_staggerAxis:function(e){var n=this.unobservedStaggerAxis;return n!=(this.unobservedStaggerAxis=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!0)),this.emitStaggerAxisChange(e,n),null!=(n=this.staggerAxisAutoruns))&&(this.staggerAxisAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateStaggerAxis:function(){var e=this.unobservedStaggerAxis,e=(this.emitStaggerAxisChange(e,e),this.staggerAxisAutoruns);null!=e&&(this.staggerAxisAutoruns=null,A.invalidateAutorunArray(e))},unobservedStaggerAxis:null,__cbOnStaggerAxisChange:null,__cbOnceStaggerAxisChange:null,__cbOnOwnerUnbindStaggerAxisChange:null,__cbOnceOwnerUnbindStaggerAxisChange:null,emitStaggerAxisChange:function(e,n){var t=0;if(null!=this.__cbOnStaggerAxisChange&&(t+=this.__cbOnStaggerAxisChange.length),null!=this.__cbOnceStaggerAxisChange&&(t+=this.__cbOnceStaggerAxisChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnStaggerAxisChange)for(var r=0,h=this.__cbOnStaggerAxisChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnStaggerAxisChange[a],++s):--t}if(null!=this.__cbOnceStaggerAxisChange){for(var o=null,c=null,r=0,h=this.__cbOnceStaggerAxisChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceStaggerAxisChange[a],this.__cbOnceStaggerAxisChange[a]=null,u=this.__cbOnceOwnerUnbindStaggerAxisChange[a],(this.__cbOnceOwnerUnbindStaggerAxisChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindStaggerAxisChange[a]),c.push(this.__cbOnceStaggerAxisChange[a]))}this.__cbOnceOwnerUnbindStaggerAxisChange=o,this.__cbOnceStaggerAxisChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onStaggerAxisChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event staggerAxisChange because owner is destroyed!");var l=function(e){null!=t&&(i.offStaggerAxisChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindStaggerAxisChange&&(this.__cbOnOwnerUnbindStaggerAxisChange=[]),this.__cbOnOwnerUnbindStaggerAxisChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindStaggerAxisChange&&(this.__cbOnOwnerUnbindStaggerAxisChange=[]),this.__cbOnOwnerUnbindStaggerAxisChange.push(null);null==this.__cbOnStaggerAxisChange&&(this.__cbOnStaggerAxisChange=[]),this.__cbOnStaggerAxisChange.push(t)},onceStaggerAxisChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event staggerAxisChange because owner is destroyed!");var l=function(e){null!=t&&(i.offStaggerAxisChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindStaggerAxisChange&&(this.__cbOnceOwnerUnbindStaggerAxisChange=[]),this.__cbOnceOwnerUnbindStaggerAxisChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindStaggerAxisChange&&(this.__cbOnceOwnerUnbindStaggerAxisChange=[]),this.__cbOnceOwnerUnbindStaggerAxisChange.push(null);null==this.__cbOnceStaggerAxisChange&&(this.__cbOnceStaggerAxisChange=[]),this.__cbOnceStaggerAxisChange.push(t)},offStaggerAxisChange:function(e){if(null!=e){var n;null!=this.__cbOnStaggerAxisChange&&-1!=(n=this.__cbOnStaggerAxisChange.indexOf(e))&&(this.__cbOnStaggerAxisChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindStaggerAxisChange[n])&&s(),this.__cbOnOwnerUnbindStaggerAxisChange.splice(n,1)),null!=this.__cbOnceStaggerAxisChange&&-1!=(n=this.__cbOnceStaggerAxisChange.indexOf(e))&&(this.__cbOnceStaggerAxisChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindStaggerAxisChange[n])&&s(),this.__cbOnceOwnerUnbindStaggerAxisChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindStaggerAxisChange){for(var t=0,i=this.__cbOnOwnerUnbindStaggerAxisChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindStaggerAxisChange[l])&&s()}this.__cbOnOwnerUnbindStaggerAxisChange=null}if(null!=this.__cbOnceOwnerUnbindStaggerAxisChange){for(t=0,i=this.__cbOnceOwnerUnbindStaggerAxisChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindStaggerAxisChange[l])&&s()}this.__cbOnceOwnerUnbindStaggerAxisChange=null}this.__cbOnStaggerAxisChange=null,this.__cbOnceStaggerAxisChange=null}},listensStaggerAxisChange:function(){return null!=this.__cbOnStaggerAxisChange&&0<this.__cbOnStaggerAxisChange.length||null!=this.__cbOnceStaggerAxisChange&&0<this.__cbOnceStaggerAxisChange.length},staggerIndexAutoruns:null,get_staggerIndex:function(){var e,n,t=this.unobservedStaggerIndex;return null!=A.current&&(e=A.current,null!=(n=this.staggerIndexAutoruns)||(n=A.getAutorunArray(),null!=(this.staggerIndexAutoruns=n)))&&e.bindToAutorunArray(n),t},set_staggerIndex:function(e){var n=this.unobservedStaggerIndex;return n!=(this.unobservedStaggerIndex=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!0)),this.emitStaggerIndexChange(e,n),null!=(n=this.staggerIndexAutoruns))&&(this.staggerIndexAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateStaggerIndex:function(){var e=this.unobservedStaggerIndex,e=(this.emitStaggerIndexChange(e,e),this.staggerIndexAutoruns);null!=e&&(this.staggerIndexAutoruns=null,A.invalidateAutorunArray(e))},unobservedStaggerIndex:null,__cbOnStaggerIndexChange:null,__cbOnceStaggerIndexChange:null,__cbOnOwnerUnbindStaggerIndexChange:null,__cbOnceOwnerUnbindStaggerIndexChange:null,emitStaggerIndexChange:function(e,n){var t=0;if(null!=this.__cbOnStaggerIndexChange&&(t+=this.__cbOnStaggerIndexChange.length),null!=this.__cbOnceStaggerIndexChange&&(t+=this.__cbOnceStaggerIndexChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnStaggerIndexChange)for(var r=0,h=this.__cbOnStaggerIndexChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnStaggerIndexChange[a],++s):--t}if(null!=this.__cbOnceStaggerIndexChange){for(var o=null,c=null,r=0,h=this.__cbOnceStaggerIndexChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceStaggerIndexChange[a],this.__cbOnceStaggerIndexChange[a]=null,u=this.__cbOnceOwnerUnbindStaggerIndexChange[a],(this.__cbOnceOwnerUnbindStaggerIndexChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindStaggerIndexChange[a]),c.push(this.__cbOnceStaggerIndexChange[a]))}this.__cbOnceOwnerUnbindStaggerIndexChange=o,this.__cbOnceStaggerIndexChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onStaggerIndexChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event staggerIndexChange because owner is destroyed!");var l=function(e){null!=t&&(i.offStaggerIndexChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindStaggerIndexChange&&(this.__cbOnOwnerUnbindStaggerIndexChange=[]),this.__cbOnOwnerUnbindStaggerIndexChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindStaggerIndexChange&&(this.__cbOnOwnerUnbindStaggerIndexChange=[]),this.__cbOnOwnerUnbindStaggerIndexChange.push(null);null==this.__cbOnStaggerIndexChange&&(this.__cbOnStaggerIndexChange=[]),this.__cbOnStaggerIndexChange.push(t)},onceStaggerIndexChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event staggerIndexChange because owner is destroyed!");var l=function(e){null!=t&&(i.offStaggerIndexChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindStaggerIndexChange&&(this.__cbOnceOwnerUnbindStaggerIndexChange=[]),this.__cbOnceOwnerUnbindStaggerIndexChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindStaggerIndexChange&&(this.__cbOnceOwnerUnbindStaggerIndexChange=[]),this.__cbOnceOwnerUnbindStaggerIndexChange.push(null);null==this.__cbOnceStaggerIndexChange&&(this.__cbOnceStaggerIndexChange=[]),this.__cbOnceStaggerIndexChange.push(t)},offStaggerIndexChange:function(e){if(null!=e){var n;null!=this.__cbOnStaggerIndexChange&&-1!=(n=this.__cbOnStaggerIndexChange.indexOf(e))&&(this.__cbOnStaggerIndexChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindStaggerIndexChange[n])&&s(),this.__cbOnOwnerUnbindStaggerIndexChange.splice(n,1)),null!=this.__cbOnceStaggerIndexChange&&-1!=(n=this.__cbOnceStaggerIndexChange.indexOf(e))&&(this.__cbOnceStaggerIndexChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindStaggerIndexChange[n])&&s(),this.__cbOnceOwnerUnbindStaggerIndexChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindStaggerIndexChange){for(var t=0,i=this.__cbOnOwnerUnbindStaggerIndexChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindStaggerIndexChange[l])&&s()}this.__cbOnOwnerUnbindStaggerIndexChange=null}if(null!=this.__cbOnceOwnerUnbindStaggerIndexChange){for(t=0,i=this.__cbOnceOwnerUnbindStaggerIndexChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindStaggerIndexChange[l])&&s()}this.__cbOnceOwnerUnbindStaggerIndexChange=null}this.__cbOnStaggerIndexChange=null,this.__cbOnceStaggerIndexChange=null}},listensStaggerIndexChange:function(){return null!=this.__cbOnStaggerIndexChange&&0<this.__cbOnStaggerIndexChange.length||null!=this.__cbOnceStaggerIndexChange&&0<this.__cbOnceStaggerIndexChange.length},backgroundColorAutoruns:null,get_backgroundColor:function(){var e,n,t=this.unobservedBackgroundColor;return null!=A.current&&(e=A.current,null!=(n=this.backgroundColorAutoruns)||(n=A.getAutorunArray(),null!=(this.backgroundColorAutoruns=n)))&&e.bindToAutorunArray(n),t},set_backgroundColor:function(e){var n=this.unobservedBackgroundColor;return n!=(this.unobservedBackgroundColor=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!0)),this.emitBackgroundColorChange(e,n),null!=(n=this.backgroundColorAutoruns))&&(this.backgroundColorAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateBackgroundColor:function(){var e=this.unobservedBackgroundColor,e=(this.emitBackgroundColorChange(e,e),this.backgroundColorAutoruns);null!=e&&(this.backgroundColorAutoruns=null,A.invalidateAutorunArray(e))},unobservedBackgroundColor:null,__cbOnBackgroundColorChange:null,__cbOnceBackgroundColorChange:null,__cbOnOwnerUnbindBackgroundColorChange:null,__cbOnceOwnerUnbindBackgroundColorChange:null,emitBackgroundColorChange:function(e,n){var t=0;if(null!=this.__cbOnBackgroundColorChange&&(t+=this.__cbOnBackgroundColorChange.length),null!=this.__cbOnceBackgroundColorChange&&(t+=this.__cbOnceBackgroundColorChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnBackgroundColorChange)for(var r=0,h=this.__cbOnBackgroundColorChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnBackgroundColorChange[a],++s):--t}if(null!=this.__cbOnceBackgroundColorChange){for(var o=null,c=null,r=0,h=this.__cbOnceBackgroundColorChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceBackgroundColorChange[a],this.__cbOnceBackgroundColorChange[a]=null,u=this.__cbOnceOwnerUnbindBackgroundColorChange[a],(this.__cbOnceOwnerUnbindBackgroundColorChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindBackgroundColorChange[a]),c.push(this.__cbOnceBackgroundColorChange[a]))}this.__cbOnceOwnerUnbindBackgroundColorChange=o,this.__cbOnceBackgroundColorChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onBackgroundColorChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event backgroundColorChange because owner is destroyed!");var l=function(e){null!=t&&(i.offBackgroundColorChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindBackgroundColorChange&&(this.__cbOnOwnerUnbindBackgroundColorChange=[]),this.__cbOnOwnerUnbindBackgroundColorChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindBackgroundColorChange&&(this.__cbOnOwnerUnbindBackgroundColorChange=[]),this.__cbOnOwnerUnbindBackgroundColorChange.push(null);null==this.__cbOnBackgroundColorChange&&(this.__cbOnBackgroundColorChange=[]),this.__cbOnBackgroundColorChange.push(t)},onceBackgroundColorChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event backgroundColorChange because owner is destroyed!");var l=function(e){null!=t&&(i.offBackgroundColorChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindBackgroundColorChange&&(this.__cbOnceOwnerUnbindBackgroundColorChange=[]),this.__cbOnceOwnerUnbindBackgroundColorChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindBackgroundColorChange&&(this.__cbOnceOwnerUnbindBackgroundColorChange=[]),this.__cbOnceOwnerUnbindBackgroundColorChange.push(null);null==this.__cbOnceBackgroundColorChange&&(this.__cbOnceBackgroundColorChange=[]),this.__cbOnceBackgroundColorChange.push(t)},offBackgroundColorChange:function(e){if(null!=e){var n;null!=this.__cbOnBackgroundColorChange&&-1!=(n=this.__cbOnBackgroundColorChange.indexOf(e))&&(this.__cbOnBackgroundColorChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindBackgroundColorChange[n])&&s(),this.__cbOnOwnerUnbindBackgroundColorChange.splice(n,1)),null!=this.__cbOnceBackgroundColorChange&&-1!=(n=this.__cbOnceBackgroundColorChange.indexOf(e))&&(this.__cbOnceBackgroundColorChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindBackgroundColorChange[n])&&s(),this.__cbOnceOwnerUnbindBackgroundColorChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindBackgroundColorChange){for(var t=0,i=this.__cbOnOwnerUnbindBackgroundColorChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindBackgroundColorChange[l])&&s()}this.__cbOnOwnerUnbindBackgroundColorChange=null}if(null!=this.__cbOnceOwnerUnbindBackgroundColorChange){for(t=0,i=this.__cbOnceOwnerUnbindBackgroundColorChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindBackgroundColorChange[l])&&s()}this.__cbOnceOwnerUnbindBackgroundColorChange=null}this.__cbOnBackgroundColorChange=null,this.__cbOnceBackgroundColorChange=null}},listensBackgroundColorChange:function(){return null!=this.__cbOnBackgroundColorChange&&0<this.__cbOnBackgroundColorChange.length||null!=this.__cbOnceBackgroundColorChange&&0<this.__cbOnceBackgroundColorChange.length},willListenMaxTileWidthChange:function(){this.get_unobservedMaxTileWidth()},get_unobservedMaxTileWidth:function(){var n,t;return 0<=this._lifecycleState?null==this.computeAutorunMaxTileWidth?(n=this,t=new A(null),this.computedOnceMaxTileWidth=!0,(this.computeAutorunMaxTileWidth=t).onRun=function(){var e=n.computeMaxTileWidth();A.unobserve(),n.set_maxTileWidth(e),A.reobserve()},t.onDestroy(this,function(e){n.computeAutorunMaxTileWidth==t&&(n.computeAutorunMaxTileWidth=null),n=t=null}),this.onDestroy(t,function(e){null!=t&&(t.destroy(),t=null),n=null}),t.run()):this.computeAutorunMaxTileWidth.invalidated&&this.computeAutorunMaxTileWidth.run():this.computedOnceMaxTileWidth||(A.unobserve(),this.computedOnceMaxTileWidth=!0,this.unobservedMaxTileWidth=this.computeMaxTileWidth(),A.reobserve()),this.unobservedMaxTileWidth},maxTileWidthAutoruns:null,get_maxTileWidth:function(){var e,n,t=this.get_unobservedMaxTileWidth();return null!=A.current&&(e=A.current,null!=(n=this.maxTileWidthAutoruns)||(n=A.getAutorunArray(),null!=(this.maxTileWidthAutoruns=n)))&&e.bindToAutorunArray(n),t},set_maxTileWidth:function(e){var n=this.get_unobservedMaxTileWidth();return n!=(this.unobservedMaxTileWidth=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitMaxTileWidthChange(e,n),null!=(n=this.maxTileWidthAutoruns))&&(this.maxTileWidthAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateMaxTileWidth:function(){var e=this.get_unobservedMaxTileWidth(),e=(this.emitMaxTileWidthChange(e,e),this.maxTileWidthAutoruns);null!=e&&(this.maxTileWidthAutoruns=null,A.invalidateAutorunArray(e))},unobservedMaxTileWidth:null,__cbOnMaxTileWidthChange:null,__cbOnceMaxTileWidthChange:null,__cbOnOwnerUnbindMaxTileWidthChange:null,__cbOnceOwnerUnbindMaxTileWidthChange:null,emitMaxTileWidthChange:function(e,n){var t=0;if(null!=this.__cbOnMaxTileWidthChange&&(t+=this.__cbOnMaxTileWidthChange.length),null!=this.__cbOnceMaxTileWidthChange&&(t+=this.__cbOnceMaxTileWidthChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnMaxTileWidthChange)for(var r=0,h=this.__cbOnMaxTileWidthChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnMaxTileWidthChange[a],++s):--t}if(null!=this.__cbOnceMaxTileWidthChange){for(var o=null,c=null,r=0,h=this.__cbOnceMaxTileWidthChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceMaxTileWidthChange[a],this.__cbOnceMaxTileWidthChange[a]=null,u=this.__cbOnceOwnerUnbindMaxTileWidthChange[a],(this.__cbOnceOwnerUnbindMaxTileWidthChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindMaxTileWidthChange[a]),c.push(this.__cbOnceMaxTileWidthChange[a]))}this.__cbOnceOwnerUnbindMaxTileWidthChange=o,this.__cbOnceMaxTileWidthChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onMaxTileWidthChange:function(n,t){var i=this;if(null==this.__cbOnMaxTileWidthChange&&null==this.__cbOnceMaxTileWidthChange&&this.willListenMaxTileWidthChange(),null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event maxTileWidthChange because owner is destroyed!");var l=function(e){null!=t&&(i.offMaxTileWidthChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindMaxTileWidthChange&&(this.__cbOnOwnerUnbindMaxTileWidthChange=[]),this.__cbOnOwnerUnbindMaxTileWidthChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindMaxTileWidthChange&&(this.__cbOnOwnerUnbindMaxTileWidthChange=[]),this.__cbOnOwnerUnbindMaxTileWidthChange.push(null);null==this.__cbOnMaxTileWidthChange&&(this.__cbOnMaxTileWidthChange=[]),this.__cbOnMaxTileWidthChange.push(t)},onceMaxTileWidthChange:function(n,t){var i=this;if(null==this.__cbOnMaxTileWidthChange&&null==this.__cbOnceMaxTileWidthChange&&this.willListenMaxTileWidthChange(),null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event maxTileWidthChange because owner is destroyed!");var l=function(e){null!=t&&(i.offMaxTileWidthChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindMaxTileWidthChange&&(this.__cbOnceOwnerUnbindMaxTileWidthChange=[]),this.__cbOnceOwnerUnbindMaxTileWidthChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindMaxTileWidthChange&&(this.__cbOnceOwnerUnbindMaxTileWidthChange=[]),this.__cbOnceOwnerUnbindMaxTileWidthChange.push(null);null==this.__cbOnceMaxTileWidthChange&&(this.__cbOnceMaxTileWidthChange=[]),this.__cbOnceMaxTileWidthChange.push(t)},offMaxTileWidthChange:function(e){if(null!=e){var n;null!=this.__cbOnMaxTileWidthChange&&-1!=(n=this.__cbOnMaxTileWidthChange.indexOf(e))&&(this.__cbOnMaxTileWidthChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindMaxTileWidthChange[n])&&s(),this.__cbOnOwnerUnbindMaxTileWidthChange.splice(n,1)),null!=this.__cbOnceMaxTileWidthChange&&-1!=(n=this.__cbOnceMaxTileWidthChange.indexOf(e))&&(this.__cbOnceMaxTileWidthChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindMaxTileWidthChange[n])&&s(),this.__cbOnceOwnerUnbindMaxTileWidthChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindMaxTileWidthChange){for(var t=0,i=this.__cbOnOwnerUnbindMaxTileWidthChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindMaxTileWidthChange[l])&&s()}this.__cbOnOwnerUnbindMaxTileWidthChange=null}if(null!=this.__cbOnceOwnerUnbindMaxTileWidthChange){for(t=0,i=this.__cbOnceOwnerUnbindMaxTileWidthChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindMaxTileWidthChange[l])&&s()}this.__cbOnceOwnerUnbindMaxTileWidthChange=null}this.__cbOnMaxTileWidthChange=null,this.__cbOnceMaxTileWidthChange=null}},listensMaxTileWidthChange:function(){return null!=this.__cbOnMaxTileWidthChange&&0<this.__cbOnMaxTileWidthChange.length||null!=this.__cbOnceMaxTileWidthChange&&0<this.__cbOnceMaxTileWidthChange.length},computeMaxTileWidth:function(){var e=-1,n=this.get_layers();if(null!=n)for(var t=0,i=n.length;t<i;){var l=n[t++].get_tileWidth();e<l&&(e=l)}return e},computeAutorunMaxTileWidth:null,computedOnceMaxTileWidth:null,willListenMaxTileHeightChange:function(){this.get_unobservedMaxTileHeight()},get_unobservedMaxTileHeight:function(){var n,t;return 0<=this._lifecycleState?null==this.computeAutorunMaxTileHeight?(n=this,t=new A(null),this.computedOnceMaxTileHeight=!0,(this.computeAutorunMaxTileHeight=t).onRun=function(){var e=n.computeMaxTileHeight();A.unobserve(),n.set_maxTileHeight(e),A.reobserve()},t.onDestroy(this,function(e){n.computeAutorunMaxTileHeight==t&&(n.computeAutorunMaxTileHeight=null),n=t=null}),this.onDestroy(t,function(e){null!=t&&(t.destroy(),t=null),n=null}),t.run()):this.computeAutorunMaxTileHeight.invalidated&&this.computeAutorunMaxTileHeight.run():this.computedOnceMaxTileHeight||(A.unobserve(),this.computedOnceMaxTileHeight=!0,this.unobservedMaxTileHeight=this.computeMaxTileHeight(),A.reobserve()),this.unobservedMaxTileHeight},maxTileHeightAutoruns:null,get_maxTileHeight:function(){var e,n,t=this.get_unobservedMaxTileHeight();return null!=A.current&&(e=A.current,null!=(n=this.maxTileHeightAutoruns)||(n=A.getAutorunArray(),null!=(this.maxTileHeightAutoruns=n)))&&e.bindToAutorunArray(n),t},set_maxTileHeight:function(e){var n=this.get_unobservedMaxTileHeight();return n!=(this.unobservedMaxTileHeight=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitMaxTileHeightChange(e,n),null!=(n=this.maxTileHeightAutoruns))&&(this.maxTileHeightAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateMaxTileHeight:function(){var e=this.get_unobservedMaxTileHeight(),e=(this.emitMaxTileHeightChange(e,e),this.maxTileHeightAutoruns);null!=e&&(this.maxTileHeightAutoruns=null,A.invalidateAutorunArray(e))},unobservedMaxTileHeight:null,__cbOnMaxTileHeightChange:null,__cbOnceMaxTileHeightChange:null,__cbOnOwnerUnbindMaxTileHeightChange:null,__cbOnceOwnerUnbindMaxTileHeightChange:null,emitMaxTileHeightChange:function(e,n){var t=0;if(null!=this.__cbOnMaxTileHeightChange&&(t+=this.__cbOnMaxTileHeightChange.length),null!=this.__cbOnceMaxTileHeightChange&&(t+=this.__cbOnceMaxTileHeightChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnMaxTileHeightChange)for(var r=0,h=this.__cbOnMaxTileHeightChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnMaxTileHeightChange[a],++s):--t}if(null!=this.__cbOnceMaxTileHeightChange){for(var o=null,c=null,r=0,h=this.__cbOnceMaxTileHeightChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceMaxTileHeightChange[a],this.__cbOnceMaxTileHeightChange[a]=null,u=this.__cbOnceOwnerUnbindMaxTileHeightChange[a],(this.__cbOnceOwnerUnbindMaxTileHeightChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindMaxTileHeightChange[a]),c.push(this.__cbOnceMaxTileHeightChange[a]))}this.__cbOnceOwnerUnbindMaxTileHeightChange=o,this.__cbOnceMaxTileHeightChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onMaxTileHeightChange:function(n,t){var i=this;if(null==this.__cbOnMaxTileHeightChange&&null==this.__cbOnceMaxTileHeightChange&&this.willListenMaxTileHeightChange(),null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event maxTileHeightChange because owner is destroyed!");var l=function(e){null!=t&&(i.offMaxTileHeightChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindMaxTileHeightChange&&(this.__cbOnOwnerUnbindMaxTileHeightChange=[]),this.__cbOnOwnerUnbindMaxTileHeightChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindMaxTileHeightChange&&(this.__cbOnOwnerUnbindMaxTileHeightChange=[]),this.__cbOnOwnerUnbindMaxTileHeightChange.push(null);null==this.__cbOnMaxTileHeightChange&&(this.__cbOnMaxTileHeightChange=[]),this.__cbOnMaxTileHeightChange.push(t)},onceMaxTileHeightChange:function(n,t){var i=this;if(null==this.__cbOnMaxTileHeightChange&&null==this.__cbOnceMaxTileHeightChange&&this.willListenMaxTileHeightChange(),null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event maxTileHeightChange because owner is destroyed!");var l=function(e){null!=t&&(i.offMaxTileHeightChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindMaxTileHeightChange&&(this.__cbOnceOwnerUnbindMaxTileHeightChange=[]),this.__cbOnceOwnerUnbindMaxTileHeightChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindMaxTileHeightChange&&(this.__cbOnceOwnerUnbindMaxTileHeightChange=[]),this.__cbOnceOwnerUnbindMaxTileHeightChange.push(null);null==this.__cbOnceMaxTileHeightChange&&(this.__cbOnceMaxTileHeightChange=[]),this.__cbOnceMaxTileHeightChange.push(t)},offMaxTileHeightChange:function(e){if(null!=e){var n;null!=this.__cbOnMaxTileHeightChange&&-1!=(n=this.__cbOnMaxTileHeightChange.indexOf(e))&&(this.__cbOnMaxTileHeightChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindMaxTileHeightChange[n])&&s(),this.__cbOnOwnerUnbindMaxTileHeightChange.splice(n,1)),null!=this.__cbOnceMaxTileHeightChange&&-1!=(n=this.__cbOnceMaxTileHeightChange.indexOf(e))&&(this.__cbOnceMaxTileHeightChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindMaxTileHeightChange[n])&&s(),this.__cbOnceOwnerUnbindMaxTileHeightChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindMaxTileHeightChange){for(var t=0,i=this.__cbOnOwnerUnbindMaxTileHeightChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindMaxTileHeightChange[l])&&s()}this.__cbOnOwnerUnbindMaxTileHeightChange=null}if(null!=this.__cbOnceOwnerUnbindMaxTileHeightChange){for(t=0,i=this.__cbOnceOwnerUnbindMaxTileHeightChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindMaxTileHeightChange[l])&&s()}this.__cbOnceOwnerUnbindMaxTileHeightChange=null}this.__cbOnMaxTileHeightChange=null,this.__cbOnceMaxTileHeightChange=null}},listensMaxTileHeightChange:function(){return null!=this.__cbOnMaxTileHeightChange&&0<this.__cbOnMaxTileHeightChange.length||null!=this.__cbOnceMaxTileHeightChange&&0<this.__cbOnceMaxTileHeightChange.length},computeMaxTileHeight:function(){var e=-1,n=this.get_layers();if(null!=n)for(var t=0,i=n.length;t<i;){var l=n[t++].get_tileHeight();e<l&&(e=l)}return e},computeAutorunMaxTileHeight:null,computedOnceMaxTileHeight:null,tilesetsAutoruns:null,get_tilesets:function(){var e,n,t=this.unobservedTilesets;return null!=A.current&&(e=A.current,null!=(n=this.tilesetsAutoruns)||(n=A.getAutorunArray(),null!=(this.tilesetsAutoruns=n)))&&e.bindToAutorunArray(n),t},set_tilesets:function(e){var n=this.unobservedTilesets;return this.unobservedTilesets=e,Ds.equalAny(n,e)||(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!0)),this.emitTilesetsChange(e,n),null!=(n=this.tilesetsAutoruns)&&(this.tilesetsAutoruns=null,A.invalidateAutorunArray(n))),e},invalidateTilesets:function(){var e=this.unobservedTilesets,e=(this.emitTilesetsChange(e,e),this.tilesetsAutoruns);null!=e&&(this.tilesetsAutoruns=null,A.invalidateAutorunArray(e))},unobservedTilesets:null,__cbOnTilesetsChange:null,__cbOnceTilesetsChange:null,__cbOnOwnerUnbindTilesetsChange:null,__cbOnceOwnerUnbindTilesetsChange:null,emitTilesetsChange:function(e,n){var t=0;if(null!=this.__cbOnTilesetsChange&&(t+=this.__cbOnTilesetsChange.length),null!=this.__cbOnceTilesetsChange&&(t+=this.__cbOnceTilesetsChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnTilesetsChange)for(var r=0,h=this.__cbOnTilesetsChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnTilesetsChange[a],++s):--t}if(null!=this.__cbOnceTilesetsChange){for(var o=null,c=null,r=0,h=this.__cbOnceTilesetsChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceTilesetsChange[a],this.__cbOnceTilesetsChange[a]=null,u=this.__cbOnceOwnerUnbindTilesetsChange[a],(this.__cbOnceOwnerUnbindTilesetsChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindTilesetsChange[a]),c.push(this.__cbOnceTilesetsChange[a]))}this.__cbOnceOwnerUnbindTilesetsChange=o,this.__cbOnceTilesetsChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onTilesetsChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event tilesetsChange because owner is destroyed!");var l=function(e){null!=t&&(i.offTilesetsChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindTilesetsChange&&(this.__cbOnOwnerUnbindTilesetsChange=[]),this.__cbOnOwnerUnbindTilesetsChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindTilesetsChange&&(this.__cbOnOwnerUnbindTilesetsChange=[]),this.__cbOnOwnerUnbindTilesetsChange.push(null);null==this.__cbOnTilesetsChange&&(this.__cbOnTilesetsChange=[]),this.__cbOnTilesetsChange.push(t)},onceTilesetsChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event tilesetsChange because owner is destroyed!");var l=function(e){null!=t&&(i.offTilesetsChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindTilesetsChange&&(this.__cbOnceOwnerUnbindTilesetsChange=[]),this.__cbOnceOwnerUnbindTilesetsChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindTilesetsChange&&(this.__cbOnceOwnerUnbindTilesetsChange=[]),this.__cbOnceOwnerUnbindTilesetsChange.push(null);null==this.__cbOnceTilesetsChange&&(this.__cbOnceTilesetsChange=[]),this.__cbOnceTilesetsChange.push(t)},offTilesetsChange:function(e){if(null!=e){var n;null!=this.__cbOnTilesetsChange&&-1!=(n=this.__cbOnTilesetsChange.indexOf(e))&&(this.__cbOnTilesetsChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindTilesetsChange[n])&&s(),this.__cbOnOwnerUnbindTilesetsChange.splice(n,1)),null!=this.__cbOnceTilesetsChange&&-1!=(n=this.__cbOnceTilesetsChange.indexOf(e))&&(this.__cbOnceTilesetsChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindTilesetsChange[n])&&s(),this.__cbOnceOwnerUnbindTilesetsChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindTilesetsChange){for(var t=0,i=this.__cbOnOwnerUnbindTilesetsChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindTilesetsChange[l])&&s()}this.__cbOnOwnerUnbindTilesetsChange=null}if(null!=this.__cbOnceOwnerUnbindTilesetsChange){for(t=0,i=this.__cbOnceOwnerUnbindTilesetsChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindTilesetsChange[l])&&s()}this.__cbOnceOwnerUnbindTilesetsChange=null}this.__cbOnTilesetsChange=null,this.__cbOnceTilesetsChange=null}},listensTilesetsChange:function(){return null!=this.__cbOnTilesetsChange&&0<this.__cbOnTilesetsChange.length||null!=this.__cbOnceTilesetsChange&&0<this.__cbOnceTilesetsChange.length},layersAutoruns:null,get_layers:function(){var e,n,t=this.unobservedLayers;return null!=A.current&&(e=A.current,null!=(n=this.layersAutoruns)||(n=A.getAutorunArray(),null!=(this.layersAutoruns=n)))&&e.bindToAutorunArray(n),t},set_layers:function(e){var n=this.unobservedLayers;return this.unobservedLayers=e,Ds.equalAny(n,e)||(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!0)),this.emitLayersChange(e,n),null!=(n=this.layersAutoruns)&&(this.layersAutoruns=null,A.invalidateAutorunArray(n))),e},invalidateLayers:function(){var e=this.unobservedLayers,e=(this.emitLayersChange(e,e),this.layersAutoruns);null!=e&&(this.layersAutoruns=null,A.invalidateAutorunArray(e))},unobservedLayers:null,__cbOnLayersChange:null,__cbOnceLayersChange:null,__cbOnOwnerUnbindLayersChange:null,__cbOnceOwnerUnbindLayersChange:null,emitLayersChange:function(e,n){var t=0;if(null!=this.__cbOnLayersChange&&(t+=this.__cbOnLayersChange.length),null!=this.__cbOnceLayersChange&&(t+=this.__cbOnceLayersChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnLayersChange)for(var r=0,h=this.__cbOnLayersChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnLayersChange[a],++s):--t}if(null!=this.__cbOnceLayersChange){for(var o=null,c=null,r=0,h=this.__cbOnceLayersChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceLayersChange[a],this.__cbOnceLayersChange[a]=null,u=this.__cbOnceOwnerUnbindLayersChange[a],(this.__cbOnceOwnerUnbindLayersChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindLayersChange[a]),c.push(this.__cbOnceLayersChange[a]))}this.__cbOnceOwnerUnbindLayersChange=o,this.__cbOnceLayersChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onLayersChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event layersChange because owner is destroyed!");var l=function(e){null!=t&&(i.offLayersChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindLayersChange&&(this.__cbOnOwnerUnbindLayersChange=[]),this.__cbOnOwnerUnbindLayersChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindLayersChange&&(this.__cbOnOwnerUnbindLayersChange=[]),this.__cbOnOwnerUnbindLayersChange.push(null);null==this.__cbOnLayersChange&&(this.__cbOnLayersChange=[]),this.__cbOnLayersChange.push(t)},onceLayersChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event layersChange because owner is destroyed!");var l=function(e){null!=t&&(i.offLayersChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindLayersChange&&(this.__cbOnceOwnerUnbindLayersChange=[]),this.__cbOnceOwnerUnbindLayersChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindLayersChange&&(this.__cbOnceOwnerUnbindLayersChange=[]),this.__cbOnceOwnerUnbindLayersChange.push(null);null==this.__cbOnceLayersChange&&(this.__cbOnceLayersChange=[]),this.__cbOnceLayersChange.push(t)},offLayersChange:function(e){if(null!=e){var n;null!=this.__cbOnLayersChange&&-1!=(n=this.__cbOnLayersChange.indexOf(e))&&(this.__cbOnLayersChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindLayersChange[n])&&s(),this.__cbOnOwnerUnbindLayersChange.splice(n,1)),null!=this.__cbOnceLayersChange&&-1!=(n=this.__cbOnceLayersChange.indexOf(e))&&(this.__cbOnceLayersChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindLayersChange[n])&&s(),this.__cbOnceOwnerUnbindLayersChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindLayersChange){for(var t=0,i=this.__cbOnOwnerUnbindLayersChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindLayersChange[l])&&s()}this.__cbOnOwnerUnbindLayersChange=null}if(null!=this.__cbOnceOwnerUnbindLayersChange){for(t=0,i=this.__cbOnceOwnerUnbindLayersChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindLayersChange[l])&&s()}this.__cbOnceOwnerUnbindLayersChange=null}this.__cbOnLayersChange=null,this.__cbOnceLayersChange=null}},listensLayersChange:function(){return null!=this.__cbOnLayersChange&&0<this.__cbOnLayersChange.length||null!=this.__cbOnceLayersChange&&0<this.__cbOnceLayersChange.length},asset:null,destroy:function(){if(!(this._lifecycleState<=-2)){this._lifecycleState=-2,this._lifecycleState=-1,R1.prototype.destroy.call(this),null!=this.asset&&(this.asset.destroy(),this.asset=null);for(var e=0,n=this.get_layers().length;e<n;){var t=e++;this.get_layers()[t].destroy()}this.set_layers(null)}},tilesetForGid:function(e){for(var n=this.get_tilesets().length-1,t=null;0<=n;){var i=this.get_tilesets()[n];if(e>=i.get_firstGid()){t=i;break}--n}return t},layer:function(e){for(var n=this.get_layers(),t=0,i=n.length;t<i;){var l=n[t++];if(l.get_name()==e)return l}return null},setTexturesFilter:function(e){for(var n=0,t=this.get_tilesets().length;n<t;){var i=n++,i=this.get_tilesets()[i];null!=i.get_image()&&null!=i.get_image().texture&&i.get_image().texture.set_filter(e)}},size:function(e,n){this.set_width(e),this.set_height(n)},tileset:function(e){for(var n=0,t=this.get_tilesets().length;n<t;){var i=n++,i=this.get_tilesets()[i];if(i.get_name()==e)return i}return null},toString:function(){var e=this.get_orientation(),n=this.get_width(),t=this.get_height(),i=this.get_renderOrder(),l=this.get_hexSideLength(),s=this.get_staggerAxis(),r=this.get_staggerIndex(),h=this.get_backgroundColor();return""+K.string({orientation:e,width:n,height:t,renderOrder:i,hexSideLength:l,staggerAxis:s,staggerIndex:r,backgroundColor:-1==h?"NONE":"0x"+z.hex(h>>24&255,2)+z.hex(h>>16&255,2)+z.hex(h>>8&255,2)+z.hex(255&h,2),tilesets:this.get_tilesets(),layers:this.get_layers()})},unbindEvents:function(){R1.prototype.unbindEvents.call(this),this.offNameChange(),this.offOrientationChange(),this.offWidthChange(),this.offHeightChange(),this.offRenderOrderChange(),this.offHexSideLengthChange(),this.offStaggerAxisChange(),this.offStaggerIndexChange(),this.offBackgroundColorChange(),this.offMaxTileWidthChange(),this.offMaxTileHeightChange(),this.offTilesetsChange(),this.offLayersChange()},_default_nameAutoruns:function(){return null},_default_name:function(){return null},_default_orientationAutoruns:function(){return null},_default_orientation:function(){return Pt.ORTHOGONAL},_default_widthAutoruns:function(){return null},_default_width:function(){return-1},_default_heightAutoruns:function(){return null},_default_height:function(){return-1},_default_renderOrderAutoruns:function(){return null},_default_renderOrder:function(){return Bt.RIGHT_DOWN},_default_hexSideLengthAutoruns:function(){return null},_default_hexSideLength:function(){return-1},_default_staggerAxisAutoruns:function(){return null},_default_staggerAxis:function(){return Et.AXIS_X},_default_staggerIndexAutoruns:function(){return null},_default_staggerIndex:function(){return Rt.ODD},_default_backgroundColorAutoruns:function(){return null},_default_backgroundColor:function(){var e=0,n=-1;return n&16777215|(255<(e=null==e?255:e)?255:e<0?0:e)<<24},_default_maxTileWidthAutoruns:function(){return null},_default_computedOnceMaxTileWidth:function(){return!1},_default_maxTileHeightAutoruns:function(){return null},_default_computedOnceMaxTileHeight:function(){return!1},_default_tilesetsAutoruns:function(){return null},_default_tilesets:function(){return[]},_default_layersAutoruns:function(){return null},_default_layers:function(){return[]},__class__:St,__properties__:$extend(R1.prototype.__properties__,{set_layers:"set_layers",get_layers:"get_layers",set_tilesets:"set_tilesets",get_tilesets:"get_tilesets",get_unobservedMaxTileHeight:"get_unobservedMaxTileHeight",set_maxTileHeight:"set_maxTileHeight",get_maxTileHeight:"get_maxTileHeight",get_unobservedMaxTileWidth:"get_unobservedMaxTileWidth",set_maxTileWidth:"set_maxTileWidth",get_maxTileWidth:"get_maxTileWidth",set_backgroundColor:"set_backgroundColor",get_backgroundColor:"get_backgroundColor",set_staggerIndex:"set_staggerIndex",get_staggerIndex:"get_staggerIndex",set_staggerAxis:"set_staggerAxis",get_staggerAxis:"get_staggerAxis",set_hexSideLength:"set_hexSideLength",get_hexSideLength:"get_hexSideLength",set_renderOrder:"set_renderOrder",get_renderOrder:"get_renderOrder",set_height:"set_height",get_height:"get_height",set_width:"set_width",get_width:"get_width",set_orientation:"set_orientation",get_orientation:"get_orientation",set_name:"set_name",get_name:"get_name"})}),function(){this.tileQuadMapping=new Ge,this.tileMeshes=null,this.renderType=1,this.tilesFilter=null,this.autoSizeTilesFilter=!0,this.destroyTilesFilterOnRemove=!0,this.tilesColor=16777215,this.tileQuads=[],this.tileScale=1,this.layerData=null,this.tilemap=null,o.call(this)}),kt=((E["ceramic.TilemapLayer"]=At).__name__="ceramic.TilemapLayer",At.__super__=o,At.prototype=$extend(o.prototype,{__cbOnTileQuadsChange:null,__cbOnceTileQuadsChange:null,__cbOnOwnerUnbindTileQuadsChange:null,__cbOnceOwnerUnbindTileQuadsChange:null,emitTileQuadsChange:function(){var e=0;if(null!=this.__cbOnTileQuadsChange&&(e+=this.__cbOnTileQuadsChange.length),null!=this.__cbOnceTileQuadsChange&&(e+=this.__cbOnceTileQuadsChange.length),0<e){var n=C.pool(e),t=n.get(),i=0;if(null!=this.__cbOnTileQuadsChange)for(var l=0,s=this.__cbOnTileQuadsChange.length;l<s;){var r=l++;!0?(t.vector[i]=this.__cbOnTileQuadsChange[r],++i):--e}if(null!=this.__cbOnceTileQuadsChange){for(var h=null,a=null,l=0,s=this.__cbOnceTileQuadsChange.length;l<s;){var o,r=l++;!0?(t.vector[i]=this.__cbOnceTileQuadsChange[r],this.__cbOnceTileQuadsChange[r]=null,o=this.__cbOnceOwnerUnbindTileQuadsChange[r],(this.__cbOnceOwnerUnbindTileQuadsChange[r]=null)!=o&&o(),++i):(--e,null==h&&(h=[],a=[],0),h.push(this.__cbOnceOwnerUnbindTileQuadsChange[r]),a.push(this.__cbOnceTileQuadsChange[r]))}this.__cbOnceOwnerUnbindTileQuadsChange=h,this.__cbOnceTileQuadsChange=a}for(l=0,s=e;l<s;){i=l++;(0,t.vector[i])()}n.release(t)}},onTileQuadsChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event tileQuadsChange because owner is destroyed!");var l=function(e){null!=t&&(i.offTileQuadsChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindTileQuadsChange&&(this.__cbOnOwnerUnbindTileQuadsChange=[]),this.__cbOnOwnerUnbindTileQuadsChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindTileQuadsChange&&(this.__cbOnOwnerUnbindTileQuadsChange=[]),this.__cbOnOwnerUnbindTileQuadsChange.push(null);null==this.__cbOnTileQuadsChange&&(this.__cbOnTileQuadsChange=[]),this.__cbOnTileQuadsChange.push(t)},onceTileQuadsChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event tileQuadsChange because owner is destroyed!");var l=function(e){null!=t&&(i.offTileQuadsChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindTileQuadsChange&&(this.__cbOnceOwnerUnbindTileQuadsChange=[]),this.__cbOnceOwnerUnbindTileQuadsChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindTileQuadsChange&&(this.__cbOnceOwnerUnbindTileQuadsChange=[]),this.__cbOnceOwnerUnbindTileQuadsChange.push(null);null==this.__cbOnceTileQuadsChange&&(this.__cbOnceTileQuadsChange=[]),this.__cbOnceTileQuadsChange.push(t)},offTileQuadsChange:function(e){if(null!=e){var n;null!=this.__cbOnTileQuadsChange&&-1!=(n=this.__cbOnTileQuadsChange.indexOf(e))&&(this.__cbOnTileQuadsChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindTileQuadsChange[n])&&s(),this.__cbOnOwnerUnbindTileQuadsChange.splice(n,1)),null!=this.__cbOnceTileQuadsChange&&-1!=(n=this.__cbOnceTileQuadsChange.indexOf(e))&&(this.__cbOnceTileQuadsChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindTileQuadsChange[n])&&s(),this.__cbOnceOwnerUnbindTileQuadsChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindTileQuadsChange){for(var t=0,i=this.__cbOnOwnerUnbindTileQuadsChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindTileQuadsChange[l])&&s()}this.__cbOnOwnerUnbindTileQuadsChange=null}if(null!=this.__cbOnceOwnerUnbindTileQuadsChange){for(t=0,i=this.__cbOnceOwnerUnbindTileQuadsChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindTileQuadsChange[l])&&s()}this.__cbOnceOwnerUnbindTileQuadsChange=null}this.__cbOnTileQuadsChange=null,this.__cbOnceTileQuadsChange=null}},listensTileQuadsChange:function(){return null!=this.__cbOnTileQuadsChange&&0<this.__cbOnTileQuadsChange.length||null!=this.__cbOnceTileQuadsChange&&0<this.__cbOnceTileQuadsChange.length},__cbOnTileMeshesChange:null,__cbOnceTileMeshesChange:null,__cbOnOwnerUnbindTileMeshesChange:null,__cbOnceOwnerUnbindTileMeshesChange:null,emitTileMeshesChange:function(){var e=0;if(null!=this.__cbOnTileMeshesChange&&(e+=this.__cbOnTileMeshesChange.length),null!=this.__cbOnceTileMeshesChange&&(e+=this.__cbOnceTileMeshesChange.length),0<e){var n=C.pool(e),t=n.get(),i=0;if(null!=this.__cbOnTileMeshesChange)for(var l=0,s=this.__cbOnTileMeshesChange.length;l<s;){var r=l++;!0?(t.vector[i]=this.__cbOnTileMeshesChange[r],++i):--e}if(null!=this.__cbOnceTileMeshesChange){for(var h=null,a=null,l=0,s=this.__cbOnceTileMeshesChange.length;l<s;){var o,r=l++;!0?(t.vector[i]=this.__cbOnceTileMeshesChange[r],this.__cbOnceTileMeshesChange[r]=null,o=this.__cbOnceOwnerUnbindTileMeshesChange[r],(this.__cbOnceOwnerUnbindTileMeshesChange[r]=null)!=o&&o(),++i):(--e,null==h&&(h=[],a=[],0),h.push(this.__cbOnceOwnerUnbindTileMeshesChange[r]),a.push(this.__cbOnceTileMeshesChange[r]))}this.__cbOnceOwnerUnbindTileMeshesChange=h,this.__cbOnceTileMeshesChange=a}for(l=0,s=e;l<s;){i=l++;(0,t.vector[i])()}n.release(t)}},onTileMeshesChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event tileMeshesChange because owner is destroyed!");var l=function(e){null!=t&&(i.offTileMeshesChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindTileMeshesChange&&(this.__cbOnOwnerUnbindTileMeshesChange=[]),this.__cbOnOwnerUnbindTileMeshesChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindTileMeshesChange&&(this.__cbOnOwnerUnbindTileMeshesChange=[]),this.__cbOnOwnerUnbindTileMeshesChange.push(null);null==this.__cbOnTileMeshesChange&&(this.__cbOnTileMeshesChange=[]),this.__cbOnTileMeshesChange.push(t)},onceTileMeshesChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event tileMeshesChange because owner is destroyed!");var l=function(e){null!=t&&(i.offTileMeshesChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindTileMeshesChange&&(this.__cbOnceOwnerUnbindTileMeshesChange=[]),this.__cbOnceOwnerUnbindTileMeshesChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindTileMeshesChange&&(this.__cbOnceOwnerUnbindTileMeshesChange=[]),this.__cbOnceOwnerUnbindTileMeshesChange.push(null);null==this.__cbOnceTileMeshesChange&&(this.__cbOnceTileMeshesChange=[]),this.__cbOnceTileMeshesChange.push(t)},offTileMeshesChange:function(e){if(null!=e){var n;null!=this.__cbOnTileMeshesChange&&-1!=(n=this.__cbOnTileMeshesChange.indexOf(e))&&(this.__cbOnTileMeshesChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindTileMeshesChange[n])&&s(),this.__cbOnOwnerUnbindTileMeshesChange.splice(n,1)),null!=this.__cbOnceTileMeshesChange&&-1!=(n=this.__cbOnceTileMeshesChange.indexOf(e))&&(this.__cbOnceTileMeshesChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindTileMeshesChange[n])&&s(),this.__cbOnceOwnerUnbindTileMeshesChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindTileMeshesChange){for(var t=0,i=this.__cbOnOwnerUnbindTileMeshesChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindTileMeshesChange[l])&&s()}this.__cbOnOwnerUnbindTileMeshesChange=null}if(null!=this.__cbOnceOwnerUnbindTileMeshesChange){for(t=0,i=this.__cbOnceOwnerUnbindTileMeshesChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindTileMeshesChange[l])&&s()}this.__cbOnceOwnerUnbindTileMeshesChange=null}this.__cbOnTileMeshesChange=null,this.__cbOnceTileMeshesChange=null}},listensTileMeshesChange:function(){return null!=this.__cbOnTileMeshesChange&&0<this.__cbOnTileMeshesChange.length||null!=this.__cbOnceTileMeshesChange&&0<this.__cbOnceTileMeshesChange.length},tilemap:null,layerData:null,set_layerData:function(e){return this.layerData!=e&&(this.layerData=e,this.contentDirty=!0,ae.app.visualsContentDirty=!0),e},tileScale:null,set_tileScale:function(e){return this.tileScale!=e&&(this.tileScale=e,this.contentDirty=!0,ae.app.visualsContentDirty=!0),e},tileQuads:null,tilesColor:null,set_tilesColor:function(e){if(this.tilesColor!=e){this.tilesColor=e;for(var n=null!=this.layerData?this.layerData.get_color():16777215,t=(e>>8&255)/255*((n>>8&255)/255),i=(255&e)/255*((255&n)/255),l=0,n=(l=l&65535|(255<(n=Math.round(255*((e>>16&255)/255*((n>>16&255)/255))))?255:n<0?0:n)<<16,Math.round(255*t)),n=(l=l&16711935|(255<n?255:n<0?0:n)<<8,Math.round(255*i)),s=l=l&16776960|(255<n?255:n<0?0:n),r=0,h=this.tileQuads.length;r<h;){var a=r++;this.tileQuads[a].color=s}}return e},destroyTilesFilterOnRemove:null,autoSizeTilesFilter:null,tilesFilter:null,set_tilesFilter:function(e){if(this.tilesFilter!=e){if(null!=this.tilesFilter){for(var n=this.tilesFilter.content,t=0,i=this.tileQuads.length;t<i;){var l=t++;(s=this.tileQuads[l]).parent==n&&n.remove(s)}if(null!=this.tileMeshes)for(t=0,i=this.tileMeshes.length;t<i;){l=t++;(r=this.tileMeshes[l]).parent==n&&n.remove(r)}this.destroyTilesFilterOnRemove?this.tilesFilter.destroy():this.tilesFilter.parent==this&&this.remove(this.tilesFilter),this.tilesFilter=null}if(null!=(this.tilesFilter=e)){for(n=e.content,t=0,i=this.tileQuads.length;t<i;){var l=t++,s=this.tileQuads[l];n.add(s)}if(null!=this.tileMeshes)for(t=0,i=this.tileMeshes.length;t<i;){var l=t++,r=this.tileMeshes[l];n.add(r)}this.add(e)}else{for(t=0,i=this.tileQuads.length;t<i;){l=t++,s=this.tileQuads[l];this.add(s)}if(null!=this.tileMeshes)for(t=0,i=this.tileMeshes.length;t<i;){l=t++,r=this.tileMeshes[l];this.add(r)}}this.contentDirty=!0,ae.app.visualsContentDirty=!0}return e},renderType:null,set_renderType:function(e){return this.renderType!=e&&(this.renderType=e,this.contentDirty=!0,ae.app.visualsContentDirty=!0),e},tileMeshes:null,tileQuadMapping:null,get_width:function(){return this.contentDirty&&this.computeContent(),o.prototype.get_width.call(this)},get_height:function(){return this.contentDirty&&this.computeContent(),o.prototype.get_height.call(this)},computeContent:function(){if(null==this.layerData)this.set_width(0),this.set_height(0);else{var e=this.tilemap,n=e.tilemapData,t=(this.computePosAndSize(),this.layerData),i=null!=t&&t.get_shouldRenderTiles()&&t.get_hasTiles();switch(this.renderType){case 0:for(;0<this.tileQuads.length;)this.tileQuads.pop().recycle();if(null!=this.tileMeshes)for(var l=0,s=this.tileMeshes.length;l<s;){l++;this.tileMeshes.pop().recycle()}break;case 1:if(i){if(null!=this.tileMeshes)for(l=0,s=this.tileMeshes.length;l<s;){l++;this.tileMeshes.pop().recycle()}this.computeTileQuads(e,n)}else{for(;0<this.tileQuads.length;)this.tileQuads.pop().recycle();if(null!=this.tileMeshes)for(l=0,s=this.tileMeshes.length;l<s;){l++;this.tileMeshes.pop().recycle()}}break;case 2:if(i){for(;0<this.tileQuads.length;)this.tileQuads.pop().recycle();this.computeTileMeshes(e,n)}else{for(;0<this.tileQuads.length;)this.tileQuads.pop().recycle();if(null!=this.tileMeshes)for(l=0,s=this.tileMeshes.length;l<s;){l++;this.tileMeshes.pop().recycle()}}break;default:for(;0<this.tileQuads.length;)this.tileQuads.pop().recycle();if(null!=this.tileMeshes)for(l=0,s=this.tileMeshes.length;l<s;){l++;this.tileMeshes.pop().recycle()}}}this.contentDirty=!1},clearQuads:function(){for(;0<this.tileQuads.length;)this.tileQuads.pop().recycle()},clearMeshes:function(){if(null!=this.tileMeshes)for(var e=0,n=this.tileMeshes.length;e<n;){e++;this.tileMeshes.pop().recycle()}},computePosAndSize:function(){var e=this.layerData,n=e.get_x()*e.get_tileWidth()+e.get_offsetX(),t=e.get_y()*e.get_tileHeight()+e.get_offsetY(),n=(this.set_x(n),this.set_y(t),e.get_columns()*e.get_tileWidth()),t=e.get_rows()*e.get_tileHeight();this.set_width(n),this.set_height(t)},computeTileQuads:function(e,n){var t,i=0,E=e.roundTilesTranslation,l=this.layerData,s=this._width,r=this._height,h=l.get_columns(),a=l.get_rows(),o=!1,c=e.clipTilesX,u=e.clipTilesY,_=e.clipTilesWidth,e=e.clipTilesHeight,d=(-1==c&&-1==u&&-1==_&&-1==e||(o=!0),l.get_offsetX()+l.get_x()*l.get_tileWidth()),b=l.get_offsetY()+l.get_y()*l.get_tileHeight(),g=0,O=0;if(null!=this.tilesFilter&&(s=s,r=r,o?(g=Math.floor(c/l.get_tileWidth())*l.get_tileWidth()-d,O=Math.floor(u/l.get_tileHeight())*l.get_tileHeight()-b,(t=this.tilesFilter).set_x(g),t.set_y(O),s=Math.ceil(_/l.get_tileWidth())*l.get_tileWidth()+l.get_tileWidth(),r=Math.ceil(e/l.get_tileHeight())*l.get_tileHeight()+l.get_tileHeight()):((t=this.tilesFilter).set_x(0),t.set_y(0)),this.autoSizeTilesFilter)&&0<s&&0<r&&((t=this.tilesFilter).set_width(s),t.set_height(r)),l.get_visible()){var f=0,p=0,C=1,v=h;switch(n.get_renderOrder()._hx_index){case 0:break;case 1:p=h*(a-1),v=-h;break;case 2:f=h-1,C=-1;break;case 3:f=h-1,C=-1,p=h*(a-1),v=-h}var w=l.get_computedTiles(),m=l.get_computedTilesAlpha(),y=l.get_computedTilesOffsetX(),R=l.get_computedTilesOffsetY();if(null==w&&(w=l.get_tiles(),m=l.get_tilesAlpha(),y=l.get_tilesOffsetX(),R=l.get_tilesOffsetY()),null!=w)for(var s=0,L=h-1,V=0,H=a-1,W=h*a,N=(o&&(s=Math.floor((c-d)/l.get_tileWidth()),L=Math.ceil((c+_-d)/l.get_tileWidth()),V=Math.floor((u-b)/l.get_tileHeight()),H=Math.ceil((u+e-b)/l.get_tileHeight())),w.length),z=s;z<=L;){for(var G=V;G<=H;){var U=G*h+z;if(U<0||N<=U);else for(;U<N;){var T=w[U];if(0==T);else{for(var Y=536870911&T,X=n.get_tilesets().length-1,K=null;0<=X;){var j=n.get_tilesets()[X];if(Y>=j.get_firstGid()){K=j;break}--X}var D=K;if(null!=D&&null!=D.get_image()&&0<D.get_columns()){var $=Y-D.get_firstGid(),Q=U%h,x=Math.floor(U/h),q=0,S=l.get_color(),A=this.tilesColor,k=(S>>8&255)/255*((A>>8&255)/255),I=(255&S)/255*((255&A)/255),P=0,S=Math.round(255*((S>>16&255)/255*((A>>16&255)/255))),A=(P=P&65535|(255<S?255:S<0?0:S)<<16,Math.round(255*k)),S=(P=P&16711935|(255<A?255:A<0?0:A)<<8,Math.round(255*I)),k=P=P&16776960|(255<S?255:S<0?0:S),A=l.get_shader(),I=l.get_opacity(),S=l.get_blending();for(a<=x&&(x-=a,q+=.1,I=l.get_extraOpacity());a<=x;)x-=a,q+=.1;null!=m&&(I*=m[U]);var F,P=Q*D.get_tileWidth(),Z=(null!=y&&(P+=y[U]),x*D.get_tileWidth()),J=(null!=R&&(Z+=R[U]),D.get_tileWidth()),ee=D.get_tileHeight();if(null==(F=i<this.tileQuads.length?this.tileQuads[i]:null)){if((F=Mt.get()).set_anchorX(.5),F.set_anchorY(.5),1!=F.inheritAlpha&&(F.inheritAlpha=!0,F.visibilityDirty=!0,null!=F.children))for(var ne=0,te=F.children.length;ne<te;){var ie=ne++,M=F.children[ie];if(M.visibilityDirty=!0,null!=M.children)for(var le=0,se=M.children.length;le<se;){var re=le++;M.children[re].set_visibilityDirty(!0)}}this.tileQuads.push(F),(null!=this.tilesFilter?this.tilesFilter.content:this).add(F)}++i,-1!=F.index&&F.index!=U&&(null!=(B=this.tileQuadMapping.intMap.h[0|F.index])?B:0)==i&&this.tileQuadMapping.set(F.index,0),this.tileQuadMapping.set(U,i),F.tilemapTile=T,F.set_roundTranslation(E),F.color=k,F.index=U,F.column=Q,F.row=x,F.set_alpha(I),F.set_blending(S),F.set_visible(!0);var B=D.get_image().texture,k=(F._texture!=B&&F._set_texture(B),F.frameX=$%D.get_columns()*(D.get_tileWidth()+2*D.get_margin()+D.get_spacing())+D.get_margin(),F.frameY=Math.floor($/D.get_columns())*(D.get_tileHeight()+2*D.get_margin()+D.get_spacing())+D.get_margin(),D.get_tileWidth()),I=(F.frameWidth!=k&&-1!=(F.frameWidth=k)&&F.set_width(k),D.get_tileHeight());F.frameHeight!=I&&-1!=(F.frameHeight=I)&&F.set_height(I),F.set_depth(f+Q*C+p+x*v+q),F.set_x(.5*J+P-g),F.set_y(.5*ee+Z-O),F.set_shader(A),0!=(536870912&T)?(0!=(1073741824&T)?F.set_scaleX(-1*this.tileScale):F.set_scaleX(this.tileScale),0!=(-2147483648&T)?F.set_scaleY(this.tileScale):F.set_scaleY(-1*this.tileScale),F.flags|=32):(0!=(-2147483648&T)?F.set_scaleX(-1*this.tileScale):F.set_scaleX(this.tileScale),0!=(1073741824&T)?F.set_scaleY(-1*this.tileScale):F.set_scaleY(this.tileScale),F.flags&=-33)}}U+=W}++G}++z}}for(;i<this.tileQuads.length;)(F=this.tileQuads.pop()).recycle();this.emitTileQuadsChange()},computeTileMeshes:function(e,E){var n=this.layerData,t=(null==this.tileMeshes&&(this.tileMeshes=[]),0),R=e.roundTilesTranslation,i=this._width,l=this._height,s=n.get_columns(),r=n.get_rows(),L=!1,h=e.clipTilesX,V=e.clipTilesY,H=e.clipTilesWidth,e=e.clipTilesHeight,W=(-1==h&&-1==V&&-1==H&&-1==e||(L=!0),n.get_offsetX()+n.get_x()*n.get_tileWidth()),N=n.get_offsetY()+n.get_y()*n.get_tileHeight(),z=0,G=0;if(null!=this.tilesFilter&&(i=i,l=l,L?(z=Math.floor(h/n.get_tileWidth())*n.get_tileWidth()-W,G=Math.floor(V/n.get_tileHeight())*n.get_tileHeight()-N,(o=this.tilesFilter).set_x(z),o.set_y(G),i=Math.ceil(H/n.get_tileWidth())*n.get_tileWidth()+n.get_tileWidth(),l=Math.ceil(e/n.get_tileHeight())*n.get_tileHeight()+n.get_tileHeight()):((o=this.tilesFilter).set_x(0),o.set_y(0)),this.autoSizeTilesFilter)&&0<i&&0<l&&((o=this.tilesFilter).set_width(i),o.set_height(l)),n.get_visible()){var a=n.get_computedTiles(),Y=n.get_computedTilesAlpha(),X=n.get_computedTilesOffsetX(),K=n.get_computedTilesOffsetY();if(null==a&&(a=n.get_tiles(),Y=n.get_tilesAlpha(),X=n.get_tilesOffsetX(),K=n.get_tilesOffsetY()),null!=a)for(var i=0,j=s-1,$=0,Q=r-1,q=s*r,Z=a.length,o=(L&&(i=Math.floor((h-W)/n.get_tileWidth()),j=Math.ceil((h+H-W)/n.get_tileWidth()),$=Math.floor((V-N)/n.get_tileHeight()),Q=Math.ceil((V+e-N)/n.get_tileHeight())),n.get_color()),l=this.tilesColor,L=(o>>8&255)/255*((l>>8&255)/255),h=(255&o)/255*((255&l)/255),c=(p=(p=0)&65535|(255<(c=Math.round(255*((o>>16&255)/255*((l>>16&255)/255))))?255:c<0?0:c)<<16,Math.round(255*L)),c=(p=p&16711935|(255<c?255:c<0?0:c)<<8,Math.round(255*h)),J=p=p&16776960|(255<c?255:c<0?0:c),ee=n.get_opacity(),ne=i;ne<=j;){for(var te=$;te<=Q;){var u=te*s+ne;if(0<=u&&u<Z)for(;u<Z;){var _=a[u];if(0!=_){for(var ie=536870911&_,le=E.get_tilesets().length-1,se=null;0<=le;){var re=E.get_tilesets()[le];if(ie>=re.get_firstGid()){se=re;break}--le}var d=se;if(null!=d&&null!=d.get_image()&&0<d.get_columns()){var b=d.get_image().texture;if(null!=b){var he=b.index,g=ie-d.get_firstGid(),ae=u%s,O=Math.floor(u/s),oe=ee,ce=0,ue=0,f=n.get_blending(),p=J,C=n.get_shader();for(r<=O&&(O-=r*(ce=Math.floor(O/r)),ue=.1*ce,oe=n.get_extraOpacity());r<=O;)O-=r,ue+=.1;for(var v=null,_e=0,de=t;_e<de;){var be=_e++,be=this.tileMeshes[be];if(be.layerIndex==ce&&be.textureIndex==he){v=be;break}}if(null==v){if(null==(v=t<this.tileMeshes.length?this.tileMeshes[t]:null)){if(1!=(v=It.get()).inheritAlpha&&(v.inheritAlpha=!0,v.visibilityDirty=!0,null!=v.children))for(var ge=0,Oe=v.children.length;ge<Oe;){var fe=ge++,pe=v.children[fe];if(pe.visibilityDirty=!0,null!=pe.children)for(var Ce=0,ve=pe.children.length;Ce<ve;){var we=Ce++;pe.children[we].set_visibilityDirty(!0)}}v.set_anchorX(0),v.set_anchorY(0),null==v.vertices&&(v.vertices=[]),null==v.uvs&&(v.uvs=[]),null==v.indices&&(v.indices=[]),null==v.colors&&(v.colors=[]),this.tileMeshes.push(v),(null!=this.tilesFilter?this.tilesFilter.content:this).add(v)}++t,v.texture!=b&&(null!=v.texture&&(v.texture.offDestroy($bind(v,v.textureDestroyed)),null!=v.texture.asset)&&v.texture.asset.release(),v.texture=b,null!=v.texture)&&(v.texture.onDestroy(v,$bind(v,v.textureDestroyed)),null!=v.texture.asset)&&v.texture.asset.retain(),v.colorMapping=2,v.set_active(!0),v.set_roundTranslation(R),v.set_blending(f),v.set_shader(C),v.set_depth(ue),v.layerIndex=ce,v.textureIndex=he,v.nextVertexIndice=0,v.nextIndexIndice=0,v.nextColorIndice=0,v.nextQuadIndice=0}var b=v.nextVertexIndice,f=v.nextIndexIndice,C=v.nextColorIndice,me=v.nextQuadIndice,ae=(null!=Y&&(oe*=Y[u]),ae*d.get_tileWidth()),ye=(null!=X&&(ae+=X[u]),O*d.get_tileHeight()),Ue=(null!=K&&(ye+=K[u]),d.get_tileWidth()),Te=d.get_tileHeight(),w=g%d.get_columns()*(d.get_tileWidth()+2*d.get_margin()+d.get_spacing())+d.get_margin(),g=Math.floor(g/d.get_columns())*(d.get_tileHeight()+2*d.get_margin()+d.get_spacing())+d.get_margin(),m=d.get_image().get_width(),y=d.get_image().get_height(),U=w/m,T=g/y,w=(w+d.get_tileWidth())/m,m=(g+d.get_tileHeight())/y,g=U,d=T,y=w,D=T,x=w,S=m,A=U,k=m,U=(0!=(536870912&_)?(y=g=U,S=D=T,A=x=w,k=d=m,0!=(1073741824&_)&&(U=g,T=d,g=y,d=D,y=U,D=T,U=A,T=k,A=x,k=S,x=U,S=T),0==(-2147483648&_)&&(w=g,m=d,g=A,d=k,A=w,k=m,w=y,m=D,y=x,D=S,x=w,S=m)):(0!=(-2147483648&_)&&(U=g,T=d,g=y,d=D,y=U,D=T,U=A,T=k,A=x,k=S,x=U,S=T),0!=(1073741824&_)&&(w=g,m=d,g=A,d=k,A=w,k=m,w=y,m=D,y=x,D=S,x=w,S=m)),this.tileScale),T=ae+.5*Ue-z,_=ye+.5*Te-G,w=.5*(Ue*U),m=.5*(Te*U),ae=T-w,ye=_-m,Ue=T+w,Te=_+m,U=v.vertices,T=v.uvs,w=v.indices,_=v.colors,m=(U[b]=ae,U[b+1]=ye,T[b]=g,T[b+1]=d,U[b+2]=Ue,U[b+3]=ye,T[b+2]=y,T[b+3]=D,U[b+4]=Ue,U[b+5]=Te,T[b+4]=x,T[b+5]=S,U[b+6]=ae,U[b+7]=Te,T[b+6]=A,T[b+7]=k,4*me),g=(w[f]=m,w[f+1]=1+m,w[f+2]=2+m,w[f+3]=m,w[f+4]=2+m,w[f+5]=3+m,Math.round(255*oe)),d=c=(c=(0|p)-16777216)&16777215|(255<(g=null==g?255:g)?255:g<0?0:g)<<24;_[C]=d,_[C+1]=d,_[C+2]=d,_[C+3]=d,v.nextVertexIndice=b+8,v.nextIndexIndice=f+6,v.nextColorIndice=C+4,v.nextQuadIndice=me+1}}}u+=q}++te}++ne}}for(_e=0,de=t;_e<de;){var fe=_e++,I=(v=this.tileMeshes[fe]).nextVertexIndice,P=v.nextIndexIndice,F=v.nextColorIndice;if(null!=v.vertices&&v.vertices.length>I){var M=v.vertices;if(M.length!=I)if(M.length>I)M.splice(I,M.length-I);else for(var De=M;De.length<I;)De.push(null)}if(null!=v.uvs&&v.uvs.length>I){M=v.uvs;if(M.length!=I)if(M.length>I)M.splice(I,M.length-I);else for(var xe=M;xe.length<I;)xe.push(null)}if(null!=v.indices&&v.indices.length>P){var B=v.indices;if(B.length!=P)if(B.length>P)B.splice(P,B.length-P);else for(var Se=B;Se.length<P;)Se.push(null)}if(null!=v.colors&&v.colors.length>F){B=v.colors;if(B.length!=F)if(B.length>F)B.splice(F,B.length-F);else for(var Ae=B;Ae.length<F;)Ae.push(null)}}for(;t<this.tileMeshes.length;)(v=this.tileMeshes.pop()).recycle();this.emitTileMeshesChange()},tileQuadByColumnAndRow:function(e,n){n=n*this.layerData.get_columns()+e,e=this.tileQuadMapping.intMap.h[0|n],n=null!=e?e:0;return-1!=n?this.tileQuads[n-1]:null},tileQuadByIndex:function(e){e=this.tileQuadMapping.intMap.h[0|e],e=null!=e?e:0;return-1!=e?this.tileQuads[e-1]:null},surroundingTileQuads:function(e,n,t,i,l){if(null==l&&(l=[]),null!=this.parent)for(var s=this.layerData,r=s.get_tileWidth(),s=s.get_tileHeight(),e=Math.floor(e/r),h=Math.ceil(t/r),a=Math.floor(n/s),o=Math.ceil(i/s),c=e;c<=h;){for(var u=a;u<=o;){var _=u*this.layerData.get_columns()+c,_=this.tileQuadMapping.intMap.h[0|_],_=null!=_?_:0,_=-1!=_?this.tileQuads[_-1]:null;null!=_&&l.push(_),++u}++c}return l},unbindEvents:function(){o.prototype.unbindEvents.call(this),this.offTileQuadsChange(),this.offTileMeshesChange()},__class__:At,__properties__:$extend(o.prototype.__properties__,{set_renderType:"set_renderType",set_tilesFilter:"set_tilesFilter",set_tilesColor:"set_tilesColor",set_tileScale:"set_tileScale",set_layerData:"set_layerData"})}),function(){this.unobservedTileHeight=-1,this.tileHeightAutoruns=null,this.unobservedTileWidth=-1,this.tileWidthAutoruns=null,this.unobservedShouldRenderTiles=!0,this.shouldRenderTilesAutoruns=null,this.computedOnceHasTiles=!1,this.hasTilesAutoruns=null,this.unobservedComputedTilesOffsetY=null,this.computedTilesOffsetYAutoruns=null,this.unobservedComputedTilesOffsetX=null,this.computedTilesOffsetXAutoruns=null,this.unobservedComputedTilesAlpha=null,this.computedTilesAlphaAutoruns=null,this.unobservedComputedTiles=null,this.computedTilesAutoruns=null,this.unobservedTilesOffsetY=null,this.tilesOffsetYAutoruns=null,this.unobservedTilesOffsetX=null,this.tilesOffsetXAutoruns=null,this.unobservedTilesAlpha=null,this.tilesAlphaAutoruns=null,this.unobservedTiles=null,this.tilesAutoruns=null,this.unobservedExtraOpacity=1,this.extraOpacityAutoruns=null,this.unobservedShader=null,this.shaderAutoruns=null,this.unobservedColor=16777215,this.colorAutoruns=null,this.unobservedBlending=0,this.blendingAutoruns=null,this.unobservedExplicitDepth=null,this.explicitDepthAutoruns=null,this.unobservedOffsetY=0,this.offsetYAutoruns=null,this.unobservedOffsetX=0,this.offsetXAutoruns=null,this.unobservedVisible=!0,this.visibleAutoruns=null,this.unobservedOpacity=1,this.opacityAutoruns=null,this.unobservedRows=0,this.rowsAutoruns=null,this.unobservedColumns=0,this.columnsAutoruns=null,this.unobservedY=0,this.yAutoruns=null,this.unobservedX=0,this.xAutoruns=null,this.unobservedName=null,this.nameAutoruns=null,R1.call(this)}),It=((E["ceramic.TilemapLayerData"]=kt).__name__="ceramic.TilemapLayerData",kt.__super__=R1,kt.prototype=$extend(R1.prototype,{nameAutoruns:null,get_name:function(){var e,n,t=this.unobservedName;return null!=A.current&&(e=A.current,null!=(n=this.nameAutoruns)||(n=A.getAutorunArray(),null!=(this.nameAutoruns=n)))&&e.bindToAutorunArray(n),t},set_name:function(e){var n=this.unobservedName;return n!=(this.unobservedName=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!0)),this.emitNameChange(e,n),null!=(n=this.nameAutoruns))&&(this.nameAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateName:function(){var e=this.unobservedName,e=(this.emitNameChange(e,e),this.nameAutoruns);null!=e&&(this.nameAutoruns=null,A.invalidateAutorunArray(e))},unobservedName:null,__cbOnNameChange:null,__cbOnceNameChange:null,__cbOnOwnerUnbindNameChange:null,__cbOnceOwnerUnbindNameChange:null,emitNameChange:function(e,n){var t=0;if(null!=this.__cbOnNameChange&&(t+=this.__cbOnNameChange.length),null!=this.__cbOnceNameChange&&(t+=this.__cbOnceNameChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnNameChange)for(var r=0,h=this.__cbOnNameChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnNameChange[a],++s):--t}if(null!=this.__cbOnceNameChange){for(var o=null,c=null,r=0,h=this.__cbOnceNameChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceNameChange[a],this.__cbOnceNameChange[a]=null,u=this.__cbOnceOwnerUnbindNameChange[a],(this.__cbOnceOwnerUnbindNameChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindNameChange[a]),c.push(this.__cbOnceNameChange[a]))}this.__cbOnceOwnerUnbindNameChange=o,this.__cbOnceNameChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onNameChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event nameChange because owner is destroyed!");var l=function(e){null!=t&&(i.offNameChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindNameChange&&(this.__cbOnOwnerUnbindNameChange=[]),this.__cbOnOwnerUnbindNameChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindNameChange&&(this.__cbOnOwnerUnbindNameChange=[]),this.__cbOnOwnerUnbindNameChange.push(null);null==this.__cbOnNameChange&&(this.__cbOnNameChange=[]),this.__cbOnNameChange.push(t)},onceNameChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event nameChange because owner is destroyed!");var l=function(e){null!=t&&(i.offNameChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindNameChange&&(this.__cbOnceOwnerUnbindNameChange=[]),this.__cbOnceOwnerUnbindNameChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindNameChange&&(this.__cbOnceOwnerUnbindNameChange=[]),this.__cbOnceOwnerUnbindNameChange.push(null);null==this.__cbOnceNameChange&&(this.__cbOnceNameChange=[]),this.__cbOnceNameChange.push(t)},offNameChange:function(e){if(null!=e){var n;null!=this.__cbOnNameChange&&-1!=(n=this.__cbOnNameChange.indexOf(e))&&(this.__cbOnNameChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindNameChange[n])&&s(),this.__cbOnOwnerUnbindNameChange.splice(n,1)),null!=this.__cbOnceNameChange&&-1!=(n=this.__cbOnceNameChange.indexOf(e))&&(this.__cbOnceNameChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindNameChange[n])&&s(),this.__cbOnceOwnerUnbindNameChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindNameChange){for(var t=0,i=this.__cbOnOwnerUnbindNameChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindNameChange[l])&&s()}this.__cbOnOwnerUnbindNameChange=null}if(null!=this.__cbOnceOwnerUnbindNameChange){for(t=0,i=this.__cbOnceOwnerUnbindNameChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindNameChange[l])&&s()}this.__cbOnceOwnerUnbindNameChange=null}this.__cbOnNameChange=null,this.__cbOnceNameChange=null}},listensNameChange:function(){return null!=this.__cbOnNameChange&&0<this.__cbOnNameChange.length||null!=this.__cbOnceNameChange&&0<this.__cbOnceNameChange.length},xAutoruns:null,get_x:function(){var e,n,t=this.unobservedX;return null!=A.current&&(e=A.current,null!=(n=this.xAutoruns)||(n=A.getAutorunArray(),null!=(this.xAutoruns=n)))&&e.bindToAutorunArray(n),t},set_x:function(e){var n=this.unobservedX;return n!=(this.unobservedX=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!0)),this.emitXChange(e,n),null!=(n=this.xAutoruns))&&(this.xAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateX:function(){var e=this.unobservedX,e=(this.emitXChange(e,e),this.xAutoruns);null!=e&&(this.xAutoruns=null,A.invalidateAutorunArray(e))},unobservedX:null,__cbOnXChange:null,__cbOnceXChange:null,__cbOnOwnerUnbindXChange:null,__cbOnceOwnerUnbindXChange:null,emitXChange:function(e,n){var t=0;if(null!=this.__cbOnXChange&&(t+=this.__cbOnXChange.length),null!=this.__cbOnceXChange&&(t+=this.__cbOnceXChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnXChange)for(var r=0,h=this.__cbOnXChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnXChange[a],++s):--t}if(null!=this.__cbOnceXChange){for(var o=null,c=null,r=0,h=this.__cbOnceXChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceXChange[a],this.__cbOnceXChange[a]=null,u=this.__cbOnceOwnerUnbindXChange[a],(this.__cbOnceOwnerUnbindXChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindXChange[a]),c.push(this.__cbOnceXChange[a]))}this.__cbOnceOwnerUnbindXChange=o,this.__cbOnceXChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onXChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event xChange because owner is destroyed!");var l=function(e){null!=t&&(i.offXChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindXChange&&(this.__cbOnOwnerUnbindXChange=[]),this.__cbOnOwnerUnbindXChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindXChange&&(this.__cbOnOwnerUnbindXChange=[]),this.__cbOnOwnerUnbindXChange.push(null);null==this.__cbOnXChange&&(this.__cbOnXChange=[]),this.__cbOnXChange.push(t)},onceXChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event xChange because owner is destroyed!");var l=function(e){null!=t&&(i.offXChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindXChange&&(this.__cbOnceOwnerUnbindXChange=[]),this.__cbOnceOwnerUnbindXChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindXChange&&(this.__cbOnceOwnerUnbindXChange=[]),this.__cbOnceOwnerUnbindXChange.push(null);null==this.__cbOnceXChange&&(this.__cbOnceXChange=[]),this.__cbOnceXChange.push(t)},offXChange:function(e){if(null!=e){var n;null!=this.__cbOnXChange&&-1!=(n=this.__cbOnXChange.indexOf(e))&&(this.__cbOnXChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindXChange[n])&&s(),this.__cbOnOwnerUnbindXChange.splice(n,1)),null!=this.__cbOnceXChange&&-1!=(n=this.__cbOnceXChange.indexOf(e))&&(this.__cbOnceXChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindXChange[n])&&s(),this.__cbOnceOwnerUnbindXChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindXChange){for(var t=0,i=this.__cbOnOwnerUnbindXChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindXChange[l])&&s()}this.__cbOnOwnerUnbindXChange=null}if(null!=this.__cbOnceOwnerUnbindXChange){for(t=0,i=this.__cbOnceOwnerUnbindXChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindXChange[l])&&s()}this.__cbOnceOwnerUnbindXChange=null}this.__cbOnXChange=null,this.__cbOnceXChange=null}},listensXChange:function(){return null!=this.__cbOnXChange&&0<this.__cbOnXChange.length||null!=this.__cbOnceXChange&&0<this.__cbOnceXChange.length},yAutoruns:null,get_y:function(){var e,n,t=this.unobservedY;return null!=A.current&&(e=A.current,null!=(n=this.yAutoruns)||(n=A.getAutorunArray(),null!=(this.yAutoruns=n)))&&e.bindToAutorunArray(n),t},set_y:function(e){var n=this.unobservedY;return n!=(this.unobservedY=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!0)),this.emitYChange(e,n),null!=(n=this.yAutoruns))&&(this.yAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateY:function(){var e=this.unobservedY,e=(this.emitYChange(e,e),this.yAutoruns);null!=e&&(this.yAutoruns=null,A.invalidateAutorunArray(e))},unobservedY:null,__cbOnYChange:null,__cbOnceYChange:null,__cbOnOwnerUnbindYChange:null,__cbOnceOwnerUnbindYChange:null,emitYChange:function(e,n){var t=0;if(null!=this.__cbOnYChange&&(t+=this.__cbOnYChange.length),null!=this.__cbOnceYChange&&(t+=this.__cbOnceYChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnYChange)for(var r=0,h=this.__cbOnYChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnYChange[a],++s):--t}if(null!=this.__cbOnceYChange){for(var o=null,c=null,r=0,h=this.__cbOnceYChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceYChange[a],this.__cbOnceYChange[a]=null,u=this.__cbOnceOwnerUnbindYChange[a],(this.__cbOnceOwnerUnbindYChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindYChange[a]),c.push(this.__cbOnceYChange[a]))}this.__cbOnceOwnerUnbindYChange=o,this.__cbOnceYChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onYChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event yChange because owner is destroyed!");var l=function(e){null!=t&&(i.offYChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindYChange&&(this.__cbOnOwnerUnbindYChange=[]),this.__cbOnOwnerUnbindYChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindYChange&&(this.__cbOnOwnerUnbindYChange=[]),this.__cbOnOwnerUnbindYChange.push(null);null==this.__cbOnYChange&&(this.__cbOnYChange=[]),this.__cbOnYChange.push(t)},onceYChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event yChange because owner is destroyed!");var l=function(e){null!=t&&(i.offYChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindYChange&&(this.__cbOnceOwnerUnbindYChange=[]),this.__cbOnceOwnerUnbindYChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindYChange&&(this.__cbOnceOwnerUnbindYChange=[]),this.__cbOnceOwnerUnbindYChange.push(null);null==this.__cbOnceYChange&&(this.__cbOnceYChange=[]),this.__cbOnceYChange.push(t)},offYChange:function(e){if(null!=e){var n;null!=this.__cbOnYChange&&-1!=(n=this.__cbOnYChange.indexOf(e))&&(this.__cbOnYChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindYChange[n])&&s(),this.__cbOnOwnerUnbindYChange.splice(n,1)),null!=this.__cbOnceYChange&&-1!=(n=this.__cbOnceYChange.indexOf(e))&&(this.__cbOnceYChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindYChange[n])&&s(),this.__cbOnceOwnerUnbindYChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindYChange){for(var t=0,i=this.__cbOnOwnerUnbindYChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindYChange[l])&&s()}this.__cbOnOwnerUnbindYChange=null}if(null!=this.__cbOnceOwnerUnbindYChange){for(t=0,i=this.__cbOnceOwnerUnbindYChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindYChange[l])&&s()}this.__cbOnceOwnerUnbindYChange=null}this.__cbOnYChange=null,this.__cbOnceYChange=null}},listensYChange:function(){return null!=this.__cbOnYChange&&0<this.__cbOnYChange.length||null!=this.__cbOnceYChange&&0<this.__cbOnceYChange.length},columnsAutoruns:null,get_columns:function(){var e,n,t=this.unobservedColumns;return null!=A.current&&(e=A.current,null!=(n=this.columnsAutoruns)||(n=A.getAutorunArray(),null!=(this.columnsAutoruns=n)))&&e.bindToAutorunArray(n),t},set_columns:function(e){var n=this.unobservedColumns;return n!=(this.unobservedColumns=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!0)),this.emitColumnsChange(e,n),null!=(n=this.columnsAutoruns))&&(this.columnsAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateColumns:function(){var e=this.unobservedColumns,e=(this.emitColumnsChange(e,e),this.columnsAutoruns);null!=e&&(this.columnsAutoruns=null,A.invalidateAutorunArray(e))},unobservedColumns:null,__cbOnColumnsChange:null,__cbOnceColumnsChange:null,__cbOnOwnerUnbindColumnsChange:null,__cbOnceOwnerUnbindColumnsChange:null,emitColumnsChange:function(e,n){var t=0;if(null!=this.__cbOnColumnsChange&&(t+=this.__cbOnColumnsChange.length),null!=this.__cbOnceColumnsChange&&(t+=this.__cbOnceColumnsChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnColumnsChange)for(var r=0,h=this.__cbOnColumnsChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnColumnsChange[a],++s):--t}if(null!=this.__cbOnceColumnsChange){for(var o=null,c=null,r=0,h=this.__cbOnceColumnsChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceColumnsChange[a],this.__cbOnceColumnsChange[a]=null,u=this.__cbOnceOwnerUnbindColumnsChange[a],(this.__cbOnceOwnerUnbindColumnsChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindColumnsChange[a]),c.push(this.__cbOnceColumnsChange[a]))}this.__cbOnceOwnerUnbindColumnsChange=o,this.__cbOnceColumnsChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onColumnsChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event columnsChange because owner is destroyed!");var l=function(e){null!=t&&(i.offColumnsChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindColumnsChange&&(this.__cbOnOwnerUnbindColumnsChange=[]),this.__cbOnOwnerUnbindColumnsChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindColumnsChange&&(this.__cbOnOwnerUnbindColumnsChange=[]),this.__cbOnOwnerUnbindColumnsChange.push(null);null==this.__cbOnColumnsChange&&(this.__cbOnColumnsChange=[]),this.__cbOnColumnsChange.push(t)},onceColumnsChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event columnsChange because owner is destroyed!");var l=function(e){null!=t&&(i.offColumnsChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindColumnsChange&&(this.__cbOnceOwnerUnbindColumnsChange=[]),this.__cbOnceOwnerUnbindColumnsChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindColumnsChange&&(this.__cbOnceOwnerUnbindColumnsChange=[]),this.__cbOnceOwnerUnbindColumnsChange.push(null);null==this.__cbOnceColumnsChange&&(this.__cbOnceColumnsChange=[]),this.__cbOnceColumnsChange.push(t)},offColumnsChange:function(e){if(null!=e){var n;null!=this.__cbOnColumnsChange&&-1!=(n=this.__cbOnColumnsChange.indexOf(e))&&(this.__cbOnColumnsChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindColumnsChange[n])&&s(),this.__cbOnOwnerUnbindColumnsChange.splice(n,1)),null!=this.__cbOnceColumnsChange&&-1!=(n=this.__cbOnceColumnsChange.indexOf(e))&&(this.__cbOnceColumnsChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindColumnsChange[n])&&s(),this.__cbOnceOwnerUnbindColumnsChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindColumnsChange){for(var t=0,i=this.__cbOnOwnerUnbindColumnsChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindColumnsChange[l])&&s()}this.__cbOnOwnerUnbindColumnsChange=null}if(null!=this.__cbOnceOwnerUnbindColumnsChange){for(t=0,i=this.__cbOnceOwnerUnbindColumnsChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindColumnsChange[l])&&s()}this.__cbOnceOwnerUnbindColumnsChange=null}this.__cbOnColumnsChange=null,this.__cbOnceColumnsChange=null}},listensColumnsChange:function(){return null!=this.__cbOnColumnsChange&&0<this.__cbOnColumnsChange.length||null!=this.__cbOnceColumnsChange&&0<this.__cbOnceColumnsChange.length},rowsAutoruns:null,get_rows:function(){var e,n,t=this.unobservedRows;return null!=A.current&&(e=A.current,null!=(n=this.rowsAutoruns)||(n=A.getAutorunArray(),null!=(this.rowsAutoruns=n)))&&e.bindToAutorunArray(n),t},set_rows:function(e){var n=this.unobservedRows;return n!=(this.unobservedRows=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!0)),this.emitRowsChange(e,n),null!=(n=this.rowsAutoruns))&&(this.rowsAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateRows:function(){var e=this.unobservedRows,e=(this.emitRowsChange(e,e),this.rowsAutoruns);null!=e&&(this.rowsAutoruns=null,A.invalidateAutorunArray(e))},unobservedRows:null,__cbOnRowsChange:null,__cbOnceRowsChange:null,__cbOnOwnerUnbindRowsChange:null,__cbOnceOwnerUnbindRowsChange:null,emitRowsChange:function(e,n){var t=0;if(null!=this.__cbOnRowsChange&&(t+=this.__cbOnRowsChange.length),null!=this.__cbOnceRowsChange&&(t+=this.__cbOnceRowsChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnRowsChange)for(var r=0,h=this.__cbOnRowsChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnRowsChange[a],++s):--t}if(null!=this.__cbOnceRowsChange){for(var o=null,c=null,r=0,h=this.__cbOnceRowsChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceRowsChange[a],this.__cbOnceRowsChange[a]=null,u=this.__cbOnceOwnerUnbindRowsChange[a],(this.__cbOnceOwnerUnbindRowsChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindRowsChange[a]),c.push(this.__cbOnceRowsChange[a]))}this.__cbOnceOwnerUnbindRowsChange=o,this.__cbOnceRowsChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onRowsChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event rowsChange because owner is destroyed!");var l=function(e){null!=t&&(i.offRowsChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindRowsChange&&(this.__cbOnOwnerUnbindRowsChange=[]),this.__cbOnOwnerUnbindRowsChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindRowsChange&&(this.__cbOnOwnerUnbindRowsChange=[]),this.__cbOnOwnerUnbindRowsChange.push(null);null==this.__cbOnRowsChange&&(this.__cbOnRowsChange=[]),this.__cbOnRowsChange.push(t)},onceRowsChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event rowsChange because owner is destroyed!");var l=function(e){null!=t&&(i.offRowsChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindRowsChange&&(this.__cbOnceOwnerUnbindRowsChange=[]),this.__cbOnceOwnerUnbindRowsChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindRowsChange&&(this.__cbOnceOwnerUnbindRowsChange=[]),this.__cbOnceOwnerUnbindRowsChange.push(null);null==this.__cbOnceRowsChange&&(this.__cbOnceRowsChange=[]),this.__cbOnceRowsChange.push(t)},offRowsChange:function(e){if(null!=e){var n;null!=this.__cbOnRowsChange&&-1!=(n=this.__cbOnRowsChange.indexOf(e))&&(this.__cbOnRowsChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindRowsChange[n])&&s(),this.__cbOnOwnerUnbindRowsChange.splice(n,1)),null!=this.__cbOnceRowsChange&&-1!=(n=this.__cbOnceRowsChange.indexOf(e))&&(this.__cbOnceRowsChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindRowsChange[n])&&s(),this.__cbOnceOwnerUnbindRowsChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindRowsChange){for(var t=0,i=this.__cbOnOwnerUnbindRowsChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindRowsChange[l])&&s()}this.__cbOnOwnerUnbindRowsChange=null}if(null!=this.__cbOnceOwnerUnbindRowsChange){for(t=0,i=this.__cbOnceOwnerUnbindRowsChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindRowsChange[l])&&s()}this.__cbOnceOwnerUnbindRowsChange=null}this.__cbOnRowsChange=null,this.__cbOnceRowsChange=null}},listensRowsChange:function(){return null!=this.__cbOnRowsChange&&0<this.__cbOnRowsChange.length||null!=this.__cbOnceRowsChange&&0<this.__cbOnceRowsChange.length},opacityAutoruns:null,get_opacity:function(){var e,n,t=this.unobservedOpacity;return null!=A.current&&(e=A.current,null!=(n=this.opacityAutoruns)||(n=A.getAutorunArray(),null!=(this.opacityAutoruns=n)))&&e.bindToAutorunArray(n),t},set_opacity:function(e){var n=this.unobservedOpacity;return n!=(this.unobservedOpacity=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!0)),this.emitOpacityChange(e,n),null!=(n=this.opacityAutoruns))&&(this.opacityAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateOpacity:function(){var e=this.unobservedOpacity,e=(this.emitOpacityChange(e,e),this.opacityAutoruns);null!=e&&(this.opacityAutoruns=null,A.invalidateAutorunArray(e))},unobservedOpacity:null,__cbOnOpacityChange:null,__cbOnceOpacityChange:null,__cbOnOwnerUnbindOpacityChange:null,__cbOnceOwnerUnbindOpacityChange:null,emitOpacityChange:function(e,n){var t=0;if(null!=this.__cbOnOpacityChange&&(t+=this.__cbOnOpacityChange.length),null!=this.__cbOnceOpacityChange&&(t+=this.__cbOnceOpacityChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnOpacityChange)for(var r=0,h=this.__cbOnOpacityChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnOpacityChange[a],++s):--t}if(null!=this.__cbOnceOpacityChange){for(var o=null,c=null,r=0,h=this.__cbOnceOpacityChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceOpacityChange[a],this.__cbOnceOpacityChange[a]=null,u=this.__cbOnceOwnerUnbindOpacityChange[a],(this.__cbOnceOwnerUnbindOpacityChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindOpacityChange[a]),c.push(this.__cbOnceOpacityChange[a]))}this.__cbOnceOwnerUnbindOpacityChange=o,this.__cbOnceOpacityChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onOpacityChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event opacityChange because owner is destroyed!");var l=function(e){null!=t&&(i.offOpacityChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindOpacityChange&&(this.__cbOnOwnerUnbindOpacityChange=[]),this.__cbOnOwnerUnbindOpacityChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindOpacityChange&&(this.__cbOnOwnerUnbindOpacityChange=[]),this.__cbOnOwnerUnbindOpacityChange.push(null);null==this.__cbOnOpacityChange&&(this.__cbOnOpacityChange=[]),this.__cbOnOpacityChange.push(t)},onceOpacityChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event opacityChange because owner is destroyed!");var l=function(e){null!=t&&(i.offOpacityChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindOpacityChange&&(this.__cbOnceOwnerUnbindOpacityChange=[]),this.__cbOnceOwnerUnbindOpacityChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindOpacityChange&&(this.__cbOnceOwnerUnbindOpacityChange=[]),this.__cbOnceOwnerUnbindOpacityChange.push(null);null==this.__cbOnceOpacityChange&&(this.__cbOnceOpacityChange=[]),this.__cbOnceOpacityChange.push(t)},offOpacityChange:function(e){if(null!=e){var n;null!=this.__cbOnOpacityChange&&-1!=(n=this.__cbOnOpacityChange.indexOf(e))&&(this.__cbOnOpacityChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindOpacityChange[n])&&s(),this.__cbOnOwnerUnbindOpacityChange.splice(n,1)),null!=this.__cbOnceOpacityChange&&-1!=(n=this.__cbOnceOpacityChange.indexOf(e))&&(this.__cbOnceOpacityChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindOpacityChange[n])&&s(),this.__cbOnceOwnerUnbindOpacityChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindOpacityChange){for(var t=0,i=this.__cbOnOwnerUnbindOpacityChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindOpacityChange[l])&&s()}this.__cbOnOwnerUnbindOpacityChange=null}if(null!=this.__cbOnceOwnerUnbindOpacityChange){for(t=0,i=this.__cbOnceOwnerUnbindOpacityChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindOpacityChange[l])&&s()}this.__cbOnceOwnerUnbindOpacityChange=null}this.__cbOnOpacityChange=null,this.__cbOnceOpacityChange=null}},listensOpacityChange:function(){return null!=this.__cbOnOpacityChange&&0<this.__cbOnOpacityChange.length||null!=this.__cbOnceOpacityChange&&0<this.__cbOnceOpacityChange.length},visibleAutoruns:null,get_visible:function(){var e,n,t=this.unobservedVisible;return null!=A.current&&(e=A.current,null!=(n=this.visibleAutoruns)||(n=A.getAutorunArray(),null!=(this.visibleAutoruns=n)))&&e.bindToAutorunArray(n),t},set_visible:function(e){var n=this.unobservedVisible;return n!=(this.unobservedVisible=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!0)),this.emitVisibleChange(e,n),null!=(n=this.visibleAutoruns))&&(this.visibleAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateVisible:function(){var e=this.unobservedVisible,e=(this.emitVisibleChange(e,e),this.visibleAutoruns);null!=e&&(this.visibleAutoruns=null,A.invalidateAutorunArray(e))},unobservedVisible:null,__cbOnVisibleChange:null,__cbOnceVisibleChange:null,__cbOnOwnerUnbindVisibleChange:null,__cbOnceOwnerUnbindVisibleChange:null,emitVisibleChange:function(e,n){var t=0;if(null!=this.__cbOnVisibleChange&&(t+=this.__cbOnVisibleChange.length),null!=this.__cbOnceVisibleChange&&(t+=this.__cbOnceVisibleChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnVisibleChange)for(var r=0,h=this.__cbOnVisibleChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnVisibleChange[a],++s):--t}if(null!=this.__cbOnceVisibleChange){for(var o=null,c=null,r=0,h=this.__cbOnceVisibleChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceVisibleChange[a],this.__cbOnceVisibleChange[a]=null,u=this.__cbOnceOwnerUnbindVisibleChange[a],(this.__cbOnceOwnerUnbindVisibleChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindVisibleChange[a]),c.push(this.__cbOnceVisibleChange[a]))}this.__cbOnceOwnerUnbindVisibleChange=o,this.__cbOnceVisibleChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onVisibleChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event visibleChange because owner is destroyed!");var l=function(e){null!=t&&(i.offVisibleChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindVisibleChange&&(this.__cbOnOwnerUnbindVisibleChange=[]),this.__cbOnOwnerUnbindVisibleChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindVisibleChange&&(this.__cbOnOwnerUnbindVisibleChange=[]),this.__cbOnOwnerUnbindVisibleChange.push(null);null==this.__cbOnVisibleChange&&(this.__cbOnVisibleChange=[]),this.__cbOnVisibleChange.push(t)},onceVisibleChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event visibleChange because owner is destroyed!");var l=function(e){null!=t&&(i.offVisibleChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindVisibleChange&&(this.__cbOnceOwnerUnbindVisibleChange=[]),this.__cbOnceOwnerUnbindVisibleChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindVisibleChange&&(this.__cbOnceOwnerUnbindVisibleChange=[]),this.__cbOnceOwnerUnbindVisibleChange.push(null);null==this.__cbOnceVisibleChange&&(this.__cbOnceVisibleChange=[]),this.__cbOnceVisibleChange.push(t)},offVisibleChange:function(e){if(null!=e){var n;null!=this.__cbOnVisibleChange&&-1!=(n=this.__cbOnVisibleChange.indexOf(e))&&(this.__cbOnVisibleChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindVisibleChange[n])&&s(),this.__cbOnOwnerUnbindVisibleChange.splice(n,1)),null!=this.__cbOnceVisibleChange&&-1!=(n=this.__cbOnceVisibleChange.indexOf(e))&&(this.__cbOnceVisibleChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindVisibleChange[n])&&s(),this.__cbOnceOwnerUnbindVisibleChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindVisibleChange){for(var t=0,i=this.__cbOnOwnerUnbindVisibleChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindVisibleChange[l])&&s()}this.__cbOnOwnerUnbindVisibleChange=null}if(null!=this.__cbOnceOwnerUnbindVisibleChange){for(t=0,i=this.__cbOnceOwnerUnbindVisibleChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindVisibleChange[l])&&s()}this.__cbOnceOwnerUnbindVisibleChange=null}this.__cbOnVisibleChange=null,this.__cbOnceVisibleChange=null}},listensVisibleChange:function(){return null!=this.__cbOnVisibleChange&&0<this.__cbOnVisibleChange.length||null!=this.__cbOnceVisibleChange&&0<this.__cbOnceVisibleChange.length},offsetXAutoruns:null,get_offsetX:function(){var e,n,t=this.unobservedOffsetX;return null!=A.current&&(e=A.current,null!=(n=this.offsetXAutoruns)||(n=A.getAutorunArray(),null!=(this.offsetXAutoruns=n)))&&e.bindToAutorunArray(n),t},set_offsetX:function(e){var n=this.unobservedOffsetX;return n!=(this.unobservedOffsetX=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!0)),this.emitOffsetXChange(e,n),null!=(n=this.offsetXAutoruns))&&(this.offsetXAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateOffsetX:function(){var e=this.unobservedOffsetX,e=(this.emitOffsetXChange(e,e),this.offsetXAutoruns);null!=e&&(this.offsetXAutoruns=null,A.invalidateAutorunArray(e))},unobservedOffsetX:null,__cbOnOffsetXChange:null,__cbOnceOffsetXChange:null,__cbOnOwnerUnbindOffsetXChange:null,__cbOnceOwnerUnbindOffsetXChange:null,emitOffsetXChange:function(e,n){var t=0;if(null!=this.__cbOnOffsetXChange&&(t+=this.__cbOnOffsetXChange.length),null!=this.__cbOnceOffsetXChange&&(t+=this.__cbOnceOffsetXChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnOffsetXChange)for(var r=0,h=this.__cbOnOffsetXChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnOffsetXChange[a],++s):--t}if(null!=this.__cbOnceOffsetXChange){for(var o=null,c=null,r=0,h=this.__cbOnceOffsetXChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceOffsetXChange[a],this.__cbOnceOffsetXChange[a]=null,u=this.__cbOnceOwnerUnbindOffsetXChange[a],(this.__cbOnceOwnerUnbindOffsetXChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindOffsetXChange[a]),c.push(this.__cbOnceOffsetXChange[a]))}this.__cbOnceOwnerUnbindOffsetXChange=o,this.__cbOnceOffsetXChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onOffsetXChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event offsetXChange because owner is destroyed!");var l=function(e){null!=t&&(i.offOffsetXChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindOffsetXChange&&(this.__cbOnOwnerUnbindOffsetXChange=[]),this.__cbOnOwnerUnbindOffsetXChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindOffsetXChange&&(this.__cbOnOwnerUnbindOffsetXChange=[]),this.__cbOnOwnerUnbindOffsetXChange.push(null);null==this.__cbOnOffsetXChange&&(this.__cbOnOffsetXChange=[]),this.__cbOnOffsetXChange.push(t)},onceOffsetXChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event offsetXChange because owner is destroyed!");var l=function(e){null!=t&&(i.offOffsetXChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindOffsetXChange&&(this.__cbOnceOwnerUnbindOffsetXChange=[]),this.__cbOnceOwnerUnbindOffsetXChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindOffsetXChange&&(this.__cbOnceOwnerUnbindOffsetXChange=[]),this.__cbOnceOwnerUnbindOffsetXChange.push(null);null==this.__cbOnceOffsetXChange&&(this.__cbOnceOffsetXChange=[]),this.__cbOnceOffsetXChange.push(t)},offOffsetXChange:function(e){if(null!=e){var n;null!=this.__cbOnOffsetXChange&&-1!=(n=this.__cbOnOffsetXChange.indexOf(e))&&(this.__cbOnOffsetXChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindOffsetXChange[n])&&s(),this.__cbOnOwnerUnbindOffsetXChange.splice(n,1)),null!=this.__cbOnceOffsetXChange&&-1!=(n=this.__cbOnceOffsetXChange.indexOf(e))&&(this.__cbOnceOffsetXChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindOffsetXChange[n])&&s(),this.__cbOnceOwnerUnbindOffsetXChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindOffsetXChange){for(var t=0,i=this.__cbOnOwnerUnbindOffsetXChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindOffsetXChange[l])&&s()}this.__cbOnOwnerUnbindOffsetXChange=null}if(null!=this.__cbOnceOwnerUnbindOffsetXChange){for(t=0,i=this.__cbOnceOwnerUnbindOffsetXChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindOffsetXChange[l])&&s()}this.__cbOnceOwnerUnbindOffsetXChange=null}this.__cbOnOffsetXChange=null,this.__cbOnceOffsetXChange=null}},listensOffsetXChange:function(){return null!=this.__cbOnOffsetXChange&&0<this.__cbOnOffsetXChange.length||null!=this.__cbOnceOffsetXChange&&0<this.__cbOnceOffsetXChange.length},offsetYAutoruns:null,get_offsetY:function(){var e,n,t=this.unobservedOffsetY;return null!=A.current&&(e=A.current,null!=(n=this.offsetYAutoruns)||(n=A.getAutorunArray(),null!=(this.offsetYAutoruns=n)))&&e.bindToAutorunArray(n),t},set_offsetY:function(e){var n=this.unobservedOffsetY;return n!=(this.unobservedOffsetY=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!0)),this.emitOffsetYChange(e,n),null!=(n=this.offsetYAutoruns))&&(this.offsetYAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateOffsetY:function(){var e=this.unobservedOffsetY,e=(this.emitOffsetYChange(e,e),this.offsetYAutoruns);null!=e&&(this.offsetYAutoruns=null,A.invalidateAutorunArray(e))},unobservedOffsetY:null,__cbOnOffsetYChange:null,__cbOnceOffsetYChange:null,__cbOnOwnerUnbindOffsetYChange:null,__cbOnceOwnerUnbindOffsetYChange:null,emitOffsetYChange:function(e,n){var t=0;if(null!=this.__cbOnOffsetYChange&&(t+=this.__cbOnOffsetYChange.length),null!=this.__cbOnceOffsetYChange&&(t+=this.__cbOnceOffsetYChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnOffsetYChange)for(var r=0,h=this.__cbOnOffsetYChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnOffsetYChange[a],++s):--t}if(null!=this.__cbOnceOffsetYChange){for(var o=null,c=null,r=0,h=this.__cbOnceOffsetYChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceOffsetYChange[a],this.__cbOnceOffsetYChange[a]=null,u=this.__cbOnceOwnerUnbindOffsetYChange[a],(this.__cbOnceOwnerUnbindOffsetYChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindOffsetYChange[a]),c.push(this.__cbOnceOffsetYChange[a]))}this.__cbOnceOwnerUnbindOffsetYChange=o,this.__cbOnceOffsetYChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onOffsetYChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event offsetYChange because owner is destroyed!");var l=function(e){null!=t&&(i.offOffsetYChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindOffsetYChange&&(this.__cbOnOwnerUnbindOffsetYChange=[]),this.__cbOnOwnerUnbindOffsetYChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindOffsetYChange&&(this.__cbOnOwnerUnbindOffsetYChange=[]),this.__cbOnOwnerUnbindOffsetYChange.push(null);null==this.__cbOnOffsetYChange&&(this.__cbOnOffsetYChange=[]),this.__cbOnOffsetYChange.push(t)},onceOffsetYChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event offsetYChange because owner is destroyed!");var l=function(e){null!=t&&(i.offOffsetYChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindOffsetYChange&&(this.__cbOnceOwnerUnbindOffsetYChange=[]),this.__cbOnceOwnerUnbindOffsetYChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindOffsetYChange&&(this.__cbOnceOwnerUnbindOffsetYChange=[]),this.__cbOnceOwnerUnbindOffsetYChange.push(null);null==this.__cbOnceOffsetYChange&&(this.__cbOnceOffsetYChange=[]),this.__cbOnceOffsetYChange.push(t)},offOffsetYChange:function(e){if(null!=e){var n;null!=this.__cbOnOffsetYChange&&-1!=(n=this.__cbOnOffsetYChange.indexOf(e))&&(this.__cbOnOffsetYChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindOffsetYChange[n])&&s(),this.__cbOnOwnerUnbindOffsetYChange.splice(n,1)),null!=this.__cbOnceOffsetYChange&&-1!=(n=this.__cbOnceOffsetYChange.indexOf(e))&&(this.__cbOnceOffsetYChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindOffsetYChange[n])&&s(),this.__cbOnceOwnerUnbindOffsetYChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindOffsetYChange){for(var t=0,i=this.__cbOnOwnerUnbindOffsetYChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindOffsetYChange[l])&&s()}this.__cbOnOwnerUnbindOffsetYChange=null}if(null!=this.__cbOnceOwnerUnbindOffsetYChange){for(t=0,i=this.__cbOnceOwnerUnbindOffsetYChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindOffsetYChange[l])&&s()}this.__cbOnceOwnerUnbindOffsetYChange=null}this.__cbOnOffsetYChange=null,this.__cbOnceOffsetYChange=null}},listensOffsetYChange:function(){return null!=this.__cbOnOffsetYChange&&0<this.__cbOnOffsetYChange.length||null!=this.__cbOnceOffsetYChange&&0<this.__cbOnceOffsetYChange.length},explicitDepthAutoruns:null,get_explicitDepth:function(){var e,n,t=this.unobservedExplicitDepth;return null!=A.current&&(e=A.current,null!=(n=this.explicitDepthAutoruns)||(n=A.getAutorunArray(),null!=(this.explicitDepthAutoruns=n)))&&e.bindToAutorunArray(n),t},set_explicitDepth:function(e){var n=this.unobservedExplicitDepth;return n!=(this.unobservedExplicitDepth=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!0)),this.emitExplicitDepthChange(e,n),null!=(n=this.explicitDepthAutoruns))&&(this.explicitDepthAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateExplicitDepth:function(){var e=this.unobservedExplicitDepth,e=(this.emitExplicitDepthChange(e,e),this.explicitDepthAutoruns);null!=e&&(this.explicitDepthAutoruns=null,A.invalidateAutorunArray(e))},unobservedExplicitDepth:null,__cbOnExplicitDepthChange:null,__cbOnceExplicitDepthChange:null,__cbOnOwnerUnbindExplicitDepthChange:null,__cbOnceOwnerUnbindExplicitDepthChange:null,emitExplicitDepthChange:function(e,n){var t=0;if(null!=this.__cbOnExplicitDepthChange&&(t+=this.__cbOnExplicitDepthChange.length),null!=this.__cbOnceExplicitDepthChange&&(t+=this.__cbOnceExplicitDepthChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnExplicitDepthChange)for(var r=0,h=this.__cbOnExplicitDepthChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnExplicitDepthChange[a],++s):--t}if(null!=this.__cbOnceExplicitDepthChange){for(var o=null,c=null,r=0,h=this.__cbOnceExplicitDepthChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceExplicitDepthChange[a],this.__cbOnceExplicitDepthChange[a]=null,u=this.__cbOnceOwnerUnbindExplicitDepthChange[a],(this.__cbOnceOwnerUnbindExplicitDepthChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindExplicitDepthChange[a]),c.push(this.__cbOnceExplicitDepthChange[a]))}this.__cbOnceOwnerUnbindExplicitDepthChange=o,this.__cbOnceExplicitDepthChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onExplicitDepthChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event explicitDepthChange because owner is destroyed!");var l=function(e){null!=t&&(i.offExplicitDepthChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindExplicitDepthChange&&(this.__cbOnOwnerUnbindExplicitDepthChange=[]),this.__cbOnOwnerUnbindExplicitDepthChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindExplicitDepthChange&&(this.__cbOnOwnerUnbindExplicitDepthChange=[]),this.__cbOnOwnerUnbindExplicitDepthChange.push(null);null==this.__cbOnExplicitDepthChange&&(this.__cbOnExplicitDepthChange=[]),this.__cbOnExplicitDepthChange.push(t)},onceExplicitDepthChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event explicitDepthChange because owner is destroyed!");var l=function(e){null!=t&&(i.offExplicitDepthChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindExplicitDepthChange&&(this.__cbOnceOwnerUnbindExplicitDepthChange=[]),this.__cbOnceOwnerUnbindExplicitDepthChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindExplicitDepthChange&&(this.__cbOnceOwnerUnbindExplicitDepthChange=[]),this.__cbOnceOwnerUnbindExplicitDepthChange.push(null);null==this.__cbOnceExplicitDepthChange&&(this.__cbOnceExplicitDepthChange=[]),this.__cbOnceExplicitDepthChange.push(t)},offExplicitDepthChange:function(e){if(null!=e){var n;null!=this.__cbOnExplicitDepthChange&&-1!=(n=this.__cbOnExplicitDepthChange.indexOf(e))&&(this.__cbOnExplicitDepthChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindExplicitDepthChange[n])&&s(),this.__cbOnOwnerUnbindExplicitDepthChange.splice(n,1)),null!=this.__cbOnceExplicitDepthChange&&-1!=(n=this.__cbOnceExplicitDepthChange.indexOf(e))&&(this.__cbOnceExplicitDepthChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindExplicitDepthChange[n])&&s(),this.__cbOnceOwnerUnbindExplicitDepthChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindExplicitDepthChange){for(var t=0,i=this.__cbOnOwnerUnbindExplicitDepthChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindExplicitDepthChange[l])&&s()}this.__cbOnOwnerUnbindExplicitDepthChange=null}if(null!=this.__cbOnceOwnerUnbindExplicitDepthChange){for(t=0,i=this.__cbOnceOwnerUnbindExplicitDepthChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindExplicitDepthChange[l])&&s()}this.__cbOnceOwnerUnbindExplicitDepthChange=null}this.__cbOnExplicitDepthChange=null,this.__cbOnceExplicitDepthChange=null}},listensExplicitDepthChange:function(){return null!=this.__cbOnExplicitDepthChange&&0<this.__cbOnExplicitDepthChange.length||null!=this.__cbOnceExplicitDepthChange&&0<this.__cbOnceExplicitDepthChange.length},blendingAutoruns:null,get_blending:function(){var e,n,t=this.unobservedBlending;return null!=A.current&&(e=A.current,null!=(n=this.blendingAutoruns)||(n=A.getAutorunArray(),null!=(this.blendingAutoruns=n)))&&e.bindToAutorunArray(n),t},set_blending:function(e){var n=this.unobservedBlending;return n!=(this.unobservedBlending=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!0)),this.emitBlendingChange(e,n),null!=(n=this.blendingAutoruns))&&(this.blendingAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateBlending:function(){var e=this.unobservedBlending,e=(this.emitBlendingChange(e,e),this.blendingAutoruns);null!=e&&(this.blendingAutoruns=null,A.invalidateAutorunArray(e))},unobservedBlending:null,__cbOnBlendingChange:null,__cbOnceBlendingChange:null,__cbOnOwnerUnbindBlendingChange:null,__cbOnceOwnerUnbindBlendingChange:null,emitBlendingChange:function(e,n){var t=0;if(null!=this.__cbOnBlendingChange&&(t+=this.__cbOnBlendingChange.length),null!=this.__cbOnceBlendingChange&&(t+=this.__cbOnceBlendingChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnBlendingChange)for(var r=0,h=this.__cbOnBlendingChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnBlendingChange[a],++s):--t}if(null!=this.__cbOnceBlendingChange){for(var o=null,c=null,r=0,h=this.__cbOnceBlendingChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceBlendingChange[a],this.__cbOnceBlendingChange[a]=null,u=this.__cbOnceOwnerUnbindBlendingChange[a],(this.__cbOnceOwnerUnbindBlendingChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindBlendingChange[a]),c.push(this.__cbOnceBlendingChange[a]))}this.__cbOnceOwnerUnbindBlendingChange=o,this.__cbOnceBlendingChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onBlendingChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event blendingChange because owner is destroyed!");var l=function(e){null!=t&&(i.offBlendingChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindBlendingChange&&(this.__cbOnOwnerUnbindBlendingChange=[]),this.__cbOnOwnerUnbindBlendingChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindBlendingChange&&(this.__cbOnOwnerUnbindBlendingChange=[]),this.__cbOnOwnerUnbindBlendingChange.push(null);null==this.__cbOnBlendingChange&&(this.__cbOnBlendingChange=[]),this.__cbOnBlendingChange.push(t)},onceBlendingChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event blendingChange because owner is destroyed!");var l=function(e){null!=t&&(i.offBlendingChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindBlendingChange&&(this.__cbOnceOwnerUnbindBlendingChange=[]),this.__cbOnceOwnerUnbindBlendingChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindBlendingChange&&(this.__cbOnceOwnerUnbindBlendingChange=[]),this.__cbOnceOwnerUnbindBlendingChange.push(null);null==this.__cbOnceBlendingChange&&(this.__cbOnceBlendingChange=[]),this.__cbOnceBlendingChange.push(t)},offBlendingChange:function(e){if(null!=e){var n;null!=this.__cbOnBlendingChange&&-1!=(n=this.__cbOnBlendingChange.indexOf(e))&&(this.__cbOnBlendingChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindBlendingChange[n])&&s(),this.__cbOnOwnerUnbindBlendingChange.splice(n,1)),null!=this.__cbOnceBlendingChange&&-1!=(n=this.__cbOnceBlendingChange.indexOf(e))&&(this.__cbOnceBlendingChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindBlendingChange[n])&&s(),this.__cbOnceOwnerUnbindBlendingChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindBlendingChange){for(var t=0,i=this.__cbOnOwnerUnbindBlendingChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindBlendingChange[l])&&s()}this.__cbOnOwnerUnbindBlendingChange=null}if(null!=this.__cbOnceOwnerUnbindBlendingChange){for(t=0,i=this.__cbOnceOwnerUnbindBlendingChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindBlendingChange[l])&&s()}this.__cbOnceOwnerUnbindBlendingChange=null}this.__cbOnBlendingChange=null,this.__cbOnceBlendingChange=null}},listensBlendingChange:function(){return null!=this.__cbOnBlendingChange&&0<this.__cbOnBlendingChange.length||null!=this.__cbOnceBlendingChange&&0<this.__cbOnceBlendingChange.length},colorAutoruns:null,get_color:function(){var e,n,t=this.unobservedColor;return null!=A.current&&(e=A.current,null!=(n=this.colorAutoruns)||(n=A.getAutorunArray(),null!=(this.colorAutoruns=n)))&&e.bindToAutorunArray(n),t},set_color:function(e){var n=this.unobservedColor;return n!=(this.unobservedColor=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!0)),this.emitColorChange(e,n),null!=(n=this.colorAutoruns))&&(this.colorAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateColor:function(){var e=this.unobservedColor,e=(this.emitColorChange(e,e),this.colorAutoruns);null!=e&&(this.colorAutoruns=null,A.invalidateAutorunArray(e))},unobservedColor:null,__cbOnColorChange:null,__cbOnceColorChange:null,__cbOnOwnerUnbindColorChange:null,__cbOnceOwnerUnbindColorChange:null,emitColorChange:function(e,n){var t=0;if(null!=this.__cbOnColorChange&&(t+=this.__cbOnColorChange.length),null!=this.__cbOnceColorChange&&(t+=this.__cbOnceColorChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnColorChange)for(var r=0,h=this.__cbOnColorChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnColorChange[a],++s):--t}if(null!=this.__cbOnceColorChange){for(var o=null,c=null,r=0,h=this.__cbOnceColorChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceColorChange[a],this.__cbOnceColorChange[a]=null,u=this.__cbOnceOwnerUnbindColorChange[a],(this.__cbOnceOwnerUnbindColorChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindColorChange[a]),c.push(this.__cbOnceColorChange[a]))}this.__cbOnceOwnerUnbindColorChange=o,this.__cbOnceColorChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onColorChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event colorChange because owner is destroyed!");var l=function(e){null!=t&&(i.offColorChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindColorChange&&(this.__cbOnOwnerUnbindColorChange=[]),this.__cbOnOwnerUnbindColorChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindColorChange&&(this.__cbOnOwnerUnbindColorChange=[]),this.__cbOnOwnerUnbindColorChange.push(null);null==this.__cbOnColorChange&&(this.__cbOnColorChange=[]),this.__cbOnColorChange.push(t)},onceColorChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event colorChange because owner is destroyed!");var l=function(e){null!=t&&(i.offColorChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindColorChange&&(this.__cbOnceOwnerUnbindColorChange=[]),this.__cbOnceOwnerUnbindColorChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindColorChange&&(this.__cbOnceOwnerUnbindColorChange=[]),this.__cbOnceOwnerUnbindColorChange.push(null);null==this.__cbOnceColorChange&&(this.__cbOnceColorChange=[]),this.__cbOnceColorChange.push(t)},offColorChange:function(e){if(null!=e){var n;null!=this.__cbOnColorChange&&-1!=(n=this.__cbOnColorChange.indexOf(e))&&(this.__cbOnColorChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindColorChange[n])&&s(),this.__cbOnOwnerUnbindColorChange.splice(n,1)),null!=this.__cbOnceColorChange&&-1!=(n=this.__cbOnceColorChange.indexOf(e))&&(this.__cbOnceColorChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindColorChange[n])&&s(),this.__cbOnceOwnerUnbindColorChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindColorChange){for(var t=0,i=this.__cbOnOwnerUnbindColorChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindColorChange[l])&&s()}this.__cbOnOwnerUnbindColorChange=null}if(null!=this.__cbOnceOwnerUnbindColorChange){for(t=0,i=this.__cbOnceOwnerUnbindColorChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindColorChange[l])&&s()}this.__cbOnceOwnerUnbindColorChange=null}this.__cbOnColorChange=null,this.__cbOnceColorChange=null}},listensColorChange:function(){return null!=this.__cbOnColorChange&&0<this.__cbOnColorChange.length||null!=this.__cbOnceColorChange&&0<this.__cbOnceColorChange.length},shaderAutoruns:null,get_shader:function(){var e,n,t=this.unobservedShader;return null!=A.current&&(e=A.current,null!=(n=this.shaderAutoruns)||(n=A.getAutorunArray(),null!=(this.shaderAutoruns=n)))&&e.bindToAutorunArray(n),t},set_shader:function(e){var n=this.unobservedShader;return n!=(this.unobservedShader=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!0)),this.emitShaderChange(e,n),null!=(n=this.shaderAutoruns))&&(this.shaderAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateShader:function(){var e=this.unobservedShader,e=(this.emitShaderChange(e,e),this.shaderAutoruns);null!=e&&(this.shaderAutoruns=null,A.invalidateAutorunArray(e))},unobservedShader:null,__cbOnShaderChange:null,__cbOnceShaderChange:null,__cbOnOwnerUnbindShaderChange:null,__cbOnceOwnerUnbindShaderChange:null,emitShaderChange:function(e,n){var t=0;if(null!=this.__cbOnShaderChange&&(t+=this.__cbOnShaderChange.length),null!=this.__cbOnceShaderChange&&(t+=this.__cbOnceShaderChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnShaderChange)for(var r=0,h=this.__cbOnShaderChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnShaderChange[a],++s):--t}if(null!=this.__cbOnceShaderChange){for(var o=null,c=null,r=0,h=this.__cbOnceShaderChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceShaderChange[a],this.__cbOnceShaderChange[a]=null,u=this.__cbOnceOwnerUnbindShaderChange[a],(this.__cbOnceOwnerUnbindShaderChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindShaderChange[a]),c.push(this.__cbOnceShaderChange[a]))}this.__cbOnceOwnerUnbindShaderChange=o,this.__cbOnceShaderChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onShaderChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event shaderChange because owner is destroyed!");var l=function(e){null!=t&&(i.offShaderChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindShaderChange&&(this.__cbOnOwnerUnbindShaderChange=[]),this.__cbOnOwnerUnbindShaderChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindShaderChange&&(this.__cbOnOwnerUnbindShaderChange=[]),this.__cbOnOwnerUnbindShaderChange.push(null);null==this.__cbOnShaderChange&&(this.__cbOnShaderChange=[]),this.__cbOnShaderChange.push(t)},onceShaderChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event shaderChange because owner is destroyed!");var l=function(e){null!=t&&(i.offShaderChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindShaderChange&&(this.__cbOnceOwnerUnbindShaderChange=[]),this.__cbOnceOwnerUnbindShaderChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindShaderChange&&(this.__cbOnceOwnerUnbindShaderChange=[]),this.__cbOnceOwnerUnbindShaderChange.push(null);null==this.__cbOnceShaderChange&&(this.__cbOnceShaderChange=[]),this.__cbOnceShaderChange.push(t)},offShaderChange:function(e){if(null!=e){var n;null!=this.__cbOnShaderChange&&-1!=(n=this.__cbOnShaderChange.indexOf(e))&&(this.__cbOnShaderChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindShaderChange[n])&&s(),this.__cbOnOwnerUnbindShaderChange.splice(n,1)),null!=this.__cbOnceShaderChange&&-1!=(n=this.__cbOnceShaderChange.indexOf(e))&&(this.__cbOnceShaderChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindShaderChange[n])&&s(),this.__cbOnceOwnerUnbindShaderChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindShaderChange){for(var t=0,i=this.__cbOnOwnerUnbindShaderChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindShaderChange[l])&&s()}this.__cbOnOwnerUnbindShaderChange=null}if(null!=this.__cbOnceOwnerUnbindShaderChange){for(t=0,i=this.__cbOnceOwnerUnbindShaderChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindShaderChange[l])&&s()}this.__cbOnceOwnerUnbindShaderChange=null}this.__cbOnShaderChange=null,this.__cbOnceShaderChange=null}},listensShaderChange:function(){return null!=this.__cbOnShaderChange&&0<this.__cbOnShaderChange.length||null!=this.__cbOnceShaderChange&&0<this.__cbOnceShaderChange.length},extraOpacityAutoruns:null,get_extraOpacity:function(){var e,n,t=this.unobservedExtraOpacity;return null!=A.current&&(e=A.current,null!=(n=this.extraOpacityAutoruns)||(n=A.getAutorunArray(),null!=(this.extraOpacityAutoruns=n)))&&e.bindToAutorunArray(n),t},set_extraOpacity:function(e){var n=this.unobservedExtraOpacity;return n!=(this.unobservedExtraOpacity=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!0)),this.emitExtraOpacityChange(e,n),null!=(n=this.extraOpacityAutoruns))&&(this.extraOpacityAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateExtraOpacity:function(){var e=this.unobservedExtraOpacity,e=(this.emitExtraOpacityChange(e,e),this.extraOpacityAutoruns);null!=e&&(this.extraOpacityAutoruns=null,A.invalidateAutorunArray(e))},unobservedExtraOpacity:null,__cbOnExtraOpacityChange:null,__cbOnceExtraOpacityChange:null,__cbOnOwnerUnbindExtraOpacityChange:null,__cbOnceOwnerUnbindExtraOpacityChange:null,emitExtraOpacityChange:function(e,n){var t=0;if(null!=this.__cbOnExtraOpacityChange&&(t+=this.__cbOnExtraOpacityChange.length),null!=this.__cbOnceExtraOpacityChange&&(t+=this.__cbOnceExtraOpacityChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnExtraOpacityChange)for(var r=0,h=this.__cbOnExtraOpacityChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnExtraOpacityChange[a],++s):--t}if(null!=this.__cbOnceExtraOpacityChange){for(var o=null,c=null,r=0,h=this.__cbOnceExtraOpacityChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceExtraOpacityChange[a],this.__cbOnceExtraOpacityChange[a]=null,u=this.__cbOnceOwnerUnbindExtraOpacityChange[a],(this.__cbOnceOwnerUnbindExtraOpacityChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindExtraOpacityChange[a]),c.push(this.__cbOnceExtraOpacityChange[a]))}this.__cbOnceOwnerUnbindExtraOpacityChange=o,this.__cbOnceExtraOpacityChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onExtraOpacityChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event extraOpacityChange because owner is destroyed!");var l=function(e){null!=t&&(i.offExtraOpacityChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindExtraOpacityChange&&(this.__cbOnOwnerUnbindExtraOpacityChange=[]),this.__cbOnOwnerUnbindExtraOpacityChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindExtraOpacityChange&&(this.__cbOnOwnerUnbindExtraOpacityChange=[]),this.__cbOnOwnerUnbindExtraOpacityChange.push(null);null==this.__cbOnExtraOpacityChange&&(this.__cbOnExtraOpacityChange=[]),this.__cbOnExtraOpacityChange.push(t)},onceExtraOpacityChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event extraOpacityChange because owner is destroyed!");var l=function(e){null!=t&&(i.offExtraOpacityChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindExtraOpacityChange&&(this.__cbOnceOwnerUnbindExtraOpacityChange=[]),this.__cbOnceOwnerUnbindExtraOpacityChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindExtraOpacityChange&&(this.__cbOnceOwnerUnbindExtraOpacityChange=[]),this.__cbOnceOwnerUnbindExtraOpacityChange.push(null);null==this.__cbOnceExtraOpacityChange&&(this.__cbOnceExtraOpacityChange=[]),this.__cbOnceExtraOpacityChange.push(t)},offExtraOpacityChange:function(e){if(null!=e){var n;null!=this.__cbOnExtraOpacityChange&&-1!=(n=this.__cbOnExtraOpacityChange.indexOf(e))&&(this.__cbOnExtraOpacityChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindExtraOpacityChange[n])&&s(),this.__cbOnOwnerUnbindExtraOpacityChange.splice(n,1)),null!=this.__cbOnceExtraOpacityChange&&-1!=(n=this.__cbOnceExtraOpacityChange.indexOf(e))&&(this.__cbOnceExtraOpacityChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindExtraOpacityChange[n])&&s(),this.__cbOnceOwnerUnbindExtraOpacityChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindExtraOpacityChange){for(var t=0,i=this.__cbOnOwnerUnbindExtraOpacityChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindExtraOpacityChange[l])&&s()}this.__cbOnOwnerUnbindExtraOpacityChange=null}if(null!=this.__cbOnceOwnerUnbindExtraOpacityChange){for(t=0,i=this.__cbOnceOwnerUnbindExtraOpacityChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindExtraOpacityChange[l])&&s()}this.__cbOnceOwnerUnbindExtraOpacityChange=null}this.__cbOnExtraOpacityChange=null,this.__cbOnceExtraOpacityChange=null}},listensExtraOpacityChange:function(){return null!=this.__cbOnExtraOpacityChange&&0<this.__cbOnExtraOpacityChange.length||null!=this.__cbOnceExtraOpacityChange&&0<this.__cbOnceExtraOpacityChange.length},tilesAutoruns:null,get_tiles:function(){var e,n,t=this.unobservedTiles;return null!=A.current&&(e=A.current,null!=(n=this.tilesAutoruns)||(n=A.getAutorunArray(),null!=(this.tilesAutoruns=n)))&&e.bindToAutorunArray(n),t},set_tiles:function(e){var n=this.unobservedTiles;return this.unobservedTiles=e,Ds.equalAny(n,e)||(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!0)),this.emitTilesChange(e,n),null!=(n=this.tilesAutoruns)&&(this.tilesAutoruns=null,A.invalidateAutorunArray(n))),e},invalidateTiles:function(){var e=this.unobservedTiles,e=(this.emitTilesChange(e,e),this.tilesAutoruns);null!=e&&(this.tilesAutoruns=null,A.invalidateAutorunArray(e))},unobservedTiles:null,__cbOnTilesChange:null,__cbOnceTilesChange:null,__cbOnOwnerUnbindTilesChange:null,__cbOnceOwnerUnbindTilesChange:null,emitTilesChange:function(e,n){var t=0;if(null!=this.__cbOnTilesChange&&(t+=this.__cbOnTilesChange.length),null!=this.__cbOnceTilesChange&&(t+=this.__cbOnceTilesChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnTilesChange)for(var r=0,h=this.__cbOnTilesChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnTilesChange[a],++s):--t}if(null!=this.__cbOnceTilesChange){for(var o=null,c=null,r=0,h=this.__cbOnceTilesChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceTilesChange[a],this.__cbOnceTilesChange[a]=null,u=this.__cbOnceOwnerUnbindTilesChange[a],(this.__cbOnceOwnerUnbindTilesChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindTilesChange[a]),c.push(this.__cbOnceTilesChange[a]))}this.__cbOnceOwnerUnbindTilesChange=o,this.__cbOnceTilesChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onTilesChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event tilesChange because owner is destroyed!");var l=function(e){null!=t&&(i.offTilesChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindTilesChange&&(this.__cbOnOwnerUnbindTilesChange=[]),this.__cbOnOwnerUnbindTilesChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindTilesChange&&(this.__cbOnOwnerUnbindTilesChange=[]),this.__cbOnOwnerUnbindTilesChange.push(null);null==this.__cbOnTilesChange&&(this.__cbOnTilesChange=[]),this.__cbOnTilesChange.push(t)},onceTilesChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event tilesChange because owner is destroyed!");var l=function(e){null!=t&&(i.offTilesChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindTilesChange&&(this.__cbOnceOwnerUnbindTilesChange=[]),this.__cbOnceOwnerUnbindTilesChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindTilesChange&&(this.__cbOnceOwnerUnbindTilesChange=[]),this.__cbOnceOwnerUnbindTilesChange.push(null);null==this.__cbOnceTilesChange&&(this.__cbOnceTilesChange=[]),this.__cbOnceTilesChange.push(t)},offTilesChange:function(e){if(null!=e){var n;null!=this.__cbOnTilesChange&&-1!=(n=this.__cbOnTilesChange.indexOf(e))&&(this.__cbOnTilesChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindTilesChange[n])&&s(),this.__cbOnOwnerUnbindTilesChange.splice(n,1)),null!=this.__cbOnceTilesChange&&-1!=(n=this.__cbOnceTilesChange.indexOf(e))&&(this.__cbOnceTilesChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindTilesChange[n])&&s(),this.__cbOnceOwnerUnbindTilesChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindTilesChange){for(var t=0,i=this.__cbOnOwnerUnbindTilesChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindTilesChange[l])&&s()}this.__cbOnOwnerUnbindTilesChange=null}if(null!=this.__cbOnceOwnerUnbindTilesChange){for(t=0,i=this.__cbOnceOwnerUnbindTilesChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindTilesChange[l])&&s()}this.__cbOnceOwnerUnbindTilesChange=null}this.__cbOnTilesChange=null,this.__cbOnceTilesChange=null}},listensTilesChange:function(){return null!=this.__cbOnTilesChange&&0<this.__cbOnTilesChange.length||null!=this.__cbOnceTilesChange&&0<this.__cbOnceTilesChange.length},tilesAlphaAutoruns:null,get_tilesAlpha:function(){var e,n,t=this.unobservedTilesAlpha;return null!=A.current&&(e=A.current,null!=(n=this.tilesAlphaAutoruns)||(n=A.getAutorunArray(),null!=(this.tilesAlphaAutoruns=n)))&&e.bindToAutorunArray(n),t},set_tilesAlpha:function(e){var n=this.unobservedTilesAlpha;return this.unobservedTilesAlpha=e,Ds.equalAny(n,e)||(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!0)),this.emitTilesAlphaChange(e,n),null!=(n=this.tilesAlphaAutoruns)&&(this.tilesAlphaAutoruns=null,A.invalidateAutorunArray(n))),e},invalidateTilesAlpha:function(){var e=this.unobservedTilesAlpha,e=(this.emitTilesAlphaChange(e,e),this.tilesAlphaAutoruns);null!=e&&(this.tilesAlphaAutoruns=null,A.invalidateAutorunArray(e))},unobservedTilesAlpha:null,__cbOnTilesAlphaChange:null,__cbOnceTilesAlphaChange:null,__cbOnOwnerUnbindTilesAlphaChange:null,__cbOnceOwnerUnbindTilesAlphaChange:null,emitTilesAlphaChange:function(e,n){var t=0;if(null!=this.__cbOnTilesAlphaChange&&(t+=this.__cbOnTilesAlphaChange.length),null!=this.__cbOnceTilesAlphaChange&&(t+=this.__cbOnceTilesAlphaChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnTilesAlphaChange)for(var r=0,h=this.__cbOnTilesAlphaChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnTilesAlphaChange[a],++s):--t}if(null!=this.__cbOnceTilesAlphaChange){for(var o=null,c=null,r=0,h=this.__cbOnceTilesAlphaChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceTilesAlphaChange[a],this.__cbOnceTilesAlphaChange[a]=null,u=this.__cbOnceOwnerUnbindTilesAlphaChange[a],(this.__cbOnceOwnerUnbindTilesAlphaChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindTilesAlphaChange[a]),c.push(this.__cbOnceTilesAlphaChange[a]))}this.__cbOnceOwnerUnbindTilesAlphaChange=o,this.__cbOnceTilesAlphaChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onTilesAlphaChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event tilesAlphaChange because owner is destroyed!");var l=function(e){null!=t&&(i.offTilesAlphaChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindTilesAlphaChange&&(this.__cbOnOwnerUnbindTilesAlphaChange=[]),this.__cbOnOwnerUnbindTilesAlphaChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindTilesAlphaChange&&(this.__cbOnOwnerUnbindTilesAlphaChange=[]),this.__cbOnOwnerUnbindTilesAlphaChange.push(null);null==this.__cbOnTilesAlphaChange&&(this.__cbOnTilesAlphaChange=[]),this.__cbOnTilesAlphaChange.push(t)},onceTilesAlphaChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event tilesAlphaChange because owner is destroyed!");var l=function(e){null!=t&&(i.offTilesAlphaChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindTilesAlphaChange&&(this.__cbOnceOwnerUnbindTilesAlphaChange=[]),this.__cbOnceOwnerUnbindTilesAlphaChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindTilesAlphaChange&&(this.__cbOnceOwnerUnbindTilesAlphaChange=[]),this.__cbOnceOwnerUnbindTilesAlphaChange.push(null);null==this.__cbOnceTilesAlphaChange&&(this.__cbOnceTilesAlphaChange=[]),this.__cbOnceTilesAlphaChange.push(t)},offTilesAlphaChange:function(e){if(null!=e){var n;null!=this.__cbOnTilesAlphaChange&&-1!=(n=this.__cbOnTilesAlphaChange.indexOf(e))&&(this.__cbOnTilesAlphaChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindTilesAlphaChange[n])&&s(),this.__cbOnOwnerUnbindTilesAlphaChange.splice(n,1)),null!=this.__cbOnceTilesAlphaChange&&-1!=(n=this.__cbOnceTilesAlphaChange.indexOf(e))&&(this.__cbOnceTilesAlphaChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindTilesAlphaChange[n])&&s(),this.__cbOnceOwnerUnbindTilesAlphaChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindTilesAlphaChange){for(var t=0,i=this.__cbOnOwnerUnbindTilesAlphaChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindTilesAlphaChange[l])&&s()}this.__cbOnOwnerUnbindTilesAlphaChange=null}if(null!=this.__cbOnceOwnerUnbindTilesAlphaChange){for(t=0,i=this.__cbOnceOwnerUnbindTilesAlphaChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindTilesAlphaChange[l])&&s()}this.__cbOnceOwnerUnbindTilesAlphaChange=null}this.__cbOnTilesAlphaChange=null,this.__cbOnceTilesAlphaChange=null}},listensTilesAlphaChange:function(){return null!=this.__cbOnTilesAlphaChange&&0<this.__cbOnTilesAlphaChange.length||null!=this.__cbOnceTilesAlphaChange&&0<this.__cbOnceTilesAlphaChange.length},tilesOffsetXAutoruns:null,get_tilesOffsetX:function(){var e,n,t=this.unobservedTilesOffsetX;return null!=A.current&&(e=A.current,null!=(n=this.tilesOffsetXAutoruns)||(n=A.getAutorunArray(),null!=(this.tilesOffsetXAutoruns=n)))&&e.bindToAutorunArray(n),t},set_tilesOffsetX:function(e){var n=this.unobservedTilesOffsetX;return this.unobservedTilesOffsetX=e,Ds.equalAny(n,e)||(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!0)),this.emitTilesOffsetXChange(e,n),null!=(n=this.tilesOffsetXAutoruns)&&(this.tilesOffsetXAutoruns=null,A.invalidateAutorunArray(n))),e},invalidateTilesOffsetX:function(){var e=this.unobservedTilesOffsetX,e=(this.emitTilesOffsetXChange(e,e),this.tilesOffsetXAutoruns);null!=e&&(this.tilesOffsetXAutoruns=null,A.invalidateAutorunArray(e))},unobservedTilesOffsetX:null,__cbOnTilesOffsetXChange:null,__cbOnceTilesOffsetXChange:null,__cbOnOwnerUnbindTilesOffsetXChange:null,__cbOnceOwnerUnbindTilesOffsetXChange:null,emitTilesOffsetXChange:function(e,n){var t=0;if(null!=this.__cbOnTilesOffsetXChange&&(t+=this.__cbOnTilesOffsetXChange.length),null!=this.__cbOnceTilesOffsetXChange&&(t+=this.__cbOnceTilesOffsetXChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnTilesOffsetXChange)for(var r=0,h=this.__cbOnTilesOffsetXChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnTilesOffsetXChange[a],++s):--t}if(null!=this.__cbOnceTilesOffsetXChange){for(var o=null,c=null,r=0,h=this.__cbOnceTilesOffsetXChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceTilesOffsetXChange[a],this.__cbOnceTilesOffsetXChange[a]=null,u=this.__cbOnceOwnerUnbindTilesOffsetXChange[a],(this.__cbOnceOwnerUnbindTilesOffsetXChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindTilesOffsetXChange[a]),c.push(this.__cbOnceTilesOffsetXChange[a]))}this.__cbOnceOwnerUnbindTilesOffsetXChange=o,this.__cbOnceTilesOffsetXChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onTilesOffsetXChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event tilesOffsetXChange because owner is destroyed!");var l=function(e){null!=t&&(i.offTilesOffsetXChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindTilesOffsetXChange&&(this.__cbOnOwnerUnbindTilesOffsetXChange=[]),this.__cbOnOwnerUnbindTilesOffsetXChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindTilesOffsetXChange&&(this.__cbOnOwnerUnbindTilesOffsetXChange=[]),this.__cbOnOwnerUnbindTilesOffsetXChange.push(null);null==this.__cbOnTilesOffsetXChange&&(this.__cbOnTilesOffsetXChange=[]),this.__cbOnTilesOffsetXChange.push(t)},onceTilesOffsetXChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event tilesOffsetXChange because owner is destroyed!");var l=function(e){null!=t&&(i.offTilesOffsetXChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindTilesOffsetXChange&&(this.__cbOnceOwnerUnbindTilesOffsetXChange=[]),this.__cbOnceOwnerUnbindTilesOffsetXChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindTilesOffsetXChange&&(this.__cbOnceOwnerUnbindTilesOffsetXChange=[]),this.__cbOnceOwnerUnbindTilesOffsetXChange.push(null);null==this.__cbOnceTilesOffsetXChange&&(this.__cbOnceTilesOffsetXChange=[]),this.__cbOnceTilesOffsetXChange.push(t)},offTilesOffsetXChange:function(e){if(null!=e){var n;null!=this.__cbOnTilesOffsetXChange&&-1!=(n=this.__cbOnTilesOffsetXChange.indexOf(e))&&(this.__cbOnTilesOffsetXChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindTilesOffsetXChange[n])&&s(),this.__cbOnOwnerUnbindTilesOffsetXChange.splice(n,1)),null!=this.__cbOnceTilesOffsetXChange&&-1!=(n=this.__cbOnceTilesOffsetXChange.indexOf(e))&&(this.__cbOnceTilesOffsetXChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindTilesOffsetXChange[n])&&s(),this.__cbOnceOwnerUnbindTilesOffsetXChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindTilesOffsetXChange){for(var t=0,i=this.__cbOnOwnerUnbindTilesOffsetXChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindTilesOffsetXChange[l])&&s()}this.__cbOnOwnerUnbindTilesOffsetXChange=null}if(null!=this.__cbOnceOwnerUnbindTilesOffsetXChange){for(t=0,i=this.__cbOnceOwnerUnbindTilesOffsetXChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindTilesOffsetXChange[l])&&s()}this.__cbOnceOwnerUnbindTilesOffsetXChange=null}this.__cbOnTilesOffsetXChange=null,this.__cbOnceTilesOffsetXChange=null}},listensTilesOffsetXChange:function(){return null!=this.__cbOnTilesOffsetXChange&&0<this.__cbOnTilesOffsetXChange.length||null!=this.__cbOnceTilesOffsetXChange&&0<this.__cbOnceTilesOffsetXChange.length},tilesOffsetYAutoruns:null,get_tilesOffsetY:function(){var e,n,t=this.unobservedTilesOffsetY;return null!=A.current&&(e=A.current,null!=(n=this.tilesOffsetYAutoruns)||(n=A.getAutorunArray(),null!=(this.tilesOffsetYAutoruns=n)))&&e.bindToAutorunArray(n),t},set_tilesOffsetY:function(e){var n=this.unobservedTilesOffsetY;return this.unobservedTilesOffsetY=e,Ds.equalAny(n,e)||(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!0)),this.emitTilesOffsetYChange(e,n),null!=(n=this.tilesOffsetYAutoruns)&&(this.tilesOffsetYAutoruns=null,A.invalidateAutorunArray(n))),e},invalidateTilesOffsetY:function(){var e=this.unobservedTilesOffsetY,e=(this.emitTilesOffsetYChange(e,e),this.tilesOffsetYAutoruns);null!=e&&(this.tilesOffsetYAutoruns=null,A.invalidateAutorunArray(e))},unobservedTilesOffsetY:null,__cbOnTilesOffsetYChange:null,__cbOnceTilesOffsetYChange:null,__cbOnOwnerUnbindTilesOffsetYChange:null,__cbOnceOwnerUnbindTilesOffsetYChange:null,emitTilesOffsetYChange:function(e,n){var t=0;if(null!=this.__cbOnTilesOffsetYChange&&(t+=this.__cbOnTilesOffsetYChange.length),null!=this.__cbOnceTilesOffsetYChange&&(t+=this.__cbOnceTilesOffsetYChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnTilesOffsetYChange)for(var r=0,h=this.__cbOnTilesOffsetYChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnTilesOffsetYChange[a],++s):--t}if(null!=this.__cbOnceTilesOffsetYChange){for(var o=null,c=null,r=0,h=this.__cbOnceTilesOffsetYChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceTilesOffsetYChange[a],this.__cbOnceTilesOffsetYChange[a]=null,u=this.__cbOnceOwnerUnbindTilesOffsetYChange[a],(this.__cbOnceOwnerUnbindTilesOffsetYChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindTilesOffsetYChange[a]),c.push(this.__cbOnceTilesOffsetYChange[a]))}this.__cbOnceOwnerUnbindTilesOffsetYChange=o,this.__cbOnceTilesOffsetYChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onTilesOffsetYChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event tilesOffsetYChange because owner is destroyed!");var l=function(e){null!=t&&(i.offTilesOffsetYChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindTilesOffsetYChange&&(this.__cbOnOwnerUnbindTilesOffsetYChange=[]),this.__cbOnOwnerUnbindTilesOffsetYChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindTilesOffsetYChange&&(this.__cbOnOwnerUnbindTilesOffsetYChange=[]),this.__cbOnOwnerUnbindTilesOffsetYChange.push(null);null==this.__cbOnTilesOffsetYChange&&(this.__cbOnTilesOffsetYChange=[]),this.__cbOnTilesOffsetYChange.push(t)},onceTilesOffsetYChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event tilesOffsetYChange because owner is destroyed!");var l=function(e){null!=t&&(i.offTilesOffsetYChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindTilesOffsetYChange&&(this.__cbOnceOwnerUnbindTilesOffsetYChange=[]),this.__cbOnceOwnerUnbindTilesOffsetYChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindTilesOffsetYChange&&(this.__cbOnceOwnerUnbindTilesOffsetYChange=[]),this.__cbOnceOwnerUnbindTilesOffsetYChange.push(null);null==this.__cbOnceTilesOffsetYChange&&(this.__cbOnceTilesOffsetYChange=[]),this.__cbOnceTilesOffsetYChange.push(t)},offTilesOffsetYChange:function(e){if(null!=e){var n;null!=this.__cbOnTilesOffsetYChange&&-1!=(n=this.__cbOnTilesOffsetYChange.indexOf(e))&&(this.__cbOnTilesOffsetYChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindTilesOffsetYChange[n])&&s(),this.__cbOnOwnerUnbindTilesOffsetYChange.splice(n,1)),null!=this.__cbOnceTilesOffsetYChange&&-1!=(n=this.__cbOnceTilesOffsetYChange.indexOf(e))&&(this.__cbOnceTilesOffsetYChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindTilesOffsetYChange[n])&&s(),this.__cbOnceOwnerUnbindTilesOffsetYChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindTilesOffsetYChange){for(var t=0,i=this.__cbOnOwnerUnbindTilesOffsetYChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindTilesOffsetYChange[l])&&s()}this.__cbOnOwnerUnbindTilesOffsetYChange=null}if(null!=this.__cbOnceOwnerUnbindTilesOffsetYChange){for(t=0,i=this.__cbOnceOwnerUnbindTilesOffsetYChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindTilesOffsetYChange[l])&&s()}this.__cbOnceOwnerUnbindTilesOffsetYChange=null}this.__cbOnTilesOffsetYChange=null,this.__cbOnceTilesOffsetYChange=null}},listensTilesOffsetYChange:function(){return null!=this.__cbOnTilesOffsetYChange&&0<this.__cbOnTilesOffsetYChange.length||null!=this.__cbOnceTilesOffsetYChange&&0<this.__cbOnceTilesOffsetYChange.length},computedTilesAutoruns:null,get_computedTiles:function(){var e,n,t=this.unobservedComputedTiles;return null!=A.current&&(e=A.current,null!=(n=this.computedTilesAutoruns)||(n=A.getAutorunArray(),null!=(this.computedTilesAutoruns=n)))&&e.bindToAutorunArray(n),t},set_computedTiles:function(e){var n=this.unobservedComputedTiles;return this.unobservedComputedTiles=e,Ds.equalAny(n,e)||(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitComputedTilesChange(e,n),null!=(n=this.computedTilesAutoruns)&&(this.computedTilesAutoruns=null,A.invalidateAutorunArray(n))),e},invalidateComputedTiles:function(){var e=this.unobservedComputedTiles,e=(this.emitComputedTilesChange(e,e),this.computedTilesAutoruns);null!=e&&(this.computedTilesAutoruns=null,A.invalidateAutorunArray(e))},unobservedComputedTiles:null,__cbOnComputedTilesChange:null,__cbOnceComputedTilesChange:null,__cbOnOwnerUnbindComputedTilesChange:null,__cbOnceOwnerUnbindComputedTilesChange:null,emitComputedTilesChange:function(e,n){var t=0;if(null!=this.__cbOnComputedTilesChange&&(t+=this.__cbOnComputedTilesChange.length),null!=this.__cbOnceComputedTilesChange&&(t+=this.__cbOnceComputedTilesChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnComputedTilesChange)for(var r=0,h=this.__cbOnComputedTilesChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnComputedTilesChange[a],++s):--t}if(null!=this.__cbOnceComputedTilesChange){for(var o=null,c=null,r=0,h=this.__cbOnceComputedTilesChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceComputedTilesChange[a],this.__cbOnceComputedTilesChange[a]=null,u=this.__cbOnceOwnerUnbindComputedTilesChange[a],(this.__cbOnceOwnerUnbindComputedTilesChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindComputedTilesChange[a]),c.push(this.__cbOnceComputedTilesChange[a]))}this.__cbOnceOwnerUnbindComputedTilesChange=o,this.__cbOnceComputedTilesChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onComputedTilesChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event computedTilesChange because owner is destroyed!");var l=function(e){null!=t&&(i.offComputedTilesChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindComputedTilesChange&&(this.__cbOnOwnerUnbindComputedTilesChange=[]),this.__cbOnOwnerUnbindComputedTilesChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindComputedTilesChange&&(this.__cbOnOwnerUnbindComputedTilesChange=[]),this.__cbOnOwnerUnbindComputedTilesChange.push(null);null==this.__cbOnComputedTilesChange&&(this.__cbOnComputedTilesChange=[]),this.__cbOnComputedTilesChange.push(t)},onceComputedTilesChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event computedTilesChange because owner is destroyed!");var l=function(e){null!=t&&(i.offComputedTilesChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindComputedTilesChange&&(this.__cbOnceOwnerUnbindComputedTilesChange=[]),this.__cbOnceOwnerUnbindComputedTilesChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindComputedTilesChange&&(this.__cbOnceOwnerUnbindComputedTilesChange=[]),this.__cbOnceOwnerUnbindComputedTilesChange.push(null);null==this.__cbOnceComputedTilesChange&&(this.__cbOnceComputedTilesChange=[]),this.__cbOnceComputedTilesChange.push(t)},offComputedTilesChange:function(e){if(null!=e){var n;null!=this.__cbOnComputedTilesChange&&-1!=(n=this.__cbOnComputedTilesChange.indexOf(e))&&(this.__cbOnComputedTilesChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindComputedTilesChange[n])&&s(),this.__cbOnOwnerUnbindComputedTilesChange.splice(n,1)),null!=this.__cbOnceComputedTilesChange&&-1!=(n=this.__cbOnceComputedTilesChange.indexOf(e))&&(this.__cbOnceComputedTilesChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindComputedTilesChange[n])&&s(),this.__cbOnceOwnerUnbindComputedTilesChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindComputedTilesChange){for(var t=0,i=this.__cbOnOwnerUnbindComputedTilesChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindComputedTilesChange[l])&&s()}this.__cbOnOwnerUnbindComputedTilesChange=null}if(null!=this.__cbOnceOwnerUnbindComputedTilesChange){for(t=0,i=this.__cbOnceOwnerUnbindComputedTilesChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindComputedTilesChange[l])&&s()}this.__cbOnceOwnerUnbindComputedTilesChange=null}this.__cbOnComputedTilesChange=null,this.__cbOnceComputedTilesChange=null}},listensComputedTilesChange:function(){return null!=this.__cbOnComputedTilesChange&&0<this.__cbOnComputedTilesChange.length||null!=this.__cbOnceComputedTilesChange&&0<this.__cbOnceComputedTilesChange.length},computedTilesAlphaAutoruns:null,get_computedTilesAlpha:function(){var e,n,t=this.unobservedComputedTilesAlpha;return null!=A.current&&(e=A.current,null!=(n=this.computedTilesAlphaAutoruns)||(n=A.getAutorunArray(),null!=(this.computedTilesAlphaAutoruns=n)))&&e.bindToAutorunArray(n),t},set_computedTilesAlpha:function(e){var n=this.unobservedComputedTilesAlpha;return this.unobservedComputedTilesAlpha=e,Ds.equalAny(n,e)||(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitComputedTilesAlphaChange(e,n),null!=(n=this.computedTilesAlphaAutoruns)&&(this.computedTilesAlphaAutoruns=null,A.invalidateAutorunArray(n))),e},invalidateComputedTilesAlpha:function(){var e=this.unobservedComputedTilesAlpha,e=(this.emitComputedTilesAlphaChange(e,e),this.computedTilesAlphaAutoruns);null!=e&&(this.computedTilesAlphaAutoruns=null,A.invalidateAutorunArray(e))},unobservedComputedTilesAlpha:null,__cbOnComputedTilesAlphaChange:null,__cbOnceComputedTilesAlphaChange:null,__cbOnOwnerUnbindComputedTilesAlphaChange:null,__cbOnceOwnerUnbindComputedTilesAlphaChange:null,emitComputedTilesAlphaChange:function(e,n){var t=0;if(null!=this.__cbOnComputedTilesAlphaChange&&(t+=this.__cbOnComputedTilesAlphaChange.length),null!=this.__cbOnceComputedTilesAlphaChange&&(t+=this.__cbOnceComputedTilesAlphaChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnComputedTilesAlphaChange)for(var r=0,h=this.__cbOnComputedTilesAlphaChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnComputedTilesAlphaChange[a],++s):--t}if(null!=this.__cbOnceComputedTilesAlphaChange){for(var o=null,c=null,r=0,h=this.__cbOnceComputedTilesAlphaChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceComputedTilesAlphaChange[a],this.__cbOnceComputedTilesAlphaChange[a]=null,u=this.__cbOnceOwnerUnbindComputedTilesAlphaChange[a],(this.__cbOnceOwnerUnbindComputedTilesAlphaChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindComputedTilesAlphaChange[a]),c.push(this.__cbOnceComputedTilesAlphaChange[a]))}this.__cbOnceOwnerUnbindComputedTilesAlphaChange=o,this.__cbOnceComputedTilesAlphaChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onComputedTilesAlphaChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event computedTilesAlphaChange because owner is destroyed!");var l=function(e){null!=t&&(i.offComputedTilesAlphaChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindComputedTilesAlphaChange&&(this.__cbOnOwnerUnbindComputedTilesAlphaChange=[]),this.__cbOnOwnerUnbindComputedTilesAlphaChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindComputedTilesAlphaChange&&(this.__cbOnOwnerUnbindComputedTilesAlphaChange=[]),this.__cbOnOwnerUnbindComputedTilesAlphaChange.push(null);null==this.__cbOnComputedTilesAlphaChange&&(this.__cbOnComputedTilesAlphaChange=[]),this.__cbOnComputedTilesAlphaChange.push(t)},onceComputedTilesAlphaChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event computedTilesAlphaChange because owner is destroyed!");var l=function(e){null!=t&&(i.offComputedTilesAlphaChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindComputedTilesAlphaChange&&(this.__cbOnceOwnerUnbindComputedTilesAlphaChange=[]),this.__cbOnceOwnerUnbindComputedTilesAlphaChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindComputedTilesAlphaChange&&(this.__cbOnceOwnerUnbindComputedTilesAlphaChange=[]),this.__cbOnceOwnerUnbindComputedTilesAlphaChange.push(null);null==this.__cbOnceComputedTilesAlphaChange&&(this.__cbOnceComputedTilesAlphaChange=[]),this.__cbOnceComputedTilesAlphaChange.push(t)},offComputedTilesAlphaChange:function(e){if(null!=e){var n;null!=this.__cbOnComputedTilesAlphaChange&&-1!=(n=this.__cbOnComputedTilesAlphaChange.indexOf(e))&&(this.__cbOnComputedTilesAlphaChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindComputedTilesAlphaChange[n])&&s(),this.__cbOnOwnerUnbindComputedTilesAlphaChange.splice(n,1)),null!=this.__cbOnceComputedTilesAlphaChange&&-1!=(n=this.__cbOnceComputedTilesAlphaChange.indexOf(e))&&(this.__cbOnceComputedTilesAlphaChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindComputedTilesAlphaChange[n])&&s(),this.__cbOnceOwnerUnbindComputedTilesAlphaChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindComputedTilesAlphaChange){for(var t=0,i=this.__cbOnOwnerUnbindComputedTilesAlphaChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindComputedTilesAlphaChange[l])&&s()}this.__cbOnOwnerUnbindComputedTilesAlphaChange=null}if(null!=this.__cbOnceOwnerUnbindComputedTilesAlphaChange){for(t=0,i=this.__cbOnceOwnerUnbindComputedTilesAlphaChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindComputedTilesAlphaChange[l])&&s()}this.__cbOnceOwnerUnbindComputedTilesAlphaChange=null}this.__cbOnComputedTilesAlphaChange=null,this.__cbOnceComputedTilesAlphaChange=null}},listensComputedTilesAlphaChange:function(){return null!=this.__cbOnComputedTilesAlphaChange&&0<this.__cbOnComputedTilesAlphaChange.length||null!=this.__cbOnceComputedTilesAlphaChange&&0<this.__cbOnceComputedTilesAlphaChange.length},computedTilesOffsetXAutoruns:null,get_computedTilesOffsetX:function(){var e,n,t=this.unobservedComputedTilesOffsetX;return null!=A.current&&(e=A.current,null!=(n=this.computedTilesOffsetXAutoruns)||(n=A.getAutorunArray(),null!=(this.computedTilesOffsetXAutoruns=n)))&&e.bindToAutorunArray(n),t},set_computedTilesOffsetX:function(e){var n=this.unobservedComputedTilesOffsetX;return this.unobservedComputedTilesOffsetX=e,Ds.equalAny(n,e)||(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitComputedTilesOffsetXChange(e,n),null!=(n=this.computedTilesOffsetXAutoruns)&&(this.computedTilesOffsetXAutoruns=null,A.invalidateAutorunArray(n))),e},invalidateComputedTilesOffsetX:function(){var e=this.unobservedComputedTilesOffsetX,e=(this.emitComputedTilesOffsetXChange(e,e),this.computedTilesOffsetXAutoruns);null!=e&&(this.computedTilesOffsetXAutoruns=null,A.invalidateAutorunArray(e))},unobservedComputedTilesOffsetX:null,__cbOnComputedTilesOffsetXChange:null,__cbOnceComputedTilesOffsetXChange:null,__cbOnOwnerUnbindComputedTilesOffsetXChange:null,__cbOnceOwnerUnbindComputedTilesOffsetXChange:null,emitComputedTilesOffsetXChange:function(e,n){var t=0;if(null!=this.__cbOnComputedTilesOffsetXChange&&(t+=this.__cbOnComputedTilesOffsetXChange.length),null!=this.__cbOnceComputedTilesOffsetXChange&&(t+=this.__cbOnceComputedTilesOffsetXChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnComputedTilesOffsetXChange)for(var r=0,h=this.__cbOnComputedTilesOffsetXChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnComputedTilesOffsetXChange[a],++s):--t}if(null!=this.__cbOnceComputedTilesOffsetXChange){for(var o=null,c=null,r=0,h=this.__cbOnceComputedTilesOffsetXChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceComputedTilesOffsetXChange[a],this.__cbOnceComputedTilesOffsetXChange[a]=null,u=this.__cbOnceOwnerUnbindComputedTilesOffsetXChange[a],(this.__cbOnceOwnerUnbindComputedTilesOffsetXChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindComputedTilesOffsetXChange[a]),c.push(this.__cbOnceComputedTilesOffsetXChange[a]))}this.__cbOnceOwnerUnbindComputedTilesOffsetXChange=o,this.__cbOnceComputedTilesOffsetXChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onComputedTilesOffsetXChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event computedTilesOffsetXChange because owner is destroyed!");var l=function(e){null!=t&&(i.offComputedTilesOffsetXChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindComputedTilesOffsetXChange&&(this.__cbOnOwnerUnbindComputedTilesOffsetXChange=[]),this.__cbOnOwnerUnbindComputedTilesOffsetXChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindComputedTilesOffsetXChange&&(this.__cbOnOwnerUnbindComputedTilesOffsetXChange=[]),this.__cbOnOwnerUnbindComputedTilesOffsetXChange.push(null);null==this.__cbOnComputedTilesOffsetXChange&&(this.__cbOnComputedTilesOffsetXChange=[]),this.__cbOnComputedTilesOffsetXChange.push(t)},onceComputedTilesOffsetXChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event computedTilesOffsetXChange because owner is destroyed!");var l=function(e){null!=t&&(i.offComputedTilesOffsetXChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindComputedTilesOffsetXChange&&(this.__cbOnceOwnerUnbindComputedTilesOffsetXChange=[]),this.__cbOnceOwnerUnbindComputedTilesOffsetXChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindComputedTilesOffsetXChange&&(this.__cbOnceOwnerUnbindComputedTilesOffsetXChange=[]),this.__cbOnceOwnerUnbindComputedTilesOffsetXChange.push(null);null==this.__cbOnceComputedTilesOffsetXChange&&(this.__cbOnceComputedTilesOffsetXChange=[]),this.__cbOnceComputedTilesOffsetXChange.push(t)},offComputedTilesOffsetXChange:function(e){if(null!=e){var n;null!=this.__cbOnComputedTilesOffsetXChange&&-1!=(n=this.__cbOnComputedTilesOffsetXChange.indexOf(e))&&(this.__cbOnComputedTilesOffsetXChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindComputedTilesOffsetXChange[n])&&s(),this.__cbOnOwnerUnbindComputedTilesOffsetXChange.splice(n,1)),null!=this.__cbOnceComputedTilesOffsetXChange&&-1!=(n=this.__cbOnceComputedTilesOffsetXChange.indexOf(e))&&(this.__cbOnceComputedTilesOffsetXChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindComputedTilesOffsetXChange[n])&&s(),this.__cbOnceOwnerUnbindComputedTilesOffsetXChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindComputedTilesOffsetXChange){for(var t=0,i=this.__cbOnOwnerUnbindComputedTilesOffsetXChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindComputedTilesOffsetXChange[l])&&s()}this.__cbOnOwnerUnbindComputedTilesOffsetXChange=null}if(null!=this.__cbOnceOwnerUnbindComputedTilesOffsetXChange){for(t=0,i=this.__cbOnceOwnerUnbindComputedTilesOffsetXChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindComputedTilesOffsetXChange[l])&&s()}this.__cbOnceOwnerUnbindComputedTilesOffsetXChange=null}this.__cbOnComputedTilesOffsetXChange=null,this.__cbOnceComputedTilesOffsetXChange=null}},listensComputedTilesOffsetXChange:function(){return null!=this.__cbOnComputedTilesOffsetXChange&&0<this.__cbOnComputedTilesOffsetXChange.length||null!=this.__cbOnceComputedTilesOffsetXChange&&0<this.__cbOnceComputedTilesOffsetXChange.length},computedTilesOffsetYAutoruns:null,get_computedTilesOffsetY:function(){var e,n,t=this.unobservedComputedTilesOffsetY;return null!=A.current&&(e=A.current,null!=(n=this.computedTilesOffsetYAutoruns)||(n=A.getAutorunArray(),null!=(this.computedTilesOffsetYAutoruns=n)))&&e.bindToAutorunArray(n),t},set_computedTilesOffsetY:function(e){var n=this.unobservedComputedTilesOffsetY;return this.unobservedComputedTilesOffsetY=e,Ds.equalAny(n,e)||(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitComputedTilesOffsetYChange(e,n),null!=(n=this.computedTilesOffsetYAutoruns)&&(this.computedTilesOffsetYAutoruns=null,A.invalidateAutorunArray(n))),e},invalidateComputedTilesOffsetY:function(){var e=this.unobservedComputedTilesOffsetY,e=(this.emitComputedTilesOffsetYChange(e,e),this.computedTilesOffsetYAutoruns);null!=e&&(this.computedTilesOffsetYAutoruns=null,A.invalidateAutorunArray(e))},unobservedComputedTilesOffsetY:null,__cbOnComputedTilesOffsetYChange:null,__cbOnceComputedTilesOffsetYChange:null,__cbOnOwnerUnbindComputedTilesOffsetYChange:null,__cbOnceOwnerUnbindComputedTilesOffsetYChange:null,emitComputedTilesOffsetYChange:function(e,n){var t=0;if(null!=this.__cbOnComputedTilesOffsetYChange&&(t+=this.__cbOnComputedTilesOffsetYChange.length),null!=this.__cbOnceComputedTilesOffsetYChange&&(t+=this.__cbOnceComputedTilesOffsetYChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnComputedTilesOffsetYChange)for(var r=0,h=this.__cbOnComputedTilesOffsetYChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnComputedTilesOffsetYChange[a],++s):--t}if(null!=this.__cbOnceComputedTilesOffsetYChange){for(var o=null,c=null,r=0,h=this.__cbOnceComputedTilesOffsetYChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceComputedTilesOffsetYChange[a],this.__cbOnceComputedTilesOffsetYChange[a]=null,u=this.__cbOnceOwnerUnbindComputedTilesOffsetYChange[a],(this.__cbOnceOwnerUnbindComputedTilesOffsetYChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindComputedTilesOffsetYChange[a]),c.push(this.__cbOnceComputedTilesOffsetYChange[a]))}this.__cbOnceOwnerUnbindComputedTilesOffsetYChange=o,this.__cbOnceComputedTilesOffsetYChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onComputedTilesOffsetYChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event computedTilesOffsetYChange because owner is destroyed!");var l=function(e){null!=t&&(i.offComputedTilesOffsetYChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindComputedTilesOffsetYChange&&(this.__cbOnOwnerUnbindComputedTilesOffsetYChange=[]),this.__cbOnOwnerUnbindComputedTilesOffsetYChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindComputedTilesOffsetYChange&&(this.__cbOnOwnerUnbindComputedTilesOffsetYChange=[]),this.__cbOnOwnerUnbindComputedTilesOffsetYChange.push(null);null==this.__cbOnComputedTilesOffsetYChange&&(this.__cbOnComputedTilesOffsetYChange=[]),this.__cbOnComputedTilesOffsetYChange.push(t)},onceComputedTilesOffsetYChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event computedTilesOffsetYChange because owner is destroyed!");var l=function(e){null!=t&&(i.offComputedTilesOffsetYChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindComputedTilesOffsetYChange&&(this.__cbOnceOwnerUnbindComputedTilesOffsetYChange=[]),this.__cbOnceOwnerUnbindComputedTilesOffsetYChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindComputedTilesOffsetYChange&&(this.__cbOnceOwnerUnbindComputedTilesOffsetYChange=[]),this.__cbOnceOwnerUnbindComputedTilesOffsetYChange.push(null);null==this.__cbOnceComputedTilesOffsetYChange&&(this.__cbOnceComputedTilesOffsetYChange=[]),this.__cbOnceComputedTilesOffsetYChange.push(t)},offComputedTilesOffsetYChange:function(e){if(null!=e){var n;null!=this.__cbOnComputedTilesOffsetYChange&&-1!=(n=this.__cbOnComputedTilesOffsetYChange.indexOf(e))&&(this.__cbOnComputedTilesOffsetYChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindComputedTilesOffsetYChange[n])&&s(),this.__cbOnOwnerUnbindComputedTilesOffsetYChange.splice(n,1)),null!=this.__cbOnceComputedTilesOffsetYChange&&-1!=(n=this.__cbOnceComputedTilesOffsetYChange.indexOf(e))&&(this.__cbOnceComputedTilesOffsetYChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindComputedTilesOffsetYChange[n])&&s(),this.__cbOnceOwnerUnbindComputedTilesOffsetYChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindComputedTilesOffsetYChange){for(var t=0,i=this.__cbOnOwnerUnbindComputedTilesOffsetYChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindComputedTilesOffsetYChange[l])&&s()}this.__cbOnOwnerUnbindComputedTilesOffsetYChange=null}if(null!=this.__cbOnceOwnerUnbindComputedTilesOffsetYChange){for(t=0,i=this.__cbOnceOwnerUnbindComputedTilesOffsetYChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindComputedTilesOffsetYChange[l])&&s()}this.__cbOnceOwnerUnbindComputedTilesOffsetYChange=null}this.__cbOnComputedTilesOffsetYChange=null,this.__cbOnceComputedTilesOffsetYChange=null}},listensComputedTilesOffsetYChange:function(){return null!=this.__cbOnComputedTilesOffsetYChange&&0<this.__cbOnComputedTilesOffsetYChange.length||null!=this.__cbOnceComputedTilesOffsetYChange&&0<this.__cbOnceComputedTilesOffsetYChange.length},willListenHasTilesChange:function(){this.get_unobservedHasTiles()},get_unobservedHasTiles:function(){var n,t;return 0<=this._lifecycleState?null==this.computeAutorunHasTiles?(n=this,t=new A(null),this.computedOnceHasTiles=!0,(this.computeAutorunHasTiles=t).onRun=function(){var e=n.computeHasTiles();A.unobserve(),n.set_hasTiles(e),A.reobserve()},t.onDestroy(this,function(e){n.computeAutorunHasTiles==t&&(n.computeAutorunHasTiles=null),n=t=null}),this.onDestroy(t,function(e){null!=t&&(t.destroy(),t=null),n=null}),t.run()):this.computeAutorunHasTiles.invalidated&&this.computeAutorunHasTiles.run():this.computedOnceHasTiles||(A.unobserve(),this.computedOnceHasTiles=!0,this.unobservedHasTiles=this.computeHasTiles(),A.reobserve()),this.unobservedHasTiles},hasTilesAutoruns:null,get_hasTiles:function(){var e,n,t=this.get_unobservedHasTiles();return null!=A.current&&(e=A.current,null!=(n=this.hasTilesAutoruns)||(n=A.getAutorunArray(),null!=(this.hasTilesAutoruns=n)))&&e.bindToAutorunArray(n),t},set_hasTiles:function(e){var n=this.get_unobservedHasTiles();return n!=(this.unobservedHasTiles=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitHasTilesChange(e,n),null!=(n=this.hasTilesAutoruns))&&(this.hasTilesAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateHasTiles:function(){var e=this.get_unobservedHasTiles(),e=(this.emitHasTilesChange(e,e),this.hasTilesAutoruns);null!=e&&(this.hasTilesAutoruns=null,A.invalidateAutorunArray(e))},unobservedHasTiles:null,__cbOnHasTilesChange:null,__cbOnceHasTilesChange:null,__cbOnOwnerUnbindHasTilesChange:null,__cbOnceOwnerUnbindHasTilesChange:null,emitHasTilesChange:function(e,n){var t=0;if(null!=this.__cbOnHasTilesChange&&(t+=this.__cbOnHasTilesChange.length),null!=this.__cbOnceHasTilesChange&&(t+=this.__cbOnceHasTilesChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnHasTilesChange)for(var r=0,h=this.__cbOnHasTilesChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnHasTilesChange[a],++s):--t}if(null!=this.__cbOnceHasTilesChange){for(var o=null,c=null,r=0,h=this.__cbOnceHasTilesChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceHasTilesChange[a],this.__cbOnceHasTilesChange[a]=null,u=this.__cbOnceOwnerUnbindHasTilesChange[a],(this.__cbOnceOwnerUnbindHasTilesChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindHasTilesChange[a]),c.push(this.__cbOnceHasTilesChange[a]))}this.__cbOnceOwnerUnbindHasTilesChange=o,this.__cbOnceHasTilesChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onHasTilesChange:function(n,t){var i=this;if(null==this.__cbOnHasTilesChange&&null==this.__cbOnceHasTilesChange&&this.willListenHasTilesChange(),null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event hasTilesChange because owner is destroyed!");var l=function(e){null!=t&&(i.offHasTilesChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindHasTilesChange&&(this.__cbOnOwnerUnbindHasTilesChange=[]),this.__cbOnOwnerUnbindHasTilesChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindHasTilesChange&&(this.__cbOnOwnerUnbindHasTilesChange=[]),this.__cbOnOwnerUnbindHasTilesChange.push(null);null==this.__cbOnHasTilesChange&&(this.__cbOnHasTilesChange=[]),this.__cbOnHasTilesChange.push(t)},onceHasTilesChange:function(n,t){var i=this;if(null==this.__cbOnHasTilesChange&&null==this.__cbOnceHasTilesChange&&this.willListenHasTilesChange(),null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event hasTilesChange because owner is destroyed!");var l=function(e){null!=t&&(i.offHasTilesChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindHasTilesChange&&(this.__cbOnceOwnerUnbindHasTilesChange=[]),this.__cbOnceOwnerUnbindHasTilesChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindHasTilesChange&&(this.__cbOnceOwnerUnbindHasTilesChange=[]),this.__cbOnceOwnerUnbindHasTilesChange.push(null);null==this.__cbOnceHasTilesChange&&(this.__cbOnceHasTilesChange=[]),this.__cbOnceHasTilesChange.push(t)},offHasTilesChange:function(e){if(null!=e){var n;null!=this.__cbOnHasTilesChange&&-1!=(n=this.__cbOnHasTilesChange.indexOf(e))&&(this.__cbOnHasTilesChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindHasTilesChange[n])&&s(),this.__cbOnOwnerUnbindHasTilesChange.splice(n,1)),null!=this.__cbOnceHasTilesChange&&-1!=(n=this.__cbOnceHasTilesChange.indexOf(e))&&(this.__cbOnceHasTilesChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindHasTilesChange[n])&&s(),this.__cbOnceOwnerUnbindHasTilesChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindHasTilesChange){for(var t=0,i=this.__cbOnOwnerUnbindHasTilesChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindHasTilesChange[l])&&s()}this.__cbOnOwnerUnbindHasTilesChange=null}if(null!=this.__cbOnceOwnerUnbindHasTilesChange){for(t=0,i=this.__cbOnceOwnerUnbindHasTilesChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindHasTilesChange[l])&&s()}this.__cbOnceOwnerUnbindHasTilesChange=null}this.__cbOnHasTilesChange=null,this.__cbOnceHasTilesChange=null}},listensHasTilesChange:function(){return null!=this.__cbOnHasTilesChange&&0<this.__cbOnHasTilesChange.length||null!=this.__cbOnceHasTilesChange&&0<this.__cbOnceHasTilesChange.length},computeHasTiles:function(){return null!=this.get_tiles()&&0<this.get_tiles().length||null!=this.get_computedTiles()&&0<this.get_computedTiles().length},computeAutorunHasTiles:null,computedOnceHasTiles:null,shouldRenderTilesAutoruns:null,get_shouldRenderTiles:function(){var e,n,t=this.unobservedShouldRenderTiles;return null!=A.current&&(e=A.current,null!=(n=this.shouldRenderTilesAutoruns)||(n=A.getAutorunArray(),null!=(this.shouldRenderTilesAutoruns=n)))&&e.bindToAutorunArray(n),t},set_shouldRenderTiles:function(e){var n=this.unobservedShouldRenderTiles;return n!=(this.unobservedShouldRenderTiles=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!0)),this.emitShouldRenderTilesChange(e,n),null!=(n=this.shouldRenderTilesAutoruns))&&(this.shouldRenderTilesAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateShouldRenderTiles:function(){var e=this.unobservedShouldRenderTiles,e=(this.emitShouldRenderTilesChange(e,e),this.shouldRenderTilesAutoruns);null!=e&&(this.shouldRenderTilesAutoruns=null,A.invalidateAutorunArray(e))},unobservedShouldRenderTiles:null,__cbOnShouldRenderTilesChange:null,__cbOnceShouldRenderTilesChange:null,__cbOnOwnerUnbindShouldRenderTilesChange:null,__cbOnceOwnerUnbindShouldRenderTilesChange:null,emitShouldRenderTilesChange:function(e,n){var t=0;if(null!=this.__cbOnShouldRenderTilesChange&&(t+=this.__cbOnShouldRenderTilesChange.length),null!=this.__cbOnceShouldRenderTilesChange&&(t+=this.__cbOnceShouldRenderTilesChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnShouldRenderTilesChange)for(var r=0,h=this.__cbOnShouldRenderTilesChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnShouldRenderTilesChange[a],++s):--t}if(null!=this.__cbOnceShouldRenderTilesChange){for(var o=null,c=null,r=0,h=this.__cbOnceShouldRenderTilesChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceShouldRenderTilesChange[a],this.__cbOnceShouldRenderTilesChange[a]=null,u=this.__cbOnceOwnerUnbindShouldRenderTilesChange[a],(this.__cbOnceOwnerUnbindShouldRenderTilesChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindShouldRenderTilesChange[a]),c.push(this.__cbOnceShouldRenderTilesChange[a]))}this.__cbOnceOwnerUnbindShouldRenderTilesChange=o,this.__cbOnceShouldRenderTilesChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onShouldRenderTilesChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event shouldRenderTilesChange because owner is destroyed!");var l=function(e){null!=t&&(i.offShouldRenderTilesChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindShouldRenderTilesChange&&(this.__cbOnOwnerUnbindShouldRenderTilesChange=[]),this.__cbOnOwnerUnbindShouldRenderTilesChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindShouldRenderTilesChange&&(this.__cbOnOwnerUnbindShouldRenderTilesChange=[]),this.__cbOnOwnerUnbindShouldRenderTilesChange.push(null);null==this.__cbOnShouldRenderTilesChange&&(this.__cbOnShouldRenderTilesChange=[]),this.__cbOnShouldRenderTilesChange.push(t)},onceShouldRenderTilesChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event shouldRenderTilesChange because owner is destroyed!");var l=function(e){null!=t&&(i.offShouldRenderTilesChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindShouldRenderTilesChange&&(this.__cbOnceOwnerUnbindShouldRenderTilesChange=[]),this.__cbOnceOwnerUnbindShouldRenderTilesChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindShouldRenderTilesChange&&(this.__cbOnceOwnerUnbindShouldRenderTilesChange=[]),this.__cbOnceOwnerUnbindShouldRenderTilesChange.push(null);null==this.__cbOnceShouldRenderTilesChange&&(this.__cbOnceShouldRenderTilesChange=[]),this.__cbOnceShouldRenderTilesChange.push(t)},offShouldRenderTilesChange:function(e){if(null!=e){var n;null!=this.__cbOnShouldRenderTilesChange&&-1!=(n=this.__cbOnShouldRenderTilesChange.indexOf(e))&&(this.__cbOnShouldRenderTilesChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindShouldRenderTilesChange[n])&&s(),this.__cbOnOwnerUnbindShouldRenderTilesChange.splice(n,1)),null!=this.__cbOnceShouldRenderTilesChange&&-1!=(n=this.__cbOnceShouldRenderTilesChange.indexOf(e))&&(this.__cbOnceShouldRenderTilesChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindShouldRenderTilesChange[n])&&s(),this.__cbOnceOwnerUnbindShouldRenderTilesChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindShouldRenderTilesChange){for(var t=0,i=this.__cbOnOwnerUnbindShouldRenderTilesChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindShouldRenderTilesChange[l])&&s()}this.__cbOnOwnerUnbindShouldRenderTilesChange=null}if(null!=this.__cbOnceOwnerUnbindShouldRenderTilesChange){for(t=0,i=this.__cbOnceOwnerUnbindShouldRenderTilesChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindShouldRenderTilesChange[l])&&s()}this.__cbOnceOwnerUnbindShouldRenderTilesChange=null}this.__cbOnShouldRenderTilesChange=null,this.__cbOnceShouldRenderTilesChange=null}},listensShouldRenderTilesChange:function(){return null!=this.__cbOnShouldRenderTilesChange&&0<this.__cbOnShouldRenderTilesChange.length||null!=this.__cbOnceShouldRenderTilesChange&&0<this.__cbOnceShouldRenderTilesChange.length},tileWidthAutoruns:null,get_tileWidth:function(){var e,n,t=this.unobservedTileWidth;return null!=A.current&&(e=A.current,null!=(n=this.tileWidthAutoruns)||(n=A.getAutorunArray(),null!=(this.tileWidthAutoruns=n)))&&e.bindToAutorunArray(n),t},set_tileWidth:function(e){var n=this.unobservedTileWidth;return n!=(this.unobservedTileWidth=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!0)),this.emitTileWidthChange(e,n),null!=(n=this.tileWidthAutoruns))&&(this.tileWidthAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateTileWidth:function(){var e=this.unobservedTileWidth,e=(this.emitTileWidthChange(e,e),this.tileWidthAutoruns);null!=e&&(this.tileWidthAutoruns=null,A.invalidateAutorunArray(e))},unobservedTileWidth:null,__cbOnTileWidthChange:null,__cbOnceTileWidthChange:null,__cbOnOwnerUnbindTileWidthChange:null,__cbOnceOwnerUnbindTileWidthChange:null,emitTileWidthChange:function(e,n){var t=0;if(null!=this.__cbOnTileWidthChange&&(t+=this.__cbOnTileWidthChange.length),null!=this.__cbOnceTileWidthChange&&(t+=this.__cbOnceTileWidthChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnTileWidthChange)for(var r=0,h=this.__cbOnTileWidthChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnTileWidthChange[a],++s):--t}if(null!=this.__cbOnceTileWidthChange){for(var o=null,c=null,r=0,h=this.__cbOnceTileWidthChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceTileWidthChange[a],this.__cbOnceTileWidthChange[a]=null,u=this.__cbOnceOwnerUnbindTileWidthChange[a],(this.__cbOnceOwnerUnbindTileWidthChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindTileWidthChange[a]),c.push(this.__cbOnceTileWidthChange[a]))}this.__cbOnceOwnerUnbindTileWidthChange=o,this.__cbOnceTileWidthChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onTileWidthChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event tileWidthChange because owner is destroyed!");var l=function(e){null!=t&&(i.offTileWidthChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindTileWidthChange&&(this.__cbOnOwnerUnbindTileWidthChange=[]),this.__cbOnOwnerUnbindTileWidthChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindTileWidthChange&&(this.__cbOnOwnerUnbindTileWidthChange=[]),this.__cbOnOwnerUnbindTileWidthChange.push(null);null==this.__cbOnTileWidthChange&&(this.__cbOnTileWidthChange=[]),this.__cbOnTileWidthChange.push(t)},onceTileWidthChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event tileWidthChange because owner is destroyed!");var l=function(e){null!=t&&(i.offTileWidthChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindTileWidthChange&&(this.__cbOnceOwnerUnbindTileWidthChange=[]),this.__cbOnceOwnerUnbindTileWidthChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindTileWidthChange&&(this.__cbOnceOwnerUnbindTileWidthChange=[]),this.__cbOnceOwnerUnbindTileWidthChange.push(null);null==this.__cbOnceTileWidthChange&&(this.__cbOnceTileWidthChange=[]),this.__cbOnceTileWidthChange.push(t)},offTileWidthChange:function(e){if(null!=e){var n;null!=this.__cbOnTileWidthChange&&-1!=(n=this.__cbOnTileWidthChange.indexOf(e))&&(this.__cbOnTileWidthChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindTileWidthChange[n])&&s(),this.__cbOnOwnerUnbindTileWidthChange.splice(n,1)),null!=this.__cbOnceTileWidthChange&&-1!=(n=this.__cbOnceTileWidthChange.indexOf(e))&&(this.__cbOnceTileWidthChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindTileWidthChange[n])&&s(),this.__cbOnceOwnerUnbindTileWidthChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindTileWidthChange){for(var t=0,i=this.__cbOnOwnerUnbindTileWidthChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindTileWidthChange[l])&&s()}this.__cbOnOwnerUnbindTileWidthChange=null}if(null!=this.__cbOnceOwnerUnbindTileWidthChange){for(t=0,i=this.__cbOnceOwnerUnbindTileWidthChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindTileWidthChange[l])&&s()}this.__cbOnceOwnerUnbindTileWidthChange=null}this.__cbOnTileWidthChange=null,this.__cbOnceTileWidthChange=null}},listensTileWidthChange:function(){return null!=this.__cbOnTileWidthChange&&0<this.__cbOnTileWidthChange.length||null!=this.__cbOnceTileWidthChange&&0<this.__cbOnceTileWidthChange.length},tileHeightAutoruns:null,get_tileHeight:function(){var e,n,t=this.unobservedTileHeight;return null!=A.current&&(e=A.current,null!=(n=this.tileHeightAutoruns)||(n=A.getAutorunArray(),null!=(this.tileHeightAutoruns=n)))&&e.bindToAutorunArray(n),t},set_tileHeight:function(e){var n=this.unobservedTileHeight;return n!=(this.unobservedTileHeight=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!0)),this.emitTileHeightChange(e,n),null!=(n=this.tileHeightAutoruns))&&(this.tileHeightAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateTileHeight:function(){var e=this.unobservedTileHeight,e=(this.emitTileHeightChange(e,e),this.tileHeightAutoruns);null!=e&&(this.tileHeightAutoruns=null,A.invalidateAutorunArray(e))},unobservedTileHeight:null,__cbOnTileHeightChange:null,__cbOnceTileHeightChange:null,__cbOnOwnerUnbindTileHeightChange:null,__cbOnceOwnerUnbindTileHeightChange:null,emitTileHeightChange:function(e,n){var t=0;if(null!=this.__cbOnTileHeightChange&&(t+=this.__cbOnTileHeightChange.length),null!=this.__cbOnceTileHeightChange&&(t+=this.__cbOnceTileHeightChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnTileHeightChange)for(var r=0,h=this.__cbOnTileHeightChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnTileHeightChange[a],++s):--t}if(null!=this.__cbOnceTileHeightChange){for(var o=null,c=null,r=0,h=this.__cbOnceTileHeightChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceTileHeightChange[a],this.__cbOnceTileHeightChange[a]=null,u=this.__cbOnceOwnerUnbindTileHeightChange[a],(this.__cbOnceOwnerUnbindTileHeightChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindTileHeightChange[a]),c.push(this.__cbOnceTileHeightChange[a]))}this.__cbOnceOwnerUnbindTileHeightChange=o,this.__cbOnceTileHeightChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onTileHeightChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event tileHeightChange because owner is destroyed!");var l=function(e){null!=t&&(i.offTileHeightChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindTileHeightChange&&(this.__cbOnOwnerUnbindTileHeightChange=[]),this.__cbOnOwnerUnbindTileHeightChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindTileHeightChange&&(this.__cbOnOwnerUnbindTileHeightChange=[]),this.__cbOnOwnerUnbindTileHeightChange.push(null);null==this.__cbOnTileHeightChange&&(this.__cbOnTileHeightChange=[]),this.__cbOnTileHeightChange.push(t)},onceTileHeightChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event tileHeightChange because owner is destroyed!");var l=function(e){null!=t&&(i.offTileHeightChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindTileHeightChange&&(this.__cbOnceOwnerUnbindTileHeightChange=[]),this.__cbOnceOwnerUnbindTileHeightChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindTileHeightChange&&(this.__cbOnceOwnerUnbindTileHeightChange=[]),this.__cbOnceOwnerUnbindTileHeightChange.push(null);null==this.__cbOnceTileHeightChange&&(this.__cbOnceTileHeightChange=[]),this.__cbOnceTileHeightChange.push(t)},offTileHeightChange:function(e){if(null!=e){var n;null!=this.__cbOnTileHeightChange&&-1!=(n=this.__cbOnTileHeightChange.indexOf(e))&&(this.__cbOnTileHeightChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindTileHeightChange[n])&&s(),this.__cbOnOwnerUnbindTileHeightChange.splice(n,1)),null!=this.__cbOnceTileHeightChange&&-1!=(n=this.__cbOnceTileHeightChange.indexOf(e))&&(this.__cbOnceTileHeightChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindTileHeightChange[n])&&s(),this.__cbOnceOwnerUnbindTileHeightChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindTileHeightChange){for(var t=0,i=this.__cbOnOwnerUnbindTileHeightChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindTileHeightChange[l])&&s()}this.__cbOnOwnerUnbindTileHeightChange=null}if(null!=this.__cbOnceOwnerUnbindTileHeightChange){for(t=0,i=this.__cbOnceOwnerUnbindTileHeightChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindTileHeightChange[l])&&s()}this.__cbOnceOwnerUnbindTileHeightChange=null}this.__cbOnTileHeightChange=null,this.__cbOnceTileHeightChange=null}},listensTileHeightChange:function(){return null!=this.__cbOnTileHeightChange&&0<this.__cbOnTileHeightChange.length||null!=this.__cbOnceTileHeightChange&&0<this.__cbOnceTileHeightChange.length},grid:function(e,n){this.set_columns(e),this.set_rows(n)},pos:function(e,n){this.set_x(e),this.set_y(n)},offset:function(e,n){this.set_offsetX(e),this.set_offsetY(n)},tileSize:function(e,n){this.set_tileWidth(e),this.set_tileHeight(n)},indexFromColumnAndRow:function(e,n){return n*this.get_columns()+e},tileByColumnAndRow:function(e,n){n=n*this.get_columns()+e;return this.get_tiles()[n]},computedTileByColumnAndRow:function(e,n){n=n*this.get_columns()+e;return this.get_computedTiles()[n]},columnAtIndex:function(e){return e%this.get_columns()},rowAtIndex:function(e){return Math.floor(e/this.get_columns())},unbindEvents:function(){R1.prototype.unbindEvents.call(this),this.offNameChange(),this.offXChange(),this.offYChange(),this.offColumnsChange(),this.offRowsChange(),this.offOpacityChange(),this.offVisibleChange(),this.offOffsetXChange(),this.offOffsetYChange(),this.offExplicitDepthChange(),this.offBlendingChange(),this.offColorChange(),this.offShaderChange(),this.offExtraOpacityChange(),this.offTilesChange(),this.offTilesAlphaChange(),this.offTilesOffsetXChange(),this.offTilesOffsetYChange(),this.offComputedTilesChange(),this.offComputedTilesAlphaChange(),this.offComputedTilesOffsetXChange(),this.offComputedTilesOffsetYChange(),this.offHasTilesChange(),this.offShouldRenderTilesChange(),this.offTileWidthChange(),this.offTileHeightChange()},_default_nameAutoruns:function(){return null},_default_name:function(){return null},_default_xAutoruns:function(){return null},_default_x:function(){return 0},_default_yAutoruns:function(){return null},_default_y:function(){return 0},_default_columnsAutoruns:function(){return null},_default_columns:function(){return 0},_default_rowsAutoruns:function(){return null},_default_rows:function(){return 0},_default_opacityAutoruns:function(){return null},_default_opacity:function(){return 1},_default_visibleAutoruns:function(){return null},_default_visible:function(){return!0},_default_offsetXAutoruns:function(){return null},_default_offsetX:function(){return 0},_default_offsetYAutoruns:function(){return null},_default_offsetY:function(){return 0},_default_explicitDepthAutoruns:function(){return null},_default_explicitDepth:function(){return null},_default_blendingAutoruns:function(){return null},_default_blending:function(){return 0},_default_colorAutoruns:function(){return null},_default_color:function(){return 16777215},_default_shaderAutoruns:function(){return null},_default_shader:function(){return null},_default_extraOpacityAutoruns:function(){return null},_default_extraOpacity:function(){return 1},_default_tilesAutoruns:function(){return null},_default_tiles:function(){return null},_default_tilesAlphaAutoruns:function(){return null},_default_tilesAlpha:function(){return null},_default_tilesOffsetXAutoruns:function(){return null},_default_tilesOffsetX:function(){return null},_default_tilesOffsetYAutoruns:function(){return null},_default_tilesOffsetY:function(){return null},_default_computedTilesAutoruns:function(){return null},_default_computedTiles:function(){return null},_default_computedTilesAlphaAutoruns:function(){return null},_default_computedTilesAlpha:function(){return null},_default_computedTilesOffsetXAutoruns:function(){return null},_default_computedTilesOffsetX:function(){return null},_default_computedTilesOffsetYAutoruns:function(){return null},_default_computedTilesOffsetY:function(){return null},_default_hasTilesAutoruns:function(){return null},_default_computedOnceHasTiles:function(){return!1},_default_shouldRenderTilesAutoruns:function(){return null},_default_shouldRenderTiles:function(){return!0},_default_tileWidthAutoruns:function(){return null},_default_tileWidth:function(){return-1},_default_tileHeightAutoruns:function(){return null},_default_tileHeight:function(){return-1},__class__:kt,__properties__:$extend(R1.prototype.__properties__,{set_tileHeight:"set_tileHeight",get_tileHeight:"get_tileHeight",set_tileWidth:"set_tileWidth",get_tileWidth:"get_tileWidth",set_shouldRenderTiles:"set_shouldRenderTiles",get_shouldRenderTiles:"get_shouldRenderTiles",get_unobservedHasTiles:"get_unobservedHasTiles",set_hasTiles:"set_hasTiles",get_hasTiles:"get_hasTiles",set_computedTilesOffsetY:"set_computedTilesOffsetY",get_computedTilesOffsetY:"get_computedTilesOffsetY",set_computedTilesOffsetX:"set_computedTilesOffsetX",get_computedTilesOffsetX:"get_computedTilesOffsetX",set_computedTilesAlpha:"set_computedTilesAlpha",get_computedTilesAlpha:"get_computedTilesAlpha",set_computedTiles:"set_computedTiles",get_computedTiles:"get_computedTiles",set_tilesOffsetY:"set_tilesOffsetY",get_tilesOffsetY:"get_tilesOffsetY",set_tilesOffsetX:"set_tilesOffsetX",get_tilesOffsetX:"get_tilesOffsetX",set_tilesAlpha:"set_tilesAlpha",get_tilesAlpha:"get_tilesAlpha",set_tiles:"set_tiles",get_tiles:"get_tiles",set_extraOpacity:"set_extraOpacity",get_extraOpacity:"get_extraOpacity",set_shader:"set_shader",get_shader:"get_shader",set_color:"set_color",get_color:"get_color",set_blending:"set_blending",get_blending:"get_blending",set_explicitDepth:"set_explicitDepth",get_explicitDepth:"get_explicitDepth",set_offsetY:"set_offsetY",get_offsetY:"get_offsetY",set_offsetX:"set_offsetX",get_offsetX:"get_offsetX",set_visible:"set_visible",get_visible:"get_visible",set_opacity:"set_opacity",get_opacity:"get_opacity",set_rows:"set_rows",get_rows:"get_rows",set_columns:"set_columns",get_columns:"get_columns",set_y:"set_y",get_y:"get_y",set_x:"set_x",get_x:"get_x",set_name:"set_name",get_name:"get_name"})}),function(){this.nextQuadIndice=0,this.nextColorIndice=0,this.nextIndexIndice=0,this.nextVertexIndice=0,this.textureIndex=-1,this.layerIndex=-1,za.call(this)}),Pt=((E["ceramic.TilemapMesh"]=It).__name__="ceramic.TilemapMesh",It.get=function(){var e,n=null;return null==(n=null!=It.pool?0<(e=It.pool).availableItems.length?e.availableItems.pop():null:n)?n=new It:n.set_active(!0),n},It.__super__=za,It.prototype=$extend(za.prototype,{layerIndex:null,textureIndex:null,nextVertexIndice:null,nextIndexIndice:null,nextColorIndice:null,nextQuadIndice:null,recycle:function(){null!=this.parent&&this.parent.remove(this),this.set_active(!1),this.layerIndex=-1,this.textureIndex=-1,this.nextVertexIndice=0,this.nextIndexIndice=0,this.nextColorIndice=0,this.nextQuadIndice=0,null==It.pool&&(It.pool=new m),It.pool.recycle(this)},__class__:It}),_e["ceramic.TilemapOrientation"]={__ename__:"ceramic.TilemapOrientation",__constructs__:null,ORTHOGONAL:{_hx_name:"ORTHOGONAL",_hx_index:0,__enum__:"ceramic.TilemapOrientation",toString:c},ISOMETRIC:{_hx_name:"ISOMETRIC",_hx_index:1,__enum__:"ceramic.TilemapOrientation",toString:c},STAGGERED:{_hx_name:"STAGGERED",_hx_index:2,__enum__:"ceramic.TilemapOrientation",toString:c},HEXAGONAL:{_hx_name:"HEXAGONAL",_hx_index:3,__enum__:"ceramic.TilemapOrientation",toString:c}}),Ft=(Pt.__constructs__=[Pt.ORTHOGONAL,Pt.ISOMETRIC,Pt.STAGGERED,Pt.HEXAGONAL],(E["ceramic.TilemapParser"]=X1).__name__="ceramic.TilemapParser",X1.prototype={tmxParser:null,clearCache:function(){null!=this.tmxParser&&this.tmxParser.clearCache()},parseTmx:function(e,n,t){null==this.tmxParser&&(this.tmxParser=new Lt);e=this.tmxParser.parseTmx(e,n=null==n?".":n,t);return null==e?(ae.app.logger.warning("Failed to parse TMX data: result is null!",{fileName:"../../../../ceramic/plugins/tilemap/runtime/src/ceramic/TilemapParser.hx",lineNumber:107,className:"ceramic.TilemapParser",methodName:"parseTmx"}),null):e},parseExternalTilesetNames:function(e){e=D.parse(e);if(e.nodeType!=D.Document&&e.nodeType!=D.Element)throw $.thrown("Invalid nodeType "+(null==e.nodeType?"null":ge.toString(e.nodeType)));for(var n=[],t=hs.resolve(e,"map").elements();t.hasNext();){var i,l=t.next();if(l.nodeType==D.Document)i="Document";else{if(l.nodeType!=D.Element)throw $.thrown("Bad node type, expected Element but found "+(null==l.nodeType?"null":ge.toString(l.nodeType)));i=l.nodeName}"tileset"==i&&le.resolve(l=l,"source")&&(l=ie.resolve(l,"source"),-1==n.indexOf(l))&&n.push(l)}return n},tmxMapToTilemapData:function(e,n){var t=new St;switch(t.set_width(e.width*e.tileWidth),t.set_height(e.height*e.tileHeight),(l=e.orientation)._hx_index){case 0:t.set_orientation(Pt.ORTHOGONAL);break;case 1:t.set_orientation(Pt.ISOMETRIC);break;case 2:t.set_orientation(Pt.STAGGERED);break;case 3:t.set_orientation(Pt.HEXAGONAL);break;case 4:var i=l.value;t.set_orientation(Pt.ORTHOGONAL),ae.app.logger.warning("TMX map orientation is Unknown("+i+"), using ORTHOGONAL in TilemapData",{fileName:"../../../../ceramic/plugins/tilemap/runtime/src/ceramic/TilemapParser.hx",lineNumber:174,className:"ceramic.TilemapParser",methodName:"tmxMapToTilemapData"})}if(t.set_backgroundColor(e.backgroundColor),null!=e.renderOrder)switch((l=e.renderOrder)._hx_index){case 0:t.set_renderOrder(Bt.RIGHT_DOWN);break;case 1:t.set_renderOrder(Bt.RIGHT_UP);break;case 2:t.set_renderOrder(Bt.LEFT_DOWN);break;case 3:t.set_renderOrder(Bt.LEFT_UP);break;case 4:i=l.value;t.set_renderOrder(Bt.RIGHT_DOWN),ae.app.logger.warning("TMX map render order is Unknown("+i+"), using RIGHT_DOWN in TilemapData",{fileName:"../../../../ceramic/plugins/tilemap/runtime/src/ceramic/TilemapParser.hx",lineNumber:191,className:"ceramic.TilemapParser",methodName:"tmxMapToTilemapData"})}if(null!=e.staggerAxis)switch((l=e.staggerAxis)._hx_index){case 0:t.set_staggerAxis(Et.AXIS_X);break;case 1:t.set_staggerAxis(Et.AXIS_Y);break;case 2:i=l.value;t.set_staggerAxis(Et.AXIS_X),ae.app.logger.warning("TMX map stagger axis is Unknown("+i+"), using AXIS_X in TilemapData",{fileName:"../../../../ceramic/plugins/tilemap/runtime/src/ceramic/TilemapParser.hx",lineNumber:203,className:"ceramic.TilemapParser",methodName:"tmxMapToTilemapData"})}if(t.set_hexSideLength(e.hexSideLength),null!=e.tilesets&&0<e.tilesets.length)for(var l=0,s=e.tilesets.length;l<s;){var r=l++,h=e.tilesets[r],a=[new Vt];if(t.onDestroy(a[0],function(n){return function(e){n[0].destroy()}}(a)),null!=h.firstGID&&a[0].set_firstGid(h.firstGID),null!=h.name&&a[0].set_name(h.name),null!=h.tileWidth&&a[0].set_tileWidth(h.tileWidth),null!=h.tileHeight&&a[0].set_tileHeight(h.tileHeight),null!=h.spacing&&a[0].set_spacing(h.spacing),null!=h.margin&&a[0].set_margin(h.margin),a[0].set_tileCount(h.tileCount),a[0].set_columns(h.columns),null!=h.image){var h=h.image,o=[new Wt];if(a[0].onDestroy(o[0],function(n){return function(e){n[0].destroy()}}(o)),null!=h.width&&o[0].set_width(h.width),null!=h.height&&o[0].set_height(h.height),null!=h.source?(o[0].set_source(h.source),null!=n&&n(h.source,null,function(n){return function(e){n[0].set_texture(e)}}([o[0]]))):null!=h.data&&ae.app.logger.warning("Loading TMX embedded images is not supported.",{fileName:"../../../../ceramic/plugins/tilemap/runtime/src/ceramic/TilemapParser.hx",lineNumber:274,className:"ceramic.TilemapParser",methodName:"tmxMapToTilemapData"}),a[0].set_image(o[0]),a[0].get_columns()<=0){var c=0,u=0,_=a[0].get_tileWidth()+2*a[0].get_margin();if(0<_)for(;u+_<=o[0].get_width();)++c,u+=_+a[0].get_spacing();a[0].set_columns(c)}}t.get_tilesets().push(a[0])}else ae.app.logger.warning("TMX map has no tileset",{fileName:"../../../../ceramic/plugins/tilemap/runtime/src/ceramic/TilemapParser.hx",lineNumber:298,className:"ceramic.TilemapParser",methodName:"tmxMapToTilemapData"});if(null!=e.layers&&0<e.layers.length)for(l=0,s=e.layers.length;l<s;){var r=l++,d=e.layers[r];switch(d._hx_index){case 0:var b=d.layer,g=new kt;g.set_tileWidth(e.tileWidth),g.set_tileHeight(e.tileHeight),g.set_name(b.name),null!=b.x&&g.set_x(0|b.x),null!=b.y&&g.set_y(0|b.y),null!=b.width&&g.set_columns(b.width),null!=b.height&&g.set_rows(b.height),null!=b.opacity&&g.set_opacity(b.opacity),null!=b.visible&&g.set_visible(b.visible),null!=b.offsetX&&g.set_offsetX(b.offsetX),null!=b.offsetY&&g.set_offsetY(b.offsetY),null!=b.data&&null!=b.data.tiles?g.set_tiles([].concat(b.data.tiles)):ae.app.logger.warning("TMX tile layer "+b.name+" has no tile",{fileName:"../../../../ceramic/plugins/tilemap/runtime/src/ceramic/TilemapParser.hx",lineNumber:334,className:"ceramic.TilemapParser",methodName:"tmxMapToTilemapData"}),t.get_layers().push(g);break;case 1:d.group;break;case 2:d.layer;break;case 3:d.group}}else ae.app.logger.warning("TMX map has no layer",{fileName:"../../../../ceramic/plugins/tilemap/runtime/src/ceramic/TilemapParser.hx",lineNumber:345,className:"ceramic.TilemapParser",methodName:"tmxMapToTilemapData"});return t},__class__:X1},function(){}),Mt=((E["ceramic.TilemapPlugin"]=Ft).__name__="ceramic.TilemapPlugin",Ft.pluginInit=function(){ae.oncePreInit(function(){ae.app.logger.info("Init tilemap plugin",{fileName:"../../../../ceramic/plugins/tilemap/runtime/src/ceramic/TilemapPlugin.hx",lineNumber:68,className:"ceramic.TilemapPlugin",methodName:"pluginInit"}),Oe.addAssetKind("tilemap",Ft._addTilemap,["tmx"],!1,["ceramic.TilemapData"]);var e=new D0;ae.app.converters.h["ceramic.TilemapData"]=e})},Ft._addTilemap=function(e,n,t,i){Ft.addTilemap(e,n,t,i)},Ft.addTilemap=function(e,n,t,i){z.startsWith(n,"tilemap:")&&(n=he.substr(n,8,null)),e.addAsset(new P1(n,t,i))},Ft.ensureTilemap=function(e,n,t,i,l){z.startsWith(n,"tilemap:")||(n="tilemap:"+n),e.ensure(n,t,i,function(e){l(e instanceof P1?e:null)})},Ft.tilemap=function(e,n,t){e=Ft.tilemapAsset(e,n,t);return null==e?null:e.get_tilemapData()},Ft.tilemapAsset=function(e,n,t){var i=n;return z.startsWith(i,"tilemap:")&&(i=he.substr(i,8,null)),null!=t&&(i+=":"+t),!Object.prototype.hasOwnProperty.call(e.assetsByKindAndName.h,"tilemap")||null==(i=e.assetsByKindAndName.h.tilemap.h[i])?null!=e.parent?Ft.tilemapAsset(e.parent,n,t):null:i},Ft.getTilemapParser=function(e){var e=N0.data(e),n=e.tilemapParser;return null==n&&(n=new X1,e.tilemapParser=n),n},Ft.getRawTsxCache=function(e){var e=N0.data(e),n=e.rawTsxCache;return null==n&&(n=new Nl,e.rawTsxCache=n),n},function(){this.tilemapTile=0,this.row=-1,this.column=-1,this.index=-1,p.call(this)}),Bt=((E["ceramic.TilemapQuad"]=Mt).__name__="ceramic.TilemapQuad",Mt.get=function(){var e,n=null;return null==(n=null!=Mt.pool?0<(e=Mt.pool).availableItems.length?e.availableItems.pop():null:n)?n=new Mt:n.set_active(!0),n},Mt.__super__=p,Mt.prototype=$extend(p.prototype,{index:null,column:null,row:null,tilemapTile:null,recycle:function(){null!=this.parent&&this.parent.remove(this),this.set_active(!1),this.index=-1,this.column=-1,this.row=-1,this.tilemapTile=0,null==Mt.pool&&(Mt.pool=new m),Mt.pool.recycle(this)},__class__:Mt}),_e["ceramic.TilemapRenderOrder"]={__ename__:"ceramic.TilemapRenderOrder",__constructs__:null,RIGHT_DOWN:{_hx_name:"RIGHT_DOWN",_hx_index:0,__enum__:"ceramic.TilemapRenderOrder",toString:c},RIGHT_UP:{_hx_name:"RIGHT_UP",_hx_index:1,__enum__:"ceramic.TilemapRenderOrder",toString:c},LEFT_DOWN:{_hx_name:"LEFT_DOWN",_hx_index:2,__enum__:"ceramic.TilemapRenderOrder",toString:c},LEFT_UP:{_hx_name:"LEFT_UP",_hx_index:3,__enum__:"ceramic.TilemapRenderOrder",toString:c}}),Et=(Bt.__constructs__=[Bt.RIGHT_DOWN,Bt.RIGHT_UP,Bt.LEFT_DOWN,Bt.LEFT_UP],_e["ceramic.TilemapStaggerAxis"]={__ename__:"ceramic.TilemapStaggerAxis",__constructs__:null,AXIS_X:{_hx_name:"AXIS_X",_hx_index:0,__enum__:"ceramic.TilemapStaggerAxis",toString:c},AXIS_Y:{_hx_name:"AXIS_Y",_hx_index:1,__enum__:"ceramic.TilemapStaggerAxis",toString:c}}),Rt=(Et.__constructs__=[Et.AXIS_X,Et.AXIS_Y],_e["ceramic.TilemapStaggerIndex"]={__ename__:"ceramic.TilemapStaggerIndex",__constructs__:null,ODD:{_hx_name:"ODD",_hx_index:0,__enum__:"ceramic.TilemapStaggerIndex",toString:c},EVEN:{_hx_name:"EVEN",_hx_index:1,__enum__:"ceramic.TilemapStaggerIndex",toString:c}}),Lt=(Rt.__constructs__=[Rt.ODD,Rt.EVEN],function(){this.resolveTsxRawData=null,this.r=null,this.tsxCache=null}),Vt=((E["ceramic.TilemapTmxParser"]=Lt).__name__="ceramic.TilemapTmxParser",Lt.prototype={tsxCache:null,r:null,resolveTsxRawData:null,cwd:null,parseTmx:function(e,n,t){if(0==e.length)throw $.thrown("Tilemap: rawTmxData is 0 length");this.resolveTsxRawData=null!=t?t:function(e,n){return null},null==this.tsxCache&&(this.tsxCache=new Nl);try{this.r=new vl,this.r.resolveTSX=$bind(this,this.getTsx),this.cwd=n;var i=this.r.read(D.parse(e));return this.cwd=null,i}catch(e){Sl.lastError=e;t=$.caught(e).unwrap();ae.app.logger.error(t,{fileName:"../../../../ceramic/plugins/tilemap/runtime/src/ceramic/TilemapTmxParser.hx",lineNumber:94,className:"ceramic.TilemapTmxParser",methodName:"parseTmx"})}return null},clearCache:function(){this.tsxCache=null},getTsx:function(e){var n=this.cwd+":"+e,t=this.tsxCache.h[n];if(null==t){var i=this.r,e=D.parse(this.resolveTsxRawData(e,this.cwd));if(e.nodeType!=D.Document&&e.nodeType!=D.Element)throw $.thrown("Invalid nodeType "+(null==e.nodeType?"null":ge.toString(e.nodeType)));var e=hs.resolve(e,"tileset"),l=i.resolveProperties(e),s=[],r=as.resolve(e,"terraintypes"),h=[],a=as.resolve(e,"tile"),o=null,c=as.resolve(e,"tileoffset"),u=[],_=as.resolve(e,"wangsets"),d=null,b=as.resolve(e,"grid");if(c&&(f=hs.resolve(e,"tileoffset"),o=new ol(K.parseInt(ie.resolve(f,"x")),K.parseInt(ie.resolve(f,"y")))),r)for(var g=0,O=os.resolve(hs.resolve(e,"terraintypes"),"terrain");g<O.length;){var f=O[g];++g,s.push(new cl(ie.resolve(f,"name"),K.parseInt(ie.resolve(f,"tile")),i.resolveProperties(f)))}if(_)for(g=0,O=os.resolve(hs.resolve(e,"wangsets"),"wangset");g<O.length;){f=O[g];++g,u.push(i.resolveWangSet(f))}if(b){var p,c=hs.resolve(e,"grid"),g=K.parseInt(ie.resolve(c,"width")),O=K.parseInt(ie.resolve(c,"height")),C=ie.resolve(c,"orientation");switch(C){case"hexagonal":p=il.Hexagonal;break;case"isometric":p=il.Isometric;break;case"orthogonal":p=il.Orthogonal;break;case"staggered":p=il.Staggered;break;default:p=il.Unknown(C)}d=new al(p,g,O)}if(a)for(g=0,O=os.resolve(e,"tile");g<O.length;){var f=O[g],v=(++g,null);if(as.resolve(f,"animation"))for(var v=[],w=0,m=os.resolve(hs.resolve(f,"animation"),"frame");w<m.length;){var y=m[w];++w,v.push(new _l(K.parseInt(ie.resolve(y,"tileid")),K.parseInt(ie.resolve(y,"duration"))))}var U=K.parseInt(ie.resolve(f,"id")),T=le.resolve(f,"terrain")?ie.resolve(f,"terrain"):null,x=le.resolve(f,"probability")?parseFloat(ie.resolve(f,"probability")):0,S=i.resolveProperties(f),A=as.resolve(f,"image")?i.resolveImage(hs.resolve(f,"image")):null,k=as.resolve(f,"objectgroup")?i.resolveObjectGroup(hs.resolve(f,"objectgroup")):null;h.push(new ul(U,le.resolve(f,"type")?ie.resolve(f,"type"):null,T,x,S,A,k,v))}g=le.resolve(e,"firstgid")?K.parseInt(ie.resolve(e,"firstgid")):null,O=le.resolve(e,"source")?ie.resolve(e,"source"):null,w=le.resolve(e,"name")?ie.resolve(e,"name"):null,m=le.resolve(e,"tilewidth")?K.parseInt(ie.resolve(e,"tilewidth")):0,U=le.resolve(e,"tileheight")?K.parseInt(ie.resolve(e,"tileheight")):0,T=le.resolve(e,"spacing")?K.parseInt(ie.resolve(e,"spacing")):0,x=le.resolve(e,"margin")?K.parseInt(ie.resolve(e,"margin")):0,S=as.resolve(e,"image")?i.resolveImage(hs.resolve(e,"image")):null,r=new hl(g,O,w,m,U,T,x,le.resolve(e,"tilecount")?K.parseInt(ie.resolve(e,"tilecount")):0,le.resolve(e,"columns")?K.parseInt(ie.resolve(e,"columns")):0,o,l,S,s,h,d,u);null!=r.source&&null!=i.resolveTSX&&(_=i.resolveTSX(r.source),wl.applyTSX(_,r)),this.tsxCache.h[n]=t=r}return t},__class__:Lt},function(){this.unobservedSlopes=null,this.slopesAutoruns=null,this.implicitImage=!1,this.slopesMapping=null,this.unobservedGridCellHeight=0,this.gridCellHeightAutoruns=null,this.unobservedGridCellWidth=0,this.gridCellWidthAutoruns=null,this.unobservedGridOrientation=Ht.ORTHOGONAL,this.gridOrientationAutoruns=null,this.unobservedImage=null,this.imageAutoruns=null,this.computedOnceRows=!1,this.rowsAutoruns=null,this.unobservedColumns=0,this.columnsAutoruns=null,this.unobservedTileCount=0,this.tileCountAutoruns=null,this.unobservedMargin=0,this.marginAutoruns=null,this.unobservedSpacing=0,this.spacingAutoruns=null,this.unobservedTileHeight=-1,this.tileHeightAutoruns=null,this.unobservedTileWidth=-1,this.tileWidthAutoruns=null,this.unobservedName=null,this.nameAutoruns=null,this.unobservedFirstGid=0,this.firstGidAutoruns=null,R1.call(this)}),Ht=((E["ceramic.Tileset"]=Vt).__name__="ceramic.Tileset",Vt.__super__=R1,Vt.prototype=$extend(R1.prototype,{firstGidAutoruns:null,get_firstGid:function(){var e,n,t=this.unobservedFirstGid;return null!=A.current&&(e=A.current,null!=(n=this.firstGidAutoruns)||(n=A.getAutorunArray(),null!=(this.firstGidAutoruns=n)))&&e.bindToAutorunArray(n),t},set_firstGid:function(e){var n=this.unobservedFirstGid;return n!=(this.unobservedFirstGid=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!0)),this.emitFirstGidChange(e,n),null!=(n=this.firstGidAutoruns))&&(this.firstGidAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateFirstGid:function(){var e=this.unobservedFirstGid,e=(this.emitFirstGidChange(e,e),this.firstGidAutoruns);null!=e&&(this.firstGidAutoruns=null,A.invalidateAutorunArray(e))},unobservedFirstGid:null,__cbOnFirstGidChange:null,__cbOnceFirstGidChange:null,__cbOnOwnerUnbindFirstGidChange:null,__cbOnceOwnerUnbindFirstGidChange:null,emitFirstGidChange:function(e,n){var t=0;if(null!=this.__cbOnFirstGidChange&&(t+=this.__cbOnFirstGidChange.length),null!=this.__cbOnceFirstGidChange&&(t+=this.__cbOnceFirstGidChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnFirstGidChange)for(var r=0,h=this.__cbOnFirstGidChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnFirstGidChange[a],++s):--t}if(null!=this.__cbOnceFirstGidChange){for(var o=null,c=null,r=0,h=this.__cbOnceFirstGidChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceFirstGidChange[a],this.__cbOnceFirstGidChange[a]=null,u=this.__cbOnceOwnerUnbindFirstGidChange[a],(this.__cbOnceOwnerUnbindFirstGidChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindFirstGidChange[a]),c.push(this.__cbOnceFirstGidChange[a]))}this.__cbOnceOwnerUnbindFirstGidChange=o,this.__cbOnceFirstGidChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onFirstGidChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event firstGidChange because owner is destroyed!");var l=function(e){null!=t&&(i.offFirstGidChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindFirstGidChange&&(this.__cbOnOwnerUnbindFirstGidChange=[]),this.__cbOnOwnerUnbindFirstGidChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindFirstGidChange&&(this.__cbOnOwnerUnbindFirstGidChange=[]),this.__cbOnOwnerUnbindFirstGidChange.push(null);null==this.__cbOnFirstGidChange&&(this.__cbOnFirstGidChange=[]),this.__cbOnFirstGidChange.push(t)},onceFirstGidChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event firstGidChange because owner is destroyed!");var l=function(e){null!=t&&(i.offFirstGidChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindFirstGidChange&&(this.__cbOnceOwnerUnbindFirstGidChange=[]),this.__cbOnceOwnerUnbindFirstGidChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindFirstGidChange&&(this.__cbOnceOwnerUnbindFirstGidChange=[]),this.__cbOnceOwnerUnbindFirstGidChange.push(null);null==this.__cbOnceFirstGidChange&&(this.__cbOnceFirstGidChange=[]),this.__cbOnceFirstGidChange.push(t)},offFirstGidChange:function(e){if(null!=e){var n;null!=this.__cbOnFirstGidChange&&-1!=(n=this.__cbOnFirstGidChange.indexOf(e))&&(this.__cbOnFirstGidChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindFirstGidChange[n])&&s(),this.__cbOnOwnerUnbindFirstGidChange.splice(n,1)),null!=this.__cbOnceFirstGidChange&&-1!=(n=this.__cbOnceFirstGidChange.indexOf(e))&&(this.__cbOnceFirstGidChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindFirstGidChange[n])&&s(),this.__cbOnceOwnerUnbindFirstGidChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindFirstGidChange){for(var t=0,i=this.__cbOnOwnerUnbindFirstGidChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindFirstGidChange[l])&&s()}this.__cbOnOwnerUnbindFirstGidChange=null}if(null!=this.__cbOnceOwnerUnbindFirstGidChange){for(t=0,i=this.__cbOnceOwnerUnbindFirstGidChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindFirstGidChange[l])&&s()}this.__cbOnceOwnerUnbindFirstGidChange=null}this.__cbOnFirstGidChange=null,this.__cbOnceFirstGidChange=null}},listensFirstGidChange:function(){return null!=this.__cbOnFirstGidChange&&0<this.__cbOnFirstGidChange.length||null!=this.__cbOnceFirstGidChange&&0<this.__cbOnceFirstGidChange.length},nameAutoruns:null,get_name:function(){var e,n,t=this.unobservedName;return null!=A.current&&(e=A.current,null!=(n=this.nameAutoruns)||(n=A.getAutorunArray(),null!=(this.nameAutoruns=n)))&&e.bindToAutorunArray(n),t},set_name:function(e){var n=this.unobservedName;return n!=(this.unobservedName=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!0)),this.emitNameChange(e,n),null!=(n=this.nameAutoruns))&&(this.nameAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateName:function(){var e=this.unobservedName,e=(this.emitNameChange(e,e),this.nameAutoruns);null!=e&&(this.nameAutoruns=null,A.invalidateAutorunArray(e))},unobservedName:null,__cbOnNameChange:null,__cbOnceNameChange:null,__cbOnOwnerUnbindNameChange:null,__cbOnceOwnerUnbindNameChange:null,emitNameChange:function(e,n){var t=0;if(null!=this.__cbOnNameChange&&(t+=this.__cbOnNameChange.length),null!=this.__cbOnceNameChange&&(t+=this.__cbOnceNameChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnNameChange)for(var r=0,h=this.__cbOnNameChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnNameChange[a],++s):--t}if(null!=this.__cbOnceNameChange){for(var o=null,c=null,r=0,h=this.__cbOnceNameChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceNameChange[a],this.__cbOnceNameChange[a]=null,u=this.__cbOnceOwnerUnbindNameChange[a],(this.__cbOnceOwnerUnbindNameChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindNameChange[a]),c.push(this.__cbOnceNameChange[a]))}this.__cbOnceOwnerUnbindNameChange=o,this.__cbOnceNameChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onNameChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event nameChange because owner is destroyed!");var l=function(e){null!=t&&(i.offNameChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindNameChange&&(this.__cbOnOwnerUnbindNameChange=[]),this.__cbOnOwnerUnbindNameChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindNameChange&&(this.__cbOnOwnerUnbindNameChange=[]),this.__cbOnOwnerUnbindNameChange.push(null);null==this.__cbOnNameChange&&(this.__cbOnNameChange=[]),this.__cbOnNameChange.push(t)},onceNameChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event nameChange because owner is destroyed!");var l=function(e){null!=t&&(i.offNameChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindNameChange&&(this.__cbOnceOwnerUnbindNameChange=[]),this.__cbOnceOwnerUnbindNameChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindNameChange&&(this.__cbOnceOwnerUnbindNameChange=[]),this.__cbOnceOwnerUnbindNameChange.push(null);null==this.__cbOnceNameChange&&(this.__cbOnceNameChange=[]),this.__cbOnceNameChange.push(t)},offNameChange:function(e){if(null!=e){var n;null!=this.__cbOnNameChange&&-1!=(n=this.__cbOnNameChange.indexOf(e))&&(this.__cbOnNameChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindNameChange[n])&&s(),this.__cbOnOwnerUnbindNameChange.splice(n,1)),null!=this.__cbOnceNameChange&&-1!=(n=this.__cbOnceNameChange.indexOf(e))&&(this.__cbOnceNameChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindNameChange[n])&&s(),this.__cbOnceOwnerUnbindNameChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindNameChange){for(var t=0,i=this.__cbOnOwnerUnbindNameChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindNameChange[l])&&s()}this.__cbOnOwnerUnbindNameChange=null}if(null!=this.__cbOnceOwnerUnbindNameChange){for(t=0,i=this.__cbOnceOwnerUnbindNameChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindNameChange[l])&&s()}this.__cbOnceOwnerUnbindNameChange=null}this.__cbOnNameChange=null,this.__cbOnceNameChange=null}},listensNameChange:function(){return null!=this.__cbOnNameChange&&0<this.__cbOnNameChange.length||null!=this.__cbOnceNameChange&&0<this.__cbOnceNameChange.length},tileWidthAutoruns:null,get_tileWidth:function(){var e,n,t=this.unobservedTileWidth;return null!=A.current&&(e=A.current,null!=(n=this.tileWidthAutoruns)||(n=A.getAutorunArray(),null!=(this.tileWidthAutoruns=n)))&&e.bindToAutorunArray(n),t},set_tileWidth:function(e){var n=this.unobservedTileWidth;return n!=(this.unobservedTileWidth=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!0)),this.emitTileWidthChange(e,n),null!=(n=this.tileWidthAutoruns))&&(this.tileWidthAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateTileWidth:function(){var e=this.unobservedTileWidth,e=(this.emitTileWidthChange(e,e),this.tileWidthAutoruns);null!=e&&(this.tileWidthAutoruns=null,A.invalidateAutorunArray(e))},unobservedTileWidth:null,__cbOnTileWidthChange:null,__cbOnceTileWidthChange:null,__cbOnOwnerUnbindTileWidthChange:null,__cbOnceOwnerUnbindTileWidthChange:null,emitTileWidthChange:function(e,n){var t=0;if(null!=this.__cbOnTileWidthChange&&(t+=this.__cbOnTileWidthChange.length),null!=this.__cbOnceTileWidthChange&&(t+=this.__cbOnceTileWidthChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnTileWidthChange)for(var r=0,h=this.__cbOnTileWidthChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnTileWidthChange[a],++s):--t}if(null!=this.__cbOnceTileWidthChange){for(var o=null,c=null,r=0,h=this.__cbOnceTileWidthChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceTileWidthChange[a],this.__cbOnceTileWidthChange[a]=null,u=this.__cbOnceOwnerUnbindTileWidthChange[a],(this.__cbOnceOwnerUnbindTileWidthChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindTileWidthChange[a]),c.push(this.__cbOnceTileWidthChange[a]))}this.__cbOnceOwnerUnbindTileWidthChange=o,this.__cbOnceTileWidthChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onTileWidthChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event tileWidthChange because owner is destroyed!");var l=function(e){null!=t&&(i.offTileWidthChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindTileWidthChange&&(this.__cbOnOwnerUnbindTileWidthChange=[]),this.__cbOnOwnerUnbindTileWidthChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindTileWidthChange&&(this.__cbOnOwnerUnbindTileWidthChange=[]),this.__cbOnOwnerUnbindTileWidthChange.push(null);null==this.__cbOnTileWidthChange&&(this.__cbOnTileWidthChange=[]),this.__cbOnTileWidthChange.push(t)},onceTileWidthChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event tileWidthChange because owner is destroyed!");var l=function(e){null!=t&&(i.offTileWidthChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindTileWidthChange&&(this.__cbOnceOwnerUnbindTileWidthChange=[]),this.__cbOnceOwnerUnbindTileWidthChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindTileWidthChange&&(this.__cbOnceOwnerUnbindTileWidthChange=[]),this.__cbOnceOwnerUnbindTileWidthChange.push(null);null==this.__cbOnceTileWidthChange&&(this.__cbOnceTileWidthChange=[]),this.__cbOnceTileWidthChange.push(t)},offTileWidthChange:function(e){if(null!=e){var n;null!=this.__cbOnTileWidthChange&&-1!=(n=this.__cbOnTileWidthChange.indexOf(e))&&(this.__cbOnTileWidthChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindTileWidthChange[n])&&s(),this.__cbOnOwnerUnbindTileWidthChange.splice(n,1)),null!=this.__cbOnceTileWidthChange&&-1!=(n=this.__cbOnceTileWidthChange.indexOf(e))&&(this.__cbOnceTileWidthChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindTileWidthChange[n])&&s(),this.__cbOnceOwnerUnbindTileWidthChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindTileWidthChange){for(var t=0,i=this.__cbOnOwnerUnbindTileWidthChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindTileWidthChange[l])&&s()}this.__cbOnOwnerUnbindTileWidthChange=null}if(null!=this.__cbOnceOwnerUnbindTileWidthChange){for(t=0,i=this.__cbOnceOwnerUnbindTileWidthChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindTileWidthChange[l])&&s()}this.__cbOnceOwnerUnbindTileWidthChange=null}this.__cbOnTileWidthChange=null,this.__cbOnceTileWidthChange=null}},listensTileWidthChange:function(){return null!=this.__cbOnTileWidthChange&&0<this.__cbOnTileWidthChange.length||null!=this.__cbOnceTileWidthChange&&0<this.__cbOnceTileWidthChange.length},tileHeightAutoruns:null,get_tileHeight:function(){var e,n,t=this.unobservedTileHeight;return null!=A.current&&(e=A.current,null!=(n=this.tileHeightAutoruns)||(n=A.getAutorunArray(),null!=(this.tileHeightAutoruns=n)))&&e.bindToAutorunArray(n),t},set_tileHeight:function(e){var n=this.unobservedTileHeight;return n!=(this.unobservedTileHeight=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!0)),this.emitTileHeightChange(e,n),null!=(n=this.tileHeightAutoruns))&&(this.tileHeightAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateTileHeight:function(){var e=this.unobservedTileHeight,e=(this.emitTileHeightChange(e,e),this.tileHeightAutoruns);null!=e&&(this.tileHeightAutoruns=null,A.invalidateAutorunArray(e))},unobservedTileHeight:null,__cbOnTileHeightChange:null,__cbOnceTileHeightChange:null,__cbOnOwnerUnbindTileHeightChange:null,__cbOnceOwnerUnbindTileHeightChange:null,emitTileHeightChange:function(e,n){var t=0;if(null!=this.__cbOnTileHeightChange&&(t+=this.__cbOnTileHeightChange.length),null!=this.__cbOnceTileHeightChange&&(t+=this.__cbOnceTileHeightChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnTileHeightChange)for(var r=0,h=this.__cbOnTileHeightChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnTileHeightChange[a],++s):--t}if(null!=this.__cbOnceTileHeightChange){for(var o=null,c=null,r=0,h=this.__cbOnceTileHeightChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceTileHeightChange[a],this.__cbOnceTileHeightChange[a]=null,u=this.__cbOnceOwnerUnbindTileHeightChange[a],(this.__cbOnceOwnerUnbindTileHeightChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindTileHeightChange[a]),c.push(this.__cbOnceTileHeightChange[a]))}this.__cbOnceOwnerUnbindTileHeightChange=o,this.__cbOnceTileHeightChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onTileHeightChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event tileHeightChange because owner is destroyed!");var l=function(e){null!=t&&(i.offTileHeightChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindTileHeightChange&&(this.__cbOnOwnerUnbindTileHeightChange=[]),this.__cbOnOwnerUnbindTileHeightChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindTileHeightChange&&(this.__cbOnOwnerUnbindTileHeightChange=[]),this.__cbOnOwnerUnbindTileHeightChange.push(null);null==this.__cbOnTileHeightChange&&(this.__cbOnTileHeightChange=[]),this.__cbOnTileHeightChange.push(t)},onceTileHeightChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event tileHeightChange because owner is destroyed!");var l=function(e){null!=t&&(i.offTileHeightChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindTileHeightChange&&(this.__cbOnceOwnerUnbindTileHeightChange=[]),this.__cbOnceOwnerUnbindTileHeightChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindTileHeightChange&&(this.__cbOnceOwnerUnbindTileHeightChange=[]),this.__cbOnceOwnerUnbindTileHeightChange.push(null);null==this.__cbOnceTileHeightChange&&(this.__cbOnceTileHeightChange=[]),this.__cbOnceTileHeightChange.push(t)},offTileHeightChange:function(e){if(null!=e){var n;null!=this.__cbOnTileHeightChange&&-1!=(n=this.__cbOnTileHeightChange.indexOf(e))&&(this.__cbOnTileHeightChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindTileHeightChange[n])&&s(),this.__cbOnOwnerUnbindTileHeightChange.splice(n,1)),null!=this.__cbOnceTileHeightChange&&-1!=(n=this.__cbOnceTileHeightChange.indexOf(e))&&(this.__cbOnceTileHeightChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindTileHeightChange[n])&&s(),this.__cbOnceOwnerUnbindTileHeightChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindTileHeightChange){for(var t=0,i=this.__cbOnOwnerUnbindTileHeightChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindTileHeightChange[l])&&s()}this.__cbOnOwnerUnbindTileHeightChange=null}if(null!=this.__cbOnceOwnerUnbindTileHeightChange){for(t=0,i=this.__cbOnceOwnerUnbindTileHeightChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindTileHeightChange[l])&&s()}this.__cbOnceOwnerUnbindTileHeightChange=null}this.__cbOnTileHeightChange=null,this.__cbOnceTileHeightChange=null}},listensTileHeightChange:function(){return null!=this.__cbOnTileHeightChange&&0<this.__cbOnTileHeightChange.length||null!=this.__cbOnceTileHeightChange&&0<this.__cbOnceTileHeightChange.length},spacingAutoruns:null,get_spacing:function(){var e,n,t=this.unobservedSpacing;return null!=A.current&&(e=A.current,null!=(n=this.spacingAutoruns)||(n=A.getAutorunArray(),null!=(this.spacingAutoruns=n)))&&e.bindToAutorunArray(n),t},set_spacing:function(e){var n=this.unobservedSpacing;return n!=(this.unobservedSpacing=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!0)),this.emitSpacingChange(e,n),null!=(n=this.spacingAutoruns))&&(this.spacingAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateSpacing:function(){var e=this.unobservedSpacing,e=(this.emitSpacingChange(e,e),this.spacingAutoruns);null!=e&&(this.spacingAutoruns=null,A.invalidateAutorunArray(e))},unobservedSpacing:null,__cbOnSpacingChange:null,__cbOnceSpacingChange:null,__cbOnOwnerUnbindSpacingChange:null,__cbOnceOwnerUnbindSpacingChange:null,emitSpacingChange:function(e,n){var t=0;if(null!=this.__cbOnSpacingChange&&(t+=this.__cbOnSpacingChange.length),null!=this.__cbOnceSpacingChange&&(t+=this.__cbOnceSpacingChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnSpacingChange)for(var r=0,h=this.__cbOnSpacingChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnSpacingChange[a],++s):--t}if(null!=this.__cbOnceSpacingChange){for(var o=null,c=null,r=0,h=this.__cbOnceSpacingChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceSpacingChange[a],this.__cbOnceSpacingChange[a]=null,u=this.__cbOnceOwnerUnbindSpacingChange[a],(this.__cbOnceOwnerUnbindSpacingChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindSpacingChange[a]),c.push(this.__cbOnceSpacingChange[a]))}this.__cbOnceOwnerUnbindSpacingChange=o,this.__cbOnceSpacingChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onSpacingChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event spacingChange because owner is destroyed!");var l=function(e){null!=t&&(i.offSpacingChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindSpacingChange&&(this.__cbOnOwnerUnbindSpacingChange=[]),this.__cbOnOwnerUnbindSpacingChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindSpacingChange&&(this.__cbOnOwnerUnbindSpacingChange=[]),this.__cbOnOwnerUnbindSpacingChange.push(null);null==this.__cbOnSpacingChange&&(this.__cbOnSpacingChange=[]),this.__cbOnSpacingChange.push(t)},onceSpacingChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event spacingChange because owner is destroyed!");var l=function(e){null!=t&&(i.offSpacingChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindSpacingChange&&(this.__cbOnceOwnerUnbindSpacingChange=[]),this.__cbOnceOwnerUnbindSpacingChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindSpacingChange&&(this.__cbOnceOwnerUnbindSpacingChange=[]),this.__cbOnceOwnerUnbindSpacingChange.push(null);null==this.__cbOnceSpacingChange&&(this.__cbOnceSpacingChange=[]),this.__cbOnceSpacingChange.push(t)},offSpacingChange:function(e){if(null!=e){var n;null!=this.__cbOnSpacingChange&&-1!=(n=this.__cbOnSpacingChange.indexOf(e))&&(this.__cbOnSpacingChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindSpacingChange[n])&&s(),this.__cbOnOwnerUnbindSpacingChange.splice(n,1)),null!=this.__cbOnceSpacingChange&&-1!=(n=this.__cbOnceSpacingChange.indexOf(e))&&(this.__cbOnceSpacingChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindSpacingChange[n])&&s(),this.__cbOnceOwnerUnbindSpacingChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindSpacingChange){for(var t=0,i=this.__cbOnOwnerUnbindSpacingChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindSpacingChange[l])&&s()}this.__cbOnOwnerUnbindSpacingChange=null}if(null!=this.__cbOnceOwnerUnbindSpacingChange){for(t=0,i=this.__cbOnceOwnerUnbindSpacingChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindSpacingChange[l])&&s()}this.__cbOnceOwnerUnbindSpacingChange=null}this.__cbOnSpacingChange=null,this.__cbOnceSpacingChange=null}},listensSpacingChange:function(){return null!=this.__cbOnSpacingChange&&0<this.__cbOnSpacingChange.length||null!=this.__cbOnceSpacingChange&&0<this.__cbOnceSpacingChange.length},marginAutoruns:null,get_margin:function(){var e,n,t=this.unobservedMargin;return null!=A.current&&(e=A.current,null!=(n=this.marginAutoruns)||(n=A.getAutorunArray(),null!=(this.marginAutoruns=n)))&&e.bindToAutorunArray(n),t},set_margin:function(e){var n=this.unobservedMargin;return n!=(this.unobservedMargin=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!0)),this.emitMarginChange(e,n),null!=(n=this.marginAutoruns))&&(this.marginAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateMargin:function(){var e=this.unobservedMargin,e=(this.emitMarginChange(e,e),this.marginAutoruns);null!=e&&(this.marginAutoruns=null,A.invalidateAutorunArray(e))},unobservedMargin:null,__cbOnMarginChange:null,__cbOnceMarginChange:null,__cbOnOwnerUnbindMarginChange:null,__cbOnceOwnerUnbindMarginChange:null,emitMarginChange:function(e,n){var t=0;if(null!=this.__cbOnMarginChange&&(t+=this.__cbOnMarginChange.length),null!=this.__cbOnceMarginChange&&(t+=this.__cbOnceMarginChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnMarginChange)for(var r=0,h=this.__cbOnMarginChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnMarginChange[a],++s):--t}if(null!=this.__cbOnceMarginChange){for(var o=null,c=null,r=0,h=this.__cbOnceMarginChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceMarginChange[a],this.__cbOnceMarginChange[a]=null,u=this.__cbOnceOwnerUnbindMarginChange[a],(this.__cbOnceOwnerUnbindMarginChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindMarginChange[a]),c.push(this.__cbOnceMarginChange[a]))}this.__cbOnceOwnerUnbindMarginChange=o,this.__cbOnceMarginChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onMarginChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event marginChange because owner is destroyed!");var l=function(e){null!=t&&(i.offMarginChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindMarginChange&&(this.__cbOnOwnerUnbindMarginChange=[]),this.__cbOnOwnerUnbindMarginChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindMarginChange&&(this.__cbOnOwnerUnbindMarginChange=[]),this.__cbOnOwnerUnbindMarginChange.push(null);null==this.__cbOnMarginChange&&(this.__cbOnMarginChange=[]),this.__cbOnMarginChange.push(t)},onceMarginChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event marginChange because owner is destroyed!");var l=function(e){null!=t&&(i.offMarginChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindMarginChange&&(this.__cbOnceOwnerUnbindMarginChange=[]),this.__cbOnceOwnerUnbindMarginChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindMarginChange&&(this.__cbOnceOwnerUnbindMarginChange=[]),this.__cbOnceOwnerUnbindMarginChange.push(null);null==this.__cbOnceMarginChange&&(this.__cbOnceMarginChange=[]),this.__cbOnceMarginChange.push(t)},offMarginChange:function(e){if(null!=e){var n;null!=this.__cbOnMarginChange&&-1!=(n=this.__cbOnMarginChange.indexOf(e))&&(this.__cbOnMarginChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindMarginChange[n])&&s(),this.__cbOnOwnerUnbindMarginChange.splice(n,1)),null!=this.__cbOnceMarginChange&&-1!=(n=this.__cbOnceMarginChange.indexOf(e))&&(this.__cbOnceMarginChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindMarginChange[n])&&s(),this.__cbOnceOwnerUnbindMarginChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindMarginChange){for(var t=0,i=this.__cbOnOwnerUnbindMarginChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindMarginChange[l])&&s()}this.__cbOnOwnerUnbindMarginChange=null}if(null!=this.__cbOnceOwnerUnbindMarginChange){for(t=0,i=this.__cbOnceOwnerUnbindMarginChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindMarginChange[l])&&s()}this.__cbOnceOwnerUnbindMarginChange=null}this.__cbOnMarginChange=null,this.__cbOnceMarginChange=null}},listensMarginChange:function(){return null!=this.__cbOnMarginChange&&0<this.__cbOnMarginChange.length||null!=this.__cbOnceMarginChange&&0<this.__cbOnceMarginChange.length},tileCountAutoruns:null,get_tileCount:function(){var e,n,t=this.unobservedTileCount;return null!=A.current&&(e=A.current,null!=(n=this.tileCountAutoruns)||(n=A.getAutorunArray(),null!=(this.tileCountAutoruns=n)))&&e.bindToAutorunArray(n),t},set_tileCount:function(e){var n=this.unobservedTileCount;return n!=(this.unobservedTileCount=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!0)),this.emitTileCountChange(e,n),null!=(n=this.tileCountAutoruns))&&(this.tileCountAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateTileCount:function(){var e=this.unobservedTileCount,e=(this.emitTileCountChange(e,e),this.tileCountAutoruns);null!=e&&(this.tileCountAutoruns=null,A.invalidateAutorunArray(e))},unobservedTileCount:null,__cbOnTileCountChange:null,__cbOnceTileCountChange:null,__cbOnOwnerUnbindTileCountChange:null,__cbOnceOwnerUnbindTileCountChange:null,emitTileCountChange:function(e,n){var t=0;if(null!=this.__cbOnTileCountChange&&(t+=this.__cbOnTileCountChange.length),null!=this.__cbOnceTileCountChange&&(t+=this.__cbOnceTileCountChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnTileCountChange)for(var r=0,h=this.__cbOnTileCountChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnTileCountChange[a],++s):--t}if(null!=this.__cbOnceTileCountChange){for(var o=null,c=null,r=0,h=this.__cbOnceTileCountChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceTileCountChange[a],this.__cbOnceTileCountChange[a]=null,u=this.__cbOnceOwnerUnbindTileCountChange[a],(this.__cbOnceOwnerUnbindTileCountChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindTileCountChange[a]),c.push(this.__cbOnceTileCountChange[a]))}this.__cbOnceOwnerUnbindTileCountChange=o,this.__cbOnceTileCountChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onTileCountChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event tileCountChange because owner is destroyed!");var l=function(e){null!=t&&(i.offTileCountChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindTileCountChange&&(this.__cbOnOwnerUnbindTileCountChange=[]),this.__cbOnOwnerUnbindTileCountChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindTileCountChange&&(this.__cbOnOwnerUnbindTileCountChange=[]),this.__cbOnOwnerUnbindTileCountChange.push(null);null==this.__cbOnTileCountChange&&(this.__cbOnTileCountChange=[]),this.__cbOnTileCountChange.push(t)},onceTileCountChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event tileCountChange because owner is destroyed!");var l=function(e){null!=t&&(i.offTileCountChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindTileCountChange&&(this.__cbOnceOwnerUnbindTileCountChange=[]),this.__cbOnceOwnerUnbindTileCountChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindTileCountChange&&(this.__cbOnceOwnerUnbindTileCountChange=[]),this.__cbOnceOwnerUnbindTileCountChange.push(null);null==this.__cbOnceTileCountChange&&(this.__cbOnceTileCountChange=[]),this.__cbOnceTileCountChange.push(t)},offTileCountChange:function(e){if(null!=e){var n;null!=this.__cbOnTileCountChange&&-1!=(n=this.__cbOnTileCountChange.indexOf(e))&&(this.__cbOnTileCountChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindTileCountChange[n])&&s(),this.__cbOnOwnerUnbindTileCountChange.splice(n,1)),null!=this.__cbOnceTileCountChange&&-1!=(n=this.__cbOnceTileCountChange.indexOf(e))&&(this.__cbOnceTileCountChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindTileCountChange[n])&&s(),this.__cbOnceOwnerUnbindTileCountChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindTileCountChange){for(var t=0,i=this.__cbOnOwnerUnbindTileCountChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindTileCountChange[l])&&s()}this.__cbOnOwnerUnbindTileCountChange=null}if(null!=this.__cbOnceOwnerUnbindTileCountChange){for(t=0,i=this.__cbOnceOwnerUnbindTileCountChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindTileCountChange[l])&&s()}this.__cbOnceOwnerUnbindTileCountChange=null}this.__cbOnTileCountChange=null,this.__cbOnceTileCountChange=null}},listensTileCountChange:function(){return null!=this.__cbOnTileCountChange&&0<this.__cbOnTileCountChange.length||null!=this.__cbOnceTileCountChange&&0<this.__cbOnceTileCountChange.length},columnsAutoruns:null,get_columns:function(){var e,n,t=this.unobservedColumns;return null!=A.current&&(e=A.current,null!=(n=this.columnsAutoruns)||(n=A.getAutorunArray(),null!=(this.columnsAutoruns=n)))&&e.bindToAutorunArray(n),t},set_columns:function(e){var n=this.unobservedColumns;return n!=(this.unobservedColumns=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!0)),this.emitColumnsChange(e,n),null!=(n=this.columnsAutoruns))&&(this.columnsAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateColumns:function(){var e=this.unobservedColumns,e=(this.emitColumnsChange(e,e),this.columnsAutoruns);null!=e&&(this.columnsAutoruns=null,A.invalidateAutorunArray(e))},unobservedColumns:null,__cbOnColumnsChange:null,__cbOnceColumnsChange:null,__cbOnOwnerUnbindColumnsChange:null,__cbOnceOwnerUnbindColumnsChange:null,emitColumnsChange:function(e,n){var t=0;if(null!=this.__cbOnColumnsChange&&(t+=this.__cbOnColumnsChange.length),null!=this.__cbOnceColumnsChange&&(t+=this.__cbOnceColumnsChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnColumnsChange)for(var r=0,h=this.__cbOnColumnsChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnColumnsChange[a],++s):--t}if(null!=this.__cbOnceColumnsChange){for(var o=null,c=null,r=0,h=this.__cbOnceColumnsChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceColumnsChange[a],this.__cbOnceColumnsChange[a]=null,u=this.__cbOnceOwnerUnbindColumnsChange[a],(this.__cbOnceOwnerUnbindColumnsChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindColumnsChange[a]),c.push(this.__cbOnceColumnsChange[a]))}this.__cbOnceOwnerUnbindColumnsChange=o,this.__cbOnceColumnsChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onColumnsChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event columnsChange because owner is destroyed!");var l=function(e){null!=t&&(i.offColumnsChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindColumnsChange&&(this.__cbOnOwnerUnbindColumnsChange=[]),this.__cbOnOwnerUnbindColumnsChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindColumnsChange&&(this.__cbOnOwnerUnbindColumnsChange=[]),this.__cbOnOwnerUnbindColumnsChange.push(null);null==this.__cbOnColumnsChange&&(this.__cbOnColumnsChange=[]),this.__cbOnColumnsChange.push(t)},onceColumnsChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event columnsChange because owner is destroyed!");var l=function(e){null!=t&&(i.offColumnsChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindColumnsChange&&(this.__cbOnceOwnerUnbindColumnsChange=[]),this.__cbOnceOwnerUnbindColumnsChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindColumnsChange&&(this.__cbOnceOwnerUnbindColumnsChange=[]),this.__cbOnceOwnerUnbindColumnsChange.push(null);null==this.__cbOnceColumnsChange&&(this.__cbOnceColumnsChange=[]),this.__cbOnceColumnsChange.push(t)},offColumnsChange:function(e){if(null!=e){var n;null!=this.__cbOnColumnsChange&&-1!=(n=this.__cbOnColumnsChange.indexOf(e))&&(this.__cbOnColumnsChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindColumnsChange[n])&&s(),this.__cbOnOwnerUnbindColumnsChange.splice(n,1)),null!=this.__cbOnceColumnsChange&&-1!=(n=this.__cbOnceColumnsChange.indexOf(e))&&(this.__cbOnceColumnsChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindColumnsChange[n])&&s(),this.__cbOnceOwnerUnbindColumnsChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindColumnsChange){for(var t=0,i=this.__cbOnOwnerUnbindColumnsChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindColumnsChange[l])&&s()}this.__cbOnOwnerUnbindColumnsChange=null}if(null!=this.__cbOnceOwnerUnbindColumnsChange){for(t=0,i=this.__cbOnceOwnerUnbindColumnsChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindColumnsChange[l])&&s()}this.__cbOnceOwnerUnbindColumnsChange=null}this.__cbOnColumnsChange=null,this.__cbOnceColumnsChange=null}},listensColumnsChange:function(){return null!=this.__cbOnColumnsChange&&0<this.__cbOnColumnsChange.length||null!=this.__cbOnceColumnsChange&&0<this.__cbOnceColumnsChange.length},willListenRowsChange:function(){this.get_unobservedRows()},get_unobservedRows:function(){var n,t;return 0<=this._lifecycleState?null==this.computeAutorunRows?(n=this,t=new A(null),this.computedOnceRows=!0,(this.computeAutorunRows=t).onRun=function(){var e=n.computeRows();A.unobserve(),n.set_rows(e),A.reobserve()},t.onDestroy(this,function(e){n.computeAutorunRows==t&&(n.computeAutorunRows=null),n=t=null}),this.onDestroy(t,function(e){null!=t&&(t.destroy(),t=null),n=null}),t.run()):this.computeAutorunRows.invalidated&&this.computeAutorunRows.run():this.computedOnceRows||(A.unobserve(),this.computedOnceRows=!0,this.unobservedRows=this.computeRows(),A.reobserve()),this.unobservedRows},rowsAutoruns:null,get_rows:function(){var e,n,t=this.get_unobservedRows();return null!=A.current&&(e=A.current,null!=(n=this.rowsAutoruns)||(n=A.getAutorunArray(),null!=(this.rowsAutoruns=n)))&&e.bindToAutorunArray(n),t},set_rows:function(e){var n=this.get_unobservedRows();return n!=(this.unobservedRows=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitRowsChange(e,n),null!=(n=this.rowsAutoruns))&&(this.rowsAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateRows:function(){var e=this.get_unobservedRows(),e=(this.emitRowsChange(e,e),this.rowsAutoruns);null!=e&&(this.rowsAutoruns=null,A.invalidateAutorunArray(e))},unobservedRows:null,__cbOnRowsChange:null,__cbOnceRowsChange:null,__cbOnOwnerUnbindRowsChange:null,__cbOnceOwnerUnbindRowsChange:null,emitRowsChange:function(e,n){var t=0;if(null!=this.__cbOnRowsChange&&(t+=this.__cbOnRowsChange.length),null!=this.__cbOnceRowsChange&&(t+=this.__cbOnceRowsChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnRowsChange)for(var r=0,h=this.__cbOnRowsChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnRowsChange[a],++s):--t}if(null!=this.__cbOnceRowsChange){for(var o=null,c=null,r=0,h=this.__cbOnceRowsChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceRowsChange[a],this.__cbOnceRowsChange[a]=null,u=this.__cbOnceOwnerUnbindRowsChange[a],(this.__cbOnceOwnerUnbindRowsChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindRowsChange[a]),c.push(this.__cbOnceRowsChange[a]))}this.__cbOnceOwnerUnbindRowsChange=o,this.__cbOnceRowsChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onRowsChange:function(n,t){var i=this;if(null==this.__cbOnRowsChange&&null==this.__cbOnceRowsChange&&this.willListenRowsChange(),null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event rowsChange because owner is destroyed!");var l=function(e){null!=t&&(i.offRowsChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindRowsChange&&(this.__cbOnOwnerUnbindRowsChange=[]),this.__cbOnOwnerUnbindRowsChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindRowsChange&&(this.__cbOnOwnerUnbindRowsChange=[]),this.__cbOnOwnerUnbindRowsChange.push(null);null==this.__cbOnRowsChange&&(this.__cbOnRowsChange=[]),this.__cbOnRowsChange.push(t)},onceRowsChange:function(n,t){var i=this;if(null==this.__cbOnRowsChange&&null==this.__cbOnceRowsChange&&this.willListenRowsChange(),null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event rowsChange because owner is destroyed!");var l=function(e){null!=t&&(i.offRowsChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindRowsChange&&(this.__cbOnceOwnerUnbindRowsChange=[]),this.__cbOnceOwnerUnbindRowsChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindRowsChange&&(this.__cbOnceOwnerUnbindRowsChange=[]),this.__cbOnceOwnerUnbindRowsChange.push(null);null==this.__cbOnceRowsChange&&(this.__cbOnceRowsChange=[]),this.__cbOnceRowsChange.push(t)},offRowsChange:function(e){if(null!=e){var n;null!=this.__cbOnRowsChange&&-1!=(n=this.__cbOnRowsChange.indexOf(e))&&(this.__cbOnRowsChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindRowsChange[n])&&s(),this.__cbOnOwnerUnbindRowsChange.splice(n,1)),null!=this.__cbOnceRowsChange&&-1!=(n=this.__cbOnceRowsChange.indexOf(e))&&(this.__cbOnceRowsChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindRowsChange[n])&&s(),this.__cbOnceOwnerUnbindRowsChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindRowsChange){for(var t=0,i=this.__cbOnOwnerUnbindRowsChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindRowsChange[l])&&s()}this.__cbOnOwnerUnbindRowsChange=null}if(null!=this.__cbOnceOwnerUnbindRowsChange){for(t=0,i=this.__cbOnceOwnerUnbindRowsChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindRowsChange[l])&&s()}this.__cbOnceOwnerUnbindRowsChange=null}this.__cbOnRowsChange=null,this.__cbOnceRowsChange=null}},listensRowsChange:function(){return null!=this.__cbOnRowsChange&&0<this.__cbOnRowsChange.length||null!=this.__cbOnceRowsChange&&0<this.__cbOnceRowsChange.length},computeRows:function(){var e=0,n=this.get_image();return null!=n&&(n=n.get_height(),e=Math.floor((n-2*this.get_margin()+this.get_spacing())/(this.get_tileHeight()+this.get_spacing()))),e},computeAutorunRows:null,computedOnceRows:null,imageAutoruns:null,get_image:function(){var e,n,t=this.unobservedImage;return null!=A.current&&(e=A.current,null!=(n=this.imageAutoruns)||(n=A.getAutorunArray(),null!=(this.imageAutoruns=n)))&&e.bindToAutorunArray(n),t},set_image:function(e){var n=this.unobservedImage;return this.set_unobservedImage(e),n!=e&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!0)),this.emitImageChange(e,n),null!=(n=this.imageAutoruns))&&(this.imageAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateImage:function(){var e=this.unobservedImage,e=(this.emitImageChange(e,e),this.imageAutoruns);null!=e&&(this.imageAutoruns=null,A.invalidateAutorunArray(e))},unobservedImage:null,__cbOnImageChange:null,__cbOnceImageChange:null,__cbOnOwnerUnbindImageChange:null,__cbOnceOwnerUnbindImageChange:null,emitImageChange:function(e,n){var t=0;if(null!=this.__cbOnImageChange&&(t+=this.__cbOnImageChange.length),null!=this.__cbOnceImageChange&&(t+=this.__cbOnceImageChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnImageChange)for(var r=0,h=this.__cbOnImageChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnImageChange[a],++s):--t}if(null!=this.__cbOnceImageChange){for(var o=null,c=null,r=0,h=this.__cbOnceImageChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceImageChange[a],this.__cbOnceImageChange[a]=null,u=this.__cbOnceOwnerUnbindImageChange[a],(this.__cbOnceOwnerUnbindImageChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindImageChange[a]),c.push(this.__cbOnceImageChange[a]))}this.__cbOnceOwnerUnbindImageChange=o,this.__cbOnceImageChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onImageChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event imageChange because owner is destroyed!");var l=function(e){null!=t&&(i.offImageChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindImageChange&&(this.__cbOnOwnerUnbindImageChange=[]),this.__cbOnOwnerUnbindImageChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindImageChange&&(this.__cbOnOwnerUnbindImageChange=[]),this.__cbOnOwnerUnbindImageChange.push(null);null==this.__cbOnImageChange&&(this.__cbOnImageChange=[]),this.__cbOnImageChange.push(t)},onceImageChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event imageChange because owner is destroyed!");var l=function(e){null!=t&&(i.offImageChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindImageChange&&(this.__cbOnceOwnerUnbindImageChange=[]),this.__cbOnceOwnerUnbindImageChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindImageChange&&(this.__cbOnceOwnerUnbindImageChange=[]),this.__cbOnceOwnerUnbindImageChange.push(null);null==this.__cbOnceImageChange&&(this.__cbOnceImageChange=[]),this.__cbOnceImageChange.push(t)},offImageChange:function(e){if(null!=e){var n;null!=this.__cbOnImageChange&&-1!=(n=this.__cbOnImageChange.indexOf(e))&&(this.__cbOnImageChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindImageChange[n])&&s(),this.__cbOnOwnerUnbindImageChange.splice(n,1)),null!=this.__cbOnceImageChange&&-1!=(n=this.__cbOnceImageChange.indexOf(e))&&(this.__cbOnceImageChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindImageChange[n])&&s(),this.__cbOnceOwnerUnbindImageChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindImageChange){for(var t=0,i=this.__cbOnOwnerUnbindImageChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindImageChange[l])&&s()}this.__cbOnOwnerUnbindImageChange=null}if(null!=this.__cbOnceOwnerUnbindImageChange){for(t=0,i=this.__cbOnceOwnerUnbindImageChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindImageChange[l])&&s()}this.__cbOnceOwnerUnbindImageChange=null}this.__cbOnImageChange=null,this.__cbOnceImageChange=null}},listensImageChange:function(){return null!=this.__cbOnImageChange&&0<this.__cbOnImageChange.length||null!=this.__cbOnceImageChange&&0<this.__cbOnceImageChange.length},set_unobservedImage:function(e){var n;return e!=this.unobservedImage&&(n=this.unobservedImage,this.unobservedImage=e,this.implicitImage&&null!=n&&n.destroy(),this.implicitImage=!1),e},gridOrientationAutoruns:null,get_gridOrientation:function(){var e,n,t=this.unobservedGridOrientation;return null!=A.current&&(e=A.current,null!=(n=this.gridOrientationAutoruns)||(n=A.getAutorunArray(),null!=(this.gridOrientationAutoruns=n)))&&e.bindToAutorunArray(n),t},set_gridOrientation:function(e){var n=this.unobservedGridOrientation;return n!=(this.unobservedGridOrientation=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!0)),this.emitGridOrientationChange(e,n),null!=(n=this.gridOrientationAutoruns))&&(this.gridOrientationAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateGridOrientation:function(){var e=this.unobservedGridOrientation,e=(this.emitGridOrientationChange(e,e),this.gridOrientationAutoruns);null!=e&&(this.gridOrientationAutoruns=null,A.invalidateAutorunArray(e))},unobservedGridOrientation:null,__cbOnGridOrientationChange:null,__cbOnceGridOrientationChange:null,__cbOnOwnerUnbindGridOrientationChange:null,__cbOnceOwnerUnbindGridOrientationChange:null,emitGridOrientationChange:function(e,n){var t=0;if(null!=this.__cbOnGridOrientationChange&&(t+=this.__cbOnGridOrientationChange.length),null!=this.__cbOnceGridOrientationChange&&(t+=this.__cbOnceGridOrientationChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnGridOrientationChange)for(var r=0,h=this.__cbOnGridOrientationChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnGridOrientationChange[a],++s):--t}if(null!=this.__cbOnceGridOrientationChange){for(var o=null,c=null,r=0,h=this.__cbOnceGridOrientationChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceGridOrientationChange[a],this.__cbOnceGridOrientationChange[a]=null,u=this.__cbOnceOwnerUnbindGridOrientationChange[a],(this.__cbOnceOwnerUnbindGridOrientationChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindGridOrientationChange[a]),c.push(this.__cbOnceGridOrientationChange[a]))}this.__cbOnceOwnerUnbindGridOrientationChange=o,this.__cbOnceGridOrientationChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onGridOrientationChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event gridOrientationChange because owner is destroyed!");var l=function(e){null!=t&&(i.offGridOrientationChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindGridOrientationChange&&(this.__cbOnOwnerUnbindGridOrientationChange=[]),this.__cbOnOwnerUnbindGridOrientationChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindGridOrientationChange&&(this.__cbOnOwnerUnbindGridOrientationChange=[]),this.__cbOnOwnerUnbindGridOrientationChange.push(null);null==this.__cbOnGridOrientationChange&&(this.__cbOnGridOrientationChange=[]),this.__cbOnGridOrientationChange.push(t)},onceGridOrientationChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event gridOrientationChange because owner is destroyed!");var l=function(e){null!=t&&(i.offGridOrientationChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindGridOrientationChange&&(this.__cbOnceOwnerUnbindGridOrientationChange=[]),this.__cbOnceOwnerUnbindGridOrientationChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindGridOrientationChange&&(this.__cbOnceOwnerUnbindGridOrientationChange=[]),this.__cbOnceOwnerUnbindGridOrientationChange.push(null);null==this.__cbOnceGridOrientationChange&&(this.__cbOnceGridOrientationChange=[]),this.__cbOnceGridOrientationChange.push(t)},offGridOrientationChange:function(e){if(null!=e){var n;null!=this.__cbOnGridOrientationChange&&-1!=(n=this.__cbOnGridOrientationChange.indexOf(e))&&(this.__cbOnGridOrientationChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindGridOrientationChange[n])&&s(),this.__cbOnOwnerUnbindGridOrientationChange.splice(n,1)),null!=this.__cbOnceGridOrientationChange&&-1!=(n=this.__cbOnceGridOrientationChange.indexOf(e))&&(this.__cbOnceGridOrientationChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindGridOrientationChange[n])&&s(),this.__cbOnceOwnerUnbindGridOrientationChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindGridOrientationChange){for(var t=0,i=this.__cbOnOwnerUnbindGridOrientationChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindGridOrientationChange[l])&&s()}this.__cbOnOwnerUnbindGridOrientationChange=null}if(null!=this.__cbOnceOwnerUnbindGridOrientationChange){for(t=0,i=this.__cbOnceOwnerUnbindGridOrientationChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindGridOrientationChange[l])&&s()}this.__cbOnceOwnerUnbindGridOrientationChange=null}this.__cbOnGridOrientationChange=null,this.__cbOnceGridOrientationChange=null}},listensGridOrientationChange:function(){return null!=this.__cbOnGridOrientationChange&&0<this.__cbOnGridOrientationChange.length||null!=this.__cbOnceGridOrientationChange&&0<this.__cbOnceGridOrientationChange.length},gridCellWidthAutoruns:null,get_gridCellWidth:function(){var e,n,t=this.unobservedGridCellWidth;return null!=A.current&&(e=A.current,null!=(n=this.gridCellWidthAutoruns)||(n=A.getAutorunArray(),null!=(this.gridCellWidthAutoruns=n)))&&e.bindToAutorunArray(n),t},set_gridCellWidth:function(e){var n=this.unobservedGridCellWidth;return n!=(this.unobservedGridCellWidth=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!0)),this.emitGridCellWidthChange(e,n),null!=(n=this.gridCellWidthAutoruns))&&(this.gridCellWidthAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateGridCellWidth:function(){var e=this.unobservedGridCellWidth,e=(this.emitGridCellWidthChange(e,e),this.gridCellWidthAutoruns);null!=e&&(this.gridCellWidthAutoruns=null,A.invalidateAutorunArray(e))},unobservedGridCellWidth:null,__cbOnGridCellWidthChange:null,__cbOnceGridCellWidthChange:null,__cbOnOwnerUnbindGridCellWidthChange:null,__cbOnceOwnerUnbindGridCellWidthChange:null,emitGridCellWidthChange:function(e,n){var t=0;if(null!=this.__cbOnGridCellWidthChange&&(t+=this.__cbOnGridCellWidthChange.length),null!=this.__cbOnceGridCellWidthChange&&(t+=this.__cbOnceGridCellWidthChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnGridCellWidthChange)for(var r=0,h=this.__cbOnGridCellWidthChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnGridCellWidthChange[a],++s):--t}if(null!=this.__cbOnceGridCellWidthChange){for(var o=null,c=null,r=0,h=this.__cbOnceGridCellWidthChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceGridCellWidthChange[a],this.__cbOnceGridCellWidthChange[a]=null,u=this.__cbOnceOwnerUnbindGridCellWidthChange[a],(this.__cbOnceOwnerUnbindGridCellWidthChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindGridCellWidthChange[a]),c.push(this.__cbOnceGridCellWidthChange[a]))}this.__cbOnceOwnerUnbindGridCellWidthChange=o,this.__cbOnceGridCellWidthChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onGridCellWidthChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event gridCellWidthChange because owner is destroyed!");var l=function(e){null!=t&&(i.offGridCellWidthChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindGridCellWidthChange&&(this.__cbOnOwnerUnbindGridCellWidthChange=[]),this.__cbOnOwnerUnbindGridCellWidthChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindGridCellWidthChange&&(this.__cbOnOwnerUnbindGridCellWidthChange=[]),this.__cbOnOwnerUnbindGridCellWidthChange.push(null);null==this.__cbOnGridCellWidthChange&&(this.__cbOnGridCellWidthChange=[]),this.__cbOnGridCellWidthChange.push(t)},onceGridCellWidthChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event gridCellWidthChange because owner is destroyed!");var l=function(e){null!=t&&(i.offGridCellWidthChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindGridCellWidthChange&&(this.__cbOnceOwnerUnbindGridCellWidthChange=[]),this.__cbOnceOwnerUnbindGridCellWidthChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindGridCellWidthChange&&(this.__cbOnceOwnerUnbindGridCellWidthChange=[]),this.__cbOnceOwnerUnbindGridCellWidthChange.push(null);null==this.__cbOnceGridCellWidthChange&&(this.__cbOnceGridCellWidthChange=[]),this.__cbOnceGridCellWidthChange.push(t)},offGridCellWidthChange:function(e){if(null!=e){var n;null!=this.__cbOnGridCellWidthChange&&-1!=(n=this.__cbOnGridCellWidthChange.indexOf(e))&&(this.__cbOnGridCellWidthChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindGridCellWidthChange[n])&&s(),this.__cbOnOwnerUnbindGridCellWidthChange.splice(n,1)),null!=this.__cbOnceGridCellWidthChange&&-1!=(n=this.__cbOnceGridCellWidthChange.indexOf(e))&&(this.__cbOnceGridCellWidthChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindGridCellWidthChange[n])&&s(),this.__cbOnceOwnerUnbindGridCellWidthChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindGridCellWidthChange){for(var t=0,i=this.__cbOnOwnerUnbindGridCellWidthChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindGridCellWidthChange[l])&&s()}this.__cbOnOwnerUnbindGridCellWidthChange=null}if(null!=this.__cbOnceOwnerUnbindGridCellWidthChange){for(t=0,i=this.__cbOnceOwnerUnbindGridCellWidthChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindGridCellWidthChange[l])&&s()}this.__cbOnceOwnerUnbindGridCellWidthChange=null}this.__cbOnGridCellWidthChange=null,this.__cbOnceGridCellWidthChange=null}},listensGridCellWidthChange:function(){return null!=this.__cbOnGridCellWidthChange&&0<this.__cbOnGridCellWidthChange.length||null!=this.__cbOnceGridCellWidthChange&&0<this.__cbOnceGridCellWidthChange.length},gridCellHeightAutoruns:null,get_gridCellHeight:function(){var e,n,t=this.unobservedGridCellHeight;return null!=A.current&&(e=A.current,null!=(n=this.gridCellHeightAutoruns)||(n=A.getAutorunArray(),null!=(this.gridCellHeightAutoruns=n)))&&e.bindToAutorunArray(n),t},set_gridCellHeight:function(e){var n=this.unobservedGridCellHeight;return n!=(this.unobservedGridCellHeight=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!0)),this.emitGridCellHeightChange(e,n),null!=(n=this.gridCellHeightAutoruns))&&(this.gridCellHeightAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateGridCellHeight:function(){var e=this.unobservedGridCellHeight,e=(this.emitGridCellHeightChange(e,e),this.gridCellHeightAutoruns);null!=e&&(this.gridCellHeightAutoruns=null,A.invalidateAutorunArray(e))},unobservedGridCellHeight:null,__cbOnGridCellHeightChange:null,__cbOnceGridCellHeightChange:null,__cbOnOwnerUnbindGridCellHeightChange:null,__cbOnceOwnerUnbindGridCellHeightChange:null,emitGridCellHeightChange:function(e,n){var t=0;if(null!=this.__cbOnGridCellHeightChange&&(t+=this.__cbOnGridCellHeightChange.length),null!=this.__cbOnceGridCellHeightChange&&(t+=this.__cbOnceGridCellHeightChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnGridCellHeightChange)for(var r=0,h=this.__cbOnGridCellHeightChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnGridCellHeightChange[a],++s):--t}if(null!=this.__cbOnceGridCellHeightChange){for(var o=null,c=null,r=0,h=this.__cbOnceGridCellHeightChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceGridCellHeightChange[a],this.__cbOnceGridCellHeightChange[a]=null,u=this.__cbOnceOwnerUnbindGridCellHeightChange[a],(this.__cbOnceOwnerUnbindGridCellHeightChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindGridCellHeightChange[a]),c.push(this.__cbOnceGridCellHeightChange[a]))}this.__cbOnceOwnerUnbindGridCellHeightChange=o,this.__cbOnceGridCellHeightChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onGridCellHeightChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event gridCellHeightChange because owner is destroyed!");var l=function(e){null!=t&&(i.offGridCellHeightChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindGridCellHeightChange&&(this.__cbOnOwnerUnbindGridCellHeightChange=[]),this.__cbOnOwnerUnbindGridCellHeightChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindGridCellHeightChange&&(this.__cbOnOwnerUnbindGridCellHeightChange=[]),this.__cbOnOwnerUnbindGridCellHeightChange.push(null);null==this.__cbOnGridCellHeightChange&&(this.__cbOnGridCellHeightChange=[]),this.__cbOnGridCellHeightChange.push(t)},onceGridCellHeightChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event gridCellHeightChange because owner is destroyed!");var l=function(e){null!=t&&(i.offGridCellHeightChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindGridCellHeightChange&&(this.__cbOnceOwnerUnbindGridCellHeightChange=[]),this.__cbOnceOwnerUnbindGridCellHeightChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindGridCellHeightChange&&(this.__cbOnceOwnerUnbindGridCellHeightChange=[]),this.__cbOnceOwnerUnbindGridCellHeightChange.push(null);null==this.__cbOnceGridCellHeightChange&&(this.__cbOnceGridCellHeightChange=[]),this.__cbOnceGridCellHeightChange.push(t)},offGridCellHeightChange:function(e){if(null!=e){var n;null!=this.__cbOnGridCellHeightChange&&-1!=(n=this.__cbOnGridCellHeightChange.indexOf(e))&&(this.__cbOnGridCellHeightChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindGridCellHeightChange[n])&&s(),this.__cbOnOwnerUnbindGridCellHeightChange.splice(n,1)),null!=this.__cbOnceGridCellHeightChange&&-1!=(n=this.__cbOnceGridCellHeightChange.indexOf(e))&&(this.__cbOnceGridCellHeightChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindGridCellHeightChange[n])&&s(),this.__cbOnceOwnerUnbindGridCellHeightChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindGridCellHeightChange){for(var t=0,i=this.__cbOnOwnerUnbindGridCellHeightChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindGridCellHeightChange[l])&&s()}this.__cbOnOwnerUnbindGridCellHeightChange=null}if(null!=this.__cbOnceOwnerUnbindGridCellHeightChange){for(t=0,i=this.__cbOnceOwnerUnbindGridCellHeightChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindGridCellHeightChange[l])&&s()}this.__cbOnceOwnerUnbindGridCellHeightChange=null}this.__cbOnGridCellHeightChange=null,this.__cbOnceGridCellHeightChange=null}},listensGridCellHeightChange:function(){return null!=this.__cbOnGridCellHeightChange&&0<this.__cbOnGridCellHeightChange.length||null!=this.__cbOnceGridCellHeightChange&&0<this.__cbOnceGridCellHeightChange.length},slopesMapping:null,implicitImage:null,get_texture:function(){return null!=this.get_image()?this.unobservedImage.texture:null},set_texture:function(e){return null!=e?null!=this.unobservedImage&&this.unobservedImage.texture==e||(this.set_unobservedImage(new Wt),this.implicitImage=!0,this.unobservedImage.set_texture(e)):(this.set_unobservedImage(null),this.implicitImage=!1),e},tileSize:function(e,n){this.set_tileWidth(e),this.set_tileHeight(n)},gidAtPosition:function(e,n){return Math.floor(this.get_firstGid()+n*this.get_columns()+e)},columnForGid:function(e){return(e-this.get_firstGid())%this.get_columns()},rowForGid:function(e){return Math.floor((e-this.get_firstGid())/this.get_columns())},slopesAutoruns:null,get_slopes:function(){var e,n,t=this.unobservedSlopes;return null!=A.current&&(e=A.current,null!=(n=this.slopesAutoruns)||(n=A.getAutorunArray(),null!=(this.slopesAutoruns=n)))&&e.bindToAutorunArray(n),t},set_slopes:function(e){var n=this.unobservedSlopes;return this.set_unobservedSlopes(e),Ds.equalAny(n,e)||(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!0)),this.emitSlopesChange(e,n),null!=(n=this.slopesAutoruns)&&(this.slopesAutoruns=null,A.invalidateAutorunArray(n))),e},invalidateSlopes:function(){var e=this.unobservedSlopes,e=(this.emitSlopesChange(e,e),this.slopesAutoruns);null!=e&&(this.slopesAutoruns=null,A.invalidateAutorunArray(e))},unobservedSlopes:null,__cbOnSlopesChange:null,__cbOnceSlopesChange:null,__cbOnOwnerUnbindSlopesChange:null,__cbOnceOwnerUnbindSlopesChange:null,emitSlopesChange:function(e,n){var t=0;if(null!=this.__cbOnSlopesChange&&(t+=this.__cbOnSlopesChange.length),null!=this.__cbOnceSlopesChange&&(t+=this.__cbOnceSlopesChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnSlopesChange)for(var r=0,h=this.__cbOnSlopesChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnSlopesChange[a],++s):--t}if(null!=this.__cbOnceSlopesChange){for(var o=null,c=null,r=0,h=this.__cbOnceSlopesChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceSlopesChange[a],this.__cbOnceSlopesChange[a]=null,u=this.__cbOnceOwnerUnbindSlopesChange[a],(this.__cbOnceOwnerUnbindSlopesChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindSlopesChange[a]),c.push(this.__cbOnceSlopesChange[a]))}this.__cbOnceOwnerUnbindSlopesChange=o,this.__cbOnceSlopesChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onSlopesChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event slopesChange because owner is destroyed!");var l=function(e){null!=t&&(i.offSlopesChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindSlopesChange&&(this.__cbOnOwnerUnbindSlopesChange=[]),this.__cbOnOwnerUnbindSlopesChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindSlopesChange&&(this.__cbOnOwnerUnbindSlopesChange=[]),this.__cbOnOwnerUnbindSlopesChange.push(null);null==this.__cbOnSlopesChange&&(this.__cbOnSlopesChange=[]),this.__cbOnSlopesChange.push(t)},onceSlopesChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event slopesChange because owner is destroyed!");var l=function(e){null!=t&&(i.offSlopesChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindSlopesChange&&(this.__cbOnceOwnerUnbindSlopesChange=[]),this.__cbOnceOwnerUnbindSlopesChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindSlopesChange&&(this.__cbOnceOwnerUnbindSlopesChange=[]),this.__cbOnceOwnerUnbindSlopesChange.push(null);null==this.__cbOnceSlopesChange&&(this.__cbOnceSlopesChange=[]),this.__cbOnceSlopesChange.push(t)},offSlopesChange:function(e){if(null!=e){var n;null!=this.__cbOnSlopesChange&&-1!=(n=this.__cbOnSlopesChange.indexOf(e))&&(this.__cbOnSlopesChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindSlopesChange[n])&&s(),this.__cbOnOwnerUnbindSlopesChange.splice(n,1)),null!=this.__cbOnceSlopesChange&&-1!=(n=this.__cbOnceSlopesChange.indexOf(e))&&(this.__cbOnceSlopesChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindSlopesChange[n])&&s(),this.__cbOnceOwnerUnbindSlopesChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindSlopesChange){for(var t=0,i=this.__cbOnOwnerUnbindSlopesChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindSlopesChange[l])&&s()}this.__cbOnOwnerUnbindSlopesChange=null}if(null!=this.__cbOnceOwnerUnbindSlopesChange){for(t=0,i=this.__cbOnceOwnerUnbindSlopesChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindSlopesChange[l])&&s()}this.__cbOnceOwnerUnbindSlopesChange=null}this.__cbOnSlopesChange=null,this.__cbOnceSlopesChange=null}},listensSlopesChange:function(){return null!=this.__cbOnSlopesChange&&0<this.__cbOnSlopesChange.length||null!=this.__cbOnceSlopesChange&&0<this.__cbOnceSlopesChange.length},set_unobservedSlopes:function(e){return this.unobservedSlopes!=e&&(this.unobservedSlopes=e,this.slopesMapping=null),e},_setSlope:function(e,n){n.index!=e&&(n=new N1(e,n.rotation,n.y0,n.y1));var t=-1,i=(null==this.slopesMapping&&this._buildSlopesMapping(),this.slopesMapping.intMap.h[0|e]);-1==(t=(null!=i?i:0)-1)&&(t=this.get_slopes().length,this.slopesMapping.set(e,t+1)),this.get_slopes()[t]=n,1!=this.dirty&&(this.dirty=!0,this.emitModelDirty(this))},_buildSlopesMapping:function(){var e=this.get_slopes();if(null!=e){this.slopesMapping=new Ge;for(var n=0,t=e.length;n<t;){var i=n++,l=e[i];null!=l&&this.slopesMapping.set(l.index,1+i)}}else null!=this.slopesMapping&&(this.slopesMapping=null)},_removeSlope:function(e){var n;null!=this.slopesMapping&&-1!=(n=(null!=(n=this.slopesMapping.intMap.h[0|e])?n:0)-1)&&(this.slopesMapping.remove(e),this.get_slopes().splice(n,1),1!=this.dirty)&&(this.dirty=!0,this.emitModelDirty(this))},_getSlope:function(e){if(null==this.get_slopes())return null;null==this.slopesMapping&&this._buildSlopesMapping();e=this.slopesMapping.intMap.h[0|e],e=(null!=e?e:0)-1;return-1!=e?this.get_slopes()[e]:null},destroy:function(){this._lifecycleState<=-2||(this._lifecycleState=-2,this.set_image(null),this._lifecycleState=-1,R1.prototype.destroy.call(this))},toString:function(){return""+K.string({firstGid:this.get_firstGid(),name:this.get_name(),tileWidth:this.get_tileWidth(),tileHeight:this.get_tileHeight(),spacing:this.get_spacing(),margin:this.get_margin(),tileCount:this.get_tileCount(),columns:this.get_columns(),rows:this.get_rows(),image:this.get_image(),gridOrientation:this.get_gridOrientation(),gridCellWidth:this.get_gridCellWidth(),gridCellHeight:this.get_gridCellHeight(),slopesMapping:this.slopesMapping,implicitImage:this.implicitImage,texture:null!=this.get_image()?this.unobservedImage.texture:null,slopes:this.get_slopes()})},unbindEvents:function(){R1.prototype.unbindEvents.call(this),this.offFirstGidChange(),this.offNameChange(),this.offTileWidthChange(),this.offTileHeightChange(),this.offSpacingChange(),this.offMarginChange(),this.offTileCountChange(),this.offColumnsChange(),this.offRowsChange(),this.offImageChange(),this.offGridOrientationChange(),this.offGridCellWidthChange(),this.offGridCellHeightChange(),this.offSlopesChange()},_default_firstGidAutoruns:function(){return null},_default_firstGid:function(){return 0},_default_nameAutoruns:function(){return null},_default_name:function(){return null},_default_tileWidthAutoruns:function(){return null},_default_tileWidth:function(){return-1},_default_tileHeightAutoruns:function(){return null},_default_tileHeight:function(){return-1},_default_spacingAutoruns:function(){return null},_default_spacing:function(){return 0},_default_marginAutoruns:function(){return null},_default_margin:function(){return 0},_default_tileCountAutoruns:function(){return null},_default_tileCount:function(){return 0},_default_columnsAutoruns:function(){return null},_default_columns:function(){return 0},_default_rowsAutoruns:function(){return null},_default_computedOnceRows:function(){return!1},_default_imageAutoruns:function(){return null},_default_image:function(){return null},_default_gridOrientationAutoruns:function(){return null},_default_gridOrientation:function(){return Ht.ORTHOGONAL},_default_gridCellWidthAutoruns:function(){return null},_default_gridCellWidth:function(){return 0},_default_gridCellHeightAutoruns:function(){return null},_default_gridCellHeight:function(){return 0},_default_slopesMapping:function(){return null},_default_implicitImage:function(){return!1},_default_slopesAutoruns:function(){return null},_default_slopes:function(){return null},__class__:Vt,__properties__:$extend(R1.prototype.__properties__,{set_unobservedSlopes:"set_unobservedSlopes",set_slopes:"set_slopes",get_slopes:"get_slopes",set_texture:"set_texture",get_texture:"get_texture",set_gridCellHeight:"set_gridCellHeight",get_gridCellHeight:"get_gridCellHeight",set_gridCellWidth:"set_gridCellWidth",get_gridCellWidth:"get_gridCellWidth",set_gridOrientation:"set_gridOrientation",get_gridOrientation:"get_gridOrientation",set_unobservedImage:"set_unobservedImage",set_image:"set_image",get_image:"get_image",get_unobservedRows:"get_unobservedRows",set_rows:"set_rows",get_rows:"get_rows",set_columns:"set_columns",get_columns:"get_columns",set_tileCount:"set_tileCount",get_tileCount:"get_tileCount",set_margin:"set_margin",get_margin:"get_margin",set_spacing:"set_spacing",get_spacing:"get_spacing",set_tileHeight:"set_tileHeight",get_tileHeight:"get_tileHeight",set_tileWidth:"set_tileWidth",get_tileWidth:"get_tileWidth",set_name:"set_name",get_name:"get_name",set_firstGid:"set_firstGid",get_firstGid:"get_firstGid"})}),_e["ceramic.TilesetGridOrientation"]={__ename__:"ceramic.TilesetGridOrientation",__constructs__:null,ORTHOGONAL:{_hx_name:"ORTHOGONAL",_hx_index:0,__enum__:"ceramic.TilesetGridOrientation",toString:c},ISOMETRIC:{_hx_name:"ISOMETRIC",_hx_index:1,__enum__:"ceramic.TilesetGridOrientation",toString:c}}),Wt=(Ht.__constructs__=[Ht.ORTHOGONAL,Ht.ISOMETRIC],function(){this.unobservedSource=null,this.sourceAutoruns=null,this.unobservedHeight=-1,this.heightAutoruns=null,this.unobservedWidth=-1,this.widthAutoruns=null,this.texture=null,R1.call(this)}),Nt=((E["ceramic.TilesetImage"]=Wt).__name__="ceramic.TilesetImage",Wt.__super__=R1,Wt.prototype=$extend(R1.prototype,{texture:null,set_texture:function(e){var n;return this.texture!=e&&(null!=(n=this.texture)&&null!=n.asset&&(n.asset.offReplaceTexture($bind(this,this.replaceTexture)),n.asset.release()),this.texture=e,null!=this.texture&&(null!=this.texture.asset&&(this.texture.asset.onReplaceTexture(this,$bind(this,this.replaceTexture)),this.texture.asset.retain()),-1==this.get_width()&&this.set_width(0|this.texture.width),-1==this.get_height()))&&this.set_height(0|this.texture.height),e},widthAutoruns:null,get_width:function(){var e,n,t=this.unobservedWidth;return null!=A.current&&(e=A.current,null!=(n=this.widthAutoruns)||(n=A.getAutorunArray(),null!=(this.widthAutoruns=n)))&&e.bindToAutorunArray(n),t},set_width:function(e){var n=this.unobservedWidth;return n!=(this.unobservedWidth=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!0)),this.emitWidthChange(e,n),null!=(n=this.widthAutoruns))&&(this.widthAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateWidth:function(){var e=this.unobservedWidth,e=(this.emitWidthChange(e,e),this.widthAutoruns);null!=e&&(this.widthAutoruns=null,A.invalidateAutorunArray(e))},unobservedWidth:null,__cbOnWidthChange:null,__cbOnceWidthChange:null,__cbOnOwnerUnbindWidthChange:null,__cbOnceOwnerUnbindWidthChange:null,emitWidthChange:function(e,n){var t=0;if(null!=this.__cbOnWidthChange&&(t+=this.__cbOnWidthChange.length),null!=this.__cbOnceWidthChange&&(t+=this.__cbOnceWidthChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnWidthChange)for(var r=0,h=this.__cbOnWidthChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnWidthChange[a],++s):--t}if(null!=this.__cbOnceWidthChange){for(var o=null,c=null,r=0,h=this.__cbOnceWidthChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceWidthChange[a],this.__cbOnceWidthChange[a]=null,u=this.__cbOnceOwnerUnbindWidthChange[a],(this.__cbOnceOwnerUnbindWidthChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindWidthChange[a]),c.push(this.__cbOnceWidthChange[a]))}this.__cbOnceOwnerUnbindWidthChange=o,this.__cbOnceWidthChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onWidthChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event widthChange because owner is destroyed!");var l=function(e){null!=t&&(i.offWidthChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindWidthChange&&(this.__cbOnOwnerUnbindWidthChange=[]),this.__cbOnOwnerUnbindWidthChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindWidthChange&&(this.__cbOnOwnerUnbindWidthChange=[]),this.__cbOnOwnerUnbindWidthChange.push(null);null==this.__cbOnWidthChange&&(this.__cbOnWidthChange=[]),this.__cbOnWidthChange.push(t)},onceWidthChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event widthChange because owner is destroyed!");var l=function(e){null!=t&&(i.offWidthChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindWidthChange&&(this.__cbOnceOwnerUnbindWidthChange=[]),this.__cbOnceOwnerUnbindWidthChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindWidthChange&&(this.__cbOnceOwnerUnbindWidthChange=[]),this.__cbOnceOwnerUnbindWidthChange.push(null);null==this.__cbOnceWidthChange&&(this.__cbOnceWidthChange=[]),this.__cbOnceWidthChange.push(t)},offWidthChange:function(e){if(null!=e){var n;null!=this.__cbOnWidthChange&&-1!=(n=this.__cbOnWidthChange.indexOf(e))&&(this.__cbOnWidthChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindWidthChange[n])&&s(),this.__cbOnOwnerUnbindWidthChange.splice(n,1)),null!=this.__cbOnceWidthChange&&-1!=(n=this.__cbOnceWidthChange.indexOf(e))&&(this.__cbOnceWidthChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindWidthChange[n])&&s(),this.__cbOnceOwnerUnbindWidthChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindWidthChange){for(var t=0,i=this.__cbOnOwnerUnbindWidthChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindWidthChange[l])&&s()}this.__cbOnOwnerUnbindWidthChange=null}if(null!=this.__cbOnceOwnerUnbindWidthChange){for(t=0,i=this.__cbOnceOwnerUnbindWidthChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindWidthChange[l])&&s()}this.__cbOnceOwnerUnbindWidthChange=null}this.__cbOnWidthChange=null,this.__cbOnceWidthChange=null}},listensWidthChange:function(){return null!=this.__cbOnWidthChange&&0<this.__cbOnWidthChange.length||null!=this.__cbOnceWidthChange&&0<this.__cbOnceWidthChange.length},heightAutoruns:null,get_height:function(){var e,n,t=this.unobservedHeight;return null!=A.current&&(e=A.current,null!=(n=this.heightAutoruns)||(n=A.getAutorunArray(),null!=(this.heightAutoruns=n)))&&e.bindToAutorunArray(n),t},set_height:function(e){var n=this.unobservedHeight;return n!=(this.unobservedHeight=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!0)),this.emitHeightChange(e,n),null!=(n=this.heightAutoruns))&&(this.heightAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateHeight:function(){var e=this.unobservedHeight,e=(this.emitHeightChange(e,e),this.heightAutoruns);null!=e&&(this.heightAutoruns=null,A.invalidateAutorunArray(e))},unobservedHeight:null,__cbOnHeightChange:null,__cbOnceHeightChange:null,__cbOnOwnerUnbindHeightChange:null,__cbOnceOwnerUnbindHeightChange:null,emitHeightChange:function(e,n){var t=0;if(null!=this.__cbOnHeightChange&&(t+=this.__cbOnHeightChange.length),null!=this.__cbOnceHeightChange&&(t+=this.__cbOnceHeightChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnHeightChange)for(var r=0,h=this.__cbOnHeightChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnHeightChange[a],++s):--t}if(null!=this.__cbOnceHeightChange){for(var o=null,c=null,r=0,h=this.__cbOnceHeightChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceHeightChange[a],this.__cbOnceHeightChange[a]=null,u=this.__cbOnceOwnerUnbindHeightChange[a],(this.__cbOnceOwnerUnbindHeightChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindHeightChange[a]),c.push(this.__cbOnceHeightChange[a]))}this.__cbOnceOwnerUnbindHeightChange=o,this.__cbOnceHeightChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onHeightChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event heightChange because owner is destroyed!");var l=function(e){null!=t&&(i.offHeightChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindHeightChange&&(this.__cbOnOwnerUnbindHeightChange=[]),this.__cbOnOwnerUnbindHeightChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindHeightChange&&(this.__cbOnOwnerUnbindHeightChange=[]),this.__cbOnOwnerUnbindHeightChange.push(null);null==this.__cbOnHeightChange&&(this.__cbOnHeightChange=[]),this.__cbOnHeightChange.push(t)},onceHeightChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event heightChange because owner is destroyed!");var l=function(e){null!=t&&(i.offHeightChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindHeightChange&&(this.__cbOnceOwnerUnbindHeightChange=[]),this.__cbOnceOwnerUnbindHeightChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindHeightChange&&(this.__cbOnceOwnerUnbindHeightChange=[]),this.__cbOnceOwnerUnbindHeightChange.push(null);null==this.__cbOnceHeightChange&&(this.__cbOnceHeightChange=[]),this.__cbOnceHeightChange.push(t)},offHeightChange:function(e){if(null!=e){var n;null!=this.__cbOnHeightChange&&-1!=(n=this.__cbOnHeightChange.indexOf(e))&&(this.__cbOnHeightChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindHeightChange[n])&&s(),this.__cbOnOwnerUnbindHeightChange.splice(n,1)),null!=this.__cbOnceHeightChange&&-1!=(n=this.__cbOnceHeightChange.indexOf(e))&&(this.__cbOnceHeightChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindHeightChange[n])&&s(),this.__cbOnceOwnerUnbindHeightChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindHeightChange){for(var t=0,i=this.__cbOnOwnerUnbindHeightChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindHeightChange[l])&&s()}this.__cbOnOwnerUnbindHeightChange=null}if(null!=this.__cbOnceOwnerUnbindHeightChange){for(t=0,i=this.__cbOnceOwnerUnbindHeightChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindHeightChange[l])&&s()}this.__cbOnceOwnerUnbindHeightChange=null}this.__cbOnHeightChange=null,this.__cbOnceHeightChange=null}},listensHeightChange:function(){return null!=this.__cbOnHeightChange&&0<this.__cbOnHeightChange.length||null!=this.__cbOnceHeightChange&&0<this.__cbOnceHeightChange.length},sourceAutoruns:null,get_source:function(){var e,n,t=this.unobservedSource;return null!=A.current&&(e=A.current,null!=(n=this.sourceAutoruns)||(n=A.getAutorunArray(),null!=(this.sourceAutoruns=n)))&&e.bindToAutorunArray(n),t},set_source:function(e){var n=this.unobservedSource;return n!=(this.unobservedSource=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!0)),this.emitSourceChange(e,n),null!=(n=this.sourceAutoruns))&&(this.sourceAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateSource:function(){var e=this.unobservedSource,e=(this.emitSourceChange(e,e),this.sourceAutoruns);null!=e&&(this.sourceAutoruns=null,A.invalidateAutorunArray(e))},unobservedSource:null,__cbOnSourceChange:null,__cbOnceSourceChange:null,__cbOnOwnerUnbindSourceChange:null,__cbOnceOwnerUnbindSourceChange:null,emitSourceChange:function(e,n){var t=0;if(null!=this.__cbOnSourceChange&&(t+=this.__cbOnSourceChange.length),null!=this.__cbOnceSourceChange&&(t+=this.__cbOnceSourceChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnSourceChange)for(var r=0,h=this.__cbOnSourceChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnSourceChange[a],++s):--t}if(null!=this.__cbOnceSourceChange){for(var o=null,c=null,r=0,h=this.__cbOnceSourceChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceSourceChange[a],this.__cbOnceSourceChange[a]=null,u=this.__cbOnceOwnerUnbindSourceChange[a],(this.__cbOnceOwnerUnbindSourceChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindSourceChange[a]),c.push(this.__cbOnceSourceChange[a]))}this.__cbOnceOwnerUnbindSourceChange=o,this.__cbOnceSourceChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onSourceChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event sourceChange because owner is destroyed!");var l=function(e){null!=t&&(i.offSourceChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindSourceChange&&(this.__cbOnOwnerUnbindSourceChange=[]),this.__cbOnOwnerUnbindSourceChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindSourceChange&&(this.__cbOnOwnerUnbindSourceChange=[]),this.__cbOnOwnerUnbindSourceChange.push(null);null==this.__cbOnSourceChange&&(this.__cbOnSourceChange=[]),this.__cbOnSourceChange.push(t)},onceSourceChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event sourceChange because owner is destroyed!");var l=function(e){null!=t&&(i.offSourceChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindSourceChange&&(this.__cbOnceOwnerUnbindSourceChange=[]),this.__cbOnceOwnerUnbindSourceChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindSourceChange&&(this.__cbOnceOwnerUnbindSourceChange=[]),this.__cbOnceOwnerUnbindSourceChange.push(null);null==this.__cbOnceSourceChange&&(this.__cbOnceSourceChange=[]),this.__cbOnceSourceChange.push(t)},offSourceChange:function(e){if(null!=e){var n;null!=this.__cbOnSourceChange&&-1!=(n=this.__cbOnSourceChange.indexOf(e))&&(this.__cbOnSourceChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindSourceChange[n])&&s(),this.__cbOnOwnerUnbindSourceChange.splice(n,1)),null!=this.__cbOnceSourceChange&&-1!=(n=this.__cbOnceSourceChange.indexOf(e))&&(this.__cbOnceSourceChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindSourceChange[n])&&s(),this.__cbOnceOwnerUnbindSourceChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindSourceChange){for(var t=0,i=this.__cbOnOwnerUnbindSourceChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindSourceChange[l])&&s()}this.__cbOnOwnerUnbindSourceChange=null}if(null!=this.__cbOnceOwnerUnbindSourceChange){for(t=0,i=this.__cbOnceOwnerUnbindSourceChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindSourceChange[l])&&s()}this.__cbOnceOwnerUnbindSourceChange=null}this.__cbOnSourceChange=null,this.__cbOnceSourceChange=null}},listensSourceChange:function(){return null!=this.__cbOnSourceChange&&0<this.__cbOnSourceChange.length||null!=this.__cbOnceSourceChange&&0<this.__cbOnceSourceChange.length},destroy:function(){this._lifecycleState<=-2||(this._lifecycleState=-2,this._lifecycleState=-1,R1.prototype.destroy.call(this),this.set_texture(null))},replaceTexture:function(e,n){this.set_texture(e)},unbindEvents:function(){R1.prototype.unbindEvents.call(this),this.offWidthChange(),this.offHeightChange(),this.offSourceChange()},_default_texture:function(){return null},_default_widthAutoruns:function(){return null},_default_width:function(){return-1},_default_heightAutoruns:function(){return null},_default_height:function(){return-1},_default_sourceAutoruns:function(){return null},_default_source:function(){return null},__class__:Wt,__properties__:$extend(R1.prototype.__properties__,{set_source:"set_source",get_source:"get_source",set_height:"set_height",get_height:"get_height",set_width:"set_width",get_width:"get_width",set_texture:"set_texture"})}),function(){this.initializerName=null,this.completeHandlerIndexes=null,this.completeHandlers=null,this.endPosition=-1,this.startPosition=-1,this.labelIndexes=null,this.labels=null,this.paused=!1,this.tracks=[],this.position=0,this.fps=30,this.autoUpdate=!0,this.loop=!0,this.autoFitSize=!0,this.size=0,j.call(this),ae.app.offPreUpdate($bind(this,this.update)),!this.paused&&this.autoUpdate&&ae.app.onPreUpdate(this,$bind(this,this.update))}),zt=((E["ceramic.Timeline"]=Nt).__name__="ceramic.Timeline",Nt.__interfaces__=[a0],Nt.__super__=j,Nt.prototype=$extend(j.prototype,{__cbOnStartLabel:null,__cbOnceStartLabel:null,__cbOnOwnerUnbindStartLabel:null,__cbOnceOwnerUnbindStartLabel:null,emitStartLabel:function(e,n){var t=0;if(null!=this.__cbOnStartLabel&&(t+=this.__cbOnStartLabel.length),null!=this.__cbOnceStartLabel&&(t+=this.__cbOnceStartLabel.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnStartLabel)for(var r=0,h=this.__cbOnStartLabel.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnStartLabel[a],++s):--t}if(null!=this.__cbOnceStartLabel){for(var o=null,c=null,r=0,h=this.__cbOnceStartLabel.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceStartLabel[a],this.__cbOnceStartLabel[a]=null,u=this.__cbOnceOwnerUnbindStartLabel[a],(this.__cbOnceOwnerUnbindStartLabel[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindStartLabel[a]),c.push(this.__cbOnceStartLabel[a]))}this.__cbOnceOwnerUnbindStartLabel=o,this.__cbOnceStartLabel=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onStartLabel:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event startLabel because owner is destroyed!");var l=function(e){null!=t&&(i.offStartLabel(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindStartLabel&&(this.__cbOnOwnerUnbindStartLabel=[]),this.__cbOnOwnerUnbindStartLabel.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindStartLabel&&(this.__cbOnOwnerUnbindStartLabel=[]),this.__cbOnOwnerUnbindStartLabel.push(null);null==this.__cbOnStartLabel&&(this.__cbOnStartLabel=[]),this.__cbOnStartLabel.push(t)},onceStartLabel:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event startLabel because owner is destroyed!");var l=function(e){null!=t&&(i.offStartLabel(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindStartLabel&&(this.__cbOnceOwnerUnbindStartLabel=[]),this.__cbOnceOwnerUnbindStartLabel.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindStartLabel&&(this.__cbOnceOwnerUnbindStartLabel=[]),this.__cbOnceOwnerUnbindStartLabel.push(null);null==this.__cbOnceStartLabel&&(this.__cbOnceStartLabel=[]),this.__cbOnceStartLabel.push(t)},offStartLabel:function(e){if(null!=e){var n;null!=this.__cbOnStartLabel&&-1!=(n=this.__cbOnStartLabel.indexOf(e))&&(this.__cbOnStartLabel.splice(n,1),null!=(s=this.__cbOnOwnerUnbindStartLabel[n])&&s(),this.__cbOnOwnerUnbindStartLabel.splice(n,1)),null!=this.__cbOnceStartLabel&&-1!=(n=this.__cbOnceStartLabel.indexOf(e))&&(this.__cbOnceStartLabel.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindStartLabel[n])&&s(),this.__cbOnceOwnerUnbindStartLabel.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindStartLabel){for(var t=0,i=this.__cbOnOwnerUnbindStartLabel.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindStartLabel[l])&&s()}this.__cbOnOwnerUnbindStartLabel=null}if(null!=this.__cbOnceOwnerUnbindStartLabel){for(t=0,i=this.__cbOnceOwnerUnbindStartLabel.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindStartLabel[l])&&s()}this.__cbOnceOwnerUnbindStartLabel=null}this.__cbOnStartLabel=null,this.__cbOnceStartLabel=null}},listensStartLabel:function(){return null!=this.__cbOnStartLabel&&0<this.__cbOnStartLabel.length||null!=this.__cbOnceStartLabel&&0<this.__cbOnceStartLabel.length},__cbOnEndLabel:null,__cbOnceEndLabel:null,__cbOnOwnerUnbindEndLabel:null,__cbOnceOwnerUnbindEndLabel:null,emitEndLabel:function(e,n){var t=0;if(null!=this.__cbOnEndLabel&&(t+=this.__cbOnEndLabel.length),null!=this.__cbOnceEndLabel&&(t+=this.__cbOnceEndLabel.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnEndLabel)for(var r=0,h=this.__cbOnEndLabel.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnEndLabel[a],++s):--t}if(null!=this.__cbOnceEndLabel){for(var o=null,c=null,r=0,h=this.__cbOnceEndLabel.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceEndLabel[a],this.__cbOnceEndLabel[a]=null,u=this.__cbOnceOwnerUnbindEndLabel[a],(this.__cbOnceOwnerUnbindEndLabel[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindEndLabel[a]),c.push(this.__cbOnceEndLabel[a]))}this.__cbOnceOwnerUnbindEndLabel=o,this.__cbOnceEndLabel=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l),l=null}this.didEmitEndLabel(e,n)},onEndLabel:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event endLabel because owner is destroyed!");var l=function(e){null!=t&&(i.offEndLabel(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindEndLabel&&(this.__cbOnOwnerUnbindEndLabel=[]),this.__cbOnOwnerUnbindEndLabel.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindEndLabel&&(this.__cbOnOwnerUnbindEndLabel=[]),this.__cbOnOwnerUnbindEndLabel.push(null);null==this.__cbOnEndLabel&&(this.__cbOnEndLabel=[]),this.__cbOnEndLabel.push(t)},onceEndLabel:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event endLabel because owner is destroyed!");var l=function(e){null!=t&&(i.offEndLabel(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindEndLabel&&(this.__cbOnceOwnerUnbindEndLabel=[]),this.__cbOnceOwnerUnbindEndLabel.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindEndLabel&&(this.__cbOnceOwnerUnbindEndLabel=[]),this.__cbOnceOwnerUnbindEndLabel.push(null);null==this.__cbOnceEndLabel&&(this.__cbOnceEndLabel=[]),this.__cbOnceEndLabel.push(t)},offEndLabel:function(e){if(null!=e){var n;null!=this.__cbOnEndLabel&&-1!=(n=this.__cbOnEndLabel.indexOf(e))&&(this.__cbOnEndLabel.splice(n,1),null!=(s=this.__cbOnOwnerUnbindEndLabel[n])&&s(),this.__cbOnOwnerUnbindEndLabel.splice(n,1)),null!=this.__cbOnceEndLabel&&-1!=(n=this.__cbOnceEndLabel.indexOf(e))&&(this.__cbOnceEndLabel.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindEndLabel[n])&&s(),this.__cbOnceOwnerUnbindEndLabel.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindEndLabel){for(var t=0,i=this.__cbOnOwnerUnbindEndLabel.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindEndLabel[l])&&s()}this.__cbOnOwnerUnbindEndLabel=null}if(null!=this.__cbOnceOwnerUnbindEndLabel){for(t=0,i=this.__cbOnceOwnerUnbindEndLabel.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindEndLabel[l])&&s()}this.__cbOnceOwnerUnbindEndLabel=null}this.__cbOnEndLabel=null,this.__cbOnceEndLabel=null}},listensEndLabel:function(){return null!=this.__cbOnEndLabel&&0<this.__cbOnEndLabel.length||null!=this.__cbOnceEndLabel&&0<this.__cbOnceEndLabel.length},size:null,autoFitSize:null,loop:null,autoUpdate:null,set_autoUpdate:function(e){return this.autoUpdate!=e&&(this.autoUpdate=e,ae.app.offPreUpdate($bind(this,this.update)),!this.paused)&&this.autoUpdate&&ae.app.onPreUpdate(this,$bind(this,this.update)),e},fps:null,position:null,tracks:null,paused:null,set_paused:function(e){return this.paused!=e&&(this.paused=e,ae.app.offPreUpdate($bind(this,this.update)),!this.paused&&this.autoUpdate)&&ae.app.onPreUpdate(this,$bind(this,this.update)),e},labels:null,labelIndexes:null,startPosition:null,set_startPosition:function(e){return this.startPosition!=e&&(this.startPosition=e,this.apply()),e},endPosition:null,set_endPosition:function(e){return this.endPosition!=e&&(this.endPosition=e,this.apply()),e},completeHandlers:null,completeHandlerIndexes:null,bindAsComponent:function(){},bindOrUnbindUpdateIfNeeded:function(){ae.app.offPreUpdate($bind(this,this.update)),!this.paused&&this.autoUpdate&&ae.app.onPreUpdate(this,$bind(this,this.update))},update:function(e){var n,t,i=this.position+e*this.fps,e=this.position;if(i!=this.position&&(0<=this.startPosition&&i<this.startPosition&&(i=this.startPosition),this.endPosition>=this.startPosition&&0<=this.startPosition&&i>this.endPosition&&(i=this.loop?this.startPosition+(i-this.startPosition)%(this.endPosition-this.startPosition):this.endPosition),0<this.size?i>this.size&&(this.loop?i%=this.size:i=this.size):0==this.size&&(i=0),(i=i<0?0:i)!=this.position)){this.position=i;for(var l=0,s=this.tracks.length;l<s;){var r=l++,h=this.tracks[r];if(!h.locked){var i=this.position,r=!1,a=!1;if(null==a&&(a=!1),((r=null==r?!1:r)||i!=h.position)&&(0<h.size?i>h.size&&(h.loop?i%=h.size:i=h.size):0==h.size&&(i=0),(i=i<0?0:i)!=h.position)){h.position=i;var o=null;if(-1!=(u=h.keyframeBeforeIndex))if((o=h.keyframes[u]).index<=h.position)for(var c=h.keyframes[u+1];null!=c&&c.index<=h.position;)o=c,++u,c=h.keyframes[u+1];else o=null;if(null==o)for(var u=-1,_=h.keyframes.length;u+1<_;){var d=h.keyframes[u+1];if(d.index>h.position)break;o=d,++u}h.keyframeBeforeIndex=u,h.before=o;var b=null,g=h.keyframeAfterIndex;if(-1!=g&&null!=(b=h.keyframes[g]))if(b.index>h.position){if(0<g)for(var O=h.keyframes[g-1];null!=O&&O.index>h.position;)b=O,O=0<--g?h.keyframes[g-1]:null}else b=null;if(null==b){for(r=h.keyframes.length,g=r;0<=g-1;){var f=h.keyframes[g-1];if(f.index<=h.position)break;b=f,--g}r<=g&&(g=-1)}h.keyframeAfterIndex=g,h.after=b,h.apply(a)}}}}this.position!=e&&(n=Math.floor(this.position))!=Math.floor(e)&&null!=(e=this.labelAtIndex(n))&&(-1!=(t=this.indexOfLabelBeforeIndex(n))&&this.emitEndLabel(t,this.labelAtIndex(t)),this.emitStartLabel(n,e))},seek:function(e){var n,t=e,i=this.position;if(t!=this.position&&(0<=this.startPosition&&t<this.startPosition&&(t=this.startPosition),this.endPosition>=this.startPosition&&0<=this.startPosition&&t>this.endPosition&&(t=this.loop?this.startPosition+(t-this.startPosition)%(this.endPosition-this.startPosition):this.endPosition),0<this.size?t>this.size&&(this.loop?t%=this.size:t=this.size):0==this.size&&(t=0),(t=t<0?0:t)!=this.position)){this.position=t;for(var l=0,s=this.tracks.length;l<s;){var r=l++,h=this.tracks[r];if(!h.locked){var e=this.position,r=!1,a=!1;if(null==a&&(a=!1),((r=null==r?!1:r)||e!=h.position)&&(0<h.size?e>h.size&&(h.loop?e%=h.size:e=h.size):0==h.size&&(e=0),(e=e<0?0:e)!=h.position)){h.position=e;var o=null;if(-1!=(u=h.keyframeBeforeIndex))if((o=h.keyframes[u]).index<=h.position)for(var c=h.keyframes[u+1];null!=c&&c.index<=h.position;)o=c,++u,c=h.keyframes[u+1];else o=null;if(null==o)for(var u=-1,_=h.keyframes.length;u+1<_;){var d=h.keyframes[u+1];if(d.index>h.position)break;o=d,++u}h.keyframeBeforeIndex=u,h.before=o;var b=null,g=h.keyframeAfterIndex;if(-1!=g&&null!=(b=h.keyframes[g]))if(b.index>h.position){if(0<g)for(var O=h.keyframes[g-1];null!=O&&O.index>h.position;)b=O,O=0<--g?h.keyframes[g-1]:null}else b=null;if(null==b){for(r=h.keyframes.length,g=r;0<=g-1;){var f=h.keyframes[g-1];if(f.index<=h.position)break;b=f,--g}r<=g&&(g=-1)}h.keyframeAfterIndex=g,h.after=b,h.apply(a)}}}}this.position!=i&&(t=Math.floor(this.position))!=Math.floor(i)&&null!=(i=this.labelAtIndex(t))&&(-1!=(n=this.indexOfLabelBeforeIndex(t))&&this.emitEndLabel(n,this.labelAtIndex(n)),this.emitStartLabel(t,i))},animate:function(e,n){if(null!=this.completeHandlers&&0<this.completeHandlers.length){var t=this.completeHandlers;if(0!=t.length)if(0<t.length)t.splice(0,t.length);else for(var i=t;i.length<0;)i.push(null);if(0!=(t=this.completeHandlerIndexes).length)if(0<t.length)t.splice(0,t.length);else for(i=t;i.length<0;)i.push(null)}t=this.indexOfLabel(e);-1!=t?(this.seek(t),null==this.completeHandlers&&(this.completeHandlers=[],this.completeHandlerIndexes=[]),this.completeHandlers.push(n),this.completeHandlerIndexes.push(t)):ae.app.logger.warning("Failed to animate whith label: "+e+" (not found)",{fileName:"../../../../ceramic/runtime/src/ceramic/Timeline.hx",lineNumber:287,className:"ceramic.Timeline",methodName:"animate"})},seekLabel:function(e){var n=this.indexOfLabel(e);return-1!=n?this.seek(n):ae.app.logger.warning("Failed to seek label: "+e+" (not found)",{fileName:"../../../../ceramic/runtime/src/ceramic/Timeline.hx",lineNumber:306,className:"ceramic.Timeline",methodName:"seekLabel"}),n},resetStartAndEndPositions:function(){this.set_startPosition(-1),this.set_endPosition(-1)},loopLabel:function(e){var n;return null==this.labels?(ae.app.logger.warning("Cannot loop label "+e+" (there is no label at all)",{fileName:"../../../../ceramic/runtime/src/ceramic/Timeline.hx",lineNumber:339,className:"ceramic.Timeline",methodName:"loopLabel"}),-1):-1==(n=this.labels.indexOf(e))?(ae.app.logger.warning("Cannot loop label "+e+" (no such label)",{fileName:"../../../../ceramic/runtime/src/ceramic/Timeline.hx",lineNumber:345,className:"ceramic.Timeline",methodName:"loopLabel"}),-1):(e=this.labelIndexes[n],this.set_startPosition(e),this.set_endPosition(n<this.labelIndexes.length-1?this.labelIndexes[n+1]:this.size),this.seek(e),e)},apply:function(e){var n,t,i=this.position,l=!0,s=e=null==e?!1:e,r=(null==e&&(s=!1),null==l&&(l=!1),this.position);if((l||i!=this.position)&&(0<=this.startPosition&&i<this.startPosition&&(i=this.startPosition),this.endPosition>=this.startPosition&&0<=this.startPosition&&i>this.endPosition&&(i=this.loop?this.startPosition+(i-this.startPosition)%(this.endPosition-this.startPosition):this.endPosition),0<this.size?i>this.size&&(this.loop?i%=this.size:i=this.size):0==this.size&&(i=0),(i=i<0?0:i)!=this.position)){this.position=i;for(var h=0,a=this.tracks.length;h<a;){var o=h++,c=this.tracks[o];if(!c.locked){i=this.position,o=l,e=s;if(null==e&&(e=!1),((o=null==o?!1:o)||i!=c.position)&&(0<c.size?i>c.size&&(c.loop?i%=c.size:i=c.size):0==c.size&&(i=0),(i=i<0?0:i)!=c.position)){c.position=i;var u=null;if(-1!=(d=c.keyframeBeforeIndex))if((u=c.keyframes[d]).index<=c.position)for(var _=c.keyframes[d+1];null!=_&&_.index<=c.position;)u=_,++d,_=c.keyframes[d+1];else u=null;if(null==u)for(var d=-1,b=c.keyframes.length;d+1<b;){var g=c.keyframes[d+1];if(g.index>c.position)break;u=g,++d}c.keyframeBeforeIndex=d,c.before=u;var O=null,f=c.keyframeAfterIndex;if(-1!=f&&null!=(O=c.keyframes[f]))if(O.index>c.position){if(0<f)for(var p=c.keyframes[f-1];null!=p&&p.index>c.position;)O=p,p=0<--f?c.keyframes[f-1]:null}else O=null;if(null==O){for(o=c.keyframes.length,f=o;0<=f-1;){var C=c.keyframes[f-1];if(C.index<=c.position)break;O=C,--f}o<=f&&(f=-1)}c.keyframeAfterIndex=f,c.after=O,c.apply(e)}}}}this.position!=r&&(n=Math.floor(this.position))!=Math.floor(r)&&null!=(r=this.labelAtIndex(n))&&(-1!=(t=this.indexOfLabelBeforeIndex(n))&&this.emitEndLabel(t,this.labelAtIndex(t)),this.emitStartLabel(n,r))},inlineSeek:function(e,n,t){null==t&&(t=!1),null==n&&(n=!1);var i,l,s=this.position;if((n||e!=this.position)&&(0<=this.startPosition&&e<this.startPosition&&(e=this.startPosition),this.endPosition>=this.startPosition&&0<=this.startPosition&&e>this.endPosition&&(e=this.loop?this.startPosition+(e-this.startPosition)%(this.endPosition-this.startPosition):this.endPosition),0<this.size?e>this.size&&(this.loop?e%=this.size:e=this.size):0==this.size&&(e=0),(e=e<0?0:e)!=this.position)){this.position=e;for(var r=0,h=this.tracks.length;r<h;){var a=r++,o=this.tracks[a];if(!o.locked){var e=this.position,a=n,c=t;if(null==c&&(c=!1),((a=null==a?!1:a)||e!=o.position)&&(0<o.size?e>o.size&&(o.loop?e%=o.size:e=o.size):0==o.size&&(e=0),(e=e<0?0:e)!=o.position)){o.position=e;var u=null;if(-1!=(d=o.keyframeBeforeIndex))if((u=o.keyframes[d]).index<=o.position)for(var _=o.keyframes[d+1];null!=_&&_.index<=o.position;)u=_,++d,_=o.keyframes[d+1];else u=null;if(null==u)for(var d=-1,b=o.keyframes.length;d+1<b;){var g=o.keyframes[d+1];if(g.index>o.position)break;u=g,++d}o.keyframeBeforeIndex=d,o.before=u;var O=null,f=o.keyframeAfterIndex;if(-1!=f&&null!=(O=o.keyframes[f]))if(O.index>o.position){if(0<f)for(var p=o.keyframes[f-1];null!=p&&p.index>o.position;)O=p,p=0<--f?o.keyframes[f-1]:null}else O=null;if(null==O){for(a=o.keyframes.length,f=a;0<=f-1;){var C=o.keyframes[f-1];if(C.index<=o.position)break;O=C,--f}a<=f&&(f=-1)}o.keyframeAfterIndex=f,o.after=O,o.apply(c)}}}}this.position!=s&&(i=Math.floor(this.position))!=Math.floor(s)&&null!=(s=this.labelAtIndex(i))&&(-1!=(l=this.indexOfLabelBeforeIndex(i))&&this.emitEndLabel(l,this.labelAtIndex(l)),this.emitStartLabel(i,s))},clearCompleteHandlers:function(){if(null!=this.completeHandlers&&0<this.completeHandlers.length){var e=this.completeHandlers;if(0!=e.length)if(0<e.length)e.splice(0,e.length);else for(var n=e;n.length<0;)n.push(null);if(0!=(e=this.completeHandlerIndexes).length)if(0<e.length)e.splice(0,e.length);else for(n=e;n.length<0;)n.push(null)}},didEmitEndLabel:function(e,n){if(null!=this.completeHandlers&&0<this.completeHandlers.length){for(var t=null,i=null,l=0,s=0,r=this.completeHandlerIndexes.length;s<r;){var h=s++;this.completeHandlerIndexes[h]==e&&(null==i&&(i=(t=C.pool(this.completeHandlers.length)).get()),c=this.completeHandlers[h],i.vector[l]=c,this.completeHandlers[h]=null,++l)}if(null!=this.completeHandlers&&0<this.completeHandlers.length){var a=this.completeHandlers;if(0!=a.length)if(0<a.length)a.splice(0,a.length);else for(var o=a;o.length<0;)o.push(null);if(0!=(a=this.completeHandlerIndexes).length)if(0<a.length)a.splice(0,a.length);else for(o=a;o.length<0;)o.push(null)}for(s=0,r=l;s<r;){var c,h=s++;(c=i.vector[h])()}null!=i&&t.release(i)}},add:function(e){null!=e.timeline&&e.timeline.remove(e),e.timeline!=this&&(this.tracks.push(e),e.timeline=this),this.autoFitSize&&this.fitSize()},get:function(e){for(var n=0,t=this.tracks.length;n<t;){var i=n++,i=this.tracks[i];if(i.id==e)return i}return null},remove:function(e){e.timeline==this&&(he.remove(this.tracks,e),e.timeline=null),this.autoFitSize&&this.fitSize()},fitSize:function(){for(var e=0,n=0,t=this.tracks.length;n<t;){var i=n++,i=this.tracks[i];i.size>e&&(e=i.size)}this.size=e},indexOfLabelBeforeIndex:function(e){if(null==this.labelIndexes)return-1;for(var n=-1,t=0,i=this.labelIndexes.length;t<i;){var l=t++,l=this.labelIndexes[l];if(l==e)return n;if(e<l)break;n=l}return n},labelAtIndex:function(e){if(null!=this.labelIndexes)for(var n=0,t=this.labelIndexes.length;n<t;){var i=n++,l=this.labelIndexes[i];if(l==e)return this.labels[i];if(e<l)break}return null},indexOfLabel:function(e){if(null!=this.labelIndexes)for(var n=0,t=this.labels.length;n<t;){var i=n++;if(e==this.labels[i])return this.labelIndexes[i]}return-1},setLabel:function(e,n){this.removeLabel(n),null==this.labelIndexes&&(this.labelIndexes=[],this.labels=[]),this.labelIndexes.push(e),this.labels.push(n),this.sortLabels()},removeLabelAtIndex:function(e){var n=!1;return null!=this.labelIndexes&&-1!=(e=this.labelIndexes.indexOf(e))&&(this.labels.splice(e,1),this.labelIndexes.splice(e,1),n=!0),n},removeLabel:function(e){var n=!1;return null!=this.labels&&-1!=(e=this.labels.indexOf(e))&&(this.labels.splice(e,1),this.labelIndexes.splice(e,1),n=!0),n},sortLabels:function(){this.labelIndexes.sort($bind(this,this.compareLabelIndexes)),this.labels.sort($bind(this,this.compareLabelNames))},compareLabelIndexes:function(e,n){return n<e?1:e<n?-1:0},compareLabelNames:function(e,n){e=this.labels.indexOf(e),e=this.labelIndexes[e],n=this.labels.indexOf(n),n=this.labelIndexes[n];return n<e?1:e<n?-1:0},entity:null,setEntity:function(e){this.entity=e instanceof j?e:null},getEntity:function(){return this.entity},initializerName:null,unbindEvents:function(){j.prototype.unbindEvents.call(this),this.offStartLabel(),this.offEndLabel()},__class__:Nt,__properties__:$extend(j.prototype.__properties__,{set_endPosition:"set_endPosition",set_startPosition:"set_startPosition",set_paused:"set_paused",set_autoUpdate:"set_autoUpdate"})}),(E["ceramic.TimelineKeyframe"]=ic).__name__="ceramic.TimelineKeyframe",ic.prototype={index:null,easing:null,__class__:ic},(E["ceramic.TimelineBoolKeyframe"]=jc).__name__="ceramic.TimelineBoolKeyframe",jc.__super__=ic,jc.prototype=$extend(ic.prototype,{value:null,__class__:jc}),(E["ceramic.TimelineTrack"]=kc).__name__="ceramic.TimelineTrack",kc.__super__=j,kc.prototype=$extend(j.prototype,{size:null,autoFitSize:null,loop:null,locked:null,timeline:null,position:null,keyframes:null,before:null,after:null,keyframeBeforeIndex:null,keyframeAfterIndex:null,destroy:function(){this._lifecycleState<=-2||(this._lifecycleState=-2,null!=this.timeline&&0<=this.timeline._lifecycleState&&this.timeline.remove(this),this._lifecycleState=-1,j.prototype.destroy.call(this))},seek:function(e){if(e!=this.position&&(0<this.size?e>this.size&&(this.loop?e%=this.size:e=this.size):0==this.size&&(e=0),(e=e<0?0:e)!=this.position)){this.position=e;var n=null;if(-1!=(s=this.keyframeBeforeIndex))if((n=this.keyframes[s]).index<=this.position)for(var t=this.keyframes[s+1];null!=t&&t.index<=this.position;)n=t,t=this.keyframes[++s+1];else n=null;if(null==n){s=-1;for(var i=this.keyframes.length;s+1<i;){if((l=this.keyframes[s+1]).index>this.position)break;n=l,++s}}this.keyframeBeforeIndex=s,this.before=n;var l,n=null,s=this.keyframeAfterIndex;if(-1!=s&&null!=(n=this.keyframes[s]))if(n.index>this.position){if(0<s)for(var r=this.keyframes[s-1];null!=r&&r.index>this.position;)n=r,r=0<--s?this.keyframes[s-1]:null}else n=null;if(null==n){for(s=i=this.keyframes.length;0<=s-1;){if((l=this.keyframes[s-1]).index<=this.position)break;n=l,--s}i<=s&&(s=-1)}this.keyframeAfterIndex=s,this.after=n,this.apply(!1)}},inlineSeek:function(e,n,t){if(null==t&&(t=!1),((n=null==n?!1:n)||e!=this.position)&&(0<this.size?e>this.size&&(this.loop?e%=this.size:e=this.size):0==this.size&&(e=0),(e=e<0?0:e)!=this.position)){this.position=e;var i=null;if(-1!=(h=this.keyframeBeforeIndex))if((i=this.keyframes[h]).index<=this.position)for(var l=this.keyframes[h+1];null!=l&&l.index<=this.position;)i=l,l=this.keyframes[++h+1];else i=null;if(null==i){h=-1;for(var s=this.keyframes.length;h+1<s;){if((r=this.keyframes[h+1]).index>this.position)break;i=r,++h}}this.keyframeBeforeIndex=h,this.before=i;var r,i=null,h=this.keyframeAfterIndex;if(-1!=h&&null!=(i=this.keyframes[h]))if(i.index>this.position){if(0<h)for(var a=this.keyframes[h-1];null!=a&&a.index>this.position;)i=a,a=0<--h?this.keyframes[h-1]:null}else i=null;if(null==i){for(h=s=this.keyframes.length;0<=h-1;){if((r=this.keyframes[h-1]).index<=this.position)break;i=r,--h}s<=h&&(h=-1)}this.keyframeAfterIndex=h,this.after=i,this.apply(t)}},add:function(e){for(var n=this.keyframes,t=n.length,i=0,l=!1;i<t;){var s=n[i];if(s.index==e.index){ae.app.logger.warning("Replacing existing keyframe at index "+e.index,{fileName:"../../../../ceramic/runtime/src/ceramic/TimelineTrack.hx",lineNumber:204,className:"ceramic.TimelineTrack",methodName:"add"}),n[i]=e,l=!0;break}if(s.index>e.index){n.splice(i,0,e),l=!0;break}++i}l||n.push(e),this.autoFitSize&&this.fitSize(),null!=this.timeline&&this.timeline.autoFitSize&&this.timeline.fitSize(),this.keyframeBeforeIndex=-1;var r=null;if((this.keyframeAfterIndex=-1)!=(a=this.keyframeBeforeIndex))if((r=this.keyframes[a]).index<=this.position)for(var h=this.keyframes[a+1];null!=h&&h.index<=this.position;)r=h,h=this.keyframes[++a+1];else r=null;if(null==r){a=-1;for(t=this.keyframes.length;a+1<t;){if((e=this.keyframes[a+1]).index>this.position)break;r=e,++a}}this.keyframeBeforeIndex=a,this.before=r;var r=null,a=this.keyframeAfterIndex;if(-1!=a&&null!=(r=this.keyframes[a]))if(r.index>this.position){if(0<a)for(var o=this.keyframes[a-1];null!=o&&o.index>this.position;)r=o,o=0<--a?this.keyframes[a-1]:null}else r=null;if(null==r){for(a=t=this.keyframes.length;0<=a-1;){if((e=this.keyframes[a-1]).index<=this.position)break;r=e,--a}t<=a&&(a=-1)}this.keyframeAfterIndex=a,this.after=r,this.apply(!0)},remove:function(e){if(-1!=(l=this.keyframes.indexOf(e))){this.keyframes.splice(l,1),this.autoFitSize&&this.fitSize(),null!=this.timeline&&this.timeline.autoFitSize&&this.timeline.fitSize(),this.keyframeBeforeIndex=-1;var n=null;if((this.keyframeAfterIndex=-1)!=(l=this.keyframeBeforeIndex))if((n=this.keyframes[l]).index<=this.position)for(var t=this.keyframes[l+1];null!=t&&t.index<=this.position;)n=t,t=this.keyframes[++l+1];else n=null;if(null==n){l=-1;for(var i=this.keyframes.length;l+1<i;){if((e=this.keyframes[l+1]).index>this.position)break;n=e,++l}}this.keyframeBeforeIndex=l,this.before=n;var n=null,l=this.keyframeAfterIndex;if(-1!=l&&null!=(n=this.keyframes[l]))if(n.index>this.position){if(0<l)for(var s=this.keyframes[l-1];null!=s&&s.index>this.position;)n=s,s=0<--l?this.keyframes[l-1]:null}else n=null;if(null==n){for(l=i=this.keyframes.length;0<=l-1;){if((e=this.keyframes[l-1]).index<=this.position)break;n=e,--l}i<=l&&(l=-1)}this.keyframeAfterIndex=l,this.after=n,this.apply(!0)}else ae.app.logger.warning("Failed to remove keyframe: keyframe not found in list",{fileName:"../../../../ceramic/runtime/src/ceramic/TimelineTrack.hx",lineNumber:270,className:"ceramic.TimelineTrack",methodName:"remove"})},fitSize:function(){0<this.keyframes.length?this.size=this.keyframes[this.keyframes.length-1].index:this.size=0},apply:function(e){},findKeyframeAtIndex:function(e){var n=this.findKeyframeBefore(e);return null!=n&&n.index==e?n:null},findKeyframeBefore:function(e){for(var n=null,t=-1,i=this.keyframes.length;t+1<i;){var l=this.keyframes[t+1];if(l.index>e)break;n=l,++t}return n},findKeyframeAfter:function(e){for(var n=null,t=-1,i=this.keyframes.length;t+1<i;){var l=this.keyframes[t+1];if(l.index>e)break;n=l,++t}return n},computeKeyframeBefore:function(){var e=null;if(-1!=(t=this.keyframeBeforeIndex))if((e=this.keyframes[t]).index<=this.position)for(var n=this.keyframes[t+1];null!=n&&n.index<=this.position;)e=n,n=this.keyframes[++t+1];else e=null;if(null==e)for(var t=-1,i=this.keyframes.length;t+1<i;){var l=this.keyframes[t+1];if(l.index>this.position)break;e=l,++t}this.keyframeBeforeIndex=t,this.before=e},computeKeyframeAfter:function(){var e=null,n=this.keyframeAfterIndex;if(-1!=n&&null!=(e=this.keyframes[n]))if(e.index>this.position){if(0<n)for(var t=this.keyframes[n-1];null!=t&&t.index>this.position;)e=t,t=0<--n?this.keyframes[n-1]:null}else e=null;if(null==e){for(var i=this.keyframes.length,n=i;0<=n-1;){var l=this.keyframes[n-1];if(l.index<=this.position)break;e=l,--n}i<=n&&(n=-1)}this.keyframeAfterIndex=n,this.after=e},__class__:kc}),(E["ceramic.TimelineBoolTrack"]=lc).__name__="ceramic.TimelineBoolTrack",lc.__super__=kc,lc.prototype=$extend(kc.prototype,{__cbOnChange:null,__cbOnceChange:null,__cbOnOwnerUnbindChange:null,__cbOnceOwnerUnbindChange:null,emitChange:function(e){var n=0;if(null!=this.__cbOnChange&&(n+=this.__cbOnChange.length),null!=this.__cbOnceChange&&(n+=this.__cbOnceChange.length),0<n){var t=C.pool(n),i=t.get(),l=0;if(null!=this.__cbOnChange)for(var s=0,r=this.__cbOnChange.length;s<r;){var h=s++;!0?(i.vector[l]=this.__cbOnChange[h],++l):--n}if(null!=this.__cbOnceChange){for(var a=null,o=null,s=0,r=this.__cbOnceChange.length;s<r;){var c,h=s++;!0?(i.vector[l]=this.__cbOnceChange[h],this.__cbOnceChange[h]=null,c=this.__cbOnceOwnerUnbindChange[h],(this.__cbOnceOwnerUnbindChange[h]=null)!=c&&c(),++l):(--n,null==a&&(a=[],o=[],0),a.push(this.__cbOnceOwnerUnbindChange[h]),o.push(this.__cbOnceChange[h]))}this.__cbOnceOwnerUnbindChange=a,this.__cbOnceChange=o}for(s=0,r=n;s<r;){l=s++;(0,i.vector[l])(e)}t.release(i)}},onChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event change because owner is destroyed!");var l=function(e){null!=t&&(i.offChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindChange&&(this.__cbOnOwnerUnbindChange=[]),this.__cbOnOwnerUnbindChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindChange&&(this.__cbOnOwnerUnbindChange=[]),this.__cbOnOwnerUnbindChange.push(null);null==this.__cbOnChange&&(this.__cbOnChange=[]),this.__cbOnChange.push(t)},onceChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event change because owner is destroyed!");var l=function(e){null!=t&&(i.offChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindChange&&(this.__cbOnceOwnerUnbindChange=[]),this.__cbOnceOwnerUnbindChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindChange&&(this.__cbOnceOwnerUnbindChange=[]),this.__cbOnceOwnerUnbindChange.push(null);null==this.__cbOnceChange&&(this.__cbOnceChange=[]),this.__cbOnceChange.push(t)},offChange:function(e){if(null!=e){var n;null!=this.__cbOnChange&&-1!=(n=this.__cbOnChange.indexOf(e))&&(this.__cbOnChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindChange[n])&&s(),this.__cbOnOwnerUnbindChange.splice(n,1)),null!=this.__cbOnceChange&&-1!=(n=this.__cbOnceChange.indexOf(e))&&(this.__cbOnceChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindChange[n])&&s(),this.__cbOnceOwnerUnbindChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindChange){for(var t=0,i=this.__cbOnOwnerUnbindChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindChange[l])&&s()}this.__cbOnOwnerUnbindChange=null}if(null!=this.__cbOnceOwnerUnbindChange){for(t=0,i=this.__cbOnceOwnerUnbindChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindChange[l])&&s()}this.__cbOnceOwnerUnbindChange=null}this.__cbOnChange=null,this.__cbOnceChange=null}},listensChange:function(){return null!=this.__cbOnChange&&0<this.__cbOnChange.length||null!=this.__cbOnceChange&&0<this.__cbOnceChange.length},value:null,apply:function(e){null==e&&(e=!1);var n,t=this.value;null!=this.before&&null!=this.after?(1<(n=(this.position-this.before.index)/(this.after.index-this.before.index))?n=1:n<0&&(n=0),this.value=(1<=n?this.after:this.before).value):null!=this.after?this.value=this.after.value:null!=this.before&&(this.value=this.before.value),!e&&t==this.value||this.emitChange(this)},unbindEvents:function(){kc.prototype.unbindEvents.call(this),this.offChange()},__class__:lc}),(E["ceramic.TimelineColorKeyframe"]=mc).__name__="ceramic.TimelineColorKeyframe",mc.__super__=ic,mc.prototype=$extend(ic.prototype,{value:null,__class__:mc}),(E["ceramic.TimelineColorTrack"]=nc).__name__="ceramic.TimelineColorTrack",nc.__super__=kc,nc.prototype=$extend(kc.prototype,{__cbOnChange:null,__cbOnceChange:null,__cbOnOwnerUnbindChange:null,__cbOnceOwnerUnbindChange:null,emitChange:function(e){var n=0;if(null!=this.__cbOnChange&&(n+=this.__cbOnChange.length),null!=this.__cbOnceChange&&(n+=this.__cbOnceChange.length),0<n){var t=C.pool(n),i=t.get(),l=0;if(null!=this.__cbOnChange)for(var s=0,r=this.__cbOnChange.length;s<r;){var h=s++;!0?(i.vector[l]=this.__cbOnChange[h],++l):--n}if(null!=this.__cbOnceChange){for(var a=null,o=null,s=0,r=this.__cbOnceChange.length;s<r;){var c,h=s++;!0?(i.vector[l]=this.__cbOnceChange[h],this.__cbOnceChange[h]=null,c=this.__cbOnceOwnerUnbindChange[h],(this.__cbOnceOwnerUnbindChange[h]=null)!=c&&c(),++l):(--n,null==a&&(a=[],o=[],0),a.push(this.__cbOnceOwnerUnbindChange[h]),o.push(this.__cbOnceChange[h]))}this.__cbOnceOwnerUnbindChange=a,this.__cbOnceChange=o}for(s=0,r=n;s<r;){l=s++;(0,i.vector[l])(e)}t.release(i)}},onChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event change because owner is destroyed!");var l=function(e){null!=t&&(i.offChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindChange&&(this.__cbOnOwnerUnbindChange=[]),this.__cbOnOwnerUnbindChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindChange&&(this.__cbOnOwnerUnbindChange=[]),this.__cbOnOwnerUnbindChange.push(null);null==this.__cbOnChange&&(this.__cbOnChange=[]),this.__cbOnChange.push(t)},onceChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event change because owner is destroyed!");var l=function(e){null!=t&&(i.offChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindChange&&(this.__cbOnceOwnerUnbindChange=[]),this.__cbOnceOwnerUnbindChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindChange&&(this.__cbOnceOwnerUnbindChange=[]),this.__cbOnceOwnerUnbindChange.push(null);null==this.__cbOnceChange&&(this.__cbOnceChange=[]),this.__cbOnceChange.push(t)},offChange:function(e){if(null!=e){var n;null!=this.__cbOnChange&&-1!=(n=this.__cbOnChange.indexOf(e))&&(this.__cbOnChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindChange[n])&&s(),this.__cbOnOwnerUnbindChange.splice(n,1)),null!=this.__cbOnceChange&&-1!=(n=this.__cbOnceChange.indexOf(e))&&(this.__cbOnceChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindChange[n])&&s(),this.__cbOnceOwnerUnbindChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindChange){for(var t=0,i=this.__cbOnOwnerUnbindChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindChange[l])&&s()}this.__cbOnOwnerUnbindChange=null}if(null!=this.__cbOnceOwnerUnbindChange){for(t=0,i=this.__cbOnceOwnerUnbindChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindChange[l])&&s()}this.__cbOnceOwnerUnbindChange=null}this.__cbOnChange=null,this.__cbOnceChange=null}},listensChange:function(){return null!=this.__cbOnChange&&0<this.__cbOnChange.length||null!=this.__cbOnceChange&&0<this.__cbOnceChange.length},value:null,apply:function(e){null==e&&(e=!1);var n,t,i,l,s=this.value;null!=this.before&&null!=this.after?(1<(i=(this.position-this.before.index)/(this.after.index-this.before.index))?i=1:i<0&&(i=0),n=this.before.value,l=(((t=this.after.value)>>16&255)-(n>>16&255))*(i=null==(i=V.ease(this.after.easing,i))?.5:i)+(n>>16&255)|0,this.value=((0&65535|(255<l?255:l<0?0:l)<<16)&16711935|(255<(l=((t>>8&255)-(n>>8&255))*i+(n>>8&255)|0)?255:l<0?0:l)<<8)&16776960|(255<(l=((255&t)-(255&n))*i+(255&n)|0)?255:l<0?0:l)):null!=this.after?this.value=this.after.value:null!=this.before&&(this.value=this.before.value),!e&&s==this.value||this.emitChange(this)},unbindEvents:function(){kc.prototype.unbindEvents.call(this),this.offChange()},__class__:nc}),(E["ceramic.TimelineDegreesTrack"]=oc).__name__="ceramic.TimelineDegreesTrack",oc.__super__=kc,oc.prototype=$extend(kc.prototype,{__cbOnChange:null,__cbOnceChange:null,__cbOnOwnerUnbindChange:null,__cbOnceOwnerUnbindChange:null,emitChange:function(e){var n=0;if(null!=this.__cbOnChange&&(n+=this.__cbOnChange.length),null!=this.__cbOnceChange&&(n+=this.__cbOnceChange.length),0<n){var t=C.pool(n),i=t.get(),l=0;if(null!=this.__cbOnChange)for(var s=0,r=this.__cbOnChange.length;s<r;){var h=s++;!0?(i.vector[l]=this.__cbOnChange[h],++l):--n}if(null!=this.__cbOnceChange){for(var a=null,o=null,s=0,r=this.__cbOnceChange.length;s<r;){var c,h=s++;!0?(i.vector[l]=this.__cbOnceChange[h],this.__cbOnceChange[h]=null,c=this.__cbOnceOwnerUnbindChange[h],(this.__cbOnceOwnerUnbindChange[h]=null)!=c&&c(),++l):(--n,null==a&&(a=[],o=[],0),a.push(this.__cbOnceOwnerUnbindChange[h]),o.push(this.__cbOnceChange[h]))}this.__cbOnceOwnerUnbindChange=a,this.__cbOnceChange=o}for(s=0,r=n;s<r;){l=s++;(0,i.vector[l])(e)}t.release(i)}},onChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event change because owner is destroyed!");var l=function(e){null!=t&&(i.offChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindChange&&(this.__cbOnOwnerUnbindChange=[]),this.__cbOnOwnerUnbindChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindChange&&(this.__cbOnOwnerUnbindChange=[]),this.__cbOnOwnerUnbindChange.push(null);null==this.__cbOnChange&&(this.__cbOnChange=[]),this.__cbOnChange.push(t)},onceChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event change because owner is destroyed!");var l=function(e){null!=t&&(i.offChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindChange&&(this.__cbOnceOwnerUnbindChange=[]),this.__cbOnceOwnerUnbindChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindChange&&(this.__cbOnceOwnerUnbindChange=[]),this.__cbOnceOwnerUnbindChange.push(null);null==this.__cbOnceChange&&(this.__cbOnceChange=[]),this.__cbOnceChange.push(t)},offChange:function(e){if(null!=e){var n;null!=this.__cbOnChange&&-1!=(n=this.__cbOnChange.indexOf(e))&&(this.__cbOnChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindChange[n])&&s(),this.__cbOnOwnerUnbindChange.splice(n,1)),null!=this.__cbOnceChange&&-1!=(n=this.__cbOnceChange.indexOf(e))&&(this.__cbOnceChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindChange[n])&&s(),this.__cbOnceOwnerUnbindChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindChange){for(var t=0,i=this.__cbOnOwnerUnbindChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindChange[l])&&s()}this.__cbOnOwnerUnbindChange=null}if(null!=this.__cbOnceOwnerUnbindChange){for(t=0,i=this.__cbOnceOwnerUnbindChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindChange[l])&&s()}this.__cbOnceOwnerUnbindChange=null}this.__cbOnChange=null,this.__cbOnceChange=null}},listensChange:function(){return null!=this.__cbOnChange&&0<this.__cbOnChange.length||null!=this.__cbOnceChange&&0<this.__cbOnceChange.length},value:null,apply:function(e){null==e&&(e=!1);var n,t,i,l,s=this.value,r=this.value;null!=this.before&&null!=this.after?(1<(n=(this.position-this.before.index)/(this.after.index-this.before.index))?n=1:n<0&&(n=0),t=ab.clampDegrees(this.before.value),180<(l=(i=ab.clampDegrees(this.after.value))-t)?i-=360:l<-180&&(i+=360),r=t+(i-t)*V.ease(this.after.easing,n),r=ab.clampDegrees(r)):null!=this.after?r=ab.clampDegrees(this.after.value):null!=this.before&&(r=ab.clampDegrees(this.before.value)),!e&&s==r||(this.value=r,this.emitChange(this))},unbindEvents:function(){kc.prototype.unbindEvents.call(this),this.offChange()},__class__:oc}),(E["ceramic.TimelineFloatArrayKeyframe"]=pc).__name__="ceramic.TimelineFloatArrayKeyframe",pc.__super__=ic,pc.prototype=$extend(ic.prototype,{value:null,__class__:pc}),(E["ceramic.TimelineFloatArrayTrack"]=qc).__name__="ceramic.TimelineFloatArrayTrack",qc.__super__=kc,qc.prototype=$extend(kc.prototype,{__cbOnChange:null,__cbOnceChange:null,__cbOnOwnerUnbindChange:null,__cbOnceOwnerUnbindChange:null,emitChange:function(e){var n=0;if(null!=this.__cbOnChange&&(n+=this.__cbOnChange.length),null!=this.__cbOnceChange&&(n+=this.__cbOnceChange.length),0<n){var t=C.pool(n),i=t.get(),l=0;if(null!=this.__cbOnChange)for(var s=0,r=this.__cbOnChange.length;s<r;){var h=s++;!0?(i.vector[l]=this.__cbOnChange[h],++l):--n}if(null!=this.__cbOnceChange){for(var a=null,o=null,s=0,r=this.__cbOnceChange.length;s<r;){var c,h=s++;!0?(i.vector[l]=this.__cbOnceChange[h],this.__cbOnceChange[h]=null,c=this.__cbOnceOwnerUnbindChange[h],(this.__cbOnceOwnerUnbindChange[h]=null)!=c&&c(),++l):(--n,null==a&&(a=[],o=[],0),a.push(this.__cbOnceOwnerUnbindChange[h]),o.push(this.__cbOnceChange[h]))}this.__cbOnceOwnerUnbindChange=a,this.__cbOnceChange=o}for(s=0,r=n;s<r;){l=s++;(0,i.vector[l])(e)}t.release(i)}},onChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event change because owner is destroyed!");var l=function(e){null!=t&&(i.offChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindChange&&(this.__cbOnOwnerUnbindChange=[]),this.__cbOnOwnerUnbindChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindChange&&(this.__cbOnOwnerUnbindChange=[]),this.__cbOnOwnerUnbindChange.push(null);null==this.__cbOnChange&&(this.__cbOnChange=[]),this.__cbOnChange.push(t)},onceChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event change because owner is destroyed!");var l=function(e){null!=t&&(i.offChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindChange&&(this.__cbOnceOwnerUnbindChange=[]),this.__cbOnceOwnerUnbindChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindChange&&(this.__cbOnceOwnerUnbindChange=[]),this.__cbOnceOwnerUnbindChange.push(null);null==this.__cbOnceChange&&(this.__cbOnceChange=[]),this.__cbOnceChange.push(t)},offChange:function(e){if(null!=e){var n;null!=this.__cbOnChange&&-1!=(n=this.__cbOnChange.indexOf(e))&&(this.__cbOnChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindChange[n])&&s(),this.__cbOnOwnerUnbindChange.splice(n,1)),null!=this.__cbOnceChange&&-1!=(n=this.__cbOnceChange.indexOf(e))&&(this.__cbOnceChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindChange[n])&&s(),this.__cbOnceOwnerUnbindChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindChange){for(var t=0,i=this.__cbOnOwnerUnbindChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindChange[l])&&s()}this.__cbOnOwnerUnbindChange=null}if(null!=this.__cbOnceOwnerUnbindChange){for(t=0,i=this.__cbOnceOwnerUnbindChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindChange[l])&&s()}this.__cbOnceOwnerUnbindChange=null}this.__cbOnChange=null,this.__cbOnceChange=null}},listensChange:function(){return null!=this.__cbOnChange&&0<this.__cbOnChange.length||null!=this.__cbOnceChange&&0<this.__cbOnceChange.length},value:null,apply:function(e){null==e&&(e=!1);var n=!1;if(null!=this.before&&null!=this.after){var t=(this.position-this.before.index)/(this.after.index-this.before.index);if(1<t?t=1:t<0&&(t=0),1<=t){var i=this.value,l=(O=this.after.value).length;if(i.length>l&&i.length!=l)if(i.length>l)i.splice(l,i.length-l);else for(var s=i;s.length<l;)s.push(null);for(var r=i.length,h=0,a=l;h<a;){var o=0,c=((f=h++)<r?o=i[f]:n=!0,O[f]);(i[f]=c)!=o&&(n=!0)}}else if(t<=0){i=this.value,l=(O=this.before.value).length;if(i.length>l&&i.length!=l)if(i.length>l)i.splice(l,i.length-l);else for(s=i;s.length<l;)s.push(null);for(r=i.length,h=0,a=l;h<a;){o=0,c=((f=h++)<r?o=i[f]:n=!0,O[f]);(i[f]=c)!=o&&(n=!0)}}else{var i=this.value,u=this.before.value,_=this.after.value,d=V.ease(this.after.easing,t),t=_.length,b=u.length,l=b<t?b:t;if(i.length>l&&i.length!=l)if(i.length>l)i.splice(l,i.length-l);else for(s=i;s.length<l;)s.push(null);for(r=i.length,h=0,a=l;h<a;){var o=0,g=((f=h++)<r?o=i[f]:n=!0,u[f]),c=g+(_[f]-g)*d;(i[f]=c)!=o&&(n=!0)}}}else if(null!=this.after){i=this.value,l=(O=this.after.value).length;if(i.length>l&&i.length!=l)if(i.length>l)i.splice(l,i.length-l);else for(s=i;s.length<l;)s.push(null);for(r=i.length,h=0,a=l;h<a;){o=0,c=((f=h++)<r?o=i[f]:n=!0,O[f]);(i[f]=c)!=o&&(n=!0)}}else if(null!=this.before){var O,i=this.value,l=(O=this.before.value).length;if(i.length>l&&i.length!=l)if(i.length>l)i.splice(l,i.length-l);else for(s=i;s.length<l;)s.push(null);for(r=i.length,h=0,a=l;h<a;){var f,o=0,c=((f=h++)<r?o=i[f]:n=!0,O[f]);(i[f]=c)!=o&&(n=!0)}}(e||n)&&this.emitChange(this)},unbindEvents:function(){kc.prototype.unbindEvents.call(this),this.offChange()},__class__:qc}),(E["ceramic.TimelineFloatKeyframe"]=rc).__name__="ceramic.TimelineFloatKeyframe",rc.__super__=ic,rc.prototype=$extend(ic.prototype,{value:null,__class__:rc}),(E["ceramic.TimelineFloatTrack"]=sc).__name__="ceramic.TimelineFloatTrack",sc.__super__=kc,sc.prototype=$extend(kc.prototype,{__cbOnChange:null,__cbOnceChange:null,__cbOnOwnerUnbindChange:null,__cbOnceOwnerUnbindChange:null,emitChange:function(e){var n=0;if(null!=this.__cbOnChange&&(n+=this.__cbOnChange.length),null!=this.__cbOnceChange&&(n+=this.__cbOnceChange.length),0<n){var t=C.pool(n),i=t.get(),l=0;if(null!=this.__cbOnChange)for(var s=0,r=this.__cbOnChange.length;s<r;){var h=s++;!0?(i.vector[l]=this.__cbOnChange[h],++l):--n}if(null!=this.__cbOnceChange){for(var a=null,o=null,s=0,r=this.__cbOnceChange.length;s<r;){var c,h=s++;!0?(i.vector[l]=this.__cbOnceChange[h],this.__cbOnceChange[h]=null,c=this.__cbOnceOwnerUnbindChange[h],(this.__cbOnceOwnerUnbindChange[h]=null)!=c&&c(),++l):(--n,null==a&&(a=[],o=[],0),a.push(this.__cbOnceOwnerUnbindChange[h]),o.push(this.__cbOnceChange[h]))}this.__cbOnceOwnerUnbindChange=a,this.__cbOnceChange=o}for(s=0,r=n;s<r;){l=s++;(0,i.vector[l])(e)}t.release(i)}},onChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event change because owner is destroyed!");var l=function(e){null!=t&&(i.offChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindChange&&(this.__cbOnOwnerUnbindChange=[]),this.__cbOnOwnerUnbindChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindChange&&(this.__cbOnOwnerUnbindChange=[]),this.__cbOnOwnerUnbindChange.push(null);null==this.__cbOnChange&&(this.__cbOnChange=[]),this.__cbOnChange.push(t)},onceChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event change because owner is destroyed!");var l=function(e){null!=t&&(i.offChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindChange&&(this.__cbOnceOwnerUnbindChange=[]),this.__cbOnceOwnerUnbindChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindChange&&(this.__cbOnceOwnerUnbindChange=[]),this.__cbOnceOwnerUnbindChange.push(null);null==this.__cbOnceChange&&(this.__cbOnceChange=[]),this.__cbOnceChange.push(t)},offChange:function(e){if(null!=e){var n;null!=this.__cbOnChange&&-1!=(n=this.__cbOnChange.indexOf(e))&&(this.__cbOnChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindChange[n])&&s(),this.__cbOnOwnerUnbindChange.splice(n,1)),null!=this.__cbOnceChange&&-1!=(n=this.__cbOnceChange.indexOf(e))&&(this.__cbOnceChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindChange[n])&&s(),this.__cbOnceOwnerUnbindChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindChange){for(var t=0,i=this.__cbOnOwnerUnbindChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindChange[l])&&s()}this.__cbOnOwnerUnbindChange=null}if(null!=this.__cbOnceOwnerUnbindChange){for(t=0,i=this.__cbOnceOwnerUnbindChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindChange[l])&&s()}this.__cbOnceOwnerUnbindChange=null}this.__cbOnChange=null,this.__cbOnceChange=null}},listensChange:function(){return null!=this.__cbOnChange&&0<this.__cbOnChange.length||null!=this.__cbOnceChange&&0<this.__cbOnceChange.length},value:null,apply:function(e){null==e&&(e=!1);var n,t=this.value;null!=this.before&&null!=this.after?(1<(n=(this.position-this.before.index)/(this.after.index-this.before.index))?n=1:n<0&&(n=0),this.value=this.before.value+(this.after.value-this.before.value)*V.ease(this.after.easing,n)):null!=this.after?this.value=this.after.value:null!=this.before&&(this.value=this.before.value),!e&&t==this.value||this.emitChange(this)},unbindEvents:function(){kc.prototype.unbindEvents.call(this),this.offChange()},__class__:sc}),function(){j.call(this),this.onCreateTrack(this,$bind(this,this.handleCreateTrack)),this.onBindTrack(this,$bind(this,this.handleBindTrack)),this.onCreateKeyframe(this,$bind(this,this.handleCreateKeyframe))}),Gt=((E["ceramic.Timelines"]=zt).__name__="ceramic.Timelines",zt.__super__=j,zt.prototype=$extend(j.prototype,{__cbOnCreateTrack:null,__cbOnceCreateTrack:null,__cbOnOwnerUnbindCreateTrack:null,__cbOnceOwnerUnbindCreateTrack:null,emitCreateTrack:function(e,n,t){var i=0;if(null!=this.__cbOnCreateTrack&&(i+=this.__cbOnCreateTrack.length),null!=this.__cbOnceCreateTrack&&(i+=this.__cbOnceCreateTrack.length),0<i){var l=C.pool(i),s=l.get(),r=0;if(null!=this.__cbOnCreateTrack)for(var h=0,a=this.__cbOnCreateTrack.length;h<a;){var o=h++;!0?(s.vector[r]=this.__cbOnCreateTrack[o],++r):--i}if(null!=this.__cbOnceCreateTrack){for(var c=null,u=null,h=0,a=this.__cbOnceCreateTrack.length;h<a;){var _,o=h++;!0?(s.vector[r]=this.__cbOnceCreateTrack[o],this.__cbOnceCreateTrack[o]=null,_=this.__cbOnceOwnerUnbindCreateTrack[o],(this.__cbOnceOwnerUnbindCreateTrack[o]=null)!=_&&_(),++r):(--i,null==c&&(c=[],u=[],0),c.push(this.__cbOnceOwnerUnbindCreateTrack[o]),u.push(this.__cbOnceCreateTrack[o]))}this.__cbOnceOwnerUnbindCreateTrack=c,this.__cbOnceCreateTrack=u}for(h=0,a=i;h<a;){r=h++;(0,s.vector[r])(e,n,t)}l.release(s)}},onCreateTrack:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event createTrack because owner is destroyed!");var l=function(e){null!=t&&(i.offCreateTrack(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindCreateTrack&&(this.__cbOnOwnerUnbindCreateTrack=[]),this.__cbOnOwnerUnbindCreateTrack.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindCreateTrack&&(this.__cbOnOwnerUnbindCreateTrack=[]),this.__cbOnOwnerUnbindCreateTrack.push(null);null==this.__cbOnCreateTrack&&(this.__cbOnCreateTrack=[]),this.__cbOnCreateTrack.push(t)},onceCreateTrack:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event createTrack because owner is destroyed!");var l=function(e){null!=t&&(i.offCreateTrack(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindCreateTrack&&(this.__cbOnceOwnerUnbindCreateTrack=[]),this.__cbOnceOwnerUnbindCreateTrack.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindCreateTrack&&(this.__cbOnceOwnerUnbindCreateTrack=[]),this.__cbOnceOwnerUnbindCreateTrack.push(null);null==this.__cbOnceCreateTrack&&(this.__cbOnceCreateTrack=[]),this.__cbOnceCreateTrack.push(t)},offCreateTrack:function(e){if(null!=e){var n;null!=this.__cbOnCreateTrack&&-1!=(n=this.__cbOnCreateTrack.indexOf(e))&&(this.__cbOnCreateTrack.splice(n,1),null!=(s=this.__cbOnOwnerUnbindCreateTrack[n])&&s(),this.__cbOnOwnerUnbindCreateTrack.splice(n,1)),null!=this.__cbOnceCreateTrack&&-1!=(n=this.__cbOnceCreateTrack.indexOf(e))&&(this.__cbOnceCreateTrack.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindCreateTrack[n])&&s(),this.__cbOnceOwnerUnbindCreateTrack.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindCreateTrack){for(var t=0,i=this.__cbOnOwnerUnbindCreateTrack.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindCreateTrack[l])&&s()}this.__cbOnOwnerUnbindCreateTrack=null}if(null!=this.__cbOnceOwnerUnbindCreateTrack){for(t=0,i=this.__cbOnceOwnerUnbindCreateTrack.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindCreateTrack[l])&&s()}this.__cbOnceOwnerUnbindCreateTrack=null}this.__cbOnCreateTrack=null,this.__cbOnceCreateTrack=null}},listensCreateTrack:function(){return null!=this.__cbOnCreateTrack&&0<this.__cbOnCreateTrack.length||null!=this.__cbOnceCreateTrack&&0<this.__cbOnceCreateTrack.length},__cbOnBindTrack:null,__cbOnceBindTrack:null,__cbOnOwnerUnbindBindTrack:null,__cbOnceOwnerUnbindBindTrack:null,emitBindTrack:function(e,n,t,i,l){var s=0;if(null!=this.__cbOnBindTrack&&(s+=this.__cbOnBindTrack.length),null!=this.__cbOnceBindTrack&&(s+=this.__cbOnceBindTrack.length),0<s){var r=C.pool(s),h=r.get(),a=0;if(null!=this.__cbOnBindTrack)for(var o=0,c=this.__cbOnBindTrack.length;o<c;){var u=o++;!0?(h.vector[a]=this.__cbOnBindTrack[u],++a):--s}if(null!=this.__cbOnceBindTrack){for(var _=null,d=null,o=0,c=this.__cbOnceBindTrack.length;o<c;){var b,u=o++;!0?(h.vector[a]=this.__cbOnceBindTrack[u],this.__cbOnceBindTrack[u]=null,b=this.__cbOnceOwnerUnbindBindTrack[u],(this.__cbOnceOwnerUnbindBindTrack[u]=null)!=b&&b(),++a):(--s,null==_&&(_=[],d=[],0),_.push(this.__cbOnceOwnerUnbindBindTrack[u]),d.push(this.__cbOnceBindTrack[u]))}this.__cbOnceOwnerUnbindBindTrack=_,this.__cbOnceBindTrack=d}for(o=0,c=s;o<c;){a=o++;(0,h.vector[a])(e,n,t,i,l)}r.release(h)}},onBindTrack:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event bindTrack because owner is destroyed!");var l=function(e){null!=t&&(i.offBindTrack(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindBindTrack&&(this.__cbOnOwnerUnbindBindTrack=[]),this.__cbOnOwnerUnbindBindTrack.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindBindTrack&&(this.__cbOnOwnerUnbindBindTrack=[]),this.__cbOnOwnerUnbindBindTrack.push(null);null==this.__cbOnBindTrack&&(this.__cbOnBindTrack=[]),this.__cbOnBindTrack.push(t)},onceBindTrack:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event bindTrack because owner is destroyed!");var l=function(e){null!=t&&(i.offBindTrack(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindBindTrack&&(this.__cbOnceOwnerUnbindBindTrack=[]),this.__cbOnceOwnerUnbindBindTrack.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindBindTrack&&(this.__cbOnceOwnerUnbindBindTrack=[]),this.__cbOnceOwnerUnbindBindTrack.push(null);null==this.__cbOnceBindTrack&&(this.__cbOnceBindTrack=[]),this.__cbOnceBindTrack.push(t)},offBindTrack:function(e){if(null!=e){var n;null!=this.__cbOnBindTrack&&-1!=(n=this.__cbOnBindTrack.indexOf(e))&&(this.__cbOnBindTrack.splice(n,1),null!=(s=this.__cbOnOwnerUnbindBindTrack[n])&&s(),this.__cbOnOwnerUnbindBindTrack.splice(n,1)),null!=this.__cbOnceBindTrack&&-1!=(n=this.__cbOnceBindTrack.indexOf(e))&&(this.__cbOnceBindTrack.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindBindTrack[n])&&s(),this.__cbOnceOwnerUnbindBindTrack.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindBindTrack){for(var t=0,i=this.__cbOnOwnerUnbindBindTrack.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindBindTrack[l])&&s()}this.__cbOnOwnerUnbindBindTrack=null}if(null!=this.__cbOnceOwnerUnbindBindTrack){for(t=0,i=this.__cbOnceOwnerUnbindBindTrack.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindBindTrack[l])&&s()}this.__cbOnceOwnerUnbindBindTrack=null}this.__cbOnBindTrack=null,this.__cbOnceBindTrack=null}},listensBindTrack:function(){return null!=this.__cbOnBindTrack&&0<this.__cbOnBindTrack.length||null!=this.__cbOnceBindTrack&&0<this.__cbOnceBindTrack.length},__cbOnCreateKeyframe:null,__cbOnceCreateKeyframe:null,__cbOnOwnerUnbindCreateKeyframe:null,__cbOnceOwnerUnbindCreateKeyframe:null,emitCreateKeyframe:function(e,n,t,i,l,s,r){var h=0;if(null!=this.__cbOnCreateKeyframe&&(h+=this.__cbOnCreateKeyframe.length),null!=this.__cbOnceCreateKeyframe&&(h+=this.__cbOnceCreateKeyframe.length),0<h){var a=C.pool(h),o=a.get(),c=0;if(null!=this.__cbOnCreateKeyframe)for(var u=0,_=this.__cbOnCreateKeyframe.length;u<_;){var d=u++;!0?(o.vector[c]=this.__cbOnCreateKeyframe[d],++c):--h}if(null!=this.__cbOnceCreateKeyframe){for(var b=null,g=null,u=0,_=this.__cbOnceCreateKeyframe.length;u<_;){var O,d=u++;!0?(o.vector[c]=this.__cbOnceCreateKeyframe[d],this.__cbOnceCreateKeyframe[d]=null,O=this.__cbOnceOwnerUnbindCreateKeyframe[d],(this.__cbOnceOwnerUnbindCreateKeyframe[d]=null)!=O&&O(),++c):(--h,null==b&&(b=[],g=[],0),b.push(this.__cbOnceOwnerUnbindCreateKeyframe[d]),g.push(this.__cbOnceCreateKeyframe[d]))}this.__cbOnceOwnerUnbindCreateKeyframe=b,this.__cbOnceCreateKeyframe=g}for(u=0,_=h;u<_;){c=u++;(0,o.vector[c])(e,n,t,i,l,s,r)}a.release(o)}},onCreateKeyframe:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event createKeyframe because owner is destroyed!");var l=function(e){null!=t&&(i.offCreateKeyframe(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindCreateKeyframe&&(this.__cbOnOwnerUnbindCreateKeyframe=[]),this.__cbOnOwnerUnbindCreateKeyframe.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindCreateKeyframe&&(this.__cbOnOwnerUnbindCreateKeyframe=[]),this.__cbOnOwnerUnbindCreateKeyframe.push(null);null==this.__cbOnCreateKeyframe&&(this.__cbOnCreateKeyframe=[]),this.__cbOnCreateKeyframe.push(t)},onceCreateKeyframe:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event createKeyframe because owner is destroyed!");var l=function(e){null!=t&&(i.offCreateKeyframe(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindCreateKeyframe&&(this.__cbOnceOwnerUnbindCreateKeyframe=[]),this.__cbOnceOwnerUnbindCreateKeyframe.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindCreateKeyframe&&(this.__cbOnceOwnerUnbindCreateKeyframe=[]),this.__cbOnceOwnerUnbindCreateKeyframe.push(null);null==this.__cbOnceCreateKeyframe&&(this.__cbOnceCreateKeyframe=[]),this.__cbOnceCreateKeyframe.push(t)},offCreateKeyframe:function(e){if(null!=e){var n;null!=this.__cbOnCreateKeyframe&&-1!=(n=this.__cbOnCreateKeyframe.indexOf(e))&&(this.__cbOnCreateKeyframe.splice(n,1),null!=(s=this.__cbOnOwnerUnbindCreateKeyframe[n])&&s(),this.__cbOnOwnerUnbindCreateKeyframe.splice(n,1)),null!=this.__cbOnceCreateKeyframe&&-1!=(n=this.__cbOnceCreateKeyframe.indexOf(e))&&(this.__cbOnceCreateKeyframe.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindCreateKeyframe[n])&&s(),this.__cbOnceOwnerUnbindCreateKeyframe.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindCreateKeyframe){for(var t=0,i=this.__cbOnOwnerUnbindCreateKeyframe.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindCreateKeyframe[l])&&s()}this.__cbOnOwnerUnbindCreateKeyframe=null}if(null!=this.__cbOnceOwnerUnbindCreateKeyframe){for(t=0,i=this.__cbOnceOwnerUnbindCreateKeyframe.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindCreateKeyframe[l])&&s()}this.__cbOnceOwnerUnbindCreateKeyframe=null}this.__cbOnCreateKeyframe=null,this.__cbOnceCreateKeyframe=null}},listensCreateKeyframe:function(){return null!=this.__cbOnCreateKeyframe&&0<this.__cbOnCreateKeyframe.length||null!=this.__cbOnceCreateKeyframe&&0<this.__cbOnceCreateKeyframe.length},handleCreateTrack:function(e,n,t){null==t.value&&(null!=n&&1==n.degrees?t.value=new oc:"Float"==e?t.value=new sc:"ceramic.Color"==e?t.value=new nc:"Bool"==e?t.value=new lc:"Array<Float>"==e&&(t.value=new qc))},handleBindTrack:function(e,n,t,o,c){var u;t instanceof sc?t.onChange(o,function(e){L.setProperty(o,c,e.value)}):t instanceof oc?t.onChange(o,function(e){L.setProperty(o,c,e.value)}):t instanceof nc?t.onChange(o,function(e){L.setProperty(o,c,e.value)}):t instanceof lc?t.onChange(o,function(e){L.setProperty(o,c,e.value)}):t instanceof qc&&(u=null!=n&&1==n.copyArray,t.onChange(o,function(e){var n=null,t=((u||null==(n=L.getProperty(o,c)))&&(n=[]),e.value),i=t.length;if(n.length!=i&&n.length!=i)if(n.length>i)n.splice(i,n.length-i);else for(var l=n;l.length<i;)l.push(null);for(var s=0,r=i;s<r;){var h=s++,a=t[h];n[h]=a}L.setProperty(o,c,n)}))},handleCreateKeyframe:function(e,n,t,i,l,s,r){var h;null==r.value&&("Float"==e?null!=s&&s instanceof rc?((h=s).value=t,h.index=i,h.easing=l,r.value=h):r.value=new rc(t,i,l):"ceramic.Color"==e?null!=s&&s instanceof mc?((h=s).value=t,h.index=i,h.easing=l,r.value=h):r.value=new mc(t,i,l):"Bool"==e?null!=s&&s instanceof jc?((h=s).value=t,h.index=i,h.easing=l,r.value=h):r.value=new jc(t,i,l):"Array<Float>"==e&&(null!=s&&s instanceof pc?((h=s).value=[].concat(t),h.index=i,h.easing=l,r.value=h):r.value=new pc(t,i,l)))},unbindEvents:function(){j.prototype.unbindEvents.call(this),this.offCreateTrack(),this.offBindTrack(),this.offCreateKeyframe()},__class__:zt}),function(){}),Yt=((E["ceramic.Timer"]=Gt).__name__="ceramic.Timer",Gt.__properties__={get_timestamp:"get_timestamp"},Gt.get_timestamp=function(){return Gt.startTimestamp+Gt.now},Gt.update=function(e,n){Gt.now+=e,Gt.timestamp=Gt.startTimestamp+Gt.now+n,Gt.next<=Gt.now&&ae.app.beginUpdateCallbacks.push(Gt.flush)},Gt.flush=function(){Gt.next=999999999;for(var e=Gt.callbacks,n=(Gt.callbacks=[],0),t=e.length;n<t;){var i=e[n++];if(!i.cleared)if(null==i.owner||0<=i.owner._lifecycleState)if(i.time<=Gt.now)if(0<=i.interval){for(;i.time<=Gt.now&&!i.cleared&&(i.callback(),0!=i.interval);)i.time+=i.interval;i.cleared||(Gt.callbacks.push(i),Gt.next=Math.min(i.time,Gt.next))}else i.callback();else Gt.callbacks.push(i),Gt.next=Math.min(i.time,Gt.next);else i.cleared=!0}},Gt.delay=function(e,n,t){return Gt.schedule(e,n,t,-1)},Gt.interval=function(e,n,t){return Gt.schedule(e,n,t,n)},Gt.schedule=function(e,n,t,i){var n=Gt.now+n,l=(Gt.next=Math.min(n,Gt.next),new Yt);return l.owner=e,l.callback=t,l.time=n,l.interval=i,Gt.callbacks.push(l),$bind(l,l.clear)},function(){this.cleared=!1,this.interval=-1,this.time=0,this.callback=null,this.owner=null}),Xt=((E["ceramic.TimerCallback"]=Yt).__name__="ceramic.TimerCallback",Yt.prototype={owner:null,callback:null,time:null,interval:null,cleared:null,clear:function(){this.cleared=!0},__class__:Yt},function(e,n,t,i,l){this.index=e,this.x=n,this.y=t,this.deltaX=i,this.deltaY=l}),Kt=((E["ceramic.Touch"]=Xt).__name__="ceramic.Touch",Xt.prototype={index:null,x:null,y:null,deltaX:null,deltaY:null,toString:function(){return""+K.string({index:this.index,x:this.x,y:this.y,deltaX:this.deltaX,deltaY:this.deltaY})},__class__:Xt},function(e,n,t,i,l){this.touchIndex=e,this.buttonId=n,this.x=t,this.y=i,this.hits=l}),e=((E["ceramic.TouchInfo"]=Kt).__name__="ceramic.TouchInfo",Kt.prototype={touchIndex:null,buttonId:null,x:null,y:null,hits:null,toString:function(){return""+K.string({touchIndex:this.touchIndex,buttonId:this.buttonId,x:this.x,y:this.y,hits:this.hits})},__class__:Kt},function(e){this.intMap=e,this.i=0,this.len=this.intMap.values.length}),jt=((E["ceramic.TouchesIterator"]=e).__name__="ceramic.TouchesIterator",e.prototype={intMap:null,i:null,len:null,hasNext:function(){for(;this.i<this.len&&null==this.intMap.values[this.i];)this.i++;return this.i<this.len},next:function(){var e=this.i++;return this.intMap.values[e]},__class__:e},function(){this.backgroundQueue=new Qa}),V=((E["ceramic.TrackerBackend"]=jt).__name__="ceramic.TrackerBackend",jt.prototype={backgroundQueue:null,onceImmediate:function(e){ae.app._onceImmediate(e)},readString:function(e){return ae.app.backend.io.readString(e)},saveString:function(e,n){return ae.app.backend.io.saveString(e,n)},appendString:function(e,n){return ae.app.backend.io.appendString(e,n)},warning:function(e,n){ae.app.logger.warning(e,n)},error:function(e,n){ae.app.logger.error(e,n)},success:function(e,n){ae.app.logger.success(e,n)},runInBackground:function(e){this.backgroundQueue.schedule(e)},runInMain:function(e){qn.runInMain(e)},interval:function(e,n,t){return Gt.schedule(e,n,t,n)},delay:function(e,n,t){return Gt.schedule(e,n,t,-1)},storageDirectory:function(){return null},pathJoin:function(e){return Nn.join(e)},__class__:jt},(E["ceramic.TransformPool"]=Bc).__name__="ceramic.TransformPool",Bc.get=function(){return 0<Bc.availableTransforms.length?Bc.availableTransforms.pop():new l},Bc.recycle=function(e){e.offChange(),e.a=1,e.b=0,e.c=0,e.d=1,e.tx=0,e.ty=0,e._aPrev=1,e._bPrev=0,e._cPrev=0,e._dPrev=1,e._txPrev=0,e._tyPrev=0,e.changed=!1,e.changedDirty=!1,Bc.availableTransforms.push(e)},Bc.clear=function(){0<Bc.availableTransforms.length&&(Bc.availableTransforms=[])},(E["ceramic.Triangle"]=Cc).__name__="ceramic.Triangle",Cc.__super__=za,Cc.prototype=$extend(za.prototype,{set_width:function(e){return za.prototype.set_width.call(this,e),this.vertices[0]=0,this.vertices[1]=this.get_height(),this.vertices[2]=.5*this.get_width(),this.vertices[3]=0,this.vertices[4]=this.get_width(),this.vertices[5]=this.get_height(),e},set_height:function(e){return za.prototype.set_height.call(this,e),this.vertices[0]=0,this.vertices[1]=this.get_height(),this.vertices[2]=.5*this.get_width(),this.vertices[3]=0,this.vertices[4]=this.get_width(),this.vertices[5]=this.get_height(),e},updateVertices:function(){this.vertices[0]=0,this.vertices[1]=this.get_height(),this.vertices[2]=.5*this.get_width(),this.vertices[3]=0,this.vertices[4]=this.get_width(),this.vertices[5]=this.get_height()},__class__:Cc}),function(e,n,t,i,l){this.didTickThisFrame=!1,this.didCallImmediateStart=!1,this.customEasing=null,j.call(this),this.owner=e,this.easing=n,this.duration=t,this.fromValue=i,this.toValue=l,this.value=i,this.time=0,this.init()}),g=((E["ceramic.Tween"]=V).__name__="ceramic.Tween",V.start=function(e,n,t,i,l,s){n=new V(e,null==n?rn.QUAD_EASE_IN_OUT:n,t,i,l);return null!=s&&n.onUpdate(e,s),n},V.eagerStart=function(e,n,t,i,l,s){n=new V(e,null==n?rn.QUAD_EASE_IN_OUT:n,t,i,l);return n.eager=!0,null!=s&&n.onUpdate(e,s),n},V.tick=function(e){for(var n=V._tweens.length,t=0,i=n;t<i;){var l=t++,s=V._tweens[l];V._iteratedTweens[l]=s}for(t=0,i=n;t<i;){var r,l=t++,s=V._iteratedTweens[l];V._iteratedTweens[l]=null,s.didTickThisFrame||0<=s._lifecycleState&&(s.didTickThisFrame=!0,null!=s.owner&&s.owner._lifecycleState<0?s.destroy():(s.remaining-=e,s.remaining<=0?(s.emitUpdate(s.toValue,s.duration),s.emitComplete(),s.destroy()):(r=s.duration-s.remaining,g.k=r/s.duration,g.k,g.customEasing=s.customEasing,null!=s.computedEasing&&s.computedEasing(),g.customEasing=null,s.emitUpdate(s.fromValue+(s.toValue-s.fromValue)*g.k,r))))}},V.endFrame=function(){for(var e=0,n=V._tweens.length;e<n;){var t=e++;V._tweens[t].didTickThisFrame=!1}},V.computeEasing=function(e){switch(e._hx_index){case 0:V._computedEasingFunction=g.none;break;case 1:V._computedEasingFunction=g.linear;break;case 2:V._computedEasingFunction=g.backEaseIn;break;case 3:V._computedEasingFunction=g.backEaseInOut;break;case 4:V._computedEasingFunction=g.backEaseOut;break;case 5:V._computedEasingFunction=g.quadEaseIn;break;case 6:V._computedEasingFunction=g.quadEaseInOut;break;case 7:V._computedEasingFunction=g.quadEaseOut;break;case 8:V._computedEasingFunction=g.cubicEaseIn;break;case 9:V._computedEasingFunction=g.cubicEaseInOut;break;case 10:V._computedEasingFunction=g.cubicEaseOut;break;case 11:V._computedEasingFunction=g.quartEaseIn;break;case 12:V._computedEasingFunction=g.quartEaseInOut;break;case 13:V._computedEasingFunction=g.quartEaseOut;break;case 14:V._computedEasingFunction=g.quintEaseIn;break;case 15:V._computedEasingFunction=g.quintEaseInOut;break;case 16:V._computedEasingFunction=g.quintEaseOut;break;case 17:V._computedEasingFunction=g.bounceEaseIn;break;case 18:V._computedEasingFunction=g.bounceEaseInOut;break;case 19:V._computedEasingFunction=g.bounceEaseOut;break;case 20:V._computedEasingFunction=g.elasticEaseIn;break;case 21:V._computedEasingFunction=g.elasticEaseInOut;break;case 22:V._computedEasingFunction=g.elasticEaseOut;break;case 23:V._computedEasingFunction=g.expoEaseIn;break;case 24:V._computedEasingFunction=g.expoEaseInOut;break;case 25:V._computedEasingFunction=g.expoEaseOut;break;case 26:V._computedEasingFunction=g.sineEaseIn;break;case 27:V._computedEasingFunction=g.sineEaseInOut;break;case 28:V._computedEasingFunction=g.sineEaseOut;break;case 29:var n=e.x1,t=e.y1,i=e.x2,l=e.y2;V._computedEasingFunction=g.custom,V._computedCustomEasing=$bind(b=Ra.get(n,t,i,l),b.ease);break;case 30:n=e.easing;V._computedEasingFunction=g.custom,V._computedCustomEasing=n}},V.ease=function(e,n){switch(g.k=n,e._hx_index){case 0:g.none();break;case 1:g.linear();break;case 2:g.backEaseIn();break;case 3:g.backEaseInOut();break;case 4:g.backEaseOut();break;case 5:g.quadEaseIn();break;case 6:g.quadEaseInOut();break;case 7:g.quadEaseOut();break;case 8:g.cubicEaseIn();break;case 9:g.cubicEaseInOut();break;case 10:g.cubicEaseOut();break;case 11:g.quartEaseIn();break;case 12:g.quartEaseInOut();break;case 13:g.quartEaseOut();break;case 14:g.quintEaseIn();break;case 15:g.quintEaseInOut();break;case 16:g.quintEaseOut();break;case 17:g.bounceEaseIn();break;case 18:g.bounceEaseInOut();break;case 19:g.bounceEaseOut();break;case 20:g.elasticEaseIn();break;case 21:g.elasticEaseInOut();break;case 22:g.elasticEaseOut();break;case 23:g.expoEaseIn();break;case 24:g.expoEaseInOut();break;case 25:g.expoEaseOut();break;case 26:g.sineEaseIn();break;case 27:g.sineEaseInOut();break;case 28:g.sineEaseOut();break;case 29:var t=e.x1,i=e.y1,l=e.x2,s=e.y2;g.customEasing=$bind(b=Ra.get(t,i,l,s),b.ease),g.custom(),g.customEasing=null;break;case 30:t=e.easing;g.customEasing=t,g.custom(),g.customEasing=null}return g.k},V.easingFunction=function(e){switch(e._hx_index){case 0:V._computedEasingFunction=g.none;break;case 1:V._computedEasingFunction=g.linear;break;case 2:V._computedEasingFunction=g.backEaseIn;break;case 3:V._computedEasingFunction=g.backEaseInOut;break;case 4:V._computedEasingFunction=g.backEaseOut;break;case 5:V._computedEasingFunction=g.quadEaseIn;break;case 6:V._computedEasingFunction=g.quadEaseInOut;break;case 7:V._computedEasingFunction=g.quadEaseOut;break;case 8:V._computedEasingFunction=g.cubicEaseIn;break;case 9:V._computedEasingFunction=g.cubicEaseInOut;break;case 10:V._computedEasingFunction=g.cubicEaseOut;break;case 11:V._computedEasingFunction=g.quartEaseIn;break;case 12:V._computedEasingFunction=g.quartEaseInOut;break;case 13:V._computedEasingFunction=g.quartEaseOut;break;case 14:V._computedEasingFunction=g.quintEaseIn;break;case 15:V._computedEasingFunction=g.quintEaseInOut;break;case 16:V._computedEasingFunction=g.quintEaseOut;break;case 17:V._computedEasingFunction=g.bounceEaseIn;break;case 18:V._computedEasingFunction=g.bounceEaseInOut;break;case 19:V._computedEasingFunction=g.bounceEaseOut;break;case 20:V._computedEasingFunction=g.elasticEaseIn;break;case 21:V._computedEasingFunction=g.elasticEaseInOut;break;case 22:V._computedEasingFunction=g.elasticEaseOut;break;case 23:V._computedEasingFunction=g.expoEaseIn;break;case 24:V._computedEasingFunction=g.expoEaseInOut;break;case 25:V._computedEasingFunction=g.expoEaseOut;break;case 26:V._computedEasingFunction=g.sineEaseIn;break;case 27:V._computedEasingFunction=g.sineEaseInOut;break;case 28:V._computedEasingFunction=g.sineEaseOut;break;case 29:var n=e.x1,t=e.y1,i=e.x2,l=e.y2;V._computedEasingFunction=g.custom,V._computedCustomEasing=$bind(b=Ra.get(n,t,i,l),b.ease);break;case 30:n=e.easing;V._computedEasingFunction=g.custom,V._computedCustomEasing=n}var s=V._computedEasingFunction,r=V._computedCustomEasing;return function(e){return g.k=e,g.customEasing=r,s(),g.customEasing=null,g.k}},V.__super__=j,V.prototype=$extend(j.prototype,{__cbOnUpdate:null,__cbOnceUpdate:null,__cbOnOwnerUnbindUpdate:null,__cbOnceOwnerUnbindUpdate:null,emitUpdate:function(e,n){this.willEmitUpdate(e,n);var t=0;if(null!=this.__cbOnUpdate&&(t+=this.__cbOnUpdate.length),null!=this.__cbOnceUpdate&&(t+=this.__cbOnceUpdate.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnUpdate)for(var r=0,h=this.__cbOnUpdate.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnUpdate[a],++s):--t}if(null!=this.__cbOnceUpdate){for(var o=null,c=null,r=0,h=this.__cbOnceUpdate.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceUpdate[a],this.__cbOnceUpdate[a]=null,u=this.__cbOnceOwnerUnbindUpdate[a],(this.__cbOnceOwnerUnbindUpdate[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindUpdate[a]),c.push(this.__cbOnceUpdate[a]))}this.__cbOnceOwnerUnbindUpdate=o,this.__cbOnceUpdate=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onUpdate:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event update because owner is destroyed!");var l=function(e){null!=t&&(i.offUpdate(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindUpdate&&(this.__cbOnOwnerUnbindUpdate=[]),this.__cbOnOwnerUnbindUpdate.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindUpdate&&(this.__cbOnOwnerUnbindUpdate=[]),this.__cbOnOwnerUnbindUpdate.push(null);null==this.__cbOnUpdate&&(this.__cbOnUpdate=[]),this.__cbOnUpdate.push(t)},onceUpdate:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event update because owner is destroyed!");var l=function(e){null!=t&&(i.offUpdate(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindUpdate&&(this.__cbOnceOwnerUnbindUpdate=[]),this.__cbOnceOwnerUnbindUpdate.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindUpdate&&(this.__cbOnceOwnerUnbindUpdate=[]),this.__cbOnceOwnerUnbindUpdate.push(null);null==this.__cbOnceUpdate&&(this.__cbOnceUpdate=[]),this.__cbOnceUpdate.push(t)},offUpdate:function(e){if(null!=e){var n;null!=this.__cbOnUpdate&&-1!=(n=this.__cbOnUpdate.indexOf(e))&&(this.__cbOnUpdate.splice(n,1),null!=(s=this.__cbOnOwnerUnbindUpdate[n])&&s(),this.__cbOnOwnerUnbindUpdate.splice(n,1)),null!=this.__cbOnceUpdate&&-1!=(n=this.__cbOnceUpdate.indexOf(e))&&(this.__cbOnceUpdate.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindUpdate[n])&&s(),this.__cbOnceOwnerUnbindUpdate.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindUpdate){for(var t=0,i=this.__cbOnOwnerUnbindUpdate.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindUpdate[l])&&s()}this.__cbOnOwnerUnbindUpdate=null}if(null!=this.__cbOnceOwnerUnbindUpdate){for(t=0,i=this.__cbOnceOwnerUnbindUpdate.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindUpdate[l])&&s()}this.__cbOnceOwnerUnbindUpdate=null}this.__cbOnUpdate=null,this.__cbOnceUpdate=null}},listensUpdate:function(){return null!=this.__cbOnUpdate&&0<this.__cbOnUpdate.length||null!=this.__cbOnceUpdate&&0<this.__cbOnceUpdate.length},__cbOnComplete:null,__cbOnceComplete:null,__cbOnOwnerUnbindComplete:null,__cbOnceOwnerUnbindComplete:null,emitComplete:function(){var e=0;if(null!=this.__cbOnComplete&&(e+=this.__cbOnComplete.length),null!=this.__cbOnceComplete&&(e+=this.__cbOnceComplete.length),0<e){var n=C.pool(e),t=n.get(),i=0;if(null!=this.__cbOnComplete)for(var l=0,s=this.__cbOnComplete.length;l<s;){var r=l++;!0?(t.vector[i]=this.__cbOnComplete[r],++i):--e}if(null!=this.__cbOnceComplete){for(var h=null,a=null,l=0,s=this.__cbOnceComplete.length;l<s;){var o,r=l++;!0?(t.vector[i]=this.__cbOnceComplete[r],this.__cbOnceComplete[r]=null,o=this.__cbOnceOwnerUnbindComplete[r],(this.__cbOnceOwnerUnbindComplete[r]=null)!=o&&o(),++i):(--e,null==h&&(h=[],a=[],0),h.push(this.__cbOnceOwnerUnbindComplete[r]),a.push(this.__cbOnceComplete[r]))}this.__cbOnceOwnerUnbindComplete=h,this.__cbOnceComplete=a}for(l=0,s=e;l<s;){i=l++;(0,t.vector[i])()}n.release(t)}},onComplete:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event complete because owner is destroyed!");var l=function(e){null!=t&&(i.offComplete(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindComplete&&(this.__cbOnOwnerUnbindComplete=[]),this.__cbOnOwnerUnbindComplete.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindComplete&&(this.__cbOnOwnerUnbindComplete=[]),this.__cbOnOwnerUnbindComplete.push(null);null==this.__cbOnComplete&&(this.__cbOnComplete=[]),this.__cbOnComplete.push(t)},onceComplete:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event complete because owner is destroyed!");var l=function(e){null!=t&&(i.offComplete(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindComplete&&(this.__cbOnceOwnerUnbindComplete=[]),this.__cbOnceOwnerUnbindComplete.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindComplete&&(this.__cbOnceOwnerUnbindComplete=[]),this.__cbOnceOwnerUnbindComplete.push(null);null==this.__cbOnceComplete&&(this.__cbOnceComplete=[]),this.__cbOnceComplete.push(t)},offComplete:function(e){if(null!=e){var n;null!=this.__cbOnComplete&&-1!=(n=this.__cbOnComplete.indexOf(e))&&(this.__cbOnComplete.splice(n,1),null!=(s=this.__cbOnOwnerUnbindComplete[n])&&s(),this.__cbOnOwnerUnbindComplete.splice(n,1)),null!=this.__cbOnceComplete&&-1!=(n=this.__cbOnceComplete.indexOf(e))&&(this.__cbOnceComplete.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindComplete[n])&&s(),this.__cbOnceOwnerUnbindComplete.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindComplete){for(var t=0,i=this.__cbOnOwnerUnbindComplete.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindComplete[l])&&s()}this.__cbOnOwnerUnbindComplete=null}if(null!=this.__cbOnceOwnerUnbindComplete){for(t=0,i=this.__cbOnceOwnerUnbindComplete.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindComplete[l])&&s()}this.__cbOnceOwnerUnbindComplete=null}this.__cbOnComplete=null,this.__cbOnceComplete=null}},listensComplete:function(){return null!=this.__cbOnComplete&&0<this.__cbOnComplete.length||null!=this.__cbOnceComplete&&0<this.__cbOnceComplete.length},owner:null,easing:null,duration:null,remaining:null,fromValue:null,toValue:null,eager:null,computedEasing:null,customEasing:null,didCallImmediateStart:null,didTickThisFrame:null,value:null,time:null,init:function(){if(this.duration<=0)ae.app._onceImmediate($bind(this,this.immediateComplete));else{var e=this.easing;switch(e._hx_index){case 0:V._computedEasingFunction=g.none;break;case 1:V._computedEasingFunction=g.linear;break;case 2:V._computedEasingFunction=g.backEaseIn;break;case 3:V._computedEasingFunction=g.backEaseInOut;break;case 4:V._computedEasingFunction=g.backEaseOut;break;case 5:V._computedEasingFunction=g.quadEaseIn;break;case 6:V._computedEasingFunction=g.quadEaseInOut;break;case 7:V._computedEasingFunction=g.quadEaseOut;break;case 8:V._computedEasingFunction=g.cubicEaseIn;break;case 9:V._computedEasingFunction=g.cubicEaseInOut;break;case 10:V._computedEasingFunction=g.cubicEaseOut;break;case 11:V._computedEasingFunction=g.quartEaseIn;break;case 12:V._computedEasingFunction=g.quartEaseInOut;break;case 13:V._computedEasingFunction=g.quartEaseOut;break;case 14:V._computedEasingFunction=g.quintEaseIn;break;case 15:V._computedEasingFunction=g.quintEaseInOut;break;case 16:V._computedEasingFunction=g.quintEaseOut;break;case 17:V._computedEasingFunction=g.bounceEaseIn;break;case 18:V._computedEasingFunction=g.bounceEaseInOut;break;case 19:V._computedEasingFunction=g.bounceEaseOut;break;case 20:V._computedEasingFunction=g.elasticEaseIn;break;case 21:V._computedEasingFunction=g.elasticEaseInOut;break;case 22:V._computedEasingFunction=g.elasticEaseOut;break;case 23:V._computedEasingFunction=g.expoEaseIn;break;case 24:V._computedEasingFunction=g.expoEaseInOut;break;case 25:V._computedEasingFunction=g.expoEaseOut;break;case 26:V._computedEasingFunction=g.sineEaseIn;break;case 27:V._computedEasingFunction=g.sineEaseInOut;break;case 28:V._computedEasingFunction=g.sineEaseOut;break;case 29:var n=e.x1,t=e.y1,i=e.x2,l=e.y2;V._computedEasingFunction=g.custom,V._computedCustomEasing=$bind(b=Ra.get(n,t,i,l),b.ease);break;case 30:n=e.easing;V._computedEasingFunction=g.custom,V._computedCustomEasing=n}this.computedEasing=V._computedEasingFunction,this.customEasing=V._computedCustomEasing,V._computedEasingFunction=null,V._computedCustomEasing=null,V._tweens.push(this),this.remaining=this.duration,ae.app._onceImmediate($bind(this,this.immediateStart))}},updateFromTick:function(e){0<=this._lifecycleState&&(this.didTickThisFrame=!0,null!=this.owner&&this.owner._lifecycleState<0?this.destroy():(this.remaining-=e,this.remaining<=0?(this.emitUpdate(this.toValue,this.duration),this.emitComplete(),this.destroy()):(e=this.duration-this.remaining,g.k=e/this.duration,g.k,g.customEasing=this.customEasing,null!=this.computedEasing&&this.computedEasing(),g.customEasing=null,this.emitUpdate(this.fromValue+(this.toValue-this.fromValue)*g.k,e))))},willEmitUpdate:function(e,n){this.value=e,this.time=n},immediateComplete:function(){this.emitUpdate(this.toValue,0),this.emitComplete(),this.destroy()},immediateStart:function(){var e;this.didCallImmediateStart||(this.didCallImmediateStart=!0,this.didTickThisFrame)||(this.eager?(e=ae.app.delta,0<=this._lifecycleState&&(this.didTickThisFrame=!0,null!=this.owner&&this.owner._lifecycleState<0?this.destroy():(this.remaining-=e,this.remaining<=0?(this.emitUpdate(this.toValue,this.duration),this.emitComplete(),this.destroy()):(e=this.duration-this.remaining,g.k=e/this.duration,g.k,g.customEasing=this.customEasing,null!=this.computedEasing&&this.computedEasing(),g.customEasing=null,this.emitUpdate(this.fromValue+(this.toValue-this.fromValue)*g.k,e))))):this.emitUpdate(this.fromValue,0))},destroy:function(){this._lifecycleState<=-2||(this._lifecycleState=-2,this.easing=null,this.owner=null,this.computedEasing=null,this.customEasing=null,he.remove(V._tweens,this),this._lifecycleState=-1,j.prototype.destroy.call(this))},unbindEvents:function(){j.prototype.unbindEvents.call(this),this.offUpdate(),this.offComplete()},__class__:V}),function(){}),$t=((E["ceramic._Tween.TweenEasingFunction"]=g).__name__="ceramic._Tween.TweenEasingFunction",g.custom=function(){null!=g.customEasing&&(g.k=g.customEasing(g.k))},g.none=function(){g.k=1<=g.k?1:0},g.linear=function(){},g.backEaseIn=function(){g.k=g.k*g.k*(2.70158*g.k-1.70158)},g.backEaseInOut=function(){var e=1.70158,n=g;(n.k*=2)<1?g.k=g.k*g.k*((1+(e*=1.525))*g.k-e)*.5:(n=g).k=.5*((n.k-=2)*g.k*((1+(e*=1.525))*g.k+e)+2)},g.backEaseOut=function(){g.k=(g.k=g.k-1)*g.k*(2.70158*g.k+1.70158)+1},g.quadEaseIn=function(){g.k*=g.k},g.quadEaseInOut=function(){(g.k*=2)<1?g.k=.5*g.k*g.k:g.k=-.5*((g.k-1)*(g.k-3)-1)},g.quadEaseOut=function(){g.k=-g.k*(g.k-2)},g.cubicEaseIn=function(){g.k=g.k*g.k*g.k},g.cubicEaseInOut=function(){var e;e=(g.k/=.5)<1?.5*g.k*g.k*g.k:.5*((g.k-=2)*g.k*g.k+2),g.k=e},g.cubicEaseOut=function(){g.k=(g.k-1)*(g.k-1)*(g.k-1)+1},g.quartEaseIn=function(){g.k=g.k*g.k*g.k*g.k},g.quartEaseInOut=function(){var e=g;(e.k*=2)<1?g.k=.5*g.k*g.k*g.k*g.k:(e=g).k=-.5*((e.k-=2)*g.k*g.k*g.k-2)},g.quartEaseOut=function(){g.k=-((g.k-1)*(g.k-1)*(g.k-1)*(g.k-1)-1)},g.quintEaseIn=function(){g.k=g.k*g.k*g.k*g.k*g.k},g.quintEaseInOut=function(){var e=g;(e.k*=2)<1?g.k=.5*g.k*g.k*g.k*g.k*g.k:(e=g).k=.5*((e.k-=2)*g.k*g.k*g.k*g.k+2)},g.quintEaseOut=function(){g.k=(g.k-1)*(g.k-1)*(g.k-1)*(g.k-1)*(g.k-1)+1},g.bounceEaseIn=function(){var e=1-g.k,e=(e/=1)<.36363636363636365?7.5625*e*e:e<.7272727272727273?7.5625*(e-=.5454545454545454)*e+.75:e<.9090909090909091?7.5625*(e-=.8181818181818182)*e+.9375:7.5625*(e-=.9545454545454546)*e+.984375;g.k=1-e},g.bounceEaseInOut=function(){var e,n;g.k<.5?(e=1-2*g.k,n=(e/=1)<.36363636363636365?7.5625*e*e:e<.7272727272727273?7.5625*(e-=.5454545454545454)*e+.75:e<.9090909090909091?7.5625*(e-=.8181818181818182)*e+.9375:7.5625*(e-=.9545454545454546)*e+.984375,g.k=.5*(1-n)):(e=2*g.k-1,n=(e/=1)<.36363636363636365?7.5625*e*e:e<.7272727272727273?7.5625*(e-=.5454545454545454)*e+.75:e<.9090909090909091?7.5625*(e-=.8181818181818182)*e+.9375:7.5625*(e-=.9545454545454546)*e+.984375,g.k=.5*n+.5)},g.bounceEaseOut=function(){var e=g.k,e=(e/=1)<.36363636363636365?7.5625*e*e:e<.7272727272727273?7.5625*(e-=.5454545454545454)*e+.75:e<.9090909090909091?7.5625*(e-=.8181818181818182)*e+.9375:7.5625*(e-=.9545454545454546)*e+.984375;g.k=e},g._bounceEaseIn=function(e,n,t,i){e=i-e,i=(e/=i)<.36363636363636365?t*(7.5625*e*e):e<.7272727272727273?t*(7.5625*(e-=.5454545454545454)*e+.75):e<.9090909090909091?t*(7.5625*(e-=.8181818181818182)*e+.9375):t*(7.5625*(e-=.9545454545454546)*e+.984375);return t-i+n},g._bounceEaseOut=function(e,n,t,i){i=(e/=i)<.36363636363636365?t*(7.5625*e*e)+n:e<.7272727272727273?t*(7.5625*(e-=.5454545454545454)*e+.75)+n:e<.9090909090909091?t*(7.5625*(e-=.8181818181818182)*e+.9375)+n:t*(7.5625*(e-=.9545454545454546)*e+.984375)+n;return i},g.elasticEaseIn=function(){var e,n;0!=g.k&&1!=g.k&&(n=(e=.1)<1?(e=1,.1):.4/(2*Math.PI)*Math.asin(1/e),g.k=-(e*Math.exp(6.931471805599453*--g.k)*Math.sin((g.k-n)*(2*Math.PI)/.4)))},g.elasticEaseInOut=function(){var e,n,t;0!=g.k&&(2==((t=g).k*=2)?g.k=1:(n=(e=.44999999999999996)/4,g.k<1?(t=g).k=Math.exp(6.931471805599453*--t.k)*Math.sin((g.k-n)*(2*Math.PI)/e)*-.5:(t=g).k=Math.exp(-6.931471805599453*--t.k)*Math.sin((g.k-n)*(2*Math.PI)/e)*.5+1))},g.elasticEaseOut=function(){var e,n;0!=g.k&&1!=g.k&&(n=(e=.1)<1?(e=1,.1):.4/(2*Math.PI)*Math.asin(1/e),g.k=e*Math.exp(-6.931471805599453*g.k)*Math.sin((g.k-n)*(2*Math.PI)/.4)+1)},g.expoEaseIn=function(){g.k=0==g.k?0:Math.exp(6.931471805599453*(g.k-1))},g.expoEaseInOut=function(){0!=g.k&&1!=g.k&&((g.k/=.5)<1?g.k=.5*Math.exp(6.931471805599453*(g.k-1)):g.k=.5*(2-Math.exp(-6.931471805599453*--g.k)))},g.expoEaseOut=function(){g.k=1==g.k?1:1-Math.exp(-6.931471805599453*g.k)},g.sineEaseIn=function(){g.k=1-Math.cos(g.k*(Math.PI/2))},g.sineEaseInOut=function(){g.k=-(Math.cos(Math.PI*g.k)-1)/2},g.sineEaseOut=function(){g.k=Math.sin(g.k*(Math.PI/2))},function(){}),Qt=((E["ceramic.Utils"]=$t).__name__="ceramic.Utils",$t.realPath=function(e){return e=Nn.isAbsolute(e)||z.startsWith(e,"http://")||z.startsWith(e,"https://")?e:Nn.join([ae.app.settings.assetsPath,e])},$t.getRtti=function(e){return Yn.getRtti(e)},$t.uniqueId=function(){switch($t._nextUniqueIntCursor){case 0:$t._nextUniqueInt0=($t._nextUniqueInt0+1)%2147483647;break;case 1:$t._nextUniqueInt1=($t._nextUniqueInt1+1)%2147483647;break;case 2:$t._nextUniqueInt2=($t._nextUniqueInt2+1)%2147483647;break;case 3:$t._nextUniqueInt3=($t._nextUniqueInt3+1)%2147483647}$t._nextUniqueIntCursor=($t._nextUniqueIntCursor+1)%4;var e,n=$t._nextUniqueInt0,t=(n=null==n?2147483646*Math.random()|0:n)%62|0,i=n/62|0;e=0<i?(c=(n=null==(n=i)?2147483646*Math.random()|0:n)%62|0,(l=0<(i=n/62|0)?(s=$t.base62Id(i))+(r=9<c?(90<(_=c-10+65)&&(_+=6),String.fromCodePoint(_)):K.string(c).charAt(0)):(s=9<c?(90<(_=c-10+65)&&(_+=6),String.fromCodePoint(_)):K.string(c).charAt(0),K.string(s)))+(s=9<t?(90<(_=t-10+65)&&(_+=6),String.fromCodePoint(_)):K.string(t).charAt(0))):(l=9<t?(90<(_=t-10+65)&&(_+=6),String.fromCodePoint(_)):K.string(t).charAt(0),K.string(l));var l,t=(n=null==(n=null)?2147483646*Math.random()|0:n)%62|0;l=0<(i=n/62|0)?(c=(n=null==(n=i)?2147483646*Math.random()|0:n)%62|0,(s=0<(i=n/62|0)?(r=$t.base62Id(i))+(h=9<c?(90<(_=c-10+65)&&(_+=6),String.fromCodePoint(_)):K.string(c).charAt(0)):(r=9<c?(90<(_=c-10+65)&&(_+=6),String.fromCodePoint(_)):K.string(c).charAt(0),K.string(r)))+(r=9<t?(90<(_=t-10+65)&&(_+=6),String.fromCodePoint(_)):K.string(t).charAt(0))):(s=9<t?(90<(_=t-10+65)&&(_+=6),String.fromCodePoint(_)):K.string(t).charAt(0),K.string(s));var s,t=(n=null==(n=$t._nextUniqueInt1)?2147483646*Math.random()|0:n)%62|0;s=0<(i=n/62|0)?(c=(n=null==(n=i)?2147483646*Math.random()|0:n)%62|0,(r=0<(i=n/62|0)?(h=$t.base62Id(i))+(a=9<c?(90<(_=c-10+65)&&(_+=6),String.fromCodePoint(_)):K.string(c).charAt(0)):(h=9<c?(90<(_=c-10+65)&&(_+=6),String.fromCodePoint(_)):K.string(c).charAt(0),K.string(h)))+(h=9<t?(90<(_=t-10+65)&&(_+=6),String.fromCodePoint(_)):K.string(t).charAt(0))):(r=9<t?(90<(_=t-10+65)&&(_+=6),String.fromCodePoint(_)):K.string(t).charAt(0),K.string(r));var r,t=(n=null==(n=null)?2147483646*Math.random()|0:n)%62|0;r=0<(i=n/62|0)?(c=(n=null==(n=i)?2147483646*Math.random()|0:n)%62|0,(h=0<(i=n/62|0)?(a=$t.base62Id(i))+(o=9<c?(90<(_=c-10+65)&&(_+=6),String.fromCodePoint(_)):K.string(c).charAt(0)):(a=9<c?(90<(_=c-10+65)&&(_+=6),String.fromCodePoint(_)):K.string(c).charAt(0),K.string(a)))+(a=9<t?(90<(_=t-10+65)&&(_+=6),String.fromCodePoint(_)):K.string(t).charAt(0))):(h=9<t?(90<(_=t-10+65)&&(_+=6),String.fromCodePoint(_)):K.string(t).charAt(0),K.string(h));var h,t=(n=null==(n=$t._nextUniqueInt2)?2147483646*Math.random()|0:n)%62|0;h=0<(i=n/62|0)?(c=(n=null==(n=i)?2147483646*Math.random()|0:n)%62|0,(a=0<(i=n/62|0)?(o=$t.base62Id(i))+(d=9<c?(90<(_=c-10+65)&&(_+=6),String.fromCodePoint(_)):K.string(c).charAt(0)):(o=9<c?(90<(_=c-10+65)&&(_+=6),String.fromCodePoint(_)):K.string(c).charAt(0),K.string(o)))+(o=9<t?(90<(_=t-10+65)&&(_+=6),String.fromCodePoint(_)):K.string(t).charAt(0))):(a=9<t?(90<(_=t-10+65)&&(_+=6),String.fromCodePoint(_)):K.string(t).charAt(0),K.string(a));var a,t=(n=null==(n=null)?2147483646*Math.random()|0:n)%62|0;a=0<(i=n/62|0)?(c=(n=null==(n=i)?2147483646*Math.random()|0:n)%62|0,(o=0<(i=n/62|0)?(d=$t.base62Id(i))+(u=9<c?(90<(_=c-10+65)&&(_+=6),String.fromCodePoint(_)):K.string(c).charAt(0)):(d=9<c?(90<(_=c-10+65)&&(_+=6),String.fromCodePoint(_)):K.string(c).charAt(0),K.string(d)))+(d=9<t?(90<(_=t-10+65)&&(_+=6),String.fromCodePoint(_)):K.string(t).charAt(0))):(o=9<t?(90<(_=t-10+65)&&(_+=6),String.fromCodePoint(_)):K.string(t).charAt(0),K.string(o));var o,c,u,_,d,t=(n=null==(n=$t._nextUniqueInt3)?2147483646*Math.random()|0:n)%62|0;return d=e+"-"+l+"-"+s+"-"+r+"-"+h+"-"+a+"-"+(o=0<(i=n/62|0)?(c=(n=null==(n=i)?2147483646*Math.random()|0:n)%62|0,(d=0<(i=n/62|0)?(u=$t.base62Id(i))+(9<c?(90<(_=c-10+65)&&(_+=6),String.fromCodePoint(_)):K.string(c).charAt(0)):(u=9<c?(90<(_=c-10+65)&&(_+=6),String.fromCodePoint(_)):K.string(c).charAt(0),K.string(u)))+(u=9<t?(90<(_=t-10+65)&&(_+=6),String.fromCodePoint(_)):K.string(t).charAt(0))):(d=9<t?(90<(_=t-10+65)&&(_+=6),String.fromCodePoint(_)):K.string(t).charAt(0),K.string(d)))},$t.randomId=function(e){null==e&&(e=32);for(var n=[];n.length<e;)for(var t,i,l=null,s=(l=null==l?2147483646*Math.random()|0:l)%62|0,l=l/62|0,r=0,h=(t=0<l?(i=(l=null==(l=l)?2147483646*Math.random()|0:l)%62|0,(0<(l=l/62|0)?$t.base62Id(l)+(9<i?(90<(l=i-10+65)&&(l+=6),String.fromCodePoint(l)):K.string(i).charAt(0)):(l=9<i?(90<(l=i-10+65)&&(l+=6),String.fromCodePoint(l)):K.string(i).charAt(0),K.string(l)))+(9<s?(90<(i=s-10+65)&&(i+=6),String.fromCodePoint(i)):K.string(s).charAt(0))):(i=9<s?(90<(l=s-10+65)&&(l+=6),String.fromCodePoint(l)):K.string(s).charAt(0),K.string(i))).length;r<h;){var a=r++;n.push(t.charAt(a))}return an.shuffle(n),he.substr(n.join(""),0,e)},$t.persistentId=function(e,n){null==n&&(n=32),null==e&&(e=0),null==$t._persistentIds&&($t._persistentIds=new Ll);var t=$t._persistentIds.h[e];if(null==t){if(null!=(t=ae.app.backend.io.readString("persistentId_"+e)))return $t._persistentIds.h[e]=t;t=$t.randomId(n),ae.app.backend.io.saveString("persistentId_"+e,t)||ae.app.logger.warning("Failed to save persistent id ("+t+") at slot "+e,{fileName:"../../../../ceramic/runtime/src/ceramic/Utils.hx",lineNumber:167,className:"ceramic.Utils",methodName:"persistentId"}),$t._persistentIds.h[e]=t}return t},$t.resetPersistentId=function(e){null==e&&(e=0),null!=$t._persistentIds&&$t._persistentIds.remove(e),ae.app.backend.io.saveString("persistentId_"+e,null)},$t.base62Id=function(e){var n,t,i=(e=null==e?2147483646*Math.random()|0:e)%62|0,e=e/62|0;return 0<e?(n=$t.base62Id(e))+(9<i?(90<(t=i-10+65)&&(t+=6),String.fromCodePoint(t)):(null==i?"null":""+i).charAt(0)):(n=9<i?(90<(t=i-10+65)&&(t+=6),String.fromCodePoint(t)):(null==i?"null":""+i).charAt(0),K.string(n))},$t.println=function(e){var n=null;null!=(n=W.electronRunner)?n.consoleLog("[error] "+e):console.log(""+e)},$t.printStackTrace=function(e){null==e&&(e=!1);var n="",t=null,i=null;try{throw new Error}catch(e){i=e}for(var l=(""+K.string(i.stack)).split("\n"),s=l.length-1,r=-1!=navigator.platform.indexOf("Win"),t=W.electronRunner;2<=s;){var h=l[s],h=z.ltrim(h);null!=t&&(h=z.replace(h,"http://localhost:"+K.string(t.serverPort)+"/file:"+(r?"/":""),""),h=z.replace(h,"http://localhost:"+K.string(t.serverPort)+"/",K.string(t.appFiles)+"/"));e||(null!=t?t.consoleLog("[error] "+K.string(h)):console.log(""+K.string(h))),n=(n+=K.string(h))+String.fromCodePoint(10),--s}return n},$t.stackItemToString=function(e){var n=window.sourceMapSupport,t="";switch(e._hx_index){case 0:t="a C function";break;case 1:var i=e.m,l=!1;$t.RE_MODULE_AT.match(i)&&(s=$t.RE_MODULE_AT.matched(1),r=$t.RE_MODULE_AT.matched(2),h=$t.RE_MODULE_AT.matched(3),t=s,null!=r&&(t+=":"+r),l=!0),l||(t="module "+i);break;case 2:var l=e.s,s=e.file,r=e.line,h=e.column;if(null!=n&&!z.endsWith(s,".hx"))try{var a={source:s,line:r,column:h},o=n.mapSourcePosition(a);null!=o&&(s=o.source,r=o.line,h=o.column)}catch(e){Sl.lastError=e}null!=l&&(t=$t.stackItemToString(l)+" ("),t=(t+=s)+" line "+r,null!=l&&(t+=")");break;case 3:t=(t+=e.classname)+"."+e.method;break;case 4:t=t+"local function #"+e.v}return t},$t.radToDeg=function(e){return 57.29577951308232*e},$t.degToRad=function(e){return.017453292519943295*e},$t.round=function(e,n){if(0<(n=null==n?0:n)){for(var t=1;0<n--;)t*=10;return Math.round(e*t)/t}return Math.round(e)},$t.hashCode=function(e){var n=0;if(0!=e.length)for(var t=0,i=e.length;t<i;){var l=t++,n=(n<<5)-n+he.cca(e,l);n&=n}return n},$t.uniformFrequencyList=function(e,n,t){for(var i=[],l=[],s=0,r=e.length;s<r;)l[u=s++]=0;for(s=0,r=n.length;s<r;)l[u=s++]+=n[u];for(s=0,r=t;s<r;){s++;for(var h=0,a=0,o=0,c=e.length;o<c;){var u,_=l[u=o++];a<_&&(h=u,a=_)}i.push(e[h]),--l[h];for(var d=0,b=n.length;d<b;){var g=d++;l[g]+=n[g]}}return i},$t.upperCaseToCamelCase=function(e,n){for(var t="",i=e.length,l=0,s=n=null==n?!0:n;l<i;){var r=e.charAt(l);"_"==r?s=!0:s?(s=!1,t+=K.string(r.toUpperCase())):t+=K.string(r.toLowerCase()),++l}return t},$t.camelCaseToUpperCase=function(e,n){null==n&&(n=!0);for(var t="",i=e.length,l=0,s=!1;l<i;){var r,h=e.charAt(l),s="."!=h&&$t.RE_ASCII_CHAR.match(h)?(r=h.toUpperCase(),h=h==r,s&&h&&(t+="_",s=!1),t+=null==r?"null":""+r,!h):(t+="_",!1);++l}for(var a=t;z.endsWith(a,"_");)a=he.substr(a,0,a.length-1);return a},$t.functionEquals=function(e,n){return e==n},$t.decodeUriParams=function(e){for(var n=new Nl,t=e.split("&"),i=0;i<t.length;){var l,s=t[i],r=(++i,s.indexOf("="));-1!=r&&(l=s.substring(0,r),l=decodeURIComponent(l.split("+").join(" ")),s=s.substring(r+1),r=decodeURIComponent(s.split("+").join(" ")),n.h[l]=r)}return n},$t.sinRatio=function(e){return 1<=e&&(e%=1),.5*(Math.sin(e*Math.PI*2)+1)},$t.cosRatio=function(e){return 1<=e&&(e%=1),.5*(Math.cos(e*Math.PI*2)+1)},$t.valueFromInterpolatedKey=function(e,n,t){var i=e.length-1,l=0;if(t<e[0])l=n[0];else if(t>=e[i])l=n[i];else{for(var s=0,r=1;t>e[r];)++s,++r;i=(t-e[s])/(e[r]-e[s]),l=n[s]+(n[r]-n[s])*i}return l},$t.yFromInterpolatedX=function(e,n){var t=e.length-2,i=0;if(n<e[0])i=e[1];else if(n>=e[t])i=e[1+t];else{for(var l=0,s=2;n>e[s];)l+=2,s+=2;var t=(n-e[l])/(e[s]-e[l]),r=l+1;i=e[r]+(e[s+1]-e[r])*t}return i},$t.command=function(e,n,t,i){null==n&&(n=[]),i(-1,null,null)},$t.replaceIdentifier=function(e,n,t){e=z.replace(e,"\n"," \n "),e=" "+(e=z.replace(e,"\r"," \r "))+" ";var i="(\\s|[^a-zA-Z0-9_])",n=new RegExp(i+n.replace(f.escapeRe,"\\$&")+i,"g".split("u").join("")),i="$1"+z.replace(t,"$","$$")+"$2";return e=(e=e.replace(n,i)).substring(1,e.length-1),e=z.replace(e," \r ","\r"),e=z.replace(e," \n ","\n")},$t.imageTypeFromBytes=function(e){return 255==e.b[0]&&216==e.b[1]&&255==e.b[2]?"jpeg":137==e.b[0]&&80==e.b[1]&&78==e.b[2]&&71==e.b[3]&&13==e.b[4]&&10==e.b[5]&&26==e.b[6]&&10==e.b[7]?"png":null},$t.lerp=function(e,n,t){return e+(n-e)*t},$t.isIos=function(){var e;return-1==$t.isIos_result&&($t.isIos_result=0,e=null!=ce.navigator?ce.navigator.userAgent:"",!!window.MSStream||-1==e.indexOf("iPhone")&&-1==e.indexOf("iPad")&&-1==e.indexOf("iPod")||($t.isIos_result=1)),0!=$t.isIos_result},$t.isAndroid=function(){return-1==$t.isAndroid_result&&($t.isAndroid_result=0,-1!=(null!=ce.navigator?ce.navigator.userAgent:"").toLowerCase().indexOf("android"))&&($t.isAndroid_result=1),0!=$t.isAndroid_result},$t.sign=function(e){return 0<=e?1:-1},function(){this.times=[],this.positions=[]}),qt=((E["ceramic.Velocity"]=Qt).__name__="ceramic.Velocity",Qt.prototype={positions:null,times:null,reset:function(){for(var e=this.times.length;0<e;)this.times.shift(),this.positions.shift(),--e},add:function(e,n){n=Gt.now-(n=null==n?0:n);this.positions.push(e),this.times.push(n),this.prune(n-.15)},get:function(){var e,n=Gt.now,n=(this.prune(n-.15),this.times.length);return n<2||(e=this.positions[n-1]-this.positions[0],(n=this.times[n-1]-this.times[0])<=0)?0:e/Math.max(.15,n)},prune:function(e){for(var n=this.times.length;0<n&&this.times[0]<=e;)this.times.shift(),this.positions.shift(),--n},toString:function(){return""+this.get()},__class__:Qt},function(){b1.call(this),this.set_lateUpdateOrder(7e3)}),Zt=((E["ceramic.ViewSystem"]=qt).__name__="ceramic.ViewSystem",qt.__properties__={set_shared:"set_shared",get_shared:"get_shared"},qt.get_shared=function(){return qt.lazyShared&&(qt.lazyShared=!1,qt.shared=new qt),qt.shared},qt.set_shared=function(e){return qt.shared=e},qt.__super__=b1,qt.prototype=$extend(b1.prototype,{bind:function(){},lateUpdate:function(e){f0._updateViewsLayout(e)},__class__:qt}),(E["ceramic.VisualTransition"]=Kc).__name__="ceramic.VisualTransition",Kc.__interfaces__=[a0],Kc.transition=function(e,n,t,i){var l=e.component("transition");return null==l&&(l=new Kc,e.component("transition",l)),l._run(n,t,!1,i)},Kc.eagerTransition=function(e,n,t,i){var l=e.component("transition");return null==l&&(l=new Kc,e.component("transition",l)),l._run(n,t,!0,i)},Kc.__super__=j,Kc.prototype=$extend(j.prototype,{entity:null,easing:null,duration:null,anyPropertyChanged:null,xChanged:null,xTween:null,xTarget:null,xStart:null,xEnd:null,yChanged:null,yTween:null,yTarget:null,yStart:null,yEnd:null,depthChanged:null,depthTween:null,depthTarget:null,depthStart:null,depthEnd:null,scaleXChanged:null,scaleXTween:null,scaleXTarget:null,scaleXStart:null,scaleXEnd:null,scaleYChanged:null,scaleYTween:null,scaleYTarget:null,scaleYStart:null,scaleYEnd:null,skewXChanged:null,skewXTween:null,skewXTarget:null,skewXStart:null,skewXEnd:null,skewYChanged:null,skewYTween:null,skewYTarget:null,skewYStart:null,skewYEnd:null,anchorXChanged:null,anchorXTween:null,anchorXTarget:null,anchorXStart:null,anchorXEnd:null,anchorYChanged:null,anchorYTween:null,anchorYTarget:null,anchorYStart:null,anchorYEnd:null,rotationChanged:null,rotationTween:null,rotationTarget:null,rotationStart:null,rotationEnd:null,widthChanged:null,widthTween:null,widthTarget:null,widthStart:null,widthEnd:null,heightChanged:null,heightTween:null,heightTarget:null,heightStart:null,heightEnd:null,colorChanged:null,colorTween:null,colorTarget:null,colorStart:null,colorEnd:null,alphaChanged:null,alphaTween:null,alphaTarget:null,alphaStart:null,alphaEnd:null,translateXChanged:null,translateXTween:null,translateXTarget:null,translateXStart:null,translateXEnd:null,translateYChanged:null,translateYTween:null,translateYTarget:null,translateYStart:null,translateYEnd:null,transformChanged:null,transformAssigned:null,transformAssignedInstance:null,transformTween:null,transformTarget:null,transformStart:null,transformEnd:null,transformEndToNull:null,transformInTransition:null,offsetXChanged:null,offsetXTween:null,offsetXTarget:null,offsetXStart:null,offsetXEnd:null,offsetYChanged:null,offsetYTween:null,offsetYTarget:null,offsetYStart:null,offsetYEnd:null,viewWidthChanged:null,viewWidthTween:null,viewWidthTarget:null,viewWidthStart:null,viewWidthEnd:null,viewHeightChanged:null,viewHeightTween:null,viewHeightTarget:null,viewHeightStart:null,viewHeightEnd:null,isView:null,bindAsComponent:function(){this.isView=this.entity instanceof f0},run:function(e,n,t){return this._run(e,n,!1,t)},eagerRun:function(e,n,t){return this._run(e,n,!0,t)},_run:function(e,n,t,i){var s,r,d=this,b=(null==e&&(e=this.easing),-1==n&&(n=this.duration),this.anyPropertyChanged=!1,this.xChanged=!1,this.yChanged=!1,this.depthChanged=!1,this.scaleXChanged=!1,this.scaleYChanged=!1,this.translateXChanged=!1,this.translateYChanged=!1,this.skewXChanged=!1,this.skewYChanged=!1,this.anchorXChanged=!1,this.anchorYChanged=!1,this.rotationChanged=!1,this.widthChanged=!1,this.heightChanged=!1,this.colorChanged=!1,this.alphaChanged=!1,this.transformAssigned=!1,this.transformAssignedInstance=null,this.transformChanged=!1,this.offsetXChanged=!1,this.offsetYChanged=!1,this.viewWidthChanged=!1,this.viewHeightChanged=!1,this.isView?this.entity:null),h=this.entity.x,a=this.entity.y,o=this.entity.depth,c=this.entity.scaleX,u=this.entity.scaleY,_=this.entity,g=null!=_.transform?_.transform.tx:0,O=null!=(_=this.entity).transform?_.transform.ty:0,f=this.entity.skewX,p=this.entity.skewY,C=this.entity.anchorX,v=this.entity.anchorY,w=this.entity.rotation,m=this.entity.get_width(),y=this.entity.get_height(),U=-1,T=!1,D=(null!=this.entity.asQuad?(U=this.entity.asQuad.color,T=!0):null!=this.entity.asMesh&&(U=this.entity.asMesh.get_color(),T=!0),this.entity.alpha),x=null!=this.entity.transform?(s=this.entity.transform,(_=Kc._currentTransform).a=s.a,_.b=s.b,_.c=s.c,_.d=s.d,_.tx=s.tx,_.ty=s.ty,_.changedDirty=!0,(_=Kc._currentTransform)._aPrev=_.a,_._bPrev=_.b,_._cPrev=_.c,_._dPrev=_.d,_._txPrev=_.tx,_._tyPrev=_.ty,_.changed=!1,Kc._currentTransform.changedDirty=!1,Kc._currentTransform):null,S=this.isView?b.offsetX:0,A=this.isView?b.offsetY:0,I=this.isView?b.viewWidth:0,P=this.isView?b.viewHeight:0,F=(this.xTarget=h,this.yTarget=a,this.depthTarget=o,this.scaleXTarget=c,this.scaleYTarget=u,this.translateXTarget=g,this.translateYTarget=O,this.skewXTarget=f,this.skewYTarget=p,this.anchorXTarget=C,this.anchorYTarget=v,this.rotationTarget=w,this.widthTarget=m,this.heightTarget=y,this.colorTarget=U,this.alphaTarget=D,r=null!=x?((_=Kc._targetTransform).a=x.a,_.b=x.b,_.c=x.c,_.d=x.d,_.tx=x.tx,_.ty=x.ty,_.changedDirty=!0,(_=Kc._targetTransform)._aPrev=_.a,_._bPrev=_.b,_._cPrev=_.c,_._dPrev=_.d,_._txPrev=_.tx,_._tyPrev=_.ty,_.changed=!1,Kc._targetTransform.changedDirty=!1,Kc._targetTransform):null,this.transformTarget=r,this.offsetXTarget=S,this.offsetYTarget=A,this.viewWidthTarget=I,this.viewHeightTarget=P,i(this),this.transformChanged||null==this.transformTarget||(this.transformTarget.changedDirty&&(_=this.transformTarget).changedDirty&&(_.changed=_.tx!=_._txPrev||_.ty!=_._tyPrev||_.a!=_._aPrev||_.b!=_._bPrev||_.c!=_._cPrev||_.d!=_._dPrev,_.changedDirty=!1),this.transformTarget.changed&&(this.transformChanged=!0,this.anyPropertyChanged=!0)),null);return this.anyPropertyChanged?(r=function(e,n){var t,i,s,r,h,a,o,c,u,_;d.xTween==F&&d.entity.set_x(d.xStart+(d.xEnd-d.xStart)*e),d.yTween==F&&d.entity.set_y(d.yStart+(d.yEnd-d.yStart)*e),d.depthTween==F&&d.entity.set_depth(d.depthStart+(d.depthEnd-d.depthStart)*e),d.scaleXTween==F&&d.entity.set_scaleX(d.scaleXStart+(d.scaleXEnd-d.scaleXStart)*e),d.scaleYTween==F&&d.entity.set_scaleY(d.scaleYStart+(d.scaleYEnd-d.scaleYStart)*e),d.translateXTween==F&&(t=d.entity,0==(r=d.translateXStart+(d.translateXEnd-d.translateXStart)*e)?null!=t.transform&&0!=t.transform.tx&&(t.transform.tx=0,t.transform.changedDirty=!0):(null==t.transform&&t.set_transform(new l),t.transform.tx!=r&&(t.transform.tx=r,t.transform.changedDirty=!0))),d.translateYTween==F&&(t=d.entity,0==(r=d.translateYStart+(d.translateYEnd-d.translateYStart)*e)?null!=t.transform&&0!=t.transform.ty&&(t.transform.ty=0,t.transform.changedDirty=!0):(null==t.transform&&t.set_transform(new l),t.transform.ty!=r&&(t.transform.ty=r,t.transform.changedDirty=!0))),d.skewXTween==F&&d.entity.set_skewX(d.skewXStart+(d.skewXEnd-d.skewXStart)*e),d.skewYTween==F&&d.entity.set_skewY(d.skewYStart+(d.skewYEnd-d.skewYStart)*e),d.anchorXTween==F&&d.entity.set_anchorX(d.anchorXStart+(d.anchorXEnd-d.anchorXStart)*e),d.anchorYTween==F&&d.entity.set_anchorY(d.anchorYStart+(d.anchorYEnd-d.anchorYStart)*e),d.rotationTween==F&&d.entity.set_rotation(d.rotationStart+(d.rotationEnd-d.rotationStart)*e),d.widthTween==F&&d.entity.set_width(d.widthStart+(d.widthEnd-d.widthStart)*e),d.heightTween==F&&d.entity.set_height(d.heightStart+(d.heightEnd-d.heightStart)*e),d.colorTween==F&&(null!=d.entity.asQuad?(i=d.colorStart,h=(((u=d.colorEnd)>>16&255)-(i>>16&255))*(o=null==(o=e)?.5:o)+(i>>16&255)|0,d.entity.asQuad.color=((0&65535|(255<h?255:h<0?0:h)<<16)&16711935|(255<(_=((u>>8&255)-(i>>8&255))*o+(i>>8&255)|0)?255:_<0?0:_)<<8)&16776960|(255<(s=((255&u)-(255&i))*o+(255&i)|0)?255:s<0?0:s)):null!=d.entity.asMesh?(i=d.colorStart,h=(((u=d.colorEnd)>>16&255)-(i>>16&255))*(o=null==(o=e)?.5:o)+(i>>16&255)|0,d.entity.asMesh.set_color(((0&65535|(255<h?255:h<0?0:h)<<16)&16711935|(255<(_=((u>>8&255)-(i>>8&255))*o+(i>>8&255)|0)?255:_<0?0:_)<<8)&16776960|(255<(s=((255&u)-(255&i))*o+(255&i)|0)?255:s<0?0:s))):(i=d.colorStart,h=(((u=d.colorEnd)>>16&255)-(i>>16&255))*(o=null==(o=e)?.5:o)+(i>>16&255)|0,L.setProperty(d.entity,"color",((0&65535|(255<h?255:h<0?0:h)<<16)&16711935|(255<(_=((u>>8&255)-(i>>8&255))*o+(i>>8&255)|0)?255:_<0?0:_)<<8)&16776960|(255<(s=((255&u)-(255&i))*o+(255&i)|0)?255:s<0?0:s)))),d.alphaTween==F&&d.entity.set_alpha(d.alphaStart+(d.alphaEnd-d.alphaStart)*e),d.transformTween==F&&(1==e&&d.transformAssigned?d.entity.set_transform(d.transformAssignedInstance):(d.transformAssigned&&0==e&&d.entity.set_transform(null),null==d.entity.transform&&(null==d.transformInTransition&&(r=0<Bc.availableTransforms.length?Bc.availableTransforms.pop():new l,d.transformInTransition=r),d.entity.set_transform(d.transformInTransition)),h=null!=d.transformStart?d.transformStart:Kc._identityTransform,_=null!=d.transformEnd?d.transformEnd:Kc._identityTransform,t=d.entity.transform,0==e?(t.a=h.a,t.b=h.b,t.c=h.c,t.d=h.d,t.tx=h.tx,t.ty=h.ty):1==e?(t.a=_.a,t.b=_.b,t.c=_.c,t.d=_.d,t.tx=_.tx,t.ty=_.ty):((u=null==(u=l._decomposed1)?new k:u).pivotX=0,u.pivotY=0,u.skewX=-Math.atan2(-h.c,h.d),u.skewY=Math.atan2(h.b,h.a),Math.abs(u.skewX+u.skewY)<1e-5&&(u.rotation=u.skewY,h.a<0&&0<=h.d&&(u.rotation+=u.rotation<=0?Math.PI:-Math.PI),u.skewX=0,u.skewY=0),u.scaleX=Math.sqrt(h.a*h.a+h.b*h.b),u.scaleY=Math.sqrt(h.c*h.c+h.d*h.d),u.x=h.tx,u.y=h.ty,(u=null==(u=l._decomposed2)?new k:u).pivotX=0,u.pivotY=0,u.skewX=-Math.atan2(-_.c,_.d),u.skewY=Math.atan2(_.b,_.a),Math.abs(u.skewX+u.skewY)<1e-5&&(u.rotation=u.skewY,_.a<0&&0<=_.d&&(u.rotation+=u.rotation<=0?Math.PI:-Math.PI),u.skewX=0,u.skewY=0),u.scaleX=Math.sqrt(_.a*_.a+_.b*_.b),u.scaleY=Math.sqrt(_.c*_.c+_.d*_.d),u.x=_.tx,u.y=_.ty,l._decomposed1.pivotX+=(l._decomposed2.pivotX-l._decomposed1.pivotX)*e,l._decomposed1.pivotY+=(l._decomposed2.pivotY-l._decomposed1.pivotY)*e,l._decomposed1.rotation+=(l._decomposed2.rotation-l._decomposed1.rotation)*e,l._decomposed1.scaleX+=(l._decomposed2.scaleX-l._decomposed1.scaleX)*e,l._decomposed1.scaleY+=(l._decomposed2.scaleY-l._decomposed1.scaleY)*e,l._decomposed1.skewX+=(l._decomposed2.skewX-l._decomposed1.skewX)*e,l._decomposed1.skewY+=(l._decomposed2.skewY-l._decomposed1.skewY)*e,l._decomposed1.x+=(l._decomposed2.x-l._decomposed1.x)*e,l._decomposed1.y+=(l._decomposed2.y-l._decomposed1.y)*e,i=(o=l._decomposed1).x,s=o.y,r=o.scaleX,h=o.scaleY,u=o.rotation,_=o.skewX,c=o.skewY,a=o.pivotX,null==(o=o.pivotY)&&(o=0),null==a&&(a=0),null==c&&(c=0),null==_&&(_=0),null==u&&(u=0),null==h&&(h=1),null==r&&(r=1),null==s&&(s=0),null==i&&(i=0),t.a=1,t.b=0,t.c=0,t.d=1,t.tx=0,t.ty=0,t.changedDirty=!0,t.tx+=-a,t.ty+=-o,t.changedDirty=!0,0!=_&&(t.c=_*Math.PI/180),0!=c&&(t.b=c*Math.PI/180),0!=u&&(_=u*Math.PI/180,c=Math.cos(_),u=Math.sin(_),_=t.a*c-t.b*u,t.b=t.a*u+t.b*c,t.a=_,_=t.c*c-t.d*u,t.d=t.c*u+t.d*c,t.c=_,_=t.tx*c-t.ty*u,t.ty=t.tx*u+t.ty*c,t.tx=_,t.changedDirty=!0),t.tx+=a,t.ty+=o,t.changedDirty=!0,1==r&&1==h||(t.a*=r,t.b*=h,t.c*=r,t.d*=h,t.tx*=r,t.ty*=h,t.changedDirty=!0),t.tx+=i-a*r,t.ty+=s-o*h),t.changedDirty=!0)),d.offsetXTween==F&&b.set_offsetX(d.offsetXStart+(d.offsetXEnd-d.offsetXStart)*e),d.offsetYTween==F&&b.set_offsetY(d.offsetYStart+(d.offsetYEnd-d.offsetYStart)*e),d.viewWidthTween==F&&b.set_viewWidth(d.viewWidthStart+(d.viewWidthEnd-d.viewWidthStart)*e),d.viewHeightTween==F&&b.set_viewHeight(d.viewHeightStart+(d.viewHeightEnd-d.viewHeightStart)*e)},F=t?this.entity.eagerTween(e,n,0,1,r):this.entity.tween(e,n,0,1,r),r=null,F.onDestroy(this,function(e){d.xTween==e&&(d.xTween=null),d.yTween==e&&(d.yTween=null),d.depthTween==e&&(d.depthTween=null),d.scaleXTween==e&&(d.scaleXTween=null),d.scaleYTween==e&&(d.scaleYTween=null),d.translateXTween==e&&(d.translateXTween=null),d.translateYTween==e&&(d.translateYTween=null),d.skewXTween==e&&(d.skewXTween=null),d.skewYTween==e&&(d.skewYTween=null),d.anchorXTween==e&&(d.anchorXTween=null),d.anchorYTween==e&&(d.anchorYTween=null),d.rotationTween==e&&(d.rotationTween=null),d.widthTween==e&&(d.widthTween=null),d.heightTween==e&&(d.heightTween=null),d.colorTween==e&&(d.colorTween=null),d.alphaTween==e&&(d.alphaTween=null),d.transformTween==e&&(d.transformTween=null),d.offsetXTween==e&&(d.offsetXTween=null),d.offsetYTween==e&&(d.offsetYTween=null),d.viewWidthTween==e&&(d.viewWidthTween=null),d.viewHeightTween==e&&(d.viewHeightTween=null)}),this.xChanged&&(this.xTween=F,this.xStart=h,this.xEnd=this.xTarget),this.yChanged&&(this.yTween=F,this.yStart=a,this.yEnd=this.yTarget),this.depthChanged&&(this.depthTween=F,this.depthStart=o,this.depthEnd=this.depthTarget),this.scaleXChanged&&(this.scaleXTween=F,this.scaleXStart=c,this.scaleXEnd=this.scaleXTarget),this.scaleYChanged&&(this.scaleYTween=F,this.scaleYStart=u,this.scaleYEnd=this.scaleYTarget),this.translateXChanged&&(this.translateXTween=F,this.translateXStart=g,this.translateXEnd=this.translateXTarget),this.translateYChanged&&(this.translateYTween=F,this.translateYStart=O,this.translateYEnd=this.translateYTarget),this.skewXChanged&&(this.skewXTween=F,this.skewXStart=f,this.skewXEnd=this.skewXTarget),this.skewYChanged&&(this.skewYTween=F,this.skewYStart=p,this.skewYEnd=this.skewYTarget),this.anchorXChanged&&(this.anchorXTween=F,this.anchorXStart=C,this.anchorXEnd=this.anchorXTarget),this.anchorYChanged&&(this.anchorYTween=F,this.anchorYStart=v,this.anchorYEnd=this.anchorYTarget),this.rotationChanged&&(this.rotationTween=F,this.rotationStart=ab.clampDegrees(w),this.rotationEnd=ab.clampDegrees(this.rotationTarget),180<(i=this.rotationEnd-this.rotationStart)?this.rotationEnd-=360:i<-180&&(this.rotationEnd+=360)),this.widthChanged&&(this.widthTween=F,this.widthStart=m,this.widthEnd=this.widthTarget),this.heightChanged&&(this.heightTween=F,this.heightStart=y,this.heightEnd=this.heightTarget),this.colorChanged&&(this.colorTween=F,T||(T=!0,U=L.getProperty(this.entity,"color")),this.colorStart=U,this.colorEnd=this.colorTarget),this.alphaChanged&&(this.alphaTween=F,this.alphaStart=D,this.alphaEnd=this.alphaTarget),this.transformChanged&&(this.transformTween=F,null!=x?(null==this.transformStart&&(this.transformStart=0<Bc.availableTransforms.length?Bc.availableTransforms.pop():new l),(_=this.transformStart).a=x.a,_.b=x.b,_.c=x.c,_.d=x.d,_.tx=x.tx,_.ty=x.ty,_.changedDirty=!0):null!=this.transformStart&&((_=this.transformStart).a=1,_.b=0,_.c=0,_.d=1,_.tx=0,_.ty=0,_.changedDirty=!0),null!=this.transformTarget?(null==this.transformEnd&&(this.transformEnd=0<Bc.availableTransforms.length?Bc.availableTransforms.pop():new l),_=this.transformEnd,s=this.transformTarget,_.a=s.a,_.b=s.b,_.c=s.c,_.d=s.d,_.tx=s.tx,_.ty=s.ty,_.changedDirty=!0,this.transformEndToNull=!1):null!=this.transformEnd&&((_=this.transformEnd).a=1,_.b=0,_.c=0,_.d=1,_.tx=0,_.ty=0,_.changedDirty=!0,this.transformEndToNull=!0)),this.offsetXChanged&&(this.offsetXTween=F,this.offsetXStart=S,this.offsetXEnd=this.offsetXTarget),this.offsetYChanged&&(this.offsetYTween=F,this.offsetYStart=A,this.offsetYEnd=this.offsetYTarget),this.viewWidthChanged&&(this.viewWidthTween=F,this.viewWidthStart=I,this.viewWidthEnd=this.viewWidthTarget),this.viewHeightChanged&&(this.viewHeightTween=F,this.viewHeightStart=P,this.viewHeightEnd=this.viewHeightTarget)):F=t?this.entity.eagerTween(e,n,0,1,null):this.entity.tween(e,n,0,1,null),F},destroy:function(){this._lifecycleState<=-2||(this._lifecycleState=-2,null!=this.transformInTransition&&(Bc.recycle(this.transformInTransition),this.transformInTransition=null),null!=this.transformStart&&(Bc.recycle(this.transformStart),this.transformStart=null),null!=this.transformEnd&&(Bc.recycle(this.transformEnd),this.transformEnd=null),this._lifecycleState=-1,j.prototype.destroy.call(this))},setEntity:function(e){this.entity=e instanceof o?e:null},getEntity:function(){return this.entity},initializerName:null,__class__:Kc}),{}),Jt=(Zt.__properties__={set_viewHeight:"set_viewHeight",get_viewHeight:"get_viewHeight",set_viewWidth:"set_viewWidth",get_viewWidth:"get_viewWidth",set_offsetY:"set_offsetY",get_offsetY:"get_offsetY",set_offsetX:"set_offsetX",get_offsetX:"get_offsetX",set_transform:"set_transform",get_transform:"get_transform",set_alpha:"set_alpha",get_alpha:"get_alpha",set_color:"set_color",get_color:"get_color",set_height:"set_height",get_height:"get_height",set_width:"set_width",get_width:"get_width",set_rotation:"set_rotation",get_rotation:"get_rotation",set_anchorY:"set_anchorY",get_anchorY:"get_anchorY",set_anchorX:"set_anchorX",get_anchorX:"get_anchorX",set_skewY:"set_skewY",get_skewY:"get_skewY",set_skewX:"set_skewX",get_skewX:"get_skewX",set_translateY:"set_translateY",get_translateY:"get_translateY",set_translateX:"set_translateX",get_translateX:"get_translateX",set_scaleY:"set_scaleY",get_scaleY:"get_scaleY",set_scaleX:"set_scaleX",get_scaleX:"get_scaleX",set_depth:"set_depth",get_depth:"get_depth",set_y:"set_y",get_y:"get_y",set_x:"set_x",get_x:"get_x"},Zt.get_x=function(e){return e.xTarget},Zt.set_x=function(e,n){return null!=e.xTween&&n==e.xEnd||(e.anyPropertyChanged=!0,e.xChanged=!0),e.xTarget=n},Zt.get_y=function(e){return e.yTarget},Zt.set_y=function(e,n){return null!=e.yTween&&n==e.yEnd||(e.anyPropertyChanged=!0,e.yChanged=!0),e.yTarget=n},Zt.pos=function(e,n,t){null!=e.xTween&&n==e.xEnd||(e.anyPropertyChanged=!0,e.xChanged=!0),e.xTarget=n,null!=e.yTween&&t==e.yEnd||(e.anyPropertyChanged=!0,e.yChanged=!0),e.yTarget=t},Zt.get_depth=function(e){return e.depthTarget},Zt.set_depth=function(e,n){return null!=e.depthTween&&n==e.depthEnd||(e.anyPropertyChanged=!0,e.depthChanged=!0),e.depthTarget=n},Zt.get_scaleX=function(e){return e.scaleXTarget},Zt.set_scaleX=function(e,n){return null!=e.scaleXTween&&n==e.scaleXEnd||(e.anyPropertyChanged=!0,e.scaleXChanged=!0),e.scaleXTarget=n},Zt.get_scaleY=function(e){return e.scaleYTarget},Zt.set_scaleY=function(e,n){return null!=e.scaleYTween&&n==e.scaleYEnd||(e.anyPropertyChanged=!0,e.scaleYChanged=!0),e.scaleYTarget=n},Zt.scale=function(e,n,t){null==t&&(t=-1),null!=e.scaleXTween&&n==e.scaleXEnd||(e.anyPropertyChanged=!0,e.scaleXChanged=!0),e.scaleXTarget=n;t=-1!=t?t:n;null!=e.scaleYTween&&t==e.scaleYEnd||(e.anyPropertyChanged=!0,e.scaleYChanged=!0),e.scaleYTarget=t},Zt.get_translateX=function(e){return e.translateXTarget},Zt.set_translateX=function(e,n){return null!=e.translateXTween&&n==e.translateXEnd||(e.anyPropertyChanged=!0,e.translateXChanged=!0),e.translateXTarget=n},Zt.get_translateY=function(e){return e.translateYTarget},Zt.set_translateY=function(e,n){return null!=e.translateYTween&&n==e.translateYEnd||(e.anyPropertyChanged=!0,e.translateYChanged=!0),e.translateYTarget=n},Zt.translate=function(e,n,t){null==t&&(t=-1),null!=e.translateXTween&&n==e.translateXEnd||(e.anyPropertyChanged=!0,e.translateXChanged=!0),e.translateXTarget=n;t=-1!=t?t:n;null!=e.translateYTween&&t==e.translateYEnd||(e.anyPropertyChanged=!0,e.translateYChanged=!0),e.translateYTarget=t},Zt.get_skewX=function(e){return e.skewXTarget},Zt.set_skewX=function(e,n){return null!=e.skewXTween&&n==e.skewXEnd||(e.anyPropertyChanged=!0,e.skewXChanged=!0),e.skewXTarget=n},Zt.get_skewY=function(e){return e.skewYTarget},Zt.set_skewY=function(e,n){return null!=e.skewYTween&&n==e.skewYEnd||(e.anyPropertyChanged=!0,e.skewYChanged=!0),e.skewYTarget=n},Zt.skew=function(e,n,t){null!=e.skewXTween&&n==e.skewXEnd||(e.anyPropertyChanged=!0,e.skewXChanged=!0),e.skewXTarget=n,null!=e.skewYTween&&t==e.skewYEnd||(e.anyPropertyChanged=!0,e.skewYChanged=!0),e.skewYTarget=t},Zt.get_anchorX=function(e){return e.anchorXTarget},Zt.set_anchorX=function(e,n){return null!=e.anchorXTween&&n==e.anchorXEnd||(e.anyPropertyChanged=!0,e.anchorXChanged=!0),e.anchorXTarget=n},Zt.get_anchorY=function(e){return e.anchorYTarget},Zt.set_anchorY=function(e,n){return null!=e.anchorYTween&&n==e.anchorYEnd||(e.anyPropertyChanged=!0,e.anchorYChanged=!0),e.anchorYTarget=n},Zt.anchor=function(e,n,t){null!=e.anchorXTween&&n==e.anchorXEnd||(e.anyPropertyChanged=!0,e.anchorXChanged=!0),e.anchorXTarget=n,null!=e.anchorYTween&&t==e.anchorYEnd||(e.anyPropertyChanged=!0,e.anchorYChanged=!0),e.anchorYTarget=t},Zt.get_rotation=function(e){return e.rotationTarget},Zt.set_rotation=function(e,n){return null!=e.rotationTween&&n==e.rotationEnd||(e.anyPropertyChanged=!0,e.rotationChanged=!0),e.rotationTarget=n},Zt.get_width=function(e){return e.widthTarget},Zt.set_width=function(e,n){return null!=e.widthTween&&n==e.widthEnd||(e.anyPropertyChanged=!0,e.widthChanged=!0),e.widthTarget=n},Zt.get_height=function(e){return e.heightTarget},Zt.set_height=function(e,n){return null!=e.heightTween&&n==e.heightEnd||(e.anyPropertyChanged=!0,e.heightChanged=!0),e.heightTarget=n},Zt.size=function(e,n,t){null!=e.widthTween&&n==e.widthEnd||(e.anyPropertyChanged=!0,e.widthChanged=!0),e.widthTarget=n,null!=e.heightTween&&t==e.heightEnd||(e.anyPropertyChanged=!0,e.heightChanged=!0),e.heightTarget=t},Zt.get_color=function(e){return e.colorTarget},Zt.set_color=function(e,n){return null!=e.colorTween&&n==e.colorEnd||(e.anyPropertyChanged=!0,e.colorChanged=!0),e.colorTarget=n},Zt.get_alpha=function(e){return e.alphaTarget},Zt.set_alpha=function(e,n){return null!=e.alphaTween&&n==e.alphaEnd||(e.anyPropertyChanged=!0,e.alphaChanged=!0),e.alphaTarget=n},Zt.get_transform=function(e){return e.transformTarget},Zt.set_transform=function(e,n){return e.anyPropertyChanged=!0,e.transformChanged=!0,e.transformAssigned=!0,e.transformAssignedInstance=n,e.transformTarget=n},Zt.get_offsetX=function(e){return e.offsetXTarget},Zt.set_offsetX=function(e,n){return null!=e.offsetXTween&&n==e.offsetXEnd||(e.anyPropertyChanged=!0,e.offsetXChanged=!0),e.offsetXTarget=n},Zt.get_offsetY=function(e){return e.offsetYTarget},Zt.set_offsetY=function(e,n){return null!=e.offsetYTween&&n==e.offsetYEnd||(e.anyPropertyChanged=!0,e.offsetYChanged=!0),e.offsetYTarget=n},Zt.offset=function(e,n,t){null!=e.offsetXTween&&n==e.offsetXEnd||(e.anyPropertyChanged=!0,e.offsetXChanged=!0),e.offsetXTarget=n,null!=e.offsetYTween&&t==e.offsetYEnd||(e.anyPropertyChanged=!0,e.offsetYChanged=!0),e.offsetYTarget=t},Zt.get_viewWidth=function(e){return e.viewWidthTarget},Zt.set_viewWidth=function(e,n){return null!=e.viewWidthTween&&n==e.viewWidthEnd||(e.anyPropertyChanged=!0,e.viewWidthChanged=!0),e.viewWidthTarget=n},Zt.get_viewHeight=function(e){return e.viewHeightTarget},Zt.set_viewHeight=function(e,n){return null!=e.viewHeightTween&&n==e.viewHeightEnd||(e.anyPropertyChanged=!0,e.viewHeightChanged=!0),e.viewHeightTarget=n},Zt.viewSize=function(e,n,t){null!=e.viewWidthTween&&n==e.viewWidthEnd||(e.anyPropertyChanged=!0,e.viewWidthChanged=!0),e.viewWidthTarget=n,null!=e.viewHeightTween&&t==e.viewHeightEnd||(e.anyPropertyChanged=!0,e.viewHeightChanged=!0),e.viewHeightTarget=t},function(e){this.completionCallback=e,this.pending=0,this.complete=!1}),ei=((E["ceramic.WaitCallbacks"]=Jt).__name__="ceramic.WaitCallbacks",Jt.prototype={completionCallback:null,pending:null,complete:null,callback:function(){var e=this;if(this.complete)throw $.thrown("Cannot register new callbacks after completion");this.pending++;var n=!1;return function(){n||(n=!0,e.pending--,0!=e.pending)||e.complete||(e.complete=!0,e.completionCallback())}},__class__:Jt},function(e){null==e&&(e=1),this.chokidarWatchers=null,this.chokidarUpdatedFilesByWatchedDirectory=null,this.startingToWatchDirectories=null,this.watchedDirectories=null,j.call(this),ei.didTryRequireChokidar||(ei.didTryRequireChokidar=!0,ei.fs=Yn.nodeRequire("fs"),null!=ei.fs&&(ei.chokidar=Yn.nodeRequire("chokidar"))),this.updateInterval=e,Gt.schedule(this,e,$bind(this,this.tick),e)}),ee=((E["ceramic.WatchDirectory"]=ei).__name__="ceramic.WatchDirectory",ei.__super__=j,ei.prototype=$extend(j.prototype,{__cbOnDirectoryChange:null,__cbOnceDirectoryChange:null,__cbOnOwnerUnbindDirectoryChange:null,__cbOnceOwnerUnbindDirectoryChange:null,emitDirectoryChange:function(e,n,t){var i=0;if(null!=this.__cbOnDirectoryChange&&(i+=this.__cbOnDirectoryChange.length),null!=this.__cbOnceDirectoryChange&&(i+=this.__cbOnceDirectoryChange.length),0<i){var l=C.pool(i),s=l.get(),r=0;if(null!=this.__cbOnDirectoryChange)for(var h=0,a=this.__cbOnDirectoryChange.length;h<a;){var o=h++;!0?(s.vector[r]=this.__cbOnDirectoryChange[o],++r):--i}if(null!=this.__cbOnceDirectoryChange){for(var c=null,u=null,h=0,a=this.__cbOnceDirectoryChange.length;h<a;){var _,o=h++;!0?(s.vector[r]=this.__cbOnceDirectoryChange[o],this.__cbOnceDirectoryChange[o]=null,_=this.__cbOnceOwnerUnbindDirectoryChange[o],(this.__cbOnceOwnerUnbindDirectoryChange[o]=null)!=_&&_(),++r):(--i,null==c&&(c=[],u=[],0),c.push(this.__cbOnceOwnerUnbindDirectoryChange[o]),u.push(this.__cbOnceDirectoryChange[o]))}this.__cbOnceOwnerUnbindDirectoryChange=c,this.__cbOnceDirectoryChange=u}for(h=0,a=i;h<a;){r=h++;(0,s.vector[r])(e,n,t)}l.release(s)}},onDirectoryChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event directoryChange because owner is destroyed!");var l=function(e){null!=t&&(i.offDirectoryChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindDirectoryChange&&(this.__cbOnOwnerUnbindDirectoryChange=[]),this.__cbOnOwnerUnbindDirectoryChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindDirectoryChange&&(this.__cbOnOwnerUnbindDirectoryChange=[]),this.__cbOnOwnerUnbindDirectoryChange.push(null);null==this.__cbOnDirectoryChange&&(this.__cbOnDirectoryChange=[]),this.__cbOnDirectoryChange.push(t)},onceDirectoryChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event directoryChange because owner is destroyed!");var l=function(e){null!=t&&(i.offDirectoryChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindDirectoryChange&&(this.__cbOnceOwnerUnbindDirectoryChange=[]),this.__cbOnceOwnerUnbindDirectoryChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindDirectoryChange&&(this.__cbOnceOwnerUnbindDirectoryChange=[]),this.__cbOnceOwnerUnbindDirectoryChange.push(null);null==this.__cbOnceDirectoryChange&&(this.__cbOnceDirectoryChange=[]),this.__cbOnceDirectoryChange.push(t)},offDirectoryChange:function(e){if(null!=e){var n;null!=this.__cbOnDirectoryChange&&-1!=(n=this.__cbOnDirectoryChange.indexOf(e))&&(this.__cbOnDirectoryChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindDirectoryChange[n])&&s(),this.__cbOnOwnerUnbindDirectoryChange.splice(n,1)),null!=this.__cbOnceDirectoryChange&&-1!=(n=this.__cbOnceDirectoryChange.indexOf(e))&&(this.__cbOnceDirectoryChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindDirectoryChange[n])&&s(),this.__cbOnceOwnerUnbindDirectoryChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindDirectoryChange){for(var t=0,i=this.__cbOnOwnerUnbindDirectoryChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindDirectoryChange[l])&&s()}this.__cbOnOwnerUnbindDirectoryChange=null}if(null!=this.__cbOnceOwnerUnbindDirectoryChange){for(t=0,i=this.__cbOnceOwnerUnbindDirectoryChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindDirectoryChange[l])&&s()}this.__cbOnceOwnerUnbindDirectoryChange=null}this.__cbOnDirectoryChange=null,this.__cbOnceDirectoryChange=null}},listensDirectoryChange:function(){return null!=this.__cbOnDirectoryChange&&0<this.__cbOnDirectoryChange.length||null!=this.__cbOnceDirectoryChange&&0<this.__cbOnceDirectoryChange.length},updateInterval:null,watchedDirectories:null,startingToWatchDirectories:null,chokidarUpdatedFilesByWatchedDirectory:null,chokidarWatchers:null,watchDirectory:function(t){var i=this;null==this.watchedDirectories&&(this.watchedDirectories=new Nl),null==this.startingToWatchDirectories&&(this.startingToWatchDirectories=new Nl),this.startingToWatchDirectories.h[t]=!0,qn.runInBackground(function(){var n=i.computeFilesModificationTime(t);qn.runInMain(function(){var e;Object.prototype.hasOwnProperty.call(i.startingToWatchDirectories.h,t)&&(e=i.startingToWatchDirectories,Object.prototype.hasOwnProperty.call(e.h,t)&&delete e.h[t],i.watchedDirectories.h[t]=n,null!=ei.chokidar)&&(null==i.chokidarUpdatedFilesByWatchedDirectory&&(i.chokidarUpdatedFilesByWatchedDirectory=new Nl),i.chokidarUpdatedFilesByWatchedDirectory.h[t]=[],i.watchWithChokidar(t))})})},watchWithChokidar:function(t){var i=this,e=ei.chokidar.watch(".",{ignoreInitial:!0,disableGlobbing:!0,cwd:t});null==this.chokidarWatchers&&(this.chokidarWatchers=new Nl),Object.prototype.hasOwnProperty.call(this.chokidarWatchers.h,t)&&this.chokidarWatchers.h[t].close(),(this.chokidarWatchers.h[t]=e).on("add",function(e){var n=ei.fs.statSync(Nn.join([t,e]));n.isDirectory()||i.chokidarUpdatedFilesByWatchedDirectory.h[t].push({status:0,lastModified:n.mtime.getTime()/1e3,name:e})}),e.on("change",function(e){var n=ei.fs.statSync(Nn.join([t,e]));n.isDirectory()||i.chokidarUpdatedFilesByWatchedDirectory.h[t].push({status:1,lastModified:n.mtime.getTime()/1e3,name:e})}),e.on("unlink",function(e){i.chokidarUpdatedFilesByWatchedDirectory.h[t].push({status:2,lastModified:-1,name:e})})},stopWatchingDirectory:function(e){var n;return null!=this.chokidarWatchers&&Object.prototype.hasOwnProperty.call(this.chokidarWatchers.h,e)&&(this.chokidarWatchers.h[e].close(),n=this.chokidarWatchers,Object.prototype.hasOwnProperty.call(n.h,e))&&delete n.h[e],null==this.watchedDirectories&&Object.prototype.hasOwnProperty.call(this.watchedDirectories.h,e)?(n=this.watchedDirectories,Object.prototype.hasOwnProperty.call(n.h,e)&&delete n.h[e],null!=this.startingToWatchDirectories&&Object.prototype.hasOwnProperty.call(this.startingToWatchDirectories.h,e)&&(n=this.startingToWatchDirectories,Object.prototype.hasOwnProperty.call(n.h,e))&&delete n.h[e],!0):!(null==this.startingToWatchDirectories||!Object.prototype.hasOwnProperty.call(this.startingToWatchDirectories.h,e)||(n=this.startingToWatchDirectories,Object.prototype.hasOwnProperty.call(n.h,e)&&delete n.h[e],0))},tick:function(){if(null!=this.watchedDirectories){for(var e=[],n=this.watchedDirectories.h,t=Object.keys(n),i=t.length,l=0;l<i;){var s=t[l++];e.push(s)}for(var r=0;r<e.length;){s=e[r];++r,this.checkWatchedDirectory(s)}}},checkWatchedDirectory:function(c){var u=this;if(null!=ei.chokidar){if(Object.prototype.hasOwnProperty.call(this.chokidarUpdatedFilesByWatchedDirectory.h,c)){var e=this.chokidarUpdatedFilesByWatchedDirectory.h[c];if(0<e.length){for(var _=this.watchedDirectories.h[c],n=new Nl,t=_.h,i=t,l=Object.keys(t),s=l.length,r=0;r<s;){var h=i[d=l[r++]];n.h[d]=h}for(var a=0;a<e.length;){var o=e[a];switch(++a,o.status){case 0:case 1:n.h[o.name]=o.lastModified;break;case 2:var d=o.name;Object.prototype.hasOwnProperty.call(n.h,d)&&delete n.h[d]}}Object.prototype.hasOwnProperty.call(this.watchedDirectories.h,c)&&(this.watchedDirectories.h[c]=n,this.emitDirectoryChange(c,n,_)),e.splice(0,e.length)}}}else{_=this.watchedDirectories.h[c];qn.runInBackground(function(){for(var e=u.computeFilesModificationTime(c),n=!1,t=e.h,i=t,l=Object.keys(t),s=l.length,r=0;r<s;){var h=o=l[r++],a=i[o];if(!Object.prototype.hasOwnProperty.call(_.h,h)){n=!0;break}if(a!=_.h[h]){n=!0;break}}if(!n)for(i=t=_.h,s=(l=Object.keys(t)).length,r=0;r<s;){var o,h=o=l[r++],a=i[o];if(!Object.prototype.hasOwnProperty.call(e.h,h)){n=!0;break}}n&&qn.runInMain(function(){Object.prototype.hasOwnProperty.call(u.watchedDirectories.h,c)&&(u.watchedDirectories.h[c]=e,u.emitDirectoryChange(c,e,_))})})}},computeFilesModificationTime:function(e){for(var n=new Nl,t=0,i=un.getFlatDirectory(e);t<i.length;){var l=i[t],s=(++t,un.getLastModified(Nn.join([e,l])));n.h[l]=s}return n},unbindEvents:function(){j.prototype.unbindEvents.call(this),this.offDirectoryChange()},__class__:ei}),(E["ceramic.macros.DefinesMacro"]=Oc).__name__="ceramic.macros.DefinesMacro",Oc._stringToBool=function(e){return null!=e&&("true"==(e=e.toLowerCase())||"1"==e)},(E["ceramic.macros.EnumAbstractMacro"]=Pc).__name__="ceramic.macros.EnumAbstractMacro",(E["ceramic.macros.PluginsMacro"]=Qc).__name__="ceramic.macros.PluginsMacro",(E["clay.BackgroundQueue"]=Rc).__name__="clay.BackgroundQueue",Rc.prototype={checkInterval:null,runsInBackground:null,stop:null,pending:null,schedule:function(e){ae.app._onceImmediate(e)},destroy:function(){this.stop=!0},__class__:Rc},function(e,n){this.windowInBackground=!1,this.ready=!1,this.freeze=!1,this.nextTick=0,this.immediateShutdown=!1,this.timestamp=-1,this.hasShutdown=!1,this.shuttingDown=!1,ee.app=this,oi.init(),this.extractAppId(),this.config=this.defaultConfig(),e(this.config),this.events=n,this.io=new xi(this),si.flush(),this.assets=new yi(this),si.flush(),this.audio=new Ui(this),si.flush(),this.input=new ri(this),si.flush(),this.runtime=new Si(this),si.flush(),ee._graphics=new vi,si.flush(),this.backgroundQueue=new Rc,this.init()}),ni=((E["clay.Clay"]=ee).__name__="clay.Clay",ee.prototype={config:null,events:null,io:null,assets:null,audio:null,input:null,runtime:null,get_graphics:function(){return ee._graphics},set_graphics:function(e){return ee._graphics=e},shuttingDown:null,hasShutdown:null,timestamp:null,appId:null,screenWidth:null,screenHeight:null,screenDensity:null,backgroundQueue:null,immediateShutdown:null,nextTick:null,freeze:null,set_freeze:function(e){return(this.freeze=e)?(this.events.freeze(),this.audio.suspend()):(this.events.unfreeze(),this.audio.resume()),e},ready:null,init:function(){hi.debug("Clay / init",{fileName:"clay/Clay.hx",lineNumber:178,className:"clay.Clay",methodName:"init"}),this.io.init(),si.flush(),this.audio.init(),si.flush(),this.input.init(),si.flush(),this.runtime.init(),si.flush(),hi.debug("Clay / ready",{fileName:"clay/Clay.hx",lineNumber:192,className:"clay.Clay",methodName:"init"}),this.runtime.ready(),si.flush(),this.audio.ready(),si.flush(),this.timestamp=window.performance.now()/1e3-Si.timestampStart,this.ready=!0,this.nextTick=this.timestamp,this.updateScreen(),this.events.ready(),!this.runtime.run()||this.hasShutdown||this.shuttingDown||this.shutdown()},shutdown:function(){if(this.shuttingDown)hi.debug("Clay / shutdown() called again, already shutting down - ignoring",{fileName:"clay/Clay.hx",lineNumber:217,className:"clay.Clay",methodName:"shutdown"});else{if(this.hasShutdown)throw $.thrown("Clay / calling shutdown() more than once is disallowed");this.shuttingDown=!0,this.io.shutdown(),this.audio.shutdown(),this.input.shutdown(),this.runtime.shutdown(this.immediateShutdown),hi.debug("Clay / shutdown",{fileName:"clay/Clay.hx",lineNumber:233,className:"clay.Clay",methodName:"shutdown"}),this.hasShutdown=!0}},emitQuit:function(){this.shutdown()},shouldUpdate:function(e){if(0<this.config.updateRate){if(e<this.nextTick)return!1;for(;this.nextTick<=e;)this.nextTick+=this.config.updateRate}else this.nextTick=e;return!0},emitTick:function(e){var n;this.freeze||(oi.tick(),si.flush(),this.updateScreen(),!this.shuttingDown&&this.ready&&(n=e-this.timestamp,this.timestamp=e,this.audio.tick(n),this.events.tick(n)))},emitRender:function(){this.freeze||!this.shuttingDown&&this.ready&&this.events.render()},emitWindowEvent:function(e,n,t,i,l){this.events.windowEvent(e,n,t,i,l)},emitAppEvent:function(e){this.events.appEvent(e)},windowInBackground:null,extractAppId:function(){var e='"tilemap"';z.startsWith(e,'"')?this.appId=JSON.parse(e):this.appId=e},defaultConfig:function(){var e=Si.defaultConfig();return new li(this.defaultWindowConfig(),this.defaultRenderConfig(),e,null)},defaultWindowConfig:function(){return new ii(!1,!1,!0,!1,536805376,536805376,960,640,"clay app",!1,.06666666666666667)},defaultRenderConfig:function(){return new ni(0,0,0,8,8,8,8,new _i(0,0,0,1),null,new ti(1,null,null,null,null,null,null,null,null))},defaultRuntimeConfig:function(){return new Di(null,null,null,null,null,null,null)},copyWindowConfig:function(e){return new ii(e.fullscreen,e.trueFullscreen,e.resizable,e.borderless,e.x,e.y,e.width,e.height,""+e.title,e.noInput,e.backgroundSleep)},copyRenderConfig:function(e){return new ni(e.depth,e.stencil,e.antialiasing,e.redBits,e.greenBits,e.blueBits,e.alphaBits,new _i(e.defaultClear.r,e.defaultClear.g,e.defaultClear.b,e.defaultClear.a),null,new ti(e.webgl.version,null,null,null,null,null,null,null,null))},updateScreen:function(){this.screenDensity=ee.app.runtime.windowDevicePixelRatio();var e=ee.app.runtime,e=(this.screenWidth=Math.round(Math.round(e.windowW*e.windowDevicePixelRatio())/this.screenDensity),ee.app.runtime);this.screenHeight=Math.round(Math.round(e.windowH*e.windowDevicePixelRatio())/this.screenDensity)},__class__:ee,__properties__:{set_freeze:"set_freeze",set_graphics:"set_graphics",get_graphics:"get_graphics"}},function(e,n,t,i,l,s,r,h,a,o){this.webgl=null,this.vsync=!0,this.defaultClear=new _i(0,0,0,1),this.alphaBits=8,this.blueBits=8,this.greenBits=8,this.redBits=8,this.antialiasing=0,this.stencil=0,this.depth=0,null!=e&&(this.depth=e),null!=n&&(this.stencil=n),null!=t&&(this.antialiasing=t),null!=i&&(this.redBits=i),null!=l&&(this.greenBits=l),null!=s&&(this.blueBits=s),null!=r&&(this.alphaBits=r),null!=h&&(this.defaultClear=h),null!=a&&(this.vsync=a),null!=o&&(this.webgl=o)}),ti=((E["clay.RenderConfig"]=ni).__name__="clay.RenderConfig",ni.prototype={depth:null,stencil:null,antialiasing:null,redBits:null,greenBits:null,blueBits:null,alphaBits:null,defaultClear:null,vsync:null,webgl:null,__class__:ni},function(e,n,t,i,l,s,r,h,a){this.failIfMajorPerformanceCaveat=!1,this.preferLowPowerToHighPerformance=!1,this.preserveDrawingBuffer=!1,this.premultipliedAlpha=!1,this.antialias=!0,this.stencil=!1,this.depth=!0,this.alpha=!1,this.version=1,null!=e&&(this.version=e),null!=n&&(this.alpha=n),null!=t&&(this.depth=t),null!=i&&(this.stencil=i),null!=l&&(this.antialias=l),null!=s&&(this.premultipliedAlpha=s),null!=r&&(this.preserveDrawingBuffer=r),null!=h&&(this.preferLowPowerToHighPerformance=h),null!=a&&(this.failIfMajorPerformanceCaveat=a)}),ii=((E["clay.RenderConfigWebGL"]=ti).__name__="clay.RenderConfigWebGL",ti.prototype={version:null,alpha:null,depth:null,stencil:null,antialias:null,premultipliedAlpha:null,preserveDrawingBuffer:null,preferLowPowerToHighPerformance:null,failIfMajorPerformanceCaveat:null,__class__:ti},function(e,n,t,i,l,s,r,h,a,o,c){this.backgroundSleep=.06666666666666667,this.noInput=!1,this.title=null,this.height=640,this.width=960,this.y=0,this.x=0,this.borderless=!1,this.resizable=!0,this.trueFullscreen=!1,this.fullscreen=!1,null!=e&&(this.fullscreen=e),null!=n&&(this.trueFullscreen=n),null!=t&&(this.resizable=t),null!=i&&(this.borderless=i),null!=l&&(this.x=l),null!=s&&(this.y=s),null!=r&&(this.width=r),null!=h&&(this.height=h),null!=a&&(this.title=a),null!=o&&(this.noInput=o),null!=c&&(this.backgroundSleep=c)}),li=((E["clay.WindowConfig"]=ii).__name__="clay.WindowConfig",ii.prototype={fullscreen:null,trueFullscreen:null,resizable:null,borderless:null,x:null,y:null,width:null,height:null,title:null,noInput:null,backgroundSleep:null,__class__:ii},function(e,n,t,i){this.updateRate=0,this.runtime=null,this.render=null,(this.window=null)!=e&&(this.window=e),null!=n&&(this.render=n),null!=t&&(this.runtime=t),null!=i&&(this.updateRate=i)}),si=((E["clay.Config"]=li).__name__="clay.Config",li.prototype={window:null,render:null,runtime:null,updateRate:null,__class__:li},(E["clay.Extensions"]=Xc).__name__="clay.Extensions",Xc.unsafeGet=function(e,n){return e[n]},Xc.unsafeSet=function(e,n,t){e[n]=t},(E["clay.Image"]=Yc).__name__="clay.Image",Yc.prototype={width:null,height:null,widthActual:null,heightActual:null,bitsPerPixel:null,sourceBitsPerPixel:null,pixels:null,premultiplyAlpha:function(){4==this.bitsPerPixel?ai.premultiplyAlpha(this.pixels):hi.warning("Can only premultiply alpha on images with 4 bits per pixels (RGBA)",{fileName:"clay/Image.hx",lineNumber:29,className:"clay.Image",methodName:"premultiplyAlpha"})},reversePremultiplyAlpha:function(){4==this.bitsPerPixel?ai.reversePremultiplyAlpha(this.pixels):hi.warning("Can only reverse premultiply alpha on images with 4 bits per pixels (RGBA)",{fileName:"clay/Image.hx",lineNumber:40,className:"clay.Image",methodName:"reversePremultiplyAlpha"})},__class__:Yc},function(){}),ri=((E["clay.Immediate"]=si).__name__="clay.Immediate",si.push=function(e){if(null==e)throw $.thrown("Immediate callback should not be null!");si.immediateCallbacksLen<si.immediateCallbacksCapacity?(si.immediateCallbacks[si.immediateCallbacksLen]=e,si.immediateCallbacksLen++):(si.immediateCallbacks[si.immediateCallbacksLen++]=e,si.immediateCallbacksCapacity++)},si.flush=function(){for(var e=!1;0<si.immediateCallbacksLen;){for(var e=!0,n=C.pool(si.immediateCallbacksLen),t=n.get(),i=si.immediateCallbacksLen,l=si.immediateCallbacksLen=0,s=i;l<s;){var r=l++;t.vector[r]=si.immediateCallbacks[r],si.immediateCallbacks[r]=null}for(var h=0,a=i;h<a;){var o=h++;(0,t.vector[o])()}n.release(t)}return e},function(e){this.app=e,this.modState=new ci,this.modState.none=!0}),w=((E["clay.Input"]=ri).__name__="clay.Input",ri.prototype={app:null,modState:null,init:function(){},shutdown:function(){},emitKeyDown:function(e,n,t,i,l,s){this.app.events.keyDown(e,n,t,i,l,s)},emitKeyUp:function(e,n,t,i,l,s){this.app.events.keyUp(e,n,t,i,l,s)},emitText:function(e,n,t,i,l,s){this.app.events.text(e,n,t,i,l,s)},emitMouseMove:function(e,n,t,i,l,s){this.app.events.mouseMove(e,n,t,i,l,s)},emitMouseDown:function(e,n,t,i,l){this.app.events.mouseDown(e,n,t,i,l)},emitMouseUp:function(e,n,t,i,l){this.app.events.mouseUp(e,n,t,i,l)},emitMouseWheel:function(e,n,t,i){this.app.events.mouseWheel(e,n,t,i)},emitTouchDown:function(e,n,t,i,l,s){this.app.events.touchDown(e,n,t,i,l,s)},emitTouchUp:function(e,n,t,i,l,s){this.app.events.touchUp(e,n,t,i,l,s)},emitTouchMove:function(e,n,t,i,l,s){this.app.events.touchMove(e,n,t,i,l,s)},emitGamepadAxis:function(e,n,t,i){this.app.events.gamepadAxis(e,n,t,i)},emitGamepadDown:function(e,n,t,i){this.app.events.gamepadDown(e,n,t,i)},emitGamepadUp:function(e,n,t,i){this.app.events.gamepadUp(e,n,t,i)},emitGamepadGyro:function(e,n,t,i,l){this.app.events.gamepadGyro(e,n,t,i,l)},emitGamepadDevice:function(e,n,t,i){this.app.events.gamepadDevice(e,n,t,i)},__class__:ri},{}),hi=(w.$name=function(e){if(0!=(e&T.MASK))return T.$name(e&~T.MASK);switch(e){case 8:return T.$name(42);case 9:return T.$name(43);case 13:return T.$name(40);case 27:return T.$name(41);case 32:return T.$name(44);case 97:return T.$name(4);case 98:return T.$name(5);case 99:return T.$name(6);case 100:return T.$name(7);case 101:return T.$name(8);case 102:return T.$name(9);case 103:return T.$name(10);case 104:return T.$name(11);case 105:return T.$name(12);case 106:return T.$name(13);case 107:return T.$name(14);case 108:return T.$name(15);case 109:return T.$name(16);case 110:return T.$name(17);case 111:return T.$name(18);case 112:return T.$name(19);case 113:return T.$name(20);case 114:return T.$name(21);case 115:return T.$name(22);case 116:return T.$name(23);case 117:return T.$name(24);case 118:return T.$name(25);case 119:return T.$name(26);case 120:return T.$name(27);case 121:return T.$name(28);case 122:return T.$name(29);case 127:return T.$name(76);default:return String.fromCodePoint(e)}},w.toScanCode=function(e){if(0!=(e&T.MASK))return e&~T.MASK;switch(e){case 8:return 42;case 9:return 43;case 13:return 40;case 27:return 41;case 32:return 44;case 47:return 56;case 48:return 39;case 49:return 30;case 50:return 31;case 51:return 32;case 52:return 33;case 53:return 34;case 54:return 35;case 55:return 36;case 56:return 37;case 57:return 38;case 59:return 51;case 61:return 46;case 91:return 47;case 92:return 49;case 93:return 48;case 96:return 53;case 97:return 4;case 98:return 5;case 99:return 6;case 100:return 7;case 101:return 8;case 102:return 9;case 103:return 10;case 104:return 11;case 105:return 12;case 106:return 13;case 107:return 14;case 108:return 15;case 109:return 16;case 110:return 17;case 111:return 18;case 112:return 19;case 113:return 20;case 114:return 21;case 115:return 22;case 116:return 23;case 117:return 24;case 118:return 25;case 119:return 26;case 120:return 27;case 121:return 28;case 122:return 29}return 0},w.toString=function(e){return"KeyCode("+e+" "+w.$name(e)+")"},function(){}),ai=((E["clay.Log"]=hi).__name__="clay.Log",hi.debug=function(e,n){},hi.info=function(e,n){xl.trace("[info] "+e,n)},hi.warning=function(e,n){xl.trace("[warning] "+e,n)},hi.error=function(e,n){xl.trace("[error] "+e,n)},hi.success=function(e,n){xl.trace("[success] "+e,n)},(E["clay.Macros"]=b2).__name__="clay.Macros",function(){}),oi=((E["clay.PremultiplyAlpha"]=ai).__name__="clay.PremultiplyAlpha",ai.premultiplyAlpha=function(e){for(var n=e.length,t=0;t<n;){var i=e[t],l=e[t+1],s=e[t+2],r=e[t+3]/255;e[t]=i*r|0,e[t+1]=l*r|0,e[t+2]=s*r|0,t+=4}},ai.reversePremultiplyAlpha=function(e){for(var n=e.length,t=0;t<n;){var i=e[t],l=e[t+1],s=e[t+2],r=e[t+3]/255;0<r&&(e[t]=i/r|0,e[t+1]=l/r|0,e[t+2]=s/r|0),t+=4}},function(){}),T=((E["clay.Runner"]=oi).__name__="clay.Runner",oi.currentIsMainThread=function(){return!0},oi.init=function(){},oi.tick=function(){},oi.isEmulatingBackgroundWithMain=function(){return!0},oi.runInMain=function(e){si.push(e)},oi.runInBackground=function(e){si.push(e)},{}),ci=(T.$name=function(e){var n=null;return null!=(n=0<=e&&e<T.scanCodeNames.length?T.scanCodeNames[e]:n)?n:""},T.toString=function(e){return"ScanCode("+e+" "+T.$name(e)+")"},function(){this.meta=!1,this.alt=!1,this.shift=!1,this.ctrl=!1,this.mode=!1,this.caps=!1,this.num=!1,this.rmeta=!1,this.lmeta=!1,this.ralt=!1,this.lalt=!1,this.rctrl=!1,this.lctrl=!1,this.rshift=!1,this.lshift=!1,this.none=!1}),ui=((E["clay.ModState"]=ci).__name__="clay.ModState",ci.prototype={none:null,lshift:null,rshift:null,lctrl:null,rctrl:null,lalt:null,ralt:null,lmeta:null,rmeta:null,num:null,caps:null,mode:null,ctrl:null,shift:null,alt:null,meta:null,toString:function(){var e='{ "ModState":true ';return this.none?e+', "none":true }':(this.lshift&&(e+=', "lshift":true'),this.rshift&&(e+=', "rshift":true'),this.lctrl&&(e+=', "lctrl":true'),this.rctrl&&(e+=', "rctrl":true'),this.lalt&&(e+=', "lalt":true'),this.ralt&&(e+=', "ralt":true'),this.lmeta&&(e+=', "lmeta":true'),this.rmeta&&(e+=', "rmeta":true'),this.num&&(e+=', "num":true'),this.caps&&(e+=', "caps":true'),this.mode&&(e+=', "mode":true'),this.ctrl&&(e+=', "ctrl":true'),this.shift&&(e+=', "shift":true'),this.alt&&(e+=', "alt":true'),this.meta&&(e+=', "meta":true'),e+"}")},__class__:ci},(E["clay.Utils"]=k2).__name__="clay.Utils",k2.uniqueId=function(){switch(k2._nextUniqueIntCursor){case 0:k2._nextUniqueInt0=(k2._nextUniqueInt0+1)%2147483647;break;case 1:k2._nextUniqueInt1=(k2._nextUniqueInt1+1)%2147483647;break;case 2:k2._nextUniqueInt2=(k2._nextUniqueInt2+1)%2147483647;break;case 3:k2._nextUniqueInt3=(k2._nextUniqueInt3+1)%2147483647}k2._nextUniqueIntCursor=(k2._nextUniqueIntCursor+1)%4;var e,n=k2._nextUniqueInt0,t=(n=null==n?2147483646*Math.random()|0:n)%62|0,i=n/62|0;e=0<i?(c=(n=null==(n=i)?2147483646*Math.random()|0:n)%62|0,(l=0<(i=n/62|0)?(s=k2.base62Id(i))+(r=9<c?(90<(_=c-10+65)&&(_+=6),String.fromCodePoint(_)):K.string(c).charAt(0)):(s=9<c?(90<(_=c-10+65)&&(_+=6),String.fromCodePoint(_)):K.string(c).charAt(0),K.string(s)))+(s=9<t?(90<(_=t-10+65)&&(_+=6),String.fromCodePoint(_)):K.string(t).charAt(0))):(l=9<t?(90<(_=t-10+65)&&(_+=6),String.fromCodePoint(_)):K.string(t).charAt(0),K.string(l));var l,t=(n=null==(n=null)?2147483646*Math.random()|0:n)%62|0;l=0<(i=n/62|0)?(c=(n=null==(n=i)?2147483646*Math.random()|0:n)%62|0,(s=0<(i=n/62|0)?(r=k2.base62Id(i))+(h=9<c?(90<(_=c-10+65)&&(_+=6),String.fromCodePoint(_)):K.string(c).charAt(0)):(r=9<c?(90<(_=c-10+65)&&(_+=6),String.fromCodePoint(_)):K.string(c).charAt(0),K.string(r)))+(r=9<t?(90<(_=t-10+65)&&(_+=6),String.fromCodePoint(_)):K.string(t).charAt(0))):(s=9<t?(90<(_=t-10+65)&&(_+=6),String.fromCodePoint(_)):K.string(t).charAt(0),K.string(s));var s,t=(n=null==(n=k2._nextUniqueInt1)?2147483646*Math.random()|0:n)%62|0;s=0<(i=n/62|0)?(c=(n=null==(n=i)?2147483646*Math.random()|0:n)%62|0,(r=0<(i=n/62|0)?(h=k2.base62Id(i))+(a=9<c?(90<(_=c-10+65)&&(_+=6),String.fromCodePoint(_)):K.string(c).charAt(0)):(h=9<c?(90<(_=c-10+65)&&(_+=6),String.fromCodePoint(_)):K.string(c).charAt(0),K.string(h)))+(h=9<t?(90<(_=t-10+65)&&(_+=6),String.fromCodePoint(_)):K.string(t).charAt(0))):(r=9<t?(90<(_=t-10+65)&&(_+=6),String.fromCodePoint(_)):K.string(t).charAt(0),K.string(r));var r,t=(n=null==(n=null)?2147483646*Math.random()|0:n)%62|0;r=0<(i=n/62|0)?(c=(n=null==(n=i)?2147483646*Math.random()|0:n)%62|0,(h=0<(i=n/62|0)?(a=k2.base62Id(i))+(o=9<c?(90<(_=c-10+65)&&(_+=6),String.fromCodePoint(_)):K.string(c).charAt(0)):(a=9<c?(90<(_=c-10+65)&&(_+=6),String.fromCodePoint(_)):K.string(c).charAt(0),K.string(a)))+(a=9<t?(90<(_=t-10+65)&&(_+=6),String.fromCodePoint(_)):K.string(t).charAt(0))):(h=9<t?(90<(_=t-10+65)&&(_+=6),String.fromCodePoint(_)):K.string(t).charAt(0),K.string(h));var h,t=(n=null==(n=k2._nextUniqueInt2)?2147483646*Math.random()|0:n)%62|0;h=0<(i=n/62|0)?(c=(n=null==(n=i)?2147483646*Math.random()|0:n)%62|0,(a=0<(i=n/62|0)?(o=k2.base62Id(i))+(d=9<c?(90<(_=c-10+65)&&(_+=6),String.fromCodePoint(_)):K.string(c).charAt(0)):(o=9<c?(90<(_=c-10+65)&&(_+=6),String.fromCodePoint(_)):K.string(c).charAt(0),K.string(o)))+(o=9<t?(90<(_=t-10+65)&&(_+=6),String.fromCodePoint(_)):K.string(t).charAt(0))):(a=9<t?(90<(_=t-10+65)&&(_+=6),String.fromCodePoint(_)):K.string(t).charAt(0),K.string(a));var a,t=(n=null==(n=null)?2147483646*Math.random()|0:n)%62|0;a=0<(i=n/62|0)?(c=(n=null==(n=i)?2147483646*Math.random()|0:n)%62|0,(o=0<(i=n/62|0)?(d=k2.base62Id(i))+(u=9<c?(90<(_=c-10+65)&&(_+=6),String.fromCodePoint(_)):K.string(c).charAt(0)):(d=9<c?(90<(_=c-10+65)&&(_+=6),String.fromCodePoint(_)):K.string(c).charAt(0),K.string(d)))+(d=9<t?(90<(_=t-10+65)&&(_+=6),String.fromCodePoint(_)):K.string(t).charAt(0))):(o=9<t?(90<(_=t-10+65)&&(_+=6),String.fromCodePoint(_)):K.string(t).charAt(0),K.string(o));var o,c,u,_,d,t=(n=null==(n=k2._nextUniqueInt3)?2147483646*Math.random()|0:n)%62|0;return d=e+"-"+l+"-"+s+"-"+r+"-"+h+"-"+a+"-"+(o=0<(i=n/62|0)?(c=(n=null==(n=i)?2147483646*Math.random()|0:n)%62|0,(d=0<(i=n/62|0)?(u=k2.base62Id(i))+(9<c?(90<(_=c-10+65)&&(_+=6),String.fromCodePoint(_)):K.string(c).charAt(0)):(u=9<c?(90<(_=c-10+65)&&(_+=6),String.fromCodePoint(_)):K.string(c).charAt(0),K.string(u)))+(u=9<t?(90<(_=t-10+65)&&(_+=6),String.fromCodePoint(_)):K.string(t).charAt(0))):(d=9<t?(90<(_=t-10+65)&&(_+=6),String.fromCodePoint(_)):K.string(t).charAt(0),K.string(d)))},k2.base62Id=function(e){var n,t,i=(e=null==e?2147483646*Math.random()|0:e)%62|0,e=e/62|0;return 0<e?(n=k2.base62Id(e))+(9<i?(90<(t=i-10+65)&&(t+=6),String.fromCodePoint(t)):(null==i?"null":""+i).charAt(0)):(n=9<i?(90<(t=i-10+65)&&(t+=6),String.fromCodePoint(t)):(null==i?"null":""+i).charAt(0),K.string(n))},(E["clay.audio.AudioDataOptions"]=l2).__name__="clay.audio.AudioDataOptions",l2.prototype={id:null,rate:null,length:null,duration:null,channels:null,bitsPerSample:null,format:null,isStream:null,__class__:l2},(E["clay.audio.AudioData"]=m2).__name__="clay.audio.AudioData",m2.prototype={app:null,id:null,rate:null,length:null,duration:null,channels:null,bitsPerSample:null,format:null,isStream:null,destroyed:null,destroy:function(){this.destroyed||(hi.debug("Audio / destroy AudioData `"+this.id+"`",{fileName:"clay/audio/AudioData.hx",lineNumber:95,className:"clay.audio.AudioData",methodName:"destroy"}),this.destroyed=!0,this.id=null)},seek:function(e){return!1},portion:function(e,n,t,i){return i},toString:function(){var e,n='{ "AudioData":true, "id":'+this.id+', "rate":'+this.rate+', "length":'+this.length+', "channels":'+this.channels+', "format":"';if(null==this.format)e="null";else{var t=this.format;if(null==t)e=""+t;else switch(t){case 0:e="UNKNOWN";break;case 1:e="CUSTOM";break;case 2:e="OGG";break;case 3:e="WAV";break;case 4:e="PCM";break;case 5:e="MP3";break;case 6:e="FLAC";break;default:e=""+t}}return n+e+'", "isStream":'+K.string(this.isStream)+" }"},__class__:m2},(E["clay.audio.AudioInstance"]=p2).__name__="clay.audio.AudioInstance",p2.prototype={source:null,handle:null,destroyed:null,hasEnded:function(){if(this.destroyed)throw $.thrown("Audio / Instance hasEnded queried after being destroyed");return 2==this.source.app.audio.stateOf(this.handle)},destroy:function(){if(this.destroyed)throw $.thrown("Audio / Instance being destroyed more than once");this.source.app.audio.handleInstanceDestroyed(this.handle),this.source.instanceKilled(this),this.destroyed=!0,this.source=null,this.handle=-1},dataGet:function(e,n,t,i){if(this.destroyed)throw $.thrown("Audio / Instance dataGet queried after being destroyed");return this.source.data.portion(e,n,t,i)},dataSeek:function(e){if(this.destroyed)throw $.thrown("Audio / Instance dataSeek queried after being destroyed");return this.source.data.seek(e)},__class__:p2},function(e,n){this.destroyed=!1,this.streamBufferCount=2,this.streamBufferLength=176400,this.app=e,this.data=n,this.sourceId=k2.uniqueId(),hi.debug("AudioSource / `"+this.sourceId+"` / "+this.data.id,{fileName:"clay/audio/AudioSource.hx",lineNumber:34,className:"clay.audio.AudioSource",methodName:"new"}),this.instances=[],n.duration<=0&&(n.duration=this.bytesToSeconds(n.length))}),_i=((E["clay.audio.AudioSource"]=ui).__name__="clay.audio.AudioSource",ui.prototype={app:null,data:null,streamBufferLength:null,streamBufferCount:null,destroyed:null,sourceId:null,instances:null,instance:function(e){e=new p2(this,e);return-1==this.instances.indexOf(e)&&this.instances.push(e),e},bytesToSeconds:function(e){var n=16==this.data.bitsPerSample?2:1;return e/(this.data.rate*this.data.channels*n)},secondsToBytes:function(e){var n=16==this.data.bitsPerSample?2:1;return e*(this.data.rate*this.data.channels*n)|0},getDuration:function(){return this.data.duration},destroy:function(){if(this.destroyed)hi.debug("AudioSource / destroying already destroyed source!",{fileName:"clay/audio/AudioSource.hx",lineNumber:85,className:"clay.audio.AudioSource",methodName:"destroy"});else{this.destroyed=!0;var e=this.instances.length,n=0;for(hi.debug("AudioSource / destroy / "+this.sourceId+" / "+this.data.id+", stream="+K.string(this.data.isStream)+", instances="+e,{fileName:"clay/audio/AudioSource.hx",lineNumber:94,className:"clay.audio.AudioSource",methodName:"destroy"});n<e;)this.instances.pop().destroy(),++n;this.app.audio.handleSourceDestroyed(this),this.data.destroy(),this.data=null,this.instances=null,this.app=null}},instanceKilled:function(e){he.remove(this.instances,e)},__class__:ui},(E["clay.base.BaseAssets"]=s2).__name__="clay.base.BaseAssets",s2.prototype={app:null,isSynchronous:function(){return!1},fullPath:function(e){return Nn.isAbsolute(e)?e:Nn.join([this.app.io.appPath(),e])},loadImage:function(e,n,t,i){return null==t&&(t=!1),null==n&&(n=4),null!=i&&si.push(function(){i(null)}),null},__class__:s2},(E["clay.base.BaseAudio"]=t2).__name__="clay.base.BaseAudio",t2.prototype={app:null,isSynchronous:function(){return!1},init:function(){},ready:function(){},tick:function(e){},shutdown:function(){},loadData:function(e,n,t,i,l){return null==i&&(i=!1),null!=l&&si.push(function(){l(null)}),null},emitAudioEvent:function(e,n){this.app.events.audioEvent(e,n)},__class__:t2},(E["clay.base.BaseIO"]=u2).__name__="clay.base.BaseIO",u2.prototype={app:null,init:function(){},shutdown:function(){},isSynchronous:function(){return!1},appPath:function(){return null},appPathPrefs:function(){return null},loadData:function(e,n,t,i){return null==t&&(t=!1),null==n&&(n=!1),null!=i&&si.push(function(){i(null)}),null},__class__:u2},(E["clay.base.BaseRuntime"]=v2).__name__="clay.base.BaseRuntime",v2.prototype={app:null,name:null,init:function(){},shutdown:function(e){},ready:function(){},run:function(){return!0},windowDevicePixelRatio:function(){return 1},windowWidth:function(){return 0},windowHeight:function(){return 0},__class__:v2},function(e,n,t,i){this.a=1,this.b=0,this.g=0,this.r=0,null!=e&&(this.r=e),null!=n&&(this.g=n),null!=t&&(this.b=t),null!=i&&(this.a=i)}),di=((E["clay.graphics.Color"]=_i).__name__="clay.graphics.Color",_i.prototype={r:null,g:null,b:null,a:null,__class__:_i},function(){this.wrapT=33071,this.wrapS=33071,this.filterMag=9729,this.filterMin=9729,this.pixels=null,this.heightActual=-1,this.widthActual=-1,this.height=-1,this.width=-1,this.dataType=5121,this.type=3553,this.format=6408,this.compressed=!1,ea.call(this),this.index=di._nextIndex++,this.textureId=null}),bi=((E["clay.graphics.Texture"]=di).__name__="clay.graphics.Texture",di.fromImage=function(e,n){null==n&&(n=!1);var t=new di;if(t.premultiplyAlpha=n,4!=e.bitsPerPixel)throw $.thrown("Image must have 4 bits per pixels (RGBA format)");return t.width=e.width,t.height=e.height,t.widthActual=e.widthActual,t.heightActual=e.heightActual,t.pixels=e.pixels,t},di.__super__=ea,di.prototype=$extend(ea.prototype,{index:null,textureId:null,premultiplyAlpha:null,compressed:null,format:null,type:null,dataType:null,width:null,height:null,widthActual:null,heightActual:null,pixels:null,filterMin:null,set_filterMin:function(e){return null!=this.textureId&&(this.bind(),ee._graphics,ne.gl.texParameteri(3553,10241,e)),this.filterMin=e},filterMag:null,set_filterMag:function(e){return null!=this.textureId&&(this.bind(),ee._graphics,ne.gl.texParameteri(3553,10240,e)),this.filterMag=e},wrapS:null,set_wrapS:function(e){return null!=this.textureId&&(this.bind(),ee._graphics,ne.gl.texParameteri(3553,10242,e)),this.wrapS=e},wrapT:null,set_wrapT:function(e){return null!=this.textureId&&(this.bind(),ee._graphics,ne.gl.texParameteri(3553,10243,e)),this.wrapT=e},init:function(){ee._graphics,this.textureId=ne.gl.createTexture(),0<this.width&&this.widthActual<=0&&(this.widthActual=this.width),0<this.height&&this.heightActual<=0&&(this.heightActual=this.height),this.bind(),ee._graphics,ne.gl.texParameteri(3553,10241,this.filterMin),ee._graphics,ne.gl.texParameteri(3553,10240,this.filterMag),ee._graphics,ne.gl.texParameteri(3553,10243,this.wrapT),ee._graphics;if(ne.gl.texParameteri(3553,10242,this.wrapS),null!=this.pixels){if(this.width<=0||this.height<=0)throw $.thrown("Provided texture pixels with invalid size (width="+this.width+" height="+this.height+")");this.submit(this.pixels)}},destroy:function(){if(null!=this.textureId){for(var e=ee._graphics,n=this.textureId,t=(ne.gl.deleteTexture(n),0),i=e._boundTexture2D.length;t<i;){var l=t++;e._boundTexture2D[l]==n&&(e._boundTexture2D[l]=null)}this.textureId=null}},bind:function(e){var n;if(-1!=(e=null==e?0:e)&&(n=ee._graphics)._activeTextureSlot!=e){for(n._activeTextureSlot=e;n._boundTexture2D.length<=n._activeTextureSlot;)n._boundTexture2D.push(null);ne.gl.activeTexture(33984+e)}3553==this.type&&(n=ee._graphics,e=this.textureId,n._boundTexture2D[n._activeTextureSlot]!=e)&&(n._boundTexture2D[n._activeTextureSlot]=e,ne.gl.bindTexture(3553,e))},submit:function(e){ee._graphics;var n,t,i,l=ne.gl.getParameter(3379),l=l=l<=0?4096:l;if(null==(e=null==e?this.pixels:e))throw $.thrown("Cannot submit texture pixels: pixels is null");if(this.widthActual>l)throw $.thrown("Texture actual width bigger than maximum hardware size (width="+this.widthActual+" max="+l+")");if(this.heightActual>l)throw $.thrown("Texture actual height bigger than maximum hardware size (height="+this.heightActual+" max="+l+")");this.bind(),3553==this.type&&(this.compressed?(ee._graphics,n=this.format,t=this.widthActual,i=this.heightActual,ne.gl.pixelStorei(37441,this.premultiplyAlpha?1:0),ne.gl.compressedTexImage2D(3553,0,n,t,i,0,e)):(ee._graphics,n=this.format,t=this.widthActual,i=this.heightActual,l=this.dataType,ne.gl.pixelStorei(37441,this.premultiplyAlpha?1:0),ne.gl.texImage2D(3553,0,n,t,i,0,n,l,e)))},fetch:function(e,n,t,i,l){return null==t&&(t=0),null==n&&(n=0),(i=null==i?-1:i)<=0&&(i=this.width),(l=null==l?-1:l)<=0&&(l=this.height),this.bind(),3553==this.type&&ee._graphics.fetchTexture2dPixels(e,n,t,i,l),e},__class__:di,__properties__:{set_wrapT:"set_wrapT",set_wrapS:"set_wrapS",set_filterMag:"set_filterMag",set_filterMin:"set_filterMin"}}),function(){this.antialiasing=0,this.stencil=!1,this.depth=!1,di.call(this)}),gi=((E["clay.graphics.RenderTexture"]=bi).__name__="clay.graphics.RenderTexture",bi.__super__=di,bi.prototype=$extend(di.prototype,{renderTarget:null,depth:null,stencil:null,antialiasing:null,init:function(){di.prototype.init.call(this);ee._graphics;var e=ne.gl.getParameter(3379),e=e=e<=0?4096:e;if(this.widthActual>e)throw $.thrown("RenderTexture actual width bigger than maximum hardware size (width="+this.widthActual+" max="+e+")");if(this.heightActual>e)throw $.thrown("RenderTexture actual height bigger than maximum hardware size (height="+this.heightActual+" max="+e+")");this.bind(),this.renderTarget=ee._graphics.createRenderTarget(this.textureId,this.width,this.height,this.depth,this.stencil,this.antialiasing,0,this.format,this.dataType)},destroy:function(){di.prototype.destroy.call(this),null!=this.renderTarget&&(ee._graphics.deleteRenderTarget(this.renderTarget),this.renderTarget=null)},__class__:bi}),(E["clay.graphics.TextureAndSlot"]=D2).__name__="clay.graphics.TextureAndSlot",D2.prototype={texture:null,slot:null,__class__:D2},function(e){this.dirtyTextures=[],this.dirtyMatrix4s=[],this.dirtyMatrix3s=[],this.dirtyMatrix2s=[],this.dirtyVector4s=[],this.dirtyVector3s=[],this.dirtyVector2s=[],this.dirtyFloatArrays=[],this.dirtyFloats=[],this.dirtyIntArrays=[],this.dirtyInts=[],this.textures=new Nl,this.matrix4s=new Nl,this.matrix3s=new Nl,this.matrix2s=new Nl,this.vector4s=new Nl,this.vector3s=new Nl,this.vector2s=new Nl,this.floatArrays=new Nl,this.floats=new Nl,this.intArrays=new Nl,this.ints=new Nl,this.gpuShader=e}),Oi=((E["clay.graphics.Uniforms"]=gi).__name__="clay.graphics.Uniforms",gi.prototype={ints:null,intArrays:null,floats:null,floatArrays:null,vector2s:null,vector3s:null,vector4s:null,matrix2s:null,matrix3s:null,matrix4s:null,textures:null,dirtyInts:null,dirtyIntArrays:null,dirtyFloats:null,dirtyFloatArrays:null,dirtyVector2s:null,dirtyVector3s:null,dirtyVector4s:null,dirtyMatrix2s:null,dirtyMatrix3s:null,dirtyMatrix4s:null,dirtyTextures:null,gpuShader:null,setInt:function(e,n){ee._graphics;var t=this.gpuShader;ne.gl.getUniformLocation(t.program,e);this.ints.h[e]=n,this.dirtyInts.push(e)},setIntArray:function(e,n){ee._graphics;var t=this.gpuShader;ne.gl.getUniformLocation(t.program,e);this.intArrays.h[e]=n,this.dirtyIntArrays.push(e)},setFloat:function(e,n){ee._graphics;var t=this.gpuShader;ne.gl.getUniformLocation(t.program,e);this.floats.h[e]=n,this.dirtyFloats.push(e)},setFloatArray:function(e,n){ee._graphics;var t=this.gpuShader;ne.gl.getUniformLocation(t.program,e);this.floatArrays.h[e]=n,this.dirtyFloatArrays.push(e)},setVector2:function(e,n,t){ee._graphics;var i=this.gpuShader,i=(ne.gl.getUniformLocation(i.program,e),this.vector2s.h[e]);null!=i?(i.x=n,i.y=t):(i=this.vector2s,n=new Oi(n,t),i.h[e]=n),this.dirtyVector2s.push(e)},setVector3:function(e,n,t,i){ee._graphics;var l=this.gpuShader,l=(ne.gl.getUniformLocation(l.program,e),this.vector3s.h[e]);null!=l?(l.x=n,l.y=t,l.z=i):(l=this.vector3s,n=new fi(n,t,i),l.h[e]=n),this.dirtyVector3s.push(e)},setVector4:function(e,n,t,i,l){ee._graphics;var s=this.gpuShader,s=(ne.gl.getUniformLocation(s.program,e),this.vector4s.h[e]);null!=s?(s.x=n,s.y=t,s.z=i,s.w=l):(s=this.vector4s,n=new pi(n,t,i,l),s.h[e]=n),this.dirtyVector4s.push(e)},setMatrix2:function(e,n){ee._graphics;var t=this.gpuShader,t=(ne.gl.getUniformLocation(t.program,e),this.matrix2s.h[e]);null==t&&(t=new Float32Array(4),this.matrix2s.h[e]=t),t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],this.dirtyMatrix2s.push(e)},setMatrix3:function(e,n){ee._graphics;var t=this.gpuShader,t=(ne.gl.getUniformLocation(t.program,e),this.matrix3s.h[e]);null==t&&(t=new Float32Array(9),this.matrix3s.h[e]=t),t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],this.dirtyMatrix3s.push(e)},setMatrix4:function(e,n){ee._graphics;var t=this.gpuShader,t=(ne.gl.getUniformLocation(t.program,e),this.matrix4s.h[e]);null==t&&(t=new Float32Array(16),this.matrix4s.h[e]=t),t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],this.dirtyMatrix4s.push(e)},setTexture:function(e,n,t){ee._graphics;var i=this.gpuShader,i=(ne.gl.getUniformLocation(i.program,e),this.textures.h[e]);null!=i?(i.texture=t,i.slot=n):(i=this.textures,t=new D2(t,n),i.h[e]=t),-1==this.dirtyTextures.indexOf(e)&&this.dirtyTextures.push(e)},apply:function(){var e=ee._graphics,n=this.gpuShader;for(e._boundProgram!=n.program&&(e._boundProgram=n.program,ne.gl.useProgram(n.program));0<this.dirtyInts.length;){var t=this.dirtyInts.pop(),e=ee._graphics,n=this.gpuShader,i=ne.gl.getUniformLocation(n.program,t),l=ee._graphics,s=this.ints.h[t],r=this.gpuShader;l._boundProgram!=r.program&&(l._boundProgram=r.program,ne.gl.useProgram(r.program)),ne.gl.uniform1i(i,s)}for(;0<this.dirtyIntArrays.length;){t=this.dirtyIntArrays.pop(),e=ee._graphics,n=this.gpuShader,i=ne.gl.getUniformLocation(n.program,t),l=ee._graphics,s=this.intArrays.h[t],r=this.gpuShader;l._boundProgram!=r.program&&(l._boundProgram=r.program,ne.gl.useProgram(r.program)),ne.gl.uniform1iv(i,s)}for(;0<this.dirtyFloats.length;){t=this.dirtyFloats.pop(),e=ee._graphics,n=this.gpuShader,i=ne.gl.getUniformLocation(n.program,t),l=ee._graphics,s=this.floats.h[t],r=this.gpuShader;l._boundProgram!=r.program&&(l._boundProgram=r.program,ne.gl.useProgram(r.program)),ne.gl.uniform1f(i,s)}for(;0<this.dirtyFloatArrays.length;){t=this.dirtyFloatArrays.pop(),e=ee._graphics,n=this.gpuShader,i=ne.gl.getUniformLocation(n.program,t),l=ee._graphics,s=this.floatArrays.h[t],r=this.gpuShader;l._boundProgram!=r.program&&(l._boundProgram=r.program,ne.gl.useProgram(r.program)),ne.gl.uniform1fv(i,s)}for(;0<this.dirtyVector2s.length;){var t=this.dirtyVector2s.pop(),e=ee._graphics,n=this.gpuShader,i=ne.gl.getUniformLocation(n.program,t),s=this.vector2s.h[t],l=ee._graphics,h=s.x,a=s.y,r=this.gpuShader;l._boundProgram!=r.program&&(l._boundProgram=r.program,ne.gl.useProgram(r.program)),ne.gl.uniform2f(i,h,a)}for(;0<this.dirtyVector3s.length;){var t=this.dirtyVector3s.pop(),e=ee._graphics,n=this.gpuShader,i=ne.gl.getUniformLocation(n.program,t),s=this.vector3s.h[t],l=ee._graphics,h=s.x,a=s.y,o=s.z,r=this.gpuShader;l._boundProgram!=r.program&&(l._boundProgram=r.program,ne.gl.useProgram(r.program)),ne.gl.uniform3f(i,h,a,o)}for(;0<this.dirtyVector4s.length;){var t=this.dirtyVector4s.pop(),e=ee._graphics,n=this.gpuShader,i=ne.gl.getUniformLocation(n.program,t),s=this.vector4s.h[t],l=ee._graphics,h=s.x,a=s.y,o=s.z,c=s.w,r=this.gpuShader;l._boundProgram!=r.program&&(l._boundProgram=r.program,ne.gl.useProgram(r.program)),ne.gl.uniform4f(i,h,a,o,c)}for(;0<this.dirtyMatrix2s.length;){t=this.dirtyMatrix2s.pop(),e=ee._graphics,n=this.gpuShader,i=ne.gl.getUniformLocation(n.program,t),l=ee._graphics,s=this.matrix2s.h[t],r=this.gpuShader;l._boundProgram!=r.program&&(l._boundProgram=r.program,ne.gl.useProgram(r.program)),ne.gl.uniformMatrix2fv(i,!1,s)}for(;0<this.dirtyMatrix3s.length;){t=this.dirtyMatrix3s.pop(),e=ee._graphics,n=this.gpuShader,i=ne.gl.getUniformLocation(n.program,t),l=ee._graphics,s=this.matrix3s.h[t],r=this.gpuShader;l._boundProgram!=r.program&&(l._boundProgram=r.program,ne.gl.useProgram(r.program)),ne.gl.uniformMatrix3fv(i,!1,s)}for(;0<this.dirtyMatrix4s.length;){t=this.dirtyMatrix4s.pop(),e=ee._graphics,n=this.gpuShader,i=ne.gl.getUniformLocation(n.program,t),l=ee._graphics,s=this.matrix4s.h[t],r=this.gpuShader;l._boundProgram!=r.program&&(l._boundProgram=r.program,ne.gl.useProgram(r.program)),ne.gl.uniformMatrix4fv(i,!1,s)}for(var u=0,_=this.dirtyTextures.length;u<_;){var d=u++,t=this.dirtyTextures[d],e=ee._graphics,n=this.gpuShader,i=ne.gl.getUniformLocation(n.program,t);3553==(s=this.textures.h[t]).texture.type&&ee._graphics.setTexture2dUniform(this.gpuShader,i,s.slot,s.texture.textureId)}},clone:function(){return new gi(this.gpuShader)},__class__:gi},function(e,n){this.y=0,this.x=0,null!=e&&(this.x=e),null!=n&&(this.y=n)}),fi=((E["clay.graphics.Vector2"]=Oi).__name__="clay.graphics.Vector2",Oi.prototype={x:null,y:null,__class__:Oi},function(e,n,t){this.z=0,this.y=0,this.x=0,null!=e&&(this.x=e),null!=n&&(this.y=n),null!=t&&(this.z=t)}),pi=((E["clay.graphics.Vector3"]=fi).__name__="clay.graphics.Vector3",fi.prototype={x:null,y:null,z:null,__class__:fi},function(e,n,t,i){this.w=0,this.z=0,this.y=0,this.x=0,null!=e&&(this.x=e),null!=n&&(this.y=n),null!=t&&(this.z=t),null!=i&&(this.w=i)}),Ci=((E["clay.graphics.Vector4"]=pi).__name__="clay.graphics.Vector4",pi.prototype={x:null,y:null,z:null,w:null,__class__:pi},(E["clay.spec.GraphicsBatcher"]=I2).__name__="clay.spec.GraphicsBatcher",I2.__isInterface__=!0,I2.prototype={initBuffers:null,beginRender:null,endRender:null,setVertexLayout:null,setCustomAttributes:null,putVertex:null,putVertexWithTextureSlot:null,putUVs:null,putColor:null,putIndex:null,putFloatAttribute:null,endFloatAttributes:null,getNumVertices:null,shouldFlush:null,remainingVertices:null,remainingIndices:null,hasAnythingToFlush:null,flush:null,clear:null,setViewport:null,setPrimitiveType:null,enableBlending:null,disableBlending:null,setBlendFuncSeparate:null,setActiveTexture:null,bindTexture:null,bindNoTexture:null,shouldFlipRenderTargetY:null,setRenderTarget:null,blitRenderTargetBuffers:null,useShader:null,setProjectionMatrix:null,setModelViewMatrix:null,beginStencilWrite:null,endStencilWrite:null,enableStencilTest:null,disableStencilTest:null,enableScissor:null,disableScissor:null,__class__:I2},function(){this._primitiveType=4,this._colorIndex=0,this._numColors=0,this._uvIndex=0,this._numUVs=0,this._currentShader=null,this._floatAttributesSize=0,this._posIndex=0,this._numPos=0,this._numIndices=0,this._vertexSize=0,this._maxVerts=0,this._customAttributes=null,this._customGLBuffers=[],this._posSize=0,this._batchMultiTexture=!1,this._colorListArray=[],this._uvListArray=[],this._indiceListArray=[],this._posListArray=[]}),vi=((E["clay.opengl.GLGraphicsBatcher"]=Ci).__name__="clay.opengl.GLGraphicsBatcher",Ci.__interfaces__=[I2],Ci.prototype={_buffersIndex:null,_posListArray:null,_indiceListArray:null,_uvListArray:null,_colorListArray:null,_posList:null,_indiceList:null,_uvList:null,_colorList:null,_batchMultiTexture:null,_posSize:null,_customGLBuffers:null,_customAttributes:null,_maxVerts:null,_vertexSize:null,_numIndices:null,_numPos:null,_posIndex:null,_floatAttributesSize:null,_currentShader:null,_numUVs:null,_uvIndex:null,_numColors:null,_colorIndex:null,_primitiveType:null,initBuffers:function(){this._buffersIndex=-1,this.prepareNextBuffers()},prepareNextBuffers:function(){this._buffersIndex++,64<this._buffersIndex&&(this._buffersIndex=0),this._posListArray.length<=this._buffersIndex&&(this._posListArray[this._buffersIndex]=new Float32Array(65536),this._uvListArray[this._buffersIndex]=new Float32Array(43691),this._colorListArray[this._buffersIndex]=new Float32Array(65536),this._indiceListArray[this._buffersIndex]=new Uint16Array(32768)),this._posList=this._posListArray[this._buffersIndex],this._uvList=this._uvListArray[this._buffersIndex],this._colorList=this._colorListArray[this._buffersIndex],this._indiceList=this._indiceListArray[this._buffersIndex]},beginRender:function(){ne.gl.enableVertexAttribArray(0),ne.gl.enableVertexAttribArray(1),ne.gl.enableVertexAttribArray(2)},endRender:function(){},setVertexLayout:function(e,n){this._floatAttributesSize=n,this._batchMultiTexture=e,this._vertexSize=3+this._floatAttributesSize+(this._batchMultiTexture?1:0),this._posSize=this._vertexSize,this._vertexSize<4&&(this._vertexSize=4),this._maxVerts=0|Math.floor(65536/this._vertexSize),0==this._numPos&&(this._numIndices=0,this._numPos=0,this._numUVs=0,this._numColors=0,this._posIndex=0,this._uvIndex=0,this._colorIndex=0)},setCustomAttributes:function(e){this._customAttributes=e},resetIndexes:function(){this._numIndices=0,this._numPos=0,this._numUVs=0,this._numColors=0,this._posIndex=0,this._uvIndex=0,this._colorIndex=0},putVertex:function(e,n,t){this._posList[this._posIndex]=e,this._posList[this._posIndex+1]=n,this._posList[this._posIndex+2]=t,this._posIndex+=3,this._numPos++},putVertexWithTextureSlot:function(e,n,t,i){this._posList[this._posIndex]=e,this._posList[this._posIndex+1]=n,this._posList[this._posIndex+2]=t,this._posList[this._posIndex+3]=i,this._posIndex+=4,this._numPos++},putUVs:function(e,n){this._uvList[this._uvIndex]=e,this._uvList[this._uvIndex+1]=n,this._uvIndex+=2,this._numUVs++},putColor:function(e,n,t,i){this._colorList[this._colorIndex]=e,this._colorList[this._colorIndex+1]=n,this._colorList[this._colorIndex+2]=t,this._colorList[this._colorIndex+3]=i,this._colorIndex+=4,this._numColors++},putIndex:function(e){this._indiceList[this._numIndices]=e,this._numIndices++},putFloatAttribute:function(e,n){this._posList[this._posIndex+e]=n},endFloatAttributes:function(){this._posIndex+=this._floatAttributesSize},getNumVertices:function(){return this._numPos},shouldFlush:function(e,n){return!(this._numPos+e<=this._maxVerts)||16384<this._numIndices+n},remainingVertices:function(){return this._maxVerts-this._numPos},remainingIndices:function(){return 16384-this._numIndices},hasAnythingToFlush:function(){return 0<this._numPos},flush:function(){var e=this._batchMultiTexture,n=new Float32Array(this._posList.buffer,0,4*this._posIndex/4|0),t=new Float32Array(this._uvList.buffer,0,4*this._uvIndex/4|0),i=new Float32Array(this._colorList.buffer,0,4*this._colorIndex/4|0),l=new Uint16Array(this._indiceList.buffer,0,2*this._numIndices/2|0),s=ne.gl.createBuffer(),r=ne.gl.createBuffer(),h=ne.gl.createBuffer(),a=ne.gl.createBuffer(),o=(ne.gl.enableVertexAttribArray(0),ne.gl.enableVertexAttribArray(1),ne.gl.enableVertexAttribArray(2),ne.gl.bindBuffer(34962,s),ne.gl.vertexAttribPointer(0,3,5126,!1,4*this._posSize,0),ne.gl.bufferData(34962,n,35040),ne.gl.bindBuffer(34962,h),ne.gl.vertexAttribPointer(1,2,5126,!1,0,0),ne.gl.bufferData(34962,t,35040),ne.gl.bindBuffer(34962,r),ne.gl.vertexAttribPointer(2,4,5126,!1,0,0),ne.gl.bufferData(34962,i,35040),3),c=3,t=0;if(e&&(O=ne.gl.createBuffer(),this._customGLBuffers[t++]=O,ne.gl.enableVertexAttribArray(c),ne.gl.bindBuffer(34962,O),ne.gl.vertexAttribPointer(c,1,5126,!1,4*this._posSize,4*o),ne.gl.bufferData(34962,n,35040),++c,++o),null!=this._customAttributes)for(var u=this._customAttributes,_=t,i=_+u.length,d=(t+=u.length,_),b=i;d<b;){var g=u[(f=d++)-_],O=ne.gl.createBuffer();this._customGLBuffers[f]=O,ne.gl.enableVertexAttribArray(c),ne.gl.bindBuffer(34962,O),ne.gl.vertexAttribPointer(c,g.size,5126,!1,4*this._posSize,4*o),ne.gl.bufferData(34962,n,35040),++c,o+=g.size}if(ne.gl.bindBuffer(34963,a),ne.gl.bufferData(34963,l,35040),ne.gl.drawElements(this._primitiveType,this._numIndices,5123,0),ne.gl.deleteBuffer(s),ne.gl.deleteBuffer(r),ne.gl.deleteBuffer(h),0<t)for(c=3,d=0,b=t;d<b;){var f=d++,O=this._customGLBuffers[f];ne.gl.deleteBuffer(O),ne.gl.disableVertexAttribArray(c),++c}ne.gl.bindBuffer(34963,null),ne.gl.deleteBuffer(a),n=null,this._numIndices=0,this._numPos=0,this._numUVs=0,this._numColors=0,this._posIndex=0,this._uvIndex=0,this._colorIndex=0,this.prepareNextBuffers()},clear:function(e,n,t,i,l){ee._graphics.clear(e,n,t,i,l)},setViewport:function(e,n,t,i){ee._graphics;ne.gl.viewport(e,n,t,i)},setPrimitiveType:function(e){this._primitiveType=1==e?1:4},enableBlending:function(){ee._graphics;ne.gl.enable(3042)},disableBlending:function(){ee._graphics;ne.gl.disable(3042)},setBlendFuncSeparate:function(e,n,t,i){ee._graphics;ne.gl.blendFuncSeparate(e,n,t,i)},setActiveTexture:function(e){var n=ee._graphics;if(n._activeTextureSlot!=e){for(n._activeTextureSlot=e;n._boundTexture2D.length<=n._activeTextureSlot;)n._boundTexture2D.push(null);ne.gl.activeTexture(33984+e)}},bindTexture:function(e){var n=ee._graphics;n._boundTexture2D[n._activeTextureSlot]!=e&&(n._boundTexture2D[n._activeTextureSlot]=e,ne.gl.bindTexture(3553,e))},bindNoTexture:function(){var e=ee._graphics,n=Ci.defaultTextureId;e._boundTexture2D[e._activeTextureSlot]!=n&&(e._boundTexture2D[e._activeTextureSlot]=n,ne.gl.bindTexture(3553,n))},shouldFlipRenderTargetY:function(){return!0},setRenderTarget:function(e){var n=ee._graphics;null!=e?(n.bindFramebuffer((e=e).framebuffer),n.bindRenderbuffer(e.renderbuffer)):(n.bindFramebuffer(null),n.bindRenderbuffer(null))},blitRenderTargetBuffers:function(e,n,t){ee._graphics.blitRenderTargetBuffers(e,n,t)},useShader:function(e){this._currentShader=e;var n=ee._graphics;n._boundProgram!=e.program&&(n._boundProgram=e.program,ne.gl.useProgram(e.program))},setProjectionMatrix:function(e){ee._graphics.projectionMatrix=e},setModelViewMatrix:function(e){ee._graphics.modelViewMatrix=e},beginStencilWrite:function(){ne.gl.stencilMask(255),ne.gl.clearStencil(255),ne.gl.clear(1024),ne.gl.enable(2960),ne.gl.stencilOp(7680,7680,7681),ne.gl.stencilFunc(519,1,255),ne.gl.stencilMask(255),ne.gl.colorMask(!1,!1,!1,!1)},endStencilWrite:function(){},enableStencilTest:function(){ne.gl.stencilFunc(514,1,255),ne.gl.stencilMask(0),ne.gl.colorMask(!0,!0,!0,!0),ne.gl.enable(2960)},disableStencilTest:function(){ne.gl.stencilFunc(519,1,255),ne.gl.stencilMask(255),ne.gl.colorMask(!0,!0,!0,!0),ne.gl.disable(2960)},enableScissor:function(e,n,t,i){ne.gl.enable(3089),ne.gl.scissor(Math.round(e),Math.round(n),Math.round(t),Math.round(i))},disableScissor:function(){ne.gl.disable(3089)},__class__:Ci},(E["clay.spec.GraphicsDriver"]=K2).__name__="clay.spec.GraphicsDriver",K2.__isInterface__=!0,K2.prototype={get_noTexture:null,get_noFramebuffer:null,get_noRenderbuffer:null,get_noShader:null,get_noProgram:null,get_noLocation:null,get_noBuffer:null,setup:null,getMaxTextureSize:null,getMaxTextureUnits:null,testShaderCompilationLimit:null,loadExtensions:null,readPixels:null,clear:null,setViewport:null,enableBlending:null,disableBlending:null,setBlendFuncSeparate:null,createTextureId:null,deleteTexture:null,setActiveTexture:null,bindTexture2d:null,maxTextureSize:null,needsPreprocessedPremultipliedAlpha:null,submitTexture2dPixels:null,submitCompressedTexture2dPixels:null,fetchTexture2dPixels:null,setTexture2dMinFilter:null,setTexture2dMagFilter:null,setTexture2dWrapS:null,setTexture2dWrapT:null,createShader:null,deleteShader:null,useShader:null,synchronizeShaderMatrices:null,getUniformLocation:null,setIntUniform:null,setIntArrayUniform:null,setFloatUniform:null,setFloatArrayUniform:null,setVector2Uniform:null,setVector3Uniform:null,setVector4Uniform:null,setMatrix2Uniform:null,setMatrix3Uniform:null,setMatrix4Uniform:null,setTexture2dUniform:null,createRenderTarget:null,deleteRenderTarget:null,setRenderTarget:null,configureRenderTargetBuffersStorage:null,blitRenderTargetBuffers:null,createFramebuffer:null,bindFramebuffer:null,createRenderbuffer:null,bindRenderbuffer:null,ensureNoError:null,__class__:K2,__properties__:{get_noBuffer:"get_noBuffer",get_noLocation:"get_noLocation",get_noProgram:"get_noProgram",get_noShader:"get_noShader",get_noRenderbuffer:"get_noRenderbuffer",get_noFramebuffer:"get_noFramebuffer",get_noTexture:"get_noTexture"}},function(){this.modelViewMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this.projectionMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this._didFetchDefaultBuffers=!1,this._activeTextureSlot=-1,this._boundTexture2D=[],this._boundProgram=null,this._boundFramebuffer=null,this._boundRenderbuffer=null,this._defaultFramebuffer=null,this._defaultRenderbuffer=null,this._clearBufferForBlitValues=new Float32Array([0,0,0,1])}),wi=((E["clay.opengl.GLGraphicsDriver"]=vi).__name__="clay.opengl.GLGraphicsDriver",vi.__interfaces__=[K2],vi.prototype={get_noTexture:function(){return null},get_noFramebuffer:function(){return null},get_noRenderbuffer:function(){return null},get_noShader:function(){return null},get_noProgram:function(){return null},get_noLocation:function(){return null},get_noBuffer:function(){return null},_boundTexture2D:null,_boundProgram:null,_activeTextureSlot:null,_boundFramebuffer:null,_boundRenderbuffer:null,_didFetchDefaultBuffers:null,_defaultFramebuffer:null,_defaultRenderbuffer:null,_clearBufferForBlitValues:null,setup:function(){this._defaultFramebuffer=ne.gl.getParameter(36006),this._defaultRenderbuffer=ne.gl.getParameter(36007),this._didFetchDefaultBuffers=!0},getMaxTextureSize:function(){var e=ne.gl.getParameter(3379);return e=e<=0?4096:e},getMaxTextureUnits:function(){var e=ne.gl.getParameter(34930);return 0|Math.min(32,e)},testShaderCompilationLimit:function(e){null==e&&(e=32);for(var n=z.trim("\n#ifdef GL_ES\nprecision mediump float;\n#else\n#define mediump\n#endif\nvarying float test;\nvoid main() {\n    {{CONDITIONS}}\n    gl_FragColor = vec4(0.0);\n}\n"),t=ne.gl.createShader(35632),i=0;0<e;){var l=this._generateIfStatements(e),l=z.replace(n,"{{CONDITIONS}}",l);if(ne.gl.shaderSource(t,l),ne.gl.compileShader(t),0!=ne.gl.getShaderParameter(t,35713)){i=e;break}e=e/2|0}return ne.gl.deleteShader(t),i},_generateIfStatements:function(e){for(var n="",t=0,i=e;t<i;){var l=t++;0<l&&(n+="\nelse "),l<e-1&&(n=(n+="if (test == ")+(null==l?"null":""+l)+".0) {}")}return n},loadExtensions:function(){ne.gl.getExtension("OES_standard_derivatives")},readPixels:function(e,n,t,i,l){ne.gl.readPixels(e,n,t,i,6408,5121,l)},clear:function(e,n,t,i,l){null==l&&(l=!0),ne.gl.clearColor(e,n,t,i),l&&0<ee.app.config.render.depth?(ne.gl.clear(16640),ne.gl.clearDepth(1)):ne.gl.clear(16384)},setViewport:function(e,n,t,i){ne.gl.viewport(e,n,t,i)},enableBlending:function(){ne.gl.enable(3042)},disableBlending:function(){ne.gl.disable(3042)},setBlendFuncSeparate:function(e,n,t,i){ne.gl.blendFuncSeparate(e,n,t,i)},createTextureId:function(){return ne.gl.createTexture()},deleteTexture:function(e){ne.gl.deleteTexture(e);for(var n=0,t=this._boundTexture2D.length;n<t;){var i=n++;this._boundTexture2D[i]==e&&(this._boundTexture2D[i]=null)}},setActiveTexture:function(e){if(this._activeTextureSlot!=e){for(this._activeTextureSlot=e;this._boundTexture2D.length<=this._activeTextureSlot;)this._boundTexture2D.push(null);ne.gl.activeTexture(33984+e)}},bindTexture2d:function(e){this._boundTexture2D[this._activeTextureSlot]!=e&&(this._boundTexture2D[this._activeTextureSlot]=e,ne.gl.bindTexture(3553,e))},maxTextureSize:function(){var e=ne.gl.getParameter(3379);return e=e<=0?4096:e},needsPreprocessedPremultipliedAlpha:function(){return!1},submitTexture2dPixels:function(e,n,t,i,l,s,r){ne.gl.pixelStorei(37441,r?1:0),ne.gl.texImage2D(3553,e,n,t,i,0,n,l,s)},submitCompressedTexture2dPixels:function(e,n,t,i,l,s){ne.gl.pixelStorei(37441,s?1:0),ne.gl.compressedTexImage2D(3553,e,n,t,i,0,l)},fetchTexture2dPixels:function(e,n,t,i,l){if(null==e)throw $.thrown("Texture fetch requires a valid buffer to store the pixels.");var s=this._boundTexture2D[this._activeTextureSlot],r=i*l*4;if(e.length<r)throw $.thrown("Texture fetch requires at least "+r+" (w * h * 4) bytes for the pixels, you have "+e.length+"!");r=ne.gl.createFramebuffer();if(ne.gl.bindFramebuffer(36160,r),ne.gl.framebufferTexture2D(36160,36064,3553,s,0),36053!=ne.gl.checkFramebufferStatus(36160))throw $.thrown("Incomplete framebuffer");ne.gl.readPixels(n,t,i,l,6408,5121,e),ne.gl.bindFramebuffer(36160,null),ne.gl.deleteFramebuffer(r)},setTexture2dMinFilter:function(e){ne.gl.texParameteri(3553,10241,e)},setTexture2dMagFilter:function(e){ne.gl.texParameteri(3553,10240,e)},setTexture2dWrapS:function(e){ne.gl.texParameteri(3553,10242,e)},setTexture2dWrapT:function(e){ne.gl.texParameteri(3553,10243,e)},createFramebuffer:function(){return ne.gl.createFramebuffer()},bindFramebuffer:function(e){this._boundFramebuffer!=e&&(null==(this._boundFramebuffer=e)&&(e=this._defaultFramebuffer),ne.gl.bindFramebuffer(36160,e))},createRenderbuffer:function(){return ne.gl.createRenderbuffer()},bindRenderbuffer:function(e){this._boundRenderbuffer!=e&&(null==(this._boundRenderbuffer=e)&&(e=this._defaultRenderbuffer),ne.gl.bindRenderbuffer(36161,e))},createRenderTarget:function(e,n,t,i,l,s,r,h,a){var o=new wi;return ne.gl.texImage2D(3553,r,h,n,t,0,h,a,null),o.framebuffer=ne.gl.createFramebuffer(),o.renderbuffer=ne.gl.createRenderbuffer(),1<s?(o.msResolveFramebuffer=ne.gl.createFramebuffer(),o.msResolveColorRenderbuffer=ne.gl.createRenderbuffer(),o.msDepthStencilRenderbuffer=i||l?ne.gl.createRenderbuffer():null):(o.msResolveFramebuffer=null,o.msResolveColorRenderbuffer=null,o.msDepthStencilRenderbuffer=null),this.configureRenderTargetBuffersStorage(o,e,n,t,i,l,s),o},deleteRenderTarget:function(e){null!=e.framebuffer&&(this._boundFramebuffer==e.framebuffer&&(this._boundFramebuffer=null),ne.gl.deleteFramebuffer(e.framebuffer),e.framebuffer=null),null!=e.renderbuffer&&(this._boundRenderbuffer==e.renderbuffer&&(this._boundRenderbuffer=null),ne.gl.deleteRenderbuffer(e.renderbuffer),e.renderbuffer=null),null!=e.msDepthStencilRenderbuffer&&(this._boundRenderbuffer==e.msDepthStencilRenderbuffer&&(this._boundRenderbuffer=null),ne.gl.deleteRenderbuffer(e.msDepthStencilRenderbuffer),e.msDepthStencilRenderbuffer=null),null!=e.msResolveColorRenderbuffer&&(this._boundRenderbuffer==e.msResolveColorRenderbuffer&&(this._boundRenderbuffer=null),ne.gl.deleteRenderbuffer(e.msResolveColorRenderbuffer),e.msResolveColorRenderbuffer=null),null!=e.msResolveFramebuffer&&(this._boundFramebuffer==e.msResolveFramebuffer&&(this._boundFramebuffer=null),ne.gl.deleteFramebuffer(e.msResolveFramebuffer),e.msResolveFramebuffer=null)},setRenderTarget:function(e){null!=e?(this.bindFramebuffer((e=e).framebuffer),this.bindRenderbuffer(e.renderbuffer)):(this.bindFramebuffer(null),this.bindRenderbuffer(null))},configureRenderTargetBuffersStorage:function(e,n,t,i,l,s,r){1<r?(this.bindRenderbuffer(e.renderbuffer),ne.gl.renderbufferStorageMultisample(36161,r,32856,t,i),(l||s)&&(this.bindRenderbuffer(e.msDepthStencilRenderbuffer),s?ne.gl.renderbufferStorageMultisample(36161,r,35056,t,i):ne.gl.renderbufferStorageMultisample(36161,r,33189,t,i)),this.bindFramebuffer(e.framebuffer),ne.gl.framebufferRenderbuffer(36160,36064,36161,e.renderbuffer),(l||s)&&(s?ne.gl.framebufferRenderbuffer(36160,33306,36161,e.msDepthStencilRenderbuffer):ne.gl.framebufferRenderbuffer(36160,36096,36161,e.msDepthStencilRenderbuffer)),this.bindRenderbuffer(e.msResolveColorRenderbuffer),ne.gl.renderbufferStorage(36161,32856,t,i),this.bindFramebuffer(e.msResolveFramebuffer),ne.gl.framebufferTexture2D(36160,36064,3553,n,0)):(this.bindRenderbuffer(e.renderbuffer),s?ne.gl.renderbufferStorage(36161,34041,t,i):l?ne.gl.renderbufferStorage(36161,33189,t,i):ne.gl.renderbufferStorage(36161,6408,t,i),this.bindFramebuffer(e.framebuffer),ne.gl.framebufferTexture2D(36160,36064,3553,n,0),(l||s)&&(s?ne.gl.framebufferRenderbuffer(36160,33306,36161,e.renderbuffer):ne.gl.framebufferRenderbuffer(36160,36096,36161,e.renderbuffer)));var h=ne.gl.checkFramebufferStatus(36160);switch(h){case 36053:break;case 36054:throw $.thrown("Incomplete framebuffer: FRAMEBUFFER_INCOMPLETE_ATTACHMENT");case 36055:throw $.thrown("Incomplete framebuffer: FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT");case 36057:throw $.thrown("Incomplete framebuffer: FRAMEBUFFER_INCOMPLETE_DIMENSIONS");case 36059:throw $.thrown("Incomplete framebuffer: FRAMEBUFFER_INCOMPLETE_DRAW_BUFFER");case 36060:throw $.thrown("Incomplete framebuffer: FRAMEBUFFER_INCOMPLETE_READ_BUFFER");case 36061:throw $.thrown("Incomplete framebuffer: FRAMEBUFFER_UNSUPPORTED");case 36182:throw $.thrown("Incomplete framebuffer: FRAMEBUFFER_INCOMPLETE_MULTISAMPLE");default:throw $.thrown("Incomplete framebuffer: "+h)}this.bindFramebuffer(null),this.bindRenderbuffer(null)},blitRenderTargetBuffers:function(e,n,t){ne.gl.bindFramebuffer(36008,e.framebuffer),ne.gl.bindFramebuffer(36009,e.msResolveFramebuffer),ne.gl.clearBufferfv(6144,0,this._clearBufferForBlitValues,0),ne.gl.blitFramebuffer(0,0,n,t,0,0,n,t,16384,9728),ne.gl.bindFramebuffer(36008,null),ne.gl.bindFramebuffer(36009,null)},createShader:function(e,n,t,i){if(null==e)throw $.thrown("Cannot create shader: vertSource is null!");if(null==n)throw $.thrown("Cannot create shader: fragSource is null!");e=this.patchGlslVersion(e),n=this.patchGlslVersion(n);var l=new mi;return l.vertShader=this.compileGLShader(35633,e),null!=l.vertShader&&(l.fragShader=this.compileGLShader(35632,n),null!=l.fragShader)&&this.linkShader(l,t)?(null!=i&&this.configureShaderTextureSlots(l,i),l):(this.deleteShader(l),null)},patchGlslVersion:function(e){return e},deleteShader:function(e){this._boundProgram==e.program&&(this._boundProgram=null),null!=e.vertShader&&(ne.gl.deleteShader(e.vertShader),e.vertShader=null),null!=e.fragShader&&(ne.gl.deleteShader(e.fragShader),e.fragShader=null),null!=e.program&&(ne.gl.deleteProgram(e.program),e.program=null)},useShader:function(e){this._boundProgram!=e.program&&(this._boundProgram=e.program,ne.gl.useProgram(e.program))},synchronizeShaderMatrices:function(e){var n=ne.gl.getUniformLocation(e.program,"projectionMatrix"),t=this.projectionMatrix,i=(this._boundProgram!=(i=e).program&&(this._boundProgram=i.program,ne.gl.useProgram(i.program)),ne.gl.uniformMatrix4fv(n,!1,t),e),n=ne.gl.getUniformLocation(i.program,"modelViewMatrix"),t=this.modelViewMatrix;this._boundProgram!=(i=e).program&&(this._boundProgram=i.program,ne.gl.useProgram(i.program)),ne.gl.uniformMatrix4fv(n,!1,t)},getUniformLocation:function(e,n){return ne.gl.getUniformLocation(e.program,n)},setIntUniform:function(e,n,t){this._boundProgram!=e.program&&(this._boundProgram=e.program,ne.gl.useProgram(e.program)),ne.gl.uniform1i(n,t)},setIntArrayUniform:function(e,n,t){this._boundProgram!=e.program&&(this._boundProgram=e.program,ne.gl.useProgram(e.program)),ne.gl.uniform1iv(n,t)},setFloatUniform:function(e,n,t){this._boundProgram!=e.program&&(this._boundProgram=e.program,ne.gl.useProgram(e.program)),ne.gl.uniform1f(n,t)},setFloatArrayUniform:function(e,n,t){this._boundProgram!=e.program&&(this._boundProgram=e.program,ne.gl.useProgram(e.program)),ne.gl.uniform1fv(n,t)},setVector2Uniform:function(e,n,t,i){this._boundProgram!=e.program&&(this._boundProgram=e.program,ne.gl.useProgram(e.program)),ne.gl.uniform2f(n,t,i)},setVector3Uniform:function(e,n,t,i,l){this._boundProgram!=e.program&&(this._boundProgram=e.program,ne.gl.useProgram(e.program)),ne.gl.uniform3f(n,t,i,l)},setVector4Uniform:function(e,n,t,i,l,s){this._boundProgram!=e.program&&(this._boundProgram=e.program,ne.gl.useProgram(e.program)),ne.gl.uniform4f(n,t,i,l,s)},setMatrix2Uniform:function(e,n,t){this._boundProgram!=e.program&&(this._boundProgram=e.program,ne.gl.useProgram(e.program)),ne.gl.uniformMatrix2fv(n,!1,t)},setMatrix3Uniform:function(e,n,t){this._boundProgram!=e.program&&(this._boundProgram=e.program,ne.gl.useProgram(e.program)),ne.gl.uniformMatrix3fv(n,!1,t)},setMatrix4Uniform:function(e,n,t){this._boundProgram!=e.program&&(this._boundProgram=e.program,ne.gl.useProgram(e.program)),ne.gl.uniformMatrix4fv(n,!1,t)},setTexture2dUniform:function(e,n,t,i){if(this._boundProgram!=e.program&&(this._boundProgram=e.program,ne.gl.useProgram(e.program)),ne.gl.uniform1i(n,t),this._activeTextureSlot!=t){for(this._activeTextureSlot=t;this._boundTexture2D.length<=this._activeTextureSlot;)this._boundTexture2D.push(null);ne.gl.activeTexture(33984+t)}this._boundTexture2D[this._activeTextureSlot]!=i&&(this._boundTexture2D[this._activeTextureSlot]=i,ne.gl.bindTexture(3553,i))},projectionMatrix:null,modelViewMatrix:null,linkShader:function(e,n){var t=ne.gl.createProgram();if(ne.gl.attachShader(t,e.vertShader),ne.gl.attachShader(t,e.fragShader),null!=n)for(var i=0,l=n.length;i<l;){var s=i++;ne.gl.bindAttribLocation(t,s,n[s])}if(ne.gl.linkProgram(t),0!=ne.gl.getProgramParameter(t,35714))return e.program=t,!0;hi.error("\tFailed to link shader program:",{fileName:"../../../../ceramic/git/clay/src-opengl/clay/opengl/GLGraphicsDriver.hx",lineNumber:1198,className:"clay.opengl.GLGraphicsDriver",methodName:"linkShader"});for(var i=[],l=0,r=a=ne.gl.getProgramInfoLog(t).split("\n");l<r.length;){var h=r[l];++l,""!=z.trim(h)&&i.push(h)}for(var a=i,o=new Array(a.length),i=0,l=a.length;i<l;)o[s=i++]="\t\t"+z.trim(a[s]);return hi.error((a=o).join("\n"),{fileName:"../../../../ceramic/git/clay/src-opengl/clay/opengl/GLGraphicsDriver.hx",lineNumber:1199,className:"clay.opengl.GLGraphicsDriver",methodName:"linkShader"}),ne.gl.deleteProgram(t),!1},configureShaderTextureSlots:function(e,n){for(var t=e,i=(this._boundProgram!=t.program&&(this._boundProgram=t.program,ne.gl.useProgram(t.program)),0),l=n.length;i<l;){var s=i++,r=n[s],h=ne.gl.getUniformLocation(e.program,r);null!=h&&(ne.gl.uniform1i(h,s),e.textures[s]=r)}},compileGLShader:function(e,n){var t,i=ne.gl.createShader(e),n=(ne.gl.shaderSource(i,n),ne.gl.compileShader(i),ne.gl.getShaderInfoLog(i)),l="";if(null!=n&&0<n.length){l+="\n\t// start -- ("+(35632==e?"frag":"vert")+") compile log --\n";for(var s=[],r=0,h=c=n.split("\n");r<h.length;){var a=h[r];++r,""!=z.trim(a)&&s.push(a)}c=s;for(var o=new Array(c.length),s=0,r=c.length;s<r;)o[u=s++]="\t\t"+z.trim(c[u]);l=l+(c=o).join("\n")+"\n\t// end --\n"}if(0==ne.gl.getShaderParameter(i,35713)){if(hi.error("GL / Failed to compile shader:",{fileName:"../../../../ceramic/git/clay/src-opengl/clay/opengl/GLGraphicsDriver.hx",lineNumber:1261,className:"clay.opengl.GLGraphicsDriver",methodName:"compileGLShader"}),0==l.length){for(var c,s=[],r=0,h=c=ne.gl.getShaderInfoLog(i).split("\n");r<h.length;){a=h[r];++r,""!=z.trim(a)&&s.push(a)}c=s;for(var u,o=new Array(c.length),s=0,r=c.length;s<r;)o[u=s++]="\t\t"+z.trim(c[u]);t=(c=o).join("\n")}else t=l;hi.error(t,{fileName:"../../../../ceramic/git/clay/src-opengl/clay/opengl/GLGraphicsDriver.hx",lineNumber:1262,className:"clay.opengl.GLGraphicsDriver",methodName:"compileGLShader"}),ne.gl.deleteShader(i),i=null}return i},ensureNoError:function(){var e=ne.gl.getError();if(0!=e)throw $.thrown("Failed with GL error: "+e)},__class__:vi,__properties__:{get_noBuffer:"get_noBuffer",get_noLocation:"get_noLocation",get_noProgram:"get_noProgram",get_noShader:"get_noShader",get_noRenderbuffer:"get_noRenderbuffer",get_noFramebuffer:"get_noFramebuffer",get_noTexture:"get_noTexture"}},function(){}),mi=((E["clay.opengl.GLGraphicsDriver_RenderTarget"]=wi).__name__="clay.opengl.GLGraphicsDriver_RenderTarget",wi.prototype={framebuffer:null,renderbuffer:null,msResolveFramebuffer:null,msResolveColorRenderbuffer:null,msDepthStencilRenderbuffer:null,__class__:wi},function(){this.textures=[]}),ne=((E["clay.opengl.GLGraphicsDriver_GpuShader"]=mi).__name__="clay.opengl.GLGraphicsDriver_GpuShader",mi.prototype={vertShader:null,fragShader:null,program:null,textures:null,__class__:mi},function(){}),yi=((E["clay.opengl.web.GL"]=ne).__name__="clay.opengl.web.GL",ne.__properties__={get_version:"get_version"},ne.versionString=function(){return"/ "+ne.gl.getParameter(7938)+" / "+ne.gl.getParameter(35724)+" / "+ne.gl.getParameter(7937)+" / "+ne.gl.getParameter(7936)+" /"},ne.activeTexture=function(e){ne.gl.activeTexture(e)},ne.attachShader=function(e,n){ne.gl.attachShader(e,n)},ne.bindAttribLocation=function(e,n,t){ne.gl.bindAttribLocation(e,n,t)},ne.bindBuffer=function(e,n){ne.gl.bindBuffer(e,n)},ne.bindFramebuffer=function(e,n){ne.gl.bindFramebuffer(e,n)},ne.bindRenderbuffer=function(e,n){ne.gl.bindRenderbuffer(e,n)},ne.bindTexture=function(e,n){ne.gl.bindTexture(e,n)},ne.blendColor=function(e,n,t,i){ne.gl.blendColor(e,n,t,i)},ne.blendEquation=function(e){ne.gl.blendEquation(e)},ne.blendEquationSeparate=function(e,n){ne.gl.blendEquationSeparate(e,n)},ne.blendFunc=function(e,n){ne.gl.blendFunc(e,n)},ne.blendFuncSeparate=function(e,n,t,i){ne.gl.blendFuncSeparate(e,n,t,i)},ne.bufferData=function(e,n,t){ne.gl.bufferData(e,n,t)},ne.bufferSubData=function(e,n,t){ne.gl.bufferSubData(e,n,t)},ne.checkFramebufferStatus=function(e){return ne.gl.checkFramebufferStatus(e)},ne.clear=function(e){ne.gl.clear(e)},ne.clearColor=function(e,n,t,i){ne.gl.clearColor(e,n,t,i)},ne.clearDepth=function(e){ne.gl.clearDepth(e)},ne.clearStencil=function(e){ne.gl.clearStencil(e)},ne.colorMask=function(e,n,t,i){ne.gl.colorMask(e,n,t,i)},ne.compileShader=function(e){ne.gl.compileShader(e)},ne.compressedTexImage2D=function(e,n,t,i,l,s,r){ne.gl.compressedTexImage2D(e,n,t,i,l,s,r)},ne.compressedTexSubImage2D=function(e,n,t,i,l,s,r,h){ne.gl.compressedTexSubImage2D(e,n,t,i,l,s,r,h)},ne.copyTexImage2D=function(e,n,t,i,l,s,r,h){ne.gl.copyTexImage2D(e,n,t,i,l,s,r,h)},ne.copyTexSubImage2D=function(e,n,t,i,l,s,r,h){ne.gl.copyTexSubImage2D(e,n,t,i,l,s,r,h)},ne.createBuffer=function(){return ne.gl.createBuffer()},ne.createFramebuffer=function(){return ne.gl.createFramebuffer()},ne.createProgram=function(){return ne.gl.createProgram()},ne.createRenderbuffer=function(){return ne.gl.createRenderbuffer()},ne.createShader=function(e){return ne.gl.createShader(e)},ne.createTexture=function(){return ne.gl.createTexture()},ne.cullFace=function(e){ne.gl.cullFace(e)},ne.deleteBuffer=function(e){ne.gl.deleteBuffer(e)},ne.deleteFramebuffer=function(e){ne.gl.deleteFramebuffer(e)},ne.deleteProgram=function(e){ne.gl.deleteProgram(e)},ne.deleteRenderbuffer=function(e){ne.gl.deleteRenderbuffer(e)},ne.deleteShader=function(e){ne.gl.deleteShader(e)},ne.deleteTexture=function(e){ne.gl.deleteTexture(e)},ne.depthFunc=function(e){ne.gl.depthFunc(e)},ne.depthMask=function(e){ne.gl.depthMask(e)},ne.depthRange=function(e,n){ne.gl.depthRange(e,n)},ne.detachShader=function(e,n){ne.gl.detachShader(e,n)},ne.disable=function(e){ne.gl.disable(e)},ne.disableVertexAttribArray=function(e){ne.gl.disableVertexAttribArray(e)},ne.drawArrays=function(e,n,t){ne.gl.drawArrays(e,n,t)},ne.drawElements=function(e,n,t,i){ne.gl.drawElements(e,n,t,i)},ne.enable=function(e){ne.gl.enable(e)},ne.enableVertexAttribArray=function(e){ne.gl.enableVertexAttribArray(e)},ne.finish=function(){ne.gl.finish()},ne.flush=function(){ne.gl.flush()},ne.framebufferRenderbuffer=function(e,n,t,i){ne.gl.framebufferRenderbuffer(e,n,t,i)},ne.framebufferTexture2D=function(e,n,t,i,l){ne.gl.framebufferTexture2D(e,n,t,i,l)},ne.frontFace=function(e){ne.gl.frontFace(e)},ne.generateMipmap=function(e){ne.gl.generateMipmap(e)},ne.getActiveAttrib=function(e,n){return ne.gl.getActiveAttrib(e,n)},ne.getActiveUniform=function(e,n){return ne.gl.getActiveUniform(e,n)},ne.getAttachedShaders=function(e){return ne.gl.getAttachedShaders(e)},ne.getAttribLocation=function(e,n){return ne.gl.getAttribLocation(e,n)},ne.getBufferParameter=function(e,n){return ne.gl.getBufferParameter(e,n)},ne.getContextAttributes=function(){return ne.gl.getContextAttributes()},ne.getError=function(){return ne.gl.getError()},ne.getExtension=function(e){return ne.gl.getExtension(e)},ne.getFramebufferAttachmentParameter=function(e,n,t){return ne.gl.getFramebufferAttachmentParameter(e,n,t)},ne.getParameter=function(e){return ne.gl.getParameter(e)},ne.getProgramInfoLog=function(e){return ne.gl.getProgramInfoLog(e)},ne.getProgramParameter=function(e,n){return ne.gl.getProgramParameter(e,n)},ne.getRenderbufferParameter=function(e,n){return ne.gl.getRenderbufferParameter(e,n)},ne.getShaderInfoLog=function(e){return ne.gl.getShaderInfoLog(e)},ne.getShaderParameter=function(e,n){return ne.gl.getShaderParameter(e,n)},ne.getShaderPrecisionFormat=function(e,n){return ne.gl.getShaderPrecisionFormat(e,n)},ne.getShaderSource=function(e){return ne.gl.getShaderSource(e)},ne.getSupportedExtensions=function(){return ne.gl.getSupportedExtensions()},ne.getTexParameter=function(e,n){return ne.gl.getTexParameter(e,n)},ne.getUniform=function(e,n){return ne.gl.getUniform(e,n)},ne.getUniformLocation=function(e,n){return ne.gl.getUniformLocation(e,n)},ne.getVertexAttrib=function(e,n){return ne.gl.getVertexAttrib(e,n)},ne.getVertexAttribOffset=function(e,n){return ne.gl.getVertexAttribOffset(e,n)},ne.hint=function(e,n){ne.gl.hint(e,n)},ne.isBuffer=function(e){return ne.gl.isBuffer(e)},ne.isEnabled=function(e){return ne.gl.isEnabled(e)},ne.isFramebuffer=function(e){return ne.gl.isFramebuffer(e)},ne.isProgram=function(e){return ne.gl.isProgram(e)},ne.isRenderbuffer=function(e){return ne.gl.isRenderbuffer(e)},ne.isShader=function(e){return ne.gl.isShader(e)},ne.isTexture=function(e){return ne.gl.isTexture(e)},ne.lineWidth=function(e){ne.gl.lineWidth(e)},ne.linkProgram=function(e){ne.gl.linkProgram(e)},ne.pixelStorei=function(e,n){ne.gl.pixelStorei(e,n)},ne.polygonOffset=function(e,n){ne.gl.polygonOffset(e,n)},ne.readPixels=function(e,n,t,i,l,s,r){ne.gl.readPixels(e,n,t,i,l,s,r)},ne.renderbufferStorage=function(e,n,t,i){ne.gl.renderbufferStorage(e,n,t,i)},ne.renderbufferStorageMultisample=function(e,n,t,i,l){ne.gl.renderbufferStorageMultisample(e,n,t,i,l)},ne.clearBufferfv=function(e,n,t,i){ne.gl.clearBufferfv(e,n,t,i=null==i?0:i)},ne.blitFramebuffer=function(e,n,t,i,l,s,r,h,a,o){ne.gl.blitFramebuffer(e,n,t,i,l,s,r,h,a,o)},ne.sampleCoverage=function(e,n){ne.gl.sampleCoverage(e,n)},ne.scissor=function(e,n,t,i){ne.gl.scissor(e,n,t,i)},ne.shaderSource=function(e,n){ne.gl.shaderSource(e,n)},ne.stencilFunc=function(e,n,t){ne.gl.stencilFunc(e,n,t)},ne.stencilFuncSeparate=function(e,n,t,i){ne.gl.stencilFuncSeparate(e,n,t,i)},ne.stencilMask=function(e){ne.gl.stencilMask(e)},ne.stencilMaskSeparate=function(e,n){ne.gl.stencilMaskSeparate(e,n)},ne.stencilOp=function(e,n,t){ne.gl.stencilOp(e,n,t)},ne.stencilOpSeparate=function(e,n,t,i){ne.gl.stencilOpSeparate(e,n,t,i)},ne.texImage2D=function(e,n,t,i,l,s,r,h,a){ne.gl.texImage2D(e,n,t,i,l,s,r,h,a)},ne.texParameterf=function(e,n,t){ne.gl.texParameterf(e,n,t)},ne.texParameteri=function(e,n,t){ne.gl.texParameteri(e,n,t)},ne.texSubImage2D=function(e,n,t,i,l,s,r,h,a){ne.gl.texSubImage2D(e,n,t,i,l,s,r,h,a)},ne.uniform1f=function(e,n){ne.gl.uniform1f(e,n)},ne.uniform1fv=function(e,n){ne.gl.uniform1fv(e,n)},ne.uniform1i=function(e,n){ne.gl.uniform1i(e,n)},ne.uniform1iv=function(e,n){ne.gl.uniform1iv(e,n)},ne.uniform2f=function(e,n,t){ne.gl.uniform2f(e,n,t)},ne.uniform2fv=function(e,n){ne.gl.uniform2fv(e,n)},ne.uniform2i=function(e,n,t){ne.gl.uniform2i(e,n,t)},ne.uniform2iv=function(e,n){ne.gl.uniform2iv(e,n)},ne.uniform3f=function(e,n,t,i){ne.gl.uniform3f(e,n,t,i)},ne.uniform3fv=function(e,n){ne.gl.uniform3fv(e,n)},ne.uniform3i=function(e,n,t,i){ne.gl.uniform3i(e,n,t,i)},ne.uniform3iv=function(e,n){ne.gl.uniform3iv(e,n)},ne.uniform4f=function(e,n,t,i,l){ne.gl.uniform4f(e,n,t,i,l)},ne.uniform4fv=function(e,n){ne.gl.uniform4fv(e,n)},ne.uniform4i=function(e,n,t,i,l){ne.gl.uniform4i(e,n,t,i,l)},ne.uniform4iv=function(e,n){ne.gl.uniform4iv(e,n)},ne.uniformMatrix2fv=function(e,n,t){ne.gl.uniformMatrix2fv(e,n,t)},ne.uniformMatrix3fv=function(e,n,t){ne.gl.uniformMatrix3fv(e,n,t)},ne.uniformMatrix4fv=function(e,n,t){ne.gl.uniformMatrix4fv(e,n,t)},ne.useProgram=function(e){ne.gl.useProgram(e)},ne.validateProgram=function(e){ne.gl.validateProgram(e)},ne.vertexAttrib1f=function(e,n){ne.gl.vertexAttrib1f(e,n)},ne.vertexAttrib1fv=function(e,n){ne.gl.vertexAttrib1fv(e,n)},ne.vertexAttrib2f=function(e,n,t){ne.gl.vertexAttrib2f(e,n,t)},ne.vertexAttrib2fv=function(e,n){ne.gl.vertexAttrib2fv(e,n)},ne.vertexAttrib3f=function(e,n,t,i){ne.gl.vertexAttrib3f(e,n,t,i)},ne.vertexAttrib3fv=function(e,n){ne.gl.vertexAttrib3fv(e,n)},ne.vertexAttrib4f=function(e,n,t,i,l){ne.gl.vertexAttrib4f(e,n,t,i,l)},ne.vertexAttrib4fv=function(e,n){ne.gl.vertexAttrib4fv(e,n)},ne.vertexAttribPointer=function(e,n,t,i,l,s){ne.gl.vertexAttribPointer(e,n,t,i,l,s)},ne.viewport=function(e,n,t,i){ne.gl.viewport(e,n,t,i)},ne.get_version=function(){return 7938},function(e){s2.call(this,e)}),Ui=((E["clay.web.WebAssets"]=yi).__name__="clay.web.WebAssets",yi.__super__=s2,yi.prototype=$extend(s2.prototype,{isSynchronous:function(){return!1},loadImage:function(e,n,t,i){null==t&&(t=!1),null==n&&(n=4);var l=this;if(null==e)throw $.thrown("Image path is null!");var s=Nn.extension(e);return this.app.io.loadData(e,!0,null,function(e){null==e?null!=i&&si.push(function(){i(null)}):l.imageFromBytesUsingImageElement(e,s,4,null,function(e){null!=i&&si.push(function(){i(e)})})}),null},decodeImageFromElement:function(e,n){var t=(n=null==n?!0:n)?this.nearestPowerOfTwo(e.width):e.width,n=n?this.nearestPowerOfTwo(e.height):e.height,i=this.paddedBytesFromElement(e.width,e.height,t,n,e),e=new Yc(e.width,e.height,t,n,4,4,i);return e},imageFromBytes:function(e,n,t,i,l){return this.imageFromBytesUsingImageElement(e,n,t=null==t?4:t,i=null==i?!0:i,l)},imageFromBytesUsingImageElement:function(e,n,t,i,l){null==i&&(i=!0),null==t&&(t=4);var s=this;if(null==e)throw $.thrown("Image bytes are null!");for(var r="",h=0,a=e.length;h<a;){var o=255&e[h++];r+=String.fromCodePoint(o)}var t="data:image/"+n+";base64,"+window.btoa(r),c=new Image;return c.onload=function(e){var n=s.decodeImageFromElement(c,i);null!=l&&si.push(function(){l(n)})},c.onerror=function(e){hi.error("failed to load image from bytes, on error: "+e,{fileName:"clay/web/WebAssets.hx",lineNumber:216,className:"clay.web.WebAssets",methodName:"imageFromBytesUsingImageElement"})},c.src=t,null},pixelsToPngData:function(n,e,t,i){var l=window.document.createElement("canvas"),s=(l.width=n,l.height=e,l.getContext("2d",null)),t=(s.clearRect(0,0,l.width,l.height),new Uint8ClampedArray(t.buffer)),r=s.createImageData(n,e);r.data.set(t);try{s.putImageData(r,0,0),l.toBlob(function(e){e.arrayBuffer().then(function(e){e=new Uint8Array(e,0,e.byteLength);i(e),r=s=l=null})},"image/png")}catch(e){Sl.lastError=e;n=$.caught(e).unwrap();throw $.thrown(n)}},paddedBytesFromPixels:function(e,n,t,i,l){var s=window.document.createElement("canvas"),t=(s.width=t,s.height=i,s.getContext("2d",null)),i=(t.clearRect(0,0,s.width,s.height),null),l=new Uint8ClampedArray(l.buffer),e=t.createImageData(e,n);e.data.set(l);try{t.putImageData(e,0,0),i=t.getImageData(0,0,s.width,s.height)}catch(e){Sl.lastError=e;n=$.caught(e).unwrap();throw $.thrown(n)}return e=t=s=null,new Uint8Array(i.data)},paddedBytesFromElement:function(e,n,t,i,l){var s=window.document.createElement("canvas"),t=(s.width=t,s.height=i,s.getContext("2d",null)),i=(t.clearRect(0,0,s.width,s.height),t.drawImage(l,0,0,e,n),null);try{i=t.getImageData(0,0,s.width,s.height)}catch(e){Sl.lastError=e;l=$.caught(e).unwrap();throw hi.info("- textures served from file:/// throw security errors\n- textures served over http:// work for cross origin byte requests",{fileName:"clay/web/WebAssets.hx",lineNumber:333,className:"clay.web.WebAssets",methodName:"paddedBytesFromElement"}),$.thrown(l)}return t=s=null,new Uint8Array(i.data)},nearestPowerOfTwo:function(e){return yi.POT?(--e,e=(e=(e=(e=(e|=e>>1)|e>>2)|e>>4)|e>>8)|e>>16,++e):e},__class__:yi}),function(e){this.active=!1,this.workletMessageCallbacks=[],this.pendingBusWorkletCallbacks=[],this.ignoreEndedSoundsTick1=[],this.ignoreEndedSoundsTick0=[],this.handleSeq=0,this.suspended=!1,t2.call(this,e),this.instances=new Ll,this.busses=new Ll,this.workletModules=new Nl}),Ti=((E["clay.web.WebAudio"]=Ui).__name__="clay.web.WebAudio",Ui.__super__=t2,Ui.prototype=$extend(t2.prototype,{suspended:null,handleSeq:null,instances:null,buffers:null,busses:null,workletModules:null,ignoreEndedSoundsTick0:null,ignoreEndedSoundsTick1:null,pendingBusWorkletCallbacks:null,workletMessageCallbacks:null,context:null,active:null,init:function(){this.initWebAudio(),this.createDefaultBus()},tick:function(e){for(var n=this.instances,t=n,i=n.keys();i.hasNext();){var l=i.next(),l={value:t.get(l),key:l},s=l.key,r=l.value;if(r.loop&&1==r.state){var h=1==r.state?r.timeResume+(this.app.timestamp-r.timeResumeAppTime)*r.pitch:0,a=r.source.getDuration();if(0<a&&a<=h)for(this.app.events.audioEvent(0,s);a<=h;)h-=a,r.timeResumeAppTime+=a/r.pitch}}for(;0<this.ignoreEndedSoundsTick1.length;)0<(r=this.ignoreEndedSoundsTick1.shift()).ignoreNextEnded&&r.ignoreNextEnded--;for(;0<this.ignoreEndedSoundsTick0.length;){r=this.ignoreEndedSoundsTick0.shift();this.ignoreEndedSoundsTick1.push(r)}},initWebAudio:function(e){null==e&&(e=44100);try{this.context=new AudioContext({sampleRate:44100})}catch(e){Sl.lastError=e;try{this.context=new window.webkitAudioContext}catch(e){return void hi.debug("Audio / webaudio / no AudioContext could be created! No audio loading or playback will be available.",{fileName:"clay/web/WebAudio.hx",lineNumber:138,className:"clay.web.WebAudio",methodName:"initWebAudio"})}}if(null==this.context)throw $.thrown("Audio / webaudio / no AudioContext could be created, is the Web Audio API supported?");e="channelCount: "+this.context.destination.channelCount+', channelCountMode: "'+this.context.destination.channelCountMode+'", channelInterpretation: "'+this.context.destination.channelInterpretation+'", maxChannelCount: '+this.context.destination.maxChannelCount+", numberOfInputs: "+this.context.destination.numberOfInputs+", numberOfOutputs: "+this.context.destination.numberOfOutputs;hi.debug("Audio / webaudio: "+K.string(this.context)+" / sampleRate: "+this.context.sampleRate+" / destination: "+e,{fileName:"clay/web/WebAudio.hx",lineNumber:154,className:"clay.web.WebAudio",methodName:"initWebAudio"}),this.active=!0},shutdown:function(){for(var e=this.busses.iterator();e.hasNext();){var n=e.next();null!=n.workletNode&&n.workletNode.disconnect(),null!=n.silentSource&&(n.silentSource.stop(),n.silentSource.disconnect()),n.gainNode.disconnect()}this.busses.h={},this.context.close()},createDefaultBus:function(){this.createBus(0,null,1)},createBus:function(e,n,t){if(null==t&&(t=1),null==n&&(n=""),this.busses.h.hasOwnProperty(e))hi.warning("Audio / Bus "+e+" already exists",{fileName:"clay/web/WebAudio.hx",lineNumber:185,className:"clay.web.WebAudio",methodName:"createBus"});else{for(var i=this.context.createGain(),n=(i.gain.value=t,i.connect(this.context.destination),0<n.length?n:"bus-"+e),l=[],s=0;s<128;){s++;l.push(0)}i={ready:!1,index:e,gainNode:i,workletNode:null,silentSource:null,volume:t,active:!0,name:n,parameterValues:l};this.busses.h[e]=i,hi.debug("Audio / Created bus "+e+": "+i.name,{fileName:"clay/web/WebAudio.hx",lineNumber:206,className:"clay.web.WebAudio",methodName:"createBus"})}},destroyBus:function(e){if(0==e)hi.warning("Audio / Cannot destroy default bus",{fileName:"clay/web/WebAudio.hx",lineNumber:211,className:"clay.web.WebAudio",methodName:"destroyBus"});else{var n=this.busses.h[e];if(null!=n){for(var t=this.instances,i=t,l=t.keys();l.hasNext();){var s=l.next(),s={value:i.get(s),key:s};s.value.bus==e&&this.stop(s.key)}null!=n.workletNode&&n.workletNode.disconnect(),null!=n.silentSource&&(n.silentSource.stop(),n.silentSource.disconnect()),n.gainNode.disconnect(),this.busses.remove(e),hi.debug("Audio / Destroyed bus "+e,{fileName:"clay/web/WebAudio.hx",lineNumber:238,className:"clay.web.WebAudio",methodName:"destroyBus"})}}},setBusVolume:function(e,n){var t=this.busses.h[e];null!=t&&(t.volume=n,t.gainNode.gain.value=n,hi.debug("Audio / Set bus "+e+" volume to "+n,{fileName:"clay/web/WebAudio.hx",lineNumber:247,className:"clay.web.WebAudio",methodName:"setBusVolume"}))},getBusVolume:function(e){e=this.busses.h[e];return null!=e?e.volume:0},setBusActive:function(e,n){var t=this.busses.h[e];null!=t&&(t.active=n,t.gainNode.gain.value=n?t.volume:0,hi.debug("Audio / Set bus "+e+" active: "+(null==n?"null":""+n),{fileName:"clay/web/WebAudio.hx",lineNumber:261,className:"clay.web.WebAudio",methodName:"setBusActive"}))},loadWorkletModule:function(n,e,t){var i=this;Object.prototype.hasOwnProperty.call(this.workletModules.h,n)?(hi.debug("Audio / Worklet module "+n+" already loaded",{fileName:"clay/web/WebAudio.hx",lineNumber:268,className:"clay.web.WebAudio",methodName:"loadWorkletModule"}),null!=t&&t(!0)):L.field(this.context,"audioWorklet").addModule(e).then(function(e){i.workletModules.h[n]=!0,hi.debug("Audio / Loaded worklet module: "+n,{fileName:"clay/web/WebAudio.hx",lineNumber:275,className:"clay.web.WebAudio",methodName:"loadWorkletModule"}),null!=t&&t(!0)}).catch(function(e){hi.error("Audio / Failed to load worklet module "+n+": "+e,{fileName:"clay/web/WebAudio.hx",lineNumber:279,className:"clay.web.WebAudio",methodName:"loadWorkletModule"}),null!=t&&t(!1)})},attachWorkletToBus:function(l,e,n,s){var r=this,h=this.busses.h[l];if(null==h)return hi.error("Audio / Bus "+l+" does not exist",{fileName:"clay/web/WebAudio.hx",lineNumber:287,className:"clay.web.WebAudio",methodName:"attachWorkletToBus"}),!1;if(!Object.prototype.hasOwnProperty.call(this.workletModules.h,e))return hi.error("Audio / Worklet module "+e+" not loaded",{fileName:"clay/web/WebAudio.hx",lineNumber:292,className:"clay.web.WebAudio",methodName:"attachWorkletToBus"}),!1;null!=h.workletNode&&(h.workletNode.disconnect(),null!=h.silentSource)&&(h.silentSource.stop(),h.silentSource.disconnect(),h.silentSource=null);try{var a=new AudioWorkletNode(this.context,e,n);if(null!=h.parameterValues)for(var t=0;t<128;){var i=t++,o=a.parameters.get("param"+i);null!=o&&(o.value=h.parameterValues[i])}var c=this.context.createConstantSource(),u=(c.offset.value=0,this.context.createGain()),_=(u.gain.value=1,u.channelCount=2,u.channelCountMode="explicit",u.channelInterpretation="speakers",this.context.createChannelMerger(2));return c.connect(_,0,0),c.connect(_,0,1),h.gainNode.disconnect(),h.gainNode.connect(u),_.connect(u),u.connect(a),a.connect(this.context.destination),c.start(),h.workletNode=a,h.silentSource=c,a.port.onmessage=function(e){var n=null!=e?e.data:null,n=null!=n?n.type:null;if(null!=n)switch(n){case"addBusFilterWorklet":for(var t=r.workletMessageCallbacks.length-1;0<=t;){var i=r.workletMessageCallbacks[t];"addBusFilterWorklet"==i.type&&i.bus==e.data.bus&&i.filterId==e.data.filterId&&(r.workletMessageCallbacks.splice(t,1),i.callback()),--t}break;case"ready":h.ready=!0,r.flushBusWorkletReadyCallbacks(l),null!=s&&(s(),s=null,a.port.postMessage({type:"ready"}));break;case"trace":xl.trace(e.data,{fileName:"clay/web/WebAudio.hx",lineNumber:357,className:"clay.web.WebAudio",methodName:"attachWorkletToBus"})}},hi.debug("Audio / Attached worklet "+e+" to bus "+l+" with stereo silent source",{fileName:"clay/web/WebAudio.hx",lineNumber:382,className:"clay.web.WebAudio",methodName:"attachWorkletToBus"}),!0}catch(t){Sl.lastError=t;n=$.caught(t).unwrap();return hi.error("Audio / Failed to create worklet node: "+K.string(n),{fileName:"clay/web/WebAudio.hx",lineNumber:386,className:"clay.web.WebAudio",methodName:"attachWorkletToBus"}),h.gainNode.connect(this.context.destination),!1}},detachWorkletFromBus:function(e){var n=this.busses.h[e];null!=n&&null!=n.workletNode&&n.ready&&(n.workletNode.disconnect(),null!=n.silentSource&&(n.silentSource.stop(),n.silentSource.disconnect(),n.silentSource=null),n.gainNode.disconnect(),n.gainNode.connect(this.context.destination),n.workletNode=null,hi.debug("Audio / Detached worklet from bus "+e,{fileName:"clay/web/WebAudio.hx",lineNumber:411,className:"clay.web.WebAudio",methodName:"detachWorkletFromBus"}))},sendMessageToWorklet:function(e,n){e=this.busses.h[e];null!=e&&null!=e.workletNode&&e.ready&&e.workletNode.port.postMessage(n)},flushBusWorkletReadyCallbacks:function(e){var n=this.pendingBusWorkletCallbacks[e];if(null!=n){this.pendingBusWorkletCallbacks[e]=null;for(var t=0,i=n.length;t<i;)(0,n[t++])()}},scheduleWhenBusWorkletReady:function(e,n){var t=this.busses.h[e];null!=t&&null!=t.workletNode&&t.ready?n():(null==(t=this.pendingBusWorkletCallbacks[e])&&(this.pendingBusWorkletCallbacks[e]=t=[]),t.push(n))},setWorkletParameterWhenReady:function(e,n,t){var i=this,l=this.busses.h[e];null!=l&&null!=l.workletNode&&l.ready?this.setWorkletParameter(e,n,t):this.scheduleWhenBusWorkletReady(e,function(){i.setWorkletParameter(e,n,t)})},setWorkletParameter:function(e,n,t){var i,l=this.busses.h[e];null!=l&&null!=l.workletNode&&l.ready&&(null!=(i=l.workletNode.parameters.get(n))?(i.value=t,z.startsWith(n,"param")&&null!=(i=K.parseInt(he.substr(n,5,null)))&&0<=i&&i<128&&(l.parameterValues[i]=t)):hi.warning('Audio / Unknown worklet parameter named "'+n+'" for bus '+e,{fileName:"clay/web/WebAudio.hx",lineNumber:480,className:"clay.web.WebAudio",methodName:"setWorkletParameter"}))},setWorkletParameterByIndexWhenReady:function(e,n,t){var i=this,l=this.busses.h[e];null!=l&&null!=l.workletNode&&l.ready?this.setWorkletParameterByIndex(e,n,t):this.scheduleWhenBusWorkletReady(e,function(){i.setWorkletParameterByIndex(e,n,t)})},setWorkletParameterByIndex:function(e,n,t){n<0||128<=n?hi.warning("Audio / Parameter index "+n+" out of range (0-127)",{fileName:"clay/web/WebAudio.hx",lineNumber:498,className:"clay.web.WebAudio",methodName:"setWorkletParameterByIndex"}):this.setWorkletParameter(e,"param"+n,t)},getWorkletParameterByIndex:function(e,n){return n<0||128<=n||null==(e=this.busses.h[e])||null==e.parameterValues?0:e.parameterValues[n]},soundOf:function(e){return this.instances.h[e]},getBusGainNode:function(e){var n=this.busses.h[e];return null==n&&(hi.debug("Audio / Bus "+e+" does not exist, creating it automatically",{fileName:"clay/web/WebAudio.hx",lineNumber:524,className:"clay.web.WebAudio",methodName:"getBusGainNode"}),this.createBus(e),n=this.busses.h[e]),n.gainNode},playBuffer:function(e){var n=this.context.createBufferSource();return n.buffer=e.buffer,n},playBufferAgain:function(e,n,t){var i=this,l=(n.bufferNode=this.playBuffer(n.source.data),n.bufferNode.playbackRate.value=n.pitch,n.bufferNode.connect(n.panNode),n.bufferNode.loop=n.loop,n.panNode.connect(n.gainNode),this.getBusGainNode(n.bus));n.gainNode.connect(l),n.bufferNode.start(0,t),n.bufferNode.onended=function(){i.soundEnded(n)}},playInstance:function(e,n,t,i,l,s,r,h){null==h&&(h=0);var a=this,o=this.context.createGain(),c=this.context.createPanner(),u=null,s=(o.gain.value=s,c.panningModel="equalpower",c.setPosition(Math.cos(-1.5707),0,Math.sin(1.5707)),null!=l&&((u=l).loop=r),null!=i.mediaNode&&(u=i.mediaNode,i.mediaElem.loop=r),u.connect(c),c.connect(o),this.getBusGainNode(h)),_=(o.connect(s),{handle:e,source:n,instance:t,bus:h,bufferNode:l,mediaNode:i.mediaNode,mediaElem:i.mediaElem,gainNode:o,panNode:c,state:1,loop:r,pan:0,pitch:1,ignoreNextEnded:0,timeResumeAppTime:window.performance.now()/1e3-Si.timestampStart,timeResume:0,timePause:null});this.instances.h[e]=_,null!=l&&(l.start(0),l.onended=function(){a.soundEnded(_)}),null!=i.mediaNode&&(i.mediaElem.play(),i.mediaElem.onended=function(){a.soundEnded(_)})},play:function(e,n,t,i){null==i&&(i=0);var l=e.data,s=this.handleSeq,r=e.instance(s);return e.data.isStream?(l.mediaElem.play(),l.mediaElem.volume=1,this.playInstance(s,e,r,l,null,n,!1,i)):this.playInstance(s,e,r,l,this.playBuffer(l),n,!1,i),this.handleSeq++,t&&this.pause(s),s},loop:function(e,n,t,i){null==i&&(i=0);var l=e.data,s=this.handleSeq,r=e.instance(s);return e.data.isStream?(l.mediaElem.play(),l.mediaElem.volume=1,this.playInstance(s,e,r,l,null,n,!0,i)):this.playInstance(s,e,r,l,this.playBuffer(l),n,!0,i),this.handleSeq++,t&&this.pause(s),s},stopBuffer:function(e){e.bufferNode.stop(),e.bufferNode.disconnect(),e.gainNode.disconnect(),e.panNode.disconnect(),e.bufferNode=null},pause:function(e){var n=this.instances.h[e];null!=n&&1==n.state&&(hi.debug("Audio / pause handle="+e+", "+n.source.data.id,{fileName:"clay/web/WebAudio.hx",lineNumber:692,className:"clay.web.WebAudio",methodName:"pause"}),e=this.positionOf(e),n.timePause=e,n.state=0,null!=n.bufferNode?this.stopBuffer(n):null!=n.mediaNode&&n.mediaElem.pause())},unPause:function(e){var n=this.instances.h[e];null!=n&&0==n.state&&(hi.debug("Audio / unpause handle="+e+", "+n.source.data.id,{fileName:"clay/web/WebAudio.hx",lineNumber:713,className:"clay.web.WebAudio",methodName:"unPause"}),n.timeResume=null!=n.timePause?n.timePause:0,n.timeResumeAppTime=window.performance.now()/1e3-Si.timestampStart,null==n.mediaNode?this.playBufferAgain(e,n,n.timePause):n.mediaElem.play(),n.state=1)},soundEnded:function(e){0<e.ignoreNextEnded?e.ignoreNextEnded--:0!=e.state&&(1!=e.state||this.positionOf(e.handle)+.1>=e.source.getDuration())&&this.destroySound(e)},destroySound:function(e){null!=e.source&&this.instances.h.hasOwnProperty(e.handle)&&this.positionOf(e.handle)+.1>=e.source.getDuration()&&this.app.events.audioEvent(0,e.handle),null!=e.bufferNode&&(e.bufferNode.stop(),e.bufferNode.disconnect(),e.gainNode.disconnect(),e.panNode.disconnect(),e.bufferNode=null),null!=e.mediaNode&&(e.mediaElem.pause(),e.mediaElem.currentTime=0,e.mediaNode.disconnect(),e.mediaElem=null,e.mediaNode=null),null!=e.gainNode&&(e.gainNode.disconnect(),e.gainNode=null),null!=e.panNode&&(e.panNode.disconnect(),e.panNode=null),this.instances.h.hasOwnProperty(e.handle)&&(this.instances.remove(e.handle),this.app.events.audioEvent(1,e.handle))},stop:function(e){var n=this.instances.h[e];null!=n&&(2!=n.state&&hi.debug("Audio / stop handle="+e+(null!=n.source&&null!=n.source.data?", "+n.source.data.id:""),{fileName:"clay/web/WebAudio.hx",lineNumber:781,className:"clay.web.WebAudio",methodName:"stop"}),this.destroySound(n),n.state=2)},volume:function(e,n){var t=this.instances.h[e];null!=t&&(hi.debug("Audio / volume="+n+" handle="+e+", "+t.source.data.id,{fileName:"clay/web/WebAudio.hx",lineNumber:792,className:"clay.web.WebAudio",methodName:"volume"}),t.gainNode.gain.value=n)},pan:function(e,n){var t=this.instances.h[e];null!=t&&(hi.debug("Audio / pan="+n+" handle="+e+", "+t.source.data.id,{fileName:"clay/web/WebAudio.hx",lineNumber:802,className:"clay.web.WebAudio",methodName:"pan"}),t.pan=n,t.panNode.setPosition(Math.cos(1.5707*(n-1)),0,Math.sin(1.5707*(n+1))))},pitch:function(e,n){var t=this.instances.h[e];null!=t&&(hi.debug("Audio / pitch="+n+" handle="+e+", "+t.source.data.id,{fileName:"clay/web/WebAudio.hx",lineNumber:816,className:"clay.web.WebAudio",methodName:"pitch"}),null==t.mediaNode&&(e=this.positionOf(e),t.pitch=n,1==t.state)&&(t.timeResumeAppTime=t.timeResume+(window.performance.now()/1e3-Si.timestampStart)-e/t.pitch),null!=t.bufferNode?t.bufferNode.playbackRate.value=n:t.mediaNode)},position:function(e,n){var t=this.instances.h[e];null!=t&&(hi.debug("Audio / position="+n+" handle="+e+", "+t.source.data.id,{fileName:"clay/web/WebAudio.hx",lineNumber:839,className:"clay.web.WebAudio",methodName:"position"}),0==t.state?t.timePause=n:(t.timeResume=n,t.timeResumeAppTime=window.performance.now()/1e3-Si.timestampStart,null!=t.bufferNode?(t.ignoreNextEnded++,this.ignoreEndedSoundsTick0.push(t),this.stopBuffer(t),this.playBufferAgain(e,t,n)):t.mediaElem.currentTime=n))},volumeOf:function(e){e=this.instances.h[e];return null==e?0:e.gainNode.gain.value},panOf:function(e){e=this.instances.h[e];return null==e?0:e.pan},pitchOf:function(e){e=this.instances.h[e];return null==e?1:e.pitch},positionOf:function(e){var n,t=this.instances.h[e];if(null==t)return 0;if(null!=t.mediaElem)return t.mediaElem.currentTime;switch(t.state){case 0:case 1:switch(t.state){case 0:n=t.timePause;break;case 1:n=t.timeResume+(window.performance.now()/1e3-Si.timestampStart-t.timeResumeAppTime)*t.pitch;break;default:n=0}var i=t.source.getDuration();return 0<i&&(t.loop?n%=i:i<n&&(n=i)),n;case-1:case 2:return 0}},stateOf:function(e){e=this.instances.h[e];return null==e?-1:e.state},loopOf:function(e){e=this.instances.h[e];return null!=e&&e.loop},instanceOf:function(e){e=this.instances.h[e];return null==e?null:e.instance},suspend:function(){!this.active||this.suspended||(this.suspended=!0,this.active=!1,this.context.suspend())},resume:function(){this.active||this.suspended&&(this.suspended=!1,this.active=!0,this.context.resume())},getSoundBus:function(e){e=this.instances.h[e];return null!=e?e.bus:-1},moveSoundToBus:function(e,n){var t,i=this.instances.h[e];return null!=i&&null!=(t=this.busses.h[n])&&(i.gainNode.disconnect(),i.gainNode.connect(t.gainNode),i.bus=n,hi.debug("Audio / Moved sound "+e+" to bus "+n,{fileName:"clay/web/WebAudio.hx",lineNumber:975,className:"clay.web.WebAudio",methodName:"moveSoundToBus"}),!0)},listBusses:function(){for(var e=[],n=this.busses.keys();n.hasNext();){var t=n.next();e.push(t)}return e},getBusName:function(e){e=this.busses.h[e];return null!=e?e.name:""},createBusFilter:function(e,n,t,i){var l=this;this.busses.h.hasOwnProperty(n)||(hi.debug("Audio / Bus "+n+" does not exist for filter, creating it automatically",{fileName:"clay/web/WebAudio.hx",lineNumber:996,className:"clay.web.WebAudio",methodName:"createBusFilter"}),this.createBus(n)),this.loadWorkletModule("bus-worklet",e,function(e){e?l.attachWorkletToBus(n,"bus-worklet",{},function(){hi.debug("Audio / Worklet attached to bus #"+n+" is now ready!",{fileName:"clay/web/WebAudio.hx",lineNumber:1003,className:"clay.web.WebAudio",methodName:"createBusFilter"}),t(n,n)})||hi.error("Audio / Failed to attach worklet to bus #"+n,{fileName:"clay/web/WebAudio.hx",lineNumber:1008,className:"clay.web.WebAudio",methodName:"createBusFilter"}):hi.error("Audio / Failed to load create bus filter #"+n,{fileName:"clay/web/WebAudio.hx",lineNumber:1012,className:"clay.web.WebAudio",methodName:"createBusFilter"})})},addBusFilterWorklet:function(e,n,t,i){this.busses.h.hasOwnProperty(e)||(hi.debug("Audio / Bus "+e+" does not exist for filter worklet, creating it automatically",{fileName:"clay/web/WebAudio.hx",lineNumber:1022,className:"clay.web.WebAudio",methodName:"addBusFilterWorklet"}),this.createBus(e));var l=this.busses.h[e];null==l?hi.error("Audio / Cannot add bus filter worklet: bus #"+e+" creation failed",{fileName:"clay/web/WebAudio.hx",lineNumber:1028,className:"clay.web.WebAudio",methodName:"addBusFilterWorklet"}):null==l.workletNode?hi.error("Audio / Cannot add bus filter worklet: bus #"+e+" has no worklet node",{fileName:"clay/web/WebAudio.hx",lineNumber:1032,className:"clay.web.WebAudio",methodName:"addBusFilterWorklet"}):(t={type:"addBusFilterWorklet",bus:e,filterId:n,workletClass:t.__name__},null!=i&&this.workletMessageCallbacks.push({type:"addBusFilterWorklet",bus:e,filterId:n,callback:i}),l.workletNode.port.postMessage(t))},destroyBusFilterWorklet:function(e,n){var t=this.busses.h[e];null==t?hi.warning("Audio / Cannot destroy bus filter worklet: bus #"+e+" does not exist",{fileName:"clay/web/WebAudio.hx",lineNumber:1058,className:"clay.web.WebAudio",methodName:"destroyBusFilterWorklet"}):null==t.workletNode?hi.warning("Audio / Cannot destroy bus filter worklet: bus #"+e+" has no worklet node",{fileName:"clay/web/WebAudio.hx",lineNumber:1062,className:"clay.web.WebAudio",methodName:"destroyBusFilterWorklet"}):t.workletNode.port.postMessage({type:"destroyBusFilterWorklet",bus:e,filterId:n})},ensureBusExists:function(e){return!!this.busses.h.hasOwnProperty(e)||(hi.debug("Audio / Auto-creating bus "+e,{fileName:"clay/web/WebAudio.hx",lineNumber:1077,className:"clay.web.WebAudio",methodName:"ensureBusExists"}),this.createBus(e),this.busses.h.hasOwnProperty(e))},loadData:function(e,n,t,i,l){if(null==i&&(i=!1),null==e)throw $.thrown("path is null!");return this.active?n?this.loadDataFromStream(e,t,l):this.loadDataFromSound(e,t,l):(hi.error("Audio / WebAudio context unavailable",{fileName:"clay/web/WebAudio.hx",lineNumber:1091,className:"clay.web.WebAudio",methodName:"loadData"}),null!=l&&si.push(function(){l(null)})),null},dataFromBytes:function(t,e,i,l){var s=this;if(this.active){if(null==t)throw $.thrown("id is null!");if(null==e)throw $.thrown("bytes is null!");this.context.decodeAudioData(e.buffer,function(e){var n=new Ti(s.app,e,null,null,new l2(t,0|e.sampleRate,e.length,e.duration,e.numberOfChannels,null,i,!1));null!=l&&si.push(function(){l(n)})},function(){hi.error("Audio / failed to decode audio for `"+t+"`",{fileName:"clay/web/WebAudio.hx",lineNumber:1141,className:"clay.web.WebAudio",methodName:"dataFromBytes"}),null!=l&&si.push(function(){l(null)})})}else null!=l&&si.push(function(){l(null)})},dataFromPCM:function(e,n,t,i,l,s,r,h){if(null==s&&(s=!0),this.active){if(null==e)throw $.thrown("id is null!");if(null==n)throw $.thrown("pcmData is null!");if(t<=0)throw $.thrown("sampleFrames must be positive!");if(l<=0)throw $.thrown("sampleRate must be positive!");if(i<=0)throw $.thrown("channels must be positive!");try{var a=this.context.createBuffer(i,t,l);if(s)for(var o=0,c=i;o<c;)for(var u=o++,_=a.getChannelData(u),d=0,b=t;d<b;)(f=(O=d++)*i+u)<n.length?_[O]=n[f]:_[O]=0;else for(var g=n.length/i|0,o=0,c=i;o<c;)for(var O,f,u=o++,_=a.getChannelData(u),p=u*g,d=0,b=t;d<b;)(f=p+(O=d++))<n.length?_[O]=n[f]:_[O]=0;var C=new Ti(this.app,a,null,null,new l2(e,0|a.sampleRate,a.length,a.duration,a.numberOfChannels,null,r,!1));return hi.debug("Audio / Created AudioData from PCM: "+e+" ("+i+" channels, "+t+" frames, "+l+"Hz, "+(s?"interleaved":"planar")+")",{fileName:"clay/web/WebAudio.hx",lineNumber:1231,className:"clay.web.WebAudio",methodName:"dataFromPCM"}),null!=h&&si.push(function(){h(C)}),C}catch(o){Sl.lastError=o;r=$.caught(o).unwrap();hi.error("Audio / Failed to create audio buffer from PCM data for `"+e+"`: "+K.string(r),{fileName:"clay/web/WebAudio.hx",lineNumber:1242,className:"clay.web.WebAudio",methodName:"dataFromPCM"}),null!=h&&si.push(function(){h(null)})}}else null!=h&&si.push(function(){h(null)});return null},handleSourceDestroyed:function(e){},handleInstanceDestroyed:function(e){this.stop(e)},loadDataFromSound:function(n,t,i){var l=this;this.app.io.loadData(n,!0,null,function(e){null!=e?l.dataFromBytes(n,e,t,i):null!=i&&si.push(function(){i(null)})})},loadDataFromStream:function(r,h,a){var o=this,c=new Audio(r);c.autoplay=!1,c.controls=!1,c.preload="auto",c.onerror=function(e){var n;switch(c.error.code){case 1:n="MEDIA_ERR_ABORTED";break;case 2:n="MEDIA_ERR_NETWORK";break;case 3:n="MEDIA_ERR_DECODE";break;case 4:n="MEDIA_ERR_SRC_NOT_SUPPORTED";break;case 5:n="MEDIA_ERR_ENCRYPTED";break;default:n="unknown error"}hi.error("Audio / failed to load `"+r+"` as stream : `"+n+"`",{fileName:"clay/web/WebAudio.hx",lineNumber:1295,className:"clay.web.WebAudio",methodName:"loadDataFromStream"}),null!=a&&si.push(function(){a(null)})},c.onloadedmetadata=function(e){var n=o.context.createMediaElementSource(c),t=0|o.context.sampleRate,i=n.channelCount,l=c.duration*(t*i*2)|0,s=new Ti(o.app,null,n,c,new l2(r,t,l,c.duration,i,null,h,!0));null!=a&&si.push(function(){a(s)})}},__class__:Ui}),function(e,n,t,i,l){this.buffer=n,this.mediaNode=t,this.mediaElem=i,m2.call(this,e,l)}),Di=((E["clay.web._WebAudio.WebAudioData"]=Ti).__name__="clay.web._WebAudio.WebAudioData",Ti.__super__=m2,Ti.prototype=$extend(m2.prototype,{buffer:null,mediaNode:null,mediaElem:null,destroy:function(){this.buffer=null,this.mediaNode=null,this.mediaElem=null,m2.prototype.destroy.call(this)},__class__:Ti}),function(e,n,t,i,l,s,r){this.mouseUseBrowserWindowEvents=!0,this.preventDefaultKeys=[1073741904,1073741903,1073741906,1073741905,8,9,127,32],this.preventDefaultTouches=!0,this.preventDefaultMouseWheel=!0,this.preventDefaultContextMenu=!0,this.windowParent=window.document.body,this.windowId="app",null!=e&&(this.windowId=e),null!=n&&(this.windowParent=n),null!=t&&(this.preventDefaultContextMenu=t),null!=i&&(this.preventDefaultMouseWheel=i),null!=l&&(this.preventDefaultTouches=l),null!=s&&(this.preventDefaultKeys=s),null!=r&&(this.mouseUseBrowserWindowEvents=r)}),xi=((E["clay.web.WebConfig"]=Di).__name__="clay.web.WebConfig",Di.prototype={windowId:null,windowParent:null,preventDefaultContextMenu:null,preventDefaultMouseWheel:null,preventDefaultTouches:null,preventDefaultKeys:null,mouseUseBrowserWindowEvents:null,__class__:Di},function(e){u2.call(this,e)}),Si=((E["clay.web.WebIO"]=xi).__name__="clay.web.WebIO",xi.__super__=u2,xi.prototype=$extend(u2.prototype,{isSynchronous:function(){return!1},loadData:function(t,e,n,i){if(null==n&&(n=!1),null==e&&(e=!1),null==t)throw $.thrown("Path is null!");var l=new XMLHttpRequest;return l.open("GET",t,!0),e?l.overrideMimeType("text/plain; charset=x-user-defined"):l.overrideMimeType("text/plain; charset=UTF-8"),l.responseType="arraybuffer",l.onload=function(e){var n;200==l.status?(n=new Uint8Array(l.response),null!=i&&si.push(function(){i(n)})):(hi.error("Request status for path "+t+" was "+l.status+" / "+l.statusText,{fileName:"clay/web/WebIO.hx",lineNumber:136,className:"clay.web.WebIO",methodName:"loadData"}),null!=i&&si.push(function(){i(e)}))},l.send(),null},__class__:xi}),function(e){this.nextFrameCallbacks=[],this.didEmitTickOnce=!1,this.keyDownStates=new Pn,this.pendingKeyUps=[],this.touches=new Pn,this.windowDpr=1,this.windowY=0,this.windowX=0,this.skipKeyboardEvents=!1,this.skipMouseEvents=!1,this.webglVersion=1,this.gamepadsSupported=!1,v2.call(this,e)}),Ai=((E["clay.web.WebRuntime"]=Si).__name__="clay.web.WebRuntime",Si.timestamp=function(){return window.performance.now()/1e3-Si.timestampStart},Si.defaultConfig=function(){return new Di("app",window.document.body,!0,!0,!0,[1073741904,1073741903,1073741906,1073741905,8,9,127,32],!0)},Si.__super__=v2,Si.prototype=$extend(v2.prototype,{gamepadsSupported:null,window:null,webglVersion:null,skipMouseEvents:null,skipKeyboardEvents:null,windowX:null,windowY:null,windowW:null,windowH:null,windowDpr:null,touches:null,gamepadButtonCache:null,gamepadAxisCache:null,pendingKeyUps:null,keyDownStates:null,didEmitTickOnce:null,nextFrameCallbacks:null,init:function(){Si.timestampStart=window.performance.now()/1e3,this.name="web",this.initGamepads()},ready:function(){this.createWindow(),hi.debug("Web / ready",{fileName:"clay/web/WebRuntime.hx",lineNumber:87,className:"clay.web.WebRuntime",methodName:"ready"})},run:function(){return hi.debug("Web / run",{fileName:"clay/web/WebRuntime.hx",lineNumber:93,className:"clay.web.WebRuntime",methodName:"run"}),this.loop(0),!1},loop:function(e){if(null==e&&(e=.016),this.app.hasShutdown)return!1;if(this.app.shuttingDown||window.requestAnimationFrame($bind(this,this.loop)),0<this.nextFrameCallbacks.length){for(var n=[];0<this.nextFrameCallbacks.length;)n.push(this.nextFrameCallbacks.shift());for(var t=0,i=n.length;t<i;)n[t++]()}this.app.ready&&(this.gamepadsSupported&&this.pollGamepads(),this.updateWindowBounds());e=window.performance.now()/1e3-Si.timestampStart;return this.app.shouldUpdate(e)&&(this.didEmitTickOnce=!0,this.app.emitTick(e)),this.clearPendingKeyUps(),this.app.emitRender(),!0},createWindow:function(){var e=this.app.config.window;this.window=window.document.createElement("canvas"),this.windowDpr=this.windowDevicePixelRatio(),this.window.width=Math.floor(e.width*this.windowDpr),this.window.height=Math.floor(e.height*this.windowDpr),this.windowW=e.width,this.windowH=e.height,this.window.style.width=e.width+"px",this.window.style.height=e.height+"px",this.window.style.background="#000000",hi.debug("Web / Created window at "+this.windowX+","+this.windowY+" - "+this.window.width+"x"+this.window.height+" pixels ("+e.width+"x"+e.height+"@"+this.windowDpr+"x)",{fileName:"clay/web/WebRuntime.hx",lineNumber:167,className:"clay.web.WebRuntime",methodName:"createWindow"}),this.window.id=this.app.config.runtime.windowId,this.app.config.runtime.windowParent.appendChild(this.window),null!=e.title&&(window.document.title=e.title),this.createRenderContext(this.window)?(this.postRenderContext(this.window),this.setupEvents()):this.createRenderContextFailed()},createRenderContext:function(e){var n=this.app.config.render,t=this.applyGLAttributes(n),i=null;return 1!=n.webgl.version&&null!=(i=null==(i=e.getContext("webgl"+n.webgl.version,t))?e.getContext("experimental-webgl"+n.webgl.version,t):i)&&(this.webglVersion=n.webgl.version),null==i&&(i=fs.getContextWebGL(e,t),this.webglVersion=1),ne.gl=i,hi.debug("GL / context: "+K.string(null!=i),{fileName:"clay/web/WebRuntime.hx",lineNumber:213,className:"clay.web.WebRuntime",methodName:"createRenderContext"}),null!=i},createRenderContextFailed:function(){var e=window.document.createElement("div"),n=window.document.createElement("div");throw e.style.marginLeft="auto",e.style.marginRight="auto",e.style.color="#d3d3d3",e.style.marginTop="5em",e.style.fontSize="1.4em",e.style.fontFamily="Helvetica, sans-serif",e.innerHTML='WebGL is required to run this!<br/><br/>visit <a style="color:#06b4fb; text-decoration:none;" href="http://get.webgl.org/">get.webgl.com</a> for info<br/>and contact the developer of this app',n.style.top="0",n.style.left="0",n.style.width="100%",n.style.height="100%",n.style.display="block",n.style.minWidth="100%",n.style.minHeight="100%",n.style.textAlign="center",n.style.position="absolute",n.style.background="rgba(1,1,1,0.90)",n.appendChild(e),window.document.body.appendChild(n),$.thrown("Web / Failed to create render context")},applyGLAttributes:function(e){var n={alpha:e.webgl.alpha,antialias:e.webgl.antialias,depth:e.webgl.depth,stencil:e.webgl.stencil,failIfMajorPerformanceCaveat:e.webgl.failIfMajorPerformanceCaveat,premultipliedAlpha:e.webgl.premultipliedAlpha,preserveDrawingBuffer:e.webgl.preserveDrawingBuffer};return 0<e.antialiasing?n.antialias=!0:n.antialias=!1,0<e.depth&&(n.depth=!0),0<e.stencil&&(n.stencil=!0),n},postRenderContext:function(e){var n=this.app.config.render.defaultClear;ne.gl.clearDepth(1),ne.gl.clearStencil(0),ne.gl.clearColor(n.r,n.g,n.b,n.a),ne.gl.clear(17664),ee._graphics.setup()},setupEvents:function(){window.document.addEventListener("fullscreenchange",$bind(this,this.handleFullscreenChange)),window.document.addEventListener("fullscreenerror",$bind(this,this.handleFullscreenError)),this.window.addEventListener("mouseenter",$bind(this,this.handleMouseEnter)),this.window.addEventListener("mouseleave",$bind(this,this.handleMouseLeave)),window.document.addEventListener("visibilitychange",$bind(this,this.handleVisibilityChange)),window.document.addEventListener("keydown",$bind(this,this.handleKeyDown)),window.document.addEventListener("keyup",$bind(this,this.handleKeyUp)),window.document.addEventListener("keypress",$bind(this,this.handleKeyPress)),this.window.addEventListener("contextmenu",$bind(this,this.handleContextMenu));var e=this.app.config.runtime.mouseUseBrowserWindowEvents?window:this.window;e.addEventListener("mousedown",$bind(this,this.handleMouseDown)),e.addEventListener("mouseup",$bind(this,this.handleMouseUp)),e.addEventListener("mousemove",$bind(this,this.handleMouseMove)),this.window.addEventListener("wheel",$bind(this,this.handleWheel)),this.window.addEventListener("touchstart",$bind(this,this.handleTouchStart)),this.window.addEventListener("touchend",$bind(this,this.handleTouchEnd)),this.window.addEventListener("touchmove",$bind(this,this.handleTouchMove)),window.addEventListener("gamepadconnected",$bind(this,this.handleGamepadConnected)),window.addEventListener("gamepaddisconnected",$bind(this,this.handleGamepadDisconnected))},handleVisibilityChange:function(e){window.document.hidden?(this.app.emitWindowEvent(2,window.performance.now()/1e3-Si.timestampStart,1,0,0),this.app.emitWindowEvent(7,window.performance.now()/1e3-Si.timestampStart,1,0,0),this.app.emitWindowEvent(13,window.performance.now()/1e3-Si.timestampStart,1,0,0)):(this.app.emitWindowEvent(1,window.performance.now()/1e3-Si.timestampStart,1,0,0),this.app.emitWindowEvent(9,window.performance.now()/1e3-Si.timestampStart,1,0,0),this.app.emitWindowEvent(12,window.performance.now()/1e3-Si.timestampStart,1,0,0))},bindCustomElementTouchEvents:function(e){e.addEventListener("touchstart",$bind(this,this.handleTouchStart)),e.addEventListener("touchend",$bind(this,this.handleTouchEnd)),e.addEventListener("touchmove",$bind(this,this.handleTouchMove))},handleContextMenu:function(e){this.app.config.runtime.preventDefaultContextMenu&&e.preventDefault()},handleFullscreenChange:function(e){var n=window.document.fullscreenElement;null!=n?(hi.debug("Web / Entering fullscreen (id="+n.id+")",{fileName:"clay/web/WebRuntime.hx",lineNumber:393,className:"clay.web.WebRuntime",methodName:"handleFullscreenChange"}),this.app.config.window.fullscreen=!0,this.app.emitWindowEvent(15,window.performance.now()/1e3-Si.timestampStart,1,0,0)):(hi.debug("Web / Leaving fullscreen",{fileName:"clay/web/WebRuntime.hx",lineNumber:398,className:"clay.web.WebRuntime",methodName:"handleFullscreenChange"}),this.app.config.window.fullscreen=!1,this.app.emitWindowEvent(16,window.performance.now()/1e3-Si.timestampStart,1,0,0))},handleFullscreenError:function(e){hi.warning("Web / Failed to change fullscreen setting: "+K.string(e),{fileName:"clay/web/WebRuntime.hx",lineNumber:407,className:"clay.web.WebRuntime",methodName:"handleFullscreenError"})},handleMouseEnter:function(e){this.app.emitWindowEvent(10,window.performance.now()/1e3-Si.timestampStart,1,0,0)},handleMouseLeave:function(e){this.app.emitWindowEvent(11,window.performance.now()/1e3-Si.timestampStart,1,0,0)},handleMouseDown:function(e){var n,t,i,l,s,r=this;this.skipMouseEvents||(e.preventDefault(),n=this.app.input,i=Math.floor(this.windowDpr*(e.pageX-this.windowX)),l=Math.floor(this.windowDpr*(e.pageY-this.windowY)),s=e.button,t=window.performance.now()/1e3-Si.timestampStart,n.app.events.mouseDown(i,l,s,t,1),2==e.button&&(i=Math.floor(this.windowDpr*(e.pageX-this.windowX)),l=Math.floor(this.windowDpr*(e.pageY-this.windowY)),s=e.button,this.nextFrameCallbacks.push(function(){r.nextFrameCallbacks.push(function(){var e=r.app.input,n=window.performance.now()/1e3-Si.timestampStart;e.app.events.mouseUp(i,l,s,n,1)})})))},handleMouseUp:function(e){var n,t,i,l;this.skipMouseEvents||(e.preventDefault(),n=this.app.input,t=Math.floor(this.windowDpr*(e.pageX-this.windowX)),i=Math.floor(this.windowDpr*(e.pageY-this.windowY)),e=e.button,l=window.performance.now()/1e3-Si.timestampStart,n.app.events.mouseUp(t,i,e,l,1))},handleMouseMove:function(e){var n,t,i,l,s;this.skipMouseEvents||(e.preventDefault(),n=null==e.movementX?0:e.movementX,t=null==e.movementY?0:e.movementY,n=Math.floor(n*this.windowDpr),t=Math.floor(t*this.windowDpr),i=this.app.input,l=Math.floor(this.windowDpr*(e.pageX-this.windowX)),e=Math.floor(this.windowDpr*(e.pageY-this.windowY)),s=window.performance.now()/1e3-Si.timestampStart,i.app.events.mouseMove(l,e,n,t,s,1))},handleWheel:function(e){var n,t,i;this.app.config.runtime.preventDefaultMouseWheel&&e.preventDefault(),this.skipMouseEvents||(n=this.app.input,t=Math.round(.1*e.deltaX),e=Math.round(.1*e.deltaY),i=window.performance.now()/1e3-Si.timestampStart,n.app.events.mouseWheel(t,e,i,1))},handleTouchStart:function(e){this.app.config.runtime.preventDefaultTouches&&e.preventDefault();for(var n=this.window.getBoundingClientRect(),t=0,i=e.changedTouches;t<i.length;){var l=i[t],s=(++t,l.clientX-n.left),r=l.clientY-n.top,h=(s/=n.width,r/=n.height,this.touches.get(l.identifier)),h=(null==h?this.touches.set(l.identifier,h={x:s,y:r}):(h.x=s,h.y=r),this.app.input),l=l.identifier,a=window.performance.now()/1e3-Si.timestampStart;h.app.events.touchDown(s,r,0,0,l,a)}},handleTouchEnd:function(e){this.app.config.runtime.preventDefaultTouches&&e.preventDefault();for(var n=this.window.getBoundingClientRect(),t=0,i=e.changedTouches;t<i.length;){var l=i[t],s=(++t,l.clientX-n.left),r=l.clientY-n.top,h=(s/=n.width,r/=n.height,this.touches.get(l.identifier)),a=(null==h&&this.touches.set(l.identifier,h={x:s,y:r}),this.app.input),o=s-h.x,c=r-h.y,l=l.identifier,u=window.performance.now()/1e3-Si.timestampStart;a.app.events.touchUp(s,r,o,c,l,u),h.x=s,h.y=r}},handleTouchMove:function(e){this.app.config.runtime.preventDefaultTouches&&e.preventDefault();for(var n=this.window.getBoundingClientRect(),t=0,i=e.changedTouches;t<i.length;){var l=i[t],s=(++t,l.clientX-n.left),r=l.clientY-n.top,h=(s/=n.width,r/=n.height,this.touches.get(l.identifier)),a=(null==h&&this.touches.set(l.identifier,h={x:s,y:r}),this.app.input),o=s-h.x,c=r-h.y,l=l.identifier,u=window.performance.now()/1e3-Si.timestampStart;a.app.events.touchMove(s,r,o,c,l,u),h.x=s,h.y=r}},clearPendingKeyUps:function(){for(;0<this.pendingKeyUps.length;){var e,n,t,i,l,s,r=this.pendingKeyUps.shift();1==this.keyDownStates.get(r.keyCode)&&(this.keyDownStates.set(r.keyCode,!1),e=this.app.input,n=r.keyCode,t=r.scanCode,i=r.repeat,l=r.modState,s=window.performance.now()/1e3-Si.timestampStart,e.app.events.keyUp(n,t,i,l,s,r.windowId))}},handleKeyDown:function(e){if(!this.skipKeyboardEvents){var n=this.convertKeyCode(e.keyCode),t=this.convertScanCode(e.code,n),i=this.modStateFromEvent(e);if(!i.none)switch(n){case 1073742048:case 1073742049:case 1073742050:case 1073742051:case 1073742052:case 1073742053:case 1073742054:case 1073742055:break;default:(i.lctrl||i.rctrl||i.lalt||i.ralt||i.lmeta||i.rmeta)&&this.pendingKeyUps.push({keyCode:n,scanCode:t,repeat:e.repeat,modState:i,windowId:1})}-1!=this.app.config.runtime.preventDefaultKeys.indexOf(n)&&e.preventDefault(),this.keyDownStates.set(n,!0);var l=this.app.input,s=e.repeat,r=window.performance.now()/1e3-Si.timestampStart;l.app.events.keyDown(n,t,s,i,r,1)}},handleKeyUp:function(e){var n,t,i,l,s;this.skipKeyboardEvents||(n=this.convertKeyCode(e.keyCode),t=this.convertScanCode(e.code,n),i=this.modStateFromEvent(e),-1!=this.app.config.runtime.preventDefaultKeys.indexOf(n)&&e.preventDefault(),1==this.keyDownStates.get(n)&&(this.keyDownStates.set(n,!1),l=this.app.input,e=e.repeat,s=window.performance.now()/1e3-Si.timestampStart,l.app.events.keyUp(n,t,e,i,s,1)))},handleKeyPress:function(e){var n,t,i;this.skipKeyboardEvents||0!=e.which&&8!=e.keyCode&&13!=e.keyCode&&(e=e.charCode,e=String.fromCodePoint(e),n=this.app.input,t=e.length,i=window.performance.now()/1e3-Si.timestampStart,n.app.events.text(e,0,t,2,i,1))},handleGamepadConnected:function(e){hi.debug("Gamepad connected at index "+e.gamepad.index+": "+e.gamepad.id+". "+e.gamepad.buttons.length+" buttons, "+e.gamepad.axes.length+" axes",{fileName:"clay/web/WebRuntime.hx",lineNumber:753,className:"clay.web.WebRuntime",methodName:"handleGamepadConnected"});var n=e.gamepad;if(null==this.gamepadButtonCache[n.index]){this.gamepadButtonCache[n.index]=[];for(var t=0,i=n.buttons.length;t<i;){t++;this.gamepadButtonCache[n.index].push(0)}this.gamepadAxisCache[n.index]=[];for(t=0,i=n.axes.length;t<i;){t++;this.gamepadAxisCache[n.index].push(0)}}var l=this.app.input,n=e.gamepad.index,e=e.gamepad.id,s=window.performance.now()/1e3-Si.timestampStart;l.app.events.gamepadDevice(n,e,1,s)},handleGamepadDisconnected:function(e){hi.debug("Gamepad disconnected at index "+e.gamepad.index+": "+e.gamepad.id,{fileName:"clay/web/WebRuntime.hx",lineNumber:768,className:"clay.web.WebRuntime",methodName:"handleGamepadDisconnected"});var n=e.gamepad,t=(this.gamepadButtonCache[n.index]=null,this.gamepadAxisCache[n.index]=null,this.app.input),n=e.gamepad.index,e=e.gamepad.id,i=window.performance.now()/1e3-Si.timestampStart;t.app.events.gamepadDevice(n,e,2,i)},convertKeyCode:function(e){return 65<=e&&e<=90?e+32:Ai.domKeyToKeyCode(e)},convertScanCode:function(e,n){if(null==e)return w.toScanCode(n);switch(e){case"AltLeft":return 226;case"AltRight":return 230;case"ArrowDown":return 81;case"ArrowLeft":return 80;case"ArrowRight":return 79;case"ArrowUp":return 82;case"AudioVolumeDown":case"VolumeDown":return 129;case"AudioVolumeMute":return 262;case"AudioVolumeUp":case"VolumeUp":return 128;case"Backquote":return 53;case"Backslash":return 49;case"Backspace":return 42;case"BracketLeft":return 47;case"BracketRight":return 48;case"BrowserBack":return 270;case"BrowserFavorites":return 274;case"BrowserForward":return 271;case"BrowserHome":return 269;case"BrowserRefresh":return 273;case"BrowserSearch":return 268;case"BrowserStop":return 272;case"Cancel":return 155;case"CapsLock":return 57;case"Comma":return 54;case"ContextMenu":return 118;case"ControlLeft":return 224;case"ControlRight":return 228;case"Delete":return 76;case"Digit0":return 39;case"Digit1":return 30;case"Digit2":return 31;case"Digit3":return 32;case"Digit4":return 33;case"Digit5":return 34;case"Digit6":return 35;case"Digit7":return 36;case"Digit8":return 37;case"Digit9":return 38;case"End":return 77;case"Enter":return 40;case"Equal":return 46;case"Escape":return 41;case"F1":return 58;case"F10":return 67;case"F11":return 68;case"F12":return 69;case"F2":return 59;case"F3":return 60;case"F4":return 61;case"F5":return 62;case"F6":return 63;case"F7":return 64;case"F8":return 65;case"F9":return 66;case"Help":case"Insert":return 73;case"Home":return 74;case"IntlBackslash":return 100;case"KanaMode":case"Lang1":return 144;case"KeyA":return 4;case"KeyB":return 5;case"KeyC":return 6;case"KeyD":return 7;case"KeyE":return 8;case"KeyF":return 9;case"KeyG":return 10;case"KeyH":return 11;case"KeyI":return 12;case"KeyJ":return 13;case"KeyK":return 14;case"KeyL":return 15;case"KeyM":return 16;case"KeyN":return 17;case"KeyO":return 18;case"KeyP":return 19;case"KeyQ":return 20;case"KeyR":return 21;case"KeyS":return 22;case"KeyT":return 23;case"KeyU":return 24;case"KeyV":return 25;case"KeyW":return 26;case"KeyX":return 27;case"KeyY":return 28;case"KeyZ":return 29;case"Lang2":return 145;case"Lang3":return 146;case"Lang4":return 147;case"Lang5":return 148;case"Lang6":return 149;case"Lang7":return 150;case"Lang8":return 151;case"Lang9":return 152;case"LaunchApp1":return 283;case"LaunchApp2":return 284;case"LaunchMail":return 265;case"MediaPlayPause":return 261;case"MediaSelect":return 263;case"MediaStop":return 260;case"MediaTrackNext":return 258;case"MediaTrackPrevious":return 259;case"MetaLeft":case"OSLeft":return 227;case"MetaRight":case"OSRight":return 231;case"Minus":return 45;case"NumLock":return 83;case"Numpad0":return 98;case"Numpad1":return 89;case"Numpad2":return 90;case"Numpad3":return 91;case"Numpad4":return 92;case"Numpad5":return 93;case"Numpad6":return 94;case"Numpad7":return 95;case"Numpad8":return 96;case"Numpad9":return 97;case"NumpadAdd":return 87;case"NumpadComma":return 133;case"NumpadDecimal":return 220;case"NumpadDivide":return 84;case"NumpadEnter":return 88;case"NumpadEqual":return 103;case"NumpadMultiply":return 85;case"NumpadSubtract":return 86;case"PageDown":return 78;case"PageUp":return 75;case"Pause":return 72;case"Period":return 55;case"Power":return 102;case"PrintScreen":return 70;case"Quote":return 52;case"ScrollLock":return 71;case"Semicolon":return 51;case"ShiftLeft":return 225;case"ShiftRight":return 229;case"Slash":return 56;case"Space":return 44;case"Tab":return 43;default:return w.toScanCode(n)}},modStateFromEvent:function(e){var n=!(e.altKey||e.ctrlKey||e.metaKey||e.shiftKey);return this.app.input.modState.none=n,this.app.input.modState.lshift=e.shiftKey,this.app.input.modState.rshift=e.shiftKey,this.app.input.modState.lctrl=e.ctrlKey,this.app.input.modState.rctrl=e.ctrlKey,this.app.input.modState.lalt=e.altKey,this.app.input.modState.ralt=e.altKey,this.app.input.modState.lmeta=e.metaKey,this.app.input.modState.rmeta=e.metaKey,this.app.input.modState.num=!1,this.app.input.modState.caps=!1,this.app.input.modState.mode=!1,this.app.input.modState.ctrl=e.ctrlKey,this.app.input.modState.shift=e.shiftKey,this.app.input.modState.alt=e.altKey,this.app.input.modState.meta=e.metaKey,this.app.input.modState},getWindowX:function(e){return Math.round(e.left+window.pageXOffset-window.document.body.clientTop)},getWindowY:function(e){return Math.round(e.top+window.pageYOffset-window.document.body.clientLeft)},translateMouseX:function(e){return Math.floor(this.windowDpr*(e.pageX-this.windowX))},translateMouseY:function(e){return Math.floor(this.windowDpr*(e.pageY-this.windowY))},updateWindowBounds:function(){var e=this.windowDpr,n=(this.windowDpr=this.windowDevicePixelRatio(),this.window.getBoundingClientRect()),t=Math.round(n.left+window.pageXOffset-window.document.body.clientTop),i=Math.round(n.top+window.pageYOffset-window.document.body.clientLeft),l=Math.round(n.width),n=Math.round(n.height);t==this.windowX&&i==this.windowY||(this.windowX=t,this.windowY=i,this.app.emitWindowEvent(4,window.performance.now()/1e3-Si.timestampStart,1,this.windowX,this.windowY)),l==this.windowW&&n==this.windowH&&e==this.windowDpr||(this.windowW=l,this.windowH=n,this.window.width=Math.floor(this.windowW*this.windowDpr),this.window.height=Math.floor(this.windowH*this.windowDpr),this.app.emitWindowEvent(6,window.performance.now()/1e3-Si.timestampStart,1,this.window.width,this.window.height))},initGamepads:function(){var e=this.getGamepadList();if(null!=e){this.gamepadsSupported=!0,this.gamepadButtonCache=[],this.gamepadAxisCache=[];for(var n=0;n<e.length;){var t=e[n];if(++n,null!=t&&null==this.gamepadButtonCache[t.index]){this.gamepadButtonCache[t.index]=[];for(var i=0,l=t.buttons.length;i<l;){i++;this.gamepadButtonCache[t.index].push(0)}this.gamepadAxisCache[t.index]=[];for(var s=0,r=t.axes.length;s<r;){s++;this.gamepadAxisCache[t.index].push(0)}}}}else hi.warning("Gamepads are not supported in this browser :(",{fileName:"clay/web/WebRuntime.hx",lineNumber:1036,className:"clay.web.WebRuntime",methodName:"initGamepads"})},getGamepadList:function(){return null!=ce.navigator.getGamepads?ce.navigator.getGamepads():null!=ce.navigator.webkitGetGamepads?ce.navigator.webkitGetGamepads():null},initGamepadCacheIfNeeded:function(e){if(null==this.gamepadButtonCache[e.index]){this.gamepadButtonCache[e.index]=[];for(var n=0,t=e.buttons.length;n<t;){n++;this.gamepadButtonCache[e.index].push(0)}this.gamepadAxisCache[e.index]=[];for(n=0,t=e.axes.length;n<t;){n++;this.gamepadAxisCache[e.index].push(0)}}},deleteGamepadCache:function(e){this.gamepadButtonCache[e.index]=null,this.gamepadAxisCache[e.index]=null},pollGamepads:function(){var e=this.getGamepadList();if(null!=e)for(var n=e.length,t=0;t<n;){var i=e[t];if(null==i);else{if(null==this.gamepadButtonCache[i.index]){this.gamepadButtonCache[i.index]=[];for(var l=0,s=i.buttons.length;l<s;){l++;this.gamepadButtonCache[i.index].push(0)}this.gamepadAxisCache[i.index]=[];for(var r=0,h=i.axes.length;r<h;){r++;this.gamepadAxisCache[i.index].push(0)}}for(var a=this.gamepadAxisCache[i.index],o=0,c=i.axes.length;o<c;){var u,_,d,b=o++,g=i.axes[b];g!=a[b]&&(a[b]=g,u=this.app.input,_=i.index,d=window.performance.now()/1e3-Si.timestampStart,u.app.events.gamepadAxis(_,b,g,d))}for(var O=this.gamepadButtonCache[i.index],f=0,p=i.buttons.length;f<p;){var C,v,w,m,y=f++,U=i.buttons[y];U.value!=O[y]&&(O[y]=U.value,U.pressed?(C=this.app.input,v=i.index,w=U.value,m=window.performance.now()/1e3-Si.timestampStart,C.app.events.gamepadDown(v,y,w,m)):(C=this.app.input,v=i.index,w=U.value,m=window.performance.now()/1e3-Si.timestampStart,C.app.events.gamepadUp(v,y,w,m)))}}++t}},windowDevicePixelRatio:function(){return null==window.devicePixelRatio?1:window.devicePixelRatio},windowWidth:function(){return Math.round(this.windowW*this.windowDevicePixelRatio())},windowHeight:function(){return Math.round(this.windowH*this.windowDevicePixelRatio())},setWindowFullscreen:function(e){return e?this.window.requestFullscreen():window.document.exitFullscreen(),!0},setWindowTitle:function(e){this.app.config.window.title=e,window.document.title=e},clamp:function(e){return Math.max(0,Math.min(e,1))},startGamepadRumble:function(e,n,t,i){var e=this.getGamepadList()[e];null!=e&&null!=(e=e.vibrationActuator)&&e.playEffect("dual-rumble",{duration:1e3*i,weakMagnitude:Math.max(0,Math.min(n,1)),strongMagnitude:Math.max(0,Math.min(t,1))})},stopGamepadRumble:function(e){var e=this.getGamepadList()[e];null!=e&&null!=(e=e.vibrationActuator)&&e.playEffect("dual-rumble",{duration:1,weakMagnitude:0,strongMagnitude:0})},getGamepadName:function(e){var n=this.getGamepadList();if(null!=n)for(var t=0;t<n.length;){var i=n[t];if(++t,null!=i&&i.index==e)return i.id}return null},__class__:Si}),function(){}),ki=((E["clay.web._WebRuntime.DOMKeys"]=Ai).__name__="clay.web._WebRuntime.DOMKeys",Ai.domKeyToKeyCode=function(e){switch(e){case 16:return 1073742049;case 17:return 1073742048;case 18:return 1073742050;case 20:return 1073741881;case 33:return 1073741899;case 34:return 1073741902;case 35:return 1073741901;case 36:return 1073741898;case 37:return 1073741904;case 38:return 1073741906;case 39:return 1073741903;case 40:return 1073741905;case 44:return 1073741894;case 45:return 1073741897;case 46:return 127;case 91:return 1073742051;case 93:return 1073742055;case 96:return 1073741922;case 97:return 1073741913;case 98:return 1073741914;case 99:return 1073741915;case 100:return 1073741916;case 101:return 1073741917;case 102:return 1073741918;case 103:return 1073741919;case 104:return 1073741920;case 105:return 1073741921;case 106:return 1073741909;case 107:return 1073741911;case 109:return 1073741910;case 110:return 1073742044;case 111:return 1073741908;case 112:return 1073741882;case 113:return 1073741883;case 114:return 1073741884;case 115:return 1073741885;case 116:return 1073741886;case 117:return 1073741887;case 118:return 1073741888;case 119:return 1073741889;case 120:return 1073741890;case 121:return 1073741891;case 122:return 1073741892;case 123:return 1073741893;case 124:return 1073741928;case 125:return 1073741929;case 126:return 1073741930;case 127:return 1073741931;case 128:return 1073741932;case 129:return 1073741933;case 130:return 1073741934;case 131:return 1073741935;case 132:return 1073741936;case 133:return 1073741937;case 134:return 1073741938;case 135:return 1073741939;case 144:return 1073741907;case 160:return 94;case 161:return 33;case 162:return 34;case 163:return 35;case 164:return 36;case 165:return 37;case 166:return 38;case 167:return 95;case 168:return 40;case 169:return 41;case 170:return 42;case 171:return 43;case 172:return 92;case 173:return 45;case 174:return 91;case 175:return 93;case 176:return 96;case 181:return 1073742086;case 182:return 1073741953;case 183:return 1073741952;case 188:return 44;case 190:return 46;case 191:return 47;case 192:return 96;case 219:return 91;case 220:return 92;case 221:return 93;case 222:return 39;case 224:return 1073742051}return e},(E["elements.TabFocusable"]=W2).__name__="elements.TabFocusable",W2.__isInterface__=!0,W2.prototype={allowsTabFocus:null,tabFocus:null,escapeTabFocus:null,__class__:W2},(E["elements.FieldView"]=X2).__name__="elements.FieldView",X2.__interfaces__=[W2,s],X2.__super__=q0,X2.prototype=$extend(q0.prototype,{__cbOnObservedDirty:null,__cbOnceObservedDirty:null,__cbOnOwnerUnbindObservedDirty:null,__cbOnceOwnerUnbindObservedDirty:null,emitObservedDirty:function(e,n){var t=0;if(null!=this.__cbOnObservedDirty&&(t+=this.__cbOnObservedDirty.length),null!=this.__cbOnceObservedDirty&&(t+=this.__cbOnceObservedDirty.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnObservedDirty)for(var r=0,h=this.__cbOnObservedDirty.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnObservedDirty[a],++s):--t}if(null!=this.__cbOnceObservedDirty){for(var o=null,c=null,r=0,h=this.__cbOnceObservedDirty.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceObservedDirty[a],this.__cbOnceObservedDirty[a]=null,u=this.__cbOnceOwnerUnbindObservedDirty[a],(this.__cbOnceOwnerUnbindObservedDirty[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindObservedDirty[a]),c.push(this.__cbOnceObservedDirty[a]))}this.__cbOnceOwnerUnbindObservedDirty=o,this.__cbOnceObservedDirty=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onObservedDirty:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event observedDirty because owner is destroyed!");var l=function(e){null!=t&&(i.offObservedDirty(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push(null);null==this.__cbOnObservedDirty&&(this.__cbOnObservedDirty=[]),this.__cbOnObservedDirty.push(t)},onceObservedDirty:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event observedDirty because owner is destroyed!");var l=function(e){null!=t&&(i.offObservedDirty(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push(null);null==this.__cbOnceObservedDirty&&(this.__cbOnceObservedDirty=[]),this.__cbOnceObservedDirty.push(t)},offObservedDirty:function(e){if(null!=e){var n;null!=this.__cbOnObservedDirty&&-1!=(n=this.__cbOnObservedDirty.indexOf(e))&&(this.__cbOnObservedDirty.splice(n,1),null!=(s=this.__cbOnOwnerUnbindObservedDirty[n])&&s(),this.__cbOnOwnerUnbindObservedDirty.splice(n,1)),null!=this.__cbOnceObservedDirty&&-1!=(n=this.__cbOnceObservedDirty.indexOf(e))&&(this.__cbOnceObservedDirty.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindObservedDirty[n])&&s(),this.__cbOnceOwnerUnbindObservedDirty.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindObservedDirty){for(var t=0,i=this.__cbOnOwnerUnbindObservedDirty.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindObservedDirty[l])&&s()}this.__cbOnOwnerUnbindObservedDirty=null}if(null!=this.__cbOnceOwnerUnbindObservedDirty){for(t=0,i=this.__cbOnceOwnerUnbindObservedDirty.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindObservedDirty[l])&&s()}this.__cbOnceOwnerUnbindObservedDirty=null}this.__cbOnObservedDirty=null,this.__cbOnceObservedDirty=null}},listensObservedDirty:function(){return null!=this.__cbOnObservedDirty&&0<this.__cbOnObservedDirty.length||null!=this.__cbOnceObservedDirty&&0<this.__cbOnceObservedDirty.length},observedDirty:null,willListenFocusedChange:function(){this.get_unobservedFocused()},get_unobservedFocused:function(){var n,t;return 0<=this._lifecycleState?null==this.computeAutorunFocused?(n=this,t=new A(null),this.computedOnceFocused=!0,(this.computeAutorunFocused=t).onRun=function(){var e=n.computeFocused();A.unobserve(),n.set_focused(e),A.reobserve()},t.onDestroy(this,function(e){n.computeAutorunFocused==t&&(n.computeAutorunFocused=null),n=t=null}),this.onDestroy(t,function(e){null!=t&&(t.destroy(),t=null),n=null}),t.run()):this.computeAutorunFocused.invalidated&&this.computeAutorunFocused.run():this.computedOnceFocused||(A.unobserve(),this.computedOnceFocused=!0,this.unobservedFocused=this.computeFocused(),A.reobserve()),this.unobservedFocused},focusedAutoruns:null,get_focused:function(){var e,n,t=this.get_unobservedFocused();return null!=A.current&&(e=A.current,null!=(n=this.focusedAutoruns)||(n=A.getAutorunArray(),null!=(this.focusedAutoruns=n)))&&e.bindToAutorunArray(n),t},set_focused:function(e){var n=this.get_unobservedFocused();return n!=(this.unobservedFocused=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitFocusedChange(e,n),null!=(n=this.focusedAutoruns))&&(this.focusedAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateFocused:function(){var e=this.get_unobservedFocused(),e=(this.emitFocusedChange(e,e),this.focusedAutoruns);null!=e&&(this.focusedAutoruns=null,A.invalidateAutorunArray(e))},unobservedFocused:null,__cbOnFocusedChange:null,__cbOnceFocusedChange:null,__cbOnOwnerUnbindFocusedChange:null,__cbOnceOwnerUnbindFocusedChange:null,emitFocusedChange:function(e,n){var t=0;if(null!=this.__cbOnFocusedChange&&(t+=this.__cbOnFocusedChange.length),null!=this.__cbOnceFocusedChange&&(t+=this.__cbOnceFocusedChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnFocusedChange)for(var r=0,h=this.__cbOnFocusedChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnFocusedChange[a],++s):--t}if(null!=this.__cbOnceFocusedChange){for(var o=null,c=null,r=0,h=this.__cbOnceFocusedChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceFocusedChange[a],this.__cbOnceFocusedChange[a]=null,u=this.__cbOnceOwnerUnbindFocusedChange[a],(this.__cbOnceOwnerUnbindFocusedChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindFocusedChange[a]),c.push(this.__cbOnceFocusedChange[a]))}this.__cbOnceOwnerUnbindFocusedChange=o,this.__cbOnceFocusedChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onFocusedChange:function(n,t){var i=this;if(null==this.__cbOnFocusedChange&&null==this.__cbOnceFocusedChange&&this.willListenFocusedChange(),null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event focusedChange because owner is destroyed!");var l=function(e){null!=t&&(i.offFocusedChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindFocusedChange&&(this.__cbOnOwnerUnbindFocusedChange=[]),this.__cbOnOwnerUnbindFocusedChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindFocusedChange&&(this.__cbOnOwnerUnbindFocusedChange=[]),this.__cbOnOwnerUnbindFocusedChange.push(null);null==this.__cbOnFocusedChange&&(this.__cbOnFocusedChange=[]),this.__cbOnFocusedChange.push(t)},onceFocusedChange:function(n,t){var i=this;if(null==this.__cbOnFocusedChange&&null==this.__cbOnceFocusedChange&&this.willListenFocusedChange(),null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event focusedChange because owner is destroyed!");var l=function(e){null!=t&&(i.offFocusedChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindFocusedChange&&(this.__cbOnceOwnerUnbindFocusedChange=[]),this.__cbOnceOwnerUnbindFocusedChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindFocusedChange&&(this.__cbOnceOwnerUnbindFocusedChange=[]),this.__cbOnceOwnerUnbindFocusedChange.push(null);null==this.__cbOnceFocusedChange&&(this.__cbOnceFocusedChange=[]),this.__cbOnceFocusedChange.push(t)},offFocusedChange:function(e){if(null!=e){var n;null!=this.__cbOnFocusedChange&&-1!=(n=this.__cbOnFocusedChange.indexOf(e))&&(this.__cbOnFocusedChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindFocusedChange[n])&&s(),this.__cbOnOwnerUnbindFocusedChange.splice(n,1)),null!=this.__cbOnceFocusedChange&&-1!=(n=this.__cbOnceFocusedChange.indexOf(e))&&(this.__cbOnceFocusedChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindFocusedChange[n])&&s(),this.__cbOnceOwnerUnbindFocusedChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindFocusedChange){for(var t=0,i=this.__cbOnOwnerUnbindFocusedChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindFocusedChange[l])&&s()}this.__cbOnOwnerUnbindFocusedChange=null}if(null!=this.__cbOnceOwnerUnbindFocusedChange){for(t=0,i=this.__cbOnceOwnerUnbindFocusedChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindFocusedChange[l])&&s()}this.__cbOnceOwnerUnbindFocusedChange=null}this.__cbOnFocusedChange=null,this.__cbOnceFocusedChange=null}},listensFocusedChange:function(){return null!=this.__cbOnFocusedChange&&0<this.__cbOnFocusedChange.length||null!=this.__cbOnceFocusedChange&&0<this.__cbOnceFocusedChange.length},computeFocused:function(){return Ei.get_shared().updateFocusedField(),Ei.get_shared().get_focusedField()==this},computeAutorunFocused:null,computedOnceFocused:null,windowItem:null,focusedThisFrame:null,handleFocusedChange:function(e,n){e?this.focusedThisFrame=!0:ae.app.onceFinishDraw(this,$bind(this,this.updateFocusedThisFrame))},updateFocusedThisFrame:function(){this.focusedThisFrame=this.get_focused()},focus:function(){ae.app.screen.set_focusedVisual(this),this.makeVisibleInForm()},makeVisibleInForm:function(){var e,n,t=this.getScrollingLayout();null!=t&&((t=t.scroller).content.visualToScreen(0,0,X2._point),n=X2._point.y,this.visualToScreen(0,0,X2._point),e=X2._point.y,this.visualToScreen(0,this.get_height(),X2._point),e=e-n,n=X2._point.y-n,n+=8,t.isContentPositionInBounds(0,e-=8),t.isContentPositionInBounds(0,n),t.ensureContentPositionIsInBounds(0,e),t.ensureContentPositionIsInBounds(0,n))},getScrollingLayout:function(){for(var e=this.parent;null!=e;){if(e instanceof Yi)return e;e=e.parent}return null},didLostFocus:function(){},bindPointerEvents:function(){this.onPointerDown(this,function(e){})},allowsTabFocus:function(){return!L.getProperty(this,"disabled")},tabFocus:function(){this.focus()},escapeTabFocus:function(){this.get_focused()&&ae.app.screen.set_focusedVisual(null)},hitsSelfOrDerived:function(e,n){return this._hits(e,n,!1)},usesScanCode:function(e){return!!this.focusedThisFrame&&(41==e||40==e)},usesKeyCode:function(e){return!!this.focusedThisFrame&&(27==e||13==e)},unbindEvents:function(){q0.prototype.unbindEvents.call(this),this.offObservedDirty(),this.offFocusedChange()},__class__:X2,__properties__:$extend(q0.prototype.__properties__,{get_unobservedFocused:"get_unobservedFocused",set_focused:"set_focused",get_focused:"get_focused"})}),(E["elements.SelectListView"]=Y2).__name__="elements.SelectListView",Y2.__interfaces__=[s,i0],Y2.__super__=f0,Y2.prototype=$extend(f0.prototype,{__cbOnObservedDirty:null,__cbOnceObservedDirty:null,__cbOnOwnerUnbindObservedDirty:null,__cbOnceOwnerUnbindObservedDirty:null,emitObservedDirty:function(e,n){var t=0;if(null!=this.__cbOnObservedDirty&&(t+=this.__cbOnObservedDirty.length),null!=this.__cbOnceObservedDirty&&(t+=this.__cbOnceObservedDirty.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnObservedDirty)for(var r=0,h=this.__cbOnObservedDirty.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnObservedDirty[a],++s):--t}if(null!=this.__cbOnceObservedDirty){for(var o=null,c=null,r=0,h=this.__cbOnceObservedDirty.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceObservedDirty[a],this.__cbOnceObservedDirty[a]=null,u=this.__cbOnceOwnerUnbindObservedDirty[a],(this.__cbOnceOwnerUnbindObservedDirty[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindObservedDirty[a]),c.push(this.__cbOnceObservedDirty[a]))}this.__cbOnceOwnerUnbindObservedDirty=o,this.__cbOnceObservedDirty=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onObservedDirty:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event observedDirty because owner is destroyed!");var l=function(e){null!=t&&(i.offObservedDirty(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push(null);null==this.__cbOnObservedDirty&&(this.__cbOnObservedDirty=[]),this.__cbOnObservedDirty.push(t)},onceObservedDirty:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event observedDirty because owner is destroyed!");var l=function(e){null!=t&&(i.offObservedDirty(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push(null);null==this.__cbOnceObservedDirty&&(this.__cbOnceObservedDirty=[]),this.__cbOnceObservedDirty.push(t)},offObservedDirty:function(e){if(null!=e){var n;null!=this.__cbOnObservedDirty&&-1!=(n=this.__cbOnObservedDirty.indexOf(e))&&(this.__cbOnObservedDirty.splice(n,1),null!=(s=this.__cbOnOwnerUnbindObservedDirty[n])&&s(),this.__cbOnOwnerUnbindObservedDirty.splice(n,1)),null!=this.__cbOnceObservedDirty&&-1!=(n=this.__cbOnceObservedDirty.indexOf(e))&&(this.__cbOnceObservedDirty.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindObservedDirty[n])&&s(),this.__cbOnceOwnerUnbindObservedDirty.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindObservedDirty){for(var t=0,i=this.__cbOnOwnerUnbindObservedDirty.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindObservedDirty[l])&&s()}this.__cbOnOwnerUnbindObservedDirty=null}if(null!=this.__cbOnceOwnerUnbindObservedDirty){for(t=0,i=this.__cbOnceOwnerUnbindObservedDirty.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindObservedDirty[l])&&s()}this.__cbOnceOwnerUnbindObservedDirty=null}this.__cbOnObservedDirty=null,this.__cbOnceObservedDirty=null}},listensObservedDirty:function(){return null!=this.__cbOnObservedDirty&&0<this.__cbOnObservedDirty.length||null!=this.__cbOnceObservedDirty&&0<this.__cbOnceObservedDirty.length},observedDirty:null,themeAutoruns:null,get_theme:function(){var e,n,t=this.unobservedTheme;return null!=A.current&&(e=A.current,null!=(n=this.themeAutoruns)||(n=A.getAutorunArray(),null!=(this.themeAutoruns=n)))&&e.bindToAutorunArray(n),t},set_theme:function(e){var n=this.unobservedTheme;return n!=(this.unobservedTheme=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitThemeChange(e,n),null!=(n=this.themeAutoruns))&&(this.themeAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateTheme:function(){var e=this.unobservedTheme,e=(this.emitThemeChange(e,e),this.themeAutoruns);null!=e&&(this.themeAutoruns=null,A.invalidateAutorunArray(e))},unobservedTheme:null,__cbOnThemeChange:null,__cbOnceThemeChange:null,__cbOnOwnerUnbindThemeChange:null,__cbOnceOwnerUnbindThemeChange:null,emitThemeChange:function(e,n){var t=0;if(null!=this.__cbOnThemeChange&&(t+=this.__cbOnThemeChange.length),null!=this.__cbOnceThemeChange&&(t+=this.__cbOnceThemeChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnThemeChange)for(var r=0,h=this.__cbOnThemeChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnThemeChange[a],++s):--t}if(null!=this.__cbOnceThemeChange){for(var o=null,c=null,r=0,h=this.__cbOnceThemeChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceThemeChange[a],this.__cbOnceThemeChange[a]=null,u=this.__cbOnceOwnerUnbindThemeChange[a],(this.__cbOnceOwnerUnbindThemeChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindThemeChange[a]),c.push(this.__cbOnceThemeChange[a]))}this.__cbOnceOwnerUnbindThemeChange=o,this.__cbOnceThemeChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onThemeChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event themeChange because owner is destroyed!");var l=function(e){null!=t&&(i.offThemeChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindThemeChange&&(this.__cbOnOwnerUnbindThemeChange=[]),this.__cbOnOwnerUnbindThemeChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindThemeChange&&(this.__cbOnOwnerUnbindThemeChange=[]),this.__cbOnOwnerUnbindThemeChange.push(null);null==this.__cbOnThemeChange&&(this.__cbOnThemeChange=[]),this.__cbOnThemeChange.push(t)},onceThemeChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event themeChange because owner is destroyed!");var l=function(e){null!=t&&(i.offThemeChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindThemeChange&&(this.__cbOnceOwnerUnbindThemeChange=[]),this.__cbOnceOwnerUnbindThemeChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindThemeChange&&(this.__cbOnceOwnerUnbindThemeChange=[]),this.__cbOnceOwnerUnbindThemeChange.push(null);null==this.__cbOnceThemeChange&&(this.__cbOnceThemeChange=[]),this.__cbOnceThemeChange.push(t)},offThemeChange:function(e){if(null!=e){var n;null!=this.__cbOnThemeChange&&-1!=(n=this.__cbOnThemeChange.indexOf(e))&&(this.__cbOnThemeChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindThemeChange[n])&&s(),this.__cbOnOwnerUnbindThemeChange.splice(n,1)),null!=this.__cbOnceThemeChange&&-1!=(n=this.__cbOnceThemeChange.indexOf(e))&&(this.__cbOnceThemeChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindThemeChange[n])&&s(),this.__cbOnceOwnerUnbindThemeChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindThemeChange){for(var t=0,i=this.__cbOnOwnerUnbindThemeChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindThemeChange[l])&&s()}this.__cbOnOwnerUnbindThemeChange=null}if(null!=this.__cbOnceOwnerUnbindThemeChange){for(t=0,i=this.__cbOnceOwnerUnbindThemeChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindThemeChange[l])&&s()}this.__cbOnceOwnerUnbindThemeChange=null}this.__cbOnThemeChange=null,this.__cbOnceThemeChange=null}},listensThemeChange:function(){return null!=this.__cbOnThemeChange&&0<this.__cbOnThemeChange.length||null!=this.__cbOnceThemeChange&&0<this.__cbOnceThemeChange.length},__cbOnValueClick:null,__cbOnceValueClick:null,__cbOnOwnerUnbindValueClick:null,__cbOnceOwnerUnbindValueClick:null,emitValueClick:function(e){var n=0;if(null!=this.__cbOnValueClick&&(n+=this.__cbOnValueClick.length),null!=this.__cbOnceValueClick&&(n+=this.__cbOnceValueClick.length),0<n){var t=C.pool(n),i=t.get(),l=0;if(null!=this.__cbOnValueClick)for(var s=0,r=this.__cbOnValueClick.length;s<r;){var h=s++;!0?(i.vector[l]=this.__cbOnValueClick[h],++l):--n}if(null!=this.__cbOnceValueClick){for(var a=null,o=null,s=0,r=this.__cbOnceValueClick.length;s<r;){var c,h=s++;!0?(i.vector[l]=this.__cbOnceValueClick[h],this.__cbOnceValueClick[h]=null,c=this.__cbOnceOwnerUnbindValueClick[h],(this.__cbOnceOwnerUnbindValueClick[h]=null)!=c&&c(),++l):(--n,null==a&&(a=[],o=[],0),a.push(this.__cbOnceOwnerUnbindValueClick[h]),o.push(this.__cbOnceValueClick[h]))}this.__cbOnceOwnerUnbindValueClick=a,this.__cbOnceValueClick=o}for(s=0,r=n;s<r;){l=s++;(0,i.vector[l])(e)}t.release(i)}},onValueClick:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event valueClick because owner is destroyed!");var l=function(e){null!=t&&(i.offValueClick(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindValueClick&&(this.__cbOnOwnerUnbindValueClick=[]),this.__cbOnOwnerUnbindValueClick.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindValueClick&&(this.__cbOnOwnerUnbindValueClick=[]),this.__cbOnOwnerUnbindValueClick.push(null);null==this.__cbOnValueClick&&(this.__cbOnValueClick=[]),this.__cbOnValueClick.push(t)},onceValueClick:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event valueClick because owner is destroyed!");var l=function(e){null!=t&&(i.offValueClick(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindValueClick&&(this.__cbOnceOwnerUnbindValueClick=[]),this.__cbOnceOwnerUnbindValueClick.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindValueClick&&(this.__cbOnceOwnerUnbindValueClick=[]),this.__cbOnceOwnerUnbindValueClick.push(null);null==this.__cbOnceValueClick&&(this.__cbOnceValueClick=[]),this.__cbOnceValueClick.push(t)},offValueClick:function(e){if(null!=e){var n;null!=this.__cbOnValueClick&&-1!=(n=this.__cbOnValueClick.indexOf(e))&&(this.__cbOnValueClick.splice(n,1),null!=(s=this.__cbOnOwnerUnbindValueClick[n])&&s(),this.__cbOnOwnerUnbindValueClick.splice(n,1)),null!=this.__cbOnceValueClick&&-1!=(n=this.__cbOnceValueClick.indexOf(e))&&(this.__cbOnceValueClick.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindValueClick[n])&&s(),this.__cbOnceOwnerUnbindValueClick.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindValueClick){for(var t=0,i=this.__cbOnOwnerUnbindValueClick.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindValueClick[l])&&s()}this.__cbOnOwnerUnbindValueClick=null}if(null!=this.__cbOnceOwnerUnbindValueClick){for(t=0,i=this.__cbOnceOwnerUnbindValueClick.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindValueClick[l])&&s()}this.__cbOnceOwnerUnbindValueClick=null}this.__cbOnValueClick=null,this.__cbOnceValueClick=null}},listensValueClick:function(){return null!=this.__cbOnValueClick&&0<this.__cbOnValueClick.length||null!=this.__cbOnceValueClick&&0<this.__cbOnceValueClick.length},autoScrollToValue:null,valueAutoruns:null,get_value:function(){var e,n,t=this.unobservedValue;return null!=A.current&&(e=A.current,null!=(n=this.valueAutoruns)||(n=A.getAutorunArray(),null!=(this.valueAutoruns=n)))&&e.bindToAutorunArray(n),t},set_value:function(e){var n=this.unobservedValue;return n!=(this.unobservedValue=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitValueChange(e,n),null!=(n=this.valueAutoruns))&&(this.valueAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateValue:function(){var e=this.unobservedValue,e=(this.emitValueChange(e,e),this.valueAutoruns);null!=e&&(this.valueAutoruns=null,A.invalidateAutorunArray(e))},unobservedValue:null,__cbOnValueChange:null,__cbOnceValueChange:null,__cbOnOwnerUnbindValueChange:null,__cbOnceOwnerUnbindValueChange:null,emitValueChange:function(e,n){var t=0;if(null!=this.__cbOnValueChange&&(t+=this.__cbOnValueChange.length),null!=this.__cbOnceValueChange&&(t+=this.__cbOnceValueChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnValueChange)for(var r=0,h=this.__cbOnValueChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnValueChange[a],++s):--t}if(null!=this.__cbOnceValueChange){for(var o=null,c=null,r=0,h=this.__cbOnceValueChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceValueChange[a],this.__cbOnceValueChange[a]=null,u=this.__cbOnceOwnerUnbindValueChange[a],(this.__cbOnceOwnerUnbindValueChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindValueChange[a]),c.push(this.__cbOnceValueChange[a]))}this.__cbOnceOwnerUnbindValueChange=o,this.__cbOnceValueChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onValueChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event valueChange because owner is destroyed!");var l=function(e){null!=t&&(i.offValueChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindValueChange&&(this.__cbOnOwnerUnbindValueChange=[]),this.__cbOnOwnerUnbindValueChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindValueChange&&(this.__cbOnOwnerUnbindValueChange=[]),this.__cbOnOwnerUnbindValueChange.push(null);null==this.__cbOnValueChange&&(this.__cbOnValueChange=[]),this.__cbOnValueChange.push(t)},onceValueChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event valueChange because owner is destroyed!");var l=function(e){null!=t&&(i.offValueChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindValueChange&&(this.__cbOnceOwnerUnbindValueChange=[]),this.__cbOnceOwnerUnbindValueChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindValueChange&&(this.__cbOnceOwnerUnbindValueChange=[]),this.__cbOnceOwnerUnbindValueChange.push(null);null==this.__cbOnceValueChange&&(this.__cbOnceValueChange=[]),this.__cbOnceValueChange.push(t)},offValueChange:function(e){if(null!=e){var n;null!=this.__cbOnValueChange&&-1!=(n=this.__cbOnValueChange.indexOf(e))&&(this.__cbOnValueChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindValueChange[n])&&s(),this.__cbOnOwnerUnbindValueChange.splice(n,1)),null!=this.__cbOnceValueChange&&-1!=(n=this.__cbOnceValueChange.indexOf(e))&&(this.__cbOnceValueChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindValueChange[n])&&s(),this.__cbOnceOwnerUnbindValueChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindValueChange){for(var t=0,i=this.__cbOnOwnerUnbindValueChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindValueChange[l])&&s()}this.__cbOnOwnerUnbindValueChange=null}if(null!=this.__cbOnceOwnerUnbindValueChange){for(t=0,i=this.__cbOnceOwnerUnbindValueChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindValueChange[l])&&s()}this.__cbOnceOwnerUnbindValueChange=null}this.__cbOnValueChange=null,this.__cbOnceValueChange=null}},listensValueChange:function(){return null!=this.__cbOnValueChange&&0<this.__cbOnValueChange.length||null!=this.__cbOnceValueChange&&0<this.__cbOnceValueChange.length},listAutoruns:null,get_list:function(){var e,n,t=this.unobservedList;return null!=A.current&&(e=A.current,null!=(n=this.listAutoruns)||(n=A.getAutorunArray(),null!=(this.listAutoruns=n)))&&e.bindToAutorunArray(n),t},set_list:function(e){var n=this.unobservedList;return this.unobservedList=e,Ds.equalAny(n,e)||(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitListChange(e,n),null!=(n=this.listAutoruns)&&(this.listAutoruns=null,A.invalidateAutorunArray(n))),e},invalidateList:function(){var e=this.unobservedList,e=(this.emitListChange(e,e),this.listAutoruns);null!=e&&(this.listAutoruns=null,A.invalidateAutorunArray(e))},unobservedList:null,__cbOnListChange:null,__cbOnceListChange:null,__cbOnOwnerUnbindListChange:null,__cbOnceOwnerUnbindListChange:null,emitListChange:function(e,n){var t=0;if(null!=this.__cbOnListChange&&(t+=this.__cbOnListChange.length),null!=this.__cbOnceListChange&&(t+=this.__cbOnceListChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnListChange)for(var r=0,h=this.__cbOnListChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnListChange[a],++s):--t}if(null!=this.__cbOnceListChange){for(var o=null,c=null,r=0,h=this.__cbOnceListChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceListChange[a],this.__cbOnceListChange[a]=null,u=this.__cbOnceOwnerUnbindListChange[a],(this.__cbOnceOwnerUnbindListChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindListChange[a]),c.push(this.__cbOnceListChange[a]))}this.__cbOnceOwnerUnbindListChange=o,this.__cbOnceListChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onListChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event listChange because owner is destroyed!");var l=function(e){null!=t&&(i.offListChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindListChange&&(this.__cbOnOwnerUnbindListChange=[]),this.__cbOnOwnerUnbindListChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindListChange&&(this.__cbOnOwnerUnbindListChange=[]),this.__cbOnOwnerUnbindListChange.push(null);null==this.__cbOnListChange&&(this.__cbOnListChange=[]),this.__cbOnListChange.push(t)},onceListChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event listChange because owner is destroyed!");var l=function(e){null!=t&&(i.offListChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindListChange&&(this.__cbOnceOwnerUnbindListChange=[]),this.__cbOnceOwnerUnbindListChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindListChange&&(this.__cbOnceOwnerUnbindListChange=[]),this.__cbOnceOwnerUnbindListChange.push(null);null==this.__cbOnceListChange&&(this.__cbOnceListChange=[]),this.__cbOnceListChange.push(t)},offListChange:function(e){if(null!=e){var n;null!=this.__cbOnListChange&&-1!=(n=this.__cbOnListChange.indexOf(e))&&(this.__cbOnListChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindListChange[n])&&s(),this.__cbOnOwnerUnbindListChange.splice(n,1)),null!=this.__cbOnceListChange&&-1!=(n=this.__cbOnceListChange.indexOf(e))&&(this.__cbOnceListChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindListChange[n])&&s(),this.__cbOnceOwnerUnbindListChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindListChange){for(var t=0,i=this.__cbOnOwnerUnbindListChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindListChange[l])&&s()}this.__cbOnOwnerUnbindListChange=null}if(null!=this.__cbOnceOwnerUnbindListChange){for(t=0,i=this.__cbOnceOwnerUnbindListChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindListChange[l])&&s()}this.__cbOnceOwnerUnbindListChange=null}this.__cbOnListChange=null,this.__cbOnceListChange=null}},listensListChange:function(){return null!=this.__cbOnListChange&&0<this.__cbOnListChange.length||null!=this.__cbOnceListChange&&0<this.__cbOnceListChange.length},nullValueTextAutoruns:null,get_nullValueText:function(){var e,n,t=this.unobservedNullValueText;return null!=A.current&&(e=A.current,null!=(n=this.nullValueTextAutoruns)||(n=A.getAutorunArray(),null!=(this.nullValueTextAutoruns=n)))&&e.bindToAutorunArray(n),t},set_nullValueText:function(e){var n=this.unobservedNullValueText;return n!=(this.unobservedNullValueText=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitNullValueTextChange(e,n),null!=(n=this.nullValueTextAutoruns))&&(this.nullValueTextAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateNullValueText:function(){var e=this.unobservedNullValueText,e=(this.emitNullValueTextChange(e,e),this.nullValueTextAutoruns);null!=e&&(this.nullValueTextAutoruns=null,A.invalidateAutorunArray(e))},unobservedNullValueText:null,__cbOnNullValueTextChange:null,__cbOnceNullValueTextChange:null,__cbOnOwnerUnbindNullValueTextChange:null,__cbOnceOwnerUnbindNullValueTextChange:null,emitNullValueTextChange:function(e,n){var t=0;if(null!=this.__cbOnNullValueTextChange&&(t+=this.__cbOnNullValueTextChange.length),null!=this.__cbOnceNullValueTextChange&&(t+=this.__cbOnceNullValueTextChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnNullValueTextChange)for(var r=0,h=this.__cbOnNullValueTextChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnNullValueTextChange[a],++s):--t}if(null!=this.__cbOnceNullValueTextChange){for(var o=null,c=null,r=0,h=this.__cbOnceNullValueTextChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceNullValueTextChange[a],this.__cbOnceNullValueTextChange[a]=null,u=this.__cbOnceOwnerUnbindNullValueTextChange[a],(this.__cbOnceOwnerUnbindNullValueTextChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindNullValueTextChange[a]),c.push(this.__cbOnceNullValueTextChange[a]))}this.__cbOnceOwnerUnbindNullValueTextChange=o,this.__cbOnceNullValueTextChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onNullValueTextChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event nullValueTextChange because owner is destroyed!");var l=function(e){null!=t&&(i.offNullValueTextChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindNullValueTextChange&&(this.__cbOnOwnerUnbindNullValueTextChange=[]),this.__cbOnOwnerUnbindNullValueTextChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindNullValueTextChange&&(this.__cbOnOwnerUnbindNullValueTextChange=[]),this.__cbOnOwnerUnbindNullValueTextChange.push(null);null==this.__cbOnNullValueTextChange&&(this.__cbOnNullValueTextChange=[]),this.__cbOnNullValueTextChange.push(t)},onceNullValueTextChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event nullValueTextChange because owner is destroyed!");var l=function(e){null!=t&&(i.offNullValueTextChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindNullValueTextChange&&(this.__cbOnceOwnerUnbindNullValueTextChange=[]),this.__cbOnceOwnerUnbindNullValueTextChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindNullValueTextChange&&(this.__cbOnceOwnerUnbindNullValueTextChange=[]),this.__cbOnceOwnerUnbindNullValueTextChange.push(null);null==this.__cbOnceNullValueTextChange&&(this.__cbOnceNullValueTextChange=[]),this.__cbOnceNullValueTextChange.push(t)},offNullValueTextChange:function(e){if(null!=e){var n;null!=this.__cbOnNullValueTextChange&&-1!=(n=this.__cbOnNullValueTextChange.indexOf(e))&&(this.__cbOnNullValueTextChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindNullValueTextChange[n])&&s(),this.__cbOnOwnerUnbindNullValueTextChange.splice(n,1)),null!=this.__cbOnceNullValueTextChange&&-1!=(n=this.__cbOnceNullValueTextChange.indexOf(e))&&(this.__cbOnceNullValueTextChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindNullValueTextChange[n])&&s(),this.__cbOnceOwnerUnbindNullValueTextChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindNullValueTextChange){for(var t=0,i=this.__cbOnOwnerUnbindNullValueTextChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindNullValueTextChange[l])&&s()}this.__cbOnOwnerUnbindNullValueTextChange=null}if(null!=this.__cbOnceOwnerUnbindNullValueTextChange){for(t=0,i=this.__cbOnceOwnerUnbindNullValueTextChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindNullValueTextChange[l])&&s()}this.__cbOnceOwnerUnbindNullValueTextChange=null}this.__cbOnNullValueTextChange=null,this.__cbOnceNullValueTextChange=null}},listensNullValueTextChange:function(){return null!=this.__cbOnNullValueTextChange&&0<this.__cbOnNullValueTextChange.length||null!=this.__cbOnceNullValueTextChange&&0<this.__cbOnceNullValueTextChange.length},collectionView:null,updateScrollFromValueIfNeeded:function(){var e=this.get_value();A.unobserve(),this.autoScrollToValue&&null!=e&&this.scrollToValue(3),A.reobserve()},scrollToValue:function(e){null==this.get_value()||null==this.get_list()?this.collectionView.scrollToItem(0,e):this.collectionView.scrollToItem(this.get_list().indexOf(this.get_value())+(null!=this.get_nullValueText()?1:0),e)},layout:function(){var e=this.collectionView,n=this.get_width(),t=this.get_height();e.set_width(n),e.set_height(t)},collectionViewSize:function(e){return this.get_list().length+(null!=this.get_nullValueText()?1:0)},collectionViewItemFrameAtIndex:function(e,n,t){t.width=e.get_width(),t.height=Y2.ITEM_HEIGHT},collectionViewReleaseItemAtIndex:function(e,n,t){return!0},collectionViewItemAtIndex:function(e,n,t){var i=null;return null!=t?(i=t).set_itemIndex(n):((i=new Ii).set_inputStyle(!0),i.set_itemIndex(n),i.set_collectionView(e),this.bindCellView(i)),i},bindCellView:function(t){var i=this,e=(t.autorun(function(){var e=t.get_itemIndex(),e=(null!=i.get_nullValueText()&&--e,0<=e?i.get_list()[e]:null),n=e==i.get_value();t.set_title(null!=e?e:i.get_nullValueText()),t.set_displaysEmptyValue(null==e),t.set_selected(n)}),t.autorun(function(){var e=i.get_theme();A.unobserve(),t.set_theme(e)}),new b0);t.component("click",e),e.onClick(t,function(){var e=t.get_itemIndex(),e=(null!=i.get_nullValueText()&&--e,0<=e?i.get_list()[e]:null);i.set_value(e),i.emitValueClick(e),i.invalidateValue()})},updateStyle:function(){var e=this.get_theme(),n=(e=null==e?G.get_context().get_theme():e).get_darkBackgroundColor(),t=.1,i=(0-(n>>16&255))*(t=null==t?.5:t)+(n>>16&255)|0,l=(0-(n>>8&255))*t+(n>>8&255)|0,t=(0-(255&n))*t+(255&n)|0,n=0,n=(this.color=((n&65535|(255<i?255:i<0?0:i)<<16)&16711935|(255<l?255:l<0?0:l)<<8)&16776960|(255<t?255:t<0?0:t),1!=this.borderSize&&(this.borderSize=1,this.updateBorder()),e.get_lightBorderColor()),i=(this.borderColor!=n&&(this.borderColor=n,0<this.borderSize||0<this.borderTopSize||0<this.borderBottomSize||0<this.borderLeftSize||0<this.borderRightSize)&&this.updateBorder(),He.INSIDE);this.borderPosition!=i&&(this.borderPosition=i,0<this.borderSize||0<this.borderTopSize||0<this.borderBottomSize||0<this.borderLeftSize||0<this.borderRightSize)&&this.updateBorder(),2!=this.borderDepth&&(this.borderDepth=2,null!=this.border)&&this.border.set_depth(2)},unbindEvents:function(){f0.prototype.unbindEvents.call(this),this.offObservedDirty(),this.offThemeChange(),this.offValueChange(),this.offListChange(),this.offNullValueTextChange(),this.offValueClick()},__class__:Y2,__properties__:$extend(f0.prototype.__properties__,{set_nullValueText:"set_nullValueText",get_nullValueText:"get_nullValueText",set_list:"set_list",get_list:"get_list",set_value:"set_value",get_value:"get_value",set_theme:"set_theme",get_theme:"get_theme"})}),(E["elements.BaseTextFieldView"]=Z2).__name__="elements.BaseTextFieldView",Z2.transformTextForCompletion=function(e){return z.replace(e," ","_")},Z2.__super__=X2,Z2.prototype=$extend(X2.prototype,{setTextValue:function(e,n){this.set_textValue(n),this.setValue(e,n)},setValue:function(e,n){},setEmptyValue:function(e){},submit:function(e){},textValueAutoruns:null,get_textValue:function(){var e,n,t=this.unobservedTextValue;return null!=A.current&&(e=A.current,null!=(n=this.textValueAutoruns)||(n=A.getAutorunArray(),null!=(this.textValueAutoruns=n)))&&e.bindToAutorunArray(n),t},set_textValue:function(e){var n=this.unobservedTextValue;return n!=(this.unobservedTextValue=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitTextValueChange(e,n),null!=(n=this.textValueAutoruns))&&(this.textValueAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateTextValue:function(){var e=this.unobservedTextValue,e=(this.emitTextValueChange(e,e),this.textValueAutoruns);null!=e&&(this.textValueAutoruns=null,A.invalidateAutorunArray(e))},unobservedTextValue:null,__cbOnTextValueChange:null,__cbOnceTextValueChange:null,__cbOnOwnerUnbindTextValueChange:null,__cbOnceOwnerUnbindTextValueChange:null,emitTextValueChange:function(e,n){var t=0;if(null!=this.__cbOnTextValueChange&&(t+=this.__cbOnTextValueChange.length),null!=this.__cbOnceTextValueChange&&(t+=this.__cbOnceTextValueChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnTextValueChange)for(var r=0,h=this.__cbOnTextValueChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnTextValueChange[a],++s):--t}if(null!=this.__cbOnceTextValueChange){for(var o=null,c=null,r=0,h=this.__cbOnceTextValueChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceTextValueChange[a],this.__cbOnceTextValueChange[a]=null,u=this.__cbOnceOwnerUnbindTextValueChange[a],(this.__cbOnceOwnerUnbindTextValueChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindTextValueChange[a]),c.push(this.__cbOnceTextValueChange[a]))}this.__cbOnceOwnerUnbindTextValueChange=o,this.__cbOnceTextValueChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onTextValueChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event textValueChange because owner is destroyed!");var l=function(e){null!=t&&(i.offTextValueChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindTextValueChange&&(this.__cbOnOwnerUnbindTextValueChange=[]),this.__cbOnOwnerUnbindTextValueChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindTextValueChange&&(this.__cbOnOwnerUnbindTextValueChange=[]),this.__cbOnOwnerUnbindTextValueChange.push(null);null==this.__cbOnTextValueChange&&(this.__cbOnTextValueChange=[]),this.__cbOnTextValueChange.push(t)},onceTextValueChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event textValueChange because owner is destroyed!");var l=function(e){null!=t&&(i.offTextValueChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindTextValueChange&&(this.__cbOnceOwnerUnbindTextValueChange=[]),this.__cbOnceOwnerUnbindTextValueChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindTextValueChange&&(this.__cbOnceOwnerUnbindTextValueChange=[]),this.__cbOnceOwnerUnbindTextValueChange.push(null);null==this.__cbOnceTextValueChange&&(this.__cbOnceTextValueChange=[]),this.__cbOnceTextValueChange.push(t)},offTextValueChange:function(e){if(null!=e){var n;null!=this.__cbOnTextValueChange&&-1!=(n=this.__cbOnTextValueChange.indexOf(e))&&(this.__cbOnTextValueChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindTextValueChange[n])&&s(),this.__cbOnOwnerUnbindTextValueChange.splice(n,1)),null!=this.__cbOnceTextValueChange&&-1!=(n=this.__cbOnceTextValueChange.indexOf(e))&&(this.__cbOnceTextValueChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindTextValueChange[n])&&s(),this.__cbOnceOwnerUnbindTextValueChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindTextValueChange){for(var t=0,i=this.__cbOnOwnerUnbindTextValueChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindTextValueChange[l])&&s()}this.__cbOnOwnerUnbindTextValueChange=null}if(null!=this.__cbOnceOwnerUnbindTextValueChange){for(t=0,i=this.__cbOnceOwnerUnbindTextValueChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindTextValueChange[l])&&s()}this.__cbOnceOwnerUnbindTextValueChange=null}this.__cbOnTextValueChange=null,this.__cbOnceTextValueChange=null}},listensTextValueChange:function(){return null!=this.__cbOnTextValueChange&&0<this.__cbOnTextValueChange.length||null!=this.__cbOnceTextValueChange&&0<this.__cbOnceTextValueChange.length},autocompleteCandidates:null,set_autocompleteCandidates:function(e){if(this.autocompleteCandidates!=e)if(null!=(this.autocompleteCandidates=e)){for(var n=[],t=0,i=e.length;t<i;){var l=e[t++];n.push({search:z.replace(l," ","_"),original:l})}this.processedAutocompleteCandidates=n}else this.processedAutocompleteCandidates=null;return e},autocompleteDelay:null,autocompleteMaxResults:null,autocompleteOnFocus:null,clipSuggestions:null,editingThisFrame:null,suggestionsVisibleThisFrame:null,didLostFocus:function(){X2.prototype.didLostFocus.call(this)},handleAutocompleteOnFocus:function(e,n){e&&!n&&this.autocompleteOnFocus&&null!=this.autocompleteCandidates&&0<this.autocompleteCandidates.length&&this.updateAutocompleteSuggestions(!0)},destroy:function(){this._lifecycleState<=-2||(this._lifecycleState=-2,this._lifecycleState=-1,X2.prototype.destroy.call(this),this.clearSuggestions())},keyBindings:null,set_keyBindings:function(e){return this.keyBindings==e?this.keyBindings:(null!=this.keyBindings&&this.keyBindings.destroy(),this.keyBindings=e,null!=this.keyBindings?(this.component("keyBindings",this.keyBindings,!0),this.keyBindings):(this.removeComponent("keyBindings"),null))},textView:null,editText:null,cancelAutoComplete:null,processedAutocompleteCandidates:null,suggestionsView:null,suggestionsContainer:null,suggestions:null,handleEditTextSubmit:function(){this.get_focused()&&this.submit(this)},updateFromEditText:function(e){var t=this,i=(null!=this.cancelAutoComplete&&(this.cancelAutoComplete(),this.cancelAutoComplete=null),this.textView.text.component("selectText")),l=this.get_textValue(),s=i.get_selectionStart(),n=i.get_selectionEnd(),r=(this.setTextValue(this,e),this.get_textValue()),h=l.substring(0,s-1),a=r.substring(0,s-1);s==n&&e.length==l.length+1&&r.length>e.length&&h==a&&ae.app._oncePostFlushImmediate(function(){var e,n;t._lifecycleState<0||(e=i.get_selectionStart(),n=r.length-l.length,l.substring(e,l.length)==r.substring(e+n,r.length)&&(i.set_selectionStart(s+n),i.set_selectionEnd(i.get_selectionStart())))},!0),l!=e&&null!=this.autocompleteCandidates&&0<this.autocompleteCandidates.length&&(this.cancelAutoComplete=Gt.schedule(this,this.autocompleteDelay,function(){t.updateAutocompleteSuggestions()},-1))},updateFromTextValue:function(){var e=this.get_textValue();A.unobserve(),null!=this.editText&&this.editText.updateText(e),this.textView.set_content(e),A.reobserve()},updateAutocompleteSuggestions:function(e){null==e&&(e=!1);var n=this.textView.text.content;if(0<z.trim(n).length){var n=z.replace(n," ","_"),t=ml.filter(this.processedAutocompleteCandidates,n,{maxResults:this.autocompleteMaxResults,key:"search"}),i=!(this.suggestions=[]);if(0<t.length){for(var l=0,s=t.length;l<s;){var r=l++;this.suggestions.push(t[r].original)}e&&this.suggestions.length<Z2.FORCED_SUGGESTION_FULL_LIST_UNDER_COUNT&&(i=!0)}else e&&(i=!0);if(i){var i=this.suggestions;if(0!=i.length)if(0<i.length)i.splice(0,i.length);else for(var h=i;h.length<0;)h.push(null);for(var a=Object.create(null),l=0,s=this.processedAutocompleteCandidates.length;l<s;){var r=l++,o=this.processedAutocompleteCandidates[r].original,c=(this.suggestions.push(o),this.suggestionDeepScore(o,n));a[o]=c}this.suggestions.sort(function(e,n){e=a[e],n=a[n];return n<e?-1:e<n?1:0})}}else if(e){this.suggestions=[];for(l=0,s=this.processedAutocompleteCandidates.length;l<s;){r=l++;this.suggestions.push(this.processedAutocompleteCandidates[r].original)}}else this.suggestions=null;null==this.suggestions||0==this.suggestions.length?this.clearSuggestions():(null==this.suggestionsContainer&&(this.suggestionsContainer=new f0,this.suggestionsContainer.onLayout(this,$bind(this,this.layoutSuggestionsContainer)),(i=this.suggestionsContainer).flags|=16,(i=this.suggestionsContainer).set_viewWidth(0),i.set_viewHeight(0),this.suggestionsContainer.set_active(!0),this.suggestionsContainer.set_depth(100),G.get_context().view.add(this.suggestionsContainer)),null==this.suggestionsView&&(this.suggestionsView=new Y2,this.suggestionsView.autoScrollToValue=!0,this.suggestionsView.onValueChange(this,$bind(this,this.suggestionsValueChange)),this.suggestionsView.onValueClick(this,$bind(this,this.suggestionsValueClick)),ae.app.input.onKeyDown(this.suggestionsView,$bind(this,this.suggestionsKeyDown)),this.suggestionsContainer.add(this.suggestionsView)),O0.equal(this.suggestionsView.get_list(),this.suggestions)||this.suggestionsView.set_list(this.suggestions))},suggestionsKeyDown:function(e){var n,t=this;null!=this.suggestionsView&&null!=this.suggestions&&0!=this.suggestions.length&&(41==e.scanCode?(this.clearSuggestions(),this.focus()):this.get_focused()&&81==e.scanCode?null!=(n=this.suggestionsView.get_list())&&(null==this.suggestionsView.get_value()?0<n.length&&this.suggestionsView.set_value(n[0]):n.indexOf(this.suggestionsView.get_value())<n.length-1&&this.suggestionsView.set_value(n[n.indexOf(this.suggestionsView.get_value())+1])):this.get_focused()&&82==e.scanCode?null!=(n=this.suggestionsView.get_list())&&null!=this.suggestionsView.get_value()&&0<n.indexOf(this.suggestionsView.get_value())&&this.suggestionsView.set_value(n[n.indexOf(this.suggestionsView.get_value())-1]):this.get_focused()&&40==e.scanCode&&(null==this.suggestionsView.get_value()&&this.suggestionsView.set_value(this.suggestions[0]),ae.app._oncePostFlushImmediate(function(){t.clearSuggestions(),ae.app._oncePostFlushImmediate(function(){t.focus()},!0)},!0)))},suggestionsValueChange:function(e,n){null!=this.editText&&(this.editText.updateText(e),this.editText.selectText.set_selectionStart(e.length),this.editText.selectText.set_selectionEnd(e.length)),this.textView.set_content(e),this.setTextValue(this,e),this.focus()},suggestionsValueClick:function(e){this.clearSuggestions(),this.focus()},suggestionDeepScore:function(e,n){for(var t=0,i=(t+=ml.score(e,n),n.lastIndexOf("_"));-1!=i;)n=n.substring(0,i),t+=ml.score(e,n),i=n.lastIndexOf("_");return t},layoutSuggestionsContainer:function(){var e,n,t;null!=this.suggestionsView&&(e=this.suggestionsView,n=this.get_width(),t=this.suggestionsHeight(),e.set_width(n),e.set_height(t))},suggestionsHeight:function(){return Math.min(Z2.ITEM_HEIGHT*(null!=this.suggestions?this.suggestions.length:0),Z2.MAX_LIST_HEIGHT)},updateSuggestionsPosition:function(){if(null!=this.suggestionsContainer&&1!=(1&this.suggestionsContainer.flags)){var e=this.getScrollingLayout(),n=(this.visualToScreen(0,this.get_height(),Z2._point),Z2._point.x),t=Z2._point.y;G.get_context().view.screenToVisual(n,t,Z2._point),n=Z2._point.x,t=Z2._point.y;if(G.get_context().view.get_height()-t<=this.suggestionsHeight()?(this.visualToScreen(0,0-this.suggestionsHeight(),Z2._point),n=Z2._point.x,t=Z2._point.y,G.get_context().view.screenToVisual(n,t,Z2._point),n=Z2._point.x,t=Z2._point.y):0,this.clipSuggestions)if(null!=e)if(e.screenToVisual(0,0,Z2._point),G.get_context().view.screenToVisual(Z2._point.x,Z2._point.y,Z2._point),t+Z2._point.y<0){var i=this.suggestionsContainer;if(i.clip!=e&&(i.clip=e,i.clipDirty=!0,null!=i.children))for(var l=0,s=i.children.length;l<s;){var r=l++;if((u=i.children[r]).clipDirty=!0,null!=u.children)for(var h=0,a=u.children.length;h<a;){var o=h++;u.children[o].set_clipDirty(!0)}}}else{var i=this.suggestionsContainer,c=null;if(i.clip!=c&&(i.clip=c,i.clipDirty=!0,null!=i.children))for(l=0,s=i.children.length;l<s;){r=l++;if((u=i.children[r]).clipDirty=!0,null!=u.children)for(h=0,a=u.children.length;h<a;){o=h++;u.children[o].set_clipDirty(!0)}}}else{i=this.suggestionsContainer,c=null;if(i.clip!=c&&(i.clip=c,i.clipDirty=!0,null!=i.children))for(l=0,s=i.children.length;l<s;){r=l++;if((u=i.children[r]).clipDirty=!0,null!=u.children)for(h=0,a=u.children.length;h<a;){o=h++;u.children[o].set_clipDirty(!0)}}}else{i=this.suggestionsContainer,c=null;if(i.clip!=c&&(i.clip=c,i.clipDirty=!0,null!=i.children))for(l=0,s=i.children.length;l<s;){var u,r=l++;if((u=i.children[r]).clipDirty=!0,null!=u.children)for(h=0,a=u.children.length;h<a;){o=h++;u.children[o].set_clipDirty(!0)}}}n==this.suggestionsContainer.x&&t==this.suggestionsContainer.y||(this.suggestionsContainer.layoutDirty=!0),(i=this.suggestionsContainer).set_x(n),i.set_y(t)}},updateThisFrameFlags:function(){this.editingThisFrame=null!=this.editText&&this.editText.get_editing(),this.suggestionsVisibleThisFrame=null!=this.suggestionsView&&this.suggestionsView.computedVisible},updateSuggestionsVisibility:function(){if(null!=this.suggestionsView&&Ei.get_shared().get_focusedField()!=this){for(var e=ae.app.screen.get_focusedVisual(),n=!1;null!=e;){if(e==this.suggestionsView){n=!0;break}e=e.parent}n||this.clearSuggestions()}},clearSuggestions:function(){null!=this.suggestionsView&&(this.suggestionsView.destroy(),this.suggestionsView=null),null!=this.suggestionsContainer&&(this.suggestionsContainer.destroy(),this.suggestionsContainer=null)},bindKeyBindings:function(){var n=this;this.set_keyBindings(new Ln),this.keyBindings.bind([Rn.CMD_OR_CTRL,Rn.KEY(97)],function(){var e;n.get_focused()&&((e=n.textView.text.component("selectText")).set_selectionStart(0),e.set_selectionEnd(n.textView.text.content.length))}),this.keyBindings.bind([Rn.CMD_OR_CTRL,Rn.KEY(32)],function(){n.get_focused()&&null!=n.autocompleteCandidates&&0<n.autocompleteCandidates.length&&n.updateAutocompleteSuggestions(!0)})},hitsSelfOrDerived:function(e,n){return!!this._hits(e,n,!1)||!(null==this.suggestionsView||!this.suggestionsView.computedVisible)&&this.suggestionsView._hits(e,n,!1)},usesScanCode:function(e){return!!X2.prototype.usesScanCode.call(this,e)||!!(this.editingThisFrame||null!=this.editText&&this.editText.get_editing())||!!((this.suggestionsVisibleThisFrame||null!=this.suggestionsView&&this.suggestionsView.computedVisible)&&(41==e||this.get_focused()&&81==e||this.get_focused()&&82==e||this.get_focused()&&40==e))},usesKeyCode:function(e){return!!X2.prototype.usesKeyCode.call(this,e)||!!(this.editingThisFrame||null!=this.editText&&this.editText.get_editing())||!!((this.suggestionsVisibleThisFrame||null!=this.suggestionsView&&this.suggestionsView.computedVisible)&&(27==e||this.get_focused()&&1073741905==e||this.get_focused()&&1073741906==e||this.get_focused()&&13==e))},unbindEvents:function(){X2.prototype.unbindEvents.call(this),this.offTextValueChange()},__class__:Z2,__properties__:$extend(X2.prototype.__properties__,{set_keyBindings:"set_keyBindings",set_autocompleteCandidates:"set_autocompleteCandidates",set_textValue:"set_textValue",get_textValue:"get_textValue"})}),(E["elements.BiBorderedTriangle"]=$2).__name__="elements.BiBorderedTriangle",$2.__super__=za,$2.prototype=$extend(za.prototype,{set_width:function(e){return za.prototype.set_width.call(this,e),this.contentDirty=!0,ae.app.visualsContentDirty=!0,e},set_height:function(e){return za.prototype.set_height.call(this,e),this.contentDirty=!0,ae.app.visualsContentDirty=!0,e},innerColor:null,set_innerColor:function(e){var n;return this.innerColor!=e&&(n=this.colors[0]>>24&255,this.colors[0]=(0|e)-16777216&16777215|(255<(n=null==n?255:n)?255:n<0?0:n)<<24,n=this.colors[1]>>24&255,this.colors[1]=(0|e)-16777216&16777215|(255<(n=null==n?255:n)?255:n<0?0:n)<<24,n=this.colors[2]>>24&255,this.colors[2]=(0|e)-16777216&16777215|(255<(n=null==n?255:n)?255:n<0?0:n)<<24),e},innerAlpha:null,set_innerAlpha:function(e){var n,t,i,l,s,r,h,a;return this.innerAlpha!=e&&(n=Math.round(255*e),a=((r=0)|(r=(r=(r=r&65535|(255<(i=(t=this.colors[0])>>16&255)?255:i<0?0:i)<<16)&16711935|(255<(l=t>>8&255)?255:l<0?0:l)<<8)&16776960|(255<(s=255&t)?255:s<0?0:s)))-16777216,this.colors[0]=a=a&16777215|(255<(h=null==(h=n)?255:h)?255:h<0?0:h)<<24,t=this.colors[1],this.colors[1]=a=(a=(0|(r=(r=(r=(r=0)&65535|(255<(i=t>>16&255)?255:i<0?0:i)<<16)&16711935|(255<(l=t>>8&255)?255:l<0?0:l)<<8)&16776960|(255<(s=255&t)?255:s<0?0:s)))-16777216)&16777215|(255<(h=null==(h=n)?255:h)?255:h<0?0:h)<<24,t=this.colors[2],this.colors[2]=a=(a=(0|(r=(r=(r=(r=0)&65535|(255<(i=t>>16&255)?255:i<0?0:i)<<16)&16711935|(255<(l=t>>8&255)?255:l<0?0:l)<<8)&16776960|(255<(s=255&t)?255:s<0?0:s)))-16777216)&16777215|(255<(h=null==(h=n)?255:h)?255:h<0?0:h)<<24),e},borderSize:null,set_borderSize:function(e){return this.borderSize!=e&&(this.borderSize=e,this.contentDirty=!0,ae.app.visualsContentDirty=!0),e},borderColor:null,set_borderColor:function(e){if(this.borderColor!=e){this.borderColor=e;{var n=this.colors[3],n=n>>24&255,t=(null==n&&(n=255),(0|e)-16777216);this.colors[3]=t&16777215|(255<n?255:n<0?0:n)<<24;n=this.colors[4]>>24&255}this.colors[4]=(0|e)-16777216&16777215|(255<(n=null==n?255:n)?255:n<0?0:n)<<24;n=this.colors[5]>>24&255;this.colors[5]=(0|e)-16777216&16777215|(255<(n=null==n?255:n)?255:n<0?0:n)<<24;n=this.colors[6]>>24&255;this.colors[6]=(0|e)-16777216&16777215|(255<(n=null==n?255:n)?255:n<0?0:n)<<24;n=this.colors[7]>>24&255;this.colors[7]=(0|e)-16777216&16777215|(255<(n=null==n?255:n)?255:n<0?0:n)<<24;n=this.colors[8]>>24&255;this.colors[8]=(0|e)-16777216&16777215|(255<(n=null==n?255:n)?255:n<0?0:n)<<24;n=this.colors[9]>>24&255;this.colors[9]=(0|e)-16777216&16777215|(255<(n=null==n?255:n)?255:n<0?0:n)<<24;n=this.colors[10]>>24&255;this.colors[10]=(0|e)-16777216&16777215|(255<(n=null==n?255:n)?255:n<0?0:n)<<24;n=this.colors[11]>>24&255;this.colors[11]=(0|e)-16777216&16777215|(255<(n=null==n?255:n)?255:n<0?0:n)<<24;n=this.colors[12]>>24&255;this.colors[12]=(0|e)-16777216&16777215|(255<(n=null==n?255:n)?255:n<0?0:n)<<24;n=this.colors[13]>>24&255;this.colors[13]=(0|e)-16777216&16777215|(255<(n=null==n?255:n)?255:n<0?0:n)<<24;n=this.colors[14]>>24&255;this.colors[14]=(0|e)-16777216&16777215|(255<(n=null==n?255:n)?255:n<0?0:n)<<24}return e},borderAlpha:null,set_borderAlpha:function(e){var n,t,i,l,s,r,h,a;return this.borderAlpha!=e&&(this.borderAlpha=e,n=Math.round(255*e),a=((r=0)|(r=(r=(r=r&65535|(255<(i=(t=this.colors[3])>>16&255)?255:i<0?0:i)<<16)&16711935|(255<(l=t>>8&255)?255:l<0?0:l)<<8)&16776960|(255<(s=255&t)?255:s<0?0:s)))-16777216,this.colors[3]=a=a&16777215|(255<(h=null==(h=n)?255:h)?255:h<0?0:h)<<24,t=this.colors[4],this.colors[4]=a=(a=(0|(r=(r=(r=(r=0)&65535|(255<(i=t>>16&255)?255:i<0?0:i)<<16)&16711935|(255<(l=t>>8&255)?255:l<0?0:l)<<8)&16776960|(255<(s=255&t)?255:s<0?0:s)))-16777216)&16777215|(255<(h=null==(h=n)?255:h)?255:h<0?0:h)<<24,t=this.colors[5],this.colors[5]=a=(a=(0|(r=(r=(r=(r=0)&65535|(255<(i=t>>16&255)?255:i<0?0:i)<<16)&16711935|(255<(l=t>>8&255)?255:l<0?0:l)<<8)&16776960|(255<(s=255&t)?255:s<0?0:s)))-16777216)&16777215|(255<(h=null==(h=n)?255:h)?255:h<0?0:h)<<24,t=this.colors[6],this.colors[6]=a=(a=(0|(r=(r=(r=(r=0)&65535|(255<(i=t>>16&255)?255:i<0?0:i)<<16)&16711935|(255<(l=t>>8&255)?255:l<0?0:l)<<8)&16776960|(255<(s=255&t)?255:s<0?0:s)))-16777216)&16777215|(255<(h=null==(h=n)?255:h)?255:h<0?0:h)<<24,t=this.colors[7],this.colors[7]=a=(a=(0|(r=(r=(r=(r=0)&65535|(255<(i=t>>16&255)?255:i<0?0:i)<<16)&16711935|(255<(l=t>>8&255)?255:l<0?0:l)<<8)&16776960|(255<(s=255&t)?255:s<0?0:s)))-16777216)&16777215|(255<(h=null==(h=n)?255:h)?255:h<0?0:h)<<24,t=this.colors[8],this.colors[8]=a=(a=(0|(r=(r=(r=(r=0)&65535|(255<(i=t>>16&255)?255:i<0?0:i)<<16)&16711935|(255<(l=t>>8&255)?255:l<0?0:l)<<8)&16776960|(255<(s=255&t)?255:s<0?0:s)))-16777216)&16777215|(255<(h=null==(h=n)?255:h)?255:h<0?0:h)<<24,t=this.colors[9],this.colors[9]=a=(a=(0|(r=(r=(r=(r=0)&65535|(255<(i=t>>16&255)?255:i<0?0:i)<<16)&16711935|(255<(l=t>>8&255)?255:l<0?0:l)<<8)&16776960|(255<(s=255&t)?255:s<0?0:s)))-16777216)&16777215|(255<(h=null==(h=n)?255:h)?255:h<0?0:h)<<24,t=this.colors[10],this.colors[10]=a=(a=(0|(r=(r=(r=(r=0)&65535|(255<(i=t>>16&255)?255:i<0?0:i)<<16)&16711935|(255<(l=t>>8&255)?255:l<0?0:l)<<8)&16776960|(255<(s=255&t)?255:s<0?0:s)))-16777216)&16777215|(255<(h=null==(h=n)?255:h)?255:h<0?0:h)<<24,t=this.colors[11],this.colors[11]=a=(a=(0|(r=(r=(r=(r=0)&65535|(255<(i=t>>16&255)?255:i<0?0:i)<<16)&16711935|(255<(l=t>>8&255)?255:l<0?0:l)<<8)&16776960|(255<(s=255&t)?255:s<0?0:s)))-16777216)&16777215|(255<(h=null==(h=n)?255:h)?255:h<0?0:h)<<24,t=this.colors[12],this.colors[12]=a=(a=(0|(r=(r=(r=(r=0)&65535|(255<(i=t>>16&255)?255:i<0?0:i)<<16)&16711935|(255<(l=t>>8&255)?255:l<0?0:l)<<8)&16776960|(255<(s=255&t)?255:s<0?0:s)))-16777216)&16777215|(255<(h=null==(h=n)?255:h)?255:h<0?0:h)<<24,t=this.colors[13],this.colors[13]=a=(a=(0|(r=(r=(r=(r=0)&65535|(255<(i=t>>16&255)?255:i<0?0:i)<<16)&16711935|(255<(l=t>>8&255)?255:l<0?0:l)<<8)&16776960|(255<(s=255&t)?255:s<0?0:s)))-16777216)&16777215|(255<(h=null==(h=n)?255:h)?255:h<0?0:h)<<24,t=this.colors[14],this.colors[14]=a=(a=(0|(r=(r=(r=(r=0)&65535|(255<(i=t>>16&255)?255:i<0?0:i)<<16)&16711935|(255<(l=t>>8&255)?255:l<0?0:l)<<8)&16776960|(255<(s=255&t)?255:s<0?0:s)))-16777216)&16777215|(255<(h=null==(h=n)?255:h)?255:h<0?0:h)<<24),e},computeContent:function(){za.prototype.computeContent.call(this),this.vertices[0]=0,this.vertices[1]=this.get_height(),this.vertices[2]=.5*this.get_width(),this.vertices[3]=0,this.vertices[4]=this.get_width(),this.vertices[5]=this.get_height(),this.vertices[6]=-this.borderSize,this.vertices[7]=this.get_height(),this.vertices[8]=.5*this.get_width(),this.vertices[9]=-this.borderSize,this.vertices[10]=this.get_width()+this.borderSize,this.vertices[11]=this.get_height()},updateVertices:function(){this.vertices[0]=0,this.vertices[1]=this.get_height(),this.vertices[2]=.5*this.get_width(),this.vertices[3]=0,this.vertices[4]=this.get_width(),this.vertices[5]=this.get_height(),this.vertices[6]=-this.borderSize,this.vertices[7]=this.get_height(),this.vertices[8]=.5*this.get_width(),this.vertices[9]=-this.borderSize,this.vertices[10]=this.get_width()+this.borderSize,this.vertices[11]=this.get_height()},__class__:$2,__properties__:$extend(za.prototype.__properties__,{set_borderAlpha:"set_borderAlpha",set_borderColor:"set_borderColor",set_borderSize:"set_borderSize",set_innerAlpha:"set_innerAlpha",set_innerColor:"set_innerColor"})}),(E["elements.BooleanFieldView"]=_2).__name__="elements.BooleanFieldView",_2.__super__=X2,_2.prototype=$extend(X2.prototype,{themeAutoruns:null,get_theme:function(){var e,n,t=this.unobservedTheme;return null!=A.current&&(e=A.current,null!=(n=this.themeAutoruns)||(n=A.getAutorunArray(),null!=(this.themeAutoruns=n)))&&e.bindToAutorunArray(n),t},set_theme:function(e){var n=this.unobservedTheme;return n!=(this.unobservedTheme=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitThemeChange(e,n),null!=(n=this.themeAutoruns))&&(this.themeAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateTheme:function(){var e=this.unobservedTheme,e=(this.emitThemeChange(e,e),this.themeAutoruns);null!=e&&(this.themeAutoruns=null,A.invalidateAutorunArray(e))},unobservedTheme:null,__cbOnThemeChange:null,__cbOnceThemeChange:null,__cbOnOwnerUnbindThemeChange:null,__cbOnceOwnerUnbindThemeChange:null,emitThemeChange:function(e,n){var t=0;if(null!=this.__cbOnThemeChange&&(t+=this.__cbOnThemeChange.length),null!=this.__cbOnceThemeChange&&(t+=this.__cbOnceThemeChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnThemeChange)for(var r=0,h=this.__cbOnThemeChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnThemeChange[a],++s):--t}if(null!=this.__cbOnceThemeChange){for(var o=null,c=null,r=0,h=this.__cbOnceThemeChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceThemeChange[a],this.__cbOnceThemeChange[a]=null,u=this.__cbOnceOwnerUnbindThemeChange[a],(this.__cbOnceOwnerUnbindThemeChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindThemeChange[a]),c.push(this.__cbOnceThemeChange[a]))}this.__cbOnceOwnerUnbindThemeChange=o,this.__cbOnceThemeChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onThemeChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event themeChange because owner is destroyed!");var l=function(e){null!=t&&(i.offThemeChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindThemeChange&&(this.__cbOnOwnerUnbindThemeChange=[]),this.__cbOnOwnerUnbindThemeChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindThemeChange&&(this.__cbOnOwnerUnbindThemeChange=[]),this.__cbOnOwnerUnbindThemeChange.push(null);null==this.__cbOnThemeChange&&(this.__cbOnThemeChange=[]),this.__cbOnThemeChange.push(t)},onceThemeChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event themeChange because owner is destroyed!");var l=function(e){null!=t&&(i.offThemeChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindThemeChange&&(this.__cbOnceOwnerUnbindThemeChange=[]),this.__cbOnceOwnerUnbindThemeChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindThemeChange&&(this.__cbOnceOwnerUnbindThemeChange=[]),this.__cbOnceOwnerUnbindThemeChange.push(null);null==this.__cbOnceThemeChange&&(this.__cbOnceThemeChange=[]),this.__cbOnceThemeChange.push(t)},offThemeChange:function(e){if(null!=e){var n;null!=this.__cbOnThemeChange&&-1!=(n=this.__cbOnThemeChange.indexOf(e))&&(this.__cbOnThemeChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindThemeChange[n])&&s(),this.__cbOnOwnerUnbindThemeChange.splice(n,1)),null!=this.__cbOnceThemeChange&&-1!=(n=this.__cbOnceThemeChange.indexOf(e))&&(this.__cbOnceThemeChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindThemeChange[n])&&s(),this.__cbOnceOwnerUnbindThemeChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindThemeChange){for(var t=0,i=this.__cbOnOwnerUnbindThemeChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindThemeChange[l])&&s()}this.__cbOnOwnerUnbindThemeChange=null}if(null!=this.__cbOnceOwnerUnbindThemeChange){for(t=0,i=this.__cbOnceOwnerUnbindThemeChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindThemeChange[l])&&s()}this.__cbOnceOwnerUnbindThemeChange=null}this.__cbOnThemeChange=null,this.__cbOnceThemeChange=null}},listensThemeChange:function(){return null!=this.__cbOnThemeChange&&0<this.__cbOnThemeChange.length||null!=this.__cbOnceThemeChange&&0<this.__cbOnceThemeChange.length},switchContainer:null,switchSquare:null,setValue:function(e,n){},valueAutoruns:null,get_value:function(){var e,n,t=this.unobservedValue;return null!=A.current&&(e=A.current,null!=(n=this.valueAutoruns)||(n=A.getAutorunArray(),null!=(this.valueAutoruns=n)))&&e.bindToAutorunArray(n),t},set_value:function(e){var n=this.unobservedValue;return n!=(this.unobservedValue=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitValueChange(e,n),null!=(n=this.valueAutoruns))&&(this.valueAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateValue:function(){var e=this.unobservedValue,e=(this.emitValueChange(e,e),this.valueAutoruns);null!=e&&(this.valueAutoruns=null,A.invalidateAutorunArray(e))},unobservedValue:null,__cbOnValueChange:null,__cbOnceValueChange:null,__cbOnOwnerUnbindValueChange:null,__cbOnceOwnerUnbindValueChange:null,emitValueChange:function(e,n){var t=0;if(null!=this.__cbOnValueChange&&(t+=this.__cbOnValueChange.length),null!=this.__cbOnceValueChange&&(t+=this.__cbOnceValueChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnValueChange)for(var r=0,h=this.__cbOnValueChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnValueChange[a],++s):--t}if(null!=this.__cbOnceValueChange){for(var o=null,c=null,r=0,h=this.__cbOnceValueChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceValueChange[a],this.__cbOnceValueChange[a]=null,u=this.__cbOnceOwnerUnbindValueChange[a],(this.__cbOnceOwnerUnbindValueChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindValueChange[a]),c.push(this.__cbOnceValueChange[a]))}this.__cbOnceOwnerUnbindValueChange=o,this.__cbOnceValueChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onValueChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event valueChange because owner is destroyed!");var l=function(e){null!=t&&(i.offValueChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindValueChange&&(this.__cbOnOwnerUnbindValueChange=[]),this.__cbOnOwnerUnbindValueChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindValueChange&&(this.__cbOnOwnerUnbindValueChange=[]),this.__cbOnOwnerUnbindValueChange.push(null);null==this.__cbOnValueChange&&(this.__cbOnValueChange=[]),this.__cbOnValueChange.push(t)},onceValueChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event valueChange because owner is destroyed!");var l=function(e){null!=t&&(i.offValueChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindValueChange&&(this.__cbOnceOwnerUnbindValueChange=[]),this.__cbOnceOwnerUnbindValueChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindValueChange&&(this.__cbOnceOwnerUnbindValueChange=[]),this.__cbOnceOwnerUnbindValueChange.push(null);null==this.__cbOnceValueChange&&(this.__cbOnceValueChange=[]),this.__cbOnceValueChange.push(t)},offValueChange:function(e){if(null!=e){var n;null!=this.__cbOnValueChange&&-1!=(n=this.__cbOnValueChange.indexOf(e))&&(this.__cbOnValueChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindValueChange[n])&&s(),this.__cbOnOwnerUnbindValueChange.splice(n,1)),null!=this.__cbOnceValueChange&&-1!=(n=this.__cbOnceValueChange.indexOf(e))&&(this.__cbOnceValueChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindValueChange[n])&&s(),this.__cbOnceOwnerUnbindValueChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindValueChange){for(var t=0,i=this.__cbOnOwnerUnbindValueChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindValueChange[l])&&s()}this.__cbOnOwnerUnbindValueChange=null}if(null!=this.__cbOnceOwnerUnbindValueChange){for(t=0,i=this.__cbOnceOwnerUnbindValueChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindValueChange[l])&&s()}this.__cbOnceOwnerUnbindValueChange=null}this.__cbOnValueChange=null,this.__cbOnceValueChange=null}},listensValueChange:function(){return null!=this.__cbOnValueChange&&0<this.__cbOnValueChange.length||null!=this.__cbOnceValueChange&&0<this.__cbOnceValueChange.length},inputStyleAutoruns:null,get_inputStyle:function(){var e,n,t=this.unobservedInputStyle;return null!=A.current&&(e=A.current,null!=(n=this.inputStyleAutoruns)||(n=A.getAutorunArray(),null!=(this.inputStyleAutoruns=n)))&&e.bindToAutorunArray(n),t},set_inputStyle:function(e){var n=this.unobservedInputStyle;return n!=(this.unobservedInputStyle=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitInputStyleChange(e,n),null!=(n=this.inputStyleAutoruns))&&(this.inputStyleAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateInputStyle:function(){var e=this.unobservedInputStyle,e=(this.emitInputStyleChange(e,e),this.inputStyleAutoruns);null!=e&&(this.inputStyleAutoruns=null,A.invalidateAutorunArray(e))},unobservedInputStyle:null,__cbOnInputStyleChange:null,__cbOnceInputStyleChange:null,__cbOnOwnerUnbindInputStyleChange:null,__cbOnceOwnerUnbindInputStyleChange:null,emitInputStyleChange:function(e,n){var t=0;if(null!=this.__cbOnInputStyleChange&&(t+=this.__cbOnInputStyleChange.length),null!=this.__cbOnceInputStyleChange&&(t+=this.__cbOnceInputStyleChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnInputStyleChange)for(var r=0,h=this.__cbOnInputStyleChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnInputStyleChange[a],++s):--t}if(null!=this.__cbOnceInputStyleChange){for(var o=null,c=null,r=0,h=this.__cbOnceInputStyleChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceInputStyleChange[a],this.__cbOnceInputStyleChange[a]=null,u=this.__cbOnceOwnerUnbindInputStyleChange[a],(this.__cbOnceOwnerUnbindInputStyleChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindInputStyleChange[a]),c.push(this.__cbOnceInputStyleChange[a]))}this.__cbOnceOwnerUnbindInputStyleChange=o,this.__cbOnceInputStyleChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onInputStyleChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event inputStyleChange because owner is destroyed!");var l=function(e){null!=t&&(i.offInputStyleChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindInputStyleChange&&(this.__cbOnOwnerUnbindInputStyleChange=[]),this.__cbOnOwnerUnbindInputStyleChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindInputStyleChange&&(this.__cbOnOwnerUnbindInputStyleChange=[]),this.__cbOnOwnerUnbindInputStyleChange.push(null);null==this.__cbOnInputStyleChange&&(this.__cbOnInputStyleChange=[]),this.__cbOnInputStyleChange.push(t)},onceInputStyleChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event inputStyleChange because owner is destroyed!");var l=function(e){null!=t&&(i.offInputStyleChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindInputStyleChange&&(this.__cbOnceOwnerUnbindInputStyleChange=[]),this.__cbOnceOwnerUnbindInputStyleChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindInputStyleChange&&(this.__cbOnceOwnerUnbindInputStyleChange=[]),this.__cbOnceOwnerUnbindInputStyleChange.push(null);null==this.__cbOnceInputStyleChange&&(this.__cbOnceInputStyleChange=[]),this.__cbOnceInputStyleChange.push(t)},offInputStyleChange:function(e){if(null!=e){var n;null!=this.__cbOnInputStyleChange&&-1!=(n=this.__cbOnInputStyleChange.indexOf(e))&&(this.__cbOnInputStyleChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindInputStyleChange[n])&&s(),this.__cbOnOwnerUnbindInputStyleChange.splice(n,1)),null!=this.__cbOnceInputStyleChange&&-1!=(n=this.__cbOnceInputStyleChange.indexOf(e))&&(this.__cbOnceInputStyleChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindInputStyleChange[n])&&s(),this.__cbOnceOwnerUnbindInputStyleChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindInputStyleChange){for(var t=0,i=this.__cbOnOwnerUnbindInputStyleChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindInputStyleChange[l])&&s()}this.__cbOnOwnerUnbindInputStyleChange=null}if(null!=this.__cbOnceOwnerUnbindInputStyleChange){for(t=0,i=this.__cbOnceOwnerUnbindInputStyleChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindInputStyleChange[l])&&s()}this.__cbOnceOwnerUnbindInputStyleChange=null}this.__cbOnInputStyleChange=null,this.__cbOnceInputStyleChange=null}},listensInputStyleChange:function(){return null!=this.__cbOnInputStyleChange&&0<this.__cbOnInputStyleChange.length||null!=this.__cbOnceInputStyleChange&&0<this.__cbOnceInputStyleChange.length},disabledAutoruns:null,get_disabled:function(){var e,n,t=this.unobservedDisabled;return null!=A.current&&(e=A.current,null!=(n=this.disabledAutoruns)||(n=A.getAutorunArray(),null!=(this.disabledAutoruns=n)))&&e.bindToAutorunArray(n),t},set_disabled:function(e){var n=this.unobservedDisabled;return this.set_unobservedDisabled(e),n!=e&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitDisabledChange(e,n),null!=(n=this.disabledAutoruns))&&(this.disabledAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateDisabled:function(){var e=this.unobservedDisabled,e=(this.emitDisabledChange(e,e),this.disabledAutoruns);null!=e&&(this.disabledAutoruns=null,A.invalidateAutorunArray(e))},unobservedDisabled:null,__cbOnDisabledChange:null,__cbOnceDisabledChange:null,__cbOnOwnerUnbindDisabledChange:null,__cbOnceOwnerUnbindDisabledChange:null,emitDisabledChange:function(e,n){var t=0;if(null!=this.__cbOnDisabledChange&&(t+=this.__cbOnDisabledChange.length),null!=this.__cbOnceDisabledChange&&(t+=this.__cbOnceDisabledChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnDisabledChange)for(var r=0,h=this.__cbOnDisabledChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnDisabledChange[a],++s):--t}if(null!=this.__cbOnceDisabledChange){for(var o=null,c=null,r=0,h=this.__cbOnceDisabledChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceDisabledChange[a],this.__cbOnceDisabledChange[a]=null,u=this.__cbOnceOwnerUnbindDisabledChange[a],(this.__cbOnceOwnerUnbindDisabledChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindDisabledChange[a]),c.push(this.__cbOnceDisabledChange[a]))}this.__cbOnceOwnerUnbindDisabledChange=o,this.__cbOnceDisabledChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onDisabledChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event disabledChange because owner is destroyed!");var l=function(e){null!=t&&(i.offDisabledChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindDisabledChange&&(this.__cbOnOwnerUnbindDisabledChange=[]),this.__cbOnOwnerUnbindDisabledChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindDisabledChange&&(this.__cbOnOwnerUnbindDisabledChange=[]),this.__cbOnOwnerUnbindDisabledChange.push(null);null==this.__cbOnDisabledChange&&(this.__cbOnDisabledChange=[]),this.__cbOnDisabledChange.push(t)},onceDisabledChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event disabledChange because owner is destroyed!");var l=function(e){null!=t&&(i.offDisabledChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindDisabledChange&&(this.__cbOnceOwnerUnbindDisabledChange=[]),this.__cbOnceOwnerUnbindDisabledChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindDisabledChange&&(this.__cbOnceOwnerUnbindDisabledChange=[]),this.__cbOnceOwnerUnbindDisabledChange.push(null);null==this.__cbOnceDisabledChange&&(this.__cbOnceDisabledChange=[]),this.__cbOnceDisabledChange.push(t)},offDisabledChange:function(e){if(null!=e){var n;null!=this.__cbOnDisabledChange&&-1!=(n=this.__cbOnDisabledChange.indexOf(e))&&(this.__cbOnDisabledChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindDisabledChange[n])&&s(),this.__cbOnOwnerUnbindDisabledChange.splice(n,1)),null!=this.__cbOnceDisabledChange&&-1!=(n=this.__cbOnceDisabledChange.indexOf(e))&&(this.__cbOnceDisabledChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindDisabledChange[n])&&s(),this.__cbOnceOwnerUnbindDisabledChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindDisabledChange){for(var t=0,i=this.__cbOnOwnerUnbindDisabledChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindDisabledChange[l])&&s()}this.__cbOnOwnerUnbindDisabledChange=null}if(null!=this.__cbOnceOwnerUnbindDisabledChange){for(t=0,i=this.__cbOnceOwnerUnbindDisabledChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindDisabledChange[l])&&s()}this.__cbOnceOwnerUnbindDisabledChange=null}this.__cbOnDisabledChange=null,this.__cbOnceDisabledChange=null}},listensDisabledChange:function(){return null!=this.__cbOnDisabledChange&&0<this.__cbOnDisabledChange.length||null!=this.__cbOnceDisabledChange&&0<this.__cbOnceDisabledChange.length},set_unobservedDisabled:function(e){return this.unobservedDisabled!=e&&(this.unobservedDisabled=e,this.set_touchable(!e),e)&&this.get_unobservedFocused()&&ae.app.screen.set_focusedVisual(null),e},layoutSwitchContainer:function(){var e,n,t;this._lifecycleState<0||(this.get_value()?(n=this.switchSquare,e=this.switchContainer.get_width()-this.switchSquare.get_width()-this.switchContainer.paddingRight,t=this.switchContainer.paddingTop,n.set_x(e)):(n=this.switchSquare,t=this.switchContainer.paddingTop,n.set_x(this.switchContainer.paddingLeft)),n.set_y(t))},handleKeyDown:function(e){Ei.get_shared().get_focusedField()==this&&(44==e.scanCode?this.toggleValue():40==e.scanCode?this.get_value()||(this.set_value(!0),this.setValue(this,!0)):42!=e.scanCode&&76!=e.scanCode||this.get_value()&&(this.set_value(!1),this.setValue(this,!1)))},toggleValue:function(){this.set_value(!this.get_value()),this.setValue(this,this.get_value())},updateStyle:function(){var e,n,t=this.get_theme();null==t&&(t=G.get_context().get_theme()),this.get_inputStyle()==Vi.OVERLAY||this.get_inputStyle()==Vi.MINIMAL?(e=this.switchContainer).flags|=16:((e=this.switchContainer).flags&=-17,this.switchContainer.color=t.get_darkBackgroundColor()),this.get_value()?((e=this.switchSquare).flags&=-17,n=this.get_disabled()?t.get_darkTextColor():t.get_mediumTextColor(),this.switchSquare.color=n):(e=this.switchSquare,n=this.get_inputStyle()==Vi.OVERLAY,e.flags=n?16|e.flags:-17&e.flags,this.switchSquare.color=t.get_darkBackgroundColor()),n=this.get_inputStyle()==Vi.MINIMAL?(0!=(e=this.switchContainer).borderSize&&(e.borderSize=0,e.updateBorder()),(e=this.switchContainer).flags|=16,1!=(e=this.switchSquare).borderSize&&(e.borderSize=1,e.updateBorder()),e=this.switchSquare,n=He.OUTSIDE,e.borderPosition!=n&&(e.borderPosition=n,0<e.borderSize||0<e.borderTopSize||0<e.borderBottomSize||0<e.borderLeftSize||0<e.borderRightSize)&&e.updateBorder(),e=this.switchSquare,t.get_darkBorderColor()):(1!=(e=this.switchContainer).borderSize&&(e.borderSize=1,e.updateBorder()),(e=this.switchContainer).flags&=-17,0!=(e=this.switchSquare).borderSize&&(e.borderSize=0,e.updateBorder()),this.get_focused()?(e=this.switchContainer,t.get_focusedFieldBorderColor()):this.get_disabled()?(e=this.switchContainer,t.get_mediumBorderColor()):(e=this.switchContainer,t.get_lightBorderColor())),e.borderColor!=n&&(e.borderColor=n,0<e.borderSize||0<e.borderTopSize||0<e.borderBottomSize||0<e.borderLeftSize||0<e.borderRightSize)&&e.updateBorder()},unbindEvents:function(){X2.prototype.unbindEvents.call(this),this.offThemeChange(),this.offValueChange(),this.offInputStyleChange(),this.offDisabledChange()},__class__:_2,__properties__:$extend(X2.prototype.__properties__,{set_unobservedDisabled:"set_unobservedDisabled",set_disabled:"set_disabled",get_disabled:"get_disabled",set_inputStyle:"set_inputStyle",get_inputStyle:"get_inputStyle",set_value:"set_value",get_value:"get_value",set_theme:"set_theme",get_theme:"get_theme"})}),(E["elements.Button"]=ad).__name__="elements.Button",ad.__interfaces__=[W2,s],ad.__super__=A1,ad.prototype=$extend(A1.prototype,{__cbOnObservedDirty:null,__cbOnceObservedDirty:null,__cbOnOwnerUnbindObservedDirty:null,__cbOnceOwnerUnbindObservedDirty:null,emitObservedDirty:function(e,n){var t=0;if(null!=this.__cbOnObservedDirty&&(t+=this.__cbOnObservedDirty.length),null!=this.__cbOnceObservedDirty&&(t+=this.__cbOnceObservedDirty.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnObservedDirty)for(var r=0,h=this.__cbOnObservedDirty.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnObservedDirty[a],++s):--t}if(null!=this.__cbOnceObservedDirty){for(var o=null,c=null,r=0,h=this.__cbOnceObservedDirty.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceObservedDirty[a],this.__cbOnceObservedDirty[a]=null,u=this.__cbOnceOwnerUnbindObservedDirty[a],(this.__cbOnceOwnerUnbindObservedDirty[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindObservedDirty[a]),c.push(this.__cbOnceObservedDirty[a]))}this.__cbOnceOwnerUnbindObservedDirty=o,this.__cbOnceObservedDirty=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onObservedDirty:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event observedDirty because owner is destroyed!");var l=function(e){null!=t&&(i.offObservedDirty(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push(null);null==this.__cbOnObservedDirty&&(this.__cbOnObservedDirty=[]),this.__cbOnObservedDirty.push(t)},onceObservedDirty:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event observedDirty because owner is destroyed!");var l=function(e){null!=t&&(i.offObservedDirty(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push(null);null==this.__cbOnceObservedDirty&&(this.__cbOnceObservedDirty=[]),this.__cbOnceObservedDirty.push(t)},offObservedDirty:function(e){if(null!=e){var n;null!=this.__cbOnObservedDirty&&-1!=(n=this.__cbOnObservedDirty.indexOf(e))&&(this.__cbOnObservedDirty.splice(n,1),null!=(s=this.__cbOnOwnerUnbindObservedDirty[n])&&s(),this.__cbOnOwnerUnbindObservedDirty.splice(n,1)),null!=this.__cbOnceObservedDirty&&-1!=(n=this.__cbOnceObservedDirty.indexOf(e))&&(this.__cbOnceObservedDirty.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindObservedDirty[n])&&s(),this.__cbOnceOwnerUnbindObservedDirty.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindObservedDirty){for(var t=0,i=this.__cbOnOwnerUnbindObservedDirty.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindObservedDirty[l])&&s()}this.__cbOnOwnerUnbindObservedDirty=null}if(null!=this.__cbOnceOwnerUnbindObservedDirty){for(t=0,i=this.__cbOnceOwnerUnbindObservedDirty.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindObservedDirty[l])&&s()}this.__cbOnceOwnerUnbindObservedDirty=null}this.__cbOnObservedDirty=null,this.__cbOnceObservedDirty=null}},listensObservedDirty:function(){return null!=this.__cbOnObservedDirty&&0<this.__cbOnObservedDirty.length||null!=this.__cbOnceObservedDirty&&0<this.__cbOnceObservedDirty.length},observedDirty:null,themeAutoruns:null,get_theme:function(){var e,n,t=this.unobservedTheme;return null!=A.current&&(e=A.current,null!=(n=this.themeAutoruns)||(n=A.getAutorunArray(),null!=(this.themeAutoruns=n)))&&e.bindToAutorunArray(n),t},set_theme:function(e){var n=this.unobservedTheme;return n!=(this.unobservedTheme=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitThemeChange(e,n),null!=(n=this.themeAutoruns))&&(this.themeAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateTheme:function(){var e=this.unobservedTheme,e=(this.emitThemeChange(e,e),this.themeAutoruns);null!=e&&(this.themeAutoruns=null,A.invalidateAutorunArray(e))},unobservedTheme:null,__cbOnThemeChange:null,__cbOnceThemeChange:null,__cbOnOwnerUnbindThemeChange:null,__cbOnceOwnerUnbindThemeChange:null,emitThemeChange:function(e,n){var t=0;if(null!=this.__cbOnThemeChange&&(t+=this.__cbOnThemeChange.length),null!=this.__cbOnceThemeChange&&(t+=this.__cbOnceThemeChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnThemeChange)for(var r=0,h=this.__cbOnThemeChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnThemeChange[a],++s):--t}if(null!=this.__cbOnceThemeChange){for(var o=null,c=null,r=0,h=this.__cbOnceThemeChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceThemeChange[a],this.__cbOnceThemeChange[a]=null,u=this.__cbOnceOwnerUnbindThemeChange[a],(this.__cbOnceOwnerUnbindThemeChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindThemeChange[a]),c.push(this.__cbOnceThemeChange[a]))}this.__cbOnceOwnerUnbindThemeChange=o,this.__cbOnceThemeChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onThemeChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event themeChange because owner is destroyed!");var l=function(e){null!=t&&(i.offThemeChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindThemeChange&&(this.__cbOnOwnerUnbindThemeChange=[]),this.__cbOnOwnerUnbindThemeChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindThemeChange&&(this.__cbOnOwnerUnbindThemeChange=[]),this.__cbOnOwnerUnbindThemeChange.push(null);null==this.__cbOnThemeChange&&(this.__cbOnThemeChange=[]),this.__cbOnThemeChange.push(t)},onceThemeChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event themeChange because owner is destroyed!");var l=function(e){null!=t&&(i.offThemeChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindThemeChange&&(this.__cbOnceOwnerUnbindThemeChange=[]),this.__cbOnceOwnerUnbindThemeChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindThemeChange&&(this.__cbOnceOwnerUnbindThemeChange=[]),this.__cbOnceOwnerUnbindThemeChange.push(null);null==this.__cbOnceThemeChange&&(this.__cbOnceThemeChange=[]),this.__cbOnceThemeChange.push(t)},offThemeChange:function(e){if(null!=e){var n;null!=this.__cbOnThemeChange&&-1!=(n=this.__cbOnThemeChange.indexOf(e))&&(this.__cbOnThemeChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindThemeChange[n])&&s(),this.__cbOnOwnerUnbindThemeChange.splice(n,1)),null!=this.__cbOnceThemeChange&&-1!=(n=this.__cbOnceThemeChange.indexOf(e))&&(this.__cbOnceThemeChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindThemeChange[n])&&s(),this.__cbOnceOwnerUnbindThemeChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindThemeChange){for(var t=0,i=this.__cbOnOwnerUnbindThemeChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindThemeChange[l])&&s()}this.__cbOnOwnerUnbindThemeChange=null}if(null!=this.__cbOnceOwnerUnbindThemeChange){for(t=0,i=this.__cbOnceOwnerUnbindThemeChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindThemeChange[l])&&s()}this.__cbOnceOwnerUnbindThemeChange=null}this.__cbOnThemeChange=null,this.__cbOnceThemeChange=null}},listensThemeChange:function(){return null!=this.__cbOnThemeChange&&0<this.__cbOnThemeChange.length||null!=this.__cbOnceThemeChange&&0<this.__cbOnceThemeChange.length},click:null,set_click:function(e){return this.click==e?this.click:(null!=this.click&&this.click.destroy(),this.click=e,null!=this.click?(this.component("click",this.click,!0),this.click):(this.removeComponent("click"),null))},__cbOnClick:null,__cbOnceClick:null,__cbOnOwnerUnbindClick:null,__cbOnceOwnerUnbindClick:null,emitClick:function(){var e=0;if(null!=this.__cbOnClick&&(e+=this.__cbOnClick.length),null!=this.__cbOnceClick&&(e+=this.__cbOnceClick.length),0<e){var n=C.pool(e),t=n.get(),i=0;if(null!=this.__cbOnClick)for(var l=0,s=this.__cbOnClick.length;l<s;){var r=l++;!0?(t.vector[i]=this.__cbOnClick[r],++i):--e}if(null!=this.__cbOnceClick){for(var h=null,a=null,l=0,s=this.__cbOnceClick.length;l<s;){var o,r=l++;!0?(t.vector[i]=this.__cbOnceClick[r],this.__cbOnceClick[r]=null,o=this.__cbOnceOwnerUnbindClick[r],(this.__cbOnceOwnerUnbindClick[r]=null)!=o&&o(),++i):(--e,null==h&&(h=[],a=[],0),h.push(this.__cbOnceOwnerUnbindClick[r]),a.push(this.__cbOnceClick[r]))}this.__cbOnceOwnerUnbindClick=h,this.__cbOnceClick=a}for(l=0,s=e;l<s;){i=l++;(0,t.vector[i])()}n.release(t)}},onClick:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event click because owner is destroyed!");var l=function(e){null!=t&&(i.offClick(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindClick&&(this.__cbOnOwnerUnbindClick=[]),this.__cbOnOwnerUnbindClick.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindClick&&(this.__cbOnOwnerUnbindClick=[]),this.__cbOnOwnerUnbindClick.push(null);null==this.__cbOnClick&&(this.__cbOnClick=[]),this.__cbOnClick.push(t)},onceClick:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event click because owner is destroyed!");var l=function(e){null!=t&&(i.offClick(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindClick&&(this.__cbOnceOwnerUnbindClick=[]),this.__cbOnceOwnerUnbindClick.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindClick&&(this.__cbOnceOwnerUnbindClick=[]),this.__cbOnceOwnerUnbindClick.push(null);null==this.__cbOnceClick&&(this.__cbOnceClick=[]),this.__cbOnceClick.push(t)},offClick:function(e){if(null!=e){var n;null!=this.__cbOnClick&&-1!=(n=this.__cbOnClick.indexOf(e))&&(this.__cbOnClick.splice(n,1),null!=(s=this.__cbOnOwnerUnbindClick[n])&&s(),this.__cbOnOwnerUnbindClick.splice(n,1)),null!=this.__cbOnceClick&&-1!=(n=this.__cbOnceClick.indexOf(e))&&(this.__cbOnceClick.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindClick[n])&&s(),this.__cbOnceOwnerUnbindClick.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindClick){for(var t=0,i=this.__cbOnOwnerUnbindClick.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindClick[l])&&s()}this.__cbOnOwnerUnbindClick=null}if(null!=this.__cbOnceOwnerUnbindClick){for(t=0,i=this.__cbOnceOwnerUnbindClick.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindClick[l])&&s()}this.__cbOnceOwnerUnbindClick=null}this.__cbOnClick=null,this.__cbOnceClick=null}},listensClick:function(){return null!=this.__cbOnClick&&0<this.__cbOnClick.length||null!=this.__cbOnceClick&&0<this.__cbOnceClick.length},windowItem:null,get_pressed:function(){return this.click.get_pressed()},inputStyleAutoruns:null,get_inputStyle:function(){var e,n,t=this.unobservedInputStyle;return null!=A.current&&(e=A.current,null!=(n=this.inputStyleAutoruns)||(n=A.getAutorunArray(),null!=(this.inputStyleAutoruns=n)))&&e.bindToAutorunArray(n),t},set_inputStyle:function(e){var n=this.unobservedInputStyle;return n!=(this.unobservedInputStyle=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitInputStyleChange(e,n),null!=(n=this.inputStyleAutoruns))&&(this.inputStyleAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateInputStyle:function(){var e=this.unobservedInputStyle,e=(this.emitInputStyleChange(e,e),this.inputStyleAutoruns);null!=e&&(this.inputStyleAutoruns=null,A.invalidateAutorunArray(e))},unobservedInputStyle:null,__cbOnInputStyleChange:null,__cbOnceInputStyleChange:null,__cbOnOwnerUnbindInputStyleChange:null,__cbOnceOwnerUnbindInputStyleChange:null,emitInputStyleChange:function(e,n){var t=0;if(null!=this.__cbOnInputStyleChange&&(t+=this.__cbOnInputStyleChange.length),null!=this.__cbOnceInputStyleChange&&(t+=this.__cbOnceInputStyleChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnInputStyleChange)for(var r=0,h=this.__cbOnInputStyleChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnInputStyleChange[a],++s):--t}if(null!=this.__cbOnceInputStyleChange){for(var o=null,c=null,r=0,h=this.__cbOnceInputStyleChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceInputStyleChange[a],this.__cbOnceInputStyleChange[a]=null,u=this.__cbOnceOwnerUnbindInputStyleChange[a],(this.__cbOnceOwnerUnbindInputStyleChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindInputStyleChange[a]),c.push(this.__cbOnceInputStyleChange[a]))}this.__cbOnceOwnerUnbindInputStyleChange=o,this.__cbOnceInputStyleChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onInputStyleChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event inputStyleChange because owner is destroyed!");var l=function(e){null!=t&&(i.offInputStyleChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindInputStyleChange&&(this.__cbOnOwnerUnbindInputStyleChange=[]),this.__cbOnOwnerUnbindInputStyleChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindInputStyleChange&&(this.__cbOnOwnerUnbindInputStyleChange=[]),this.__cbOnOwnerUnbindInputStyleChange.push(null);null==this.__cbOnInputStyleChange&&(this.__cbOnInputStyleChange=[]),this.__cbOnInputStyleChange.push(t)},onceInputStyleChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event inputStyleChange because owner is destroyed!");var l=function(e){null!=t&&(i.offInputStyleChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindInputStyleChange&&(this.__cbOnceOwnerUnbindInputStyleChange=[]),this.__cbOnceOwnerUnbindInputStyleChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindInputStyleChange&&(this.__cbOnceOwnerUnbindInputStyleChange=[]),this.__cbOnceOwnerUnbindInputStyleChange.push(null);null==this.__cbOnceInputStyleChange&&(this.__cbOnceInputStyleChange=[]),this.__cbOnceInputStyleChange.push(t)},offInputStyleChange:function(e){if(null!=e){var n;null!=this.__cbOnInputStyleChange&&-1!=(n=this.__cbOnInputStyleChange.indexOf(e))&&(this.__cbOnInputStyleChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindInputStyleChange[n])&&s(),this.__cbOnOwnerUnbindInputStyleChange.splice(n,1)),null!=this.__cbOnceInputStyleChange&&-1!=(n=this.__cbOnceInputStyleChange.indexOf(e))&&(this.__cbOnceInputStyleChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindInputStyleChange[n])&&s(),this.__cbOnceOwnerUnbindInputStyleChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindInputStyleChange){for(var t=0,i=this.__cbOnOwnerUnbindInputStyleChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindInputStyleChange[l])&&s()}this.__cbOnOwnerUnbindInputStyleChange=null}if(null!=this.__cbOnceOwnerUnbindInputStyleChange){for(t=0,i=this.__cbOnceOwnerUnbindInputStyleChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindInputStyleChange[l])&&s()}this.__cbOnceOwnerUnbindInputStyleChange=null}this.__cbOnInputStyleChange=null,this.__cbOnceInputStyleChange=null}},listensInputStyleChange:function(){return null!=this.__cbOnInputStyleChange&&0<this.__cbOnInputStyleChange.length||null!=this.__cbOnceInputStyleChange&&0<this.__cbOnceInputStyleChange.length},enabledAutoruns:null,get_enabled:function(){var e,n,t=this.unobservedEnabled;return null!=A.current&&(e=A.current,null!=(n=this.enabledAutoruns)||(n=A.getAutorunArray(),null!=(this.enabledAutoruns=n)))&&e.bindToAutorunArray(n),t},set_enabled:function(e){var n=this.unobservedEnabled;return this.set_unobservedEnabled(e),n!=e&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitEnabledChange(e,n),null!=(n=this.enabledAutoruns))&&(this.enabledAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateEnabled:function(){var e=this.unobservedEnabled,e=(this.emitEnabledChange(e,e),this.enabledAutoruns);null!=e&&(this.enabledAutoruns=null,A.invalidateAutorunArray(e))},unobservedEnabled:null,__cbOnEnabledChange:null,__cbOnceEnabledChange:null,__cbOnOwnerUnbindEnabledChange:null,__cbOnceOwnerUnbindEnabledChange:null,emitEnabledChange:function(e,n){var t=0;if(null!=this.__cbOnEnabledChange&&(t+=this.__cbOnEnabledChange.length),null!=this.__cbOnceEnabledChange&&(t+=this.__cbOnceEnabledChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnEnabledChange)for(var r=0,h=this.__cbOnEnabledChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnEnabledChange[a],++s):--t}if(null!=this.__cbOnceEnabledChange){for(var o=null,c=null,r=0,h=this.__cbOnceEnabledChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceEnabledChange[a],this.__cbOnceEnabledChange[a]=null,u=this.__cbOnceOwnerUnbindEnabledChange[a],(this.__cbOnceOwnerUnbindEnabledChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindEnabledChange[a]),c.push(this.__cbOnceEnabledChange[a]))}this.__cbOnceOwnerUnbindEnabledChange=o,this.__cbOnceEnabledChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onEnabledChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event enabledChange because owner is destroyed!");var l=function(e){null!=t&&(i.offEnabledChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindEnabledChange&&(this.__cbOnOwnerUnbindEnabledChange=[]),this.__cbOnOwnerUnbindEnabledChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindEnabledChange&&(this.__cbOnOwnerUnbindEnabledChange=[]),this.__cbOnOwnerUnbindEnabledChange.push(null);null==this.__cbOnEnabledChange&&(this.__cbOnEnabledChange=[]),this.__cbOnEnabledChange.push(t)},onceEnabledChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event enabledChange because owner is destroyed!");var l=function(e){null!=t&&(i.offEnabledChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindEnabledChange&&(this.__cbOnceOwnerUnbindEnabledChange=[]),this.__cbOnceOwnerUnbindEnabledChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindEnabledChange&&(this.__cbOnceOwnerUnbindEnabledChange=[]),this.__cbOnceOwnerUnbindEnabledChange.push(null);null==this.__cbOnceEnabledChange&&(this.__cbOnceEnabledChange=[]),this.__cbOnceEnabledChange.push(t)},offEnabledChange:function(e){if(null!=e){var n;null!=this.__cbOnEnabledChange&&-1!=(n=this.__cbOnEnabledChange.indexOf(e))&&(this.__cbOnEnabledChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindEnabledChange[n])&&s(),this.__cbOnOwnerUnbindEnabledChange.splice(n,1)),null!=this.__cbOnceEnabledChange&&-1!=(n=this.__cbOnceEnabledChange.indexOf(e))&&(this.__cbOnceEnabledChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindEnabledChange[n])&&s(),this.__cbOnceOwnerUnbindEnabledChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindEnabledChange){for(var t=0,i=this.__cbOnOwnerUnbindEnabledChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindEnabledChange[l])&&s()}this.__cbOnOwnerUnbindEnabledChange=null}if(null!=this.__cbOnceOwnerUnbindEnabledChange){for(t=0,i=this.__cbOnceOwnerUnbindEnabledChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindEnabledChange[l])&&s()}this.__cbOnceOwnerUnbindEnabledChange=null}this.__cbOnEnabledChange=null,this.__cbOnceEnabledChange=null}},listensEnabledChange:function(){return null!=this.__cbOnEnabledChange&&0<this.__cbOnEnabledChange.length||null!=this.__cbOnceEnabledChange&&0<this.__cbOnceEnabledChange.length},set_unobservedEnabled:function(e){return this.unobservedEnabled!=e&&(this.unobservedEnabled=e,this.set_touchable(e),!e)&&this.get_unobservedFocused()&&ae.app.screen.set_focusedVisual(null),this.get_disabled()},get_disabled:function(){return!this.get_enabled()},set_disabled:function(e){return this.set_enabled(!e)},willListenFocusedChange:function(){this.get_unobservedFocused()},get_unobservedFocused:function(){var n,t;return 0<=this._lifecycleState?null==this.computeAutorunFocused?(n=this,t=new A(null),this.computedOnceFocused=!0,(this.computeAutorunFocused=t).onRun=function(){var e=n.computeFocused();A.unobserve(),n.set_focused(e),A.reobserve()},t.onDestroy(this,function(e){n.computeAutorunFocused==t&&(n.computeAutorunFocused=null),n=t=null}),this.onDestroy(t,function(e){null!=t&&(t.destroy(),t=null),n=null}),t.run()):this.computeAutorunFocused.invalidated&&this.computeAutorunFocused.run():this.computedOnceFocused||(A.unobserve(),this.computedOnceFocused=!0,this.unobservedFocused=this.computeFocused(),A.reobserve()),this.unobservedFocused},focusedAutoruns:null,get_focused:function(){var e,n,t=this.get_unobservedFocused();return null!=A.current&&(e=A.current,null!=(n=this.focusedAutoruns)||(n=A.getAutorunArray(),null!=(this.focusedAutoruns=n)))&&e.bindToAutorunArray(n),t},set_focused:function(e){var n=this.get_unobservedFocused();return n!=(this.unobservedFocused=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitFocusedChange(e,n),null!=(n=this.focusedAutoruns))&&(this.focusedAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateFocused:function(){var e=this.get_unobservedFocused(),e=(this.emitFocusedChange(e,e),this.focusedAutoruns);null!=e&&(this.focusedAutoruns=null,A.invalidateAutorunArray(e))},unobservedFocused:null,__cbOnFocusedChange:null,__cbOnceFocusedChange:null,__cbOnOwnerUnbindFocusedChange:null,__cbOnceOwnerUnbindFocusedChange:null,emitFocusedChange:function(e,n){var t=0;if(null!=this.__cbOnFocusedChange&&(t+=this.__cbOnFocusedChange.length),null!=this.__cbOnceFocusedChange&&(t+=this.__cbOnceFocusedChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnFocusedChange)for(var r=0,h=this.__cbOnFocusedChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnFocusedChange[a],++s):--t}if(null!=this.__cbOnceFocusedChange){for(var o=null,c=null,r=0,h=this.__cbOnceFocusedChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceFocusedChange[a],this.__cbOnceFocusedChange[a]=null,u=this.__cbOnceOwnerUnbindFocusedChange[a],(this.__cbOnceOwnerUnbindFocusedChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindFocusedChange[a]),c.push(this.__cbOnceFocusedChange[a]))}this.__cbOnceOwnerUnbindFocusedChange=o,this.__cbOnceFocusedChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onFocusedChange:function(n,t){var i=this;if(null==this.__cbOnFocusedChange&&null==this.__cbOnceFocusedChange&&this.willListenFocusedChange(),null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event focusedChange because owner is destroyed!");var l=function(e){null!=t&&(i.offFocusedChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindFocusedChange&&(this.__cbOnOwnerUnbindFocusedChange=[]),this.__cbOnOwnerUnbindFocusedChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindFocusedChange&&(this.__cbOnOwnerUnbindFocusedChange=[]),this.__cbOnOwnerUnbindFocusedChange.push(null);null==this.__cbOnFocusedChange&&(this.__cbOnFocusedChange=[]),this.__cbOnFocusedChange.push(t)},onceFocusedChange:function(n,t){var i=this;if(null==this.__cbOnFocusedChange&&null==this.__cbOnceFocusedChange&&this.willListenFocusedChange(),null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event focusedChange because owner is destroyed!");var l=function(e){null!=t&&(i.offFocusedChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindFocusedChange&&(this.__cbOnceOwnerUnbindFocusedChange=[]),this.__cbOnceOwnerUnbindFocusedChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindFocusedChange&&(this.__cbOnceOwnerUnbindFocusedChange=[]),this.__cbOnceOwnerUnbindFocusedChange.push(null);null==this.__cbOnceFocusedChange&&(this.__cbOnceFocusedChange=[]),this.__cbOnceFocusedChange.push(t)},offFocusedChange:function(e){if(null!=e){var n;null!=this.__cbOnFocusedChange&&-1!=(n=this.__cbOnFocusedChange.indexOf(e))&&(this.__cbOnFocusedChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindFocusedChange[n])&&s(),this.__cbOnOwnerUnbindFocusedChange.splice(n,1)),null!=this.__cbOnceFocusedChange&&-1!=(n=this.__cbOnceFocusedChange.indexOf(e))&&(this.__cbOnceFocusedChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindFocusedChange[n])&&s(),this.__cbOnceOwnerUnbindFocusedChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindFocusedChange){for(var t=0,i=this.__cbOnOwnerUnbindFocusedChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindFocusedChange[l])&&s()}this.__cbOnOwnerUnbindFocusedChange=null}if(null!=this.__cbOnceOwnerUnbindFocusedChange){for(t=0,i=this.__cbOnceOwnerUnbindFocusedChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindFocusedChange[l])&&s()}this.__cbOnceOwnerUnbindFocusedChange=null}this.__cbOnFocusedChange=null,this.__cbOnceFocusedChange=null}},listensFocusedChange:function(){return null!=this.__cbOnFocusedChange&&0<this.__cbOnFocusedChange.length||null!=this.__cbOnceFocusedChange&&0<this.__cbOnceFocusedChange.length},computeFocused:function(){var e=ae.app.screen.get_focusedVisual(),e=(A.unobserve(),e==this||null!=e&&e.hasIndirectParent(this));return A.reobserve(),e},computeAutorunFocused:null,computedOnceFocused:null,hoverAutoruns:null,get_hover:function(){var e,n,t=this.unobservedHover;return null!=A.current&&(e=A.current,null!=(n=this.hoverAutoruns)||(n=A.getAutorunArray(),null!=(this.hoverAutoruns=n)))&&e.bindToAutorunArray(n),t},set_hover:function(e){var n=this.unobservedHover;return n!=(this.unobservedHover=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitHoverChange(e,n),null!=(n=this.hoverAutoruns))&&(this.hoverAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateHover:function(){var e=this.unobservedHover,e=(this.emitHoverChange(e,e),this.hoverAutoruns);null!=e&&(this.hoverAutoruns=null,A.invalidateAutorunArray(e))},unobservedHover:null,__cbOnHoverChange:null,__cbOnceHoverChange:null,__cbOnOwnerUnbindHoverChange:null,__cbOnceOwnerUnbindHoverChange:null,emitHoverChange:function(e,n){var t=0;if(null!=this.__cbOnHoverChange&&(t+=this.__cbOnHoverChange.length),null!=this.__cbOnceHoverChange&&(t+=this.__cbOnceHoverChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnHoverChange)for(var r=0,h=this.__cbOnHoverChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnHoverChange[a],++s):--t}if(null!=this.__cbOnceHoverChange){for(var o=null,c=null,r=0,h=this.__cbOnceHoverChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceHoverChange[a],this.__cbOnceHoverChange[a]=null,u=this.__cbOnceOwnerUnbindHoverChange[a],(this.__cbOnceOwnerUnbindHoverChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindHoverChange[a]),c.push(this.__cbOnceHoverChange[a]))}this.__cbOnceOwnerUnbindHoverChange=o,this.__cbOnceHoverChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onHoverChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event hoverChange because owner is destroyed!");var l=function(e){null!=t&&(i.offHoverChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindHoverChange&&(this.__cbOnOwnerUnbindHoverChange=[]),this.__cbOnOwnerUnbindHoverChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindHoverChange&&(this.__cbOnOwnerUnbindHoverChange=[]),this.__cbOnOwnerUnbindHoverChange.push(null);null==this.__cbOnHoverChange&&(this.__cbOnHoverChange=[]),this.__cbOnHoverChange.push(t)},onceHoverChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event hoverChange because owner is destroyed!");var l=function(e){null!=t&&(i.offHoverChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindHoverChange&&(this.__cbOnceOwnerUnbindHoverChange=[]),this.__cbOnceOwnerUnbindHoverChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindHoverChange&&(this.__cbOnceOwnerUnbindHoverChange=[]),this.__cbOnceOwnerUnbindHoverChange.push(null);null==this.__cbOnceHoverChange&&(this.__cbOnceHoverChange=[]),this.__cbOnceHoverChange.push(t)},offHoverChange:function(e){if(null!=e){var n;null!=this.__cbOnHoverChange&&-1!=(n=this.__cbOnHoverChange.indexOf(e))&&(this.__cbOnHoverChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindHoverChange[n])&&s(),this.__cbOnOwnerUnbindHoverChange.splice(n,1)),null!=this.__cbOnceHoverChange&&-1!=(n=this.__cbOnceHoverChange.indexOf(e))&&(this.__cbOnceHoverChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindHoverChange[n])&&s(),this.__cbOnceOwnerUnbindHoverChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindHoverChange){for(var t=0,i=this.__cbOnOwnerUnbindHoverChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindHoverChange[l])&&s()}this.__cbOnOwnerUnbindHoverChange=null}if(null!=this.__cbOnceOwnerUnbindHoverChange){for(t=0,i=this.__cbOnceOwnerUnbindHoverChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindHoverChange[l])&&s()}this.__cbOnceOwnerUnbindHoverChange=null}this.__cbOnHoverChange=null,this.__cbOnceHoverChange=null}},listensHoverChange:function(){return null!=this.__cbOnHoverChange&&0<this.__cbOnHoverChange.length||null!=this.__cbOnceHoverChange&&0<this.__cbOnceHoverChange.length},enterPressedAutoruns:null,get_enterPressed:function(){var e,n,t=this.unobservedEnterPressed;return null!=A.current&&(e=A.current,null!=(n=this.enterPressedAutoruns)||(n=A.getAutorunArray(),null!=(this.enterPressedAutoruns=n)))&&e.bindToAutorunArray(n),t},set_enterPressed:function(e){var n=this.unobservedEnterPressed;return n!=(this.unobservedEnterPressed=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitEnterPressedChange(e,n),null!=(n=this.enterPressedAutoruns))&&(this.enterPressedAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateEnterPressed:function(){var e=this.unobservedEnterPressed,e=(this.emitEnterPressedChange(e,e),this.enterPressedAutoruns);null!=e&&(this.enterPressedAutoruns=null,A.invalidateAutorunArray(e))},unobservedEnterPressed:null,__cbOnEnterPressedChange:null,__cbOnceEnterPressedChange:null,__cbOnOwnerUnbindEnterPressedChange:null,__cbOnceOwnerUnbindEnterPressedChange:null,emitEnterPressedChange:function(e,n){var t=0;if(null!=this.__cbOnEnterPressedChange&&(t+=this.__cbOnEnterPressedChange.length),null!=this.__cbOnceEnterPressedChange&&(t+=this.__cbOnceEnterPressedChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnEnterPressedChange)for(var r=0,h=this.__cbOnEnterPressedChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnEnterPressedChange[a],++s):--t}if(null!=this.__cbOnceEnterPressedChange){for(var o=null,c=null,r=0,h=this.__cbOnceEnterPressedChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceEnterPressedChange[a],this.__cbOnceEnterPressedChange[a]=null,u=this.__cbOnceOwnerUnbindEnterPressedChange[a],(this.__cbOnceOwnerUnbindEnterPressedChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindEnterPressedChange[a]),c.push(this.__cbOnceEnterPressedChange[a]))}this.__cbOnceOwnerUnbindEnterPressedChange=o,this.__cbOnceEnterPressedChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onEnterPressedChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event enterPressedChange because owner is destroyed!");var l=function(e){null!=t&&(i.offEnterPressedChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindEnterPressedChange&&(this.__cbOnOwnerUnbindEnterPressedChange=[]),this.__cbOnOwnerUnbindEnterPressedChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindEnterPressedChange&&(this.__cbOnOwnerUnbindEnterPressedChange=[]),this.__cbOnOwnerUnbindEnterPressedChange.push(null);null==this.__cbOnEnterPressedChange&&(this.__cbOnEnterPressedChange=[]),this.__cbOnEnterPressedChange.push(t)},onceEnterPressedChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event enterPressedChange because owner is destroyed!");var l=function(e){null!=t&&(i.offEnterPressedChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindEnterPressedChange&&(this.__cbOnceOwnerUnbindEnterPressedChange=[]),this.__cbOnceOwnerUnbindEnterPressedChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindEnterPressedChange&&(this.__cbOnceOwnerUnbindEnterPressedChange=[]),this.__cbOnceOwnerUnbindEnterPressedChange.push(null);null==this.__cbOnceEnterPressedChange&&(this.__cbOnceEnterPressedChange=[]),this.__cbOnceEnterPressedChange.push(t)},offEnterPressedChange:function(e){if(null!=e){var n;null!=this.__cbOnEnterPressedChange&&-1!=(n=this.__cbOnEnterPressedChange.indexOf(e))&&(this.__cbOnEnterPressedChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindEnterPressedChange[n])&&s(),this.__cbOnOwnerUnbindEnterPressedChange.splice(n,1)),null!=this.__cbOnceEnterPressedChange&&-1!=(n=this.__cbOnceEnterPressedChange.indexOf(e))&&(this.__cbOnceEnterPressedChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindEnterPressedChange[n])&&s(),this.__cbOnceOwnerUnbindEnterPressedChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindEnterPressedChange){for(var t=0,i=this.__cbOnOwnerUnbindEnterPressedChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindEnterPressedChange[l])&&s()}this.__cbOnOwnerUnbindEnterPressedChange=null}if(null!=this.__cbOnceOwnerUnbindEnterPressedChange){for(t=0,i=this.__cbOnceOwnerUnbindEnterPressedChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindEnterPressedChange[l])&&s()}this.__cbOnceOwnerUnbindEnterPressedChange=null}this.__cbOnEnterPressedChange=null,this.__cbOnceEnterPressedChange=null}},listensEnterPressedChange:function(){return null!=this.__cbOnEnterPressedChange&&0<this.__cbOnEnterPressedChange.length||null!=this.__cbOnceEnterPressedChange&&0<this.__cbOnceEnterPressedChange.length},handleKeyDown:function(e){40==e.scanCode&&this.get_focused()&&!this.get_enterPressed()&&(this.set_enterPressed(!0),this.emitClick())},handleKeyUp:function(e){40==e.scanCode&&this.set_enterPressed(!1)},updateStyle:function(){var e,n,t=this.get_theme(),i=(null==t&&(t=G.get_context().get_theme()),this.get_enabled()),l=this.get_focused(),s=this.click.get_pressed()||this.get_enterPressed();this.transform.ty=s&&i?1:0,this.transform.changedDirty=!0,this.set_font(t.get_mediumFont()),this.set_textColor(t.get_lightTextColor()),this.get_inputStyle()==Vi.OVERLAY?(this.set_minHeight(25),1!=this.borderSize&&(this.borderSize=1,this.updateBorder()),e=He.INSIDE,this.borderPosition!=e&&(this.borderPosition=e,0<this.borderSize||0<this.borderTopSize||0<this.borderBottomSize||0<this.borderLeftSize||0<this.borderRightSize)&&this.updateBorder()):(this.set_minHeight(27),1!=this.borderSize&&(this.borderSize=1,this.updateBorder()),e=He.INSIDE,this.borderPosition!=e&&(this.borderPosition=e,0<this.borderSize||0<this.borderTopSize||0<this.borderBottomSize||0<this.borderLeftSize||0<this.borderRightSize)&&this.updateBorder(),this.flags&=-17,1!=this.borderAlpha&&(this.borderAlpha=1,null!=this.border)&&this.border.set_alpha(1)),this.get_inputStyle()==Vi.OVERLAY?i?(this.text.set_alpha(1),s?(this.flags&=-17,this.color=16777215,this.set_alpha(.05),n=t.get_lightTextColor(),this.borderColor!=n&&(this.borderColor=n,0<this.borderSize||0<this.borderTopSize||0<this.borderBottomSize||0<this.borderLeftSize||0<this.borderRightSize)&&this.updateBorder(),.33!=this.borderAlpha&&(this.borderAlpha=.33,null!=this.border)&&this.border.set_alpha(.33)):l?(this.flags|=16,n=t.get_buttonFocusedBorderColor(),this.borderColor!=n&&(this.borderColor=n,0<this.borderSize||0<this.borderTopSize||0<this.borderBottomSize||0<this.borderLeftSize||0<this.borderRightSize)&&this.updateBorder(),1!=this.borderAlpha&&(this.borderAlpha=1,null!=this.border)&&this.border.set_alpha(1)):this.get_hover()?(this.flags&=-17,this.color=16777215,this.set_alpha(.025),n=t.get_lightTextColor(),this.borderColor!=n&&(this.borderColor=n,0<this.borderSize||0<this.borderTopSize||0<this.borderBottomSize||0<this.borderLeftSize||0<this.borderRightSize)&&this.updateBorder(),.25!=this.borderAlpha&&(this.borderAlpha=.25,null!=this.border)&&this.border.set_alpha(.25)):(n=t.get_lightTextColor(),this.borderColor!=n&&(this.borderColor=n,0<this.borderSize||0<this.borderTopSize||0<this.borderBottomSize||0<this.borderLeftSize||0<this.borderRightSize)&&this.updateBorder(),.2!=this.borderAlpha&&(this.borderAlpha=.2,null!=this.border)&&this.border.set_alpha(.2),this.flags|=16)):(.1!=this.borderAlpha&&(this.borderAlpha=.1,null!=this.border)&&this.border.set_alpha(.1),this.text.set_alpha(.5),this.flags|=16):i?(this.set_alpha(1),this.text.set_alpha(1),s?this.color=t.get_buttonPressedBackgroundColor():this.get_hover()?this.color=t.get_buttonOverBackgroundColor():this.color=t.get_buttonBackgroundColor(),n=s?t.get_buttonPressedBackgroundColor():l?t.get_buttonFocusedBorderColor():(this.get_hover(),t.get_lightBorderColor()),this.borderColor!=n&&(this.borderColor=n,0<this.borderSize||0<this.borderTopSize||0<this.borderBottomSize||0<this.borderLeftSize||0<this.borderRightSize)&&this.updateBorder(),1!=this.borderAlpha&&(this.borderAlpha=1,null!=this.border)&&this.border.set_alpha(1)):(this.set_alpha(.6),this.text.set_alpha(.5),this.color=t.get_buttonBackgroundColor(),n=t.get_lightBorderColor(),this.borderColor!=n&&(this.borderColor=n,0<this.borderSize||0<this.borderTopSize||0<this.borderBottomSize||0<this.borderLeftSize||0<this.borderRightSize)&&this.updateBorder(),.5!=this.borderAlpha&&(this.borderAlpha=.5,null!=this.border)&&this.border.set_alpha(.5))},focus:function(){ae.app.screen.set_focusedVisual(this)},allowsTabFocus:function(){return this.get_enabled()},tabFocus:function(){this.focus()},escapeTabFocus:function(){ae.app.screen.set_focusedVisual(null)},unbindEvents:function(){A1.prototype.unbindEvents.call(this),this.offObservedDirty(),this.offThemeChange(),this.offInputStyleChange(),this.offEnabledChange(),this.offFocusedChange(),this.offHoverChange(),this.offEnterPressedChange(),this.offClick()},__class__:ad,__properties__:$extend(A1.prototype.__properties__,{set_enterPressed:"set_enterPressed",get_enterPressed:"get_enterPressed",set_hover:"set_hover",get_hover:"get_hover",get_unobservedFocused:"get_unobservedFocused",set_focused:"set_focused",get_focused:"get_focused",set_disabled:"set_disabled",get_disabled:"get_disabled",set_unobservedEnabled:"set_unobservedEnabled",set_enabled:"set_enabled",get_enabled:"get_enabled",set_inputStyle:"set_inputStyle",get_inputStyle:"get_inputStyle",get_pressed:"get_pressed",set_click:"set_click",set_theme:"set_theme",get_theme:"get_theme"})}),function(){this.unobservedInputStyle=!1,this.inputStyleAutoruns=null,this.unobservedScrolling=!1,this.scrollingAutoruns=null,this.unobservedTheme=null,this.themeAutoruns=null,this.observedDirty=!1;var n=this;h0.call(this),this.filter=new _n,this.filter.set_density(ee.app.screenDensity),this.add(this.filter),this.set_viewWidth(-60002),this.set_viewHeight(-60002),this.flags&=-17;(e=this.contentView).flags|=16;var e=this.contentView,t=He.OUTSIDE,t=(e.borderPosition!=t&&(e.borderPosition=t,0<e.borderSize||0<e.borderTopSize||0<e.borderBottomSize||0<e.borderLeftSize||0<e.borderRightSize)&&e.updateBorder(),He.INSIDE),i=(this.borderPosition!=t&&(this.borderPosition=t,0<this.borderSize||0<this.borderTopSize||0<this.borderBottomSize||0<this.borderLeftSize||0<this.borderRightSize)&&this.updateBorder(),this.scroller.allowPointerOutside=!1,new Gi);this.scroller.set_scrollbar(i),i.autorun(function(){var e=n.get_theme();A.unobserve(),i.set_theme(e)}),this.filter.set_textureFilter(Tt.NEAREST),this.filter.content.add(this.scroller),this.scroller.dragEnabled=!1,this.contentView.onLayout(this,$bind(this,this.updateBorderDepth)),this.autorun($bind(this,this.updateStyle)),ae.app.onUpdate(this,$bind(this,this.handleUpdate))}),Ii=((E["elements.CellCollectionView"]=ki).__name__="elements.CellCollectionView",ki.__interfaces__=[s],ki.__super__=h0,ki.prototype=$extend(h0.prototype,{__cbOnObservedDirty:null,__cbOnceObservedDirty:null,__cbOnOwnerUnbindObservedDirty:null,__cbOnceOwnerUnbindObservedDirty:null,emitObservedDirty:function(e,n){var t=0;if(null!=this.__cbOnObservedDirty&&(t+=this.__cbOnObservedDirty.length),null!=this.__cbOnceObservedDirty&&(t+=this.__cbOnceObservedDirty.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnObservedDirty)for(var r=0,h=this.__cbOnObservedDirty.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnObservedDirty[a],++s):--t}if(null!=this.__cbOnceObservedDirty){for(var o=null,c=null,r=0,h=this.__cbOnceObservedDirty.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceObservedDirty[a],this.__cbOnceObservedDirty[a]=null,u=this.__cbOnceOwnerUnbindObservedDirty[a],(this.__cbOnceOwnerUnbindObservedDirty[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindObservedDirty[a]),c.push(this.__cbOnceObservedDirty[a]))}this.__cbOnceOwnerUnbindObservedDirty=o,this.__cbOnceObservedDirty=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onObservedDirty:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event observedDirty because owner is destroyed!");var l=function(e){null!=t&&(i.offObservedDirty(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push(null);null==this.__cbOnObservedDirty&&(this.__cbOnObservedDirty=[]),this.__cbOnObservedDirty.push(t)},onceObservedDirty:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event observedDirty because owner is destroyed!");var l=function(e){null!=t&&(i.offObservedDirty(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push(null);null==this.__cbOnceObservedDirty&&(this.__cbOnceObservedDirty=[]),this.__cbOnceObservedDirty.push(t)},offObservedDirty:function(e){if(null!=e){var n;null!=this.__cbOnObservedDirty&&-1!=(n=this.__cbOnObservedDirty.indexOf(e))&&(this.__cbOnObservedDirty.splice(n,1),null!=(s=this.__cbOnOwnerUnbindObservedDirty[n])&&s(),this.__cbOnOwnerUnbindObservedDirty.splice(n,1)),null!=this.__cbOnceObservedDirty&&-1!=(n=this.__cbOnceObservedDirty.indexOf(e))&&(this.__cbOnceObservedDirty.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindObservedDirty[n])&&s(),this.__cbOnceOwnerUnbindObservedDirty.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindObservedDirty){for(var t=0,i=this.__cbOnOwnerUnbindObservedDirty.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindObservedDirty[l])&&s()}this.__cbOnOwnerUnbindObservedDirty=null}if(null!=this.__cbOnceOwnerUnbindObservedDirty){for(t=0,i=this.__cbOnceOwnerUnbindObservedDirty.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindObservedDirty[l])&&s()}this.__cbOnceOwnerUnbindObservedDirty=null}this.__cbOnObservedDirty=null,this.__cbOnceObservedDirty=null}},listensObservedDirty:function(){return null!=this.__cbOnObservedDirty&&0<this.__cbOnObservedDirty.length||null!=this.__cbOnceObservedDirty&&0<this.__cbOnceObservedDirty.length},observedDirty:null,themeAutoruns:null,get_theme:function(){var e,n,t=this.unobservedTheme;return null!=A.current&&(e=A.current,null!=(n=this.themeAutoruns)||(n=A.getAutorunArray(),null!=(this.themeAutoruns=n)))&&e.bindToAutorunArray(n),t},set_theme:function(e){var n=this.unobservedTheme;return n!=(this.unobservedTheme=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitThemeChange(e,n),null!=(n=this.themeAutoruns))&&(this.themeAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateTheme:function(){var e=this.unobservedTheme,e=(this.emitThemeChange(e,e),this.themeAutoruns);null!=e&&(this.themeAutoruns=null,A.invalidateAutorunArray(e))},unobservedTheme:null,__cbOnThemeChange:null,__cbOnceThemeChange:null,__cbOnOwnerUnbindThemeChange:null,__cbOnceOwnerUnbindThemeChange:null,emitThemeChange:function(e,n){var t=0;if(null!=this.__cbOnThemeChange&&(t+=this.__cbOnThemeChange.length),null!=this.__cbOnceThemeChange&&(t+=this.__cbOnceThemeChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnThemeChange)for(var r=0,h=this.__cbOnThemeChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnThemeChange[a],++s):--t}if(null!=this.__cbOnceThemeChange){for(var o=null,c=null,r=0,h=this.__cbOnceThemeChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceThemeChange[a],this.__cbOnceThemeChange[a]=null,u=this.__cbOnceOwnerUnbindThemeChange[a],(this.__cbOnceOwnerUnbindThemeChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindThemeChange[a]),c.push(this.__cbOnceThemeChange[a]))}this.__cbOnceOwnerUnbindThemeChange=o,this.__cbOnceThemeChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onThemeChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event themeChange because owner is destroyed!");var l=function(e){null!=t&&(i.offThemeChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindThemeChange&&(this.__cbOnOwnerUnbindThemeChange=[]),this.__cbOnOwnerUnbindThemeChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindThemeChange&&(this.__cbOnOwnerUnbindThemeChange=[]),this.__cbOnOwnerUnbindThemeChange.push(null);null==this.__cbOnThemeChange&&(this.__cbOnThemeChange=[]),this.__cbOnThemeChange.push(t)},onceThemeChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event themeChange because owner is destroyed!");var l=function(e){null!=t&&(i.offThemeChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindThemeChange&&(this.__cbOnceOwnerUnbindThemeChange=[]),this.__cbOnceOwnerUnbindThemeChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindThemeChange&&(this.__cbOnceOwnerUnbindThemeChange=[]),this.__cbOnceOwnerUnbindThemeChange.push(null);null==this.__cbOnceThemeChange&&(this.__cbOnceThemeChange=[]),this.__cbOnceThemeChange.push(t)},offThemeChange:function(e){if(null!=e){var n;null!=this.__cbOnThemeChange&&-1!=(n=this.__cbOnThemeChange.indexOf(e))&&(this.__cbOnThemeChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindThemeChange[n])&&s(),this.__cbOnOwnerUnbindThemeChange.splice(n,1)),null!=this.__cbOnceThemeChange&&-1!=(n=this.__cbOnceThemeChange.indexOf(e))&&(this.__cbOnceThemeChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindThemeChange[n])&&s(),this.__cbOnceOwnerUnbindThemeChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindThemeChange){for(var t=0,i=this.__cbOnOwnerUnbindThemeChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindThemeChange[l])&&s()}this.__cbOnOwnerUnbindThemeChange=null}if(null!=this.__cbOnceOwnerUnbindThemeChange){for(t=0,i=this.__cbOnceOwnerUnbindThemeChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindThemeChange[l])&&s()}this.__cbOnceOwnerUnbindThemeChange=null}this.__cbOnThemeChange=null,this.__cbOnceThemeChange=null}},listensThemeChange:function(){return null!=this.__cbOnThemeChange&&0<this.__cbOnThemeChange.length||null!=this.__cbOnceThemeChange&&0<this.__cbOnceThemeChange.length},scrollingAutoruns:null,get_scrolling:function(){var e,n,t=this.unobservedScrolling;return null!=A.current&&(e=A.current,null!=(n=this.scrollingAutoruns)||(n=A.getAutorunArray(),null!=(this.scrollingAutoruns=n)))&&e.bindToAutorunArray(n),t},set_scrolling:function(e){var n=this.unobservedScrolling;return n!=(this.unobservedScrolling=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitScrollingChange(e,n),null!=(n=this.scrollingAutoruns))&&(this.scrollingAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateScrolling:function(){var e=this.unobservedScrolling,e=(this.emitScrollingChange(e,e),this.scrollingAutoruns);null!=e&&(this.scrollingAutoruns=null,A.invalidateAutorunArray(e))},unobservedScrolling:null,__cbOnScrollingChange:null,__cbOnceScrollingChange:null,__cbOnOwnerUnbindScrollingChange:null,__cbOnceOwnerUnbindScrollingChange:null,emitScrollingChange:function(e,n){var t=0;if(null!=this.__cbOnScrollingChange&&(t+=this.__cbOnScrollingChange.length),null!=this.__cbOnceScrollingChange&&(t+=this.__cbOnceScrollingChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnScrollingChange)for(var r=0,h=this.__cbOnScrollingChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnScrollingChange[a],++s):--t}if(null!=this.__cbOnceScrollingChange){for(var o=null,c=null,r=0,h=this.__cbOnceScrollingChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceScrollingChange[a],this.__cbOnceScrollingChange[a]=null,u=this.__cbOnceOwnerUnbindScrollingChange[a],(this.__cbOnceOwnerUnbindScrollingChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindScrollingChange[a]),c.push(this.__cbOnceScrollingChange[a]))}this.__cbOnceOwnerUnbindScrollingChange=o,this.__cbOnceScrollingChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onScrollingChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event scrollingChange because owner is destroyed!");var l=function(e){null!=t&&(i.offScrollingChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindScrollingChange&&(this.__cbOnOwnerUnbindScrollingChange=[]),this.__cbOnOwnerUnbindScrollingChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindScrollingChange&&(this.__cbOnOwnerUnbindScrollingChange=[]),this.__cbOnOwnerUnbindScrollingChange.push(null);null==this.__cbOnScrollingChange&&(this.__cbOnScrollingChange=[]),this.__cbOnScrollingChange.push(t)},onceScrollingChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event scrollingChange because owner is destroyed!");var l=function(e){null!=t&&(i.offScrollingChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindScrollingChange&&(this.__cbOnceOwnerUnbindScrollingChange=[]),this.__cbOnceOwnerUnbindScrollingChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindScrollingChange&&(this.__cbOnceOwnerUnbindScrollingChange=[]),this.__cbOnceOwnerUnbindScrollingChange.push(null);null==this.__cbOnceScrollingChange&&(this.__cbOnceScrollingChange=[]),this.__cbOnceScrollingChange.push(t)},offScrollingChange:function(e){if(null!=e){var n;null!=this.__cbOnScrollingChange&&-1!=(n=this.__cbOnScrollingChange.indexOf(e))&&(this.__cbOnScrollingChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindScrollingChange[n])&&s(),this.__cbOnOwnerUnbindScrollingChange.splice(n,1)),null!=this.__cbOnceScrollingChange&&-1!=(n=this.__cbOnceScrollingChange.indexOf(e))&&(this.__cbOnceScrollingChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindScrollingChange[n])&&s(),this.__cbOnceOwnerUnbindScrollingChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindScrollingChange){for(var t=0,i=this.__cbOnOwnerUnbindScrollingChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindScrollingChange[l])&&s()}this.__cbOnOwnerUnbindScrollingChange=null}if(null!=this.__cbOnceOwnerUnbindScrollingChange){for(t=0,i=this.__cbOnceOwnerUnbindScrollingChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindScrollingChange[l])&&s()}this.__cbOnceOwnerUnbindScrollingChange=null}this.__cbOnScrollingChange=null,this.__cbOnceScrollingChange=null}},listensScrollingChange:function(){return null!=this.__cbOnScrollingChange&&0<this.__cbOnScrollingChange.length||null!=this.__cbOnceScrollingChange&&0<this.__cbOnceScrollingChange.length},inputStyleAutoruns:null,get_inputStyle:function(){var e,n,t=this.unobservedInputStyle;return null!=A.current&&(e=A.current,null!=(n=this.inputStyleAutoruns)||(n=A.getAutorunArray(),null!=(this.inputStyleAutoruns=n)))&&e.bindToAutorunArray(n),t},set_inputStyle:function(e){var n=this.unobservedInputStyle;return n!=(this.unobservedInputStyle=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitInputStyleChange(e,n),null!=(n=this.inputStyleAutoruns))&&(this.inputStyleAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateInputStyle:function(){var e=this.unobservedInputStyle,e=(this.emitInputStyleChange(e,e),this.inputStyleAutoruns);null!=e&&(this.inputStyleAutoruns=null,A.invalidateAutorunArray(e))},unobservedInputStyle:null,__cbOnInputStyleChange:null,__cbOnceInputStyleChange:null,__cbOnOwnerUnbindInputStyleChange:null,__cbOnceOwnerUnbindInputStyleChange:null,emitInputStyleChange:function(e,n){var t=0;if(null!=this.__cbOnInputStyleChange&&(t+=this.__cbOnInputStyleChange.length),null!=this.__cbOnceInputStyleChange&&(t+=this.__cbOnceInputStyleChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnInputStyleChange)for(var r=0,h=this.__cbOnInputStyleChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnInputStyleChange[a],++s):--t}if(null!=this.__cbOnceInputStyleChange){for(var o=null,c=null,r=0,h=this.__cbOnceInputStyleChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceInputStyleChange[a],this.__cbOnceInputStyleChange[a]=null,u=this.__cbOnceOwnerUnbindInputStyleChange[a],(this.__cbOnceOwnerUnbindInputStyleChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindInputStyleChange[a]),c.push(this.__cbOnceInputStyleChange[a]))}this.__cbOnceOwnerUnbindInputStyleChange=o,this.__cbOnceInputStyleChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onInputStyleChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event inputStyleChange because owner is destroyed!");var l=function(e){null!=t&&(i.offInputStyleChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindInputStyleChange&&(this.__cbOnOwnerUnbindInputStyleChange=[]),this.__cbOnOwnerUnbindInputStyleChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindInputStyleChange&&(this.__cbOnOwnerUnbindInputStyleChange=[]),this.__cbOnOwnerUnbindInputStyleChange.push(null);null==this.__cbOnInputStyleChange&&(this.__cbOnInputStyleChange=[]),this.__cbOnInputStyleChange.push(t)},onceInputStyleChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event inputStyleChange because owner is destroyed!");var l=function(e){null!=t&&(i.offInputStyleChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindInputStyleChange&&(this.__cbOnceOwnerUnbindInputStyleChange=[]),this.__cbOnceOwnerUnbindInputStyleChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindInputStyleChange&&(this.__cbOnceOwnerUnbindInputStyleChange=[]),this.__cbOnceOwnerUnbindInputStyleChange.push(null);null==this.__cbOnceInputStyleChange&&(this.__cbOnceInputStyleChange=[]),this.__cbOnceInputStyleChange.push(t)},offInputStyleChange:function(e){if(null!=e){var n;null!=this.__cbOnInputStyleChange&&-1!=(n=this.__cbOnInputStyleChange.indexOf(e))&&(this.__cbOnInputStyleChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindInputStyleChange[n])&&s(),this.__cbOnOwnerUnbindInputStyleChange.splice(n,1)),null!=this.__cbOnceInputStyleChange&&-1!=(n=this.__cbOnceInputStyleChange.indexOf(e))&&(this.__cbOnceInputStyleChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindInputStyleChange[n])&&s(),this.__cbOnceOwnerUnbindInputStyleChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindInputStyleChange){for(var t=0,i=this.__cbOnOwnerUnbindInputStyleChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindInputStyleChange[l])&&s()}this.__cbOnOwnerUnbindInputStyleChange=null}if(null!=this.__cbOnceOwnerUnbindInputStyleChange){for(t=0,i=this.__cbOnceOwnerUnbindInputStyleChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindInputStyleChange[l])&&s()}this.__cbOnceOwnerUnbindInputStyleChange=null}this.__cbOnInputStyleChange=null,this.__cbOnceInputStyleChange=null}},listensInputStyleChange:function(){return null!=this.__cbOnInputStyleChange&&0<this.__cbOnInputStyleChange.length||null!=this.__cbOnceInputStyleChange&&0<this.__cbOnceInputStyleChange.length},filter:null,handleUpdate:function(e){this.filter.set_density(ee.app.screenDensity),this.set_scrolling(this.scroller.get_status()!=st.IDLE)},layout:function(){(e=this.filter).set_x(0),e.set_y(0);var e=this.filter,n=this.get_width(),t=this.get_height();if(e.set_width(n),e.set_height(t),null!=this.firstParentWithClass(lt)){if(this.filter.set_enabled(!1),this.clip!=this&&((this.clip=this).clipDirty=!0,null!=this.children))for(var i=0,l=this.children.length;i<l;){var s=i++;if((o=this.children[s]).clipDirty=!0,null!=o.children)for(var r=0,h=o.children.length;r<h;){var a=r++;o.children[a].set_clipDirty(!0)}}}else{this.filter.set_enabled(!0);if(null!=this.clip&&(this.clip=null,this.clipDirty=!0,null!=this.children))for(i=0,l=this.children.length;i<l;){var o,s=i++;if((o=this.children[s]).clipDirty=!0,null!=o.children)for(r=0,h=o.children.length;r<h;){a=r++;o.children[a].set_clipDirty(!0)}}}h0.prototype.layout.call(this)},updateBorderDepth:function(){var e=this.contentView.children.length+10;this.borderDepth!=e&&(this.borderDepth=e,null!=this.border)&&this.border.set_depth(e)},updateStyle:function(){var e=this.get_theme(),n=(null==e&&(e=G.get_context().get_theme()),i=this.get_inputStyle()?(this.flags|=16,1!=(n=this.contentView).borderTopSize&&(n.borderTopSize=1,n.updateBorder()),1!=this.borderBottomSize&&(this.borderBottomSize=1,this.updateBorder()),1!=this.borderTopSize&&(this.borderTopSize=1,this.updateBorder()),e.get_lightBorderColor()):(this.flags&=-17,this.color=e.get_darkBackgroundColor(),0!=this.borderSize&&(this.borderSize=0,this.updateBorder()),1!=(n=this.contentView).borderTopSize&&(n.borderTopSize=1,n.updateBorder()),0!=this.borderBottomSize&&(this.borderBottomSize=0,this.updateBorder()),0!=this.borderTopSize&&(this.borderTopSize=0,this.updateBorder()),e.get_mediumBorderColor()),this.borderBottomColor!=i&&(this.borderBottomColor=i,0<this.borderSize||0<this.borderBottomSize)&&this.updateBorder(),this.contentView),t=e.get_mediumBorderColor(),n=(n.borderTopColor!=t&&(n.borderTopColor=t,0<n.borderSize||0<n.borderTopSize)&&n.updateBorder(),this.contentView),i=e.get_mediumBorderColor();n.borderBottomColor!=i&&(n.borderBottomColor=i,0<n.borderSize||0<n.borderBottomSize)&&n.updateBorder()},unbindEvents:function(){h0.prototype.unbindEvents.call(this),this.offObservedDirty(),this.offThemeChange(),this.offScrollingChange(),this.offInputStyleChange()},__class__:ki,__properties__:$extend(h0.prototype.__properties__,{set_inputStyle:"set_inputStyle",get_inputStyle:"get_inputStyle",set_scrolling:"set_scrolling",get_scrolling:"get_scrolling",set_theme:"set_theme",get_theme:"get_theme"})}),function(){this.unobservedAppliedHoverItemIndex=-1,this.appliedHoverItemIndexAutoruns=null,this.unobservedHover=!1,this.hoverAutoruns=null,this.unobservedClonedForDragging=!1,this.clonedForDraggingAutoruns=null,this.dragOnItemIndex=-1,this.draggingCell=null,this.draggingCellDragY=0,this.dragStartScrollY=0,this.dragAutoScroll=0,this.dragTargetTy=0,this.iconsView=null,this.clearScrollDelay=null,this.unobservedDragging=!1,this.draggingAutoruns=null,this.unobservedHandleDuplicate=null,this.handleDuplicateAutoruns=null,this.unobservedHandleLock=null,this.handleLockAutoruns=null,this.unobservedHandleTrash=null,this.handleTrashAutoruns=null,this.unobservedKindIcon=null,this.kindIconAutoruns=null,this.unobservedLocked=!1,this.lockedAutoruns=null,this.unobservedDisplaysEmptyValue=!1,this.displaysEmptyValueAutoruns=null,this.unobservedInputStyle=!1,this.inputStyleAutoruns=null,this.unobservedCollectionView=null,this.collectionViewAutoruns=null,this.unobservedItemIndex=-1,this.itemIndexAutoruns=null,this.unobservedSubTitle=null,this.subTitleAutoruns=null,this.unobservedTitle=null,this.titleAutoruns=null,this.unobservedSelected=!1,this.selectedAutoruns=null,this.unobservedTheme=null,this.themeAutoruns=null,this.observedDirty=!1;var n=this,e=(Db.call(this),this.columnLayout=new r0,this.columnLayout.set_align(Vn.CENTER),this.columnLayout.set_itemSpacing(1),this.columnLayout),t=(e.set_viewWidth(-60002),e.set_viewHeight(-60001),this.add(this.columnLayout),1!=this.borderBottomSize&&(this.borderBottomSize=1,this.updateBorder()),He.INSIDE);this.borderPosition!=t&&(this.borderPosition=t,0<this.borderSize||0<this.borderTopSize||0<this.borderBottomSize||0<this.borderLeftSize||0<this.borderRightSize)&&this.updateBorder(),2!=this.borderDepth&&(this.borderDepth=2,null!=this.border)&&this.border.set_depth(2),this.flags&=-17,this.titleTextView=new A1,this.titleTextView.set_align(Ot.LEFT),this.titleTextView.set_pointSize(12),this.titleTextView.set_preRenderedSize(20),this.titleTextView.set_noFitWidth(!0),(e=this.titleTextView).set_viewWidth(-60002),e.set_viewHeight(-60001),this.titleTextView.onLayout(this,$bind(this,this.layoutTitle)),this.columnLayout.add(this.titleTextView),this.subTitleTextView=new A1,this.subTitleTextView.set_align(Ot.LEFT),this.subTitleTextView.set_pointSize(11),this.subTitleTextView.set_preRenderedSize(20),this.subTitleTextView.set_noFitWidth(!0),this.subTitleTextView.set_paddingLeft(1),(e=this.subTitleTextView).set_viewWidth(-60002),e.set_viewHeight(-60001),this.subTitleTextView.text.component("italicText",new Hi),this.subTitleTextView.onLayout(this,$bind(this,this.layoutSubTitle)),this.columnLayout.add(this.subTitleTextView),this.autorun($bind(this,this.updateTitle)),this.autorun($bind(this,this.updateSubTitle)),this.autorun($bind(this,this.updateStyle)),this.autorun($bind(this,this.updateIcons)),this.onPointerOver(this,function(e){n.set_hover(!0)}),this.onPointerOut(this,function(e){n.set_hover(!1)})}),Pi=((E["elements.CellView"]=Ii).__name__="elements.CellView",Ii.__interfaces__=[s],Ii.__super__=Db,Ii.prototype=$extend(Db.prototype,{__cbOnObservedDirty:null,__cbOnceObservedDirty:null,__cbOnOwnerUnbindObservedDirty:null,__cbOnceOwnerUnbindObservedDirty:null,emitObservedDirty:function(e,n){var t=0;if(null!=this.__cbOnObservedDirty&&(t+=this.__cbOnObservedDirty.length),null!=this.__cbOnceObservedDirty&&(t+=this.__cbOnceObservedDirty.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnObservedDirty)for(var r=0,h=this.__cbOnObservedDirty.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnObservedDirty[a],++s):--t}if(null!=this.__cbOnceObservedDirty){for(var o=null,c=null,r=0,h=this.__cbOnceObservedDirty.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceObservedDirty[a],this.__cbOnceObservedDirty[a]=null,u=this.__cbOnceOwnerUnbindObservedDirty[a],(this.__cbOnceOwnerUnbindObservedDirty[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindObservedDirty[a]),c.push(this.__cbOnceObservedDirty[a]))}this.__cbOnceOwnerUnbindObservedDirty=o,this.__cbOnceObservedDirty=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onObservedDirty:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event observedDirty because owner is destroyed!");var l=function(e){null!=t&&(i.offObservedDirty(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push(null);null==this.__cbOnObservedDirty&&(this.__cbOnObservedDirty=[]),this.__cbOnObservedDirty.push(t)},onceObservedDirty:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event observedDirty because owner is destroyed!");var l=function(e){null!=t&&(i.offObservedDirty(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push(null);null==this.__cbOnceObservedDirty&&(this.__cbOnceObservedDirty=[]),this.__cbOnceObservedDirty.push(t)},offObservedDirty:function(e){if(null!=e){var n;null!=this.__cbOnObservedDirty&&-1!=(n=this.__cbOnObservedDirty.indexOf(e))&&(this.__cbOnObservedDirty.splice(n,1),null!=(s=this.__cbOnOwnerUnbindObservedDirty[n])&&s(),this.__cbOnOwnerUnbindObservedDirty.splice(n,1)),null!=this.__cbOnceObservedDirty&&-1!=(n=this.__cbOnceObservedDirty.indexOf(e))&&(this.__cbOnceObservedDirty.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindObservedDirty[n])&&s(),this.__cbOnceOwnerUnbindObservedDirty.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindObservedDirty){for(var t=0,i=this.__cbOnOwnerUnbindObservedDirty.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindObservedDirty[l])&&s()}this.__cbOnOwnerUnbindObservedDirty=null}if(null!=this.__cbOnceOwnerUnbindObservedDirty){for(t=0,i=this.__cbOnceOwnerUnbindObservedDirty.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindObservedDirty[l])&&s()}this.__cbOnceOwnerUnbindObservedDirty=null}this.__cbOnObservedDirty=null,this.__cbOnceObservedDirty=null}},listensObservedDirty:function(){return null!=this.__cbOnObservedDirty&&0<this.__cbOnObservedDirty.length||null!=this.__cbOnceObservedDirty&&0<this.__cbOnceObservedDirty.length},observedDirty:null,themeAutoruns:null,get_theme:function(){var e,n,t=this.unobservedTheme;return null!=A.current&&(e=A.current,null!=(n=this.themeAutoruns)||(n=A.getAutorunArray(),null!=(this.themeAutoruns=n)))&&e.bindToAutorunArray(n),t},set_theme:function(e){var n=this.unobservedTheme;return n!=(this.unobservedTheme=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitThemeChange(e,n),null!=(n=this.themeAutoruns))&&(this.themeAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateTheme:function(){var e=this.unobservedTheme,e=(this.emitThemeChange(e,e),this.themeAutoruns);null!=e&&(this.themeAutoruns=null,A.invalidateAutorunArray(e))},unobservedTheme:null,__cbOnThemeChange:null,__cbOnceThemeChange:null,__cbOnOwnerUnbindThemeChange:null,__cbOnceOwnerUnbindThemeChange:null,emitThemeChange:function(e,n){var t=0;if(null!=this.__cbOnThemeChange&&(t+=this.__cbOnThemeChange.length),null!=this.__cbOnceThemeChange&&(t+=this.__cbOnceThemeChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnThemeChange)for(var r=0,h=this.__cbOnThemeChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnThemeChange[a],++s):--t}if(null!=this.__cbOnceThemeChange){for(var o=null,c=null,r=0,h=this.__cbOnceThemeChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceThemeChange[a],this.__cbOnceThemeChange[a]=null,u=this.__cbOnceOwnerUnbindThemeChange[a],(this.__cbOnceOwnerUnbindThemeChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindThemeChange[a]),c.push(this.__cbOnceThemeChange[a]))}this.__cbOnceOwnerUnbindThemeChange=o,this.__cbOnceThemeChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onThemeChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event themeChange because owner is destroyed!");var l=function(e){null!=t&&(i.offThemeChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindThemeChange&&(this.__cbOnOwnerUnbindThemeChange=[]),this.__cbOnOwnerUnbindThemeChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindThemeChange&&(this.__cbOnOwnerUnbindThemeChange=[]),this.__cbOnOwnerUnbindThemeChange.push(null);null==this.__cbOnThemeChange&&(this.__cbOnThemeChange=[]),this.__cbOnThemeChange.push(t)},onceThemeChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event themeChange because owner is destroyed!");var l=function(e){null!=t&&(i.offThemeChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindThemeChange&&(this.__cbOnceOwnerUnbindThemeChange=[]),this.__cbOnceOwnerUnbindThemeChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindThemeChange&&(this.__cbOnceOwnerUnbindThemeChange=[]),this.__cbOnceOwnerUnbindThemeChange.push(null);null==this.__cbOnceThemeChange&&(this.__cbOnceThemeChange=[]),this.__cbOnceThemeChange.push(t)},offThemeChange:function(e){if(null!=e){var n;null!=this.__cbOnThemeChange&&-1!=(n=this.__cbOnThemeChange.indexOf(e))&&(this.__cbOnThemeChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindThemeChange[n])&&s(),this.__cbOnOwnerUnbindThemeChange.splice(n,1)),null!=this.__cbOnceThemeChange&&-1!=(n=this.__cbOnceThemeChange.indexOf(e))&&(this.__cbOnceThemeChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindThemeChange[n])&&s(),this.__cbOnceOwnerUnbindThemeChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindThemeChange){for(var t=0,i=this.__cbOnOwnerUnbindThemeChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindThemeChange[l])&&s()}this.__cbOnOwnerUnbindThemeChange=null}if(null!=this.__cbOnceOwnerUnbindThemeChange){for(t=0,i=this.__cbOnceOwnerUnbindThemeChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindThemeChange[l])&&s()}this.__cbOnceOwnerUnbindThemeChange=null}this.__cbOnThemeChange=null,this.__cbOnceThemeChange=null}},listensThemeChange:function(){return null!=this.__cbOnThemeChange&&0<this.__cbOnThemeChange.length||null!=this.__cbOnceThemeChange&&0<this.__cbOnceThemeChange.length},selectedAutoruns:null,get_selected:function(){var e,n,t=this.unobservedSelected;return null!=A.current&&(e=A.current,null!=(n=this.selectedAutoruns)||(n=A.getAutorunArray(),null!=(this.selectedAutoruns=n)))&&e.bindToAutorunArray(n),t},set_selected:function(e){var n=this.unobservedSelected;return n!=(this.unobservedSelected=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitSelectedChange(e,n),null!=(n=this.selectedAutoruns))&&(this.selectedAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateSelected:function(){var e=this.unobservedSelected,e=(this.emitSelectedChange(e,e),this.selectedAutoruns);null!=e&&(this.selectedAutoruns=null,A.invalidateAutorunArray(e))},unobservedSelected:null,__cbOnSelectedChange:null,__cbOnceSelectedChange:null,__cbOnOwnerUnbindSelectedChange:null,__cbOnceOwnerUnbindSelectedChange:null,emitSelectedChange:function(e,n){var t=0;if(null!=this.__cbOnSelectedChange&&(t+=this.__cbOnSelectedChange.length),null!=this.__cbOnceSelectedChange&&(t+=this.__cbOnceSelectedChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnSelectedChange)for(var r=0,h=this.__cbOnSelectedChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnSelectedChange[a],++s):--t}if(null!=this.__cbOnceSelectedChange){for(var o=null,c=null,r=0,h=this.__cbOnceSelectedChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceSelectedChange[a],this.__cbOnceSelectedChange[a]=null,u=this.__cbOnceOwnerUnbindSelectedChange[a],(this.__cbOnceOwnerUnbindSelectedChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindSelectedChange[a]),c.push(this.__cbOnceSelectedChange[a]))}this.__cbOnceOwnerUnbindSelectedChange=o,this.__cbOnceSelectedChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onSelectedChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event selectedChange because owner is destroyed!");var l=function(e){null!=t&&(i.offSelectedChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindSelectedChange&&(this.__cbOnOwnerUnbindSelectedChange=[]),this.__cbOnOwnerUnbindSelectedChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindSelectedChange&&(this.__cbOnOwnerUnbindSelectedChange=[]),this.__cbOnOwnerUnbindSelectedChange.push(null);null==this.__cbOnSelectedChange&&(this.__cbOnSelectedChange=[]),this.__cbOnSelectedChange.push(t)},onceSelectedChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event selectedChange because owner is destroyed!");var l=function(e){null!=t&&(i.offSelectedChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindSelectedChange&&(this.__cbOnceOwnerUnbindSelectedChange=[]),this.__cbOnceOwnerUnbindSelectedChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindSelectedChange&&(this.__cbOnceOwnerUnbindSelectedChange=[]),this.__cbOnceOwnerUnbindSelectedChange.push(null);null==this.__cbOnceSelectedChange&&(this.__cbOnceSelectedChange=[]),this.__cbOnceSelectedChange.push(t)},offSelectedChange:function(e){if(null!=e){var n;null!=this.__cbOnSelectedChange&&-1!=(n=this.__cbOnSelectedChange.indexOf(e))&&(this.__cbOnSelectedChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindSelectedChange[n])&&s(),this.__cbOnOwnerUnbindSelectedChange.splice(n,1)),null!=this.__cbOnceSelectedChange&&-1!=(n=this.__cbOnceSelectedChange.indexOf(e))&&(this.__cbOnceSelectedChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindSelectedChange[n])&&s(),this.__cbOnceOwnerUnbindSelectedChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindSelectedChange){for(var t=0,i=this.__cbOnOwnerUnbindSelectedChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindSelectedChange[l])&&s()}this.__cbOnOwnerUnbindSelectedChange=null}if(null!=this.__cbOnceOwnerUnbindSelectedChange){for(t=0,i=this.__cbOnceOwnerUnbindSelectedChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindSelectedChange[l])&&s()}this.__cbOnceOwnerUnbindSelectedChange=null}this.__cbOnSelectedChange=null,this.__cbOnceSelectedChange=null}},listensSelectedChange:function(){return null!=this.__cbOnSelectedChange&&0<this.__cbOnSelectedChange.length||null!=this.__cbOnceSelectedChange&&0<this.__cbOnceSelectedChange.length},titleAutoruns:null,get_title:function(){var e,n,t=this.unobservedTitle;return null!=A.current&&(e=A.current,null!=(n=this.titleAutoruns)||(n=A.getAutorunArray(),null!=(this.titleAutoruns=n)))&&e.bindToAutorunArray(n),t},set_title:function(e){var n=this.unobservedTitle;return n!=(this.unobservedTitle=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitTitleChange(e,n),null!=(n=this.titleAutoruns))&&(this.titleAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateTitle:function(){var e=this.unobservedTitle,e=(this.emitTitleChange(e,e),this.titleAutoruns);null!=e&&(this.titleAutoruns=null,A.invalidateAutorunArray(e))},unobservedTitle:null,__cbOnTitleChange:null,__cbOnceTitleChange:null,__cbOnOwnerUnbindTitleChange:null,__cbOnceOwnerUnbindTitleChange:null,emitTitleChange:function(e,n){var t=0;if(null!=this.__cbOnTitleChange&&(t+=this.__cbOnTitleChange.length),null!=this.__cbOnceTitleChange&&(t+=this.__cbOnceTitleChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnTitleChange)for(var r=0,h=this.__cbOnTitleChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnTitleChange[a],++s):--t}if(null!=this.__cbOnceTitleChange){for(var o=null,c=null,r=0,h=this.__cbOnceTitleChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceTitleChange[a],this.__cbOnceTitleChange[a]=null,u=this.__cbOnceOwnerUnbindTitleChange[a],(this.__cbOnceOwnerUnbindTitleChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindTitleChange[a]),c.push(this.__cbOnceTitleChange[a]))}this.__cbOnceOwnerUnbindTitleChange=o,this.__cbOnceTitleChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onTitleChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event titleChange because owner is destroyed!");var l=function(e){null!=t&&(i.offTitleChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindTitleChange&&(this.__cbOnOwnerUnbindTitleChange=[]),this.__cbOnOwnerUnbindTitleChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindTitleChange&&(this.__cbOnOwnerUnbindTitleChange=[]),this.__cbOnOwnerUnbindTitleChange.push(null);null==this.__cbOnTitleChange&&(this.__cbOnTitleChange=[]),this.__cbOnTitleChange.push(t)},onceTitleChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event titleChange because owner is destroyed!");var l=function(e){null!=t&&(i.offTitleChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindTitleChange&&(this.__cbOnceOwnerUnbindTitleChange=[]),this.__cbOnceOwnerUnbindTitleChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindTitleChange&&(this.__cbOnceOwnerUnbindTitleChange=[]),this.__cbOnceOwnerUnbindTitleChange.push(null);null==this.__cbOnceTitleChange&&(this.__cbOnceTitleChange=[]),this.__cbOnceTitleChange.push(t)},offTitleChange:function(e){if(null!=e){var n;null!=this.__cbOnTitleChange&&-1!=(n=this.__cbOnTitleChange.indexOf(e))&&(this.__cbOnTitleChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindTitleChange[n])&&s(),this.__cbOnOwnerUnbindTitleChange.splice(n,1)),null!=this.__cbOnceTitleChange&&-1!=(n=this.__cbOnceTitleChange.indexOf(e))&&(this.__cbOnceTitleChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindTitleChange[n])&&s(),this.__cbOnceOwnerUnbindTitleChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindTitleChange){for(var t=0,i=this.__cbOnOwnerUnbindTitleChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindTitleChange[l])&&s()}this.__cbOnOwnerUnbindTitleChange=null}if(null!=this.__cbOnceOwnerUnbindTitleChange){for(t=0,i=this.__cbOnceOwnerUnbindTitleChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindTitleChange[l])&&s()}this.__cbOnceOwnerUnbindTitleChange=null}this.__cbOnTitleChange=null,this.__cbOnceTitleChange=null}},listensTitleChange:function(){return null!=this.__cbOnTitleChange&&0<this.__cbOnTitleChange.length||null!=this.__cbOnceTitleChange&&0<this.__cbOnceTitleChange.length},subTitleAutoruns:null,get_subTitle:function(){var e,n,t=this.unobservedSubTitle;return null!=A.current&&(e=A.current,null!=(n=this.subTitleAutoruns)||(n=A.getAutorunArray(),null!=(this.subTitleAutoruns=n)))&&e.bindToAutorunArray(n),t},set_subTitle:function(e){var n=this.unobservedSubTitle;return n!=(this.unobservedSubTitle=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitSubTitleChange(e,n),null!=(n=this.subTitleAutoruns))&&(this.subTitleAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateSubTitle:function(){var e=this.unobservedSubTitle,e=(this.emitSubTitleChange(e,e),this.subTitleAutoruns);null!=e&&(this.subTitleAutoruns=null,A.invalidateAutorunArray(e))},unobservedSubTitle:null,__cbOnSubTitleChange:null,__cbOnceSubTitleChange:null,__cbOnOwnerUnbindSubTitleChange:null,__cbOnceOwnerUnbindSubTitleChange:null,emitSubTitleChange:function(e,n){var t=0;if(null!=this.__cbOnSubTitleChange&&(t+=this.__cbOnSubTitleChange.length),null!=this.__cbOnceSubTitleChange&&(t+=this.__cbOnceSubTitleChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnSubTitleChange)for(var r=0,h=this.__cbOnSubTitleChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnSubTitleChange[a],++s):--t}if(null!=this.__cbOnceSubTitleChange){for(var o=null,c=null,r=0,h=this.__cbOnceSubTitleChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceSubTitleChange[a],this.__cbOnceSubTitleChange[a]=null,u=this.__cbOnceOwnerUnbindSubTitleChange[a],(this.__cbOnceOwnerUnbindSubTitleChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindSubTitleChange[a]),c.push(this.__cbOnceSubTitleChange[a]))}this.__cbOnceOwnerUnbindSubTitleChange=o,this.__cbOnceSubTitleChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onSubTitleChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event subTitleChange because owner is destroyed!");var l=function(e){null!=t&&(i.offSubTitleChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindSubTitleChange&&(this.__cbOnOwnerUnbindSubTitleChange=[]),this.__cbOnOwnerUnbindSubTitleChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindSubTitleChange&&(this.__cbOnOwnerUnbindSubTitleChange=[]),this.__cbOnOwnerUnbindSubTitleChange.push(null);null==this.__cbOnSubTitleChange&&(this.__cbOnSubTitleChange=[]),this.__cbOnSubTitleChange.push(t)},onceSubTitleChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event subTitleChange because owner is destroyed!");var l=function(e){null!=t&&(i.offSubTitleChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindSubTitleChange&&(this.__cbOnceOwnerUnbindSubTitleChange=[]),this.__cbOnceOwnerUnbindSubTitleChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindSubTitleChange&&(this.__cbOnceOwnerUnbindSubTitleChange=[]),this.__cbOnceOwnerUnbindSubTitleChange.push(null);null==this.__cbOnceSubTitleChange&&(this.__cbOnceSubTitleChange=[]),this.__cbOnceSubTitleChange.push(t)},offSubTitleChange:function(e){if(null!=e){var n;null!=this.__cbOnSubTitleChange&&-1!=(n=this.__cbOnSubTitleChange.indexOf(e))&&(this.__cbOnSubTitleChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindSubTitleChange[n])&&s(),this.__cbOnOwnerUnbindSubTitleChange.splice(n,1)),null!=this.__cbOnceSubTitleChange&&-1!=(n=this.__cbOnceSubTitleChange.indexOf(e))&&(this.__cbOnceSubTitleChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindSubTitleChange[n])&&s(),this.__cbOnceOwnerUnbindSubTitleChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindSubTitleChange){for(var t=0,i=this.__cbOnOwnerUnbindSubTitleChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindSubTitleChange[l])&&s()}this.__cbOnOwnerUnbindSubTitleChange=null}if(null!=this.__cbOnceOwnerUnbindSubTitleChange){for(t=0,i=this.__cbOnceOwnerUnbindSubTitleChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindSubTitleChange[l])&&s()}this.__cbOnceOwnerUnbindSubTitleChange=null}this.__cbOnSubTitleChange=null,this.__cbOnceSubTitleChange=null}},listensSubTitleChange:function(){return null!=this.__cbOnSubTitleChange&&0<this.__cbOnSubTitleChange.length||null!=this.__cbOnceSubTitleChange&&0<this.__cbOnceSubTitleChange.length},itemIndexAutoruns:null,get_itemIndex:function(){var e,n,t=this.unobservedItemIndex;return null!=A.current&&(e=A.current,null!=(n=this.itemIndexAutoruns)||(n=A.getAutorunArray(),null!=(this.itemIndexAutoruns=n)))&&e.bindToAutorunArray(n),t},set_itemIndex:function(e){var n=this.unobservedItemIndex;return this.set_unobservedItemIndex(e),n!=e&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitItemIndexChange(e,n),null!=(n=this.itemIndexAutoruns))&&(this.itemIndexAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateItemIndex:function(){var e=this.unobservedItemIndex,e=(this.emitItemIndexChange(e,e),this.itemIndexAutoruns);null!=e&&(this.itemIndexAutoruns=null,A.invalidateAutorunArray(e))},unobservedItemIndex:null,__cbOnItemIndexChange:null,__cbOnceItemIndexChange:null,__cbOnOwnerUnbindItemIndexChange:null,__cbOnceOwnerUnbindItemIndexChange:null,emitItemIndexChange:function(e,n){var t=0;if(null!=this.__cbOnItemIndexChange&&(t+=this.__cbOnItemIndexChange.length),null!=this.__cbOnceItemIndexChange&&(t+=this.__cbOnceItemIndexChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnItemIndexChange)for(var r=0,h=this.__cbOnItemIndexChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnItemIndexChange[a],++s):--t}if(null!=this.__cbOnceItemIndexChange){for(var o=null,c=null,r=0,h=this.__cbOnceItemIndexChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceItemIndexChange[a],this.__cbOnceItemIndexChange[a]=null,u=this.__cbOnceOwnerUnbindItemIndexChange[a],(this.__cbOnceOwnerUnbindItemIndexChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindItemIndexChange[a]),c.push(this.__cbOnceItemIndexChange[a]))}this.__cbOnceOwnerUnbindItemIndexChange=o,this.__cbOnceItemIndexChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onItemIndexChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event itemIndexChange because owner is destroyed!");var l=function(e){null!=t&&(i.offItemIndexChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindItemIndexChange&&(this.__cbOnOwnerUnbindItemIndexChange=[]),this.__cbOnOwnerUnbindItemIndexChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindItemIndexChange&&(this.__cbOnOwnerUnbindItemIndexChange=[]),this.__cbOnOwnerUnbindItemIndexChange.push(null);null==this.__cbOnItemIndexChange&&(this.__cbOnItemIndexChange=[]),this.__cbOnItemIndexChange.push(t)},onceItemIndexChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event itemIndexChange because owner is destroyed!");var l=function(e){null!=t&&(i.offItemIndexChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindItemIndexChange&&(this.__cbOnceOwnerUnbindItemIndexChange=[]),this.__cbOnceOwnerUnbindItemIndexChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindItemIndexChange&&(this.__cbOnceOwnerUnbindItemIndexChange=[]),this.__cbOnceOwnerUnbindItemIndexChange.push(null);null==this.__cbOnceItemIndexChange&&(this.__cbOnceItemIndexChange=[]),this.__cbOnceItemIndexChange.push(t)},offItemIndexChange:function(e){if(null!=e){var n;null!=this.__cbOnItemIndexChange&&-1!=(n=this.__cbOnItemIndexChange.indexOf(e))&&(this.__cbOnItemIndexChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindItemIndexChange[n])&&s(),this.__cbOnOwnerUnbindItemIndexChange.splice(n,1)),null!=this.__cbOnceItemIndexChange&&-1!=(n=this.__cbOnceItemIndexChange.indexOf(e))&&(this.__cbOnceItemIndexChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindItemIndexChange[n])&&s(),this.__cbOnceOwnerUnbindItemIndexChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindItemIndexChange){for(var t=0,i=this.__cbOnOwnerUnbindItemIndexChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindItemIndexChange[l])&&s()}this.__cbOnOwnerUnbindItemIndexChange=null}if(null!=this.__cbOnceOwnerUnbindItemIndexChange){for(t=0,i=this.__cbOnceOwnerUnbindItemIndexChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindItemIndexChange[l])&&s()}this.__cbOnceOwnerUnbindItemIndexChange=null}this.__cbOnItemIndexChange=null,this.__cbOnceItemIndexChange=null}},listensItemIndexChange:function(){return null!=this.__cbOnItemIndexChange&&0<this.__cbOnItemIndexChange.length||null!=this.__cbOnceItemIndexChange&&0<this.__cbOnceItemIndexChange.length},set_unobservedItemIndex:function(e){return this.unobservedItemIndex!=e&&(this.unobservedItemIndex=e,this.set_hover(!1)),e},collectionViewAutoruns:null,get_collectionView:function(){var e,n,t=this.unobservedCollectionView;return null!=A.current&&(e=A.current,null!=(n=this.collectionViewAutoruns)||(n=A.getAutorunArray(),null!=(this.collectionViewAutoruns=n)))&&e.bindToAutorunArray(n),t},set_collectionView:function(e){var n=this.unobservedCollectionView;return n!=(this.unobservedCollectionView=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitCollectionViewChange(e,n),null!=(n=this.collectionViewAutoruns))&&(this.collectionViewAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateCollectionView:function(){var e=this.unobservedCollectionView,e=(this.emitCollectionViewChange(e,e),this.collectionViewAutoruns);null!=e&&(this.collectionViewAutoruns=null,A.invalidateAutorunArray(e))},unobservedCollectionView:null,__cbOnCollectionViewChange:null,__cbOnceCollectionViewChange:null,__cbOnOwnerUnbindCollectionViewChange:null,__cbOnceOwnerUnbindCollectionViewChange:null,emitCollectionViewChange:function(e,n){var t=0;if(null!=this.__cbOnCollectionViewChange&&(t+=this.__cbOnCollectionViewChange.length),null!=this.__cbOnceCollectionViewChange&&(t+=this.__cbOnceCollectionViewChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnCollectionViewChange)for(var r=0,h=this.__cbOnCollectionViewChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnCollectionViewChange[a],++s):--t}if(null!=this.__cbOnceCollectionViewChange){for(var o=null,c=null,r=0,h=this.__cbOnceCollectionViewChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceCollectionViewChange[a],this.__cbOnceCollectionViewChange[a]=null,u=this.__cbOnceOwnerUnbindCollectionViewChange[a],(this.__cbOnceOwnerUnbindCollectionViewChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindCollectionViewChange[a]),c.push(this.__cbOnceCollectionViewChange[a]))}this.__cbOnceOwnerUnbindCollectionViewChange=o,this.__cbOnceCollectionViewChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onCollectionViewChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event collectionViewChange because owner is destroyed!");var l=function(e){null!=t&&(i.offCollectionViewChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindCollectionViewChange&&(this.__cbOnOwnerUnbindCollectionViewChange=[]),this.__cbOnOwnerUnbindCollectionViewChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindCollectionViewChange&&(this.__cbOnOwnerUnbindCollectionViewChange=[]),this.__cbOnOwnerUnbindCollectionViewChange.push(null);null==this.__cbOnCollectionViewChange&&(this.__cbOnCollectionViewChange=[]),this.__cbOnCollectionViewChange.push(t)},onceCollectionViewChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event collectionViewChange because owner is destroyed!");var l=function(e){null!=t&&(i.offCollectionViewChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindCollectionViewChange&&(this.__cbOnceOwnerUnbindCollectionViewChange=[]),this.__cbOnceOwnerUnbindCollectionViewChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindCollectionViewChange&&(this.__cbOnceOwnerUnbindCollectionViewChange=[]),this.__cbOnceOwnerUnbindCollectionViewChange.push(null);null==this.__cbOnceCollectionViewChange&&(this.__cbOnceCollectionViewChange=[]),this.__cbOnceCollectionViewChange.push(t)},offCollectionViewChange:function(e){if(null!=e){var n;null!=this.__cbOnCollectionViewChange&&-1!=(n=this.__cbOnCollectionViewChange.indexOf(e))&&(this.__cbOnCollectionViewChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindCollectionViewChange[n])&&s(),this.__cbOnOwnerUnbindCollectionViewChange.splice(n,1)),null!=this.__cbOnceCollectionViewChange&&-1!=(n=this.__cbOnceCollectionViewChange.indexOf(e))&&(this.__cbOnceCollectionViewChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindCollectionViewChange[n])&&s(),this.__cbOnceOwnerUnbindCollectionViewChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindCollectionViewChange){for(var t=0,i=this.__cbOnOwnerUnbindCollectionViewChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindCollectionViewChange[l])&&s()}this.__cbOnOwnerUnbindCollectionViewChange=null}if(null!=this.__cbOnceOwnerUnbindCollectionViewChange){for(t=0,i=this.__cbOnceOwnerUnbindCollectionViewChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindCollectionViewChange[l])&&s()}this.__cbOnceOwnerUnbindCollectionViewChange=null}this.__cbOnCollectionViewChange=null,this.__cbOnceCollectionViewChange=null}},listensCollectionViewChange:function(){return null!=this.__cbOnCollectionViewChange&&0<this.__cbOnCollectionViewChange.length||null!=this.__cbOnceCollectionViewChange&&0<this.__cbOnceCollectionViewChange.length},inputStyleAutoruns:null,get_inputStyle:function(){var e,n,t=this.unobservedInputStyle;return null!=A.current&&(e=A.current,null!=(n=this.inputStyleAutoruns)||(n=A.getAutorunArray(),null!=(this.inputStyleAutoruns=n)))&&e.bindToAutorunArray(n),t},set_inputStyle:function(e){var n=this.unobservedInputStyle;return n!=(this.unobservedInputStyle=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitInputStyleChange(e,n),null!=(n=this.inputStyleAutoruns))&&(this.inputStyleAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateInputStyle:function(){var e=this.unobservedInputStyle,e=(this.emitInputStyleChange(e,e),this.inputStyleAutoruns);null!=e&&(this.inputStyleAutoruns=null,A.invalidateAutorunArray(e))},unobservedInputStyle:null,__cbOnInputStyleChange:null,__cbOnceInputStyleChange:null,__cbOnOwnerUnbindInputStyleChange:null,__cbOnceOwnerUnbindInputStyleChange:null,emitInputStyleChange:function(e,n){var t=0;if(null!=this.__cbOnInputStyleChange&&(t+=this.__cbOnInputStyleChange.length),null!=this.__cbOnceInputStyleChange&&(t+=this.__cbOnceInputStyleChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnInputStyleChange)for(var r=0,h=this.__cbOnInputStyleChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnInputStyleChange[a],++s):--t}if(null!=this.__cbOnceInputStyleChange){for(var o=null,c=null,r=0,h=this.__cbOnceInputStyleChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceInputStyleChange[a],this.__cbOnceInputStyleChange[a]=null,u=this.__cbOnceOwnerUnbindInputStyleChange[a],(this.__cbOnceOwnerUnbindInputStyleChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindInputStyleChange[a]),c.push(this.__cbOnceInputStyleChange[a]))}this.__cbOnceOwnerUnbindInputStyleChange=o,this.__cbOnceInputStyleChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onInputStyleChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event inputStyleChange because owner is destroyed!");var l=function(e){null!=t&&(i.offInputStyleChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindInputStyleChange&&(this.__cbOnOwnerUnbindInputStyleChange=[]),this.__cbOnOwnerUnbindInputStyleChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindInputStyleChange&&(this.__cbOnOwnerUnbindInputStyleChange=[]),this.__cbOnOwnerUnbindInputStyleChange.push(null);null==this.__cbOnInputStyleChange&&(this.__cbOnInputStyleChange=[]),this.__cbOnInputStyleChange.push(t)},onceInputStyleChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event inputStyleChange because owner is destroyed!");var l=function(e){null!=t&&(i.offInputStyleChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindInputStyleChange&&(this.__cbOnceOwnerUnbindInputStyleChange=[]),this.__cbOnceOwnerUnbindInputStyleChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindInputStyleChange&&(this.__cbOnceOwnerUnbindInputStyleChange=[]),this.__cbOnceOwnerUnbindInputStyleChange.push(null);null==this.__cbOnceInputStyleChange&&(this.__cbOnceInputStyleChange=[]),this.__cbOnceInputStyleChange.push(t)},offInputStyleChange:function(e){if(null!=e){var n;null!=this.__cbOnInputStyleChange&&-1!=(n=this.__cbOnInputStyleChange.indexOf(e))&&(this.__cbOnInputStyleChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindInputStyleChange[n])&&s(),this.__cbOnOwnerUnbindInputStyleChange.splice(n,1)),null!=this.__cbOnceInputStyleChange&&-1!=(n=this.__cbOnceInputStyleChange.indexOf(e))&&(this.__cbOnceInputStyleChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindInputStyleChange[n])&&s(),this.__cbOnceOwnerUnbindInputStyleChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindInputStyleChange){for(var t=0,i=this.__cbOnOwnerUnbindInputStyleChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindInputStyleChange[l])&&s()}this.__cbOnOwnerUnbindInputStyleChange=null}if(null!=this.__cbOnceOwnerUnbindInputStyleChange){for(t=0,i=this.__cbOnceOwnerUnbindInputStyleChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindInputStyleChange[l])&&s()}this.__cbOnceOwnerUnbindInputStyleChange=null}this.__cbOnInputStyleChange=null,this.__cbOnceInputStyleChange=null}},listensInputStyleChange:function(){return null!=this.__cbOnInputStyleChange&&0<this.__cbOnInputStyleChange.length||null!=this.__cbOnceInputStyleChange&&0<this.__cbOnceInputStyleChange.length},displaysEmptyValueAutoruns:null,get_displaysEmptyValue:function(){var e,n,t=this.unobservedDisplaysEmptyValue;return null!=A.current&&(e=A.current,null!=(n=this.displaysEmptyValueAutoruns)||(n=A.getAutorunArray(),null!=(this.displaysEmptyValueAutoruns=n)))&&e.bindToAutorunArray(n),t},set_displaysEmptyValue:function(e){var n=this.unobservedDisplaysEmptyValue;return n!=(this.unobservedDisplaysEmptyValue=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitDisplaysEmptyValueChange(e,n),null!=(n=this.displaysEmptyValueAutoruns))&&(this.displaysEmptyValueAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateDisplaysEmptyValue:function(){var e=this.unobservedDisplaysEmptyValue,e=(this.emitDisplaysEmptyValueChange(e,e),this.displaysEmptyValueAutoruns);null!=e&&(this.displaysEmptyValueAutoruns=null,A.invalidateAutorunArray(e))},unobservedDisplaysEmptyValue:null,__cbOnDisplaysEmptyValueChange:null,__cbOnceDisplaysEmptyValueChange:null,__cbOnOwnerUnbindDisplaysEmptyValueChange:null,__cbOnceOwnerUnbindDisplaysEmptyValueChange:null,emitDisplaysEmptyValueChange:function(e,n){var t=0;if(null!=this.__cbOnDisplaysEmptyValueChange&&(t+=this.__cbOnDisplaysEmptyValueChange.length),null!=this.__cbOnceDisplaysEmptyValueChange&&(t+=this.__cbOnceDisplaysEmptyValueChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnDisplaysEmptyValueChange)for(var r=0,h=this.__cbOnDisplaysEmptyValueChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnDisplaysEmptyValueChange[a],++s):--t}if(null!=this.__cbOnceDisplaysEmptyValueChange){for(var o=null,c=null,r=0,h=this.__cbOnceDisplaysEmptyValueChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceDisplaysEmptyValueChange[a],this.__cbOnceDisplaysEmptyValueChange[a]=null,u=this.__cbOnceOwnerUnbindDisplaysEmptyValueChange[a],(this.__cbOnceOwnerUnbindDisplaysEmptyValueChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindDisplaysEmptyValueChange[a]),c.push(this.__cbOnceDisplaysEmptyValueChange[a]))}this.__cbOnceOwnerUnbindDisplaysEmptyValueChange=o,this.__cbOnceDisplaysEmptyValueChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onDisplaysEmptyValueChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event displaysEmptyValueChange because owner is destroyed!");var l=function(e){null!=t&&(i.offDisplaysEmptyValueChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindDisplaysEmptyValueChange&&(this.__cbOnOwnerUnbindDisplaysEmptyValueChange=[]),this.__cbOnOwnerUnbindDisplaysEmptyValueChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindDisplaysEmptyValueChange&&(this.__cbOnOwnerUnbindDisplaysEmptyValueChange=[]),this.__cbOnOwnerUnbindDisplaysEmptyValueChange.push(null);null==this.__cbOnDisplaysEmptyValueChange&&(this.__cbOnDisplaysEmptyValueChange=[]),this.__cbOnDisplaysEmptyValueChange.push(t)},onceDisplaysEmptyValueChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event displaysEmptyValueChange because owner is destroyed!");var l=function(e){null!=t&&(i.offDisplaysEmptyValueChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindDisplaysEmptyValueChange&&(this.__cbOnceOwnerUnbindDisplaysEmptyValueChange=[]),this.__cbOnceOwnerUnbindDisplaysEmptyValueChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindDisplaysEmptyValueChange&&(this.__cbOnceOwnerUnbindDisplaysEmptyValueChange=[]),this.__cbOnceOwnerUnbindDisplaysEmptyValueChange.push(null);null==this.__cbOnceDisplaysEmptyValueChange&&(this.__cbOnceDisplaysEmptyValueChange=[]),this.__cbOnceDisplaysEmptyValueChange.push(t)},offDisplaysEmptyValueChange:function(e){if(null!=e){var n;null!=this.__cbOnDisplaysEmptyValueChange&&-1!=(n=this.__cbOnDisplaysEmptyValueChange.indexOf(e))&&(this.__cbOnDisplaysEmptyValueChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindDisplaysEmptyValueChange[n])&&s(),this.__cbOnOwnerUnbindDisplaysEmptyValueChange.splice(n,1)),null!=this.__cbOnceDisplaysEmptyValueChange&&-1!=(n=this.__cbOnceDisplaysEmptyValueChange.indexOf(e))&&(this.__cbOnceDisplaysEmptyValueChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindDisplaysEmptyValueChange[n])&&s(),this.__cbOnceOwnerUnbindDisplaysEmptyValueChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindDisplaysEmptyValueChange){for(var t=0,i=this.__cbOnOwnerUnbindDisplaysEmptyValueChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindDisplaysEmptyValueChange[l])&&s()}this.__cbOnOwnerUnbindDisplaysEmptyValueChange=null}if(null!=this.__cbOnceOwnerUnbindDisplaysEmptyValueChange){for(t=0,i=this.__cbOnceOwnerUnbindDisplaysEmptyValueChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindDisplaysEmptyValueChange[l])&&s()}this.__cbOnceOwnerUnbindDisplaysEmptyValueChange=null}this.__cbOnDisplaysEmptyValueChange=null,this.__cbOnceDisplaysEmptyValueChange=null}},listensDisplaysEmptyValueChange:function(){return null!=this.__cbOnDisplaysEmptyValueChange&&0<this.__cbOnDisplaysEmptyValueChange.length||null!=this.__cbOnceDisplaysEmptyValueChange&&0<this.__cbOnceDisplaysEmptyValueChange.length},lockedAutoruns:null,get_locked:function(){var e,n,t=this.unobservedLocked;return null!=A.current&&(e=A.current,null!=(n=this.lockedAutoruns)||(n=A.getAutorunArray(),null!=(this.lockedAutoruns=n)))&&e.bindToAutorunArray(n),t},set_locked:function(e){var n=this.unobservedLocked;return n!=(this.unobservedLocked=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitLockedChange(e,n),null!=(n=this.lockedAutoruns))&&(this.lockedAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateLocked:function(){var e=this.unobservedLocked,e=(this.emitLockedChange(e,e),this.lockedAutoruns);null!=e&&(this.lockedAutoruns=null,A.invalidateAutorunArray(e))},unobservedLocked:null,__cbOnLockedChange:null,__cbOnceLockedChange:null,__cbOnOwnerUnbindLockedChange:null,__cbOnceOwnerUnbindLockedChange:null,emitLockedChange:function(e,n){var t=0;if(null!=this.__cbOnLockedChange&&(t+=this.__cbOnLockedChange.length),null!=this.__cbOnceLockedChange&&(t+=this.__cbOnceLockedChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnLockedChange)for(var r=0,h=this.__cbOnLockedChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnLockedChange[a],++s):--t}if(null!=this.__cbOnceLockedChange){for(var o=null,c=null,r=0,h=this.__cbOnceLockedChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceLockedChange[a],this.__cbOnceLockedChange[a]=null,u=this.__cbOnceOwnerUnbindLockedChange[a],(this.__cbOnceOwnerUnbindLockedChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindLockedChange[a]),c.push(this.__cbOnceLockedChange[a]))}this.__cbOnceOwnerUnbindLockedChange=o,this.__cbOnceLockedChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onLockedChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event lockedChange because owner is destroyed!");var l=function(e){null!=t&&(i.offLockedChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindLockedChange&&(this.__cbOnOwnerUnbindLockedChange=[]),this.__cbOnOwnerUnbindLockedChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindLockedChange&&(this.__cbOnOwnerUnbindLockedChange=[]),this.__cbOnOwnerUnbindLockedChange.push(null);null==this.__cbOnLockedChange&&(this.__cbOnLockedChange=[]),this.__cbOnLockedChange.push(t)},onceLockedChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event lockedChange because owner is destroyed!");var l=function(e){null!=t&&(i.offLockedChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindLockedChange&&(this.__cbOnceOwnerUnbindLockedChange=[]),this.__cbOnceOwnerUnbindLockedChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindLockedChange&&(this.__cbOnceOwnerUnbindLockedChange=[]),this.__cbOnceOwnerUnbindLockedChange.push(null);null==this.__cbOnceLockedChange&&(this.__cbOnceLockedChange=[]),this.__cbOnceLockedChange.push(t)},offLockedChange:function(e){if(null!=e){var n;null!=this.__cbOnLockedChange&&-1!=(n=this.__cbOnLockedChange.indexOf(e))&&(this.__cbOnLockedChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindLockedChange[n])&&s(),this.__cbOnOwnerUnbindLockedChange.splice(n,1)),null!=this.__cbOnceLockedChange&&-1!=(n=this.__cbOnceLockedChange.indexOf(e))&&(this.__cbOnceLockedChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindLockedChange[n])&&s(),this.__cbOnceOwnerUnbindLockedChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindLockedChange){for(var t=0,i=this.__cbOnOwnerUnbindLockedChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindLockedChange[l])&&s()}this.__cbOnOwnerUnbindLockedChange=null}if(null!=this.__cbOnceOwnerUnbindLockedChange){for(t=0,i=this.__cbOnceOwnerUnbindLockedChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindLockedChange[l])&&s()}this.__cbOnceOwnerUnbindLockedChange=null}this.__cbOnLockedChange=null,this.__cbOnceLockedChange=null}},listensLockedChange:function(){return null!=this.__cbOnLockedChange&&0<this.__cbOnLockedChange.length||null!=this.__cbOnceLockedChange&&0<this.__cbOnceLockedChange.length},kindIconAutoruns:null,get_kindIcon:function(){var e,n,t=this.unobservedKindIcon;return null!=A.current&&(e=A.current,null!=(n=this.kindIconAutoruns)||(n=A.getAutorunArray(),null!=(this.kindIconAutoruns=n)))&&e.bindToAutorunArray(n),t},set_kindIcon:function(e){var n=this.unobservedKindIcon;return n!=(this.unobservedKindIcon=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitKindIconChange(e,n),null!=(n=this.kindIconAutoruns))&&(this.kindIconAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateKindIcon:function(){var e=this.unobservedKindIcon,e=(this.emitKindIconChange(e,e),this.kindIconAutoruns);null!=e&&(this.kindIconAutoruns=null,A.invalidateAutorunArray(e))},unobservedKindIcon:null,__cbOnKindIconChange:null,__cbOnceKindIconChange:null,__cbOnOwnerUnbindKindIconChange:null,__cbOnceOwnerUnbindKindIconChange:null,emitKindIconChange:function(e,n){var t=0;if(null!=this.__cbOnKindIconChange&&(t+=this.__cbOnKindIconChange.length),null!=this.__cbOnceKindIconChange&&(t+=this.__cbOnceKindIconChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnKindIconChange)for(var r=0,h=this.__cbOnKindIconChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnKindIconChange[a],++s):--t}if(null!=this.__cbOnceKindIconChange){for(var o=null,c=null,r=0,h=this.__cbOnceKindIconChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceKindIconChange[a],this.__cbOnceKindIconChange[a]=null,u=this.__cbOnceOwnerUnbindKindIconChange[a],(this.__cbOnceOwnerUnbindKindIconChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindKindIconChange[a]),c.push(this.__cbOnceKindIconChange[a]))}this.__cbOnceOwnerUnbindKindIconChange=o,this.__cbOnceKindIconChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onKindIconChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event kindIconChange because owner is destroyed!");var l=function(e){null!=t&&(i.offKindIconChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindKindIconChange&&(this.__cbOnOwnerUnbindKindIconChange=[]),this.__cbOnOwnerUnbindKindIconChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindKindIconChange&&(this.__cbOnOwnerUnbindKindIconChange=[]),this.__cbOnOwnerUnbindKindIconChange.push(null);null==this.__cbOnKindIconChange&&(this.__cbOnKindIconChange=[]),this.__cbOnKindIconChange.push(t)},onceKindIconChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event kindIconChange because owner is destroyed!");var l=function(e){null!=t&&(i.offKindIconChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindKindIconChange&&(this.__cbOnceOwnerUnbindKindIconChange=[]),this.__cbOnceOwnerUnbindKindIconChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindKindIconChange&&(this.__cbOnceOwnerUnbindKindIconChange=[]),this.__cbOnceOwnerUnbindKindIconChange.push(null);null==this.__cbOnceKindIconChange&&(this.__cbOnceKindIconChange=[]),this.__cbOnceKindIconChange.push(t)},offKindIconChange:function(e){if(null!=e){var n;null!=this.__cbOnKindIconChange&&-1!=(n=this.__cbOnKindIconChange.indexOf(e))&&(this.__cbOnKindIconChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindKindIconChange[n])&&s(),this.__cbOnOwnerUnbindKindIconChange.splice(n,1)),null!=this.__cbOnceKindIconChange&&-1!=(n=this.__cbOnceKindIconChange.indexOf(e))&&(this.__cbOnceKindIconChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindKindIconChange[n])&&s(),this.__cbOnceOwnerUnbindKindIconChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindKindIconChange){for(var t=0,i=this.__cbOnOwnerUnbindKindIconChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindKindIconChange[l])&&s()}this.__cbOnOwnerUnbindKindIconChange=null}if(null!=this.__cbOnceOwnerUnbindKindIconChange){for(t=0,i=this.__cbOnceOwnerUnbindKindIconChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindKindIconChange[l])&&s()}this.__cbOnceOwnerUnbindKindIconChange=null}this.__cbOnKindIconChange=null,this.__cbOnceKindIconChange=null}},listensKindIconChange:function(){return null!=this.__cbOnKindIconChange&&0<this.__cbOnKindIconChange.length||null!=this.__cbOnceKindIconChange&&0<this.__cbOnceKindIconChange.length},handleTrashAutoruns:null,get_handleTrash:function(){var e,n,t=this.unobservedHandleTrash;return null!=A.current&&(e=A.current,null!=(n=this.handleTrashAutoruns)||(n=A.getAutorunArray(),null!=(this.handleTrashAutoruns=n)))&&e.bindToAutorunArray(n),t},set_handleTrash:function(e){var n=this.unobservedHandleTrash;return this.unobservedHandleTrash=e,Ds.equalAny(n,e)||(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitHandleTrashChange(e,n),null!=(n=this.handleTrashAutoruns)&&(this.handleTrashAutoruns=null,A.invalidateAutorunArray(n))),e},invalidateHandleTrash:function(){var e=this.unobservedHandleTrash,e=(this.emitHandleTrashChange(e,e),this.handleTrashAutoruns);null!=e&&(this.handleTrashAutoruns=null,A.invalidateAutorunArray(e))},unobservedHandleTrash:null,__cbOnHandleTrashChange:null,__cbOnceHandleTrashChange:null,__cbOnOwnerUnbindHandleTrashChange:null,__cbOnceOwnerUnbindHandleTrashChange:null,emitHandleTrashChange:function(e,n){var t=0;if(null!=this.__cbOnHandleTrashChange&&(t+=this.__cbOnHandleTrashChange.length),null!=this.__cbOnceHandleTrashChange&&(t+=this.__cbOnceHandleTrashChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnHandleTrashChange)for(var r=0,h=this.__cbOnHandleTrashChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnHandleTrashChange[a],++s):--t}if(null!=this.__cbOnceHandleTrashChange){for(var o=null,c=null,r=0,h=this.__cbOnceHandleTrashChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceHandleTrashChange[a],this.__cbOnceHandleTrashChange[a]=null,u=this.__cbOnceOwnerUnbindHandleTrashChange[a],(this.__cbOnceOwnerUnbindHandleTrashChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindHandleTrashChange[a]),c.push(this.__cbOnceHandleTrashChange[a]))}this.__cbOnceOwnerUnbindHandleTrashChange=o,this.__cbOnceHandleTrashChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onHandleTrashChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event handleTrashChange because owner is destroyed!");var l=function(e){null!=t&&(i.offHandleTrashChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindHandleTrashChange&&(this.__cbOnOwnerUnbindHandleTrashChange=[]),this.__cbOnOwnerUnbindHandleTrashChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindHandleTrashChange&&(this.__cbOnOwnerUnbindHandleTrashChange=[]),this.__cbOnOwnerUnbindHandleTrashChange.push(null);null==this.__cbOnHandleTrashChange&&(this.__cbOnHandleTrashChange=[]),this.__cbOnHandleTrashChange.push(t)},onceHandleTrashChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event handleTrashChange because owner is destroyed!");var l=function(e){null!=t&&(i.offHandleTrashChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindHandleTrashChange&&(this.__cbOnceOwnerUnbindHandleTrashChange=[]),this.__cbOnceOwnerUnbindHandleTrashChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindHandleTrashChange&&(this.__cbOnceOwnerUnbindHandleTrashChange=[]),this.__cbOnceOwnerUnbindHandleTrashChange.push(null);null==this.__cbOnceHandleTrashChange&&(this.__cbOnceHandleTrashChange=[]),this.__cbOnceHandleTrashChange.push(t)},offHandleTrashChange:function(e){if(null!=e){var n;null!=this.__cbOnHandleTrashChange&&-1!=(n=this.__cbOnHandleTrashChange.indexOf(e))&&(this.__cbOnHandleTrashChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindHandleTrashChange[n])&&s(),this.__cbOnOwnerUnbindHandleTrashChange.splice(n,1)),null!=this.__cbOnceHandleTrashChange&&-1!=(n=this.__cbOnceHandleTrashChange.indexOf(e))&&(this.__cbOnceHandleTrashChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindHandleTrashChange[n])&&s(),this.__cbOnceOwnerUnbindHandleTrashChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindHandleTrashChange){for(var t=0,i=this.__cbOnOwnerUnbindHandleTrashChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindHandleTrashChange[l])&&s()}this.__cbOnOwnerUnbindHandleTrashChange=null}if(null!=this.__cbOnceOwnerUnbindHandleTrashChange){for(t=0,i=this.__cbOnceOwnerUnbindHandleTrashChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindHandleTrashChange[l])&&s()}this.__cbOnceOwnerUnbindHandleTrashChange=null}this.__cbOnHandleTrashChange=null,this.__cbOnceHandleTrashChange=null}},listensHandleTrashChange:function(){return null!=this.__cbOnHandleTrashChange&&0<this.__cbOnHandleTrashChange.length||null!=this.__cbOnceHandleTrashChange&&0<this.__cbOnceHandleTrashChange.length},handleLockAutoruns:null,get_handleLock:function(){var e,n,t=this.unobservedHandleLock;return null!=A.current&&(e=A.current,null!=(n=this.handleLockAutoruns)||(n=A.getAutorunArray(),null!=(this.handleLockAutoruns=n)))&&e.bindToAutorunArray(n),t},set_handleLock:function(e){var n=this.unobservedHandleLock;return this.unobservedHandleLock=e,Ds.equalAny(n,e)||(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitHandleLockChange(e,n),null!=(n=this.handleLockAutoruns)&&(this.handleLockAutoruns=null,A.invalidateAutorunArray(n))),e},invalidateHandleLock:function(){var e=this.unobservedHandleLock,e=(this.emitHandleLockChange(e,e),this.handleLockAutoruns);null!=e&&(this.handleLockAutoruns=null,A.invalidateAutorunArray(e))},unobservedHandleLock:null,__cbOnHandleLockChange:null,__cbOnceHandleLockChange:null,__cbOnOwnerUnbindHandleLockChange:null,__cbOnceOwnerUnbindHandleLockChange:null,emitHandleLockChange:function(e,n){var t=0;if(null!=this.__cbOnHandleLockChange&&(t+=this.__cbOnHandleLockChange.length),null!=this.__cbOnceHandleLockChange&&(t+=this.__cbOnceHandleLockChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnHandleLockChange)for(var r=0,h=this.__cbOnHandleLockChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnHandleLockChange[a],++s):--t}if(null!=this.__cbOnceHandleLockChange){for(var o=null,c=null,r=0,h=this.__cbOnceHandleLockChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceHandleLockChange[a],this.__cbOnceHandleLockChange[a]=null,u=this.__cbOnceOwnerUnbindHandleLockChange[a],(this.__cbOnceOwnerUnbindHandleLockChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindHandleLockChange[a]),c.push(this.__cbOnceHandleLockChange[a]))}this.__cbOnceOwnerUnbindHandleLockChange=o,this.__cbOnceHandleLockChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onHandleLockChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event handleLockChange because owner is destroyed!");var l=function(e){null!=t&&(i.offHandleLockChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindHandleLockChange&&(this.__cbOnOwnerUnbindHandleLockChange=[]),this.__cbOnOwnerUnbindHandleLockChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindHandleLockChange&&(this.__cbOnOwnerUnbindHandleLockChange=[]),this.__cbOnOwnerUnbindHandleLockChange.push(null);null==this.__cbOnHandleLockChange&&(this.__cbOnHandleLockChange=[]),this.__cbOnHandleLockChange.push(t)},onceHandleLockChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event handleLockChange because owner is destroyed!");var l=function(e){null!=t&&(i.offHandleLockChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindHandleLockChange&&(this.__cbOnceOwnerUnbindHandleLockChange=[]),this.__cbOnceOwnerUnbindHandleLockChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindHandleLockChange&&(this.__cbOnceOwnerUnbindHandleLockChange=[]),this.__cbOnceOwnerUnbindHandleLockChange.push(null);null==this.__cbOnceHandleLockChange&&(this.__cbOnceHandleLockChange=[]),this.__cbOnceHandleLockChange.push(t)},offHandleLockChange:function(e){if(null!=e){var n;null!=this.__cbOnHandleLockChange&&-1!=(n=this.__cbOnHandleLockChange.indexOf(e))&&(this.__cbOnHandleLockChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindHandleLockChange[n])&&s(),this.__cbOnOwnerUnbindHandleLockChange.splice(n,1)),null!=this.__cbOnceHandleLockChange&&-1!=(n=this.__cbOnceHandleLockChange.indexOf(e))&&(this.__cbOnceHandleLockChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindHandleLockChange[n])&&s(),this.__cbOnceOwnerUnbindHandleLockChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindHandleLockChange){for(var t=0,i=this.__cbOnOwnerUnbindHandleLockChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindHandleLockChange[l])&&s()}this.__cbOnOwnerUnbindHandleLockChange=null}if(null!=this.__cbOnceOwnerUnbindHandleLockChange){for(t=0,i=this.__cbOnceOwnerUnbindHandleLockChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindHandleLockChange[l])&&s()}this.__cbOnceOwnerUnbindHandleLockChange=null}this.__cbOnHandleLockChange=null,this.__cbOnceHandleLockChange=null}},listensHandleLockChange:function(){return null!=this.__cbOnHandleLockChange&&0<this.__cbOnHandleLockChange.length||null!=this.__cbOnceHandleLockChange&&0<this.__cbOnceHandleLockChange.length},handleDuplicateAutoruns:null,get_handleDuplicate:function(){var e,n,t=this.unobservedHandleDuplicate;return null!=A.current&&(e=A.current,null!=(n=this.handleDuplicateAutoruns)||(n=A.getAutorunArray(),null!=(this.handleDuplicateAutoruns=n)))&&e.bindToAutorunArray(n),t},set_handleDuplicate:function(e){var n=this.unobservedHandleDuplicate;return this.unobservedHandleDuplicate=e,Ds.equalAny(n,e)||(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitHandleDuplicateChange(e,n),null!=(n=this.handleDuplicateAutoruns)&&(this.handleDuplicateAutoruns=null,A.invalidateAutorunArray(n))),e},invalidateHandleDuplicate:function(){var e=this.unobservedHandleDuplicate,e=(this.emitHandleDuplicateChange(e,e),this.handleDuplicateAutoruns);null!=e&&(this.handleDuplicateAutoruns=null,A.invalidateAutorunArray(e))},unobservedHandleDuplicate:null,__cbOnHandleDuplicateChange:null,__cbOnceHandleDuplicateChange:null,__cbOnOwnerUnbindHandleDuplicateChange:null,__cbOnceOwnerUnbindHandleDuplicateChange:null,emitHandleDuplicateChange:function(e,n){var t=0;if(null!=this.__cbOnHandleDuplicateChange&&(t+=this.__cbOnHandleDuplicateChange.length),null!=this.__cbOnceHandleDuplicateChange&&(t+=this.__cbOnceHandleDuplicateChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnHandleDuplicateChange)for(var r=0,h=this.__cbOnHandleDuplicateChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnHandleDuplicateChange[a],++s):--t}if(null!=this.__cbOnceHandleDuplicateChange){for(var o=null,c=null,r=0,h=this.__cbOnceHandleDuplicateChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceHandleDuplicateChange[a],this.__cbOnceHandleDuplicateChange[a]=null,u=this.__cbOnceOwnerUnbindHandleDuplicateChange[a],(this.__cbOnceOwnerUnbindHandleDuplicateChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindHandleDuplicateChange[a]),c.push(this.__cbOnceHandleDuplicateChange[a]))}this.__cbOnceOwnerUnbindHandleDuplicateChange=o,this.__cbOnceHandleDuplicateChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onHandleDuplicateChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event handleDuplicateChange because owner is destroyed!");var l=function(e){null!=t&&(i.offHandleDuplicateChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindHandleDuplicateChange&&(this.__cbOnOwnerUnbindHandleDuplicateChange=[]),this.__cbOnOwnerUnbindHandleDuplicateChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindHandleDuplicateChange&&(this.__cbOnOwnerUnbindHandleDuplicateChange=[]),this.__cbOnOwnerUnbindHandleDuplicateChange.push(null);null==this.__cbOnHandleDuplicateChange&&(this.__cbOnHandleDuplicateChange=[]),this.__cbOnHandleDuplicateChange.push(t)},onceHandleDuplicateChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event handleDuplicateChange because owner is destroyed!");var l=function(e){null!=t&&(i.offHandleDuplicateChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindHandleDuplicateChange&&(this.__cbOnceOwnerUnbindHandleDuplicateChange=[]),this.__cbOnceOwnerUnbindHandleDuplicateChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindHandleDuplicateChange&&(this.__cbOnceOwnerUnbindHandleDuplicateChange=[]),this.__cbOnceOwnerUnbindHandleDuplicateChange.push(null);null==this.__cbOnceHandleDuplicateChange&&(this.__cbOnceHandleDuplicateChange=[]),this.__cbOnceHandleDuplicateChange.push(t)},offHandleDuplicateChange:function(e){if(null!=e){var n;null!=this.__cbOnHandleDuplicateChange&&-1!=(n=this.__cbOnHandleDuplicateChange.indexOf(e))&&(this.__cbOnHandleDuplicateChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindHandleDuplicateChange[n])&&s(),this.__cbOnOwnerUnbindHandleDuplicateChange.splice(n,1)),null!=this.__cbOnceHandleDuplicateChange&&-1!=(n=this.__cbOnceHandleDuplicateChange.indexOf(e))&&(this.__cbOnceHandleDuplicateChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindHandleDuplicateChange[n])&&s(),this.__cbOnceOwnerUnbindHandleDuplicateChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindHandleDuplicateChange){for(var t=0,i=this.__cbOnOwnerUnbindHandleDuplicateChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindHandleDuplicateChange[l])&&s()}this.__cbOnOwnerUnbindHandleDuplicateChange=null}if(null!=this.__cbOnceOwnerUnbindHandleDuplicateChange){for(t=0,i=this.__cbOnceOwnerUnbindHandleDuplicateChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindHandleDuplicateChange[l])&&s()}this.__cbOnceOwnerUnbindHandleDuplicateChange=null}this.__cbOnHandleDuplicateChange=null,this.__cbOnceHandleDuplicateChange=null}},listensHandleDuplicateChange:function(){return null!=this.__cbOnHandleDuplicateChange&&0<this.__cbOnHandleDuplicateChange.length||null!=this.__cbOnceHandleDuplicateChange&&0<this.__cbOnceHandleDuplicateChange.length},draggingAutoruns:null,get_dragging:function(){var e,n,t=this.unobservedDragging;return null!=A.current&&(e=A.current,null!=(n=this.draggingAutoruns)||(n=A.getAutorunArray(),null!=(this.draggingAutoruns=n)))&&e.bindToAutorunArray(n),t},set_dragging:function(e){var n=this.unobservedDragging;return n!=(this.unobservedDragging=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitDraggingChange(e,n),null!=(n=this.draggingAutoruns))&&(this.draggingAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateDragging:function(){var e=this.unobservedDragging,e=(this.emitDraggingChange(e,e),this.draggingAutoruns);null!=e&&(this.draggingAutoruns=null,A.invalidateAutorunArray(e))},unobservedDragging:null,__cbOnDraggingChange:null,__cbOnceDraggingChange:null,__cbOnOwnerUnbindDraggingChange:null,__cbOnceOwnerUnbindDraggingChange:null,emitDraggingChange:function(e,n){var t=0;if(null!=this.__cbOnDraggingChange&&(t+=this.__cbOnDraggingChange.length),null!=this.__cbOnceDraggingChange&&(t+=this.__cbOnceDraggingChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnDraggingChange)for(var r=0,h=this.__cbOnDraggingChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnDraggingChange[a],++s):--t}if(null!=this.__cbOnceDraggingChange){for(var o=null,c=null,r=0,h=this.__cbOnceDraggingChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceDraggingChange[a],this.__cbOnceDraggingChange[a]=null,u=this.__cbOnceOwnerUnbindDraggingChange[a],(this.__cbOnceOwnerUnbindDraggingChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindDraggingChange[a]),c.push(this.__cbOnceDraggingChange[a]))}this.__cbOnceOwnerUnbindDraggingChange=o,this.__cbOnceDraggingChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onDraggingChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event draggingChange because owner is destroyed!");var l=function(e){null!=t&&(i.offDraggingChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindDraggingChange&&(this.__cbOnOwnerUnbindDraggingChange=[]),this.__cbOnOwnerUnbindDraggingChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindDraggingChange&&(this.__cbOnOwnerUnbindDraggingChange=[]),this.__cbOnOwnerUnbindDraggingChange.push(null);null==this.__cbOnDraggingChange&&(this.__cbOnDraggingChange=[]),this.__cbOnDraggingChange.push(t)},onceDraggingChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event draggingChange because owner is destroyed!");var l=function(e){null!=t&&(i.offDraggingChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindDraggingChange&&(this.__cbOnceOwnerUnbindDraggingChange=[]),this.__cbOnceOwnerUnbindDraggingChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindDraggingChange&&(this.__cbOnceOwnerUnbindDraggingChange=[]),this.__cbOnceOwnerUnbindDraggingChange.push(null);null==this.__cbOnceDraggingChange&&(this.__cbOnceDraggingChange=[]),this.__cbOnceDraggingChange.push(t)},offDraggingChange:function(e){if(null!=e){var n;null!=this.__cbOnDraggingChange&&-1!=(n=this.__cbOnDraggingChange.indexOf(e))&&(this.__cbOnDraggingChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindDraggingChange[n])&&s(),this.__cbOnOwnerUnbindDraggingChange.splice(n,1)),null!=this.__cbOnceDraggingChange&&-1!=(n=this.__cbOnceDraggingChange.indexOf(e))&&(this.__cbOnceDraggingChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindDraggingChange[n])&&s(),this.__cbOnceOwnerUnbindDraggingChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindDraggingChange){for(var t=0,i=this.__cbOnOwnerUnbindDraggingChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindDraggingChange[l])&&s()}this.__cbOnOwnerUnbindDraggingChange=null}if(null!=this.__cbOnceOwnerUnbindDraggingChange){for(t=0,i=this.__cbOnceOwnerUnbindDraggingChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindDraggingChange[l])&&s()}this.__cbOnceOwnerUnbindDraggingChange=null}this.__cbOnDraggingChange=null,this.__cbOnceDraggingChange=null}},listensDraggingChange:function(){return null!=this.__cbOnDraggingChange&&0<this.__cbOnDraggingChange.length||null!=this.__cbOnceDraggingChange&&0<this.__cbOnceDraggingChange.length},titleTextView:null,subTitleTextView:null,clearScrollDelay:null,columnLayout:null,iconsView:null,dragTargetTy:null,dragDrop:null,dragAutoScroll:null,dragStartScrollY:null,draggingCellDragY:null,draggingCell:null,dragOnItemIndex:null,clonedForDraggingAutoruns:null,get_clonedForDragging:function(){var e,n,t=this.unobservedClonedForDragging;return null!=A.current&&(e=A.current,null!=(n=this.clonedForDraggingAutoruns)||(n=A.getAutorunArray(),null!=(this.clonedForDraggingAutoruns=n)))&&e.bindToAutorunArray(n),t},set_clonedForDragging:function(e){var n=this.unobservedClonedForDragging;return n!=(this.unobservedClonedForDragging=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitClonedForDraggingChange(e,n),null!=(n=this.clonedForDraggingAutoruns))&&(this.clonedForDraggingAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateClonedForDragging:function(){var e=this.unobservedClonedForDragging,e=(this.emitClonedForDraggingChange(e,e),this.clonedForDraggingAutoruns);null!=e&&(this.clonedForDraggingAutoruns=null,A.invalidateAutorunArray(e))},unobservedClonedForDragging:null,__cbOnClonedForDraggingChange:null,__cbOnceClonedForDraggingChange:null,__cbOnOwnerUnbindClonedForDraggingChange:null,__cbOnceOwnerUnbindClonedForDraggingChange:null,emitClonedForDraggingChange:function(e,n){var t=0;if(null!=this.__cbOnClonedForDraggingChange&&(t+=this.__cbOnClonedForDraggingChange.length),null!=this.__cbOnceClonedForDraggingChange&&(t+=this.__cbOnceClonedForDraggingChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnClonedForDraggingChange)for(var r=0,h=this.__cbOnClonedForDraggingChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnClonedForDraggingChange[a],++s):--t}if(null!=this.__cbOnceClonedForDraggingChange){for(var o=null,c=null,r=0,h=this.__cbOnceClonedForDraggingChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceClonedForDraggingChange[a],this.__cbOnceClonedForDraggingChange[a]=null,u=this.__cbOnceOwnerUnbindClonedForDraggingChange[a],(this.__cbOnceOwnerUnbindClonedForDraggingChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindClonedForDraggingChange[a]),c.push(this.__cbOnceClonedForDraggingChange[a]))}this.__cbOnceOwnerUnbindClonedForDraggingChange=o,this.__cbOnceClonedForDraggingChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onClonedForDraggingChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event clonedForDraggingChange because owner is destroyed!");var l=function(e){null!=t&&(i.offClonedForDraggingChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindClonedForDraggingChange&&(this.__cbOnOwnerUnbindClonedForDraggingChange=[]),this.__cbOnOwnerUnbindClonedForDraggingChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindClonedForDraggingChange&&(this.__cbOnOwnerUnbindClonedForDraggingChange=[]),this.__cbOnOwnerUnbindClonedForDraggingChange.push(null);null==this.__cbOnClonedForDraggingChange&&(this.__cbOnClonedForDraggingChange=[]),this.__cbOnClonedForDraggingChange.push(t)},onceClonedForDraggingChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event clonedForDraggingChange because owner is destroyed!");var l=function(e){null!=t&&(i.offClonedForDraggingChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindClonedForDraggingChange&&(this.__cbOnceOwnerUnbindClonedForDraggingChange=[]),this.__cbOnceOwnerUnbindClonedForDraggingChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindClonedForDraggingChange&&(this.__cbOnceOwnerUnbindClonedForDraggingChange=[]),this.__cbOnceOwnerUnbindClonedForDraggingChange.push(null);null==this.__cbOnceClonedForDraggingChange&&(this.__cbOnceClonedForDraggingChange=[]),this.__cbOnceClonedForDraggingChange.push(t)},offClonedForDraggingChange:function(e){if(null!=e){var n;null!=this.__cbOnClonedForDraggingChange&&-1!=(n=this.__cbOnClonedForDraggingChange.indexOf(e))&&(this.__cbOnClonedForDraggingChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindClonedForDraggingChange[n])&&s(),this.__cbOnOwnerUnbindClonedForDraggingChange.splice(n,1)),null!=this.__cbOnceClonedForDraggingChange&&-1!=(n=this.__cbOnceClonedForDraggingChange.indexOf(e))&&(this.__cbOnceClonedForDraggingChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindClonedForDraggingChange[n])&&s(),this.__cbOnceOwnerUnbindClonedForDraggingChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindClonedForDraggingChange){for(var t=0,i=this.__cbOnOwnerUnbindClonedForDraggingChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindClonedForDraggingChange[l])&&s()}this.__cbOnOwnerUnbindClonedForDraggingChange=null}if(null!=this.__cbOnceOwnerUnbindClonedForDraggingChange){for(t=0,i=this.__cbOnceOwnerUnbindClonedForDraggingChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindClonedForDraggingChange[l])&&s()}this.__cbOnceOwnerUnbindClonedForDraggingChange=null}this.__cbOnClonedForDraggingChange=null,this.__cbOnceClonedForDraggingChange=null}},listensClonedForDraggingChange:function(){return null!=this.__cbOnClonedForDraggingChange&&0<this.__cbOnClonedForDraggingChange.length||null!=this.__cbOnceClonedForDraggingChange&&0<this.__cbOnceClonedForDraggingChange.length},hoverAutoruns:null,get_hover:function(){var e,n,t=this.unobservedHover;return null!=A.current&&(e=A.current,null!=(n=this.hoverAutoruns)||(n=A.getAutorunArray(),null!=(this.hoverAutoruns=n)))&&e.bindToAutorunArray(n),t},set_hover:function(e){var n=this.unobservedHover;return n!=(this.unobservedHover=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitHoverChange(e,n),null!=(n=this.hoverAutoruns))&&(this.hoverAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateHover:function(){var e=this.unobservedHover,e=(this.emitHoverChange(e,e),this.hoverAutoruns);null!=e&&(this.hoverAutoruns=null,A.invalidateAutorunArray(e))},unobservedHover:null,__cbOnHoverChange:null,__cbOnceHoverChange:null,__cbOnOwnerUnbindHoverChange:null,__cbOnceOwnerUnbindHoverChange:null,emitHoverChange:function(e,n){var t=0;if(null!=this.__cbOnHoverChange&&(t+=this.__cbOnHoverChange.length),null!=this.__cbOnceHoverChange&&(t+=this.__cbOnceHoverChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnHoverChange)for(var r=0,h=this.__cbOnHoverChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnHoverChange[a],++s):--t}if(null!=this.__cbOnceHoverChange){for(var o=null,c=null,r=0,h=this.__cbOnceHoverChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceHoverChange[a],this.__cbOnceHoverChange[a]=null,u=this.__cbOnceOwnerUnbindHoverChange[a],(this.__cbOnceOwnerUnbindHoverChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindHoverChange[a]),c.push(this.__cbOnceHoverChange[a]))}this.__cbOnceOwnerUnbindHoverChange=o,this.__cbOnceHoverChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onHoverChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event hoverChange because owner is destroyed!");var l=function(e){null!=t&&(i.offHoverChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindHoverChange&&(this.__cbOnOwnerUnbindHoverChange=[]),this.__cbOnOwnerUnbindHoverChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindHoverChange&&(this.__cbOnOwnerUnbindHoverChange=[]),this.__cbOnOwnerUnbindHoverChange.push(null);null==this.__cbOnHoverChange&&(this.__cbOnHoverChange=[]),this.__cbOnHoverChange.push(t)},onceHoverChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event hoverChange because owner is destroyed!");var l=function(e){null!=t&&(i.offHoverChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindHoverChange&&(this.__cbOnceOwnerUnbindHoverChange=[]),this.__cbOnceOwnerUnbindHoverChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindHoverChange&&(this.__cbOnceOwnerUnbindHoverChange=[]),this.__cbOnceOwnerUnbindHoverChange.push(null);null==this.__cbOnceHoverChange&&(this.__cbOnceHoverChange=[]),this.__cbOnceHoverChange.push(t)},offHoverChange:function(e){if(null!=e){var n;null!=this.__cbOnHoverChange&&-1!=(n=this.__cbOnHoverChange.indexOf(e))&&(this.__cbOnHoverChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindHoverChange[n])&&s(),this.__cbOnOwnerUnbindHoverChange.splice(n,1)),null!=this.__cbOnceHoverChange&&-1!=(n=this.__cbOnceHoverChange.indexOf(e))&&(this.__cbOnceHoverChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindHoverChange[n])&&s(),this.__cbOnceOwnerUnbindHoverChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindHoverChange){for(var t=0,i=this.__cbOnOwnerUnbindHoverChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindHoverChange[l])&&s()}this.__cbOnOwnerUnbindHoverChange=null}if(null!=this.__cbOnceOwnerUnbindHoverChange){for(t=0,i=this.__cbOnceOwnerUnbindHoverChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindHoverChange[l])&&s()}this.__cbOnceOwnerUnbindHoverChange=null}this.__cbOnHoverChange=null,this.__cbOnceHoverChange=null}},listensHoverChange:function(){return null!=this.__cbOnHoverChange&&0<this.__cbOnHoverChange.length||null!=this.__cbOnceHoverChange&&0<this.__cbOnceHoverChange.length},appliedHoverItemIndexAutoruns:null,get_appliedHoverItemIndex:function(){var e,n,t=this.unobservedAppliedHoverItemIndex;return null!=A.current&&(e=A.current,null!=(n=this.appliedHoverItemIndexAutoruns)||(n=A.getAutorunArray(),null!=(this.appliedHoverItemIndexAutoruns=n)))&&e.bindToAutorunArray(n),t},set_appliedHoverItemIndex:function(e){var n=this.unobservedAppliedHoverItemIndex;return n!=(this.unobservedAppliedHoverItemIndex=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitAppliedHoverItemIndexChange(e,n),null!=(n=this.appliedHoverItemIndexAutoruns))&&(this.appliedHoverItemIndexAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateAppliedHoverItemIndex:function(){var e=this.unobservedAppliedHoverItemIndex,e=(this.emitAppliedHoverItemIndexChange(e,e),this.appliedHoverItemIndexAutoruns);null!=e&&(this.appliedHoverItemIndexAutoruns=null,A.invalidateAutorunArray(e))},unobservedAppliedHoverItemIndex:null,__cbOnAppliedHoverItemIndexChange:null,__cbOnceAppliedHoverItemIndexChange:null,__cbOnOwnerUnbindAppliedHoverItemIndexChange:null,__cbOnceOwnerUnbindAppliedHoverItemIndexChange:null,emitAppliedHoverItemIndexChange:function(e,n){var t=0;if(null!=this.__cbOnAppliedHoverItemIndexChange&&(t+=this.__cbOnAppliedHoverItemIndexChange.length),null!=this.__cbOnceAppliedHoverItemIndexChange&&(t+=this.__cbOnceAppliedHoverItemIndexChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnAppliedHoverItemIndexChange)for(var r=0,h=this.__cbOnAppliedHoverItemIndexChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnAppliedHoverItemIndexChange[a],++s):--t}if(null!=this.__cbOnceAppliedHoverItemIndexChange){for(var o=null,c=null,r=0,h=this.__cbOnceAppliedHoverItemIndexChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceAppliedHoverItemIndexChange[a],this.__cbOnceAppliedHoverItemIndexChange[a]=null,u=this.__cbOnceOwnerUnbindAppliedHoverItemIndexChange[a],(this.__cbOnceOwnerUnbindAppliedHoverItemIndexChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindAppliedHoverItemIndexChange[a]),c.push(this.__cbOnceAppliedHoverItemIndexChange[a]))}this.__cbOnceOwnerUnbindAppliedHoverItemIndexChange=o,this.__cbOnceAppliedHoverItemIndexChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onAppliedHoverItemIndexChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event appliedHoverItemIndexChange because owner is destroyed!");var l=function(e){null!=t&&(i.offAppliedHoverItemIndexChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindAppliedHoverItemIndexChange&&(this.__cbOnOwnerUnbindAppliedHoverItemIndexChange=[]),this.__cbOnOwnerUnbindAppliedHoverItemIndexChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindAppliedHoverItemIndexChange&&(this.__cbOnOwnerUnbindAppliedHoverItemIndexChange=[]),this.__cbOnOwnerUnbindAppliedHoverItemIndexChange.push(null);null==this.__cbOnAppliedHoverItemIndexChange&&(this.__cbOnAppliedHoverItemIndexChange=[]),this.__cbOnAppliedHoverItemIndexChange.push(t)},onceAppliedHoverItemIndexChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event appliedHoverItemIndexChange because owner is destroyed!");var l=function(e){null!=t&&(i.offAppliedHoverItemIndexChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindAppliedHoverItemIndexChange&&(this.__cbOnceOwnerUnbindAppliedHoverItemIndexChange=[]),this.__cbOnceOwnerUnbindAppliedHoverItemIndexChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindAppliedHoverItemIndexChange&&(this.__cbOnceOwnerUnbindAppliedHoverItemIndexChange=[]),this.__cbOnceOwnerUnbindAppliedHoverItemIndexChange.push(null);null==this.__cbOnceAppliedHoverItemIndexChange&&(this.__cbOnceAppliedHoverItemIndexChange=[]),this.__cbOnceAppliedHoverItemIndexChange.push(t)},offAppliedHoverItemIndexChange:function(e){if(null!=e){var n;null!=this.__cbOnAppliedHoverItemIndexChange&&-1!=(n=this.__cbOnAppliedHoverItemIndexChange.indexOf(e))&&(this.__cbOnAppliedHoverItemIndexChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindAppliedHoverItemIndexChange[n])&&s(),this.__cbOnOwnerUnbindAppliedHoverItemIndexChange.splice(n,1)),null!=this.__cbOnceAppliedHoverItemIndexChange&&-1!=(n=this.__cbOnceAppliedHoverItemIndexChange.indexOf(e))&&(this.__cbOnceAppliedHoverItemIndexChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindAppliedHoverItemIndexChange[n])&&s(),this.__cbOnceOwnerUnbindAppliedHoverItemIndexChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindAppliedHoverItemIndexChange){for(var t=0,i=this.__cbOnOwnerUnbindAppliedHoverItemIndexChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindAppliedHoverItemIndexChange[l])&&s()}this.__cbOnOwnerUnbindAppliedHoverItemIndexChange=null}if(null!=this.__cbOnceOwnerUnbindAppliedHoverItemIndexChange){for(t=0,i=this.__cbOnceOwnerUnbindAppliedHoverItemIndexChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindAppliedHoverItemIndexChange[l])&&s()}this.__cbOnceOwnerUnbindAppliedHoverItemIndexChange=null}this.__cbOnAppliedHoverItemIndexChange=null,this.__cbOnceAppliedHoverItemIndexChange=null}},listensAppliedHoverItemIndexChange:function(){return null!=this.__cbOnAppliedHoverItemIndexChange&&0<this.__cbOnAppliedHoverItemIndexChange.length||null!=this.__cbOnceAppliedHoverItemIndexChange&&0<this.__cbOnceAppliedHoverItemIndexChange.length},updateTitle:function(){var e=this.get_title();null!=e?(this.titleTextView.set_content(e),this.titleTextView.set_active(!0)):(this.titleTextView.set_content(""),this.titleTextView.set_active(!1))},updateSubTitle:function(){var e=this.get_subTitle();null!=e?(this.subTitleTextView.set_content(e),this.subTitleTextView.set_active(!0)):(this.subTitleTextView.set_content(""),this.subTitleTextView.set_active(!1))},layoutTitle:function(){this.titleTextView.text.clipText(0,0,this.get_width()-this.titleTextView.text.x-this.titleTextView.x,999999999)},layoutSubTitle:function(){this.subTitleTextView.text.clipText(0,0,this.get_width()-this.subTitleTextView.text.x-this.subTitleTextView.x,999999999)},updateIcons:function(){var n,t,i,l,s=this,e=null!=this.get_handleTrash(),r=null!=this.get_handleLock(),h=null!=this.get_handleDuplicate(),a=null!=this.get_kindIcon(),o=e||r||a;A.unobserve(),null!=this.iconsView&&this.iconsView.destroy(),o?(this.iconsView=new Yb,this.iconsView.set_paddingRight(8),(o=this.iconsView).set_viewWidth(-60002),o.set_viewHeight(-60002),this.iconsView.set_align(Vn.RIGHT),this.add(this.iconsView),a?(this.titleTextView.set_paddingLeft(22),this.subTitleTextView.set_paddingLeft(22),(n=new Pi).set_icon(this.get_kindIcon()),n.set_viewWidth(25),n.set_viewHeight(-60002),n.set_pointSize(20),n.set_paddingLeft(2),n.autorun(function(){var e=s.get_theme();null==e&&(e=G.get_context().get_theme()),A.unobserve(),n.set_textColor(e.get_iconColor())}),this.columnLayout.add(n),this.iconsView.add(n),(o=new f0).flags|=16,o.set_viewWidth(-60002),o.set_viewHeight(-60002),this.iconsView.add(o)):(this.titleTextView.set_paddingLeft(0),this.subTitleTextView.set_paddingLeft(0)),h&&((t=new Fi).set_icon(59458),Qi.tooltip(t,"Duplicate"),t.set_viewWidth(21),t.set_viewHeight(-60002),t.set_pointSize(14),t.onClick(this,this.get_handleDuplicate()),t.autorun(function(){var e=s.get_theme();null==e&&(e=G.get_context().get_theme()),A.unobserve(),t.set_theme(e)}),this.iconsView.add(t)),r&&((i=new Fi).autorun(function(){i.set_icon(s.get_locked()?59415:59414),Qi.tooltip(i,s.get_locked()?"Unlock":"Lock")}),i.set_viewWidth(21),i.set_viewHeight(-60002),i.set_pointSize(14),i.onClick(this,this.get_handleLock()),i.autorun(function(){var e=s.get_theme();null==e&&(e=G.get_context().get_theme()),A.unobserve(),i.set_theme(e)}),this.iconsView.add(i)),e&&((l=new Fi).set_icon(59460),l.set_viewWidth(21),l.set_viewHeight(-60002),l.set_pointSize(14),Qi.tooltip(l,"Delete"),l.onClick(this,this.get_handleTrash()),l.autorun(function(){var e=s.get_theme();null==e&&(e=G.get_context().get_theme()),A.unobserve(),l.set_theme(e)}),this.iconsView.add(l))):(this.titleTextView.set_paddingLeft(0),this.subTitleTextView.set_paddingLeft(0)),A.reobserve()},updateStyle:function(){var e,n,t,i,l,s,r,h,a=this.get_theme(),o=(null==a&&(a=G.get_context().get_theme()),this.get_inputStyle()?this.columnLayout.padding(6,6):this.columnLayout.padding(8,8),this.get_selected());o?(this.flags&=-17,this.set_alpha(1),this.get_inputStyle()?(this.color=a.get_lightBackgroundColor(),0!=this.borderLeftSize&&(this.borderLeftSize=0,this.updateBorder()),0!=this.borderRightSize&&(this.borderRightSize=0,this.updateBorder())):(n=a.get_mediumBackgroundColor(),l=(((t=a.get_selectionBorderColor())>>16&255)-(n>>16&255))*(i=null==(i=.1)?.5:i)+(n>>16&255)|0,this.color=((0&65535|(255<l?255:l<0?0:l)<<16)&16711935|(255<(s=((t>>8&255)-(n>>8&255))*i+(n>>8&255)|0)?255:s<0?0:s)<<8)&16776960|(255<(r=((255&t)-(255&n))*i+(255&n)|0)?255:r<0?0:r),h=a.get_selectionBorderColor(),this.borderLeftColor!=h&&(this.borderLeftColor=h,0<this.borderSize||0<this.borderLeftSize)&&this.updateBorder(),h=a.get_selectionBorderColor(),this.borderRightColor!=h&&(this.borderRightColor=h,0<this.borderSize||0<this.borderRightSize)&&this.updateBorder(),h=a.get_selectionBorderColor(),this.borderTopColor!=h&&(this.borderTopColor=h,0<this.borderSize||0<this.borderTopSize)&&this.updateBorder(),h=a.get_selectionBorderColor(),this.borderBottomColor!=h&&(this.borderBottomColor=h,0<this.borderSize||0<this.borderBottomSize)&&this.updateBorder(),1!=this.borderLeftSize&&(this.borderLeftSize=1,this.updateBorder()),1!=this.borderRightSize&&(this.borderRightSize=1,this.updateBorder()),1!=this.borderTopSize&&(this.borderTopSize=1,this.updateBorder()))):this.get_locked()&&!this.get_inputStyle()?(this.set_alpha(1),this.flags&=-17,0!=this.borderLeftSize&&(this.borderLeftSize=0,this.updateBorder()),0!=this.borderRightSize&&(this.borderRightSize=0,this.updateBorder()),0!=this.borderTopSize&&(this.borderTopSize=0,this.updateBorder()),this.color=a.get_darkBackgroundColor()):(this.set_alpha(1),this.flags&=-17,0!=this.borderLeftSize&&(this.borderLeftSize=0,this.updateBorder()),0!=this.borderRightSize&&(this.borderRightSize=0,this.updateBorder()),0!=this.borderTopSize&&(this.borderTopSize=0,this.updateBorder()),null!=this.get_collectionView()&&this.get_collectionView().get_scrolling()?-1!=this.get_appliedHoverItemIndex()&&this.get_appliedHoverItemIndex()==this.get_itemIndex()?this.color=a.get_lightBackgroundColor():this.get_inputStyle()?this.color=a.get_darkBackgroundColor():this.color=a.get_mediumBackgroundColor():this.get_hover()?(this.set_appliedHoverItemIndex(this.get_itemIndex()),this.color=a.get_lightBackgroundColor()):(this.set_appliedHoverItemIndex(-1),this.get_inputStyle()?this.color=a.get_darkBackgroundColor():this.color=a.get_mediumBackgroundColor())),this.get_locked()?(e=this.titleTextView,n=a.get_lightTextColor(),l=(((t=this.color)>>16&255)-(n>>16&255))*(i=null==(i=.4)?.5:i)+(n>>16&255)|0,e.set_textColor(((0&65535|(255<l?255:l<0?0:l)<<16)&16711935|(255<(s=((t>>8&255)-(n>>8&255))*i+(n>>8&255)|0)?255:s<0?0:s)<<8)&16776960|(255<(r=((255&t)-(255&n))*i+(255&n)|0)?255:r<0?0:r)),e=this.subTitleTextView,n=a.get_darkTextColor(),l=(((t=this.color)>>16&255)-(n>>16&255))*(i=null==(i=.4)?.5:i)+(n>>16&255)|0,e.set_textColor(((0&65535|(255<l?255:l<0?0:l)<<16)&16711935|(255<(s=((t>>8&255)-(n>>8&255))*i+(n>>8&255)|0)?255:s<0?0:s)<<8)&16776960|(255<(r=((255&t)-(255&n))*i+(255&n)|0)?255:r<0?0:r))):(this.titleTextView.set_textColor(a.get_lightTextColor()),this.subTitleTextView.set_textColor(a.get_darkTextColor())),this.titleTextView.set_font(a.get_mediumFont()),this.subTitleTextView.set_font(a.get_mediumFont()),o||(h=a.get_mediumBorderColor(),this.borderBottomColor!=h&&(this.borderBottomColor=h,0<this.borderSize||0<this.borderBottomSize)&&this.updateBorder()),this.get_inputStyle()&&this.get_displaysEmptyValue()?(this.titleTextView.text.set_skewX(8),this.titleTextView.text.set_alpha(.8)):(this.titleTextView.text.set_skewX(0),this.titleTextView.text.set_alpha(1))},bindDragDrop:function(e,t){var n,i=this;null==Ii._notVisibleTransform&&(Ii._notVisibleTransform=new l,(n=Ii._notVisibleTransform).tx+=-99999999,n.ty+=-99999999,n.changedDirty=!0),this.dragDrop=new Bi(null,e,$bind(this,this.createDraggingVisual),$bind(this,this.releaseDraggingVisual)),this.component("dragDrop",this.dragDrop),this.dragDrop.onDraggingChange(this,function(e,n){n&&!e&&t(i.dragOnItemIndex),i.handleDragChange(e,n)}),this.dragDrop.autorun($bind(this,this.updateFromDrag))},unbindDragDrop:function(){null!=this.dragDrop&&(this.dragDrop.destroy(),this.dragDrop=null,this.set_dragging(!1))},cloneForDragDrop:function(){var e=new Ii;return e.set_theme(this.get_theme()),e.set_selected(this.get_selected()),e.set_title(this.get_title()),e.set_subTitle(this.get_subTitle()),e.set_itemIndex(this.get_itemIndex()),e.set_inputStyle(this.get_inputStyle()),e.set_displaysEmptyValue(this.get_displaysEmptyValue()),e.set_kindIcon(this.get_kindIcon()),e.set_locked(this.get_locked()),e.set_handleTrash(this.get_handleTrash()),e.set_handleLock(this.get_handleLock()),e.set_handleDuplicate(this.get_handleDuplicate()),e.set_clonedForDragging(!0),e},createDraggingVisual:function(){var e=this.cloneForDragDrop(),n=(e.set_touchable(!1),e.set_depth(9999),this.get_width()),t=this.get_height(),n=(e.set_viewWidth(n),e.set_viewHeight(t),e.computeSize(this.get_width(),this.get_height(),0,!0),null!=e.computedSize&&(t=e.computedSize.computedHeight,e.set_width(e.computedSize.computedWidth),e.set_height(t)),this.y);return e.set_x(this.x),e.set_y(n),this.parent.add(e),e},releaseDraggingVisual:function(e){e.destroy()},firstEnabledParentScroller:function(){for(var e=this.firstParentWithClass(lt);null!=e&&!e.scrollEnabled;)e=e.firstParentWithClass(lt);return e},handleDragChange:function(e,n){if(e!=n)if(this.set_dragging(e),e){this.dragAutoScroll=0,this.draggingCellDragY=0,this.set_transform(Ii._notVisibleTransform);n=this.firstEnabledParentScroller();null!=n&&(this.dragStartScrollY=-n.scrollTransform.ty),ae.app.onUpdate(this.dragDrop,$bind(this,this.scrollFromDragIfNeeded))}else{this.dragAutoScroll=0,this.set_transform(null);for(var t=0,i=this.parent.children;t<i.length;){var l=i[t];++t,l!=this&&l instanceof Ii&&Kc.transition(l,null,0,function(e){Zt.set_transform(e,null)})}ae.app.offUpdate($bind(this,this.scrollFromDragIfNeeded))}},updateFromDrag:function(){var e,n,t,i,l,s=this.dragDrop.get_dragging();this.draggingCellDragY=this.dragDrop.get_dragY(),A.unobserve(),s&&(s=0,null!=(e=this.firstEnabledParentScroller())&&(s=-e.scrollTransform.ty-this.dragStartScrollY),this.draggingCell=this.dragDrop.draggingVisual,t=this.draggingCell,n=this.y+this.draggingCellDragY+s,t.set_x(this.x),t.set_y(n),this.updateOtherCellsFromDrag(),e=this.firstEnabledParentScroller(),t=this.firstParentWithClass(lt),null!=e)&&((null!=t?t:e)!=e?(e.visualToScreen(0,0,Ii._point),n=Ii._point.y,e.visualToScreen(0,e.get_height(),Ii._point),t=Ii._point.y,this.draggingCell.visualToScreen(0,0,Ii._point),i=Ii._point.y,this.draggingCell.visualToScreen(0,this.draggingCell.get_height(),Ii._point),l=Ii._point.y,this.dragAutoScroll=t<l?l-t:i<n?i-n:0):this.y+this.get_height()+this.draggingCellDragY+s>e.get_height()+-e.scrollTransform.ty?this.dragAutoScroll=this.y+this.get_height()+this.draggingCellDragY+s-(e.get_height()+-e.scrollTransform.ty):this.y+this.draggingCellDragY+s<-e.scrollTransform.ty?this.dragAutoScroll=this.y+this.draggingCellDragY+s- -e.scrollTransform.ty:this.dragAutoScroll=0),A.reobserve()},updateOtherCellsFromDrag:function(){var e=this.get_height();this.dragOnItemIndex=this.get_itemIndex();for(var n=0,t=this.parent.children;n<t.length;){var i,s,r=t[n];++n,r!=this&&r instanceof Ii&&(null==(r=r).transform&&r.set_transform(new l),s=[i=r.dragTargetTy],this.get_itemIndex()>r.get_itemIndex()?this.draggingCell.y<r.y+.5*r.get_height()?(this.dragOnItemIndex>r.get_itemIndex()&&(this.dragOnItemIndex=r.get_itemIndex()),s[0]=e):s[0]=0:this.get_itemIndex()<r.get_itemIndex()&&this.draggingCell.y>r.y-.5*r.get_height()?(this.dragOnItemIndex<r.get_itemIndex()&&(this.dragOnItemIndex=r.get_itemIndex()),s[0]=-e):s[0]=0,s[0]!=i)&&(r.dragTargetTy=s[0],Kc.transition(r,null,.1,function(n){return function(e){Zt.get_transform(e).ty=n[0],Zt.get_transform(e).changedDirty=!0}}(s)))}},scrollFromDragIfNeeded:function(e){var n,t;0!=this.dragAutoScroll&&null!=(t=this.firstEnabledParentScroller())&&(n=-t.scrollTransform.ty,e=-t.scrollTransform.ty+this.dragAutoScroll*e*10,t.scrollTransform.ty!=-e&&(t.scrollTransform.ty=-e,t.scrollTransform.changedDirty=!0),t.scrollToBounds(),-t.scrollTransform.ty!=n)&&(null!=this.draggingCell&&(e=-t.scrollTransform.ty-this.dragStartScrollY,n=this.draggingCell,t=this.y+this.draggingCellDragY+e,n.set_x(this.x),n.set_y(t)),this.updateOtherCellsFromDrag())},unbindEvents:function(){Db.prototype.unbindEvents.call(this),this.offObservedDirty(),this.offThemeChange(),this.offSelectedChange(),this.offTitleChange(),this.offSubTitleChange(),this.offItemIndexChange(),this.offCollectionViewChange(),this.offInputStyleChange(),this.offDisplaysEmptyValueChange(),this.offLockedChange(),this.offKindIconChange(),this.offHandleTrashChange(),this.offHandleLockChange(),this.offHandleDuplicateChange(),this.offDraggingChange(),this.offClonedForDraggingChange(),this.offHoverChange(),this.offAppliedHoverItemIndexChange()},__class__:Ii,__properties__:$extend(Db.prototype.__properties__,{set_appliedHoverItemIndex:"set_appliedHoverItemIndex",get_appliedHoverItemIndex:"get_appliedHoverItemIndex",set_hover:"set_hover",get_hover:"get_hover",set_clonedForDragging:"set_clonedForDragging",get_clonedForDragging:"get_clonedForDragging",set_dragging:"set_dragging",get_dragging:"get_dragging",set_handleDuplicate:"set_handleDuplicate",get_handleDuplicate:"get_handleDuplicate",set_handleLock:"set_handleLock",get_handleLock:"get_handleLock",set_handleTrash:"set_handleTrash",get_handleTrash:"get_handleTrash",set_kindIcon:"set_kindIcon",get_kindIcon:"get_kindIcon",set_locked:"set_locked",get_locked:"get_locked",set_displaysEmptyValue:"set_displaysEmptyValue",get_displaysEmptyValue:"get_displaysEmptyValue",set_inputStyle:"set_inputStyle",get_inputStyle:"get_inputStyle",set_collectionView:"set_collectionView",get_collectionView:"get_collectionView",set_unobservedItemIndex:"set_unobservedItemIndex",set_itemIndex:"set_itemIndex",get_itemIndex:"get_itemIndex",set_subTitle:"set_subTitle",get_subTitle:"get_subTitle",set_title:"set_title",get_title:"get_title",set_selected:"set_selected",get_selected:"get_selected",set_theme:"set_theme",get_theme:"get_theme"})}),function(){this.unobservedIcon=59393,this.iconAutoruns=null,this.observedDirty=!1;var n=this;A1.call(this),this.set_anchorX(.5),this.set_anchorY(.5),this.set_align(Ot.CENTER),this.set_verticalAlign(Vn.CENTER),this.set_pointSize(16),G.get_context().get_assets().ensureFont("font:entypo",null,null,function(e){n.set_font(e.get_font()),n.set_preRenderedSize(20),n.autorun($bind(n,n.updateContent))})}),Fi=((E["elements.EntypoIconView"]=Pi).__name__="elements.EntypoIconView",Pi.__interfaces__=[s],Pi.__super__=A1,Pi.prototype=$extend(A1.prototype,{__cbOnObservedDirty:null,__cbOnceObservedDirty:null,__cbOnOwnerUnbindObservedDirty:null,__cbOnceOwnerUnbindObservedDirty:null,emitObservedDirty:function(e,n){var t=0;if(null!=this.__cbOnObservedDirty&&(t+=this.__cbOnObservedDirty.length),null!=this.__cbOnceObservedDirty&&(t+=this.__cbOnceObservedDirty.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnObservedDirty)for(var r=0,h=this.__cbOnObservedDirty.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnObservedDirty[a],++s):--t}if(null!=this.__cbOnceObservedDirty){for(var o=null,c=null,r=0,h=this.__cbOnceObservedDirty.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceObservedDirty[a],this.__cbOnceObservedDirty[a]=null,u=this.__cbOnceOwnerUnbindObservedDirty[a],(this.__cbOnceOwnerUnbindObservedDirty[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindObservedDirty[a]),c.push(this.__cbOnceObservedDirty[a]))}this.__cbOnceOwnerUnbindObservedDirty=o,this.__cbOnceObservedDirty=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onObservedDirty:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event observedDirty because owner is destroyed!");var l=function(e){null!=t&&(i.offObservedDirty(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push(null);null==this.__cbOnObservedDirty&&(this.__cbOnObservedDirty=[]),this.__cbOnObservedDirty.push(t)},onceObservedDirty:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event observedDirty because owner is destroyed!");var l=function(e){null!=t&&(i.offObservedDirty(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push(null);null==this.__cbOnceObservedDirty&&(this.__cbOnceObservedDirty=[]),this.__cbOnceObservedDirty.push(t)},offObservedDirty:function(e){if(null!=e){var n;null!=this.__cbOnObservedDirty&&-1!=(n=this.__cbOnObservedDirty.indexOf(e))&&(this.__cbOnObservedDirty.splice(n,1),null!=(s=this.__cbOnOwnerUnbindObservedDirty[n])&&s(),this.__cbOnOwnerUnbindObservedDirty.splice(n,1)),null!=this.__cbOnceObservedDirty&&-1!=(n=this.__cbOnceObservedDirty.indexOf(e))&&(this.__cbOnceObservedDirty.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindObservedDirty[n])&&s(),this.__cbOnceOwnerUnbindObservedDirty.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindObservedDirty){for(var t=0,i=this.__cbOnOwnerUnbindObservedDirty.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindObservedDirty[l])&&s()}this.__cbOnOwnerUnbindObservedDirty=null}if(null!=this.__cbOnceOwnerUnbindObservedDirty){for(t=0,i=this.__cbOnceOwnerUnbindObservedDirty.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindObservedDirty[l])&&s()}this.__cbOnceOwnerUnbindObservedDirty=null}this.__cbOnObservedDirty=null,this.__cbOnceObservedDirty=null}},listensObservedDirty:function(){return null!=this.__cbOnObservedDirty&&0<this.__cbOnObservedDirty.length||null!=this.__cbOnceObservedDirty&&0<this.__cbOnceObservedDirty.length},observedDirty:null,iconAutoruns:null,get_icon:function(){var e,n,t=this.unobservedIcon;return null!=A.current&&(e=A.current,null!=(n=this.iconAutoruns)||(n=A.getAutorunArray(),null!=(this.iconAutoruns=n)))&&e.bindToAutorunArray(n),t},set_icon:function(e){var n=this.unobservedIcon;return n!=(this.unobservedIcon=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitIconChange(e,n),null!=(n=this.iconAutoruns))&&(this.iconAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateIcon:function(){var e=this.unobservedIcon,e=(this.emitIconChange(e,e),this.iconAutoruns);null!=e&&(this.iconAutoruns=null,A.invalidateAutorunArray(e))},unobservedIcon:null,__cbOnIconChange:null,__cbOnceIconChange:null,__cbOnOwnerUnbindIconChange:null,__cbOnceOwnerUnbindIconChange:null,emitIconChange:function(e,n){var t=0;if(null!=this.__cbOnIconChange&&(t+=this.__cbOnIconChange.length),null!=this.__cbOnceIconChange&&(t+=this.__cbOnceIconChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnIconChange)for(var r=0,h=this.__cbOnIconChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnIconChange[a],++s):--t}if(null!=this.__cbOnceIconChange){for(var o=null,c=null,r=0,h=this.__cbOnceIconChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceIconChange[a],this.__cbOnceIconChange[a]=null,u=this.__cbOnceOwnerUnbindIconChange[a],(this.__cbOnceOwnerUnbindIconChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindIconChange[a]),c.push(this.__cbOnceIconChange[a]))}this.__cbOnceOwnerUnbindIconChange=o,this.__cbOnceIconChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onIconChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event iconChange because owner is destroyed!");var l=function(e){null!=t&&(i.offIconChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindIconChange&&(this.__cbOnOwnerUnbindIconChange=[]),this.__cbOnOwnerUnbindIconChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindIconChange&&(this.__cbOnOwnerUnbindIconChange=[]),this.__cbOnOwnerUnbindIconChange.push(null);null==this.__cbOnIconChange&&(this.__cbOnIconChange=[]),this.__cbOnIconChange.push(t)},onceIconChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event iconChange because owner is destroyed!");var l=function(e){null!=t&&(i.offIconChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindIconChange&&(this.__cbOnceOwnerUnbindIconChange=[]),this.__cbOnceOwnerUnbindIconChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindIconChange&&(this.__cbOnceOwnerUnbindIconChange=[]),this.__cbOnceOwnerUnbindIconChange.push(null);null==this.__cbOnceIconChange&&(this.__cbOnceIconChange=[]),this.__cbOnceIconChange.push(t)},offIconChange:function(e){if(null!=e){var n;null!=this.__cbOnIconChange&&-1!=(n=this.__cbOnIconChange.indexOf(e))&&(this.__cbOnIconChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindIconChange[n])&&s(),this.__cbOnOwnerUnbindIconChange.splice(n,1)),null!=this.__cbOnceIconChange&&-1!=(n=this.__cbOnceIconChange.indexOf(e))&&(this.__cbOnceIconChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindIconChange[n])&&s(),this.__cbOnceOwnerUnbindIconChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindIconChange){for(var t=0,i=this.__cbOnOwnerUnbindIconChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindIconChange[l])&&s()}this.__cbOnOwnerUnbindIconChange=null}if(null!=this.__cbOnceOwnerUnbindIconChange){for(t=0,i=this.__cbOnceOwnerUnbindIconChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindIconChange[l])&&s()}this.__cbOnceOwnerUnbindIconChange=null}this.__cbOnIconChange=null,this.__cbOnceIconChange=null}},listensIconChange:function(){return null!=this.__cbOnIconChange&&0<this.__cbOnIconChange.length||null!=this.__cbOnceIconChange&&0<this.__cbOnceIconChange.length},updateContent:function(){var e=this.get_icon();this.set_content(String.fromCodePoint(e))},unbindEvents:function(){A1.prototype.unbindEvents.call(this),this.offObservedDirty(),this.offIconChange()},__class__:Pi,__properties__:$extend(A1.prototype.__properties__,{set_icon:"set_icon",get_icon:"get_icon"})}),function(){this.unobservedHoverStyle=!0,this.hoverStyleAutoruns=null,this.unobservedDisabled=!1,this.disabledAutoruns=null,this.unobservedHover=!1,this.hoverAutoruns=null,this.unobservedTheme=null,this.themeAutoruns=null;var n=this,e=(Pi.call(this),this.set_transform(new l),new b0),e=(this.component("click",e),e.onClick(this,function(){n.emitClick()}),new Kb(function(e){n.emitLongPress()},e));this.component("longPress",e),this.onPointerDown(this,function(e){n.transform.ty=1,n.transform.changedDirty=!0}),this.onPointerUp(this,function(e){n.transform.ty=0,n.transform.changedDirty=!0}),this.onPointerOver(this,function(e){n.set_hover(!0)}),this.onPointerOut(this,function(e){n.set_hover(!1)}),this.autorun(function(){n.set_touchable(!n.get_disabled())}),this.autorun($bind(this,this.updateStyle))}),Mi=((E["elements.ClickableIconView"]=Fi).__name__="elements.ClickableIconView",Fi.__super__=Pi,Fi.prototype=$extend(Pi.prototype,{themeAutoruns:null,get_theme:function(){var e,n,t=this.unobservedTheme;return null!=A.current&&(e=A.current,null!=(n=this.themeAutoruns)||(n=A.getAutorunArray(),null!=(this.themeAutoruns=n)))&&e.bindToAutorunArray(n),t},set_theme:function(e){var n=this.unobservedTheme;return n!=(this.unobservedTheme=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitThemeChange(e,n),null!=(n=this.themeAutoruns))&&(this.themeAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateTheme:function(){var e=this.unobservedTheme,e=(this.emitThemeChange(e,e),this.themeAutoruns);null!=e&&(this.themeAutoruns=null,A.invalidateAutorunArray(e))},unobservedTheme:null,__cbOnThemeChange:null,__cbOnceThemeChange:null,__cbOnOwnerUnbindThemeChange:null,__cbOnceOwnerUnbindThemeChange:null,emitThemeChange:function(e,n){var t=0;if(null!=this.__cbOnThemeChange&&(t+=this.__cbOnThemeChange.length),null!=this.__cbOnceThemeChange&&(t+=this.__cbOnceThemeChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnThemeChange)for(var r=0,h=this.__cbOnThemeChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnThemeChange[a],++s):--t}if(null!=this.__cbOnceThemeChange){for(var o=null,c=null,r=0,h=this.__cbOnceThemeChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceThemeChange[a],this.__cbOnceThemeChange[a]=null,u=this.__cbOnceOwnerUnbindThemeChange[a],(this.__cbOnceOwnerUnbindThemeChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindThemeChange[a]),c.push(this.__cbOnceThemeChange[a]))}this.__cbOnceOwnerUnbindThemeChange=o,this.__cbOnceThemeChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onThemeChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event themeChange because owner is destroyed!");var l=function(e){null!=t&&(i.offThemeChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindThemeChange&&(this.__cbOnOwnerUnbindThemeChange=[]),this.__cbOnOwnerUnbindThemeChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindThemeChange&&(this.__cbOnOwnerUnbindThemeChange=[]),this.__cbOnOwnerUnbindThemeChange.push(null);null==this.__cbOnThemeChange&&(this.__cbOnThemeChange=[]),this.__cbOnThemeChange.push(t)},onceThemeChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event themeChange because owner is destroyed!");var l=function(e){null!=t&&(i.offThemeChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindThemeChange&&(this.__cbOnceOwnerUnbindThemeChange=[]),this.__cbOnceOwnerUnbindThemeChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindThemeChange&&(this.__cbOnceOwnerUnbindThemeChange=[]),this.__cbOnceOwnerUnbindThemeChange.push(null);null==this.__cbOnceThemeChange&&(this.__cbOnceThemeChange=[]),this.__cbOnceThemeChange.push(t)},offThemeChange:function(e){if(null!=e){var n;null!=this.__cbOnThemeChange&&-1!=(n=this.__cbOnThemeChange.indexOf(e))&&(this.__cbOnThemeChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindThemeChange[n])&&s(),this.__cbOnOwnerUnbindThemeChange.splice(n,1)),null!=this.__cbOnceThemeChange&&-1!=(n=this.__cbOnceThemeChange.indexOf(e))&&(this.__cbOnceThemeChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindThemeChange[n])&&s(),this.__cbOnceOwnerUnbindThemeChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindThemeChange){for(var t=0,i=this.__cbOnOwnerUnbindThemeChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindThemeChange[l])&&s()}this.__cbOnOwnerUnbindThemeChange=null}if(null!=this.__cbOnceOwnerUnbindThemeChange){for(t=0,i=this.__cbOnceOwnerUnbindThemeChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindThemeChange[l])&&s()}this.__cbOnceOwnerUnbindThemeChange=null}this.__cbOnThemeChange=null,this.__cbOnceThemeChange=null}},listensThemeChange:function(){return null!=this.__cbOnThemeChange&&0<this.__cbOnThemeChange.length||null!=this.__cbOnceThemeChange&&0<this.__cbOnceThemeChange.length},hoverAutoruns:null,get_hover:function(){var e,n,t=this.unobservedHover;return null!=A.current&&(e=A.current,null!=(n=this.hoverAutoruns)||(n=A.getAutorunArray(),null!=(this.hoverAutoruns=n)))&&e.bindToAutorunArray(n),t},set_hover:function(e){var n=this.unobservedHover;return n!=(this.unobservedHover=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitHoverChange(e,n),null!=(n=this.hoverAutoruns))&&(this.hoverAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateHover:function(){var e=this.unobservedHover,e=(this.emitHoverChange(e,e),this.hoverAutoruns);null!=e&&(this.hoverAutoruns=null,A.invalidateAutorunArray(e))},unobservedHover:null,__cbOnHoverChange:null,__cbOnceHoverChange:null,__cbOnOwnerUnbindHoverChange:null,__cbOnceOwnerUnbindHoverChange:null,emitHoverChange:function(e,n){var t=0;if(null!=this.__cbOnHoverChange&&(t+=this.__cbOnHoverChange.length),null!=this.__cbOnceHoverChange&&(t+=this.__cbOnceHoverChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnHoverChange)for(var r=0,h=this.__cbOnHoverChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnHoverChange[a],++s):--t}if(null!=this.__cbOnceHoverChange){for(var o=null,c=null,r=0,h=this.__cbOnceHoverChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceHoverChange[a],this.__cbOnceHoverChange[a]=null,u=this.__cbOnceOwnerUnbindHoverChange[a],(this.__cbOnceOwnerUnbindHoverChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindHoverChange[a]),c.push(this.__cbOnceHoverChange[a]))}this.__cbOnceOwnerUnbindHoverChange=o,this.__cbOnceHoverChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onHoverChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event hoverChange because owner is destroyed!");var l=function(e){null!=t&&(i.offHoverChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindHoverChange&&(this.__cbOnOwnerUnbindHoverChange=[]),this.__cbOnOwnerUnbindHoverChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindHoverChange&&(this.__cbOnOwnerUnbindHoverChange=[]),this.__cbOnOwnerUnbindHoverChange.push(null);null==this.__cbOnHoverChange&&(this.__cbOnHoverChange=[]),this.__cbOnHoverChange.push(t)},onceHoverChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event hoverChange because owner is destroyed!");var l=function(e){null!=t&&(i.offHoverChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindHoverChange&&(this.__cbOnceOwnerUnbindHoverChange=[]),this.__cbOnceOwnerUnbindHoverChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindHoverChange&&(this.__cbOnceOwnerUnbindHoverChange=[]),this.__cbOnceOwnerUnbindHoverChange.push(null);null==this.__cbOnceHoverChange&&(this.__cbOnceHoverChange=[]),this.__cbOnceHoverChange.push(t)},offHoverChange:function(e){if(null!=e){var n;null!=this.__cbOnHoverChange&&-1!=(n=this.__cbOnHoverChange.indexOf(e))&&(this.__cbOnHoverChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindHoverChange[n])&&s(),this.__cbOnOwnerUnbindHoverChange.splice(n,1)),null!=this.__cbOnceHoverChange&&-1!=(n=this.__cbOnceHoverChange.indexOf(e))&&(this.__cbOnceHoverChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindHoverChange[n])&&s(),this.__cbOnceOwnerUnbindHoverChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindHoverChange){for(var t=0,i=this.__cbOnOwnerUnbindHoverChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindHoverChange[l])&&s()}this.__cbOnOwnerUnbindHoverChange=null}if(null!=this.__cbOnceOwnerUnbindHoverChange){for(t=0,i=this.__cbOnceOwnerUnbindHoverChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindHoverChange[l])&&s()}this.__cbOnceOwnerUnbindHoverChange=null}this.__cbOnHoverChange=null,this.__cbOnceHoverChange=null}},listensHoverChange:function(){return null!=this.__cbOnHoverChange&&0<this.__cbOnHoverChange.length||null!=this.__cbOnceHoverChange&&0<this.__cbOnceHoverChange.length},disabledAutoruns:null,get_disabled:function(){var e,n,t=this.unobservedDisabled;return null!=A.current&&(e=A.current,null!=(n=this.disabledAutoruns)||(n=A.getAutorunArray(),null!=(this.disabledAutoruns=n)))&&e.bindToAutorunArray(n),t},set_disabled:function(e){var n=this.unobservedDisabled;return n!=(this.unobservedDisabled=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitDisabledChange(e,n),null!=(n=this.disabledAutoruns))&&(this.disabledAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateDisabled:function(){var e=this.unobservedDisabled,e=(this.emitDisabledChange(e,e),this.disabledAutoruns);null!=e&&(this.disabledAutoruns=null,A.invalidateAutorunArray(e))},unobservedDisabled:null,__cbOnDisabledChange:null,__cbOnceDisabledChange:null,__cbOnOwnerUnbindDisabledChange:null,__cbOnceOwnerUnbindDisabledChange:null,emitDisabledChange:function(e,n){var t=0;if(null!=this.__cbOnDisabledChange&&(t+=this.__cbOnDisabledChange.length),null!=this.__cbOnceDisabledChange&&(t+=this.__cbOnceDisabledChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnDisabledChange)for(var r=0,h=this.__cbOnDisabledChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnDisabledChange[a],++s):--t}if(null!=this.__cbOnceDisabledChange){for(var o=null,c=null,r=0,h=this.__cbOnceDisabledChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceDisabledChange[a],this.__cbOnceDisabledChange[a]=null,u=this.__cbOnceOwnerUnbindDisabledChange[a],(this.__cbOnceOwnerUnbindDisabledChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindDisabledChange[a]),c.push(this.__cbOnceDisabledChange[a]))}this.__cbOnceOwnerUnbindDisabledChange=o,this.__cbOnceDisabledChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onDisabledChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event disabledChange because owner is destroyed!");var l=function(e){null!=t&&(i.offDisabledChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindDisabledChange&&(this.__cbOnOwnerUnbindDisabledChange=[]),this.__cbOnOwnerUnbindDisabledChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindDisabledChange&&(this.__cbOnOwnerUnbindDisabledChange=[]),this.__cbOnOwnerUnbindDisabledChange.push(null);null==this.__cbOnDisabledChange&&(this.__cbOnDisabledChange=[]),this.__cbOnDisabledChange.push(t)},onceDisabledChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event disabledChange because owner is destroyed!");var l=function(e){null!=t&&(i.offDisabledChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindDisabledChange&&(this.__cbOnceOwnerUnbindDisabledChange=[]),this.__cbOnceOwnerUnbindDisabledChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindDisabledChange&&(this.__cbOnceOwnerUnbindDisabledChange=[]),this.__cbOnceOwnerUnbindDisabledChange.push(null);null==this.__cbOnceDisabledChange&&(this.__cbOnceDisabledChange=[]),this.__cbOnceDisabledChange.push(t)},offDisabledChange:function(e){if(null!=e){var n;null!=this.__cbOnDisabledChange&&-1!=(n=this.__cbOnDisabledChange.indexOf(e))&&(this.__cbOnDisabledChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindDisabledChange[n])&&s(),this.__cbOnOwnerUnbindDisabledChange.splice(n,1)),null!=this.__cbOnceDisabledChange&&-1!=(n=this.__cbOnceDisabledChange.indexOf(e))&&(this.__cbOnceDisabledChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindDisabledChange[n])&&s(),this.__cbOnceOwnerUnbindDisabledChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindDisabledChange){for(var t=0,i=this.__cbOnOwnerUnbindDisabledChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindDisabledChange[l])&&s()}this.__cbOnOwnerUnbindDisabledChange=null}if(null!=this.__cbOnceOwnerUnbindDisabledChange){for(t=0,i=this.__cbOnceOwnerUnbindDisabledChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindDisabledChange[l])&&s()}this.__cbOnceOwnerUnbindDisabledChange=null}this.__cbOnDisabledChange=null,this.__cbOnceDisabledChange=null}},listensDisabledChange:function(){return null!=this.__cbOnDisabledChange&&0<this.__cbOnDisabledChange.length||null!=this.__cbOnceDisabledChange&&0<this.__cbOnceDisabledChange.length},hoverStyleAutoruns:null,get_hoverStyle:function(){var e,n,t=this.unobservedHoverStyle;return null!=A.current&&(e=A.current,null!=(n=this.hoverStyleAutoruns)||(n=A.getAutorunArray(),null!=(this.hoverStyleAutoruns=n)))&&e.bindToAutorunArray(n),t},set_hoverStyle:function(e){var n=this.unobservedHoverStyle;return n!=(this.unobservedHoverStyle=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitHoverStyleChange(e,n),null!=(n=this.hoverStyleAutoruns))&&(this.hoverStyleAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateHoverStyle:function(){var e=this.unobservedHoverStyle,e=(this.emitHoverStyleChange(e,e),this.hoverStyleAutoruns);null!=e&&(this.hoverStyleAutoruns=null,A.invalidateAutorunArray(e))},unobservedHoverStyle:null,__cbOnHoverStyleChange:null,__cbOnceHoverStyleChange:null,__cbOnOwnerUnbindHoverStyleChange:null,__cbOnceOwnerUnbindHoverStyleChange:null,emitHoverStyleChange:function(e,n){var t=0;if(null!=this.__cbOnHoverStyleChange&&(t+=this.__cbOnHoverStyleChange.length),null!=this.__cbOnceHoverStyleChange&&(t+=this.__cbOnceHoverStyleChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnHoverStyleChange)for(var r=0,h=this.__cbOnHoverStyleChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnHoverStyleChange[a],++s):--t}if(null!=this.__cbOnceHoverStyleChange){for(var o=null,c=null,r=0,h=this.__cbOnceHoverStyleChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceHoverStyleChange[a],this.__cbOnceHoverStyleChange[a]=null,u=this.__cbOnceOwnerUnbindHoverStyleChange[a],(this.__cbOnceOwnerUnbindHoverStyleChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindHoverStyleChange[a]),c.push(this.__cbOnceHoverStyleChange[a]))}this.__cbOnceOwnerUnbindHoverStyleChange=o,this.__cbOnceHoverStyleChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onHoverStyleChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event hoverStyleChange because owner is destroyed!");var l=function(e){null!=t&&(i.offHoverStyleChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindHoverStyleChange&&(this.__cbOnOwnerUnbindHoverStyleChange=[]),this.__cbOnOwnerUnbindHoverStyleChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindHoverStyleChange&&(this.__cbOnOwnerUnbindHoverStyleChange=[]),this.__cbOnOwnerUnbindHoverStyleChange.push(null);null==this.__cbOnHoverStyleChange&&(this.__cbOnHoverStyleChange=[]),this.__cbOnHoverStyleChange.push(t)},onceHoverStyleChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event hoverStyleChange because owner is destroyed!");var l=function(e){null!=t&&(i.offHoverStyleChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindHoverStyleChange&&(this.__cbOnceOwnerUnbindHoverStyleChange=[]),this.__cbOnceOwnerUnbindHoverStyleChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindHoverStyleChange&&(this.__cbOnceOwnerUnbindHoverStyleChange=[]),this.__cbOnceOwnerUnbindHoverStyleChange.push(null);null==this.__cbOnceHoverStyleChange&&(this.__cbOnceHoverStyleChange=[]),this.__cbOnceHoverStyleChange.push(t)},offHoverStyleChange:function(e){if(null!=e){var n;null!=this.__cbOnHoverStyleChange&&-1!=(n=this.__cbOnHoverStyleChange.indexOf(e))&&(this.__cbOnHoverStyleChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindHoverStyleChange[n])&&s(),this.__cbOnOwnerUnbindHoverStyleChange.splice(n,1)),null!=this.__cbOnceHoverStyleChange&&-1!=(n=this.__cbOnceHoverStyleChange.indexOf(e))&&(this.__cbOnceHoverStyleChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindHoverStyleChange[n])&&s(),this.__cbOnceOwnerUnbindHoverStyleChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindHoverStyleChange){for(var t=0,i=this.__cbOnOwnerUnbindHoverStyleChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindHoverStyleChange[l])&&s()}this.__cbOnOwnerUnbindHoverStyleChange=null}if(null!=this.__cbOnceOwnerUnbindHoverStyleChange){for(t=0,i=this.__cbOnceOwnerUnbindHoverStyleChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindHoverStyleChange[l])&&s()}this.__cbOnceOwnerUnbindHoverStyleChange=null}this.__cbOnHoverStyleChange=null,this.__cbOnceHoverStyleChange=null}},listensHoverStyleChange:function(){return null!=this.__cbOnHoverStyleChange&&0<this.__cbOnHoverStyleChange.length||null!=this.__cbOnceHoverStyleChange&&0<this.__cbOnceHoverStyleChange.length},__cbOnClick:null,__cbOnceClick:null,__cbOnOwnerUnbindClick:null,__cbOnceOwnerUnbindClick:null,emitClick:function(){var e=0;if(null!=this.__cbOnClick&&(e+=this.__cbOnClick.length),null!=this.__cbOnceClick&&(e+=this.__cbOnceClick.length),0<e){var n=C.pool(e),t=n.get(),i=0;if(null!=this.__cbOnClick)for(var l=0,s=this.__cbOnClick.length;l<s;){var r=l++;!0?(t.vector[i]=this.__cbOnClick[r],++i):--e}if(null!=this.__cbOnceClick){for(var h=null,a=null,l=0,s=this.__cbOnceClick.length;l<s;){var o,r=l++;!0?(t.vector[i]=this.__cbOnceClick[r],this.__cbOnceClick[r]=null,o=this.__cbOnceOwnerUnbindClick[r],(this.__cbOnceOwnerUnbindClick[r]=null)!=o&&o(),++i):(--e,null==h&&(h=[],a=[],0),h.push(this.__cbOnceOwnerUnbindClick[r]),a.push(this.__cbOnceClick[r]))}this.__cbOnceOwnerUnbindClick=h,this.__cbOnceClick=a}for(l=0,s=e;l<s;){i=l++;(0,t.vector[i])()}n.release(t)}},onClick:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event click because owner is destroyed!");var l=function(e){null!=t&&(i.offClick(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindClick&&(this.__cbOnOwnerUnbindClick=[]),this.__cbOnOwnerUnbindClick.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindClick&&(this.__cbOnOwnerUnbindClick=[]),this.__cbOnOwnerUnbindClick.push(null);null==this.__cbOnClick&&(this.__cbOnClick=[]),this.__cbOnClick.push(t)},onceClick:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event click because owner is destroyed!");var l=function(e){null!=t&&(i.offClick(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindClick&&(this.__cbOnceOwnerUnbindClick=[]),this.__cbOnceOwnerUnbindClick.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindClick&&(this.__cbOnceOwnerUnbindClick=[]),this.__cbOnceOwnerUnbindClick.push(null);null==this.__cbOnceClick&&(this.__cbOnceClick=[]),this.__cbOnceClick.push(t)},offClick:function(e){if(null!=e){var n;null!=this.__cbOnClick&&-1!=(n=this.__cbOnClick.indexOf(e))&&(this.__cbOnClick.splice(n,1),null!=(s=this.__cbOnOwnerUnbindClick[n])&&s(),this.__cbOnOwnerUnbindClick.splice(n,1)),null!=this.__cbOnceClick&&-1!=(n=this.__cbOnceClick.indexOf(e))&&(this.__cbOnceClick.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindClick[n])&&s(),this.__cbOnceOwnerUnbindClick.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindClick){for(var t=0,i=this.__cbOnOwnerUnbindClick.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindClick[l])&&s()}this.__cbOnOwnerUnbindClick=null}if(null!=this.__cbOnceOwnerUnbindClick){for(t=0,i=this.__cbOnceOwnerUnbindClick.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindClick[l])&&s()}this.__cbOnceOwnerUnbindClick=null}this.__cbOnClick=null,this.__cbOnceClick=null}},listensClick:function(){return null!=this.__cbOnClick&&0<this.__cbOnClick.length||null!=this.__cbOnceClick&&0<this.__cbOnceClick.length},__cbOnLongPress:null,__cbOnceLongPress:null,__cbOnOwnerUnbindLongPress:null,__cbOnceOwnerUnbindLongPress:null,emitLongPress:function(){var e=0;if(null!=this.__cbOnLongPress&&(e+=this.__cbOnLongPress.length),null!=this.__cbOnceLongPress&&(e+=this.__cbOnceLongPress.length),0<e){var n=C.pool(e),t=n.get(),i=0;if(null!=this.__cbOnLongPress)for(var l=0,s=this.__cbOnLongPress.length;l<s;){var r=l++;!0?(t.vector[i]=this.__cbOnLongPress[r],++i):--e}if(null!=this.__cbOnceLongPress){for(var h=null,a=null,l=0,s=this.__cbOnceLongPress.length;l<s;){var o,r=l++;!0?(t.vector[i]=this.__cbOnceLongPress[r],this.__cbOnceLongPress[r]=null,o=this.__cbOnceOwnerUnbindLongPress[r],(this.__cbOnceOwnerUnbindLongPress[r]=null)!=o&&o(),++i):(--e,null==h&&(h=[],a=[],0),h.push(this.__cbOnceOwnerUnbindLongPress[r]),a.push(this.__cbOnceLongPress[r]))}this.__cbOnceOwnerUnbindLongPress=h,this.__cbOnceLongPress=a}for(l=0,s=e;l<s;){i=l++;(0,t.vector[i])()}n.release(t)}},onLongPress:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event longPress because owner is destroyed!");var l=function(e){null!=t&&(i.offLongPress(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindLongPress&&(this.__cbOnOwnerUnbindLongPress=[]),this.__cbOnOwnerUnbindLongPress.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindLongPress&&(this.__cbOnOwnerUnbindLongPress=[]),this.__cbOnOwnerUnbindLongPress.push(null);null==this.__cbOnLongPress&&(this.__cbOnLongPress=[]),this.__cbOnLongPress.push(t)},onceLongPress:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event longPress because owner is destroyed!");var l=function(e){null!=t&&(i.offLongPress(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindLongPress&&(this.__cbOnceOwnerUnbindLongPress=[]),this.__cbOnceOwnerUnbindLongPress.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindLongPress&&(this.__cbOnceOwnerUnbindLongPress=[]),this.__cbOnceOwnerUnbindLongPress.push(null);null==this.__cbOnceLongPress&&(this.__cbOnceLongPress=[]),this.__cbOnceLongPress.push(t)},offLongPress:function(e){if(null!=e){var n;null!=this.__cbOnLongPress&&-1!=(n=this.__cbOnLongPress.indexOf(e))&&(this.__cbOnLongPress.splice(n,1),null!=(s=this.__cbOnOwnerUnbindLongPress[n])&&s(),this.__cbOnOwnerUnbindLongPress.splice(n,1)),null!=this.__cbOnceLongPress&&-1!=(n=this.__cbOnceLongPress.indexOf(e))&&(this.__cbOnceLongPress.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindLongPress[n])&&s(),this.__cbOnceOwnerUnbindLongPress.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindLongPress){for(var t=0,i=this.__cbOnOwnerUnbindLongPress.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindLongPress[l])&&s()}this.__cbOnOwnerUnbindLongPress=null}if(null!=this.__cbOnceOwnerUnbindLongPress){for(t=0,i=this.__cbOnceOwnerUnbindLongPress.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindLongPress[l])&&s()}this.__cbOnceOwnerUnbindLongPress=null}this.__cbOnLongPress=null,this.__cbOnceLongPress=null}},listensLongPress:function(){return null!=this.__cbOnLongPress&&0<this.__cbOnLongPress.length||null!=this.__cbOnceLongPress&&0<this.__cbOnceLongPress.length},updateStyle:function(){var e,n,t,i,l,s,r=this.get_theme();null==r&&(r=G.get_context().get_theme()),e=this.get_hover()||!this.get_hoverStyle()?r.get_iconColor():(s=r.get_mediumBackgroundColor(),16776960&(16711935&(65535&0|(255<(i=(((n=r.get_iconColor())>>16&255)-(s>>16&255))*(t=null==(t=.7)?.5:t)+(s>>16&255)|0)?255:i<0?0:i)<<16)|(255<(l=((n>>8&255)-(s>>8&255))*t+(s>>8&255)|0)?255:l<0?0:l)<<8)|(255<(s=((255&n)-(255&s))*t+(255&s)|0)?255:s<0?0:s)),this.get_disabled()&&(e=((0&65535|(255<(i=(((n=r.get_darkBackgroundColor())>>16&255)-(e>>16&255))*(t=null==(t=.5)?.5:t)+(e>>16&255)|0)?255:i<0?0:i)<<16)&16711935|(255<(l=((n>>8&255)-(e>>8&255))*t+(e>>8&255)|0)?255:l<0?0:l)<<8)&16776960|(255<(s=((255&n)-(255&e))*t+(255&e)|0)?255:s<0?0:s)),this.set_textColor(e)},unbindEvents:function(){Pi.prototype.unbindEvents.call(this),this.offClick(),this.offLongPress(),this.offThemeChange(),this.offHoverChange(),this.offDisabledChange(),this.offHoverStyleChange()},__class__:Fi,__properties__:$extend(Pi.prototype.__properties__,{set_hoverStyle:"set_hoverStyle",get_hoverStyle:"get_hoverStyle",set_disabled:"set_disabled",get_disabled:"get_disabled",set_hover:"set_hover",get_hover:"get_hover",set_theme:"set_theme",get_theme:"get_theme"})}),(E["elements.ColorFieldView"]=hd).__name__="elements.ColorFieldView",hd.__super__=X2,hd.prototype=$extend(X2.prototype,{themeAutoruns:null,get_theme:function(){var e,n,t=this.unobservedTheme;return null!=A.current&&(e=A.current,null!=(n=this.themeAutoruns)||(n=A.getAutorunArray(),null!=(this.themeAutoruns=n)))&&e.bindToAutorunArray(n),t},set_theme:function(e){var n=this.unobservedTheme;return n!=(this.unobservedTheme=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitThemeChange(e,n),null!=(n=this.themeAutoruns))&&(this.themeAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateTheme:function(){var e=this.unobservedTheme,e=(this.emitThemeChange(e,e),this.themeAutoruns);null!=e&&(this.themeAutoruns=null,A.invalidateAutorunArray(e))},unobservedTheme:null,__cbOnThemeChange:null,__cbOnceThemeChange:null,__cbOnOwnerUnbindThemeChange:null,__cbOnceOwnerUnbindThemeChange:null,emitThemeChange:function(e,n){var t=0;if(null!=this.__cbOnThemeChange&&(t+=this.__cbOnThemeChange.length),null!=this.__cbOnceThemeChange&&(t+=this.__cbOnceThemeChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnThemeChange)for(var r=0,h=this.__cbOnThemeChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnThemeChange[a],++s):--t}if(null!=this.__cbOnceThemeChange){for(var o=null,c=null,r=0,h=this.__cbOnceThemeChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceThemeChange[a],this.__cbOnceThemeChange[a]=null,u=this.__cbOnceOwnerUnbindThemeChange[a],(this.__cbOnceOwnerUnbindThemeChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindThemeChange[a]),c.push(this.__cbOnceThemeChange[a]))}this.__cbOnceOwnerUnbindThemeChange=o,this.__cbOnceThemeChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onThemeChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event themeChange because owner is destroyed!");var l=function(e){null!=t&&(i.offThemeChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindThemeChange&&(this.__cbOnOwnerUnbindThemeChange=[]),this.__cbOnOwnerUnbindThemeChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindThemeChange&&(this.__cbOnOwnerUnbindThemeChange=[]),this.__cbOnOwnerUnbindThemeChange.push(null);null==this.__cbOnThemeChange&&(this.__cbOnThemeChange=[]),this.__cbOnThemeChange.push(t)},onceThemeChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event themeChange because owner is destroyed!");var l=function(e){null!=t&&(i.offThemeChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindThemeChange&&(this.__cbOnceOwnerUnbindThemeChange=[]),this.__cbOnceOwnerUnbindThemeChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindThemeChange&&(this.__cbOnceOwnerUnbindThemeChange=[]),this.__cbOnceOwnerUnbindThemeChange.push(null);null==this.__cbOnceThemeChange&&(this.__cbOnceThemeChange=[]),this.__cbOnceThemeChange.push(t)},offThemeChange:function(e){if(null!=e){var n;null!=this.__cbOnThemeChange&&-1!=(n=this.__cbOnThemeChange.indexOf(e))&&(this.__cbOnThemeChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindThemeChange[n])&&s(),this.__cbOnOwnerUnbindThemeChange.splice(n,1)),null!=this.__cbOnceThemeChange&&-1!=(n=this.__cbOnceThemeChange.indexOf(e))&&(this.__cbOnceThemeChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindThemeChange[n])&&s(),this.__cbOnceOwnerUnbindThemeChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindThemeChange){for(var t=0,i=this.__cbOnOwnerUnbindThemeChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindThemeChange[l])&&s()}this.__cbOnOwnerUnbindThemeChange=null}if(null!=this.__cbOnceOwnerUnbindThemeChange){for(t=0,i=this.__cbOnceOwnerUnbindThemeChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindThemeChange[l])&&s()}this.__cbOnceOwnerUnbindThemeChange=null}this.__cbOnThemeChange=null,this.__cbOnceThemeChange=null}},listensThemeChange:function(){return null!=this.__cbOnThemeChange&&0<this.__cbOnThemeChange.length||null!=this.__cbOnceThemeChange&&0<this.__cbOnceThemeChange.length},setValue:function(e,n){this.set_value(n)},valueAutoruns:null,get_value:function(){var e,n,t=this.unobservedValue;return null!=A.current&&(e=A.current,null!=(n=this.valueAutoruns)||(n=A.getAutorunArray(),null!=(this.valueAutoruns=n)))&&e.bindToAutorunArray(n),t},set_value:function(e){var n=this.unobservedValue;return n!=(this.unobservedValue=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitValueChange(e,n),null!=(n=this.valueAutoruns))&&(this.valueAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateValue:function(){var e=this.unobservedValue,e=(this.emitValueChange(e,e),this.valueAutoruns);null!=e&&(this.valueAutoruns=null,A.invalidateAutorunArray(e))},unobservedValue:null,__cbOnValueChange:null,__cbOnceValueChange:null,__cbOnOwnerUnbindValueChange:null,__cbOnceOwnerUnbindValueChange:null,emitValueChange:function(e,n){var t=0;if(null!=this.__cbOnValueChange&&(t+=this.__cbOnValueChange.length),null!=this.__cbOnceValueChange&&(t+=this.__cbOnceValueChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnValueChange)for(var r=0,h=this.__cbOnValueChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnValueChange[a],++s):--t}if(null!=this.__cbOnceValueChange){for(var o=null,c=null,r=0,h=this.__cbOnceValueChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceValueChange[a],this.__cbOnceValueChange[a]=null,u=this.__cbOnceOwnerUnbindValueChange[a],(this.__cbOnceOwnerUnbindValueChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindValueChange[a]),c.push(this.__cbOnceValueChange[a]))}this.__cbOnceOwnerUnbindValueChange=o,this.__cbOnceValueChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onValueChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event valueChange because owner is destroyed!");var l=function(e){null!=t&&(i.offValueChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindValueChange&&(this.__cbOnOwnerUnbindValueChange=[]),this.__cbOnOwnerUnbindValueChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindValueChange&&(this.__cbOnOwnerUnbindValueChange=[]),this.__cbOnOwnerUnbindValueChange.push(null);null==this.__cbOnValueChange&&(this.__cbOnValueChange=[]),this.__cbOnValueChange.push(t)},onceValueChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event valueChange because owner is destroyed!");var l=function(e){null!=t&&(i.offValueChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindValueChange&&(this.__cbOnceOwnerUnbindValueChange=[]),this.__cbOnceOwnerUnbindValueChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindValueChange&&(this.__cbOnceOwnerUnbindValueChange=[]),this.__cbOnceOwnerUnbindValueChange.push(null);null==this.__cbOnceValueChange&&(this.__cbOnceValueChange=[]),this.__cbOnceValueChange.push(t)},offValueChange:function(e){if(null!=e){var n;null!=this.__cbOnValueChange&&-1!=(n=this.__cbOnValueChange.indexOf(e))&&(this.__cbOnValueChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindValueChange[n])&&s(),this.__cbOnOwnerUnbindValueChange.splice(n,1)),null!=this.__cbOnceValueChange&&-1!=(n=this.__cbOnceValueChange.indexOf(e))&&(this.__cbOnceValueChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindValueChange[n])&&s(),this.__cbOnceOwnerUnbindValueChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindValueChange){for(var t=0,i=this.__cbOnOwnerUnbindValueChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindValueChange[l])&&s()}this.__cbOnOwnerUnbindValueChange=null}if(null!=this.__cbOnceOwnerUnbindValueChange){for(t=0,i=this.__cbOnceOwnerUnbindValueChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindValueChange[l])&&s()}this.__cbOnceOwnerUnbindValueChange=null}this.__cbOnValueChange=null,this.__cbOnceValueChange=null}},listensValueChange:function(){return null!=this.__cbOnValueChange&&0<this.__cbOnValueChange.length||null!=this.__cbOnceValueChange&&0<this.__cbOnceValueChange.length},disabledAutoruns:null,get_disabled:function(){var e,n,t=this.unobservedDisabled;return null!=A.current&&(e=A.current,null!=(n=this.disabledAutoruns)||(n=A.getAutorunArray(),null!=(this.disabledAutoruns=n)))&&e.bindToAutorunArray(n),t},set_disabled:function(e){var n=this.unobservedDisabled;return this.set_unobservedDisabled(e),n!=e&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitDisabledChange(e,n),null!=(n=this.disabledAutoruns))&&(this.disabledAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateDisabled:function(){var e=this.unobservedDisabled,e=(this.emitDisabledChange(e,e),this.disabledAutoruns);null!=e&&(this.disabledAutoruns=null,A.invalidateAutorunArray(e))},unobservedDisabled:null,__cbOnDisabledChange:null,__cbOnceDisabledChange:null,__cbOnOwnerUnbindDisabledChange:null,__cbOnceOwnerUnbindDisabledChange:null,emitDisabledChange:function(e,n){var t=0;if(null!=this.__cbOnDisabledChange&&(t+=this.__cbOnDisabledChange.length),null!=this.__cbOnceDisabledChange&&(t+=this.__cbOnceDisabledChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnDisabledChange)for(var r=0,h=this.__cbOnDisabledChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnDisabledChange[a],++s):--t}if(null!=this.__cbOnceDisabledChange){for(var o=null,c=null,r=0,h=this.__cbOnceDisabledChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceDisabledChange[a],this.__cbOnceDisabledChange[a]=null,u=this.__cbOnceOwnerUnbindDisabledChange[a],(this.__cbOnceOwnerUnbindDisabledChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindDisabledChange[a]),c.push(this.__cbOnceDisabledChange[a]))}this.__cbOnceOwnerUnbindDisabledChange=o,this.__cbOnceDisabledChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onDisabledChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event disabledChange because owner is destroyed!");var l=function(e){null!=t&&(i.offDisabledChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindDisabledChange&&(this.__cbOnOwnerUnbindDisabledChange=[]),this.__cbOnOwnerUnbindDisabledChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindDisabledChange&&(this.__cbOnOwnerUnbindDisabledChange=[]),this.__cbOnOwnerUnbindDisabledChange.push(null);null==this.__cbOnDisabledChange&&(this.__cbOnDisabledChange=[]),this.__cbOnDisabledChange.push(t)},onceDisabledChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event disabledChange because owner is destroyed!");var l=function(e){null!=t&&(i.offDisabledChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindDisabledChange&&(this.__cbOnceOwnerUnbindDisabledChange=[]),this.__cbOnceOwnerUnbindDisabledChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindDisabledChange&&(this.__cbOnceOwnerUnbindDisabledChange=[]),this.__cbOnceOwnerUnbindDisabledChange.push(null);null==this.__cbOnceDisabledChange&&(this.__cbOnceDisabledChange=[]),this.__cbOnceDisabledChange.push(t)},offDisabledChange:function(e){if(null!=e){var n;null!=this.__cbOnDisabledChange&&-1!=(n=this.__cbOnDisabledChange.indexOf(e))&&(this.__cbOnDisabledChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindDisabledChange[n])&&s(),this.__cbOnOwnerUnbindDisabledChange.splice(n,1)),null!=this.__cbOnceDisabledChange&&-1!=(n=this.__cbOnceDisabledChange.indexOf(e))&&(this.__cbOnceDisabledChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindDisabledChange[n])&&s(),this.__cbOnceOwnerUnbindDisabledChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindDisabledChange){for(var t=0,i=this.__cbOnOwnerUnbindDisabledChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindDisabledChange[l])&&s()}this.__cbOnOwnerUnbindDisabledChange=null}if(null!=this.__cbOnceOwnerUnbindDisabledChange){for(t=0,i=this.__cbOnceOwnerUnbindDisabledChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindDisabledChange[l])&&s()}this.__cbOnceOwnerUnbindDisabledChange=null}this.__cbOnDisabledChange=null,this.__cbOnceDisabledChange=null}},listensDisabledChange:function(){return null!=this.__cbOnDisabledChange&&0<this.__cbOnDisabledChange.length||null!=this.__cbOnceDisabledChange&&0<this.__cbOnceDisabledChange.length},set_unobservedDisabled:function(e){return this.unobservedDisabled!=e&&(this.unobservedDisabled=e,this.set_touchable(!e),null!=this.editText&&this.editText.set_disabled(e),e)&&this.get_unobservedFocused()&&ae.app.screen.set_focusedVisual(null),e},pickerVisibleAutoruns:null,get_pickerVisible:function(){var e,n,t=this.unobservedPickerVisible;return null!=A.current&&(e=A.current,null!=(n=this.pickerVisibleAutoruns)||(n=A.getAutorunArray(),null!=(this.pickerVisibleAutoruns=n)))&&e.bindToAutorunArray(n),t},set_pickerVisible:function(e){var n=this.unobservedPickerVisible;return n!=(this.unobservedPickerVisible=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitPickerVisibleChange(e,n),null!=(n=this.pickerVisibleAutoruns))&&(this.pickerVisibleAutoruns=null,A.invalidateAutorunArray(n)),e},invalidatePickerVisible:function(){var e=this.unobservedPickerVisible,e=(this.emitPickerVisibleChange(e,e),this.pickerVisibleAutoruns);null!=e&&(this.pickerVisibleAutoruns=null,A.invalidateAutorunArray(e))},unobservedPickerVisible:null,__cbOnPickerVisibleChange:null,__cbOncePickerVisibleChange:null,__cbOnOwnerUnbindPickerVisibleChange:null,__cbOnceOwnerUnbindPickerVisibleChange:null,emitPickerVisibleChange:function(e,n){var t=0;if(null!=this.__cbOnPickerVisibleChange&&(t+=this.__cbOnPickerVisibleChange.length),null!=this.__cbOncePickerVisibleChange&&(t+=this.__cbOncePickerVisibleChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnPickerVisibleChange)for(var r=0,h=this.__cbOnPickerVisibleChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnPickerVisibleChange[a],++s):--t}if(null!=this.__cbOncePickerVisibleChange){for(var o=null,c=null,r=0,h=this.__cbOncePickerVisibleChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOncePickerVisibleChange[a],this.__cbOncePickerVisibleChange[a]=null,u=this.__cbOnceOwnerUnbindPickerVisibleChange[a],(this.__cbOnceOwnerUnbindPickerVisibleChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindPickerVisibleChange[a]),c.push(this.__cbOncePickerVisibleChange[a]))}this.__cbOnceOwnerUnbindPickerVisibleChange=o,this.__cbOncePickerVisibleChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onPickerVisibleChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event pickerVisibleChange because owner is destroyed!");var l=function(e){null!=t&&(i.offPickerVisibleChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindPickerVisibleChange&&(this.__cbOnOwnerUnbindPickerVisibleChange=[]),this.__cbOnOwnerUnbindPickerVisibleChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindPickerVisibleChange&&(this.__cbOnOwnerUnbindPickerVisibleChange=[]),this.__cbOnOwnerUnbindPickerVisibleChange.push(null);null==this.__cbOnPickerVisibleChange&&(this.__cbOnPickerVisibleChange=[]),this.__cbOnPickerVisibleChange.push(t)},oncePickerVisibleChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event pickerVisibleChange because owner is destroyed!");var l=function(e){null!=t&&(i.offPickerVisibleChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindPickerVisibleChange&&(this.__cbOnceOwnerUnbindPickerVisibleChange=[]),this.__cbOnceOwnerUnbindPickerVisibleChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindPickerVisibleChange&&(this.__cbOnceOwnerUnbindPickerVisibleChange=[]),this.__cbOnceOwnerUnbindPickerVisibleChange.push(null);null==this.__cbOncePickerVisibleChange&&(this.__cbOncePickerVisibleChange=[]),this.__cbOncePickerVisibleChange.push(t)},offPickerVisibleChange:function(e){if(null!=e){var n;null!=this.__cbOnPickerVisibleChange&&-1!=(n=this.__cbOnPickerVisibleChange.indexOf(e))&&(this.__cbOnPickerVisibleChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindPickerVisibleChange[n])&&s(),this.__cbOnOwnerUnbindPickerVisibleChange.splice(n,1)),null!=this.__cbOncePickerVisibleChange&&-1!=(n=this.__cbOncePickerVisibleChange.indexOf(e))&&(this.__cbOncePickerVisibleChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindPickerVisibleChange[n])&&s(),this.__cbOnceOwnerUnbindPickerVisibleChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindPickerVisibleChange){for(var t=0,i=this.__cbOnOwnerUnbindPickerVisibleChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindPickerVisibleChange[l])&&s()}this.__cbOnOwnerUnbindPickerVisibleChange=null}if(null!=this.__cbOnceOwnerUnbindPickerVisibleChange){for(t=0,i=this.__cbOnceOwnerUnbindPickerVisibleChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindPickerVisibleChange[l])&&s()}this.__cbOnceOwnerUnbindPickerVisibleChange=null}this.__cbOnPickerVisibleChange=null,this.__cbOncePickerVisibleChange=null}},listensPickerVisibleChange:function(){return null!=this.__cbOnPickerVisibleChange&&0<this.__cbOnPickerVisibleChange.length||null!=this.__cbOncePickerVisibleChange&&0<this.__cbOncePickerVisibleChange.length},keyBindings:null,set_keyBindings:function(e){return this.keyBindings==e?this.keyBindings:(null!=this.keyBindings&&this.keyBindings.destroy(),this.keyBindings=e,null!=this.keyBindings?(this.component("keyBindings",this.keyBindings,!0),this.keyBindings):(this.removeComponent("keyBindings"),null))},container:null,textView:null,textPrefixView:null,editText:null,colorPreview:null,pickerContainer:null,pickerView:null,bubbleTriangle:null,bubbleTopBorderLeft:null,bubbleTopBorderRight:null,updatingFromPicker:null,editingThisFrame:null,focus:function(){X2.prototype.focus.call(this),this.get_focused()||this.editText.focus()},didLostFocus:function(){X2.prototype.didLostFocus.call(this),""==this.textView.text.content?(this.setValue(this,16777215),this.updateFromValue()):hd.RE_HEX_COLOR.match(this.textView.text.content)||this.updateFromValue()},layout:function(){X2.prototype.layout.call(this)},layoutContainer:function(){},updatePickerVisibility:function(){if(null!=this.pickerView&&this.get_pickerVisible()&&Ei.get_shared().get_focusedField()!=this){for(var e=ae.app.screen.get_focusedVisual(),n=!1;null!=e;){if(e==this.pickerView){n=!0;break}e=e.parent}n||this.set_pickerVisible(!1)}},updatePickerPosition:function(){if(1!=(1&this.pickerContainer.flags)){var e=this.getScrollingLayout(),n=(this.colorPreview.visualToScreen(.5*this.colorPreview.get_width(),.5*this.colorPreview.get_height(),hd._point),hd._point.x),t=hd._point.y;if(G.get_context().view.screenToVisual(n,t,hd._point),n=hd._point.x,t=hd._point.y,null!=this.pickerView)if(null!=e)if(e.screenToVisual(0,0,hd._point),G.get_context().view.screenToVisual(hd._point.x,hd._point.y,hd._point),t+hd._point.y<0){var i=this.pickerContainer;if(i.clip!=e&&(i.clip=e,i.clipDirty=!0,null!=i.children))for(var l=0,s=i.children.length;l<s;){var r=l++;if((u=i.children[r]).clipDirty=!0,null!=u.children)for(var h=0,a=u.children.length;h<a;){var o=h++;u.children[o].set_clipDirty(!0)}}}else{var i=this.pickerContainer,c=null;if(i.clip!=c&&(i.clip=c,i.clipDirty=!0,null!=i.children))for(l=0,s=i.children.length;l<s;){r=l++;if((u=i.children[r]).clipDirty=!0,null!=u.children)for(h=0,a=u.children.length;h<a;){o=h++;u.children[o].set_clipDirty(!0)}}}else{i=this.pickerContainer,c=null;if(i.clip!=c&&(i.clip=c,i.clipDirty=!0,null!=i.children))for(l=0,s=i.children.length;l<s;){r=l++;if((u=i.children[r]).clipDirty=!0,null!=u.children)for(h=0,a=u.children.length;h<a;){o=h++;u.children[o].set_clipDirty(!0)}}}else{i=this.pickerContainer,c=null;if(i.clip!=c&&(i.clip=c,i.clipDirty=!0,null!=i.children))for(l=0,s=i.children.length;l<s;){var u,r=l++;if((u=i.children[r]).clipDirty=!0,null!=u.children)for(h=0,a=u.children.length;h<a;){o=h++;u.children[o].set_clipDirty(!0)}}}n==this.pickerContainer.x&&t==this.pickerContainer.y||(this.pickerContainer.layoutDirty=!0),(i=this.pickerContainer).set_x(n),i.set_y(t)}},updateEditingThisFrame:function(){this.editingThisFrame=null!=this.editText&&this.editText.get_editing()},layoutPickerContainer:function(){var e,n,t;null!=this.pickerView&&(null==(e=!0)&&(e=!1),(t=this.pickerView).computedSize=t.persistedComputedSizeForContext(0,0,15),null==t.computedSize&&t.computeSize(0,0,15,!0),e&&null!=t.computedSize&&(e=t.computedSize.computedHeight,t.set_width(t.computedSize.computedWidth),t.set_height(e)),this.pickerView.visualToScreen(this.pickerView.get_width(),this.pickerView.get_height(),hd._point),G.get_context().view.screenToVisual(hd._point.x,hd._point.y,hd._point),this.pickerView.set_x(Math.max(Math.min(G.get_context().view.get_width()-this.pickerView.get_width()-9-this.pickerContainer.x,-.5*this.pickerView.get_width()),9-this.pickerContainer.x)),e=G.get_context().view.get_height()-this.pickerContainer.y-.5*this.colorPreview.get_height()-9-12,(t=this.bubbleTriangle).set_width(14),t.set_height(7),this.pickerView.get_height()<=e?(this.pickerView.set_y(.5*this.colorPreview.get_height()+12),t=this.bubbleTriangle,n=this.pickerView.y,t.set_x(0),t.set_y(n),this.bubbleTriangle.set_rotation(0),0!=(t=this.pickerView).borderTopSize&&(t.borderTopSize=0,t.updateBorder()),1!=(t=this.pickerView).borderBottomSize&&(t.borderBottomSize=1,t.updateBorder()),(t=this.bubbleTopBorderLeft).set_x(-1),t.set_y(-1),(t=this.bubbleTopBorderLeft).set_width(.5-this.pickerView.x-.5*this.bubbleTriangle.get_width()),t.set_height(1),(t=this.bubbleTopBorderRight).set_x(-this.pickerView.x+.5*this.bubbleTriangle.get_width()),t.set_y(-1)):(this.pickerView.set_y(-this.pickerView.get_height()-.5*this.colorPreview.get_height()-12),t=this.bubbleTriangle,n=this.pickerView.y+this.pickerView.get_height(),t.set_x(0),t.set_y(n),this.bubbleTriangle.set_rotation(180),1!=(t=this.pickerView).borderTopSize&&(t.borderTopSize=1,t.updateBorder()),0!=(t=this.pickerView).borderBottomSize&&(t.borderBottomSize=0,t.updateBorder()),t=this.bubbleTopBorderLeft,n=this.pickerView.get_height(),t.set_x(-1),t.set_y(n),(t=this.bubbleTopBorderLeft).set_width(.5-this.pickerView.x-.5*this.bubbleTriangle.get_width()),t.set_height(1),t=this.bubbleTopBorderRight,e=-this.pickerView.x+.5*this.bubbleTriangle.get_width(),n=this.pickerView.get_height(),t.set_x(e),t.set_y(n)),(t=this.bubbleTopBorderRight).set_width(1+this.pickerView.get_width()-.5*this.bubbleTriangle.get_width()+this.pickerView.x),t.set_height(1))},bindKeyBindings:function(){var n=this;this.set_keyBindings(new Ln),this.keyBindings.bind([Rn.CMD_OR_CTRL,Rn.KEY(97)],function(){var e;n.get_focused()&&((e=n.textView.text.component("selectText")).set_selectionStart(0),e.set_selectionEnd(n.textView.text.content.length))})},destroy:function(){this._lifecycleState<=-2||(this._lifecycleState=-2,this._lifecycleState=-1,X2.prototype.destroy.call(this),null!=this.pickerContainer&&(this.pickerContainer.destroy(),this.pickerContainer=null))},updateFromEditText:function(e){""!=e&&(z.startsWith(e,"#")&&(e=he.substr(e,1,null)),e=(e=8==(e=z.startsWith(e,"0x")?he.substr(e,2,null):e).length?he.substr(e,0,6):e).toUpperCase(),hd.RE_HEX_COLOR.match(e)&&this.setValue(this,P.fromString("0x"+e)),!hd.RE_HEX_COLOR_ANY_LENGTH.match(e)||6<e.length)&&this.updateFromValue()},handleStopEditText:function(){},updateFromValue:function(){var e=this.get_value(),n=(A.unobserve(),!1),n=((n=null==n?!0:n)?"0x":"")+z.hex(e>>16&255,2)+z.hex(e>>8&255,2)+z.hex(255&e,2);this.editText.updateText(n),this.textView.set_content(n),this.colorPreview.color=e,this.colorPreview.layoutDirty=!0,A.reobserve()},updateStyle:function(){var e,n,t=this.get_theme();null==t&&(t=G.get_context().get_theme()),null!=this.editText&&(this.editText.set_selectionColor(t.get_focusedFieldSelectionColor()),this.editText.set_textCursorColor(t.get_lightTextColor())),this.container.color=t.get_darkBackgroundColor(),this.textView.set_textColor(t.get_fieldTextColor()),this.textView.set_font(t.get_mediumFont()),this.textPrefixView.set_textColor(t.get_darkTextColor()),this.textPrefixView.set_font(t.get_mediumFont()),this.get_focused()||this.get_pickerVisible()?(1!=(e=this.container).borderSize&&(e.borderSize=1,e.updateBorder()),e=this.container,n=t.get_focusedFieldBorderColor(),e.borderColor!=n&&(e.borderColor=n,0<e.borderSize||0<e.borderTopSize||0<e.borderBottomSize||0<e.borderLeftSize||0<e.borderRightSize)&&e.updateBorder(),this.textView.set_textAlpha(1)):this.get_disabled()?(0!=(e=this.container).borderSize&&(e.borderSize=0,e.updateBorder()),this.textView.set_textAlpha(.5)):(1!=(e=this.container).borderSize&&(e.borderSize=1,e.updateBorder()),e=this.container,n=t.get_lightBorderColor(),e.borderColor!=n&&(e.borderColor=n,0<e.borderSize||0<e.borderTopSize||0<e.borderBottomSize||0<e.borderLeftSize||0<e.borderRightSize)&&e.updateBorder(),this.textView.set_textAlpha(1))},togglePickerVisible:function(){this.set_pickerVisible(!this.get_pickerVisible())},updatePickerContainer:function(){var _=this,e=this.get_pickerVisible(),n=this.get_value();A.unobserve(),e?(null==this.pickerView&&(this.pickerView=new Mi(this),this.pickerView.autorun(function(){var e=_.get_theme();A.unobserve(),_.pickerView.set_theme(e)}),this.pickerView.set_depth(10),this.pickerView.onColorValueChange(this.pickerView,function(e,n){_.updatingFromPicker++,_.setValue(_,e),ae.app.onceUpdate(_,function(e){_.updatingFromPicker--})}),this.pickerContainer.add(this.pickerView),this.bubbleTopBorderLeft=new p,this.pickerView.add(this.bubbleTopBorderLeft),this.bubbleTopBorderRight=new p,this.pickerView.add(this.bubbleTopBorderRight),this.bubbleTriangle=new $2,(e=this.bubbleTriangle).set_anchorX(.5),e.set_anchorY(1),1.5!=(e=this.bubbleTriangle).borderSize&&(e.borderSize=1.5,e.contentDirty=!0,ae.app.visualsContentDirty=!0),this.bubbleTriangle.autorun(function(){var e,n,t,i,l=_.get_theme(),s=(l=null==l?G.get_context().get_theme():l).get_overlayBorderColor(),r=l.get_overlayBorderAlpha(),h=_.bubbleTriangle,a=l.get_overlayBackgroundColor(),h=(h.innerColor!=a&&(c=(o=h.colors[0])>>24&255,h.colors[0]=u=(u=(0|a)-16777216)&16777215|(255<(c=null==c?255:c)?255:c<0?0:c)<<24,c=(o=h.colors[1])>>24&255,h.colors[1]=u=(u=(0|a)-16777216)&16777215|(255<(c=null==c?255:c)?255:c<0?0:c)<<24,c=(o=h.colors[2])>>24&255,h.colors[2]=u=(u=(0|a)-16777216)&16777215|(255<(c=null==c?255:c)?255:c<0?0:c)<<24),_.bubbleTriangle),a=l.get_overlayBackgroundAlpha();if(h.innerAlpha!=a&&(c=e=Math.round(255*a),u=(0|(((0&65535|(255<(n=(o=h.colors[0])>>16&255)?255:n<0?0:n)<<16)&16711935|(255<(t=o>>8&255)?255:t<0?0:t)<<8)&16776960|(255<(i=255&o)?255:i<0?0:i)))-16777216,h.colors[0]=u=u&16777215|(255<(c=null==c?255:c)?255:c<0?0:c)<<24,u=(0|(((0&65535|(255<(n=(o=h.colors[1])>>16&255)?255:n<0?0:n)<<16)&16711935|(255<(t=o>>8&255)?255:t<0?0:t)<<8)&16776960|(255<(i=255&o)?255:i<0?0:i)))-16777216,h.colors[1]=u=u&16777215|(255<(c=null==(c=e)?255:c)?255:c<0?0:c)<<24,u=(0|(((0&65535|(255<(n=(o=h.colors[2])>>16&255)?255:n<0?0:n)<<16)&16711935|(255<(t=o>>8&255)?255:t<0?0:t)<<8)&16776960|(255<(i=255&o)?255:i<0?0:i)))-16777216,h.colors[2]=u=u&16777215|(255<(c=null==(c=e)?255:c)?255:c<0?0:c)<<24),(h=_.bubbleTriangle).borderColor!=s){h.borderColor=s;{var o=h.colors[3],c=o>>24&255,u=(null==c&&(c=255),(0|s)-16777216);h.colors[3]=u=u&16777215|(255<c?255:c<0?0:c)<<24;var c=(o=h.colors[4])>>24&255,u=(0|s)-16777216}h.colors[4]=u=u&16777215|(255<(c=null==c?255:c)?255:c<0?0:c)<<24;var c=(o=h.colors[5])>>24&255,u=(0|s)-16777216;h.colors[5]=u=u&16777215|(255<(c=null==c?255:c)?255:c<0?0:c)<<24;var c=(o=h.colors[6])>>24&255,u=(0|s)-16777216;h.colors[6]=u=u&16777215|(255<(c=null==c?255:c)?255:c<0?0:c)<<24;var c=(o=h.colors[7])>>24&255,u=(0|s)-16777216;h.colors[7]=u=u&16777215|(255<(c=null==c?255:c)?255:c<0?0:c)<<24;var c=(o=h.colors[8])>>24&255,u=(0|s)-16777216;h.colors[8]=u=u&16777215|(255<(c=null==c?255:c)?255:c<0?0:c)<<24;var c=(o=h.colors[9])>>24&255,u=(0|s)-16777216;h.colors[9]=u=u&16777215|(255<(c=null==c?255:c)?255:c<0?0:c)<<24;var c=(o=h.colors[10])>>24&255,u=(0|s)-16777216;h.colors[10]=u=u&16777215|(255<(c=null==c?255:c)?255:c<0?0:c)<<24;var c=(o=h.colors[11])>>24&255,u=(0|s)-16777216;h.colors[11]=u=u&16777215|(255<(c=null==c?255:c)?255:c<0?0:c)<<24;var c=(o=h.colors[12])>>24&255,u=(0|s)-16777216;h.colors[12]=u=u&16777215|(255<(c=null==c?255:c)?255:c<0?0:c)<<24;var c=(o=h.colors[13])>>24&255,u=(0|s)-16777216;h.colors[13]=u=u&16777215|(255<(c=null==c?255:c)?255:c<0?0:c)<<24;var c=(o=h.colors[14])>>24&255,u=(0|s)-16777216;h.colors[14]=u=u&16777215|(255<(c=null==c?255:c)?255:c<0?0:c)<<24}(h=_.bubbleTriangle).borderAlpha!=r&&(h.borderAlpha=r,c=e=Math.round(255*r),u=(0|(((0&65535|(255<(n=(o=h.colors[3])>>16&255)?255:n<0?0:n)<<16)&16711935|(255<(t=o>>8&255)?255:t<0?0:t)<<8)&16776960|(255<(i=255&o)?255:i<0?0:i)))-16777216,h.colors[3]=u=u&16777215|(255<(c=null==c?255:c)?255:c<0?0:c)<<24,u=(0|(((0&65535|(255<(n=(o=h.colors[4])>>16&255)?255:n<0?0:n)<<16)&16711935|(255<(t=o>>8&255)?255:t<0?0:t)<<8)&16776960|(255<(i=255&o)?255:i<0?0:i)))-16777216,h.colors[4]=u=u&16777215|(255<(c=null==(c=e)?255:c)?255:c<0?0:c)<<24,u=(0|(((0&65535|(255<(n=(o=h.colors[5])>>16&255)?255:n<0?0:n)<<16)&16711935|(255<(t=o>>8&255)?255:t<0?0:t)<<8)&16776960|(255<(i=255&o)?255:i<0?0:i)))-16777216,h.colors[5]=u=u&16777215|(255<(c=null==(c=e)?255:c)?255:c<0?0:c)<<24,u=(0|(((0&65535|(255<(n=(o=h.colors[6])>>16&255)?255:n<0?0:n)<<16)&16711935|(255<(t=o>>8&255)?255:t<0?0:t)<<8)&16776960|(255<(i=255&o)?255:i<0?0:i)))-16777216,h.colors[6]=u=u&16777215|(255<(c=null==(c=e)?255:c)?255:c<0?0:c)<<24,u=(0|(((0&65535|(255<(n=(o=h.colors[7])>>16&255)?255:n<0?0:n)<<16)&16711935|(255<(t=o>>8&255)?255:t<0?0:t)<<8)&16776960|(255<(i=255&o)?255:i<0?0:i)))-16777216,h.colors[7]=u=u&16777215|(255<(c=null==(c=e)?255:c)?255:c<0?0:c)<<24,u=(0|(((0&65535|(255<(n=(o=h.colors[8])>>16&255)?255:n<0?0:n)<<16)&16711935|(255<(t=o>>8&255)?255:t<0?0:t)<<8)&16776960|(255<(i=255&o)?255:i<0?0:i)))-16777216,h.colors[8]=u=u&16777215|(255<(c=null==(c=e)?255:c)?255:c<0?0:c)<<24,u=(0|(((0&65535|(255<(n=(o=h.colors[9])>>16&255)?255:n<0?0:n)<<16)&16711935|(255<(t=o>>8&255)?255:t<0?0:t)<<8)&16776960|(255<(i=255&o)?255:i<0?0:i)))-16777216,h.colors[9]=u=u&16777215|(255<(c=null==(c=e)?255:c)?255:c<0?0:c)<<24,u=(0|(((0&65535|(255<(n=(o=h.colors[10])>>16&255)?255:n<0?0:n)<<16)&16711935|(255<(t=o>>8&255)?255:t<0?0:t)<<8)&16776960|(255<(i=255&o)?255:i<0?0:i)))-16777216,h.colors[10]=u=u&16777215|(255<(c=null==(c=e)?255:c)?255:c<0?0:c)<<24,u=(0|(((0&65535|(255<(n=(o=h.colors[11])>>16&255)?255:n<0?0:n)<<16)&16711935|(255<(t=o>>8&255)?255:t<0?0:t)<<8)&16776960|(255<(i=255&o)?255:i<0?0:i)))-16777216,h.colors[11]=u=u&16777215|(255<(c=null==(c=e)?255:c)?255:c<0?0:c)<<24,u=(0|(((0&65535|(255<(n=(o=h.colors[12])>>16&255)?255:n<0?0:n)<<16)&16711935|(255<(t=o>>8&255)?255:t<0?0:t)<<8)&16776960|(255<(i=255&o)?255:i<0?0:i)))-16777216,h.colors[12]=u=u&16777215|(255<(c=null==(c=e)?255:c)?255:c<0?0:c)<<24,u=(0|(((0&65535|(255<(n=(o=h.colors[13])>>16&255)?255:n<0?0:n)<<16)&16711935|(255<(t=o>>8&255)?255:t<0?0:t)<<8)&16776960|(255<(i=255&o)?255:i<0?0:i)))-16777216,h.colors[13]=u=u&16777215|(255<(c=null==(c=e)?255:c)?255:c<0?0:c)<<24,u=(0|(((0&65535|(255<(n=(o=h.colors[14])>>16&255)?255:n<0?0:n)<<16)&16711935|(255<(t=o>>8&255)?255:t<0?0:t)<<8)&16776960|(255<(i=255&o)?255:i<0?0:i)))-16777216,h.colors[14]=u=u&16777215|(255<(c=null==(c=e)?255:c)?255:c<0?0:c)<<24),_.bubbleTopBorderLeft.color=s,_.bubbleTopBorderLeft.set_alpha(r),_.bubbleTopBorderRight.color=s,_.bubbleTopBorderRight.set_alpha(r)}),this.pickerContainer.add(this.bubbleTriangle),this.pickerContainer.set_active(!0),this.updatePickerPosition()),0==this.updatingFromPicker&&this.pickerView.setColorFromRGB(n>>16&255,n>>8&255,255&n)):null!=this.pickerView&&(this.pickerView.destroy(),this.pickerView=null,this.bubbleTriangle.destroy(),this.bubbleTriangle=null,this.pickerContainer.set_active(!1)),A.reobserve()},hitsSelfOrDerived:function(e,n){return!!this._hits(e,n,!1)||!(!this.get_pickerVisible()||null==this.pickerView)&&this.pickerView._hits(e,n,!1)},usesScanCode:function(e){return!!X2.prototype.usesScanCode.call(this,e)||!!(this.editingThisFrame||null!=this.editText&&this.editText.get_editing())||!(!this.get_pickerVisible()||null==this.pickerView||41!=e&&40!=e)},usesKeyCode:function(e){return!!X2.prototype.usesKeyCode.call(this,e)||!!(this.editingThisFrame||null!=this.editText&&this.editText.get_editing())||!(!this.get_pickerVisible()||null==this.pickerView||27!=e&&13!=e)},unbindEvents:function(){X2.prototype.unbindEvents.call(this),this.offThemeChange(),this.offValueChange(),this.offDisabledChange(),this.offPickerVisibleChange()},__class__:hd,__properties__:$extend(X2.prototype.__properties__,{set_keyBindings:"set_keyBindings",set_pickerVisible:"set_pickerVisible",get_pickerVisible:"get_pickerVisible",set_unobservedDisabled:"set_unobservedDisabled",set_disabled:"set_disabled",get_disabled:"get_disabled",set_value:"set_value",get_value:"get_value",set_theme:"set_theme",get_theme:"get_theme"})}),(E["elements.ColorPickerHSBGradientView"]=id).__name__="elements.ColorPickerHSBGradientView",id.__super__=f0,id.prototype=$extend(f0.prototype,{__cbOnUpdateColorFromPointer:null,__cbOnceUpdateColorFromPointer:null,__cbOnOwnerUnbindUpdateColorFromPointer:null,__cbOnceOwnerUnbindUpdateColorFromPointer:null,emitUpdateColorFromPointer:function(){var e=0;if(null!=this.__cbOnUpdateColorFromPointer&&(e+=this.__cbOnUpdateColorFromPointer.length),null!=this.__cbOnceUpdateColorFromPointer&&(e+=this.__cbOnceUpdateColorFromPointer.length),0<e){var n=C.pool(e),t=n.get(),i=0;if(null!=this.__cbOnUpdateColorFromPointer)for(var l=0,s=this.__cbOnUpdateColorFromPointer.length;l<s;){var r=l++;!0?(t.vector[i]=this.__cbOnUpdateColorFromPointer[r],++i):--e}if(null!=this.__cbOnceUpdateColorFromPointer){for(var h=null,a=null,l=0,s=this.__cbOnceUpdateColorFromPointer.length;l<s;){var o,r=l++;!0?(t.vector[i]=this.__cbOnceUpdateColorFromPointer[r],this.__cbOnceUpdateColorFromPointer[r]=null,o=this.__cbOnceOwnerUnbindUpdateColorFromPointer[r],(this.__cbOnceOwnerUnbindUpdateColorFromPointer[r]=null)!=o&&o(),++i):(--e,null==h&&(h=[],a=[],0),h.push(this.__cbOnceOwnerUnbindUpdateColorFromPointer[r]),a.push(this.__cbOnceUpdateColorFromPointer[r]))}this.__cbOnceOwnerUnbindUpdateColorFromPointer=h,this.__cbOnceUpdateColorFromPointer=a}for(l=0,s=e;l<s;){i=l++;(0,t.vector[i])()}n.release(t)}},onUpdateColorFromPointer:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event updateColorFromPointer because owner is destroyed!");var l=function(e){null!=t&&(i.offUpdateColorFromPointer(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindUpdateColorFromPointer&&(this.__cbOnOwnerUnbindUpdateColorFromPointer=[]),this.__cbOnOwnerUnbindUpdateColorFromPointer.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindUpdateColorFromPointer&&(this.__cbOnOwnerUnbindUpdateColorFromPointer=[]),this.__cbOnOwnerUnbindUpdateColorFromPointer.push(null);null==this.__cbOnUpdateColorFromPointer&&(this.__cbOnUpdateColorFromPointer=[]),this.__cbOnUpdateColorFromPointer.push(t)},onceUpdateColorFromPointer:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event updateColorFromPointer because owner is destroyed!");var l=function(e){null!=t&&(i.offUpdateColorFromPointer(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindUpdateColorFromPointer&&(this.__cbOnceOwnerUnbindUpdateColorFromPointer=[]),this.__cbOnceOwnerUnbindUpdateColorFromPointer.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindUpdateColorFromPointer&&(this.__cbOnceOwnerUnbindUpdateColorFromPointer=[]),this.__cbOnceOwnerUnbindUpdateColorFromPointer.push(null);null==this.__cbOnceUpdateColorFromPointer&&(this.__cbOnceUpdateColorFromPointer=[]),this.__cbOnceUpdateColorFromPointer.push(t)},offUpdateColorFromPointer:function(e){if(null!=e){var n;null!=this.__cbOnUpdateColorFromPointer&&-1!=(n=this.__cbOnUpdateColorFromPointer.indexOf(e))&&(this.__cbOnUpdateColorFromPointer.splice(n,1),null!=(s=this.__cbOnOwnerUnbindUpdateColorFromPointer[n])&&s(),this.__cbOnOwnerUnbindUpdateColorFromPointer.splice(n,1)),null!=this.__cbOnceUpdateColorFromPointer&&-1!=(n=this.__cbOnceUpdateColorFromPointer.indexOf(e))&&(this.__cbOnceUpdateColorFromPointer.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindUpdateColorFromPointer[n])&&s(),this.__cbOnceOwnerUnbindUpdateColorFromPointer.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindUpdateColorFromPointer){for(var t=0,i=this.__cbOnOwnerUnbindUpdateColorFromPointer.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindUpdateColorFromPointer[l])&&s()}this.__cbOnOwnerUnbindUpdateColorFromPointer=null}if(null!=this.__cbOnceOwnerUnbindUpdateColorFromPointer){for(t=0,i=this.__cbOnceOwnerUnbindUpdateColorFromPointer.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindUpdateColorFromPointer[l])&&s()}this.__cbOnceOwnerUnbindUpdateColorFromPointer=null}this.__cbOnUpdateColorFromPointer=null,this.__cbOnceUpdateColorFromPointer=null}},listensUpdateColorFromPointer:function(){return null!=this.__cbOnUpdateColorFromPointer&&0<this.__cbOnUpdateColorFromPointer.length||null!=this.__cbOnceUpdateColorFromPointer&&0<this.__cbOnceUpdateColorFromPointer.length},colorValue:null,set_colorValue:function(e){return this.colorValue!=e&&(this.colorValue=e,this.updateTintColor(),this.updatePointerFromColor()),e},movingSpectrum:null,blackGradient:null,tintGradient:null,colorPointer:null,targetPointerColor:null,pointerColorTween:null,movingPointer:null,savedPointerX:null,savedPointerY:null,filter:null,hue:null,updateTintColor:function(e){null!=e&&(this.hue=e);var n=0,t=1-Math.abs(0),i=.5-t/2,e=this.hue,l=t,t=(e%=360)/60,s=l*(1-Math.abs(t%2-1))+i;switch(l+=i,0|t){case 0:n=n&65535|(255<(r=Math.round(255*l))?255:r<0?0:r)<<16;var r=Math.round(255*s),r=(n=n&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*i)),n=n&16776960|(255<r?255:r<0?0:r);break;case 1:r=(n=n&65535|(255<(r=Math.round(255*s))?255:r<0?0:r)<<16,Math.round(255*l)),r=(n=n&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*i));n=n&16776960|(255<r?255:r<0?0:r);break;case 2:r=(n=n&65535|(255<(r=Math.round(255*i))?255:r<0?0:r)<<16,Math.round(255*l)),r=(n=n&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*s));n=n&16776960|(255<r?255:r<0?0:r);break;case 3:r=(n=n&65535|(255<(r=Math.round(255*i))?255:r<0?0:r)<<16,Math.round(255*s)),r=(n=n&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*l));n=n&16776960|(255<r?255:r<0?0:r);break;case 4:r=(n=n&65535|(255<(r=Math.round(255*s))?255:r<0?0:r)<<16,Math.round(255*i)),r=(n=n&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*l));n=n&16776960|(255<r?255:r<0?0:r);break;case 5:r=(n=n&65535|(255<(r=Math.round(255*l))?255:r<0?0:r)<<16,Math.round(255*i)),r=(n=n&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*s));n=n&16776960|(255<r?255:r<0?0:r)}e=n,r=(0|e)-16777216,this.tintGradient.colors[1]=r=r&16777215|-16777216,r=(0|e)-16777216;this.tintGradient.colors[2]=r=r&16777215|-16777216},savePointerPosition:function(){this.savedPointerX=this.colorPointer.x,this.savedPointerY=this.colorPointer.y},restorePointerPosition:function(){this.colorPointer.set_x(this.savedPointerX),this.colorPointer.set_y(this.savedPointerY)},getBrightnessFromPointer:function(){var e=1-this.colorPointer.y/this.get_height();return e=1<(e=e<0?0:e)?1:e},getSaturationFromPointer:function(){var e=this.colorPointer.x/this.get_width();return e=1<(e=e<0?0:e)?1:e},updatePointerFromColor:function(){var r,h=this,e=this.colorValue,n=Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255)),e=this.colorValue,t=(Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))-Math.min((e>>16&255)/255,Math.min((e>>8&255)/255,(255&e)/255)))/Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255)),i=this.colorPointer,t=this.get_width()*t,n=this.get_height()*(1-n),t=(i.set_x(t),i.set_y(n),16777215),e=this.colorValue,n=id._tuple;null==n&&(n=[0,0,0]),P._hsluvTuple[0]=(e>>16&255)/255,P._hsluvTuple[1]=(e>>8&255)/255,P._hsluvTuple[2]=(255&e)/255,x.rgbToHsluv(P._hsluvTuple,n),n[1]*=.01,n[2]*=.01,.5<id._tuple[2]&&(t=0),this.movingPointer||this.movingSpectrum?this.targetPointerColor!=t&&(this.targetPointerColor=t,null!=this.pointerColorTween&&(this.pointerColorTween.destroy(),this.pointerColorTween=null),r=this.colorPointer.borderColor,this.pointerColorTween=this.tween(null,.4,0,1,function(e,n){var t=h.colorPointer,i=h.targetPointerColor,l=((i>>16&255)-(r>>16&255))*(e=null==e?.5:e)+(r>>16&255)|0,s=((i>>8&255)-(r>>8&255))*e+(r>>8&255)|0,i=((255&i)-(255&r))*e+(255&r)|0,e=0;e=16776960&(e=16711935&(e=65535&e|(255<l?255:l<0?0:l)<<16)|(255<s?255:s<0?0:s)<<8)|(255<i?255:i<0?0:i);t.borderColor!=e&&(t.borderColor=e,t.autoComputeColors)&&t.computeColors()})):(this.targetPointerColor=t,i=this.colorPointer,e=this.targetPointerColor,i.borderColor!=e&&(i.borderColor=e,i.autoComputeColors)&&i.computeColors())},layout:function(){var e=this.filter,n=this.get_width(),t=this.get_height(),e=(e.set_width(n),e.set_height(t),this.blackGradient),n=this.get_width(),t=this.get_height(),e=(e.set_scaleX(n),e.set_scaleY(t),this.tintGradient),n=this.get_width(),t=this.get_height();e.set_scaleX(n),e.set_scaleY(t),this.updatePointerFromColor()},handlePointerDown:function(e){ae.app.screen.onPointerMove(this,$bind(this,this.handlePointerMove)),this.updateColorFromTouchInfo(e),this.movingPointer=!0},handlePointerMove:function(e){this.updateColorFromTouchInfo(e)},handlePointerUp:function(e){ae.app.screen.offPointerMove($bind(this,this.handlePointerMove)),this.updateColorFromTouchInfo(e),this.movingPointer=!1},updateColorFromTouchInfo:function(e){this.screenToVisual(e.x,e.y,id._point);var e=1-id._point.y/this.get_height(),n=(1<(e=e<0?0:e)&&(e=1),id._point.x/this.get_width()),n=(this.set_colorValue(P.fromHSB(this.hue,n=1<(n=n<0?0:n)?1:n,e)),this.updatePointerFromColor(),this.emitUpdateColorFromPointer(),this.colorPointer),e=Math.max(0,Math.min(this.get_width(),id._point.x)),t=Math.max(0,Math.min(this.get_height(),id._point.y));n.set_x(e),n.set_y(t)},unbindEvents:function(){f0.prototype.unbindEvents.call(this),this.offUpdateColorFromPointer()},__class__:id,__properties__:$extend(f0.prototype.__properties__,{set_colorValue:"set_colorValue"})}),(E["elements.ColorPickerHSBSpectrumView"]=jd).__name__="elements.ColorPickerHSBSpectrumView",jd.__interfaces__=[s],jd.__super__=f0,jd.prototype=$extend(f0.prototype,{__cbOnObservedDirty:null,__cbOnceObservedDirty:null,__cbOnOwnerUnbindObservedDirty:null,__cbOnceOwnerUnbindObservedDirty:null,emitObservedDirty:function(e,n){var t=0;if(null!=this.__cbOnObservedDirty&&(t+=this.__cbOnObservedDirty.length),null!=this.__cbOnceObservedDirty&&(t+=this.__cbOnceObservedDirty.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnObservedDirty)for(var r=0,h=this.__cbOnObservedDirty.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnObservedDirty[a],++s):--t}if(null!=this.__cbOnceObservedDirty){for(var o=null,c=null,r=0,h=this.__cbOnceObservedDirty.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceObservedDirty[a],this.__cbOnceObservedDirty[a]=null,u=this.__cbOnceOwnerUnbindObservedDirty[a],(this.__cbOnceOwnerUnbindObservedDirty[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindObservedDirty[a]),c.push(this.__cbOnceObservedDirty[a]))}this.__cbOnceOwnerUnbindObservedDirty=o,this.__cbOnceObservedDirty=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onObservedDirty:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event observedDirty because owner is destroyed!");var l=function(e){null!=t&&(i.offObservedDirty(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push(null);null==this.__cbOnObservedDirty&&(this.__cbOnObservedDirty=[]),this.__cbOnObservedDirty.push(t)},onceObservedDirty:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event observedDirty because owner is destroyed!");var l=function(e){null!=t&&(i.offObservedDirty(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push(null);null==this.__cbOnceObservedDirty&&(this.__cbOnceObservedDirty=[]),this.__cbOnceObservedDirty.push(t)},offObservedDirty:function(e){if(null!=e){var n;null!=this.__cbOnObservedDirty&&-1!=(n=this.__cbOnObservedDirty.indexOf(e))&&(this.__cbOnObservedDirty.splice(n,1),null!=(s=this.__cbOnOwnerUnbindObservedDirty[n])&&s(),this.__cbOnOwnerUnbindObservedDirty.splice(n,1)),null!=this.__cbOnceObservedDirty&&-1!=(n=this.__cbOnceObservedDirty.indexOf(e))&&(this.__cbOnceObservedDirty.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindObservedDirty[n])&&s(),this.__cbOnceOwnerUnbindObservedDirty.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindObservedDirty){for(var t=0,i=this.__cbOnOwnerUnbindObservedDirty.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindObservedDirty[l])&&s()}this.__cbOnOwnerUnbindObservedDirty=null}if(null!=this.__cbOnceOwnerUnbindObservedDirty){for(t=0,i=this.__cbOnceOwnerUnbindObservedDirty.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindObservedDirty[l])&&s()}this.__cbOnceOwnerUnbindObservedDirty=null}this.__cbOnObservedDirty=null,this.__cbOnceObservedDirty=null}},listensObservedDirty:function(){return null!=this.__cbOnObservedDirty&&0<this.__cbOnObservedDirty.length||null!=this.__cbOnceObservedDirty&&0<this.__cbOnceObservedDirty.length},observedDirty:null,__cbOnUpdateHueFromPointer:null,__cbOnceUpdateHueFromPointer:null,__cbOnOwnerUnbindUpdateHueFromPointer:null,__cbOnceOwnerUnbindUpdateHueFromPointer:null,emitUpdateHueFromPointer:function(){var e=0;if(null!=this.__cbOnUpdateHueFromPointer&&(e+=this.__cbOnUpdateHueFromPointer.length),null!=this.__cbOnceUpdateHueFromPointer&&(e+=this.__cbOnceUpdateHueFromPointer.length),0<e){var n=C.pool(e),t=n.get(),i=0;if(null!=this.__cbOnUpdateHueFromPointer)for(var l=0,s=this.__cbOnUpdateHueFromPointer.length;l<s;){var r=l++;!0?(t.vector[i]=this.__cbOnUpdateHueFromPointer[r],++i):--e}if(null!=this.__cbOnceUpdateHueFromPointer){for(var h=null,a=null,l=0,s=this.__cbOnceUpdateHueFromPointer.length;l<s;){var o,r=l++;!0?(t.vector[i]=this.__cbOnceUpdateHueFromPointer[r],this.__cbOnceUpdateHueFromPointer[r]=null,o=this.__cbOnceOwnerUnbindUpdateHueFromPointer[r],(this.__cbOnceOwnerUnbindUpdateHueFromPointer[r]=null)!=o&&o(),++i):(--e,null==h&&(h=[],a=[],0),h.push(this.__cbOnceOwnerUnbindUpdateHueFromPointer[r]),a.push(this.__cbOnceUpdateHueFromPointer[r]))}this.__cbOnceOwnerUnbindUpdateHueFromPointer=h,this.__cbOnceUpdateHueFromPointer=a}for(l=0,s=e;l<s;){i=l++;(0,t.vector[i])()}n.release(t)}},onUpdateHueFromPointer:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event updateHueFromPointer because owner is destroyed!");var l=function(e){null!=t&&(i.offUpdateHueFromPointer(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindUpdateHueFromPointer&&(this.__cbOnOwnerUnbindUpdateHueFromPointer=[]),this.__cbOnOwnerUnbindUpdateHueFromPointer.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindUpdateHueFromPointer&&(this.__cbOnOwnerUnbindUpdateHueFromPointer=[]),this.__cbOnOwnerUnbindUpdateHueFromPointer.push(null);null==this.__cbOnUpdateHueFromPointer&&(this.__cbOnUpdateHueFromPointer=[]),this.__cbOnUpdateHueFromPointer.push(t)},onceUpdateHueFromPointer:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event updateHueFromPointer because owner is destroyed!");var l=function(e){null!=t&&(i.offUpdateHueFromPointer(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindUpdateHueFromPointer&&(this.__cbOnceOwnerUnbindUpdateHueFromPointer=[]),this.__cbOnceOwnerUnbindUpdateHueFromPointer.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindUpdateHueFromPointer&&(this.__cbOnceOwnerUnbindUpdateHueFromPointer=[]),this.__cbOnceOwnerUnbindUpdateHueFromPointer.push(null);null==this.__cbOnceUpdateHueFromPointer&&(this.__cbOnceUpdateHueFromPointer=[]),this.__cbOnceUpdateHueFromPointer.push(t)},offUpdateHueFromPointer:function(e){if(null!=e){var n;null!=this.__cbOnUpdateHueFromPointer&&-1!=(n=this.__cbOnUpdateHueFromPointer.indexOf(e))&&(this.__cbOnUpdateHueFromPointer.splice(n,1),null!=(s=this.__cbOnOwnerUnbindUpdateHueFromPointer[n])&&s(),this.__cbOnOwnerUnbindUpdateHueFromPointer.splice(n,1)),null!=this.__cbOnceUpdateHueFromPointer&&-1!=(n=this.__cbOnceUpdateHueFromPointer.indexOf(e))&&(this.__cbOnceUpdateHueFromPointer.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindUpdateHueFromPointer[n])&&s(),this.__cbOnceOwnerUnbindUpdateHueFromPointer.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindUpdateHueFromPointer){for(var t=0,i=this.__cbOnOwnerUnbindUpdateHueFromPointer.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindUpdateHueFromPointer[l])&&s()}this.__cbOnOwnerUnbindUpdateHueFromPointer=null}if(null!=this.__cbOnceOwnerUnbindUpdateHueFromPointer){for(t=0,i=this.__cbOnceOwnerUnbindUpdateHueFromPointer.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindUpdateHueFromPointer[l])&&s()}this.__cbOnceOwnerUnbindUpdateHueFromPointer=null}this.__cbOnUpdateHueFromPointer=null,this.__cbOnceUpdateHueFromPointer=null}},listensUpdateHueFromPointer:function(){return null!=this.__cbOnUpdateHueFromPointer&&0<this.__cbOnUpdateHueFromPointer.length||null!=this.__cbOnceUpdateHueFromPointer&&0<this.__cbOnceUpdateHueFromPointer.length},movingPointerAutoruns:null,get_movingPointer:function(){var e,n,t=this.unobservedMovingPointer;return null!=A.current&&(e=A.current,null!=(n=this.movingPointerAutoruns)||(n=A.getAutorunArray(),null!=(this.movingPointerAutoruns=n)))&&e.bindToAutorunArray(n),t},set_movingPointer:function(e){var n=this.unobservedMovingPointer;return n!=(this.unobservedMovingPointer=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitMovingPointerChange(e,n),null!=(n=this.movingPointerAutoruns))&&(this.movingPointerAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateMovingPointer:function(){var e=this.unobservedMovingPointer,e=(this.emitMovingPointerChange(e,e),this.movingPointerAutoruns);null!=e&&(this.movingPointerAutoruns=null,A.invalidateAutorunArray(e))},unobservedMovingPointer:null,__cbOnMovingPointerChange:null,__cbOnceMovingPointerChange:null,__cbOnOwnerUnbindMovingPointerChange:null,__cbOnceOwnerUnbindMovingPointerChange:null,emitMovingPointerChange:function(e,n){var t=0;if(null!=this.__cbOnMovingPointerChange&&(t+=this.__cbOnMovingPointerChange.length),null!=this.__cbOnceMovingPointerChange&&(t+=this.__cbOnceMovingPointerChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnMovingPointerChange)for(var r=0,h=this.__cbOnMovingPointerChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnMovingPointerChange[a],++s):--t}if(null!=this.__cbOnceMovingPointerChange){for(var o=null,c=null,r=0,h=this.__cbOnceMovingPointerChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceMovingPointerChange[a],this.__cbOnceMovingPointerChange[a]=null,u=this.__cbOnceOwnerUnbindMovingPointerChange[a],(this.__cbOnceOwnerUnbindMovingPointerChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindMovingPointerChange[a]),c.push(this.__cbOnceMovingPointerChange[a]))}this.__cbOnceOwnerUnbindMovingPointerChange=o,this.__cbOnceMovingPointerChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onMovingPointerChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event movingPointerChange because owner is destroyed!");var l=function(e){null!=t&&(i.offMovingPointerChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindMovingPointerChange&&(this.__cbOnOwnerUnbindMovingPointerChange=[]),this.__cbOnOwnerUnbindMovingPointerChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindMovingPointerChange&&(this.__cbOnOwnerUnbindMovingPointerChange=[]),this.__cbOnOwnerUnbindMovingPointerChange.push(null);null==this.__cbOnMovingPointerChange&&(this.__cbOnMovingPointerChange=[]),this.__cbOnMovingPointerChange.push(t)},onceMovingPointerChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event movingPointerChange because owner is destroyed!");var l=function(e){null!=t&&(i.offMovingPointerChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindMovingPointerChange&&(this.__cbOnceOwnerUnbindMovingPointerChange=[]),this.__cbOnceOwnerUnbindMovingPointerChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindMovingPointerChange&&(this.__cbOnceOwnerUnbindMovingPointerChange=[]),this.__cbOnceOwnerUnbindMovingPointerChange.push(null);null==this.__cbOnceMovingPointerChange&&(this.__cbOnceMovingPointerChange=[]),this.__cbOnceMovingPointerChange.push(t)},offMovingPointerChange:function(e){if(null!=e){var n;null!=this.__cbOnMovingPointerChange&&-1!=(n=this.__cbOnMovingPointerChange.indexOf(e))&&(this.__cbOnMovingPointerChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindMovingPointerChange[n])&&s(),this.__cbOnOwnerUnbindMovingPointerChange.splice(n,1)),null!=this.__cbOnceMovingPointerChange&&-1!=(n=this.__cbOnceMovingPointerChange.indexOf(e))&&(this.__cbOnceMovingPointerChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindMovingPointerChange[n])&&s(),this.__cbOnceOwnerUnbindMovingPointerChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindMovingPointerChange){for(var t=0,i=this.__cbOnOwnerUnbindMovingPointerChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindMovingPointerChange[l])&&s()}this.__cbOnOwnerUnbindMovingPointerChange=null}if(null!=this.__cbOnceOwnerUnbindMovingPointerChange){for(t=0,i=this.__cbOnceOwnerUnbindMovingPointerChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindMovingPointerChange[l])&&s()}this.__cbOnceOwnerUnbindMovingPointerChange=null}this.__cbOnMovingPointerChange=null,this.__cbOnceMovingPointerChange=null}},listensMovingPointerChange:function(){return null!=this.__cbOnMovingPointerChange&&0<this.__cbOnMovingPointerChange.length||null!=this.__cbOnceMovingPointerChange&&0<this.__cbOnceMovingPointerChange.length},spectrum:null,huePointer:null,hue:null,set_hue:function(e){return this.hue!=e&&(this.hue=e,this.updatePointerFromHue()),e},initSpectrum:function(){this.spectrum=new za,this.spectrum.colorMapping=2,this.spectrum.set_depth(1),this.add(this.spectrum),this.spectrum.vertices=[0,0,1,0];for(var e=this.spectrum.vertices,n=this.spectrum.indices,t=this.spectrum.colors,i=this.colorWithHue(0),l=(t.push(i),t.push(i),0),s=jd.PRECISION;l<s;){var r=l++,i=(e.push(0),e.push(1+r),e.push(1),e.push(1+r),this.colorWithHue(360-360*(1+r)/jd.PRECISION));t.push(i),t.push(i),n.push(2*r),n.push(2*r+1),n.push(2*r+2),n.push(2*r+1),n.push(2*r+2),n.push(2*r+3)}},updatePointerFromHue:function(){var e=this.huePointer,n=.5*this.get_width(),t=this.get_height()*(1-this.hue/360);e.set_x(n),e.set_y(t)},layout:function(){var e=this.spectrum,n=this.get_width(),t=this.get_height()/jd.PRECISION;e.set_scaleX(n),e.set_scaleY(t),(e=this.huePointer).set_width(this.get_width()),e.set_height(0),this.updatePointerFromHue()},colorWithHue:function(e){e=(0|P.fromHSB(e,1,1))-16777216;return e&16777215|-16777216},handlePointerDown:function(e){ae.app.screen.onPointerMove(this,$bind(this,this.handlePointerMove)),this.updateHueFromTouchInfo(e)},handlePointerMove:function(e){this.set_movingPointer(!0),this.updateHueFromTouchInfo(e)},handlePointerUp:function(e){ae.app.screen.offPointerMove($bind(this,this.handlePointerMove)),this.set_movingPointer(!1),this.updateHueFromTouchInfo(e)},updateHueFromTouchInfo:function(e){this.screenToVisual(e.x,e.y,jd._point),this.set_hue(Math.round(360*(1-Math.max(0,Math.min(jd._point.y/this.get_height(),1))))),this.updatePointerFromHue(),this.emitUpdateHueFromPointer()},unbindEvents:function(){f0.prototype.unbindEvents.call(this),this.offObservedDirty(),this.offMovingPointerChange(),this.offUpdateHueFromPointer()},__class__:jd,__properties__:$extend(f0.prototype.__properties__,{set_hue:"set_hue",set_movingPointer:"set_movingPointer",get_movingPointer:"get_movingPointer"})}),(E["elements.ColorPickerHSLuvGradientView"]=kd).__name__="elements.ColorPickerHSLuvGradientView",kd.__super__=f0,kd.prototype=$extend(f0.prototype,{__cbOnUpdateColorFromPointer:null,__cbOnceUpdateColorFromPointer:null,__cbOnOwnerUnbindUpdateColorFromPointer:null,__cbOnceOwnerUnbindUpdateColorFromPointer:null,emitUpdateColorFromPointer:function(){var e=0;if(null!=this.__cbOnUpdateColorFromPointer&&(e+=this.__cbOnUpdateColorFromPointer.length),null!=this.__cbOnceUpdateColorFromPointer&&(e+=this.__cbOnceUpdateColorFromPointer.length),0<e){var n=C.pool(e),t=n.get(),i=0;if(null!=this.__cbOnUpdateColorFromPointer)for(var l=0,s=this.__cbOnUpdateColorFromPointer.length;l<s;){var r=l++;!0?(t.vector[i]=this.__cbOnUpdateColorFromPointer[r],++i):--e}if(null!=this.__cbOnceUpdateColorFromPointer){for(var h=null,a=null,l=0,s=this.__cbOnceUpdateColorFromPointer.length;l<s;){var o,r=l++;!0?(t.vector[i]=this.__cbOnceUpdateColorFromPointer[r],this.__cbOnceUpdateColorFromPointer[r]=null,o=this.__cbOnceOwnerUnbindUpdateColorFromPointer[r],(this.__cbOnceOwnerUnbindUpdateColorFromPointer[r]=null)!=o&&o(),++i):(--e,null==h&&(h=[],a=[],0),h.push(this.__cbOnceOwnerUnbindUpdateColorFromPointer[r]),a.push(this.__cbOnceUpdateColorFromPointer[r]))}this.__cbOnceOwnerUnbindUpdateColorFromPointer=h,this.__cbOnceUpdateColorFromPointer=a}for(l=0,s=e;l<s;){i=l++;(0,t.vector[i])()}n.release(t)}},onUpdateColorFromPointer:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event updateColorFromPointer because owner is destroyed!");var l=function(e){null!=t&&(i.offUpdateColorFromPointer(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindUpdateColorFromPointer&&(this.__cbOnOwnerUnbindUpdateColorFromPointer=[]),this.__cbOnOwnerUnbindUpdateColorFromPointer.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindUpdateColorFromPointer&&(this.__cbOnOwnerUnbindUpdateColorFromPointer=[]),this.__cbOnOwnerUnbindUpdateColorFromPointer.push(null);null==this.__cbOnUpdateColorFromPointer&&(this.__cbOnUpdateColorFromPointer=[]),this.__cbOnUpdateColorFromPointer.push(t)},onceUpdateColorFromPointer:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event updateColorFromPointer because owner is destroyed!");var l=function(e){null!=t&&(i.offUpdateColorFromPointer(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindUpdateColorFromPointer&&(this.__cbOnceOwnerUnbindUpdateColorFromPointer=[]),this.__cbOnceOwnerUnbindUpdateColorFromPointer.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindUpdateColorFromPointer&&(this.__cbOnceOwnerUnbindUpdateColorFromPointer=[]),this.__cbOnceOwnerUnbindUpdateColorFromPointer.push(null);null==this.__cbOnceUpdateColorFromPointer&&(this.__cbOnceUpdateColorFromPointer=[]),this.__cbOnceUpdateColorFromPointer.push(t)},offUpdateColorFromPointer:function(e){if(null!=e){var n;null!=this.__cbOnUpdateColorFromPointer&&-1!=(n=this.__cbOnUpdateColorFromPointer.indexOf(e))&&(this.__cbOnUpdateColorFromPointer.splice(n,1),null!=(s=this.__cbOnOwnerUnbindUpdateColorFromPointer[n])&&s(),this.__cbOnOwnerUnbindUpdateColorFromPointer.splice(n,1)),null!=this.__cbOnceUpdateColorFromPointer&&-1!=(n=this.__cbOnceUpdateColorFromPointer.indexOf(e))&&(this.__cbOnceUpdateColorFromPointer.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindUpdateColorFromPointer[n])&&s(),this.__cbOnceOwnerUnbindUpdateColorFromPointer.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindUpdateColorFromPointer){for(var t=0,i=this.__cbOnOwnerUnbindUpdateColorFromPointer.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindUpdateColorFromPointer[l])&&s()}this.__cbOnOwnerUnbindUpdateColorFromPointer=null}if(null!=this.__cbOnceOwnerUnbindUpdateColorFromPointer){for(t=0,i=this.__cbOnceOwnerUnbindUpdateColorFromPointer.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindUpdateColorFromPointer[l])&&s()}this.__cbOnceOwnerUnbindUpdateColorFromPointer=null}this.__cbOnUpdateColorFromPointer=null,this.__cbOnceUpdateColorFromPointer=null}},listensUpdateColorFromPointer:function(){return null!=this.__cbOnUpdateColorFromPointer&&0<this.__cbOnUpdateColorFromPointer.length||null!=this.__cbOnceUpdateColorFromPointer&&0<this.__cbOnceUpdateColorFromPointer.length},colorValue:null,set_colorValue:function(e){return this.colorValue!=e&&(this.colorValue=e,this.updateGradientColors(),this.updatePointerFromColor()),e},movingSpectrum:null,gradient:null,colorPointer:null,targetPointerColor:null,pointerColorTween:null,movingPointer:null,savedPointerX:null,savedPointerY:null,filter:null,lightness:null,updateGradientColors:function(e){null!=e&&(this.lightness=e);for(var n=this.gradient.colors,t=0,i=0,l=kd.PRECISION_X;i<l;)for(var s=i++,r=(n[t]=this.colorWithHueAndSaturation(360*s/kd.PRECISION_X,1),n[++t]=this.colorWithHueAndSaturation(360*(1+s)/kd.PRECISION_X,1),++t,0),h=kd.PRECISION_Y;r<h;){var a=r++;n[t]=this.colorWithHueAndSaturation(360*s/kd.PRECISION_X,1-(1+a)/kd.PRECISION_Y),n[++t]=this.colorWithHueAndSaturation(360*(1+s)/kd.PRECISION_X,1-(1+a)/kd.PRECISION_Y),++t}},savePointerPosition:function(){this.savedPointerX=this.colorPointer.x,this.savedPointerY=this.colorPointer.y},restorePointerPosition:function(){this.colorPointer.set_x(this.savedPointerX),this.colorPointer.set_y(this.savedPointerY)},getSaturationFromPointer:function(){var e=1-this.colorPointer.y/this.get_height();return e=1<(e=e<0?0:e)?1:e},getHueFromPointer:function(){var e=this.colorPointer.x/this.get_width();return 1<(e=e<0?0:e)&&(e=1),e*=360},colorWithHueAndSaturation:function(e,n){var t=this.lightness,i=0;if(P._hsluvTuple[0]=e,P._hsluvTuple[1]=100*n,P._hsluvTuple[2]=100*t,.001<t){x.hsluvToRgb(P._hsluvTuple,P._hsluvResult);var l=P._hsluvResult[0];l<0&&(l=0);i=i&65535|(255<(s=Math.round(255*l))?255:s<0?0:s)<<16,(l=P._hsluvResult[1])<0&&(l=0);var s=Math.round(255*l),s=(i=i&16711935|(255<s?255:s<0?0:s)<<8,(l=P._hsluvResult[2])<0&&(l=0),Math.round(255*l)),i=i&16776960|(255<s?255:s<0?0:s)}else{var l=(1-Math.abs(2*t-1))*n,r=t-l/2,n=e,h=l,t=(n%=360)/60,a=h*(1-Math.abs(t%2-1))+r;switch(h+=r,0|t){case 0:s=(i=i&65535|(255<(s=Math.round(255*h))?255:s<0?0:s)<<16,Math.round(255*a)),s=(i=i&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*r));i=i&16776960|(255<s?255:s<0?0:s);break;case 1:s=(i=i&65535|(255<(s=Math.round(255*a))?255:s<0?0:s)<<16,Math.round(255*h)),s=(i=i&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*r));i=i&16776960|(255<s?255:s<0?0:s);break;case 2:s=(i=i&65535|(255<(s=Math.round(255*r))?255:s<0?0:s)<<16,Math.round(255*h)),s=(i=i&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*a));i=i&16776960|(255<s?255:s<0?0:s);break;case 3:s=(i=i&65535|(255<(s=Math.round(255*r))?255:s<0?0:s)<<16,Math.round(255*a)),s=(i=i&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*h));i=i&16776960|(255<s?255:s<0?0:s);break;case 4:s=(i=i&65535|(255<(s=Math.round(255*a))?255:s<0?0:s)<<16,Math.round(255*r)),s=(i=i&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*h));i=i&16776960|(255<s?255:s<0?0:s);break;case 5:s=(i=i&65535|(255<(s=Math.round(255*h))?255:s<0?0:s)<<16,Math.round(255*r)),s=(i=i&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*a));i=i&16776960|(255<s?255:s<0?0:s)}}return s=(s=(0|i)-16777216)&16777215|-16777216},updatePointerFromColor:function(){var r,h=this,e=this.colorValue,n=kd._tuple,e=(null==n&&(n=[0,0,0]),P._hsluvTuple[0]=(e>>16&255)/255,P._hsluvTuple[1]=(e>>8&255)/255,P._hsluvTuple[2]=(255&e)/255,x.rgbToHsluv(P._hsluvTuple,n),n[1]*=.01,n[2]*=.01,kd._tuple[0]/360),n=kd._tuple[1],t=this.colorPointer,e=this.get_width()*e,n=this.get_height()*(1-n),e=(t.set_x(e),t.set_y(n),16777215);.5<this.lightness&&(e=0),this.targetPointerColor=e,this.movingSpectrum?this.targetPointerColor!=e&&(this.targetPointerColor=e,null!=this.pointerColorTween&&(this.pointerColorTween.destroy(),this.pointerColorTween=null),r=this.colorPointer.borderColor,this.pointerColorTween=this.tween(null,.4,0,1,function(e,n){var t=h.colorPointer,i=h.targetPointerColor,l=((i>>16&255)-(r>>16&255))*(e=null==e?.5:e)+(r>>16&255)|0,s=((i>>8&255)-(r>>8&255))*e+(r>>8&255)|0,i=((255&i)-(255&r))*e+(255&r)|0,e=0;e=16776960&(e=16711935&(e=65535&e|(255<l?255:l<0?0:l)<<16)|(255<s?255:s<0?0:s)<<8)|(255<i?255:i<0?0:i);t.borderColor!=e&&(t.borderColor=e,t.autoComputeColors)&&t.computeColors()})):(this.targetPointerColor=e,t=this.colorPointer,n=this.targetPointerColor,t.borderColor!=n&&(t.borderColor=n,t.autoComputeColors)&&t.computeColors())},layout:function(){var e=this.filter,n=this.get_width(),t=this.get_height(),e=(e.set_width(n),e.set_height(t),this.gradient),n=this.get_width()/kd.PRECISION_X,t=this.get_height()/kd.PRECISION_Y;e.set_scaleX(n),e.set_scaleY(t),this.updatePointerFromColor()},handlePointerDown:function(e){ae.app.screen.onPointerMove(this,$bind(this,this.handlePointerMove)),this.updateColorFromTouchInfo(e),this.movingPointer=!0},handlePointerMove:function(e){this.updateColorFromTouchInfo(e)},handlePointerUp:function(e){ae.app.screen.offPointerMove($bind(this,this.handlePointerMove)),this.updateColorFromTouchInfo(e),this.movingPointer=!1},updateColorFromTouchInfo:function(e){this.screenToVisual(e.x,e.y,kd._point);var e=1-kd._point.y/this.get_height(),n=(1<(e=e<0?0:e)&&(e=1),kd._point.x/this.get_width()),t=(1<(n=n<0?0:n)&&(n=1),this.lightness),i=0;if(P._hsluvTuple[0]=n*=360,P._hsluvTuple[1]=100*e,P._hsluvTuple[2]=100*t,.001<t){x.hsluvToRgb(P._hsluvTuple,P._hsluvResult);var l=P._hsluvResult[0];l<0&&(l=0);i=i&65535|(255<(s=Math.round(255*l))?255:s<0?0:s)<<16,(l=P._hsluvResult[1])<0&&(l=0);var s=Math.round(255*l),s=(i=i&16711935|(255<s?255:s<0?0:s)<<8,(l=P._hsluvResult[2])<0&&(l=0),Math.round(255*l)),i=i&16776960|(255<s?255:s<0?0:s)}else{var l=(1-Math.abs(2*t-1))*e,r=t-l/2,e=n,h=l,t=(e%=360)/60,a=h*(1-Math.abs(t%2-1))+r;switch(h+=r,0|t){case 0:s=(i=i&65535|(255<(s=Math.round(255*h))?255:s<0?0:s)<<16,Math.round(255*a)),s=(i=i&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*r));i=i&16776960|(255<s?255:s<0?0:s);break;case 1:s=(i=i&65535|(255<(s=Math.round(255*a))?255:s<0?0:s)<<16,Math.round(255*h)),s=(i=i&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*r));i=i&16776960|(255<s?255:s<0?0:s);break;case 2:s=(i=i&65535|(255<(s=Math.round(255*r))?255:s<0?0:s)<<16,Math.round(255*h)),s=(i=i&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*a));i=i&16776960|(255<s?255:s<0?0:s);break;case 3:s=(i=i&65535|(255<(s=Math.round(255*r))?255:s<0?0:s)<<16,Math.round(255*a)),s=(i=i&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*h));i=i&16776960|(255<s?255:s<0?0:s);break;case 4:s=(i=i&65535|(255<(s=Math.round(255*a))?255:s<0?0:s)<<16,Math.round(255*r)),s=(i=i&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*h));i=i&16776960|(255<s?255:s<0?0:s);break;case 5:s=(i=i&65535|(255<(s=Math.round(255*h))?255:s<0?0:s)<<16,Math.round(255*r)),s=(i=i&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*a));i=i&16776960|(255<s?255:s<0?0:s)}}this.set_colorValue(i);n=this.colorPointer,l=Math.max(0,Math.min(this.get_width(),kd._point.x)),e=Math.max(0,Math.min(this.get_height(),kd._point.y));n.set_x(l),n.set_y(e),this.emitUpdateColorFromPointer()},unbindEvents:function(){f0.prototype.unbindEvents.call(this),this.offUpdateColorFromPointer()},__class__:kd,__properties__:$extend(f0.prototype.__properties__,{set_colorValue:"set_colorValue"})}),(E["elements.ColorPickerHSLuvSpectrumView"]=ld).__name__="elements.ColorPickerHSLuvSpectrumView",ld.__interfaces__=[s],ld.__super__=f0,ld.prototype=$extend(f0.prototype,{__cbOnObservedDirty:null,__cbOnceObservedDirty:null,__cbOnOwnerUnbindObservedDirty:null,__cbOnceOwnerUnbindObservedDirty:null,emitObservedDirty:function(e,n){var t=0;if(null!=this.__cbOnObservedDirty&&(t+=this.__cbOnObservedDirty.length),null!=this.__cbOnceObservedDirty&&(t+=this.__cbOnceObservedDirty.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnObservedDirty)for(var r=0,h=this.__cbOnObservedDirty.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnObservedDirty[a],++s):--t}if(null!=this.__cbOnceObservedDirty){for(var o=null,c=null,r=0,h=this.__cbOnceObservedDirty.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceObservedDirty[a],this.__cbOnceObservedDirty[a]=null,u=this.__cbOnceOwnerUnbindObservedDirty[a],(this.__cbOnceOwnerUnbindObservedDirty[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindObservedDirty[a]),c.push(this.__cbOnceObservedDirty[a]))}this.__cbOnceOwnerUnbindObservedDirty=o,this.__cbOnceObservedDirty=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onObservedDirty:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event observedDirty because owner is destroyed!");var l=function(e){null!=t&&(i.offObservedDirty(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push(null);null==this.__cbOnObservedDirty&&(this.__cbOnObservedDirty=[]),this.__cbOnObservedDirty.push(t)},onceObservedDirty:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event observedDirty because owner is destroyed!");var l=function(e){null!=t&&(i.offObservedDirty(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push(null);null==this.__cbOnceObservedDirty&&(this.__cbOnceObservedDirty=[]),this.__cbOnceObservedDirty.push(t)},offObservedDirty:function(e){if(null!=e){var n;null!=this.__cbOnObservedDirty&&-1!=(n=this.__cbOnObservedDirty.indexOf(e))&&(this.__cbOnObservedDirty.splice(n,1),null!=(s=this.__cbOnOwnerUnbindObservedDirty[n])&&s(),this.__cbOnOwnerUnbindObservedDirty.splice(n,1)),null!=this.__cbOnceObservedDirty&&-1!=(n=this.__cbOnceObservedDirty.indexOf(e))&&(this.__cbOnceObservedDirty.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindObservedDirty[n])&&s(),this.__cbOnceOwnerUnbindObservedDirty.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindObservedDirty){for(var t=0,i=this.__cbOnOwnerUnbindObservedDirty.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindObservedDirty[l])&&s()}this.__cbOnOwnerUnbindObservedDirty=null}if(null!=this.__cbOnceOwnerUnbindObservedDirty){for(t=0,i=this.__cbOnceOwnerUnbindObservedDirty.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindObservedDirty[l])&&s()}this.__cbOnceOwnerUnbindObservedDirty=null}this.__cbOnObservedDirty=null,this.__cbOnceObservedDirty=null}},listensObservedDirty:function(){return null!=this.__cbOnObservedDirty&&0<this.__cbOnObservedDirty.length||null!=this.__cbOnceObservedDirty&&0<this.__cbOnceObservedDirty.length},observedDirty:null,__cbOnUpdateHueFromPointer:null,__cbOnceUpdateHueFromPointer:null,__cbOnOwnerUnbindUpdateHueFromPointer:null,__cbOnceOwnerUnbindUpdateHueFromPointer:null,emitUpdateHueFromPointer:function(){var e=0;if(null!=this.__cbOnUpdateHueFromPointer&&(e+=this.__cbOnUpdateHueFromPointer.length),null!=this.__cbOnceUpdateHueFromPointer&&(e+=this.__cbOnceUpdateHueFromPointer.length),0<e){var n=C.pool(e),t=n.get(),i=0;if(null!=this.__cbOnUpdateHueFromPointer)for(var l=0,s=this.__cbOnUpdateHueFromPointer.length;l<s;){var r=l++;!0?(t.vector[i]=this.__cbOnUpdateHueFromPointer[r],++i):--e}if(null!=this.__cbOnceUpdateHueFromPointer){for(var h=null,a=null,l=0,s=this.__cbOnceUpdateHueFromPointer.length;l<s;){var o,r=l++;!0?(t.vector[i]=this.__cbOnceUpdateHueFromPointer[r],this.__cbOnceUpdateHueFromPointer[r]=null,o=this.__cbOnceOwnerUnbindUpdateHueFromPointer[r],(this.__cbOnceOwnerUnbindUpdateHueFromPointer[r]=null)!=o&&o(),++i):(--e,null==h&&(h=[],a=[],0),h.push(this.__cbOnceOwnerUnbindUpdateHueFromPointer[r]),a.push(this.__cbOnceUpdateHueFromPointer[r]))}this.__cbOnceOwnerUnbindUpdateHueFromPointer=h,this.__cbOnceUpdateHueFromPointer=a}for(l=0,s=e;l<s;){i=l++;(0,t.vector[i])()}n.release(t)}},onUpdateHueFromPointer:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event updateHueFromPointer because owner is destroyed!");var l=function(e){null!=t&&(i.offUpdateHueFromPointer(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindUpdateHueFromPointer&&(this.__cbOnOwnerUnbindUpdateHueFromPointer=[]),this.__cbOnOwnerUnbindUpdateHueFromPointer.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindUpdateHueFromPointer&&(this.__cbOnOwnerUnbindUpdateHueFromPointer=[]),this.__cbOnOwnerUnbindUpdateHueFromPointer.push(null);null==this.__cbOnUpdateHueFromPointer&&(this.__cbOnUpdateHueFromPointer=[]),this.__cbOnUpdateHueFromPointer.push(t)},onceUpdateHueFromPointer:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event updateHueFromPointer because owner is destroyed!");var l=function(e){null!=t&&(i.offUpdateHueFromPointer(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindUpdateHueFromPointer&&(this.__cbOnceOwnerUnbindUpdateHueFromPointer=[]),this.__cbOnceOwnerUnbindUpdateHueFromPointer.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindUpdateHueFromPointer&&(this.__cbOnceOwnerUnbindUpdateHueFromPointer=[]),this.__cbOnceOwnerUnbindUpdateHueFromPointer.push(null);null==this.__cbOnceUpdateHueFromPointer&&(this.__cbOnceUpdateHueFromPointer=[]),this.__cbOnceUpdateHueFromPointer.push(t)},offUpdateHueFromPointer:function(e){if(null!=e){var n;null!=this.__cbOnUpdateHueFromPointer&&-1!=(n=this.__cbOnUpdateHueFromPointer.indexOf(e))&&(this.__cbOnUpdateHueFromPointer.splice(n,1),null!=(s=this.__cbOnOwnerUnbindUpdateHueFromPointer[n])&&s(),this.__cbOnOwnerUnbindUpdateHueFromPointer.splice(n,1)),null!=this.__cbOnceUpdateHueFromPointer&&-1!=(n=this.__cbOnceUpdateHueFromPointer.indexOf(e))&&(this.__cbOnceUpdateHueFromPointer.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindUpdateHueFromPointer[n])&&s(),this.__cbOnceOwnerUnbindUpdateHueFromPointer.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindUpdateHueFromPointer){for(var t=0,i=this.__cbOnOwnerUnbindUpdateHueFromPointer.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindUpdateHueFromPointer[l])&&s()}this.__cbOnOwnerUnbindUpdateHueFromPointer=null}if(null!=this.__cbOnceOwnerUnbindUpdateHueFromPointer){for(t=0,i=this.__cbOnceOwnerUnbindUpdateHueFromPointer.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindUpdateHueFromPointer[l])&&s()}this.__cbOnceOwnerUnbindUpdateHueFromPointer=null}this.__cbOnUpdateHueFromPointer=null,this.__cbOnceUpdateHueFromPointer=null}},listensUpdateHueFromPointer:function(){return null!=this.__cbOnUpdateHueFromPointer&&0<this.__cbOnUpdateHueFromPointer.length||null!=this.__cbOnceUpdateHueFromPointer&&0<this.__cbOnceUpdateHueFromPointer.length},movingPointerAutoruns:null,get_movingPointer:function(){var e,n,t=this.unobservedMovingPointer;return null!=A.current&&(e=A.current,null!=(n=this.movingPointerAutoruns)||(n=A.getAutorunArray(),null!=(this.movingPointerAutoruns=n)))&&e.bindToAutorunArray(n),t},set_movingPointer:function(e){var n=this.unobservedMovingPointer;return n!=(this.unobservedMovingPointer=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitMovingPointerChange(e,n),null!=(n=this.movingPointerAutoruns))&&(this.movingPointerAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateMovingPointer:function(){var e=this.unobservedMovingPointer,e=(this.emitMovingPointerChange(e,e),this.movingPointerAutoruns);null!=e&&(this.movingPointerAutoruns=null,A.invalidateAutorunArray(e))},unobservedMovingPointer:null,__cbOnMovingPointerChange:null,__cbOnceMovingPointerChange:null,__cbOnOwnerUnbindMovingPointerChange:null,__cbOnceOwnerUnbindMovingPointerChange:null,emitMovingPointerChange:function(e,n){var t=0;if(null!=this.__cbOnMovingPointerChange&&(t+=this.__cbOnMovingPointerChange.length),null!=this.__cbOnceMovingPointerChange&&(t+=this.__cbOnceMovingPointerChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnMovingPointerChange)for(var r=0,h=this.__cbOnMovingPointerChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnMovingPointerChange[a],++s):--t}if(null!=this.__cbOnceMovingPointerChange){for(var o=null,c=null,r=0,h=this.__cbOnceMovingPointerChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceMovingPointerChange[a],this.__cbOnceMovingPointerChange[a]=null,u=this.__cbOnceOwnerUnbindMovingPointerChange[a],(this.__cbOnceOwnerUnbindMovingPointerChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindMovingPointerChange[a]),c.push(this.__cbOnceMovingPointerChange[a]))}this.__cbOnceOwnerUnbindMovingPointerChange=o,this.__cbOnceMovingPointerChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onMovingPointerChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event movingPointerChange because owner is destroyed!");var l=function(e){null!=t&&(i.offMovingPointerChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindMovingPointerChange&&(this.__cbOnOwnerUnbindMovingPointerChange=[]),this.__cbOnOwnerUnbindMovingPointerChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindMovingPointerChange&&(this.__cbOnOwnerUnbindMovingPointerChange=[]),this.__cbOnOwnerUnbindMovingPointerChange.push(null);null==this.__cbOnMovingPointerChange&&(this.__cbOnMovingPointerChange=[]),this.__cbOnMovingPointerChange.push(t)},onceMovingPointerChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event movingPointerChange because owner is destroyed!");var l=function(e){null!=t&&(i.offMovingPointerChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindMovingPointerChange&&(this.__cbOnceOwnerUnbindMovingPointerChange=[]),this.__cbOnceOwnerUnbindMovingPointerChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindMovingPointerChange&&(this.__cbOnceOwnerUnbindMovingPointerChange=[]),this.__cbOnceOwnerUnbindMovingPointerChange.push(null);null==this.__cbOnceMovingPointerChange&&(this.__cbOnceMovingPointerChange=[]),this.__cbOnceMovingPointerChange.push(t)},offMovingPointerChange:function(e){if(null!=e){var n;null!=this.__cbOnMovingPointerChange&&-1!=(n=this.__cbOnMovingPointerChange.indexOf(e))&&(this.__cbOnMovingPointerChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindMovingPointerChange[n])&&s(),this.__cbOnOwnerUnbindMovingPointerChange.splice(n,1)),null!=this.__cbOnceMovingPointerChange&&-1!=(n=this.__cbOnceMovingPointerChange.indexOf(e))&&(this.__cbOnceMovingPointerChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindMovingPointerChange[n])&&s(),this.__cbOnceOwnerUnbindMovingPointerChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindMovingPointerChange){for(var t=0,i=this.__cbOnOwnerUnbindMovingPointerChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindMovingPointerChange[l])&&s()}this.__cbOnOwnerUnbindMovingPointerChange=null}if(null!=this.__cbOnceOwnerUnbindMovingPointerChange){for(t=0,i=this.__cbOnceOwnerUnbindMovingPointerChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindMovingPointerChange[l])&&s()}this.__cbOnceOwnerUnbindMovingPointerChange=null}this.__cbOnMovingPointerChange=null,this.__cbOnceMovingPointerChange=null}},listensMovingPointerChange:function(){return null!=this.__cbOnMovingPointerChange&&0<this.__cbOnMovingPointerChange.length||null!=this.__cbOnceMovingPointerChange&&0<this.__cbOnceMovingPointerChange.length},spectrum:null,lightnessPointer:null,lightness:null,set_lightness:function(e){return this.lightness!=e&&(this.lightness=e,this.updatePointerFromLightness()),e},hue:null,set_hue:function(e){return this.hue!=e&&(this.hue=e,this.set_spectrumColorsDirty(!0)),e},saturation:null,set_saturation:function(e){return this.saturation!=e&&(this.saturation=e,this.set_spectrumColorsDirty(!0)),e},spectrumColorsDirty:null,set_spectrumColorsDirty:function(e){return e?this.spectrumColorsDirty||(this.spectrumColorsDirty=!0,ae.app._onceImmediate($bind(this,this.updateSpectrumColors))):this.spectrumColorsDirty=!1,e},initSpectrum:function(){this.spectrum=new za,this.spectrum.colorMapping=2,this.spectrum.set_depth(1),this.add(this.spectrum),this.spectrum.vertices=[0,0,1,0];for(var e=this.spectrum.vertices,n=this.spectrum.indices,t=0,i=ld.PRECISION;t<i;){var l=t++;e.push(0),e.push(1+l),e.push(1),e.push(1+l),n.push(2*l),n.push(2*l+1),n.push(2*l+2),n.push(2*l+1),n.push(2*l+2),n.push(2*l+3)}this.updateSpectrumColors()},updateSpectrumColors:function(){this.set_spectrumColorsDirty(!1);for(var e=this.spectrum.colors,n=this.colorWithLightness(1),t=0,i=(e[t]=n,e[++t]=n,++t,0),l=ld.PRECISION;i<l;){var s=i++,n=this.colorWithLightness(1-(1+s)/ld.PRECISION);e[t]=n,e[++t]=n,++t}},updatePointerFromLightness:function(){var e=this.lightnessPointer,n=.5*this.get_width(),t=this.get_height()*(1-this.lightness);e.set_x(n),e.set_y(t)},layout:function(){var e=this.spectrum,n=this.get_width(),t=this.get_height()/ld.PRECISION;e.set_scaleX(n),e.set_scaleY(t),(e=this.lightnessPointer).set_width(this.get_width()),e.set_height(0),this.updatePointerFromLightness()},colorWithLightness:function(e){var n=this.hue,t=this.saturation,i=0;if(P._hsluvTuple[0]=n,P._hsluvTuple[1]=100*t,P._hsluvTuple[2]=100*e,.001<e){x.hsluvToRgb(P._hsluvTuple,P._hsluvResult);var l=P._hsluvResult[0];l<0&&(l=0);i=i&65535|(255<(s=Math.round(255*l))?255:s<0?0:s)<<16,(l=P._hsluvResult[1])<0&&(l=0);var s=Math.round(255*l),s=(i=i&16711935|(255<s?255:s<0?0:s)<<8,(l=P._hsluvResult[2])<0&&(l=0),Math.round(255*l)),i=i&16776960|(255<s?255:s<0?0:s)}else{var l=(1-Math.abs(2*e-1))*t,r=e-l/2,t=n,h=l,e=(t%=360)/60,a=h*(1-Math.abs(e%2-1))+r;switch(h+=r,0|e){case 0:s=(i=i&65535|(255<(s=Math.round(255*h))?255:s<0?0:s)<<16,Math.round(255*a)),s=(i=i&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*r));i=i&16776960|(255<s?255:s<0?0:s);break;case 1:s=(i=i&65535|(255<(s=Math.round(255*a))?255:s<0?0:s)<<16,Math.round(255*h)),s=(i=i&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*r));i=i&16776960|(255<s?255:s<0?0:s);break;case 2:s=(i=i&65535|(255<(s=Math.round(255*r))?255:s<0?0:s)<<16,Math.round(255*h)),s=(i=i&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*a));i=i&16776960|(255<s?255:s<0?0:s);break;case 3:s=(i=i&65535|(255<(s=Math.round(255*r))?255:s<0?0:s)<<16,Math.round(255*a)),s=(i=i&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*h));i=i&16776960|(255<s?255:s<0?0:s);break;case 4:s=(i=i&65535|(255<(s=Math.round(255*a))?255:s<0?0:s)<<16,Math.round(255*r)),s=(i=i&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*h));i=i&16776960|(255<s?255:s<0?0:s);break;case 5:s=(i=i&65535|(255<(s=Math.round(255*h))?255:s<0?0:s)<<16,Math.round(255*r)),s=(i=i&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*a));i=i&16776960|(255<s?255:s<0?0:s)}}return s=(s=(0|i)-16777216)&16777215|-16777216},handlePointerDown:function(e){ae.app.screen.onPointerMove(this,$bind(this,this.handlePointerMove)),this.updateHueFromTouchInfo(e)},handlePointerMove:function(e){this.set_movingPointer(!0),this.updateHueFromTouchInfo(e)},handlePointerUp:function(e){ae.app.screen.offPointerMove($bind(this,this.handlePointerMove)),this.set_movingPointer(!1),this.updateHueFromTouchInfo(e)},updateHueFromTouchInfo:function(e){this.screenToVisual(e.x,e.y,ld._point),this.set_lightness(1-Math.max(0,Math.min(ld._point.y/this.get_height(),1))),this.updatePointerFromLightness(),this.emitUpdateHueFromPointer()},unbindEvents:function(){f0.prototype.unbindEvents.call(this),this.offObservedDirty(),this.offMovingPointerChange(),this.offUpdateHueFromPointer()},__class__:ld,__properties__:$extend(f0.prototype.__properties__,{set_spectrumColorsDirty:"set_spectrumColorsDirty",set_saturation:"set_saturation",set_hue:"set_hue",set_lightness:"set_lightness",set_movingPointer:"set_movingPointer",get_movingPointer:"get_movingPointer"})}),(E["elements.ColorPickerPaletteColorView"]=md).__name__="elements.ColorPickerPaletteColorView",md.__interfaces__=[s],md.__super__=f0,md.prototype=$extend(f0.prototype,{__cbOnObservedDirty:null,__cbOnceObservedDirty:null,__cbOnOwnerUnbindObservedDirty:null,__cbOnceOwnerUnbindObservedDirty:null,emitObservedDirty:function(e,n){var t=0;if(null!=this.__cbOnObservedDirty&&(t+=this.__cbOnObservedDirty.length),null!=this.__cbOnceObservedDirty&&(t+=this.__cbOnceObservedDirty.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnObservedDirty)for(var r=0,h=this.__cbOnObservedDirty.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnObservedDirty[a],++s):--t}if(null!=this.__cbOnceObservedDirty){for(var o=null,c=null,r=0,h=this.__cbOnceObservedDirty.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceObservedDirty[a],this.__cbOnceObservedDirty[a]=null,u=this.__cbOnceOwnerUnbindObservedDirty[a],(this.__cbOnceOwnerUnbindObservedDirty[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindObservedDirty[a]),c.push(this.__cbOnceObservedDirty[a]))}this.__cbOnceOwnerUnbindObservedDirty=o,this.__cbOnceObservedDirty=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onObservedDirty:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event observedDirty because owner is destroyed!");var l=function(e){null!=t&&(i.offObservedDirty(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push(null);null==this.__cbOnObservedDirty&&(this.__cbOnObservedDirty=[]),this.__cbOnObservedDirty.push(t)},onceObservedDirty:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event observedDirty because owner is destroyed!");var l=function(e){null!=t&&(i.offObservedDirty(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push(null);null==this.__cbOnceObservedDirty&&(this.__cbOnceObservedDirty=[]),this.__cbOnceObservedDirty.push(t)},offObservedDirty:function(e){if(null!=e){var n;null!=this.__cbOnObservedDirty&&-1!=(n=this.__cbOnObservedDirty.indexOf(e))&&(this.__cbOnObservedDirty.splice(n,1),null!=(s=this.__cbOnOwnerUnbindObservedDirty[n])&&s(),this.__cbOnOwnerUnbindObservedDirty.splice(n,1)),null!=this.__cbOnceObservedDirty&&-1!=(n=this.__cbOnceObservedDirty.indexOf(e))&&(this.__cbOnceObservedDirty.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindObservedDirty[n])&&s(),this.__cbOnceOwnerUnbindObservedDirty.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindObservedDirty){for(var t=0,i=this.__cbOnOwnerUnbindObservedDirty.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindObservedDirty[l])&&s()}this.__cbOnOwnerUnbindObservedDirty=null}if(null!=this.__cbOnceOwnerUnbindObservedDirty){for(t=0,i=this.__cbOnceOwnerUnbindObservedDirty.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindObservedDirty[l])&&s()}this.__cbOnceOwnerUnbindObservedDirty=null}this.__cbOnObservedDirty=null,this.__cbOnceObservedDirty=null}},listensObservedDirty:function(){return null!=this.__cbOnObservedDirty&&0<this.__cbOnObservedDirty.length||null!=this.__cbOnceObservedDirty&&0<this.__cbOnceObservedDirty.length},observedDirty:null,click:null,set_click:function(e){return this.click==e?this.click:(null!=this.click&&this.click.destroy(),this.click=e,null!=this.click?(this.component("click",this.click,!0),this.click):(this.removeComponent("click"),null))},longPress:null,set_longPress:function(e){return this.longPress==e?this.longPress:(null!=this.longPress&&this.longPress.destroy(),this.longPress=e,null!=this.longPress?(this.component("longPress",this.longPress,!0),this.longPress):(this.removeComponent("longPress"),null))},dragDrop:null,set_dragDrop:function(e){return this.dragDrop==e?this.dragDrop:(null!=this.dragDrop&&this.dragDrop.destroy(),this.dragDrop=e,null!=this.dragDrop?(this.component("dragDrop",this.dragDrop,!0),this.dragDrop):(this.removeComponent("dragDrop"),null))},__cbOnClick:null,__cbOnceClick:null,__cbOnOwnerUnbindClick:null,__cbOnceOwnerUnbindClick:null,emitClick:function(e){var n=0;if(null!=this.__cbOnClick&&(n+=this.__cbOnClick.length),null!=this.__cbOnceClick&&(n+=this.__cbOnceClick.length),0<n){var t=C.pool(n),i=t.get(),l=0;if(null!=this.__cbOnClick)for(var s=0,r=this.__cbOnClick.length;s<r;){var h=s++;!0?(i.vector[l]=this.__cbOnClick[h],++l):--n}if(null!=this.__cbOnceClick){for(var a=null,o=null,s=0,r=this.__cbOnceClick.length;s<r;){var c,h=s++;!0?(i.vector[l]=this.__cbOnceClick[h],this.__cbOnceClick[h]=null,c=this.__cbOnceOwnerUnbindClick[h],(this.__cbOnceOwnerUnbindClick[h]=null)!=c&&c(),++l):(--n,null==a&&(a=[],o=[],0),a.push(this.__cbOnceOwnerUnbindClick[h]),o.push(this.__cbOnceClick[h]))}this.__cbOnceOwnerUnbindClick=a,this.__cbOnceClick=o}for(s=0,r=n;s<r;){l=s++;(0,i.vector[l])(e)}t.release(i)}},onClick:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event click because owner is destroyed!");var l=function(e){null!=t&&(i.offClick(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindClick&&(this.__cbOnOwnerUnbindClick=[]),this.__cbOnOwnerUnbindClick.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindClick&&(this.__cbOnOwnerUnbindClick=[]),this.__cbOnOwnerUnbindClick.push(null);null==this.__cbOnClick&&(this.__cbOnClick=[]),this.__cbOnClick.push(t)},onceClick:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event click because owner is destroyed!");var l=function(e){null!=t&&(i.offClick(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindClick&&(this.__cbOnceOwnerUnbindClick=[]),this.__cbOnceOwnerUnbindClick.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindClick&&(this.__cbOnceOwnerUnbindClick=[]),this.__cbOnceOwnerUnbindClick.push(null);null==this.__cbOnceClick&&(this.__cbOnceClick=[]),this.__cbOnceClick.push(t)},offClick:function(e){if(null!=e){var n;null!=this.__cbOnClick&&-1!=(n=this.__cbOnClick.indexOf(e))&&(this.__cbOnClick.splice(n,1),null!=(s=this.__cbOnOwnerUnbindClick[n])&&s(),this.__cbOnOwnerUnbindClick.splice(n,1)),null!=this.__cbOnceClick&&-1!=(n=this.__cbOnceClick.indexOf(e))&&(this.__cbOnceClick.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindClick[n])&&s(),this.__cbOnceOwnerUnbindClick.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindClick){for(var t=0,i=this.__cbOnOwnerUnbindClick.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindClick[l])&&s()}this.__cbOnOwnerUnbindClick=null}if(null!=this.__cbOnceOwnerUnbindClick){for(t=0,i=this.__cbOnceOwnerUnbindClick.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindClick[l])&&s()}this.__cbOnceOwnerUnbindClick=null}this.__cbOnClick=null,this.__cbOnceClick=null}},listensClick:function(){return null!=this.__cbOnClick&&0<this.__cbOnClick.length||null!=this.__cbOnceClick&&0<this.__cbOnceClick.length},__cbOnDrop:null,__cbOnceDrop:null,__cbOnOwnerUnbindDrop:null,__cbOnceOwnerUnbindDrop:null,emitDrop:function(e){var n=0;if(null!=this.__cbOnDrop&&(n+=this.__cbOnDrop.length),null!=this.__cbOnceDrop&&(n+=this.__cbOnceDrop.length),0<n){var t=C.pool(n),i=t.get(),l=0;if(null!=this.__cbOnDrop)for(var s=0,r=this.__cbOnDrop.length;s<r;){var h=s++;!0?(i.vector[l]=this.__cbOnDrop[h],++l):--n}if(null!=this.__cbOnceDrop){for(var a=null,o=null,s=0,r=this.__cbOnceDrop.length;s<r;){var c,h=s++;!0?(i.vector[l]=this.__cbOnceDrop[h],this.__cbOnceDrop[h]=null,c=this.__cbOnceOwnerUnbindDrop[h],(this.__cbOnceOwnerUnbindDrop[h]=null)!=c&&c(),++l):(--n,null==a&&(a=[],o=[],0),a.push(this.__cbOnceOwnerUnbindDrop[h]),o.push(this.__cbOnceDrop[h]))}this.__cbOnceOwnerUnbindDrop=a,this.__cbOnceDrop=o}for(s=0,r=n;s<r;){l=s++;(0,i.vector[l])(e)}t.release(i)}},onDrop:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event drop because owner is destroyed!");var l=function(e){null!=t&&(i.offDrop(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindDrop&&(this.__cbOnOwnerUnbindDrop=[]),this.__cbOnOwnerUnbindDrop.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindDrop&&(this.__cbOnOwnerUnbindDrop=[]),this.__cbOnOwnerUnbindDrop.push(null);null==this.__cbOnDrop&&(this.__cbOnDrop=[]),this.__cbOnDrop.push(t)},onceDrop:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event drop because owner is destroyed!");var l=function(e){null!=t&&(i.offDrop(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindDrop&&(this.__cbOnceOwnerUnbindDrop=[]),this.__cbOnceOwnerUnbindDrop.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindDrop&&(this.__cbOnceOwnerUnbindDrop=[]),this.__cbOnceOwnerUnbindDrop.push(null);null==this.__cbOnceDrop&&(this.__cbOnceDrop=[]),this.__cbOnceDrop.push(t)},offDrop:function(e){if(null!=e){var n;null!=this.__cbOnDrop&&-1!=(n=this.__cbOnDrop.indexOf(e))&&(this.__cbOnDrop.splice(n,1),null!=(s=this.__cbOnOwnerUnbindDrop[n])&&s(),this.__cbOnOwnerUnbindDrop.splice(n,1)),null!=this.__cbOnceDrop&&-1!=(n=this.__cbOnceDrop.indexOf(e))&&(this.__cbOnceDrop.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindDrop[n])&&s(),this.__cbOnceOwnerUnbindDrop.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindDrop){for(var t=0,i=this.__cbOnOwnerUnbindDrop.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindDrop[l])&&s()}this.__cbOnOwnerUnbindDrop=null}if(null!=this.__cbOnceOwnerUnbindDrop){for(t=0,i=this.__cbOnceOwnerUnbindDrop.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindDrop[l])&&s()}this.__cbOnceOwnerUnbindDrop=null}this.__cbOnDrop=null,this.__cbOnceDrop=null}},listensDrop:function(){return null!=this.__cbOnDrop&&0<this.__cbOnDrop.length||null!=this.__cbOnceDrop&&0<this.__cbOnceDrop.length},__cbOnLongPress:null,__cbOnceLongPress:null,__cbOnOwnerUnbindLongPress:null,__cbOnceOwnerUnbindLongPress:null,emitLongPress:function(e,n){var t=0;if(null!=this.__cbOnLongPress&&(t+=this.__cbOnLongPress.length),null!=this.__cbOnceLongPress&&(t+=this.__cbOnceLongPress.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnLongPress)for(var r=0,h=this.__cbOnLongPress.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnLongPress[a],++s):--t}if(null!=this.__cbOnceLongPress){for(var o=null,c=null,r=0,h=this.__cbOnceLongPress.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceLongPress[a],this.__cbOnceLongPress[a]=null,u=this.__cbOnceOwnerUnbindLongPress[a],(this.__cbOnceOwnerUnbindLongPress[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindLongPress[a]),c.push(this.__cbOnceLongPress[a]))}this.__cbOnceOwnerUnbindLongPress=o,this.__cbOnceLongPress=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onLongPress:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event longPress because owner is destroyed!");var l=function(e){null!=t&&(i.offLongPress(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindLongPress&&(this.__cbOnOwnerUnbindLongPress=[]),this.__cbOnOwnerUnbindLongPress.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindLongPress&&(this.__cbOnOwnerUnbindLongPress=[]),this.__cbOnOwnerUnbindLongPress.push(null);null==this.__cbOnLongPress&&(this.__cbOnLongPress=[]),this.__cbOnLongPress.push(t)},onceLongPress:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event longPress because owner is destroyed!");var l=function(e){null!=t&&(i.offLongPress(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindLongPress&&(this.__cbOnceOwnerUnbindLongPress=[]),this.__cbOnceOwnerUnbindLongPress.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindLongPress&&(this.__cbOnceOwnerUnbindLongPress=[]),this.__cbOnceOwnerUnbindLongPress.push(null);null==this.__cbOnceLongPress&&(this.__cbOnceLongPress=[]),this.__cbOnceLongPress.push(t)},offLongPress:function(e){if(null!=e){var n;null!=this.__cbOnLongPress&&-1!=(n=this.__cbOnLongPress.indexOf(e))&&(this.__cbOnLongPress.splice(n,1),null!=(s=this.__cbOnOwnerUnbindLongPress[n])&&s(),this.__cbOnOwnerUnbindLongPress.splice(n,1)),null!=this.__cbOnceLongPress&&-1!=(n=this.__cbOnceLongPress.indexOf(e))&&(this.__cbOnceLongPress.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindLongPress[n])&&s(),this.__cbOnceOwnerUnbindLongPress.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindLongPress){for(var t=0,i=this.__cbOnOwnerUnbindLongPress.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindLongPress[l])&&s()}this.__cbOnOwnerUnbindLongPress=null}if(null!=this.__cbOnceOwnerUnbindLongPress){for(t=0,i=this.__cbOnceOwnerUnbindLongPress.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindLongPress[l])&&s()}this.__cbOnceOwnerUnbindLongPress=null}this.__cbOnLongPress=null,this.__cbOnceLongPress=null}},listensLongPress:function(){return null!=this.__cbOnLongPress&&0<this.__cbOnLongPress.length||null!=this.__cbOnceLongPress&&0<this.__cbOnceLongPress.length},get_dragging:function(){return this.dragDrop.get_dragging()},colorValue:null,set_colorValue:function(e){return this.colorValue!=e&&(this.colorValue=e,this.color=e),e},updateStyle:function(){this.dragDrop.get_dragging()?(this.transform.tx=this.dragDrop.get_dragX(),this.transform.ty=this.dragDrop.get_dragY()):this.click.get_pressed()?(this.transform.tx=0,this.transform.ty=1):(this.transform.tx=0,this.transform.ty=0),this.transform.changedDirty=!0},bindDraggingDepth:function(){var e=this,n=this.computedDepth;ae.app.onBeginSortVisuals(this,function(){n=e.computedDepth,e.dragDrop.get_dragging()&&(e.computedDepth=9999999)}),ae.app.onFinishSortVisuals(this,function(){e.computedDepth=n})},getDraggingVisual:function(){return this},releaseDraggingVisual:function(e){},handleDraggingChange:function(e,n){n&&!e&&this.emitDrop(this)},toString:function(){var e;return"ColorPickerPaletteColorView("+(null==this.colorValue?"null":-1==(e=this.colorValue)?"NONE":"0x"+z.hex(e>>16&255,2)+z.hex(e>>8&255,2)+z.hex(255&e,2))+")"},unbindEvents:function(){f0.prototype.unbindEvents.call(this),this.offObservedDirty(),this.offClick(),this.offDrop(),this.offLongPress()},__class__:md,__properties__:$extend(f0.prototype.__properties__,{set_colorValue:"set_colorValue",get_dragging:"get_dragging",set_dragDrop:"set_dragDrop",set_longPress:"set_longPress",set_click:"set_click"})}),(E["elements.RelatedToFieldView"]=nd).__name__="elements.RelatedToFieldView",nd.__isInterface__=!0,nd.prototype={relatedFieldView:null,__class__:nd},function(e){this.unobservedPaletteColorPreviews=[],this.paletteColorPreviewsAutoruns=null,this.lastDraggingColorPreview=null,this.lastDraggingColorDropIndex=-1,this.hslFieldsLocked=0,this.updatingColor=0,this.hslLightnessFieldValue="0",this.hslSaturationFieldValue="0",this.hslHueFieldValue="0",this.rgbBlueFieldValue="255",this.rgbGreenFieldValue="255",this.rgbRedFieldValue="255",this.unobservedPaletteHeight=0,this.paletteHeightAutoruns=null,this.computedOnceDraggingColorDropIndex=!1,this.draggingColorDropIndexAutoruns=null,this.computedOnceDraggingColorPreview=!1,this.draggingColorPreviewAutoruns=null,this.unobservedColorValue=16777215,this.colorValueAutoruns=null,this.unobservedTheme=null,this.themeAutoruns=null,this.observedDirty=!1;var t=this,e=(Db.call(this),this.colorFieldView=e,this.padding(Mi.PADDING),this.flags&=-17,1!=this.borderTopSize&&(this.borderTopSize=1,this.updateBorder()),1!=this.borderRightSize&&(this.borderRightSize=1,this.updateBorder()),1!=this.borderBottomSize&&(this.borderBottomSize=1,this.updateBorder()),1!=this.borderLeftSize&&(this.borderLeftSize=1,this.updateBorder()),He.OUTSIDE),e=(this.borderPosition!=e&&(this.borderPosition=e,0<this.borderSize||0<this.borderTopSize||0<this.borderBottomSize||0<this.borderLeftSize||0<this.borderRightSize)&&this.updateBorder(),this.set_roundTranslation(1),this.onPointerDown(this,function(e){}),this.onPointerOver(this,function(e){}),this.onPointerOut(this,function(e){}),this.component(null,new Xi),this.hsbGradientView=new id,this.hsbGradientView);e.set_viewWidth(Mi.GRADIENT_SIZE),e.set_viewHeight(Mi.GRADIENT_SIZE),this.hsbGradientView.onUpdateColorFromPointer(this,function(){t.setColorFromHSB(t.hsbGradientView.hue,t.hsbGradientView.getSaturationFromPointer(),t.hsbGradientView.getBrightnessFromPointer())}),this.add(this.hsbGradientView),this.hsluvGradientView=new kd,(e=this.hsluvGradientView).set_viewWidth(Mi.GRADIENT_SIZE),e.set_viewHeight(Mi.GRADIENT_SIZE),this.hsluvGradientView.onUpdateColorFromPointer(this,function(){t.setColorFromHSLuv(t.hsluvGradientView.getHueFromPointer(),t.hsluvGradientView.getSaturationFromPointer(),t.hsluvGradientView.lightness)}),this.add(this.hsluvGradientView),this.hsbSpectrumView=new jd,(e=this.hsbSpectrumView).set_viewWidth(Mi.SPECTRUM_WIDTH),e.set_viewHeight(Mi.GRADIENT_SIZE),(e=this.hsbSpectrumView).set_offsetX(this.hsbGradientView.viewWidth+Mi.PADDING),e.set_offsetY(0),this.hsbSpectrumView.onMovingPointerChange(this,function(e,n){t.hsbGradientView.movingSpectrum=e}),this.hsbSpectrumView.onUpdateHueFromPointer(this,function(){t.hsbGradientView.savePointerPosition(),t.hsbGradientView.updateTintColor(t.hsbSpectrumView.hue),t.setColorFromHSB(t.hsbGradientView.hue,t.hsbGradientView.getSaturationFromPointer(),t.hsbGradientView.getBrightnessFromPointer()),t.hsbGradientView.restorePointerPosition()}),this.add(this.hsbSpectrumView),this.hsluvSpectrumView=new ld,(e=this.hsluvSpectrumView).set_viewWidth(Mi.SPECTRUM_WIDTH),e.set_viewHeight(Mi.GRADIENT_SIZE);(e=this.hsluvSpectrumView).set_offsetX(this.hsluvGradientView.viewWidth+Mi.PADDING),e.set_offsetY(0),this.hsluvSpectrumView.onMovingPointerChange(this,function(e,n){t.hsluvGradientView.movingSpectrum=e}),this.hsluvSpectrumView.onUpdateHueFromPointer(this,function(){t.hsluvGradientView.savePointerPosition(),t.hsluvGradientView.updateGradientColors(t.hsluvSpectrumView.lightness),t.setColorFromHSLuv(t.hsluvGradientView.getHueFromPointer(),t.hsluvGradientView.getSaturationFromPointer(),t.hsluvGradientView.lightness),t.hsluvGradientView.restorePointerPosition()}),this.add(this.hsluvSpectrumView);var e=this.hsbGradientView.viewWidth+this.hsbSpectrumView.viewWidth+2*Mi.PADDING,n=(this.initRGBFields(e),e+=Mi.FIELD_ROW_WIDTH+Mi.PADDING,this.initHSLFields(e)),e=this.hsbGradientView.viewWidth+this.hsbSpectrumView.viewWidth+2*Mi.PADDING;this.initPaletteUI(e,n),this.autorun($bind(this,this.updateStyle)),this.autorun($bind(this,this.updateColorPreviews)),this.autorun($bind(this,this.updateSize)),this.autorun($bind(this,this.updateFromColorDrop))}),G=((E["elements.ColorPickerView"]=Mi).__name__="elements.ColorPickerView",Mi.__interfaces__=[nd,s],Mi.__super__=Db,Mi.prototype=$extend(Db.prototype,{__cbOnObservedDirty:null,__cbOnceObservedDirty:null,__cbOnOwnerUnbindObservedDirty:null,__cbOnceOwnerUnbindObservedDirty:null,emitObservedDirty:function(e,n){var t=0;if(null!=this.__cbOnObservedDirty&&(t+=this.__cbOnObservedDirty.length),null!=this.__cbOnceObservedDirty&&(t+=this.__cbOnceObservedDirty.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnObservedDirty)for(var r=0,h=this.__cbOnObservedDirty.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnObservedDirty[a],++s):--t}if(null!=this.__cbOnceObservedDirty){for(var o=null,c=null,r=0,h=this.__cbOnceObservedDirty.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceObservedDirty[a],this.__cbOnceObservedDirty[a]=null,u=this.__cbOnceOwnerUnbindObservedDirty[a],(this.__cbOnceOwnerUnbindObservedDirty[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindObservedDirty[a]),c.push(this.__cbOnceObservedDirty[a]))}this.__cbOnceOwnerUnbindObservedDirty=o,this.__cbOnceObservedDirty=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onObservedDirty:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event observedDirty because owner is destroyed!");var l=function(e){null!=t&&(i.offObservedDirty(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push(null);null==this.__cbOnObservedDirty&&(this.__cbOnObservedDirty=[]),this.__cbOnObservedDirty.push(t)},onceObservedDirty:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event observedDirty because owner is destroyed!");var l=function(e){null!=t&&(i.offObservedDirty(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push(null);null==this.__cbOnceObservedDirty&&(this.__cbOnceObservedDirty=[]),this.__cbOnceObservedDirty.push(t)},offObservedDirty:function(e){if(null!=e){var n;null!=this.__cbOnObservedDirty&&-1!=(n=this.__cbOnObservedDirty.indexOf(e))&&(this.__cbOnObservedDirty.splice(n,1),null!=(s=this.__cbOnOwnerUnbindObservedDirty[n])&&s(),this.__cbOnOwnerUnbindObservedDirty.splice(n,1)),null!=this.__cbOnceObservedDirty&&-1!=(n=this.__cbOnceObservedDirty.indexOf(e))&&(this.__cbOnceObservedDirty.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindObservedDirty[n])&&s(),this.__cbOnceOwnerUnbindObservedDirty.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindObservedDirty){for(var t=0,i=this.__cbOnOwnerUnbindObservedDirty.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindObservedDirty[l])&&s()}this.__cbOnOwnerUnbindObservedDirty=null}if(null!=this.__cbOnceOwnerUnbindObservedDirty){for(t=0,i=this.__cbOnceOwnerUnbindObservedDirty.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindObservedDirty[l])&&s()}this.__cbOnceOwnerUnbindObservedDirty=null}this.__cbOnObservedDirty=null,this.__cbOnceObservedDirty=null}},listensObservedDirty:function(){return null!=this.__cbOnObservedDirty&&0<this.__cbOnObservedDirty.length||null!=this.__cbOnceObservedDirty&&0<this.__cbOnceObservedDirty.length},observedDirty:null,themeAutoruns:null,get_theme:function(){var e,n,t=this.unobservedTheme;return null!=A.current&&(e=A.current,null!=(n=this.themeAutoruns)||(n=A.getAutorunArray(),null!=(this.themeAutoruns=n)))&&e.bindToAutorunArray(n),t},set_theme:function(e){var n=this.unobservedTheme;return n!=(this.unobservedTheme=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitThemeChange(e,n),null!=(n=this.themeAutoruns))&&(this.themeAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateTheme:function(){var e=this.unobservedTheme,e=(this.emitThemeChange(e,e),this.themeAutoruns);null!=e&&(this.themeAutoruns=null,A.invalidateAutorunArray(e))},unobservedTheme:null,__cbOnThemeChange:null,__cbOnceThemeChange:null,__cbOnOwnerUnbindThemeChange:null,__cbOnceOwnerUnbindThemeChange:null,emitThemeChange:function(e,n){var t=0;if(null!=this.__cbOnThemeChange&&(t+=this.__cbOnThemeChange.length),null!=this.__cbOnceThemeChange&&(t+=this.__cbOnceThemeChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnThemeChange)for(var r=0,h=this.__cbOnThemeChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnThemeChange[a],++s):--t}if(null!=this.__cbOnceThemeChange){for(var o=null,c=null,r=0,h=this.__cbOnceThemeChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceThemeChange[a],this.__cbOnceThemeChange[a]=null,u=this.__cbOnceOwnerUnbindThemeChange[a],(this.__cbOnceOwnerUnbindThemeChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindThemeChange[a]),c.push(this.__cbOnceThemeChange[a]))}this.__cbOnceOwnerUnbindThemeChange=o,this.__cbOnceThemeChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onThemeChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event themeChange because owner is destroyed!");var l=function(e){null!=t&&(i.offThemeChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindThemeChange&&(this.__cbOnOwnerUnbindThemeChange=[]),this.__cbOnOwnerUnbindThemeChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindThemeChange&&(this.__cbOnOwnerUnbindThemeChange=[]),this.__cbOnOwnerUnbindThemeChange.push(null);null==this.__cbOnThemeChange&&(this.__cbOnThemeChange=[]),this.__cbOnThemeChange.push(t)},onceThemeChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event themeChange because owner is destroyed!");var l=function(e){null!=t&&(i.offThemeChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindThemeChange&&(this.__cbOnceOwnerUnbindThemeChange=[]),this.__cbOnceOwnerUnbindThemeChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindThemeChange&&(this.__cbOnceOwnerUnbindThemeChange=[]),this.__cbOnceOwnerUnbindThemeChange.push(null);null==this.__cbOnceThemeChange&&(this.__cbOnceThemeChange=[]),this.__cbOnceThemeChange.push(t)},offThemeChange:function(e){if(null!=e){var n;null!=this.__cbOnThemeChange&&-1!=(n=this.__cbOnThemeChange.indexOf(e))&&(this.__cbOnThemeChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindThemeChange[n])&&s(),this.__cbOnOwnerUnbindThemeChange.splice(n,1)),null!=this.__cbOnceThemeChange&&-1!=(n=this.__cbOnceThemeChange.indexOf(e))&&(this.__cbOnceThemeChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindThemeChange[n])&&s(),this.__cbOnceOwnerUnbindThemeChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindThemeChange){for(var t=0,i=this.__cbOnOwnerUnbindThemeChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindThemeChange[l])&&s()}this.__cbOnOwnerUnbindThemeChange=null}if(null!=this.__cbOnceOwnerUnbindThemeChange){for(t=0,i=this.__cbOnceOwnerUnbindThemeChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindThemeChange[l])&&s()}this.__cbOnceOwnerUnbindThemeChange=null}this.__cbOnThemeChange=null,this.__cbOnceThemeChange=null}},listensThemeChange:function(){return null!=this.__cbOnThemeChange&&0<this.__cbOnThemeChange.length||null!=this.__cbOnceThemeChange&&0<this.__cbOnceThemeChange.length},colorValueAutoruns:null,get_colorValue:function(){var e,n,t=this.unobservedColorValue;return null!=A.current&&(e=A.current,null!=(n=this.colorValueAutoruns)||(n=A.getAutorunArray(),null!=(this.colorValueAutoruns=n)))&&e.bindToAutorunArray(n),t},set_colorValue:function(e){var n=this.unobservedColorValue;return n!=(this.unobservedColorValue=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitColorValueChange(e,n),null!=(n=this.colorValueAutoruns))&&(this.colorValueAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateColorValue:function(){var e=this.unobservedColorValue,e=(this.emitColorValueChange(e,e),this.colorValueAutoruns);null!=e&&(this.colorValueAutoruns=null,A.invalidateAutorunArray(e))},unobservedColorValue:null,__cbOnColorValueChange:null,__cbOnceColorValueChange:null,__cbOnOwnerUnbindColorValueChange:null,__cbOnceOwnerUnbindColorValueChange:null,emitColorValueChange:function(e,n){var t=0;if(null!=this.__cbOnColorValueChange&&(t+=this.__cbOnColorValueChange.length),null!=this.__cbOnceColorValueChange&&(t+=this.__cbOnceColorValueChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnColorValueChange)for(var r=0,h=this.__cbOnColorValueChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnColorValueChange[a],++s):--t}if(null!=this.__cbOnceColorValueChange){for(var o=null,c=null,r=0,h=this.__cbOnceColorValueChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceColorValueChange[a],this.__cbOnceColorValueChange[a]=null,u=this.__cbOnceOwnerUnbindColorValueChange[a],(this.__cbOnceOwnerUnbindColorValueChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindColorValueChange[a]),c.push(this.__cbOnceColorValueChange[a]))}this.__cbOnceOwnerUnbindColorValueChange=o,this.__cbOnceColorValueChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onColorValueChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event colorValueChange because owner is destroyed!");var l=function(e){null!=t&&(i.offColorValueChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindColorValueChange&&(this.__cbOnOwnerUnbindColorValueChange=[]),this.__cbOnOwnerUnbindColorValueChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindColorValueChange&&(this.__cbOnOwnerUnbindColorValueChange=[]),this.__cbOnOwnerUnbindColorValueChange.push(null);null==this.__cbOnColorValueChange&&(this.__cbOnColorValueChange=[]),this.__cbOnColorValueChange.push(t)},onceColorValueChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event colorValueChange because owner is destroyed!");var l=function(e){null!=t&&(i.offColorValueChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindColorValueChange&&(this.__cbOnceOwnerUnbindColorValueChange=[]),this.__cbOnceOwnerUnbindColorValueChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindColorValueChange&&(this.__cbOnceOwnerUnbindColorValueChange=[]),this.__cbOnceOwnerUnbindColorValueChange.push(null);null==this.__cbOnceColorValueChange&&(this.__cbOnceColorValueChange=[]),this.__cbOnceColorValueChange.push(t)},offColorValueChange:function(e){if(null!=e){var n;null!=this.__cbOnColorValueChange&&-1!=(n=this.__cbOnColorValueChange.indexOf(e))&&(this.__cbOnColorValueChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindColorValueChange[n])&&s(),this.__cbOnOwnerUnbindColorValueChange.splice(n,1)),null!=this.__cbOnceColorValueChange&&-1!=(n=this.__cbOnceColorValueChange.indexOf(e))&&(this.__cbOnceColorValueChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindColorValueChange[n])&&s(),this.__cbOnceOwnerUnbindColorValueChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindColorValueChange){for(var t=0,i=this.__cbOnOwnerUnbindColorValueChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindColorValueChange[l])&&s()}this.__cbOnOwnerUnbindColorValueChange=null}if(null!=this.__cbOnceOwnerUnbindColorValueChange){for(t=0,i=this.__cbOnceOwnerUnbindColorValueChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindColorValueChange[l])&&s()}this.__cbOnceOwnerUnbindColorValueChange=null}this.__cbOnColorValueChange=null,this.__cbOnceColorValueChange=null}},listensColorValueChange:function(){return null!=this.__cbOnColorValueChange&&0<this.__cbOnColorValueChange.length||null!=this.__cbOnceColorValueChange&&0<this.__cbOnceColorValueChange.length},willListenDraggingColorPreviewChange:function(){this.get_unobservedDraggingColorPreview()},get_unobservedDraggingColorPreview:function(){var n,t;return 0<=this._lifecycleState?null==this.computeAutorunDraggingColorPreview?(n=this,t=new A(null),this.computedOnceDraggingColorPreview=!0,(this.computeAutorunDraggingColorPreview=t).onRun=function(){var e=n.computeDraggingColorPreview();A.unobserve(),n.set_draggingColorPreview(e),A.reobserve()},t.onDestroy(this,function(e){n.computeAutorunDraggingColorPreview==t&&(n.computeAutorunDraggingColorPreview=null),n=t=null}),this.onDestroy(t,function(e){null!=t&&(t.destroy(),t=null),n=null}),t.run()):this.computeAutorunDraggingColorPreview.invalidated&&this.computeAutorunDraggingColorPreview.run():this.computedOnceDraggingColorPreview||(A.unobserve(),this.computedOnceDraggingColorPreview=!0,this.unobservedDraggingColorPreview=this.computeDraggingColorPreview(),A.reobserve()),this.unobservedDraggingColorPreview},draggingColorPreviewAutoruns:null,get_draggingColorPreview:function(){var e,n,t=this.get_unobservedDraggingColorPreview();return null!=A.current&&(e=A.current,null!=(n=this.draggingColorPreviewAutoruns)||(n=A.getAutorunArray(),null!=(this.draggingColorPreviewAutoruns=n)))&&e.bindToAutorunArray(n),t},set_draggingColorPreview:function(e){var n=this.get_unobservedDraggingColorPreview();return n!=(this.unobservedDraggingColorPreview=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitDraggingColorPreviewChange(e,n),null!=(n=this.draggingColorPreviewAutoruns))&&(this.draggingColorPreviewAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateDraggingColorPreview:function(){var e=this.get_unobservedDraggingColorPreview(),e=(this.emitDraggingColorPreviewChange(e,e),this.draggingColorPreviewAutoruns);null!=e&&(this.draggingColorPreviewAutoruns=null,A.invalidateAutorunArray(e))},unobservedDraggingColorPreview:null,__cbOnDraggingColorPreviewChange:null,__cbOnceDraggingColorPreviewChange:null,__cbOnOwnerUnbindDraggingColorPreviewChange:null,__cbOnceOwnerUnbindDraggingColorPreviewChange:null,emitDraggingColorPreviewChange:function(e,n){var t=0;if(null!=this.__cbOnDraggingColorPreviewChange&&(t+=this.__cbOnDraggingColorPreviewChange.length),null!=this.__cbOnceDraggingColorPreviewChange&&(t+=this.__cbOnceDraggingColorPreviewChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnDraggingColorPreviewChange)for(var r=0,h=this.__cbOnDraggingColorPreviewChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnDraggingColorPreviewChange[a],++s):--t}if(null!=this.__cbOnceDraggingColorPreviewChange){for(var o=null,c=null,r=0,h=this.__cbOnceDraggingColorPreviewChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceDraggingColorPreviewChange[a],this.__cbOnceDraggingColorPreviewChange[a]=null,u=this.__cbOnceOwnerUnbindDraggingColorPreviewChange[a],(this.__cbOnceOwnerUnbindDraggingColorPreviewChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindDraggingColorPreviewChange[a]),c.push(this.__cbOnceDraggingColorPreviewChange[a]))}this.__cbOnceOwnerUnbindDraggingColorPreviewChange=o,this.__cbOnceDraggingColorPreviewChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onDraggingColorPreviewChange:function(n,t){var i=this;if(null==this.__cbOnDraggingColorPreviewChange&&null==this.__cbOnceDraggingColorPreviewChange&&this.willListenDraggingColorPreviewChange(),null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event draggingColorPreviewChange because owner is destroyed!");var l=function(e){null!=t&&(i.offDraggingColorPreviewChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindDraggingColorPreviewChange&&(this.__cbOnOwnerUnbindDraggingColorPreviewChange=[]),this.__cbOnOwnerUnbindDraggingColorPreviewChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindDraggingColorPreviewChange&&(this.__cbOnOwnerUnbindDraggingColorPreviewChange=[]),this.__cbOnOwnerUnbindDraggingColorPreviewChange.push(null);null==this.__cbOnDraggingColorPreviewChange&&(this.__cbOnDraggingColorPreviewChange=[]),this.__cbOnDraggingColorPreviewChange.push(t)},onceDraggingColorPreviewChange:function(n,t){var i=this;if(null==this.__cbOnDraggingColorPreviewChange&&null==this.__cbOnceDraggingColorPreviewChange&&this.willListenDraggingColorPreviewChange(),null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event draggingColorPreviewChange because owner is destroyed!");var l=function(e){null!=t&&(i.offDraggingColorPreviewChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindDraggingColorPreviewChange&&(this.__cbOnceOwnerUnbindDraggingColorPreviewChange=[]),this.__cbOnceOwnerUnbindDraggingColorPreviewChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindDraggingColorPreviewChange&&(this.__cbOnceOwnerUnbindDraggingColorPreviewChange=[]),this.__cbOnceOwnerUnbindDraggingColorPreviewChange.push(null);null==this.__cbOnceDraggingColorPreviewChange&&(this.__cbOnceDraggingColorPreviewChange=[]),this.__cbOnceDraggingColorPreviewChange.push(t)},offDraggingColorPreviewChange:function(e){if(null!=e){var n;null!=this.__cbOnDraggingColorPreviewChange&&-1!=(n=this.__cbOnDraggingColorPreviewChange.indexOf(e))&&(this.__cbOnDraggingColorPreviewChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindDraggingColorPreviewChange[n])&&s(),this.__cbOnOwnerUnbindDraggingColorPreviewChange.splice(n,1)),null!=this.__cbOnceDraggingColorPreviewChange&&-1!=(n=this.__cbOnceDraggingColorPreviewChange.indexOf(e))&&(this.__cbOnceDraggingColorPreviewChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindDraggingColorPreviewChange[n])&&s(),this.__cbOnceOwnerUnbindDraggingColorPreviewChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindDraggingColorPreviewChange){for(var t=0,i=this.__cbOnOwnerUnbindDraggingColorPreviewChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindDraggingColorPreviewChange[l])&&s()}this.__cbOnOwnerUnbindDraggingColorPreviewChange=null}if(null!=this.__cbOnceOwnerUnbindDraggingColorPreviewChange){for(t=0,i=this.__cbOnceOwnerUnbindDraggingColorPreviewChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindDraggingColorPreviewChange[l])&&s()}this.__cbOnceOwnerUnbindDraggingColorPreviewChange=null}this.__cbOnDraggingColorPreviewChange=null,this.__cbOnceDraggingColorPreviewChange=null}},listensDraggingColorPreviewChange:function(){return null!=this.__cbOnDraggingColorPreviewChange&&0<this.__cbOnDraggingColorPreviewChange.length||null!=this.__cbOnceDraggingColorPreviewChange&&0<this.__cbOnceDraggingColorPreviewChange.length},computeDraggingColorPreview:function(){var e=this.get_paletteColorPreviews();if(null!=e)for(var n=0,t=e.length;n<t;){var i=e[n++];if(i.dragDrop.get_dragging())return i}return null},computeAutorunDraggingColorPreview:null,computedOnceDraggingColorPreview:null,willListenDraggingColorDropIndexChange:function(){this.get_unobservedDraggingColorDropIndex()},get_unobservedDraggingColorDropIndex:function(){var n,t;return 0<=this._lifecycleState?null==this.computeAutorunDraggingColorDropIndex?(n=this,t=new A(null),this.computedOnceDraggingColorDropIndex=!0,(this.computeAutorunDraggingColorDropIndex=t).onRun=function(){var e=n.computeDraggingColorDropIndex();A.unobserve(),n.set_draggingColorDropIndex(e),A.reobserve()},t.onDestroy(this,function(e){n.computeAutorunDraggingColorDropIndex==t&&(n.computeAutorunDraggingColorDropIndex=null),n=t=null}),this.onDestroy(t,function(e){null!=t&&(t.destroy(),t=null),n=null}),t.run()):this.computeAutorunDraggingColorDropIndex.invalidated&&this.computeAutorunDraggingColorDropIndex.run():this.computedOnceDraggingColorDropIndex||(A.unobserve(),this.computedOnceDraggingColorDropIndex=!0,this.unobservedDraggingColorDropIndex=this.computeDraggingColorDropIndex(),A.reobserve()),this.unobservedDraggingColorDropIndex},draggingColorDropIndexAutoruns:null,get_draggingColorDropIndex:function(){var e,n,t=this.get_unobservedDraggingColorDropIndex();return null!=A.current&&(e=A.current,null!=(n=this.draggingColorDropIndexAutoruns)||(n=A.getAutorunArray(),null!=(this.draggingColorDropIndexAutoruns=n)))&&e.bindToAutorunArray(n),t},set_draggingColorDropIndex:function(e){var n=this.get_unobservedDraggingColorDropIndex();return n!=(this.unobservedDraggingColorDropIndex=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitDraggingColorDropIndexChange(e,n),null!=(n=this.draggingColorDropIndexAutoruns))&&(this.draggingColorDropIndexAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateDraggingColorDropIndex:function(){var e=this.get_unobservedDraggingColorDropIndex(),e=(this.emitDraggingColorDropIndexChange(e,e),this.draggingColorDropIndexAutoruns);null!=e&&(this.draggingColorDropIndexAutoruns=null,A.invalidateAutorunArray(e))},unobservedDraggingColorDropIndex:null,__cbOnDraggingColorDropIndexChange:null,__cbOnceDraggingColorDropIndexChange:null,__cbOnOwnerUnbindDraggingColorDropIndexChange:null,__cbOnceOwnerUnbindDraggingColorDropIndexChange:null,emitDraggingColorDropIndexChange:function(e,n){var t=0;if(null!=this.__cbOnDraggingColorDropIndexChange&&(t+=this.__cbOnDraggingColorDropIndexChange.length),null!=this.__cbOnceDraggingColorDropIndexChange&&(t+=this.__cbOnceDraggingColorDropIndexChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnDraggingColorDropIndexChange)for(var r=0,h=this.__cbOnDraggingColorDropIndexChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnDraggingColorDropIndexChange[a],++s):--t}if(null!=this.__cbOnceDraggingColorDropIndexChange){for(var o=null,c=null,r=0,h=this.__cbOnceDraggingColorDropIndexChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceDraggingColorDropIndexChange[a],this.__cbOnceDraggingColorDropIndexChange[a]=null,u=this.__cbOnceOwnerUnbindDraggingColorDropIndexChange[a],(this.__cbOnceOwnerUnbindDraggingColorDropIndexChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindDraggingColorDropIndexChange[a]),c.push(this.__cbOnceDraggingColorDropIndexChange[a]))}this.__cbOnceOwnerUnbindDraggingColorDropIndexChange=o,this.__cbOnceDraggingColorDropIndexChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onDraggingColorDropIndexChange:function(n,t){var i=this;if(null==this.__cbOnDraggingColorDropIndexChange&&null==this.__cbOnceDraggingColorDropIndexChange&&this.willListenDraggingColorDropIndexChange(),null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event draggingColorDropIndexChange because owner is destroyed!");var l=function(e){null!=t&&(i.offDraggingColorDropIndexChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindDraggingColorDropIndexChange&&(this.__cbOnOwnerUnbindDraggingColorDropIndexChange=[]),this.__cbOnOwnerUnbindDraggingColorDropIndexChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindDraggingColorDropIndexChange&&(this.__cbOnOwnerUnbindDraggingColorDropIndexChange=[]),this.__cbOnOwnerUnbindDraggingColorDropIndexChange.push(null);null==this.__cbOnDraggingColorDropIndexChange&&(this.__cbOnDraggingColorDropIndexChange=[]),this.__cbOnDraggingColorDropIndexChange.push(t)},onceDraggingColorDropIndexChange:function(n,t){var i=this;if(null==this.__cbOnDraggingColorDropIndexChange&&null==this.__cbOnceDraggingColorDropIndexChange&&this.willListenDraggingColorDropIndexChange(),null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event draggingColorDropIndexChange because owner is destroyed!");var l=function(e){null!=t&&(i.offDraggingColorDropIndexChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindDraggingColorDropIndexChange&&(this.__cbOnceOwnerUnbindDraggingColorDropIndexChange=[]),this.__cbOnceOwnerUnbindDraggingColorDropIndexChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindDraggingColorDropIndexChange&&(this.__cbOnceOwnerUnbindDraggingColorDropIndexChange=[]),this.__cbOnceOwnerUnbindDraggingColorDropIndexChange.push(null);null==this.__cbOnceDraggingColorDropIndexChange&&(this.__cbOnceDraggingColorDropIndexChange=[]),this.__cbOnceDraggingColorDropIndexChange.push(t)},offDraggingColorDropIndexChange:function(e){if(null!=e){var n;null!=this.__cbOnDraggingColorDropIndexChange&&-1!=(n=this.__cbOnDraggingColorDropIndexChange.indexOf(e))&&(this.__cbOnDraggingColorDropIndexChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindDraggingColorDropIndexChange[n])&&s(),this.__cbOnOwnerUnbindDraggingColorDropIndexChange.splice(n,1)),null!=this.__cbOnceDraggingColorDropIndexChange&&-1!=(n=this.__cbOnceDraggingColorDropIndexChange.indexOf(e))&&(this.__cbOnceDraggingColorDropIndexChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindDraggingColorDropIndexChange[n])&&s(),this.__cbOnceOwnerUnbindDraggingColorDropIndexChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindDraggingColorDropIndexChange){for(var t=0,i=this.__cbOnOwnerUnbindDraggingColorDropIndexChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindDraggingColorDropIndexChange[l])&&s()}this.__cbOnOwnerUnbindDraggingColorDropIndexChange=null}if(null!=this.__cbOnceOwnerUnbindDraggingColorDropIndexChange){for(t=0,i=this.__cbOnceOwnerUnbindDraggingColorDropIndexChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindDraggingColorDropIndexChange[l])&&s()}this.__cbOnceOwnerUnbindDraggingColorDropIndexChange=null}this.__cbOnDraggingColorDropIndexChange=null,this.__cbOnceDraggingColorDropIndexChange=null}},listensDraggingColorDropIndexChange:function(){return null!=this.__cbOnDraggingColorDropIndexChange&&0<this.__cbOnDraggingColorDropIndexChange.length||null!=this.__cbOnceDraggingColorDropIndexChange&&0<this.__cbOnceDraggingColorDropIndexChange.length},computeDraggingColorDropIndex:function(){var e=this.get_draggingColorPreview(),n=G.get_context().user.get_paletteColors();if(null==e||0==n.length)return-1;for(var t=e.offsetX+e.dragDrop.get_dragX(),i=e.offsetY+e.dragDrop.get_dragY(),l=-1,s=999999999,r=this.getColorPickerWidth()-2*Mi.PADDING,h=-(Mi.PALETTE_COLOR_SIZE+Mi.PALETTE_COLOR_GAP),a=Mi.PADDING+Mi.GRADIENT_SIZE,o=0,c=n.length;o<c;){var u=o++,_=((h+=Mi.PALETTE_COLOR_SIZE+Mi.PALETTE_COLOR_GAP)+Mi.PALETTE_COLOR_SIZE>r&&(h=0,a+=Mi.PALETTE_COLOR_SIZE+Mi.PALETTE_COLOR_GAP),h+.5*Mi.PALETTE_COLOR_SIZE-(t+.5*Mi.PALETTE_COLOR_SIZE)),d=a+.5*Mi.PALETTE_COLOR_SIZE-(i+.5*Mi.PALETTE_COLOR_SIZE),_=Math.sqrt(_*_+d*d);_<s&&(l=u,s=_)}return l},computeAutorunDraggingColorDropIndex:null,computedOnceDraggingColorDropIndex:null,paletteHeightAutoruns:null,get_paletteHeight:function(){var e,n,t=this.unobservedPaletteHeight;return null!=A.current&&(e=A.current,null!=(n=this.paletteHeightAutoruns)||(n=A.getAutorunArray(),null!=(this.paletteHeightAutoruns=n)))&&e.bindToAutorunArray(n),t},set_paletteHeight:function(e){var n=this.unobservedPaletteHeight;return n!=(this.unobservedPaletteHeight=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitPaletteHeightChange(e,n),null!=(n=this.paletteHeightAutoruns))&&(this.paletteHeightAutoruns=null,A.invalidateAutorunArray(n)),e},invalidatePaletteHeight:function(){var e=this.unobservedPaletteHeight,e=(this.emitPaletteHeightChange(e,e),this.paletteHeightAutoruns);null!=e&&(this.paletteHeightAutoruns=null,A.invalidateAutorunArray(e))},unobservedPaletteHeight:null,__cbOnPaletteHeightChange:null,__cbOncePaletteHeightChange:null,__cbOnOwnerUnbindPaletteHeightChange:null,__cbOnceOwnerUnbindPaletteHeightChange:null,emitPaletteHeightChange:function(e,n){var t=0;if(null!=this.__cbOnPaletteHeightChange&&(t+=this.__cbOnPaletteHeightChange.length),null!=this.__cbOncePaletteHeightChange&&(t+=this.__cbOncePaletteHeightChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnPaletteHeightChange)for(var r=0,h=this.__cbOnPaletteHeightChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnPaletteHeightChange[a],++s):--t}if(null!=this.__cbOncePaletteHeightChange){for(var o=null,c=null,r=0,h=this.__cbOncePaletteHeightChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOncePaletteHeightChange[a],this.__cbOncePaletteHeightChange[a]=null,u=this.__cbOnceOwnerUnbindPaletteHeightChange[a],(this.__cbOnceOwnerUnbindPaletteHeightChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindPaletteHeightChange[a]),c.push(this.__cbOncePaletteHeightChange[a]))}this.__cbOnceOwnerUnbindPaletteHeightChange=o,this.__cbOncePaletteHeightChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onPaletteHeightChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event paletteHeightChange because owner is destroyed!");var l=function(e){null!=t&&(i.offPaletteHeightChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindPaletteHeightChange&&(this.__cbOnOwnerUnbindPaletteHeightChange=[]),this.__cbOnOwnerUnbindPaletteHeightChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindPaletteHeightChange&&(this.__cbOnOwnerUnbindPaletteHeightChange=[]),this.__cbOnOwnerUnbindPaletteHeightChange.push(null);null==this.__cbOnPaletteHeightChange&&(this.__cbOnPaletteHeightChange=[]),this.__cbOnPaletteHeightChange.push(t)},oncePaletteHeightChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event paletteHeightChange because owner is destroyed!");var l=function(e){null!=t&&(i.offPaletteHeightChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindPaletteHeightChange&&(this.__cbOnceOwnerUnbindPaletteHeightChange=[]),this.__cbOnceOwnerUnbindPaletteHeightChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindPaletteHeightChange&&(this.__cbOnceOwnerUnbindPaletteHeightChange=[]),this.__cbOnceOwnerUnbindPaletteHeightChange.push(null);null==this.__cbOncePaletteHeightChange&&(this.__cbOncePaletteHeightChange=[]),this.__cbOncePaletteHeightChange.push(t)},offPaletteHeightChange:function(e){if(null!=e){var n;null!=this.__cbOnPaletteHeightChange&&-1!=(n=this.__cbOnPaletteHeightChange.indexOf(e))&&(this.__cbOnPaletteHeightChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindPaletteHeightChange[n])&&s(),this.__cbOnOwnerUnbindPaletteHeightChange.splice(n,1)),null!=this.__cbOncePaletteHeightChange&&-1!=(n=this.__cbOncePaletteHeightChange.indexOf(e))&&(this.__cbOncePaletteHeightChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindPaletteHeightChange[n])&&s(),this.__cbOnceOwnerUnbindPaletteHeightChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindPaletteHeightChange){for(var t=0,i=this.__cbOnOwnerUnbindPaletteHeightChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindPaletteHeightChange[l])&&s()}this.__cbOnOwnerUnbindPaletteHeightChange=null}if(null!=this.__cbOnceOwnerUnbindPaletteHeightChange){for(t=0,i=this.__cbOnceOwnerUnbindPaletteHeightChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindPaletteHeightChange[l])&&s()}this.__cbOnceOwnerUnbindPaletteHeightChange=null}this.__cbOnPaletteHeightChange=null,this.__cbOncePaletteHeightChange=null}},listensPaletteHeightChange:function(){return null!=this.__cbOnPaletteHeightChange&&0<this.__cbOnPaletteHeightChange.length||null!=this.__cbOncePaletteHeightChange&&0<this.__cbOncePaletteHeightChange.length},get_hsluv:function(){return G.get_context().user.get_colorPickerHsluv()},set_hsluv:function(e){return G.get_context().user.set_colorPickerHsluv(e)},get_paletteColors:function(){return G.get_context().user.get_paletteColors()},set_paletteColors:function(e){return G.get_context().user.set_paletteColors(e)},hsbGradientView:null,hsbSpectrumView:null,hsluvGradientView:null,hsluvSpectrumView:null,rgbRedField:null,rgbGreenField:null,rgbBlueField:null,rgbRedFieldValue:null,rgbGreenFieldValue:null,rgbBlueFieldValue:null,rgbLabel:null,hslHueField:null,hslSaturationField:null,hslLightnessField:null,hslHueFieldValue:null,hslSaturationFieldValue:null,hslLightnessFieldValue:null,hslLabel:null,updatingColor:null,hslFieldsLocked:null,paletteAddButton:null,colorModeButton:null,lastDraggingColorDropIndex:null,lastDraggingColorPreview:null,paletteColorPreviewsAutoruns:null,get_paletteColorPreviews:function(){var e,n,t=this.unobservedPaletteColorPreviews;return null!=A.current&&(e=A.current,null!=(n=this.paletteColorPreviewsAutoruns)||(n=A.getAutorunArray(),null!=(this.paletteColorPreviewsAutoruns=n)))&&e.bindToAutorunArray(n),t},set_paletteColorPreviews:function(e){var n=this.unobservedPaletteColorPreviews;return this.unobservedPaletteColorPreviews=e,Ds.equalAny(n,e)||(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitPaletteColorPreviewsChange(e,n),null!=(n=this.paletteColorPreviewsAutoruns)&&(this.paletteColorPreviewsAutoruns=null,A.invalidateAutorunArray(n))),e},invalidatePaletteColorPreviews:function(){var e=this.unobservedPaletteColorPreviews,e=(this.emitPaletteColorPreviewsChange(e,e),this.paletteColorPreviewsAutoruns);null!=e&&(this.paletteColorPreviewsAutoruns=null,A.invalidateAutorunArray(e))},unobservedPaletteColorPreviews:null,__cbOnPaletteColorPreviewsChange:null,__cbOncePaletteColorPreviewsChange:null,__cbOnOwnerUnbindPaletteColorPreviewsChange:null,__cbOnceOwnerUnbindPaletteColorPreviewsChange:null,emitPaletteColorPreviewsChange:function(e,n){var t=0;if(null!=this.__cbOnPaletteColorPreviewsChange&&(t+=this.__cbOnPaletteColorPreviewsChange.length),null!=this.__cbOncePaletteColorPreviewsChange&&(t+=this.__cbOncePaletteColorPreviewsChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnPaletteColorPreviewsChange)for(var r=0,h=this.__cbOnPaletteColorPreviewsChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnPaletteColorPreviewsChange[a],++s):--t}if(null!=this.__cbOncePaletteColorPreviewsChange){for(var o=null,c=null,r=0,h=this.__cbOncePaletteColorPreviewsChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOncePaletteColorPreviewsChange[a],this.__cbOncePaletteColorPreviewsChange[a]=null,u=this.__cbOnceOwnerUnbindPaletteColorPreviewsChange[a],(this.__cbOnceOwnerUnbindPaletteColorPreviewsChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindPaletteColorPreviewsChange[a]),c.push(this.__cbOncePaletteColorPreviewsChange[a]))}this.__cbOnceOwnerUnbindPaletteColorPreviewsChange=o,this.__cbOncePaletteColorPreviewsChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onPaletteColorPreviewsChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event paletteColorPreviewsChange because owner is destroyed!");var l=function(e){null!=t&&(i.offPaletteColorPreviewsChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindPaletteColorPreviewsChange&&(this.__cbOnOwnerUnbindPaletteColorPreviewsChange=[]),this.__cbOnOwnerUnbindPaletteColorPreviewsChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindPaletteColorPreviewsChange&&(this.__cbOnOwnerUnbindPaletteColorPreviewsChange=[]),this.__cbOnOwnerUnbindPaletteColorPreviewsChange.push(null);null==this.__cbOnPaletteColorPreviewsChange&&(this.__cbOnPaletteColorPreviewsChange=[]),this.__cbOnPaletteColorPreviewsChange.push(t)},oncePaletteColorPreviewsChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event paletteColorPreviewsChange because owner is destroyed!");var l=function(e){null!=t&&(i.offPaletteColorPreviewsChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindPaletteColorPreviewsChange&&(this.__cbOnceOwnerUnbindPaletteColorPreviewsChange=[]),this.__cbOnceOwnerUnbindPaletteColorPreviewsChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindPaletteColorPreviewsChange&&(this.__cbOnceOwnerUnbindPaletteColorPreviewsChange=[]),this.__cbOnceOwnerUnbindPaletteColorPreviewsChange.push(null);null==this.__cbOncePaletteColorPreviewsChange&&(this.__cbOncePaletteColorPreviewsChange=[]),this.__cbOncePaletteColorPreviewsChange.push(t)},offPaletteColorPreviewsChange:function(e){if(null!=e){var n;null!=this.__cbOnPaletteColorPreviewsChange&&-1!=(n=this.__cbOnPaletteColorPreviewsChange.indexOf(e))&&(this.__cbOnPaletteColorPreviewsChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindPaletteColorPreviewsChange[n])&&s(),this.__cbOnOwnerUnbindPaletteColorPreviewsChange.splice(n,1)),null!=this.__cbOncePaletteColorPreviewsChange&&-1!=(n=this.__cbOncePaletteColorPreviewsChange.indexOf(e))&&(this.__cbOncePaletteColorPreviewsChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindPaletteColorPreviewsChange[n])&&s(),this.__cbOnceOwnerUnbindPaletteColorPreviewsChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindPaletteColorPreviewsChange){for(var t=0,i=this.__cbOnOwnerUnbindPaletteColorPreviewsChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindPaletteColorPreviewsChange[l])&&s()}this.__cbOnOwnerUnbindPaletteColorPreviewsChange=null}if(null!=this.__cbOnceOwnerUnbindPaletteColorPreviewsChange){for(t=0,i=this.__cbOnceOwnerUnbindPaletteColorPreviewsChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindPaletteColorPreviewsChange[l])&&s()}this.__cbOnceOwnerUnbindPaletteColorPreviewsChange=null}this.__cbOnPaletteColorPreviewsChange=null,this.__cbOncePaletteColorPreviewsChange=null}},listensPaletteColorPreviewsChange:function(){return null!=this.__cbOnPaletteColorPreviewsChange&&0<this.__cbOnPaletteColorPreviewsChange.length||null!=this.__cbOncePaletteColorPreviewsChange&&0<this.__cbOncePaletteColorPreviewsChange.length},colorFieldView:null,getColorPickerWidth:function(){return Mi.GRADIENT_SIZE+2*Mi.FIELD_ROW_WIDTH+Mi.SPECTRUM_WIDTH+5*Mi.PADDING},updateSize:function(){var e=this.getColorPickerWidth(),n=Mi.GRADIENT_SIZE+2*Mi.PADDING,t=this.get_paletteHeight();A.unobserve(),0<t&&(n+=Mi.PADDING+t),this.set_viewWidth(e),this.set_viewHeight(n),A.reobserve()},initRGBFields:function(e){this.rgbLabel=new A1,this.rgbLabel.set_align(Ot.CENTER),this.rgbLabel.set_verticalAlign(Vn.CENTER),this.rgbLabel.set_pointSize(12),this.rgbLabel.set_preRenderedSize(20),this.rgbLabel.set_content("RGB"),(n=this.rgbLabel).set_offsetX(e),n.set_offsetY(0);(n=this.rgbLabel).set_viewWidth(Mi.FIELD_ROW_WIDTH),n.set_viewHeight(12),this.add(this.rgbLabel),this.rgbRedField=this.createTextField($bind(this,this.setColorFromRGBFields),0,256);var n=this.rgbRedField,t=this.rgbLabel.offsetY+this.rgbLabel.viewHeight+Mi.PADDING-1,n=(n.set_offsetX(e),n.set_offsetY(t),this.add(this.rgbRedField),this.rgbGreenField=this.createTextField($bind(this,this.setColorFromRGBFields),0,256),this.rgbGreenField),t=this.rgbRedField.offsetY+Mi.FIELD_ADVANCE+Mi.FIELD_Y_GAP,n=(n.set_offsetX(e),n.set_offsetY(t),this.add(this.rgbGreenField),this.rgbBlueField=this.createTextField($bind(this,this.setColorFromRGBFields),0,256),this.rgbBlueField),t=this.rgbGreenField.offsetY+Mi.FIELD_ADVANCE+Mi.FIELD_Y_GAP;return n.set_offsetX(e),n.set_offsetY(t),this.add(this.rgbBlueField),this.rgbBlueField.offsetY+Mi.FIELD_ADVANCE+Mi.PADDING},initHSLFields:function(e){var n=this;this.hslLabel=new A1,this.hslLabel.set_align(Ot.CENTER),this.hslLabel.set_verticalAlign(Vn.CENTER),this.hslLabel.set_pointSize(12),this.hslLabel.set_preRenderedSize(20),(t=this.hslLabel).set_offsetX(e),t.set_offsetY(0);(t=this.hslLabel).set_viewWidth(Mi.FIELD_ROW_WIDTH),t.set_viewHeight(12),this.add(this.hslLabel),this.hslLabel.autorun(function(){var e=G.get_context().user.get_colorPickerHsluv();A.unobserve(),e?(n.hslLabel.set_content("HSLuv"),n.hsbGradientView.set_active(!1),n.hsbSpectrumView.set_active(!1),n.hsluvGradientView.set_active(!0),n.hsluvSpectrumView.set_active(!0)):(n.hslLabel.set_content("HSL"),n.hsbGradientView.set_active(!0),n.hsbSpectrumView.set_active(!0),n.hsluvGradientView.set_active(!1),n.hsluvSpectrumView.set_active(!1))}),this.hslHueField=this.createTextField($bind(this,this.setColorFromHSLFieldHue),0,360);var t=this.hslHueField,i=this.hslLabel.offsetY+this.hslLabel.viewHeight+Mi.PADDING-1,t=(t.set_offsetX(e),t.set_offsetY(i),this.add(this.hslHueField),this.hslSaturationField=this.createTextField($bind(this,this.setColorFromHSLFieldSaturation),0,100),this.hslSaturationField),i=this.hslHueField.offsetY+Mi.FIELD_ADVANCE+Mi.FIELD_Y_GAP,t=(t.set_offsetX(e),t.set_offsetY(i),this.add(this.hslSaturationField),this.hslLightnessField=this.createTextField($bind(this,this.setColorFromHSLFieldLightness),0,100),this.hslLightnessField),i=this.hslSaturationField.offsetY+Mi.FIELD_ADVANCE+Mi.FIELD_Y_GAP;return t.set_offsetX(e),t.set_offsetY(i),this.add(this.hslLightnessField),this.hslLightnessField.offsetY+Mi.FIELD_ADVANCE+Mi.PADDING},initPaletteUI:function(e,n){var t=this,i=(this.colorModeButton=new ad,this.colorModeButton.set_content("Color mode"),this.colorModeButton.set_inputStyle(Vi.OVERLAY),this.colorModeButton.set_viewWidth(2*Mi.FIELD_ROW_WIDTH+Mi.PADDING),this.colorModeButton);i.set_offsetX(e),i.set_offsetY(n),this.colorModeButton.onClick(this,$bind(this,this.switchColorMode)),this.colorModeButton.autorun(function(){var e=t.get_theme();null==e&&(e=G.get_context().get_theme()),A.unobserve(),t.colorModeButton.set_theme(e)}),this.add(this.colorModeButton),n+=Mi.BUTTON_ADVANCE+Mi.PADDING,this.paletteAddButton=new ad,this.paletteAddButton.set_inputStyle(Vi.OVERLAY),this.paletteAddButton.set_viewWidth(2*Mi.FIELD_ROW_WIDTH+Mi.PADDING),(i=this.paletteAddButton).set_offsetX(e),i.set_offsetY(n),this.paletteAddButton.onClick(this,function(){var e=G.get_context().user.get_paletteColors().indexOf(t.get_colorValue());-1!=e?G.get_context().user.removePaletteColor(e):t.saveColor()}),this.paletteAddButton.autorun(function(){var e=t.get_theme();null==e&&(e=G.get_context().get_theme()),A.unobserve(),t.paletteAddButton.set_theme(e)}),this.paletteAddButton.autorun(function(){var e=-1!=G.get_context().user.get_paletteColors().indexOf(t.get_colorValue());A.unobserve(),e?t.paletteAddButton.set_content("Delete color"):t.paletteAddButton.set_content("Save color")}),this.add(this.paletteAddButton)},layout:function(){Db.prototype.layout.call(this)},setColorFromRGB:function(e,n,t){var i=this,l=(this.updatingColor++,0);this.set_colorValue(((l&65535|(255<e?255:e<0?0:e)<<16)&16711935|(255<n?255:n<0?0:n)<<8)&16776960|(255<t?255:t<0?0:t)),this.updateRGBFields(this.get_colorValue()),this.updateHSLFields(this.get_colorValue()),this.updateGradientAndSpectrum(this.get_colorValue()),ae.app.onceUpdate(this,function(e){i.updatingColor--})},setColorFromHSL:function(e,n,t){var i=this,l=(this.updatingColor++,0),s=(1-Math.abs(2*t-1))*n,r=t-s/2,h=e,a=s,s=(h%=360)/60,o=a*(1-Math.abs(s%2-1))+r;switch(a+=r,0|s){case 0:l=l&65535|(255<(c=Math.round(255*a))?255:c<0?0:c)<<16;var c=Math.round(255*o),c=(l=l&16711935|(255<c?255:c<0?0:c)<<8,Math.round(255*r)),l=l&16776960|(255<c?255:c<0?0:c);break;case 1:c=(l=l&65535|(255<(c=Math.round(255*o))?255:c<0?0:c)<<16,Math.round(255*a)),c=(l=l&16711935|(255<c?255:c<0?0:c)<<8,Math.round(255*r));l=l&16776960|(255<c?255:c<0?0:c);break;case 2:c=(l=l&65535|(255<(c=Math.round(255*r))?255:c<0?0:c)<<16,Math.round(255*a)),c=(l=l&16711935|(255<c?255:c<0?0:c)<<8,Math.round(255*o));l=l&16776960|(255<c?255:c<0?0:c);break;case 3:c=(l=l&65535|(255<(c=Math.round(255*r))?255:c<0?0:c)<<16,Math.round(255*o)),c=(l=l&16711935|(255<c?255:c<0?0:c)<<8,Math.round(255*a));l=l&16776960|(255<c?255:c<0?0:c);break;case 4:c=(l=l&65535|(255<(c=Math.round(255*o))?255:c<0?0:c)<<16,Math.round(255*r)),c=(l=l&16711935|(255<c?255:c<0?0:c)<<8,Math.round(255*a));l=l&16776960|(255<c?255:c<0?0:c);break;case 5:c=(l=l&65535|(255<(c=Math.round(255*a))?255:c<0?0:c)<<16,Math.round(255*r)),c=(l=l&16711935|(255<c?255:c<0?0:c)<<8,Math.round(255*o));l=l&16776960|(255<c?255:c<0?0:c)}this.set_colorValue(l),this.updateRGBFields(this.get_colorValue()),this.updateHSLFields(this.get_colorValue(),e,n,t),this.updateGradientAndSpectrum(this.get_colorValue(),e,n,t),ae.app.onceUpdate(this,function(e){i.updatingColor--})},setColorFromHSB:function(e,n,t){var i=this;this.updatingColor++,this.set_colorValue(P.fromHSB(e,n,t)),this.updateRGBFields(this.get_colorValue()),this.updateHSLFields(this.get_colorValue(),e),this.updateGradientAndSpectrum(this.get_colorValue(),e),ae.app.onceUpdate(this,function(e){i.updatingColor--})},setColorFromHSLuv:function(e,n,t){var i=this,l=(this.updatingColor++,0);if(P._hsluvTuple[0]=e,P._hsluvTuple[1]=100*n,P._hsluvTuple[2]=100*t,.001<t){x.hsluvToRgb(P._hsluvTuple,P._hsluvResult);var s=P._hsluvResult[0];s<0&&(s=0);l=l&65535|(255<(r=Math.round(255*s))?255:r<0?0:r)<<16,(s=P._hsluvResult[1])<0&&(s=0);var r=Math.round(255*s),r=(l=l&16711935|(255<r?255:r<0?0:r)<<8,(s=P._hsluvResult[2])<0&&(s=0),Math.round(255*s)),l=l&16776960|(255<r?255:r<0?0:r)}else{var s=(1-Math.abs(2*t-1))*n,h=t-s/2,a=e,o=s,s=(a%=360)/60,c=o*(1-Math.abs(s%2-1))+h;switch(o+=h,0|s){case 0:r=(l=l&65535|(255<(r=Math.round(255*o))?255:r<0?0:r)<<16,Math.round(255*c)),r=(l=l&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*h));l=l&16776960|(255<r?255:r<0?0:r);break;case 1:r=(l=l&65535|(255<(r=Math.round(255*c))?255:r<0?0:r)<<16,Math.round(255*o)),r=(l=l&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*h));l=l&16776960|(255<r?255:r<0?0:r);break;case 2:r=(l=l&65535|(255<(r=Math.round(255*h))?255:r<0?0:r)<<16,Math.round(255*o)),r=(l=l&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*c));l=l&16776960|(255<r?255:r<0?0:r);break;case 3:r=(l=l&65535|(255<(r=Math.round(255*h))?255:r<0?0:r)<<16,Math.round(255*c)),r=(l=l&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*o));l=l&16776960|(255<r?255:r<0?0:r);break;case 4:r=(l=l&65535|(255<(r=Math.round(255*c))?255:r<0?0:r)<<16,Math.round(255*h)),r=(l=l&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*o));l=l&16776960|(255<r?255:r<0?0:r);break;case 5:r=(l=l&65535|(255<(r=Math.round(255*o))?255:r<0?0:r)<<16,Math.round(255*h)),r=(l=l&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*c));l=l&16776960|(255<r?255:r<0?0:r)}}this.set_colorValue(l),this.updateRGBFields(this.get_colorValue()),this.updateHSLFields(this.get_colorValue(),e,n,t),this.updateGradientAndSpectrum(this.get_colorValue(),e,n,t),ae.app.onceUpdate(this,function(e){i.updatingColor--})},updateRGBFields:function(e){this.rgbRedField.setTextValue(this.rgbRedField,""+(e>>16&255)),this.rgbGreenField.setTextValue(this.rgbGreenField,""+(e>>8&255)),this.rgbBlueField.setTextValue(this.rgbBlueField,""+(255&e))},updateHSLFields:function(e,n,t,i){var l;0<this.hslFieldsLocked||(G.get_context().user.get_colorPickerHsluv()?(null==(l=Mi._tuple)&&(l=[0,0,0]),P._hsluvTuple[0]=(e>>16&255)/255,P._hsluvTuple[1]=(e>>8&255)/255,P._hsluvTuple[2]=(255&e)/255,x.rgbToHsluv(P._hsluvTuple,l),l[1]*=.01,l[2]*=.01,null==n&&(n=Mi._tuple[0]),null==t&&(t=Mi._tuple[1]),null==i&&(i=Mi._tuple[2])):(null==n&&(n=P.get_hue(e)),null==t&&(t=(Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))-Math.min((e>>16&255)/255,Math.min((e>>8&255)/255,(255&e)/255)))/Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))),null==i&&(i=(Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))+Math.min((e>>16&255)/255,Math.min((e>>8&255)/255,(255&e)/255)))/2)),this.hslHueField.setTextValue(this.hslHueField,""+Math.round(n)),this.hslSaturationField.setTextValue(this.hslSaturationField,""+Math.round(1e3*t)/10),this.hslLightnessField.setTextValue(this.hslLightnessField,""+Math.round(1e3*i)/10))},updateGradientAndSpectrum:function(e,n,t,i){var l;G.get_context().user.get_colorPickerHsluv()?(null==(l=Mi._tuple)&&(l=[0,0,0]),P._hsluvTuple[0]=(e>>16&255)/255,P._hsluvTuple[1]=(e>>8&255)/255,P._hsluvTuple[2]=(255&e)/255,x.rgbToHsluv(P._hsluvTuple,l),l[1]*=.01,l[2]*=.01,null==n&&(n=Mi._tuple[0]),null==t&&(t=Mi._tuple[1]),null==i&&(i=Mi._tuple[2]),this.hsluvGradientView.set_colorValue(e),this.hsluvGradientView.updateGradientColors(i),this.hsbGradientView.set_colorValue(e),this.hsbGradientView.updateTintColor(P.get_hue(e)),this.hsluvSpectrumView.set_lightness(i),this.hsluvSpectrumView.set_hue(n),this.hsbSpectrumView.set_hue(P.get_hue(e))):(null==n&&(n=P.get_hue(e)),null==t&&(t=(Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))-Math.min((e>>16&255)/255,Math.min((e>>8&255)/255,(255&e)/255)))/Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))),null==i&&(i=(Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))+Math.min((e>>16&255)/255,Math.min((e>>8&255)/255,(255&e)/255)))/2),null==(l=Mi._tuple)&&(l=[0,0,0]),P._hsluvTuple[0]=(e>>16&255)/255,P._hsluvTuple[1]=(e>>8&255)/255,P._hsluvTuple[2]=(255&e)/255,x.rgbToHsluv(P._hsluvTuple,l),l[1]*=.01,l[2]*=.01,this.hsbGradientView.set_colorValue(e),this.hsbGradientView.updateTintColor(n),this.hsluvGradientView.set_colorValue(e),this.hsluvGradientView.updateGradientColors(Mi._tuple[2]),this.hsbSpectrumView.set_hue(n),this.hsluvSpectrumView.set_hue(Mi._tuple[0]),this.hsluvSpectrumView.set_lightness(Mi._tuple[2]))},setColorFromRGBFields:function(){this.rgbRedField.get_textValue()==this.rgbRedFieldValue&&this.rgbGreenField.get_textValue()==this.rgbGreenFieldValue&&this.rgbBlueField.get_textValue()==this.rgbBlueFieldValue||(this.rgbRedFieldValue=this.rgbRedField.get_textValue(),this.rgbGreenFieldValue=this.rgbGreenField.get_textValue(),this.rgbBlueFieldValue=this.rgbBlueField.get_textValue(),0<this.updatingColor)||this.setColorFromRGB(K.parseInt(this.rgbRedField.get_textValue()),K.parseInt(this.rgbGreenField.get_textValue()),K.parseInt(this.rgbBlueField.get_textValue()))},setColorFromHSLFieldHue:function(){var e,n,t=this;this.hslHueField.get_textValue()==this.hslHueFieldValue||(this.hslHueFieldValue=this.hslHueField.get_textValue(),0<this.updatingColor)||(this.hslFieldsLocked++,e=parseFloat(this.hslHueField.get_textValue()),n=.01*parseFloat(this.hslSaturationField.get_textValue()),G.get_context().user.get_colorPickerHsluv()?this.setColorFromHSLuv(e,n,this.hsluvGradientView.lightness):(this.hsbGradientView.savePointerPosition(),this.hsbGradientView.updateTintColor(e),this.setColorFromHSB(this.hsbGradientView.hue,this.hsbGradientView.getSaturationFromPointer(),this.hsbGradientView.getBrightnessFromPointer()),this.hsbGradientView.restorePointerPosition()),ae.app.onceUpdate(this,function(e){t.hslFieldsLocked--}))},setColorFromHSLFieldSaturation:function(){var e,n,t,i=this;this.hslSaturationField.get_textValue()==this.hslSaturationFieldValue||(this.hslSaturationFieldValue=this.hslSaturationField.get_textValue(),0<this.updatingColor)||(this.hslFieldsLocked++,e=parseFloat(this.hslHueField.get_textValue()),n=.01*parseFloat(this.hslSaturationField.get_textValue()),t=.01*parseFloat(this.hslLightnessField.get_textValue()),G.get_context().user.get_colorPickerHsluv()?this.setColorFromHSLuv(e,n,this.hsluvGradientView.lightness):this.setColorFromHSL(this.hsbGradientView.hue,n,t),ae.app.onceUpdate(this,function(e){i.hslFieldsLocked--}))},setColorFromHSLFieldLightness:function(){var e,n,t=this;this.hslLightnessField.get_textValue()==this.hslLightnessFieldValue||(this.hslLightnessFieldValue=this.hslLightnessField.get_textValue(),0<this.updatingColor)||(this.hslFieldsLocked++,e=.01*parseFloat(this.hslSaturationField.get_textValue()),n=.01*parseFloat(this.hslLightnessField.get_textValue()),G.get_context().user.get_colorPickerHsluv()?(this.hsluvGradientView.savePointerPosition(),this.hsluvGradientView.updateGradientColors(n),this.setColorFromHSLuv(this.hsluvGradientView.getHueFromPointer(),this.hsluvGradientView.getSaturationFromPointer(),this.hsluvGradientView.lightness),this.hsluvGradientView.restorePointerPosition()):this.setColorFromHSL(this.hsbGradientView.hue,e,n),ae.app.onceUpdate(this,function(e){t.hslFieldsLocked--}))},createTextField:function(t,i,l){null==l&&(l=100),null==i&&(i=0);var n=this,s=new Ki(ji.NUMERIC);return s.set_textAlign(Ot.CENTER),s.set_inputStyle(Vi.OVERLAY),s.set_textValue("0"),s.set_viewWidth(Mi.FIELD_ROW_WIDTH),s.autorun(function(){var e=n.get_theme();null==e&&(e=G.get_context().get_theme()),A.unobserve(),s.set_theme(e)}),s.setTextValue=function(e,n){null!=t&&ae.app._oncePostFlushImmediate(t,!0),zi.setTextValueToInt(e,n,i,l)},s.setEmptyValue=function(e){var n=0;l<(n=n<i?i:n)&&(n=l),s.set_textValue(""+n),null!=t&&t()},s},updateStyle:function(){var e=this.get_theme(),n=(e=null==e?G.get_context().get_theme():e).get_overlayBorderColor(),n=(this.borderColor!=n&&(this.borderColor=n,0<this.borderSize||0<this.borderTopSize||0<this.borderBottomSize||0<this.borderLeftSize||0<this.borderRightSize)&&this.updateBorder(),e.get_overlayBorderAlpha());this.borderAlpha!=n&&(this.borderAlpha=n,null!=this.border)&&this.border.set_alpha(n),this.color=e.get_overlayBackgroundColor(),this.set_alpha(e.get_overlayBackgroundAlpha()),this.rgbLabel.set_textColor(e.get_lightTextColor()),this.rgbLabel.set_font(e.get_mediumFont()),this.hslLabel.set_textColor(e.get_lightTextColor()),this.hslLabel.set_font(e.get_mediumFont())},saveColor:function(){G.get_context().user.addPaletteColor(this.get_colorValue())},switchColorMode:function(){var e=!G.get_context().user.get_colorPickerHsluv();G.get_context().user.set_colorPickerHsluv(e),this.setColorFromRGB(this.get_colorValue()>>16&255,this.get_colorValue()>>8&255,255&this.get_colorValue())},updateColorPreviews:function(){for(var e=G.get_context().user.get_paletteColors(),n=this.get_draggingColorPreview(),t=this.get_draggingColorDropIndex(),i=(A.unobserve(),!1);this.get_paletteColorPreviews().length>e.length;)this.get_paletteColorPreviews().pop().destroy(),i=!0;for(;this.get_paletteColorPreviews().length<e.length;){var l=this.createColorPreview();this.add(l),this.get_paletteColorPreviews().push(l),i=!0}var s=-1;if(null!=n&&(s=this.get_paletteColorPreviews().indexOf(n)),0<e.length){for(var r=this.getColorPickerWidth()-2*Mi.PADDING,h=-(Mi.PALETTE_COLOR_SIZE+Mi.PALETTE_COLOR_GAP),a=Mi.PADDING+Mi.GRADIENT_SIZE,o=0,c=e.length;o<c;){var u=o++,_=((h+=Mi.PALETTE_COLOR_SIZE+Mi.PALETTE_COLOR_GAP)+Mi.PALETTE_COLOR_SIZE>r&&(h=0,a+=Mi.PALETTE_COLOR_SIZE+Mi.PALETTE_COLOR_GAP),u),u=(-1!=t&&(s<=u&&u<=t?++_:u<=s&&t<u&&--_),this.get_paletteColorPreviews()[_]);null!=u&&(u.set_colorValue(e[_]),_=0,null!=n&&n!=u&&u.offsetY==a&&(_=.1),Kc.transition(u,null,_,function(e){Zt.offset(e,h,a)}))}this.set_paletteHeight(a+Mi.PALETTE_COLOR_SIZE-Mi.GRADIENT_SIZE-Mi.PADDING)}else this.set_paletteHeight(0);i&&this.invalidatePaletteColorPreviews(),A.reobserve()},updateFromColorDrop:function(){var e=this.get_draggingColorDropIndex(),e=(-1!=e&&(this.lastDraggingColorDropIndex=e),this.get_draggingColorPreview());null!=e&&(this.lastDraggingColorPreview=e)},createColorPreview:function(){var e=new md;return e.onClick(this,$bind(this,this.handlePaletteColorClick)),e.onDrop(this,$bind(this,this.handlePaletteColorDrop)),e.onLongPress(this,$bind(this,this.handlePaletteColorLongPress)),e},handlePaletteColorClick:function(e){e=e.colorValue;this.setColorFromRGB(e>>16&255,e>>8&255,255&e)},handlePaletteColorDrop:function(e){var n=this.get_paletteColorPreviews().indexOf(this.get_draggingColorPreview());G.get_context().user.movePaletteColor(n,this.lastDraggingColorDropIndex)},handlePaletteColorLongPress:function(e,n){e=this.get_paletteColorPreviews().indexOf(e);-1!=e&&G.get_context().user.removePaletteColor(e)},relatedFieldView:function(){return this.colorFieldView},unbindEvents:function(){Db.prototype.unbindEvents.call(this),this.offObservedDirty(),this.offThemeChange(),this.offColorValueChange(),this.offDraggingColorPreviewChange(),this.offDraggingColorDropIndexChange(),this.offPaletteHeightChange(),this.offPaletteColorPreviewsChange()},__class__:Mi,__properties__:$extend(Db.prototype.__properties__,{set_paletteColorPreviews:"set_paletteColorPreviews",get_paletteColorPreviews:"get_paletteColorPreviews",set_paletteColors:"set_paletteColors",get_paletteColors:"get_paletteColors",set_hsluv:"set_hsluv",get_hsluv:"get_hsluv",set_paletteHeight:"set_paletteHeight",get_paletteHeight:"get_paletteHeight",get_unobservedDraggingColorDropIndex:"get_unobservedDraggingColorDropIndex",set_draggingColorDropIndex:"set_draggingColorDropIndex",get_draggingColorDropIndex:"get_draggingColorDropIndex",get_unobservedDraggingColorPreview:"get_unobservedDraggingColorPreview",set_draggingColorPreview:"set_draggingColorPreview",get_draggingColorPreview:"get_draggingColorPreview",set_colorValue:"set_colorValue",get_colorValue:"get_colorValue",set_theme:"set_theme",get_theme:"get_theme"})}),function(){this.assets=null,this.focusedWindow=null,this.view=null,this.user=new qi,this.unobservedTheme=new $i,this.themeAutoruns=null,this.observedDirty=!1,j.call(this),ys.loadFromKey(this.user,"elements-context",!0),ys.autoSaveAsKey(this.user,"elements-context")}),Bi=((E["elements.Context"]=G).__name__="elements.Context",G.__interfaces__=[s],G.__properties__={set_context:"set_context",get_context:"get_context"},G.get_context=function(){return G.lazyContext&&(G.lazyContext=!1,G.context=new G),G.context},G.set_context=function(e){return G.context=e},G.__super__=j,G.prototype=$extend(j.prototype,{__cbOnObservedDirty:null,__cbOnceObservedDirty:null,__cbOnOwnerUnbindObservedDirty:null,__cbOnceOwnerUnbindObservedDirty:null,emitObservedDirty:function(e,n){var t=0;if(null!=this.__cbOnObservedDirty&&(t+=this.__cbOnObservedDirty.length),null!=this.__cbOnceObservedDirty&&(t+=this.__cbOnceObservedDirty.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnObservedDirty)for(var r=0,h=this.__cbOnObservedDirty.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnObservedDirty[a],++s):--t}if(null!=this.__cbOnceObservedDirty){for(var o=null,c=null,r=0,h=this.__cbOnceObservedDirty.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceObservedDirty[a],this.__cbOnceObservedDirty[a]=null,u=this.__cbOnceOwnerUnbindObservedDirty[a],(this.__cbOnceOwnerUnbindObservedDirty[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindObservedDirty[a]),c.push(this.__cbOnceObservedDirty[a]))}this.__cbOnceOwnerUnbindObservedDirty=o,this.__cbOnceObservedDirty=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onObservedDirty:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event observedDirty because owner is destroyed!");var l=function(e){null!=t&&(i.offObservedDirty(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push(null);null==this.__cbOnObservedDirty&&(this.__cbOnObservedDirty=[]),this.__cbOnObservedDirty.push(t)},onceObservedDirty:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event observedDirty because owner is destroyed!");var l=function(e){null!=t&&(i.offObservedDirty(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push(null);null==this.__cbOnceObservedDirty&&(this.__cbOnceObservedDirty=[]),this.__cbOnceObservedDirty.push(t)},offObservedDirty:function(e){if(null!=e){var n;null!=this.__cbOnObservedDirty&&-1!=(n=this.__cbOnObservedDirty.indexOf(e))&&(this.__cbOnObservedDirty.splice(n,1),null!=(s=this.__cbOnOwnerUnbindObservedDirty[n])&&s(),this.__cbOnOwnerUnbindObservedDirty.splice(n,1)),null!=this.__cbOnceObservedDirty&&-1!=(n=this.__cbOnceObservedDirty.indexOf(e))&&(this.__cbOnceObservedDirty.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindObservedDirty[n])&&s(),this.__cbOnceOwnerUnbindObservedDirty.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindObservedDirty){for(var t=0,i=this.__cbOnOwnerUnbindObservedDirty.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindObservedDirty[l])&&s()}this.__cbOnOwnerUnbindObservedDirty=null}if(null!=this.__cbOnceOwnerUnbindObservedDirty){for(t=0,i=this.__cbOnceOwnerUnbindObservedDirty.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindObservedDirty[l])&&s()}this.__cbOnceOwnerUnbindObservedDirty=null}this.__cbOnObservedDirty=null,this.__cbOnceObservedDirty=null}},listensObservedDirty:function(){return null!=this.__cbOnObservedDirty&&0<this.__cbOnObservedDirty.length||null!=this.__cbOnceObservedDirty&&0<this.__cbOnceObservedDirty.length},observedDirty:null,themeAutoruns:null,get_theme:function(){var e,n,t=this.unobservedTheme;return null!=A.current&&(e=A.current,null!=(n=this.themeAutoruns)||(n=A.getAutorunArray(),null!=(this.themeAutoruns=n)))&&e.bindToAutorunArray(n),t},set_theme:function(e){var n=this.unobservedTheme;return n!=(this.unobservedTheme=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitThemeChange(e,n),null!=(n=this.themeAutoruns))&&(this.themeAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateTheme:function(){var e=this.unobservedTheme,e=(this.emitThemeChange(e,e),this.themeAutoruns);null!=e&&(this.themeAutoruns=null,A.invalidateAutorunArray(e))},unobservedTheme:null,__cbOnThemeChange:null,__cbOnceThemeChange:null,__cbOnOwnerUnbindThemeChange:null,__cbOnceOwnerUnbindThemeChange:null,emitThemeChange:function(e,n){var t=0;if(null!=this.__cbOnThemeChange&&(t+=this.__cbOnThemeChange.length),null!=this.__cbOnceThemeChange&&(t+=this.__cbOnceThemeChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnThemeChange)for(var r=0,h=this.__cbOnThemeChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnThemeChange[a],++s):--t}if(null!=this.__cbOnceThemeChange){for(var o=null,c=null,r=0,h=this.__cbOnceThemeChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceThemeChange[a],this.__cbOnceThemeChange[a]=null,u=this.__cbOnceOwnerUnbindThemeChange[a],(this.__cbOnceOwnerUnbindThemeChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindThemeChange[a]),c.push(this.__cbOnceThemeChange[a]))}this.__cbOnceOwnerUnbindThemeChange=o,this.__cbOnceThemeChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onThemeChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event themeChange because owner is destroyed!");var l=function(e){null!=t&&(i.offThemeChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindThemeChange&&(this.__cbOnOwnerUnbindThemeChange=[]),this.__cbOnOwnerUnbindThemeChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindThemeChange&&(this.__cbOnOwnerUnbindThemeChange=[]),this.__cbOnOwnerUnbindThemeChange.push(null);null==this.__cbOnThemeChange&&(this.__cbOnThemeChange=[]),this.__cbOnThemeChange.push(t)},onceThemeChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event themeChange because owner is destroyed!");var l=function(e){null!=t&&(i.offThemeChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindThemeChange&&(this.__cbOnceOwnerUnbindThemeChange=[]),this.__cbOnceOwnerUnbindThemeChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindThemeChange&&(this.__cbOnceOwnerUnbindThemeChange=[]),this.__cbOnceOwnerUnbindThemeChange.push(null);null==this.__cbOnceThemeChange&&(this.__cbOnceThemeChange=[]),this.__cbOnceThemeChange.push(t)},offThemeChange:function(e){if(null!=e){var n;null!=this.__cbOnThemeChange&&-1!=(n=this.__cbOnThemeChange.indexOf(e))&&(this.__cbOnThemeChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindThemeChange[n])&&s(),this.__cbOnOwnerUnbindThemeChange.splice(n,1)),null!=this.__cbOnceThemeChange&&-1!=(n=this.__cbOnceThemeChange.indexOf(e))&&(this.__cbOnceThemeChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindThemeChange[n])&&s(),this.__cbOnceOwnerUnbindThemeChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindThemeChange){for(var t=0,i=this.__cbOnOwnerUnbindThemeChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindThemeChange[l])&&s()}this.__cbOnOwnerUnbindThemeChange=null}if(null!=this.__cbOnceOwnerUnbindThemeChange){for(t=0,i=this.__cbOnceOwnerUnbindThemeChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindThemeChange[l])&&s()}this.__cbOnceOwnerUnbindThemeChange=null}this.__cbOnThemeChange=null,this.__cbOnceThemeChange=null}},listensThemeChange:function(){return null!=this.__cbOnThemeChange&&0<this.__cbOnThemeChange.length||null!=this.__cbOnceThemeChange&&0<this.__cbOnceThemeChange.length},user:null,get_windowsData:function(){return this.user.get_windowsData()},view:null,focusedWindow:null,assets:null,get_assets:function(){return null==this.assets&&(this.assets=new Oe),this.assets},addWindowData:function(e){this.user.get_windowsData().h[e.id]=e;e=this.user;1!=e.dirty&&(e.dirty=!0,e.emitModelDirty(e))},unbindEvents:function(){j.prototype.unbindEvents.call(this),this.offObservedDirty(),this.offThemeChange()},__class__:G,__properties__:$extend(j.prototype.__properties__,{get_assets:"get_assets",get_windowsData:"get_windowsData",set_theme:"set_theme",get_theme:"get_theme"})}),(E["elements.CrossX"]=rd).__name__="elements.CrossX",rd.__super__=o,rd.prototype=$extend(o.prototype,{quad0:null,quad1:null,thickness:null,set_thickness:function(e){return this.thickness!=e&&(this.thickness=e,this.contentDirty=!0,ae.app.visualsContentDirty=!0),e},internalScale:null,set_internalScale:function(e){return this.internalScale!=e&&(this.internalScale=e,this.contentDirty=!0,ae.app.visualsContentDirty=!0),e},color:null,set_color:function(e){return this.color!=e&&(this.color=e,this.quad0.color=e,this.quad1.color=e),e},set_width:function(e){return this.get_width()!=e&&(o.prototype.set_width.call(this,e),this.contentDirty=!0,ae.app.visualsContentDirty=!0),e},set_height:function(e){return this.get_height()!=e&&(o.prototype.set_height.call(this,e),this.contentDirty=!0,ae.app.visualsContentDirty=!0),e},computeContent:function(){this.contentDirty=!1;var e=this.quad0,n=.5*this.get_width(),t=.5*this.get_height(),e=(e.set_x(n),e.set_y(t),this.quad0),n=.7*this.get_width(),i=this.thickness,e=(e.set_width(n),e.set_height(i),this.quad0),l=this.internalScale,e=(e.set_scaleX(l),e.set_scaleY(l),this.quad1),t=this.quad0.y,e=(e.set_x(this.quad0.x),e.set_y(t),this.quad1),n=this.quad0.get_width(),i=this.quad0.get_height(),e=(e.set_width(n),e.set_height(i),this.quad1),l=this.internalScale;e.set_scaleX(l),e.set_scaleY(l)},__class__:rd,__properties__:$extend(o.prototype.__properties__,{set_color:"set_color",set_internalScale:"set_internalScale",set_thickness:"set_thickness"})}),function(e,n,t,i){null==e&&(e=4),this.initializerName=null,this.isPointerDown=!1,this.pointerDragStartY=0,this.pointerDragStartX=0,this.pointerDownY=0,this.pointerDownX=0,this.visualDragStartY=0,this.visualDragStartX=0,this.draggingVisual=null,this.releaseDraggingVisual=null,this.getDraggingVisual=null,this.unobservedDragY=0,this.dragYAutoruns=null,this.unobservedDragX=0,this.dragXAutoruns=null,this.unobservedDragging=!1,this.draggingAutoruns=null,this.observedDirty=!1,j.call(this),this.click=n,this.threshold=e,this.getDraggingVisual=t,this.releaseDraggingVisual=i}),Ei=((E["elements.DragDrop"]=Bi).__name__="elements.DragDrop",Bi.__interfaces__=[s,a0],Bi.__super__=j,Bi.prototype=$extend(j.prototype,{__cbOnObservedDirty:null,__cbOnceObservedDirty:null,__cbOnOwnerUnbindObservedDirty:null,__cbOnceOwnerUnbindObservedDirty:null,emitObservedDirty:function(e,n){var t=0;if(null!=this.__cbOnObservedDirty&&(t+=this.__cbOnObservedDirty.length),null!=this.__cbOnceObservedDirty&&(t+=this.__cbOnceObservedDirty.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnObservedDirty)for(var r=0,h=this.__cbOnObservedDirty.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnObservedDirty[a],++s):--t}if(null!=this.__cbOnceObservedDirty){for(var o=null,c=null,r=0,h=this.__cbOnceObservedDirty.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceObservedDirty[a],this.__cbOnceObservedDirty[a]=null,u=this.__cbOnceOwnerUnbindObservedDirty[a],(this.__cbOnceOwnerUnbindObservedDirty[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindObservedDirty[a]),c.push(this.__cbOnceObservedDirty[a]))}this.__cbOnceOwnerUnbindObservedDirty=o,this.__cbOnceObservedDirty=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onObservedDirty:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event observedDirty because owner is destroyed!");var l=function(e){null!=t&&(i.offObservedDirty(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push(null);null==this.__cbOnObservedDirty&&(this.__cbOnObservedDirty=[]),this.__cbOnObservedDirty.push(t)},onceObservedDirty:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event observedDirty because owner is destroyed!");var l=function(e){null!=t&&(i.offObservedDirty(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push(null);null==this.__cbOnceObservedDirty&&(this.__cbOnceObservedDirty=[]),this.__cbOnceObservedDirty.push(t)},offObservedDirty:function(e){if(null!=e){var n;null!=this.__cbOnObservedDirty&&-1!=(n=this.__cbOnObservedDirty.indexOf(e))&&(this.__cbOnObservedDirty.splice(n,1),null!=(s=this.__cbOnOwnerUnbindObservedDirty[n])&&s(),this.__cbOnOwnerUnbindObservedDirty.splice(n,1)),null!=this.__cbOnceObservedDirty&&-1!=(n=this.__cbOnceObservedDirty.indexOf(e))&&(this.__cbOnceObservedDirty.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindObservedDirty[n])&&s(),this.__cbOnceOwnerUnbindObservedDirty.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindObservedDirty){for(var t=0,i=this.__cbOnOwnerUnbindObservedDirty.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindObservedDirty[l])&&s()}this.__cbOnOwnerUnbindObservedDirty=null}if(null!=this.__cbOnceOwnerUnbindObservedDirty){for(t=0,i=this.__cbOnceOwnerUnbindObservedDirty.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindObservedDirty[l])&&s()}this.__cbOnceOwnerUnbindObservedDirty=null}this.__cbOnObservedDirty=null,this.__cbOnceObservedDirty=null}},listensObservedDirty:function(){return null!=this.__cbOnObservedDirty&&0<this.__cbOnObservedDirty.length||null!=this.__cbOnceObservedDirty&&0<this.__cbOnceObservedDirty.length},observedDirty:null,draggingAutoruns:null,get_dragging:function(){var e,n,t=this.unobservedDragging;return null!=A.current&&(e=A.current,null!=(n=this.draggingAutoruns)||(n=A.getAutorunArray(),null!=(this.draggingAutoruns=n)))&&e.bindToAutorunArray(n),t},set_dragging:function(e){var n=this.unobservedDragging;return n!=(this.unobservedDragging=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitDraggingChange(e,n),null!=(n=this.draggingAutoruns))&&(this.draggingAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateDragging:function(){var e=this.unobservedDragging,e=(this.emitDraggingChange(e,e),this.draggingAutoruns);null!=e&&(this.draggingAutoruns=null,A.invalidateAutorunArray(e))},unobservedDragging:null,__cbOnDraggingChange:null,__cbOnceDraggingChange:null,__cbOnOwnerUnbindDraggingChange:null,__cbOnceOwnerUnbindDraggingChange:null,emitDraggingChange:function(e,n){var t=0;if(null!=this.__cbOnDraggingChange&&(t+=this.__cbOnDraggingChange.length),null!=this.__cbOnceDraggingChange&&(t+=this.__cbOnceDraggingChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnDraggingChange)for(var r=0,h=this.__cbOnDraggingChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnDraggingChange[a],++s):--t}if(null!=this.__cbOnceDraggingChange){for(var o=null,c=null,r=0,h=this.__cbOnceDraggingChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceDraggingChange[a],this.__cbOnceDraggingChange[a]=null,u=this.__cbOnceOwnerUnbindDraggingChange[a],(this.__cbOnceOwnerUnbindDraggingChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindDraggingChange[a]),c.push(this.__cbOnceDraggingChange[a]))}this.__cbOnceOwnerUnbindDraggingChange=o,this.__cbOnceDraggingChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onDraggingChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event draggingChange because owner is destroyed!");var l=function(e){null!=t&&(i.offDraggingChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindDraggingChange&&(this.__cbOnOwnerUnbindDraggingChange=[]),this.__cbOnOwnerUnbindDraggingChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindDraggingChange&&(this.__cbOnOwnerUnbindDraggingChange=[]),this.__cbOnOwnerUnbindDraggingChange.push(null);null==this.__cbOnDraggingChange&&(this.__cbOnDraggingChange=[]),this.__cbOnDraggingChange.push(t)},onceDraggingChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event draggingChange because owner is destroyed!");var l=function(e){null!=t&&(i.offDraggingChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindDraggingChange&&(this.__cbOnceOwnerUnbindDraggingChange=[]),this.__cbOnceOwnerUnbindDraggingChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindDraggingChange&&(this.__cbOnceOwnerUnbindDraggingChange=[]),this.__cbOnceOwnerUnbindDraggingChange.push(null);null==this.__cbOnceDraggingChange&&(this.__cbOnceDraggingChange=[]),this.__cbOnceDraggingChange.push(t)},offDraggingChange:function(e){if(null!=e){var n;null!=this.__cbOnDraggingChange&&-1!=(n=this.__cbOnDraggingChange.indexOf(e))&&(this.__cbOnDraggingChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindDraggingChange[n])&&s(),this.__cbOnOwnerUnbindDraggingChange.splice(n,1)),null!=this.__cbOnceDraggingChange&&-1!=(n=this.__cbOnceDraggingChange.indexOf(e))&&(this.__cbOnceDraggingChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindDraggingChange[n])&&s(),this.__cbOnceOwnerUnbindDraggingChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindDraggingChange){for(var t=0,i=this.__cbOnOwnerUnbindDraggingChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindDraggingChange[l])&&s()}this.__cbOnOwnerUnbindDraggingChange=null}if(null!=this.__cbOnceOwnerUnbindDraggingChange){for(t=0,i=this.__cbOnceOwnerUnbindDraggingChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindDraggingChange[l])&&s()}this.__cbOnceOwnerUnbindDraggingChange=null}this.__cbOnDraggingChange=null,this.__cbOnceDraggingChange=null}},listensDraggingChange:function(){return null!=this.__cbOnDraggingChange&&0<this.__cbOnDraggingChange.length||null!=this.__cbOnceDraggingChange&&0<this.__cbOnceDraggingChange.length},dragXAutoruns:null,get_dragX:function(){var e,n,t=this.unobservedDragX;return null!=A.current&&(e=A.current,null!=(n=this.dragXAutoruns)||(n=A.getAutorunArray(),null!=(this.dragXAutoruns=n)))&&e.bindToAutorunArray(n),t},set_dragX:function(e){var n=this.unobservedDragX;return n!=(this.unobservedDragX=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitDragXChange(e,n),null!=(n=this.dragXAutoruns))&&(this.dragXAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateDragX:function(){var e=this.unobservedDragX,e=(this.emitDragXChange(e,e),this.dragXAutoruns);null!=e&&(this.dragXAutoruns=null,A.invalidateAutorunArray(e))},unobservedDragX:null,__cbOnDragXChange:null,__cbOnceDragXChange:null,__cbOnOwnerUnbindDragXChange:null,__cbOnceOwnerUnbindDragXChange:null,emitDragXChange:function(e,n){var t=0;if(null!=this.__cbOnDragXChange&&(t+=this.__cbOnDragXChange.length),null!=this.__cbOnceDragXChange&&(t+=this.__cbOnceDragXChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnDragXChange)for(var r=0,h=this.__cbOnDragXChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnDragXChange[a],++s):--t}if(null!=this.__cbOnceDragXChange){for(var o=null,c=null,r=0,h=this.__cbOnceDragXChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceDragXChange[a],this.__cbOnceDragXChange[a]=null,u=this.__cbOnceOwnerUnbindDragXChange[a],(this.__cbOnceOwnerUnbindDragXChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindDragXChange[a]),c.push(this.__cbOnceDragXChange[a]))}this.__cbOnceOwnerUnbindDragXChange=o,this.__cbOnceDragXChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onDragXChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event dragXChange because owner is destroyed!");var l=function(e){null!=t&&(i.offDragXChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindDragXChange&&(this.__cbOnOwnerUnbindDragXChange=[]),this.__cbOnOwnerUnbindDragXChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindDragXChange&&(this.__cbOnOwnerUnbindDragXChange=[]),this.__cbOnOwnerUnbindDragXChange.push(null);null==this.__cbOnDragXChange&&(this.__cbOnDragXChange=[]),this.__cbOnDragXChange.push(t)},onceDragXChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event dragXChange because owner is destroyed!");var l=function(e){null!=t&&(i.offDragXChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindDragXChange&&(this.__cbOnceOwnerUnbindDragXChange=[]),this.__cbOnceOwnerUnbindDragXChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindDragXChange&&(this.__cbOnceOwnerUnbindDragXChange=[]),this.__cbOnceOwnerUnbindDragXChange.push(null);null==this.__cbOnceDragXChange&&(this.__cbOnceDragXChange=[]),this.__cbOnceDragXChange.push(t)},offDragXChange:function(e){if(null!=e){var n;null!=this.__cbOnDragXChange&&-1!=(n=this.__cbOnDragXChange.indexOf(e))&&(this.__cbOnDragXChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindDragXChange[n])&&s(),this.__cbOnOwnerUnbindDragXChange.splice(n,1)),null!=this.__cbOnceDragXChange&&-1!=(n=this.__cbOnceDragXChange.indexOf(e))&&(this.__cbOnceDragXChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindDragXChange[n])&&s(),this.__cbOnceOwnerUnbindDragXChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindDragXChange){for(var t=0,i=this.__cbOnOwnerUnbindDragXChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindDragXChange[l])&&s()}this.__cbOnOwnerUnbindDragXChange=null}if(null!=this.__cbOnceOwnerUnbindDragXChange){for(t=0,i=this.__cbOnceOwnerUnbindDragXChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindDragXChange[l])&&s()}this.__cbOnceOwnerUnbindDragXChange=null}this.__cbOnDragXChange=null,this.__cbOnceDragXChange=null}},listensDragXChange:function(){return null!=this.__cbOnDragXChange&&0<this.__cbOnDragXChange.length||null!=this.__cbOnceDragXChange&&0<this.__cbOnceDragXChange.length},dragYAutoruns:null,get_dragY:function(){var e,n,t=this.unobservedDragY;return null!=A.current&&(e=A.current,null!=(n=this.dragYAutoruns)||(n=A.getAutorunArray(),null!=(this.dragYAutoruns=n)))&&e.bindToAutorunArray(n),t},set_dragY:function(e){var n=this.unobservedDragY;return n!=(this.unobservedDragY=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitDragYChange(e,n),null!=(n=this.dragYAutoruns))&&(this.dragYAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateDragY:function(){var e=this.unobservedDragY,e=(this.emitDragYChange(e,e),this.dragYAutoruns);null!=e&&(this.dragYAutoruns=null,A.invalidateAutorunArray(e))},unobservedDragY:null,__cbOnDragYChange:null,__cbOnceDragYChange:null,__cbOnOwnerUnbindDragYChange:null,__cbOnceOwnerUnbindDragYChange:null,emitDragYChange:function(e,n){var t=0;if(null!=this.__cbOnDragYChange&&(t+=this.__cbOnDragYChange.length),null!=this.__cbOnceDragYChange&&(t+=this.__cbOnceDragYChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnDragYChange)for(var r=0,h=this.__cbOnDragYChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnDragYChange[a],++s):--t}if(null!=this.__cbOnceDragYChange){for(var o=null,c=null,r=0,h=this.__cbOnceDragYChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceDragYChange[a],this.__cbOnceDragYChange[a]=null,u=this.__cbOnceOwnerUnbindDragYChange[a],(this.__cbOnceOwnerUnbindDragYChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindDragYChange[a]),c.push(this.__cbOnceDragYChange[a]))}this.__cbOnceOwnerUnbindDragYChange=o,this.__cbOnceDragYChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onDragYChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event dragYChange because owner is destroyed!");var l=function(e){null!=t&&(i.offDragYChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindDragYChange&&(this.__cbOnOwnerUnbindDragYChange=[]),this.__cbOnOwnerUnbindDragYChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindDragYChange&&(this.__cbOnOwnerUnbindDragYChange=[]),this.__cbOnOwnerUnbindDragYChange.push(null);null==this.__cbOnDragYChange&&(this.__cbOnDragYChange=[]),this.__cbOnDragYChange.push(t)},onceDragYChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event dragYChange because owner is destroyed!");var l=function(e){null!=t&&(i.offDragYChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindDragYChange&&(this.__cbOnceOwnerUnbindDragYChange=[]),this.__cbOnceOwnerUnbindDragYChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindDragYChange&&(this.__cbOnceOwnerUnbindDragYChange=[]),this.__cbOnceOwnerUnbindDragYChange.push(null);null==this.__cbOnceDragYChange&&(this.__cbOnceDragYChange=[]),this.__cbOnceDragYChange.push(t)},offDragYChange:function(e){if(null!=e){var n;null!=this.__cbOnDragYChange&&-1!=(n=this.__cbOnDragYChange.indexOf(e))&&(this.__cbOnDragYChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindDragYChange[n])&&s(),this.__cbOnOwnerUnbindDragYChange.splice(n,1)),null!=this.__cbOnceDragYChange&&-1!=(n=this.__cbOnceDragYChange.indexOf(e))&&(this.__cbOnceDragYChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindDragYChange[n])&&s(),this.__cbOnceOwnerUnbindDragYChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindDragYChange){for(var t=0,i=this.__cbOnOwnerUnbindDragYChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindDragYChange[l])&&s()}this.__cbOnOwnerUnbindDragYChange=null}if(null!=this.__cbOnceOwnerUnbindDragYChange){for(t=0,i=this.__cbOnceOwnerUnbindDragYChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindDragYChange[l])&&s()}this.__cbOnceOwnerUnbindDragYChange=null}this.__cbOnDragYChange=null,this.__cbOnceDragYChange=null}},listensDragYChange:function(){return null!=this.__cbOnDragYChange&&0<this.__cbOnDragYChange.length||null!=this.__cbOnceDragYChange&&0<this.__cbOnceDragYChange.length},click:null,getDraggingVisual:null,releaseDraggingVisual:null,threshold:null,draggingVisual:null,entity:null,visualDragStartX:null,visualDragStartY:null,pointerDownX:null,pointerDownY:null,pointerDragStartX:null,pointerDragStartY:null,isPointerDown:null,bindAsComponent:function(){this.entity.onPointerDown(this,$bind(this,this.handlePointerDown))},drag:function(e,n){var t;null==e&&(e=ae.app.screen.pointerX),null==n&&(n=ae.app.screen.pointerY),this.get_dragging()?ae.app.logger.warning("Already dragging!",{fileName:"../../../../ceramic/plugins/elements/runtime/src/elements/DragDrop.hx",lineNumber:183,className:"elements.DragDrop",methodName:"drag"}):(this.set_dragging(!0),null!=this.click&&this.click.cancel(),this.isPointerDown||(null!=(t=ae.app.screen.get_focusedVisual())?t:ae.app.screen).oncePointerUp(this,$bind(this,this.handlePointerUp)),this.draggingVisual=this.getDraggingVisual(),this.visualDragStartX=Bi._point.x,this.visualDragStartY=Bi._point.y,this.pointerDragStartX=e,this.pointerDragStartY=n,this.set_dragX(0),this.set_dragY(0))},handlePointerDown:function(e){this.isPointerDown=!0,this.pointerDownX=e.x,this.pointerDownY=e.y,ae.app.screen.onPointerMove(this,$bind(this,this.handlePointerMove)),this.entity.oncePointerUp(this,$bind(this,this.handlePointerUp))},handlePointerMove:function(e){this.get_dragging()?this.updateDrag(e.x,e.y):(Math.abs(e.x-this.pointerDownX)>this.threshold||Math.abs(e.y-this.pointerDownY)>this.threshold)&&(this.drag(this.pointerDownX,this.pointerDownY),this.updateDrag(e.x,e.y))},handlePointerUp:function(e){ae.app.screen.offPointerMove($bind(this,this.handlePointerMove)),this.get_dragging()&&this.set_dragging(!1),null!=this.draggingVisual&&(null!=this.releaseDraggingVisual?this.releaseDraggingVisual(this.draggingVisual):this.draggingVisual=null)},updateDrag:function(e,n){var t,i;null!=this.draggingVisual.parent?(this.draggingVisual.parent.screenToVisual(this.pointerDragStartX,this.pointerDragStartY,Bi._point),t=Bi._point.x,i=Bi._point.y,this.draggingVisual.parent.screenToVisual(e,n,Bi._point),this.set_dragX(Bi._point.x-t),this.set_dragY(Bi._point.y-i)):(this.set_dragX(e-this.pointerDragStartX),this.set_dragY(n-this.pointerDragStartY))},unbindEvents:function(){j.prototype.unbindEvents.call(this),this.offObservedDirty(),this.offDraggingChange(),this.offDragXChange(),this.offDragYChange()},setEntity:function(e){this.entity=e instanceof o?e:null},getEntity:function(){return this.entity},initializerName:null,__class__:Bi,__properties__:$extend(j.prototype.__properties__,{set_dragY:"set_dragY",get_dragY:"get_dragY",set_dragX:"set_dragX",get_dragX:"get_dragX",set_dragging:"set_dragging",get_dragging:"get_dragging"})}),(E["elements.EnumAbstractInfo"]=ud).__name__="elements.EnumAbstractInfo",ud.prototype={enumFields:null,enumValues:null,getEnumFields:function(){return this.enumFields},getEnumFieldFromValue:function(e){return null==e||(e=this.enumValues.indexOf(e))<0?null:this.enumFields[e]},createEnumValue:function(e){return null==e||(e=this.enumFields.indexOf(e))<0?null:this.enumValues[e]},__class__:ud},function(){this.unobservedFocusedFieldThisFrame=null,this.focusedFieldThisFrameAutoruns=null,this.unobservedFocusedField=null,this.focusedFieldAutoruns=null,this.observedDirty=!1,b1.call(this),this.set_earlyUpdateOrder(50),this.set_focusedFieldThisFrame(this.get_focusedField()),this.onFocusedFieldChange(this,$bind(this,this.handleFocusedFieldChange))}),Y=((E["elements.FieldSystem"]=Ei).__name__="elements.FieldSystem",Ei.__interfaces__=[s],Ei.__properties__={set_shared:"set_shared",get_shared:"get_shared"},Ei.get_shared=function(){return Ei.lazyShared&&(Ei.lazyShared=!1,Ei.shared=new Ei),Ei.shared},Ei.set_shared=function(e){return Ei.shared=e},Ei.__super__=b1,Ei.prototype=$extend(b1.prototype,{__cbOnObservedDirty:null,__cbOnceObservedDirty:null,__cbOnOwnerUnbindObservedDirty:null,__cbOnceOwnerUnbindObservedDirty:null,emitObservedDirty:function(e,n){var t=0;if(null!=this.__cbOnObservedDirty&&(t+=this.__cbOnObservedDirty.length),null!=this.__cbOnceObservedDirty&&(t+=this.__cbOnceObservedDirty.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnObservedDirty)for(var r=0,h=this.__cbOnObservedDirty.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnObservedDirty[a],++s):--t}if(null!=this.__cbOnceObservedDirty){for(var o=null,c=null,r=0,h=this.__cbOnceObservedDirty.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceObservedDirty[a],this.__cbOnceObservedDirty[a]=null,u=this.__cbOnceOwnerUnbindObservedDirty[a],(this.__cbOnceOwnerUnbindObservedDirty[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindObservedDirty[a]),c.push(this.__cbOnceObservedDirty[a]))}this.__cbOnceOwnerUnbindObservedDirty=o,this.__cbOnceObservedDirty=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onObservedDirty:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event observedDirty because owner is destroyed!");var l=function(e){null!=t&&(i.offObservedDirty(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push(null);null==this.__cbOnObservedDirty&&(this.__cbOnObservedDirty=[]),this.__cbOnObservedDirty.push(t)},onceObservedDirty:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event observedDirty because owner is destroyed!");var l=function(e){null!=t&&(i.offObservedDirty(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push(null);null==this.__cbOnceObservedDirty&&(this.__cbOnceObservedDirty=[]),this.__cbOnceObservedDirty.push(t)},offObservedDirty:function(e){if(null!=e){var n;null!=this.__cbOnObservedDirty&&-1!=(n=this.__cbOnObservedDirty.indexOf(e))&&(this.__cbOnObservedDirty.splice(n,1),null!=(s=this.__cbOnOwnerUnbindObservedDirty[n])&&s(),this.__cbOnOwnerUnbindObservedDirty.splice(n,1)),null!=this.__cbOnceObservedDirty&&-1!=(n=this.__cbOnceObservedDirty.indexOf(e))&&(this.__cbOnceObservedDirty.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindObservedDirty[n])&&s(),this.__cbOnceOwnerUnbindObservedDirty.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindObservedDirty){for(var t=0,i=this.__cbOnOwnerUnbindObservedDirty.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindObservedDirty[l])&&s()}this.__cbOnOwnerUnbindObservedDirty=null}if(null!=this.__cbOnceOwnerUnbindObservedDirty){for(t=0,i=this.__cbOnceOwnerUnbindObservedDirty.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindObservedDirty[l])&&s()}this.__cbOnceOwnerUnbindObservedDirty=null}this.__cbOnObservedDirty=null,this.__cbOnceObservedDirty=null}},listensObservedDirty:function(){return null!=this.__cbOnObservedDirty&&0<this.__cbOnObservedDirty.length||null!=this.__cbOnceObservedDirty&&0<this.__cbOnceObservedDirty.length},observedDirty:null,focusedFieldAutoruns:null,get_focusedField:function(){var e,n,t=this.unobservedFocusedField;return null!=A.current&&(e=A.current,null!=(n=this.focusedFieldAutoruns)||(n=A.getAutorunArray(),null!=(this.focusedFieldAutoruns=n)))&&e.bindToAutorunArray(n),t},set_focusedField:function(e){var n=this.unobservedFocusedField;return n!=(this.unobservedFocusedField=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitFocusedFieldChange(e,n),null!=(n=this.focusedFieldAutoruns))&&(this.focusedFieldAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateFocusedField:function(){var e=this.unobservedFocusedField,e=(this.emitFocusedFieldChange(e,e),this.focusedFieldAutoruns);null!=e&&(this.focusedFieldAutoruns=null,A.invalidateAutorunArray(e))},unobservedFocusedField:null,__cbOnFocusedFieldChange:null,__cbOnceFocusedFieldChange:null,__cbOnOwnerUnbindFocusedFieldChange:null,__cbOnceOwnerUnbindFocusedFieldChange:null,emitFocusedFieldChange:function(e,n){var t=0;if(null!=this.__cbOnFocusedFieldChange&&(t+=this.__cbOnFocusedFieldChange.length),null!=this.__cbOnceFocusedFieldChange&&(t+=this.__cbOnceFocusedFieldChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnFocusedFieldChange)for(var r=0,h=this.__cbOnFocusedFieldChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnFocusedFieldChange[a],++s):--t}if(null!=this.__cbOnceFocusedFieldChange){for(var o=null,c=null,r=0,h=this.__cbOnceFocusedFieldChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceFocusedFieldChange[a],this.__cbOnceFocusedFieldChange[a]=null,u=this.__cbOnceOwnerUnbindFocusedFieldChange[a],(this.__cbOnceOwnerUnbindFocusedFieldChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindFocusedFieldChange[a]),c.push(this.__cbOnceFocusedFieldChange[a]))}this.__cbOnceOwnerUnbindFocusedFieldChange=o,this.__cbOnceFocusedFieldChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onFocusedFieldChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event focusedFieldChange because owner is destroyed!");var l=function(e){null!=t&&(i.offFocusedFieldChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindFocusedFieldChange&&(this.__cbOnOwnerUnbindFocusedFieldChange=[]),this.__cbOnOwnerUnbindFocusedFieldChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindFocusedFieldChange&&(this.__cbOnOwnerUnbindFocusedFieldChange=[]),this.__cbOnOwnerUnbindFocusedFieldChange.push(null);null==this.__cbOnFocusedFieldChange&&(this.__cbOnFocusedFieldChange=[]),this.__cbOnFocusedFieldChange.push(t)},onceFocusedFieldChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event focusedFieldChange because owner is destroyed!");var l=function(e){null!=t&&(i.offFocusedFieldChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindFocusedFieldChange&&(this.__cbOnceOwnerUnbindFocusedFieldChange=[]),this.__cbOnceOwnerUnbindFocusedFieldChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindFocusedFieldChange&&(this.__cbOnceOwnerUnbindFocusedFieldChange=[]),this.__cbOnceOwnerUnbindFocusedFieldChange.push(null);null==this.__cbOnceFocusedFieldChange&&(this.__cbOnceFocusedFieldChange=[]),this.__cbOnceFocusedFieldChange.push(t)},offFocusedFieldChange:function(e){if(null!=e){var n;null!=this.__cbOnFocusedFieldChange&&-1!=(n=this.__cbOnFocusedFieldChange.indexOf(e))&&(this.__cbOnFocusedFieldChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindFocusedFieldChange[n])&&s(),this.__cbOnOwnerUnbindFocusedFieldChange.splice(n,1)),null!=this.__cbOnceFocusedFieldChange&&-1!=(n=this.__cbOnceFocusedFieldChange.indexOf(e))&&(this.__cbOnceFocusedFieldChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindFocusedFieldChange[n])&&s(),this.__cbOnceOwnerUnbindFocusedFieldChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindFocusedFieldChange){for(var t=0,i=this.__cbOnOwnerUnbindFocusedFieldChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindFocusedFieldChange[l])&&s()}this.__cbOnOwnerUnbindFocusedFieldChange=null}if(null!=this.__cbOnceOwnerUnbindFocusedFieldChange){for(t=0,i=this.__cbOnceOwnerUnbindFocusedFieldChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindFocusedFieldChange[l])&&s()}this.__cbOnceOwnerUnbindFocusedFieldChange=null}this.__cbOnFocusedFieldChange=null,this.__cbOnceFocusedFieldChange=null}},listensFocusedFieldChange:function(){return null!=this.__cbOnFocusedFieldChange&&0<this.__cbOnFocusedFieldChange.length||null!=this.__cbOnceFocusedFieldChange&&0<this.__cbOnceFocusedFieldChange.length},focusedFieldThisFrameAutoruns:null,get_focusedFieldThisFrame:function(){var e,n,t=this.unobservedFocusedFieldThisFrame;return null!=A.current&&(e=A.current,null!=(n=this.focusedFieldThisFrameAutoruns)||(n=A.getAutorunArray(),null!=(this.focusedFieldThisFrameAutoruns=n)))&&e.bindToAutorunArray(n),t},set_focusedFieldThisFrame:function(e){var n=this.unobservedFocusedFieldThisFrame;return n!=(this.unobservedFocusedFieldThisFrame=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitFocusedFieldThisFrameChange(e,n),null!=(n=this.focusedFieldThisFrameAutoruns))&&(this.focusedFieldThisFrameAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateFocusedFieldThisFrame:function(){var e=this.unobservedFocusedFieldThisFrame,e=(this.emitFocusedFieldThisFrameChange(e,e),this.focusedFieldThisFrameAutoruns);null!=e&&(this.focusedFieldThisFrameAutoruns=null,A.invalidateAutorunArray(e))},unobservedFocusedFieldThisFrame:null,__cbOnFocusedFieldThisFrameChange:null,__cbOnceFocusedFieldThisFrameChange:null,__cbOnOwnerUnbindFocusedFieldThisFrameChange:null,__cbOnceOwnerUnbindFocusedFieldThisFrameChange:null,emitFocusedFieldThisFrameChange:function(e,n){var t=0;if(null!=this.__cbOnFocusedFieldThisFrameChange&&(t+=this.__cbOnFocusedFieldThisFrameChange.length),null!=this.__cbOnceFocusedFieldThisFrameChange&&(t+=this.__cbOnceFocusedFieldThisFrameChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnFocusedFieldThisFrameChange)for(var r=0,h=this.__cbOnFocusedFieldThisFrameChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnFocusedFieldThisFrameChange[a],++s):--t}if(null!=this.__cbOnceFocusedFieldThisFrameChange){for(var o=null,c=null,r=0,h=this.__cbOnceFocusedFieldThisFrameChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceFocusedFieldThisFrameChange[a],this.__cbOnceFocusedFieldThisFrameChange[a]=null,u=this.__cbOnceOwnerUnbindFocusedFieldThisFrameChange[a],(this.__cbOnceOwnerUnbindFocusedFieldThisFrameChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindFocusedFieldThisFrameChange[a]),c.push(this.__cbOnceFocusedFieldThisFrameChange[a]))}this.__cbOnceOwnerUnbindFocusedFieldThisFrameChange=o,this.__cbOnceFocusedFieldThisFrameChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onFocusedFieldThisFrameChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event focusedFieldThisFrameChange because owner is destroyed!");var l=function(e){null!=t&&(i.offFocusedFieldThisFrameChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindFocusedFieldThisFrameChange&&(this.__cbOnOwnerUnbindFocusedFieldThisFrameChange=[]),this.__cbOnOwnerUnbindFocusedFieldThisFrameChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindFocusedFieldThisFrameChange&&(this.__cbOnOwnerUnbindFocusedFieldThisFrameChange=[]),this.__cbOnOwnerUnbindFocusedFieldThisFrameChange.push(null);null==this.__cbOnFocusedFieldThisFrameChange&&(this.__cbOnFocusedFieldThisFrameChange=[]),this.__cbOnFocusedFieldThisFrameChange.push(t)},onceFocusedFieldThisFrameChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event focusedFieldThisFrameChange because owner is destroyed!");var l=function(e){null!=t&&(i.offFocusedFieldThisFrameChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindFocusedFieldThisFrameChange&&(this.__cbOnceOwnerUnbindFocusedFieldThisFrameChange=[]),this.__cbOnceOwnerUnbindFocusedFieldThisFrameChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindFocusedFieldThisFrameChange&&(this.__cbOnceOwnerUnbindFocusedFieldThisFrameChange=[]),this.__cbOnceOwnerUnbindFocusedFieldThisFrameChange.push(null);null==this.__cbOnceFocusedFieldThisFrameChange&&(this.__cbOnceFocusedFieldThisFrameChange=[]),this.__cbOnceFocusedFieldThisFrameChange.push(t)},offFocusedFieldThisFrameChange:function(e){if(null!=e){var n;null!=this.__cbOnFocusedFieldThisFrameChange&&-1!=(n=this.__cbOnFocusedFieldThisFrameChange.indexOf(e))&&(this.__cbOnFocusedFieldThisFrameChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindFocusedFieldThisFrameChange[n])&&s(),this.__cbOnOwnerUnbindFocusedFieldThisFrameChange.splice(n,1)),null!=this.__cbOnceFocusedFieldThisFrameChange&&-1!=(n=this.__cbOnceFocusedFieldThisFrameChange.indexOf(e))&&(this.__cbOnceFocusedFieldThisFrameChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindFocusedFieldThisFrameChange[n])&&s(),this.__cbOnceOwnerUnbindFocusedFieldThisFrameChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindFocusedFieldThisFrameChange){for(var t=0,i=this.__cbOnOwnerUnbindFocusedFieldThisFrameChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindFocusedFieldThisFrameChange[l])&&s()}this.__cbOnOwnerUnbindFocusedFieldThisFrameChange=null}if(null!=this.__cbOnceOwnerUnbindFocusedFieldThisFrameChange){for(t=0,i=this.__cbOnceOwnerUnbindFocusedFieldThisFrameChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindFocusedFieldThisFrameChange[l])&&s()}this.__cbOnceOwnerUnbindFocusedFieldThisFrameChange=null}this.__cbOnFocusedFieldThisFrameChange=null,this.__cbOnceFocusedFieldThisFrameChange=null}},listensFocusedFieldThisFrameChange:function(){return null!=this.__cbOnFocusedFieldThisFrameChange&&0<this.__cbOnFocusedFieldThisFrameChange.length||null!=this.__cbOnceFocusedFieldThisFrameChange&&0<this.__cbOnceFocusedFieldThisFrameChange.length},handleFocusedFieldChange:function(e,n){null!=e?this.set_focusedFieldThisFrame(e):ae.app.onceFinishDraw(this,$bind(this,this.updateFocusedFieldThisFrame))},updateFocusedFieldThisFrame:function(){this.set_focusedFieldThisFrame(this.get_focusedField())},earlyUpdate:function(e){this.updateFocusedField()},updateFocusedField:function(){for(var e=ae.app.screen.get_focusedVisual(),n=(A.unobserve(),null),t=e;null!=t;){if(t instanceof X2){n=t;break}if(Os.__implements(t,nd)){var i=t.relatedFieldView();if(null!=i){n=i;break}}t=t.parent}e=this.get_focusedField();this.set_focusedField(n),e!=n&&e instanceof X2&&e.didLostFocus(),A.reobserve()},unbindEvents:function(){b1.prototype.unbindEvents.call(this),this.offObservedDirty(),this.offFocusedFieldChange(),this.offFocusedFieldThisFrameChange()},__class__:Ei,__properties__:$extend(b1.prototype.__properties__,{set_focusedFieldThisFrame:"set_focusedFieldThisFrame",get_focusedFieldThisFrame:"get_focusedFieldThisFrame",set_focusedField:"set_focusedField",get_focusedField:"get_focusedField"})}),(E["elements.FormLayout"]=wd).__name__="elements.FormLayout",wd.__interfaces__=[s],wd.__super__=r0,wd.prototype=$extend(r0.prototype,{__cbOnObservedDirty:null,__cbOnceObservedDirty:null,__cbOnOwnerUnbindObservedDirty:null,__cbOnceOwnerUnbindObservedDirty:null,emitObservedDirty:function(e,n){var t=0;if(null!=this.__cbOnObservedDirty&&(t+=this.__cbOnObservedDirty.length),null!=this.__cbOnceObservedDirty&&(t+=this.__cbOnceObservedDirty.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnObservedDirty)for(var r=0,h=this.__cbOnObservedDirty.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnObservedDirty[a],++s):--t}if(null!=this.__cbOnceObservedDirty){for(var o=null,c=null,r=0,h=this.__cbOnceObservedDirty.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceObservedDirty[a],this.__cbOnceObservedDirty[a]=null,u=this.__cbOnceOwnerUnbindObservedDirty[a],(this.__cbOnceOwnerUnbindObservedDirty[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindObservedDirty[a]),c.push(this.__cbOnceObservedDirty[a]))}this.__cbOnceOwnerUnbindObservedDirty=o,this.__cbOnceObservedDirty=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onObservedDirty:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event observedDirty because owner is destroyed!");var l=function(e){null!=t&&(i.offObservedDirty(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push(null);null==this.__cbOnObservedDirty&&(this.__cbOnObservedDirty=[]),this.__cbOnObservedDirty.push(t)},onceObservedDirty:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event observedDirty because owner is destroyed!");var l=function(e){null!=t&&(i.offObservedDirty(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push(null);null==this.__cbOnceObservedDirty&&(this.__cbOnceObservedDirty=[]),this.__cbOnceObservedDirty.push(t)},offObservedDirty:function(e){if(null!=e){var n;null!=this.__cbOnObservedDirty&&-1!=(n=this.__cbOnObservedDirty.indexOf(e))&&(this.__cbOnObservedDirty.splice(n,1),null!=(s=this.__cbOnOwnerUnbindObservedDirty[n])&&s(),this.__cbOnOwnerUnbindObservedDirty.splice(n,1)),null!=this.__cbOnceObservedDirty&&-1!=(n=this.__cbOnceObservedDirty.indexOf(e))&&(this.__cbOnceObservedDirty.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindObservedDirty[n])&&s(),this.__cbOnceOwnerUnbindObservedDirty.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindObservedDirty){for(var t=0,i=this.__cbOnOwnerUnbindObservedDirty.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindObservedDirty[l])&&s()}this.__cbOnOwnerUnbindObservedDirty=null}if(null!=this.__cbOnceOwnerUnbindObservedDirty){for(t=0,i=this.__cbOnceOwnerUnbindObservedDirty.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindObservedDirty[l])&&s()}this.__cbOnceOwnerUnbindObservedDirty=null}this.__cbOnObservedDirty=null,this.__cbOnceObservedDirty=null}},listensObservedDirty:function(){return null!=this.__cbOnObservedDirty&&0<this.__cbOnObservedDirty.length||null!=this.__cbOnceObservedDirty&&0<this.__cbOnceObservedDirty.length},observedDirty:null,themeAutoruns:null,get_theme:function(){var e,n,t=this.unobservedTheme;return null!=A.current&&(e=A.current,null!=(n=this.themeAutoruns)||(n=A.getAutorunArray(),null!=(this.themeAutoruns=n)))&&e.bindToAutorunArray(n),t},set_theme:function(e){var n=this.unobservedTheme;return n!=(this.unobservedTheme=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitThemeChange(e,n),null!=(n=this.themeAutoruns))&&(this.themeAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateTheme:function(){var e=this.unobservedTheme,e=(this.emitThemeChange(e,e),this.themeAutoruns);null!=e&&(this.themeAutoruns=null,A.invalidateAutorunArray(e))},unobservedTheme:null,__cbOnThemeChange:null,__cbOnceThemeChange:null,__cbOnOwnerUnbindThemeChange:null,__cbOnceOwnerUnbindThemeChange:null,emitThemeChange:function(e,n){var t=0;if(null!=this.__cbOnThemeChange&&(t+=this.__cbOnThemeChange.length),null!=this.__cbOnceThemeChange&&(t+=this.__cbOnceThemeChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnThemeChange)for(var r=0,h=this.__cbOnThemeChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnThemeChange[a],++s):--t}if(null!=this.__cbOnceThemeChange){for(var o=null,c=null,r=0,h=this.__cbOnceThemeChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceThemeChange[a],this.__cbOnceThemeChange[a]=null,u=this.__cbOnceOwnerUnbindThemeChange[a],(this.__cbOnceOwnerUnbindThemeChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindThemeChange[a]),c.push(this.__cbOnceThemeChange[a]))}this.__cbOnceOwnerUnbindThemeChange=o,this.__cbOnceThemeChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onThemeChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event themeChange because owner is destroyed!");var l=function(e){null!=t&&(i.offThemeChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindThemeChange&&(this.__cbOnOwnerUnbindThemeChange=[]),this.__cbOnOwnerUnbindThemeChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindThemeChange&&(this.__cbOnOwnerUnbindThemeChange=[]),this.__cbOnOwnerUnbindThemeChange.push(null);null==this.__cbOnThemeChange&&(this.__cbOnThemeChange=[]),this.__cbOnThemeChange.push(t)},onceThemeChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event themeChange because owner is destroyed!");var l=function(e){null!=t&&(i.offThemeChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindThemeChange&&(this.__cbOnceOwnerUnbindThemeChange=[]),this.__cbOnceOwnerUnbindThemeChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindThemeChange&&(this.__cbOnceOwnerUnbindThemeChange=[]),this.__cbOnceOwnerUnbindThemeChange.push(null);null==this.__cbOnceThemeChange&&(this.__cbOnceThemeChange=[]),this.__cbOnceThemeChange.push(t)},offThemeChange:function(e){if(null!=e){var n;null!=this.__cbOnThemeChange&&-1!=(n=this.__cbOnThemeChange.indexOf(e))&&(this.__cbOnThemeChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindThemeChange[n])&&s(),this.__cbOnOwnerUnbindThemeChange.splice(n,1)),null!=this.__cbOnceThemeChange&&-1!=(n=this.__cbOnceThemeChange.indexOf(e))&&(this.__cbOnceThemeChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindThemeChange[n])&&s(),this.__cbOnceOwnerUnbindThemeChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindThemeChange){for(var t=0,i=this.__cbOnOwnerUnbindThemeChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindThemeChange[l])&&s()}this.__cbOnOwnerUnbindThemeChange=null}if(null!=this.__cbOnceOwnerUnbindThemeChange){for(t=0,i=this.__cbOnceOwnerUnbindThemeChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindThemeChange[l])&&s()}this.__cbOnceOwnerUnbindThemeChange=null}this.__cbOnThemeChange=null,this.__cbOnceThemeChange=null}},listensThemeChange:function(){return null!=this.__cbOnThemeChange&&0<this.__cbOnThemeChange.length||null!=this.__cbOnceThemeChange&&0<this.__cbOnceThemeChange.length},tabFocus:null,set_tabFocus:function(e){return this.tabFocus==e?this.tabFocus:(null!=this.tabFocus&&this.tabFocus.destroy(),this.tabFocus=e,null!=this.tabFocus?(this.component("tabFocus",this.tabFocus,!0),this.tabFocus):(this.removeComponent("tabFocus"),null))},backgroundTop:null,backgrounds:null,backgroundBottom:null,destroy:function(){if(!(this._lifecycleState<=-2)){if(this._lifecycleState=-2,null!=this.backgrounds)for(var e=this.backgrounds,n=(this.backgrounds=null,0),t=e.length;n<t;){var i=e[n++];null!=i&&i.destroy()}null!=this.backgroundTop&&(this.backgroundTop.destroy(),this.backgroundTop=null),null!=this.backgroundBottom&&(this.backgroundBottom.destroy(),this.backgroundBottom=null),this._lifecycleState=-1,r0.prototype.destroy.call(this)}},layout:function(){r0.prototype.layout.call(this),this.computeBackgrounds(),null!=this.backgroundTop&&((e=this.backgroundTop).set_x(0),e.set_y(0),e=this.backgroundTop,n=this.get_width(),t=this.paddingTop-Math.floor(.5*this.itemSpacing),e.set_width(n),e.set_height(t));var e,n,t,i=this.backgroundTop.y+this.backgroundTop.get_height();if(null!=this.subviews&&0<this.subviews.length)for(var l=0,s=this.subviews.length;l<s;){var r=l++,h=this.subviews[r],r=this.backgrounds[r],a=h.y+h.get_height()*h.anchorY-Math.floor(.5*this.itemSpacing),o=h.get_height()+this.itemSpacing;null!=r&&(r.set_x(h.x+h.get_width()*h.anchorX-this.paddingLeft),r.set_y(a),r.set_width(this.get_width()),r.set_height(o)),i=a+o}null!=this.backgroundBottom&&((e=this.backgroundBottom).set_x(0),e.set_y(i),e=this.backgroundBottom,n=this.get_width(),t=this.get_height()-i,e.set_width(n),e.set_height(t))},computeBackgrounds:function(){var e=this.get_theme();if((e=null==e?G.get_context().get_theme():e).get_backgroundInFormLayout()){var n=e.get_windowBackgroundColor(),t=e.get_windowBackgroundAlpha();if(A.unobserve(),null==this.backgroundTop&&(this.backgroundTop=new p,this.backgroundTop.set_depth(.5),this.add(this.backgroundTop)),null!=this.subviews&&0<this.subviews.length){null==this.backgrounds&&(this.backgrounds=[]);for(var i=null,l=0,s=this.subviews.length;l<s;){var r=l++,h=this.subviews[r],a=(A.reobserve(),i=L.getProperty(h,"theme"),A.unobserve(),null==i&&(i=e),A.reobserve(),n=i.get_windowBackgroundColor(),t=i.get_windowBackgroundAlpha(),A.unobserve(),0==r&&(this.backgroundTop.color=n,this.backgroundTop.set_alpha(t)),L.field(h,"renderWindowBackground"));null==a||0==a.apply(h,wd.EMPTY_ARRAY)?(null==(c=this.backgrounds[r])?((c=new p).set_depth(.5),this.add(c),this.backgrounds[r]=c):c.set_active(!0),c.color=n,c.set_alpha(t)):this.backgrounds.length==r&&this.backgrounds.push(null)}}else this.backgroundTop.color=n,this.backgroundTop.set_alpha(t);null==this.backgroundBottom&&(this.backgroundBottom=new p,this.backgroundBottom.set_depth(.5),this.add(this.backgroundBottom)),this.backgroundBottom.color=n,this.backgroundBottom.set_alpha(t),this.layoutDirty=!0}else A.unobserve(),null!=this.backgroundTop&&this.backgroundTop.set_active(!1),null!=this.backgroundBottom&&this.backgroundBottom.set_active(!1);if(null!=this.backgrounds){var o=null!=this.subviews?this.subviews.length:0;if(0<o)for(l=o,s=this.backgrounds.length;l<s;){var c,r=l++;null!=(c=this.backgrounds[r])&&c.set_active(!1)}}},updateStyle:function(){var e=this.get_theme();null==e&&(e=G.get_context().get_theme()),this.color=e.get_mediumBackgroundColor(),this.set_itemSpacing(e.get_formItemSpacing()),this.padding(e.get_formPadding())},unbindEvents:function(){r0.prototype.unbindEvents.call(this),this.offObservedDirty(),this.offThemeChange()},__class__:wd,__properties__:$extend(r0.prototype.__properties__,{set_tabFocus:"set_tabFocus",set_theme:"set_theme",get_theme:"get_theme"})}),function(){}),Ri=((E["elements.Im"]=Y).__name__="elements.Im",Y.__properties__={get_current:"get_current",get_currentTheme:"get_currentTheme",get_defaultTheme:"get_defaultTheme"},Y.initIfNeeded=function(){null==G.get_context().view&&Li.get_shared().createView(),null==Y._imTheme&&(Y._imTheme=new $i),null==Y._theme&&(Y._theme=Y._imTheme)},Y.extractId=function(e){return e},Y.extractTitle=function(e){return e},Y.beginFrame=function(){if(Y.initIfNeeded(),Y._shouldSkipRender=!1,Y._imTheme.set_backgroundInFormLayout(!0),Y._usedWindowKeys.h=Object.create(null),Y._numUsedWindows=0,Y._assets=null,Y._theme=Y._imTheme,Y._themeTint=-1,Y._themeAltTint=-1,Y._themeBackgroundColor=-1,Y._themeTextColor=-1,null!=Y._themePool)for(var e=0,n=Y._themePool.length;e<n;){var t=e++;Y._themePool[t]._used=!1}for(;0<Y._beginFrameCallbacks.length;)Y._beginFrameCallbacks.pop()();for(e=0,n=Y._pointerBaseHandleOccurences.length;e<n;){t=e++;Y._pointerBaseHandleOccurences[t]=0}for(var i=Y._assetUses.h,l=i,s=Object.keys(i),r=s.length,h=0;h<r;){var a,o=u=s[h++],c=l[u];0<c?Y._assetUses.h[o]=0:--c<-60?(a=Y._assetUses,Object.prototype.hasOwnProperty.call(a.h,o)&&delete a.h[o],null!=(a=(null!=Y._assets?Y._assets:G.get_context().get_assets()).asset(o,null,null))&&a.destroy()):Y._assetUses.h[o]=c}for(l=i=G.get_context().user.get_windowsData().h,r=(s=Object.keys(i)).length,h=0;h<r;){var u;u=s[h++];l[u].beginFrame()}},Y.updateWindowsDepth=function(){for(var e=Y._orderedWindows.length,n=0,t=e;n<t;){var i=n++;Y._orderedWindowsIterated[i]=Y._orderedWindows[i]}for(var l=!1,n=0,t=e;n<t;){i=n++;if(null!=(s=Y._orderedWindowsIterated[i]).overlay){l=!0;break}}if(l)for(n=0,t=e-1;n<t;){var i=n++,s=Y._orderedWindowsIterated[i];(Y._orderedWindowsIterated[i]=null)!=s.overlay&&null==Y._orderedWindows[e-1].overlay&&(he.remove(Y._orderedWindows,s),Y._orderedWindows.push(s))}else for(n=0,t=e-1;n<t;){i=n++,s=Y._orderedWindowsIterated[i];(Y._orderedWindowsIterated[i]=null)==ae.app.screen.get_focusedVisual()||ae.app.screen.get_focusedVisual()!=s&&!ae.app.screen.get_focusedVisual().hasIndirectParent(s)||(he.remove(Y._orderedWindows,s),Y._orderedWindows.push(s))}for(var r=1,n=0,t=e;n<t;){i=n++;null!=(s=Y._orderedWindows[i]).overlay&&s.overlay.set_depth(r++),s.set_depth(r++)}},Y.displayPendingDialogIfNeeded=function(){if(0<Y._pendingDialogs.length){for(var e=null,n=0,t=Y._pendingDialogs.length;n<t;){var i=n++,l=Y._pendingDialogs[i];if(!l.canceled&&-1==l.chosenIndex){e=l;break}}if(null!=e){for(var s=Y._displayedPendingDialog!=e,r=-1,h=!1,a=(Y._displayedPendingDialog=e).width,a=Y._begin("Im.pendingDialog",e.title,a=null==a?200:a,-60001,{fileName:"../../../../ceramic/plugins/elements/runtime/src/elements/Im.hx",lineNumber:416,className:"elements.Im",methodName:"displayPendingDialogIfNeeded"}),o=(Y.position(.5*ee.app.screenWidth,.5*ee.app.screenHeight,.5,.5),Y.overlay()&&e.cancelable&&(h=!0),Y.expanded(),Y.titleAlign(Ot.CENTER),e.cancelable&&Y.closable()&&(h=!0),Y.textAlign(Ot.CENTER),e.message),n=(null!=o&&Y.text(o),null!=e.promptPointer&&2==(2&Y.editText(null,e.promptPointer,!1,e.promptPlaceholder,null,!0))&&(r=0),2==e.choices.length&&Y.beginRow(),0),t=e.choices.length;n<t;){var i=n++,c=e.choices[i];Y._button(c,!0)&&(r=i)}2==e.choices.length&&Y.endRow(),Y.end(),-1!=r?(e.callback(r,e.choices[r]),e.chosenIndex=r,e.async&&(he.remove(Y._pendingDialogs,e),e.destroy())):h?(e.canceled=!0,e.async&&(he.remove(Y._pendingDialogs,e),e.destroy())):G.get_context().focusedWindow==a&&!s||ae.app.screen.set_focusedVisual(a)}}},Y.endFrame=function(){for(;0<Y._changeChecks.length;)Y._changeChecks.pop();Y.displayPendingDialogIfNeeded(),Y.updateWindowsDepth();for(var e=G.get_context().user.get_windowsData().h,n=e,t=Object.keys(e),i=t.length,l=0;l<i;){var s=t[l++];n[s].endFrame()}0<Y._numUsedWindows&&qt.get_shared().onceEndLateUpdate(Li.get_shared(),function(e){Y._shouldSkipRender||Li.get_shared().requestRender()})},Y.depth=function(e){null==G.get_context().view&&Li.get_shared().createView(),G.get_context().view.set_depth(e)},Y.get=function(e){e=Y.extractId(e),e=G.get_context().user.get_windowsData().h[e];return null!=e?e.window:null},Y.hits=function(e,n){for(var t=G.get_context().user.get_windowsData().h,i=t,l=Object.keys(t),s=l.length,r=0;r<s;){var h=l[r++],h=i[h].window;if(null!=h&&h._hits(e,n,!1))return!0}t=Ei.get_shared().get_focusedField();return null!=t&&t.hitsSelfOrDerived(e,n)},Y.usesScanCode=function(e){var n,t=Ei.get_shared().get_focusedFieldThisFrame();return!(null==t||!t.usesScanCode(e))||!(null==(n=Ei.get_shared().get_focusedField())||n==t||!n.usesScanCode(e))},Y.usesKeyCode=function(e){var n,t=Ei.get_shared().get_focusedFieldThisFrame();return!(null==t||!t.usesKeyCode(e))||!(null==(n=Ei.get_shared().get_focusedField())||n==t||!n.usesKeyCode(e))},Y.usesCmdOrCtrl=function(){return!!(Y.usesScanCode(227)||Y.usesScanCode(231)||Y.usesScanCode(224))||Y.usesScanCode(228)},Y.usesShift=function(){return!!Y.usesScanCode(225)||Y.usesScanCode(229)},Y._begin=function(e,n,t,i,l){null==i&&(i=-60001),null==t&&(t=200);null==G.get_context().view&&Li.get_shared().createView(),Y.pointSize(),Y.preRenderedSize(),Y.bold(!1);var s=Y.extractId(e),r=Y._usedWindowKeys,l=Y._posInfosToString(l),r=(r.h[s]=l,Y._numUsedWindows++,null!=n?n:Y.extractTitle(e)),h=G.get_context().user.get_windowsData().h[s],a=null!=h?h.window:null;if(null==h){(h=new nl).id=s,null!=a&&(h.set_x(a.x),h.set_y(a.y));do{for(var o=!1,c=G.get_context().user.get_windowsData().h,u=c,_=Object.keys(c),d=_.length,b=0;b<d;){var g=u[_[b++]];h.get_y()==g.get_y()&&(o=!0,h.set_y(h.get_y()+21),h.set_x(h.get_x()+4))}}while(o);G.get_context().addWindowData(h)}return null==a&&(a=new el,Y._orderedWindows.push(a),a.onDestroy(null,function(e){he.remove(Y._orderedWindows,e)}),a.id=s,Y._shouldSkipRender=!0,a.set_active(!1),l=h.get_x(),n=h.get_y(),a.set_x(l),a.set_y(n),a.set_viewHeight(-60001),a.onHeaderDoubleClick(a,function(){h.collapsible&&h.set_expanded(!h.get_expanded())}),a.onExpandCollapseClick(a,function(){h.collapsible&&h.set_expanded(!h.get_expanded())}),a.onClose(a,function(){h.closable&&(h.justClosed=!0)}),G.get_context().view.add(a),h.window=a,h.justClosed=!1,Y._beginFrameCallbacks.push(function(){null!=a&&0<=a._lifecycleState&&a.set_active(!0)})),a.x<0&&a.set_x(0),a.x+a.get_width()>G.get_context().view.get_width()&&a.set_x(G.get_context().view.get_width()-a.get_width()),a.y<0&&a.set_y(0),a.y+el.HEADER_HEIGHT>G.get_context().view.get_height()&&a.set_y(G.get_context().view.get_height()-el.HEADER_HEIGHT),h.set_x(a.x),h.set_y(a.y),a.set_viewWidth(t),a.set_viewHeight(-60001),a.set_title(r),h.used=!0,h.closable=!1,h.movable=!0,h.collapsible=!0,h.set_header(!0),h.set_scrollbar(0),h.scrollable&&(h.didScrollWithHeight<-1?h.didScrollWithHeight++:-1<h.didScrollWithHeight&&null!=a&&a.get_height()>h.didScrollWithHeight?h.didScrollWithHeight=-2:null!=a&&(e=Math.max(h.didScrollWithHeight,a.get_height()),h.didScrollWithHeight=Math.round(e))),h.titleAlign=Ot.LEFT,h.overlay=!1,h.overlayTheme=null,h.set_width(t),h.set_height(i),h.targetX=-999999999,h.targetY=-999999999,h.targetAnchorX=-999999999,h.targetAnchorY=-999999999,h.theme=Y._theme,null!=a&&a.set_theme(Y._theme),Y._currentWindowData=h,a},Y._beginTabs=function(e){var n,t,i=Y._currentWindowData,l=tl.get(),i=(l.theme=Y._theme,l.disabled=Y._fieldsDisabled,l.kind=15,l.string0=e(),l.string1=l.string0,l.intArray0=[],l.stringArray0=[],l.stringArray1=[],l.anyArray0=[],l.any0=e,i.addItem(l),!1);return l.isSameItem(l.previous)&&(n=l.previous.string0,(t=l.previous.string1)!=n)&&(i=!0,l.string0=t,e(l.string1=t,null==t)),Y._currentTabBarItem.push(l),i},Y.endTabs=function(){Y._currentTabBarItem[Y._currentTabBarItem.length-1];Y._currentTabBarItem.pop()},Y._tab=function(e,n){var t=Y.extractId(e),n=null!=n?n:Y.extractTitle(e),e=Y._currentTabBarItem[Y._currentTabBarItem.length-1];return e.intArray0.push(Y._fieldsDisabled?1:0),e.stringArray0.push(t),e.stringArray1.push(n),e.anyArray0.push(Y._theme),1==e.stringArray0.length&&null==(n=e.any0)()&&(n(n=t,null==n),e.string0=n,e.string1=n),t==e.string0},Y.beginRow=function(){Y._currentRowIndex++,Y._inRow=!0,Y._flex=1},Y.endRow=function(){Y._inRow=!1,Y._flex=1},Y.beginChangeCheck=function(){Y._changeChecks.push(!1)},Y.endChangeCheck=function(){return Y._changeChecks.pop()},Y._markChanged=function(){for(var e=0,n=Y._changeChecks.length;e<n;){var t=e++;Y._changeChecks[t]=!0}},Y.labelPosition=function(e){Y._labelPosition=e=null==e?1:e},Y.labelWidth=function(e){Y._labelWidth=e=null==e?-49965:e},Y.textAlign=function(e){null==e&&(e=Ot.LEFT),Y._textAlign=e},Y.disabled=function(e){Y._fieldsDisabled=e},Y.flex=function(e){Y._flex=e},Y.bold=function(e){Y._bold=e},Y._updateTheme=function(){Y.initIfNeeded(),null==Y._themePool&&(Y._themePool=[]);for(var e=null,n=0,t=Y._themePool.length;n<t;){var i=n++;if((l=Y._themePool[i])._tint==Y._themeTint&&l._altTint==Y._themeAltTint&&l._backgroundColor==Y._themeBackgroundColor&&l._textColor==Y._themeTextColor||l._clonedIndex==Y._themeClonedIndex){l._used=!0,e=l;break}}if(null==e)for(n=0,t=Y._themePool.length;n<t;){var l,s,i=n++;if(!(l=Y._themePool[i])._used){l._used=!0,l._tint==Y._themeTint&&l._altTint==Y._themeAltTint&&l._backgroundColor==Y._themeBackgroundColor&&l._textColor==Y._themeTextColor&&l._clonedIndex==Y._themeClonedIndex||((null!=(s=Y._explicitTheme)?s:Y._imTheme).clone(l),Y._themeClonedIndex=l._clonedIndex,-1!=Y._themeTint&&l.applyTint(null,Y._themeTint),l._tint=Y._themeTint,-1!=Y._themeAltTint&&l.applyAltTint(null,Y._themeAltTint),l._altTint=Y._themeAltTint,-1!=Y._themeBackgroundColor&&l.applyBackgroundColor(Y._themeBackgroundColor),l._backgroundColor=Y._themeBackgroundColor,-1!=Y._themeTextColor&&l.applyTextColor(Y._themeTextColor),l._textColor=Y._themeTextColor),e=l;break}}null==e&&((l=new $i)._used=!0,(null!=(s=Y._explicitTheme)?s:Y._imTheme).clone(l),Y._themeClonedIndex=l._clonedIndex,-1!=Y._themeTint&&l.applyTint(null,Y._themeTint),l._tint=Y._themeTint,-1!=Y._themeAltTint&&l.applyAltTint(null,Y._themeAltTint),l._altTint=Y._themeAltTint,-1!=Y._themeBackgroundColor&&l.applyBackgroundColor(Y._themeBackgroundColor),l._backgroundColor=Y._themeBackgroundColor,-1!=Y._themeTextColor&&l.applyTextColor(Y._themeTextColor),l._textColor=Y._themeTextColor,e=l),Y._themeInternal(e)},Y.assets=function(e){Y._assets=e},Y.get_defaultTheme=function(){return Y.initIfNeeded(),Y._imTheme},Y.get_currentTheme=function(){return Y.initIfNeeded(),Y._theme},Y.get_current=function(){return Y.initIfNeeded(),Y._currentWindowData},Y.theme=function(e){Y.initIfNeeded(),null==(Y._explicitTheme=e)&&(e=Y._imTheme),Y._theme=e,Y._theme.set_backgroundInFormLayout(!0)},Y._themeInternal=function(e){Y.initIfNeeded(),null==e&&(e=Y._imTheme),Y._theme=e,Y._theme.set_backgroundInFormLayout(!0)},Y.position=function(e,n,t,i,l){null==i&&(i=0),null==t&&(t=0);var s=Y._currentWindowData;s.targetX=(l=null==l?!0:l)?Math.round(e):e,s.targetY=l?Math.round(n):n,s.targetAnchorX=t,s.targetAnchorY=i,s.movable=!1},Y.scrollbar=function(e){var n=Y._currentWindowData;n.set_scrollbar(e),n.movable=!1},Y.focus=function(){var e=Y._currentWindowData;null!=e&&null!=e.window&&ae.app.screen.set_focusedVisual(e.window)},Y.expanded=function(){var e=Y._currentWindowData;e.collapsible=!1,e.set_expanded(!0)},Y.header=function(e){Y._currentWindowData.set_header(e)},Y.overlay=function(){var e=Y._currentWindowData;return e.overlay=!0,e.overlayTheme=Y._theme,!!e.overlayClicked&&!(e.overlayClicked=!1)},Y.titleAlign=function(e){Y._currentWindowData.titleAlign=e},Y.closable=function(e){var n=Y._currentWindowData;return n.closable=!0,!!n.justClosed&&(n.justClosed=!1,null!=e&&e(!1),Y._markChanged(),!0)},Y._list=function(e,n,t,i,l,s,r,h){null==h&&(h=!1),null==r&&(r=!1),null==s&&(s=!1),null==l&&(l=!1),null==e&&(e=-1);var a,o=Y._currentWindowData,c=tl.get(),u=(c.theme=Y._theme,c.flex=Y._flex,c.disabled=Y._fieldsDisabled,c.kind=14,c.int0=i(),c.int1=c.int0,0);return l&&(u=l?1|u:-2&u),s&&(u=s?2|u:-3&u),r&&(u=r?4|u:-5&u),h&&(u=h?8|u:-9&u),c.int2=u=n?n?16|u:-17&u:u,c.float0=e,c.labelPosition=Y._labelPosition,c.labelWidth=Y._labelWidth,c.any0=t(),c.any1=c.any0,c.row=Y._inRow?Y._currentRowIndex:-1,o.addItem(c),c.isSameItem(c.previous)?(l=c.previous.int0,(s=c.previous.int1)!=l&&(c.int0=s,i(c.int1=s)),r=c.previous.any0,(h=c.previous.any1)!=r&&(c.any0=h,t(c.any1=h,null==h)),(a=c.previous).any0==a.any1&&a.int0==a.int1||Y._markChanged()):(a=c).any0==a.any1&&a.int0==a.int1||Y._markChanged(),a},Y._select=function(e,n,t,i){var l=Y._currentWindowData,s=tl.get();if(s.theme=Y._theme,s.flex=Y._flex,s.disabled=Y._fieldsDisabled,s.kind=1,s.int0=n(),s.int1=s.int0,s.labelPosition=Y._labelPosition,s.labelWidth=Y._labelWidth,s.string2=e,s.stringArray0=t,s.string1=i,s.row=Y._inRow?Y._currentRowIndex:-1,l.addItem(s),s.isSameItem(s.previous)){e=s.previous.int0,t=s.previous.int1;if(t!=e)return s.int0=t,n(s.int1=t),Y._markChanged(),!0}return!1},Y._selectEnum=function(e,n,t,i,l){var s=n(null,!1),r=null;if(null==i)if(t instanceof ud)i=(_=t).enumFields,r=null==s||(d=_.enumValues.indexOf(s))<0?null:_.enumFields[d];else{for(var h=t.__constructs__,a=new Array(h.length),o=0,c=h.length;o<c;){var u=o++;a[u]=h[u]._hx_name}i=a,r=null!=s?""+K.string(s):null}d=r;var _,d,b,g=i.indexOf(d),s=!1;return Y._select(e,function(e){return null!=e?g=e:g},i,l)&&(null==(b=i[g])&&null!=b||(r=b),s=!0,Y._markChanged()),(e=s)&&(t instanceof ud?n(b=(_=t).createEnumValue(r),null==b):n(b=-1!=(d=null!=r?i.indexOf(r):-1)?B.createEnum(t,i[d],[]):null,null==b)),e},Y._check=function(e,n,t){var i,l=Y._currentWindowData,s=tl.get(),t=(s.theme=Y._theme,s.flex=Y._flex,s.disabled=Y._fieldsDisabled,s.kind=9,s.int0=n()?1:0,s.int1=s.int0,s.labelPosition=Y._labelPosition,s.labelWidth=t?Y._labelWidth:-60002,s.string2=e,s.row=Y._inRow?Y._currentRowIndex:-1,l.addItem(s),0!=s.int0),e=!1,l=(s.isSameItem(s.previous)&&(l=s.previous.int0,(i=s.previous.int1)!=l)&&(e=!0,t=0!=i,s.int0=i,n(0!=(s.int1=i)),Y._markChanged()),0);return t&&(l=t?1|l:-2&l),l=e?e?2|l:-3&l:l},Y.editColor=function(e,n){var t=Y._currentWindowData,i=tl.get();if(i.theme=Y._theme,i.flex=Y._flex,i.disabled=Y._fieldsDisabled,i.kind=5,i.int0=n(),i.int1=i.int0,i.labelPosition=Y._labelPosition,i.labelWidth=Y._labelWidth,i.string2=e,i.row=Y._inRow?Y._currentRowIndex:-1,t.addItem(i),i.isSameItem(i.previous)){e=i.previous.int0,t=i.previous.int1;if(t!=e)return i.int0=t,n(i.int1=t),Y._markChanged(),!0}return!1},Y.editText=function(e,n,t,i,l,s,r){null==r&&(r=!0),null==s&&(s=!1),null==t&&(t=!1);var h,a=Y._currentWindowData,o=tl.get();return o.theme=Y._theme,o.flex=Y._flex,o.disabled=Y._fieldsDisabled,o.kind=2,o.string0=n(),null==o.string0&&(o.string0=""),o.string1=o.string0,o.labelPosition=Y._labelPosition,o.labelWidth=Y._labelWidth,o.bool0=t,o.bool2=s,o.string2=e,o.string3=i,o.stringArray0=l,o.bool4=r,o.row=Y._inRow?Y._currentRowIndex:-1,a.addItem(o),o.isSameItem(o.previous)?(t=o.previous.string0,s=o.previous.string1,e=o.previous.bool1,i=o.previous.bool3,s!=t?(o.string0=s,n(o.string1=s,null==s),Y._markChanged(),h=0,h|=1):h=0,e&&(h=e?2|h:-3&h),i?i?4|h:-5&h:h):0},Y.editInt=function(e,n,t,i,l){null==l&&(l=2147483647),null==i&&(i=-2147483647);var s=Y._currentWindowData,r=tl.get();if(r.theme=Y._theme,r.flex=Y._flex,r.disabled=Y._fieldsDisabled,r.kind=4,r.int0=n(),r.int1=r.int0,r.float3=i,r.float4=l,r.labelPosition=Y._labelPosition,r.labelWidth=Y._labelWidth,r.string2=e,r.string3=t,r.row=Y._inRow?Y._currentRowIndex:-1,s.addItem(r),r.isSameItem(r.previous)){i=r.previous.int0,l=r.previous.int1;if(l!=i)return r.int0=l,n(r.int1=l),Y._markChanged(),!0}return!1},Y.editFloat=function(e,n,t,i,l,s){null==s&&(s=1e3),null==l&&(l=2147483647),null==i&&(i=-2147483647);var r=Y._currentWindowData,h=tl.get();if(h.theme=Y._theme,h.flex=Y._flex,h.disabled=Y._fieldsDisabled,h.kind=3,h.float0=n(),h.float1=h.float0,h.float3=i,h.float4=l,h.int0=s,h.labelPosition=Y._labelPosition,h.labelWidth=Y._labelWidth,h.string2=e,h.string3=t,h.row=Y._inRow?Y._currentRowIndex:-1,r.addItem(h),h.isSameItem(h.previous)){i=h.previous.float0,l=h.previous.float1;if(l!=i)return h.float0=l,n(h.float1=l),Y._markChanged(),!0}return!1},Y.slideInt=function(e,n,t,i){var l=Y._currentWindowData,s=tl.get();if(s.theme=Y._theme,s.flex=Y._flex,s.disabled=Y._fieldsDisabled,s.kind=7,s.int0=n(),s.int1=s.int0,s.float3=t,s.float4=i,s.labelPosition=Y._labelPosition,s.labelWidth=Y._labelWidth,s.string2=e,s.row=Y._inRow?Y._currentRowIndex:-1,l.addItem(s),s.isSameItem(s.previous)){t=s.previous.int0,i=s.previous.int1;if(i!=t)return s.int0=i,n(s.int1=i),Y._markChanged(),!0}return!1},Y.slideFloat=function(e,n,t,i,l){null==l&&(l=1e3);var s=Y._currentWindowData,r=tl.get();if(r.theme=Y._theme,r.flex=Y._flex,r.disabled=Y._fieldsDisabled,r.kind=6,r.float0=n(),r.float1=r.float0,r.float3=t,r.float4=i,r.int0=l,r.labelPosition=Y._labelPosition,r.labelWidth=Y._labelWidth,r.string2=e,r.row=Y._inRow?Y._currentRowIndex:-1,s.addItem(r),r.isSameItem(r.previous)){t=r.previous.float0,i=r.previous.float1;if(i!=t)return r.float0=i,n(r.float1=i),Y._markChanged(),!0}return!1},Y.visual=function(e,n,t,i,l){null==l&&(l=!0),null==i&&(i=!1),null==t&&(t=!1);var s=Y._currentWindowData,r=tl.get();r.theme=Y._theme,r.flex=Y._flex,r.disabled=Y._fieldsDisabled,r.kind=11,r.bool0=t,r.bool1=l,r.int0=0,r.visual=n,r.string2=e,r.labelPosition=Y._labelPosition,r.labelWidth=i?Y._labelWidth:-60002,r.row=Y._inRow?Y._currentRowIndex:-1,s.addItem(r)},Y._imageWithTile=function(e,n,t,i,l){return Y._image(e,null,n,-1,-1,-1,-1,t,i,l)},Y._imageWithAsset=function(e,n,t,i,l,s,r,h,a){z.startsWith(n,"image:")||(n="image:"+n);var o=0,o=(Object.prototype.hasOwnProperty.call(Y._assetUses.h,n)&&(o=Y._assetUses.h[n])<0&&(o=0),Y._assetUses.h[n]=o+1,null!=Y._assets?Y._assets:G.get_context().get_assets()),c=o.texture(n);return null==c&&null==o.asset(n,null,null)&&(o.addImage(n),o.load(null,{fileName:"../../../../ceramic/plugins/elements/runtime/src/elements/Im.hx",lineNumber:2426,className:"elements.Im",methodName:"_imageWithAsset"})),Y._image(e,c,null,t,i,l,s,r,h,a)},Y._image=function(e,n,t,i,l,s,r,h,a,o){var c=Y._currentWindowData,u=tl.get(),h=(u.theme=Y._theme,u.flex=Y._flex,u.disabled=Y._fieldsDisabled,u.kind=11,u.bool0=h,u.int0=1,u.string2=e,u.labelPosition=Y._labelPosition,u.labelWidth=a?Y._labelWidth:-60002,u.row=Y._inRow?Y._currentRowIndex:-1,c.addItem(u),null);return null==(h=null!=u.previous&&u.int0==u.previous.int0?u.previous.visual:h)&&c.unobservedExpanded&&(h=new p).set_active(!1),null!=h&&(null!=t?(h.set_tile(t),null!=o&&t.texture.set_filter(o)):(h._texture!=n&&h._set_texture(n),null!=n&&null!=o&&n.set_filter(o),null==n?(h.set_width(0),h.set_height(0)):0<=i&&0<=l&&0<=s&&0<=r&&(e=n.width,a=n.height,c=Math.round(l*a),t=Math.round(s*e),o=Math.round(r*a),h.frameX=Math.round(i*e),h.frameY=c,h.frameWidth!=t&&-1!=(h.frameWidth=t)&&h.set_width(t),h.frameHeight!=o)&&-1!=(h.frameHeight=o)&&h.set_height(o))),u.visual=h},Y.debugVisual=function(e,n,t){null==t&&(t=!1),null==n&&(n=!1);var i,l,s=Y._currentWindowData,r=tl.get(),n=(r.theme=Y._theme,r.flex=Y._flex,r.disabled=Y._fieldsDisabled,r.kind=11,r.bool0=n,r.int0=1e3,r.string2=e,r.labelPosition=Y._labelPosition,r.labelWidth=t?Y._labelWidth:-60002,r.row=Y._inRow?Y._currentRowIndex:-1,s.addItem(r),null);return null==(n=null!=r.previous&&r.int0==r.previous.int0?r.previous.visual:n)&&s.unobservedExpanded&&((n=new p).color=65280,i=20+Math.round(600*Math.random()),l=20+Math.round(600*Math.random()),n.set_width(i),n.set_height(l)),null!=n&&ae.app.frame%60==0&&(i=20+Math.round(600*Math.random()),l=20+Math.round(600*Math.random()),n.set_width(i),n.set_height(l)),r.visual=n},Y.margin=function(){Y.initIfNeeded(),Y.space(-Y._theme.get_formItemSpacing()/2)},Y.space=function(e){null==e&&(e=-60001);var n=Y._currentWindowData,t=tl.get();t.theme=Y._theme,t.flex=Y._flex,t.kind=12,t.float0=e,t.row=Y._inRow?Y._currentRowIndex:-1,n.addItem(t)},Y.separator=function(e){null==e&&(e=7);var n=Y._currentWindowData,t=tl.get();t.theme=Y._theme,t.flex=Y._flex,t.kind=13,t.float0=e,t.row=Y._inRow?Y._currentRowIndex:-1,n.addItem(t)},Y._button=function(e,n){var t=Y._currentWindowData,i=tl.get();if((i.theme=Y._theme,i.flex=Y._flex,i.disabled=Y._fieldsDisabled,i.kind=8,i.int0=0,i.int1=0,i.labelWidth=Y._labelWidth,i.string0=e,i.bool0=n,i.row=Y._inRow?Y._currentRowIndex:-1,t.addItem(i),n&&i.isSameItem(i.previous))&&1==i.previous.int1)return Y._markChanged(),!0;return!1},Y.pointSize=function(e){Y._pointSize=e=null==e?12:e},Y.preRenderedSize=function(e){Y._preRenderedSize=e=null==e?-1:e},Y.text=function(e,n){var t,i=Y._currentWindowData,l=tl.get();if(l.theme=Y._theme,l.flex=Y._flex,l.disabled=Y._fieldsDisabled,l.kind=10,l.string0=e,l.string1=l.string0,null==n)switch(Y._textAlign._hx_index){case 0:t=0;break;case 1:t=1;break;case 2:t=2}else switch(n._hx_index){case 0:t=0;break;case 1:t=1;break;case 2:t=2}l.int0=t,l.row=Y._inRow?Y._currentRowIndex:-1,l.bool0=Y._bold,l.int2=Y._pointSize,0<Y._preRenderedSize?l.int3=Y._preRenderedSize:l.int3=5*Math.ceil((Y._pointSize+7.9)/5),i.addItem(l)},Y.end=function(){var r=Y._currentWindowData,h=null!=r?r.window:null,e=null!=r?r.items:null;if(null==h||1==(1&h.flags)){if(null!=e)for(var n=0,t=r.itemIndex;n<t;)null!=(D=e[I=n++]).visual&&(null!=D.visual.parent&&D.visual.parent.remove(D.visual),null==h&&11==D.kind&&0<D.int0&&null!=D.visual?(D.visual.destroy(),D.visual=null):D.visual.set_active(!1));null!=h&&-999999999!=r.targetX&&qt.get_shared().onceEndLateUpdate(h,function(e){r.set_x(r.targetX-r.targetAnchorX*h.get_width()),r.set_y(r.targetY-r.targetAnchorY*h.get_height()),h.set_x(r.get_x()),h.set_y(r.get_y())})}else{if(h.set_closable(r.closable),h.movable=r.movable,h.set_collapsible(r.collapsible),h.set_titleAlign(r.titleAlign),h.set_header(r.get_header()),r.get_expanded()){var i,l,s,a,o,c=r.form,u=r.filler,_=!1;if(-60001!=r.get_height())switch(r.get_scrollbar()){case-1:i=!1;break;case 0:i=r.computedContentHeight>r.get_height();break;case 1:i=r.computedContentHeight>r.get_height()||0<=r.didScrollWithHeight;break;case 2:case 3:i=!0}else i=!1;if(r.scrollable=i,null!=h.get_contentView())if(h.get_contentView()instanceof Yi){var d,b=h.get_contentView();if(i){var g=r.get_height();b.set_viewWidth(-60002),b.set_viewHeight(g)}else{if(null!=(d=b.layoutView).parent&&d.parent.remove(d),h.set_contentView(d),d.set_paddingRight(0),_=!0,null==(y=c.subviews))return;for(n=0,t=y.length;n<t;)1!=(1&(x=y[I=n++]).flags)&&x.set_visible(!0)}}else i&&(_=!0,(d=h.get_contentView()).set_paddingRight(12),(b=new Yi(d,!0)).set_theme(r.theme),b.checkChildrenOfView=c,(a=new Gi).set_active(!1),a.inset(2,1,1,2),b.scroller.set_scrollbar(a),b.flags|=16,g=r.get_height(),b.set_viewWidth(-60002),b.set_viewHeight(g),(l=new p).id="scrollbar-bg",l.flags&=-17,o=b.get_width()-12,l.set_x(o),l.set_y(0),g=b.get_height(),l.set_width(12),l.set_height(g),l.set_alpha(r.theme.get_windowBackgroundAlpha()),l.color=r.theme.get_windowBackgroundColor(),b.onResize(l,function(e,n){l.set_x(e-12),l.set_y(0),l.set_width(12),l.set_height(n)}),b.add(l),h.set_contentView(b));null==h.get_contentView()&&(_=!0,(c=new wd).set_viewWidth(-60001),c.set_viewHeight(-60001),c.flags|=16,r.form=c,(d=new r0).flags|=16,d.set_viewWidth(-60001),d.set_viewHeight(-60001),d.add(c),(u=new f0).set_viewWidth(-60002),u.set_viewHeight(0),u.flags&=-17,d.add(u),r.filler=u,i?(d.set_paddingRight(12),(b=new Yi(d,!0)).set_theme(r.theme),b.checkChildrenOfView=c,(a=new Gi).set_active(!1),a.inset(2,1,1,2),b.scroller.set_scrollbar(a),b.flags|=16,g=r.get_height(),b.set_viewWidth(-60002),b.set_viewHeight(g),(s=new p).id="scrollbar-bg",s.flags&=-17,o=b.get_width()-12,s.set_x(o),s.set_y(0),g=b.get_height(),s.set_width(12),s.set_height(g),s.set_alpha(r.theme.get_windowBackgroundAlpha()),s.color=r.theme.get_windowBackgroundColor(),b.onResize(s,function(e,n){s.set_x(e-12),s.set_y(0),s.set_width(12),s.set_height(n)}),b.add(s),h.set_contentView(b)):h.set_contentView(d)),null!=c&&(c.tabFocus.focusRoot=h,c.set_theme(r.theme)),null!=u&&(u.set_alpha(r.theme.get_windowBackgroundAlpha()),u.color=r.theme.get_windowBackgroundColor()),null!=h.get_contentView()&&h.get_contentView()instanceof Yi&&null!=(a=h.get_contentView().childWithId("scrollbar-bg"))&&((o=a).set_alpha(r.theme.get_windowBackgroundAlpha()),o.color=r.theme.get_windowBackgroundColor());e=r.items;if(!_)for(n=0,t=r.itemIndex;n<t;)if(null==(D=e[I=n++]).previous||!D.isSameItem(D.previous)){_=!0;break}if(!_){var O=0;if(null!=(P=c.subviews))for(n=0,t=P.length;n<t;)if((x=P[I=n++])instanceof Ri){var f=(A=x).subviews;if(null!=f)for(var C=0,v=f.length;C<v;){var w=C++;++O}}else++O;O!=r.itemIndex&&(_=!0)}if(_){for(var m=null!=c.subviews?[].concat(c.subviews):[],y=[],U=[],T=-1,n=0,t=m.length;n<t;)if((x=m[I=n++])instanceof Ri){if(null!=(P=(A=x).subviews))for(C=0,v=P.length;C<v;){w=C++;y.push(P[w])}A.removeAllViews(),U.push(A)}else y.push(x);c.removeAllViews();for(n=0,t=r.itemIndex;n<t;){var D=e[I=n++],x=y[I],S=null!=D.previous&&D.isSameItem(D.previous),A=(null!=x&&S||null!=x&&(x instanceof Zi&&x.set_visual(null),x.destroy(),x=null),x=D.updateView(x),null);0<=D.row&&(T<D.row?(null==(A=U[++T])&&(A=new Ri,(U[T]=A).set_viewWidth(-60002),A.set_viewHeight(-60001)),c.add(A)):A=U[D.row]),(null!=A?A:c).add(x)}for(;r.itemIndex<y.length;)y.pop().destroy();for(;T+1<U.length;)U.pop().destroy()}else for(var y=c.subviews,k=0,I=0;I<r.itemIndex;){var P,x=y[k];if(x instanceof Ri){if(null!=(P=(A=x).subviews))for(n=0,t=P.length;n<t;){var F=P[w=n++];(D=e[I]).updateView(F),++I}}else e[I].updateView(x),++I;++k}}else{b=h.get_contentView();if(null!=b&&(h.set_contentView(null),b.destroy(),r.form=null,r.filler=null),null!=e)for(var I,n=0,t=r.itemIndex;n<t;)null!=(D=e[I=n++]).visual&&(null!=D.visual.parent&&D.visual.parent.remove(D.visual),11==D.kind&&0<D.int0&&null!=D.visual?(D.visual.destroy(),D.visual=null):D.visual.set_active(!1));null!=h&&-999999999!=r.targetX&&qt.get_shared().onceEndLateUpdate(h,function(e){r.set_x(r.targetX-r.targetAnchorX*h.get_width()),r.set_y(r.targetY-r.targetAnchorY*h.get_height()),h.set_x(r.get_x()),h.set_y(r.get_y())})}r.overlay?(null==h.overlay&&(h.overlay=new p,h.overlay.onPointerDown(null,function(e){r.overlayClicked=!0}),G.get_context().view.add(h.overlay)),u=null!=(d=r.overlayTheme)?d:G.get_context().get_theme(),h.overlay.color=u.get_overlayBackgroundColor(),h.overlay.set_alpha(u.get_overlayBackgroundAlpha()),(a=h.overlay).set_x(0),a.set_y(0),a=h.overlay,g=ee.app.screenHeight,a.set_width(ee.app.screenWidth),a.set_height(g)):(r.overlayClicked=!1,null!=h.overlay&&(h.overlay.destroy(),h.overlay=null)),-999999999!=r.targetX&&qt.get_shared().onceEndLateUpdate(h,function(e){r.set_x(r.targetX-r.targetAnchorX*h.get_width()),r.set_y(r.targetY-r.targetAnchorY*h.get_height()),h.set_x(r.get_x()),h.set_y(r.get_y())}),qt.get_shared().onceEndLateUpdate(h,function(e){var n,t,i,l,s;null!=h.get_contentView()&&0<r.get_height()&&(h.get_contentView()instanceof Yi?(n=h.get_contentView(),r.computedContentHeight=n.contentView.get_height(),2==r.get_scrollbar()||0==r.get_scrollbar()||1==r.get_scrollbar()&&r.didScrollWithHeight<0?(t=r.computedContentHeight>r.get_height(),null!=(i=n.scroller.scrollbar)&&(t?Y._shouldSkipRender=1==(1&i.flags):i.set_active(!1),ae.app.onceUpdate(i,function(e){i.set_active(t)}))):(3==r.get_scrollbar()||1==r.get_scrollbar()&&0<=r.didScrollWithHeight)&&null!=(l=n.scroller.scrollbar)&&1==(1&l.flags)&&(Y._shouldSkipRender=1==(1&l.flags),ae.app.onceUpdate(l,function(e){(3==r.get_scrollbar()||1==r.get_scrollbar()&&0<=r.didScrollWithHeight)&&l.set_active(!0)}))):(r.computedContentHeight=h.get_contentView().get_height(),(0==r.get_scrollbar()||1==r.get_scrollbar())&&r.computedContentHeight>r.get_height()&&((s=h.get_contentView()).set_visible(!1),Y._shouldSkipRender=!0,ae.app.onceUpdate(s,function(e){s.set_visible(!0)}))),null!=r.filler)&&null!=r.form&&r.filler.set_viewHeight(Math.max(0,r.get_height()-r.form.get_height()))})}for(Y._currentWindowData=null,Y._currentRowIndex=-1,Y._inRow=!1,Y._textAlign=Ot.LEFT,Y._labelWidth=-49965,Y._labelPosition=1;0<Y._currentTabBarItem.length;)Y._currentTabBarItem.pop()},Y.focusedWindow=function(){return G.get_context().focusedWindow},Y.allow=function(e){-1==Y._allowedOwners.indexOf(e)&&(Y._allowedOwners.push(e),e.onDestroy(null,Y._allowedOwnerDestroyed))},Y.filter=function(e){-1!=Y._allowedOwners.indexOf(e)&&(he.remove(Y._allowedOwners,e),0<=e._lifecycleState)&&e.offDestroy(Y._allowedOwnerDestroyed)},Y._allowedOwnerDestroyed=function(e){he.remove(Y._allowedOwners,e)},Y.filterEventOwner=function(e){var n=!1;return null!=G.get_context().focusedWindow?null!=e&&(n=Y._filterEventOwner(e)):n=!0,n},Y._filterEventOwner=function(e){var n=G.get_context().view;if(n==e)return!0;if(e instanceof o&&e.hasIndirectParent(n))return!0;if(e instanceof lt){var t=e;if(null!=t.content&&(t.content==n||t.content.hasIndirectParent(n)))return!0}if(Os.__implements(e,a0))for(var i=e.getEntity(),l=0;null!=i&&l<10;){if(i instanceof o)if(i.hasIndirectParent(n))return!0;if(-1!=Y._allowedOwners.indexOf(i))return!0;i=Os.__implements(i,a0)?i.getEntity():null,++l}if(e instanceof Ab){var t=e.bindings;if(null!=t){if(null!=(i=t.getEntity())){if(i instanceof o)if(i.hasIndirectParent(n))return!0;if(-1!=Y._allowedOwners.indexOf(i))return!0}if(1!=Y._allowedOwners.indexOf(t))return!0}}return-1!=Y._allowedOwners.indexOf(e)||(t=Os.getClass(e).__name__,!!z.startsWith(t,"elements."))},Y._confirm=function(e,n,t,i,l,s,r,h,a,o){null==h&&(h=-60001),null==r&&(r=300),null==i&&(i=!1),Y.initIfNeeded(),null==l&&(l=Y.YES),null==s&&(s=Y.NO);var c=null;if(null!=e){e=Y.extractId(e);for(var u=0,_=Y._pendingDialogs.length;u<_;){var d=u++,d=Y._pendingDialogs[d];if(d.key==e){c=d;break}}}null==c?(c=new Ni(e,n,t,null,null,null,[l,s],i,r,h,a,function(e,n){var t;-1!=c.chosenIndex||c.canceled||(c.chosenIndex=e,null!=o&&(t=o,o=null,t(0==e)))}),ae.app.input.onKeyDown(c,function(e){-1!=c.chosenIndex||c.canceled||c.cancelable&&41==e.scanCode&&(c.canceled=!0,null!=o&&(e=o,o=null,e(!1)),c.async)&&(he.remove(Y._pendingDialogs,c),c.destroy())}),Y._pendingDialogs.push(c)):(c.title=n,c.message=t,c.choices[0]=l,c.choices[1]=s,c.cancelable=i,c.width=r,c.height=h);a=c.canceled?-2:c.chosenIndex;return c.async||-1==a||(he.remove(Y._pendingDialogs,c),c.destroy()),a},Y._info=function(e,n,t,i,l,s,r,h,a){null==r&&(r=-60001),null==s&&(s=300),null==i&&(i=!1),Y.initIfNeeded(),null==l&&(l=Y.OK);var o=null;if(null!=e){e=Y.extractId(e);for(var c=0,u=Y._pendingDialogs.length;c<u;){var _=c++,_=Y._pendingDialogs[_];if(_.key==e){o=_;break}}}null==o?(o=new Ni(e,n,t,null,null,null,[l],i,s,r,h,function(e,n){-1!=o.chosenIndex||o.canceled||(o.chosenIndex=e,null!=a&&(e=a,a=null,e()))}),ae.app.input.onKeyDown(o,function(e){-1!=o.chosenIndex||o.canceled||o.cancelable&&41==e.scanCode&&(o.canceled=!0,a=null,o.async)&&(he.remove(Y._pendingDialogs,o),o.destroy())}),Y._pendingDialogs.push(o)):(o.title=n,o.message=t,o.choices[0]=l,o.cancelable=i,o.width=s,o.height=r);h=o.canceled?-2:o.chosenIndex;return o.async||-1==h||(he.remove(Y._pendingDialogs,o),o.destroy()),h},Y._prompt=function(e,n,t,i,l,s,r,h,a,o,c,u){null==o&&(o=-60001),null==a&&(a=300),null==s&&(s=!1),Y.initIfNeeded(),null==r&&(r=Y.OK);var _=null;if(null!=e){e=Y.extractId(e);for(var d=0,b=Y._pendingDialogs.length;d<b;){var g=d++,g=Y._pendingDialogs[g];if(g.key==e){_=g;break}}}null==_?(_=new Ni(e,n,t,!0,i,l,s&&null!=h?[r,h]:[r],s,a,o,c,function(e,n){-1!=_.chosenIndex||_.canceled||(_.chosenIndex=e,null!=u&&(e=u,u=null,e(_.promptPointer())))}),ae.app.input.onKeyDown(_,function(e){-1!=_.chosenIndex||_.canceled||_.cancelable&&41==e.scanCode&&(_.canceled=!0,u=null,_.async)&&(he.remove(Y._pendingDialogs,_),_.destroy())}),Y._pendingDialogs.push(_)):(_.title=n,_.message=t,_.promptPlaceholder=l,null!=i&&(_.promptPointer=i),c=!0,null!=h?2==_.choices.length&&_.choices[0]==r&&_.choices[1]==h||(c=!1):1==_.choices.length&&_.choices[0]==r||(c=!1),c||(_.choices=[r,h]),_.cancelable=s,_.width=a,_.height=o);n=_.canceled?-2:_.chosenIndex;return _.async||-1==n||(he.remove(Y._pendingDialogs,_),_.destroy()),n},Y._choice=function(e,n,t,i,l,s,r,h,a){null==r&&(r=-60001),null==s&&(s=300),null==i&&(i=!1),Y.initIfNeeded(),-60001==r&&8<=l.length&&(r=400);var o=null;if(null!=e){e=Y.extractId(e);for(var c=0,u=Y._pendingDialogs.length;c<u;){var _=c++,_=Y._pendingDialogs[_];if(_.key==e){o=_;break}}}null==o?(o=new Ni(e,n,t,null,null,null,h?[].concat(l):l,i,s,r,h,function(e,n){var t;-1!=o.chosenIndex||o.canceled||(o.chosenIndex=e,null!=a&&(t=a,a=null,t(e,n)))}),ae.app.input.onKeyDown(o,function(e){-1!=o.chosenIndex||o.canceled||o.cancelable&&41==e.scanCode&&(o.canceled=!0,a=null,o.async)&&(he.remove(Y._pendingDialogs,o),o.destroy())}),Y._pendingDialogs.push(o)):(o.title=n,o.message=t,o.choices=l,o.cancelable=i,o.width=s,o.height=r);h=o.canceled?-2:o.chosenIndex;return o.async||-1==h||(he.remove(Y._pendingDialogs,o),o.destroy()),h},Y._posInfosToString=function(e){return null==e?"?":e.fileName+":"+e.lineNumber},Y.handle=function(e){var n,t,i;return null!=e?(e=e.fileName+":"+e.lineNumber,Object.prototype.hasOwnProperty.call(Y._pointerBaseHandles.h,e)?(i=Y._pointerBaseHandles.h[e],n=Y._pointerBaseHandleOccurences[i],Y._pointerBaseHandleOccurences[i]=n+1):(i=Y._pointerBaseHandleOccurences.length,Y._pointerBaseHandleOccurences.push(n=1),Y._pointerBaseHandles.h[e]=i),i=e+":"+n,Object.prototype.hasOwnProperty.call(Y._pointerHandles.h,i)?t=Y._pointerHandles.h[i]:(t=Y._nextPointerHandle++,Y._pointerHandles.h[i]=t),t):-1},Y.setIntAtHandle=function(e,n){return Y._intPointerValues.set(e,n),n},Y.intAtHandle=function(e){e=Y._intPointerValues.intMap.h[0|e];return null!=e?e:0},Y.setColorAtHandle=function(e,n){return Y._intPointerValues.set(e,n),n},Y.colorAtHandle=function(e){return Y._intPointerValues.intMap.h.hasOwnProperty(0|e)?null!=(e=Y._intPointerValues.intMap.h[0|e])?e:0:16777215},Y.setFloatAtHandle=function(e,n){return Y._floatPointerValues.set(e,n),n},Y.floatAtHandle=function(e){e=Y._floatPointerValues.intMap.h[0|e];return null!=e?e:0},Y.setBoolAtHandle=function(e,n){return Y._boolPointerValues.set(e,n?1:0),n},Y.boolAtHandle=function(e){e=Y._boolPointerValues.intMap.h[0|e];return 0!=(null!=e?e:0)},Y.setStringAtHandle=function(e,n){return Y._stringPointerValues.set(e,n),n},Y.stringAtHandle=function(e){return Y._stringPointerValues.get(e)},Y.setArrayAtHandle=function(e,n){return Y._arrayPointerValues.set(e,n),n},Y.arrayAtHandle=function(e){return Y._arrayPointerValues.get(e)},Y.readInt=function(e){return e()},Y.writeInt=function(e,n){e(n)},Y.readFloat=function(e){return e()},Y.writeFloat=function(e,n){e(n)},Y.readString=function(e){return e()},Y.writeString=function(e,n){e(n,null==n)},Y.readArray=function(e){return e()},Y.writeArray=function(e,n){e(n,null==n)},Y.readEnumValue=function(e){return e(null,!1)},Y.writeEnumValue=function(e,n){e(n,null==n)},Y.readBool=function(e){return e()},Y.writeBool=function(e,n){e(n)},function(){Yb.call(this),this.set_itemSpacing(6)}),Li=((E["elements.ImRowLayout"]=Ri).__name__="elements.ImRowLayout",Ri.__super__=Yb,Ri.prototype=$extend(Yb.prototype,{__class__:Ri}),function(){this.makeFilterActive=-2,this.view=null,this.filter=null,b1.call(this),this.set_earlyUpdateOrder(100),this.set_lateUpdateOrder(6e3)}),Vi=((E["elements.ImSystem"]=Li).__name__="elements.ImSystem",Li.__properties__={set_shared:"set_shared",get_shared:"get_shared"},Li.get_shared=function(){return Li.lazyShared&&(Li.lazyShared=!1,Li.shared=new Li),Li.shared},Li.set_shared=function(e){return Li.shared=e},Li.__super__=b1,Li.prototype=$extend(b1.prototype,{filter:null,view:null,makeFilterActive:null,createView:function(){var i=this;this.filter=new _n,this.filter.set_textureFilter(Tt.NEAREST),this.filter.bindToNativeScreenSize(),this.filter.set_depth(1e3),this.filter.set_density(ee.app.screenDensity),this.filter.set_enabled(!0),this.filter.set_autoRender(!1),this.view=new f0;(e=this.view).flags|=16,this.view.set_depth(1e3),this.view.onLayout(this,$bind(this,this._layoutWindows)),G.get_context().view=this.view,ae.app.screen.onFocusedVisualChange(this,$bind(this,this.handleFocusedVisualChange)),this.filter.content.add(this.view);var e=this.view,n=this.filter.get_width(),t=this.filter.get_height();e.set_width(n),e.set_height(t),this.filter.onResize(this,function(e,n){var t=i.view;t.set_width(e),t.set_height(n)})},requestRender:function(){null!=this.filter&&null!=this.filter.get_renderTexture()&&(this.filter.get_renderTexture().renderDirty=!0)},handleFocusedVisualChange:function(e,n){var t,i,l=null;null!=e&&(e instanceof el?l=e:(null!=(t=e.firstParentWithClass(el))||(i=null)!=(i=e instanceof Mi?e:e.firstParentWithClass(Mi))&&null!=i.colorFieldView&&null!=(t=i.colorFieldView.firstParentWithClass(el)))&&(l=t)),G.get_context().focusedWindow=l},earlyUpdate:function(e){var n,t,i;null!=this.view&&(n=this.view,t=this.filter.get_width(),i=this.filter.get_height(),n.set_width(t),n.set_height(i),this.filter.set_density(ee.app.screenDensity)),Y.beginFrame()},lateUpdate:function(e){Y.endFrame(),null!=this.filter&&(0<Y._numUsedWindows?this.makeFilterActive<2&&this.makeFilterActive++:(-2<this.makeFilterActive&&this.makeFilterActive--,-2<this.makeFilterActive&&null!=this.filter.get_renderTexture()&&(this.filter.get_renderTexture().renderDirty=!0)),-1==this.makeFilterActive?(this.filter.set_neverEmpty(!1),this.filter.set_active(!1)):2==this.makeFilterActive&&(this.filter.set_neverEmpty(!0),this.filter.set_active(!0)))},_layoutWindows:function(){var e=G.get_context().view.subviews;if(null!=e)for(var n=0,t=e.length;n<t;){var i,l=e[n++];l instanceof el&&(null==(i=!0)&&(i=!1),l.computedSize=l.persistedComputedSizeForContext(0,0,15),null==l.computedSize&&l.computeSize(0,0,15,!0),i)&&null!=l.computedSize&&(i=l.computedSize.computedHeight,l.set_width(l.computedSize.computedWidth),l.set_height(i))}},__class__:Li}),_e["elements.InputStyle"]={__ename__:"elements.InputStyle",__constructs__:null,DEFAULT:{_hx_name:"DEFAULT",_hx_index:0,__enum__:"elements.InputStyle",toString:c},OVERLAY:{_hx_name:"OVERLAY",_hx_index:1,__enum__:"elements.InputStyle",toString:c},MINIMAL:{_hx_name:"MINIMAL",_hx_index:2,__enum__:"elements.InputStyle",toString:c}}),Hi=(Vi.__constructs__=[Vi.DEFAULT,Vi.OVERLAY,Vi.MINIMAL],function(){this.initializerName=null,this.skewX=10,j.call(this)}),Wi=((E["elements.ItalicText"]=Hi).__name__="elements.ItalicText",Hi.__interfaces__=[a0],Hi.__super__=j,Hi.prototype=$extend(j.prototype,{entity:null,skewX:null,set_skewX:function(e){return this.skewX!=e&&null!=this.entity&&this.applyItalicTransform(),e},bindAsComponent:function(){this.entity.onGlyphQuadsChange(this,$bind(this,this.applyItalicTransform))},applyItalicTransform:function(){if(null!=this.entity.glyphQuads)for(var e=0,n=this.entity.glyphQuads.length;e<n;){var t=e++;this.entity.glyphQuads[t].set_skewX(this.skewX)}},setEntity:function(e){e instanceof gt?this.entity=e:this.entity=null},getEntity:function(){return this.entity},initializerName:null,__class__:Hi,__properties__:$extend(j.prototype.__properties__,{set_skewX:"set_skewX"})}),(E["elements.LabelView"]=Dd).__name__="elements.LabelView",Dd.__interfaces__=[s],Dd.__super__=A1,Dd.prototype=$extend(A1.prototype,{__cbOnObservedDirty:null,__cbOnceObservedDirty:null,__cbOnOwnerUnbindObservedDirty:null,__cbOnceOwnerUnbindObservedDirty:null,emitObservedDirty:function(e,n){var t=0;if(null!=this.__cbOnObservedDirty&&(t+=this.__cbOnObservedDirty.length),null!=this.__cbOnceObservedDirty&&(t+=this.__cbOnceObservedDirty.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnObservedDirty)for(var r=0,h=this.__cbOnObservedDirty.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnObservedDirty[a],++s):--t}if(null!=this.__cbOnceObservedDirty){for(var o=null,c=null,r=0,h=this.__cbOnceObservedDirty.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceObservedDirty[a],this.__cbOnceObservedDirty[a]=null,u=this.__cbOnceOwnerUnbindObservedDirty[a],(this.__cbOnceOwnerUnbindObservedDirty[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindObservedDirty[a]),c.push(this.__cbOnceObservedDirty[a]))}this.__cbOnceOwnerUnbindObservedDirty=o,this.__cbOnceObservedDirty=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onObservedDirty:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event observedDirty because owner is destroyed!");var l=function(e){null!=t&&(i.offObservedDirty(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push(null);null==this.__cbOnObservedDirty&&(this.__cbOnObservedDirty=[]),this.__cbOnObservedDirty.push(t)},onceObservedDirty:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event observedDirty because owner is destroyed!");var l=function(e){null!=t&&(i.offObservedDirty(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push(null);null==this.__cbOnceObservedDirty&&(this.__cbOnceObservedDirty=[]),this.__cbOnceObservedDirty.push(t)},offObservedDirty:function(e){if(null!=e){var n;null!=this.__cbOnObservedDirty&&-1!=(n=this.__cbOnObservedDirty.indexOf(e))&&(this.__cbOnObservedDirty.splice(n,1),null!=(s=this.__cbOnOwnerUnbindObservedDirty[n])&&s(),this.__cbOnOwnerUnbindObservedDirty.splice(n,1)),null!=this.__cbOnceObservedDirty&&-1!=(n=this.__cbOnceObservedDirty.indexOf(e))&&(this.__cbOnceObservedDirty.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindObservedDirty[n])&&s(),this.__cbOnceOwnerUnbindObservedDirty.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindObservedDirty){for(var t=0,i=this.__cbOnOwnerUnbindObservedDirty.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindObservedDirty[l])&&s()}this.__cbOnOwnerUnbindObservedDirty=null}if(null!=this.__cbOnceOwnerUnbindObservedDirty){for(t=0,i=this.__cbOnceOwnerUnbindObservedDirty.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindObservedDirty[l])&&s()}this.__cbOnceOwnerUnbindObservedDirty=null}this.__cbOnObservedDirty=null,this.__cbOnceObservedDirty=null}},listensObservedDirty:function(){return null!=this.__cbOnObservedDirty&&0<this.__cbOnObservedDirty.length||null!=this.__cbOnceObservedDirty&&0<this.__cbOnceObservedDirty.length},observedDirty:null,themeAutoruns:null,get_theme:function(){var e,n,t=this.unobservedTheme;return null!=A.current&&(e=A.current,null!=(n=this.themeAutoruns)||(n=A.getAutorunArray(),null!=(this.themeAutoruns=n)))&&e.bindToAutorunArray(n),t},set_theme:function(e){var n=this.unobservedTheme;return n!=(this.unobservedTheme=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitThemeChange(e,n),null!=(n=this.themeAutoruns))&&(this.themeAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateTheme:function(){var e=this.unobservedTheme,e=(this.emitThemeChange(e,e),this.themeAutoruns);null!=e&&(this.themeAutoruns=null,A.invalidateAutorunArray(e))},unobservedTheme:null,__cbOnThemeChange:null,__cbOnceThemeChange:null,__cbOnOwnerUnbindThemeChange:null,__cbOnceOwnerUnbindThemeChange:null,emitThemeChange:function(e,n){var t=0;if(null!=this.__cbOnThemeChange&&(t+=this.__cbOnThemeChange.length),null!=this.__cbOnceThemeChange&&(t+=this.__cbOnceThemeChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnThemeChange)for(var r=0,h=this.__cbOnThemeChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnThemeChange[a],++s):--t}if(null!=this.__cbOnceThemeChange){for(var o=null,c=null,r=0,h=this.__cbOnceThemeChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceThemeChange[a],this.__cbOnceThemeChange[a]=null,u=this.__cbOnceOwnerUnbindThemeChange[a],(this.__cbOnceOwnerUnbindThemeChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindThemeChange[a]),c.push(this.__cbOnceThemeChange[a]))}this.__cbOnceOwnerUnbindThemeChange=o,this.__cbOnceThemeChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onThemeChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event themeChange because owner is destroyed!");var l=function(e){null!=t&&(i.offThemeChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindThemeChange&&(this.__cbOnOwnerUnbindThemeChange=[]),this.__cbOnOwnerUnbindThemeChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindThemeChange&&(this.__cbOnOwnerUnbindThemeChange=[]),this.__cbOnOwnerUnbindThemeChange.push(null);null==this.__cbOnThemeChange&&(this.__cbOnThemeChange=[]),this.__cbOnThemeChange.push(t)},onceThemeChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event themeChange because owner is destroyed!");var l=function(e){null!=t&&(i.offThemeChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindThemeChange&&(this.__cbOnceOwnerUnbindThemeChange=[]),this.__cbOnceOwnerUnbindThemeChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindThemeChange&&(this.__cbOnceOwnerUnbindThemeChange=[]),this.__cbOnceOwnerUnbindThemeChange.push(null);null==this.__cbOnceThemeChange&&(this.__cbOnceThemeChange=[]),this.__cbOnceThemeChange.push(t)},offThemeChange:function(e){if(null!=e){var n;null!=this.__cbOnThemeChange&&-1!=(n=this.__cbOnThemeChange.indexOf(e))&&(this.__cbOnThemeChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindThemeChange[n])&&s(),this.__cbOnOwnerUnbindThemeChange.splice(n,1)),null!=this.__cbOnceThemeChange&&-1!=(n=this.__cbOnceThemeChange.indexOf(e))&&(this.__cbOnceThemeChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindThemeChange[n])&&s(),this.__cbOnceOwnerUnbindThemeChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindThemeChange){for(var t=0,i=this.__cbOnOwnerUnbindThemeChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindThemeChange[l])&&s()}this.__cbOnOwnerUnbindThemeChange=null}if(null!=this.__cbOnceOwnerUnbindThemeChange){for(t=0,i=this.__cbOnceOwnerUnbindThemeChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindThemeChange[l])&&s()}this.__cbOnceOwnerUnbindThemeChange=null}this.__cbOnThemeChange=null,this.__cbOnceThemeChange=null}},listensThemeChange:function(){return null!=this.__cbOnThemeChange&&0<this.__cbOnThemeChange.length||null!=this.__cbOnceThemeChange&&0<this.__cbOnceThemeChange.length},boldAutoruns:null,get_bold:function(){var e,n,t=this.unobservedBold;return null!=A.current&&(e=A.current,null!=(n=this.boldAutoruns)||(n=A.getAutorunArray(),null!=(this.boldAutoruns=n)))&&e.bindToAutorunArray(n),t},set_bold:function(e){var n=this.unobservedBold;return n!=(this.unobservedBold=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitBoldChange(e,n),null!=(n=this.boldAutoruns))&&(this.boldAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateBold:function(){var e=this.unobservedBold,e=(this.emitBoldChange(e,e),this.boldAutoruns);null!=e&&(this.boldAutoruns=null,A.invalidateAutorunArray(e))},unobservedBold:null,__cbOnBoldChange:null,__cbOnceBoldChange:null,__cbOnOwnerUnbindBoldChange:null,__cbOnceOwnerUnbindBoldChange:null,emitBoldChange:function(e,n){var t=0;if(null!=this.__cbOnBoldChange&&(t+=this.__cbOnBoldChange.length),null!=this.__cbOnceBoldChange&&(t+=this.__cbOnceBoldChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnBoldChange)for(var r=0,h=this.__cbOnBoldChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnBoldChange[a],++s):--t}if(null!=this.__cbOnceBoldChange){for(var o=null,c=null,r=0,h=this.__cbOnceBoldChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceBoldChange[a],this.__cbOnceBoldChange[a]=null,u=this.__cbOnceOwnerUnbindBoldChange[a],(this.__cbOnceOwnerUnbindBoldChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindBoldChange[a]),c.push(this.__cbOnceBoldChange[a]))}this.__cbOnceOwnerUnbindBoldChange=o,this.__cbOnceBoldChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onBoldChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event boldChange because owner is destroyed!");var l=function(e){null!=t&&(i.offBoldChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindBoldChange&&(this.__cbOnOwnerUnbindBoldChange=[]),this.__cbOnOwnerUnbindBoldChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindBoldChange&&(this.__cbOnOwnerUnbindBoldChange=[]),this.__cbOnOwnerUnbindBoldChange.push(null);null==this.__cbOnBoldChange&&(this.__cbOnBoldChange=[]),this.__cbOnBoldChange.push(t)},onceBoldChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event boldChange because owner is destroyed!");var l=function(e){null!=t&&(i.offBoldChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindBoldChange&&(this.__cbOnceOwnerUnbindBoldChange=[]),this.__cbOnceOwnerUnbindBoldChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindBoldChange&&(this.__cbOnceOwnerUnbindBoldChange=[]),this.__cbOnceOwnerUnbindBoldChange.push(null);null==this.__cbOnceBoldChange&&(this.__cbOnceBoldChange=[]),this.__cbOnceBoldChange.push(t)},offBoldChange:function(e){if(null!=e){var n;null!=this.__cbOnBoldChange&&-1!=(n=this.__cbOnBoldChange.indexOf(e))&&(this.__cbOnBoldChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindBoldChange[n])&&s(),this.__cbOnOwnerUnbindBoldChange.splice(n,1)),null!=this.__cbOnceBoldChange&&-1!=(n=this.__cbOnceBoldChange.indexOf(e))&&(this.__cbOnceBoldChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindBoldChange[n])&&s(),this.__cbOnceOwnerUnbindBoldChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindBoldChange){for(var t=0,i=this.__cbOnOwnerUnbindBoldChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindBoldChange[l])&&s()}this.__cbOnOwnerUnbindBoldChange=null}if(null!=this.__cbOnceOwnerUnbindBoldChange){for(t=0,i=this.__cbOnceOwnerUnbindBoldChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindBoldChange[l])&&s()}this.__cbOnceOwnerUnbindBoldChange=null}this.__cbOnBoldChange=null,this.__cbOnceBoldChange=null}},listensBoldChange:function(){return null!=this.__cbOnBoldChange&&0<this.__cbOnBoldChange.length||null!=this.__cbOnceBoldChange&&0<this.__cbOnceBoldChange.length},disabledAutoruns:null,get_disabled:function(){var e,n,t=this.unobservedDisabled;return null!=A.current&&(e=A.current,null!=(n=this.disabledAutoruns)||(n=A.getAutorunArray(),null!=(this.disabledAutoruns=n)))&&e.bindToAutorunArray(n),t},set_disabled:function(e){var n=this.unobservedDisabled;return n!=(this.unobservedDisabled=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitDisabledChange(e,n),null!=(n=this.disabledAutoruns))&&(this.disabledAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateDisabled:function(){var e=this.unobservedDisabled,e=(this.emitDisabledChange(e,e),this.disabledAutoruns);null!=e&&(this.disabledAutoruns=null,A.invalidateAutorunArray(e))},unobservedDisabled:null,__cbOnDisabledChange:null,__cbOnceDisabledChange:null,__cbOnOwnerUnbindDisabledChange:null,__cbOnceOwnerUnbindDisabledChange:null,emitDisabledChange:function(e,n){var t=0;if(null!=this.__cbOnDisabledChange&&(t+=this.__cbOnDisabledChange.length),null!=this.__cbOnceDisabledChange&&(t+=this.__cbOnceDisabledChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnDisabledChange)for(var r=0,h=this.__cbOnDisabledChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnDisabledChange[a],++s):--t}if(null!=this.__cbOnceDisabledChange){for(var o=null,c=null,r=0,h=this.__cbOnceDisabledChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceDisabledChange[a],this.__cbOnceDisabledChange[a]=null,u=this.__cbOnceOwnerUnbindDisabledChange[a],(this.__cbOnceOwnerUnbindDisabledChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindDisabledChange[a]),c.push(this.__cbOnceDisabledChange[a]))}this.__cbOnceOwnerUnbindDisabledChange=o,this.__cbOnceDisabledChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onDisabledChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event disabledChange because owner is destroyed!");var l=function(e){null!=t&&(i.offDisabledChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindDisabledChange&&(this.__cbOnOwnerUnbindDisabledChange=[]),this.__cbOnOwnerUnbindDisabledChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindDisabledChange&&(this.__cbOnOwnerUnbindDisabledChange=[]),this.__cbOnOwnerUnbindDisabledChange.push(null);null==this.__cbOnDisabledChange&&(this.__cbOnDisabledChange=[]),this.__cbOnDisabledChange.push(t)},onceDisabledChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event disabledChange because owner is destroyed!");var l=function(e){null!=t&&(i.offDisabledChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindDisabledChange&&(this.__cbOnceOwnerUnbindDisabledChange=[]),this.__cbOnceOwnerUnbindDisabledChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindDisabledChange&&(this.__cbOnceOwnerUnbindDisabledChange=[]),this.__cbOnceOwnerUnbindDisabledChange.push(null);null==this.__cbOnceDisabledChange&&(this.__cbOnceDisabledChange=[]),this.__cbOnceDisabledChange.push(t)},offDisabledChange:function(e){if(null!=e){var n;null!=this.__cbOnDisabledChange&&-1!=(n=this.__cbOnDisabledChange.indexOf(e))&&(this.__cbOnDisabledChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindDisabledChange[n])&&s(),this.__cbOnOwnerUnbindDisabledChange.splice(n,1)),null!=this.__cbOnceDisabledChange&&-1!=(n=this.__cbOnceDisabledChange.indexOf(e))&&(this.__cbOnceDisabledChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindDisabledChange[n])&&s(),this.__cbOnceOwnerUnbindDisabledChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindDisabledChange){for(var t=0,i=this.__cbOnOwnerUnbindDisabledChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindDisabledChange[l])&&s()}this.__cbOnOwnerUnbindDisabledChange=null}if(null!=this.__cbOnceOwnerUnbindDisabledChange){for(t=0,i=this.__cbOnceOwnerUnbindDisabledChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindDisabledChange[l])&&s()}this.__cbOnceOwnerUnbindDisabledChange=null}this.__cbOnDisabledChange=null,this.__cbOnceDisabledChange=null}},listensDisabledChange:function(){return null!=this.__cbOnDisabledChange&&0<this.__cbOnDisabledChange.length||null!=this.__cbOnceDisabledChange&&0<this.__cbOnceDisabledChange.length},updateStyle:function(){var e=this.get_theme();null==e&&(e=G.get_context().get_theme()),this.get_disabled()?this.set_textColor(e.get_darkTextColor()):this.set_textColor(e.get_lightTextColor()),this.set_font(this.get_bold()?e.get_boldFont():e.get_mediumFont())},unbindEvents:function(){A1.prototype.unbindEvents.call(this),this.offObservedDirty(),this.offThemeChange(),this.offBoldChange(),this.offDisabledChange()},__class__:Dd,__properties__:$extend(A1.prototype.__properties__,{set_disabled:"set_disabled",get_disabled:"get_disabled",set_bold:"set_bold",get_bold:"get_bold",set_theme:"set_theme",get_theme:"get_theme"})}),(E["elements.LabeledView"]=Ed).__name__="elements.LabeledView",Ed.__interfaces__=[s],Ed.__super__=Yb,Ed.prototype=$extend(Yb.prototype,{__cbOnObservedDirty:null,__cbOnceObservedDirty:null,__cbOnOwnerUnbindObservedDirty:null,__cbOnceOwnerUnbindObservedDirty:null,emitObservedDirty:function(e,n){var t=0;if(null!=this.__cbOnObservedDirty&&(t+=this.__cbOnObservedDirty.length),null!=this.__cbOnceObservedDirty&&(t+=this.__cbOnceObservedDirty.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnObservedDirty)for(var r=0,h=this.__cbOnObservedDirty.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnObservedDirty[a],++s):--t}if(null!=this.__cbOnceObservedDirty){for(var o=null,c=null,r=0,h=this.__cbOnceObservedDirty.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceObservedDirty[a],this.__cbOnceObservedDirty[a]=null,u=this.__cbOnceOwnerUnbindObservedDirty[a],(this.__cbOnceOwnerUnbindObservedDirty[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindObservedDirty[a]),c.push(this.__cbOnceObservedDirty[a]))}this.__cbOnceOwnerUnbindObservedDirty=o,this.__cbOnceObservedDirty=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onObservedDirty:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event observedDirty because owner is destroyed!");var l=function(e){null!=t&&(i.offObservedDirty(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push(null);null==this.__cbOnObservedDirty&&(this.__cbOnObservedDirty=[]),this.__cbOnObservedDirty.push(t)},onceObservedDirty:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event observedDirty because owner is destroyed!");var l=function(e){null!=t&&(i.offObservedDirty(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push(null);null==this.__cbOnceObservedDirty&&(this.__cbOnceObservedDirty=[]),this.__cbOnceObservedDirty.push(t)},offObservedDirty:function(e){if(null!=e){var n;null!=this.__cbOnObservedDirty&&-1!=(n=this.__cbOnObservedDirty.indexOf(e))&&(this.__cbOnObservedDirty.splice(n,1),null!=(s=this.__cbOnOwnerUnbindObservedDirty[n])&&s(),this.__cbOnOwnerUnbindObservedDirty.splice(n,1)),null!=this.__cbOnceObservedDirty&&-1!=(n=this.__cbOnceObservedDirty.indexOf(e))&&(this.__cbOnceObservedDirty.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindObservedDirty[n])&&s(),this.__cbOnceOwnerUnbindObservedDirty.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindObservedDirty){for(var t=0,i=this.__cbOnOwnerUnbindObservedDirty.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindObservedDirty[l])&&s()}this.__cbOnOwnerUnbindObservedDirty=null}if(null!=this.__cbOnceOwnerUnbindObservedDirty){for(t=0,i=this.__cbOnceOwnerUnbindObservedDirty.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindObservedDirty[l])&&s()}this.__cbOnceOwnerUnbindObservedDirty=null}this.__cbOnObservedDirty=null,this.__cbOnceObservedDirty=null}},listensObservedDirty:function(){return null!=this.__cbOnObservedDirty&&0<this.__cbOnObservedDirty.length||null!=this.__cbOnceObservedDirty&&0<this.__cbOnceObservedDirty.length},observedDirty:null,themeAutoruns:null,get_theme:function(){var e,n,t=this.unobservedTheme;return null!=A.current&&(e=A.current,null!=(n=this.themeAutoruns)||(n=A.getAutorunArray(),null!=(this.themeAutoruns=n)))&&e.bindToAutorunArray(n),t},set_theme:function(e){var n=this.unobservedTheme;return n!=(this.unobservedTheme=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitThemeChange(e,n),null!=(n=this.themeAutoruns))&&(this.themeAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateTheme:function(){var e=this.unobservedTheme,e=(this.emitThemeChange(e,e),this.themeAutoruns);null!=e&&(this.themeAutoruns=null,A.invalidateAutorunArray(e))},unobservedTheme:null,__cbOnThemeChange:null,__cbOnceThemeChange:null,__cbOnOwnerUnbindThemeChange:null,__cbOnceOwnerUnbindThemeChange:null,emitThemeChange:function(e,n){var t=0;if(null!=this.__cbOnThemeChange&&(t+=this.__cbOnThemeChange.length),null!=this.__cbOnceThemeChange&&(t+=this.__cbOnceThemeChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnThemeChange)for(var r=0,h=this.__cbOnThemeChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnThemeChange[a],++s):--t}if(null!=this.__cbOnceThemeChange){for(var o=null,c=null,r=0,h=this.__cbOnceThemeChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceThemeChange[a],this.__cbOnceThemeChange[a]=null,u=this.__cbOnceOwnerUnbindThemeChange[a],(this.__cbOnceOwnerUnbindThemeChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindThemeChange[a]),c.push(this.__cbOnceThemeChange[a]))}this.__cbOnceOwnerUnbindThemeChange=o,this.__cbOnceThemeChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onThemeChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event themeChange because owner is destroyed!");var l=function(e){null!=t&&(i.offThemeChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindThemeChange&&(this.__cbOnOwnerUnbindThemeChange=[]),this.__cbOnOwnerUnbindThemeChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindThemeChange&&(this.__cbOnOwnerUnbindThemeChange=[]),this.__cbOnOwnerUnbindThemeChange.push(null);null==this.__cbOnThemeChange&&(this.__cbOnThemeChange=[]),this.__cbOnThemeChange.push(t)},onceThemeChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event themeChange because owner is destroyed!");var l=function(e){null!=t&&(i.offThemeChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindThemeChange&&(this.__cbOnceOwnerUnbindThemeChange=[]),this.__cbOnceOwnerUnbindThemeChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindThemeChange&&(this.__cbOnceOwnerUnbindThemeChange=[]),this.__cbOnceOwnerUnbindThemeChange.push(null);null==this.__cbOnceThemeChange&&(this.__cbOnceThemeChange=[]),this.__cbOnceThemeChange.push(t)},offThemeChange:function(e){if(null!=e){var n;null!=this.__cbOnThemeChange&&-1!=(n=this.__cbOnThemeChange.indexOf(e))&&(this.__cbOnThemeChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindThemeChange[n])&&s(),this.__cbOnOwnerUnbindThemeChange.splice(n,1)),null!=this.__cbOnceThemeChange&&-1!=(n=this.__cbOnceThemeChange.indexOf(e))&&(this.__cbOnceThemeChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindThemeChange[n])&&s(),this.__cbOnceOwnerUnbindThemeChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindThemeChange){for(var t=0,i=this.__cbOnOwnerUnbindThemeChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindThemeChange[l])&&s()}this.__cbOnOwnerUnbindThemeChange=null}if(null!=this.__cbOnceOwnerUnbindThemeChange){for(t=0,i=this.__cbOnceOwnerUnbindThemeChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindThemeChange[l])&&s()}this.__cbOnceOwnerUnbindThemeChange=null}this.__cbOnThemeChange=null,this.__cbOnceThemeChange=null}},listensThemeChange:function(){return null!=this.__cbOnThemeChange&&0<this.__cbOnThemeChange.length||null!=this.__cbOnceThemeChange&&0<this.__cbOnceThemeChange.length},labelAutoruns:null,get_label:function(){var e,n,t=this.unobservedLabel;return null!=A.current&&(e=A.current,null!=(n=this.labelAutoruns)||(n=A.getAutorunArray(),null!=(this.labelAutoruns=n)))&&e.bindToAutorunArray(n),t},set_label:function(e){var n=this.unobservedLabel;return n!=(this.unobservedLabel=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitLabelChange(e,n),null!=(n=this.labelAutoruns))&&(this.labelAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateLabel:function(){var e=this.unobservedLabel,e=(this.emitLabelChange(e,e),this.labelAutoruns);null!=e&&(this.labelAutoruns=null,A.invalidateAutorunArray(e))},unobservedLabel:null,__cbOnLabelChange:null,__cbOnceLabelChange:null,__cbOnOwnerUnbindLabelChange:null,__cbOnceOwnerUnbindLabelChange:null,emitLabelChange:function(e,n){var t=0;if(null!=this.__cbOnLabelChange&&(t+=this.__cbOnLabelChange.length),null!=this.__cbOnceLabelChange&&(t+=this.__cbOnceLabelChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnLabelChange)for(var r=0,h=this.__cbOnLabelChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnLabelChange[a],++s):--t}if(null!=this.__cbOnceLabelChange){for(var o=null,c=null,r=0,h=this.__cbOnceLabelChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceLabelChange[a],this.__cbOnceLabelChange[a]=null,u=this.__cbOnceOwnerUnbindLabelChange[a],(this.__cbOnceOwnerUnbindLabelChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindLabelChange[a]),c.push(this.__cbOnceLabelChange[a]))}this.__cbOnceOwnerUnbindLabelChange=o,this.__cbOnceLabelChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onLabelChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event labelChange because owner is destroyed!");var l=function(e){null!=t&&(i.offLabelChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindLabelChange&&(this.__cbOnOwnerUnbindLabelChange=[]),this.__cbOnOwnerUnbindLabelChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindLabelChange&&(this.__cbOnOwnerUnbindLabelChange=[]),this.__cbOnOwnerUnbindLabelChange.push(null);null==this.__cbOnLabelChange&&(this.__cbOnLabelChange=[]),this.__cbOnLabelChange.push(t)},onceLabelChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event labelChange because owner is destroyed!");var l=function(e){null!=t&&(i.offLabelChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindLabelChange&&(this.__cbOnceOwnerUnbindLabelChange=[]),this.__cbOnceOwnerUnbindLabelChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindLabelChange&&(this.__cbOnceOwnerUnbindLabelChange=[]),this.__cbOnceOwnerUnbindLabelChange.push(null);null==this.__cbOnceLabelChange&&(this.__cbOnceLabelChange=[]),this.__cbOnceLabelChange.push(t)},offLabelChange:function(e){if(null!=e){var n;null!=this.__cbOnLabelChange&&-1!=(n=this.__cbOnLabelChange.indexOf(e))&&(this.__cbOnLabelChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindLabelChange[n])&&s(),this.__cbOnOwnerUnbindLabelChange.splice(n,1)),null!=this.__cbOnceLabelChange&&-1!=(n=this.__cbOnceLabelChange.indexOf(e))&&(this.__cbOnceLabelChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindLabelChange[n])&&s(),this.__cbOnceOwnerUnbindLabelChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindLabelChange){for(var t=0,i=this.__cbOnOwnerUnbindLabelChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindLabelChange[l])&&s()}this.__cbOnOwnerUnbindLabelChange=null}if(null!=this.__cbOnceOwnerUnbindLabelChange){for(t=0,i=this.__cbOnceOwnerUnbindLabelChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindLabelChange[l])&&s()}this.__cbOnceOwnerUnbindLabelChange=null}this.__cbOnLabelChange=null,this.__cbOnceLabelChange=null}},listensLabelChange:function(){return null!=this.__cbOnLabelChange&&0<this.__cbOnLabelChange.length||null!=this.__cbOnceLabelChange&&0<this.__cbOnceLabelChange.length},disabledAutoruns:null,get_disabled:function(){var e,n,t=this.unobservedDisabled;return null!=A.current&&(e=A.current,null!=(n=this.disabledAutoruns)||(n=A.getAutorunArray(),null!=(this.disabledAutoruns=n)))&&e.bindToAutorunArray(n),t},set_disabled:function(e){var n=this.unobservedDisabled;return n!=(this.unobservedDisabled=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitDisabledChange(e,n),null!=(n=this.disabledAutoruns))&&(this.disabledAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateDisabled:function(){var e=this.unobservedDisabled,e=(this.emitDisabledChange(e,e),this.disabledAutoruns);null!=e&&(this.disabledAutoruns=null,A.invalidateAutorunArray(e))},unobservedDisabled:null,__cbOnDisabledChange:null,__cbOnceDisabledChange:null,__cbOnOwnerUnbindDisabledChange:null,__cbOnceOwnerUnbindDisabledChange:null,emitDisabledChange:function(e,n){var t=0;if(null!=this.__cbOnDisabledChange&&(t+=this.__cbOnDisabledChange.length),null!=this.__cbOnceDisabledChange&&(t+=this.__cbOnceDisabledChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnDisabledChange)for(var r=0,h=this.__cbOnDisabledChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnDisabledChange[a],++s):--t}if(null!=this.__cbOnceDisabledChange){for(var o=null,c=null,r=0,h=this.__cbOnceDisabledChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceDisabledChange[a],this.__cbOnceDisabledChange[a]=null,u=this.__cbOnceOwnerUnbindDisabledChange[a],(this.__cbOnceOwnerUnbindDisabledChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindDisabledChange[a]),c.push(this.__cbOnceDisabledChange[a]))}this.__cbOnceOwnerUnbindDisabledChange=o,this.__cbOnceDisabledChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onDisabledChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event disabledChange because owner is destroyed!");var l=function(e){null!=t&&(i.offDisabledChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindDisabledChange&&(this.__cbOnOwnerUnbindDisabledChange=[]),this.__cbOnOwnerUnbindDisabledChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindDisabledChange&&(this.__cbOnOwnerUnbindDisabledChange=[]),this.__cbOnOwnerUnbindDisabledChange.push(null);null==this.__cbOnDisabledChange&&(this.__cbOnDisabledChange=[]),this.__cbOnDisabledChange.push(t)},onceDisabledChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event disabledChange because owner is destroyed!");var l=function(e){null!=t&&(i.offDisabledChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindDisabledChange&&(this.__cbOnceOwnerUnbindDisabledChange=[]),this.__cbOnceOwnerUnbindDisabledChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindDisabledChange&&(this.__cbOnceOwnerUnbindDisabledChange=[]),this.__cbOnceOwnerUnbindDisabledChange.push(null);null==this.__cbOnceDisabledChange&&(this.__cbOnceDisabledChange=[]),this.__cbOnceDisabledChange.push(t)},offDisabledChange:function(e){if(null!=e){var n;null!=this.__cbOnDisabledChange&&-1!=(n=this.__cbOnDisabledChange.indexOf(e))&&(this.__cbOnDisabledChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindDisabledChange[n])&&s(),this.__cbOnOwnerUnbindDisabledChange.splice(n,1)),null!=this.__cbOnceDisabledChange&&-1!=(n=this.__cbOnceDisabledChange.indexOf(e))&&(this.__cbOnceDisabledChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindDisabledChange[n])&&s(),this.__cbOnceOwnerUnbindDisabledChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindDisabledChange){for(var t=0,i=this.__cbOnOwnerUnbindDisabledChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindDisabledChange[l])&&s()}this.__cbOnOwnerUnbindDisabledChange=null}if(null!=this.__cbOnceOwnerUnbindDisabledChange){for(t=0,i=this.__cbOnceOwnerUnbindDisabledChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindDisabledChange[l])&&s()}this.__cbOnceOwnerUnbindDisabledChange=null}this.__cbOnDisabledChange=null,this.__cbOnceDisabledChange=null}},listensDisabledChange:function(){return null!=this.__cbOnDisabledChange&&0<this.__cbOnDisabledChange.length||null!=this.__cbOnceDisabledChange&&0<this.__cbOnceDisabledChange.length},containerView:null,useContainer:null,view:null,set_view:function(e){return this.view!=e&&(null!=this.view&&this.view.destroy(),null!=(this.view=e)&&((this.useContainer?this.containerView:this).add(e),this.invalidateDisabled()),this.remove(this.labelText),this.add(this.labelText)),e},labelPosition:null,set_labelPosition:function(e){if(this.labelPosition!=e)switch(this.labelPosition=e){case 0:this.remove(this.labelText),this.remove(this.useContainer?this.containerView:this.view),this.add(this.labelText),this.add(this.useContainer?this.containerView:this.view),null!=this.containerView&&this.containerView.set_align(Vn.LEFT),this.labelText.set_align(Ot.RIGHT);break;case 1:this.remove(this.labelText),this.add(this.labelText),null!=this.containerView&&this.containerView.set_align(Vn.RIGHT),this.labelText.set_align(Ot.LEFT)}return e},labelWidth:null,set_labelWidth:function(e){return this.labelWidth!=e&&(this.labelWidth=e,this.labelText.set_viewWidth(e)),e},get_labelViewWidth:function(){return this.labelText.viewWidth},set_labelViewWidth:function(e){return this.labelText.set_viewWidth(e)},labelText:null,handleLabelClick:function(){this.get_disabled()||this.view instanceof X2&&this.view.focus()},updateLabel:function(){this.labelText.set_content(this.get_label())},updateDisabled:function(){var e,n=this.view;A.unobserve(),null!=n?(e=!1,A.reobserve(),L.getProperty(n,"disabled")&&(e=!0),A.unobserve(),this.set_disabled(e)):this.set_disabled(!1),A.reobserve()},updateStyle:function(){var e=this.get_theme();null==e&&(e=G.get_context().get_theme()),this.get_disabled()?this.labelText.set_textColor(e.get_darkTextColor()):this.labelText.set_textColor(e.get_lightTextColor()),this.labelText.set_font(e.get_mediumFont())},unbindEvents:function(){Yb.prototype.unbindEvents.call(this),this.offObservedDirty(),this.offThemeChange(),this.offLabelChange(),this.offDisabledChange()},__class__:Ed,__properties__:$extend(Yb.prototype.__properties__,{set_labelViewWidth:"set_labelViewWidth",get_labelViewWidth:"get_labelViewWidth",set_labelWidth:"set_labelWidth",set_labelPosition:"set_labelPosition",set_view:"set_view",set_disabled:"set_disabled",get_disabled:"get_disabled",set_label:"set_label",get_label:"get_label",set_theme:"set_theme",get_theme:"get_theme"})}),(E["elements.ListView"]=Gd).__name__="elements.ListView",Gd.__interfaces__=[s],Gd.__super__=f0,Gd.prototype=$extend(f0.prototype,{__cbOnObservedDirty:null,__cbOnceObservedDirty:null,__cbOnOwnerUnbindObservedDirty:null,__cbOnceOwnerUnbindObservedDirty:null,emitObservedDirty:function(e,n){var t=0;if(null!=this.__cbOnObservedDirty&&(t+=this.__cbOnObservedDirty.length),null!=this.__cbOnceObservedDirty&&(t+=this.__cbOnceObservedDirty.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnObservedDirty)for(var r=0,h=this.__cbOnObservedDirty.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnObservedDirty[a],++s):--t}if(null!=this.__cbOnceObservedDirty){for(var o=null,c=null,r=0,h=this.__cbOnceObservedDirty.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceObservedDirty[a],this.__cbOnceObservedDirty[a]=null,u=this.__cbOnceOwnerUnbindObservedDirty[a],(this.__cbOnceOwnerUnbindObservedDirty[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindObservedDirty[a]),c.push(this.__cbOnceObservedDirty[a]))}this.__cbOnceOwnerUnbindObservedDirty=o,this.__cbOnceObservedDirty=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onObservedDirty:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event observedDirty because owner is destroyed!");var l=function(e){null!=t&&(i.offObservedDirty(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push(null);null==this.__cbOnObservedDirty&&(this.__cbOnObservedDirty=[]),this.__cbOnObservedDirty.push(t)},onceObservedDirty:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event observedDirty because owner is destroyed!");var l=function(e){null!=t&&(i.offObservedDirty(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push(null);null==this.__cbOnceObservedDirty&&(this.__cbOnceObservedDirty=[]),this.__cbOnceObservedDirty.push(t)},offObservedDirty:function(e){if(null!=e){var n;null!=this.__cbOnObservedDirty&&-1!=(n=this.__cbOnObservedDirty.indexOf(e))&&(this.__cbOnObservedDirty.splice(n,1),null!=(s=this.__cbOnOwnerUnbindObservedDirty[n])&&s(),this.__cbOnOwnerUnbindObservedDirty.splice(n,1)),null!=this.__cbOnceObservedDirty&&-1!=(n=this.__cbOnceObservedDirty.indexOf(e))&&(this.__cbOnceObservedDirty.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindObservedDirty[n])&&s(),this.__cbOnceOwnerUnbindObservedDirty.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindObservedDirty){for(var t=0,i=this.__cbOnOwnerUnbindObservedDirty.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindObservedDirty[l])&&s()}this.__cbOnOwnerUnbindObservedDirty=null}if(null!=this.__cbOnceOwnerUnbindObservedDirty){for(t=0,i=this.__cbOnceOwnerUnbindObservedDirty.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindObservedDirty[l])&&s()}this.__cbOnceOwnerUnbindObservedDirty=null}this.__cbOnObservedDirty=null,this.__cbOnceObservedDirty=null}},listensObservedDirty:function(){return null!=this.__cbOnObservedDirty&&0<this.__cbOnObservedDirty.length||null!=this.__cbOnceObservedDirty&&0<this.__cbOnceObservedDirty.length},observedDirty:null,__cbOnMoveItemAboveItem:null,__cbOnceMoveItemAboveItem:null,__cbOnOwnerUnbindMoveItemAboveItem:null,__cbOnceOwnerUnbindMoveItemAboveItem:null,emitMoveItemAboveItem:function(e,n){var t=0;if(null!=this.__cbOnMoveItemAboveItem&&(t+=this.__cbOnMoveItemAboveItem.length),null!=this.__cbOnceMoveItemAboveItem&&(t+=this.__cbOnceMoveItemAboveItem.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnMoveItemAboveItem)for(var r=0,h=this.__cbOnMoveItemAboveItem.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnMoveItemAboveItem[a],++s):--t}if(null!=this.__cbOnceMoveItemAboveItem){for(var o=null,c=null,r=0,h=this.__cbOnceMoveItemAboveItem.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceMoveItemAboveItem[a],this.__cbOnceMoveItemAboveItem[a]=null,u=this.__cbOnceOwnerUnbindMoveItemAboveItem[a],(this.__cbOnceOwnerUnbindMoveItemAboveItem[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindMoveItemAboveItem[a]),c.push(this.__cbOnceMoveItemAboveItem[a]))}this.__cbOnceOwnerUnbindMoveItemAboveItem=o,this.__cbOnceMoveItemAboveItem=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onMoveItemAboveItem:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event moveItemAboveItem because owner is destroyed!");var l=function(e){null!=t&&(i.offMoveItemAboveItem(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindMoveItemAboveItem&&(this.__cbOnOwnerUnbindMoveItemAboveItem=[]),this.__cbOnOwnerUnbindMoveItemAboveItem.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindMoveItemAboveItem&&(this.__cbOnOwnerUnbindMoveItemAboveItem=[]),this.__cbOnOwnerUnbindMoveItemAboveItem.push(null);null==this.__cbOnMoveItemAboveItem&&(this.__cbOnMoveItemAboveItem=[]),this.__cbOnMoveItemAboveItem.push(t)},onceMoveItemAboveItem:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event moveItemAboveItem because owner is destroyed!");var l=function(e){null!=t&&(i.offMoveItemAboveItem(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindMoveItemAboveItem&&(this.__cbOnceOwnerUnbindMoveItemAboveItem=[]),this.__cbOnceOwnerUnbindMoveItemAboveItem.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindMoveItemAboveItem&&(this.__cbOnceOwnerUnbindMoveItemAboveItem=[]),this.__cbOnceOwnerUnbindMoveItemAboveItem.push(null);null==this.__cbOnceMoveItemAboveItem&&(this.__cbOnceMoveItemAboveItem=[]),this.__cbOnceMoveItemAboveItem.push(t)},offMoveItemAboveItem:function(e){if(null!=e){var n;null!=this.__cbOnMoveItemAboveItem&&-1!=(n=this.__cbOnMoveItemAboveItem.indexOf(e))&&(this.__cbOnMoveItemAboveItem.splice(n,1),null!=(s=this.__cbOnOwnerUnbindMoveItemAboveItem[n])&&s(),this.__cbOnOwnerUnbindMoveItemAboveItem.splice(n,1)),null!=this.__cbOnceMoveItemAboveItem&&-1!=(n=this.__cbOnceMoveItemAboveItem.indexOf(e))&&(this.__cbOnceMoveItemAboveItem.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindMoveItemAboveItem[n])&&s(),this.__cbOnceOwnerUnbindMoveItemAboveItem.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindMoveItemAboveItem){for(var t=0,i=this.__cbOnOwnerUnbindMoveItemAboveItem.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindMoveItemAboveItem[l])&&s()}this.__cbOnOwnerUnbindMoveItemAboveItem=null}if(null!=this.__cbOnceOwnerUnbindMoveItemAboveItem){for(t=0,i=this.__cbOnceOwnerUnbindMoveItemAboveItem.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindMoveItemAboveItem[l])&&s()}this.__cbOnceOwnerUnbindMoveItemAboveItem=null}this.__cbOnMoveItemAboveItem=null,this.__cbOnceMoveItemAboveItem=null}},listensMoveItemAboveItem:function(){return null!=this.__cbOnMoveItemAboveItem&&0<this.__cbOnMoveItemAboveItem.length||null!=this.__cbOnceMoveItemAboveItem&&0<this.__cbOnceMoveItemAboveItem.length},__cbOnMoveItemBelowItem:null,__cbOnceMoveItemBelowItem:null,__cbOnOwnerUnbindMoveItemBelowItem:null,__cbOnceOwnerUnbindMoveItemBelowItem:null,emitMoveItemBelowItem:function(e,n){var t=0;if(null!=this.__cbOnMoveItemBelowItem&&(t+=this.__cbOnMoveItemBelowItem.length),null!=this.__cbOnceMoveItemBelowItem&&(t+=this.__cbOnceMoveItemBelowItem.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnMoveItemBelowItem)for(var r=0,h=this.__cbOnMoveItemBelowItem.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnMoveItemBelowItem[a],++s):--t}if(null!=this.__cbOnceMoveItemBelowItem){for(var o=null,c=null,r=0,h=this.__cbOnceMoveItemBelowItem.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceMoveItemBelowItem[a],this.__cbOnceMoveItemBelowItem[a]=null,u=this.__cbOnceOwnerUnbindMoveItemBelowItem[a],(this.__cbOnceOwnerUnbindMoveItemBelowItem[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindMoveItemBelowItem[a]),c.push(this.__cbOnceMoveItemBelowItem[a]))}this.__cbOnceOwnerUnbindMoveItemBelowItem=o,this.__cbOnceMoveItemBelowItem=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onMoveItemBelowItem:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event moveItemBelowItem because owner is destroyed!");var l=function(e){null!=t&&(i.offMoveItemBelowItem(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindMoveItemBelowItem&&(this.__cbOnOwnerUnbindMoveItemBelowItem=[]),this.__cbOnOwnerUnbindMoveItemBelowItem.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindMoveItemBelowItem&&(this.__cbOnOwnerUnbindMoveItemBelowItem=[]),this.__cbOnOwnerUnbindMoveItemBelowItem.push(null);null==this.__cbOnMoveItemBelowItem&&(this.__cbOnMoveItemBelowItem=[]),this.__cbOnMoveItemBelowItem.push(t)},onceMoveItemBelowItem:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event moveItemBelowItem because owner is destroyed!");var l=function(e){null!=t&&(i.offMoveItemBelowItem(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindMoveItemBelowItem&&(this.__cbOnceOwnerUnbindMoveItemBelowItem=[]),this.__cbOnceOwnerUnbindMoveItemBelowItem.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindMoveItemBelowItem&&(this.__cbOnceOwnerUnbindMoveItemBelowItem=[]),this.__cbOnceOwnerUnbindMoveItemBelowItem.push(null);null==this.__cbOnceMoveItemBelowItem&&(this.__cbOnceMoveItemBelowItem=[]),this.__cbOnceMoveItemBelowItem.push(t)},offMoveItemBelowItem:function(e){if(null!=e){var n;null!=this.__cbOnMoveItemBelowItem&&-1!=(n=this.__cbOnMoveItemBelowItem.indexOf(e))&&(this.__cbOnMoveItemBelowItem.splice(n,1),null!=(s=this.__cbOnOwnerUnbindMoveItemBelowItem[n])&&s(),this.__cbOnOwnerUnbindMoveItemBelowItem.splice(n,1)),null!=this.__cbOnceMoveItemBelowItem&&-1!=(n=this.__cbOnceMoveItemBelowItem.indexOf(e))&&(this.__cbOnceMoveItemBelowItem.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindMoveItemBelowItem[n])&&s(),this.__cbOnceOwnerUnbindMoveItemBelowItem.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindMoveItemBelowItem){for(var t=0,i=this.__cbOnOwnerUnbindMoveItemBelowItem.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindMoveItemBelowItem[l])&&s()}this.__cbOnOwnerUnbindMoveItemBelowItem=null}if(null!=this.__cbOnceOwnerUnbindMoveItemBelowItem){for(t=0,i=this.__cbOnceOwnerUnbindMoveItemBelowItem.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindMoveItemBelowItem[l])&&s()}this.__cbOnceOwnerUnbindMoveItemBelowItem=null}this.__cbOnMoveItemBelowItem=null,this.__cbOnceMoveItemBelowItem=null}},listensMoveItemBelowItem:function(){return null!=this.__cbOnMoveItemBelowItem&&0<this.__cbOnMoveItemBelowItem.length||null!=this.__cbOnceMoveItemBelowItem&&0<this.__cbOnceMoveItemBelowItem.length},__cbOnTrashItem:null,__cbOnceTrashItem:null,__cbOnOwnerUnbindTrashItem:null,__cbOnceOwnerUnbindTrashItem:null,emitTrashItem:function(e){var n=0;if(null!=this.__cbOnTrashItem&&(n+=this.__cbOnTrashItem.length),null!=this.__cbOnceTrashItem&&(n+=this.__cbOnceTrashItem.length),0<n){var t=C.pool(n),i=t.get(),l=0;if(null!=this.__cbOnTrashItem)for(var s=0,r=this.__cbOnTrashItem.length;s<r;){var h=s++;!0?(i.vector[l]=this.__cbOnTrashItem[h],++l):--n}if(null!=this.__cbOnceTrashItem){for(var a=null,o=null,s=0,r=this.__cbOnceTrashItem.length;s<r;){var c,h=s++;!0?(i.vector[l]=this.__cbOnceTrashItem[h],this.__cbOnceTrashItem[h]=null,c=this.__cbOnceOwnerUnbindTrashItem[h],(this.__cbOnceOwnerUnbindTrashItem[h]=null)!=c&&c(),++l):(--n,null==a&&(a=[],o=[],0),a.push(this.__cbOnceOwnerUnbindTrashItem[h]),o.push(this.__cbOnceTrashItem[h]))}this.__cbOnceOwnerUnbindTrashItem=a,this.__cbOnceTrashItem=o}for(s=0,r=n;s<r;){l=s++;(0,i.vector[l])(e)}t.release(i)}},onTrashItem:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event trashItem because owner is destroyed!");var l=function(e){null!=t&&(i.offTrashItem(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindTrashItem&&(this.__cbOnOwnerUnbindTrashItem=[]),this.__cbOnOwnerUnbindTrashItem.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindTrashItem&&(this.__cbOnOwnerUnbindTrashItem=[]),this.__cbOnOwnerUnbindTrashItem.push(null);null==this.__cbOnTrashItem&&(this.__cbOnTrashItem=[]),this.__cbOnTrashItem.push(t)},onceTrashItem:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event trashItem because owner is destroyed!");var l=function(e){null!=t&&(i.offTrashItem(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindTrashItem&&(this.__cbOnceOwnerUnbindTrashItem=[]),this.__cbOnceOwnerUnbindTrashItem.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindTrashItem&&(this.__cbOnceOwnerUnbindTrashItem=[]),this.__cbOnceOwnerUnbindTrashItem.push(null);null==this.__cbOnceTrashItem&&(this.__cbOnceTrashItem=[]),this.__cbOnceTrashItem.push(t)},offTrashItem:function(e){if(null!=e){var n;null!=this.__cbOnTrashItem&&-1!=(n=this.__cbOnTrashItem.indexOf(e))&&(this.__cbOnTrashItem.splice(n,1),null!=(s=this.__cbOnOwnerUnbindTrashItem[n])&&s(),this.__cbOnOwnerUnbindTrashItem.splice(n,1)),null!=this.__cbOnceTrashItem&&-1!=(n=this.__cbOnceTrashItem.indexOf(e))&&(this.__cbOnceTrashItem.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindTrashItem[n])&&s(),this.__cbOnceOwnerUnbindTrashItem.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindTrashItem){for(var t=0,i=this.__cbOnOwnerUnbindTrashItem.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindTrashItem[l])&&s()}this.__cbOnOwnerUnbindTrashItem=null}if(null!=this.__cbOnceOwnerUnbindTrashItem){for(t=0,i=this.__cbOnceOwnerUnbindTrashItem.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindTrashItem[l])&&s()}this.__cbOnceOwnerUnbindTrashItem=null}this.__cbOnTrashItem=null,this.__cbOnceTrashItem=null}},listensTrashItem:function(){return null!=this.__cbOnTrashItem&&0<this.__cbOnTrashItem.length||null!=this.__cbOnceTrashItem&&0<this.__cbOnceTrashItem.length},__cbOnLockItem:null,__cbOnceLockItem:null,__cbOnOwnerUnbindLockItem:null,__cbOnceOwnerUnbindLockItem:null,emitLockItem:function(e){var n=0;if(null!=this.__cbOnLockItem&&(n+=this.__cbOnLockItem.length),null!=this.__cbOnceLockItem&&(n+=this.__cbOnceLockItem.length),0<n){var t=C.pool(n),i=t.get(),l=0;if(null!=this.__cbOnLockItem)for(var s=0,r=this.__cbOnLockItem.length;s<r;){var h=s++;!0?(i.vector[l]=this.__cbOnLockItem[h],++l):--n}if(null!=this.__cbOnceLockItem){for(var a=null,o=null,s=0,r=this.__cbOnceLockItem.length;s<r;){var c,h=s++;!0?(i.vector[l]=this.__cbOnceLockItem[h],this.__cbOnceLockItem[h]=null,c=this.__cbOnceOwnerUnbindLockItem[h],(this.__cbOnceOwnerUnbindLockItem[h]=null)!=c&&c(),++l):(--n,null==a&&(a=[],o=[],0),a.push(this.__cbOnceOwnerUnbindLockItem[h]),o.push(this.__cbOnceLockItem[h]))}this.__cbOnceOwnerUnbindLockItem=a,this.__cbOnceLockItem=o}for(s=0,r=n;s<r;){l=s++;(0,i.vector[l])(e)}t.release(i),i=null}this.didEmitLockItem(e)},onLockItem:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event lockItem because owner is destroyed!");var l=function(e){null!=t&&(i.offLockItem(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindLockItem&&(this.__cbOnOwnerUnbindLockItem=[]),this.__cbOnOwnerUnbindLockItem.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindLockItem&&(this.__cbOnOwnerUnbindLockItem=[]),this.__cbOnOwnerUnbindLockItem.push(null);null==this.__cbOnLockItem&&(this.__cbOnLockItem=[]),this.__cbOnLockItem.push(t)},onceLockItem:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event lockItem because owner is destroyed!");var l=function(e){null!=t&&(i.offLockItem(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindLockItem&&(this.__cbOnceOwnerUnbindLockItem=[]),this.__cbOnceOwnerUnbindLockItem.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindLockItem&&(this.__cbOnceOwnerUnbindLockItem=[]),this.__cbOnceOwnerUnbindLockItem.push(null);null==this.__cbOnceLockItem&&(this.__cbOnceLockItem=[]),this.__cbOnceLockItem.push(t)},offLockItem:function(e){if(null!=e){var n;null!=this.__cbOnLockItem&&-1!=(n=this.__cbOnLockItem.indexOf(e))&&(this.__cbOnLockItem.splice(n,1),null!=(s=this.__cbOnOwnerUnbindLockItem[n])&&s(),this.__cbOnOwnerUnbindLockItem.splice(n,1)),null!=this.__cbOnceLockItem&&-1!=(n=this.__cbOnceLockItem.indexOf(e))&&(this.__cbOnceLockItem.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindLockItem[n])&&s(),this.__cbOnceOwnerUnbindLockItem.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindLockItem){for(var t=0,i=this.__cbOnOwnerUnbindLockItem.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindLockItem[l])&&s()}this.__cbOnOwnerUnbindLockItem=null}if(null!=this.__cbOnceOwnerUnbindLockItem){for(t=0,i=this.__cbOnceOwnerUnbindLockItem.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindLockItem[l])&&s()}this.__cbOnceOwnerUnbindLockItem=null}this.__cbOnLockItem=null,this.__cbOnceLockItem=null}},listensLockItem:function(){return null!=this.__cbOnLockItem&&0<this.__cbOnLockItem.length||null!=this.__cbOnceLockItem&&0<this.__cbOnceLockItem.length},__cbOnUnlockItem:null,__cbOnceUnlockItem:null,__cbOnOwnerUnbindUnlockItem:null,__cbOnceOwnerUnbindUnlockItem:null,emitUnlockItem:function(e){var n=0;if(null!=this.__cbOnUnlockItem&&(n+=this.__cbOnUnlockItem.length),null!=this.__cbOnceUnlockItem&&(n+=this.__cbOnceUnlockItem.length),0<n){var t=C.pool(n),i=t.get(),l=0;if(null!=this.__cbOnUnlockItem)for(var s=0,r=this.__cbOnUnlockItem.length;s<r;){var h=s++;!0?(i.vector[l]=this.__cbOnUnlockItem[h],++l):--n}if(null!=this.__cbOnceUnlockItem){for(var a=null,o=null,s=0,r=this.__cbOnceUnlockItem.length;s<r;){var c,h=s++;!0?(i.vector[l]=this.__cbOnceUnlockItem[h],this.__cbOnceUnlockItem[h]=null,c=this.__cbOnceOwnerUnbindUnlockItem[h],(this.__cbOnceOwnerUnbindUnlockItem[h]=null)!=c&&c(),++l):(--n,null==a&&(a=[],o=[],0),a.push(this.__cbOnceOwnerUnbindUnlockItem[h]),o.push(this.__cbOnceUnlockItem[h]))}this.__cbOnceOwnerUnbindUnlockItem=a,this.__cbOnceUnlockItem=o}for(s=0,r=n;s<r;){l=s++;(0,i.vector[l])(e)}t.release(i),i=null}this.didEmitUnlockItem(e)},onUnlockItem:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event unlockItem because owner is destroyed!");var l=function(e){null!=t&&(i.offUnlockItem(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindUnlockItem&&(this.__cbOnOwnerUnbindUnlockItem=[]),this.__cbOnOwnerUnbindUnlockItem.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindUnlockItem&&(this.__cbOnOwnerUnbindUnlockItem=[]),this.__cbOnOwnerUnbindUnlockItem.push(null);null==this.__cbOnUnlockItem&&(this.__cbOnUnlockItem=[]),this.__cbOnUnlockItem.push(t)},onceUnlockItem:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event unlockItem because owner is destroyed!");var l=function(e){null!=t&&(i.offUnlockItem(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindUnlockItem&&(this.__cbOnceOwnerUnbindUnlockItem=[]),this.__cbOnceOwnerUnbindUnlockItem.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindUnlockItem&&(this.__cbOnceOwnerUnbindUnlockItem=[]),this.__cbOnceOwnerUnbindUnlockItem.push(null);null==this.__cbOnceUnlockItem&&(this.__cbOnceUnlockItem=[]),this.__cbOnceUnlockItem.push(t)},offUnlockItem:function(e){if(null!=e){var n;null!=this.__cbOnUnlockItem&&-1!=(n=this.__cbOnUnlockItem.indexOf(e))&&(this.__cbOnUnlockItem.splice(n,1),null!=(s=this.__cbOnOwnerUnbindUnlockItem[n])&&s(),this.__cbOnOwnerUnbindUnlockItem.splice(n,1)),null!=this.__cbOnceUnlockItem&&-1!=(n=this.__cbOnceUnlockItem.indexOf(e))&&(this.__cbOnceUnlockItem.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindUnlockItem[n])&&s(),this.__cbOnceOwnerUnbindUnlockItem.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindUnlockItem){for(var t=0,i=this.__cbOnOwnerUnbindUnlockItem.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindUnlockItem[l])&&s()}this.__cbOnOwnerUnbindUnlockItem=null}if(null!=this.__cbOnceOwnerUnbindUnlockItem){for(t=0,i=this.__cbOnceOwnerUnbindUnlockItem.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindUnlockItem[l])&&s()}this.__cbOnceOwnerUnbindUnlockItem=null}this.__cbOnUnlockItem=null,this.__cbOnceUnlockItem=null}},listensUnlockItem:function(){return null!=this.__cbOnUnlockItem&&0<this.__cbOnUnlockItem.length||null!=this.__cbOnceUnlockItem&&0<this.__cbOnceUnlockItem.length},__cbOnDuplicateItem:null,__cbOnceDuplicateItem:null,__cbOnOwnerUnbindDuplicateItem:null,__cbOnceOwnerUnbindDuplicateItem:null,emitDuplicateItem:function(e){var n=0;if(null!=this.__cbOnDuplicateItem&&(n+=this.__cbOnDuplicateItem.length),null!=this.__cbOnceDuplicateItem&&(n+=this.__cbOnceDuplicateItem.length),0<n){var t=C.pool(n),i=t.get(),l=0;if(null!=this.__cbOnDuplicateItem)for(var s=0,r=this.__cbOnDuplicateItem.length;s<r;){var h=s++;!0?(i.vector[l]=this.__cbOnDuplicateItem[h],++l):--n}if(null!=this.__cbOnceDuplicateItem){for(var a=null,o=null,s=0,r=this.__cbOnceDuplicateItem.length;s<r;){var c,h=s++;!0?(i.vector[l]=this.__cbOnceDuplicateItem[h],this.__cbOnceDuplicateItem[h]=null,c=this.__cbOnceOwnerUnbindDuplicateItem[h],(this.__cbOnceOwnerUnbindDuplicateItem[h]=null)!=c&&c(),++l):(--n,null==a&&(a=[],o=[],0),a.push(this.__cbOnceOwnerUnbindDuplicateItem[h]),o.push(this.__cbOnceDuplicateItem[h]))}this.__cbOnceOwnerUnbindDuplicateItem=a,this.__cbOnceDuplicateItem=o}for(s=0,r=n;s<r;){l=s++;(0,i.vector[l])(e)}t.release(i)}},onDuplicateItem:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event duplicateItem because owner is destroyed!");var l=function(e){null!=t&&(i.offDuplicateItem(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindDuplicateItem&&(this.__cbOnOwnerUnbindDuplicateItem=[]),this.__cbOnOwnerUnbindDuplicateItem.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindDuplicateItem&&(this.__cbOnOwnerUnbindDuplicateItem=[]),this.__cbOnOwnerUnbindDuplicateItem.push(null);null==this.__cbOnDuplicateItem&&(this.__cbOnDuplicateItem=[]),this.__cbOnDuplicateItem.push(t)},onceDuplicateItem:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event duplicateItem because owner is destroyed!");var l=function(e){null!=t&&(i.offDuplicateItem(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindDuplicateItem&&(this.__cbOnceOwnerUnbindDuplicateItem=[]),this.__cbOnceOwnerUnbindDuplicateItem.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindDuplicateItem&&(this.__cbOnceOwnerUnbindDuplicateItem=[]),this.__cbOnceOwnerUnbindDuplicateItem.push(null);null==this.__cbOnceDuplicateItem&&(this.__cbOnceDuplicateItem=[]),this.__cbOnceDuplicateItem.push(t)},offDuplicateItem:function(e){if(null!=e){var n;null!=this.__cbOnDuplicateItem&&-1!=(n=this.__cbOnDuplicateItem.indexOf(e))&&(this.__cbOnDuplicateItem.splice(n,1),null!=(s=this.__cbOnOwnerUnbindDuplicateItem[n])&&s(),this.__cbOnOwnerUnbindDuplicateItem.splice(n,1)),null!=this.__cbOnceDuplicateItem&&-1!=(n=this.__cbOnceDuplicateItem.indexOf(e))&&(this.__cbOnceDuplicateItem.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindDuplicateItem[n])&&s(),this.__cbOnceOwnerUnbindDuplicateItem.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindDuplicateItem){for(var t=0,i=this.__cbOnOwnerUnbindDuplicateItem.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindDuplicateItem[l])&&s()}this.__cbOnOwnerUnbindDuplicateItem=null}if(null!=this.__cbOnceOwnerUnbindDuplicateItem){for(t=0,i=this.__cbOnceOwnerUnbindDuplicateItem.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindDuplicateItem[l])&&s()}this.__cbOnceOwnerUnbindDuplicateItem=null}this.__cbOnDuplicateItem=null,this.__cbOnceDuplicateItem=null}},listensDuplicateItem:function(){return null!=this.__cbOnDuplicateItem&&0<this.__cbOnDuplicateItem.length||null!=this.__cbOnceDuplicateItem&&0<this.__cbOnceDuplicateItem.length},collectionView:null,dataSource:null,set_dataSource:function(e){return this.dataSource=e,this.collectionView.set_dataSource(e),e},themeAutoruns:null,get_theme:function(){var e,n,t=this.unobservedTheme;return null!=A.current&&(e=A.current,null!=(n=this.themeAutoruns)||(n=A.getAutorunArray(),null!=(this.themeAutoruns=n)))&&e.bindToAutorunArray(n),t},set_theme:function(e){var n=this.unobservedTheme;return n!=(this.unobservedTheme=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitThemeChange(e,n),null!=(n=this.themeAutoruns))&&(this.themeAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateTheme:function(){var e=this.unobservedTheme,e=(this.emitThemeChange(e,e),this.themeAutoruns);null!=e&&(this.themeAutoruns=null,A.invalidateAutorunArray(e))},unobservedTheme:null,__cbOnThemeChange:null,__cbOnceThemeChange:null,__cbOnOwnerUnbindThemeChange:null,__cbOnceOwnerUnbindThemeChange:null,emitThemeChange:function(e,n){var t=0;if(null!=this.__cbOnThemeChange&&(t+=this.__cbOnThemeChange.length),null!=this.__cbOnceThemeChange&&(t+=this.__cbOnceThemeChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnThemeChange)for(var r=0,h=this.__cbOnThemeChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnThemeChange[a],++s):--t}if(null!=this.__cbOnceThemeChange){for(var o=null,c=null,r=0,h=this.__cbOnceThemeChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceThemeChange[a],this.__cbOnceThemeChange[a]=null,u=this.__cbOnceOwnerUnbindThemeChange[a],(this.__cbOnceOwnerUnbindThemeChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindThemeChange[a]),c.push(this.__cbOnceThemeChange[a]))}this.__cbOnceOwnerUnbindThemeChange=o,this.__cbOnceThemeChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onThemeChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event themeChange because owner is destroyed!");var l=function(e){null!=t&&(i.offThemeChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindThemeChange&&(this.__cbOnOwnerUnbindThemeChange=[]),this.__cbOnOwnerUnbindThemeChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindThemeChange&&(this.__cbOnOwnerUnbindThemeChange=[]),this.__cbOnOwnerUnbindThemeChange.push(null);null==this.__cbOnThemeChange&&(this.__cbOnThemeChange=[]),this.__cbOnThemeChange.push(t)},onceThemeChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event themeChange because owner is destroyed!");var l=function(e){null!=t&&(i.offThemeChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindThemeChange&&(this.__cbOnceOwnerUnbindThemeChange=[]),this.__cbOnceOwnerUnbindThemeChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindThemeChange&&(this.__cbOnceOwnerUnbindThemeChange=[]),this.__cbOnceOwnerUnbindThemeChange.push(null);null==this.__cbOnceThemeChange&&(this.__cbOnceThemeChange=[]),this.__cbOnceThemeChange.push(t)},offThemeChange:function(e){if(null!=e){var n;null!=this.__cbOnThemeChange&&-1!=(n=this.__cbOnThemeChange.indexOf(e))&&(this.__cbOnThemeChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindThemeChange[n])&&s(),this.__cbOnOwnerUnbindThemeChange.splice(n,1)),null!=this.__cbOnceThemeChange&&-1!=(n=this.__cbOnceThemeChange.indexOf(e))&&(this.__cbOnceThemeChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindThemeChange[n])&&s(),this.__cbOnceOwnerUnbindThemeChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindThemeChange){for(var t=0,i=this.__cbOnOwnerUnbindThemeChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindThemeChange[l])&&s()}this.__cbOnOwnerUnbindThemeChange=null}if(null!=this.__cbOnceOwnerUnbindThemeChange){for(t=0,i=this.__cbOnceOwnerUnbindThemeChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindThemeChange[l])&&s()}this.__cbOnceOwnerUnbindThemeChange=null}this.__cbOnThemeChange=null,this.__cbOnceThemeChange=null}},listensThemeChange:function(){return null!=this.__cbOnThemeChange&&0<this.__cbOnThemeChange.length||null!=this.__cbOnceThemeChange&&0<this.__cbOnceThemeChange.length},itemsAutoruns:null,get_items:function(){var e,n,t=this.unobservedItems;return null!=A.current&&(e=A.current,null!=(n=this.itemsAutoruns)||(n=A.getAutorunArray(),null!=(this.itemsAutoruns=n)))&&e.bindToAutorunArray(n),t},set_items:function(e){var n=this.unobservedItems;return this.unobservedItems=e,Ds.equalAny(n,e)||(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitItemsChange(e,n),null!=(n=this.itemsAutoruns)&&(this.itemsAutoruns=null,A.invalidateAutorunArray(n))),e},invalidateItems:function(){var e=this.unobservedItems,e=(this.emitItemsChange(e,e),this.itemsAutoruns);null!=e&&(this.itemsAutoruns=null,A.invalidateAutorunArray(e))},unobservedItems:null,__cbOnItemsChange:null,__cbOnceItemsChange:null,__cbOnOwnerUnbindItemsChange:null,__cbOnceOwnerUnbindItemsChange:null,emitItemsChange:function(e,n){var t=0;if(null!=this.__cbOnItemsChange&&(t+=this.__cbOnItemsChange.length),null!=this.__cbOnceItemsChange&&(t+=this.__cbOnceItemsChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnItemsChange)for(var r=0,h=this.__cbOnItemsChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnItemsChange[a],++s):--t}if(null!=this.__cbOnceItemsChange){for(var o=null,c=null,r=0,h=this.__cbOnceItemsChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceItemsChange[a],this.__cbOnceItemsChange[a]=null,u=this.__cbOnceOwnerUnbindItemsChange[a],(this.__cbOnceOwnerUnbindItemsChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindItemsChange[a]),c.push(this.__cbOnceItemsChange[a]))}this.__cbOnceOwnerUnbindItemsChange=o,this.__cbOnceItemsChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onItemsChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event itemsChange because owner is destroyed!");var l=function(e){null!=t&&(i.offItemsChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindItemsChange&&(this.__cbOnOwnerUnbindItemsChange=[]),this.__cbOnOwnerUnbindItemsChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindItemsChange&&(this.__cbOnOwnerUnbindItemsChange=[]),this.__cbOnOwnerUnbindItemsChange.push(null);null==this.__cbOnItemsChange&&(this.__cbOnItemsChange=[]),this.__cbOnItemsChange.push(t)},onceItemsChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event itemsChange because owner is destroyed!");var l=function(e){null!=t&&(i.offItemsChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindItemsChange&&(this.__cbOnceOwnerUnbindItemsChange=[]),this.__cbOnceOwnerUnbindItemsChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindItemsChange&&(this.__cbOnceOwnerUnbindItemsChange=[]),this.__cbOnceOwnerUnbindItemsChange.push(null);null==this.__cbOnceItemsChange&&(this.__cbOnceItemsChange=[]),this.__cbOnceItemsChange.push(t)},offItemsChange:function(e){if(null!=e){var n;null!=this.__cbOnItemsChange&&-1!=(n=this.__cbOnItemsChange.indexOf(e))&&(this.__cbOnItemsChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindItemsChange[n])&&s(),this.__cbOnOwnerUnbindItemsChange.splice(n,1)),null!=this.__cbOnceItemsChange&&-1!=(n=this.__cbOnceItemsChange.indexOf(e))&&(this.__cbOnceItemsChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindItemsChange[n])&&s(),this.__cbOnceOwnerUnbindItemsChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindItemsChange){for(var t=0,i=this.__cbOnOwnerUnbindItemsChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindItemsChange[l])&&s()}this.__cbOnOwnerUnbindItemsChange=null}if(null!=this.__cbOnceOwnerUnbindItemsChange){for(t=0,i=this.__cbOnceOwnerUnbindItemsChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindItemsChange[l])&&s()}this.__cbOnceOwnerUnbindItemsChange=null}this.__cbOnItemsChange=null,this.__cbOnceItemsChange=null}},listensItemsChange:function(){return null!=this.__cbOnItemsChange&&0<this.__cbOnItemsChange.length||null!=this.__cbOnceItemsChange&&0<this.__cbOnceItemsChange.length},selectedIndexAutoruns:null,get_selectedIndex:function(){var e,n,t=this.unobservedSelectedIndex;return null!=A.current&&(e=A.current,null!=(n=this.selectedIndexAutoruns)||(n=A.getAutorunArray(),null!=(this.selectedIndexAutoruns=n)))&&e.bindToAutorunArray(n),t},set_selectedIndex:function(e){var n=this.unobservedSelectedIndex;return n!=(this.unobservedSelectedIndex=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitSelectedIndexChange(e,n),null!=(n=this.selectedIndexAutoruns))&&(this.selectedIndexAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateSelectedIndex:function(){var e=this.unobservedSelectedIndex,e=(this.emitSelectedIndexChange(e,e),this.selectedIndexAutoruns);null!=e&&(this.selectedIndexAutoruns=null,A.invalidateAutorunArray(e))},unobservedSelectedIndex:null,__cbOnSelectedIndexChange:null,__cbOnceSelectedIndexChange:null,__cbOnOwnerUnbindSelectedIndexChange:null,__cbOnceOwnerUnbindSelectedIndexChange:null,emitSelectedIndexChange:function(e,n){var t=0;if(null!=this.__cbOnSelectedIndexChange&&(t+=this.__cbOnSelectedIndexChange.length),null!=this.__cbOnceSelectedIndexChange&&(t+=this.__cbOnceSelectedIndexChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnSelectedIndexChange)for(var r=0,h=this.__cbOnSelectedIndexChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnSelectedIndexChange[a],++s):--t}if(null!=this.__cbOnceSelectedIndexChange){for(var o=null,c=null,r=0,h=this.__cbOnceSelectedIndexChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceSelectedIndexChange[a],this.__cbOnceSelectedIndexChange[a]=null,u=this.__cbOnceOwnerUnbindSelectedIndexChange[a],(this.__cbOnceOwnerUnbindSelectedIndexChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindSelectedIndexChange[a]),c.push(this.__cbOnceSelectedIndexChange[a]))}this.__cbOnceOwnerUnbindSelectedIndexChange=o,this.__cbOnceSelectedIndexChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onSelectedIndexChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event selectedIndexChange because owner is destroyed!");var l=function(e){null!=t&&(i.offSelectedIndexChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindSelectedIndexChange&&(this.__cbOnOwnerUnbindSelectedIndexChange=[]),this.__cbOnOwnerUnbindSelectedIndexChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindSelectedIndexChange&&(this.__cbOnOwnerUnbindSelectedIndexChange=[]),this.__cbOnOwnerUnbindSelectedIndexChange.push(null);null==this.__cbOnSelectedIndexChange&&(this.__cbOnSelectedIndexChange=[]),this.__cbOnSelectedIndexChange.push(t)},onceSelectedIndexChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event selectedIndexChange because owner is destroyed!");var l=function(e){null!=t&&(i.offSelectedIndexChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindSelectedIndexChange&&(this.__cbOnceOwnerUnbindSelectedIndexChange=[]),this.__cbOnceOwnerUnbindSelectedIndexChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindSelectedIndexChange&&(this.__cbOnceOwnerUnbindSelectedIndexChange=[]),this.__cbOnceOwnerUnbindSelectedIndexChange.push(null);null==this.__cbOnceSelectedIndexChange&&(this.__cbOnceSelectedIndexChange=[]),this.__cbOnceSelectedIndexChange.push(t)},offSelectedIndexChange:function(e){if(null!=e){var n;null!=this.__cbOnSelectedIndexChange&&-1!=(n=this.__cbOnSelectedIndexChange.indexOf(e))&&(this.__cbOnSelectedIndexChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindSelectedIndexChange[n])&&s(),this.__cbOnOwnerUnbindSelectedIndexChange.splice(n,1)),null!=this.__cbOnceSelectedIndexChange&&-1!=(n=this.__cbOnceSelectedIndexChange.indexOf(e))&&(this.__cbOnceSelectedIndexChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindSelectedIndexChange[n])&&s(),this.__cbOnceOwnerUnbindSelectedIndexChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindSelectedIndexChange){for(var t=0,i=this.__cbOnOwnerUnbindSelectedIndexChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindSelectedIndexChange[l])&&s()}this.__cbOnOwnerUnbindSelectedIndexChange=null}if(null!=this.__cbOnceOwnerUnbindSelectedIndexChange){for(t=0,i=this.__cbOnceOwnerUnbindSelectedIndexChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindSelectedIndexChange[l])&&s()}this.__cbOnceOwnerUnbindSelectedIndexChange=null}this.__cbOnSelectedIndexChange=null,this.__cbOnceSelectedIndexChange=null}},listensSelectedIndexChange:function(){return null!=this.__cbOnSelectedIndexChange&&0<this.__cbOnSelectedIndexChange.length||null!=this.__cbOnceSelectedIndexChange&&0<this.__cbOnceSelectedIndexChange.length},trashableAutoruns:null,get_trashable:function(){var e,n,t=this.unobservedTrashable;return null!=A.current&&(e=A.current,null!=(n=this.trashableAutoruns)||(n=A.getAutorunArray(),null!=(this.trashableAutoruns=n)))&&e.bindToAutorunArray(n),t},set_trashable:function(e){var n=this.unobservedTrashable;return n!=(this.unobservedTrashable=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitTrashableChange(e,n),null!=(n=this.trashableAutoruns))&&(this.trashableAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateTrashable:function(){var e=this.unobservedTrashable,e=(this.emitTrashableChange(e,e),this.trashableAutoruns);null!=e&&(this.trashableAutoruns=null,A.invalidateAutorunArray(e))},unobservedTrashable:null,__cbOnTrashableChange:null,__cbOnceTrashableChange:null,__cbOnOwnerUnbindTrashableChange:null,__cbOnceOwnerUnbindTrashableChange:null,emitTrashableChange:function(e,n){var t=0;if(null!=this.__cbOnTrashableChange&&(t+=this.__cbOnTrashableChange.length),null!=this.__cbOnceTrashableChange&&(t+=this.__cbOnceTrashableChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnTrashableChange)for(var r=0,h=this.__cbOnTrashableChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnTrashableChange[a],++s):--t}if(null!=this.__cbOnceTrashableChange){for(var o=null,c=null,r=0,h=this.__cbOnceTrashableChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceTrashableChange[a],this.__cbOnceTrashableChange[a]=null,u=this.__cbOnceOwnerUnbindTrashableChange[a],(this.__cbOnceOwnerUnbindTrashableChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindTrashableChange[a]),c.push(this.__cbOnceTrashableChange[a]))}this.__cbOnceOwnerUnbindTrashableChange=o,this.__cbOnceTrashableChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onTrashableChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event trashableChange because owner is destroyed!");var l=function(e){null!=t&&(i.offTrashableChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindTrashableChange&&(this.__cbOnOwnerUnbindTrashableChange=[]),this.__cbOnOwnerUnbindTrashableChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindTrashableChange&&(this.__cbOnOwnerUnbindTrashableChange=[]),this.__cbOnOwnerUnbindTrashableChange.push(null);null==this.__cbOnTrashableChange&&(this.__cbOnTrashableChange=[]),this.__cbOnTrashableChange.push(t)},onceTrashableChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event trashableChange because owner is destroyed!");var l=function(e){null!=t&&(i.offTrashableChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindTrashableChange&&(this.__cbOnceOwnerUnbindTrashableChange=[]),this.__cbOnceOwnerUnbindTrashableChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindTrashableChange&&(this.__cbOnceOwnerUnbindTrashableChange=[]),this.__cbOnceOwnerUnbindTrashableChange.push(null);null==this.__cbOnceTrashableChange&&(this.__cbOnceTrashableChange=[]),this.__cbOnceTrashableChange.push(t)},offTrashableChange:function(e){if(null!=e){var n;null!=this.__cbOnTrashableChange&&-1!=(n=this.__cbOnTrashableChange.indexOf(e))&&(this.__cbOnTrashableChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindTrashableChange[n])&&s(),this.__cbOnOwnerUnbindTrashableChange.splice(n,1)),null!=this.__cbOnceTrashableChange&&-1!=(n=this.__cbOnceTrashableChange.indexOf(e))&&(this.__cbOnceTrashableChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindTrashableChange[n])&&s(),this.__cbOnceOwnerUnbindTrashableChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindTrashableChange){for(var t=0,i=this.__cbOnOwnerUnbindTrashableChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindTrashableChange[l])&&s()}this.__cbOnOwnerUnbindTrashableChange=null}if(null!=this.__cbOnceOwnerUnbindTrashableChange){for(t=0,i=this.__cbOnceOwnerUnbindTrashableChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindTrashableChange[l])&&s()}this.__cbOnceOwnerUnbindTrashableChange=null}this.__cbOnTrashableChange=null,this.__cbOnceTrashableChange=null}},listensTrashableChange:function(){return null!=this.__cbOnTrashableChange&&0<this.__cbOnTrashableChange.length||null!=this.__cbOnceTrashableChange&&0<this.__cbOnceTrashableChange.length},lockableAutoruns:null,get_lockable:function(){var e,n,t=this.unobservedLockable;return null!=A.current&&(e=A.current,null!=(n=this.lockableAutoruns)||(n=A.getAutorunArray(),null!=(this.lockableAutoruns=n)))&&e.bindToAutorunArray(n),t},set_lockable:function(e){var n=this.unobservedLockable;return n!=(this.unobservedLockable=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitLockableChange(e,n),null!=(n=this.lockableAutoruns))&&(this.lockableAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateLockable:function(){var e=this.unobservedLockable,e=(this.emitLockableChange(e,e),this.lockableAutoruns);null!=e&&(this.lockableAutoruns=null,A.invalidateAutorunArray(e))},unobservedLockable:null,__cbOnLockableChange:null,__cbOnceLockableChange:null,__cbOnOwnerUnbindLockableChange:null,__cbOnceOwnerUnbindLockableChange:null,emitLockableChange:function(e,n){var t=0;if(null!=this.__cbOnLockableChange&&(t+=this.__cbOnLockableChange.length),null!=this.__cbOnceLockableChange&&(t+=this.__cbOnceLockableChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnLockableChange)for(var r=0,h=this.__cbOnLockableChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnLockableChange[a],++s):--t}if(null!=this.__cbOnceLockableChange){for(var o=null,c=null,r=0,h=this.__cbOnceLockableChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceLockableChange[a],this.__cbOnceLockableChange[a]=null,u=this.__cbOnceOwnerUnbindLockableChange[a],(this.__cbOnceOwnerUnbindLockableChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindLockableChange[a]),c.push(this.__cbOnceLockableChange[a]))}this.__cbOnceOwnerUnbindLockableChange=o,this.__cbOnceLockableChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onLockableChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event lockableChange because owner is destroyed!");var l=function(e){null!=t&&(i.offLockableChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindLockableChange&&(this.__cbOnOwnerUnbindLockableChange=[]),this.__cbOnOwnerUnbindLockableChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindLockableChange&&(this.__cbOnOwnerUnbindLockableChange=[]),this.__cbOnOwnerUnbindLockableChange.push(null);null==this.__cbOnLockableChange&&(this.__cbOnLockableChange=[]),this.__cbOnLockableChange.push(t)},onceLockableChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event lockableChange because owner is destroyed!");var l=function(e){null!=t&&(i.offLockableChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindLockableChange&&(this.__cbOnceOwnerUnbindLockableChange=[]),this.__cbOnceOwnerUnbindLockableChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindLockableChange&&(this.__cbOnceOwnerUnbindLockableChange=[]),this.__cbOnceOwnerUnbindLockableChange.push(null);null==this.__cbOnceLockableChange&&(this.__cbOnceLockableChange=[]),this.__cbOnceLockableChange.push(t)},offLockableChange:function(e){if(null!=e){var n;null!=this.__cbOnLockableChange&&-1!=(n=this.__cbOnLockableChange.indexOf(e))&&(this.__cbOnLockableChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindLockableChange[n])&&s(),this.__cbOnOwnerUnbindLockableChange.splice(n,1)),null!=this.__cbOnceLockableChange&&-1!=(n=this.__cbOnceLockableChange.indexOf(e))&&(this.__cbOnceLockableChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindLockableChange[n])&&s(),this.__cbOnceOwnerUnbindLockableChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindLockableChange){for(var t=0,i=this.__cbOnOwnerUnbindLockableChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindLockableChange[l])&&s()}this.__cbOnOwnerUnbindLockableChange=null}if(null!=this.__cbOnceOwnerUnbindLockableChange){for(t=0,i=this.__cbOnceOwnerUnbindLockableChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindLockableChange[l])&&s()}this.__cbOnceOwnerUnbindLockableChange=null}this.__cbOnLockableChange=null,this.__cbOnceLockableChange=null}},listensLockableChange:function(){return null!=this.__cbOnLockableChange&&0<this.__cbOnLockableChange.length||null!=this.__cbOnceLockableChange&&0<this.__cbOnceLockableChange.length},duplicableAutoruns:null,get_duplicable:function(){var e,n,t=this.unobservedDuplicable;return null!=A.current&&(e=A.current,null!=(n=this.duplicableAutoruns)||(n=A.getAutorunArray(),null!=(this.duplicableAutoruns=n)))&&e.bindToAutorunArray(n),t},set_duplicable:function(e){var n=this.unobservedDuplicable;return n!=(this.unobservedDuplicable=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitDuplicableChange(e,n),null!=(n=this.duplicableAutoruns))&&(this.duplicableAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateDuplicable:function(){var e=this.unobservedDuplicable,e=(this.emitDuplicableChange(e,e),this.duplicableAutoruns);null!=e&&(this.duplicableAutoruns=null,A.invalidateAutorunArray(e))},unobservedDuplicable:null,__cbOnDuplicableChange:null,__cbOnceDuplicableChange:null,__cbOnOwnerUnbindDuplicableChange:null,__cbOnceOwnerUnbindDuplicableChange:null,emitDuplicableChange:function(e,n){var t=0;if(null!=this.__cbOnDuplicableChange&&(t+=this.__cbOnDuplicableChange.length),null!=this.__cbOnceDuplicableChange&&(t+=this.__cbOnceDuplicableChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnDuplicableChange)for(var r=0,h=this.__cbOnDuplicableChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnDuplicableChange[a],++s):--t}if(null!=this.__cbOnceDuplicableChange){for(var o=null,c=null,r=0,h=this.__cbOnceDuplicableChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceDuplicableChange[a],this.__cbOnceDuplicableChange[a]=null,u=this.__cbOnceOwnerUnbindDuplicableChange[a],(this.__cbOnceOwnerUnbindDuplicableChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindDuplicableChange[a]),c.push(this.__cbOnceDuplicableChange[a]))}this.__cbOnceOwnerUnbindDuplicableChange=o,this.__cbOnceDuplicableChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onDuplicableChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event duplicableChange because owner is destroyed!");var l=function(e){null!=t&&(i.offDuplicableChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindDuplicableChange&&(this.__cbOnOwnerUnbindDuplicableChange=[]),this.__cbOnOwnerUnbindDuplicableChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindDuplicableChange&&(this.__cbOnOwnerUnbindDuplicableChange=[]),this.__cbOnOwnerUnbindDuplicableChange.push(null);null==this.__cbOnDuplicableChange&&(this.__cbOnDuplicableChange=[]),this.__cbOnDuplicableChange.push(t)},onceDuplicableChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event duplicableChange because owner is destroyed!");var l=function(e){null!=t&&(i.offDuplicableChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindDuplicableChange&&(this.__cbOnceOwnerUnbindDuplicableChange=[]),this.__cbOnceOwnerUnbindDuplicableChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindDuplicableChange&&(this.__cbOnceOwnerUnbindDuplicableChange=[]),this.__cbOnceOwnerUnbindDuplicableChange.push(null);null==this.__cbOnceDuplicableChange&&(this.__cbOnceDuplicableChange=[]),this.__cbOnceDuplicableChange.push(t)},offDuplicableChange:function(e){if(null!=e){var n;null!=this.__cbOnDuplicableChange&&-1!=(n=this.__cbOnDuplicableChange.indexOf(e))&&(this.__cbOnDuplicableChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindDuplicableChange[n])&&s(),this.__cbOnOwnerUnbindDuplicableChange.splice(n,1)),null!=this.__cbOnceDuplicableChange&&-1!=(n=this.__cbOnceDuplicableChange.indexOf(e))&&(this.__cbOnceDuplicableChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindDuplicableChange[n])&&s(),this.__cbOnceOwnerUnbindDuplicableChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindDuplicableChange){for(var t=0,i=this.__cbOnOwnerUnbindDuplicableChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindDuplicableChange[l])&&s()}this.__cbOnOwnerUnbindDuplicableChange=null}if(null!=this.__cbOnceOwnerUnbindDuplicableChange){for(t=0,i=this.__cbOnceOwnerUnbindDuplicableChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindDuplicableChange[l])&&s()}this.__cbOnceOwnerUnbindDuplicableChange=null}this.__cbOnDuplicableChange=null,this.__cbOnceDuplicableChange=null}},listensDuplicableChange:function(){return null!=this.__cbOnDuplicableChange&&0<this.__cbOnDuplicableChange.length||null!=this.__cbOnceDuplicableChange&&0<this.__cbOnceDuplicableChange.length},sortableAutoruns:null,get_sortable:function(){var e,n,t=this.unobservedSortable;return null!=A.current&&(e=A.current,null!=(n=this.sortableAutoruns)||(n=A.getAutorunArray(),null!=(this.sortableAutoruns=n)))&&e.bindToAutorunArray(n),t},set_sortable:function(e){var n=this.unobservedSortable;return n!=(this.unobservedSortable=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitSortableChange(e,n),null!=(n=this.sortableAutoruns))&&(this.sortableAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateSortable:function(){var e=this.unobservedSortable,e=(this.emitSortableChange(e,e),this.sortableAutoruns);null!=e&&(this.sortableAutoruns=null,A.invalidateAutorunArray(e))},unobservedSortable:null,__cbOnSortableChange:null,__cbOnceSortableChange:null,__cbOnOwnerUnbindSortableChange:null,__cbOnceOwnerUnbindSortableChange:null,emitSortableChange:function(e,n){var t=0;if(null!=this.__cbOnSortableChange&&(t+=this.__cbOnSortableChange.length),null!=this.__cbOnceSortableChange&&(t+=this.__cbOnceSortableChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnSortableChange)for(var r=0,h=this.__cbOnSortableChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnSortableChange[a],++s):--t}if(null!=this.__cbOnceSortableChange){for(var o=null,c=null,r=0,h=this.__cbOnceSortableChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceSortableChange[a],this.__cbOnceSortableChange[a]=null,u=this.__cbOnceOwnerUnbindSortableChange[a],(this.__cbOnceOwnerUnbindSortableChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindSortableChange[a]),c.push(this.__cbOnceSortableChange[a]))}this.__cbOnceOwnerUnbindSortableChange=o,this.__cbOnceSortableChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onSortableChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event sortableChange because owner is destroyed!");var l=function(e){null!=t&&(i.offSortableChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindSortableChange&&(this.__cbOnOwnerUnbindSortableChange=[]),this.__cbOnOwnerUnbindSortableChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindSortableChange&&(this.__cbOnOwnerUnbindSortableChange=[]),this.__cbOnOwnerUnbindSortableChange.push(null);null==this.__cbOnSortableChange&&(this.__cbOnSortableChange=[]),this.__cbOnSortableChange.push(t)},onceSortableChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event sortableChange because owner is destroyed!");var l=function(e){null!=t&&(i.offSortableChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindSortableChange&&(this.__cbOnceOwnerUnbindSortableChange=[]),this.__cbOnceOwnerUnbindSortableChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindSortableChange&&(this.__cbOnceOwnerUnbindSortableChange=[]),this.__cbOnceOwnerUnbindSortableChange.push(null);null==this.__cbOnceSortableChange&&(this.__cbOnceSortableChange=[]),this.__cbOnceSortableChange.push(t)},offSortableChange:function(e){if(null!=e){var n;null!=this.__cbOnSortableChange&&-1!=(n=this.__cbOnSortableChange.indexOf(e))&&(this.__cbOnSortableChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindSortableChange[n])&&s(),this.__cbOnOwnerUnbindSortableChange.splice(n,1)),null!=this.__cbOnceSortableChange&&-1!=(n=this.__cbOnceSortableChange.indexOf(e))&&(this.__cbOnceSortableChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindSortableChange[n])&&s(),this.__cbOnceOwnerUnbindSortableChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindSortableChange){for(var t=0,i=this.__cbOnOwnerUnbindSortableChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindSortableChange[l])&&s()}this.__cbOnOwnerUnbindSortableChange=null}if(null!=this.__cbOnceOwnerUnbindSortableChange){for(t=0,i=this.__cbOnceOwnerUnbindSortableChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindSortableChange[l])&&s()}this.__cbOnceOwnerUnbindSortableChange=null}this.__cbOnSortableChange=null,this.__cbOnceSortableChange=null}},listensSortableChange:function(){return null!=this.__cbOnSortableChange&&0<this.__cbOnSortableChange.length||null!=this.__cbOnceSortableChange&&0<this.__cbOnceSortableChange.length},smallItemsAutoruns:null,get_smallItems:function(){var e,n,t=this.unobservedSmallItems;return null!=A.current&&(e=A.current,null!=(n=this.smallItemsAutoruns)||(n=A.getAutorunArray(),null!=(this.smallItemsAutoruns=n)))&&e.bindToAutorunArray(n),t},set_smallItems:function(e){var n=this.unobservedSmallItems;return n!=(this.unobservedSmallItems=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitSmallItemsChange(e,n),null!=(n=this.smallItemsAutoruns))&&(this.smallItemsAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateSmallItems:function(){var e=this.unobservedSmallItems,e=(this.emitSmallItemsChange(e,e),this.smallItemsAutoruns);null!=e&&(this.smallItemsAutoruns=null,A.invalidateAutorunArray(e))},unobservedSmallItems:null,__cbOnSmallItemsChange:null,__cbOnceSmallItemsChange:null,__cbOnOwnerUnbindSmallItemsChange:null,__cbOnceOwnerUnbindSmallItemsChange:null,emitSmallItemsChange:function(e,n){var t=0;if(null!=this.__cbOnSmallItemsChange&&(t+=this.__cbOnSmallItemsChange.length),null!=this.__cbOnceSmallItemsChange&&(t+=this.__cbOnceSmallItemsChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnSmallItemsChange)for(var r=0,h=this.__cbOnSmallItemsChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnSmallItemsChange[a],++s):--t}if(null!=this.__cbOnceSmallItemsChange){for(var o=null,c=null,r=0,h=this.__cbOnceSmallItemsChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceSmallItemsChange[a],this.__cbOnceSmallItemsChange[a]=null,u=this.__cbOnceOwnerUnbindSmallItemsChange[a],(this.__cbOnceOwnerUnbindSmallItemsChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindSmallItemsChange[a]),c.push(this.__cbOnceSmallItemsChange[a]))}this.__cbOnceOwnerUnbindSmallItemsChange=o,this.__cbOnceSmallItemsChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onSmallItemsChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event smallItemsChange because owner is destroyed!");var l=function(e){null!=t&&(i.offSmallItemsChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindSmallItemsChange&&(this.__cbOnOwnerUnbindSmallItemsChange=[]),this.__cbOnOwnerUnbindSmallItemsChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindSmallItemsChange&&(this.__cbOnOwnerUnbindSmallItemsChange=[]),this.__cbOnOwnerUnbindSmallItemsChange.push(null);null==this.__cbOnSmallItemsChange&&(this.__cbOnSmallItemsChange=[]),this.__cbOnSmallItemsChange.push(t)},onceSmallItemsChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event smallItemsChange because owner is destroyed!");var l=function(e){null!=t&&(i.offSmallItemsChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindSmallItemsChange&&(this.__cbOnceOwnerUnbindSmallItemsChange=[]),this.__cbOnceOwnerUnbindSmallItemsChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindSmallItemsChange&&(this.__cbOnceOwnerUnbindSmallItemsChange=[]),this.__cbOnceOwnerUnbindSmallItemsChange.push(null);null==this.__cbOnceSmallItemsChange&&(this.__cbOnceSmallItemsChange=[]),this.__cbOnceSmallItemsChange.push(t)},offSmallItemsChange:function(e){if(null!=e){var n;null!=this.__cbOnSmallItemsChange&&-1!=(n=this.__cbOnSmallItemsChange.indexOf(e))&&(this.__cbOnSmallItemsChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindSmallItemsChange[n])&&s(),this.__cbOnOwnerUnbindSmallItemsChange.splice(n,1)),null!=this.__cbOnceSmallItemsChange&&-1!=(n=this.__cbOnceSmallItemsChange.indexOf(e))&&(this.__cbOnceSmallItemsChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindSmallItemsChange[n])&&s(),this.__cbOnceOwnerUnbindSmallItemsChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindSmallItemsChange){for(var t=0,i=this.__cbOnOwnerUnbindSmallItemsChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindSmallItemsChange[l])&&s()}this.__cbOnOwnerUnbindSmallItemsChange=null}if(null!=this.__cbOnceOwnerUnbindSmallItemsChange){for(t=0,i=this.__cbOnceOwnerUnbindSmallItemsChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindSmallItemsChange[l])&&s()}this.__cbOnceOwnerUnbindSmallItemsChange=null}this.__cbOnSmallItemsChange=null,this.__cbOnceSmallItemsChange=null}},listensSmallItemsChange:function(){return null!=this.__cbOnSmallItemsChange&&0<this.__cbOnSmallItemsChange.length||null!=this.__cbOnceSmallItemsChange&&0<this.__cbOnceSmallItemsChange.length},scrollEnabledAutoruns:null,get_scrollEnabled:function(){var e,n,t=this.unobservedScrollEnabled;return null!=A.current&&(e=A.current,null!=(n=this.scrollEnabledAutoruns)||(n=A.getAutorunArray(),null!=(this.scrollEnabledAutoruns=n)))&&e.bindToAutorunArray(n),t},set_scrollEnabled:function(e){var n=this.unobservedScrollEnabled;return n!=(this.unobservedScrollEnabled=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitScrollEnabledChange(e,n),null!=(n=this.scrollEnabledAutoruns))&&(this.scrollEnabledAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateScrollEnabled:function(){var e=this.unobservedScrollEnabled,e=(this.emitScrollEnabledChange(e,e),this.scrollEnabledAutoruns);null!=e&&(this.scrollEnabledAutoruns=null,A.invalidateAutorunArray(e))},unobservedScrollEnabled:null,__cbOnScrollEnabledChange:null,__cbOnceScrollEnabledChange:null,__cbOnOwnerUnbindScrollEnabledChange:null,__cbOnceOwnerUnbindScrollEnabledChange:null,emitScrollEnabledChange:function(e,n){var t=0;if(null!=this.__cbOnScrollEnabledChange&&(t+=this.__cbOnScrollEnabledChange.length),null!=this.__cbOnceScrollEnabledChange&&(t+=this.__cbOnceScrollEnabledChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnScrollEnabledChange)for(var r=0,h=this.__cbOnScrollEnabledChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnScrollEnabledChange[a],++s):--t}if(null!=this.__cbOnceScrollEnabledChange){for(var o=null,c=null,r=0,h=this.__cbOnceScrollEnabledChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceScrollEnabledChange[a],this.__cbOnceScrollEnabledChange[a]=null,u=this.__cbOnceOwnerUnbindScrollEnabledChange[a],(this.__cbOnceOwnerUnbindScrollEnabledChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindScrollEnabledChange[a]),c.push(this.__cbOnceScrollEnabledChange[a]))}this.__cbOnceOwnerUnbindScrollEnabledChange=o,this.__cbOnceScrollEnabledChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onScrollEnabledChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event scrollEnabledChange because owner is destroyed!");var l=function(e){null!=t&&(i.offScrollEnabledChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindScrollEnabledChange&&(this.__cbOnOwnerUnbindScrollEnabledChange=[]),this.__cbOnOwnerUnbindScrollEnabledChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindScrollEnabledChange&&(this.__cbOnOwnerUnbindScrollEnabledChange=[]),this.__cbOnOwnerUnbindScrollEnabledChange.push(null);null==this.__cbOnScrollEnabledChange&&(this.__cbOnScrollEnabledChange=[]),this.__cbOnScrollEnabledChange.push(t)},onceScrollEnabledChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event scrollEnabledChange because owner is destroyed!");var l=function(e){null!=t&&(i.offScrollEnabledChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindScrollEnabledChange&&(this.__cbOnceOwnerUnbindScrollEnabledChange=[]),this.__cbOnceOwnerUnbindScrollEnabledChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindScrollEnabledChange&&(this.__cbOnceOwnerUnbindScrollEnabledChange=[]),this.__cbOnceOwnerUnbindScrollEnabledChange.push(null);null==this.__cbOnceScrollEnabledChange&&(this.__cbOnceScrollEnabledChange=[]),this.__cbOnceScrollEnabledChange.push(t)},offScrollEnabledChange:function(e){if(null!=e){var n;null!=this.__cbOnScrollEnabledChange&&-1!=(n=this.__cbOnScrollEnabledChange.indexOf(e))&&(this.__cbOnScrollEnabledChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindScrollEnabledChange[n])&&s(),this.__cbOnOwnerUnbindScrollEnabledChange.splice(n,1)),null!=this.__cbOnceScrollEnabledChange&&-1!=(n=this.__cbOnceScrollEnabledChange.indexOf(e))&&(this.__cbOnceScrollEnabledChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindScrollEnabledChange[n])&&s(),this.__cbOnceOwnerUnbindScrollEnabledChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindScrollEnabledChange){for(var t=0,i=this.__cbOnOwnerUnbindScrollEnabledChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindScrollEnabledChange[l])&&s()}this.__cbOnOwnerUnbindScrollEnabledChange=null}if(null!=this.__cbOnceOwnerUnbindScrollEnabledChange){for(t=0,i=this.__cbOnceOwnerUnbindScrollEnabledChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindScrollEnabledChange[l])&&s()}this.__cbOnceOwnerUnbindScrollEnabledChange=null}this.__cbOnScrollEnabledChange=null,this.__cbOnceScrollEnabledChange=null}},listensScrollEnabledChange:function(){return null!=this.__cbOnScrollEnabledChange&&0<this.__cbOnScrollEnabledChange.length||null!=this.__cbOnceScrollEnabledChange&&0<this.__cbOnceScrollEnabledChange.length},windowItem:null,autoCheckLocked:null,updateFromScrollEnabled:function(){var e=this.get_scrollEnabled(),n=(A.unobserve(),this.collectionView.scroller);n.set_scrollEnabled(e),n.scrollbar.set_active(e)},updateFromItems:function(){var e=this;this.get_items(),this.get_smallItems(),this.get_scrollEnabled();A.unobserve(),this.collectionView.reloadData(),this.collectionView.onceLayout(this,function(){e.collectionView.scroller.scrollToBounds()}),this.collectionView.layoutDirty=!0,A.reobserve()},layout:function(){f0.prototype.layout.call(this);var e=this.collectionView,n=this.get_width(),t=this.get_height();e.set_width(n),e.set_height(t)},checkLockedIfNeeded:function(e){this.autoCheckLocked&&this.checkLocked()},didEmitLockItem:function(e){this.checkLocked()},didEmitUnlockItem:function(e){this.checkLocked()},checkLocked:function(){var e=this.get_items();if(null!=e)for(var n=this.collectionView.frames,t=0,i=n.length;t<i;){var l,s=t++,r=n[s].view,h=e[s];null!=h&&null!=r&&0<=r._lifecycleState&&r instanceof Ii&&(r=r,l=!1,"string"!=typeof h&&1==L.getProperty(h,"locked")&&(l=!0),r.set_locked(l),l)&&s==this.get_selectedIndex()&&this.set_selectedIndex(-1)}},unbindEvents:function(){f0.prototype.unbindEvents.call(this),this.offObservedDirty(),this.offThemeChange(),this.offItemsChange(),this.offSelectedIndexChange(),this.offTrashableChange(),this.offLockableChange(),this.offDuplicableChange(),this.offSortableChange(),this.offSmallItemsChange(),this.offScrollEnabledChange(),this.offMoveItemAboveItem(),this.offMoveItemBelowItem(),this.offTrashItem(),this.offLockItem(),this.offUnlockItem(),this.offDuplicateItem()},__class__:Gd,__properties__:$extend(f0.prototype.__properties__,{set_scrollEnabled:"set_scrollEnabled",get_scrollEnabled:"get_scrollEnabled",set_smallItems:"set_smallItems",get_smallItems:"get_smallItems",set_sortable:"set_sortable",get_sortable:"get_sortable",set_duplicable:"set_duplicable",get_duplicable:"get_duplicable",set_lockable:"set_lockable",get_lockable:"get_lockable",set_trashable:"set_trashable",get_trashable:"get_trashable",set_selectedIndex:"set_selectedIndex",get_selectedIndex:"get_selectedIndex",set_items:"set_items",get_items:"get_items",set_theme:"set_theme",get_theme:"get_theme",set_dataSource:"set_dataSource"})}),function(e){this.listView=e}),Ni=((E["elements.ListViewDataSource"]=Wi).__name__="elements.ListViewDataSource",Wi.__interfaces__=[i0],Wi.prototype={listView:null,collectionViewSize:function(e){return null!=this.listView.get_items()?this.listView.get_items().length:0},collectionViewItemFrameAtIndex:function(e,n,t){t.width=e.get_width()-(this.listView.get_scrollEnabled()?12:0),t.height=this.listView.get_smallItems()?Gd.CELL_HEIGHT_SMALL:Gd.CELL_HEIGHT_LARGE},collectionViewReleaseItemAtIndex:function(e,n,t){return!0},collectionViewItemAtIndex:function(e,n,t){var i=null;return null!=t?(i=t).set_itemIndex(n):((i=new Ii).set_itemIndex(n),i.set_collectionView(e),this.bindCellView(i)),i},bindCellView:function(t){var i=this,n=(t.autorun(function(){var e=i.listView.get_items(),e=null!=e?e[t.get_itemIndex()]:null;null!=e&&("string"==typeof e?(t.set_title(e),t.set_subTitle(null),t.set_locked(!1)):(t.set_title(L.getProperty(e,"title")),t.set_subTitle(i.listView.get_smallItems()?null:L.getProperty(e,"subTitle")),t.set_locked(1==L.getProperty(e,"locked"))),t.set_selected(t.get_itemIndex()==i.listView.get_selectedIndex()))}),t.autorun(function(){var e=i.listView.get_theme();A.unobserve(),t.set_theme(e)}),new b0);t.component("click",n),n.onClick(t,function(){t.get_locked()||(i.listView.get_selectedIndex()!=t.get_itemIndex()?i.listView.set_selectedIndex(t.get_itemIndex()):i.listView.set_selectedIndex(-1))}),t.autorun(function(){var e=i.listView.get_sortable();A.unobserve(),e?t.bindDragDrop(n,function(e){var n;e!=t.get_itemIndex()&&null!=(null!=(n=i.listView.get_items())?n[t.get_itemIndex()]:null)&&null!=(null!=n?n[e]:null)&&(e>t.get_itemIndex()?i.listView.emitMoveItemAboveItem(t.get_itemIndex(),e):i.listView.emitMoveItemBelowItem(t.get_itemIndex(),e))}):t.unbindDragDrop(),A.reobserve()}),t.autorun(function(){var e=i.listView.get_trashable();A.unobserve(),e?t.set_handleTrash(function(){var e=i.listView.get_items();null!=(null!=e?e[t.get_itemIndex()]:null)&&i.listView.emitTrashItem(t.get_itemIndex())}):t.set_handleTrash(null),A.reobserve()}),t.autorun(function(){var e=i.listView.get_lockable();A.unobserve(),e?t.set_handleLock(function(){var e,n=i.listView.get_items(),n=null!=n?n[t.get_itemIndex()]:null;null!=n&&"string"!=typeof n&&(e=1!=n.locked,(n.locked=e)?i.listView.emitLockItem(t.get_itemIndex()):i.listView.emitUnlockItem(t.get_itemIndex()))}):t.set_handleLock(null),A.reobserve()}),t.autorun(function(){var e=i.listView.get_duplicable();A.unobserve(),e?t.set_handleDuplicate(function(){var e=i.listView.get_items();null!=(null!=e?e[t.get_itemIndex()]:null)&&i.listView.emitDuplicateItem(t.get_itemIndex())}):t.set_handleDuplicate(null),A.reobserve()}),t.onDraggingChange(this.listView,$bind(this,this.handleCellDraggingChange)),t.onDestroy(this.listView,$bind(this,this.handleCellDestroy))},handleCellDraggingChange:function(e,n){this.updateItemsBehaviorFromDragging()},handleCellDestroy:function(e){this.updateItemsBehaviorFromDragging()},updateItemsBehaviorFromDragging:function(){for(var e=this.listView.collectionView.frames,n=!1,t=0,i=e.length;t<i;){var l=e[t++].view;if(null!=l&&0<=l._lifecycleState&&l instanceof Ii)if(l.get_dragging()){n=!0;break}}this.listView.collectionView.set_itemsBehavior(n?3:1)},__class__:Wi},function(e,n,t,i,l,s,r,h,a,o,c,u){null==o&&(o=-1),null==a&&(a=-1),null==h&&(h=!1),null==i&&(i=!1),this.canceled=!1,this.chosenIndex=-1;var _=this;R1.call(this),this.key=e,this.title=n,this.message=t,i&&(null==l&&(this._promptValue="",l=function(e,n){return null!=e||n?_._promptValue=e:_._promptValue}),this.promptPointer=l,this.promptPlaceholder=s),this.choices=r,this.async=c,this.callback=u,this.cancelable=h,this.width=a,this.height=o}),zi=((E["elements.PendingDialog"]=Ni).__name__="elements.PendingDialog",Ni.__super__=R1,Ni.prototype=$extend(R1.prototype,{chosenIndex:null,canceled:null,promptPointer:null,promptPlaceholder:null,key:null,title:null,message:null,choices:null,cancelable:null,width:null,height:null,async:null,callback:null,_promptValue:null,destroy:function(){this._lifecycleState<=-2||(this._lifecycleState=-2,this.title=null,this.message=null,this.choices=null,this.callback=null,this._lifecycleState=-1,R1.prototype.destroy.call(this))},_default_chosenIndex:function(){return-1},_default_canceled:function(){return!1},__class__:Ni}),(E["elements.TextUtils"]=Kd).__name__="elements.TextUtils",Kd.toFieldLabel=function(e){for(var n="",t=0,i=e.length;t<i;){var l=t++,s=e.charAt(l);0==l?n+=K.string(s.toUpperCase()):s.toUpperCase()==s?n=n+" "+(null==s?"null":""+s):n+=null==s?"null":""+s}return n},Kd.compareStrings=function(e,n){return(e=e.toUpperCase())<(n=n.toUpperCase())?-1:n<e?1:0},Kd.compareStringFirstEntries=function(e,n){e=e[0],n=n[0];return(e=e.toUpperCase())<(n=n.toUpperCase())?-1:n<e?1:0},Kd.upperCaseToCamelCase=function(e,n,t){for(var i="",l=e.length,s=0,r=n=null==n?!0:n;s<l;){var h=e.charAt(s);"_"==h?r=!0:r?(r=!1,0<s&&null!=t&&(i+=null==t?"null":""+t),i+=K.string(h.toUpperCase())):i+=K.string(h.toLowerCase()),++s}return i},Kd.getPrefix=function(e){for(Kd.RE_PREFIXED.match(e)&&(e=Kd.RE_PREFIXED.matched(1));0<e.length&&"_"==e.charAt(e.length-1);)e=e.substring(0,e.length-1);return e},Kd.uppercasePrefixFromClass=function(e){for(var e=e.split("."),n=e[e.length-1],n=$t.camelCaseToUpperCase(n);0<n.length&&"_"==n.charAt(n.length-1);)n=n.substring(0,n.length-1);return n},Kd.slugifyUpperCase=function(e){return e=e.replace(Kd.RE_SPACES.r,"_"),e=ct.encode(e,Kd._slugUpperCase)},Kd.sanitizeToIdentifier=function(e){return e=(e=e.replace(Kd.RE_NUMERIC_PREFIX.r,"")).replace(Kd.RE_SPACES.r,"_"),e=ct.encode(e,new o1(!1,null,"_"))},function(){}),Gi=((E["elements.SanitizeTextField"]=zi).__name__="elements.SanitizeTextField",zi.setTextValueToInt=function(e,n,t,i){var l=z.trim(n);""!=l&&"-"!=l?null!=(n=K.parseInt(n))&&!isNaN(n)&&isFinite(n)&&(e.setValue(e,n=i<(n=n<t?t:n)?i:n),e.set_textValue(""+n)):e.set_textValue(l),e.invalidateTextValue()},zi.setEmptyToInt=function(e,n,t){var i=0;return e.set_textValue(""+(i=t<(i=i<n?n:i)?t:i)),i},zi.setTextValueToFloat=function(e,n,t,i,l,s){var r,h,a,o=z.trim(n);""!=o&&"-"!=o?(a=(a=(r="-"==(h=(n=z.replace(n,",",".")).charAt(0))||"+"==h)?n.substring(1):n).replace(zi.RE_NON_DIGIT_OR_DOT.r,"0"),r=n=r?h+a:a,h=null,-1!=(a=n.indexOf("."))&&(r=n.substring(0,a),h="."+z.replace(n.substring(a+1),".","0")),null!=(a=parseFloat(n))&&!isNaN(a)&&isFinite(a)&&(i<(a=a<t?t:a)&&(a=i),1==l?a=Math.round(a):1<l&&(a=Math.round(a*l)/l),e.setValue(e,a),s?e.set_textValue(""+a):e.set_textValue(r+(null!=h?h:"")))):e.set_textValue(o),e.invalidateTextValue()},zi.setEmptyToFloat=function(e,n,t,i){var l=0;return t<(l=l<n?n:l)&&(l=t),1==i?l=Math.round(l):1<i&&(l=Math.round(l*i)/i),e.set_textValue(""+l),l},zi.setTextValueToEmptyFloat=function(e){e.set_textValue("0"),e.invalidateTextValue()},zi.applyFloatOrIntOperationsIfNeeded=function(e,n,t,i,l,s){var r,h,a,o=n.indexOf("+"),c=n.indexOf("-"),u=n.indexOf("*"),_=n.indexOf("/");return 0<o?(r=z.trim(he.substr(n,0,o)),h=z.trim(he.substr(n,o+1,null)),a=parseFloat(r)+parseFloat(h),isNaN(a)?l?zi.setTextValueToInt(e,r,0|t,0|i):zi.setTextValueToFloat(e,r,t,i,s,!0):l?zi.setTextValueToInt(e,""+a,0|t,0|i):zi.setTextValueToFloat(e,""+a,t,i,s,!0),!0):0<c?(r=z.trim(he.substr(n,0,c)),h=z.trim(he.substr(n,c+1,null)),a=parseFloat(r)-parseFloat(h),isNaN(a)?l?zi.setTextValueToInt(e,r,0|t,0|i):zi.setTextValueToFloat(e,r,t,i,s,!0):l?zi.setTextValueToInt(e,""+a,0|t,0|i):zi.setTextValueToFloat(e,""+a,t,i,s,!0),!0):0<u?(r=z.trim(he.substr(n,0,u)),h=z.trim(he.substr(n,u+1,null)),a=parseFloat(r)*parseFloat(h),isNaN(a)?l?zi.setTextValueToInt(e,r,0|t,0|i):zi.setTextValueToFloat(e,r,t,i,s,!0):l?zi.setTextValueToInt(e,""+a,0|t,0|i):zi.setTextValueToFloat(e,""+a,t,i,s,!0),!0):0<_&&(r=z.trim(he.substr(n,0,_)),h=z.trim(he.substr(n,_+1,null)),a=parseFloat(r)/parseFloat(h),isNaN(a)?l?zi.setTextValueToInt(e,r,0|t,0|i):zi.setTextValueToFloat(e,r,t,i,s,!0):l?zi.setTextValueToInt(e,""+a,0|t,0|i):zi.setTextValueToFloat(e,""+a,t,i,s,!0),!0)},function(){this.insetBottom=1,this.insetTop=1,this.insetRight=1,this.insetLeft=1,this.unobservedPressed=!1,this.pressedAutoruns=null,this.unobservedHover=!1,this.hoverAutoruns=null,this.unobservedTheme=null,this.themeAutoruns=null,this.observedDirty=!1;var n=this,e=(o.call(this),this.quad=new p,this.quad),t=this.insetTop;e.set_x(this.insetLeft),e.set_y(t),this.add(this.quad),this.onPointerDown(this,function(e){n.set_pressed(!0)}),this.onPointerUp(this,function(e){n.set_pressed(!1)}),this.onPointerOver(this,function(e){n.set_hover(!0)}),this.onPointerOut(this,function(e){n.set_hover(!1)}),this.autorun($bind(this,this.updateStyle)),this.set_width(12),this.set_height(12)}),Yi=((E["elements.Scrollbar"]=Gi).__name__="elements.Scrollbar",Gi.__interfaces__=[s],Gi.__super__=o,Gi.prototype=$extend(o.prototype,{__cbOnObservedDirty:null,__cbOnceObservedDirty:null,__cbOnOwnerUnbindObservedDirty:null,__cbOnceOwnerUnbindObservedDirty:null,emitObservedDirty:function(e,n){var t=0;if(null!=this.__cbOnObservedDirty&&(t+=this.__cbOnObservedDirty.length),null!=this.__cbOnceObservedDirty&&(t+=this.__cbOnceObservedDirty.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnObservedDirty)for(var r=0,h=this.__cbOnObservedDirty.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnObservedDirty[a],++s):--t}if(null!=this.__cbOnceObservedDirty){for(var o=null,c=null,r=0,h=this.__cbOnceObservedDirty.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceObservedDirty[a],this.__cbOnceObservedDirty[a]=null,u=this.__cbOnceOwnerUnbindObservedDirty[a],(this.__cbOnceOwnerUnbindObservedDirty[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindObservedDirty[a]),c.push(this.__cbOnceObservedDirty[a]))}this.__cbOnceOwnerUnbindObservedDirty=o,this.__cbOnceObservedDirty=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onObservedDirty:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event observedDirty because owner is destroyed!");var l=function(e){null!=t&&(i.offObservedDirty(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push(null);null==this.__cbOnObservedDirty&&(this.__cbOnObservedDirty=[]),this.__cbOnObservedDirty.push(t)},onceObservedDirty:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event observedDirty because owner is destroyed!");var l=function(e){null!=t&&(i.offObservedDirty(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push(null);null==this.__cbOnceObservedDirty&&(this.__cbOnceObservedDirty=[]),this.__cbOnceObservedDirty.push(t)},offObservedDirty:function(e){if(null!=e){var n;null!=this.__cbOnObservedDirty&&-1!=(n=this.__cbOnObservedDirty.indexOf(e))&&(this.__cbOnObservedDirty.splice(n,1),null!=(s=this.__cbOnOwnerUnbindObservedDirty[n])&&s(),this.__cbOnOwnerUnbindObservedDirty.splice(n,1)),null!=this.__cbOnceObservedDirty&&-1!=(n=this.__cbOnceObservedDirty.indexOf(e))&&(this.__cbOnceObservedDirty.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindObservedDirty[n])&&s(),this.__cbOnceOwnerUnbindObservedDirty.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindObservedDirty){for(var t=0,i=this.__cbOnOwnerUnbindObservedDirty.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindObservedDirty[l])&&s()}this.__cbOnOwnerUnbindObservedDirty=null}if(null!=this.__cbOnceOwnerUnbindObservedDirty){for(t=0,i=this.__cbOnceOwnerUnbindObservedDirty.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindObservedDirty[l])&&s()}this.__cbOnceOwnerUnbindObservedDirty=null}this.__cbOnObservedDirty=null,this.__cbOnceObservedDirty=null}},listensObservedDirty:function(){return null!=this.__cbOnObservedDirty&&0<this.__cbOnObservedDirty.length||null!=this.__cbOnceObservedDirty&&0<this.__cbOnceObservedDirty.length},observedDirty:null,themeAutoruns:null,get_theme:function(){var e,n,t=this.unobservedTheme;return null!=A.current&&(e=A.current,null!=(n=this.themeAutoruns)||(n=A.getAutorunArray(),null!=(this.themeAutoruns=n)))&&e.bindToAutorunArray(n),t},set_theme:function(e){var n=this.unobservedTheme;return n!=(this.unobservedTheme=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitThemeChange(e,n),null!=(n=this.themeAutoruns))&&(this.themeAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateTheme:function(){var e=this.unobservedTheme,e=(this.emitThemeChange(e,e),this.themeAutoruns);null!=e&&(this.themeAutoruns=null,A.invalidateAutorunArray(e))},unobservedTheme:null,__cbOnThemeChange:null,__cbOnceThemeChange:null,__cbOnOwnerUnbindThemeChange:null,__cbOnceOwnerUnbindThemeChange:null,emitThemeChange:function(e,n){var t=0;if(null!=this.__cbOnThemeChange&&(t+=this.__cbOnThemeChange.length),null!=this.__cbOnceThemeChange&&(t+=this.__cbOnceThemeChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnThemeChange)for(var r=0,h=this.__cbOnThemeChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnThemeChange[a],++s):--t}if(null!=this.__cbOnceThemeChange){for(var o=null,c=null,r=0,h=this.__cbOnceThemeChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceThemeChange[a],this.__cbOnceThemeChange[a]=null,u=this.__cbOnceOwnerUnbindThemeChange[a],(this.__cbOnceOwnerUnbindThemeChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindThemeChange[a]),c.push(this.__cbOnceThemeChange[a]))}this.__cbOnceOwnerUnbindThemeChange=o,this.__cbOnceThemeChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onThemeChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event themeChange because owner is destroyed!");var l=function(e){null!=t&&(i.offThemeChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindThemeChange&&(this.__cbOnOwnerUnbindThemeChange=[]),this.__cbOnOwnerUnbindThemeChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindThemeChange&&(this.__cbOnOwnerUnbindThemeChange=[]),this.__cbOnOwnerUnbindThemeChange.push(null);null==this.__cbOnThemeChange&&(this.__cbOnThemeChange=[]),this.__cbOnThemeChange.push(t)},onceThemeChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event themeChange because owner is destroyed!");var l=function(e){null!=t&&(i.offThemeChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindThemeChange&&(this.__cbOnceOwnerUnbindThemeChange=[]),this.__cbOnceOwnerUnbindThemeChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindThemeChange&&(this.__cbOnceOwnerUnbindThemeChange=[]),this.__cbOnceOwnerUnbindThemeChange.push(null);null==this.__cbOnceThemeChange&&(this.__cbOnceThemeChange=[]),this.__cbOnceThemeChange.push(t)},offThemeChange:function(e){if(null!=e){var n;null!=this.__cbOnThemeChange&&-1!=(n=this.__cbOnThemeChange.indexOf(e))&&(this.__cbOnThemeChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindThemeChange[n])&&s(),this.__cbOnOwnerUnbindThemeChange.splice(n,1)),null!=this.__cbOnceThemeChange&&-1!=(n=this.__cbOnceThemeChange.indexOf(e))&&(this.__cbOnceThemeChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindThemeChange[n])&&s(),this.__cbOnceOwnerUnbindThemeChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindThemeChange){for(var t=0,i=this.__cbOnOwnerUnbindThemeChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindThemeChange[l])&&s()}this.__cbOnOwnerUnbindThemeChange=null}if(null!=this.__cbOnceOwnerUnbindThemeChange){for(t=0,i=this.__cbOnceOwnerUnbindThemeChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindThemeChange[l])&&s()}this.__cbOnceOwnerUnbindThemeChange=null}this.__cbOnThemeChange=null,this.__cbOnceThemeChange=null}},listensThemeChange:function(){return null!=this.__cbOnThemeChange&&0<this.__cbOnThemeChange.length||null!=this.__cbOnceThemeChange&&0<this.__cbOnceThemeChange.length},hoverAutoruns:null,get_hover:function(){var e,n,t=this.unobservedHover;return null!=A.current&&(e=A.current,null!=(n=this.hoverAutoruns)||(n=A.getAutorunArray(),null!=(this.hoverAutoruns=n)))&&e.bindToAutorunArray(n),t},set_hover:function(e){var n=this.unobservedHover;return n!=(this.unobservedHover=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitHoverChange(e,n),null!=(n=this.hoverAutoruns))&&(this.hoverAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateHover:function(){var e=this.unobservedHover,e=(this.emitHoverChange(e,e),this.hoverAutoruns);null!=e&&(this.hoverAutoruns=null,A.invalidateAutorunArray(e))},unobservedHover:null,__cbOnHoverChange:null,__cbOnceHoverChange:null,__cbOnOwnerUnbindHoverChange:null,__cbOnceOwnerUnbindHoverChange:null,emitHoverChange:function(e,n){var t=0;if(null!=this.__cbOnHoverChange&&(t+=this.__cbOnHoverChange.length),null!=this.__cbOnceHoverChange&&(t+=this.__cbOnceHoverChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnHoverChange)for(var r=0,h=this.__cbOnHoverChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnHoverChange[a],++s):--t}if(null!=this.__cbOnceHoverChange){for(var o=null,c=null,r=0,h=this.__cbOnceHoverChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceHoverChange[a],this.__cbOnceHoverChange[a]=null,u=this.__cbOnceOwnerUnbindHoverChange[a],(this.__cbOnceOwnerUnbindHoverChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindHoverChange[a]),c.push(this.__cbOnceHoverChange[a]))}this.__cbOnceOwnerUnbindHoverChange=o,this.__cbOnceHoverChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onHoverChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event hoverChange because owner is destroyed!");var l=function(e){null!=t&&(i.offHoverChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindHoverChange&&(this.__cbOnOwnerUnbindHoverChange=[]),this.__cbOnOwnerUnbindHoverChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindHoverChange&&(this.__cbOnOwnerUnbindHoverChange=[]),this.__cbOnOwnerUnbindHoverChange.push(null);null==this.__cbOnHoverChange&&(this.__cbOnHoverChange=[]),this.__cbOnHoverChange.push(t)},onceHoverChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event hoverChange because owner is destroyed!");var l=function(e){null!=t&&(i.offHoverChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindHoverChange&&(this.__cbOnceOwnerUnbindHoverChange=[]),this.__cbOnceOwnerUnbindHoverChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindHoverChange&&(this.__cbOnceOwnerUnbindHoverChange=[]),this.__cbOnceOwnerUnbindHoverChange.push(null);null==this.__cbOnceHoverChange&&(this.__cbOnceHoverChange=[]),this.__cbOnceHoverChange.push(t)},offHoverChange:function(e){if(null!=e){var n;null!=this.__cbOnHoverChange&&-1!=(n=this.__cbOnHoverChange.indexOf(e))&&(this.__cbOnHoverChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindHoverChange[n])&&s(),this.__cbOnOwnerUnbindHoverChange.splice(n,1)),null!=this.__cbOnceHoverChange&&-1!=(n=this.__cbOnceHoverChange.indexOf(e))&&(this.__cbOnceHoverChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindHoverChange[n])&&s(),this.__cbOnceOwnerUnbindHoverChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindHoverChange){for(var t=0,i=this.__cbOnOwnerUnbindHoverChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindHoverChange[l])&&s()}this.__cbOnOwnerUnbindHoverChange=null}if(null!=this.__cbOnceOwnerUnbindHoverChange){for(t=0,i=this.__cbOnceOwnerUnbindHoverChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindHoverChange[l])&&s()}this.__cbOnceOwnerUnbindHoverChange=null}this.__cbOnHoverChange=null,this.__cbOnceHoverChange=null}},listensHoverChange:function(){return null!=this.__cbOnHoverChange&&0<this.__cbOnHoverChange.length||null!=this.__cbOnceHoverChange&&0<this.__cbOnceHoverChange.length},pressedAutoruns:null,get_pressed:function(){var e,n,t=this.unobservedPressed;return null!=A.current&&(e=A.current,null!=(n=this.pressedAutoruns)||(n=A.getAutorunArray(),null!=(this.pressedAutoruns=n)))&&e.bindToAutorunArray(n),t},set_pressed:function(e){var n=this.unobservedPressed;return n!=(this.unobservedPressed=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitPressedChange(e,n),null!=(n=this.pressedAutoruns))&&(this.pressedAutoruns=null,A.invalidateAutorunArray(n)),e},invalidatePressed:function(){var e=this.unobservedPressed,e=(this.emitPressedChange(e,e),this.pressedAutoruns);null!=e&&(this.pressedAutoruns=null,A.invalidateAutorunArray(e))},unobservedPressed:null,__cbOnPressedChange:null,__cbOncePressedChange:null,__cbOnOwnerUnbindPressedChange:null,__cbOnceOwnerUnbindPressedChange:null,emitPressedChange:function(e,n){var t=0;if(null!=this.__cbOnPressedChange&&(t+=this.__cbOnPressedChange.length),null!=this.__cbOncePressedChange&&(t+=this.__cbOncePressedChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnPressedChange)for(var r=0,h=this.__cbOnPressedChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnPressedChange[a],++s):--t}if(null!=this.__cbOncePressedChange){for(var o=null,c=null,r=0,h=this.__cbOncePressedChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOncePressedChange[a],this.__cbOncePressedChange[a]=null,u=this.__cbOnceOwnerUnbindPressedChange[a],(this.__cbOnceOwnerUnbindPressedChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindPressedChange[a]),c.push(this.__cbOncePressedChange[a]))}this.__cbOnceOwnerUnbindPressedChange=o,this.__cbOncePressedChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onPressedChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event pressedChange because owner is destroyed!");var l=function(e){null!=t&&(i.offPressedChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindPressedChange&&(this.__cbOnOwnerUnbindPressedChange=[]),this.__cbOnOwnerUnbindPressedChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindPressedChange&&(this.__cbOnOwnerUnbindPressedChange=[]),this.__cbOnOwnerUnbindPressedChange.push(null);null==this.__cbOnPressedChange&&(this.__cbOnPressedChange=[]),this.__cbOnPressedChange.push(t)},oncePressedChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event pressedChange because owner is destroyed!");var l=function(e){null!=t&&(i.offPressedChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindPressedChange&&(this.__cbOnceOwnerUnbindPressedChange=[]),this.__cbOnceOwnerUnbindPressedChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindPressedChange&&(this.__cbOnceOwnerUnbindPressedChange=[]),this.__cbOnceOwnerUnbindPressedChange.push(null);null==this.__cbOncePressedChange&&(this.__cbOncePressedChange=[]),this.__cbOncePressedChange.push(t)},offPressedChange:function(e){if(null!=e){var n;null!=this.__cbOnPressedChange&&-1!=(n=this.__cbOnPressedChange.indexOf(e))&&(this.__cbOnPressedChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindPressedChange[n])&&s(),this.__cbOnOwnerUnbindPressedChange.splice(n,1)),null!=this.__cbOncePressedChange&&-1!=(n=this.__cbOncePressedChange.indexOf(e))&&(this.__cbOncePressedChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindPressedChange[n])&&s(),this.__cbOnceOwnerUnbindPressedChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindPressedChange){for(var t=0,i=this.__cbOnOwnerUnbindPressedChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindPressedChange[l])&&s()}this.__cbOnOwnerUnbindPressedChange=null}if(null!=this.__cbOnceOwnerUnbindPressedChange){for(t=0,i=this.__cbOnceOwnerUnbindPressedChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindPressedChange[l])&&s()}this.__cbOnceOwnerUnbindPressedChange=null}this.__cbOnPressedChange=null,this.__cbOncePressedChange=null}},listensPressedChange:function(){return null!=this.__cbOnPressedChange&&0<this.__cbOnPressedChange.length||null!=this.__cbOncePressedChange&&0<this.__cbOncePressedChange.length},insetLeft:null,insetRight:null,insetTop:null,insetBottom:null,quad:null,set_width:function(e){return o.prototype.set_width.call(this,e),this.quad.set_width(e-this.insetLeft-this.insetRight),e},set_height:function(e){return o.prototype.set_height.call(this,e),this.quad.set_height(e-this.insetTop-this.insetBottom),e},inset:function(e,n,t,i){this.insetTop=e,this.insetRight=n,this.insetBottom=t,this.insetLeft=i,this.quad.set_width(this.get_width()-i-n),this.quad.set_height(this.get_height()-e-t)},updateStyle:function(){var e,n,t,i,l,s,r=this.get_theme();null==r&&(r=G.get_context().get_theme()),this.get_pressed()?(e=r.get_lightBackgroundColor(),i=(((n=r.get_darkTextColor())>>16&255)-(e>>16&255))*(t=null==(t=.5)?.5:t)+(e>>16&255)|0,this.quad.color=((0&65535|(255<i?255:i<0?0:i)<<16)&16711935|(255<(l=((n>>8&255)-(e>>8&255))*t+(e>>8&255)|0)?255:l<0?0:l)<<8)&16776960|(255<(s=((255&n)-(255&e))*t+(255&e)|0)?255:s<0?0:s)):this.get_hover()?(e=r.get_lightBackgroundColor(),i=(((n=r.get_darkTextColor())>>16&255)-(e>>16&255))*(t=null==(t=.25)?.5:t)+(e>>16&255)|0,this.quad.color=((0&65535|(255<i?255:i<0?0:i)<<16)&16711935|(255<(l=((n>>8&255)-(e>>8&255))*t+(e>>8&255)|0)?255:l<0?0:l)<<8)&16776960|(255<(s=((255&n)-(255&e))*t+(255&e)|0)?255:s<0?0:s)):this.quad.color=r.get_lightBackgroundColor()},unbindEvents:function(){o.prototype.unbindEvents.call(this),this.offObservedDirty(),this.offThemeChange(),this.offHoverChange(),this.offPressedChange()},__class__:Gi,__properties__:$extend(o.prototype.__properties__,{set_pressed:"set_pressed",get_pressed:"get_pressed",set_hover:"set_hover",get_hover:"get_hover",set_theme:"set_theme",get_theme:"get_theme"})}),function(e,n){null==n&&(n=!1),this.checkChildrenOfView=null,this.unobservedTheme=null,this.themeAutoruns=null,this.observedDirty=!1,g0.call(this),this.filter=new _n,this.filter.set_density(ee.app.screenDensity),this.add(this.filter),this.layoutView=e,this.contentView.add(e),this.set_viewWidth(-60002),this.set_viewHeight(-60002),this.flags|=16;e=this.contentView;e.flags|=16,this.scroller.allowPointerOutside=!1,this.scroller.bounceMinDuration=0,this.scroller.bounceDurationFactor=0,this.filter.content.add(this.scroller),n&&(1!=(e=this.contentView).borderTopSize&&(e.borderTopSize=1,e.updateBorder()),e=this.contentView,n=He.OUTSIDE,e.borderPosition!=n&&(e.borderPosition=n,0<e.borderSize||0<e.borderTopSize||0<e.borderBottomSize||0<e.borderLeftSize||0<e.borderRightSize)&&e.updateBorder(),1!=this.borderBottomSize&&(this.borderBottomSize=1,this.updateBorder()),n=He.INSIDE,this.borderPosition!=n)&&(this.borderPosition=n,0<this.borderSize||0<this.borderTopSize||0<this.borderBottomSize||0<this.borderLeftSize||0<this.borderRightSize)&&this.updateBorder(),this.scroller.dragEnabled=!1,this.autorun($bind(this,this.updateStyle)),ae.app.onPostUpdate(this,$bind(this,this.handlePostUpdate))}),Xi=((E["elements.ScrollingLayout"]=Yi).__name__="elements.ScrollingLayout",Yi.__interfaces__=[s],Yi.__super__=g0,Yi.prototype=$extend(g0.prototype,{__cbOnObservedDirty:null,__cbOnceObservedDirty:null,__cbOnOwnerUnbindObservedDirty:null,__cbOnceOwnerUnbindObservedDirty:null,emitObservedDirty:function(e,n){var t=0;if(null!=this.__cbOnObservedDirty&&(t+=this.__cbOnObservedDirty.length),null!=this.__cbOnceObservedDirty&&(t+=this.__cbOnceObservedDirty.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnObservedDirty)for(var r=0,h=this.__cbOnObservedDirty.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnObservedDirty[a],++s):--t}if(null!=this.__cbOnceObservedDirty){for(var o=null,c=null,r=0,h=this.__cbOnceObservedDirty.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceObservedDirty[a],this.__cbOnceObservedDirty[a]=null,u=this.__cbOnceOwnerUnbindObservedDirty[a],(this.__cbOnceOwnerUnbindObservedDirty[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindObservedDirty[a]),c.push(this.__cbOnceObservedDirty[a]))}this.__cbOnceOwnerUnbindObservedDirty=o,this.__cbOnceObservedDirty=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onObservedDirty:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event observedDirty because owner is destroyed!");var l=function(e){null!=t&&(i.offObservedDirty(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push(null);null==this.__cbOnObservedDirty&&(this.__cbOnObservedDirty=[]),this.__cbOnObservedDirty.push(t)},onceObservedDirty:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event observedDirty because owner is destroyed!");var l=function(e){null!=t&&(i.offObservedDirty(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push(null);null==this.__cbOnceObservedDirty&&(this.__cbOnceObservedDirty=[]),this.__cbOnceObservedDirty.push(t)},offObservedDirty:function(e){if(null!=e){var n;null!=this.__cbOnObservedDirty&&-1!=(n=this.__cbOnObservedDirty.indexOf(e))&&(this.__cbOnObservedDirty.splice(n,1),null!=(s=this.__cbOnOwnerUnbindObservedDirty[n])&&s(),this.__cbOnOwnerUnbindObservedDirty.splice(n,1)),null!=this.__cbOnceObservedDirty&&-1!=(n=this.__cbOnceObservedDirty.indexOf(e))&&(this.__cbOnceObservedDirty.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindObservedDirty[n])&&s(),this.__cbOnceOwnerUnbindObservedDirty.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindObservedDirty){for(var t=0,i=this.__cbOnOwnerUnbindObservedDirty.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindObservedDirty[l])&&s()}this.__cbOnOwnerUnbindObservedDirty=null}if(null!=this.__cbOnceOwnerUnbindObservedDirty){for(t=0,i=this.__cbOnceOwnerUnbindObservedDirty.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindObservedDirty[l])&&s()}this.__cbOnceOwnerUnbindObservedDirty=null}this.__cbOnObservedDirty=null,this.__cbOnceObservedDirty=null}},listensObservedDirty:function(){return null!=this.__cbOnObservedDirty&&0<this.__cbOnObservedDirty.length||null!=this.__cbOnceObservedDirty&&0<this.__cbOnceObservedDirty.length},observedDirty:null,themeAutoruns:null,get_theme:function(){var e,n,t=this.unobservedTheme;return null!=A.current&&(e=A.current,null!=(n=this.themeAutoruns)||(n=A.getAutorunArray(),null!=(this.themeAutoruns=n)))&&e.bindToAutorunArray(n),t},set_theme:function(e){var n=this.unobservedTheme;return n!=(this.unobservedTheme=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitThemeChange(e,n),null!=(n=this.themeAutoruns))&&(this.themeAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateTheme:function(){var e=this.unobservedTheme,e=(this.emitThemeChange(e,e),this.themeAutoruns);null!=e&&(this.themeAutoruns=null,A.invalidateAutorunArray(e))},unobservedTheme:null,__cbOnThemeChange:null,__cbOnceThemeChange:null,__cbOnOwnerUnbindThemeChange:null,__cbOnceOwnerUnbindThemeChange:null,emitThemeChange:function(e,n){var t=0;if(null!=this.__cbOnThemeChange&&(t+=this.__cbOnThemeChange.length),null!=this.__cbOnceThemeChange&&(t+=this.__cbOnceThemeChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnThemeChange)for(var r=0,h=this.__cbOnThemeChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnThemeChange[a],++s):--t}if(null!=this.__cbOnceThemeChange){for(var o=null,c=null,r=0,h=this.__cbOnceThemeChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceThemeChange[a],this.__cbOnceThemeChange[a]=null,u=this.__cbOnceOwnerUnbindThemeChange[a],(this.__cbOnceOwnerUnbindThemeChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindThemeChange[a]),c.push(this.__cbOnceThemeChange[a]))}this.__cbOnceOwnerUnbindThemeChange=o,this.__cbOnceThemeChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onThemeChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event themeChange because owner is destroyed!");var l=function(e){null!=t&&(i.offThemeChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindThemeChange&&(this.__cbOnOwnerUnbindThemeChange=[]),this.__cbOnOwnerUnbindThemeChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindThemeChange&&(this.__cbOnOwnerUnbindThemeChange=[]),this.__cbOnOwnerUnbindThemeChange.push(null);null==this.__cbOnThemeChange&&(this.__cbOnThemeChange=[]),this.__cbOnThemeChange.push(t)},onceThemeChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event themeChange because owner is destroyed!");var l=function(e){null!=t&&(i.offThemeChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindThemeChange&&(this.__cbOnceOwnerUnbindThemeChange=[]),this.__cbOnceOwnerUnbindThemeChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindThemeChange&&(this.__cbOnceOwnerUnbindThemeChange=[]),this.__cbOnceOwnerUnbindThemeChange.push(null);null==this.__cbOnceThemeChange&&(this.__cbOnceThemeChange=[]),this.__cbOnceThemeChange.push(t)},offThemeChange:function(e){if(null!=e){var n;null!=this.__cbOnThemeChange&&-1!=(n=this.__cbOnThemeChange.indexOf(e))&&(this.__cbOnThemeChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindThemeChange[n])&&s(),this.__cbOnOwnerUnbindThemeChange.splice(n,1)),null!=this.__cbOnceThemeChange&&-1!=(n=this.__cbOnceThemeChange.indexOf(e))&&(this.__cbOnceThemeChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindThemeChange[n])&&s(),this.__cbOnceOwnerUnbindThemeChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindThemeChange){for(var t=0,i=this.__cbOnOwnerUnbindThemeChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindThemeChange[l])&&s()}this.__cbOnOwnerUnbindThemeChange=null}if(null!=this.__cbOnceOwnerUnbindThemeChange){for(t=0,i=this.__cbOnceOwnerUnbindThemeChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindThemeChange[l])&&s()}this.__cbOnceOwnerUnbindThemeChange=null}this.__cbOnThemeChange=null,this.__cbOnceThemeChange=null}},listensThemeChange:function(){return null!=this.__cbOnThemeChange&&0<this.__cbOnThemeChange.length||null!=this.__cbOnceThemeChange&&0<this.__cbOnceThemeChange.length},layoutView:null,checkChildrenOfView:null,filter:null,layout:function(){(e=this.filter).set_x(0),e.set_y(0);var e=this.filter,n=this.get_width(),t=this.get_height();e.set_width(n),e.set_height(t);(e=this.scroller).set_x(0),e.set_y(0);var i,e=this.scroller,n=this.get_width(),t=this.get_height(),l=(e.set_width(n),e.set_height(t),this.layoutView),e=(this.scroller.direction==it.VERTICAL?(l.computeSize(this.get_width(),this.get_height(),4,!0),n=l.computedSize.computedWidth,t=Math.max(l.computedSize.computedHeight,this.get_height()),l.set_width(n),l.set_height(t),l.computedSize.computedHeight- -this.scroller.scrollTransform.ty<this.get_height()&&(e=this.scroller,i=l.computedSize.computedHeight-this.get_height(),e.scrollTransform.ty!=-i)&&(e.scrollTransform.ty=-i,e.scrollTransform.changedDirty=!0)):(l.computeSize(this.get_width(),this.get_height(),1,!0),n=Math.max(l.computedSize.computedWidth,this.get_width()),t=l.computedSize.computedHeight,l.set_width(n),l.set_height(t),l.computedSize.computedWidth- -this.scroller.scrollTransform.tx<this.get_width()&&(e=this.scroller,i=l.computedSize.computedWidth-this.get_width(),e.scrollTransform.tx!=-i)&&(e.scrollTransform.tx=-i,e.scrollTransform.changedDirty=!0)),this.contentView),n=l.get_width(),t=l.get_height();e.set_width(n),e.set_height(t),this.scroller.scrollToBounds()},handlePostUpdate:function(e){if(this.filter.set_density(ee.app.screenDensity),null!=this.checkChildrenOfView)if(this.checkChildrenOfView._lifecycleState<0)this.checkChildrenOfView=null;else{var n=this.checkChildrenOfView.subviews;if(null!=n)for(var t=0,i=n.length;t<i;){var l,s=n[t++];1!=(1&s.flags)&&((l=s.y)+s.get_height()<-this.scroller.scrollTransform.ty||l>this.get_height()+-this.scroller.scrollTransform.ty?s.set_visible(!1):s.set_visible(!0))}}},updateStyle:function(){var e=this.get_theme(),e=(e=null==e?G.get_context().get_theme():e).get_windowBorderAlpha();this.borderAlpha!=e&&(this.borderAlpha=e,null!=this.border)&&this.border.set_alpha(e)},unbindEvents:function(){g0.prototype.unbindEvents.call(this),this.offObservedDirty(),this.offThemeChange()},__class__:Yi,__properties__:$extend(g0.prototype.__properties__,{set_theme:"set_theme",get_theme:"get_theme"})}),(E["elements.SelectFieldView"]=Od).__name__="elements.SelectFieldView",Od.__super__=X2,Od.prototype=$extend(X2.prototype,{themeAutoruns:null,get_theme:function(){var e,n,t=this.unobservedTheme;return null!=A.current&&(e=A.current,null!=(n=this.themeAutoruns)||(n=A.getAutorunArray(),null!=(this.themeAutoruns=n)))&&e.bindToAutorunArray(n),t},set_theme:function(e){var n=this.unobservedTheme;return n!=(this.unobservedTheme=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitThemeChange(e,n),null!=(n=this.themeAutoruns))&&(this.themeAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateTheme:function(){var e=this.unobservedTheme,e=(this.emitThemeChange(e,e),this.themeAutoruns);null!=e&&(this.themeAutoruns=null,A.invalidateAutorunArray(e))},unobservedTheme:null,__cbOnThemeChange:null,__cbOnceThemeChange:null,__cbOnOwnerUnbindThemeChange:null,__cbOnceOwnerUnbindThemeChange:null,emitThemeChange:function(e,n){var t=0;if(null!=this.__cbOnThemeChange&&(t+=this.__cbOnThemeChange.length),null!=this.__cbOnceThemeChange&&(t+=this.__cbOnceThemeChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnThemeChange)for(var r=0,h=this.__cbOnThemeChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnThemeChange[a],++s):--t}if(null!=this.__cbOnceThemeChange){for(var o=null,c=null,r=0,h=this.__cbOnceThemeChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceThemeChange[a],this.__cbOnceThemeChange[a]=null,u=this.__cbOnceOwnerUnbindThemeChange[a],(this.__cbOnceOwnerUnbindThemeChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindThemeChange[a]),c.push(this.__cbOnceThemeChange[a]))}this.__cbOnceOwnerUnbindThemeChange=o,this.__cbOnceThemeChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onThemeChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event themeChange because owner is destroyed!");var l=function(e){null!=t&&(i.offThemeChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindThemeChange&&(this.__cbOnOwnerUnbindThemeChange=[]),this.__cbOnOwnerUnbindThemeChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindThemeChange&&(this.__cbOnOwnerUnbindThemeChange=[]),this.__cbOnOwnerUnbindThemeChange.push(null);null==this.__cbOnThemeChange&&(this.__cbOnThemeChange=[]),this.__cbOnThemeChange.push(t)},onceThemeChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event themeChange because owner is destroyed!");var l=function(e){null!=t&&(i.offThemeChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindThemeChange&&(this.__cbOnceOwnerUnbindThemeChange=[]),this.__cbOnceOwnerUnbindThemeChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindThemeChange&&(this.__cbOnceOwnerUnbindThemeChange=[]),this.__cbOnceOwnerUnbindThemeChange.push(null);null==this.__cbOnceThemeChange&&(this.__cbOnceThemeChange=[]),this.__cbOnceThemeChange.push(t)},offThemeChange:function(e){if(null!=e){var n;null!=this.__cbOnThemeChange&&-1!=(n=this.__cbOnThemeChange.indexOf(e))&&(this.__cbOnThemeChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindThemeChange[n])&&s(),this.__cbOnOwnerUnbindThemeChange.splice(n,1)),null!=this.__cbOnceThemeChange&&-1!=(n=this.__cbOnceThemeChange.indexOf(e))&&(this.__cbOnceThemeChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindThemeChange[n])&&s(),this.__cbOnceOwnerUnbindThemeChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindThemeChange){for(var t=0,i=this.__cbOnOwnerUnbindThemeChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindThemeChange[l])&&s()}this.__cbOnOwnerUnbindThemeChange=null}if(null!=this.__cbOnceOwnerUnbindThemeChange){for(t=0,i=this.__cbOnceOwnerUnbindThemeChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindThemeChange[l])&&s()}this.__cbOnceOwnerUnbindThemeChange=null}this.__cbOnThemeChange=null,this.__cbOnceThemeChange=null}},listensThemeChange:function(){return null!=this.__cbOnThemeChange&&0<this.__cbOnThemeChange.length||null!=this.__cbOnceThemeChange&&0<this.__cbOnceThemeChange.length},setValue:function(e,n){},valueAutoruns:null,get_value:function(){var e,n,t=this.unobservedValue;return null!=A.current&&(e=A.current,null!=(n=this.valueAutoruns)||(n=A.getAutorunArray(),null!=(this.valueAutoruns=n)))&&e.bindToAutorunArray(n),t},set_value:function(e){var n=this.unobservedValue;return n!=(this.unobservedValue=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitValueChange(e,n),null!=(n=this.valueAutoruns))&&(this.valueAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateValue:function(){var e=this.unobservedValue,e=(this.emitValueChange(e,e),this.valueAutoruns);null!=e&&(this.valueAutoruns=null,A.invalidateAutorunArray(e))},unobservedValue:null,__cbOnValueChange:null,__cbOnceValueChange:null,__cbOnOwnerUnbindValueChange:null,__cbOnceOwnerUnbindValueChange:null,emitValueChange:function(e,n){var t=0;if(null!=this.__cbOnValueChange&&(t+=this.__cbOnValueChange.length),null!=this.__cbOnceValueChange&&(t+=this.__cbOnceValueChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnValueChange)for(var r=0,h=this.__cbOnValueChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnValueChange[a],++s):--t}if(null!=this.__cbOnceValueChange){for(var o=null,c=null,r=0,h=this.__cbOnceValueChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceValueChange[a],this.__cbOnceValueChange[a]=null,u=this.__cbOnceOwnerUnbindValueChange[a],(this.__cbOnceOwnerUnbindValueChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindValueChange[a]),c.push(this.__cbOnceValueChange[a]))}this.__cbOnceOwnerUnbindValueChange=o,this.__cbOnceValueChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onValueChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event valueChange because owner is destroyed!");var l=function(e){null!=t&&(i.offValueChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindValueChange&&(this.__cbOnOwnerUnbindValueChange=[]),this.__cbOnOwnerUnbindValueChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindValueChange&&(this.__cbOnOwnerUnbindValueChange=[]),this.__cbOnOwnerUnbindValueChange.push(null);null==this.__cbOnValueChange&&(this.__cbOnValueChange=[]),this.__cbOnValueChange.push(t)},onceValueChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event valueChange because owner is destroyed!");var l=function(e){null!=t&&(i.offValueChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindValueChange&&(this.__cbOnceOwnerUnbindValueChange=[]),this.__cbOnceOwnerUnbindValueChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindValueChange&&(this.__cbOnceOwnerUnbindValueChange=[]),this.__cbOnceOwnerUnbindValueChange.push(null);null==this.__cbOnceValueChange&&(this.__cbOnceValueChange=[]),this.__cbOnceValueChange.push(t)},offValueChange:function(e){if(null!=e){var n;null!=this.__cbOnValueChange&&-1!=(n=this.__cbOnValueChange.indexOf(e))&&(this.__cbOnValueChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindValueChange[n])&&s(),this.__cbOnOwnerUnbindValueChange.splice(n,1)),null!=this.__cbOnceValueChange&&-1!=(n=this.__cbOnceValueChange.indexOf(e))&&(this.__cbOnceValueChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindValueChange[n])&&s(),this.__cbOnceOwnerUnbindValueChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindValueChange){for(var t=0,i=this.__cbOnOwnerUnbindValueChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindValueChange[l])&&s()}this.__cbOnOwnerUnbindValueChange=null}if(null!=this.__cbOnceOwnerUnbindValueChange){for(t=0,i=this.__cbOnceOwnerUnbindValueChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindValueChange[l])&&s()}this.__cbOnceOwnerUnbindValueChange=null}this.__cbOnValueChange=null,this.__cbOnceValueChange=null}},listensValueChange:function(){return null!=this.__cbOnValueChange&&0<this.__cbOnValueChange.length||null!=this.__cbOnceValueChange&&0<this.__cbOnceValueChange.length},listAutoruns:null,get_list:function(){var e,n,t=this.unobservedList;return null!=A.current&&(e=A.current,null!=(n=this.listAutoruns)||(n=A.getAutorunArray(),null!=(this.listAutoruns=n)))&&e.bindToAutorunArray(n),t},set_list:function(e){var n=this.unobservedList;return this.unobservedList=e,Ds.equalAny(n,e)||(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitListChange(e,n),null!=(n=this.listAutoruns)&&(this.listAutoruns=null,A.invalidateAutorunArray(n))),e},invalidateList:function(){var e=this.unobservedList,e=(this.emitListChange(e,e),this.listAutoruns);null!=e&&(this.listAutoruns=null,A.invalidateAutorunArray(e))},unobservedList:null,__cbOnListChange:null,__cbOnceListChange:null,__cbOnOwnerUnbindListChange:null,__cbOnceOwnerUnbindListChange:null,emitListChange:function(e,n){var t=0;if(null!=this.__cbOnListChange&&(t+=this.__cbOnListChange.length),null!=this.__cbOnceListChange&&(t+=this.__cbOnceListChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnListChange)for(var r=0,h=this.__cbOnListChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnListChange[a],++s):--t}if(null!=this.__cbOnceListChange){for(var o=null,c=null,r=0,h=this.__cbOnceListChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceListChange[a],this.__cbOnceListChange[a]=null,u=this.__cbOnceOwnerUnbindListChange[a],(this.__cbOnceOwnerUnbindListChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindListChange[a]),c.push(this.__cbOnceListChange[a]))}this.__cbOnceOwnerUnbindListChange=o,this.__cbOnceListChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onListChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event listChange because owner is destroyed!");var l=function(e){null!=t&&(i.offListChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindListChange&&(this.__cbOnOwnerUnbindListChange=[]),this.__cbOnOwnerUnbindListChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindListChange&&(this.__cbOnOwnerUnbindListChange=[]),this.__cbOnOwnerUnbindListChange.push(null);null==this.__cbOnListChange&&(this.__cbOnListChange=[]),this.__cbOnListChange.push(t)},onceListChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event listChange because owner is destroyed!");var l=function(e){null!=t&&(i.offListChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindListChange&&(this.__cbOnceOwnerUnbindListChange=[]),this.__cbOnceOwnerUnbindListChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindListChange&&(this.__cbOnceOwnerUnbindListChange=[]),this.__cbOnceOwnerUnbindListChange.push(null);null==this.__cbOnceListChange&&(this.__cbOnceListChange=[]),this.__cbOnceListChange.push(t)},offListChange:function(e){if(null!=e){var n;null!=this.__cbOnListChange&&-1!=(n=this.__cbOnListChange.indexOf(e))&&(this.__cbOnListChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindListChange[n])&&s(),this.__cbOnOwnerUnbindListChange.splice(n,1)),null!=this.__cbOnceListChange&&-1!=(n=this.__cbOnceListChange.indexOf(e))&&(this.__cbOnceListChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindListChange[n])&&s(),this.__cbOnceOwnerUnbindListChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindListChange){for(var t=0,i=this.__cbOnOwnerUnbindListChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindListChange[l])&&s()}this.__cbOnOwnerUnbindListChange=null}if(null!=this.__cbOnceOwnerUnbindListChange){for(t=0,i=this.__cbOnceOwnerUnbindListChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindListChange[l])&&s()}this.__cbOnceOwnerUnbindListChange=null}this.__cbOnListChange=null,this.__cbOnceListChange=null}},listensListChange:function(){return null!=this.__cbOnListChange&&0<this.__cbOnListChange.length||null!=this.__cbOnceListChange&&0<this.__cbOnceListChange.length},nullValueTextAutoruns:null,get_nullValueText:function(){var e,n,t=this.unobservedNullValueText;return null!=A.current&&(e=A.current,null!=(n=this.nullValueTextAutoruns)||(n=A.getAutorunArray(),null!=(this.nullValueTextAutoruns=n)))&&e.bindToAutorunArray(n),t},set_nullValueText:function(e){var n=this.unobservedNullValueText;return n!=(this.unobservedNullValueText=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitNullValueTextChange(e,n),null!=(n=this.nullValueTextAutoruns))&&(this.nullValueTextAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateNullValueText:function(){var e=this.unobservedNullValueText,e=(this.emitNullValueTextChange(e,e),this.nullValueTextAutoruns);null!=e&&(this.nullValueTextAutoruns=null,A.invalidateAutorunArray(e))},unobservedNullValueText:null,__cbOnNullValueTextChange:null,__cbOnceNullValueTextChange:null,__cbOnOwnerUnbindNullValueTextChange:null,__cbOnceOwnerUnbindNullValueTextChange:null,emitNullValueTextChange:function(e,n){var t=0;if(null!=this.__cbOnNullValueTextChange&&(t+=this.__cbOnNullValueTextChange.length),null!=this.__cbOnceNullValueTextChange&&(t+=this.__cbOnceNullValueTextChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnNullValueTextChange)for(var r=0,h=this.__cbOnNullValueTextChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnNullValueTextChange[a],++s):--t}if(null!=this.__cbOnceNullValueTextChange){for(var o=null,c=null,r=0,h=this.__cbOnceNullValueTextChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceNullValueTextChange[a],this.__cbOnceNullValueTextChange[a]=null,u=this.__cbOnceOwnerUnbindNullValueTextChange[a],(this.__cbOnceOwnerUnbindNullValueTextChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindNullValueTextChange[a]),c.push(this.__cbOnceNullValueTextChange[a]))}this.__cbOnceOwnerUnbindNullValueTextChange=o,this.__cbOnceNullValueTextChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onNullValueTextChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event nullValueTextChange because owner is destroyed!");var l=function(e){null!=t&&(i.offNullValueTextChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindNullValueTextChange&&(this.__cbOnOwnerUnbindNullValueTextChange=[]),this.__cbOnOwnerUnbindNullValueTextChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindNullValueTextChange&&(this.__cbOnOwnerUnbindNullValueTextChange=[]),this.__cbOnOwnerUnbindNullValueTextChange.push(null);null==this.__cbOnNullValueTextChange&&(this.__cbOnNullValueTextChange=[]),this.__cbOnNullValueTextChange.push(t)},onceNullValueTextChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event nullValueTextChange because owner is destroyed!");var l=function(e){null!=t&&(i.offNullValueTextChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindNullValueTextChange&&(this.__cbOnceOwnerUnbindNullValueTextChange=[]),this.__cbOnceOwnerUnbindNullValueTextChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindNullValueTextChange&&(this.__cbOnceOwnerUnbindNullValueTextChange=[]),this.__cbOnceOwnerUnbindNullValueTextChange.push(null);null==this.__cbOnceNullValueTextChange&&(this.__cbOnceNullValueTextChange=[]),this.__cbOnceNullValueTextChange.push(t)},offNullValueTextChange:function(e){if(null!=e){var n;null!=this.__cbOnNullValueTextChange&&-1!=(n=this.__cbOnNullValueTextChange.indexOf(e))&&(this.__cbOnNullValueTextChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindNullValueTextChange[n])&&s(),this.__cbOnOwnerUnbindNullValueTextChange.splice(n,1)),null!=this.__cbOnceNullValueTextChange&&-1!=(n=this.__cbOnceNullValueTextChange.indexOf(e))&&(this.__cbOnceNullValueTextChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindNullValueTextChange[n])&&s(),this.__cbOnceOwnerUnbindNullValueTextChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindNullValueTextChange){for(var t=0,i=this.__cbOnOwnerUnbindNullValueTextChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindNullValueTextChange[l])&&s()}this.__cbOnOwnerUnbindNullValueTextChange=null}if(null!=this.__cbOnceOwnerUnbindNullValueTextChange){for(t=0,i=this.__cbOnceOwnerUnbindNullValueTextChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindNullValueTextChange[l])&&s()}this.__cbOnceOwnerUnbindNullValueTextChange=null}this.__cbOnNullValueTextChange=null,this.__cbOnceNullValueTextChange=null}},listensNullValueTextChange:function(){return null!=this.__cbOnNullValueTextChange&&0<this.__cbOnNullValueTextChange.length||null!=this.__cbOnceNullValueTextChange&&0<this.__cbOnceNullValueTextChange.length},inputStyleAutoruns:null,get_inputStyle:function(){var e,n,t=this.unobservedInputStyle;return null!=A.current&&(e=A.current,null!=(n=this.inputStyleAutoruns)||(n=A.getAutorunArray(),null!=(this.inputStyleAutoruns=n)))&&e.bindToAutorunArray(n),t},set_inputStyle:function(e){var n=this.unobservedInputStyle;return n!=(this.unobservedInputStyle=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitInputStyleChange(e,n),null!=(n=this.inputStyleAutoruns))&&(this.inputStyleAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateInputStyle:function(){var e=this.unobservedInputStyle,e=(this.emitInputStyleChange(e,e),this.inputStyleAutoruns);null!=e&&(this.inputStyleAutoruns=null,A.invalidateAutorunArray(e))},unobservedInputStyle:null,__cbOnInputStyleChange:null,__cbOnceInputStyleChange:null,__cbOnOwnerUnbindInputStyleChange:null,__cbOnceOwnerUnbindInputStyleChange:null,emitInputStyleChange:function(e,n){var t=0;if(null!=this.__cbOnInputStyleChange&&(t+=this.__cbOnInputStyleChange.length),null!=this.__cbOnceInputStyleChange&&(t+=this.__cbOnceInputStyleChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnInputStyleChange)for(var r=0,h=this.__cbOnInputStyleChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnInputStyleChange[a],++s):--t}if(null!=this.__cbOnceInputStyleChange){for(var o=null,c=null,r=0,h=this.__cbOnceInputStyleChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceInputStyleChange[a],this.__cbOnceInputStyleChange[a]=null,u=this.__cbOnceOwnerUnbindInputStyleChange[a],(this.__cbOnceOwnerUnbindInputStyleChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindInputStyleChange[a]),c.push(this.__cbOnceInputStyleChange[a]))}this.__cbOnceOwnerUnbindInputStyleChange=o,this.__cbOnceInputStyleChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onInputStyleChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event inputStyleChange because owner is destroyed!");var l=function(e){null!=t&&(i.offInputStyleChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindInputStyleChange&&(this.__cbOnOwnerUnbindInputStyleChange=[]),this.__cbOnOwnerUnbindInputStyleChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindInputStyleChange&&(this.__cbOnOwnerUnbindInputStyleChange=[]),this.__cbOnOwnerUnbindInputStyleChange.push(null);null==this.__cbOnInputStyleChange&&(this.__cbOnInputStyleChange=[]),this.__cbOnInputStyleChange.push(t)},onceInputStyleChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event inputStyleChange because owner is destroyed!");var l=function(e){null!=t&&(i.offInputStyleChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindInputStyleChange&&(this.__cbOnceOwnerUnbindInputStyleChange=[]),this.__cbOnceOwnerUnbindInputStyleChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindInputStyleChange&&(this.__cbOnceOwnerUnbindInputStyleChange=[]),this.__cbOnceOwnerUnbindInputStyleChange.push(null);null==this.__cbOnceInputStyleChange&&(this.__cbOnceInputStyleChange=[]),this.__cbOnceInputStyleChange.push(t)},offInputStyleChange:function(e){if(null!=e){var n;null!=this.__cbOnInputStyleChange&&-1!=(n=this.__cbOnInputStyleChange.indexOf(e))&&(this.__cbOnInputStyleChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindInputStyleChange[n])&&s(),this.__cbOnOwnerUnbindInputStyleChange.splice(n,1)),null!=this.__cbOnceInputStyleChange&&-1!=(n=this.__cbOnceInputStyleChange.indexOf(e))&&(this.__cbOnceInputStyleChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindInputStyleChange[n])&&s(),this.__cbOnceOwnerUnbindInputStyleChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindInputStyleChange){for(var t=0,i=this.__cbOnOwnerUnbindInputStyleChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindInputStyleChange[l])&&s()}this.__cbOnOwnerUnbindInputStyleChange=null}if(null!=this.__cbOnceOwnerUnbindInputStyleChange){for(t=0,i=this.__cbOnceOwnerUnbindInputStyleChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindInputStyleChange[l])&&s()}this.__cbOnceOwnerUnbindInputStyleChange=null}this.__cbOnInputStyleChange=null,this.__cbOnceInputStyleChange=null}},listensInputStyleChange:function(){return null!=this.__cbOnInputStyleChange&&0<this.__cbOnInputStyleChange.length||null!=this.__cbOnceInputStyleChange&&0<this.__cbOnceInputStyleChange.length},clipList:null,listVisibleAutoruns:null,get_listVisible:function(){var e,n,t=this.unobservedListVisible;return null!=A.current&&(e=A.current,null!=(n=this.listVisibleAutoruns)||(n=A.getAutorunArray(),null!=(this.listVisibleAutoruns=n)))&&e.bindToAutorunArray(n),t},set_listVisible:function(e){var n=this.unobservedListVisible;return n!=(this.unobservedListVisible=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitListVisibleChange(e,n),null!=(n=this.listVisibleAutoruns))&&(this.listVisibleAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateListVisible:function(){var e=this.unobservedListVisible,e=(this.emitListVisibleChange(e,e),this.listVisibleAutoruns);null!=e&&(this.listVisibleAutoruns=null,A.invalidateAutorunArray(e))},unobservedListVisible:null,__cbOnListVisibleChange:null,__cbOnceListVisibleChange:null,__cbOnOwnerUnbindListVisibleChange:null,__cbOnceOwnerUnbindListVisibleChange:null,emitListVisibleChange:function(e,n){var t=0;if(null!=this.__cbOnListVisibleChange&&(t+=this.__cbOnListVisibleChange.length),null!=this.__cbOnceListVisibleChange&&(t+=this.__cbOnceListVisibleChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnListVisibleChange)for(var r=0,h=this.__cbOnListVisibleChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnListVisibleChange[a],++s):--t}if(null!=this.__cbOnceListVisibleChange){for(var o=null,c=null,r=0,h=this.__cbOnceListVisibleChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceListVisibleChange[a],this.__cbOnceListVisibleChange[a]=null,u=this.__cbOnceOwnerUnbindListVisibleChange[a],(this.__cbOnceOwnerUnbindListVisibleChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindListVisibleChange[a]),c.push(this.__cbOnceListVisibleChange[a]))}this.__cbOnceOwnerUnbindListVisibleChange=o,this.__cbOnceListVisibleChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onListVisibleChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event listVisibleChange because owner is destroyed!");var l=function(e){null!=t&&(i.offListVisibleChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindListVisibleChange&&(this.__cbOnOwnerUnbindListVisibleChange=[]),this.__cbOnOwnerUnbindListVisibleChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindListVisibleChange&&(this.__cbOnOwnerUnbindListVisibleChange=[]),this.__cbOnOwnerUnbindListVisibleChange.push(null);null==this.__cbOnListVisibleChange&&(this.__cbOnListVisibleChange=[]),this.__cbOnListVisibleChange.push(t)},onceListVisibleChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event listVisibleChange because owner is destroyed!");var l=function(e){null!=t&&(i.offListVisibleChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindListVisibleChange&&(this.__cbOnceOwnerUnbindListVisibleChange=[]),this.__cbOnceOwnerUnbindListVisibleChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindListVisibleChange&&(this.__cbOnceOwnerUnbindListVisibleChange=[]),this.__cbOnceOwnerUnbindListVisibleChange.push(null);null==this.__cbOnceListVisibleChange&&(this.__cbOnceListVisibleChange=[]),this.__cbOnceListVisibleChange.push(t)},offListVisibleChange:function(e){if(null!=e){var n;null!=this.__cbOnListVisibleChange&&-1!=(n=this.__cbOnListVisibleChange.indexOf(e))&&(this.__cbOnListVisibleChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindListVisibleChange[n])&&s(),this.__cbOnOwnerUnbindListVisibleChange.splice(n,1)),null!=this.__cbOnceListVisibleChange&&-1!=(n=this.__cbOnceListVisibleChange.indexOf(e))&&(this.__cbOnceListVisibleChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindListVisibleChange[n])&&s(),this.__cbOnceOwnerUnbindListVisibleChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindListVisibleChange){for(var t=0,i=this.__cbOnOwnerUnbindListVisibleChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindListVisibleChange[l])&&s()}this.__cbOnOwnerUnbindListVisibleChange=null}if(null!=this.__cbOnceOwnerUnbindListVisibleChange){for(t=0,i=this.__cbOnceOwnerUnbindListVisibleChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindListVisibleChange[l])&&s()}this.__cbOnceOwnerUnbindListVisibleChange=null}this.__cbOnListVisibleChange=null,this.__cbOnceListVisibleChange=null}},listensListVisibleChange:function(){return null!=this.__cbOnListVisibleChange&&0<this.__cbOnListVisibleChange.length||null!=this.__cbOnceListVisibleChange&&0<this.__cbOnceListVisibleChange.length},container:null,textView:null,listView:null,listContainer:null,tip:null,listIsAbove:null,listVisibleThisFrame:null,focus:function(){X2.prototype.focus.call(this)},didLostFocus:function(){X2.prototype.didLostFocus.call(this)},layout:function(){X2.prototype.layout.call(this)},layoutContainer:function(){null!=this.textView&&this.textView.text.clipText(0,0,this.container.get_width()-this.textView.text.x-this.textView.x-this.container.paddingRight-20,999999999)},layoutListContainer:function(){var e,n,t;null!=this.listView&&(e=this.listView,n=this.container.get_width(),t=this.listHeight(),e.set_width(n),e.set_height(t))},listHeight:function(){return Math.min(Od.ITEM_HEIGHT*(this.get_list().length+(null!=this.get_nullValueText()?1:0)),Od.MAX_LIST_HEIGHT)},destroy:function(){this._lifecycleState<=-2||(this._lifecycleState=-2,this._lifecycleState=-1,X2.prototype.destroy.call(this),null!=this.listContainer&&(this.listContainer.destroy(),this.listContainer=null))},updateFromValue:function(){var e,n=this.get_value(),t=this.get_nullValueText();A.unobserve(),null!=n?(e=z.replace(z.trim(n),"\n"," "),this.textView.set_content(e)):this.textView.set_content(null!=t?t:""),this.setValue(this,n),A.reobserve()},updateStyle:function(){var e,n=this.get_theme();null==n&&(n=G.get_context().get_theme()),this.container.color=n.get_darkBackgroundColor(),this.textView.set_font(n.get_mediumFont()),null==this.get_value()?(this.textView.set_textColor(n.get_mediumTextColor()),this.textView.text.set_skewX(8)):(this.textView.set_textColor(n.get_fieldTextColor()),this.textView.text.set_skewX(0)),n=this.get_focused()&&this.get_inputStyle()!=Vi.MINIMAL?(this.tip.set_color(n.get_lightTextColor()),e=this.container,n.get_focusedFieldBorderColor()):(this.tip.set_color(n.get_lighterBorderColor()),e=this.container,n.get_lightBorderColor()),e.borderColor!=n&&(e.borderColor=n,0<e.borderSize||0<e.borderTopSize||0<e.borderBottomSize||0<e.borderLeftSize||0<e.borderRightSize)&&e.updateBorder()},updateListVisibility:function(){if(null!=this.listView&&this.get_listVisible()&&Ei.get_shared().get_focusedField()!=this){for(var e=ae.app.screen.get_focusedVisual(),n=!1;null!=e;){if(e==this.listView){n=!0;break}e=e.parent}n||this.set_listVisible(!1)}},updateListPosition:function(){if(1!=(1&this.listContainer.flags)){var e=this.getScrollingLayout(),n=(this.container.visualToScreen(0,0,Od._point),Od._point.x),t=Od._point.y;if(G.get_context().view.screenToVisual(n,t,Od._point),n=Od._point.x,t=Od._point.y,G.get_context().view.get_height()-t<=this.listHeight()?(this.listIsAbove=!0,this.container.visualToScreen(0,this.container.get_height()-this.listHeight(),Od._point),n=Od._point.x,t=Od._point.y,G.get_context().view.screenToVisual(n,t,Od._point),n=Od._point.x,t=Od._point.y):this.listIsAbove=!1,this.get_listVisible())if(this.clipList&&null!=e)if(e.screenToVisual(0,0,Od._point),G.get_context().view.screenToVisual(Od._point.x,Od._point.y,Od._point),t+Od._point.y<0){var i=this.listContainer;if(i.clip!=e&&(i.clip=e,i.clipDirty=!0,null!=i.children))for(var l=0,s=i.children.length;l<s;){var r=l++;if((u=i.children[r]).clipDirty=!0,null!=u.children)for(var h=0,a=u.children.length;h<a;){var o=h++;u.children[o].set_clipDirty(!0)}}}else{var i=this.listContainer,c=null;if(i.clip!=c&&(i.clip=c,i.clipDirty=!0,null!=i.children))for(l=0,s=i.children.length;l<s;){r=l++;if((u=i.children[r]).clipDirty=!0,null!=u.children)for(h=0,a=u.children.length;h<a;){o=h++;u.children[o].set_clipDirty(!0)}}}else{i=this.listContainer,c=null;if(i.clip!=c&&(i.clip=c,i.clipDirty=!0,null!=i.children))for(l=0,s=i.children.length;l<s;){r=l++;if((u=i.children[r]).clipDirty=!0,null!=u.children)for(h=0,a=u.children.length;h<a;){o=h++;u.children[o].set_clipDirty(!0)}}}else{i=this.listContainer,c=null;if(i.clip!=c&&(i.clip=c,i.clipDirty=!0,null!=i.children))for(l=0,s=i.children.length;l<s;){var u,r=l++;if((u=i.children[r]).clipDirty=!0,null!=u.children)for(h=0,a=u.children.length;h<a;){o=h++;u.children[o].set_clipDirty(!0)}}}n==this.listContainer.x&&t==this.listContainer.y||(this.listContainer.layoutDirty=!0),(i=this.listContainer).set_x(n),i.set_y(t)}},updateListVisibleThisFrame:function(){this.listVisibleThisFrame=null!=this.listView&&this.listView.computedVisible},toggleListVisible:function(){this.set_listVisible(!this.get_listVisible())},updateListContainer:function(){var t=this,e=this.get_listVisible();this.get_value();A.unobserve(),e?null==this.listView&&(this.listView=new Y2,this.listView.autorun(function(){var e=t.get_theme();A.unobserve(),t.listView.set_theme(e)}),this.listView.set_depth(10),this.listView.set_value(this.get_value()),this.listView.set_list(this.get_list()),this.listView.set_nullValueText(this.get_nullValueText()),this.listContainer.add(this.listView),this.listView.onValueChange(this,function(e,n){t.set_value(e),t.set_listVisible(!1),t.focus()}),this.listContainer.set_active(!0),this.updateListPosition(),this.listView.scrollToValue(this.listIsAbove?2:0),ae.app._oncePostFlushImmediate(function(){t._lifecycleState<0||null==t.listView||(t.listView.scrollToValue(t.listIsAbove?2:0),ae.app.onceUpdate(t.listView,function(e){t.listView.scrollToValue(t.listIsAbove?2:0)}))},!0)):null!=this.listView&&(this.listView.destroy(),this.listView=null,this.listContainer.set_active(!1)),A.reobserve()},hitsSelfOrDerived:function(e,n){return!!this._hits(e,n,!1)||!(null==this.listView||!this.listView.computedVisible)&&this.listView._hits(e,n,!1)},usesScanCode:function(e){return!!X2.prototype.usesScanCode.call(this,e)||!(!(this.listVisibleThisFrame||null!=this.listView&&this.listView.computedVisible)||41!=e&&(!this.get_focused()||81!=e)&&!(this.get_focused()&&82==e||this.get_focused()&&40==e||this.get_focused()&&44==e||this.get_focused()&&42==e))},usesKeyCode:function(e){return!!X2.prototype.usesKeyCode.call(this,e)||!(!(this.listVisibleThisFrame||null!=this.listView&&this.listView.computedVisible)||27!=e&&(!this.get_focused()||1073741905!=e)&&!(this.get_focused()&&1073741906==e||this.get_focused()&&13==e||this.get_focused()&&32==e||this.get_focused()&&8==e))},unbindEvents:function(){X2.prototype.unbindEvents.call(this),this.offThemeChange(),this.offValueChange(),this.offListChange(),this.offNullValueTextChange(),this.offInputStyleChange(),this.offListVisibleChange()},__class__:Od,__properties__:$extend(X2.prototype.__properties__,{set_listVisible:"set_listVisible",get_listVisible:"get_listVisible",set_inputStyle:"set_inputStyle",get_inputStyle:"get_inputStyle",set_nullValueText:"set_nullValueText",get_nullValueText:"get_nullValueText",set_list:"set_list",get_list:"get_list",set_value:"set_value",get_value:"get_value",set_theme:"set_theme",get_theme:"get_theme"})}),(E["elements.Separator"]=Pd).__name__="elements.Separator",Pd.__interfaces__=[s],Pd.__super__=f0,Pd.prototype=$extend(f0.prototype,{__cbOnObservedDirty:null,__cbOnceObservedDirty:null,__cbOnOwnerUnbindObservedDirty:null,__cbOnceOwnerUnbindObservedDirty:null,emitObservedDirty:function(e,n){var t=0;if(null!=this.__cbOnObservedDirty&&(t+=this.__cbOnObservedDirty.length),null!=this.__cbOnceObservedDirty&&(t+=this.__cbOnceObservedDirty.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnObservedDirty)for(var r=0,h=this.__cbOnObservedDirty.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnObservedDirty[a],++s):--t}if(null!=this.__cbOnceObservedDirty){for(var o=null,c=null,r=0,h=this.__cbOnceObservedDirty.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceObservedDirty[a],this.__cbOnceObservedDirty[a]=null,u=this.__cbOnceOwnerUnbindObservedDirty[a],(this.__cbOnceOwnerUnbindObservedDirty[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindObservedDirty[a]),c.push(this.__cbOnceObservedDirty[a]))}this.__cbOnceOwnerUnbindObservedDirty=o,this.__cbOnceObservedDirty=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onObservedDirty:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event observedDirty because owner is destroyed!");var l=function(e){null!=t&&(i.offObservedDirty(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push(null);null==this.__cbOnObservedDirty&&(this.__cbOnObservedDirty=[]),this.__cbOnObservedDirty.push(t)},onceObservedDirty:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event observedDirty because owner is destroyed!");var l=function(e){null!=t&&(i.offObservedDirty(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push(null);null==this.__cbOnceObservedDirty&&(this.__cbOnceObservedDirty=[]),this.__cbOnceObservedDirty.push(t)},offObservedDirty:function(e){if(null!=e){var n;null!=this.__cbOnObservedDirty&&-1!=(n=this.__cbOnObservedDirty.indexOf(e))&&(this.__cbOnObservedDirty.splice(n,1),null!=(s=this.__cbOnOwnerUnbindObservedDirty[n])&&s(),this.__cbOnOwnerUnbindObservedDirty.splice(n,1)),null!=this.__cbOnceObservedDirty&&-1!=(n=this.__cbOnceObservedDirty.indexOf(e))&&(this.__cbOnceObservedDirty.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindObservedDirty[n])&&s(),this.__cbOnceOwnerUnbindObservedDirty.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindObservedDirty){for(var t=0,i=this.__cbOnOwnerUnbindObservedDirty.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindObservedDirty[l])&&s()}this.__cbOnOwnerUnbindObservedDirty=null}if(null!=this.__cbOnceOwnerUnbindObservedDirty){for(t=0,i=this.__cbOnceOwnerUnbindObservedDirty.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindObservedDirty[l])&&s()}this.__cbOnceOwnerUnbindObservedDirty=null}this.__cbOnObservedDirty=null,this.__cbOnceObservedDirty=null}},listensObservedDirty:function(){return null!=this.__cbOnObservedDirty&&0<this.__cbOnObservedDirty.length||null!=this.__cbOnceObservedDirty&&0<this.__cbOnceObservedDirty.length},observedDirty:null,themeAutoruns:null,get_theme:function(){var e,n,t=this.unobservedTheme;return null!=A.current&&(e=A.current,null!=(n=this.themeAutoruns)||(n=A.getAutorunArray(),null!=(this.themeAutoruns=n)))&&e.bindToAutorunArray(n),t},set_theme:function(e){var n=this.unobservedTheme;return n!=(this.unobservedTheme=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitThemeChange(e,n),null!=(n=this.themeAutoruns))&&(this.themeAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateTheme:function(){var e=this.unobservedTheme,e=(this.emitThemeChange(e,e),this.themeAutoruns);null!=e&&(this.themeAutoruns=null,A.invalidateAutorunArray(e))},unobservedTheme:null,__cbOnThemeChange:null,__cbOnceThemeChange:null,__cbOnOwnerUnbindThemeChange:null,__cbOnceOwnerUnbindThemeChange:null,emitThemeChange:function(e,n){var t=0;if(null!=this.__cbOnThemeChange&&(t+=this.__cbOnThemeChange.length),null!=this.__cbOnceThemeChange&&(t+=this.__cbOnceThemeChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnThemeChange)for(var r=0,h=this.__cbOnThemeChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnThemeChange[a],++s):--t}if(null!=this.__cbOnceThemeChange){for(var o=null,c=null,r=0,h=this.__cbOnceThemeChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceThemeChange[a],this.__cbOnceThemeChange[a]=null,u=this.__cbOnceOwnerUnbindThemeChange[a],(this.__cbOnceOwnerUnbindThemeChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindThemeChange[a]),c.push(this.__cbOnceThemeChange[a]))}this.__cbOnceOwnerUnbindThemeChange=o,this.__cbOnceThemeChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onThemeChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event themeChange because owner is destroyed!");var l=function(e){null!=t&&(i.offThemeChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindThemeChange&&(this.__cbOnOwnerUnbindThemeChange=[]),this.__cbOnOwnerUnbindThemeChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindThemeChange&&(this.__cbOnOwnerUnbindThemeChange=[]),this.__cbOnOwnerUnbindThemeChange.push(null);null==this.__cbOnThemeChange&&(this.__cbOnThemeChange=[]),this.__cbOnThemeChange.push(t)},onceThemeChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event themeChange because owner is destroyed!");var l=function(e){null!=t&&(i.offThemeChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindThemeChange&&(this.__cbOnceOwnerUnbindThemeChange=[]),this.__cbOnceOwnerUnbindThemeChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindThemeChange&&(this.__cbOnceOwnerUnbindThemeChange=[]),this.__cbOnceOwnerUnbindThemeChange.push(null);null==this.__cbOnceThemeChange&&(this.__cbOnceThemeChange=[]),this.__cbOnceThemeChange.push(t)},offThemeChange:function(e){if(null!=e){var n;null!=this.__cbOnThemeChange&&-1!=(n=this.__cbOnThemeChange.indexOf(e))&&(this.__cbOnThemeChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindThemeChange[n])&&s(),this.__cbOnOwnerUnbindThemeChange.splice(n,1)),null!=this.__cbOnceThemeChange&&-1!=(n=this.__cbOnceThemeChange.indexOf(e))&&(this.__cbOnceThemeChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindThemeChange[n])&&s(),this.__cbOnceOwnerUnbindThemeChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindThemeChange){for(var t=0,i=this.__cbOnOwnerUnbindThemeChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindThemeChange[l])&&s()}this.__cbOnOwnerUnbindThemeChange=null}if(null!=this.__cbOnceOwnerUnbindThemeChange){for(t=0,i=this.__cbOnceOwnerUnbindThemeChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindThemeChange[l])&&s()}this.__cbOnceOwnerUnbindThemeChange=null}this.__cbOnThemeChange=null,this.__cbOnceThemeChange=null}},listensThemeChange:function(){return null!=this.__cbOnThemeChange&&0<this.__cbOnThemeChange.length||null!=this.__cbOnceThemeChange&&0<this.__cbOnceThemeChange.length},thickness:null,set_thickness:function(e){return this.thickness!=e&&(this.thickness=e,this.layoutDirty=!0),e},quad:null,layout:function(){var e=this.quad,n=.5*this.get_height(),e=(e.set_x(0),e.set_y(n),this.quad),n=this.get_width(),t=this.thickness;e.set_width(n),e.set_height(t)},updateStyle:function(){var e=this.get_theme();null==e&&(e=G.get_context().get_theme()),this.quad.color=e.get_mediumBorderColor()},unbindEvents:function(){f0.prototype.unbindEvents.call(this),this.offObservedDirty(),this.offThemeChange()},__class__:Pd,__properties__:$extend(f0.prototype.__properties__,{set_thickness:"set_thickness",set_theme:"set_theme",get_theme:"get_theme"})}),(E["elements.SliderFieldView"]=Qd).__name__="elements.SliderFieldView",Qd.__super__=Z2,Qd.prototype=$extend(Z2.prototype,{themeAutoruns:null,get_theme:function(){var e,n,t=this.unobservedTheme;return null!=A.current&&(e=A.current,null!=(n=this.themeAutoruns)||(n=A.getAutorunArray(),null!=(this.themeAutoruns=n)))&&e.bindToAutorunArray(n),t},set_theme:function(e){var n=this.unobservedTheme;return n!=(this.unobservedTheme=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitThemeChange(e,n),null!=(n=this.themeAutoruns))&&(this.themeAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateTheme:function(){var e=this.unobservedTheme,e=(this.emitThemeChange(e,e),this.themeAutoruns);null!=e&&(this.themeAutoruns=null,A.invalidateAutorunArray(e))},unobservedTheme:null,__cbOnThemeChange:null,__cbOnceThemeChange:null,__cbOnOwnerUnbindThemeChange:null,__cbOnceOwnerUnbindThemeChange:null,emitThemeChange:function(e,n){var t=0;if(null!=this.__cbOnThemeChange&&(t+=this.__cbOnThemeChange.length),null!=this.__cbOnceThemeChange&&(t+=this.__cbOnceThemeChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnThemeChange)for(var r=0,h=this.__cbOnThemeChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnThemeChange[a],++s):--t}if(null!=this.__cbOnceThemeChange){for(var o=null,c=null,r=0,h=this.__cbOnceThemeChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceThemeChange[a],this.__cbOnceThemeChange[a]=null,u=this.__cbOnceOwnerUnbindThemeChange[a],(this.__cbOnceOwnerUnbindThemeChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindThemeChange[a]),c.push(this.__cbOnceThemeChange[a]))}this.__cbOnceOwnerUnbindThemeChange=o,this.__cbOnceThemeChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onThemeChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event themeChange because owner is destroyed!");var l=function(e){null!=t&&(i.offThemeChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindThemeChange&&(this.__cbOnOwnerUnbindThemeChange=[]),this.__cbOnOwnerUnbindThemeChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindThemeChange&&(this.__cbOnOwnerUnbindThemeChange=[]),this.__cbOnOwnerUnbindThemeChange.push(null);null==this.__cbOnThemeChange&&(this.__cbOnThemeChange=[]),this.__cbOnThemeChange.push(t)},onceThemeChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event themeChange because owner is destroyed!");var l=function(e){null!=t&&(i.offThemeChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindThemeChange&&(this.__cbOnceOwnerUnbindThemeChange=[]),this.__cbOnceOwnerUnbindThemeChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindThemeChange&&(this.__cbOnceOwnerUnbindThemeChange=[]),this.__cbOnceOwnerUnbindThemeChange.push(null);null==this.__cbOnceThemeChange&&(this.__cbOnceThemeChange=[]),this.__cbOnceThemeChange.push(t)},offThemeChange:function(e){if(null!=e){var n;null!=this.__cbOnThemeChange&&-1!=(n=this.__cbOnThemeChange.indexOf(e))&&(this.__cbOnThemeChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindThemeChange[n])&&s(),this.__cbOnOwnerUnbindThemeChange.splice(n,1)),null!=this.__cbOnceThemeChange&&-1!=(n=this.__cbOnceThemeChange.indexOf(e))&&(this.__cbOnceThemeChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindThemeChange[n])&&s(),this.__cbOnceOwnerUnbindThemeChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindThemeChange){for(var t=0,i=this.__cbOnOwnerUnbindThemeChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindThemeChange[l])&&s()}this.__cbOnOwnerUnbindThemeChange=null}if(null!=this.__cbOnceOwnerUnbindThemeChange){for(t=0,i=this.__cbOnceOwnerUnbindThemeChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindThemeChange[l])&&s()}this.__cbOnceOwnerUnbindThemeChange=null}this.__cbOnThemeChange=null,this.__cbOnceThemeChange=null}},listensThemeChange:function(){return null!=this.__cbOnThemeChange&&0<this.__cbOnThemeChange.length||null!=this.__cbOnceThemeChange&&0<this.__cbOnceThemeChange.length},valueAutoruns:null,get_value:function(){var e,n,t=this.unobservedValue;return null!=A.current&&(e=A.current,null!=(n=this.valueAutoruns)||(n=A.getAutorunArray(),null!=(this.valueAutoruns=n)))&&e.bindToAutorunArray(n),t},set_value:function(e){var n=this.unobservedValue;return n!=(this.unobservedValue=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitValueChange(e,n),null!=(n=this.valueAutoruns))&&(this.valueAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateValue:function(){var e=this.unobservedValue,e=(this.emitValueChange(e,e),this.valueAutoruns);null!=e&&(this.valueAutoruns=null,A.invalidateAutorunArray(e))},unobservedValue:null,__cbOnValueChange:null,__cbOnceValueChange:null,__cbOnOwnerUnbindValueChange:null,__cbOnceOwnerUnbindValueChange:null,emitValueChange:function(e,n){var t=0;if(null!=this.__cbOnValueChange&&(t+=this.__cbOnValueChange.length),null!=this.__cbOnceValueChange&&(t+=this.__cbOnceValueChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnValueChange)for(var r=0,h=this.__cbOnValueChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnValueChange[a],++s):--t}if(null!=this.__cbOnceValueChange){for(var o=null,c=null,r=0,h=this.__cbOnceValueChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceValueChange[a],this.__cbOnceValueChange[a]=null,u=this.__cbOnceOwnerUnbindValueChange[a],(this.__cbOnceOwnerUnbindValueChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindValueChange[a]),c.push(this.__cbOnceValueChange[a]))}this.__cbOnceOwnerUnbindValueChange=o,this.__cbOnceValueChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onValueChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event valueChange because owner is destroyed!");var l=function(e){null!=t&&(i.offValueChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindValueChange&&(this.__cbOnOwnerUnbindValueChange=[]),this.__cbOnOwnerUnbindValueChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindValueChange&&(this.__cbOnOwnerUnbindValueChange=[]),this.__cbOnOwnerUnbindValueChange.push(null);null==this.__cbOnValueChange&&(this.__cbOnValueChange=[]),this.__cbOnValueChange.push(t)},onceValueChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event valueChange because owner is destroyed!");var l=function(e){null!=t&&(i.offValueChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindValueChange&&(this.__cbOnceOwnerUnbindValueChange=[]),this.__cbOnceOwnerUnbindValueChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindValueChange&&(this.__cbOnceOwnerUnbindValueChange=[]),this.__cbOnceOwnerUnbindValueChange.push(null);null==this.__cbOnceValueChange&&(this.__cbOnceValueChange=[]),this.__cbOnceValueChange.push(t)},offValueChange:function(e){if(null!=e){var n;null!=this.__cbOnValueChange&&-1!=(n=this.__cbOnValueChange.indexOf(e))&&(this.__cbOnValueChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindValueChange[n])&&s(),this.__cbOnOwnerUnbindValueChange.splice(n,1)),null!=this.__cbOnceValueChange&&-1!=(n=this.__cbOnceValueChange.indexOf(e))&&(this.__cbOnceValueChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindValueChange[n])&&s(),this.__cbOnceOwnerUnbindValueChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindValueChange){for(var t=0,i=this.__cbOnOwnerUnbindValueChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindValueChange[l])&&s()}this.__cbOnOwnerUnbindValueChange=null}if(null!=this.__cbOnceOwnerUnbindValueChange){for(t=0,i=this.__cbOnceOwnerUnbindValueChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindValueChange[l])&&s()}this.__cbOnceOwnerUnbindValueChange=null}this.__cbOnValueChange=null,this.__cbOnceValueChange=null}},listensValueChange:function(){return null!=this.__cbOnValueChange&&0<this.__cbOnValueChange.length||null!=this.__cbOnceValueChange&&0<this.__cbOnceValueChange.length},minValueAutoruns:null,get_minValue:function(){var e,n,t=this.unobservedMinValue;return null!=A.current&&(e=A.current,null!=(n=this.minValueAutoruns)||(n=A.getAutorunArray(),null!=(this.minValueAutoruns=n)))&&e.bindToAutorunArray(n),t},set_minValue:function(e){var n=this.unobservedMinValue;return n!=(this.unobservedMinValue=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitMinValueChange(e,n),null!=(n=this.minValueAutoruns))&&(this.minValueAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateMinValue:function(){var e=this.unobservedMinValue,e=(this.emitMinValueChange(e,e),this.minValueAutoruns);null!=e&&(this.minValueAutoruns=null,A.invalidateAutorunArray(e))},unobservedMinValue:null,__cbOnMinValueChange:null,__cbOnceMinValueChange:null,__cbOnOwnerUnbindMinValueChange:null,__cbOnceOwnerUnbindMinValueChange:null,emitMinValueChange:function(e,n){var t=0;if(null!=this.__cbOnMinValueChange&&(t+=this.__cbOnMinValueChange.length),null!=this.__cbOnceMinValueChange&&(t+=this.__cbOnceMinValueChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnMinValueChange)for(var r=0,h=this.__cbOnMinValueChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnMinValueChange[a],++s):--t}if(null!=this.__cbOnceMinValueChange){for(var o=null,c=null,r=0,h=this.__cbOnceMinValueChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceMinValueChange[a],this.__cbOnceMinValueChange[a]=null,u=this.__cbOnceOwnerUnbindMinValueChange[a],(this.__cbOnceOwnerUnbindMinValueChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindMinValueChange[a]),c.push(this.__cbOnceMinValueChange[a]))}this.__cbOnceOwnerUnbindMinValueChange=o,this.__cbOnceMinValueChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onMinValueChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event minValueChange because owner is destroyed!");var l=function(e){null!=t&&(i.offMinValueChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindMinValueChange&&(this.__cbOnOwnerUnbindMinValueChange=[]),this.__cbOnOwnerUnbindMinValueChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindMinValueChange&&(this.__cbOnOwnerUnbindMinValueChange=[]),this.__cbOnOwnerUnbindMinValueChange.push(null);null==this.__cbOnMinValueChange&&(this.__cbOnMinValueChange=[]),this.__cbOnMinValueChange.push(t)},onceMinValueChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event minValueChange because owner is destroyed!");var l=function(e){null!=t&&(i.offMinValueChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindMinValueChange&&(this.__cbOnceOwnerUnbindMinValueChange=[]),this.__cbOnceOwnerUnbindMinValueChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindMinValueChange&&(this.__cbOnceOwnerUnbindMinValueChange=[]),this.__cbOnceOwnerUnbindMinValueChange.push(null);null==this.__cbOnceMinValueChange&&(this.__cbOnceMinValueChange=[]),this.__cbOnceMinValueChange.push(t)},offMinValueChange:function(e){if(null!=e){var n;null!=this.__cbOnMinValueChange&&-1!=(n=this.__cbOnMinValueChange.indexOf(e))&&(this.__cbOnMinValueChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindMinValueChange[n])&&s(),this.__cbOnOwnerUnbindMinValueChange.splice(n,1)),null!=this.__cbOnceMinValueChange&&-1!=(n=this.__cbOnceMinValueChange.indexOf(e))&&(this.__cbOnceMinValueChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindMinValueChange[n])&&s(),this.__cbOnceOwnerUnbindMinValueChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindMinValueChange){for(var t=0,i=this.__cbOnOwnerUnbindMinValueChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindMinValueChange[l])&&s()}this.__cbOnOwnerUnbindMinValueChange=null}if(null!=this.__cbOnceOwnerUnbindMinValueChange){for(t=0,i=this.__cbOnceOwnerUnbindMinValueChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindMinValueChange[l])&&s()}this.__cbOnceOwnerUnbindMinValueChange=null}this.__cbOnMinValueChange=null,this.__cbOnceMinValueChange=null}},listensMinValueChange:function(){return null!=this.__cbOnMinValueChange&&0<this.__cbOnMinValueChange.length||null!=this.__cbOnceMinValueChange&&0<this.__cbOnceMinValueChange.length},maxValueAutoruns:null,get_maxValue:function(){var e,n,t=this.unobservedMaxValue;return null!=A.current&&(e=A.current,null!=(n=this.maxValueAutoruns)||(n=A.getAutorunArray(),null!=(this.maxValueAutoruns=n)))&&e.bindToAutorunArray(n),t},set_maxValue:function(e){var n=this.unobservedMaxValue;return n!=(this.unobservedMaxValue=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitMaxValueChange(e,n),null!=(n=this.maxValueAutoruns))&&(this.maxValueAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateMaxValue:function(){var e=this.unobservedMaxValue,e=(this.emitMaxValueChange(e,e),this.maxValueAutoruns);null!=e&&(this.maxValueAutoruns=null,A.invalidateAutorunArray(e))},unobservedMaxValue:null,__cbOnMaxValueChange:null,__cbOnceMaxValueChange:null,__cbOnOwnerUnbindMaxValueChange:null,__cbOnceOwnerUnbindMaxValueChange:null,emitMaxValueChange:function(e,n){var t=0;if(null!=this.__cbOnMaxValueChange&&(t+=this.__cbOnMaxValueChange.length),null!=this.__cbOnceMaxValueChange&&(t+=this.__cbOnceMaxValueChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnMaxValueChange)for(var r=0,h=this.__cbOnMaxValueChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnMaxValueChange[a],++s):--t}if(null!=this.__cbOnceMaxValueChange){for(var o=null,c=null,r=0,h=this.__cbOnceMaxValueChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceMaxValueChange[a],this.__cbOnceMaxValueChange[a]=null,u=this.__cbOnceOwnerUnbindMaxValueChange[a],(this.__cbOnceOwnerUnbindMaxValueChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindMaxValueChange[a]),c.push(this.__cbOnceMaxValueChange[a]))}this.__cbOnceOwnerUnbindMaxValueChange=o,this.__cbOnceMaxValueChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onMaxValueChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event maxValueChange because owner is destroyed!");var l=function(e){null!=t&&(i.offMaxValueChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindMaxValueChange&&(this.__cbOnOwnerUnbindMaxValueChange=[]),this.__cbOnOwnerUnbindMaxValueChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindMaxValueChange&&(this.__cbOnOwnerUnbindMaxValueChange=[]),this.__cbOnOwnerUnbindMaxValueChange.push(null);null==this.__cbOnMaxValueChange&&(this.__cbOnMaxValueChange=[]),this.__cbOnMaxValueChange.push(t)},onceMaxValueChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event maxValueChange because owner is destroyed!");var l=function(e){null!=t&&(i.offMaxValueChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindMaxValueChange&&(this.__cbOnceOwnerUnbindMaxValueChange=[]),this.__cbOnceOwnerUnbindMaxValueChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindMaxValueChange&&(this.__cbOnceOwnerUnbindMaxValueChange=[]),this.__cbOnceOwnerUnbindMaxValueChange.push(null);null==this.__cbOnceMaxValueChange&&(this.__cbOnceMaxValueChange=[]),this.__cbOnceMaxValueChange.push(t)},offMaxValueChange:function(e){if(null!=e){var n;null!=this.__cbOnMaxValueChange&&-1!=(n=this.__cbOnMaxValueChange.indexOf(e))&&(this.__cbOnMaxValueChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindMaxValueChange[n])&&s(),this.__cbOnOwnerUnbindMaxValueChange.splice(n,1)),null!=this.__cbOnceMaxValueChange&&-1!=(n=this.__cbOnceMaxValueChange.indexOf(e))&&(this.__cbOnceMaxValueChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindMaxValueChange[n])&&s(),this.__cbOnceOwnerUnbindMaxValueChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindMaxValueChange){for(var t=0,i=this.__cbOnOwnerUnbindMaxValueChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindMaxValueChange[l])&&s()}this.__cbOnOwnerUnbindMaxValueChange=null}if(null!=this.__cbOnceOwnerUnbindMaxValueChange){for(t=0,i=this.__cbOnceOwnerUnbindMaxValueChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindMaxValueChange[l])&&s()}this.__cbOnceOwnerUnbindMaxValueChange=null}this.__cbOnMaxValueChange=null,this.__cbOnceMaxValueChange=null}},listensMaxValueChange:function(){return null!=this.__cbOnMaxValueChange&&0<this.__cbOnMaxValueChange.length||null!=this.__cbOnceMaxValueChange&&0<this.__cbOnceMaxValueChange.length},enabledTextInputAutoruns:null,get_enabledTextInput:function(){var e,n,t=this.unobservedEnabledTextInput;return null!=A.current&&(e=A.current,null!=(n=this.enabledTextInputAutoruns)||(n=A.getAutorunArray(),null!=(this.enabledTextInputAutoruns=n)))&&e.bindToAutorunArray(n),t},set_enabledTextInput:function(e){var n=this.unobservedEnabledTextInput;return n!=(this.unobservedEnabledTextInput=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitEnabledTextInputChange(e,n),null!=(n=this.enabledTextInputAutoruns))&&(this.enabledTextInputAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateEnabledTextInput:function(){var e=this.unobservedEnabledTextInput,e=(this.emitEnabledTextInputChange(e,e),this.enabledTextInputAutoruns);null!=e&&(this.enabledTextInputAutoruns=null,A.invalidateAutorunArray(e))},unobservedEnabledTextInput:null,__cbOnEnabledTextInputChange:null,__cbOnceEnabledTextInputChange:null,__cbOnOwnerUnbindEnabledTextInputChange:null,__cbOnceOwnerUnbindEnabledTextInputChange:null,emitEnabledTextInputChange:function(e,n){var t=0;if(null!=this.__cbOnEnabledTextInputChange&&(t+=this.__cbOnEnabledTextInputChange.length),null!=this.__cbOnceEnabledTextInputChange&&(t+=this.__cbOnceEnabledTextInputChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnEnabledTextInputChange)for(var r=0,h=this.__cbOnEnabledTextInputChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnEnabledTextInputChange[a],++s):--t}if(null!=this.__cbOnceEnabledTextInputChange){for(var o=null,c=null,r=0,h=this.__cbOnceEnabledTextInputChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceEnabledTextInputChange[a],this.__cbOnceEnabledTextInputChange[a]=null,u=this.__cbOnceOwnerUnbindEnabledTextInputChange[a],(this.__cbOnceOwnerUnbindEnabledTextInputChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindEnabledTextInputChange[a]),c.push(this.__cbOnceEnabledTextInputChange[a]))}this.__cbOnceOwnerUnbindEnabledTextInputChange=o,this.__cbOnceEnabledTextInputChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onEnabledTextInputChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event enabledTextInputChange because owner is destroyed!");var l=function(e){null!=t&&(i.offEnabledTextInputChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindEnabledTextInputChange&&(this.__cbOnOwnerUnbindEnabledTextInputChange=[]),this.__cbOnOwnerUnbindEnabledTextInputChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindEnabledTextInputChange&&(this.__cbOnOwnerUnbindEnabledTextInputChange=[]),this.__cbOnOwnerUnbindEnabledTextInputChange.push(null);null==this.__cbOnEnabledTextInputChange&&(this.__cbOnEnabledTextInputChange=[]),this.__cbOnEnabledTextInputChange.push(t)},onceEnabledTextInputChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event enabledTextInputChange because owner is destroyed!");var l=function(e){null!=t&&(i.offEnabledTextInputChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindEnabledTextInputChange&&(this.__cbOnceOwnerUnbindEnabledTextInputChange=[]),this.__cbOnceOwnerUnbindEnabledTextInputChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindEnabledTextInputChange&&(this.__cbOnceOwnerUnbindEnabledTextInputChange=[]),this.__cbOnceOwnerUnbindEnabledTextInputChange.push(null);null==this.__cbOnceEnabledTextInputChange&&(this.__cbOnceEnabledTextInputChange=[]),this.__cbOnceEnabledTextInputChange.push(t)},offEnabledTextInputChange:function(e){if(null!=e){var n;null!=this.__cbOnEnabledTextInputChange&&-1!=(n=this.__cbOnEnabledTextInputChange.indexOf(e))&&(this.__cbOnEnabledTextInputChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindEnabledTextInputChange[n])&&s(),this.__cbOnOwnerUnbindEnabledTextInputChange.splice(n,1)),null!=this.__cbOnceEnabledTextInputChange&&-1!=(n=this.__cbOnceEnabledTextInputChange.indexOf(e))&&(this.__cbOnceEnabledTextInputChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindEnabledTextInputChange[n])&&s(),this.__cbOnceOwnerUnbindEnabledTextInputChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindEnabledTextInputChange){for(var t=0,i=this.__cbOnOwnerUnbindEnabledTextInputChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindEnabledTextInputChange[l])&&s()}this.__cbOnOwnerUnbindEnabledTextInputChange=null}if(null!=this.__cbOnceOwnerUnbindEnabledTextInputChange){for(t=0,i=this.__cbOnceOwnerUnbindEnabledTextInputChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindEnabledTextInputChange[l])&&s()}this.__cbOnceOwnerUnbindEnabledTextInputChange=null}this.__cbOnEnabledTextInputChange=null,this.__cbOnceEnabledTextInputChange=null}},listensEnabledTextInputChange:function(){return null!=this.__cbOnEnabledTextInputChange&&0<this.__cbOnEnabledTextInputChange.length||null!=this.__cbOnceEnabledTextInputChange&&0<this.__cbOnceEnabledTextInputChange.length},inputStyleAutoruns:null,get_inputStyle:function(){var e,n,t=this.unobservedInputStyle;return null!=A.current&&(e=A.current,null!=(n=this.inputStyleAutoruns)||(n=A.getAutorunArray(),null!=(this.inputStyleAutoruns=n)))&&e.bindToAutorunArray(n),t},set_inputStyle:function(e){var n=this.unobservedInputStyle;return n!=(this.unobservedInputStyle=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitInputStyleChange(e,n),null!=(n=this.inputStyleAutoruns))&&(this.inputStyleAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateInputStyle:function(){var e=this.unobservedInputStyle,e=(this.emitInputStyleChange(e,e),this.inputStyleAutoruns);null!=e&&(this.inputStyleAutoruns=null,A.invalidateAutorunArray(e))},unobservedInputStyle:null,__cbOnInputStyleChange:null,__cbOnceInputStyleChange:null,__cbOnOwnerUnbindInputStyleChange:null,__cbOnceOwnerUnbindInputStyleChange:null,emitInputStyleChange:function(e,n){var t=0;if(null!=this.__cbOnInputStyleChange&&(t+=this.__cbOnInputStyleChange.length),null!=this.__cbOnceInputStyleChange&&(t+=this.__cbOnceInputStyleChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnInputStyleChange)for(var r=0,h=this.__cbOnInputStyleChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnInputStyleChange[a],++s):--t}if(null!=this.__cbOnceInputStyleChange){for(var o=null,c=null,r=0,h=this.__cbOnceInputStyleChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceInputStyleChange[a],this.__cbOnceInputStyleChange[a]=null,u=this.__cbOnceOwnerUnbindInputStyleChange[a],(this.__cbOnceOwnerUnbindInputStyleChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindInputStyleChange[a]),c.push(this.__cbOnceInputStyleChange[a]))}this.__cbOnceOwnerUnbindInputStyleChange=o,this.__cbOnceInputStyleChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onInputStyleChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event inputStyleChange because owner is destroyed!");var l=function(e){null!=t&&(i.offInputStyleChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindInputStyleChange&&(this.__cbOnOwnerUnbindInputStyleChange=[]),this.__cbOnOwnerUnbindInputStyleChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindInputStyleChange&&(this.__cbOnOwnerUnbindInputStyleChange=[]),this.__cbOnOwnerUnbindInputStyleChange.push(null);null==this.__cbOnInputStyleChange&&(this.__cbOnInputStyleChange=[]),this.__cbOnInputStyleChange.push(t)},onceInputStyleChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event inputStyleChange because owner is destroyed!");var l=function(e){null!=t&&(i.offInputStyleChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindInputStyleChange&&(this.__cbOnceOwnerUnbindInputStyleChange=[]),this.__cbOnceOwnerUnbindInputStyleChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindInputStyleChange&&(this.__cbOnceOwnerUnbindInputStyleChange=[]),this.__cbOnceOwnerUnbindInputStyleChange.push(null);null==this.__cbOnceInputStyleChange&&(this.__cbOnceInputStyleChange=[]),this.__cbOnceInputStyleChange.push(t)},offInputStyleChange:function(e){if(null!=e){var n;null!=this.__cbOnInputStyleChange&&-1!=(n=this.__cbOnInputStyleChange.indexOf(e))&&(this.__cbOnInputStyleChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindInputStyleChange[n])&&s(),this.__cbOnOwnerUnbindInputStyleChange.splice(n,1)),null!=this.__cbOnceInputStyleChange&&-1!=(n=this.__cbOnceInputStyleChange.indexOf(e))&&(this.__cbOnceInputStyleChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindInputStyleChange[n])&&s(),this.__cbOnceOwnerUnbindInputStyleChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindInputStyleChange){for(var t=0,i=this.__cbOnOwnerUnbindInputStyleChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindInputStyleChange[l])&&s()}this.__cbOnOwnerUnbindInputStyleChange=null}if(null!=this.__cbOnceOwnerUnbindInputStyleChange){for(t=0,i=this.__cbOnceOwnerUnbindInputStyleChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindInputStyleChange[l])&&s()}this.__cbOnceOwnerUnbindInputStyleChange=null}this.__cbOnInputStyleChange=null,this.__cbOnceInputStyleChange=null}},listensInputStyleChange:function(){return null!=this.__cbOnInputStyleChange&&0<this.__cbOnInputStyleChange.length||null!=this.__cbOnceInputStyleChange&&0<this.__cbOnceInputStyleChange.length},disabledAutoruns:null,get_disabled:function(){var e,n,t=this.unobservedDisabled;return null!=A.current&&(e=A.current,null!=(n=this.disabledAutoruns)||(n=A.getAutorunArray(),null!=(this.disabledAutoruns=n)))&&e.bindToAutorunArray(n),t},set_disabled:function(e){var n=this.unobservedDisabled;return this.set_unobservedDisabled(e),n!=e&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitDisabledChange(e,n),null!=(n=this.disabledAutoruns))&&(this.disabledAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateDisabled:function(){var e=this.unobservedDisabled,e=(this.emitDisabledChange(e,e),this.disabledAutoruns);null!=e&&(this.disabledAutoruns=null,A.invalidateAutorunArray(e))},unobservedDisabled:null,__cbOnDisabledChange:null,__cbOnceDisabledChange:null,__cbOnOwnerUnbindDisabledChange:null,__cbOnceOwnerUnbindDisabledChange:null,emitDisabledChange:function(e,n){var t=0;if(null!=this.__cbOnDisabledChange&&(t+=this.__cbOnDisabledChange.length),null!=this.__cbOnceDisabledChange&&(t+=this.__cbOnceDisabledChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnDisabledChange)for(var r=0,h=this.__cbOnDisabledChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnDisabledChange[a],++s):--t}if(null!=this.__cbOnceDisabledChange){for(var o=null,c=null,r=0,h=this.__cbOnceDisabledChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceDisabledChange[a],this.__cbOnceDisabledChange[a]=null,u=this.__cbOnceOwnerUnbindDisabledChange[a],(this.__cbOnceOwnerUnbindDisabledChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindDisabledChange[a]),c.push(this.__cbOnceDisabledChange[a]))}this.__cbOnceOwnerUnbindDisabledChange=o,this.__cbOnceDisabledChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onDisabledChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event disabledChange because owner is destroyed!");var l=function(e){null!=t&&(i.offDisabledChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindDisabledChange&&(this.__cbOnOwnerUnbindDisabledChange=[]),this.__cbOnOwnerUnbindDisabledChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindDisabledChange&&(this.__cbOnOwnerUnbindDisabledChange=[]),this.__cbOnOwnerUnbindDisabledChange.push(null);null==this.__cbOnDisabledChange&&(this.__cbOnDisabledChange=[]),this.__cbOnDisabledChange.push(t)},onceDisabledChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event disabledChange because owner is destroyed!");var l=function(e){null!=t&&(i.offDisabledChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindDisabledChange&&(this.__cbOnceOwnerUnbindDisabledChange=[]),this.__cbOnceOwnerUnbindDisabledChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindDisabledChange&&(this.__cbOnceOwnerUnbindDisabledChange=[]),this.__cbOnceOwnerUnbindDisabledChange.push(null);null==this.__cbOnceDisabledChange&&(this.__cbOnceDisabledChange=[]),this.__cbOnceDisabledChange.push(t)},offDisabledChange:function(e){if(null!=e){var n;null!=this.__cbOnDisabledChange&&-1!=(n=this.__cbOnDisabledChange.indexOf(e))&&(this.__cbOnDisabledChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindDisabledChange[n])&&s(),this.__cbOnOwnerUnbindDisabledChange.splice(n,1)),null!=this.__cbOnceDisabledChange&&-1!=(n=this.__cbOnceDisabledChange.indexOf(e))&&(this.__cbOnceDisabledChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindDisabledChange[n])&&s(),this.__cbOnceOwnerUnbindDisabledChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindDisabledChange){for(var t=0,i=this.__cbOnOwnerUnbindDisabledChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindDisabledChange[l])&&s()}this.__cbOnOwnerUnbindDisabledChange=null}if(null!=this.__cbOnceOwnerUnbindDisabledChange){for(t=0,i=this.__cbOnceOwnerUnbindDisabledChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindDisabledChange[l])&&s()}this.__cbOnceOwnerUnbindDisabledChange=null}this.__cbOnDisabledChange=null,this.__cbOnceDisabledChange=null}},listensDisabledChange:function(){return null!=this.__cbOnDisabledChange&&0<this.__cbOnDisabledChange.length||null!=this.__cbOnceDisabledChange&&0<this.__cbOnceDisabledChange.length},set_unobservedDisabled:function(e){return this.unobservedDisabled!=e&&(this.unobservedDisabled=e,this.set_touchable(!e),null!=this.editText&&this.editText.set_disabled(e),e)&&this.get_unobservedFocused()&&ae.app.screen.set_focusedVisual(null),e},round:null,sliderContainer:null,sliderSquare:null,focus:function(){Z2.prototype.focus.call(this),this.get_focused()||this.editText.focus()},didLostFocus:function(){var e;Z2.prototype.didLostFocus.call(this),""==this.textView.text.content||"-"==this.textView.text.content?((e=(e=0)<this.get_minValue()?this.get_minValue():e)>this.get_maxValue()&&(e=this.get_maxValue()),e=this.applyRound(e),this.setValue(this,e),this.updateFromValue()):z.endsWith(this.textView.text.content,".")&&this.updateFromValue(),ae.app.screen.offPointerMove($bind(this,this.handleSliderMove)),ae.app.screen.offPointerUp($bind(this,this.handleSliderUp))},clipText:function(e,n){var t=this.textView.text;t.set_clipTextX(0),t.set_clipTextY(0),t.set_clipTextWidth(e-6),t.set_clipTextHeight(this.get_height())},layout:function(){Z2.prototype.layout.call(this)},layoutSliderContainer:function(){var e=this.sliderContainer.paddingLeft,n=this.sliderContainer.get_width()-this.sliderSquare.get_width()-this.sliderContainer.paddingRight,t=this.get_value(),i=((t=t<this.get_minValue()?this.get_minValue():t)>this.get_maxValue()&&(t=this.get_maxValue()),this.sliderSquare),n=e+(n-e)*(t-this.get_minValue())/(this.get_maxValue()-this.get_minValue()),e=this.sliderContainer.paddingTop;i.set_x(n),i.set_y(e)},handleStopEditText:function(){!this.get_focused()||null==ae.app.screen.get_focusedVisual()||ae.app.screen.get_focusedVisual().hasIndirectParent(this)&&!ae.app.screen.get_focusedVisual().hasIndirectParent(this.textView)||ae.app.screen.set_focusedVisual(null)},updateFromValue:function(){var e=this.get_value(),e=(A.unobserve(),""+e);null!=this.editText&&this.editText.updateText(e),this.get_textValue()!=e&&this.set_textValue(e),this.textView.set_content(e),this.sliderContainer.layoutDirty=!0,A.reobserve()},updateStyle:function(){var e,n,t=this.get_theme();null==t&&(t=G.get_context().get_theme()),null!=this.editText&&(this.editText.set_selectionColor(t.get_focusedFieldSelectionColor()),this.editText.set_textCursorColor(t.get_lightTextColor())),this.get_inputStyle()==Vi.MINIMAL?(this.flags|=16,0!=this.borderSize&&(this.borderSize=0,this.updateBorder())):(this.flags&=-17,this.color=t.get_darkBackgroundColor(),1!=this.borderSize&&(this.borderSize=1,this.updateBorder())),this.textView.set_textColor(t.get_fieldTextColor()),this.textView.set_font(t.get_mediumFont()),this.get_inputStyle()==Vi.MINIMAL?(this.sliderSquare.color=t.get_darkTextColor(),this.sliderContainer.color=t.get_mediumBackgroundColor(),1!=(n=this.sliderContainer).borderSize&&(n.borderSize=1,n.updateBorder()),n=this.sliderContainer,e=He.INSIDE,n.borderPosition!=e&&(n.borderPosition=e,0<n.borderSize||0<n.borderTopSize||0<n.borderBottomSize||0<n.borderLeftSize||0<n.borderRightSize)&&n.updateBorder(),0!=(n=this.sliderContainer).borderDepth&&(n.borderDepth=0,null!=n.border)&&n.border.set_depth(0),n=this.sliderContainer,e=t.get_darkBorderColor(),n.borderColor!=e&&(n.borderColor=e,0<n.borderSize||0<n.borderTopSize||0<n.borderBottomSize||0<n.borderLeftSize||0<n.borderRightSize)&&n.updateBorder()):this.get_disabled()?(this.sliderSquare.color=t.get_darkerTextColor(),this.sliderContainer.color=t.get_darkBackgroundColor(),e=t.get_mediumBorderColor(),this.borderColor!=e&&(this.borderColor=e,0<this.borderSize||0<this.borderTopSize||0<this.borderBottomSize||0<this.borderLeftSize||0<this.borderRightSize)&&this.updateBorder(),0!=(n=this.sliderContainer).borderSize&&(n.borderSize=0,n.updateBorder()),this.textView.set_textAlpha(.5)):(e=this.get_focused()?(this.sliderSquare.color=t.get_mediumTextColor(),this.sliderContainer.color=t.get_lightBackgroundColor(),t.get_focusedFieldBorderColor()):(this.sliderSquare.color=t.get_darkTextColor(),this.sliderContainer.color=t.get_mediumBackgroundColor(),t.get_lightBorderColor()),this.borderColor!=e&&(this.borderColor=e,0<this.borderSize||0<this.borderTopSize||0<this.borderBottomSize||0<this.borderLeftSize||0<this.borderRightSize)&&this.updateBorder(),0!=(n=this.sliderContainer).borderSize&&(n.borderSize=0,n.updateBorder()),this.textView.set_textAlpha(1))},applyRound:function(e){return 1==this.round?e=Math.round(e):1<this.round&&(e=Math.round(e*this.round)/this.round),e},handleSliderDown:function(e){this.sliderContainer.screenToVisual(e.x,e.y,Qd._point),this.setValueFromSliderX(Qd._point.x),ae.app.screen.onPointerMove(this,$bind(this,this.handleSliderMove)),ae.app.screen.oncePointerUp(this,$bind(this,this.handleSliderUp))},handleSliderMove:function(e){this.sliderContainer.screenToVisual(e.x,e.y,Qd._point),this.setValueFromSliderX(Qd._point.x)},handleSliderUp:function(e){ae.app.screen.offPointerMove($bind(this,this.handleSliderMove)),ae.app.screen.offPointerUp($bind(this,this.handleSliderUp))},setValueFromSliderX:function(e){var n=this.sliderContainer.paddingLeft+.5*this.sliderSquare.get_width(),t=this.sliderContainer.paddingRight+.5*this.sliderSquare.get_width(),e=this.get_minValue()+(this.get_maxValue()-this.get_minValue())*(e-n)/(this.sliderContainer.get_width()-n-t);(e=e<this.get_minValue()?this.get_minValue():e)>this.get_maxValue()&&(e=this.get_maxValue()),e=this.applyRound(e),this.setValue(this,e),this.updateFromValue()},unbindEvents:function(){Z2.prototype.unbindEvents.call(this),this.offThemeChange(),this.offValueChange(),this.offMinValueChange(),this.offMaxValueChange(),this.offEnabledTextInputChange(),this.offInputStyleChange(),this.offDisabledChange()},__class__:Qd,__properties__:$extend(Z2.prototype.__properties__,{set_unobservedDisabled:"set_unobservedDisabled",set_disabled:"set_disabled",get_disabled:"get_disabled",set_inputStyle:"set_inputStyle",get_inputStyle:"get_inputStyle",set_enabledTextInput:"set_enabledTextInput",get_enabledTextInput:"get_enabledTextInput",set_maxValue:"set_maxValue",get_maxValue:"get_maxValue",set_minValue:"set_minValue",get_minValue:"get_minValue",set_value:"set_value",get_value:"get_value",set_theme:"set_theme",get_theme:"get_theme"})}),function(){this.initializerName=null,this.findingWithFocused=null,this.rightShiftPressed=!1,this.leftShiftPressed=!1,this.focusRoot=null,j.call(this)}),Ki=((E["elements.TabFocus"]=Xi).__name__="elements.TabFocus",Xi.__interfaces__=[a0],Xi.__super__=j,Xi.prototype=$extend(j.prototype,{entity:null,focusRoot:null,leftShiftPressed:null,rightShiftPressed:null,findingWithFocused:null,bindAsComponent:function(){ae.app.input.onKeyDown(this,$bind(this,this.handleKeyDown)),ae.app.input.onKeyUp(this,$bind(this,this.handleKeyUp))},handleKeyDown:function(e){var n;null!=ae.app.screen.get_focusedVisual()&&(ae.app.screen.get_focusedVisual()==this.entity||ae.app.screen.get_focusedVisual().hasIndirectParent(this.entity)||null!=this.focusRoot&&(ae.app.screen.get_focusedVisual()==this.focusRoot||ae.app.screen.get_focusedVisual().hasIndirectParent(this.focusRoot)))&&(43==e.scanCode?this.leftShiftPressed||this.rightShiftPressed?this.focusPrevField():this.focusNextField():41==e.scanCode&&null!=(n=this.findCurrentFocusable())&&(n.escapeTabFocus(),null!=this.focusRoot)&&n!=this.findCurrentFocusable()&&ae.app.screen.set_focusedVisual(this.focusRoot)),225==e.scanCode?this.leftShiftPressed=!0:229==e.scanCode&&(this.rightShiftPressed=!0)},handleKeyUp:function(e){225==e.scanCode?this.leftShiftPressed=!1:229==e.scanCode&&(this.rightShiftPressed=!1)},focusNextField:function(){this.findingWithFocused=ae.app.screen.get_focusedVisual();var e=this.findNextFocusable(this.entity);(null!=e||null!=ae.app.screen.get_focusedVisual()&&(this.findingWithFocused=null)!=(e=this.findNextFocusable(this.entity)))&&e.tabFocus(),this.findingWithFocused=null},focusPrevField:function(){this.findingWithFocused=ae.app.screen.get_focusedVisual();var e=this.findPrevFocusable(this.entity);(null!=e||null!=ae.app.screen.get_focusedVisual()&&(this.findingWithFocused=null)!=(e=this.findPrevFocusable(this.entity)))&&e.tabFocus(),this.findingWithFocused=null},findNextFocusable:function(e){if(null!=e&&null!=e.children)for(var n=0,t=e.children.length;n<t;){var i=n++,i=e.children[i];if(null!=this.findingWithFocused)if(i==this.findingWithFocused)this.findingWithFocused=null;else{var l=this.findNextFocusable(i);if(null!=l&&l.allowsTabFocus())return l}else{if(Os.__implements(i,W2))return i;l=this.findNextFocusable(i);if(null!=l&&l.allowsTabFocus())return l}}return null},findPrevFocusable:function(e){if(null!=e&&null!=e.children)for(var n=e.children.length-1;0<=n;){var t=e.children[n];if(null!=this.findingWithFocused)if(t==this.findingWithFocused)this.findingWithFocused=null;else{var i=this.findPrevFocusable(t);if(null!=i&&i.allowsTabFocus())return i}else{if(Os.__implements(t,W2))return t;i=this.findPrevFocusable(t);if(null!=i&&i.allowsTabFocus())return i}--n}return null},findCurrentFocusable:function(){var e=ae.app.screen.get_focusedVisual();return null!=e?Os.__implements(e=e,W2)?e:e.firstParentWithClass(W2):null},setEntity:function(e){this.entity=e instanceof o?e:null},getEntity:function(){return this.entity},initializerName:null,__class__:Xi}),(E["elements.TabsLayout"]=Sd).__name__="elements.TabsLayout",Sd.__interfaces__=[s],Sd.__super__=Yb,Sd.prototype=$extend(Yb.prototype,{__cbOnObservedDirty:null,__cbOnceObservedDirty:null,__cbOnOwnerUnbindObservedDirty:null,__cbOnceOwnerUnbindObservedDirty:null,emitObservedDirty:function(e,n){var t=0;if(null!=this.__cbOnObservedDirty&&(t+=this.__cbOnObservedDirty.length),null!=this.__cbOnceObservedDirty&&(t+=this.__cbOnceObservedDirty.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnObservedDirty)for(var r=0,h=this.__cbOnObservedDirty.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnObservedDirty[a],++s):--t}if(null!=this.__cbOnceObservedDirty){for(var o=null,c=null,r=0,h=this.__cbOnceObservedDirty.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceObservedDirty[a],this.__cbOnceObservedDirty[a]=null,u=this.__cbOnceOwnerUnbindObservedDirty[a],(this.__cbOnceOwnerUnbindObservedDirty[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindObservedDirty[a]),c.push(this.__cbOnceObservedDirty[a]))}this.__cbOnceOwnerUnbindObservedDirty=o,this.__cbOnceObservedDirty=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onObservedDirty:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event observedDirty because owner is destroyed!");var l=function(e){null!=t&&(i.offObservedDirty(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push(null);null==this.__cbOnObservedDirty&&(this.__cbOnObservedDirty=[]),this.__cbOnObservedDirty.push(t)},onceObservedDirty:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event observedDirty because owner is destroyed!");var l=function(e){null!=t&&(i.offObservedDirty(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push(null);null==this.__cbOnceObservedDirty&&(this.__cbOnceObservedDirty=[]),this.__cbOnceObservedDirty.push(t)},offObservedDirty:function(e){if(null!=e){var n;null!=this.__cbOnObservedDirty&&-1!=(n=this.__cbOnObservedDirty.indexOf(e))&&(this.__cbOnObservedDirty.splice(n,1),null!=(s=this.__cbOnOwnerUnbindObservedDirty[n])&&s(),this.__cbOnOwnerUnbindObservedDirty.splice(n,1)),null!=this.__cbOnceObservedDirty&&-1!=(n=this.__cbOnceObservedDirty.indexOf(e))&&(this.__cbOnceObservedDirty.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindObservedDirty[n])&&s(),this.__cbOnceOwnerUnbindObservedDirty.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindObservedDirty){for(var t=0,i=this.__cbOnOwnerUnbindObservedDirty.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindObservedDirty[l])&&s()}this.__cbOnOwnerUnbindObservedDirty=null}if(null!=this.__cbOnceOwnerUnbindObservedDirty){for(t=0,i=this.__cbOnceOwnerUnbindObservedDirty.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindObservedDirty[l])&&s()}this.__cbOnceOwnerUnbindObservedDirty=null}this.__cbOnObservedDirty=null,this.__cbOnceObservedDirty=null}},listensObservedDirty:function(){return null!=this.__cbOnObservedDirty&&0<this.__cbOnObservedDirty.length||null!=this.__cbOnceObservedDirty&&0<this.__cbOnceObservedDirty.length},observedDirty:null,themeAutoruns:null,get_theme:function(){var e,n,t=this.unobservedTheme;return null!=A.current&&(e=A.current,null!=(n=this.themeAutoruns)||(n=A.getAutorunArray(),null!=(this.themeAutoruns=n)))&&e.bindToAutorunArray(n),t},set_theme:function(e){var n=this.unobservedTheme;return n!=(this.unobservedTheme=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitThemeChange(e,n),null!=(n=this.themeAutoruns))&&(this.themeAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateTheme:function(){var e=this.unobservedTheme,e=(this.emitThemeChange(e,e),this.themeAutoruns);null!=e&&(this.themeAutoruns=null,A.invalidateAutorunArray(e))},unobservedTheme:null,__cbOnThemeChange:null,__cbOnceThemeChange:null,__cbOnOwnerUnbindThemeChange:null,__cbOnceOwnerUnbindThemeChange:null,emitThemeChange:function(e,n){var t=0;if(null!=this.__cbOnThemeChange&&(t+=this.__cbOnThemeChange.length),null!=this.__cbOnceThemeChange&&(t+=this.__cbOnceThemeChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnThemeChange)for(var r=0,h=this.__cbOnThemeChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnThemeChange[a],++s):--t}if(null!=this.__cbOnceThemeChange){for(var o=null,c=null,r=0,h=this.__cbOnceThemeChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceThemeChange[a],this.__cbOnceThemeChange[a]=null,u=this.__cbOnceOwnerUnbindThemeChange[a],(this.__cbOnceOwnerUnbindThemeChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindThemeChange[a]),c.push(this.__cbOnceThemeChange[a]))}this.__cbOnceOwnerUnbindThemeChange=o,this.__cbOnceThemeChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onThemeChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event themeChange because owner is destroyed!");var l=function(e){null!=t&&(i.offThemeChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindThemeChange&&(this.__cbOnOwnerUnbindThemeChange=[]),this.__cbOnOwnerUnbindThemeChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindThemeChange&&(this.__cbOnOwnerUnbindThemeChange=[]),this.__cbOnOwnerUnbindThemeChange.push(null);null==this.__cbOnThemeChange&&(this.__cbOnThemeChange=[]),this.__cbOnThemeChange.push(t)},onceThemeChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event themeChange because owner is destroyed!");var l=function(e){null!=t&&(i.offThemeChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindThemeChange&&(this.__cbOnceOwnerUnbindThemeChange=[]),this.__cbOnceOwnerUnbindThemeChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindThemeChange&&(this.__cbOnceOwnerUnbindThemeChange=[]),this.__cbOnceOwnerUnbindThemeChange.push(null);null==this.__cbOnceThemeChange&&(this.__cbOnceThemeChange=[]),this.__cbOnceThemeChange.push(t)},offThemeChange:function(e){if(null!=e){var n;null!=this.__cbOnThemeChange&&-1!=(n=this.__cbOnThemeChange.indexOf(e))&&(this.__cbOnThemeChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindThemeChange[n])&&s(),this.__cbOnOwnerUnbindThemeChange.splice(n,1)),null!=this.__cbOnceThemeChange&&-1!=(n=this.__cbOnceThemeChange.indexOf(e))&&(this.__cbOnceThemeChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindThemeChange[n])&&s(),this.__cbOnceOwnerUnbindThemeChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindThemeChange){for(var t=0,i=this.__cbOnOwnerUnbindThemeChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindThemeChange[l])&&s()}this.__cbOnOwnerUnbindThemeChange=null}if(null!=this.__cbOnceOwnerUnbindThemeChange){for(t=0,i=this.__cbOnceOwnerUnbindThemeChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindThemeChange[l])&&s()}this.__cbOnceOwnerUnbindThemeChange=null}this.__cbOnThemeChange=null,this.__cbOnceThemeChange=null}},listensThemeChange:function(){return null!=this.__cbOnThemeChange&&0<this.__cbOnThemeChange.length||null!=this.__cbOnceThemeChange&&0<this.__cbOnceThemeChange.length},marginX:null,set_marginX:function(e){return this.marginX!=e&&(this.marginX=e,this.layoutDirty=!0),e},marginY:null,set_marginY:function(e){return this.marginY!=e&&(this.marginY=e,this.layoutDirty=!0),e},windowItem:null,selectedIndexAutoruns:null,get_selectedIndex:function(){var e,n,t=this.unobservedSelectedIndex;return null!=A.current&&(e=A.current,null!=(n=this.selectedIndexAutoruns)||(n=A.getAutorunArray(),null!=(this.selectedIndexAutoruns=n)))&&e.bindToAutorunArray(n),t},set_selectedIndex:function(e){var n=this.unobservedSelectedIndex;return n!=(this.unobservedSelectedIndex=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitSelectedIndexChange(e,n),null!=(n=this.selectedIndexAutoruns))&&(this.selectedIndexAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateSelectedIndex:function(){var e=this.unobservedSelectedIndex,e=(this.emitSelectedIndexChange(e,e),this.selectedIndexAutoruns);null!=e&&(this.selectedIndexAutoruns=null,A.invalidateAutorunArray(e))},unobservedSelectedIndex:null,__cbOnSelectedIndexChange:null,__cbOnceSelectedIndexChange:null,__cbOnOwnerUnbindSelectedIndexChange:null,__cbOnceOwnerUnbindSelectedIndexChange:null,emitSelectedIndexChange:function(e,n){var t=0;if(null!=this.__cbOnSelectedIndexChange&&(t+=this.__cbOnSelectedIndexChange.length),null!=this.__cbOnceSelectedIndexChange&&(t+=this.__cbOnceSelectedIndexChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnSelectedIndexChange)for(var r=0,h=this.__cbOnSelectedIndexChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnSelectedIndexChange[a],++s):--t}if(null!=this.__cbOnceSelectedIndexChange){for(var o=null,c=null,r=0,h=this.__cbOnceSelectedIndexChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceSelectedIndexChange[a],this.__cbOnceSelectedIndexChange[a]=null,u=this.__cbOnceOwnerUnbindSelectedIndexChange[a],(this.__cbOnceOwnerUnbindSelectedIndexChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindSelectedIndexChange[a]),c.push(this.__cbOnceSelectedIndexChange[a]))}this.__cbOnceOwnerUnbindSelectedIndexChange=o,this.__cbOnceSelectedIndexChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onSelectedIndexChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event selectedIndexChange because owner is destroyed!");var l=function(e){null!=t&&(i.offSelectedIndexChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindSelectedIndexChange&&(this.__cbOnOwnerUnbindSelectedIndexChange=[]),this.__cbOnOwnerUnbindSelectedIndexChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindSelectedIndexChange&&(this.__cbOnOwnerUnbindSelectedIndexChange=[]),this.__cbOnOwnerUnbindSelectedIndexChange.push(null);null==this.__cbOnSelectedIndexChange&&(this.__cbOnSelectedIndexChange=[]),this.__cbOnSelectedIndexChange.push(t)},onceSelectedIndexChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event selectedIndexChange because owner is destroyed!");var l=function(e){null!=t&&(i.offSelectedIndexChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindSelectedIndexChange&&(this.__cbOnceOwnerUnbindSelectedIndexChange=[]),this.__cbOnceOwnerUnbindSelectedIndexChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindSelectedIndexChange&&(this.__cbOnceOwnerUnbindSelectedIndexChange=[]),this.__cbOnceOwnerUnbindSelectedIndexChange.push(null);null==this.__cbOnceSelectedIndexChange&&(this.__cbOnceSelectedIndexChange=[]),this.__cbOnceSelectedIndexChange.push(t)},offSelectedIndexChange:function(e){if(null!=e){var n;null!=this.__cbOnSelectedIndexChange&&-1!=(n=this.__cbOnSelectedIndexChange.indexOf(e))&&(this.__cbOnSelectedIndexChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindSelectedIndexChange[n])&&s(),this.__cbOnOwnerUnbindSelectedIndexChange.splice(n,1)),null!=this.__cbOnceSelectedIndexChange&&-1!=(n=this.__cbOnceSelectedIndexChange.indexOf(e))&&(this.__cbOnceSelectedIndexChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindSelectedIndexChange[n])&&s(),this.__cbOnceOwnerUnbindSelectedIndexChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindSelectedIndexChange){for(var t=0,i=this.__cbOnOwnerUnbindSelectedIndexChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindSelectedIndexChange[l])&&s()}this.__cbOnOwnerUnbindSelectedIndexChange=null}if(null!=this.__cbOnceOwnerUnbindSelectedIndexChange){for(t=0,i=this.__cbOnceOwnerUnbindSelectedIndexChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindSelectedIndexChange[l])&&s()}this.__cbOnceOwnerUnbindSelectedIndexChange=null}this.__cbOnSelectedIndexChange=null,this.__cbOnceSelectedIndexChange=null}},listensSelectedIndexChange:function(){return null!=this.__cbOnSelectedIndexChange&&0<this.__cbOnSelectedIndexChange.length||null!=this.__cbOnceSelectedIndexChange&&0<this.__cbOnceSelectedIndexChange.length},tabsAutoruns:null,get_tabs:function(){var e,n,t=this.unobservedTabs;return null!=A.current&&(e=A.current,null!=(n=this.tabsAutoruns)||(n=A.getAutorunArray(),null!=(this.tabsAutoruns=n)))&&e.bindToAutorunArray(n),t},set_tabs:function(e){var n=this.unobservedTabs;return this.unobservedTabs=e,Ds.equalAny(n,e)||(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitTabsChange(e,n),null!=(n=this.tabsAutoruns)&&(this.tabsAutoruns=null,A.invalidateAutorunArray(n))),e},invalidateTabs:function(){var e=this.unobservedTabs,e=(this.emitTabsChange(e,e),this.tabsAutoruns);null!=e&&(this.tabsAutoruns=null,A.invalidateAutorunArray(e))},unobservedTabs:null,__cbOnTabsChange:null,__cbOnceTabsChange:null,__cbOnOwnerUnbindTabsChange:null,__cbOnceOwnerUnbindTabsChange:null,emitTabsChange:function(e,n){var t=0;if(null!=this.__cbOnTabsChange&&(t+=this.__cbOnTabsChange.length),null!=this.__cbOnceTabsChange&&(t+=this.__cbOnceTabsChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnTabsChange)for(var r=0,h=this.__cbOnTabsChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnTabsChange[a],++s):--t}if(null!=this.__cbOnceTabsChange){for(var o=null,c=null,r=0,h=this.__cbOnceTabsChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceTabsChange[a],this.__cbOnceTabsChange[a]=null,u=this.__cbOnceOwnerUnbindTabsChange[a],(this.__cbOnceOwnerUnbindTabsChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindTabsChange[a]),c.push(this.__cbOnceTabsChange[a]))}this.__cbOnceOwnerUnbindTabsChange=o,this.__cbOnceTabsChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onTabsChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event tabsChange because owner is destroyed!");var l=function(e){null!=t&&(i.offTabsChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindTabsChange&&(this.__cbOnOwnerUnbindTabsChange=[]),this.__cbOnOwnerUnbindTabsChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindTabsChange&&(this.__cbOnOwnerUnbindTabsChange=[]),this.__cbOnOwnerUnbindTabsChange.push(null);null==this.__cbOnTabsChange&&(this.__cbOnTabsChange=[]),this.__cbOnTabsChange.push(t)},onceTabsChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event tabsChange because owner is destroyed!");var l=function(e){null!=t&&(i.offTabsChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindTabsChange&&(this.__cbOnceOwnerUnbindTabsChange=[]),this.__cbOnceOwnerUnbindTabsChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindTabsChange&&(this.__cbOnceOwnerUnbindTabsChange=[]),this.__cbOnceOwnerUnbindTabsChange.push(null);null==this.__cbOnceTabsChange&&(this.__cbOnceTabsChange=[]),this.__cbOnceTabsChange.push(t)},offTabsChange:function(e){if(null!=e){var n;null!=this.__cbOnTabsChange&&-1!=(n=this.__cbOnTabsChange.indexOf(e))&&(this.__cbOnTabsChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindTabsChange[n])&&s(),this.__cbOnOwnerUnbindTabsChange.splice(n,1)),null!=this.__cbOnceTabsChange&&-1!=(n=this.__cbOnceTabsChange.indexOf(e))&&(this.__cbOnceTabsChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindTabsChange[n])&&s(),this.__cbOnceOwnerUnbindTabsChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindTabsChange){for(var t=0,i=this.__cbOnOwnerUnbindTabsChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindTabsChange[l])&&s()}this.__cbOnOwnerUnbindTabsChange=null}if(null!=this.__cbOnceOwnerUnbindTabsChange){for(t=0,i=this.__cbOnceOwnerUnbindTabsChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindTabsChange[l])&&s()}this.__cbOnceOwnerUnbindTabsChange=null}this.__cbOnTabsChange=null,this.__cbOnceTabsChange=null}},listensTabsChange:function(){return null!=this.__cbOnTabsChange&&0<this.__cbOnTabsChange.length||null!=this.__cbOnceTabsChange&&0<this.__cbOnceTabsChange.length},tabStatesAutoruns:null,get_tabStates:function(){var e,n,t=this.unobservedTabStates;return null!=A.current&&(e=A.current,null!=(n=this.tabStatesAutoruns)||(n=A.getAutorunArray(),null!=(this.tabStatesAutoruns=n)))&&e.bindToAutorunArray(n),t},set_tabStates:function(e){var n=this.unobservedTabStates;return this.unobservedTabStates=e,Ds.equalAny(n,e)||(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitTabStatesChange(e,n),null!=(n=this.tabStatesAutoruns)&&(this.tabStatesAutoruns=null,A.invalidateAutorunArray(n))),e},invalidateTabStates:function(){var e=this.unobservedTabStates,e=(this.emitTabStatesChange(e,e),this.tabStatesAutoruns);null!=e&&(this.tabStatesAutoruns=null,A.invalidateAutorunArray(e))},unobservedTabStates:null,__cbOnTabStatesChange:null,__cbOnceTabStatesChange:null,__cbOnOwnerUnbindTabStatesChange:null,__cbOnceOwnerUnbindTabStatesChange:null,emitTabStatesChange:function(e,n){var t=0;if(null!=this.__cbOnTabStatesChange&&(t+=this.__cbOnTabStatesChange.length),null!=this.__cbOnceTabStatesChange&&(t+=this.__cbOnceTabStatesChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnTabStatesChange)for(var r=0,h=this.__cbOnTabStatesChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnTabStatesChange[a],++s):--t}if(null!=this.__cbOnceTabStatesChange){for(var o=null,c=null,r=0,h=this.__cbOnceTabStatesChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceTabStatesChange[a],this.__cbOnceTabStatesChange[a]=null,u=this.__cbOnceOwnerUnbindTabStatesChange[a],(this.__cbOnceOwnerUnbindTabStatesChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindTabStatesChange[a]),c.push(this.__cbOnceTabStatesChange[a]))}this.__cbOnceOwnerUnbindTabStatesChange=o,this.__cbOnceTabStatesChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onTabStatesChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event tabStatesChange because owner is destroyed!");var l=function(e){null!=t&&(i.offTabStatesChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindTabStatesChange&&(this.__cbOnOwnerUnbindTabStatesChange=[]),this.__cbOnOwnerUnbindTabStatesChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindTabStatesChange&&(this.__cbOnOwnerUnbindTabStatesChange=[]),this.__cbOnOwnerUnbindTabStatesChange.push(null);null==this.__cbOnTabStatesChange&&(this.__cbOnTabStatesChange=[]),this.__cbOnTabStatesChange.push(t)},onceTabStatesChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event tabStatesChange because owner is destroyed!");var l=function(e){null!=t&&(i.offTabStatesChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindTabStatesChange&&(this.__cbOnceOwnerUnbindTabStatesChange=[]),this.__cbOnceOwnerUnbindTabStatesChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindTabStatesChange&&(this.__cbOnceOwnerUnbindTabStatesChange=[]),this.__cbOnceOwnerUnbindTabStatesChange.push(null);null==this.__cbOnceTabStatesChange&&(this.__cbOnceTabStatesChange=[]),this.__cbOnceTabStatesChange.push(t)},offTabStatesChange:function(e){if(null!=e){var n;null!=this.__cbOnTabStatesChange&&-1!=(n=this.__cbOnTabStatesChange.indexOf(e))&&(this.__cbOnTabStatesChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindTabStatesChange[n])&&s(),this.__cbOnOwnerUnbindTabStatesChange.splice(n,1)),null!=this.__cbOnceTabStatesChange&&-1!=(n=this.__cbOnceTabStatesChange.indexOf(e))&&(this.__cbOnceTabStatesChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindTabStatesChange[n])&&s(),this.__cbOnceOwnerUnbindTabStatesChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindTabStatesChange){for(var t=0,i=this.__cbOnOwnerUnbindTabStatesChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindTabStatesChange[l])&&s()}this.__cbOnOwnerUnbindTabStatesChange=null}if(null!=this.__cbOnceOwnerUnbindTabStatesChange){for(t=0,i=this.__cbOnceOwnerUnbindTabStatesChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindTabStatesChange[l])&&s()}this.__cbOnceOwnerUnbindTabStatesChange=null}this.__cbOnTabStatesChange=null,this.__cbOnceTabStatesChange=null}},listensTabStatesChange:function(){return null!=this.__cbOnTabStatesChange&&0<this.__cbOnTabStatesChange.length||null!=this.__cbOnceTabStatesChange&&0<this.__cbOnceTabStatesChange.length},tabThemesAutoruns:null,get_tabThemes:function(){var e,n,t=this.unobservedTabThemes;return null!=A.current&&(e=A.current,null!=(n=this.tabThemesAutoruns)||(n=A.getAutorunArray(),null!=(this.tabThemesAutoruns=n)))&&e.bindToAutorunArray(n),t},set_tabThemes:function(e){var n=this.unobservedTabThemes;return this.unobservedTabThemes=e,Ds.equalAny(n,e)||(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitTabThemesChange(e,n),null!=(n=this.tabThemesAutoruns)&&(this.tabThemesAutoruns=null,A.invalidateAutorunArray(n))),e},invalidateTabThemes:function(){var e=this.unobservedTabThemes,e=(this.emitTabThemesChange(e,e),this.tabThemesAutoruns);null!=e&&(this.tabThemesAutoruns=null,A.invalidateAutorunArray(e))},unobservedTabThemes:null,__cbOnTabThemesChange:null,__cbOnceTabThemesChange:null,__cbOnOwnerUnbindTabThemesChange:null,__cbOnceOwnerUnbindTabThemesChange:null,emitTabThemesChange:function(e,n){var t=0;if(null!=this.__cbOnTabThemesChange&&(t+=this.__cbOnTabThemesChange.length),null!=this.__cbOnceTabThemesChange&&(t+=this.__cbOnceTabThemesChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnTabThemesChange)for(var r=0,h=this.__cbOnTabThemesChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnTabThemesChange[a],++s):--t}if(null!=this.__cbOnceTabThemesChange){for(var o=null,c=null,r=0,h=this.__cbOnceTabThemesChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceTabThemesChange[a],this.__cbOnceTabThemesChange[a]=null,u=this.__cbOnceOwnerUnbindTabThemesChange[a],(this.__cbOnceOwnerUnbindTabThemesChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindTabThemesChange[a]),c.push(this.__cbOnceTabThemesChange[a]))}this.__cbOnceOwnerUnbindTabThemesChange=o,this.__cbOnceTabThemesChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onTabThemesChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event tabThemesChange because owner is destroyed!");var l=function(e){null!=t&&(i.offTabThemesChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindTabThemesChange&&(this.__cbOnOwnerUnbindTabThemesChange=[]),this.__cbOnOwnerUnbindTabThemesChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindTabThemesChange&&(this.__cbOnOwnerUnbindTabThemesChange=[]),this.__cbOnOwnerUnbindTabThemesChange.push(null);null==this.__cbOnTabThemesChange&&(this.__cbOnTabThemesChange=[]),this.__cbOnTabThemesChange.push(t)},onceTabThemesChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event tabThemesChange because owner is destroyed!");var l=function(e){null!=t&&(i.offTabThemesChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindTabThemesChange&&(this.__cbOnceOwnerUnbindTabThemesChange=[]),this.__cbOnceOwnerUnbindTabThemesChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindTabThemesChange&&(this.__cbOnceOwnerUnbindTabThemesChange=[]),this.__cbOnceOwnerUnbindTabThemesChange.push(null);null==this.__cbOnceTabThemesChange&&(this.__cbOnceTabThemesChange=[]),this.__cbOnceTabThemesChange.push(t)},offTabThemesChange:function(e){if(null!=e){var n;null!=this.__cbOnTabThemesChange&&-1!=(n=this.__cbOnTabThemesChange.indexOf(e))&&(this.__cbOnTabThemesChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindTabThemesChange[n])&&s(),this.__cbOnOwnerUnbindTabThemesChange.splice(n,1)),null!=this.__cbOnceTabThemesChange&&-1!=(n=this.__cbOnceTabThemesChange.indexOf(e))&&(this.__cbOnceTabThemesChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindTabThemesChange[n])&&s(),this.__cbOnceOwnerUnbindTabThemesChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindTabThemesChange){for(var t=0,i=this.__cbOnOwnerUnbindTabThemesChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindTabThemesChange[l])&&s()}this.__cbOnOwnerUnbindTabThemesChange=null}if(null!=this.__cbOnceOwnerUnbindTabThemesChange){for(t=0,i=this.__cbOnceOwnerUnbindTabThemesChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindTabThemesChange[l])&&s()}this.__cbOnceOwnerUnbindTabThemesChange=null}this.__cbOnTabThemesChange=null,this.__cbOnceTabThemesChange=null}},listensTabThemesChange:function(){return null!=this.__cbOnTabThemesChange&&0<this.__cbOnTabThemesChange.length||null!=this.__cbOnceTabThemesChange&&0<this.__cbOnceTabThemesChange.length},tabViewsAutoruns:null,get_tabViews:function(){var e,n,t=this.unobservedTabViews;return null!=A.current&&(e=A.current,null!=(n=this.tabViewsAutoruns)||(n=A.getAutorunArray(),null!=(this.tabViewsAutoruns=n)))&&e.bindToAutorunArray(n),t},set_tabViews:function(e){var n=this.unobservedTabViews;return this.unobservedTabViews=e,Ds.equalAny(n,e)||(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitTabViewsChange(e,n),null!=(n=this.tabViewsAutoruns)&&(this.tabViewsAutoruns=null,A.invalidateAutorunArray(n))),e},invalidateTabViews:function(){var e=this.unobservedTabViews,e=(this.emitTabViewsChange(e,e),this.tabViewsAutoruns);null!=e&&(this.tabViewsAutoruns=null,A.invalidateAutorunArray(e))},unobservedTabViews:null,__cbOnTabViewsChange:null,__cbOnceTabViewsChange:null,__cbOnOwnerUnbindTabViewsChange:null,__cbOnceOwnerUnbindTabViewsChange:null,emitTabViewsChange:function(e,n){var t=0;if(null!=this.__cbOnTabViewsChange&&(t+=this.__cbOnTabViewsChange.length),null!=this.__cbOnceTabViewsChange&&(t+=this.__cbOnceTabViewsChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnTabViewsChange)for(var r=0,h=this.__cbOnTabViewsChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnTabViewsChange[a],++s):--t}if(null!=this.__cbOnceTabViewsChange){for(var o=null,c=null,r=0,h=this.__cbOnceTabViewsChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceTabViewsChange[a],this.__cbOnceTabViewsChange[a]=null,u=this.__cbOnceOwnerUnbindTabViewsChange[a],(this.__cbOnceOwnerUnbindTabViewsChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindTabViewsChange[a]),c.push(this.__cbOnceTabViewsChange[a]))}this.__cbOnceOwnerUnbindTabViewsChange=o,this.__cbOnceTabViewsChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onTabViewsChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event tabViewsChange because owner is destroyed!");var l=function(e){null!=t&&(i.offTabViewsChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindTabViewsChange&&(this.__cbOnOwnerUnbindTabViewsChange=[]),this.__cbOnOwnerUnbindTabViewsChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindTabViewsChange&&(this.__cbOnOwnerUnbindTabViewsChange=[]),this.__cbOnOwnerUnbindTabViewsChange.push(null);null==this.__cbOnTabViewsChange&&(this.__cbOnTabViewsChange=[]),this.__cbOnTabViewsChange.push(t)},onceTabViewsChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event tabViewsChange because owner is destroyed!");var l=function(e){null!=t&&(i.offTabViewsChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindTabViewsChange&&(this.__cbOnceOwnerUnbindTabViewsChange=[]),this.__cbOnceOwnerUnbindTabViewsChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindTabViewsChange&&(this.__cbOnceOwnerUnbindTabViewsChange=[]),this.__cbOnceOwnerUnbindTabViewsChange.push(null);null==this.__cbOnceTabViewsChange&&(this.__cbOnceTabViewsChange=[]),this.__cbOnceTabViewsChange.push(t)},offTabViewsChange:function(e){if(null!=e){var n;null!=this.__cbOnTabViewsChange&&-1!=(n=this.__cbOnTabViewsChange.indexOf(e))&&(this.__cbOnTabViewsChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindTabViewsChange[n])&&s(),this.__cbOnOwnerUnbindTabViewsChange.splice(n,1)),null!=this.__cbOnceTabViewsChange&&-1!=(n=this.__cbOnceTabViewsChange.indexOf(e))&&(this.__cbOnceTabViewsChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindTabViewsChange[n])&&s(),this.__cbOnceOwnerUnbindTabViewsChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindTabViewsChange){for(var t=0,i=this.__cbOnOwnerUnbindTabViewsChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindTabViewsChange[l])&&s()}this.__cbOnOwnerUnbindTabViewsChange=null}if(null!=this.__cbOnceOwnerUnbindTabViewsChange){for(t=0,i=this.__cbOnceOwnerUnbindTabViewsChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindTabViewsChange[l])&&s()}this.__cbOnceOwnerUnbindTabViewsChange=null}this.__cbOnTabViewsChange=null,this.__cbOnceTabViewsChange=null}},listensTabViewsChange:function(){return null!=this.__cbOnTabViewsChange&&0<this.__cbOnTabViewsChange.length||null!=this.__cbOnceTabViewsChange&&0<this.__cbOnceTabViewsChange.length},hoverIndexAutoruns:null,get_hoverIndex:function(){var e,n,t=this.unobservedHoverIndex;return null!=A.current&&(e=A.current,null!=(n=this.hoverIndexAutoruns)||(n=A.getAutorunArray(),null!=(this.hoverIndexAutoruns=n)))&&e.bindToAutorunArray(n),t},set_hoverIndex:function(e){var n=this.unobservedHoverIndex;return n!=(this.unobservedHoverIndex=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitHoverIndexChange(e,n),null!=(n=this.hoverIndexAutoruns))&&(this.hoverIndexAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateHoverIndex:function(){var e=this.unobservedHoverIndex,e=(this.emitHoverIndexChange(e,e),this.hoverIndexAutoruns);null!=e&&(this.hoverIndexAutoruns=null,A.invalidateAutorunArray(e))},unobservedHoverIndex:null,__cbOnHoverIndexChange:null,__cbOnceHoverIndexChange:null,__cbOnOwnerUnbindHoverIndexChange:null,__cbOnceOwnerUnbindHoverIndexChange:null,emitHoverIndexChange:function(e,n){var t=0;if(null!=this.__cbOnHoverIndexChange&&(t+=this.__cbOnHoverIndexChange.length),null!=this.__cbOnceHoverIndexChange&&(t+=this.__cbOnceHoverIndexChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnHoverIndexChange)for(var r=0,h=this.__cbOnHoverIndexChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnHoverIndexChange[a],++s):--t}if(null!=this.__cbOnceHoverIndexChange){for(var o=null,c=null,r=0,h=this.__cbOnceHoverIndexChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceHoverIndexChange[a],this.__cbOnceHoverIndexChange[a]=null,u=this.__cbOnceOwnerUnbindHoverIndexChange[a],(this.__cbOnceOwnerUnbindHoverIndexChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindHoverIndexChange[a]),c.push(this.__cbOnceHoverIndexChange[a]))}this.__cbOnceOwnerUnbindHoverIndexChange=o,this.__cbOnceHoverIndexChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onHoverIndexChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event hoverIndexChange because owner is destroyed!");var l=function(e){null!=t&&(i.offHoverIndexChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindHoverIndexChange&&(this.__cbOnOwnerUnbindHoverIndexChange=[]),this.__cbOnOwnerUnbindHoverIndexChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindHoverIndexChange&&(this.__cbOnOwnerUnbindHoverIndexChange=[]),this.__cbOnOwnerUnbindHoverIndexChange.push(null);null==this.__cbOnHoverIndexChange&&(this.__cbOnHoverIndexChange=[]),this.__cbOnHoverIndexChange.push(t)},onceHoverIndexChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event hoverIndexChange because owner is destroyed!");var l=function(e){null!=t&&(i.offHoverIndexChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindHoverIndexChange&&(this.__cbOnceOwnerUnbindHoverIndexChange=[]),this.__cbOnceOwnerUnbindHoverIndexChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindHoverIndexChange&&(this.__cbOnceOwnerUnbindHoverIndexChange=[]),this.__cbOnceOwnerUnbindHoverIndexChange.push(null);null==this.__cbOnceHoverIndexChange&&(this.__cbOnceHoverIndexChange=[]),this.__cbOnceHoverIndexChange.push(t)},offHoverIndexChange:function(e){if(null!=e){var n;null!=this.__cbOnHoverIndexChange&&-1!=(n=this.__cbOnHoverIndexChange.indexOf(e))&&(this.__cbOnHoverIndexChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindHoverIndexChange[n])&&s(),this.__cbOnOwnerUnbindHoverIndexChange.splice(n,1)),null!=this.__cbOnceHoverIndexChange&&-1!=(n=this.__cbOnceHoverIndexChange.indexOf(e))&&(this.__cbOnceHoverIndexChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindHoverIndexChange[n])&&s(),this.__cbOnceOwnerUnbindHoverIndexChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindHoverIndexChange){for(var t=0,i=this.__cbOnOwnerUnbindHoverIndexChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindHoverIndexChange[l])&&s()}this.__cbOnOwnerUnbindHoverIndexChange=null}if(null!=this.__cbOnceOwnerUnbindHoverIndexChange){for(t=0,i=this.__cbOnceOwnerUnbindHoverIndexChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindHoverIndexChange[l])&&s()}this.__cbOnceOwnerUnbindHoverIndexChange=null}this.__cbOnHoverIndexChange=null,this.__cbOnceHoverIndexChange=null}},listensHoverIndexChange:function(){return null!=this.__cbOnHoverIndexChange&&0<this.__cbOnHoverIndexChange.length||null!=this.__cbOnceHoverIndexChange&&0<this.__cbOnceHoverIndexChange.length},appliedTabs:null,beforeBorder:null,afterBorder:null,beforeSelectedBackground:null,afterSelectedBackground:null,topBackground:null,bottomBackground:null,updateTabs:function(){for(var e=this.get_tabs(),n=(A.unobserve(),this.get_tabViews()),t=!1,i=0,l=e.length;i<l;){var s=i++,r=e[s],h=n[s];null==h&&((h=new A1).set_content(r),h.set_pointSize(12),h.set_preRenderedSize(20),h.set_align(Ot.CENTER),h.set_verticalAlign(Vn.CENTER),h.set_viewHeight(-60002),h.padding(0,10),h.set_depth(1),n.push(h),this.add(h),t=!0,this.initTabView(s,h))}for(;n.length>e.length;){t=!0;n.pop().destroy()}t&&this.set_tabViews([].concat(n)),A.reobserve()},renderWindowBackground:function(){return!0},initTabView:function(n,e){var t=this;e.onPointerOver(this,function(e){t.set_hoverIndex(n)}),e.onPointerOut(this,function(e){t.get_hoverIndex()==n&&t.set_hoverIndex(-1)}),e.onPointerDown(this,function(e){t.set_selectedIndex(n)}),e.autorun(function(){e.set_touchable(1!=t.get_tabStates()[n])})},layout:function(){if(Yb.prototype.layout.call(this),0<=this.get_selectedIndex()&&null!=this.get_tabViews()&&0<this.get_tabViews().length){(i=this.get_tabViews()[this.get_selectedIndex()]).set_depth(this.get_tabViews().length);for(var e=this.get_selectedIndex()-1,n=i.depth-1;0<=e;)this.get_tabViews()[e].set_depth(n),--e,--n;e=this.get_selectedIndex()+1;for(n=i.depth-1;e<this.get_tabViews().length;)this.get_tabViews()[e].set_depth(n),++e,--n}else if(null!=this.get_tabViews()&&0<this.get_tabViews().length)for(e=this.get_tabViews().length-1,n=1;0<=e;)this.get_tabViews()[e].set_depth(n),--e,++n;var t,i,l,s,r,h,a;0<=this.get_selectedIndex()&&this.get_tabViews().length>this.get_selectedIndex()?(i=this.get_tabViews()[this.get_selectedIndex()],this.beforeBorder.set_active(!0),r=this.beforeBorder,l=-this.marginX,s=this.get_height()-1,r.set_x(l),r.set_y(s),(r=this.beforeBorder).set_width(this.marginX+i.x),r.set_height(1)):0<this.marginX?(this.beforeBorder.set_active(!0),r=this.beforeBorder,l=-this.marginX,s=this.get_height()-1,r.set_x(l),r.set_y(s),(r=this.beforeBorder).set_width(this.marginX),r.set_height(1)):this.beforeBorder.set_active(!1),0<=this.get_selectedIndex()&&this.get_selectedIndex()<=this.get_tabViews().length-1?(i=this.get_tabViews()[this.get_selectedIndex()],this.afterBorder.set_active(!0),r=this.afterBorder,l=i.x+i.get_width(),s=this.get_height()-1,r.set_x(l),r.set_y(s),(r=this.afterBorder).set_width(this.marginX+this.get_width()-i.x-i.get_width())):(t=null!=(t=0<this.get_tabViews().length?this.get_tabViews()[this.get_tabViews().length-1]:null)?t.x+t.get_width():0,this.afterBorder.set_active(!0),r=this.afterBorder,s=this.get_height()-1,r.set_x(t),r.set_y(s),(r=this.afterBorder).set_width(this.marginX+this.get_width()-t)),r.set_height(1),0<=this.get_selectedIndex()&&null!=this.get_tabViews()&&0<this.get_tabViews().length?(i=this.get_tabViews()[this.get_selectedIndex()],null!=this.beforeSelectedBackground&&((r=this.beforeSelectedBackground).set_x(-this.marginX),r.set_y(0),r=this.beforeSelectedBackground,h=this.marginX+i.x,a=this.get_height(),r.set_width(h),r.set_height(a)),null!=this.afterSelectedBackground&&((r=this.afterSelectedBackground).set_x(i.x+i.get_width()),r.set_y(0),r=this.afterSelectedBackground,h=this.marginX+this.get_width()-i.x-i.get_width(),a=this.get_height(),r.set_width(h),r.set_height(a))):(null!=this.beforeSelectedBackground&&((r=this.beforeSelectedBackground).set_x(-this.marginX),r.set_y(0),r=this.beforeSelectedBackground,h=2*this.marginX+this.get_width(),a=this.get_height(),r.set_width(h),r.set_height(a)),null!=this.afterSelectedBackground&&((r=this.afterSelectedBackground).set_x(0),r.set_y(0),(r=this.afterSelectedBackground).set_width(0),r.set_height(0))),null!=this.topBackground&&(r=this.topBackground,s=-this.marginY,r.set_x(-this.marginX),r.set_y(s),r=this.topBackground,h=2*this.marginX+this.get_width(),a=this.marginY,r.set_width(h),r.set_height(a)),null!=this.bottomBackground&&(r=this.bottomBackground,l=-this.marginX,s=this.get_height(),r.set_x(l),r.set_y(s),r=this.bottomBackground,h=2*this.marginX+this.get_width(),a=this.marginY,r.set_width(h),r.set_height(a))},updateStyle:function(){var e=this.get_theme(),n=e=null==e?G.get_context().get_theme():e,t=this.get_selectedIndex(),i=this.get_hoverIndex(),l=e.get_backgroundInFormLayout();if(null!=this.get_tabViews())for(var s=0,r=this.get_tabViews().length;s<r;){var h=s++,a=this.get_tabViews()[h],o=this.get_tabThemes()[h],c=(null==o&&(o=e),1==this.get_tabStates()[h]),u=(1!=a.borderLeftSize&&(a.borderLeftSize=1,a.updateBorder()),1!=a.borderRightSize&&(a.borderRightSize=1,a.updateBorder()),1!=a.borderTopSize&&(a.borderTopSize=1,a.updateBorder()),0!=a.borderBottomSize&&(a.borderBottomSize=0,a.updateBorder()),He.INSIDE),u=(a.borderPosition!=u&&(a.borderPosition=u,0<a.borderSize||0<a.borderTopSize||0<a.borderBottomSize||0<a.borderLeftSize||0<a.borderRightSize)&&a.updateBorder(),o.get_tabsBorderColor());a.borderColor!=u&&(a.borderColor=u,0<a.borderSize||0<a.borderTopSize||0<a.borderBottomSize||0<a.borderLeftSize||0<a.borderRightSize)&&a.updateBorder(),h==t?(a.set_textColor(o.get_lightTextColor()),a.set_textAlpha(1),1!=a.borderAlpha&&(a.borderAlpha=1,null!=a.border)&&a.border.set_alpha(1),e.get_backgroundInFormLayout()?(a.flags&=-17,a.set_alpha(o.get_windowBackgroundAlpha()),a.color=o.get_windowBackgroundColor()):(a.flags|=16,a.set_alpha(1)),n=o):c||h!=i?(c?(a.set_textColor(o.get_darkTextColor()),a.set_textAlpha(o.get_disabledTabTextAlpha()),u=o.get_disabledTabBorderAlpha(),a.borderAlpha!=u&&(a.borderAlpha=u,null!=a.border)&&a.border.set_alpha(u)):(a.set_textColor(o.get_darkTextColor()),a.set_textAlpha(1),1!=a.borderAlpha&&(a.borderAlpha=1,null!=a.border)&&a.border.set_alpha(1)),a.flags&=-17,a.set_alpha(o.get_tabsBackgroundAlpha()),a.color=o.get_tabsBackgroundColor()):(a.set_textColor(o.get_mediumTextColor()),a.set_textAlpha(1),1!=a.borderAlpha&&(a.borderAlpha=1,null!=a.border)&&a.border.set_alpha(1),a.flags&=-17,a.set_alpha(o.get_tabsHoverBackgroundAlpha()),a.color=o.get_tabsHoverBackgroundColor())}this.beforeBorder.color=n.get_tabsBorderColor(),this.afterBorder.color=n.get_tabsBorderColor(),l?(A.unobserve(),null==this.beforeSelectedBackground&&(this.beforeSelectedBackground=new p,this.beforeSelectedBackground.set_depth(.5),this.add(this.beforeSelectedBackground)),null==this.afterSelectedBackground&&(this.afterSelectedBackground=new p,this.afterSelectedBackground.set_depth(.5),this.add(this.afterSelectedBackground)),null==this.topBackground&&(this.topBackground=new p,this.topBackground.set_depth(.5),this.add(this.topBackground)),null==this.bottomBackground&&(this.bottomBackground=new p,this.bottomBackground.set_depth(.5),this.add(this.bottomBackground)),A.reobserve(),this.beforeSelectedBackground.set_alpha(e.get_windowBackgroundAlpha()),this.beforeSelectedBackground.color=e.get_windowBackgroundColor(),this.afterSelectedBackground.set_alpha(e.get_windowBackgroundAlpha()),this.afterSelectedBackground.color=e.get_windowBackgroundColor(),this.topBackground.set_alpha(e.get_windowBackgroundAlpha()),this.topBackground.color=e.get_windowBackgroundColor(),this.bottomBackground.set_alpha(n.get_windowBackgroundAlpha()),this.bottomBackground.color=n.get_windowBackgroundColor()):(A.unobserve(),null!=this.beforeSelectedBackground&&(this.beforeSelectedBackground.destroy(),this.beforeSelectedBackground=null),null!=this.afterSelectedBackground&&(this.afterSelectedBackground.destroy(),this.afterSelectedBackground=null),null!=this.topBackground&&(this.topBackground.destroy(),this.topBackground=null),null!=this.bottomBackground&&(this.bottomBackground.destroy(),this.bottomBackground=null),A.reobserve())},unbindEvents:function(){Yb.prototype.unbindEvents.call(this),this.offObservedDirty(),this.offThemeChange(),this.offSelectedIndexChange(),this.offTabsChange(),this.offTabStatesChange(),this.offTabThemesChange(),this.offTabViewsChange(),this.offHoverIndexChange()},__class__:Sd,__properties__:$extend(Yb.prototype.__properties__,{set_hoverIndex:"set_hoverIndex",get_hoverIndex:"get_hoverIndex",set_tabViews:"set_tabViews",get_tabViews:"get_tabViews",set_tabThemes:"set_tabThemes",get_tabThemes:"get_tabThemes",set_tabStates:"set_tabStates",get_tabStates:"get_tabStates",set_tabs:"set_tabs",get_tabs:"get_tabs",set_selectedIndex:"set_selectedIndex",get_selectedIndex:"get_selectedIndex",set_marginY:"set_marginY",set_marginX:"set_marginX",set_theme:"set_theme",get_theme:"get_theme"})}),function(e){null==e&&(e=ji.TEXT),this.unobservedDisabled=!1,this.disabledAutoruns=null,this.unobservedTextAlign=Ot.LEFT,this.textAlignAutoruns=null,this.unobservedInputStyle=Vi.DEFAULT,this.inputStyleAutoruns=null,this.unobservedPlaceholder="",this.placeholderAutoruns=null,this.multiline=!1,this.unobservedTheme=null,this.themeAutoruns=null;var t=this,e=(Z2.call(this),this.kind=null!=e?e:ji.TEXT,this.padding(6,6,6,6),this.layers=new Db,this.layers);e.set_viewWidth(-60002),e.set_viewHeight(-60001),this.add(this.layers),this.textView=new A1,this.textView.set_minHeight(15),(e=this.textView).set_viewWidth(-60002),e.set_viewHeight(-60001),this.textView.set_verticalAlign(Vn.CENTER),this.textView.onResize(this,$bind(this,this.clipText)),this.autorun(function(){t.textView.set_align(t.get_textAlign())}),this.textView.set_pointSize(12),this.textView.set_preRenderedSize(20),this.textView.set_maxLineDiff(-1),this.layers.add(this.textView),this.placeholderView=new A1,this.placeholderView.set_minHeight(15);(e=this.placeholderView).set_viewWidth(-60002),e.set_viewHeight(-60001),this.placeholderView.set_verticalAlign(Vn.CENTER),this.placeholderView.set_skewX(10),this.placeholderView.set_offsetX(1),this.autorun(function(){t.placeholderView.set_align(t.get_textAlign())}),this.placeholderView.set_pointSize(12),this.placeholderView.set_preRenderedSize(20),this.placeholderView.set_maxLineDiff(-1),this.layers.add(this.placeholderView);e=this.get_theme();null==e&&(e=G.get_context().get_theme()),this.editText=new M0(e.get_focusedFieldSelectionColor(),e.get_lightTextColor()),this.editText.set_container(this),this.textView.text.component("editText",this.editText),this.editText.onUpdate(this,$bind(this,this.updateFromEditText)),this.editText.onStop(this,$bind(this,this.handleStopEditText)),this.editText.onSubmit(this,$bind(this,this.handleEditTextSubmit)),this.autorun($bind(this,this.updateStyle)),this.autorun($bind(this,this.updateFromTextValue)),this.autorun($bind(this,this.updatePlaceholder)),null!=this.editText&&this.onDisabledChange(this,function(e,n){t.editText.set_disabled(e)}),this.bindKeyBindings()}),ji=((E["elements.TextFieldView"]=Ki).__name__="elements.TextFieldView",Ki.__super__=Z2,Ki.prototype=$extend(Z2.prototype,{themeAutoruns:null,get_theme:function(){var e,n,t=this.unobservedTheme;return null!=A.current&&(e=A.current,null!=(n=this.themeAutoruns)||(n=A.getAutorunArray(),null!=(this.themeAutoruns=n)))&&e.bindToAutorunArray(n),t},set_theme:function(e){var n=this.unobservedTheme;return n!=(this.unobservedTheme=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitThemeChange(e,n),null!=(n=this.themeAutoruns))&&(this.themeAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateTheme:function(){var e=this.unobservedTheme,e=(this.emitThemeChange(e,e),this.themeAutoruns);null!=e&&(this.themeAutoruns=null,A.invalidateAutorunArray(e))},unobservedTheme:null,__cbOnThemeChange:null,__cbOnceThemeChange:null,__cbOnOwnerUnbindThemeChange:null,__cbOnceOwnerUnbindThemeChange:null,emitThemeChange:function(e,n){var t=0;if(null!=this.__cbOnThemeChange&&(t+=this.__cbOnThemeChange.length),null!=this.__cbOnceThemeChange&&(t+=this.__cbOnceThemeChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnThemeChange)for(var r=0,h=this.__cbOnThemeChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnThemeChange[a],++s):--t}if(null!=this.__cbOnceThemeChange){for(var o=null,c=null,r=0,h=this.__cbOnceThemeChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceThemeChange[a],this.__cbOnceThemeChange[a]=null,u=this.__cbOnceOwnerUnbindThemeChange[a],(this.__cbOnceOwnerUnbindThemeChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindThemeChange[a]),c.push(this.__cbOnceThemeChange[a]))}this.__cbOnceOwnerUnbindThemeChange=o,this.__cbOnceThemeChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onThemeChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event themeChange because owner is destroyed!");var l=function(e){null!=t&&(i.offThemeChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindThemeChange&&(this.__cbOnOwnerUnbindThemeChange=[]),this.__cbOnOwnerUnbindThemeChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindThemeChange&&(this.__cbOnOwnerUnbindThemeChange=[]),this.__cbOnOwnerUnbindThemeChange.push(null);null==this.__cbOnThemeChange&&(this.__cbOnThemeChange=[]),this.__cbOnThemeChange.push(t)},onceThemeChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event themeChange because owner is destroyed!");var l=function(e){null!=t&&(i.offThemeChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindThemeChange&&(this.__cbOnceOwnerUnbindThemeChange=[]),this.__cbOnceOwnerUnbindThemeChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindThemeChange&&(this.__cbOnceOwnerUnbindThemeChange=[]),this.__cbOnceOwnerUnbindThemeChange.push(null);null==this.__cbOnceThemeChange&&(this.__cbOnceThemeChange=[]),this.__cbOnceThemeChange.push(t)},offThemeChange:function(e){if(null!=e){var n;null!=this.__cbOnThemeChange&&-1!=(n=this.__cbOnThemeChange.indexOf(e))&&(this.__cbOnThemeChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindThemeChange[n])&&s(),this.__cbOnOwnerUnbindThemeChange.splice(n,1)),null!=this.__cbOnceThemeChange&&-1!=(n=this.__cbOnceThemeChange.indexOf(e))&&(this.__cbOnceThemeChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindThemeChange[n])&&s(),this.__cbOnceOwnerUnbindThemeChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindThemeChange){for(var t=0,i=this.__cbOnOwnerUnbindThemeChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindThemeChange[l])&&s()}this.__cbOnOwnerUnbindThemeChange=null}if(null!=this.__cbOnceOwnerUnbindThemeChange){for(t=0,i=this.__cbOnceOwnerUnbindThemeChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindThemeChange[l])&&s()}this.__cbOnceOwnerUnbindThemeChange=null}this.__cbOnThemeChange=null,this.__cbOnceThemeChange=null}},listensThemeChange:function(){return null!=this.__cbOnThemeChange&&0<this.__cbOnThemeChange.length||null!=this.__cbOnceThemeChange&&0<this.__cbOnceThemeChange.length},didLostFocus:function(){Z2.prototype.didLostFocus.call(this),(""==this.get_textValue()||this.kind==ji.NUMERIC&&"-"==this.get_textValue())&&this.setEmptyValue(this)},multiline:null,set_multiline:function(e){return this.multiline=e,null!=this.editText&&(this.editText.multiline=e),e},placeholderAutoruns:null,get_placeholder:function(){var e,n,t=this.unobservedPlaceholder;return null!=A.current&&(e=A.current,null!=(n=this.placeholderAutoruns)||(n=A.getAutorunArray(),null!=(this.placeholderAutoruns=n)))&&e.bindToAutorunArray(n),t},set_placeholder:function(e){var n=this.unobservedPlaceholder;return n!=(this.unobservedPlaceholder=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitPlaceholderChange(e,n),null!=(n=this.placeholderAutoruns))&&(this.placeholderAutoruns=null,A.invalidateAutorunArray(n)),e},invalidatePlaceholder:function(){var e=this.unobservedPlaceholder,e=(this.emitPlaceholderChange(e,e),this.placeholderAutoruns);null!=e&&(this.placeholderAutoruns=null,A.invalidateAutorunArray(e))},unobservedPlaceholder:null,__cbOnPlaceholderChange:null,__cbOncePlaceholderChange:null,__cbOnOwnerUnbindPlaceholderChange:null,__cbOnceOwnerUnbindPlaceholderChange:null,emitPlaceholderChange:function(e,n){var t=0;if(null!=this.__cbOnPlaceholderChange&&(t+=this.__cbOnPlaceholderChange.length),null!=this.__cbOncePlaceholderChange&&(t+=this.__cbOncePlaceholderChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnPlaceholderChange)for(var r=0,h=this.__cbOnPlaceholderChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnPlaceholderChange[a],++s):--t}if(null!=this.__cbOncePlaceholderChange){for(var o=null,c=null,r=0,h=this.__cbOncePlaceholderChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOncePlaceholderChange[a],this.__cbOncePlaceholderChange[a]=null,u=this.__cbOnceOwnerUnbindPlaceholderChange[a],(this.__cbOnceOwnerUnbindPlaceholderChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindPlaceholderChange[a]),c.push(this.__cbOncePlaceholderChange[a]))}this.__cbOnceOwnerUnbindPlaceholderChange=o,this.__cbOncePlaceholderChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onPlaceholderChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event placeholderChange because owner is destroyed!");var l=function(e){null!=t&&(i.offPlaceholderChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindPlaceholderChange&&(this.__cbOnOwnerUnbindPlaceholderChange=[]),this.__cbOnOwnerUnbindPlaceholderChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindPlaceholderChange&&(this.__cbOnOwnerUnbindPlaceholderChange=[]),this.__cbOnOwnerUnbindPlaceholderChange.push(null);null==this.__cbOnPlaceholderChange&&(this.__cbOnPlaceholderChange=[]),this.__cbOnPlaceholderChange.push(t)},oncePlaceholderChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event placeholderChange because owner is destroyed!");var l=function(e){null!=t&&(i.offPlaceholderChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindPlaceholderChange&&(this.__cbOnceOwnerUnbindPlaceholderChange=[]),this.__cbOnceOwnerUnbindPlaceholderChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindPlaceholderChange&&(this.__cbOnceOwnerUnbindPlaceholderChange=[]),this.__cbOnceOwnerUnbindPlaceholderChange.push(null);null==this.__cbOncePlaceholderChange&&(this.__cbOncePlaceholderChange=[]),this.__cbOncePlaceholderChange.push(t)},offPlaceholderChange:function(e){if(null!=e){var n;null!=this.__cbOnPlaceholderChange&&-1!=(n=this.__cbOnPlaceholderChange.indexOf(e))&&(this.__cbOnPlaceholderChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindPlaceholderChange[n])&&s(),this.__cbOnOwnerUnbindPlaceholderChange.splice(n,1)),null!=this.__cbOncePlaceholderChange&&-1!=(n=this.__cbOncePlaceholderChange.indexOf(e))&&(this.__cbOncePlaceholderChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindPlaceholderChange[n])&&s(),this.__cbOnceOwnerUnbindPlaceholderChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindPlaceholderChange){for(var t=0,i=this.__cbOnOwnerUnbindPlaceholderChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindPlaceholderChange[l])&&s()}this.__cbOnOwnerUnbindPlaceholderChange=null}if(null!=this.__cbOnceOwnerUnbindPlaceholderChange){for(t=0,i=this.__cbOnceOwnerUnbindPlaceholderChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindPlaceholderChange[l])&&s()}this.__cbOnceOwnerUnbindPlaceholderChange=null}this.__cbOnPlaceholderChange=null,this.__cbOncePlaceholderChange=null}},listensPlaceholderChange:function(){return null!=this.__cbOnPlaceholderChange&&0<this.__cbOnPlaceholderChange.length||null!=this.__cbOncePlaceholderChange&&0<this.__cbOncePlaceholderChange.length},inputStyleAutoruns:null,get_inputStyle:function(){var e,n,t=this.unobservedInputStyle;return null!=A.current&&(e=A.current,null!=(n=this.inputStyleAutoruns)||(n=A.getAutorunArray(),null!=(this.inputStyleAutoruns=n)))&&e.bindToAutorunArray(n),t},set_inputStyle:function(e){var n=this.unobservedInputStyle;return n!=(this.unobservedInputStyle=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitInputStyleChange(e,n),null!=(n=this.inputStyleAutoruns))&&(this.inputStyleAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateInputStyle:function(){var e=this.unobservedInputStyle,e=(this.emitInputStyleChange(e,e),this.inputStyleAutoruns);null!=e&&(this.inputStyleAutoruns=null,A.invalidateAutorunArray(e))},unobservedInputStyle:null,__cbOnInputStyleChange:null,__cbOnceInputStyleChange:null,__cbOnOwnerUnbindInputStyleChange:null,__cbOnceOwnerUnbindInputStyleChange:null,emitInputStyleChange:function(e,n){var t=0;if(null!=this.__cbOnInputStyleChange&&(t+=this.__cbOnInputStyleChange.length),null!=this.__cbOnceInputStyleChange&&(t+=this.__cbOnceInputStyleChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnInputStyleChange)for(var r=0,h=this.__cbOnInputStyleChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnInputStyleChange[a],++s):--t}if(null!=this.__cbOnceInputStyleChange){for(var o=null,c=null,r=0,h=this.__cbOnceInputStyleChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceInputStyleChange[a],this.__cbOnceInputStyleChange[a]=null,u=this.__cbOnceOwnerUnbindInputStyleChange[a],(this.__cbOnceOwnerUnbindInputStyleChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindInputStyleChange[a]),c.push(this.__cbOnceInputStyleChange[a]))}this.__cbOnceOwnerUnbindInputStyleChange=o,this.__cbOnceInputStyleChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onInputStyleChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event inputStyleChange because owner is destroyed!");var l=function(e){null!=t&&(i.offInputStyleChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindInputStyleChange&&(this.__cbOnOwnerUnbindInputStyleChange=[]),this.__cbOnOwnerUnbindInputStyleChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindInputStyleChange&&(this.__cbOnOwnerUnbindInputStyleChange=[]),this.__cbOnOwnerUnbindInputStyleChange.push(null);null==this.__cbOnInputStyleChange&&(this.__cbOnInputStyleChange=[]),this.__cbOnInputStyleChange.push(t)},onceInputStyleChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event inputStyleChange because owner is destroyed!");var l=function(e){null!=t&&(i.offInputStyleChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindInputStyleChange&&(this.__cbOnceOwnerUnbindInputStyleChange=[]),this.__cbOnceOwnerUnbindInputStyleChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindInputStyleChange&&(this.__cbOnceOwnerUnbindInputStyleChange=[]),this.__cbOnceOwnerUnbindInputStyleChange.push(null);null==this.__cbOnceInputStyleChange&&(this.__cbOnceInputStyleChange=[]),this.__cbOnceInputStyleChange.push(t)},offInputStyleChange:function(e){if(null!=e){var n;null!=this.__cbOnInputStyleChange&&-1!=(n=this.__cbOnInputStyleChange.indexOf(e))&&(this.__cbOnInputStyleChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindInputStyleChange[n])&&s(),this.__cbOnOwnerUnbindInputStyleChange.splice(n,1)),null!=this.__cbOnceInputStyleChange&&-1!=(n=this.__cbOnceInputStyleChange.indexOf(e))&&(this.__cbOnceInputStyleChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindInputStyleChange[n])&&s(),this.__cbOnceOwnerUnbindInputStyleChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindInputStyleChange){for(var t=0,i=this.__cbOnOwnerUnbindInputStyleChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindInputStyleChange[l])&&s()}this.__cbOnOwnerUnbindInputStyleChange=null}if(null!=this.__cbOnceOwnerUnbindInputStyleChange){for(t=0,i=this.__cbOnceOwnerUnbindInputStyleChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindInputStyleChange[l])&&s()}this.__cbOnceOwnerUnbindInputStyleChange=null}this.__cbOnInputStyleChange=null,this.__cbOnceInputStyleChange=null}},listensInputStyleChange:function(){return null!=this.__cbOnInputStyleChange&&0<this.__cbOnInputStyleChange.length||null!=this.__cbOnceInputStyleChange&&0<this.__cbOnceInputStyleChange.length},textAlignAutoruns:null,get_textAlign:function(){var e,n,t=this.unobservedTextAlign;return null!=A.current&&(e=A.current,null!=(n=this.textAlignAutoruns)||(n=A.getAutorunArray(),null!=(this.textAlignAutoruns=n)))&&e.bindToAutorunArray(n),t},set_textAlign:function(e){var n=this.unobservedTextAlign;return n!=(this.unobservedTextAlign=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitTextAlignChange(e,n),null!=(n=this.textAlignAutoruns))&&(this.textAlignAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateTextAlign:function(){var e=this.unobservedTextAlign,e=(this.emitTextAlignChange(e,e),this.textAlignAutoruns);null!=e&&(this.textAlignAutoruns=null,A.invalidateAutorunArray(e))},unobservedTextAlign:null,__cbOnTextAlignChange:null,__cbOnceTextAlignChange:null,__cbOnOwnerUnbindTextAlignChange:null,__cbOnceOwnerUnbindTextAlignChange:null,emitTextAlignChange:function(e,n){var t=0;if(null!=this.__cbOnTextAlignChange&&(t+=this.__cbOnTextAlignChange.length),null!=this.__cbOnceTextAlignChange&&(t+=this.__cbOnceTextAlignChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnTextAlignChange)for(var r=0,h=this.__cbOnTextAlignChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnTextAlignChange[a],++s):--t}if(null!=this.__cbOnceTextAlignChange){for(var o=null,c=null,r=0,h=this.__cbOnceTextAlignChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceTextAlignChange[a],this.__cbOnceTextAlignChange[a]=null,u=this.__cbOnceOwnerUnbindTextAlignChange[a],(this.__cbOnceOwnerUnbindTextAlignChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindTextAlignChange[a]),c.push(this.__cbOnceTextAlignChange[a]))}this.__cbOnceOwnerUnbindTextAlignChange=o,this.__cbOnceTextAlignChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onTextAlignChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event textAlignChange because owner is destroyed!");var l=function(e){null!=t&&(i.offTextAlignChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindTextAlignChange&&(this.__cbOnOwnerUnbindTextAlignChange=[]),this.__cbOnOwnerUnbindTextAlignChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindTextAlignChange&&(this.__cbOnOwnerUnbindTextAlignChange=[]),this.__cbOnOwnerUnbindTextAlignChange.push(null);null==this.__cbOnTextAlignChange&&(this.__cbOnTextAlignChange=[]),this.__cbOnTextAlignChange.push(t)},onceTextAlignChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event textAlignChange because owner is destroyed!");var l=function(e){null!=t&&(i.offTextAlignChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindTextAlignChange&&(this.__cbOnceOwnerUnbindTextAlignChange=[]),this.__cbOnceOwnerUnbindTextAlignChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindTextAlignChange&&(this.__cbOnceOwnerUnbindTextAlignChange=[]),this.__cbOnceOwnerUnbindTextAlignChange.push(null);null==this.__cbOnceTextAlignChange&&(this.__cbOnceTextAlignChange=[]),this.__cbOnceTextAlignChange.push(t)},offTextAlignChange:function(e){if(null!=e){var n;null!=this.__cbOnTextAlignChange&&-1!=(n=this.__cbOnTextAlignChange.indexOf(e))&&(this.__cbOnTextAlignChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindTextAlignChange[n])&&s(),this.__cbOnOwnerUnbindTextAlignChange.splice(n,1)),null!=this.__cbOnceTextAlignChange&&-1!=(n=this.__cbOnceTextAlignChange.indexOf(e))&&(this.__cbOnceTextAlignChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindTextAlignChange[n])&&s(),this.__cbOnceOwnerUnbindTextAlignChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindTextAlignChange){for(var t=0,i=this.__cbOnOwnerUnbindTextAlignChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindTextAlignChange[l])&&s()}this.__cbOnOwnerUnbindTextAlignChange=null}if(null!=this.__cbOnceOwnerUnbindTextAlignChange){for(t=0,i=this.__cbOnceOwnerUnbindTextAlignChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindTextAlignChange[l])&&s()}this.__cbOnceOwnerUnbindTextAlignChange=null}this.__cbOnTextAlignChange=null,this.__cbOnceTextAlignChange=null}},listensTextAlignChange:function(){return null!=this.__cbOnTextAlignChange&&0<this.__cbOnTextAlignChange.length||null!=this.__cbOnceTextAlignChange&&0<this.__cbOnceTextAlignChange.length},disabledAutoruns:null,get_disabled:function(){var e,n,t=this.unobservedDisabled;return null!=A.current&&(e=A.current,null!=(n=this.disabledAutoruns)||(n=A.getAutorunArray(),null!=(this.disabledAutoruns=n)))&&e.bindToAutorunArray(n),t},set_disabled:function(e){var n=this.unobservedDisabled;return n!=(this.unobservedDisabled=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitDisabledChange(e,n),null!=(n=this.disabledAutoruns))&&(this.disabledAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateDisabled:function(){var e=this.unobservedDisabled,e=(this.emitDisabledChange(e,e),this.disabledAutoruns);null!=e&&(this.disabledAutoruns=null,A.invalidateAutorunArray(e))},unobservedDisabled:null,__cbOnDisabledChange:null,__cbOnceDisabledChange:null,__cbOnOwnerUnbindDisabledChange:null,__cbOnceOwnerUnbindDisabledChange:null,emitDisabledChange:function(e,n){var t=0;if(null!=this.__cbOnDisabledChange&&(t+=this.__cbOnDisabledChange.length),null!=this.__cbOnceDisabledChange&&(t+=this.__cbOnceDisabledChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnDisabledChange)for(var r=0,h=this.__cbOnDisabledChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnDisabledChange[a],++s):--t}if(null!=this.__cbOnceDisabledChange){for(var o=null,c=null,r=0,h=this.__cbOnceDisabledChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceDisabledChange[a],this.__cbOnceDisabledChange[a]=null,u=this.__cbOnceOwnerUnbindDisabledChange[a],(this.__cbOnceOwnerUnbindDisabledChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindDisabledChange[a]),c.push(this.__cbOnceDisabledChange[a]))}this.__cbOnceOwnerUnbindDisabledChange=o,this.__cbOnceDisabledChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onDisabledChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event disabledChange because owner is destroyed!");var l=function(e){null!=t&&(i.offDisabledChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindDisabledChange&&(this.__cbOnOwnerUnbindDisabledChange=[]),this.__cbOnOwnerUnbindDisabledChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindDisabledChange&&(this.__cbOnOwnerUnbindDisabledChange=[]),this.__cbOnOwnerUnbindDisabledChange.push(null);null==this.__cbOnDisabledChange&&(this.__cbOnDisabledChange=[]),this.__cbOnDisabledChange.push(t)},onceDisabledChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event disabledChange because owner is destroyed!");var l=function(e){null!=t&&(i.offDisabledChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindDisabledChange&&(this.__cbOnceOwnerUnbindDisabledChange=[]),this.__cbOnceOwnerUnbindDisabledChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindDisabledChange&&(this.__cbOnceOwnerUnbindDisabledChange=[]),this.__cbOnceOwnerUnbindDisabledChange.push(null);null==this.__cbOnceDisabledChange&&(this.__cbOnceDisabledChange=[]),this.__cbOnceDisabledChange.push(t)},offDisabledChange:function(e){if(null!=e){var n;null!=this.__cbOnDisabledChange&&-1!=(n=this.__cbOnDisabledChange.indexOf(e))&&(this.__cbOnDisabledChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindDisabledChange[n])&&s(),this.__cbOnOwnerUnbindDisabledChange.splice(n,1)),null!=this.__cbOnceDisabledChange&&-1!=(n=this.__cbOnceDisabledChange.indexOf(e))&&(this.__cbOnceDisabledChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindDisabledChange[n])&&s(),this.__cbOnceOwnerUnbindDisabledChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindDisabledChange){for(var t=0,i=this.__cbOnOwnerUnbindDisabledChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindDisabledChange[l])&&s()}this.__cbOnOwnerUnbindDisabledChange=null}if(null!=this.__cbOnceOwnerUnbindDisabledChange){for(t=0,i=this.__cbOnceOwnerUnbindDisabledChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindDisabledChange[l])&&s()}this.__cbOnceOwnerUnbindDisabledChange=null}this.__cbOnDisabledChange=null,this.__cbOnceDisabledChange=null}},listensDisabledChange:function(){return null!=this.__cbOnDisabledChange&&0<this.__cbOnDisabledChange.length||null!=this.__cbOnceDisabledChange&&0<this.__cbOnceDisabledChange.length},layers:null,placeholderView:null,kind:null,focus:function(){Z2.prototype.focus.call(this),this.get_disabled()||null!=this.editText&&this.editText.focus()},layout:function(){Z2.prototype.layout.call(this)},clipText:function(e,n){var t=this.textView.text;t.set_clipTextX(0),t.set_clipTextY(0),t.set_clipTextWidth(e+2),t.set_clipTextHeight(this.get_height())},handleStopEditText:function(){!this.get_focused()||null!=this.suggestions&&0!=this.suggestions.length||ae.app.screen.set_focusedVisual(null)},updatePlaceholder:function(){var e=this.get_textValue(),n=this.get_placeholder(),t=this.get_focused(),i=this.get_disabled();A.unobserve(),this.placeholderView.set_content(null!=n?n:""),this.placeholderView.set_visible(""==e&&(!t||i)),A.reobserve()},updateStyle:function(){var e,n,t=this.get_theme();null==t&&(t=G.get_context().get_theme()),null!=this.editText&&(this.editText.set_selectionColor(t.get_focusedFieldSelectionColor()),this.editText.set_textCursorColor(t.get_lightTextColor())),this.get_inputStyle()==Vi.OVERLAY?(this.color=16777215,this.set_alpha(.1),0!=this.borderSize&&(this.borderSize=0,this.updateBorder()),e=He.INSIDE,this.borderPosition!=e&&(this.borderPosition=e,0<this.borderSize||0<this.borderTopSize||0<this.borderBottomSize||0<this.borderLeftSize||0<this.borderRightSize)&&this.updateBorder(),this.flags&=-17,this.textView.set_textColor(t.get_fieldTextColor()),this.textView.set_font(t.get_mediumFont()),this.placeholderView.set_textColor(t.get_fieldPlaceholderColor()),this.placeholderView.set_font(t.get_mediumFont())):(this.color=t.get_darkBackgroundColor(),this.set_alpha(1),1!=this.borderSize&&(this.borderSize=1,this.updateBorder()),e=He.INSIDE,this.borderPosition!=e&&(this.borderPosition=e,0<this.borderSize||0<this.borderTopSize||0<this.borderBottomSize||0<this.borderLeftSize||0<this.borderRightSize)&&this.updateBorder(),this.flags&=-17,this.textView.set_textColor(t.get_fieldTextColor()),this.textView.set_font(t.get_mediumFont()),this.placeholderView.set_textColor(t.get_fieldPlaceholderColor()),this.placeholderView.set_font(t.get_mediumFont()),this.get_disabled()?(n=t.get_mediumBorderColor(),this.borderColor!=n&&(this.borderColor=n,0<this.borderSize||0<this.borderTopSize||0<this.borderBottomSize||0<this.borderLeftSize||0<this.borderRightSize)&&this.updateBorder(),this.textView.text.set_alpha(.5)):(this.textView.text.set_alpha(1),n=this.get_focused()?t.get_focusedFieldBorderColor():t.get_lightBorderColor(),this.borderColor!=n&&(this.borderColor=n,0<this.borderSize||0<this.borderTopSize||0<this.borderBottomSize||0<this.borderLeftSize||0<this.borderRightSize)&&this.updateBorder()))},unbindEvents:function(){Z2.prototype.unbindEvents.call(this),this.offThemeChange(),this.offPlaceholderChange(),this.offInputStyleChange(),this.offTextAlignChange(),this.offDisabledChange()},__class__:Ki,__properties__:$extend(Z2.prototype.__properties__,{set_disabled:"set_disabled",get_disabled:"get_disabled",set_textAlign:"set_textAlign",get_textAlign:"get_textAlign",set_inputStyle:"set_inputStyle",get_inputStyle:"get_inputStyle",set_placeholder:"set_placeholder",get_placeholder:"get_placeholder",set_multiline:"set_multiline",set_theme:"set_theme",get_theme:"get_theme"})}),_e["elements.TextFieldKind"]={__ename__:"elements.TextFieldKind",__constructs__:null,TEXT:{_hx_name:"TEXT",_hx_index:0,__enum__:"elements.TextFieldKind",toString:c},NUMERIC:{_hx_name:"NUMERIC",_hx_index:1,__enum__:"elements.TextFieldKind",toString:c}}),$i=(ji.__constructs__=[ji.TEXT,ji.NUMERIC],function(){this._clonedIndex=-1,this._index=$i._nextIndex=($i._nextIndex+1)%999999999,this._used=!1,this._textColor=-1,this._backgroundColor=-1,this._altTint=-1,this._tint=-1,this.unobservedWindowBorderAlpha=1,this.windowBorderAlphaAutoruns=null,this.unobservedWindowBorderColor=6513507,this.windowBorderColorAutoruns=null,this.unobservedWindowBackgroundAlpha=.925,this.windowBackgroundAlphaAutoruns=null,this.unobservedWindowBackgroundColor=1842204,this.windowBackgroundColorAutoruns=null,this.unobservedDisabledTabBorderAlpha=.5,this.disabledTabBorderAlphaAutoruns=null,this.unobservedDisabledTabTextAlpha=.5,this.disabledTabTextAlphaAutoruns=null,this.unobservedTabsBorderColor=6513507,this.tabsBorderColorAutoruns=null,this.unobservedTabsHoverBackgroundAlpha=.2,this.tabsHoverBackgroundAlphaAutoruns=null,this.unobservedTabsHoverBackgroundColor=8947848,this.tabsHoverBackgroundColorAutoruns=null,this.unobservedTabsBackgroundAlpha=.1,this.tabsBackgroundAlphaAutoruns=null,this.unobservedTabsBackgroundColor=8947848,this.tabsBackgroundColorAutoruns=null,this.unobservedButtonFocusedBorderColor=4692203,this.buttonFocusedBorderColorAutoruns=null,this.unobservedButtonPressedBackgroundColor=4692203,this.buttonPressedBackgroundColorAutoruns=null,this.unobservedButtonOverBackgroundColor=5921370,this.buttonOverBackgroundColorAutoruns=null,this.unobservedButtonBackgroundColor=5329233,this.buttonBackgroundColorAutoruns=null,this.unobservedOverlayBorderAlpha=1,this.overlayBorderAlphaAutoruns=null,this.unobservedOverlayBorderColor=6513507,this.overlayBorderColorAutoruns=null,this.unobservedOverlayBackgroundAlpha=.925,this.overlayBackgroundAlphaAutoruns=null,this.unobservedOverlayBackgroundColor=1842204,this.overlayBackgroundColorAutoruns=null,this.unobservedFocusedFieldBorderColor=4428512,this.focusedFieldBorderColorAutoruns=null,this.unobservedFocusedFieldSelectionColor=3175366,this.focusedFieldSelectionColorAutoruns=null,this.unobservedTabsMarginY=6,this.tabsMarginYAutoruns=null,this.unobservedFormPadding=6,this.formPaddingAutoruns=null,this.unobservedFormItemSpacing=6,this.formItemSpacingAutoruns=null,this.unobservedHighlightPendingColor=16666932,this.highlightPendingColorAutoruns=null,this.unobservedHighlightColor=4428512,this.highlightColorAutoruns=null,this.unobservedSelectionBorderColor=4428512,this.selectionBorderColorAutoruns=null,this.unobservedDarkerBackgroundColor=2631720,this.darkerBackgroundColorAutoruns=null,this.unobservedDarkBackgroundColor=4342338,this.darkBackgroundColorAutoruns=null,this.unobservedMediumBackgroundColor=4868682,this.mediumBackgroundColorAutoruns=null,this.unobservedLightBackgroundColor=5197647,this.lightBackgroundColorAutoruns=null,this.unobservedDarkBorderColor=3684408,this.darkBorderColorAutoruns=null,this.unobservedMediumBorderColor=4605510,this.mediumBorderColorAutoruns=null,this.unobservedLightBorderColor=6513507,this.lightBorderColorAutoruns=null,this.unobservedLighterBorderColor=10066329,this.lighterBorderColorAutoruns=null,this.unobservedCustomBoldFont=null,this.customBoldFontAutoruns=null,this.unobservedCustomMediumFont=null,this.customMediumFontAutoruns=null,this.unobservedIconColor=16777215,this.iconColorAutoruns=null,this.unobservedDarkerTextColor=5592405,this.darkerTextColorAutoruns=null,this.unobservedDarkTextColor=8947848,this.darkTextColorAutoruns=null,this.unobservedMediumTextColor=13421772,this.mediumTextColorAutoruns=null,this.unobservedLightTextColor=15987699,this.lightTextColorAutoruns=null,this.unobservedFieldPlaceholderColor=8947848,this.fieldPlaceholderColorAutoruns=null,this.unobservedFieldTextColor=16777215,this.fieldTextColorAutoruns=null,this.unobservedBackgroundInFormLayout=!1,this.backgroundInFormLayoutAutoruns=null,R1.call(this)}),Qi=((E["elements.Theme"]=$i).__name__="elements.Theme",$i.__super__=R1,$i.prototype=$extend(R1.prototype,{backgroundInFormLayoutAutoruns:null,get_backgroundInFormLayout:function(){var e,n,t=this.unobservedBackgroundInFormLayout;return null!=A.current&&(e=A.current,null!=(n=this.backgroundInFormLayoutAutoruns)||(n=A.getAutorunArray(),null!=(this.backgroundInFormLayoutAutoruns=n)))&&e.bindToAutorunArray(n),t},set_backgroundInFormLayout:function(e){var n=this.unobservedBackgroundInFormLayout;return n!=(this.unobservedBackgroundInFormLayout=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!0)),this.emitBackgroundInFormLayoutChange(e,n),null!=(n=this.backgroundInFormLayoutAutoruns))&&(this.backgroundInFormLayoutAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateBackgroundInFormLayout:function(){var e=this.unobservedBackgroundInFormLayout,e=(this.emitBackgroundInFormLayoutChange(e,e),this.backgroundInFormLayoutAutoruns);null!=e&&(this.backgroundInFormLayoutAutoruns=null,A.invalidateAutorunArray(e))},unobservedBackgroundInFormLayout:null,__cbOnBackgroundInFormLayoutChange:null,__cbOnceBackgroundInFormLayoutChange:null,__cbOnOwnerUnbindBackgroundInFormLayoutChange:null,__cbOnceOwnerUnbindBackgroundInFormLayoutChange:null,emitBackgroundInFormLayoutChange:function(e,n){var t=0;if(null!=this.__cbOnBackgroundInFormLayoutChange&&(t+=this.__cbOnBackgroundInFormLayoutChange.length),null!=this.__cbOnceBackgroundInFormLayoutChange&&(t+=this.__cbOnceBackgroundInFormLayoutChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnBackgroundInFormLayoutChange)for(var r=0,h=this.__cbOnBackgroundInFormLayoutChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnBackgroundInFormLayoutChange[a],++s):--t}if(null!=this.__cbOnceBackgroundInFormLayoutChange){for(var o=null,c=null,r=0,h=this.__cbOnceBackgroundInFormLayoutChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceBackgroundInFormLayoutChange[a],this.__cbOnceBackgroundInFormLayoutChange[a]=null,u=this.__cbOnceOwnerUnbindBackgroundInFormLayoutChange[a],(this.__cbOnceOwnerUnbindBackgroundInFormLayoutChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindBackgroundInFormLayoutChange[a]),c.push(this.__cbOnceBackgroundInFormLayoutChange[a]))}this.__cbOnceOwnerUnbindBackgroundInFormLayoutChange=o,this.__cbOnceBackgroundInFormLayoutChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onBackgroundInFormLayoutChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event backgroundInFormLayoutChange because owner is destroyed!");var l=function(e){null!=t&&(i.offBackgroundInFormLayoutChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindBackgroundInFormLayoutChange&&(this.__cbOnOwnerUnbindBackgroundInFormLayoutChange=[]),this.__cbOnOwnerUnbindBackgroundInFormLayoutChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindBackgroundInFormLayoutChange&&(this.__cbOnOwnerUnbindBackgroundInFormLayoutChange=[]),this.__cbOnOwnerUnbindBackgroundInFormLayoutChange.push(null);null==this.__cbOnBackgroundInFormLayoutChange&&(this.__cbOnBackgroundInFormLayoutChange=[]),this.__cbOnBackgroundInFormLayoutChange.push(t)},onceBackgroundInFormLayoutChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event backgroundInFormLayoutChange because owner is destroyed!");var l=function(e){null!=t&&(i.offBackgroundInFormLayoutChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindBackgroundInFormLayoutChange&&(this.__cbOnceOwnerUnbindBackgroundInFormLayoutChange=[]),this.__cbOnceOwnerUnbindBackgroundInFormLayoutChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindBackgroundInFormLayoutChange&&(this.__cbOnceOwnerUnbindBackgroundInFormLayoutChange=[]),this.__cbOnceOwnerUnbindBackgroundInFormLayoutChange.push(null);null==this.__cbOnceBackgroundInFormLayoutChange&&(this.__cbOnceBackgroundInFormLayoutChange=[]),this.__cbOnceBackgroundInFormLayoutChange.push(t)},offBackgroundInFormLayoutChange:function(e){if(null!=e){var n;null!=this.__cbOnBackgroundInFormLayoutChange&&-1!=(n=this.__cbOnBackgroundInFormLayoutChange.indexOf(e))&&(this.__cbOnBackgroundInFormLayoutChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindBackgroundInFormLayoutChange[n])&&s(),this.__cbOnOwnerUnbindBackgroundInFormLayoutChange.splice(n,1)),null!=this.__cbOnceBackgroundInFormLayoutChange&&-1!=(n=this.__cbOnceBackgroundInFormLayoutChange.indexOf(e))&&(this.__cbOnceBackgroundInFormLayoutChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindBackgroundInFormLayoutChange[n])&&s(),this.__cbOnceOwnerUnbindBackgroundInFormLayoutChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindBackgroundInFormLayoutChange){for(var t=0,i=this.__cbOnOwnerUnbindBackgroundInFormLayoutChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindBackgroundInFormLayoutChange[l])&&s()}this.__cbOnOwnerUnbindBackgroundInFormLayoutChange=null}if(null!=this.__cbOnceOwnerUnbindBackgroundInFormLayoutChange){for(t=0,i=this.__cbOnceOwnerUnbindBackgroundInFormLayoutChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindBackgroundInFormLayoutChange[l])&&s()}this.__cbOnceOwnerUnbindBackgroundInFormLayoutChange=null}this.__cbOnBackgroundInFormLayoutChange=null,this.__cbOnceBackgroundInFormLayoutChange=null}},listensBackgroundInFormLayoutChange:function(){return null!=this.__cbOnBackgroundInFormLayoutChange&&0<this.__cbOnBackgroundInFormLayoutChange.length||null!=this.__cbOnceBackgroundInFormLayoutChange&&0<this.__cbOnceBackgroundInFormLayoutChange.length},fieldTextColorAutoruns:null,get_fieldTextColor:function(){var e,n,t=this.unobservedFieldTextColor;return null!=A.current&&(e=A.current,null!=(n=this.fieldTextColorAutoruns)||(n=A.getAutorunArray(),null!=(this.fieldTextColorAutoruns=n)))&&e.bindToAutorunArray(n),t},set_fieldTextColor:function(e){var n=this.unobservedFieldTextColor;return n!=(this.unobservedFieldTextColor=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!0)),this.emitFieldTextColorChange(e,n),null!=(n=this.fieldTextColorAutoruns))&&(this.fieldTextColorAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateFieldTextColor:function(){var e=this.unobservedFieldTextColor,e=(this.emitFieldTextColorChange(e,e),this.fieldTextColorAutoruns);null!=e&&(this.fieldTextColorAutoruns=null,A.invalidateAutorunArray(e))},unobservedFieldTextColor:null,__cbOnFieldTextColorChange:null,__cbOnceFieldTextColorChange:null,__cbOnOwnerUnbindFieldTextColorChange:null,__cbOnceOwnerUnbindFieldTextColorChange:null,emitFieldTextColorChange:function(e,n){var t=0;if(null!=this.__cbOnFieldTextColorChange&&(t+=this.__cbOnFieldTextColorChange.length),null!=this.__cbOnceFieldTextColorChange&&(t+=this.__cbOnceFieldTextColorChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnFieldTextColorChange)for(var r=0,h=this.__cbOnFieldTextColorChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnFieldTextColorChange[a],++s):--t}if(null!=this.__cbOnceFieldTextColorChange){for(var o=null,c=null,r=0,h=this.__cbOnceFieldTextColorChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceFieldTextColorChange[a],this.__cbOnceFieldTextColorChange[a]=null,u=this.__cbOnceOwnerUnbindFieldTextColorChange[a],(this.__cbOnceOwnerUnbindFieldTextColorChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindFieldTextColorChange[a]),c.push(this.__cbOnceFieldTextColorChange[a]))}this.__cbOnceOwnerUnbindFieldTextColorChange=o,this.__cbOnceFieldTextColorChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onFieldTextColorChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event fieldTextColorChange because owner is destroyed!");var l=function(e){null!=t&&(i.offFieldTextColorChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindFieldTextColorChange&&(this.__cbOnOwnerUnbindFieldTextColorChange=[]),this.__cbOnOwnerUnbindFieldTextColorChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindFieldTextColorChange&&(this.__cbOnOwnerUnbindFieldTextColorChange=[]),this.__cbOnOwnerUnbindFieldTextColorChange.push(null);null==this.__cbOnFieldTextColorChange&&(this.__cbOnFieldTextColorChange=[]),this.__cbOnFieldTextColorChange.push(t)},onceFieldTextColorChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event fieldTextColorChange because owner is destroyed!");var l=function(e){null!=t&&(i.offFieldTextColorChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindFieldTextColorChange&&(this.__cbOnceOwnerUnbindFieldTextColorChange=[]),this.__cbOnceOwnerUnbindFieldTextColorChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindFieldTextColorChange&&(this.__cbOnceOwnerUnbindFieldTextColorChange=[]),this.__cbOnceOwnerUnbindFieldTextColorChange.push(null);null==this.__cbOnceFieldTextColorChange&&(this.__cbOnceFieldTextColorChange=[]),this.__cbOnceFieldTextColorChange.push(t)},offFieldTextColorChange:function(e){if(null!=e){var n;null!=this.__cbOnFieldTextColorChange&&-1!=(n=this.__cbOnFieldTextColorChange.indexOf(e))&&(this.__cbOnFieldTextColorChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindFieldTextColorChange[n])&&s(),this.__cbOnOwnerUnbindFieldTextColorChange.splice(n,1)),null!=this.__cbOnceFieldTextColorChange&&-1!=(n=this.__cbOnceFieldTextColorChange.indexOf(e))&&(this.__cbOnceFieldTextColorChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindFieldTextColorChange[n])&&s(),this.__cbOnceOwnerUnbindFieldTextColorChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindFieldTextColorChange){for(var t=0,i=this.__cbOnOwnerUnbindFieldTextColorChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindFieldTextColorChange[l])&&s()}this.__cbOnOwnerUnbindFieldTextColorChange=null}if(null!=this.__cbOnceOwnerUnbindFieldTextColorChange){for(t=0,i=this.__cbOnceOwnerUnbindFieldTextColorChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindFieldTextColorChange[l])&&s()}this.__cbOnceOwnerUnbindFieldTextColorChange=null}this.__cbOnFieldTextColorChange=null,this.__cbOnceFieldTextColorChange=null}},listensFieldTextColorChange:function(){return null!=this.__cbOnFieldTextColorChange&&0<this.__cbOnFieldTextColorChange.length||null!=this.__cbOnceFieldTextColorChange&&0<this.__cbOnceFieldTextColorChange.length},fieldPlaceholderColorAutoruns:null,get_fieldPlaceholderColor:function(){var e,n,t=this.unobservedFieldPlaceholderColor;return null!=A.current&&(e=A.current,null!=(n=this.fieldPlaceholderColorAutoruns)||(n=A.getAutorunArray(),null!=(this.fieldPlaceholderColorAutoruns=n)))&&e.bindToAutorunArray(n),t},set_fieldPlaceholderColor:function(e){var n=this.unobservedFieldPlaceholderColor;return n!=(this.unobservedFieldPlaceholderColor=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!0)),this.emitFieldPlaceholderColorChange(e,n),null!=(n=this.fieldPlaceholderColorAutoruns))&&(this.fieldPlaceholderColorAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateFieldPlaceholderColor:function(){var e=this.unobservedFieldPlaceholderColor,e=(this.emitFieldPlaceholderColorChange(e,e),this.fieldPlaceholderColorAutoruns);null!=e&&(this.fieldPlaceholderColorAutoruns=null,A.invalidateAutorunArray(e))},unobservedFieldPlaceholderColor:null,__cbOnFieldPlaceholderColorChange:null,__cbOnceFieldPlaceholderColorChange:null,__cbOnOwnerUnbindFieldPlaceholderColorChange:null,__cbOnceOwnerUnbindFieldPlaceholderColorChange:null,emitFieldPlaceholderColorChange:function(e,n){var t=0;if(null!=this.__cbOnFieldPlaceholderColorChange&&(t+=this.__cbOnFieldPlaceholderColorChange.length),null!=this.__cbOnceFieldPlaceholderColorChange&&(t+=this.__cbOnceFieldPlaceholderColorChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnFieldPlaceholderColorChange)for(var r=0,h=this.__cbOnFieldPlaceholderColorChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnFieldPlaceholderColorChange[a],++s):--t}if(null!=this.__cbOnceFieldPlaceholderColorChange){for(var o=null,c=null,r=0,h=this.__cbOnceFieldPlaceholderColorChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceFieldPlaceholderColorChange[a],this.__cbOnceFieldPlaceholderColorChange[a]=null,u=this.__cbOnceOwnerUnbindFieldPlaceholderColorChange[a],(this.__cbOnceOwnerUnbindFieldPlaceholderColorChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindFieldPlaceholderColorChange[a]),c.push(this.__cbOnceFieldPlaceholderColorChange[a]))}this.__cbOnceOwnerUnbindFieldPlaceholderColorChange=o,this.__cbOnceFieldPlaceholderColorChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onFieldPlaceholderColorChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event fieldPlaceholderColorChange because owner is destroyed!");var l=function(e){null!=t&&(i.offFieldPlaceholderColorChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindFieldPlaceholderColorChange&&(this.__cbOnOwnerUnbindFieldPlaceholderColorChange=[]),this.__cbOnOwnerUnbindFieldPlaceholderColorChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindFieldPlaceholderColorChange&&(this.__cbOnOwnerUnbindFieldPlaceholderColorChange=[]),this.__cbOnOwnerUnbindFieldPlaceholderColorChange.push(null);null==this.__cbOnFieldPlaceholderColorChange&&(this.__cbOnFieldPlaceholderColorChange=[]),this.__cbOnFieldPlaceholderColorChange.push(t)},onceFieldPlaceholderColorChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event fieldPlaceholderColorChange because owner is destroyed!");var l=function(e){null!=t&&(i.offFieldPlaceholderColorChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindFieldPlaceholderColorChange&&(this.__cbOnceOwnerUnbindFieldPlaceholderColorChange=[]),this.__cbOnceOwnerUnbindFieldPlaceholderColorChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindFieldPlaceholderColorChange&&(this.__cbOnceOwnerUnbindFieldPlaceholderColorChange=[]),this.__cbOnceOwnerUnbindFieldPlaceholderColorChange.push(null);null==this.__cbOnceFieldPlaceholderColorChange&&(this.__cbOnceFieldPlaceholderColorChange=[]),this.__cbOnceFieldPlaceholderColorChange.push(t)},offFieldPlaceholderColorChange:function(e){if(null!=e){var n;null!=this.__cbOnFieldPlaceholderColorChange&&-1!=(n=this.__cbOnFieldPlaceholderColorChange.indexOf(e))&&(this.__cbOnFieldPlaceholderColorChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindFieldPlaceholderColorChange[n])&&s(),this.__cbOnOwnerUnbindFieldPlaceholderColorChange.splice(n,1)),null!=this.__cbOnceFieldPlaceholderColorChange&&-1!=(n=this.__cbOnceFieldPlaceholderColorChange.indexOf(e))&&(this.__cbOnceFieldPlaceholderColorChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindFieldPlaceholderColorChange[n])&&s(),this.__cbOnceOwnerUnbindFieldPlaceholderColorChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindFieldPlaceholderColorChange){for(var t=0,i=this.__cbOnOwnerUnbindFieldPlaceholderColorChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindFieldPlaceholderColorChange[l])&&s()}this.__cbOnOwnerUnbindFieldPlaceholderColorChange=null}if(null!=this.__cbOnceOwnerUnbindFieldPlaceholderColorChange){for(t=0,i=this.__cbOnceOwnerUnbindFieldPlaceholderColorChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindFieldPlaceholderColorChange[l])&&s()}this.__cbOnceOwnerUnbindFieldPlaceholderColorChange=null}this.__cbOnFieldPlaceholderColorChange=null,this.__cbOnceFieldPlaceholderColorChange=null}},listensFieldPlaceholderColorChange:function(){return null!=this.__cbOnFieldPlaceholderColorChange&&0<this.__cbOnFieldPlaceholderColorChange.length||null!=this.__cbOnceFieldPlaceholderColorChange&&0<this.__cbOnceFieldPlaceholderColorChange.length},lightTextColorAutoruns:null,get_lightTextColor:function(){var e,n,t=this.unobservedLightTextColor;return null!=A.current&&(e=A.current,null!=(n=this.lightTextColorAutoruns)||(n=A.getAutorunArray(),null!=(this.lightTextColorAutoruns=n)))&&e.bindToAutorunArray(n),t},set_lightTextColor:function(e){var n=this.unobservedLightTextColor;return n!=(this.unobservedLightTextColor=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!0)),this.emitLightTextColorChange(e,n),null!=(n=this.lightTextColorAutoruns))&&(this.lightTextColorAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateLightTextColor:function(){var e=this.unobservedLightTextColor,e=(this.emitLightTextColorChange(e,e),this.lightTextColorAutoruns);null!=e&&(this.lightTextColorAutoruns=null,A.invalidateAutorunArray(e))},unobservedLightTextColor:null,__cbOnLightTextColorChange:null,__cbOnceLightTextColorChange:null,__cbOnOwnerUnbindLightTextColorChange:null,__cbOnceOwnerUnbindLightTextColorChange:null,emitLightTextColorChange:function(e,n){var t=0;if(null!=this.__cbOnLightTextColorChange&&(t+=this.__cbOnLightTextColorChange.length),null!=this.__cbOnceLightTextColorChange&&(t+=this.__cbOnceLightTextColorChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnLightTextColorChange)for(var r=0,h=this.__cbOnLightTextColorChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnLightTextColorChange[a],++s):--t}if(null!=this.__cbOnceLightTextColorChange){for(var o=null,c=null,r=0,h=this.__cbOnceLightTextColorChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceLightTextColorChange[a],this.__cbOnceLightTextColorChange[a]=null,u=this.__cbOnceOwnerUnbindLightTextColorChange[a],(this.__cbOnceOwnerUnbindLightTextColorChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindLightTextColorChange[a]),c.push(this.__cbOnceLightTextColorChange[a]))}this.__cbOnceOwnerUnbindLightTextColorChange=o,this.__cbOnceLightTextColorChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onLightTextColorChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event lightTextColorChange because owner is destroyed!");var l=function(e){null!=t&&(i.offLightTextColorChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindLightTextColorChange&&(this.__cbOnOwnerUnbindLightTextColorChange=[]),this.__cbOnOwnerUnbindLightTextColorChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindLightTextColorChange&&(this.__cbOnOwnerUnbindLightTextColorChange=[]),this.__cbOnOwnerUnbindLightTextColorChange.push(null);null==this.__cbOnLightTextColorChange&&(this.__cbOnLightTextColorChange=[]),this.__cbOnLightTextColorChange.push(t)},onceLightTextColorChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event lightTextColorChange because owner is destroyed!");var l=function(e){null!=t&&(i.offLightTextColorChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindLightTextColorChange&&(this.__cbOnceOwnerUnbindLightTextColorChange=[]),this.__cbOnceOwnerUnbindLightTextColorChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindLightTextColorChange&&(this.__cbOnceOwnerUnbindLightTextColorChange=[]),this.__cbOnceOwnerUnbindLightTextColorChange.push(null);null==this.__cbOnceLightTextColorChange&&(this.__cbOnceLightTextColorChange=[]),this.__cbOnceLightTextColorChange.push(t)},offLightTextColorChange:function(e){if(null!=e){var n;null!=this.__cbOnLightTextColorChange&&-1!=(n=this.__cbOnLightTextColorChange.indexOf(e))&&(this.__cbOnLightTextColorChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindLightTextColorChange[n])&&s(),this.__cbOnOwnerUnbindLightTextColorChange.splice(n,1)),null!=this.__cbOnceLightTextColorChange&&-1!=(n=this.__cbOnceLightTextColorChange.indexOf(e))&&(this.__cbOnceLightTextColorChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindLightTextColorChange[n])&&s(),this.__cbOnceOwnerUnbindLightTextColorChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindLightTextColorChange){for(var t=0,i=this.__cbOnOwnerUnbindLightTextColorChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindLightTextColorChange[l])&&s()}this.__cbOnOwnerUnbindLightTextColorChange=null}if(null!=this.__cbOnceOwnerUnbindLightTextColorChange){for(t=0,i=this.__cbOnceOwnerUnbindLightTextColorChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindLightTextColorChange[l])&&s()}this.__cbOnceOwnerUnbindLightTextColorChange=null}this.__cbOnLightTextColorChange=null,this.__cbOnceLightTextColorChange=null}},listensLightTextColorChange:function(){return null!=this.__cbOnLightTextColorChange&&0<this.__cbOnLightTextColorChange.length||null!=this.__cbOnceLightTextColorChange&&0<this.__cbOnceLightTextColorChange.length},mediumTextColorAutoruns:null,get_mediumTextColor:function(){var e,n,t=this.unobservedMediumTextColor;return null!=A.current&&(e=A.current,null!=(n=this.mediumTextColorAutoruns)||(n=A.getAutorunArray(),null!=(this.mediumTextColorAutoruns=n)))&&e.bindToAutorunArray(n),t},set_mediumTextColor:function(e){var n=this.unobservedMediumTextColor;return n!=(this.unobservedMediumTextColor=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!0)),this.emitMediumTextColorChange(e,n),null!=(n=this.mediumTextColorAutoruns))&&(this.mediumTextColorAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateMediumTextColor:function(){var e=this.unobservedMediumTextColor,e=(this.emitMediumTextColorChange(e,e),this.mediumTextColorAutoruns);null!=e&&(this.mediumTextColorAutoruns=null,A.invalidateAutorunArray(e))},unobservedMediumTextColor:null,__cbOnMediumTextColorChange:null,__cbOnceMediumTextColorChange:null,__cbOnOwnerUnbindMediumTextColorChange:null,__cbOnceOwnerUnbindMediumTextColorChange:null,emitMediumTextColorChange:function(e,n){var t=0;if(null!=this.__cbOnMediumTextColorChange&&(t+=this.__cbOnMediumTextColorChange.length),null!=this.__cbOnceMediumTextColorChange&&(t+=this.__cbOnceMediumTextColorChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnMediumTextColorChange)for(var r=0,h=this.__cbOnMediumTextColorChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnMediumTextColorChange[a],++s):--t}if(null!=this.__cbOnceMediumTextColorChange){for(var o=null,c=null,r=0,h=this.__cbOnceMediumTextColorChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceMediumTextColorChange[a],this.__cbOnceMediumTextColorChange[a]=null,u=this.__cbOnceOwnerUnbindMediumTextColorChange[a],(this.__cbOnceOwnerUnbindMediumTextColorChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindMediumTextColorChange[a]),c.push(this.__cbOnceMediumTextColorChange[a]))}this.__cbOnceOwnerUnbindMediumTextColorChange=o,this.__cbOnceMediumTextColorChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onMediumTextColorChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event mediumTextColorChange because owner is destroyed!");var l=function(e){null!=t&&(i.offMediumTextColorChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindMediumTextColorChange&&(this.__cbOnOwnerUnbindMediumTextColorChange=[]),this.__cbOnOwnerUnbindMediumTextColorChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindMediumTextColorChange&&(this.__cbOnOwnerUnbindMediumTextColorChange=[]),this.__cbOnOwnerUnbindMediumTextColorChange.push(null);null==this.__cbOnMediumTextColorChange&&(this.__cbOnMediumTextColorChange=[]),this.__cbOnMediumTextColorChange.push(t)},onceMediumTextColorChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event mediumTextColorChange because owner is destroyed!");var l=function(e){null!=t&&(i.offMediumTextColorChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindMediumTextColorChange&&(this.__cbOnceOwnerUnbindMediumTextColorChange=[]),this.__cbOnceOwnerUnbindMediumTextColorChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindMediumTextColorChange&&(this.__cbOnceOwnerUnbindMediumTextColorChange=[]),this.__cbOnceOwnerUnbindMediumTextColorChange.push(null);null==this.__cbOnceMediumTextColorChange&&(this.__cbOnceMediumTextColorChange=[]),this.__cbOnceMediumTextColorChange.push(t)},offMediumTextColorChange:function(e){if(null!=e){var n;null!=this.__cbOnMediumTextColorChange&&-1!=(n=this.__cbOnMediumTextColorChange.indexOf(e))&&(this.__cbOnMediumTextColorChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindMediumTextColorChange[n])&&s(),this.__cbOnOwnerUnbindMediumTextColorChange.splice(n,1)),null!=this.__cbOnceMediumTextColorChange&&-1!=(n=this.__cbOnceMediumTextColorChange.indexOf(e))&&(this.__cbOnceMediumTextColorChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindMediumTextColorChange[n])&&s(),this.__cbOnceOwnerUnbindMediumTextColorChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindMediumTextColorChange){for(var t=0,i=this.__cbOnOwnerUnbindMediumTextColorChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindMediumTextColorChange[l])&&s()}this.__cbOnOwnerUnbindMediumTextColorChange=null}if(null!=this.__cbOnceOwnerUnbindMediumTextColorChange){for(t=0,i=this.__cbOnceOwnerUnbindMediumTextColorChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindMediumTextColorChange[l])&&s()}this.__cbOnceOwnerUnbindMediumTextColorChange=null}this.__cbOnMediumTextColorChange=null,this.__cbOnceMediumTextColorChange=null}},listensMediumTextColorChange:function(){return null!=this.__cbOnMediumTextColorChange&&0<this.__cbOnMediumTextColorChange.length||null!=this.__cbOnceMediumTextColorChange&&0<this.__cbOnceMediumTextColorChange.length},darkTextColorAutoruns:null,get_darkTextColor:function(){var e,n,t=this.unobservedDarkTextColor;return null!=A.current&&(e=A.current,null!=(n=this.darkTextColorAutoruns)||(n=A.getAutorunArray(),null!=(this.darkTextColorAutoruns=n)))&&e.bindToAutorunArray(n),t},set_darkTextColor:function(e){var n=this.unobservedDarkTextColor;return n!=(this.unobservedDarkTextColor=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!0)),this.emitDarkTextColorChange(e,n),null!=(n=this.darkTextColorAutoruns))&&(this.darkTextColorAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateDarkTextColor:function(){var e=this.unobservedDarkTextColor,e=(this.emitDarkTextColorChange(e,e),this.darkTextColorAutoruns);null!=e&&(this.darkTextColorAutoruns=null,A.invalidateAutorunArray(e))},unobservedDarkTextColor:null,__cbOnDarkTextColorChange:null,__cbOnceDarkTextColorChange:null,__cbOnOwnerUnbindDarkTextColorChange:null,__cbOnceOwnerUnbindDarkTextColorChange:null,emitDarkTextColorChange:function(e,n){var t=0;if(null!=this.__cbOnDarkTextColorChange&&(t+=this.__cbOnDarkTextColorChange.length),null!=this.__cbOnceDarkTextColorChange&&(t+=this.__cbOnceDarkTextColorChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnDarkTextColorChange)for(var r=0,h=this.__cbOnDarkTextColorChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnDarkTextColorChange[a],++s):--t}if(null!=this.__cbOnceDarkTextColorChange){for(var o=null,c=null,r=0,h=this.__cbOnceDarkTextColorChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceDarkTextColorChange[a],this.__cbOnceDarkTextColorChange[a]=null,u=this.__cbOnceOwnerUnbindDarkTextColorChange[a],(this.__cbOnceOwnerUnbindDarkTextColorChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindDarkTextColorChange[a]),c.push(this.__cbOnceDarkTextColorChange[a]))}this.__cbOnceOwnerUnbindDarkTextColorChange=o,this.__cbOnceDarkTextColorChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onDarkTextColorChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event darkTextColorChange because owner is destroyed!");var l=function(e){null!=t&&(i.offDarkTextColorChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindDarkTextColorChange&&(this.__cbOnOwnerUnbindDarkTextColorChange=[]),this.__cbOnOwnerUnbindDarkTextColorChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindDarkTextColorChange&&(this.__cbOnOwnerUnbindDarkTextColorChange=[]),this.__cbOnOwnerUnbindDarkTextColorChange.push(null);null==this.__cbOnDarkTextColorChange&&(this.__cbOnDarkTextColorChange=[]),this.__cbOnDarkTextColorChange.push(t)},onceDarkTextColorChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event darkTextColorChange because owner is destroyed!");var l=function(e){null!=t&&(i.offDarkTextColorChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindDarkTextColorChange&&(this.__cbOnceOwnerUnbindDarkTextColorChange=[]),this.__cbOnceOwnerUnbindDarkTextColorChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindDarkTextColorChange&&(this.__cbOnceOwnerUnbindDarkTextColorChange=[]),this.__cbOnceOwnerUnbindDarkTextColorChange.push(null);null==this.__cbOnceDarkTextColorChange&&(this.__cbOnceDarkTextColorChange=[]),this.__cbOnceDarkTextColorChange.push(t)},offDarkTextColorChange:function(e){if(null!=e){var n;null!=this.__cbOnDarkTextColorChange&&-1!=(n=this.__cbOnDarkTextColorChange.indexOf(e))&&(this.__cbOnDarkTextColorChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindDarkTextColorChange[n])&&s(),this.__cbOnOwnerUnbindDarkTextColorChange.splice(n,1)),null!=this.__cbOnceDarkTextColorChange&&-1!=(n=this.__cbOnceDarkTextColorChange.indexOf(e))&&(this.__cbOnceDarkTextColorChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindDarkTextColorChange[n])&&s(),this.__cbOnceOwnerUnbindDarkTextColorChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindDarkTextColorChange){for(var t=0,i=this.__cbOnOwnerUnbindDarkTextColorChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindDarkTextColorChange[l])&&s()}this.__cbOnOwnerUnbindDarkTextColorChange=null}if(null!=this.__cbOnceOwnerUnbindDarkTextColorChange){for(t=0,i=this.__cbOnceOwnerUnbindDarkTextColorChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindDarkTextColorChange[l])&&s()}this.__cbOnceOwnerUnbindDarkTextColorChange=null}this.__cbOnDarkTextColorChange=null,this.__cbOnceDarkTextColorChange=null}},listensDarkTextColorChange:function(){return null!=this.__cbOnDarkTextColorChange&&0<this.__cbOnDarkTextColorChange.length||null!=this.__cbOnceDarkTextColorChange&&0<this.__cbOnceDarkTextColorChange.length},darkerTextColorAutoruns:null,get_darkerTextColor:function(){var e,n,t=this.unobservedDarkerTextColor;return null!=A.current&&(e=A.current,null!=(n=this.darkerTextColorAutoruns)||(n=A.getAutorunArray(),null!=(this.darkerTextColorAutoruns=n)))&&e.bindToAutorunArray(n),t},set_darkerTextColor:function(e){var n=this.unobservedDarkerTextColor;return n!=(this.unobservedDarkerTextColor=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!0)),this.emitDarkerTextColorChange(e,n),null!=(n=this.darkerTextColorAutoruns))&&(this.darkerTextColorAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateDarkerTextColor:function(){var e=this.unobservedDarkerTextColor,e=(this.emitDarkerTextColorChange(e,e),this.darkerTextColorAutoruns);null!=e&&(this.darkerTextColorAutoruns=null,A.invalidateAutorunArray(e))},unobservedDarkerTextColor:null,__cbOnDarkerTextColorChange:null,__cbOnceDarkerTextColorChange:null,__cbOnOwnerUnbindDarkerTextColorChange:null,__cbOnceOwnerUnbindDarkerTextColorChange:null,emitDarkerTextColorChange:function(e,n){var t=0;if(null!=this.__cbOnDarkerTextColorChange&&(t+=this.__cbOnDarkerTextColorChange.length),null!=this.__cbOnceDarkerTextColorChange&&(t+=this.__cbOnceDarkerTextColorChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnDarkerTextColorChange)for(var r=0,h=this.__cbOnDarkerTextColorChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnDarkerTextColorChange[a],++s):--t}if(null!=this.__cbOnceDarkerTextColorChange){for(var o=null,c=null,r=0,h=this.__cbOnceDarkerTextColorChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceDarkerTextColorChange[a],this.__cbOnceDarkerTextColorChange[a]=null,u=this.__cbOnceOwnerUnbindDarkerTextColorChange[a],(this.__cbOnceOwnerUnbindDarkerTextColorChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindDarkerTextColorChange[a]),c.push(this.__cbOnceDarkerTextColorChange[a]))}this.__cbOnceOwnerUnbindDarkerTextColorChange=o,this.__cbOnceDarkerTextColorChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onDarkerTextColorChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event darkerTextColorChange because owner is destroyed!");var l=function(e){null!=t&&(i.offDarkerTextColorChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindDarkerTextColorChange&&(this.__cbOnOwnerUnbindDarkerTextColorChange=[]),this.__cbOnOwnerUnbindDarkerTextColorChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindDarkerTextColorChange&&(this.__cbOnOwnerUnbindDarkerTextColorChange=[]),this.__cbOnOwnerUnbindDarkerTextColorChange.push(null);null==this.__cbOnDarkerTextColorChange&&(this.__cbOnDarkerTextColorChange=[]),this.__cbOnDarkerTextColorChange.push(t)},onceDarkerTextColorChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event darkerTextColorChange because owner is destroyed!");var l=function(e){null!=t&&(i.offDarkerTextColorChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindDarkerTextColorChange&&(this.__cbOnceOwnerUnbindDarkerTextColorChange=[]),this.__cbOnceOwnerUnbindDarkerTextColorChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindDarkerTextColorChange&&(this.__cbOnceOwnerUnbindDarkerTextColorChange=[]),this.__cbOnceOwnerUnbindDarkerTextColorChange.push(null);null==this.__cbOnceDarkerTextColorChange&&(this.__cbOnceDarkerTextColorChange=[]),this.__cbOnceDarkerTextColorChange.push(t)},offDarkerTextColorChange:function(e){if(null!=e){var n;null!=this.__cbOnDarkerTextColorChange&&-1!=(n=this.__cbOnDarkerTextColorChange.indexOf(e))&&(this.__cbOnDarkerTextColorChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindDarkerTextColorChange[n])&&s(),this.__cbOnOwnerUnbindDarkerTextColorChange.splice(n,1)),null!=this.__cbOnceDarkerTextColorChange&&-1!=(n=this.__cbOnceDarkerTextColorChange.indexOf(e))&&(this.__cbOnceDarkerTextColorChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindDarkerTextColorChange[n])&&s(),this.__cbOnceOwnerUnbindDarkerTextColorChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindDarkerTextColorChange){for(var t=0,i=this.__cbOnOwnerUnbindDarkerTextColorChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindDarkerTextColorChange[l])&&s()}this.__cbOnOwnerUnbindDarkerTextColorChange=null}if(null!=this.__cbOnceOwnerUnbindDarkerTextColorChange){for(t=0,i=this.__cbOnceOwnerUnbindDarkerTextColorChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindDarkerTextColorChange[l])&&s()}this.__cbOnceOwnerUnbindDarkerTextColorChange=null}this.__cbOnDarkerTextColorChange=null,this.__cbOnceDarkerTextColorChange=null}},listensDarkerTextColorChange:function(){return null!=this.__cbOnDarkerTextColorChange&&0<this.__cbOnDarkerTextColorChange.length||null!=this.__cbOnceDarkerTextColorChange&&0<this.__cbOnceDarkerTextColorChange.length},iconColorAutoruns:null,get_iconColor:function(){var e,n,t=this.unobservedIconColor;return null!=A.current&&(e=A.current,null!=(n=this.iconColorAutoruns)||(n=A.getAutorunArray(),null!=(this.iconColorAutoruns=n)))&&e.bindToAutorunArray(n),t},set_iconColor:function(e){var n=this.unobservedIconColor;return n!=(this.unobservedIconColor=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!0)),this.emitIconColorChange(e,n),null!=(n=this.iconColorAutoruns))&&(this.iconColorAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateIconColor:function(){var e=this.unobservedIconColor,e=(this.emitIconColorChange(e,e),this.iconColorAutoruns);null!=e&&(this.iconColorAutoruns=null,A.invalidateAutorunArray(e))},unobservedIconColor:null,__cbOnIconColorChange:null,__cbOnceIconColorChange:null,__cbOnOwnerUnbindIconColorChange:null,__cbOnceOwnerUnbindIconColorChange:null,emitIconColorChange:function(e,n){var t=0;if(null!=this.__cbOnIconColorChange&&(t+=this.__cbOnIconColorChange.length),null!=this.__cbOnceIconColorChange&&(t+=this.__cbOnceIconColorChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnIconColorChange)for(var r=0,h=this.__cbOnIconColorChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnIconColorChange[a],++s):--t}if(null!=this.__cbOnceIconColorChange){for(var o=null,c=null,r=0,h=this.__cbOnceIconColorChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceIconColorChange[a],this.__cbOnceIconColorChange[a]=null,u=this.__cbOnceOwnerUnbindIconColorChange[a],(this.__cbOnceOwnerUnbindIconColorChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindIconColorChange[a]),c.push(this.__cbOnceIconColorChange[a]))}this.__cbOnceOwnerUnbindIconColorChange=o,this.__cbOnceIconColorChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onIconColorChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event iconColorChange because owner is destroyed!");var l=function(e){null!=t&&(i.offIconColorChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindIconColorChange&&(this.__cbOnOwnerUnbindIconColorChange=[]),this.__cbOnOwnerUnbindIconColorChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindIconColorChange&&(this.__cbOnOwnerUnbindIconColorChange=[]),this.__cbOnOwnerUnbindIconColorChange.push(null);null==this.__cbOnIconColorChange&&(this.__cbOnIconColorChange=[]),this.__cbOnIconColorChange.push(t)},onceIconColorChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event iconColorChange because owner is destroyed!");var l=function(e){null!=t&&(i.offIconColorChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindIconColorChange&&(this.__cbOnceOwnerUnbindIconColorChange=[]),this.__cbOnceOwnerUnbindIconColorChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindIconColorChange&&(this.__cbOnceOwnerUnbindIconColorChange=[]),this.__cbOnceOwnerUnbindIconColorChange.push(null);null==this.__cbOnceIconColorChange&&(this.__cbOnceIconColorChange=[]),this.__cbOnceIconColorChange.push(t)},offIconColorChange:function(e){if(null!=e){var n;null!=this.__cbOnIconColorChange&&-1!=(n=this.__cbOnIconColorChange.indexOf(e))&&(this.__cbOnIconColorChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindIconColorChange[n])&&s(),this.__cbOnOwnerUnbindIconColorChange.splice(n,1)),null!=this.__cbOnceIconColorChange&&-1!=(n=this.__cbOnceIconColorChange.indexOf(e))&&(this.__cbOnceIconColorChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindIconColorChange[n])&&s(),this.__cbOnceOwnerUnbindIconColorChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindIconColorChange){for(var t=0,i=this.__cbOnOwnerUnbindIconColorChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindIconColorChange[l])&&s()}this.__cbOnOwnerUnbindIconColorChange=null}if(null!=this.__cbOnceOwnerUnbindIconColorChange){for(t=0,i=this.__cbOnceOwnerUnbindIconColorChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindIconColorChange[l])&&s()}this.__cbOnceOwnerUnbindIconColorChange=null}this.__cbOnIconColorChange=null,this.__cbOnceIconColorChange=null}},listensIconColorChange:function(){return null!=this.__cbOnIconColorChange&&0<this.__cbOnIconColorChange.length||null!=this.__cbOnceIconColorChange&&0<this.__cbOnceIconColorChange.length},customMediumFontAutoruns:null,get_customMediumFont:function(){var e,n,t=this.unobservedCustomMediumFont;return null!=A.current&&(e=A.current,null!=(n=this.customMediumFontAutoruns)||(n=A.getAutorunArray(),null!=(this.customMediumFontAutoruns=n)))&&e.bindToAutorunArray(n),t},set_customMediumFont:function(e){var n=this.unobservedCustomMediumFont;return n!=(this.unobservedCustomMediumFont=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!0)),this.emitCustomMediumFontChange(e,n),null!=(n=this.customMediumFontAutoruns))&&(this.customMediumFontAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateCustomMediumFont:function(){var e=this.unobservedCustomMediumFont,e=(this.emitCustomMediumFontChange(e,e),this.customMediumFontAutoruns);null!=e&&(this.customMediumFontAutoruns=null,A.invalidateAutorunArray(e))},unobservedCustomMediumFont:null,__cbOnCustomMediumFontChange:null,__cbOnceCustomMediumFontChange:null,__cbOnOwnerUnbindCustomMediumFontChange:null,__cbOnceOwnerUnbindCustomMediumFontChange:null,emitCustomMediumFontChange:function(e,n){var t=0;if(null!=this.__cbOnCustomMediumFontChange&&(t+=this.__cbOnCustomMediumFontChange.length),null!=this.__cbOnceCustomMediumFontChange&&(t+=this.__cbOnceCustomMediumFontChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnCustomMediumFontChange)for(var r=0,h=this.__cbOnCustomMediumFontChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnCustomMediumFontChange[a],++s):--t}if(null!=this.__cbOnceCustomMediumFontChange){for(var o=null,c=null,r=0,h=this.__cbOnceCustomMediumFontChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceCustomMediumFontChange[a],this.__cbOnceCustomMediumFontChange[a]=null,u=this.__cbOnceOwnerUnbindCustomMediumFontChange[a],(this.__cbOnceOwnerUnbindCustomMediumFontChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindCustomMediumFontChange[a]),c.push(this.__cbOnceCustomMediumFontChange[a]))}this.__cbOnceOwnerUnbindCustomMediumFontChange=o,this.__cbOnceCustomMediumFontChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onCustomMediumFontChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event customMediumFontChange because owner is destroyed!");var l=function(e){null!=t&&(i.offCustomMediumFontChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindCustomMediumFontChange&&(this.__cbOnOwnerUnbindCustomMediumFontChange=[]),this.__cbOnOwnerUnbindCustomMediumFontChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindCustomMediumFontChange&&(this.__cbOnOwnerUnbindCustomMediumFontChange=[]),this.__cbOnOwnerUnbindCustomMediumFontChange.push(null);null==this.__cbOnCustomMediumFontChange&&(this.__cbOnCustomMediumFontChange=[]),this.__cbOnCustomMediumFontChange.push(t)},onceCustomMediumFontChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event customMediumFontChange because owner is destroyed!");var l=function(e){null!=t&&(i.offCustomMediumFontChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindCustomMediumFontChange&&(this.__cbOnceOwnerUnbindCustomMediumFontChange=[]),this.__cbOnceOwnerUnbindCustomMediumFontChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindCustomMediumFontChange&&(this.__cbOnceOwnerUnbindCustomMediumFontChange=[]),this.__cbOnceOwnerUnbindCustomMediumFontChange.push(null);null==this.__cbOnceCustomMediumFontChange&&(this.__cbOnceCustomMediumFontChange=[]),this.__cbOnceCustomMediumFontChange.push(t)},offCustomMediumFontChange:function(e){if(null!=e){var n;null!=this.__cbOnCustomMediumFontChange&&-1!=(n=this.__cbOnCustomMediumFontChange.indexOf(e))&&(this.__cbOnCustomMediumFontChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindCustomMediumFontChange[n])&&s(),this.__cbOnOwnerUnbindCustomMediumFontChange.splice(n,1)),null!=this.__cbOnceCustomMediumFontChange&&-1!=(n=this.__cbOnceCustomMediumFontChange.indexOf(e))&&(this.__cbOnceCustomMediumFontChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindCustomMediumFontChange[n])&&s(),this.__cbOnceOwnerUnbindCustomMediumFontChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindCustomMediumFontChange){for(var t=0,i=this.__cbOnOwnerUnbindCustomMediumFontChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindCustomMediumFontChange[l])&&s()}this.__cbOnOwnerUnbindCustomMediumFontChange=null}if(null!=this.__cbOnceOwnerUnbindCustomMediumFontChange){for(t=0,i=this.__cbOnceOwnerUnbindCustomMediumFontChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindCustomMediumFontChange[l])&&s()}this.__cbOnceOwnerUnbindCustomMediumFontChange=null}this.__cbOnCustomMediumFontChange=null,this.__cbOnceCustomMediumFontChange=null}},listensCustomMediumFontChange:function(){return null!=this.__cbOnCustomMediumFontChange&&0<this.__cbOnCustomMediumFontChange.length||null!=this.__cbOnceCustomMediumFontChange&&0<this.__cbOnceCustomMediumFontChange.length},get_mediumFont:function(){var e=this.get_customMediumFont();return null!=e?e:ae.app.assets.font(ae.app.settings.defaultFont)},customBoldFontAutoruns:null,get_customBoldFont:function(){var e,n,t=this.unobservedCustomBoldFont;return null!=A.current&&(e=A.current,null!=(n=this.customBoldFontAutoruns)||(n=A.getAutorunArray(),null!=(this.customBoldFontAutoruns=n)))&&e.bindToAutorunArray(n),t},set_customBoldFont:function(e){var n=this.unobservedCustomBoldFont;return n!=(this.unobservedCustomBoldFont=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!0)),this.emitCustomBoldFontChange(e,n),null!=(n=this.customBoldFontAutoruns))&&(this.customBoldFontAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateCustomBoldFont:function(){var e=this.unobservedCustomBoldFont,e=(this.emitCustomBoldFontChange(e,e),this.customBoldFontAutoruns);null!=e&&(this.customBoldFontAutoruns=null,A.invalidateAutorunArray(e))},unobservedCustomBoldFont:null,__cbOnCustomBoldFontChange:null,__cbOnceCustomBoldFontChange:null,__cbOnOwnerUnbindCustomBoldFontChange:null,__cbOnceOwnerUnbindCustomBoldFontChange:null,emitCustomBoldFontChange:function(e,n){var t=0;if(null!=this.__cbOnCustomBoldFontChange&&(t+=this.__cbOnCustomBoldFontChange.length),null!=this.__cbOnceCustomBoldFontChange&&(t+=this.__cbOnceCustomBoldFontChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnCustomBoldFontChange)for(var r=0,h=this.__cbOnCustomBoldFontChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnCustomBoldFontChange[a],++s):--t}if(null!=this.__cbOnceCustomBoldFontChange){for(var o=null,c=null,r=0,h=this.__cbOnceCustomBoldFontChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceCustomBoldFontChange[a],this.__cbOnceCustomBoldFontChange[a]=null,u=this.__cbOnceOwnerUnbindCustomBoldFontChange[a],(this.__cbOnceOwnerUnbindCustomBoldFontChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindCustomBoldFontChange[a]),c.push(this.__cbOnceCustomBoldFontChange[a]))}this.__cbOnceOwnerUnbindCustomBoldFontChange=o,this.__cbOnceCustomBoldFontChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onCustomBoldFontChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event customBoldFontChange because owner is destroyed!");var l=function(e){null!=t&&(i.offCustomBoldFontChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindCustomBoldFontChange&&(this.__cbOnOwnerUnbindCustomBoldFontChange=[]),this.__cbOnOwnerUnbindCustomBoldFontChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindCustomBoldFontChange&&(this.__cbOnOwnerUnbindCustomBoldFontChange=[]),this.__cbOnOwnerUnbindCustomBoldFontChange.push(null);null==this.__cbOnCustomBoldFontChange&&(this.__cbOnCustomBoldFontChange=[]),this.__cbOnCustomBoldFontChange.push(t)},onceCustomBoldFontChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event customBoldFontChange because owner is destroyed!");var l=function(e){null!=t&&(i.offCustomBoldFontChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindCustomBoldFontChange&&(this.__cbOnceOwnerUnbindCustomBoldFontChange=[]),this.__cbOnceOwnerUnbindCustomBoldFontChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindCustomBoldFontChange&&(this.__cbOnceOwnerUnbindCustomBoldFontChange=[]),this.__cbOnceOwnerUnbindCustomBoldFontChange.push(null);null==this.__cbOnceCustomBoldFontChange&&(this.__cbOnceCustomBoldFontChange=[]),this.__cbOnceCustomBoldFontChange.push(t)},offCustomBoldFontChange:function(e){if(null!=e){var n;null!=this.__cbOnCustomBoldFontChange&&-1!=(n=this.__cbOnCustomBoldFontChange.indexOf(e))&&(this.__cbOnCustomBoldFontChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindCustomBoldFontChange[n])&&s(),this.__cbOnOwnerUnbindCustomBoldFontChange.splice(n,1)),null!=this.__cbOnceCustomBoldFontChange&&-1!=(n=this.__cbOnceCustomBoldFontChange.indexOf(e))&&(this.__cbOnceCustomBoldFontChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindCustomBoldFontChange[n])&&s(),this.__cbOnceOwnerUnbindCustomBoldFontChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindCustomBoldFontChange){for(var t=0,i=this.__cbOnOwnerUnbindCustomBoldFontChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindCustomBoldFontChange[l])&&s()}this.__cbOnOwnerUnbindCustomBoldFontChange=null}if(null!=this.__cbOnceOwnerUnbindCustomBoldFontChange){for(t=0,i=this.__cbOnceOwnerUnbindCustomBoldFontChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindCustomBoldFontChange[l])&&s()}this.__cbOnceOwnerUnbindCustomBoldFontChange=null}this.__cbOnCustomBoldFontChange=null,this.__cbOnceCustomBoldFontChange=null}},listensCustomBoldFontChange:function(){return null!=this.__cbOnCustomBoldFontChange&&0<this.__cbOnCustomBoldFontChange.length||null!=this.__cbOnceCustomBoldFontChange&&0<this.__cbOnceCustomBoldFontChange.length},get_boldFont:function(){var e=this.get_customBoldFont();return null!=e?e:ae.app.assets.font(ae.app.settings.defaultFont)},lighterBorderColorAutoruns:null,get_lighterBorderColor:function(){var e,n,t=this.unobservedLighterBorderColor;return null!=A.current&&(e=A.current,null!=(n=this.lighterBorderColorAutoruns)||(n=A.getAutorunArray(),null!=(this.lighterBorderColorAutoruns=n)))&&e.bindToAutorunArray(n),t},set_lighterBorderColor:function(e){var n=this.unobservedLighterBorderColor;return n!=(this.unobservedLighterBorderColor=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!0)),this.emitLighterBorderColorChange(e,n),null!=(n=this.lighterBorderColorAutoruns))&&(this.lighterBorderColorAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateLighterBorderColor:function(){var e=this.unobservedLighterBorderColor,e=(this.emitLighterBorderColorChange(e,e),this.lighterBorderColorAutoruns);null!=e&&(this.lighterBorderColorAutoruns=null,A.invalidateAutorunArray(e))},unobservedLighterBorderColor:null,__cbOnLighterBorderColorChange:null,__cbOnceLighterBorderColorChange:null,__cbOnOwnerUnbindLighterBorderColorChange:null,__cbOnceOwnerUnbindLighterBorderColorChange:null,emitLighterBorderColorChange:function(e,n){var t=0;if(null!=this.__cbOnLighterBorderColorChange&&(t+=this.__cbOnLighterBorderColorChange.length),null!=this.__cbOnceLighterBorderColorChange&&(t+=this.__cbOnceLighterBorderColorChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnLighterBorderColorChange)for(var r=0,h=this.__cbOnLighterBorderColorChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnLighterBorderColorChange[a],++s):--t}if(null!=this.__cbOnceLighterBorderColorChange){for(var o=null,c=null,r=0,h=this.__cbOnceLighterBorderColorChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceLighterBorderColorChange[a],this.__cbOnceLighterBorderColorChange[a]=null,u=this.__cbOnceOwnerUnbindLighterBorderColorChange[a],(this.__cbOnceOwnerUnbindLighterBorderColorChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindLighterBorderColorChange[a]),c.push(this.__cbOnceLighterBorderColorChange[a]))}this.__cbOnceOwnerUnbindLighterBorderColorChange=o,this.__cbOnceLighterBorderColorChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onLighterBorderColorChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event lighterBorderColorChange because owner is destroyed!");var l=function(e){null!=t&&(i.offLighterBorderColorChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindLighterBorderColorChange&&(this.__cbOnOwnerUnbindLighterBorderColorChange=[]),this.__cbOnOwnerUnbindLighterBorderColorChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindLighterBorderColorChange&&(this.__cbOnOwnerUnbindLighterBorderColorChange=[]),this.__cbOnOwnerUnbindLighterBorderColorChange.push(null);null==this.__cbOnLighterBorderColorChange&&(this.__cbOnLighterBorderColorChange=[]),this.__cbOnLighterBorderColorChange.push(t)},onceLighterBorderColorChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event lighterBorderColorChange because owner is destroyed!");var l=function(e){null!=t&&(i.offLighterBorderColorChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindLighterBorderColorChange&&(this.__cbOnceOwnerUnbindLighterBorderColorChange=[]),this.__cbOnceOwnerUnbindLighterBorderColorChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindLighterBorderColorChange&&(this.__cbOnceOwnerUnbindLighterBorderColorChange=[]),this.__cbOnceOwnerUnbindLighterBorderColorChange.push(null);null==this.__cbOnceLighterBorderColorChange&&(this.__cbOnceLighterBorderColorChange=[]),this.__cbOnceLighterBorderColorChange.push(t)},offLighterBorderColorChange:function(e){if(null!=e){var n;null!=this.__cbOnLighterBorderColorChange&&-1!=(n=this.__cbOnLighterBorderColorChange.indexOf(e))&&(this.__cbOnLighterBorderColorChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindLighterBorderColorChange[n])&&s(),this.__cbOnOwnerUnbindLighterBorderColorChange.splice(n,1)),null!=this.__cbOnceLighterBorderColorChange&&-1!=(n=this.__cbOnceLighterBorderColorChange.indexOf(e))&&(this.__cbOnceLighterBorderColorChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindLighterBorderColorChange[n])&&s(),this.__cbOnceOwnerUnbindLighterBorderColorChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindLighterBorderColorChange){for(var t=0,i=this.__cbOnOwnerUnbindLighterBorderColorChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindLighterBorderColorChange[l])&&s()}this.__cbOnOwnerUnbindLighterBorderColorChange=null}if(null!=this.__cbOnceOwnerUnbindLighterBorderColorChange){for(t=0,i=this.__cbOnceOwnerUnbindLighterBorderColorChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindLighterBorderColorChange[l])&&s()}this.__cbOnceOwnerUnbindLighterBorderColorChange=null}this.__cbOnLighterBorderColorChange=null,this.__cbOnceLighterBorderColorChange=null}},listensLighterBorderColorChange:function(){return null!=this.__cbOnLighterBorderColorChange&&0<this.__cbOnLighterBorderColorChange.length||null!=this.__cbOnceLighterBorderColorChange&&0<this.__cbOnceLighterBorderColorChange.length},lightBorderColorAutoruns:null,get_lightBorderColor:function(){var e,n,t=this.unobservedLightBorderColor;return null!=A.current&&(e=A.current,null!=(n=this.lightBorderColorAutoruns)||(n=A.getAutorunArray(),null!=(this.lightBorderColorAutoruns=n)))&&e.bindToAutorunArray(n),t},set_lightBorderColor:function(e){var n=this.unobservedLightBorderColor;return n!=(this.unobservedLightBorderColor=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!0)),this.emitLightBorderColorChange(e,n),null!=(n=this.lightBorderColorAutoruns))&&(this.lightBorderColorAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateLightBorderColor:function(){var e=this.unobservedLightBorderColor,e=(this.emitLightBorderColorChange(e,e),this.lightBorderColorAutoruns);null!=e&&(this.lightBorderColorAutoruns=null,A.invalidateAutorunArray(e))},unobservedLightBorderColor:null,__cbOnLightBorderColorChange:null,__cbOnceLightBorderColorChange:null,__cbOnOwnerUnbindLightBorderColorChange:null,__cbOnceOwnerUnbindLightBorderColorChange:null,emitLightBorderColorChange:function(e,n){var t=0;if(null!=this.__cbOnLightBorderColorChange&&(t+=this.__cbOnLightBorderColorChange.length),null!=this.__cbOnceLightBorderColorChange&&(t+=this.__cbOnceLightBorderColorChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnLightBorderColorChange)for(var r=0,h=this.__cbOnLightBorderColorChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnLightBorderColorChange[a],++s):--t}if(null!=this.__cbOnceLightBorderColorChange){for(var o=null,c=null,r=0,h=this.__cbOnceLightBorderColorChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceLightBorderColorChange[a],this.__cbOnceLightBorderColorChange[a]=null,u=this.__cbOnceOwnerUnbindLightBorderColorChange[a],(this.__cbOnceOwnerUnbindLightBorderColorChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindLightBorderColorChange[a]),c.push(this.__cbOnceLightBorderColorChange[a]))}this.__cbOnceOwnerUnbindLightBorderColorChange=o,this.__cbOnceLightBorderColorChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onLightBorderColorChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event lightBorderColorChange because owner is destroyed!");var l=function(e){null!=t&&(i.offLightBorderColorChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindLightBorderColorChange&&(this.__cbOnOwnerUnbindLightBorderColorChange=[]),this.__cbOnOwnerUnbindLightBorderColorChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindLightBorderColorChange&&(this.__cbOnOwnerUnbindLightBorderColorChange=[]),this.__cbOnOwnerUnbindLightBorderColorChange.push(null);null==this.__cbOnLightBorderColorChange&&(this.__cbOnLightBorderColorChange=[]),this.__cbOnLightBorderColorChange.push(t)},onceLightBorderColorChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event lightBorderColorChange because owner is destroyed!");var l=function(e){null!=t&&(i.offLightBorderColorChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindLightBorderColorChange&&(this.__cbOnceOwnerUnbindLightBorderColorChange=[]),this.__cbOnceOwnerUnbindLightBorderColorChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindLightBorderColorChange&&(this.__cbOnceOwnerUnbindLightBorderColorChange=[]),this.__cbOnceOwnerUnbindLightBorderColorChange.push(null);null==this.__cbOnceLightBorderColorChange&&(this.__cbOnceLightBorderColorChange=[]),this.__cbOnceLightBorderColorChange.push(t)},offLightBorderColorChange:function(e){if(null!=e){var n;null!=this.__cbOnLightBorderColorChange&&-1!=(n=this.__cbOnLightBorderColorChange.indexOf(e))&&(this.__cbOnLightBorderColorChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindLightBorderColorChange[n])&&s(),this.__cbOnOwnerUnbindLightBorderColorChange.splice(n,1)),null!=this.__cbOnceLightBorderColorChange&&-1!=(n=this.__cbOnceLightBorderColorChange.indexOf(e))&&(this.__cbOnceLightBorderColorChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindLightBorderColorChange[n])&&s(),this.__cbOnceOwnerUnbindLightBorderColorChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindLightBorderColorChange){for(var t=0,i=this.__cbOnOwnerUnbindLightBorderColorChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindLightBorderColorChange[l])&&s()}this.__cbOnOwnerUnbindLightBorderColorChange=null}if(null!=this.__cbOnceOwnerUnbindLightBorderColorChange){for(t=0,i=this.__cbOnceOwnerUnbindLightBorderColorChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindLightBorderColorChange[l])&&s()}this.__cbOnceOwnerUnbindLightBorderColorChange=null}this.__cbOnLightBorderColorChange=null,this.__cbOnceLightBorderColorChange=null}},listensLightBorderColorChange:function(){return null!=this.__cbOnLightBorderColorChange&&0<this.__cbOnLightBorderColorChange.length||null!=this.__cbOnceLightBorderColorChange&&0<this.__cbOnceLightBorderColorChange.length},mediumBorderColorAutoruns:null,get_mediumBorderColor:function(){var e,n,t=this.unobservedMediumBorderColor;return null!=A.current&&(e=A.current,null!=(n=this.mediumBorderColorAutoruns)||(n=A.getAutorunArray(),null!=(this.mediumBorderColorAutoruns=n)))&&e.bindToAutorunArray(n),t},set_mediumBorderColor:function(e){var n=this.unobservedMediumBorderColor;return n!=(this.unobservedMediumBorderColor=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!0)),this.emitMediumBorderColorChange(e,n),null!=(n=this.mediumBorderColorAutoruns))&&(this.mediumBorderColorAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateMediumBorderColor:function(){var e=this.unobservedMediumBorderColor,e=(this.emitMediumBorderColorChange(e,e),this.mediumBorderColorAutoruns);null!=e&&(this.mediumBorderColorAutoruns=null,A.invalidateAutorunArray(e))},unobservedMediumBorderColor:null,__cbOnMediumBorderColorChange:null,__cbOnceMediumBorderColorChange:null,__cbOnOwnerUnbindMediumBorderColorChange:null,__cbOnceOwnerUnbindMediumBorderColorChange:null,emitMediumBorderColorChange:function(e,n){var t=0;if(null!=this.__cbOnMediumBorderColorChange&&(t+=this.__cbOnMediumBorderColorChange.length),null!=this.__cbOnceMediumBorderColorChange&&(t+=this.__cbOnceMediumBorderColorChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnMediumBorderColorChange)for(var r=0,h=this.__cbOnMediumBorderColorChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnMediumBorderColorChange[a],++s):--t}if(null!=this.__cbOnceMediumBorderColorChange){for(var o=null,c=null,r=0,h=this.__cbOnceMediumBorderColorChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceMediumBorderColorChange[a],this.__cbOnceMediumBorderColorChange[a]=null,u=this.__cbOnceOwnerUnbindMediumBorderColorChange[a],(this.__cbOnceOwnerUnbindMediumBorderColorChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindMediumBorderColorChange[a]),c.push(this.__cbOnceMediumBorderColorChange[a]))}this.__cbOnceOwnerUnbindMediumBorderColorChange=o,this.__cbOnceMediumBorderColorChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onMediumBorderColorChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event mediumBorderColorChange because owner is destroyed!");var l=function(e){null!=t&&(i.offMediumBorderColorChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindMediumBorderColorChange&&(this.__cbOnOwnerUnbindMediumBorderColorChange=[]),this.__cbOnOwnerUnbindMediumBorderColorChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindMediumBorderColorChange&&(this.__cbOnOwnerUnbindMediumBorderColorChange=[]),this.__cbOnOwnerUnbindMediumBorderColorChange.push(null);null==this.__cbOnMediumBorderColorChange&&(this.__cbOnMediumBorderColorChange=[]),this.__cbOnMediumBorderColorChange.push(t)},onceMediumBorderColorChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event mediumBorderColorChange because owner is destroyed!");var l=function(e){null!=t&&(i.offMediumBorderColorChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindMediumBorderColorChange&&(this.__cbOnceOwnerUnbindMediumBorderColorChange=[]),this.__cbOnceOwnerUnbindMediumBorderColorChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindMediumBorderColorChange&&(this.__cbOnceOwnerUnbindMediumBorderColorChange=[]),this.__cbOnceOwnerUnbindMediumBorderColorChange.push(null);null==this.__cbOnceMediumBorderColorChange&&(this.__cbOnceMediumBorderColorChange=[]),this.__cbOnceMediumBorderColorChange.push(t)},offMediumBorderColorChange:function(e){if(null!=e){var n;null!=this.__cbOnMediumBorderColorChange&&-1!=(n=this.__cbOnMediumBorderColorChange.indexOf(e))&&(this.__cbOnMediumBorderColorChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindMediumBorderColorChange[n])&&s(),this.__cbOnOwnerUnbindMediumBorderColorChange.splice(n,1)),null!=this.__cbOnceMediumBorderColorChange&&-1!=(n=this.__cbOnceMediumBorderColorChange.indexOf(e))&&(this.__cbOnceMediumBorderColorChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindMediumBorderColorChange[n])&&s(),this.__cbOnceOwnerUnbindMediumBorderColorChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindMediumBorderColorChange){for(var t=0,i=this.__cbOnOwnerUnbindMediumBorderColorChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindMediumBorderColorChange[l])&&s()}this.__cbOnOwnerUnbindMediumBorderColorChange=null}if(null!=this.__cbOnceOwnerUnbindMediumBorderColorChange){for(t=0,i=this.__cbOnceOwnerUnbindMediumBorderColorChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindMediumBorderColorChange[l])&&s()}this.__cbOnceOwnerUnbindMediumBorderColorChange=null}this.__cbOnMediumBorderColorChange=null,this.__cbOnceMediumBorderColorChange=null}},listensMediumBorderColorChange:function(){return null!=this.__cbOnMediumBorderColorChange&&0<this.__cbOnMediumBorderColorChange.length||null!=this.__cbOnceMediumBorderColorChange&&0<this.__cbOnceMediumBorderColorChange.length},darkBorderColorAutoruns:null,get_darkBorderColor:function(){var e,n,t=this.unobservedDarkBorderColor;return null!=A.current&&(e=A.current,null!=(n=this.darkBorderColorAutoruns)||(n=A.getAutorunArray(),null!=(this.darkBorderColorAutoruns=n)))&&e.bindToAutorunArray(n),t},set_darkBorderColor:function(e){var n=this.unobservedDarkBorderColor;return n!=(this.unobservedDarkBorderColor=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!0)),this.emitDarkBorderColorChange(e,n),null!=(n=this.darkBorderColorAutoruns))&&(this.darkBorderColorAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateDarkBorderColor:function(){var e=this.unobservedDarkBorderColor,e=(this.emitDarkBorderColorChange(e,e),this.darkBorderColorAutoruns);null!=e&&(this.darkBorderColorAutoruns=null,A.invalidateAutorunArray(e))},unobservedDarkBorderColor:null,__cbOnDarkBorderColorChange:null,__cbOnceDarkBorderColorChange:null,__cbOnOwnerUnbindDarkBorderColorChange:null,__cbOnceOwnerUnbindDarkBorderColorChange:null,emitDarkBorderColorChange:function(e,n){var t=0;if(null!=this.__cbOnDarkBorderColorChange&&(t+=this.__cbOnDarkBorderColorChange.length),null!=this.__cbOnceDarkBorderColorChange&&(t+=this.__cbOnceDarkBorderColorChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnDarkBorderColorChange)for(var r=0,h=this.__cbOnDarkBorderColorChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnDarkBorderColorChange[a],++s):--t}if(null!=this.__cbOnceDarkBorderColorChange){for(var o=null,c=null,r=0,h=this.__cbOnceDarkBorderColorChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceDarkBorderColorChange[a],this.__cbOnceDarkBorderColorChange[a]=null,u=this.__cbOnceOwnerUnbindDarkBorderColorChange[a],(this.__cbOnceOwnerUnbindDarkBorderColorChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindDarkBorderColorChange[a]),c.push(this.__cbOnceDarkBorderColorChange[a]))}this.__cbOnceOwnerUnbindDarkBorderColorChange=o,this.__cbOnceDarkBorderColorChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onDarkBorderColorChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event darkBorderColorChange because owner is destroyed!");var l=function(e){null!=t&&(i.offDarkBorderColorChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindDarkBorderColorChange&&(this.__cbOnOwnerUnbindDarkBorderColorChange=[]),this.__cbOnOwnerUnbindDarkBorderColorChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindDarkBorderColorChange&&(this.__cbOnOwnerUnbindDarkBorderColorChange=[]),this.__cbOnOwnerUnbindDarkBorderColorChange.push(null);null==this.__cbOnDarkBorderColorChange&&(this.__cbOnDarkBorderColorChange=[]),this.__cbOnDarkBorderColorChange.push(t)},onceDarkBorderColorChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event darkBorderColorChange because owner is destroyed!");var l=function(e){null!=t&&(i.offDarkBorderColorChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindDarkBorderColorChange&&(this.__cbOnceOwnerUnbindDarkBorderColorChange=[]),this.__cbOnceOwnerUnbindDarkBorderColorChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindDarkBorderColorChange&&(this.__cbOnceOwnerUnbindDarkBorderColorChange=[]),this.__cbOnceOwnerUnbindDarkBorderColorChange.push(null);null==this.__cbOnceDarkBorderColorChange&&(this.__cbOnceDarkBorderColorChange=[]),this.__cbOnceDarkBorderColorChange.push(t)},offDarkBorderColorChange:function(e){if(null!=e){var n;null!=this.__cbOnDarkBorderColorChange&&-1!=(n=this.__cbOnDarkBorderColorChange.indexOf(e))&&(this.__cbOnDarkBorderColorChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindDarkBorderColorChange[n])&&s(),this.__cbOnOwnerUnbindDarkBorderColorChange.splice(n,1)),null!=this.__cbOnceDarkBorderColorChange&&-1!=(n=this.__cbOnceDarkBorderColorChange.indexOf(e))&&(this.__cbOnceDarkBorderColorChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindDarkBorderColorChange[n])&&s(),this.__cbOnceOwnerUnbindDarkBorderColorChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindDarkBorderColorChange){for(var t=0,i=this.__cbOnOwnerUnbindDarkBorderColorChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindDarkBorderColorChange[l])&&s()}this.__cbOnOwnerUnbindDarkBorderColorChange=null}if(null!=this.__cbOnceOwnerUnbindDarkBorderColorChange){for(t=0,i=this.__cbOnceOwnerUnbindDarkBorderColorChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindDarkBorderColorChange[l])&&s()}this.__cbOnceOwnerUnbindDarkBorderColorChange=null}this.__cbOnDarkBorderColorChange=null,this.__cbOnceDarkBorderColorChange=null}},listensDarkBorderColorChange:function(){return null!=this.__cbOnDarkBorderColorChange&&0<this.__cbOnDarkBorderColorChange.length||null!=this.__cbOnceDarkBorderColorChange&&0<this.__cbOnceDarkBorderColorChange.length},lightBackgroundColorAutoruns:null,get_lightBackgroundColor:function(){var e,n,t=this.unobservedLightBackgroundColor;return null!=A.current&&(e=A.current,null!=(n=this.lightBackgroundColorAutoruns)||(n=A.getAutorunArray(),null!=(this.lightBackgroundColorAutoruns=n)))&&e.bindToAutorunArray(n),t},set_lightBackgroundColor:function(e){var n=this.unobservedLightBackgroundColor;return n!=(this.unobservedLightBackgroundColor=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!0)),this.emitLightBackgroundColorChange(e,n),null!=(n=this.lightBackgroundColorAutoruns))&&(this.lightBackgroundColorAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateLightBackgroundColor:function(){var e=this.unobservedLightBackgroundColor,e=(this.emitLightBackgroundColorChange(e,e),this.lightBackgroundColorAutoruns);null!=e&&(this.lightBackgroundColorAutoruns=null,A.invalidateAutorunArray(e))},unobservedLightBackgroundColor:null,__cbOnLightBackgroundColorChange:null,__cbOnceLightBackgroundColorChange:null,__cbOnOwnerUnbindLightBackgroundColorChange:null,__cbOnceOwnerUnbindLightBackgroundColorChange:null,emitLightBackgroundColorChange:function(e,n){var t=0;if(null!=this.__cbOnLightBackgroundColorChange&&(t+=this.__cbOnLightBackgroundColorChange.length),null!=this.__cbOnceLightBackgroundColorChange&&(t+=this.__cbOnceLightBackgroundColorChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnLightBackgroundColorChange)for(var r=0,h=this.__cbOnLightBackgroundColorChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnLightBackgroundColorChange[a],++s):--t}if(null!=this.__cbOnceLightBackgroundColorChange){for(var o=null,c=null,r=0,h=this.__cbOnceLightBackgroundColorChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceLightBackgroundColorChange[a],this.__cbOnceLightBackgroundColorChange[a]=null,u=this.__cbOnceOwnerUnbindLightBackgroundColorChange[a],(this.__cbOnceOwnerUnbindLightBackgroundColorChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindLightBackgroundColorChange[a]),c.push(this.__cbOnceLightBackgroundColorChange[a]))}this.__cbOnceOwnerUnbindLightBackgroundColorChange=o,this.__cbOnceLightBackgroundColorChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onLightBackgroundColorChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event lightBackgroundColorChange because owner is destroyed!");var l=function(e){null!=t&&(i.offLightBackgroundColorChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindLightBackgroundColorChange&&(this.__cbOnOwnerUnbindLightBackgroundColorChange=[]),this.__cbOnOwnerUnbindLightBackgroundColorChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindLightBackgroundColorChange&&(this.__cbOnOwnerUnbindLightBackgroundColorChange=[]),this.__cbOnOwnerUnbindLightBackgroundColorChange.push(null);null==this.__cbOnLightBackgroundColorChange&&(this.__cbOnLightBackgroundColorChange=[]),this.__cbOnLightBackgroundColorChange.push(t)},onceLightBackgroundColorChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event lightBackgroundColorChange because owner is destroyed!");var l=function(e){null!=t&&(i.offLightBackgroundColorChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindLightBackgroundColorChange&&(this.__cbOnceOwnerUnbindLightBackgroundColorChange=[]),this.__cbOnceOwnerUnbindLightBackgroundColorChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindLightBackgroundColorChange&&(this.__cbOnceOwnerUnbindLightBackgroundColorChange=[]),this.__cbOnceOwnerUnbindLightBackgroundColorChange.push(null);null==this.__cbOnceLightBackgroundColorChange&&(this.__cbOnceLightBackgroundColorChange=[]),this.__cbOnceLightBackgroundColorChange.push(t)},offLightBackgroundColorChange:function(e){if(null!=e){var n;null!=this.__cbOnLightBackgroundColorChange&&-1!=(n=this.__cbOnLightBackgroundColorChange.indexOf(e))&&(this.__cbOnLightBackgroundColorChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindLightBackgroundColorChange[n])&&s(),this.__cbOnOwnerUnbindLightBackgroundColorChange.splice(n,1)),null!=this.__cbOnceLightBackgroundColorChange&&-1!=(n=this.__cbOnceLightBackgroundColorChange.indexOf(e))&&(this.__cbOnceLightBackgroundColorChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindLightBackgroundColorChange[n])&&s(),this.__cbOnceOwnerUnbindLightBackgroundColorChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindLightBackgroundColorChange){for(var t=0,i=this.__cbOnOwnerUnbindLightBackgroundColorChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindLightBackgroundColorChange[l])&&s()}this.__cbOnOwnerUnbindLightBackgroundColorChange=null}if(null!=this.__cbOnceOwnerUnbindLightBackgroundColorChange){for(t=0,i=this.__cbOnceOwnerUnbindLightBackgroundColorChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindLightBackgroundColorChange[l])&&s()}this.__cbOnceOwnerUnbindLightBackgroundColorChange=null}this.__cbOnLightBackgroundColorChange=null,this.__cbOnceLightBackgroundColorChange=null}},listensLightBackgroundColorChange:function(){return null!=this.__cbOnLightBackgroundColorChange&&0<this.__cbOnLightBackgroundColorChange.length||null!=this.__cbOnceLightBackgroundColorChange&&0<this.__cbOnceLightBackgroundColorChange.length},mediumBackgroundColorAutoruns:null,get_mediumBackgroundColor:function(){var e,n,t=this.unobservedMediumBackgroundColor;return null!=A.current&&(e=A.current,null!=(n=this.mediumBackgroundColorAutoruns)||(n=A.getAutorunArray(),null!=(this.mediumBackgroundColorAutoruns=n)))&&e.bindToAutorunArray(n),t},set_mediumBackgroundColor:function(e){var n=this.unobservedMediumBackgroundColor;return n!=(this.unobservedMediumBackgroundColor=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!0)),this.emitMediumBackgroundColorChange(e,n),null!=(n=this.mediumBackgroundColorAutoruns))&&(this.mediumBackgroundColorAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateMediumBackgroundColor:function(){var e=this.unobservedMediumBackgroundColor,e=(this.emitMediumBackgroundColorChange(e,e),this.mediumBackgroundColorAutoruns);null!=e&&(this.mediumBackgroundColorAutoruns=null,A.invalidateAutorunArray(e))},unobservedMediumBackgroundColor:null,__cbOnMediumBackgroundColorChange:null,__cbOnceMediumBackgroundColorChange:null,__cbOnOwnerUnbindMediumBackgroundColorChange:null,__cbOnceOwnerUnbindMediumBackgroundColorChange:null,emitMediumBackgroundColorChange:function(e,n){var t=0;if(null!=this.__cbOnMediumBackgroundColorChange&&(t+=this.__cbOnMediumBackgroundColorChange.length),null!=this.__cbOnceMediumBackgroundColorChange&&(t+=this.__cbOnceMediumBackgroundColorChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnMediumBackgroundColorChange)for(var r=0,h=this.__cbOnMediumBackgroundColorChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnMediumBackgroundColorChange[a],++s):--t}if(null!=this.__cbOnceMediumBackgroundColorChange){for(var o=null,c=null,r=0,h=this.__cbOnceMediumBackgroundColorChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceMediumBackgroundColorChange[a],this.__cbOnceMediumBackgroundColorChange[a]=null,u=this.__cbOnceOwnerUnbindMediumBackgroundColorChange[a],(this.__cbOnceOwnerUnbindMediumBackgroundColorChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindMediumBackgroundColorChange[a]),c.push(this.__cbOnceMediumBackgroundColorChange[a]))}this.__cbOnceOwnerUnbindMediumBackgroundColorChange=o,this.__cbOnceMediumBackgroundColorChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onMediumBackgroundColorChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event mediumBackgroundColorChange because owner is destroyed!");var l=function(e){null!=t&&(i.offMediumBackgroundColorChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindMediumBackgroundColorChange&&(this.__cbOnOwnerUnbindMediumBackgroundColorChange=[]),this.__cbOnOwnerUnbindMediumBackgroundColorChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindMediumBackgroundColorChange&&(this.__cbOnOwnerUnbindMediumBackgroundColorChange=[]),this.__cbOnOwnerUnbindMediumBackgroundColorChange.push(null);null==this.__cbOnMediumBackgroundColorChange&&(this.__cbOnMediumBackgroundColorChange=[]),this.__cbOnMediumBackgroundColorChange.push(t)},onceMediumBackgroundColorChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event mediumBackgroundColorChange because owner is destroyed!");var l=function(e){null!=t&&(i.offMediumBackgroundColorChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindMediumBackgroundColorChange&&(this.__cbOnceOwnerUnbindMediumBackgroundColorChange=[]),this.__cbOnceOwnerUnbindMediumBackgroundColorChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindMediumBackgroundColorChange&&(this.__cbOnceOwnerUnbindMediumBackgroundColorChange=[]),this.__cbOnceOwnerUnbindMediumBackgroundColorChange.push(null);null==this.__cbOnceMediumBackgroundColorChange&&(this.__cbOnceMediumBackgroundColorChange=[]),this.__cbOnceMediumBackgroundColorChange.push(t)},offMediumBackgroundColorChange:function(e){if(null!=e){var n;null!=this.__cbOnMediumBackgroundColorChange&&-1!=(n=this.__cbOnMediumBackgroundColorChange.indexOf(e))&&(this.__cbOnMediumBackgroundColorChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindMediumBackgroundColorChange[n])&&s(),this.__cbOnOwnerUnbindMediumBackgroundColorChange.splice(n,1)),null!=this.__cbOnceMediumBackgroundColorChange&&-1!=(n=this.__cbOnceMediumBackgroundColorChange.indexOf(e))&&(this.__cbOnceMediumBackgroundColorChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindMediumBackgroundColorChange[n])&&s(),this.__cbOnceOwnerUnbindMediumBackgroundColorChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindMediumBackgroundColorChange){for(var t=0,i=this.__cbOnOwnerUnbindMediumBackgroundColorChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindMediumBackgroundColorChange[l])&&s()}this.__cbOnOwnerUnbindMediumBackgroundColorChange=null}if(null!=this.__cbOnceOwnerUnbindMediumBackgroundColorChange){for(t=0,i=this.__cbOnceOwnerUnbindMediumBackgroundColorChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindMediumBackgroundColorChange[l])&&s()}this.__cbOnceOwnerUnbindMediumBackgroundColorChange=null}this.__cbOnMediumBackgroundColorChange=null,this.__cbOnceMediumBackgroundColorChange=null}},listensMediumBackgroundColorChange:function(){return null!=this.__cbOnMediumBackgroundColorChange&&0<this.__cbOnMediumBackgroundColorChange.length||null!=this.__cbOnceMediumBackgroundColorChange&&0<this.__cbOnceMediumBackgroundColorChange.length},darkBackgroundColorAutoruns:null,get_darkBackgroundColor:function(){var e,n,t=this.unobservedDarkBackgroundColor;return null!=A.current&&(e=A.current,null!=(n=this.darkBackgroundColorAutoruns)||(n=A.getAutorunArray(),null!=(this.darkBackgroundColorAutoruns=n)))&&e.bindToAutorunArray(n),t},set_darkBackgroundColor:function(e){var n=this.unobservedDarkBackgroundColor;return n!=(this.unobservedDarkBackgroundColor=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!0)),this.emitDarkBackgroundColorChange(e,n),null!=(n=this.darkBackgroundColorAutoruns))&&(this.darkBackgroundColorAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateDarkBackgroundColor:function(){var e=this.unobservedDarkBackgroundColor,e=(this.emitDarkBackgroundColorChange(e,e),this.darkBackgroundColorAutoruns);null!=e&&(this.darkBackgroundColorAutoruns=null,A.invalidateAutorunArray(e))},unobservedDarkBackgroundColor:null,__cbOnDarkBackgroundColorChange:null,__cbOnceDarkBackgroundColorChange:null,__cbOnOwnerUnbindDarkBackgroundColorChange:null,__cbOnceOwnerUnbindDarkBackgroundColorChange:null,emitDarkBackgroundColorChange:function(e,n){var t=0;if(null!=this.__cbOnDarkBackgroundColorChange&&(t+=this.__cbOnDarkBackgroundColorChange.length),null!=this.__cbOnceDarkBackgroundColorChange&&(t+=this.__cbOnceDarkBackgroundColorChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnDarkBackgroundColorChange)for(var r=0,h=this.__cbOnDarkBackgroundColorChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnDarkBackgroundColorChange[a],++s):--t}if(null!=this.__cbOnceDarkBackgroundColorChange){for(var o=null,c=null,r=0,h=this.__cbOnceDarkBackgroundColorChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceDarkBackgroundColorChange[a],this.__cbOnceDarkBackgroundColorChange[a]=null,u=this.__cbOnceOwnerUnbindDarkBackgroundColorChange[a],(this.__cbOnceOwnerUnbindDarkBackgroundColorChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindDarkBackgroundColorChange[a]),c.push(this.__cbOnceDarkBackgroundColorChange[a]))}this.__cbOnceOwnerUnbindDarkBackgroundColorChange=o,this.__cbOnceDarkBackgroundColorChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onDarkBackgroundColorChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event darkBackgroundColorChange because owner is destroyed!");var l=function(e){null!=t&&(i.offDarkBackgroundColorChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindDarkBackgroundColorChange&&(this.__cbOnOwnerUnbindDarkBackgroundColorChange=[]),this.__cbOnOwnerUnbindDarkBackgroundColorChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindDarkBackgroundColorChange&&(this.__cbOnOwnerUnbindDarkBackgroundColorChange=[]),this.__cbOnOwnerUnbindDarkBackgroundColorChange.push(null);null==this.__cbOnDarkBackgroundColorChange&&(this.__cbOnDarkBackgroundColorChange=[]),this.__cbOnDarkBackgroundColorChange.push(t)},onceDarkBackgroundColorChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event darkBackgroundColorChange because owner is destroyed!");var l=function(e){null!=t&&(i.offDarkBackgroundColorChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindDarkBackgroundColorChange&&(this.__cbOnceOwnerUnbindDarkBackgroundColorChange=[]),this.__cbOnceOwnerUnbindDarkBackgroundColorChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindDarkBackgroundColorChange&&(this.__cbOnceOwnerUnbindDarkBackgroundColorChange=[]),this.__cbOnceOwnerUnbindDarkBackgroundColorChange.push(null);null==this.__cbOnceDarkBackgroundColorChange&&(this.__cbOnceDarkBackgroundColorChange=[]),this.__cbOnceDarkBackgroundColorChange.push(t)},offDarkBackgroundColorChange:function(e){if(null!=e){var n;null!=this.__cbOnDarkBackgroundColorChange&&-1!=(n=this.__cbOnDarkBackgroundColorChange.indexOf(e))&&(this.__cbOnDarkBackgroundColorChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindDarkBackgroundColorChange[n])&&s(),this.__cbOnOwnerUnbindDarkBackgroundColorChange.splice(n,1)),null!=this.__cbOnceDarkBackgroundColorChange&&-1!=(n=this.__cbOnceDarkBackgroundColorChange.indexOf(e))&&(this.__cbOnceDarkBackgroundColorChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindDarkBackgroundColorChange[n])&&s(),this.__cbOnceOwnerUnbindDarkBackgroundColorChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindDarkBackgroundColorChange){for(var t=0,i=this.__cbOnOwnerUnbindDarkBackgroundColorChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindDarkBackgroundColorChange[l])&&s()}this.__cbOnOwnerUnbindDarkBackgroundColorChange=null}if(null!=this.__cbOnceOwnerUnbindDarkBackgroundColorChange){for(t=0,i=this.__cbOnceOwnerUnbindDarkBackgroundColorChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindDarkBackgroundColorChange[l])&&s()}this.__cbOnceOwnerUnbindDarkBackgroundColorChange=null}this.__cbOnDarkBackgroundColorChange=null,this.__cbOnceDarkBackgroundColorChange=null}},listensDarkBackgroundColorChange:function(){return null!=this.__cbOnDarkBackgroundColorChange&&0<this.__cbOnDarkBackgroundColorChange.length||null!=this.__cbOnceDarkBackgroundColorChange&&0<this.__cbOnceDarkBackgroundColorChange.length},darkerBackgroundColorAutoruns:null,get_darkerBackgroundColor:function(){var e,n,t=this.unobservedDarkerBackgroundColor;return null!=A.current&&(e=A.current,null!=(n=this.darkerBackgroundColorAutoruns)||(n=A.getAutorunArray(),null!=(this.darkerBackgroundColorAutoruns=n)))&&e.bindToAutorunArray(n),t},set_darkerBackgroundColor:function(e){var n=this.unobservedDarkerBackgroundColor;return n!=(this.unobservedDarkerBackgroundColor=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!0)),this.emitDarkerBackgroundColorChange(e,n),null!=(n=this.darkerBackgroundColorAutoruns))&&(this.darkerBackgroundColorAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateDarkerBackgroundColor:function(){var e=this.unobservedDarkerBackgroundColor,e=(this.emitDarkerBackgroundColorChange(e,e),this.darkerBackgroundColorAutoruns);null!=e&&(this.darkerBackgroundColorAutoruns=null,A.invalidateAutorunArray(e))},unobservedDarkerBackgroundColor:null,__cbOnDarkerBackgroundColorChange:null,__cbOnceDarkerBackgroundColorChange:null,__cbOnOwnerUnbindDarkerBackgroundColorChange:null,__cbOnceOwnerUnbindDarkerBackgroundColorChange:null,emitDarkerBackgroundColorChange:function(e,n){var t=0;if(null!=this.__cbOnDarkerBackgroundColorChange&&(t+=this.__cbOnDarkerBackgroundColorChange.length),null!=this.__cbOnceDarkerBackgroundColorChange&&(t+=this.__cbOnceDarkerBackgroundColorChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnDarkerBackgroundColorChange)for(var r=0,h=this.__cbOnDarkerBackgroundColorChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnDarkerBackgroundColorChange[a],++s):--t}if(null!=this.__cbOnceDarkerBackgroundColorChange){for(var o=null,c=null,r=0,h=this.__cbOnceDarkerBackgroundColorChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceDarkerBackgroundColorChange[a],this.__cbOnceDarkerBackgroundColorChange[a]=null,u=this.__cbOnceOwnerUnbindDarkerBackgroundColorChange[a],(this.__cbOnceOwnerUnbindDarkerBackgroundColorChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindDarkerBackgroundColorChange[a]),c.push(this.__cbOnceDarkerBackgroundColorChange[a]))}this.__cbOnceOwnerUnbindDarkerBackgroundColorChange=o,this.__cbOnceDarkerBackgroundColorChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onDarkerBackgroundColorChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event darkerBackgroundColorChange because owner is destroyed!");var l=function(e){null!=t&&(i.offDarkerBackgroundColorChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindDarkerBackgroundColorChange&&(this.__cbOnOwnerUnbindDarkerBackgroundColorChange=[]),this.__cbOnOwnerUnbindDarkerBackgroundColorChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindDarkerBackgroundColorChange&&(this.__cbOnOwnerUnbindDarkerBackgroundColorChange=[]),this.__cbOnOwnerUnbindDarkerBackgroundColorChange.push(null);null==this.__cbOnDarkerBackgroundColorChange&&(this.__cbOnDarkerBackgroundColorChange=[]),this.__cbOnDarkerBackgroundColorChange.push(t)},onceDarkerBackgroundColorChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event darkerBackgroundColorChange because owner is destroyed!");var l=function(e){null!=t&&(i.offDarkerBackgroundColorChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindDarkerBackgroundColorChange&&(this.__cbOnceOwnerUnbindDarkerBackgroundColorChange=[]),this.__cbOnceOwnerUnbindDarkerBackgroundColorChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindDarkerBackgroundColorChange&&(this.__cbOnceOwnerUnbindDarkerBackgroundColorChange=[]),this.__cbOnceOwnerUnbindDarkerBackgroundColorChange.push(null);null==this.__cbOnceDarkerBackgroundColorChange&&(this.__cbOnceDarkerBackgroundColorChange=[]),this.__cbOnceDarkerBackgroundColorChange.push(t)},offDarkerBackgroundColorChange:function(e){if(null!=e){var n;null!=this.__cbOnDarkerBackgroundColorChange&&-1!=(n=this.__cbOnDarkerBackgroundColorChange.indexOf(e))&&(this.__cbOnDarkerBackgroundColorChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindDarkerBackgroundColorChange[n])&&s(),this.__cbOnOwnerUnbindDarkerBackgroundColorChange.splice(n,1)),null!=this.__cbOnceDarkerBackgroundColorChange&&-1!=(n=this.__cbOnceDarkerBackgroundColorChange.indexOf(e))&&(this.__cbOnceDarkerBackgroundColorChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindDarkerBackgroundColorChange[n])&&s(),this.__cbOnceOwnerUnbindDarkerBackgroundColorChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindDarkerBackgroundColorChange){for(var t=0,i=this.__cbOnOwnerUnbindDarkerBackgroundColorChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindDarkerBackgroundColorChange[l])&&s()}this.__cbOnOwnerUnbindDarkerBackgroundColorChange=null}if(null!=this.__cbOnceOwnerUnbindDarkerBackgroundColorChange){for(t=0,i=this.__cbOnceOwnerUnbindDarkerBackgroundColorChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindDarkerBackgroundColorChange[l])&&s()}this.__cbOnceOwnerUnbindDarkerBackgroundColorChange=null}this.__cbOnDarkerBackgroundColorChange=null,this.__cbOnceDarkerBackgroundColorChange=null}},listensDarkerBackgroundColorChange:function(){return null!=this.__cbOnDarkerBackgroundColorChange&&0<this.__cbOnDarkerBackgroundColorChange.length||null!=this.__cbOnceDarkerBackgroundColorChange&&0<this.__cbOnceDarkerBackgroundColorChange.length},selectionBorderColorAutoruns:null,get_selectionBorderColor:function(){var e,n,t=this.unobservedSelectionBorderColor;return null!=A.current&&(e=A.current,null!=(n=this.selectionBorderColorAutoruns)||(n=A.getAutorunArray(),null!=(this.selectionBorderColorAutoruns=n)))&&e.bindToAutorunArray(n),t},set_selectionBorderColor:function(e){var n=this.unobservedSelectionBorderColor;return n!=(this.unobservedSelectionBorderColor=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!0)),this.emitSelectionBorderColorChange(e,n),null!=(n=this.selectionBorderColorAutoruns))&&(this.selectionBorderColorAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateSelectionBorderColor:function(){var e=this.unobservedSelectionBorderColor,e=(this.emitSelectionBorderColorChange(e,e),this.selectionBorderColorAutoruns);null!=e&&(this.selectionBorderColorAutoruns=null,A.invalidateAutorunArray(e))},unobservedSelectionBorderColor:null,__cbOnSelectionBorderColorChange:null,__cbOnceSelectionBorderColorChange:null,__cbOnOwnerUnbindSelectionBorderColorChange:null,__cbOnceOwnerUnbindSelectionBorderColorChange:null,emitSelectionBorderColorChange:function(e,n){var t=0;if(null!=this.__cbOnSelectionBorderColorChange&&(t+=this.__cbOnSelectionBorderColorChange.length),null!=this.__cbOnceSelectionBorderColorChange&&(t+=this.__cbOnceSelectionBorderColorChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnSelectionBorderColorChange)for(var r=0,h=this.__cbOnSelectionBorderColorChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnSelectionBorderColorChange[a],++s):--t}if(null!=this.__cbOnceSelectionBorderColorChange){for(var o=null,c=null,r=0,h=this.__cbOnceSelectionBorderColorChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceSelectionBorderColorChange[a],this.__cbOnceSelectionBorderColorChange[a]=null,u=this.__cbOnceOwnerUnbindSelectionBorderColorChange[a],(this.__cbOnceOwnerUnbindSelectionBorderColorChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindSelectionBorderColorChange[a]),c.push(this.__cbOnceSelectionBorderColorChange[a]))}this.__cbOnceOwnerUnbindSelectionBorderColorChange=o,this.__cbOnceSelectionBorderColorChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onSelectionBorderColorChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event selectionBorderColorChange because owner is destroyed!");var l=function(e){null!=t&&(i.offSelectionBorderColorChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindSelectionBorderColorChange&&(this.__cbOnOwnerUnbindSelectionBorderColorChange=[]),this.__cbOnOwnerUnbindSelectionBorderColorChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindSelectionBorderColorChange&&(this.__cbOnOwnerUnbindSelectionBorderColorChange=[]),this.__cbOnOwnerUnbindSelectionBorderColorChange.push(null);null==this.__cbOnSelectionBorderColorChange&&(this.__cbOnSelectionBorderColorChange=[]),this.__cbOnSelectionBorderColorChange.push(t)},onceSelectionBorderColorChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event selectionBorderColorChange because owner is destroyed!");var l=function(e){null!=t&&(i.offSelectionBorderColorChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindSelectionBorderColorChange&&(this.__cbOnceOwnerUnbindSelectionBorderColorChange=[]),this.__cbOnceOwnerUnbindSelectionBorderColorChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindSelectionBorderColorChange&&(this.__cbOnceOwnerUnbindSelectionBorderColorChange=[]),this.__cbOnceOwnerUnbindSelectionBorderColorChange.push(null);null==this.__cbOnceSelectionBorderColorChange&&(this.__cbOnceSelectionBorderColorChange=[]),this.__cbOnceSelectionBorderColorChange.push(t)},offSelectionBorderColorChange:function(e){if(null!=e){var n;null!=this.__cbOnSelectionBorderColorChange&&-1!=(n=this.__cbOnSelectionBorderColorChange.indexOf(e))&&(this.__cbOnSelectionBorderColorChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindSelectionBorderColorChange[n])&&s(),this.__cbOnOwnerUnbindSelectionBorderColorChange.splice(n,1)),null!=this.__cbOnceSelectionBorderColorChange&&-1!=(n=this.__cbOnceSelectionBorderColorChange.indexOf(e))&&(this.__cbOnceSelectionBorderColorChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindSelectionBorderColorChange[n])&&s(),this.__cbOnceOwnerUnbindSelectionBorderColorChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindSelectionBorderColorChange){for(var t=0,i=this.__cbOnOwnerUnbindSelectionBorderColorChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindSelectionBorderColorChange[l])&&s()}this.__cbOnOwnerUnbindSelectionBorderColorChange=null}if(null!=this.__cbOnceOwnerUnbindSelectionBorderColorChange){for(t=0,i=this.__cbOnceOwnerUnbindSelectionBorderColorChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindSelectionBorderColorChange[l])&&s()}this.__cbOnceOwnerUnbindSelectionBorderColorChange=null}this.__cbOnSelectionBorderColorChange=null,this.__cbOnceSelectionBorderColorChange=null}},listensSelectionBorderColorChange:function(){return null!=this.__cbOnSelectionBorderColorChange&&0<this.__cbOnSelectionBorderColorChange.length||null!=this.__cbOnceSelectionBorderColorChange&&0<this.__cbOnceSelectionBorderColorChange.length},highlightColorAutoruns:null,get_highlightColor:function(){var e,n,t=this.unobservedHighlightColor;return null!=A.current&&(e=A.current,null!=(n=this.highlightColorAutoruns)||(n=A.getAutorunArray(),null!=(this.highlightColorAutoruns=n)))&&e.bindToAutorunArray(n),t},set_highlightColor:function(e){var n=this.unobservedHighlightColor;return n!=(this.unobservedHighlightColor=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!0)),this.emitHighlightColorChange(e,n),null!=(n=this.highlightColorAutoruns))&&(this.highlightColorAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateHighlightColor:function(){var e=this.unobservedHighlightColor,e=(this.emitHighlightColorChange(e,e),this.highlightColorAutoruns);null!=e&&(this.highlightColorAutoruns=null,A.invalidateAutorunArray(e))},unobservedHighlightColor:null,__cbOnHighlightColorChange:null,__cbOnceHighlightColorChange:null,__cbOnOwnerUnbindHighlightColorChange:null,__cbOnceOwnerUnbindHighlightColorChange:null,emitHighlightColorChange:function(e,n){var t=0;if(null!=this.__cbOnHighlightColorChange&&(t+=this.__cbOnHighlightColorChange.length),null!=this.__cbOnceHighlightColorChange&&(t+=this.__cbOnceHighlightColorChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnHighlightColorChange)for(var r=0,h=this.__cbOnHighlightColorChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnHighlightColorChange[a],++s):--t}if(null!=this.__cbOnceHighlightColorChange){for(var o=null,c=null,r=0,h=this.__cbOnceHighlightColorChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceHighlightColorChange[a],this.__cbOnceHighlightColorChange[a]=null,u=this.__cbOnceOwnerUnbindHighlightColorChange[a],(this.__cbOnceOwnerUnbindHighlightColorChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindHighlightColorChange[a]),c.push(this.__cbOnceHighlightColorChange[a]))}this.__cbOnceOwnerUnbindHighlightColorChange=o,this.__cbOnceHighlightColorChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onHighlightColorChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event highlightColorChange because owner is destroyed!");var l=function(e){null!=t&&(i.offHighlightColorChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindHighlightColorChange&&(this.__cbOnOwnerUnbindHighlightColorChange=[]),this.__cbOnOwnerUnbindHighlightColorChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindHighlightColorChange&&(this.__cbOnOwnerUnbindHighlightColorChange=[]),this.__cbOnOwnerUnbindHighlightColorChange.push(null);null==this.__cbOnHighlightColorChange&&(this.__cbOnHighlightColorChange=[]),this.__cbOnHighlightColorChange.push(t)},onceHighlightColorChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event highlightColorChange because owner is destroyed!");var l=function(e){null!=t&&(i.offHighlightColorChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindHighlightColorChange&&(this.__cbOnceOwnerUnbindHighlightColorChange=[]),this.__cbOnceOwnerUnbindHighlightColorChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindHighlightColorChange&&(this.__cbOnceOwnerUnbindHighlightColorChange=[]),this.__cbOnceOwnerUnbindHighlightColorChange.push(null);null==this.__cbOnceHighlightColorChange&&(this.__cbOnceHighlightColorChange=[]),this.__cbOnceHighlightColorChange.push(t)},offHighlightColorChange:function(e){if(null!=e){var n;null!=this.__cbOnHighlightColorChange&&-1!=(n=this.__cbOnHighlightColorChange.indexOf(e))&&(this.__cbOnHighlightColorChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindHighlightColorChange[n])&&s(),this.__cbOnOwnerUnbindHighlightColorChange.splice(n,1)),null!=this.__cbOnceHighlightColorChange&&-1!=(n=this.__cbOnceHighlightColorChange.indexOf(e))&&(this.__cbOnceHighlightColorChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindHighlightColorChange[n])&&s(),this.__cbOnceOwnerUnbindHighlightColorChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindHighlightColorChange){for(var t=0,i=this.__cbOnOwnerUnbindHighlightColorChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindHighlightColorChange[l])&&s()}this.__cbOnOwnerUnbindHighlightColorChange=null}if(null!=this.__cbOnceOwnerUnbindHighlightColorChange){for(t=0,i=this.__cbOnceOwnerUnbindHighlightColorChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindHighlightColorChange[l])&&s()}this.__cbOnceOwnerUnbindHighlightColorChange=null}this.__cbOnHighlightColorChange=null,this.__cbOnceHighlightColorChange=null}},listensHighlightColorChange:function(){return null!=this.__cbOnHighlightColorChange&&0<this.__cbOnHighlightColorChange.length||null!=this.__cbOnceHighlightColorChange&&0<this.__cbOnceHighlightColorChange.length},highlightPendingColorAutoruns:null,get_highlightPendingColor:function(){var e,n,t=this.unobservedHighlightPendingColor;return null!=A.current&&(e=A.current,null!=(n=this.highlightPendingColorAutoruns)||(n=A.getAutorunArray(),null!=(this.highlightPendingColorAutoruns=n)))&&e.bindToAutorunArray(n),t},set_highlightPendingColor:function(e){var n=this.unobservedHighlightPendingColor;return n!=(this.unobservedHighlightPendingColor=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!0)),this.emitHighlightPendingColorChange(e,n),null!=(n=this.highlightPendingColorAutoruns))&&(this.highlightPendingColorAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateHighlightPendingColor:function(){var e=this.unobservedHighlightPendingColor,e=(this.emitHighlightPendingColorChange(e,e),this.highlightPendingColorAutoruns);null!=e&&(this.highlightPendingColorAutoruns=null,A.invalidateAutorunArray(e))},unobservedHighlightPendingColor:null,__cbOnHighlightPendingColorChange:null,__cbOnceHighlightPendingColorChange:null,__cbOnOwnerUnbindHighlightPendingColorChange:null,__cbOnceOwnerUnbindHighlightPendingColorChange:null,emitHighlightPendingColorChange:function(e,n){var t=0;if(null!=this.__cbOnHighlightPendingColorChange&&(t+=this.__cbOnHighlightPendingColorChange.length),null!=this.__cbOnceHighlightPendingColorChange&&(t+=this.__cbOnceHighlightPendingColorChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnHighlightPendingColorChange)for(var r=0,h=this.__cbOnHighlightPendingColorChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnHighlightPendingColorChange[a],++s):--t}if(null!=this.__cbOnceHighlightPendingColorChange){for(var o=null,c=null,r=0,h=this.__cbOnceHighlightPendingColorChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceHighlightPendingColorChange[a],this.__cbOnceHighlightPendingColorChange[a]=null,u=this.__cbOnceOwnerUnbindHighlightPendingColorChange[a],(this.__cbOnceOwnerUnbindHighlightPendingColorChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindHighlightPendingColorChange[a]),c.push(this.__cbOnceHighlightPendingColorChange[a]))}this.__cbOnceOwnerUnbindHighlightPendingColorChange=o,this.__cbOnceHighlightPendingColorChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onHighlightPendingColorChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event highlightPendingColorChange because owner is destroyed!");var l=function(e){null!=t&&(i.offHighlightPendingColorChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindHighlightPendingColorChange&&(this.__cbOnOwnerUnbindHighlightPendingColorChange=[]),this.__cbOnOwnerUnbindHighlightPendingColorChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindHighlightPendingColorChange&&(this.__cbOnOwnerUnbindHighlightPendingColorChange=[]),this.__cbOnOwnerUnbindHighlightPendingColorChange.push(null);null==this.__cbOnHighlightPendingColorChange&&(this.__cbOnHighlightPendingColorChange=[]),this.__cbOnHighlightPendingColorChange.push(t)},onceHighlightPendingColorChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event highlightPendingColorChange because owner is destroyed!");var l=function(e){null!=t&&(i.offHighlightPendingColorChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindHighlightPendingColorChange&&(this.__cbOnceOwnerUnbindHighlightPendingColorChange=[]),this.__cbOnceOwnerUnbindHighlightPendingColorChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindHighlightPendingColorChange&&(this.__cbOnceOwnerUnbindHighlightPendingColorChange=[]),this.__cbOnceOwnerUnbindHighlightPendingColorChange.push(null);null==this.__cbOnceHighlightPendingColorChange&&(this.__cbOnceHighlightPendingColorChange=[]),this.__cbOnceHighlightPendingColorChange.push(t)},offHighlightPendingColorChange:function(e){if(null!=e){var n;null!=this.__cbOnHighlightPendingColorChange&&-1!=(n=this.__cbOnHighlightPendingColorChange.indexOf(e))&&(this.__cbOnHighlightPendingColorChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindHighlightPendingColorChange[n])&&s(),this.__cbOnOwnerUnbindHighlightPendingColorChange.splice(n,1)),null!=this.__cbOnceHighlightPendingColorChange&&-1!=(n=this.__cbOnceHighlightPendingColorChange.indexOf(e))&&(this.__cbOnceHighlightPendingColorChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindHighlightPendingColorChange[n])&&s(),this.__cbOnceOwnerUnbindHighlightPendingColorChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindHighlightPendingColorChange){for(var t=0,i=this.__cbOnOwnerUnbindHighlightPendingColorChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindHighlightPendingColorChange[l])&&s()}this.__cbOnOwnerUnbindHighlightPendingColorChange=null}if(null!=this.__cbOnceOwnerUnbindHighlightPendingColorChange){for(t=0,i=this.__cbOnceOwnerUnbindHighlightPendingColorChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindHighlightPendingColorChange[l])&&s()}this.__cbOnceOwnerUnbindHighlightPendingColorChange=null}this.__cbOnHighlightPendingColorChange=null,this.__cbOnceHighlightPendingColorChange=null}},listensHighlightPendingColorChange:function(){return null!=this.__cbOnHighlightPendingColorChange&&0<this.__cbOnHighlightPendingColorChange.length||null!=this.__cbOnceHighlightPendingColorChange&&0<this.__cbOnceHighlightPendingColorChange.length},formItemSpacingAutoruns:null,get_formItemSpacing:function(){var e,n,t=this.unobservedFormItemSpacing;return null!=A.current&&(e=A.current,null!=(n=this.formItemSpacingAutoruns)||(n=A.getAutorunArray(),null!=(this.formItemSpacingAutoruns=n)))&&e.bindToAutorunArray(n),t},set_formItemSpacing:function(e){var n=this.unobservedFormItemSpacing;return n!=(this.unobservedFormItemSpacing=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!0)),this.emitFormItemSpacingChange(e,n),null!=(n=this.formItemSpacingAutoruns))&&(this.formItemSpacingAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateFormItemSpacing:function(){var e=this.unobservedFormItemSpacing,e=(this.emitFormItemSpacingChange(e,e),this.formItemSpacingAutoruns);null!=e&&(this.formItemSpacingAutoruns=null,A.invalidateAutorunArray(e))},unobservedFormItemSpacing:null,__cbOnFormItemSpacingChange:null,__cbOnceFormItemSpacingChange:null,__cbOnOwnerUnbindFormItemSpacingChange:null,__cbOnceOwnerUnbindFormItemSpacingChange:null,emitFormItemSpacingChange:function(e,n){var t=0;if(null!=this.__cbOnFormItemSpacingChange&&(t+=this.__cbOnFormItemSpacingChange.length),null!=this.__cbOnceFormItemSpacingChange&&(t+=this.__cbOnceFormItemSpacingChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnFormItemSpacingChange)for(var r=0,h=this.__cbOnFormItemSpacingChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnFormItemSpacingChange[a],++s):--t}if(null!=this.__cbOnceFormItemSpacingChange){for(var o=null,c=null,r=0,h=this.__cbOnceFormItemSpacingChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceFormItemSpacingChange[a],this.__cbOnceFormItemSpacingChange[a]=null,u=this.__cbOnceOwnerUnbindFormItemSpacingChange[a],(this.__cbOnceOwnerUnbindFormItemSpacingChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindFormItemSpacingChange[a]),c.push(this.__cbOnceFormItemSpacingChange[a]))}this.__cbOnceOwnerUnbindFormItemSpacingChange=o,this.__cbOnceFormItemSpacingChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onFormItemSpacingChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event formItemSpacingChange because owner is destroyed!");var l=function(e){null!=t&&(i.offFormItemSpacingChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindFormItemSpacingChange&&(this.__cbOnOwnerUnbindFormItemSpacingChange=[]),this.__cbOnOwnerUnbindFormItemSpacingChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindFormItemSpacingChange&&(this.__cbOnOwnerUnbindFormItemSpacingChange=[]),this.__cbOnOwnerUnbindFormItemSpacingChange.push(null);null==this.__cbOnFormItemSpacingChange&&(this.__cbOnFormItemSpacingChange=[]),this.__cbOnFormItemSpacingChange.push(t)},onceFormItemSpacingChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event formItemSpacingChange because owner is destroyed!");var l=function(e){null!=t&&(i.offFormItemSpacingChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindFormItemSpacingChange&&(this.__cbOnceOwnerUnbindFormItemSpacingChange=[]),this.__cbOnceOwnerUnbindFormItemSpacingChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindFormItemSpacingChange&&(this.__cbOnceOwnerUnbindFormItemSpacingChange=[]),this.__cbOnceOwnerUnbindFormItemSpacingChange.push(null);null==this.__cbOnceFormItemSpacingChange&&(this.__cbOnceFormItemSpacingChange=[]),this.__cbOnceFormItemSpacingChange.push(t)},offFormItemSpacingChange:function(e){if(null!=e){var n;null!=this.__cbOnFormItemSpacingChange&&-1!=(n=this.__cbOnFormItemSpacingChange.indexOf(e))&&(this.__cbOnFormItemSpacingChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindFormItemSpacingChange[n])&&s(),this.__cbOnOwnerUnbindFormItemSpacingChange.splice(n,1)),null!=this.__cbOnceFormItemSpacingChange&&-1!=(n=this.__cbOnceFormItemSpacingChange.indexOf(e))&&(this.__cbOnceFormItemSpacingChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindFormItemSpacingChange[n])&&s(),this.__cbOnceOwnerUnbindFormItemSpacingChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindFormItemSpacingChange){for(var t=0,i=this.__cbOnOwnerUnbindFormItemSpacingChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindFormItemSpacingChange[l])&&s()}this.__cbOnOwnerUnbindFormItemSpacingChange=null}if(null!=this.__cbOnceOwnerUnbindFormItemSpacingChange){for(t=0,i=this.__cbOnceOwnerUnbindFormItemSpacingChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindFormItemSpacingChange[l])&&s()}this.__cbOnceOwnerUnbindFormItemSpacingChange=null}this.__cbOnFormItemSpacingChange=null,this.__cbOnceFormItemSpacingChange=null}},listensFormItemSpacingChange:function(){return null!=this.__cbOnFormItemSpacingChange&&0<this.__cbOnFormItemSpacingChange.length||null!=this.__cbOnceFormItemSpacingChange&&0<this.__cbOnceFormItemSpacingChange.length},formPaddingAutoruns:null,get_formPadding:function(){var e,n,t=this.unobservedFormPadding;return null!=A.current&&(e=A.current,null!=(n=this.formPaddingAutoruns)||(n=A.getAutorunArray(),null!=(this.formPaddingAutoruns=n)))&&e.bindToAutorunArray(n),t},set_formPadding:function(e){var n=this.unobservedFormPadding;return n!=(this.unobservedFormPadding=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!0)),this.emitFormPaddingChange(e,n),null!=(n=this.formPaddingAutoruns))&&(this.formPaddingAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateFormPadding:function(){var e=this.unobservedFormPadding,e=(this.emitFormPaddingChange(e,e),this.formPaddingAutoruns);null!=e&&(this.formPaddingAutoruns=null,A.invalidateAutorunArray(e))},unobservedFormPadding:null,__cbOnFormPaddingChange:null,__cbOnceFormPaddingChange:null,__cbOnOwnerUnbindFormPaddingChange:null,__cbOnceOwnerUnbindFormPaddingChange:null,emitFormPaddingChange:function(e,n){var t=0;if(null!=this.__cbOnFormPaddingChange&&(t+=this.__cbOnFormPaddingChange.length),null!=this.__cbOnceFormPaddingChange&&(t+=this.__cbOnceFormPaddingChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnFormPaddingChange)for(var r=0,h=this.__cbOnFormPaddingChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnFormPaddingChange[a],++s):--t}if(null!=this.__cbOnceFormPaddingChange){for(var o=null,c=null,r=0,h=this.__cbOnceFormPaddingChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceFormPaddingChange[a],this.__cbOnceFormPaddingChange[a]=null,u=this.__cbOnceOwnerUnbindFormPaddingChange[a],(this.__cbOnceOwnerUnbindFormPaddingChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindFormPaddingChange[a]),c.push(this.__cbOnceFormPaddingChange[a]))}this.__cbOnceOwnerUnbindFormPaddingChange=o,this.__cbOnceFormPaddingChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onFormPaddingChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event formPaddingChange because owner is destroyed!");var l=function(e){null!=t&&(i.offFormPaddingChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindFormPaddingChange&&(this.__cbOnOwnerUnbindFormPaddingChange=[]),this.__cbOnOwnerUnbindFormPaddingChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindFormPaddingChange&&(this.__cbOnOwnerUnbindFormPaddingChange=[]),this.__cbOnOwnerUnbindFormPaddingChange.push(null);null==this.__cbOnFormPaddingChange&&(this.__cbOnFormPaddingChange=[]),this.__cbOnFormPaddingChange.push(t)},onceFormPaddingChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event formPaddingChange because owner is destroyed!");var l=function(e){null!=t&&(i.offFormPaddingChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindFormPaddingChange&&(this.__cbOnceOwnerUnbindFormPaddingChange=[]),this.__cbOnceOwnerUnbindFormPaddingChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindFormPaddingChange&&(this.__cbOnceOwnerUnbindFormPaddingChange=[]),this.__cbOnceOwnerUnbindFormPaddingChange.push(null);null==this.__cbOnceFormPaddingChange&&(this.__cbOnceFormPaddingChange=[]),this.__cbOnceFormPaddingChange.push(t)},offFormPaddingChange:function(e){if(null!=e){var n;null!=this.__cbOnFormPaddingChange&&-1!=(n=this.__cbOnFormPaddingChange.indexOf(e))&&(this.__cbOnFormPaddingChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindFormPaddingChange[n])&&s(),this.__cbOnOwnerUnbindFormPaddingChange.splice(n,1)),null!=this.__cbOnceFormPaddingChange&&-1!=(n=this.__cbOnceFormPaddingChange.indexOf(e))&&(this.__cbOnceFormPaddingChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindFormPaddingChange[n])&&s(),this.__cbOnceOwnerUnbindFormPaddingChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindFormPaddingChange){for(var t=0,i=this.__cbOnOwnerUnbindFormPaddingChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindFormPaddingChange[l])&&s()}this.__cbOnOwnerUnbindFormPaddingChange=null}if(null!=this.__cbOnceOwnerUnbindFormPaddingChange){for(t=0,i=this.__cbOnceOwnerUnbindFormPaddingChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindFormPaddingChange[l])&&s()}this.__cbOnceOwnerUnbindFormPaddingChange=null}this.__cbOnFormPaddingChange=null,this.__cbOnceFormPaddingChange=null}},listensFormPaddingChange:function(){return null!=this.__cbOnFormPaddingChange&&0<this.__cbOnFormPaddingChange.length||null!=this.__cbOnceFormPaddingChange&&0<this.__cbOnceFormPaddingChange.length},tabsMarginYAutoruns:null,get_tabsMarginY:function(){var e,n,t=this.unobservedTabsMarginY;return null!=A.current&&(e=A.current,null!=(n=this.tabsMarginYAutoruns)||(n=A.getAutorunArray(),null!=(this.tabsMarginYAutoruns=n)))&&e.bindToAutorunArray(n),t},set_tabsMarginY:function(e){var n=this.unobservedTabsMarginY;return n!=(this.unobservedTabsMarginY=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!0)),this.emitTabsMarginYChange(e,n),null!=(n=this.tabsMarginYAutoruns))&&(this.tabsMarginYAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateTabsMarginY:function(){var e=this.unobservedTabsMarginY,e=(this.emitTabsMarginYChange(e,e),this.tabsMarginYAutoruns);null!=e&&(this.tabsMarginYAutoruns=null,A.invalidateAutorunArray(e))},unobservedTabsMarginY:null,__cbOnTabsMarginYChange:null,__cbOnceTabsMarginYChange:null,__cbOnOwnerUnbindTabsMarginYChange:null,__cbOnceOwnerUnbindTabsMarginYChange:null,emitTabsMarginYChange:function(e,n){var t=0;if(null!=this.__cbOnTabsMarginYChange&&(t+=this.__cbOnTabsMarginYChange.length),null!=this.__cbOnceTabsMarginYChange&&(t+=this.__cbOnceTabsMarginYChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnTabsMarginYChange)for(var r=0,h=this.__cbOnTabsMarginYChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnTabsMarginYChange[a],++s):--t}if(null!=this.__cbOnceTabsMarginYChange){for(var o=null,c=null,r=0,h=this.__cbOnceTabsMarginYChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceTabsMarginYChange[a],this.__cbOnceTabsMarginYChange[a]=null,u=this.__cbOnceOwnerUnbindTabsMarginYChange[a],(this.__cbOnceOwnerUnbindTabsMarginYChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindTabsMarginYChange[a]),c.push(this.__cbOnceTabsMarginYChange[a]))}this.__cbOnceOwnerUnbindTabsMarginYChange=o,this.__cbOnceTabsMarginYChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onTabsMarginYChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event tabsMarginYChange because owner is destroyed!");var l=function(e){null!=t&&(i.offTabsMarginYChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindTabsMarginYChange&&(this.__cbOnOwnerUnbindTabsMarginYChange=[]),this.__cbOnOwnerUnbindTabsMarginYChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindTabsMarginYChange&&(this.__cbOnOwnerUnbindTabsMarginYChange=[]),this.__cbOnOwnerUnbindTabsMarginYChange.push(null);null==this.__cbOnTabsMarginYChange&&(this.__cbOnTabsMarginYChange=[]),this.__cbOnTabsMarginYChange.push(t)},onceTabsMarginYChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event tabsMarginYChange because owner is destroyed!");var l=function(e){null!=t&&(i.offTabsMarginYChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindTabsMarginYChange&&(this.__cbOnceOwnerUnbindTabsMarginYChange=[]),this.__cbOnceOwnerUnbindTabsMarginYChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindTabsMarginYChange&&(this.__cbOnceOwnerUnbindTabsMarginYChange=[]),this.__cbOnceOwnerUnbindTabsMarginYChange.push(null);null==this.__cbOnceTabsMarginYChange&&(this.__cbOnceTabsMarginYChange=[]),this.__cbOnceTabsMarginYChange.push(t)},offTabsMarginYChange:function(e){if(null!=e){var n;null!=this.__cbOnTabsMarginYChange&&-1!=(n=this.__cbOnTabsMarginYChange.indexOf(e))&&(this.__cbOnTabsMarginYChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindTabsMarginYChange[n])&&s(),this.__cbOnOwnerUnbindTabsMarginYChange.splice(n,1)),null!=this.__cbOnceTabsMarginYChange&&-1!=(n=this.__cbOnceTabsMarginYChange.indexOf(e))&&(this.__cbOnceTabsMarginYChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindTabsMarginYChange[n])&&s(),this.__cbOnceOwnerUnbindTabsMarginYChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindTabsMarginYChange){for(var t=0,i=this.__cbOnOwnerUnbindTabsMarginYChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindTabsMarginYChange[l])&&s()}this.__cbOnOwnerUnbindTabsMarginYChange=null}if(null!=this.__cbOnceOwnerUnbindTabsMarginYChange){for(t=0,i=this.__cbOnceOwnerUnbindTabsMarginYChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindTabsMarginYChange[l])&&s()}this.__cbOnceOwnerUnbindTabsMarginYChange=null}this.__cbOnTabsMarginYChange=null,this.__cbOnceTabsMarginYChange=null}},listensTabsMarginYChange:function(){return null!=this.__cbOnTabsMarginYChange&&0<this.__cbOnTabsMarginYChange.length||null!=this.__cbOnceTabsMarginYChange&&0<this.__cbOnceTabsMarginYChange.length},focusedFieldSelectionColorAutoruns:null,get_focusedFieldSelectionColor:function(){var e,n,t=this.unobservedFocusedFieldSelectionColor;return null!=A.current&&(e=A.current,null!=(n=this.focusedFieldSelectionColorAutoruns)||(n=A.getAutorunArray(),null!=(this.focusedFieldSelectionColorAutoruns=n)))&&e.bindToAutorunArray(n),t},set_focusedFieldSelectionColor:function(e){var n=this.unobservedFocusedFieldSelectionColor;return n!=(this.unobservedFocusedFieldSelectionColor=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!0)),this.emitFocusedFieldSelectionColorChange(e,n),null!=(n=this.focusedFieldSelectionColorAutoruns))&&(this.focusedFieldSelectionColorAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateFocusedFieldSelectionColor:function(){var e=this.unobservedFocusedFieldSelectionColor,e=(this.emitFocusedFieldSelectionColorChange(e,e),this.focusedFieldSelectionColorAutoruns);null!=e&&(this.focusedFieldSelectionColorAutoruns=null,A.invalidateAutorunArray(e))},unobservedFocusedFieldSelectionColor:null,__cbOnFocusedFieldSelectionColorChange:null,__cbOnceFocusedFieldSelectionColorChange:null,__cbOnOwnerUnbindFocusedFieldSelectionColorChange:null,__cbOnceOwnerUnbindFocusedFieldSelectionColorChange:null,emitFocusedFieldSelectionColorChange:function(e,n){var t=0;if(null!=this.__cbOnFocusedFieldSelectionColorChange&&(t+=this.__cbOnFocusedFieldSelectionColorChange.length),null!=this.__cbOnceFocusedFieldSelectionColorChange&&(t+=this.__cbOnceFocusedFieldSelectionColorChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnFocusedFieldSelectionColorChange)for(var r=0,h=this.__cbOnFocusedFieldSelectionColorChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnFocusedFieldSelectionColorChange[a],++s):--t}if(null!=this.__cbOnceFocusedFieldSelectionColorChange){for(var o=null,c=null,r=0,h=this.__cbOnceFocusedFieldSelectionColorChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceFocusedFieldSelectionColorChange[a],this.__cbOnceFocusedFieldSelectionColorChange[a]=null,u=this.__cbOnceOwnerUnbindFocusedFieldSelectionColorChange[a],(this.__cbOnceOwnerUnbindFocusedFieldSelectionColorChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindFocusedFieldSelectionColorChange[a]),c.push(this.__cbOnceFocusedFieldSelectionColorChange[a]))}this.__cbOnceOwnerUnbindFocusedFieldSelectionColorChange=o,this.__cbOnceFocusedFieldSelectionColorChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onFocusedFieldSelectionColorChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event focusedFieldSelectionColorChange because owner is destroyed!");var l=function(e){null!=t&&(i.offFocusedFieldSelectionColorChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindFocusedFieldSelectionColorChange&&(this.__cbOnOwnerUnbindFocusedFieldSelectionColorChange=[]),this.__cbOnOwnerUnbindFocusedFieldSelectionColorChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindFocusedFieldSelectionColorChange&&(this.__cbOnOwnerUnbindFocusedFieldSelectionColorChange=[]),this.__cbOnOwnerUnbindFocusedFieldSelectionColorChange.push(null);null==this.__cbOnFocusedFieldSelectionColorChange&&(this.__cbOnFocusedFieldSelectionColorChange=[]),this.__cbOnFocusedFieldSelectionColorChange.push(t)},onceFocusedFieldSelectionColorChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event focusedFieldSelectionColorChange because owner is destroyed!");var l=function(e){null!=t&&(i.offFocusedFieldSelectionColorChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindFocusedFieldSelectionColorChange&&(this.__cbOnceOwnerUnbindFocusedFieldSelectionColorChange=[]),this.__cbOnceOwnerUnbindFocusedFieldSelectionColorChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindFocusedFieldSelectionColorChange&&(this.__cbOnceOwnerUnbindFocusedFieldSelectionColorChange=[]),this.__cbOnceOwnerUnbindFocusedFieldSelectionColorChange.push(null);null==this.__cbOnceFocusedFieldSelectionColorChange&&(this.__cbOnceFocusedFieldSelectionColorChange=[]),this.__cbOnceFocusedFieldSelectionColorChange.push(t)},offFocusedFieldSelectionColorChange:function(e){if(null!=e){var n;null!=this.__cbOnFocusedFieldSelectionColorChange&&-1!=(n=this.__cbOnFocusedFieldSelectionColorChange.indexOf(e))&&(this.__cbOnFocusedFieldSelectionColorChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindFocusedFieldSelectionColorChange[n])&&s(),this.__cbOnOwnerUnbindFocusedFieldSelectionColorChange.splice(n,1)),null!=this.__cbOnceFocusedFieldSelectionColorChange&&-1!=(n=this.__cbOnceFocusedFieldSelectionColorChange.indexOf(e))&&(this.__cbOnceFocusedFieldSelectionColorChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindFocusedFieldSelectionColorChange[n])&&s(),this.__cbOnceOwnerUnbindFocusedFieldSelectionColorChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindFocusedFieldSelectionColorChange){for(var t=0,i=this.__cbOnOwnerUnbindFocusedFieldSelectionColorChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindFocusedFieldSelectionColorChange[l])&&s()}this.__cbOnOwnerUnbindFocusedFieldSelectionColorChange=null}if(null!=this.__cbOnceOwnerUnbindFocusedFieldSelectionColorChange){for(t=0,i=this.__cbOnceOwnerUnbindFocusedFieldSelectionColorChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindFocusedFieldSelectionColorChange[l])&&s()}this.__cbOnceOwnerUnbindFocusedFieldSelectionColorChange=null}this.__cbOnFocusedFieldSelectionColorChange=null,this.__cbOnceFocusedFieldSelectionColorChange=null}},listensFocusedFieldSelectionColorChange:function(){return null!=this.__cbOnFocusedFieldSelectionColorChange&&0<this.__cbOnFocusedFieldSelectionColorChange.length||null!=this.__cbOnceFocusedFieldSelectionColorChange&&0<this.__cbOnceFocusedFieldSelectionColorChange.length},focusedFieldBorderColorAutoruns:null,get_focusedFieldBorderColor:function(){var e,n,t=this.unobservedFocusedFieldBorderColor;return null!=A.current&&(e=A.current,null!=(n=this.focusedFieldBorderColorAutoruns)||(n=A.getAutorunArray(),null!=(this.focusedFieldBorderColorAutoruns=n)))&&e.bindToAutorunArray(n),t},set_focusedFieldBorderColor:function(e){var n=this.unobservedFocusedFieldBorderColor;return n!=(this.unobservedFocusedFieldBorderColor=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!0)),this.emitFocusedFieldBorderColorChange(e,n),null!=(n=this.focusedFieldBorderColorAutoruns))&&(this.focusedFieldBorderColorAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateFocusedFieldBorderColor:function(){var e=this.unobservedFocusedFieldBorderColor,e=(this.emitFocusedFieldBorderColorChange(e,e),this.focusedFieldBorderColorAutoruns);null!=e&&(this.focusedFieldBorderColorAutoruns=null,A.invalidateAutorunArray(e))},unobservedFocusedFieldBorderColor:null,__cbOnFocusedFieldBorderColorChange:null,__cbOnceFocusedFieldBorderColorChange:null,__cbOnOwnerUnbindFocusedFieldBorderColorChange:null,__cbOnceOwnerUnbindFocusedFieldBorderColorChange:null,emitFocusedFieldBorderColorChange:function(e,n){var t=0;if(null!=this.__cbOnFocusedFieldBorderColorChange&&(t+=this.__cbOnFocusedFieldBorderColorChange.length),null!=this.__cbOnceFocusedFieldBorderColorChange&&(t+=this.__cbOnceFocusedFieldBorderColorChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnFocusedFieldBorderColorChange)for(var r=0,h=this.__cbOnFocusedFieldBorderColorChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnFocusedFieldBorderColorChange[a],++s):--t}if(null!=this.__cbOnceFocusedFieldBorderColorChange){for(var o=null,c=null,r=0,h=this.__cbOnceFocusedFieldBorderColorChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceFocusedFieldBorderColorChange[a],this.__cbOnceFocusedFieldBorderColorChange[a]=null,u=this.__cbOnceOwnerUnbindFocusedFieldBorderColorChange[a],(this.__cbOnceOwnerUnbindFocusedFieldBorderColorChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindFocusedFieldBorderColorChange[a]),c.push(this.__cbOnceFocusedFieldBorderColorChange[a]))}this.__cbOnceOwnerUnbindFocusedFieldBorderColorChange=o,this.__cbOnceFocusedFieldBorderColorChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onFocusedFieldBorderColorChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event focusedFieldBorderColorChange because owner is destroyed!");var l=function(e){null!=t&&(i.offFocusedFieldBorderColorChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindFocusedFieldBorderColorChange&&(this.__cbOnOwnerUnbindFocusedFieldBorderColorChange=[]),this.__cbOnOwnerUnbindFocusedFieldBorderColorChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindFocusedFieldBorderColorChange&&(this.__cbOnOwnerUnbindFocusedFieldBorderColorChange=[]),this.__cbOnOwnerUnbindFocusedFieldBorderColorChange.push(null);null==this.__cbOnFocusedFieldBorderColorChange&&(this.__cbOnFocusedFieldBorderColorChange=[]),this.__cbOnFocusedFieldBorderColorChange.push(t)},onceFocusedFieldBorderColorChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event focusedFieldBorderColorChange because owner is destroyed!");var l=function(e){null!=t&&(i.offFocusedFieldBorderColorChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindFocusedFieldBorderColorChange&&(this.__cbOnceOwnerUnbindFocusedFieldBorderColorChange=[]),this.__cbOnceOwnerUnbindFocusedFieldBorderColorChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindFocusedFieldBorderColorChange&&(this.__cbOnceOwnerUnbindFocusedFieldBorderColorChange=[]),this.__cbOnceOwnerUnbindFocusedFieldBorderColorChange.push(null);null==this.__cbOnceFocusedFieldBorderColorChange&&(this.__cbOnceFocusedFieldBorderColorChange=[]),this.__cbOnceFocusedFieldBorderColorChange.push(t)},offFocusedFieldBorderColorChange:function(e){if(null!=e){var n;null!=this.__cbOnFocusedFieldBorderColorChange&&-1!=(n=this.__cbOnFocusedFieldBorderColorChange.indexOf(e))&&(this.__cbOnFocusedFieldBorderColorChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindFocusedFieldBorderColorChange[n])&&s(),this.__cbOnOwnerUnbindFocusedFieldBorderColorChange.splice(n,1)),null!=this.__cbOnceFocusedFieldBorderColorChange&&-1!=(n=this.__cbOnceFocusedFieldBorderColorChange.indexOf(e))&&(this.__cbOnceFocusedFieldBorderColorChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindFocusedFieldBorderColorChange[n])&&s(),this.__cbOnceOwnerUnbindFocusedFieldBorderColorChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindFocusedFieldBorderColorChange){for(var t=0,i=this.__cbOnOwnerUnbindFocusedFieldBorderColorChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindFocusedFieldBorderColorChange[l])&&s()}this.__cbOnOwnerUnbindFocusedFieldBorderColorChange=null}if(null!=this.__cbOnceOwnerUnbindFocusedFieldBorderColorChange){for(t=0,i=this.__cbOnceOwnerUnbindFocusedFieldBorderColorChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindFocusedFieldBorderColorChange[l])&&s()}this.__cbOnceOwnerUnbindFocusedFieldBorderColorChange=null}this.__cbOnFocusedFieldBorderColorChange=null,this.__cbOnceFocusedFieldBorderColorChange=null}},listensFocusedFieldBorderColorChange:function(){return null!=this.__cbOnFocusedFieldBorderColorChange&&0<this.__cbOnFocusedFieldBorderColorChange.length||null!=this.__cbOnceFocusedFieldBorderColorChange&&0<this.__cbOnceFocusedFieldBorderColorChange.length},overlayBackgroundColorAutoruns:null,get_overlayBackgroundColor:function(){var e,n,t=this.unobservedOverlayBackgroundColor;return null!=A.current&&(e=A.current,null!=(n=this.overlayBackgroundColorAutoruns)||(n=A.getAutorunArray(),null!=(this.overlayBackgroundColorAutoruns=n)))&&e.bindToAutorunArray(n),t},set_overlayBackgroundColor:function(e){var n=this.unobservedOverlayBackgroundColor;return n!=(this.unobservedOverlayBackgroundColor=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!0)),this.emitOverlayBackgroundColorChange(e,n),null!=(n=this.overlayBackgroundColorAutoruns))&&(this.overlayBackgroundColorAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateOverlayBackgroundColor:function(){var e=this.unobservedOverlayBackgroundColor,e=(this.emitOverlayBackgroundColorChange(e,e),this.overlayBackgroundColorAutoruns);null!=e&&(this.overlayBackgroundColorAutoruns=null,A.invalidateAutorunArray(e))},unobservedOverlayBackgroundColor:null,__cbOnOverlayBackgroundColorChange:null,__cbOnceOverlayBackgroundColorChange:null,__cbOnOwnerUnbindOverlayBackgroundColorChange:null,__cbOnceOwnerUnbindOverlayBackgroundColorChange:null,emitOverlayBackgroundColorChange:function(e,n){var t=0;if(null!=this.__cbOnOverlayBackgroundColorChange&&(t+=this.__cbOnOverlayBackgroundColorChange.length),null!=this.__cbOnceOverlayBackgroundColorChange&&(t+=this.__cbOnceOverlayBackgroundColorChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnOverlayBackgroundColorChange)for(var r=0,h=this.__cbOnOverlayBackgroundColorChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnOverlayBackgroundColorChange[a],++s):--t}if(null!=this.__cbOnceOverlayBackgroundColorChange){for(var o=null,c=null,r=0,h=this.__cbOnceOverlayBackgroundColorChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceOverlayBackgroundColorChange[a],this.__cbOnceOverlayBackgroundColorChange[a]=null,u=this.__cbOnceOwnerUnbindOverlayBackgroundColorChange[a],(this.__cbOnceOwnerUnbindOverlayBackgroundColorChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindOverlayBackgroundColorChange[a]),c.push(this.__cbOnceOverlayBackgroundColorChange[a]))}this.__cbOnceOwnerUnbindOverlayBackgroundColorChange=o,this.__cbOnceOverlayBackgroundColorChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onOverlayBackgroundColorChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event overlayBackgroundColorChange because owner is destroyed!");var l=function(e){null!=t&&(i.offOverlayBackgroundColorChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindOverlayBackgroundColorChange&&(this.__cbOnOwnerUnbindOverlayBackgroundColorChange=[]),this.__cbOnOwnerUnbindOverlayBackgroundColorChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindOverlayBackgroundColorChange&&(this.__cbOnOwnerUnbindOverlayBackgroundColorChange=[]),this.__cbOnOwnerUnbindOverlayBackgroundColorChange.push(null);null==this.__cbOnOverlayBackgroundColorChange&&(this.__cbOnOverlayBackgroundColorChange=[]),this.__cbOnOverlayBackgroundColorChange.push(t)},onceOverlayBackgroundColorChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event overlayBackgroundColorChange because owner is destroyed!");var l=function(e){null!=t&&(i.offOverlayBackgroundColorChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindOverlayBackgroundColorChange&&(this.__cbOnceOwnerUnbindOverlayBackgroundColorChange=[]),this.__cbOnceOwnerUnbindOverlayBackgroundColorChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindOverlayBackgroundColorChange&&(this.__cbOnceOwnerUnbindOverlayBackgroundColorChange=[]),this.__cbOnceOwnerUnbindOverlayBackgroundColorChange.push(null);null==this.__cbOnceOverlayBackgroundColorChange&&(this.__cbOnceOverlayBackgroundColorChange=[]),this.__cbOnceOverlayBackgroundColorChange.push(t)},offOverlayBackgroundColorChange:function(e){if(null!=e){var n;null!=this.__cbOnOverlayBackgroundColorChange&&-1!=(n=this.__cbOnOverlayBackgroundColorChange.indexOf(e))&&(this.__cbOnOverlayBackgroundColorChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindOverlayBackgroundColorChange[n])&&s(),this.__cbOnOwnerUnbindOverlayBackgroundColorChange.splice(n,1)),null!=this.__cbOnceOverlayBackgroundColorChange&&-1!=(n=this.__cbOnceOverlayBackgroundColorChange.indexOf(e))&&(this.__cbOnceOverlayBackgroundColorChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindOverlayBackgroundColorChange[n])&&s(),this.__cbOnceOwnerUnbindOverlayBackgroundColorChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindOverlayBackgroundColorChange){for(var t=0,i=this.__cbOnOwnerUnbindOverlayBackgroundColorChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindOverlayBackgroundColorChange[l])&&s()}this.__cbOnOwnerUnbindOverlayBackgroundColorChange=null}if(null!=this.__cbOnceOwnerUnbindOverlayBackgroundColorChange){for(t=0,i=this.__cbOnceOwnerUnbindOverlayBackgroundColorChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindOverlayBackgroundColorChange[l])&&s()}this.__cbOnceOwnerUnbindOverlayBackgroundColorChange=null}this.__cbOnOverlayBackgroundColorChange=null,this.__cbOnceOverlayBackgroundColorChange=null}},listensOverlayBackgroundColorChange:function(){return null!=this.__cbOnOverlayBackgroundColorChange&&0<this.__cbOnOverlayBackgroundColorChange.length||null!=this.__cbOnceOverlayBackgroundColorChange&&0<this.__cbOnceOverlayBackgroundColorChange.length},overlayBackgroundAlphaAutoruns:null,get_overlayBackgroundAlpha:function(){var e,n,t=this.unobservedOverlayBackgroundAlpha;return null!=A.current&&(e=A.current,null!=(n=this.overlayBackgroundAlphaAutoruns)||(n=A.getAutorunArray(),null!=(this.overlayBackgroundAlphaAutoruns=n)))&&e.bindToAutorunArray(n),t},set_overlayBackgroundAlpha:function(e){var n=this.unobservedOverlayBackgroundAlpha;return n!=(this.unobservedOverlayBackgroundAlpha=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!0)),this.emitOverlayBackgroundAlphaChange(e,n),null!=(n=this.overlayBackgroundAlphaAutoruns))&&(this.overlayBackgroundAlphaAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateOverlayBackgroundAlpha:function(){var e=this.unobservedOverlayBackgroundAlpha,e=(this.emitOverlayBackgroundAlphaChange(e,e),this.overlayBackgroundAlphaAutoruns);null!=e&&(this.overlayBackgroundAlphaAutoruns=null,A.invalidateAutorunArray(e))},unobservedOverlayBackgroundAlpha:null,__cbOnOverlayBackgroundAlphaChange:null,__cbOnceOverlayBackgroundAlphaChange:null,__cbOnOwnerUnbindOverlayBackgroundAlphaChange:null,__cbOnceOwnerUnbindOverlayBackgroundAlphaChange:null,emitOverlayBackgroundAlphaChange:function(e,n){var t=0;if(null!=this.__cbOnOverlayBackgroundAlphaChange&&(t+=this.__cbOnOverlayBackgroundAlphaChange.length),null!=this.__cbOnceOverlayBackgroundAlphaChange&&(t+=this.__cbOnceOverlayBackgroundAlphaChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnOverlayBackgroundAlphaChange)for(var r=0,h=this.__cbOnOverlayBackgroundAlphaChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnOverlayBackgroundAlphaChange[a],++s):--t}if(null!=this.__cbOnceOverlayBackgroundAlphaChange){for(var o=null,c=null,r=0,h=this.__cbOnceOverlayBackgroundAlphaChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceOverlayBackgroundAlphaChange[a],this.__cbOnceOverlayBackgroundAlphaChange[a]=null,u=this.__cbOnceOwnerUnbindOverlayBackgroundAlphaChange[a],(this.__cbOnceOwnerUnbindOverlayBackgroundAlphaChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindOverlayBackgroundAlphaChange[a]),c.push(this.__cbOnceOverlayBackgroundAlphaChange[a]))}this.__cbOnceOwnerUnbindOverlayBackgroundAlphaChange=o,this.__cbOnceOverlayBackgroundAlphaChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onOverlayBackgroundAlphaChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event overlayBackgroundAlphaChange because owner is destroyed!");var l=function(e){null!=t&&(i.offOverlayBackgroundAlphaChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindOverlayBackgroundAlphaChange&&(this.__cbOnOwnerUnbindOverlayBackgroundAlphaChange=[]),this.__cbOnOwnerUnbindOverlayBackgroundAlphaChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindOverlayBackgroundAlphaChange&&(this.__cbOnOwnerUnbindOverlayBackgroundAlphaChange=[]),this.__cbOnOwnerUnbindOverlayBackgroundAlphaChange.push(null);null==this.__cbOnOverlayBackgroundAlphaChange&&(this.__cbOnOverlayBackgroundAlphaChange=[]),this.__cbOnOverlayBackgroundAlphaChange.push(t)},onceOverlayBackgroundAlphaChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event overlayBackgroundAlphaChange because owner is destroyed!");var l=function(e){null!=t&&(i.offOverlayBackgroundAlphaChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindOverlayBackgroundAlphaChange&&(this.__cbOnceOwnerUnbindOverlayBackgroundAlphaChange=[]),this.__cbOnceOwnerUnbindOverlayBackgroundAlphaChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindOverlayBackgroundAlphaChange&&(this.__cbOnceOwnerUnbindOverlayBackgroundAlphaChange=[]),this.__cbOnceOwnerUnbindOverlayBackgroundAlphaChange.push(null);null==this.__cbOnceOverlayBackgroundAlphaChange&&(this.__cbOnceOverlayBackgroundAlphaChange=[]),this.__cbOnceOverlayBackgroundAlphaChange.push(t)},offOverlayBackgroundAlphaChange:function(e){if(null!=e){var n;null!=this.__cbOnOverlayBackgroundAlphaChange&&-1!=(n=this.__cbOnOverlayBackgroundAlphaChange.indexOf(e))&&(this.__cbOnOverlayBackgroundAlphaChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindOverlayBackgroundAlphaChange[n])&&s(),this.__cbOnOwnerUnbindOverlayBackgroundAlphaChange.splice(n,1)),null!=this.__cbOnceOverlayBackgroundAlphaChange&&-1!=(n=this.__cbOnceOverlayBackgroundAlphaChange.indexOf(e))&&(this.__cbOnceOverlayBackgroundAlphaChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindOverlayBackgroundAlphaChange[n])&&s(),this.__cbOnceOwnerUnbindOverlayBackgroundAlphaChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindOverlayBackgroundAlphaChange){for(var t=0,i=this.__cbOnOwnerUnbindOverlayBackgroundAlphaChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindOverlayBackgroundAlphaChange[l])&&s()}this.__cbOnOwnerUnbindOverlayBackgroundAlphaChange=null}if(null!=this.__cbOnceOwnerUnbindOverlayBackgroundAlphaChange){for(t=0,i=this.__cbOnceOwnerUnbindOverlayBackgroundAlphaChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindOverlayBackgroundAlphaChange[l])&&s()}this.__cbOnceOwnerUnbindOverlayBackgroundAlphaChange=null}this.__cbOnOverlayBackgroundAlphaChange=null,this.__cbOnceOverlayBackgroundAlphaChange=null}},listensOverlayBackgroundAlphaChange:function(){return null!=this.__cbOnOverlayBackgroundAlphaChange&&0<this.__cbOnOverlayBackgroundAlphaChange.length||null!=this.__cbOnceOverlayBackgroundAlphaChange&&0<this.__cbOnceOverlayBackgroundAlphaChange.length},overlayBorderColorAutoruns:null,get_overlayBorderColor:function(){var e,n,t=this.unobservedOverlayBorderColor;return null!=A.current&&(e=A.current,null!=(n=this.overlayBorderColorAutoruns)||(n=A.getAutorunArray(),null!=(this.overlayBorderColorAutoruns=n)))&&e.bindToAutorunArray(n),t},set_overlayBorderColor:function(e){var n=this.unobservedOverlayBorderColor;return n!=(this.unobservedOverlayBorderColor=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!0)),this.emitOverlayBorderColorChange(e,n),null!=(n=this.overlayBorderColorAutoruns))&&(this.overlayBorderColorAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateOverlayBorderColor:function(){var e=this.unobservedOverlayBorderColor,e=(this.emitOverlayBorderColorChange(e,e),this.overlayBorderColorAutoruns);null!=e&&(this.overlayBorderColorAutoruns=null,A.invalidateAutorunArray(e))},unobservedOverlayBorderColor:null,__cbOnOverlayBorderColorChange:null,__cbOnceOverlayBorderColorChange:null,__cbOnOwnerUnbindOverlayBorderColorChange:null,__cbOnceOwnerUnbindOverlayBorderColorChange:null,emitOverlayBorderColorChange:function(e,n){var t=0;if(null!=this.__cbOnOverlayBorderColorChange&&(t+=this.__cbOnOverlayBorderColorChange.length),null!=this.__cbOnceOverlayBorderColorChange&&(t+=this.__cbOnceOverlayBorderColorChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnOverlayBorderColorChange)for(var r=0,h=this.__cbOnOverlayBorderColorChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnOverlayBorderColorChange[a],++s):--t}if(null!=this.__cbOnceOverlayBorderColorChange){for(var o=null,c=null,r=0,h=this.__cbOnceOverlayBorderColorChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceOverlayBorderColorChange[a],this.__cbOnceOverlayBorderColorChange[a]=null,u=this.__cbOnceOwnerUnbindOverlayBorderColorChange[a],(this.__cbOnceOwnerUnbindOverlayBorderColorChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindOverlayBorderColorChange[a]),c.push(this.__cbOnceOverlayBorderColorChange[a]))}this.__cbOnceOwnerUnbindOverlayBorderColorChange=o,this.__cbOnceOverlayBorderColorChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onOverlayBorderColorChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event overlayBorderColorChange because owner is destroyed!");var l=function(e){null!=t&&(i.offOverlayBorderColorChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindOverlayBorderColorChange&&(this.__cbOnOwnerUnbindOverlayBorderColorChange=[]),this.__cbOnOwnerUnbindOverlayBorderColorChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindOverlayBorderColorChange&&(this.__cbOnOwnerUnbindOverlayBorderColorChange=[]),this.__cbOnOwnerUnbindOverlayBorderColorChange.push(null);null==this.__cbOnOverlayBorderColorChange&&(this.__cbOnOverlayBorderColorChange=[]),this.__cbOnOverlayBorderColorChange.push(t)},onceOverlayBorderColorChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event overlayBorderColorChange because owner is destroyed!");var l=function(e){null!=t&&(i.offOverlayBorderColorChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindOverlayBorderColorChange&&(this.__cbOnceOwnerUnbindOverlayBorderColorChange=[]),this.__cbOnceOwnerUnbindOverlayBorderColorChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindOverlayBorderColorChange&&(this.__cbOnceOwnerUnbindOverlayBorderColorChange=[]),this.__cbOnceOwnerUnbindOverlayBorderColorChange.push(null);null==this.__cbOnceOverlayBorderColorChange&&(this.__cbOnceOverlayBorderColorChange=[]),this.__cbOnceOverlayBorderColorChange.push(t)},offOverlayBorderColorChange:function(e){if(null!=e){var n;null!=this.__cbOnOverlayBorderColorChange&&-1!=(n=this.__cbOnOverlayBorderColorChange.indexOf(e))&&(this.__cbOnOverlayBorderColorChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindOverlayBorderColorChange[n])&&s(),this.__cbOnOwnerUnbindOverlayBorderColorChange.splice(n,1)),null!=this.__cbOnceOverlayBorderColorChange&&-1!=(n=this.__cbOnceOverlayBorderColorChange.indexOf(e))&&(this.__cbOnceOverlayBorderColorChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindOverlayBorderColorChange[n])&&s(),this.__cbOnceOwnerUnbindOverlayBorderColorChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindOverlayBorderColorChange){for(var t=0,i=this.__cbOnOwnerUnbindOverlayBorderColorChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindOverlayBorderColorChange[l])&&s()}this.__cbOnOwnerUnbindOverlayBorderColorChange=null}if(null!=this.__cbOnceOwnerUnbindOverlayBorderColorChange){for(t=0,i=this.__cbOnceOwnerUnbindOverlayBorderColorChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindOverlayBorderColorChange[l])&&s()}this.__cbOnceOwnerUnbindOverlayBorderColorChange=null}this.__cbOnOverlayBorderColorChange=null,this.__cbOnceOverlayBorderColorChange=null}},listensOverlayBorderColorChange:function(){return null!=this.__cbOnOverlayBorderColorChange&&0<this.__cbOnOverlayBorderColorChange.length||null!=this.__cbOnceOverlayBorderColorChange&&0<this.__cbOnceOverlayBorderColorChange.length},overlayBorderAlphaAutoruns:null,get_overlayBorderAlpha:function(){var e,n,t=this.unobservedOverlayBorderAlpha;return null!=A.current&&(e=A.current,null!=(n=this.overlayBorderAlphaAutoruns)||(n=A.getAutorunArray(),null!=(this.overlayBorderAlphaAutoruns=n)))&&e.bindToAutorunArray(n),t},set_overlayBorderAlpha:function(e){var n=this.unobservedOverlayBorderAlpha;return n!=(this.unobservedOverlayBorderAlpha=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!0)),this.emitOverlayBorderAlphaChange(e,n),null!=(n=this.overlayBorderAlphaAutoruns))&&(this.overlayBorderAlphaAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateOverlayBorderAlpha:function(){var e=this.unobservedOverlayBorderAlpha,e=(this.emitOverlayBorderAlphaChange(e,e),this.overlayBorderAlphaAutoruns);null!=e&&(this.overlayBorderAlphaAutoruns=null,A.invalidateAutorunArray(e))},unobservedOverlayBorderAlpha:null,__cbOnOverlayBorderAlphaChange:null,__cbOnceOverlayBorderAlphaChange:null,__cbOnOwnerUnbindOverlayBorderAlphaChange:null,__cbOnceOwnerUnbindOverlayBorderAlphaChange:null,emitOverlayBorderAlphaChange:function(e,n){var t=0;if(null!=this.__cbOnOverlayBorderAlphaChange&&(t+=this.__cbOnOverlayBorderAlphaChange.length),null!=this.__cbOnceOverlayBorderAlphaChange&&(t+=this.__cbOnceOverlayBorderAlphaChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnOverlayBorderAlphaChange)for(var r=0,h=this.__cbOnOverlayBorderAlphaChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnOverlayBorderAlphaChange[a],++s):--t}if(null!=this.__cbOnceOverlayBorderAlphaChange){for(var o=null,c=null,r=0,h=this.__cbOnceOverlayBorderAlphaChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceOverlayBorderAlphaChange[a],this.__cbOnceOverlayBorderAlphaChange[a]=null,u=this.__cbOnceOwnerUnbindOverlayBorderAlphaChange[a],(this.__cbOnceOwnerUnbindOverlayBorderAlphaChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindOverlayBorderAlphaChange[a]),c.push(this.__cbOnceOverlayBorderAlphaChange[a]))}this.__cbOnceOwnerUnbindOverlayBorderAlphaChange=o,this.__cbOnceOverlayBorderAlphaChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onOverlayBorderAlphaChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event overlayBorderAlphaChange because owner is destroyed!");var l=function(e){null!=t&&(i.offOverlayBorderAlphaChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindOverlayBorderAlphaChange&&(this.__cbOnOwnerUnbindOverlayBorderAlphaChange=[]),this.__cbOnOwnerUnbindOverlayBorderAlphaChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindOverlayBorderAlphaChange&&(this.__cbOnOwnerUnbindOverlayBorderAlphaChange=[]),this.__cbOnOwnerUnbindOverlayBorderAlphaChange.push(null);null==this.__cbOnOverlayBorderAlphaChange&&(this.__cbOnOverlayBorderAlphaChange=[]),this.__cbOnOverlayBorderAlphaChange.push(t)},onceOverlayBorderAlphaChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event overlayBorderAlphaChange because owner is destroyed!");var l=function(e){null!=t&&(i.offOverlayBorderAlphaChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindOverlayBorderAlphaChange&&(this.__cbOnceOwnerUnbindOverlayBorderAlphaChange=[]),this.__cbOnceOwnerUnbindOverlayBorderAlphaChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindOverlayBorderAlphaChange&&(this.__cbOnceOwnerUnbindOverlayBorderAlphaChange=[]),this.__cbOnceOwnerUnbindOverlayBorderAlphaChange.push(null);null==this.__cbOnceOverlayBorderAlphaChange&&(this.__cbOnceOverlayBorderAlphaChange=[]),this.__cbOnceOverlayBorderAlphaChange.push(t)},offOverlayBorderAlphaChange:function(e){if(null!=e){var n;null!=this.__cbOnOverlayBorderAlphaChange&&-1!=(n=this.__cbOnOverlayBorderAlphaChange.indexOf(e))&&(this.__cbOnOverlayBorderAlphaChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindOverlayBorderAlphaChange[n])&&s(),this.__cbOnOwnerUnbindOverlayBorderAlphaChange.splice(n,1)),null!=this.__cbOnceOverlayBorderAlphaChange&&-1!=(n=this.__cbOnceOverlayBorderAlphaChange.indexOf(e))&&(this.__cbOnceOverlayBorderAlphaChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindOverlayBorderAlphaChange[n])&&s(),this.__cbOnceOwnerUnbindOverlayBorderAlphaChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindOverlayBorderAlphaChange){for(var t=0,i=this.__cbOnOwnerUnbindOverlayBorderAlphaChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindOverlayBorderAlphaChange[l])&&s()}this.__cbOnOwnerUnbindOverlayBorderAlphaChange=null}if(null!=this.__cbOnceOwnerUnbindOverlayBorderAlphaChange){for(t=0,i=this.__cbOnceOwnerUnbindOverlayBorderAlphaChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindOverlayBorderAlphaChange[l])&&s()}this.__cbOnceOwnerUnbindOverlayBorderAlphaChange=null}this.__cbOnOverlayBorderAlphaChange=null,this.__cbOnceOverlayBorderAlphaChange=null}},listensOverlayBorderAlphaChange:function(){return null!=this.__cbOnOverlayBorderAlphaChange&&0<this.__cbOnOverlayBorderAlphaChange.length||null!=this.__cbOnceOverlayBorderAlphaChange&&0<this.__cbOnceOverlayBorderAlphaChange.length},buttonBackgroundColorAutoruns:null,get_buttonBackgroundColor:function(){var e,n,t=this.unobservedButtonBackgroundColor;return null!=A.current&&(e=A.current,null!=(n=this.buttonBackgroundColorAutoruns)||(n=A.getAutorunArray(),null!=(this.buttonBackgroundColorAutoruns=n)))&&e.bindToAutorunArray(n),t},set_buttonBackgroundColor:function(e){var n=this.unobservedButtonBackgroundColor;return n!=(this.unobservedButtonBackgroundColor=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!0)),this.emitButtonBackgroundColorChange(e,n),null!=(n=this.buttonBackgroundColorAutoruns))&&(this.buttonBackgroundColorAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateButtonBackgroundColor:function(){var e=this.unobservedButtonBackgroundColor,e=(this.emitButtonBackgroundColorChange(e,e),this.buttonBackgroundColorAutoruns);null!=e&&(this.buttonBackgroundColorAutoruns=null,A.invalidateAutorunArray(e))},unobservedButtonBackgroundColor:null,__cbOnButtonBackgroundColorChange:null,__cbOnceButtonBackgroundColorChange:null,__cbOnOwnerUnbindButtonBackgroundColorChange:null,__cbOnceOwnerUnbindButtonBackgroundColorChange:null,emitButtonBackgroundColorChange:function(e,n){var t=0;if(null!=this.__cbOnButtonBackgroundColorChange&&(t+=this.__cbOnButtonBackgroundColorChange.length),null!=this.__cbOnceButtonBackgroundColorChange&&(t+=this.__cbOnceButtonBackgroundColorChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnButtonBackgroundColorChange)for(var r=0,h=this.__cbOnButtonBackgroundColorChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnButtonBackgroundColorChange[a],++s):--t}if(null!=this.__cbOnceButtonBackgroundColorChange){for(var o=null,c=null,r=0,h=this.__cbOnceButtonBackgroundColorChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceButtonBackgroundColorChange[a],this.__cbOnceButtonBackgroundColorChange[a]=null,u=this.__cbOnceOwnerUnbindButtonBackgroundColorChange[a],(this.__cbOnceOwnerUnbindButtonBackgroundColorChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindButtonBackgroundColorChange[a]),c.push(this.__cbOnceButtonBackgroundColorChange[a]))}this.__cbOnceOwnerUnbindButtonBackgroundColorChange=o,this.__cbOnceButtonBackgroundColorChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onButtonBackgroundColorChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event buttonBackgroundColorChange because owner is destroyed!");var l=function(e){null!=t&&(i.offButtonBackgroundColorChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindButtonBackgroundColorChange&&(this.__cbOnOwnerUnbindButtonBackgroundColorChange=[]),this.__cbOnOwnerUnbindButtonBackgroundColorChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindButtonBackgroundColorChange&&(this.__cbOnOwnerUnbindButtonBackgroundColorChange=[]),this.__cbOnOwnerUnbindButtonBackgroundColorChange.push(null);null==this.__cbOnButtonBackgroundColorChange&&(this.__cbOnButtonBackgroundColorChange=[]),this.__cbOnButtonBackgroundColorChange.push(t)},onceButtonBackgroundColorChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event buttonBackgroundColorChange because owner is destroyed!");var l=function(e){null!=t&&(i.offButtonBackgroundColorChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindButtonBackgroundColorChange&&(this.__cbOnceOwnerUnbindButtonBackgroundColorChange=[]),this.__cbOnceOwnerUnbindButtonBackgroundColorChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindButtonBackgroundColorChange&&(this.__cbOnceOwnerUnbindButtonBackgroundColorChange=[]),this.__cbOnceOwnerUnbindButtonBackgroundColorChange.push(null);null==this.__cbOnceButtonBackgroundColorChange&&(this.__cbOnceButtonBackgroundColorChange=[]),this.__cbOnceButtonBackgroundColorChange.push(t)},offButtonBackgroundColorChange:function(e){if(null!=e){var n;null!=this.__cbOnButtonBackgroundColorChange&&-1!=(n=this.__cbOnButtonBackgroundColorChange.indexOf(e))&&(this.__cbOnButtonBackgroundColorChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindButtonBackgroundColorChange[n])&&s(),this.__cbOnOwnerUnbindButtonBackgroundColorChange.splice(n,1)),null!=this.__cbOnceButtonBackgroundColorChange&&-1!=(n=this.__cbOnceButtonBackgroundColorChange.indexOf(e))&&(this.__cbOnceButtonBackgroundColorChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindButtonBackgroundColorChange[n])&&s(),this.__cbOnceOwnerUnbindButtonBackgroundColorChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindButtonBackgroundColorChange){for(var t=0,i=this.__cbOnOwnerUnbindButtonBackgroundColorChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindButtonBackgroundColorChange[l])&&s()}this.__cbOnOwnerUnbindButtonBackgroundColorChange=null}if(null!=this.__cbOnceOwnerUnbindButtonBackgroundColorChange){for(t=0,i=this.__cbOnceOwnerUnbindButtonBackgroundColorChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindButtonBackgroundColorChange[l])&&s()}this.__cbOnceOwnerUnbindButtonBackgroundColorChange=null}this.__cbOnButtonBackgroundColorChange=null,this.__cbOnceButtonBackgroundColorChange=null}},listensButtonBackgroundColorChange:function(){return null!=this.__cbOnButtonBackgroundColorChange&&0<this.__cbOnButtonBackgroundColorChange.length||null!=this.__cbOnceButtonBackgroundColorChange&&0<this.__cbOnceButtonBackgroundColorChange.length},buttonOverBackgroundColorAutoruns:null,get_buttonOverBackgroundColor:function(){var e,n,t=this.unobservedButtonOverBackgroundColor;return null!=A.current&&(e=A.current,null!=(n=this.buttonOverBackgroundColorAutoruns)||(n=A.getAutorunArray(),null!=(this.buttonOverBackgroundColorAutoruns=n)))&&e.bindToAutorunArray(n),t},set_buttonOverBackgroundColor:function(e){var n=this.unobservedButtonOverBackgroundColor;return n!=(this.unobservedButtonOverBackgroundColor=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!0)),this.emitButtonOverBackgroundColorChange(e,n),null!=(n=this.buttonOverBackgroundColorAutoruns))&&(this.buttonOverBackgroundColorAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateButtonOverBackgroundColor:function(){var e=this.unobservedButtonOverBackgroundColor,e=(this.emitButtonOverBackgroundColorChange(e,e),this.buttonOverBackgroundColorAutoruns);null!=e&&(this.buttonOverBackgroundColorAutoruns=null,A.invalidateAutorunArray(e))},unobservedButtonOverBackgroundColor:null,__cbOnButtonOverBackgroundColorChange:null,__cbOnceButtonOverBackgroundColorChange:null,__cbOnOwnerUnbindButtonOverBackgroundColorChange:null,__cbOnceOwnerUnbindButtonOverBackgroundColorChange:null,emitButtonOverBackgroundColorChange:function(e,n){var t=0;if(null!=this.__cbOnButtonOverBackgroundColorChange&&(t+=this.__cbOnButtonOverBackgroundColorChange.length),null!=this.__cbOnceButtonOverBackgroundColorChange&&(t+=this.__cbOnceButtonOverBackgroundColorChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnButtonOverBackgroundColorChange)for(var r=0,h=this.__cbOnButtonOverBackgroundColorChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnButtonOverBackgroundColorChange[a],++s):--t}if(null!=this.__cbOnceButtonOverBackgroundColorChange){for(var o=null,c=null,r=0,h=this.__cbOnceButtonOverBackgroundColorChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceButtonOverBackgroundColorChange[a],this.__cbOnceButtonOverBackgroundColorChange[a]=null,u=this.__cbOnceOwnerUnbindButtonOverBackgroundColorChange[a],(this.__cbOnceOwnerUnbindButtonOverBackgroundColorChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindButtonOverBackgroundColorChange[a]),c.push(this.__cbOnceButtonOverBackgroundColorChange[a]))}this.__cbOnceOwnerUnbindButtonOverBackgroundColorChange=o,this.__cbOnceButtonOverBackgroundColorChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onButtonOverBackgroundColorChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event buttonOverBackgroundColorChange because owner is destroyed!");var l=function(e){null!=t&&(i.offButtonOverBackgroundColorChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindButtonOverBackgroundColorChange&&(this.__cbOnOwnerUnbindButtonOverBackgroundColorChange=[]),this.__cbOnOwnerUnbindButtonOverBackgroundColorChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindButtonOverBackgroundColorChange&&(this.__cbOnOwnerUnbindButtonOverBackgroundColorChange=[]),this.__cbOnOwnerUnbindButtonOverBackgroundColorChange.push(null);null==this.__cbOnButtonOverBackgroundColorChange&&(this.__cbOnButtonOverBackgroundColorChange=[]),this.__cbOnButtonOverBackgroundColorChange.push(t)},onceButtonOverBackgroundColorChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event buttonOverBackgroundColorChange because owner is destroyed!");var l=function(e){null!=t&&(i.offButtonOverBackgroundColorChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindButtonOverBackgroundColorChange&&(this.__cbOnceOwnerUnbindButtonOverBackgroundColorChange=[]),this.__cbOnceOwnerUnbindButtonOverBackgroundColorChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindButtonOverBackgroundColorChange&&(this.__cbOnceOwnerUnbindButtonOverBackgroundColorChange=[]),this.__cbOnceOwnerUnbindButtonOverBackgroundColorChange.push(null);null==this.__cbOnceButtonOverBackgroundColorChange&&(this.__cbOnceButtonOverBackgroundColorChange=[]),this.__cbOnceButtonOverBackgroundColorChange.push(t)},offButtonOverBackgroundColorChange:function(e){if(null!=e){var n;null!=this.__cbOnButtonOverBackgroundColorChange&&-1!=(n=this.__cbOnButtonOverBackgroundColorChange.indexOf(e))&&(this.__cbOnButtonOverBackgroundColorChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindButtonOverBackgroundColorChange[n])&&s(),this.__cbOnOwnerUnbindButtonOverBackgroundColorChange.splice(n,1)),null!=this.__cbOnceButtonOverBackgroundColorChange&&-1!=(n=this.__cbOnceButtonOverBackgroundColorChange.indexOf(e))&&(this.__cbOnceButtonOverBackgroundColorChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindButtonOverBackgroundColorChange[n])&&s(),this.__cbOnceOwnerUnbindButtonOverBackgroundColorChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindButtonOverBackgroundColorChange){for(var t=0,i=this.__cbOnOwnerUnbindButtonOverBackgroundColorChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindButtonOverBackgroundColorChange[l])&&s()}this.__cbOnOwnerUnbindButtonOverBackgroundColorChange=null}if(null!=this.__cbOnceOwnerUnbindButtonOverBackgroundColorChange){for(t=0,i=this.__cbOnceOwnerUnbindButtonOverBackgroundColorChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindButtonOverBackgroundColorChange[l])&&s()}this.__cbOnceOwnerUnbindButtonOverBackgroundColorChange=null}this.__cbOnButtonOverBackgroundColorChange=null,this.__cbOnceButtonOverBackgroundColorChange=null}},listensButtonOverBackgroundColorChange:function(){return null!=this.__cbOnButtonOverBackgroundColorChange&&0<this.__cbOnButtonOverBackgroundColorChange.length||null!=this.__cbOnceButtonOverBackgroundColorChange&&0<this.__cbOnceButtonOverBackgroundColorChange.length},buttonPressedBackgroundColorAutoruns:null,get_buttonPressedBackgroundColor:function(){var e,n,t=this.unobservedButtonPressedBackgroundColor;return null!=A.current&&(e=A.current,null!=(n=this.buttonPressedBackgroundColorAutoruns)||(n=A.getAutorunArray(),null!=(this.buttonPressedBackgroundColorAutoruns=n)))&&e.bindToAutorunArray(n),t},set_buttonPressedBackgroundColor:function(e){var n=this.unobservedButtonPressedBackgroundColor;return n!=(this.unobservedButtonPressedBackgroundColor=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!0)),this.emitButtonPressedBackgroundColorChange(e,n),null!=(n=this.buttonPressedBackgroundColorAutoruns))&&(this.buttonPressedBackgroundColorAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateButtonPressedBackgroundColor:function(){var e=this.unobservedButtonPressedBackgroundColor,e=(this.emitButtonPressedBackgroundColorChange(e,e),this.buttonPressedBackgroundColorAutoruns);null!=e&&(this.buttonPressedBackgroundColorAutoruns=null,A.invalidateAutorunArray(e))},unobservedButtonPressedBackgroundColor:null,__cbOnButtonPressedBackgroundColorChange:null,__cbOnceButtonPressedBackgroundColorChange:null,__cbOnOwnerUnbindButtonPressedBackgroundColorChange:null,__cbOnceOwnerUnbindButtonPressedBackgroundColorChange:null,emitButtonPressedBackgroundColorChange:function(e,n){var t=0;if(null!=this.__cbOnButtonPressedBackgroundColorChange&&(t+=this.__cbOnButtonPressedBackgroundColorChange.length),null!=this.__cbOnceButtonPressedBackgroundColorChange&&(t+=this.__cbOnceButtonPressedBackgroundColorChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnButtonPressedBackgroundColorChange)for(var r=0,h=this.__cbOnButtonPressedBackgroundColorChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnButtonPressedBackgroundColorChange[a],++s):--t}if(null!=this.__cbOnceButtonPressedBackgroundColorChange){for(var o=null,c=null,r=0,h=this.__cbOnceButtonPressedBackgroundColorChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceButtonPressedBackgroundColorChange[a],this.__cbOnceButtonPressedBackgroundColorChange[a]=null,u=this.__cbOnceOwnerUnbindButtonPressedBackgroundColorChange[a],(this.__cbOnceOwnerUnbindButtonPressedBackgroundColorChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindButtonPressedBackgroundColorChange[a]),c.push(this.__cbOnceButtonPressedBackgroundColorChange[a]))}this.__cbOnceOwnerUnbindButtonPressedBackgroundColorChange=o,this.__cbOnceButtonPressedBackgroundColorChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onButtonPressedBackgroundColorChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event buttonPressedBackgroundColorChange because owner is destroyed!");var l=function(e){null!=t&&(i.offButtonPressedBackgroundColorChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindButtonPressedBackgroundColorChange&&(this.__cbOnOwnerUnbindButtonPressedBackgroundColorChange=[]),this.__cbOnOwnerUnbindButtonPressedBackgroundColorChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindButtonPressedBackgroundColorChange&&(this.__cbOnOwnerUnbindButtonPressedBackgroundColorChange=[]),this.__cbOnOwnerUnbindButtonPressedBackgroundColorChange.push(null);null==this.__cbOnButtonPressedBackgroundColorChange&&(this.__cbOnButtonPressedBackgroundColorChange=[]),this.__cbOnButtonPressedBackgroundColorChange.push(t)},onceButtonPressedBackgroundColorChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event buttonPressedBackgroundColorChange because owner is destroyed!");var l=function(e){null!=t&&(i.offButtonPressedBackgroundColorChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindButtonPressedBackgroundColorChange&&(this.__cbOnceOwnerUnbindButtonPressedBackgroundColorChange=[]),this.__cbOnceOwnerUnbindButtonPressedBackgroundColorChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindButtonPressedBackgroundColorChange&&(this.__cbOnceOwnerUnbindButtonPressedBackgroundColorChange=[]),this.__cbOnceOwnerUnbindButtonPressedBackgroundColorChange.push(null);null==this.__cbOnceButtonPressedBackgroundColorChange&&(this.__cbOnceButtonPressedBackgroundColorChange=[]),this.__cbOnceButtonPressedBackgroundColorChange.push(t)},offButtonPressedBackgroundColorChange:function(e){if(null!=e){var n;null!=this.__cbOnButtonPressedBackgroundColorChange&&-1!=(n=this.__cbOnButtonPressedBackgroundColorChange.indexOf(e))&&(this.__cbOnButtonPressedBackgroundColorChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindButtonPressedBackgroundColorChange[n])&&s(),this.__cbOnOwnerUnbindButtonPressedBackgroundColorChange.splice(n,1)),null!=this.__cbOnceButtonPressedBackgroundColorChange&&-1!=(n=this.__cbOnceButtonPressedBackgroundColorChange.indexOf(e))&&(this.__cbOnceButtonPressedBackgroundColorChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindButtonPressedBackgroundColorChange[n])&&s(),this.__cbOnceOwnerUnbindButtonPressedBackgroundColorChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindButtonPressedBackgroundColorChange){for(var t=0,i=this.__cbOnOwnerUnbindButtonPressedBackgroundColorChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindButtonPressedBackgroundColorChange[l])&&s()}this.__cbOnOwnerUnbindButtonPressedBackgroundColorChange=null}if(null!=this.__cbOnceOwnerUnbindButtonPressedBackgroundColorChange){for(t=0,i=this.__cbOnceOwnerUnbindButtonPressedBackgroundColorChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindButtonPressedBackgroundColorChange[l])&&s()}this.__cbOnceOwnerUnbindButtonPressedBackgroundColorChange=null}this.__cbOnButtonPressedBackgroundColorChange=null,this.__cbOnceButtonPressedBackgroundColorChange=null}},listensButtonPressedBackgroundColorChange:function(){return null!=this.__cbOnButtonPressedBackgroundColorChange&&0<this.__cbOnButtonPressedBackgroundColorChange.length||null!=this.__cbOnceButtonPressedBackgroundColorChange&&0<this.__cbOnceButtonPressedBackgroundColorChange.length},buttonFocusedBorderColorAutoruns:null,get_buttonFocusedBorderColor:function(){var e,n,t=this.unobservedButtonFocusedBorderColor;return null!=A.current&&(e=A.current,null!=(n=this.buttonFocusedBorderColorAutoruns)||(n=A.getAutorunArray(),null!=(this.buttonFocusedBorderColorAutoruns=n)))&&e.bindToAutorunArray(n),t},set_buttonFocusedBorderColor:function(e){var n=this.unobservedButtonFocusedBorderColor;return n!=(this.unobservedButtonFocusedBorderColor=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!0)),this.emitButtonFocusedBorderColorChange(e,n),null!=(n=this.buttonFocusedBorderColorAutoruns))&&(this.buttonFocusedBorderColorAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateButtonFocusedBorderColor:function(){var e=this.unobservedButtonFocusedBorderColor,e=(this.emitButtonFocusedBorderColorChange(e,e),this.buttonFocusedBorderColorAutoruns);null!=e&&(this.buttonFocusedBorderColorAutoruns=null,A.invalidateAutorunArray(e))},unobservedButtonFocusedBorderColor:null,__cbOnButtonFocusedBorderColorChange:null,__cbOnceButtonFocusedBorderColorChange:null,__cbOnOwnerUnbindButtonFocusedBorderColorChange:null,__cbOnceOwnerUnbindButtonFocusedBorderColorChange:null,emitButtonFocusedBorderColorChange:function(e,n){var t=0;if(null!=this.__cbOnButtonFocusedBorderColorChange&&(t+=this.__cbOnButtonFocusedBorderColorChange.length),null!=this.__cbOnceButtonFocusedBorderColorChange&&(t+=this.__cbOnceButtonFocusedBorderColorChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnButtonFocusedBorderColorChange)for(var r=0,h=this.__cbOnButtonFocusedBorderColorChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnButtonFocusedBorderColorChange[a],++s):--t}if(null!=this.__cbOnceButtonFocusedBorderColorChange){for(var o=null,c=null,r=0,h=this.__cbOnceButtonFocusedBorderColorChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceButtonFocusedBorderColorChange[a],this.__cbOnceButtonFocusedBorderColorChange[a]=null,u=this.__cbOnceOwnerUnbindButtonFocusedBorderColorChange[a],(this.__cbOnceOwnerUnbindButtonFocusedBorderColorChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindButtonFocusedBorderColorChange[a]),c.push(this.__cbOnceButtonFocusedBorderColorChange[a]))}this.__cbOnceOwnerUnbindButtonFocusedBorderColorChange=o,this.__cbOnceButtonFocusedBorderColorChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onButtonFocusedBorderColorChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event buttonFocusedBorderColorChange because owner is destroyed!");var l=function(e){null!=t&&(i.offButtonFocusedBorderColorChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindButtonFocusedBorderColorChange&&(this.__cbOnOwnerUnbindButtonFocusedBorderColorChange=[]),this.__cbOnOwnerUnbindButtonFocusedBorderColorChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindButtonFocusedBorderColorChange&&(this.__cbOnOwnerUnbindButtonFocusedBorderColorChange=[]),this.__cbOnOwnerUnbindButtonFocusedBorderColorChange.push(null);null==this.__cbOnButtonFocusedBorderColorChange&&(this.__cbOnButtonFocusedBorderColorChange=[]),this.__cbOnButtonFocusedBorderColorChange.push(t)},onceButtonFocusedBorderColorChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event buttonFocusedBorderColorChange because owner is destroyed!");var l=function(e){null!=t&&(i.offButtonFocusedBorderColorChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindButtonFocusedBorderColorChange&&(this.__cbOnceOwnerUnbindButtonFocusedBorderColorChange=[]),this.__cbOnceOwnerUnbindButtonFocusedBorderColorChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindButtonFocusedBorderColorChange&&(this.__cbOnceOwnerUnbindButtonFocusedBorderColorChange=[]),this.__cbOnceOwnerUnbindButtonFocusedBorderColorChange.push(null);null==this.__cbOnceButtonFocusedBorderColorChange&&(this.__cbOnceButtonFocusedBorderColorChange=[]),this.__cbOnceButtonFocusedBorderColorChange.push(t)},offButtonFocusedBorderColorChange:function(e){if(null!=e){var n;null!=this.__cbOnButtonFocusedBorderColorChange&&-1!=(n=this.__cbOnButtonFocusedBorderColorChange.indexOf(e))&&(this.__cbOnButtonFocusedBorderColorChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindButtonFocusedBorderColorChange[n])&&s(),this.__cbOnOwnerUnbindButtonFocusedBorderColorChange.splice(n,1)),null!=this.__cbOnceButtonFocusedBorderColorChange&&-1!=(n=this.__cbOnceButtonFocusedBorderColorChange.indexOf(e))&&(this.__cbOnceButtonFocusedBorderColorChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindButtonFocusedBorderColorChange[n])&&s(),this.__cbOnceOwnerUnbindButtonFocusedBorderColorChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindButtonFocusedBorderColorChange){for(var t=0,i=this.__cbOnOwnerUnbindButtonFocusedBorderColorChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindButtonFocusedBorderColorChange[l])&&s()}this.__cbOnOwnerUnbindButtonFocusedBorderColorChange=null}if(null!=this.__cbOnceOwnerUnbindButtonFocusedBorderColorChange){for(t=0,i=this.__cbOnceOwnerUnbindButtonFocusedBorderColorChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindButtonFocusedBorderColorChange[l])&&s()}this.__cbOnceOwnerUnbindButtonFocusedBorderColorChange=null}this.__cbOnButtonFocusedBorderColorChange=null,this.__cbOnceButtonFocusedBorderColorChange=null}},listensButtonFocusedBorderColorChange:function(){return null!=this.__cbOnButtonFocusedBorderColorChange&&0<this.__cbOnButtonFocusedBorderColorChange.length||null!=this.__cbOnceButtonFocusedBorderColorChange&&0<this.__cbOnceButtonFocusedBorderColorChange.length},tabsBackgroundColorAutoruns:null,get_tabsBackgroundColor:function(){var e,n,t=this.unobservedTabsBackgroundColor;return null!=A.current&&(e=A.current,null!=(n=this.tabsBackgroundColorAutoruns)||(n=A.getAutorunArray(),null!=(this.tabsBackgroundColorAutoruns=n)))&&e.bindToAutorunArray(n),t},set_tabsBackgroundColor:function(e){var n=this.unobservedTabsBackgroundColor;return n!=(this.unobservedTabsBackgroundColor=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!0)),this.emitTabsBackgroundColorChange(e,n),null!=(n=this.tabsBackgroundColorAutoruns))&&(this.tabsBackgroundColorAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateTabsBackgroundColor:function(){var e=this.unobservedTabsBackgroundColor,e=(this.emitTabsBackgroundColorChange(e,e),this.tabsBackgroundColorAutoruns);null!=e&&(this.tabsBackgroundColorAutoruns=null,A.invalidateAutorunArray(e))},unobservedTabsBackgroundColor:null,__cbOnTabsBackgroundColorChange:null,__cbOnceTabsBackgroundColorChange:null,__cbOnOwnerUnbindTabsBackgroundColorChange:null,__cbOnceOwnerUnbindTabsBackgroundColorChange:null,emitTabsBackgroundColorChange:function(e,n){var t=0;if(null!=this.__cbOnTabsBackgroundColorChange&&(t+=this.__cbOnTabsBackgroundColorChange.length),null!=this.__cbOnceTabsBackgroundColorChange&&(t+=this.__cbOnceTabsBackgroundColorChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnTabsBackgroundColorChange)for(var r=0,h=this.__cbOnTabsBackgroundColorChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnTabsBackgroundColorChange[a],++s):--t}if(null!=this.__cbOnceTabsBackgroundColorChange){for(var o=null,c=null,r=0,h=this.__cbOnceTabsBackgroundColorChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceTabsBackgroundColorChange[a],this.__cbOnceTabsBackgroundColorChange[a]=null,u=this.__cbOnceOwnerUnbindTabsBackgroundColorChange[a],(this.__cbOnceOwnerUnbindTabsBackgroundColorChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindTabsBackgroundColorChange[a]),c.push(this.__cbOnceTabsBackgroundColorChange[a]))}this.__cbOnceOwnerUnbindTabsBackgroundColorChange=o,this.__cbOnceTabsBackgroundColorChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onTabsBackgroundColorChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event tabsBackgroundColorChange because owner is destroyed!");var l=function(e){null!=t&&(i.offTabsBackgroundColorChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindTabsBackgroundColorChange&&(this.__cbOnOwnerUnbindTabsBackgroundColorChange=[]),this.__cbOnOwnerUnbindTabsBackgroundColorChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindTabsBackgroundColorChange&&(this.__cbOnOwnerUnbindTabsBackgroundColorChange=[]),this.__cbOnOwnerUnbindTabsBackgroundColorChange.push(null);null==this.__cbOnTabsBackgroundColorChange&&(this.__cbOnTabsBackgroundColorChange=[]),this.__cbOnTabsBackgroundColorChange.push(t)},onceTabsBackgroundColorChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event tabsBackgroundColorChange because owner is destroyed!");var l=function(e){null!=t&&(i.offTabsBackgroundColorChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindTabsBackgroundColorChange&&(this.__cbOnceOwnerUnbindTabsBackgroundColorChange=[]),this.__cbOnceOwnerUnbindTabsBackgroundColorChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindTabsBackgroundColorChange&&(this.__cbOnceOwnerUnbindTabsBackgroundColorChange=[]),this.__cbOnceOwnerUnbindTabsBackgroundColorChange.push(null);null==this.__cbOnceTabsBackgroundColorChange&&(this.__cbOnceTabsBackgroundColorChange=[]),this.__cbOnceTabsBackgroundColorChange.push(t)},offTabsBackgroundColorChange:function(e){if(null!=e){var n;null!=this.__cbOnTabsBackgroundColorChange&&-1!=(n=this.__cbOnTabsBackgroundColorChange.indexOf(e))&&(this.__cbOnTabsBackgroundColorChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindTabsBackgroundColorChange[n])&&s(),this.__cbOnOwnerUnbindTabsBackgroundColorChange.splice(n,1)),null!=this.__cbOnceTabsBackgroundColorChange&&-1!=(n=this.__cbOnceTabsBackgroundColorChange.indexOf(e))&&(this.__cbOnceTabsBackgroundColorChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindTabsBackgroundColorChange[n])&&s(),this.__cbOnceOwnerUnbindTabsBackgroundColorChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindTabsBackgroundColorChange){for(var t=0,i=this.__cbOnOwnerUnbindTabsBackgroundColorChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindTabsBackgroundColorChange[l])&&s()}this.__cbOnOwnerUnbindTabsBackgroundColorChange=null}if(null!=this.__cbOnceOwnerUnbindTabsBackgroundColorChange){for(t=0,i=this.__cbOnceOwnerUnbindTabsBackgroundColorChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindTabsBackgroundColorChange[l])&&s()}this.__cbOnceOwnerUnbindTabsBackgroundColorChange=null}this.__cbOnTabsBackgroundColorChange=null,this.__cbOnceTabsBackgroundColorChange=null}},listensTabsBackgroundColorChange:function(){return null!=this.__cbOnTabsBackgroundColorChange&&0<this.__cbOnTabsBackgroundColorChange.length||null!=this.__cbOnceTabsBackgroundColorChange&&0<this.__cbOnceTabsBackgroundColorChange.length},tabsBackgroundAlphaAutoruns:null,get_tabsBackgroundAlpha:function(){var e,n,t=this.unobservedTabsBackgroundAlpha;return null!=A.current&&(e=A.current,null!=(n=this.tabsBackgroundAlphaAutoruns)||(n=A.getAutorunArray(),null!=(this.tabsBackgroundAlphaAutoruns=n)))&&e.bindToAutorunArray(n),t},set_tabsBackgroundAlpha:function(e){var n=this.unobservedTabsBackgroundAlpha;return n!=(this.unobservedTabsBackgroundAlpha=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!0)),this.emitTabsBackgroundAlphaChange(e,n),null!=(n=this.tabsBackgroundAlphaAutoruns))&&(this.tabsBackgroundAlphaAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateTabsBackgroundAlpha:function(){var e=this.unobservedTabsBackgroundAlpha,e=(this.emitTabsBackgroundAlphaChange(e,e),this.tabsBackgroundAlphaAutoruns);null!=e&&(this.tabsBackgroundAlphaAutoruns=null,A.invalidateAutorunArray(e))},unobservedTabsBackgroundAlpha:null,__cbOnTabsBackgroundAlphaChange:null,__cbOnceTabsBackgroundAlphaChange:null,__cbOnOwnerUnbindTabsBackgroundAlphaChange:null,__cbOnceOwnerUnbindTabsBackgroundAlphaChange:null,emitTabsBackgroundAlphaChange:function(e,n){var t=0;if(null!=this.__cbOnTabsBackgroundAlphaChange&&(t+=this.__cbOnTabsBackgroundAlphaChange.length),null!=this.__cbOnceTabsBackgroundAlphaChange&&(t+=this.__cbOnceTabsBackgroundAlphaChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnTabsBackgroundAlphaChange)for(var r=0,h=this.__cbOnTabsBackgroundAlphaChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnTabsBackgroundAlphaChange[a],++s):--t}if(null!=this.__cbOnceTabsBackgroundAlphaChange){for(var o=null,c=null,r=0,h=this.__cbOnceTabsBackgroundAlphaChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceTabsBackgroundAlphaChange[a],this.__cbOnceTabsBackgroundAlphaChange[a]=null,u=this.__cbOnceOwnerUnbindTabsBackgroundAlphaChange[a],(this.__cbOnceOwnerUnbindTabsBackgroundAlphaChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindTabsBackgroundAlphaChange[a]),c.push(this.__cbOnceTabsBackgroundAlphaChange[a]))}this.__cbOnceOwnerUnbindTabsBackgroundAlphaChange=o,this.__cbOnceTabsBackgroundAlphaChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onTabsBackgroundAlphaChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event tabsBackgroundAlphaChange because owner is destroyed!");var l=function(e){null!=t&&(i.offTabsBackgroundAlphaChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindTabsBackgroundAlphaChange&&(this.__cbOnOwnerUnbindTabsBackgroundAlphaChange=[]),this.__cbOnOwnerUnbindTabsBackgroundAlphaChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindTabsBackgroundAlphaChange&&(this.__cbOnOwnerUnbindTabsBackgroundAlphaChange=[]),this.__cbOnOwnerUnbindTabsBackgroundAlphaChange.push(null);null==this.__cbOnTabsBackgroundAlphaChange&&(this.__cbOnTabsBackgroundAlphaChange=[]),this.__cbOnTabsBackgroundAlphaChange.push(t)},onceTabsBackgroundAlphaChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event tabsBackgroundAlphaChange because owner is destroyed!");var l=function(e){null!=t&&(i.offTabsBackgroundAlphaChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindTabsBackgroundAlphaChange&&(this.__cbOnceOwnerUnbindTabsBackgroundAlphaChange=[]),this.__cbOnceOwnerUnbindTabsBackgroundAlphaChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindTabsBackgroundAlphaChange&&(this.__cbOnceOwnerUnbindTabsBackgroundAlphaChange=[]),this.__cbOnceOwnerUnbindTabsBackgroundAlphaChange.push(null);null==this.__cbOnceTabsBackgroundAlphaChange&&(this.__cbOnceTabsBackgroundAlphaChange=[]),this.__cbOnceTabsBackgroundAlphaChange.push(t)},offTabsBackgroundAlphaChange:function(e){if(null!=e){var n;null!=this.__cbOnTabsBackgroundAlphaChange&&-1!=(n=this.__cbOnTabsBackgroundAlphaChange.indexOf(e))&&(this.__cbOnTabsBackgroundAlphaChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindTabsBackgroundAlphaChange[n])&&s(),this.__cbOnOwnerUnbindTabsBackgroundAlphaChange.splice(n,1)),null!=this.__cbOnceTabsBackgroundAlphaChange&&-1!=(n=this.__cbOnceTabsBackgroundAlphaChange.indexOf(e))&&(this.__cbOnceTabsBackgroundAlphaChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindTabsBackgroundAlphaChange[n])&&s(),this.__cbOnceOwnerUnbindTabsBackgroundAlphaChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindTabsBackgroundAlphaChange){for(var t=0,i=this.__cbOnOwnerUnbindTabsBackgroundAlphaChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindTabsBackgroundAlphaChange[l])&&s()}this.__cbOnOwnerUnbindTabsBackgroundAlphaChange=null}if(null!=this.__cbOnceOwnerUnbindTabsBackgroundAlphaChange){for(t=0,i=this.__cbOnceOwnerUnbindTabsBackgroundAlphaChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindTabsBackgroundAlphaChange[l])&&s()}this.__cbOnceOwnerUnbindTabsBackgroundAlphaChange=null}this.__cbOnTabsBackgroundAlphaChange=null,this.__cbOnceTabsBackgroundAlphaChange=null}},listensTabsBackgroundAlphaChange:function(){return null!=this.__cbOnTabsBackgroundAlphaChange&&0<this.__cbOnTabsBackgroundAlphaChange.length||null!=this.__cbOnceTabsBackgroundAlphaChange&&0<this.__cbOnceTabsBackgroundAlphaChange.length},tabsHoverBackgroundColorAutoruns:null,get_tabsHoverBackgroundColor:function(){var e,n,t=this.unobservedTabsHoverBackgroundColor;return null!=A.current&&(e=A.current,null!=(n=this.tabsHoverBackgroundColorAutoruns)||(n=A.getAutorunArray(),null!=(this.tabsHoverBackgroundColorAutoruns=n)))&&e.bindToAutorunArray(n),t},set_tabsHoverBackgroundColor:function(e){var n=this.unobservedTabsHoverBackgroundColor;return n!=(this.unobservedTabsHoverBackgroundColor=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!0)),this.emitTabsHoverBackgroundColorChange(e,n),null!=(n=this.tabsHoverBackgroundColorAutoruns))&&(this.tabsHoverBackgroundColorAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateTabsHoverBackgroundColor:function(){var e=this.unobservedTabsHoverBackgroundColor,e=(this.emitTabsHoverBackgroundColorChange(e,e),this.tabsHoverBackgroundColorAutoruns);null!=e&&(this.tabsHoverBackgroundColorAutoruns=null,A.invalidateAutorunArray(e))},unobservedTabsHoverBackgroundColor:null,__cbOnTabsHoverBackgroundColorChange:null,__cbOnceTabsHoverBackgroundColorChange:null,__cbOnOwnerUnbindTabsHoverBackgroundColorChange:null,__cbOnceOwnerUnbindTabsHoverBackgroundColorChange:null,emitTabsHoverBackgroundColorChange:function(e,n){var t=0;if(null!=this.__cbOnTabsHoverBackgroundColorChange&&(t+=this.__cbOnTabsHoverBackgroundColorChange.length),null!=this.__cbOnceTabsHoverBackgroundColorChange&&(t+=this.__cbOnceTabsHoverBackgroundColorChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnTabsHoverBackgroundColorChange)for(var r=0,h=this.__cbOnTabsHoverBackgroundColorChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnTabsHoverBackgroundColorChange[a],++s):--t}if(null!=this.__cbOnceTabsHoverBackgroundColorChange){for(var o=null,c=null,r=0,h=this.__cbOnceTabsHoverBackgroundColorChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceTabsHoverBackgroundColorChange[a],this.__cbOnceTabsHoverBackgroundColorChange[a]=null,u=this.__cbOnceOwnerUnbindTabsHoverBackgroundColorChange[a],(this.__cbOnceOwnerUnbindTabsHoverBackgroundColorChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindTabsHoverBackgroundColorChange[a]),c.push(this.__cbOnceTabsHoverBackgroundColorChange[a]))}this.__cbOnceOwnerUnbindTabsHoverBackgroundColorChange=o,this.__cbOnceTabsHoverBackgroundColorChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onTabsHoverBackgroundColorChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event tabsHoverBackgroundColorChange because owner is destroyed!");var l=function(e){null!=t&&(i.offTabsHoverBackgroundColorChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindTabsHoverBackgroundColorChange&&(this.__cbOnOwnerUnbindTabsHoverBackgroundColorChange=[]),this.__cbOnOwnerUnbindTabsHoverBackgroundColorChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindTabsHoverBackgroundColorChange&&(this.__cbOnOwnerUnbindTabsHoverBackgroundColorChange=[]),this.__cbOnOwnerUnbindTabsHoverBackgroundColorChange.push(null);null==this.__cbOnTabsHoverBackgroundColorChange&&(this.__cbOnTabsHoverBackgroundColorChange=[]),this.__cbOnTabsHoverBackgroundColorChange.push(t)},onceTabsHoverBackgroundColorChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event tabsHoverBackgroundColorChange because owner is destroyed!");var l=function(e){null!=t&&(i.offTabsHoverBackgroundColorChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindTabsHoverBackgroundColorChange&&(this.__cbOnceOwnerUnbindTabsHoverBackgroundColorChange=[]),this.__cbOnceOwnerUnbindTabsHoverBackgroundColorChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindTabsHoverBackgroundColorChange&&(this.__cbOnceOwnerUnbindTabsHoverBackgroundColorChange=[]),this.__cbOnceOwnerUnbindTabsHoverBackgroundColorChange.push(null);null==this.__cbOnceTabsHoverBackgroundColorChange&&(this.__cbOnceTabsHoverBackgroundColorChange=[]),this.__cbOnceTabsHoverBackgroundColorChange.push(t)},offTabsHoverBackgroundColorChange:function(e){if(null!=e){var n;null!=this.__cbOnTabsHoverBackgroundColorChange&&-1!=(n=this.__cbOnTabsHoverBackgroundColorChange.indexOf(e))&&(this.__cbOnTabsHoverBackgroundColorChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindTabsHoverBackgroundColorChange[n])&&s(),this.__cbOnOwnerUnbindTabsHoverBackgroundColorChange.splice(n,1)),null!=this.__cbOnceTabsHoverBackgroundColorChange&&-1!=(n=this.__cbOnceTabsHoverBackgroundColorChange.indexOf(e))&&(this.__cbOnceTabsHoverBackgroundColorChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindTabsHoverBackgroundColorChange[n])&&s(),this.__cbOnceOwnerUnbindTabsHoverBackgroundColorChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindTabsHoverBackgroundColorChange){for(var t=0,i=this.__cbOnOwnerUnbindTabsHoverBackgroundColorChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindTabsHoverBackgroundColorChange[l])&&s()}this.__cbOnOwnerUnbindTabsHoverBackgroundColorChange=null}if(null!=this.__cbOnceOwnerUnbindTabsHoverBackgroundColorChange){for(t=0,i=this.__cbOnceOwnerUnbindTabsHoverBackgroundColorChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindTabsHoverBackgroundColorChange[l])&&s()}this.__cbOnceOwnerUnbindTabsHoverBackgroundColorChange=null}this.__cbOnTabsHoverBackgroundColorChange=null,this.__cbOnceTabsHoverBackgroundColorChange=null}},listensTabsHoverBackgroundColorChange:function(){return null!=this.__cbOnTabsHoverBackgroundColorChange&&0<this.__cbOnTabsHoverBackgroundColorChange.length||null!=this.__cbOnceTabsHoverBackgroundColorChange&&0<this.__cbOnceTabsHoverBackgroundColorChange.length},tabsHoverBackgroundAlphaAutoruns:null,get_tabsHoverBackgroundAlpha:function(){var e,n,t=this.unobservedTabsHoverBackgroundAlpha;return null!=A.current&&(e=A.current,null!=(n=this.tabsHoverBackgroundAlphaAutoruns)||(n=A.getAutorunArray(),null!=(this.tabsHoverBackgroundAlphaAutoruns=n)))&&e.bindToAutorunArray(n),t},set_tabsHoverBackgroundAlpha:function(e){var n=this.unobservedTabsHoverBackgroundAlpha;return n!=(this.unobservedTabsHoverBackgroundAlpha=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!0)),this.emitTabsHoverBackgroundAlphaChange(e,n),null!=(n=this.tabsHoverBackgroundAlphaAutoruns))&&(this.tabsHoverBackgroundAlphaAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateTabsHoverBackgroundAlpha:function(){var e=this.unobservedTabsHoverBackgroundAlpha,e=(this.emitTabsHoverBackgroundAlphaChange(e,e),this.tabsHoverBackgroundAlphaAutoruns);null!=e&&(this.tabsHoverBackgroundAlphaAutoruns=null,A.invalidateAutorunArray(e))},unobservedTabsHoverBackgroundAlpha:null,__cbOnTabsHoverBackgroundAlphaChange:null,__cbOnceTabsHoverBackgroundAlphaChange:null,__cbOnOwnerUnbindTabsHoverBackgroundAlphaChange:null,__cbOnceOwnerUnbindTabsHoverBackgroundAlphaChange:null,emitTabsHoverBackgroundAlphaChange:function(e,n){var t=0;if(null!=this.__cbOnTabsHoverBackgroundAlphaChange&&(t+=this.__cbOnTabsHoverBackgroundAlphaChange.length),null!=this.__cbOnceTabsHoverBackgroundAlphaChange&&(t+=this.__cbOnceTabsHoverBackgroundAlphaChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnTabsHoverBackgroundAlphaChange)for(var r=0,h=this.__cbOnTabsHoverBackgroundAlphaChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnTabsHoverBackgroundAlphaChange[a],++s):--t}if(null!=this.__cbOnceTabsHoverBackgroundAlphaChange){for(var o=null,c=null,r=0,h=this.__cbOnceTabsHoverBackgroundAlphaChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceTabsHoverBackgroundAlphaChange[a],this.__cbOnceTabsHoverBackgroundAlphaChange[a]=null,u=this.__cbOnceOwnerUnbindTabsHoverBackgroundAlphaChange[a],(this.__cbOnceOwnerUnbindTabsHoverBackgroundAlphaChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindTabsHoverBackgroundAlphaChange[a]),c.push(this.__cbOnceTabsHoverBackgroundAlphaChange[a]))}this.__cbOnceOwnerUnbindTabsHoverBackgroundAlphaChange=o,this.__cbOnceTabsHoverBackgroundAlphaChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onTabsHoverBackgroundAlphaChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event tabsHoverBackgroundAlphaChange because owner is destroyed!");var l=function(e){null!=t&&(i.offTabsHoverBackgroundAlphaChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindTabsHoverBackgroundAlphaChange&&(this.__cbOnOwnerUnbindTabsHoverBackgroundAlphaChange=[]),this.__cbOnOwnerUnbindTabsHoverBackgroundAlphaChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindTabsHoverBackgroundAlphaChange&&(this.__cbOnOwnerUnbindTabsHoverBackgroundAlphaChange=[]),this.__cbOnOwnerUnbindTabsHoverBackgroundAlphaChange.push(null);null==this.__cbOnTabsHoverBackgroundAlphaChange&&(this.__cbOnTabsHoverBackgroundAlphaChange=[]),this.__cbOnTabsHoverBackgroundAlphaChange.push(t)},onceTabsHoverBackgroundAlphaChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event tabsHoverBackgroundAlphaChange because owner is destroyed!");var l=function(e){null!=t&&(i.offTabsHoverBackgroundAlphaChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindTabsHoverBackgroundAlphaChange&&(this.__cbOnceOwnerUnbindTabsHoverBackgroundAlphaChange=[]),this.__cbOnceOwnerUnbindTabsHoverBackgroundAlphaChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindTabsHoverBackgroundAlphaChange&&(this.__cbOnceOwnerUnbindTabsHoverBackgroundAlphaChange=[]),this.__cbOnceOwnerUnbindTabsHoverBackgroundAlphaChange.push(null);null==this.__cbOnceTabsHoverBackgroundAlphaChange&&(this.__cbOnceTabsHoverBackgroundAlphaChange=[]),this.__cbOnceTabsHoverBackgroundAlphaChange.push(t)},offTabsHoverBackgroundAlphaChange:function(e){if(null!=e){var n;null!=this.__cbOnTabsHoverBackgroundAlphaChange&&-1!=(n=this.__cbOnTabsHoverBackgroundAlphaChange.indexOf(e))&&(this.__cbOnTabsHoverBackgroundAlphaChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindTabsHoverBackgroundAlphaChange[n])&&s(),this.__cbOnOwnerUnbindTabsHoverBackgroundAlphaChange.splice(n,1)),null!=this.__cbOnceTabsHoverBackgroundAlphaChange&&-1!=(n=this.__cbOnceTabsHoverBackgroundAlphaChange.indexOf(e))&&(this.__cbOnceTabsHoverBackgroundAlphaChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindTabsHoverBackgroundAlphaChange[n])&&s(),this.__cbOnceOwnerUnbindTabsHoverBackgroundAlphaChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindTabsHoverBackgroundAlphaChange){for(var t=0,i=this.__cbOnOwnerUnbindTabsHoverBackgroundAlphaChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindTabsHoverBackgroundAlphaChange[l])&&s()}this.__cbOnOwnerUnbindTabsHoverBackgroundAlphaChange=null}if(null!=this.__cbOnceOwnerUnbindTabsHoverBackgroundAlphaChange){for(t=0,i=this.__cbOnceOwnerUnbindTabsHoverBackgroundAlphaChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindTabsHoverBackgroundAlphaChange[l])&&s()}this.__cbOnceOwnerUnbindTabsHoverBackgroundAlphaChange=null}this.__cbOnTabsHoverBackgroundAlphaChange=null,this.__cbOnceTabsHoverBackgroundAlphaChange=null}},listensTabsHoverBackgroundAlphaChange:function(){return null!=this.__cbOnTabsHoverBackgroundAlphaChange&&0<this.__cbOnTabsHoverBackgroundAlphaChange.length||null!=this.__cbOnceTabsHoverBackgroundAlphaChange&&0<this.__cbOnceTabsHoverBackgroundAlphaChange.length},tabsBorderColorAutoruns:null,get_tabsBorderColor:function(){var e,n,t=this.unobservedTabsBorderColor;return null!=A.current&&(e=A.current,null!=(n=this.tabsBorderColorAutoruns)||(n=A.getAutorunArray(),null!=(this.tabsBorderColorAutoruns=n)))&&e.bindToAutorunArray(n),t},set_tabsBorderColor:function(e){var n=this.unobservedTabsBorderColor;return n!=(this.unobservedTabsBorderColor=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!0)),this.emitTabsBorderColorChange(e,n),null!=(n=this.tabsBorderColorAutoruns))&&(this.tabsBorderColorAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateTabsBorderColor:function(){var e=this.unobservedTabsBorderColor,e=(this.emitTabsBorderColorChange(e,e),this.tabsBorderColorAutoruns);null!=e&&(this.tabsBorderColorAutoruns=null,A.invalidateAutorunArray(e))},unobservedTabsBorderColor:null,__cbOnTabsBorderColorChange:null,__cbOnceTabsBorderColorChange:null,__cbOnOwnerUnbindTabsBorderColorChange:null,__cbOnceOwnerUnbindTabsBorderColorChange:null,emitTabsBorderColorChange:function(e,n){var t=0;if(null!=this.__cbOnTabsBorderColorChange&&(t+=this.__cbOnTabsBorderColorChange.length),null!=this.__cbOnceTabsBorderColorChange&&(t+=this.__cbOnceTabsBorderColorChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnTabsBorderColorChange)for(var r=0,h=this.__cbOnTabsBorderColorChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnTabsBorderColorChange[a],++s):--t}if(null!=this.__cbOnceTabsBorderColorChange){for(var o=null,c=null,r=0,h=this.__cbOnceTabsBorderColorChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceTabsBorderColorChange[a],this.__cbOnceTabsBorderColorChange[a]=null,u=this.__cbOnceOwnerUnbindTabsBorderColorChange[a],(this.__cbOnceOwnerUnbindTabsBorderColorChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindTabsBorderColorChange[a]),c.push(this.__cbOnceTabsBorderColorChange[a]))}this.__cbOnceOwnerUnbindTabsBorderColorChange=o,this.__cbOnceTabsBorderColorChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onTabsBorderColorChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event tabsBorderColorChange because owner is destroyed!");var l=function(e){null!=t&&(i.offTabsBorderColorChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindTabsBorderColorChange&&(this.__cbOnOwnerUnbindTabsBorderColorChange=[]),this.__cbOnOwnerUnbindTabsBorderColorChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindTabsBorderColorChange&&(this.__cbOnOwnerUnbindTabsBorderColorChange=[]),this.__cbOnOwnerUnbindTabsBorderColorChange.push(null);null==this.__cbOnTabsBorderColorChange&&(this.__cbOnTabsBorderColorChange=[]),this.__cbOnTabsBorderColorChange.push(t)},onceTabsBorderColorChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event tabsBorderColorChange because owner is destroyed!");var l=function(e){null!=t&&(i.offTabsBorderColorChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindTabsBorderColorChange&&(this.__cbOnceOwnerUnbindTabsBorderColorChange=[]),this.__cbOnceOwnerUnbindTabsBorderColorChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindTabsBorderColorChange&&(this.__cbOnceOwnerUnbindTabsBorderColorChange=[]),this.__cbOnceOwnerUnbindTabsBorderColorChange.push(null);null==this.__cbOnceTabsBorderColorChange&&(this.__cbOnceTabsBorderColorChange=[]),this.__cbOnceTabsBorderColorChange.push(t)},offTabsBorderColorChange:function(e){if(null!=e){var n;null!=this.__cbOnTabsBorderColorChange&&-1!=(n=this.__cbOnTabsBorderColorChange.indexOf(e))&&(this.__cbOnTabsBorderColorChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindTabsBorderColorChange[n])&&s(),this.__cbOnOwnerUnbindTabsBorderColorChange.splice(n,1)),null!=this.__cbOnceTabsBorderColorChange&&-1!=(n=this.__cbOnceTabsBorderColorChange.indexOf(e))&&(this.__cbOnceTabsBorderColorChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindTabsBorderColorChange[n])&&s(),this.__cbOnceOwnerUnbindTabsBorderColorChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindTabsBorderColorChange){for(var t=0,i=this.__cbOnOwnerUnbindTabsBorderColorChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindTabsBorderColorChange[l])&&s()}this.__cbOnOwnerUnbindTabsBorderColorChange=null}if(null!=this.__cbOnceOwnerUnbindTabsBorderColorChange){for(t=0,i=this.__cbOnceOwnerUnbindTabsBorderColorChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindTabsBorderColorChange[l])&&s()}this.__cbOnceOwnerUnbindTabsBorderColorChange=null}this.__cbOnTabsBorderColorChange=null,this.__cbOnceTabsBorderColorChange=null}},listensTabsBorderColorChange:function(){return null!=this.__cbOnTabsBorderColorChange&&0<this.__cbOnTabsBorderColorChange.length||null!=this.__cbOnceTabsBorderColorChange&&0<this.__cbOnceTabsBorderColorChange.length},disabledTabTextAlphaAutoruns:null,get_disabledTabTextAlpha:function(){var e,n,t=this.unobservedDisabledTabTextAlpha;return null!=A.current&&(e=A.current,null!=(n=this.disabledTabTextAlphaAutoruns)||(n=A.getAutorunArray(),null!=(this.disabledTabTextAlphaAutoruns=n)))&&e.bindToAutorunArray(n),t},set_disabledTabTextAlpha:function(e){var n=this.unobservedDisabledTabTextAlpha;return n!=(this.unobservedDisabledTabTextAlpha=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!0)),this.emitDisabledTabTextAlphaChange(e,n),null!=(n=this.disabledTabTextAlphaAutoruns))&&(this.disabledTabTextAlphaAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateDisabledTabTextAlpha:function(){var e=this.unobservedDisabledTabTextAlpha,e=(this.emitDisabledTabTextAlphaChange(e,e),this.disabledTabTextAlphaAutoruns);null!=e&&(this.disabledTabTextAlphaAutoruns=null,A.invalidateAutorunArray(e))},unobservedDisabledTabTextAlpha:null,__cbOnDisabledTabTextAlphaChange:null,__cbOnceDisabledTabTextAlphaChange:null,__cbOnOwnerUnbindDisabledTabTextAlphaChange:null,__cbOnceOwnerUnbindDisabledTabTextAlphaChange:null,emitDisabledTabTextAlphaChange:function(e,n){var t=0;if(null!=this.__cbOnDisabledTabTextAlphaChange&&(t+=this.__cbOnDisabledTabTextAlphaChange.length),null!=this.__cbOnceDisabledTabTextAlphaChange&&(t+=this.__cbOnceDisabledTabTextAlphaChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnDisabledTabTextAlphaChange)for(var r=0,h=this.__cbOnDisabledTabTextAlphaChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnDisabledTabTextAlphaChange[a],++s):--t}if(null!=this.__cbOnceDisabledTabTextAlphaChange){for(var o=null,c=null,r=0,h=this.__cbOnceDisabledTabTextAlphaChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceDisabledTabTextAlphaChange[a],this.__cbOnceDisabledTabTextAlphaChange[a]=null,u=this.__cbOnceOwnerUnbindDisabledTabTextAlphaChange[a],(this.__cbOnceOwnerUnbindDisabledTabTextAlphaChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindDisabledTabTextAlphaChange[a]),c.push(this.__cbOnceDisabledTabTextAlphaChange[a]))}this.__cbOnceOwnerUnbindDisabledTabTextAlphaChange=o,this.__cbOnceDisabledTabTextAlphaChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onDisabledTabTextAlphaChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event disabledTabTextAlphaChange because owner is destroyed!");var l=function(e){null!=t&&(i.offDisabledTabTextAlphaChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindDisabledTabTextAlphaChange&&(this.__cbOnOwnerUnbindDisabledTabTextAlphaChange=[]),this.__cbOnOwnerUnbindDisabledTabTextAlphaChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindDisabledTabTextAlphaChange&&(this.__cbOnOwnerUnbindDisabledTabTextAlphaChange=[]),this.__cbOnOwnerUnbindDisabledTabTextAlphaChange.push(null);null==this.__cbOnDisabledTabTextAlphaChange&&(this.__cbOnDisabledTabTextAlphaChange=[]),this.__cbOnDisabledTabTextAlphaChange.push(t)},onceDisabledTabTextAlphaChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event disabledTabTextAlphaChange because owner is destroyed!");var l=function(e){null!=t&&(i.offDisabledTabTextAlphaChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindDisabledTabTextAlphaChange&&(this.__cbOnceOwnerUnbindDisabledTabTextAlphaChange=[]),this.__cbOnceOwnerUnbindDisabledTabTextAlphaChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindDisabledTabTextAlphaChange&&(this.__cbOnceOwnerUnbindDisabledTabTextAlphaChange=[]),this.__cbOnceOwnerUnbindDisabledTabTextAlphaChange.push(null);null==this.__cbOnceDisabledTabTextAlphaChange&&(this.__cbOnceDisabledTabTextAlphaChange=[]),this.__cbOnceDisabledTabTextAlphaChange.push(t)},offDisabledTabTextAlphaChange:function(e){if(null!=e){var n;null!=this.__cbOnDisabledTabTextAlphaChange&&-1!=(n=this.__cbOnDisabledTabTextAlphaChange.indexOf(e))&&(this.__cbOnDisabledTabTextAlphaChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindDisabledTabTextAlphaChange[n])&&s(),this.__cbOnOwnerUnbindDisabledTabTextAlphaChange.splice(n,1)),null!=this.__cbOnceDisabledTabTextAlphaChange&&-1!=(n=this.__cbOnceDisabledTabTextAlphaChange.indexOf(e))&&(this.__cbOnceDisabledTabTextAlphaChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindDisabledTabTextAlphaChange[n])&&s(),this.__cbOnceOwnerUnbindDisabledTabTextAlphaChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindDisabledTabTextAlphaChange){for(var t=0,i=this.__cbOnOwnerUnbindDisabledTabTextAlphaChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindDisabledTabTextAlphaChange[l])&&s()}this.__cbOnOwnerUnbindDisabledTabTextAlphaChange=null}if(null!=this.__cbOnceOwnerUnbindDisabledTabTextAlphaChange){for(t=0,i=this.__cbOnceOwnerUnbindDisabledTabTextAlphaChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindDisabledTabTextAlphaChange[l])&&s()}this.__cbOnceOwnerUnbindDisabledTabTextAlphaChange=null}this.__cbOnDisabledTabTextAlphaChange=null,this.__cbOnceDisabledTabTextAlphaChange=null}},listensDisabledTabTextAlphaChange:function(){return null!=this.__cbOnDisabledTabTextAlphaChange&&0<this.__cbOnDisabledTabTextAlphaChange.length||null!=this.__cbOnceDisabledTabTextAlphaChange&&0<this.__cbOnceDisabledTabTextAlphaChange.length},disabledTabBorderAlphaAutoruns:null,get_disabledTabBorderAlpha:function(){var e,n,t=this.unobservedDisabledTabBorderAlpha;return null!=A.current&&(e=A.current,null!=(n=this.disabledTabBorderAlphaAutoruns)||(n=A.getAutorunArray(),null!=(this.disabledTabBorderAlphaAutoruns=n)))&&e.bindToAutorunArray(n),t},set_disabledTabBorderAlpha:function(e){var n=this.unobservedDisabledTabBorderAlpha;return n!=(this.unobservedDisabledTabBorderAlpha=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!0)),this.emitDisabledTabBorderAlphaChange(e,n),null!=(n=this.disabledTabBorderAlphaAutoruns))&&(this.disabledTabBorderAlphaAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateDisabledTabBorderAlpha:function(){var e=this.unobservedDisabledTabBorderAlpha,e=(this.emitDisabledTabBorderAlphaChange(e,e),this.disabledTabBorderAlphaAutoruns);null!=e&&(this.disabledTabBorderAlphaAutoruns=null,A.invalidateAutorunArray(e))},unobservedDisabledTabBorderAlpha:null,__cbOnDisabledTabBorderAlphaChange:null,__cbOnceDisabledTabBorderAlphaChange:null,__cbOnOwnerUnbindDisabledTabBorderAlphaChange:null,__cbOnceOwnerUnbindDisabledTabBorderAlphaChange:null,emitDisabledTabBorderAlphaChange:function(e,n){var t=0;if(null!=this.__cbOnDisabledTabBorderAlphaChange&&(t+=this.__cbOnDisabledTabBorderAlphaChange.length),null!=this.__cbOnceDisabledTabBorderAlphaChange&&(t+=this.__cbOnceDisabledTabBorderAlphaChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnDisabledTabBorderAlphaChange)for(var r=0,h=this.__cbOnDisabledTabBorderAlphaChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnDisabledTabBorderAlphaChange[a],++s):--t}if(null!=this.__cbOnceDisabledTabBorderAlphaChange){for(var o=null,c=null,r=0,h=this.__cbOnceDisabledTabBorderAlphaChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceDisabledTabBorderAlphaChange[a],this.__cbOnceDisabledTabBorderAlphaChange[a]=null,u=this.__cbOnceOwnerUnbindDisabledTabBorderAlphaChange[a],(this.__cbOnceOwnerUnbindDisabledTabBorderAlphaChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindDisabledTabBorderAlphaChange[a]),c.push(this.__cbOnceDisabledTabBorderAlphaChange[a]))}this.__cbOnceOwnerUnbindDisabledTabBorderAlphaChange=o,this.__cbOnceDisabledTabBorderAlphaChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onDisabledTabBorderAlphaChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event disabledTabBorderAlphaChange because owner is destroyed!");var l=function(e){null!=t&&(i.offDisabledTabBorderAlphaChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindDisabledTabBorderAlphaChange&&(this.__cbOnOwnerUnbindDisabledTabBorderAlphaChange=[]),this.__cbOnOwnerUnbindDisabledTabBorderAlphaChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindDisabledTabBorderAlphaChange&&(this.__cbOnOwnerUnbindDisabledTabBorderAlphaChange=[]),this.__cbOnOwnerUnbindDisabledTabBorderAlphaChange.push(null);null==this.__cbOnDisabledTabBorderAlphaChange&&(this.__cbOnDisabledTabBorderAlphaChange=[]),this.__cbOnDisabledTabBorderAlphaChange.push(t)},onceDisabledTabBorderAlphaChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event disabledTabBorderAlphaChange because owner is destroyed!");var l=function(e){null!=t&&(i.offDisabledTabBorderAlphaChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindDisabledTabBorderAlphaChange&&(this.__cbOnceOwnerUnbindDisabledTabBorderAlphaChange=[]),this.__cbOnceOwnerUnbindDisabledTabBorderAlphaChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindDisabledTabBorderAlphaChange&&(this.__cbOnceOwnerUnbindDisabledTabBorderAlphaChange=[]),this.__cbOnceOwnerUnbindDisabledTabBorderAlphaChange.push(null);null==this.__cbOnceDisabledTabBorderAlphaChange&&(this.__cbOnceDisabledTabBorderAlphaChange=[]),this.__cbOnceDisabledTabBorderAlphaChange.push(t)},offDisabledTabBorderAlphaChange:function(e){if(null!=e){var n;null!=this.__cbOnDisabledTabBorderAlphaChange&&-1!=(n=this.__cbOnDisabledTabBorderAlphaChange.indexOf(e))&&(this.__cbOnDisabledTabBorderAlphaChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindDisabledTabBorderAlphaChange[n])&&s(),this.__cbOnOwnerUnbindDisabledTabBorderAlphaChange.splice(n,1)),null!=this.__cbOnceDisabledTabBorderAlphaChange&&-1!=(n=this.__cbOnceDisabledTabBorderAlphaChange.indexOf(e))&&(this.__cbOnceDisabledTabBorderAlphaChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindDisabledTabBorderAlphaChange[n])&&s(),this.__cbOnceOwnerUnbindDisabledTabBorderAlphaChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindDisabledTabBorderAlphaChange){for(var t=0,i=this.__cbOnOwnerUnbindDisabledTabBorderAlphaChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindDisabledTabBorderAlphaChange[l])&&s()}this.__cbOnOwnerUnbindDisabledTabBorderAlphaChange=null}if(null!=this.__cbOnceOwnerUnbindDisabledTabBorderAlphaChange){for(t=0,i=this.__cbOnceOwnerUnbindDisabledTabBorderAlphaChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindDisabledTabBorderAlphaChange[l])&&s()}this.__cbOnceOwnerUnbindDisabledTabBorderAlphaChange=null}this.__cbOnDisabledTabBorderAlphaChange=null,this.__cbOnceDisabledTabBorderAlphaChange=null}},listensDisabledTabBorderAlphaChange:function(){return null!=this.__cbOnDisabledTabBorderAlphaChange&&0<this.__cbOnDisabledTabBorderAlphaChange.length||null!=this.__cbOnceDisabledTabBorderAlphaChange&&0<this.__cbOnceDisabledTabBorderAlphaChange.length},windowBackgroundColorAutoruns:null,get_windowBackgroundColor:function(){var e,n,t=this.unobservedWindowBackgroundColor;return null!=A.current&&(e=A.current,null!=(n=this.windowBackgroundColorAutoruns)||(n=A.getAutorunArray(),null!=(this.windowBackgroundColorAutoruns=n)))&&e.bindToAutorunArray(n),t},set_windowBackgroundColor:function(e){var n=this.unobservedWindowBackgroundColor;return n!=(this.unobservedWindowBackgroundColor=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!0)),this.emitWindowBackgroundColorChange(e,n),null!=(n=this.windowBackgroundColorAutoruns))&&(this.windowBackgroundColorAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateWindowBackgroundColor:function(){var e=this.unobservedWindowBackgroundColor,e=(this.emitWindowBackgroundColorChange(e,e),this.windowBackgroundColorAutoruns);null!=e&&(this.windowBackgroundColorAutoruns=null,A.invalidateAutorunArray(e))},unobservedWindowBackgroundColor:null,__cbOnWindowBackgroundColorChange:null,__cbOnceWindowBackgroundColorChange:null,__cbOnOwnerUnbindWindowBackgroundColorChange:null,__cbOnceOwnerUnbindWindowBackgroundColorChange:null,emitWindowBackgroundColorChange:function(e,n){var t=0;if(null!=this.__cbOnWindowBackgroundColorChange&&(t+=this.__cbOnWindowBackgroundColorChange.length),null!=this.__cbOnceWindowBackgroundColorChange&&(t+=this.__cbOnceWindowBackgroundColorChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnWindowBackgroundColorChange)for(var r=0,h=this.__cbOnWindowBackgroundColorChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnWindowBackgroundColorChange[a],++s):--t}if(null!=this.__cbOnceWindowBackgroundColorChange){for(var o=null,c=null,r=0,h=this.__cbOnceWindowBackgroundColorChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceWindowBackgroundColorChange[a],this.__cbOnceWindowBackgroundColorChange[a]=null,u=this.__cbOnceOwnerUnbindWindowBackgroundColorChange[a],(this.__cbOnceOwnerUnbindWindowBackgroundColorChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindWindowBackgroundColorChange[a]),c.push(this.__cbOnceWindowBackgroundColorChange[a]))}this.__cbOnceOwnerUnbindWindowBackgroundColorChange=o,this.__cbOnceWindowBackgroundColorChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onWindowBackgroundColorChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event windowBackgroundColorChange because owner is destroyed!");var l=function(e){null!=t&&(i.offWindowBackgroundColorChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindWindowBackgroundColorChange&&(this.__cbOnOwnerUnbindWindowBackgroundColorChange=[]),this.__cbOnOwnerUnbindWindowBackgroundColorChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindWindowBackgroundColorChange&&(this.__cbOnOwnerUnbindWindowBackgroundColorChange=[]),this.__cbOnOwnerUnbindWindowBackgroundColorChange.push(null);null==this.__cbOnWindowBackgroundColorChange&&(this.__cbOnWindowBackgroundColorChange=[]),this.__cbOnWindowBackgroundColorChange.push(t)},onceWindowBackgroundColorChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event windowBackgroundColorChange because owner is destroyed!");var l=function(e){null!=t&&(i.offWindowBackgroundColorChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindWindowBackgroundColorChange&&(this.__cbOnceOwnerUnbindWindowBackgroundColorChange=[]),this.__cbOnceOwnerUnbindWindowBackgroundColorChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindWindowBackgroundColorChange&&(this.__cbOnceOwnerUnbindWindowBackgroundColorChange=[]),this.__cbOnceOwnerUnbindWindowBackgroundColorChange.push(null);null==this.__cbOnceWindowBackgroundColorChange&&(this.__cbOnceWindowBackgroundColorChange=[]),this.__cbOnceWindowBackgroundColorChange.push(t)},offWindowBackgroundColorChange:function(e){if(null!=e){var n;null!=this.__cbOnWindowBackgroundColorChange&&-1!=(n=this.__cbOnWindowBackgroundColorChange.indexOf(e))&&(this.__cbOnWindowBackgroundColorChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindWindowBackgroundColorChange[n])&&s(),this.__cbOnOwnerUnbindWindowBackgroundColorChange.splice(n,1)),null!=this.__cbOnceWindowBackgroundColorChange&&-1!=(n=this.__cbOnceWindowBackgroundColorChange.indexOf(e))&&(this.__cbOnceWindowBackgroundColorChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindWindowBackgroundColorChange[n])&&s(),this.__cbOnceOwnerUnbindWindowBackgroundColorChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindWindowBackgroundColorChange){for(var t=0,i=this.__cbOnOwnerUnbindWindowBackgroundColorChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindWindowBackgroundColorChange[l])&&s()}this.__cbOnOwnerUnbindWindowBackgroundColorChange=null}if(null!=this.__cbOnceOwnerUnbindWindowBackgroundColorChange){for(t=0,i=this.__cbOnceOwnerUnbindWindowBackgroundColorChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindWindowBackgroundColorChange[l])&&s()}this.__cbOnceOwnerUnbindWindowBackgroundColorChange=null}this.__cbOnWindowBackgroundColorChange=null,this.__cbOnceWindowBackgroundColorChange=null}},listensWindowBackgroundColorChange:function(){return null!=this.__cbOnWindowBackgroundColorChange&&0<this.__cbOnWindowBackgroundColorChange.length||null!=this.__cbOnceWindowBackgroundColorChange&&0<this.__cbOnceWindowBackgroundColorChange.length},windowBackgroundAlphaAutoruns:null,get_windowBackgroundAlpha:function(){var e,n,t=this.unobservedWindowBackgroundAlpha;return null!=A.current&&(e=A.current,null!=(n=this.windowBackgroundAlphaAutoruns)||(n=A.getAutorunArray(),null!=(this.windowBackgroundAlphaAutoruns=n)))&&e.bindToAutorunArray(n),t},set_windowBackgroundAlpha:function(e){var n=this.unobservedWindowBackgroundAlpha;return n!=(this.unobservedWindowBackgroundAlpha=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!0)),this.emitWindowBackgroundAlphaChange(e,n),null!=(n=this.windowBackgroundAlphaAutoruns))&&(this.windowBackgroundAlphaAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateWindowBackgroundAlpha:function(){var e=this.unobservedWindowBackgroundAlpha,e=(this.emitWindowBackgroundAlphaChange(e,e),this.windowBackgroundAlphaAutoruns);null!=e&&(this.windowBackgroundAlphaAutoruns=null,A.invalidateAutorunArray(e))},unobservedWindowBackgroundAlpha:null,__cbOnWindowBackgroundAlphaChange:null,__cbOnceWindowBackgroundAlphaChange:null,__cbOnOwnerUnbindWindowBackgroundAlphaChange:null,__cbOnceOwnerUnbindWindowBackgroundAlphaChange:null,emitWindowBackgroundAlphaChange:function(e,n){var t=0;if(null!=this.__cbOnWindowBackgroundAlphaChange&&(t+=this.__cbOnWindowBackgroundAlphaChange.length),null!=this.__cbOnceWindowBackgroundAlphaChange&&(t+=this.__cbOnceWindowBackgroundAlphaChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnWindowBackgroundAlphaChange)for(var r=0,h=this.__cbOnWindowBackgroundAlphaChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnWindowBackgroundAlphaChange[a],++s):--t}if(null!=this.__cbOnceWindowBackgroundAlphaChange){for(var o=null,c=null,r=0,h=this.__cbOnceWindowBackgroundAlphaChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceWindowBackgroundAlphaChange[a],this.__cbOnceWindowBackgroundAlphaChange[a]=null,u=this.__cbOnceOwnerUnbindWindowBackgroundAlphaChange[a],(this.__cbOnceOwnerUnbindWindowBackgroundAlphaChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindWindowBackgroundAlphaChange[a]),c.push(this.__cbOnceWindowBackgroundAlphaChange[a]))}this.__cbOnceOwnerUnbindWindowBackgroundAlphaChange=o,this.__cbOnceWindowBackgroundAlphaChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onWindowBackgroundAlphaChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event windowBackgroundAlphaChange because owner is destroyed!");var l=function(e){null!=t&&(i.offWindowBackgroundAlphaChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindWindowBackgroundAlphaChange&&(this.__cbOnOwnerUnbindWindowBackgroundAlphaChange=[]),this.__cbOnOwnerUnbindWindowBackgroundAlphaChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindWindowBackgroundAlphaChange&&(this.__cbOnOwnerUnbindWindowBackgroundAlphaChange=[]),this.__cbOnOwnerUnbindWindowBackgroundAlphaChange.push(null);null==this.__cbOnWindowBackgroundAlphaChange&&(this.__cbOnWindowBackgroundAlphaChange=[]),this.__cbOnWindowBackgroundAlphaChange.push(t)},onceWindowBackgroundAlphaChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event windowBackgroundAlphaChange because owner is destroyed!");var l=function(e){null!=t&&(i.offWindowBackgroundAlphaChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindWindowBackgroundAlphaChange&&(this.__cbOnceOwnerUnbindWindowBackgroundAlphaChange=[]),this.__cbOnceOwnerUnbindWindowBackgroundAlphaChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindWindowBackgroundAlphaChange&&(this.__cbOnceOwnerUnbindWindowBackgroundAlphaChange=[]),this.__cbOnceOwnerUnbindWindowBackgroundAlphaChange.push(null);null==this.__cbOnceWindowBackgroundAlphaChange&&(this.__cbOnceWindowBackgroundAlphaChange=[]),this.__cbOnceWindowBackgroundAlphaChange.push(t)},offWindowBackgroundAlphaChange:function(e){if(null!=e){var n;null!=this.__cbOnWindowBackgroundAlphaChange&&-1!=(n=this.__cbOnWindowBackgroundAlphaChange.indexOf(e))&&(this.__cbOnWindowBackgroundAlphaChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindWindowBackgroundAlphaChange[n])&&s(),this.__cbOnOwnerUnbindWindowBackgroundAlphaChange.splice(n,1)),null!=this.__cbOnceWindowBackgroundAlphaChange&&-1!=(n=this.__cbOnceWindowBackgroundAlphaChange.indexOf(e))&&(this.__cbOnceWindowBackgroundAlphaChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindWindowBackgroundAlphaChange[n])&&s(),this.__cbOnceOwnerUnbindWindowBackgroundAlphaChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindWindowBackgroundAlphaChange){for(var t=0,i=this.__cbOnOwnerUnbindWindowBackgroundAlphaChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindWindowBackgroundAlphaChange[l])&&s()}this.__cbOnOwnerUnbindWindowBackgroundAlphaChange=null}if(null!=this.__cbOnceOwnerUnbindWindowBackgroundAlphaChange){for(t=0,i=this.__cbOnceOwnerUnbindWindowBackgroundAlphaChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindWindowBackgroundAlphaChange[l])&&s()}this.__cbOnceOwnerUnbindWindowBackgroundAlphaChange=null}this.__cbOnWindowBackgroundAlphaChange=null,this.__cbOnceWindowBackgroundAlphaChange=null}},listensWindowBackgroundAlphaChange:function(){return null!=this.__cbOnWindowBackgroundAlphaChange&&0<this.__cbOnWindowBackgroundAlphaChange.length||null!=this.__cbOnceWindowBackgroundAlphaChange&&0<this.__cbOnceWindowBackgroundAlphaChange.length},windowBorderColorAutoruns:null,get_windowBorderColor:function(){var e,n,t=this.unobservedWindowBorderColor;return null!=A.current&&(e=A.current,null!=(n=this.windowBorderColorAutoruns)||(n=A.getAutorunArray(),null!=(this.windowBorderColorAutoruns=n)))&&e.bindToAutorunArray(n),t},set_windowBorderColor:function(e){var n=this.unobservedWindowBorderColor;return n!=(this.unobservedWindowBorderColor=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!0)),this.emitWindowBorderColorChange(e,n),null!=(n=this.windowBorderColorAutoruns))&&(this.windowBorderColorAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateWindowBorderColor:function(){var e=this.unobservedWindowBorderColor,e=(this.emitWindowBorderColorChange(e,e),this.windowBorderColorAutoruns);null!=e&&(this.windowBorderColorAutoruns=null,A.invalidateAutorunArray(e))},unobservedWindowBorderColor:null,__cbOnWindowBorderColorChange:null,__cbOnceWindowBorderColorChange:null,__cbOnOwnerUnbindWindowBorderColorChange:null,__cbOnceOwnerUnbindWindowBorderColorChange:null,emitWindowBorderColorChange:function(e,n){var t=0;if(null!=this.__cbOnWindowBorderColorChange&&(t+=this.__cbOnWindowBorderColorChange.length),null!=this.__cbOnceWindowBorderColorChange&&(t+=this.__cbOnceWindowBorderColorChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnWindowBorderColorChange)for(var r=0,h=this.__cbOnWindowBorderColorChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnWindowBorderColorChange[a],++s):--t}if(null!=this.__cbOnceWindowBorderColorChange){for(var o=null,c=null,r=0,h=this.__cbOnceWindowBorderColorChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceWindowBorderColorChange[a],this.__cbOnceWindowBorderColorChange[a]=null,u=this.__cbOnceOwnerUnbindWindowBorderColorChange[a],(this.__cbOnceOwnerUnbindWindowBorderColorChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindWindowBorderColorChange[a]),c.push(this.__cbOnceWindowBorderColorChange[a]))}this.__cbOnceOwnerUnbindWindowBorderColorChange=o,this.__cbOnceWindowBorderColorChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onWindowBorderColorChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event windowBorderColorChange because owner is destroyed!");var l=function(e){null!=t&&(i.offWindowBorderColorChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindWindowBorderColorChange&&(this.__cbOnOwnerUnbindWindowBorderColorChange=[]),this.__cbOnOwnerUnbindWindowBorderColorChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindWindowBorderColorChange&&(this.__cbOnOwnerUnbindWindowBorderColorChange=[]),this.__cbOnOwnerUnbindWindowBorderColorChange.push(null);null==this.__cbOnWindowBorderColorChange&&(this.__cbOnWindowBorderColorChange=[]),this.__cbOnWindowBorderColorChange.push(t)},onceWindowBorderColorChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event windowBorderColorChange because owner is destroyed!");var l=function(e){null!=t&&(i.offWindowBorderColorChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindWindowBorderColorChange&&(this.__cbOnceOwnerUnbindWindowBorderColorChange=[]),this.__cbOnceOwnerUnbindWindowBorderColorChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindWindowBorderColorChange&&(this.__cbOnceOwnerUnbindWindowBorderColorChange=[]),this.__cbOnceOwnerUnbindWindowBorderColorChange.push(null);null==this.__cbOnceWindowBorderColorChange&&(this.__cbOnceWindowBorderColorChange=[]),this.__cbOnceWindowBorderColorChange.push(t)},offWindowBorderColorChange:function(e){if(null!=e){var n;null!=this.__cbOnWindowBorderColorChange&&-1!=(n=this.__cbOnWindowBorderColorChange.indexOf(e))&&(this.__cbOnWindowBorderColorChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindWindowBorderColorChange[n])&&s(),this.__cbOnOwnerUnbindWindowBorderColorChange.splice(n,1)),null!=this.__cbOnceWindowBorderColorChange&&-1!=(n=this.__cbOnceWindowBorderColorChange.indexOf(e))&&(this.__cbOnceWindowBorderColorChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindWindowBorderColorChange[n])&&s(),this.__cbOnceOwnerUnbindWindowBorderColorChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindWindowBorderColorChange){for(var t=0,i=this.__cbOnOwnerUnbindWindowBorderColorChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindWindowBorderColorChange[l])&&s()}this.__cbOnOwnerUnbindWindowBorderColorChange=null}if(null!=this.__cbOnceOwnerUnbindWindowBorderColorChange){for(t=0,i=this.__cbOnceOwnerUnbindWindowBorderColorChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindWindowBorderColorChange[l])&&s()}this.__cbOnceOwnerUnbindWindowBorderColorChange=null}this.__cbOnWindowBorderColorChange=null,this.__cbOnceWindowBorderColorChange=null}},listensWindowBorderColorChange:function(){return null!=this.__cbOnWindowBorderColorChange&&0<this.__cbOnWindowBorderColorChange.length||null!=this.__cbOnceWindowBorderColorChange&&0<this.__cbOnceWindowBorderColorChange.length},windowBorderAlphaAutoruns:null,get_windowBorderAlpha:function(){var e,n,t=this.unobservedWindowBorderAlpha;return null!=A.current&&(e=A.current,null!=(n=this.windowBorderAlphaAutoruns)||(n=A.getAutorunArray(),null!=(this.windowBorderAlphaAutoruns=n)))&&e.bindToAutorunArray(n),t},set_windowBorderAlpha:function(e){var n=this.unobservedWindowBorderAlpha;return n!=(this.unobservedWindowBorderAlpha=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!0)),this.emitWindowBorderAlphaChange(e,n),null!=(n=this.windowBorderAlphaAutoruns))&&(this.windowBorderAlphaAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateWindowBorderAlpha:function(){var e=this.unobservedWindowBorderAlpha,e=(this.emitWindowBorderAlphaChange(e,e),this.windowBorderAlphaAutoruns);null!=e&&(this.windowBorderAlphaAutoruns=null,A.invalidateAutorunArray(e))},unobservedWindowBorderAlpha:null,__cbOnWindowBorderAlphaChange:null,__cbOnceWindowBorderAlphaChange:null,__cbOnOwnerUnbindWindowBorderAlphaChange:null,__cbOnceOwnerUnbindWindowBorderAlphaChange:null,emitWindowBorderAlphaChange:function(e,n){var t=0;if(null!=this.__cbOnWindowBorderAlphaChange&&(t+=this.__cbOnWindowBorderAlphaChange.length),null!=this.__cbOnceWindowBorderAlphaChange&&(t+=this.__cbOnceWindowBorderAlphaChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnWindowBorderAlphaChange)for(var r=0,h=this.__cbOnWindowBorderAlphaChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnWindowBorderAlphaChange[a],++s):--t}if(null!=this.__cbOnceWindowBorderAlphaChange){for(var o=null,c=null,r=0,h=this.__cbOnceWindowBorderAlphaChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceWindowBorderAlphaChange[a],this.__cbOnceWindowBorderAlphaChange[a]=null,u=this.__cbOnceOwnerUnbindWindowBorderAlphaChange[a],(this.__cbOnceOwnerUnbindWindowBorderAlphaChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindWindowBorderAlphaChange[a]),c.push(this.__cbOnceWindowBorderAlphaChange[a]))}this.__cbOnceOwnerUnbindWindowBorderAlphaChange=o,this.__cbOnceWindowBorderAlphaChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onWindowBorderAlphaChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event windowBorderAlphaChange because owner is destroyed!");var l=function(e){null!=t&&(i.offWindowBorderAlphaChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindWindowBorderAlphaChange&&(this.__cbOnOwnerUnbindWindowBorderAlphaChange=[]),this.__cbOnOwnerUnbindWindowBorderAlphaChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindWindowBorderAlphaChange&&(this.__cbOnOwnerUnbindWindowBorderAlphaChange=[]),this.__cbOnOwnerUnbindWindowBorderAlphaChange.push(null);null==this.__cbOnWindowBorderAlphaChange&&(this.__cbOnWindowBorderAlphaChange=[]),this.__cbOnWindowBorderAlphaChange.push(t)},onceWindowBorderAlphaChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event windowBorderAlphaChange because owner is destroyed!");var l=function(e){null!=t&&(i.offWindowBorderAlphaChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindWindowBorderAlphaChange&&(this.__cbOnceOwnerUnbindWindowBorderAlphaChange=[]),this.__cbOnceOwnerUnbindWindowBorderAlphaChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindWindowBorderAlphaChange&&(this.__cbOnceOwnerUnbindWindowBorderAlphaChange=[]),this.__cbOnceOwnerUnbindWindowBorderAlphaChange.push(null);null==this.__cbOnceWindowBorderAlphaChange&&(this.__cbOnceWindowBorderAlphaChange=[]),this.__cbOnceWindowBorderAlphaChange.push(t)},offWindowBorderAlphaChange:function(e){if(null!=e){var n;null!=this.__cbOnWindowBorderAlphaChange&&-1!=(n=this.__cbOnWindowBorderAlphaChange.indexOf(e))&&(this.__cbOnWindowBorderAlphaChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindWindowBorderAlphaChange[n])&&s(),this.__cbOnOwnerUnbindWindowBorderAlphaChange.splice(n,1)),null!=this.__cbOnceWindowBorderAlphaChange&&-1!=(n=this.__cbOnceWindowBorderAlphaChange.indexOf(e))&&(this.__cbOnceWindowBorderAlphaChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindWindowBorderAlphaChange[n])&&s(),this.__cbOnceOwnerUnbindWindowBorderAlphaChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindWindowBorderAlphaChange){for(var t=0,i=this.__cbOnOwnerUnbindWindowBorderAlphaChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindWindowBorderAlphaChange[l])&&s()}this.__cbOnOwnerUnbindWindowBorderAlphaChange=null}if(null!=this.__cbOnceOwnerUnbindWindowBorderAlphaChange){for(t=0,i=this.__cbOnceOwnerUnbindWindowBorderAlphaChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindWindowBorderAlphaChange[l])&&s()}this.__cbOnceOwnerUnbindWindowBorderAlphaChange=null}this.__cbOnWindowBorderAlphaChange=null,this.__cbOnceWindowBorderAlphaChange=null}},listensWindowBorderAlphaChange:function(){return null!=this.__cbOnWindowBorderAlphaChange&&0<this.__cbOnWindowBorderAlphaChange.length||null!=this.__cbOnceWindowBorderAlphaChange&&0<this.__cbOnceWindowBorderAlphaChange.length},clone:function(e){return(e=null==e?new $i:e).set_backgroundInFormLayout(this.get_backgroundInFormLayout()),e.set_fieldTextColor(this.get_fieldTextColor()),e.set_fieldPlaceholderColor(this.get_fieldPlaceholderColor()),e.set_lightTextColor(this.get_lightTextColor()),e.set_mediumTextColor(this.get_mediumTextColor()),e.set_darkTextColor(this.get_darkTextColor()),e.set_darkerTextColor(this.get_darkerTextColor()),e.set_iconColor(this.get_iconColor()),e.set_customMediumFont(this.get_customMediumFont()),e.set_lighterBorderColor(this.get_lighterBorderColor()),e.set_lightBorderColor(this.get_lightBorderColor()),e.set_mediumBorderColor(this.get_mediumBorderColor()),e.set_darkBorderColor(this.get_darkBorderColor()),e.set_lightBackgroundColor(this.get_lightBackgroundColor()),e.set_mediumBackgroundColor(this.get_mediumBackgroundColor()),e.set_darkBackgroundColor(this.get_darkBackgroundColor()),e.set_darkerBackgroundColor(this.get_darkerBackgroundColor()),e.set_selectionBorderColor(this.get_selectionBorderColor()),e.set_highlightColor(this.get_highlightColor()),e.set_highlightPendingColor(this.get_highlightPendingColor()),e.set_formItemSpacing(this.get_formItemSpacing()),e.set_formPadding(this.get_formPadding()),e.set_tabsMarginY(this.get_tabsMarginY()),e.set_focusedFieldSelectionColor(this.get_focusedFieldSelectionColor()),e.set_focusedFieldBorderColor(this.get_focusedFieldBorderColor()),e.set_overlayBackgroundColor(this.get_overlayBackgroundColor()),e.set_overlayBackgroundAlpha(this.get_overlayBackgroundAlpha()),e.set_overlayBorderColor(this.get_overlayBorderColor()),e.set_overlayBorderAlpha(this.get_overlayBorderAlpha()),e.set_buttonBackgroundColor(this.get_buttonBackgroundColor()),e.set_buttonOverBackgroundColor(this.get_buttonOverBackgroundColor()),e.set_buttonPressedBackgroundColor(this.get_buttonPressedBackgroundColor()),e.set_buttonFocusedBorderColor(this.get_buttonFocusedBorderColor()),e.set_tabsBackgroundColor(this.get_tabsBackgroundColor()),e.set_tabsBackgroundAlpha(this.get_tabsBackgroundAlpha()),e.set_tabsHoverBackgroundColor(this.get_tabsHoverBackgroundColor()),e.set_tabsHoverBackgroundAlpha(this.get_tabsHoverBackgroundAlpha()),e.set_tabsBorderColor(this.get_tabsBorderColor()),e.set_windowBackgroundColor(this.get_windowBackgroundColor()),e.set_windowBackgroundAlpha(this.get_windowBackgroundAlpha()),e.set_windowBorderColor(this.get_windowBorderColor()),e.set_windowBorderAlpha(this.get_windowBorderAlpha()),e._clonedIndex=this._index,e},applyTint:function(e,n){null==e&&(e=G.get_context().get_theme());var t=P.get_hueHSLuv(n),i=P.get_saturationHSLuv(n),n=P.get_lightnessHSLuv(n),l=Math.max(0,Math.min(1,.5*(2*P.get_lightnessHSLuv(e.get_fieldTextColor())+n-.5))),s=0;if(P._hsluvTuple[0]=t,P._hsluvTuple[1]=100*i,P._hsluvTuple[2]=100*l,.001<l){x.hsluvToRgb(P._hsluvTuple,P._hsluvResult),(u=P._hsluvResult[0])<0&&(u=0);s=s&65535|(255<(r=Math.round(255*u))?255:r<0?0:r)<<16,(u=P._hsluvResult[1])<0&&(u=0);var r=Math.round(255*u),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,(u=P._hsluvResult[2])<0&&(u=0),Math.round(255*u));s=s&16776960|(255<r?255:r<0?0:r)}else{var h=l-(_=(1-Math.abs(2*l-1))*i)/2,a=t,o=(a%=360)/60,c=(d=_)*(1-Math.abs(o%2-1))+h;switch(d+=h,0|o){case 0:r=(s=s&65535|(255<(r=Math.round(255*d))?255:r<0?0:r)<<16,Math.round(255*c)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*h));s=s&16776960|(255<r?255:r<0?0:r);break;case 1:r=(s=s&65535|(255<(r=Math.round(255*c))?255:r<0?0:r)<<16,Math.round(255*d)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*h));s=s&16776960|(255<r?255:r<0?0:r);break;case 2:r=(s=s&65535|(255<(r=Math.round(255*h))?255:r<0?0:r)<<16,Math.round(255*d)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*c));s=s&16776960|(255<r?255:r<0?0:r);break;case 3:r=(s=s&65535|(255<(r=Math.round(255*h))?255:r<0?0:r)<<16,Math.round(255*c)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*d));s=s&16776960|(255<r?255:r<0?0:r);break;case 4:r=(s=s&65535|(255<(r=Math.round(255*c))?255:r<0?0:r)<<16,Math.round(255*h)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*d));s=s&16776960|(255<r?255:r<0?0:r);break;case 5:r=(s=s&65535|(255<(r=Math.round(255*d))?255:r<0?0:r)<<16,Math.round(255*h)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*c));s=s&16776960|(255<r?255:r<0?0:r)}}this.set_fieldTextColor(s);l=Math.max(0,Math.min(1,.5*(2*P.get_lightnessHSLuv(e.get_fieldPlaceholderColor())+n-.5))),s=0;if(P._hsluvTuple[0]=t,P._hsluvTuple[1]=100*i,P._hsluvTuple[2]=100*l,.001<l){x.hsluvToRgb(P._hsluvTuple,P._hsluvResult),(u=P._hsluvResult[0])<0&&(u=0);r=(s=s&65535|(255<(r=Math.round(255*u))?255:r<0?0:r)<<16,(u=P._hsluvResult[1])<0&&(u=0),Math.round(255*u)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,(u=P._hsluvResult[2])<0&&(u=0),Math.round(255*u));s=s&16776960|(255<r?255:r<0?0:r)}else{h=l-(_=(1-Math.abs(2*l-1))*i)/2,a=t,o=(a%=360)/60,c=(d=_)*(1-Math.abs(o%2-1))+h;switch(d+=h,0|o){case 0:r=(s=s&65535|(255<(r=Math.round(255*d))?255:r<0?0:r)<<16,Math.round(255*c)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*h));s=s&16776960|(255<r?255:r<0?0:r);break;case 1:r=(s=s&65535|(255<(r=Math.round(255*c))?255:r<0?0:r)<<16,Math.round(255*d)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*h));s=s&16776960|(255<r?255:r<0?0:r);break;case 2:r=(s=s&65535|(255<(r=Math.round(255*h))?255:r<0?0:r)<<16,Math.round(255*d)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*c));s=s&16776960|(255<r?255:r<0?0:r);break;case 3:r=(s=s&65535|(255<(r=Math.round(255*h))?255:r<0?0:r)<<16,Math.round(255*c)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*d));s=s&16776960|(255<r?255:r<0?0:r);break;case 4:r=(s=s&65535|(255<(r=Math.round(255*c))?255:r<0?0:r)<<16,Math.round(255*h)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*d));s=s&16776960|(255<r?255:r<0?0:r);break;case 5:r=(s=s&65535|(255<(r=Math.round(255*d))?255:r<0?0:r)<<16,Math.round(255*h)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*c));s=s&16776960|(255<r?255:r<0?0:r)}}this.set_fieldPlaceholderColor(s);l=Math.max(0,Math.min(1,.5*(2*P.get_lightnessHSLuv(e.get_lightTextColor())+n-.5))),s=0;if(P._hsluvTuple[0]=t,P._hsluvTuple[1]=100*i,P._hsluvTuple[2]=100*l,.001<l){x.hsluvToRgb(P._hsluvTuple,P._hsluvResult),(u=P._hsluvResult[0])<0&&(u=0);r=(s=s&65535|(255<(r=Math.round(255*u))?255:r<0?0:r)<<16,(u=P._hsluvResult[1])<0&&(u=0),Math.round(255*u)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,(u=P._hsluvResult[2])<0&&(u=0),Math.round(255*u));s=s&16776960|(255<r?255:r<0?0:r)}else{h=l-(_=(1-Math.abs(2*l-1))*i)/2,a=t,o=(a%=360)/60,c=(d=_)*(1-Math.abs(o%2-1))+h;switch(d+=h,0|o){case 0:r=(s=s&65535|(255<(r=Math.round(255*d))?255:r<0?0:r)<<16,Math.round(255*c)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*h));s=s&16776960|(255<r?255:r<0?0:r);break;case 1:r=(s=s&65535|(255<(r=Math.round(255*c))?255:r<0?0:r)<<16,Math.round(255*d)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*h));s=s&16776960|(255<r?255:r<0?0:r);break;case 2:r=(s=s&65535|(255<(r=Math.round(255*h))?255:r<0?0:r)<<16,Math.round(255*d)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*c));s=s&16776960|(255<r?255:r<0?0:r);break;case 3:r=(s=s&65535|(255<(r=Math.round(255*h))?255:r<0?0:r)<<16,Math.round(255*c)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*d));s=s&16776960|(255<r?255:r<0?0:r);break;case 4:r=(s=s&65535|(255<(r=Math.round(255*c))?255:r<0?0:r)<<16,Math.round(255*h)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*d));s=s&16776960|(255<r?255:r<0?0:r);break;case 5:r=(s=s&65535|(255<(r=Math.round(255*d))?255:r<0?0:r)<<16,Math.round(255*h)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*c));s=s&16776960|(255<r?255:r<0?0:r)}}this.set_lightTextColor(s);l=Math.max(0,Math.min(1,.5*(2*P.get_lightnessHSLuv(e.get_mediumTextColor())+n-.5))),s=0;if(P._hsluvTuple[0]=t,P._hsluvTuple[1]=100*i,P._hsluvTuple[2]=100*l,.001<l){x.hsluvToRgb(P._hsluvTuple,P._hsluvResult),(u=P._hsluvResult[0])<0&&(u=0);r=(s=s&65535|(255<(r=Math.round(255*u))?255:r<0?0:r)<<16,(u=P._hsluvResult[1])<0&&(u=0),Math.round(255*u)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,(u=P._hsluvResult[2])<0&&(u=0),Math.round(255*u));s=s&16776960|(255<r?255:r<0?0:r)}else{h=l-(_=(1-Math.abs(2*l-1))*i)/2,a=t,o=(a%=360)/60,c=(d=_)*(1-Math.abs(o%2-1))+h;switch(d+=h,0|o){case 0:r=(s=s&65535|(255<(r=Math.round(255*d))?255:r<0?0:r)<<16,Math.round(255*c)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*h));s=s&16776960|(255<r?255:r<0?0:r);break;case 1:r=(s=s&65535|(255<(r=Math.round(255*c))?255:r<0?0:r)<<16,Math.round(255*d)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*h));s=s&16776960|(255<r?255:r<0?0:r);break;case 2:r=(s=s&65535|(255<(r=Math.round(255*h))?255:r<0?0:r)<<16,Math.round(255*d)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*c));s=s&16776960|(255<r?255:r<0?0:r);break;case 3:r=(s=s&65535|(255<(r=Math.round(255*h))?255:r<0?0:r)<<16,Math.round(255*c)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*d));s=s&16776960|(255<r?255:r<0?0:r);break;case 4:r=(s=s&65535|(255<(r=Math.round(255*c))?255:r<0?0:r)<<16,Math.round(255*h)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*d));s=s&16776960|(255<r?255:r<0?0:r);break;case 5:r=(s=s&65535|(255<(r=Math.round(255*d))?255:r<0?0:r)<<16,Math.round(255*h)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*c));s=s&16776960|(255<r?255:r<0?0:r)}}this.set_mediumTextColor(s);l=Math.max(0,Math.min(1,.5*(2*P.get_lightnessHSLuv(e.get_darkTextColor())+n-.5))),s=0;if(P._hsluvTuple[0]=t,P._hsluvTuple[1]=100*i,P._hsluvTuple[2]=100*l,.001<l){x.hsluvToRgb(P._hsluvTuple,P._hsluvResult),(u=P._hsluvResult[0])<0&&(u=0);r=(s=s&65535|(255<(r=Math.round(255*u))?255:r<0?0:r)<<16,(u=P._hsluvResult[1])<0&&(u=0),Math.round(255*u)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,(u=P._hsluvResult[2])<0&&(u=0),Math.round(255*u));s=s&16776960|(255<r?255:r<0?0:r)}else{h=l-(_=(1-Math.abs(2*l-1))*i)/2,a=t,o=(a%=360)/60,c=(d=_)*(1-Math.abs(o%2-1))+h;switch(d+=h,0|o){case 0:r=(s=s&65535|(255<(r=Math.round(255*d))?255:r<0?0:r)<<16,Math.round(255*c)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*h));s=s&16776960|(255<r?255:r<0?0:r);break;case 1:r=(s=s&65535|(255<(r=Math.round(255*c))?255:r<0?0:r)<<16,Math.round(255*d)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*h));s=s&16776960|(255<r?255:r<0?0:r);break;case 2:r=(s=s&65535|(255<(r=Math.round(255*h))?255:r<0?0:r)<<16,Math.round(255*d)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*c));s=s&16776960|(255<r?255:r<0?0:r);break;case 3:r=(s=s&65535|(255<(r=Math.round(255*h))?255:r<0?0:r)<<16,Math.round(255*c)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*d));s=s&16776960|(255<r?255:r<0?0:r);break;case 4:r=(s=s&65535|(255<(r=Math.round(255*c))?255:r<0?0:r)<<16,Math.round(255*h)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*d));s=s&16776960|(255<r?255:r<0?0:r);break;case 5:r=(s=s&65535|(255<(r=Math.round(255*d))?255:r<0?0:r)<<16,Math.round(255*h)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*c));s=s&16776960|(255<r?255:r<0?0:r)}}this.set_darkTextColor(s);l=Math.max(0,Math.min(1,.5*(2*P.get_lightnessHSLuv(e.get_darkerTextColor())+n-.5))),s=0;if(P._hsluvTuple[0]=t,P._hsluvTuple[1]=100*i,P._hsluvTuple[2]=100*l,.001<l){x.hsluvToRgb(P._hsluvTuple,P._hsluvResult),(u=P._hsluvResult[0])<0&&(u=0);r=(s=s&65535|(255<(r=Math.round(255*u))?255:r<0?0:r)<<16,(u=P._hsluvResult[1])<0&&(u=0),Math.round(255*u)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,(u=P._hsluvResult[2])<0&&(u=0),Math.round(255*u));s=s&16776960|(255<r?255:r<0?0:r)}else{h=l-(_=(1-Math.abs(2*l-1))*i)/2,a=t,o=(a%=360)/60,c=(d=_)*(1-Math.abs(o%2-1))+h;switch(d+=h,0|o){case 0:r=(s=s&65535|(255<(r=Math.round(255*d))?255:r<0?0:r)<<16,Math.round(255*c)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*h));s=s&16776960|(255<r?255:r<0?0:r);break;case 1:r=(s=s&65535|(255<(r=Math.round(255*c))?255:r<0?0:r)<<16,Math.round(255*d)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*h));s=s&16776960|(255<r?255:r<0?0:r);break;case 2:r=(s=s&65535|(255<(r=Math.round(255*h))?255:r<0?0:r)<<16,Math.round(255*d)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*c));s=s&16776960|(255<r?255:r<0?0:r);break;case 3:r=(s=s&65535|(255<(r=Math.round(255*h))?255:r<0?0:r)<<16,Math.round(255*c)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*d));s=s&16776960|(255<r?255:r<0?0:r);break;case 4:r=(s=s&65535|(255<(r=Math.round(255*c))?255:r<0?0:r)<<16,Math.round(255*h)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*d));s=s&16776960|(255<r?255:r<0?0:r);break;case 5:r=(s=s&65535|(255<(r=Math.round(255*d))?255:r<0?0:r)<<16,Math.round(255*h)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*c));s=s&16776960|(255<r?255:r<0?0:r)}}this.set_darkerTextColor(s);l=Math.max(0,Math.min(1,.5*(2*P.get_lightnessHSLuv(e.get_iconColor())+n-.5))),s=0;if(P._hsluvTuple[0]=t,P._hsluvTuple[1]=100*i,P._hsluvTuple[2]=100*l,.001<l){x.hsluvToRgb(P._hsluvTuple,P._hsluvResult),(u=P._hsluvResult[0])<0&&(u=0);r=(s=s&65535|(255<(r=Math.round(255*u))?255:r<0?0:r)<<16,(u=P._hsluvResult[1])<0&&(u=0),Math.round(255*u)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,(u=P._hsluvResult[2])<0&&(u=0),Math.round(255*u));s=s&16776960|(255<r?255:r<0?0:r)}else{h=l-(_=(1-Math.abs(2*l-1))*i)/2,a=t,o=(a%=360)/60,c=(d=_)*(1-Math.abs(o%2-1))+h;switch(d+=h,0|o){case 0:r=(s=s&65535|(255<(r=Math.round(255*d))?255:r<0?0:r)<<16,Math.round(255*c)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*h));s=s&16776960|(255<r?255:r<0?0:r);break;case 1:r=(s=s&65535|(255<(r=Math.round(255*c))?255:r<0?0:r)<<16,Math.round(255*d)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*h));s=s&16776960|(255<r?255:r<0?0:r);break;case 2:r=(s=s&65535|(255<(r=Math.round(255*h))?255:r<0?0:r)<<16,Math.round(255*d)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*c));s=s&16776960|(255<r?255:r<0?0:r);break;case 3:r=(s=s&65535|(255<(r=Math.round(255*h))?255:r<0?0:r)<<16,Math.round(255*c)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*d));s=s&16776960|(255<r?255:r<0?0:r);break;case 4:r=(s=s&65535|(255<(r=Math.round(255*c))?255:r<0?0:r)<<16,Math.round(255*h)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*d));s=s&16776960|(255<r?255:r<0?0:r);break;case 5:r=(s=s&65535|(255<(r=Math.round(255*d))?255:r<0?0:r)<<16,Math.round(255*h)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*c));s=s&16776960|(255<r?255:r<0?0:r)}}this.set_iconColor(s);l=Math.max(0,Math.min(1,.5*(2*P.get_lightnessHSLuv(e.get_lighterBorderColor())+n-.5))),s=0;if(P._hsluvTuple[0]=t,P._hsluvTuple[1]=100*i,P._hsluvTuple[2]=100*l,.001<l){x.hsluvToRgb(P._hsluvTuple,P._hsluvResult),(u=P._hsluvResult[0])<0&&(u=0);r=(s=s&65535|(255<(r=Math.round(255*u))?255:r<0?0:r)<<16,(u=P._hsluvResult[1])<0&&(u=0),Math.round(255*u)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,(u=P._hsluvResult[2])<0&&(u=0),Math.round(255*u));s=s&16776960|(255<r?255:r<0?0:r)}else{h=l-(_=(1-Math.abs(2*l-1))*i)/2,a=t,o=(a%=360)/60,c=(d=_)*(1-Math.abs(o%2-1))+h;switch(d+=h,0|o){case 0:r=(s=s&65535|(255<(r=Math.round(255*d))?255:r<0?0:r)<<16,Math.round(255*c)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*h));s=s&16776960|(255<r?255:r<0?0:r);break;case 1:r=(s=s&65535|(255<(r=Math.round(255*c))?255:r<0?0:r)<<16,Math.round(255*d)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*h));s=s&16776960|(255<r?255:r<0?0:r);break;case 2:r=(s=s&65535|(255<(r=Math.round(255*h))?255:r<0?0:r)<<16,Math.round(255*d)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*c));s=s&16776960|(255<r?255:r<0?0:r);break;case 3:r=(s=s&65535|(255<(r=Math.round(255*h))?255:r<0?0:r)<<16,Math.round(255*c)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*d));s=s&16776960|(255<r?255:r<0?0:r);break;case 4:r=(s=s&65535|(255<(r=Math.round(255*c))?255:r<0?0:r)<<16,Math.round(255*h)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*d));s=s&16776960|(255<r?255:r<0?0:r);break;case 5:r=(s=s&65535|(255<(r=Math.round(255*d))?255:r<0?0:r)<<16,Math.round(255*h)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*c));s=s&16776960|(255<r?255:r<0?0:r)}}this.set_lighterBorderColor(s);l=Math.max(0,Math.min(1,.5*(2*P.get_lightnessHSLuv(e.get_lightBorderColor())+n-.5))),s=0;if(P._hsluvTuple[0]=t,P._hsluvTuple[1]=100*i,P._hsluvTuple[2]=100*l,.001<l){x.hsluvToRgb(P._hsluvTuple,P._hsluvResult),(u=P._hsluvResult[0])<0&&(u=0);r=(s=s&65535|(255<(r=Math.round(255*u))?255:r<0?0:r)<<16,(u=P._hsluvResult[1])<0&&(u=0),Math.round(255*u)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,(u=P._hsluvResult[2])<0&&(u=0),Math.round(255*u));s=s&16776960|(255<r?255:r<0?0:r)}else{h=l-(_=(1-Math.abs(2*l-1))*i)/2,a=t,o=(a%=360)/60,c=(d=_)*(1-Math.abs(o%2-1))+h;switch(d+=h,0|o){case 0:r=(s=s&65535|(255<(r=Math.round(255*d))?255:r<0?0:r)<<16,Math.round(255*c)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*h));s=s&16776960|(255<r?255:r<0?0:r);break;case 1:r=(s=s&65535|(255<(r=Math.round(255*c))?255:r<0?0:r)<<16,Math.round(255*d)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*h));s=s&16776960|(255<r?255:r<0?0:r);break;case 2:r=(s=s&65535|(255<(r=Math.round(255*h))?255:r<0?0:r)<<16,Math.round(255*d)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*c));s=s&16776960|(255<r?255:r<0?0:r);break;case 3:r=(s=s&65535|(255<(r=Math.round(255*h))?255:r<0?0:r)<<16,Math.round(255*c)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*d));s=s&16776960|(255<r?255:r<0?0:r);break;case 4:r=(s=s&65535|(255<(r=Math.round(255*c))?255:r<0?0:r)<<16,Math.round(255*h)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*d));s=s&16776960|(255<r?255:r<0?0:r);break;case 5:r=(s=s&65535|(255<(r=Math.round(255*d))?255:r<0?0:r)<<16,Math.round(255*h)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*c));s=s&16776960|(255<r?255:r<0?0:r)}}this.set_lightBorderColor(s);l=Math.max(0,Math.min(1,.5*(2*P.get_lightnessHSLuv(e.get_mediumBorderColor())+n-.5))),s=0;if(P._hsluvTuple[0]=t,P._hsluvTuple[1]=100*i,P._hsluvTuple[2]=100*l,.001<l){x.hsluvToRgb(P._hsluvTuple,P._hsluvResult),(u=P._hsluvResult[0])<0&&(u=0);r=(s=s&65535|(255<(r=Math.round(255*u))?255:r<0?0:r)<<16,(u=P._hsluvResult[1])<0&&(u=0),Math.round(255*u)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,(u=P._hsluvResult[2])<0&&(u=0),Math.round(255*u));s=s&16776960|(255<r?255:r<0?0:r)}else{h=l-(_=(1-Math.abs(2*l-1))*i)/2,a=t,o=(a%=360)/60,c=(d=_)*(1-Math.abs(o%2-1))+h;switch(d+=h,0|o){case 0:r=(s=s&65535|(255<(r=Math.round(255*d))?255:r<0?0:r)<<16,Math.round(255*c)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*h));s=s&16776960|(255<r?255:r<0?0:r);break;case 1:r=(s=s&65535|(255<(r=Math.round(255*c))?255:r<0?0:r)<<16,Math.round(255*d)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*h));s=s&16776960|(255<r?255:r<0?0:r);break;case 2:r=(s=s&65535|(255<(r=Math.round(255*h))?255:r<0?0:r)<<16,Math.round(255*d)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*c));s=s&16776960|(255<r?255:r<0?0:r);break;case 3:r=(s=s&65535|(255<(r=Math.round(255*h))?255:r<0?0:r)<<16,Math.round(255*c)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*d));s=s&16776960|(255<r?255:r<0?0:r);break;case 4:r=(s=s&65535|(255<(r=Math.round(255*c))?255:r<0?0:r)<<16,Math.round(255*h)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*d));s=s&16776960|(255<r?255:r<0?0:r);break;case 5:r=(s=s&65535|(255<(r=Math.round(255*d))?255:r<0?0:r)<<16,Math.round(255*h)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*c));s=s&16776960|(255<r?255:r<0?0:r)}}this.set_mediumBorderColor(s);l=Math.max(0,Math.min(1,.5*(2*P.get_lightnessHSLuv(e.get_darkBorderColor())+n-.5))),s=0;if(P._hsluvTuple[0]=t,P._hsluvTuple[1]=100*i,P._hsluvTuple[2]=100*l,.001<l){x.hsluvToRgb(P._hsluvTuple,P._hsluvResult),(u=P._hsluvResult[0])<0&&(u=0);r=(s=s&65535|(255<(r=Math.round(255*u))?255:r<0?0:r)<<16,(u=P._hsluvResult[1])<0&&(u=0),Math.round(255*u)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,(u=P._hsluvResult[2])<0&&(u=0),Math.round(255*u));s=s&16776960|(255<r?255:r<0?0:r)}else{h=l-(_=(1-Math.abs(2*l-1))*i)/2,a=t,o=(a%=360)/60,c=(d=_)*(1-Math.abs(o%2-1))+h;switch(d+=h,0|o){case 0:r=(s=s&65535|(255<(r=Math.round(255*d))?255:r<0?0:r)<<16,Math.round(255*c)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*h));s=s&16776960|(255<r?255:r<0?0:r);break;case 1:r=(s=s&65535|(255<(r=Math.round(255*c))?255:r<0?0:r)<<16,Math.round(255*d)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*h));s=s&16776960|(255<r?255:r<0?0:r);break;case 2:r=(s=s&65535|(255<(r=Math.round(255*h))?255:r<0?0:r)<<16,Math.round(255*d)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*c));s=s&16776960|(255<r?255:r<0?0:r);break;case 3:r=(s=s&65535|(255<(r=Math.round(255*h))?255:r<0?0:r)<<16,Math.round(255*c)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*d));s=s&16776960|(255<r?255:r<0?0:r);break;case 4:r=(s=s&65535|(255<(r=Math.round(255*c))?255:r<0?0:r)<<16,Math.round(255*h)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*d));s=s&16776960|(255<r?255:r<0?0:r);break;case 5:r=(s=s&65535|(255<(r=Math.round(255*d))?255:r<0?0:r)<<16,Math.round(255*h)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*c));s=s&16776960|(255<r?255:r<0?0:r)}}this.set_darkBorderColor(s);l=Math.max(0,Math.min(1,.5*(2*P.get_lightnessHSLuv(e.get_lightBackgroundColor())+n-.5))),s=0;if(P._hsluvTuple[0]=t,P._hsluvTuple[1]=100*i,P._hsluvTuple[2]=100*l,.001<l){x.hsluvToRgb(P._hsluvTuple,P._hsluvResult),(u=P._hsluvResult[0])<0&&(u=0);r=(s=s&65535|(255<(r=Math.round(255*u))?255:r<0?0:r)<<16,(u=P._hsluvResult[1])<0&&(u=0),Math.round(255*u)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,(u=P._hsluvResult[2])<0&&(u=0),Math.round(255*u));s=s&16776960|(255<r?255:r<0?0:r)}else{h=l-(_=(1-Math.abs(2*l-1))*i)/2,a=t,o=(a%=360)/60,c=(d=_)*(1-Math.abs(o%2-1))+h;switch(d+=h,0|o){case 0:r=(s=s&65535|(255<(r=Math.round(255*d))?255:r<0?0:r)<<16,Math.round(255*c)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*h));s=s&16776960|(255<r?255:r<0?0:r);break;case 1:r=(s=s&65535|(255<(r=Math.round(255*c))?255:r<0?0:r)<<16,Math.round(255*d)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*h));s=s&16776960|(255<r?255:r<0?0:r);break;case 2:r=(s=s&65535|(255<(r=Math.round(255*h))?255:r<0?0:r)<<16,Math.round(255*d)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*c));s=s&16776960|(255<r?255:r<0?0:r);break;case 3:r=(s=s&65535|(255<(r=Math.round(255*h))?255:r<0?0:r)<<16,Math.round(255*c)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*d));s=s&16776960|(255<r?255:r<0?0:r);break;case 4:r=(s=s&65535|(255<(r=Math.round(255*c))?255:r<0?0:r)<<16,Math.round(255*h)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*d));s=s&16776960|(255<r?255:r<0?0:r);break;case 5:r=(s=s&65535|(255<(r=Math.round(255*d))?255:r<0?0:r)<<16,Math.round(255*h)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*c));s=s&16776960|(255<r?255:r<0?0:r)}}this.set_lightBackgroundColor(s);l=Math.max(0,Math.min(1,.5*(2*P.get_lightnessHSLuv(e.get_mediumBackgroundColor())+n-.5))),s=0;if(P._hsluvTuple[0]=t,P._hsluvTuple[1]=100*i,P._hsluvTuple[2]=100*l,.001<l){x.hsluvToRgb(P._hsluvTuple,P._hsluvResult),(u=P._hsluvResult[0])<0&&(u=0);r=(s=s&65535|(255<(r=Math.round(255*u))?255:r<0?0:r)<<16,(u=P._hsluvResult[1])<0&&(u=0),Math.round(255*u)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,(u=P._hsluvResult[2])<0&&(u=0),Math.round(255*u));s=s&16776960|(255<r?255:r<0?0:r)}else{h=l-(_=(1-Math.abs(2*l-1))*i)/2,a=t,o=(a%=360)/60,c=(d=_)*(1-Math.abs(o%2-1))+h;switch(d+=h,0|o){case 0:r=(s=s&65535|(255<(r=Math.round(255*d))?255:r<0?0:r)<<16,Math.round(255*c)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*h));s=s&16776960|(255<r?255:r<0?0:r);break;case 1:r=(s=s&65535|(255<(r=Math.round(255*c))?255:r<0?0:r)<<16,Math.round(255*d)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*h));s=s&16776960|(255<r?255:r<0?0:r);break;case 2:r=(s=s&65535|(255<(r=Math.round(255*h))?255:r<0?0:r)<<16,Math.round(255*d)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*c));s=s&16776960|(255<r?255:r<0?0:r);break;case 3:r=(s=s&65535|(255<(r=Math.round(255*h))?255:r<0?0:r)<<16,Math.round(255*c)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*d));s=s&16776960|(255<r?255:r<0?0:r);break;case 4:r=(s=s&65535|(255<(r=Math.round(255*c))?255:r<0?0:r)<<16,Math.round(255*h)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*d));s=s&16776960|(255<r?255:r<0?0:r);break;case 5:r=(s=s&65535|(255<(r=Math.round(255*d))?255:r<0?0:r)<<16,Math.round(255*h)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*c));s=s&16776960|(255<r?255:r<0?0:r)}}this.set_mediumBackgroundColor(s);l=Math.max(0,Math.min(1,.5*(2*P.get_lightnessHSLuv(e.get_darkBackgroundColor())+n-.5))),s=0;if(P._hsluvTuple[0]=t,P._hsluvTuple[1]=100*i,P._hsluvTuple[2]=100*l,.001<l){x.hsluvToRgb(P._hsluvTuple,P._hsluvResult),(u=P._hsluvResult[0])<0&&(u=0);r=(s=s&65535|(255<(r=Math.round(255*u))?255:r<0?0:r)<<16,(u=P._hsluvResult[1])<0&&(u=0),Math.round(255*u)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,(u=P._hsluvResult[2])<0&&(u=0),Math.round(255*u));s=s&16776960|(255<r?255:r<0?0:r)}else{h=l-(_=(1-Math.abs(2*l-1))*i)/2,a=t,o=(a%=360)/60,c=(d=_)*(1-Math.abs(o%2-1))+h;switch(d+=h,0|o){case 0:r=(s=s&65535|(255<(r=Math.round(255*d))?255:r<0?0:r)<<16,Math.round(255*c)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*h));s=s&16776960|(255<r?255:r<0?0:r);break;case 1:r=(s=s&65535|(255<(r=Math.round(255*c))?255:r<0?0:r)<<16,Math.round(255*d)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*h));s=s&16776960|(255<r?255:r<0?0:r);break;case 2:r=(s=s&65535|(255<(r=Math.round(255*h))?255:r<0?0:r)<<16,Math.round(255*d)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*c));s=s&16776960|(255<r?255:r<0?0:r);break;case 3:r=(s=s&65535|(255<(r=Math.round(255*h))?255:r<0?0:r)<<16,Math.round(255*c)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*d));s=s&16776960|(255<r?255:r<0?0:r);break;case 4:r=(s=s&65535|(255<(r=Math.round(255*c))?255:r<0?0:r)<<16,Math.round(255*h)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*d));s=s&16776960|(255<r?255:r<0?0:r);break;case 5:r=(s=s&65535|(255<(r=Math.round(255*d))?255:r<0?0:r)<<16,Math.round(255*h)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*c));s=s&16776960|(255<r?255:r<0?0:r)}}this.set_darkBackgroundColor(s);l=Math.max(0,Math.min(1,.5*(2*P.get_lightnessHSLuv(e.get_darkerBackgroundColor())+n-.5))),s=0;if(P._hsluvTuple[0]=t,P._hsluvTuple[1]=100*i,P._hsluvTuple[2]=100*l,.001<l){x.hsluvToRgb(P._hsluvTuple,P._hsluvResult),(u=P._hsluvResult[0])<0&&(u=0);r=(s=s&65535|(255<(r=Math.round(255*u))?255:r<0?0:r)<<16,(u=P._hsluvResult[1])<0&&(u=0),Math.round(255*u)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,(u=P._hsluvResult[2])<0&&(u=0),Math.round(255*u));s=s&16776960|(255<r?255:r<0?0:r)}else{h=l-(_=(1-Math.abs(2*l-1))*i)/2,a=t,o=(a%=360)/60,c=(d=_)*(1-Math.abs(o%2-1))+h;switch(d+=h,0|o){case 0:r=(s=s&65535|(255<(r=Math.round(255*d))?255:r<0?0:r)<<16,Math.round(255*c)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*h));s=s&16776960|(255<r?255:r<0?0:r);break;case 1:r=(s=s&65535|(255<(r=Math.round(255*c))?255:r<0?0:r)<<16,Math.round(255*d)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*h));s=s&16776960|(255<r?255:r<0?0:r);break;case 2:r=(s=s&65535|(255<(r=Math.round(255*h))?255:r<0?0:r)<<16,Math.round(255*d)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*c));s=s&16776960|(255<r?255:r<0?0:r);break;case 3:r=(s=s&65535|(255<(r=Math.round(255*h))?255:r<0?0:r)<<16,Math.round(255*c)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*d));s=s&16776960|(255<r?255:r<0?0:r);break;case 4:r=(s=s&65535|(255<(r=Math.round(255*c))?255:r<0?0:r)<<16,Math.round(255*h)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*d));s=s&16776960|(255<r?255:r<0?0:r);break;case 5:r=(s=s&65535|(255<(r=Math.round(255*d))?255:r<0?0:r)<<16,Math.round(255*h)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*c));s=s&16776960|(255<r?255:r<0?0:r)}}this.set_darkerBackgroundColor(s);l=Math.max(0,Math.min(1,.5*(2*P.get_lightnessHSLuv(e.get_overlayBackgroundColor())+n-.5))),s=0;if(P._hsluvTuple[0]=t,P._hsluvTuple[1]=100*i,P._hsluvTuple[2]=100*l,.001<l){x.hsluvToRgb(P._hsluvTuple,P._hsluvResult),(u=P._hsluvResult[0])<0&&(u=0);r=(s=s&65535|(255<(r=Math.round(255*u))?255:r<0?0:r)<<16,(u=P._hsluvResult[1])<0&&(u=0),Math.round(255*u)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,(u=P._hsluvResult[2])<0&&(u=0),Math.round(255*u));s=s&16776960|(255<r?255:r<0?0:r)}else{h=l-(_=(1-Math.abs(2*l-1))*i)/2,a=t,o=(a%=360)/60,c=(d=_)*(1-Math.abs(o%2-1))+h;switch(d+=h,0|o){case 0:r=(s=s&65535|(255<(r=Math.round(255*d))?255:r<0?0:r)<<16,Math.round(255*c)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*h));s=s&16776960|(255<r?255:r<0?0:r);break;case 1:r=(s=s&65535|(255<(r=Math.round(255*c))?255:r<0?0:r)<<16,Math.round(255*d)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*h));s=s&16776960|(255<r?255:r<0?0:r);break;case 2:r=(s=s&65535|(255<(r=Math.round(255*h))?255:r<0?0:r)<<16,Math.round(255*d)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*c));s=s&16776960|(255<r?255:r<0?0:r);break;case 3:r=(s=s&65535|(255<(r=Math.round(255*h))?255:r<0?0:r)<<16,Math.round(255*c)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*d));s=s&16776960|(255<r?255:r<0?0:r);break;case 4:r=(s=s&65535|(255<(r=Math.round(255*c))?255:r<0?0:r)<<16,Math.round(255*h)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*d));s=s&16776960|(255<r?255:r<0?0:r);break;case 5:r=(s=s&65535|(255<(r=Math.round(255*d))?255:r<0?0:r)<<16,Math.round(255*h)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*c));s=s&16776960|(255<r?255:r<0?0:r)}}this.set_overlayBackgroundColor(s);l=Math.max(0,Math.min(1,.5*(2*P.get_lightnessHSLuv(e.get_overlayBorderColor())+n-.5))),s=0;if(P._hsluvTuple[0]=t,P._hsluvTuple[1]=100*i,P._hsluvTuple[2]=100*l,.001<l){x.hsluvToRgb(P._hsluvTuple,P._hsluvResult),(u=P._hsluvResult[0])<0&&(u=0);r=(s=s&65535|(255<(r=Math.round(255*u))?255:r<0?0:r)<<16,(u=P._hsluvResult[1])<0&&(u=0),Math.round(255*u)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,(u=P._hsluvResult[2])<0&&(u=0),Math.round(255*u));s=s&16776960|(255<r?255:r<0?0:r)}else{h=l-(_=(1-Math.abs(2*l-1))*i)/2,a=t,o=(a%=360)/60,c=(d=_)*(1-Math.abs(o%2-1))+h;switch(d+=h,0|o){case 0:r=(s=s&65535|(255<(r=Math.round(255*d))?255:r<0?0:r)<<16,Math.round(255*c)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*h));s=s&16776960|(255<r?255:r<0?0:r);break;case 1:r=(s=s&65535|(255<(r=Math.round(255*c))?255:r<0?0:r)<<16,Math.round(255*d)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*h));s=s&16776960|(255<r?255:r<0?0:r);break;case 2:r=(s=s&65535|(255<(r=Math.round(255*h))?255:r<0?0:r)<<16,Math.round(255*d)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*c));s=s&16776960|(255<r?255:r<0?0:r);break;case 3:r=(s=s&65535|(255<(r=Math.round(255*h))?255:r<0?0:r)<<16,Math.round(255*c)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*d));s=s&16776960|(255<r?255:r<0?0:r);break;case 4:r=(s=s&65535|(255<(r=Math.round(255*c))?255:r<0?0:r)<<16,Math.round(255*h)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*d));s=s&16776960|(255<r?255:r<0?0:r);break;case 5:r=(s=s&65535|(255<(r=Math.round(255*d))?255:r<0?0:r)<<16,Math.round(255*h)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*c));s=s&16776960|(255<r?255:r<0?0:r)}}this.set_overlayBorderColor(s);l=Math.max(0,Math.min(1,.5*(2*P.get_lightnessHSLuv(e.get_buttonBackgroundColor())+n-.5))),s=0;if(P._hsluvTuple[0]=t,P._hsluvTuple[1]=100*i,P._hsluvTuple[2]=100*l,.001<l){x.hsluvToRgb(P._hsluvTuple,P._hsluvResult),(u=P._hsluvResult[0])<0&&(u=0);r=(s=s&65535|(255<(r=Math.round(255*u))?255:r<0?0:r)<<16,(u=P._hsluvResult[1])<0&&(u=0),Math.round(255*u)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,(u=P._hsluvResult[2])<0&&(u=0),Math.round(255*u));s=s&16776960|(255<r?255:r<0?0:r)}else{h=l-(_=(1-Math.abs(2*l-1))*i)/2,a=t,o=(a%=360)/60,c=(d=_)*(1-Math.abs(o%2-1))+h;switch(d+=h,0|o){case 0:r=(s=s&65535|(255<(r=Math.round(255*d))?255:r<0?0:r)<<16,Math.round(255*c)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*h));s=s&16776960|(255<r?255:r<0?0:r);break;case 1:r=(s=s&65535|(255<(r=Math.round(255*c))?255:r<0?0:r)<<16,Math.round(255*d)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*h));s=s&16776960|(255<r?255:r<0?0:r);break;case 2:r=(s=s&65535|(255<(r=Math.round(255*h))?255:r<0?0:r)<<16,Math.round(255*d)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*c));s=s&16776960|(255<r?255:r<0?0:r);break;case 3:r=(s=s&65535|(255<(r=Math.round(255*h))?255:r<0?0:r)<<16,Math.round(255*c)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*d));s=s&16776960|(255<r?255:r<0?0:r);break;case 4:r=(s=s&65535|(255<(r=Math.round(255*c))?255:r<0?0:r)<<16,Math.round(255*h)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*d));s=s&16776960|(255<r?255:r<0?0:r);break;case 5:r=(s=s&65535|(255<(r=Math.round(255*d))?255:r<0?0:r)<<16,Math.round(255*h)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*c));s=s&16776960|(255<r?255:r<0?0:r)}}this.set_buttonBackgroundColor(s);l=Math.max(0,Math.min(1,.5*(2*P.get_lightnessHSLuv(e.get_buttonOverBackgroundColor())+n-.5))),s=0;if(P._hsluvTuple[0]=t,P._hsluvTuple[1]=100*i,P._hsluvTuple[2]=100*l,.001<l){x.hsluvToRgb(P._hsluvTuple,P._hsluvResult),(u=P._hsluvResult[0])<0&&(u=0);r=(s=s&65535|(255<(r=Math.round(255*u))?255:r<0?0:r)<<16,(u=P._hsluvResult[1])<0&&(u=0),Math.round(255*u)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,(u=P._hsluvResult[2])<0&&(u=0),Math.round(255*u));s=s&16776960|(255<r?255:r<0?0:r)}else{h=l-(_=(1-Math.abs(2*l-1))*i)/2,a=t,o=(a%=360)/60,c=(d=_)*(1-Math.abs(o%2-1))+h;switch(d+=h,0|o){case 0:r=(s=s&65535|(255<(r=Math.round(255*d))?255:r<0?0:r)<<16,Math.round(255*c)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*h));s=s&16776960|(255<r?255:r<0?0:r);break;case 1:r=(s=s&65535|(255<(r=Math.round(255*c))?255:r<0?0:r)<<16,Math.round(255*d)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*h));s=s&16776960|(255<r?255:r<0?0:r);break;case 2:r=(s=s&65535|(255<(r=Math.round(255*h))?255:r<0?0:r)<<16,Math.round(255*d)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*c));s=s&16776960|(255<r?255:r<0?0:r);break;case 3:r=(s=s&65535|(255<(r=Math.round(255*h))?255:r<0?0:r)<<16,Math.round(255*c)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*d));s=s&16776960|(255<r?255:r<0?0:r);break;case 4:r=(s=s&65535|(255<(r=Math.round(255*c))?255:r<0?0:r)<<16,Math.round(255*h)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*d));s=s&16776960|(255<r?255:r<0?0:r);break;case 5:r=(s=s&65535|(255<(r=Math.round(255*d))?255:r<0?0:r)<<16,Math.round(255*h)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*c));s=s&16776960|(255<r?255:r<0?0:r)}}this.set_buttonOverBackgroundColor(s);l=Math.max(0,Math.min(1,.5*(2*P.get_lightnessHSLuv(e.get_buttonPressedBackgroundColor())+n-.5))),s=0;if(P._hsluvTuple[0]=t,P._hsluvTuple[1]=100*i,P._hsluvTuple[2]=100*l,.001<l){x.hsluvToRgb(P._hsluvTuple,P._hsluvResult),(u=P._hsluvResult[0])<0&&(u=0);r=(s=s&65535|(255<(r=Math.round(255*u))?255:r<0?0:r)<<16,(u=P._hsluvResult[1])<0&&(u=0),Math.round(255*u)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,(u=P._hsluvResult[2])<0&&(u=0),Math.round(255*u));s=s&16776960|(255<r?255:r<0?0:r)}else{h=l-(_=(1-Math.abs(2*l-1))*i)/2,a=t,o=(a%=360)/60,c=(d=_)*(1-Math.abs(o%2-1))+h;switch(d+=h,0|o){case 0:r=(s=s&65535|(255<(r=Math.round(255*d))?255:r<0?0:r)<<16,Math.round(255*c)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*h));s=s&16776960|(255<r?255:r<0?0:r);break;case 1:r=(s=s&65535|(255<(r=Math.round(255*c))?255:r<0?0:r)<<16,Math.round(255*d)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*h));s=s&16776960|(255<r?255:r<0?0:r);break;case 2:r=(s=s&65535|(255<(r=Math.round(255*h))?255:r<0?0:r)<<16,Math.round(255*d)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*c));s=s&16776960|(255<r?255:r<0?0:r);break;case 3:r=(s=s&65535|(255<(r=Math.round(255*h))?255:r<0?0:r)<<16,Math.round(255*c)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*d));s=s&16776960|(255<r?255:r<0?0:r);break;case 4:r=(s=s&65535|(255<(r=Math.round(255*c))?255:r<0?0:r)<<16,Math.round(255*h)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*d));s=s&16776960|(255<r?255:r<0?0:r);break;case 5:r=(s=s&65535|(255<(r=Math.round(255*d))?255:r<0?0:r)<<16,Math.round(255*h)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*c));s=s&16776960|(255<r?255:r<0?0:r)}}this.set_buttonPressedBackgroundColor(s);l=Math.max(0,Math.min(1,.5*(2*P.get_lightnessHSLuv(e.get_tabsBackgroundColor())+n-.5))),s=0;if(P._hsluvTuple[0]=t,P._hsluvTuple[1]=100*i,P._hsluvTuple[2]=100*l,.001<l){x.hsluvToRgb(P._hsluvTuple,P._hsluvResult),(u=P._hsluvResult[0])<0&&(u=0);r=(s=s&65535|(255<(r=Math.round(255*u))?255:r<0?0:r)<<16,(u=P._hsluvResult[1])<0&&(u=0),Math.round(255*u)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,(u=P._hsluvResult[2])<0&&(u=0),Math.round(255*u));s=s&16776960|(255<r?255:r<0?0:r)}else{h=l-(_=(1-Math.abs(2*l-1))*i)/2,a=t,o=(a%=360)/60,c=(d=_)*(1-Math.abs(o%2-1))+h;switch(d+=h,0|o){case 0:r=(s=s&65535|(255<(r=Math.round(255*d))?255:r<0?0:r)<<16,Math.round(255*c)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*h));s=s&16776960|(255<r?255:r<0?0:r);break;case 1:r=(s=s&65535|(255<(r=Math.round(255*c))?255:r<0?0:r)<<16,Math.round(255*d)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*h));s=s&16776960|(255<r?255:r<0?0:r);break;case 2:r=(s=s&65535|(255<(r=Math.round(255*h))?255:r<0?0:r)<<16,Math.round(255*d)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*c));s=s&16776960|(255<r?255:r<0?0:r);break;case 3:r=(s=s&65535|(255<(r=Math.round(255*h))?255:r<0?0:r)<<16,Math.round(255*c)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*d));s=s&16776960|(255<r?255:r<0?0:r);break;case 4:r=(s=s&65535|(255<(r=Math.round(255*c))?255:r<0?0:r)<<16,Math.round(255*h)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*d));s=s&16776960|(255<r?255:r<0?0:r);break;case 5:r=(s=s&65535|(255<(r=Math.round(255*d))?255:r<0?0:r)<<16,Math.round(255*h)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*c));s=s&16776960|(255<r?255:r<0?0:r)}}this.set_tabsBackgroundColor(s);l=Math.max(0,Math.min(1,.5*(2*P.get_lightnessHSLuv(e.get_tabsHoverBackgroundColor())+n-.5))),s=0;if(P._hsluvTuple[0]=t,P._hsluvTuple[1]=100*i,P._hsluvTuple[2]=100*l,.001<l){x.hsluvToRgb(P._hsluvTuple,P._hsluvResult),(u=P._hsluvResult[0])<0&&(u=0);r=(s=s&65535|(255<(r=Math.round(255*u))?255:r<0?0:r)<<16,(u=P._hsluvResult[1])<0&&(u=0),Math.round(255*u)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,(u=P._hsluvResult[2])<0&&(u=0),Math.round(255*u));s=s&16776960|(255<r?255:r<0?0:r)}else{h=l-(_=(1-Math.abs(2*l-1))*i)/2,a=t,o=(a%=360)/60,c=(d=_)*(1-Math.abs(o%2-1))+h;switch(d+=h,0|o){case 0:r=(s=s&65535|(255<(r=Math.round(255*d))?255:r<0?0:r)<<16,Math.round(255*c)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*h));s=s&16776960|(255<r?255:r<0?0:r);break;case 1:r=(s=s&65535|(255<(r=Math.round(255*c))?255:r<0?0:r)<<16,Math.round(255*d)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*h));s=s&16776960|(255<r?255:r<0?0:r);break;case 2:r=(s=s&65535|(255<(r=Math.round(255*h))?255:r<0?0:r)<<16,Math.round(255*d)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*c));s=s&16776960|(255<r?255:r<0?0:r);break;case 3:r=(s=s&65535|(255<(r=Math.round(255*h))?255:r<0?0:r)<<16,Math.round(255*c)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*d));s=s&16776960|(255<r?255:r<0?0:r);break;case 4:r=(s=s&65535|(255<(r=Math.round(255*c))?255:r<0?0:r)<<16,Math.round(255*h)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*d));s=s&16776960|(255<r?255:r<0?0:r);break;case 5:r=(s=s&65535|(255<(r=Math.round(255*d))?255:r<0?0:r)<<16,Math.round(255*h)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*c));s=s&16776960|(255<r?255:r<0?0:r)}}this.set_tabsHoverBackgroundColor(s);l=Math.max(0,Math.min(1,.5*(2*P.get_lightnessHSLuv(e.get_tabsBorderColor())+n-.5))),s=0;if(P._hsluvTuple[0]=t,P._hsluvTuple[1]=100*i,P._hsluvTuple[2]=100*l,.001<l){x.hsluvToRgb(P._hsluvTuple,P._hsluvResult),(u=P._hsluvResult[0])<0&&(u=0);r=(s=s&65535|(255<(r=Math.round(255*u))?255:r<0?0:r)<<16,(u=P._hsluvResult[1])<0&&(u=0),Math.round(255*u)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,(u=P._hsluvResult[2])<0&&(u=0),Math.round(255*u));s=s&16776960|(255<r?255:r<0?0:r)}else{h=l-(_=(1-Math.abs(2*l-1))*i)/2,a=t,o=(a%=360)/60,c=(d=_)*(1-Math.abs(o%2-1))+h;switch(d+=h,0|o){case 0:r=(s=s&65535|(255<(r=Math.round(255*d))?255:r<0?0:r)<<16,Math.round(255*c)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*h));s=s&16776960|(255<r?255:r<0?0:r);break;case 1:r=(s=s&65535|(255<(r=Math.round(255*c))?255:r<0?0:r)<<16,Math.round(255*d)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*h));s=s&16776960|(255<r?255:r<0?0:r);break;case 2:r=(s=s&65535|(255<(r=Math.round(255*h))?255:r<0?0:r)<<16,Math.round(255*d)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*c));s=s&16776960|(255<r?255:r<0?0:r);break;case 3:r=(s=s&65535|(255<(r=Math.round(255*h))?255:r<0?0:r)<<16,Math.round(255*c)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*d));s=s&16776960|(255<r?255:r<0?0:r);break;case 4:r=(s=s&65535|(255<(r=Math.round(255*c))?255:r<0?0:r)<<16,Math.round(255*h)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*d));s=s&16776960|(255<r?255:r<0?0:r);break;case 5:r=(s=s&65535|(255<(r=Math.round(255*d))?255:r<0?0:r)<<16,Math.round(255*h)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*c));s=s&16776960|(255<r?255:r<0?0:r)}}this.set_tabsBorderColor(s);l=Math.max(0,Math.min(1,.5*(2*P.get_lightnessHSLuv(e.get_windowBackgroundColor())+n-.5))),s=0;if(P._hsluvTuple[0]=t,P._hsluvTuple[1]=100*i,P._hsluvTuple[2]=100*l,.001<l){x.hsluvToRgb(P._hsluvTuple,P._hsluvResult),(u=P._hsluvResult[0])<0&&(u=0);r=(s=s&65535|(255<(r=Math.round(255*u))?255:r<0?0:r)<<16,(u=P._hsluvResult[1])<0&&(u=0),Math.round(255*u)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,(u=P._hsluvResult[2])<0&&(u=0),Math.round(255*u));s=s&16776960|(255<r?255:r<0?0:r)}else{h=l-(_=(1-Math.abs(2*l-1))*i)/2,a=t,o=(a%=360)/60,c=(d=_)*(1-Math.abs(o%2-1))+h;switch(d+=h,0|o){case 0:r=(s=s&65535|(255<(r=Math.round(255*d))?255:r<0?0:r)<<16,Math.round(255*c)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*h));s=s&16776960|(255<r?255:r<0?0:r);break;case 1:r=(s=s&65535|(255<(r=Math.round(255*c))?255:r<0?0:r)<<16,Math.round(255*d)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*h));s=s&16776960|(255<r?255:r<0?0:r);break;case 2:r=(s=s&65535|(255<(r=Math.round(255*h))?255:r<0?0:r)<<16,Math.round(255*d)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*c));s=s&16776960|(255<r?255:r<0?0:r);break;case 3:r=(s=s&65535|(255<(r=Math.round(255*h))?255:r<0?0:r)<<16,Math.round(255*c)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*d));s=s&16776960|(255<r?255:r<0?0:r);break;case 4:r=(s=s&65535|(255<(r=Math.round(255*c))?255:r<0?0:r)<<16,Math.round(255*h)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*d));s=s&16776960|(255<r?255:r<0?0:r);break;case 5:r=(s=s&65535|(255<(r=Math.round(255*d))?255:r<0?0:r)<<16,Math.round(255*h)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*c));s=s&16776960|(255<r?255:r<0?0:r)}}this.set_windowBackgroundColor(s);var u,l=Math.max(0,Math.min(1,.5*(2*P.get_lightnessHSLuv(e.get_windowBorderColor())+n-.5))),s=0;if(P._hsluvTuple[0]=t,P._hsluvTuple[1]=100*i,P._hsluvTuple[2]=100*l,.001<l){x.hsluvToRgb(P._hsluvTuple,P._hsluvResult),(u=P._hsluvResult[0])<0&&(u=0);r=(s=s&65535|(255<(r=Math.round(255*u))?255:r<0?0:r)<<16,(u=P._hsluvResult[1])<0&&(u=0),Math.round(255*u)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,(u=P._hsluvResult[2])<0&&(u=0),Math.round(255*u));s=s&16776960|(255<r?255:r<0?0:r)}else{var _,d,h=l-(_=(1-Math.abs(2*l-1))*i)/2,a=t,o=(a%=360)/60,c=(d=_)*(1-Math.abs(o%2-1))+h;switch(d+=h,0|o){case 0:r=(s=s&65535|(255<(r=Math.round(255*d))?255:r<0?0:r)<<16,Math.round(255*c)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*h));s=s&16776960|(255<r?255:r<0?0:r);break;case 1:r=(s=s&65535|(255<(r=Math.round(255*c))?255:r<0?0:r)<<16,Math.round(255*d)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*h));s=s&16776960|(255<r?255:r<0?0:r);break;case 2:r=(s=s&65535|(255<(r=Math.round(255*h))?255:r<0?0:r)<<16,Math.round(255*d)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*c));s=s&16776960|(255<r?255:r<0?0:r);break;case 3:r=(s=s&65535|(255<(r=Math.round(255*h))?255:r<0?0:r)<<16,Math.round(255*c)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*d));s=s&16776960|(255<r?255:r<0?0:r);break;case 4:r=(s=s&65535|(255<(r=Math.round(255*c))?255:r<0?0:r)<<16,Math.round(255*h)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*d));s=s&16776960|(255<r?255:r<0?0:r);break;case 5:r=(s=s&65535|(255<(r=Math.round(255*d))?255:r<0?0:r)<<16,Math.round(255*h)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*c));s=s&16776960|(255<r?255:r<0?0:r)}}this.set_windowBorderColor(s)},applyAltTint:function(e,n){null==e&&(e=G.get_context().get_theme());var t=P.get_hueHSLuv(n),i=P.get_saturationHSLuv(n),n=P.get_lightnessHSLuv(n),l=Math.max(0,Math.min(1,.5*(2*P.get_lightnessHSLuv(e.get_selectionBorderColor())+n-.5))),s=0;if(P._hsluvTuple[0]=t,P._hsluvTuple[1]=100*i,P._hsluvTuple[2]=100*l,.001<l){x.hsluvToRgb(P._hsluvTuple,P._hsluvResult),(u=P._hsluvResult[0])<0&&(u=0);s=s&65535|(255<(r=Math.round(255*u))?255:r<0?0:r)<<16,(u=P._hsluvResult[1])<0&&(u=0);var r=Math.round(255*u),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,(u=P._hsluvResult[2])<0&&(u=0),Math.round(255*u));s=s&16776960|(255<r?255:r<0?0:r)}else{var h=l-(_=(1-Math.abs(2*l-1))*i)/2,a=t,o=(a%=360)/60,c=(d=_)*(1-Math.abs(o%2-1))+h;switch(d+=h,0|o){case 0:r=(s=s&65535|(255<(r=Math.round(255*d))?255:r<0?0:r)<<16,Math.round(255*c)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*h));s=s&16776960|(255<r?255:r<0?0:r);break;case 1:r=(s=s&65535|(255<(r=Math.round(255*c))?255:r<0?0:r)<<16,Math.round(255*d)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*h));s=s&16776960|(255<r?255:r<0?0:r);break;case 2:r=(s=s&65535|(255<(r=Math.round(255*h))?255:r<0?0:r)<<16,Math.round(255*d)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*c));s=s&16776960|(255<r?255:r<0?0:r);break;case 3:r=(s=s&65535|(255<(r=Math.round(255*h))?255:r<0?0:r)<<16,Math.round(255*c)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*d));s=s&16776960|(255<r?255:r<0?0:r);break;case 4:r=(s=s&65535|(255<(r=Math.round(255*c))?255:r<0?0:r)<<16,Math.round(255*h)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*d));s=s&16776960|(255<r?255:r<0?0:r);break;case 5:r=(s=s&65535|(255<(r=Math.round(255*d))?255:r<0?0:r)<<16,Math.round(255*h)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*c));s=s&16776960|(255<r?255:r<0?0:r)}}this.set_selectionBorderColor(s);l=Math.max(0,Math.min(1,.5*(2*P.get_lightnessHSLuv(e.get_highlightColor())+n-.5))),s=0;if(P._hsluvTuple[0]=t,P._hsluvTuple[1]=100*i,P._hsluvTuple[2]=100*l,.001<l){x.hsluvToRgb(P._hsluvTuple,P._hsluvResult),(u=P._hsluvResult[0])<0&&(u=0);r=(s=s&65535|(255<(r=Math.round(255*u))?255:r<0?0:r)<<16,(u=P._hsluvResult[1])<0&&(u=0),Math.round(255*u)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,(u=P._hsluvResult[2])<0&&(u=0),Math.round(255*u));s=s&16776960|(255<r?255:r<0?0:r)}else{h=l-(_=(1-Math.abs(2*l-1))*i)/2,a=t,o=(a%=360)/60,c=(d=_)*(1-Math.abs(o%2-1))+h;switch(d+=h,0|o){case 0:r=(s=s&65535|(255<(r=Math.round(255*d))?255:r<0?0:r)<<16,Math.round(255*c)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*h));s=s&16776960|(255<r?255:r<0?0:r);break;case 1:r=(s=s&65535|(255<(r=Math.round(255*c))?255:r<0?0:r)<<16,Math.round(255*d)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*h));s=s&16776960|(255<r?255:r<0?0:r);break;case 2:r=(s=s&65535|(255<(r=Math.round(255*h))?255:r<0?0:r)<<16,Math.round(255*d)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*c));s=s&16776960|(255<r?255:r<0?0:r);break;case 3:r=(s=s&65535|(255<(r=Math.round(255*h))?255:r<0?0:r)<<16,Math.round(255*c)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*d));s=s&16776960|(255<r?255:r<0?0:r);break;case 4:r=(s=s&65535|(255<(r=Math.round(255*c))?255:r<0?0:r)<<16,Math.round(255*h)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*d));s=s&16776960|(255<r?255:r<0?0:r);break;case 5:r=(s=s&65535|(255<(r=Math.round(255*d))?255:r<0?0:r)<<16,Math.round(255*h)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*c));s=s&16776960|(255<r?255:r<0?0:r)}}this.set_highlightColor(s);l=Math.max(0,Math.min(1,.5*(2*P.get_lightnessHSLuv(e.get_highlightPendingColor())+n-.5))),s=0;if(P._hsluvTuple[0]=t,P._hsluvTuple[1]=100*i,P._hsluvTuple[2]=100*l,.001<l){x.hsluvToRgb(P._hsluvTuple,P._hsluvResult),(u=P._hsluvResult[0])<0&&(u=0);r=(s=s&65535|(255<(r=Math.round(255*u))?255:r<0?0:r)<<16,(u=P._hsluvResult[1])<0&&(u=0),Math.round(255*u)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,(u=P._hsluvResult[2])<0&&(u=0),Math.round(255*u));s=s&16776960|(255<r?255:r<0?0:r)}else{h=l-(_=(1-Math.abs(2*l-1))*i)/2,a=t,o=(a%=360)/60,c=(d=_)*(1-Math.abs(o%2-1))+h;switch(d+=h,0|o){case 0:r=(s=s&65535|(255<(r=Math.round(255*d))?255:r<0?0:r)<<16,Math.round(255*c)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*h));s=s&16776960|(255<r?255:r<0?0:r);break;case 1:r=(s=s&65535|(255<(r=Math.round(255*c))?255:r<0?0:r)<<16,Math.round(255*d)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*h));s=s&16776960|(255<r?255:r<0?0:r);break;case 2:r=(s=s&65535|(255<(r=Math.round(255*h))?255:r<0?0:r)<<16,Math.round(255*d)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*c));s=s&16776960|(255<r?255:r<0?0:r);break;case 3:r=(s=s&65535|(255<(r=Math.round(255*h))?255:r<0?0:r)<<16,Math.round(255*c)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*d));s=s&16776960|(255<r?255:r<0?0:r);break;case 4:r=(s=s&65535|(255<(r=Math.round(255*c))?255:r<0?0:r)<<16,Math.round(255*h)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*d));s=s&16776960|(255<r?255:r<0?0:r);break;case 5:r=(s=s&65535|(255<(r=Math.round(255*d))?255:r<0?0:r)<<16,Math.round(255*h)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*c));s=s&16776960|(255<r?255:r<0?0:r)}}this.set_highlightPendingColor(s);l=Math.max(0,Math.min(1,.5*(2*P.get_lightnessHSLuv(e.get_focusedFieldSelectionColor())+n-.5))),s=0;if(P._hsluvTuple[0]=t,P._hsluvTuple[1]=100*i,P._hsluvTuple[2]=100*l,.001<l){x.hsluvToRgb(P._hsluvTuple,P._hsluvResult),(u=P._hsluvResult[0])<0&&(u=0);r=(s=s&65535|(255<(r=Math.round(255*u))?255:r<0?0:r)<<16,(u=P._hsluvResult[1])<0&&(u=0),Math.round(255*u)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,(u=P._hsluvResult[2])<0&&(u=0),Math.round(255*u));s=s&16776960|(255<r?255:r<0?0:r)}else{h=l-(_=(1-Math.abs(2*l-1))*i)/2,a=t,o=(a%=360)/60,c=(d=_)*(1-Math.abs(o%2-1))+h;switch(d+=h,0|o){case 0:r=(s=s&65535|(255<(r=Math.round(255*d))?255:r<0?0:r)<<16,Math.round(255*c)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*h));s=s&16776960|(255<r?255:r<0?0:r);break;case 1:r=(s=s&65535|(255<(r=Math.round(255*c))?255:r<0?0:r)<<16,Math.round(255*d)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*h));s=s&16776960|(255<r?255:r<0?0:r);break;case 2:r=(s=s&65535|(255<(r=Math.round(255*h))?255:r<0?0:r)<<16,Math.round(255*d)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*c));s=s&16776960|(255<r?255:r<0?0:r);break;case 3:r=(s=s&65535|(255<(r=Math.round(255*h))?255:r<0?0:r)<<16,Math.round(255*c)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*d));s=s&16776960|(255<r?255:r<0?0:r);break;case 4:r=(s=s&65535|(255<(r=Math.round(255*c))?255:r<0?0:r)<<16,Math.round(255*h)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*d));s=s&16776960|(255<r?255:r<0?0:r);break;case 5:r=(s=s&65535|(255<(r=Math.round(255*d))?255:r<0?0:r)<<16,Math.round(255*h)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*c));s=s&16776960|(255<r?255:r<0?0:r)}}this.set_focusedFieldSelectionColor(s);l=Math.max(0,Math.min(1,.5*(2*P.get_lightnessHSLuv(e.get_focusedFieldBorderColor())+n-.5))),s=0;if(P._hsluvTuple[0]=t,P._hsluvTuple[1]=100*i,P._hsluvTuple[2]=100*l,.001<l){x.hsluvToRgb(P._hsluvTuple,P._hsluvResult),(u=P._hsluvResult[0])<0&&(u=0);r=(s=s&65535|(255<(r=Math.round(255*u))?255:r<0?0:r)<<16,(u=P._hsluvResult[1])<0&&(u=0),Math.round(255*u)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,(u=P._hsluvResult[2])<0&&(u=0),Math.round(255*u));s=s&16776960|(255<r?255:r<0?0:r)}else{h=l-(_=(1-Math.abs(2*l-1))*i)/2,a=t,o=(a%=360)/60,c=(d=_)*(1-Math.abs(o%2-1))+h;switch(d+=h,0|o){case 0:r=(s=s&65535|(255<(r=Math.round(255*d))?255:r<0?0:r)<<16,Math.round(255*c)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*h));s=s&16776960|(255<r?255:r<0?0:r);break;case 1:r=(s=s&65535|(255<(r=Math.round(255*c))?255:r<0?0:r)<<16,Math.round(255*d)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*h));s=s&16776960|(255<r?255:r<0?0:r);break;case 2:r=(s=s&65535|(255<(r=Math.round(255*h))?255:r<0?0:r)<<16,Math.round(255*d)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*c));s=s&16776960|(255<r?255:r<0?0:r);break;case 3:r=(s=s&65535|(255<(r=Math.round(255*h))?255:r<0?0:r)<<16,Math.round(255*c)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*d));s=s&16776960|(255<r?255:r<0?0:r);break;case 4:r=(s=s&65535|(255<(r=Math.round(255*c))?255:r<0?0:r)<<16,Math.round(255*h)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*d));s=s&16776960|(255<r?255:r<0?0:r);break;case 5:r=(s=s&65535|(255<(r=Math.round(255*d))?255:r<0?0:r)<<16,Math.round(255*h)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*c));s=s&16776960|(255<r?255:r<0?0:r)}}this.set_focusedFieldBorderColor(s);var u,l=Math.max(0,Math.min(1,.5*(2*P.get_lightnessHSLuv(e.get_buttonFocusedBorderColor())+n-.5))),s=0;if(P._hsluvTuple[0]=t,P._hsluvTuple[1]=100*i,P._hsluvTuple[2]=100*l,.001<l){x.hsluvToRgb(P._hsluvTuple,P._hsluvResult),(u=P._hsluvResult[0])<0&&(u=0);r=(s=s&65535|(255<(r=Math.round(255*u))?255:r<0?0:r)<<16,(u=P._hsluvResult[1])<0&&(u=0),Math.round(255*u)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,(u=P._hsluvResult[2])<0&&(u=0),Math.round(255*u));s=s&16776960|(255<r?255:r<0?0:r)}else{var _,d,h=l-(_=(1-Math.abs(2*l-1))*i)/2,a=t,o=(a%=360)/60,c=(d=_)*(1-Math.abs(o%2-1))+h;switch(d+=h,0|o){case 0:r=(s=s&65535|(255<(r=Math.round(255*d))?255:r<0?0:r)<<16,Math.round(255*c)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*h));s=s&16776960|(255<r?255:r<0?0:r);break;case 1:r=(s=s&65535|(255<(r=Math.round(255*c))?255:r<0?0:r)<<16,Math.round(255*d)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*h));s=s&16776960|(255<r?255:r<0?0:r);break;case 2:r=(s=s&65535|(255<(r=Math.round(255*h))?255:r<0?0:r)<<16,Math.round(255*d)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*c));s=s&16776960|(255<r?255:r<0?0:r);break;case 3:r=(s=s&65535|(255<(r=Math.round(255*h))?255:r<0?0:r)<<16,Math.round(255*c)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*d));s=s&16776960|(255<r?255:r<0?0:r);break;case 4:r=(s=s&65535|(255<(r=Math.round(255*c))?255:r<0?0:r)<<16,Math.round(255*h)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*d));s=s&16776960|(255<r?255:r<0?0:r);break;case 5:r=(s=s&65535|(255<(r=Math.round(255*d))?255:r<0?0:r)<<16,Math.round(255*h)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*c));s=s&16776960|(255<r?255:r<0?0:r)}}this.set_buttonFocusedBorderColor(s)},applyBackgroundColor:function(e){this.set_tabsBackgroundColor(e),this.set_windowBackgroundColor(e)},applyTextColor:function(e){this.set_lightTextColor(e),this.set_mediumTextColor(e),this.set_darkTextColor(e),this.set_darkerTextColor(e)},_tint:null,_altTint:null,_backgroundColor:null,_textColor:null,_used:null,_index:null,_clonedIndex:null,unbindEvents:function(){R1.prototype.unbindEvents.call(this),this.offBackgroundInFormLayoutChange(),this.offFieldTextColorChange(),this.offFieldPlaceholderColorChange(),this.offLightTextColorChange(),this.offMediumTextColorChange(),this.offDarkTextColorChange(),this.offDarkerTextColorChange(),this.offIconColorChange(),this.offCustomMediumFontChange(),this.offCustomBoldFontChange(),this.offLighterBorderColorChange(),this.offLightBorderColorChange(),this.offMediumBorderColorChange(),this.offDarkBorderColorChange(),this.offLightBackgroundColorChange(),this.offMediumBackgroundColorChange(),this.offDarkBackgroundColorChange(),this.offDarkerBackgroundColorChange(),this.offSelectionBorderColorChange(),this.offHighlightColorChange(),this.offHighlightPendingColorChange(),this.offFormItemSpacingChange(),this.offFormPaddingChange(),this.offTabsMarginYChange(),this.offFocusedFieldSelectionColorChange(),this.offFocusedFieldBorderColorChange(),this.offOverlayBackgroundColorChange(),this.offOverlayBackgroundAlphaChange(),this.offOverlayBorderColorChange(),this.offOverlayBorderAlphaChange(),this.offButtonBackgroundColorChange(),this.offButtonOverBackgroundColorChange(),this.offButtonPressedBackgroundColorChange(),this.offButtonFocusedBorderColorChange(),this.offTabsBackgroundColorChange(),this.offTabsBackgroundAlphaChange(),this.offTabsHoverBackgroundColorChange(),this.offTabsHoverBackgroundAlphaChange(),this.offTabsBorderColorChange(),this.offDisabledTabTextAlphaChange(),this.offDisabledTabBorderAlphaChange(),this.offWindowBackgroundColorChange(),this.offWindowBackgroundAlphaChange(),this.offWindowBorderColorChange(),this.offWindowBorderAlphaChange()},_default_backgroundInFormLayoutAutoruns:function(){return null},_default_backgroundInFormLayout:function(){return!1},_default_fieldTextColorAutoruns:function(){return null},_default_fieldTextColor:function(){return 16777215},_default_fieldPlaceholderColorAutoruns:function(){return null},_default_fieldPlaceholderColor:function(){return 8947848},_default_lightTextColorAutoruns:function(){return null},_default_lightTextColor:function(){return 15987699},_default_mediumTextColorAutoruns:function(){return null},_default_mediumTextColor:function(){return 13421772},_default_darkTextColorAutoruns:function(){return null},_default_darkTextColor:function(){return 8947848},_default_darkerTextColorAutoruns:function(){return null},_default_darkerTextColor:function(){return 5592405},_default_iconColorAutoruns:function(){return null},_default_iconColor:function(){return 16777215},_default_customMediumFontAutoruns:function(){return null},_default_customMediumFont:function(){return null},_default_customBoldFontAutoruns:function(){return null},_default_customBoldFont:function(){return null},_default_lighterBorderColorAutoruns:function(){return null},_default_lighterBorderColor:function(){return 10066329},_default_lightBorderColorAutoruns:function(){return null},_default_lightBorderColor:function(){return 6513507},_default_mediumBorderColorAutoruns:function(){return null},_default_mediumBorderColor:function(){return 4605510},_default_darkBorderColorAutoruns:function(){return null},_default_darkBorderColor:function(){return 3684408},_default_lightBackgroundColorAutoruns:function(){return null},_default_lightBackgroundColor:function(){return 5197647},_default_mediumBackgroundColorAutoruns:function(){return null},_default_mediumBackgroundColor:function(){return 4868682},_default_darkBackgroundColorAutoruns:function(){return null},_default_darkBackgroundColor:function(){return 4342338},_default_darkerBackgroundColorAutoruns:function(){return null},_default_darkerBackgroundColor:function(){return 2631720},_default_selectionBorderColorAutoruns:function(){return null},_default_selectionBorderColor:function(){return 4428512},_default_highlightColorAutoruns:function(){return null},_default_highlightColor:function(){return 4428512},_default_highlightPendingColorAutoruns:function(){return null},_default_highlightPendingColor:function(){return 16666932},_default_formItemSpacingAutoruns:function(){return null},_default_formItemSpacing:function(){return 6},_default_formPaddingAutoruns:function(){return null},_default_formPadding:function(){return 6},_default_tabsMarginYAutoruns:function(){return null},_default_tabsMarginY:function(){return 6},_default_focusedFieldSelectionColorAutoruns:function(){return null},_default_focusedFieldSelectionColor:function(){return 3175366},_default_focusedFieldBorderColorAutoruns:function(){return null},_default_focusedFieldBorderColor:function(){return 4428512},_default_overlayBackgroundColorAutoruns:function(){return null},_default_overlayBackgroundColor:function(){return 1842204},_default_overlayBackgroundAlphaAutoruns:function(){return null},_default_overlayBackgroundAlpha:function(){return.925},_default_overlayBorderColorAutoruns:function(){return null},_default_overlayBorderColor:function(){return 6513507},_default_overlayBorderAlphaAutoruns:function(){return null},_default_overlayBorderAlpha:function(){return 1},_default_buttonBackgroundColorAutoruns:function(){return null},_default_buttonBackgroundColor:function(){return 5329233},_default_buttonOverBackgroundColorAutoruns:function(){return null},_default_buttonOverBackgroundColor:function(){return 5921370},_default_buttonPressedBackgroundColorAutoruns:function(){return null},_default_buttonPressedBackgroundColor:function(){return 4692203},_default_buttonFocusedBorderColorAutoruns:function(){return null},_default_buttonFocusedBorderColor:function(){return 4692203},_default_tabsBackgroundColorAutoruns:function(){return null},_default_tabsBackgroundColor:function(){return 8947848},_default_tabsBackgroundAlphaAutoruns:function(){return null},_default_tabsBackgroundAlpha:function(){return.1},_default_tabsHoverBackgroundColorAutoruns:function(){return null},_default_tabsHoverBackgroundColor:function(){return 8947848},_default_tabsHoverBackgroundAlphaAutoruns:function(){return null},_default_tabsHoverBackgroundAlpha:function(){return.2},_default_tabsBorderColorAutoruns:function(){return null},_default_tabsBorderColor:function(){return 6513507},_default_disabledTabTextAlphaAutoruns:function(){return null},_default_disabledTabTextAlpha:function(){return.5},_default_disabledTabBorderAlphaAutoruns:function(){return null},_default_disabledTabBorderAlpha:function(){return.5},_default_windowBackgroundColorAutoruns:function(){return null},_default_windowBackgroundColor:function(){return 1842204},_default_windowBackgroundAlphaAutoruns:function(){return null},_default_windowBackgroundAlpha:function(){return.925},_default_windowBorderColorAutoruns:function(){return null},_default_windowBorderColor:function(){return 6513507},_default_windowBorderAlphaAutoruns:function(){return null},_default_windowBorderAlpha:function(){return 1},_default__tint:function(){return-1},_default__altTint:function(){return-1},_default__backgroundColor:function(){return-1},_default__textColor:function(){return-1},_default__used:function(){return!1},_default__index:function(){return $i._nextIndex=($i._nextIndex+1)%999999999},_default__clonedIndex:function(){return-1},__class__:$i,__properties__:$extend(R1.prototype.__properties__,{set_windowBorderAlpha:"set_windowBorderAlpha",get_windowBorderAlpha:"get_windowBorderAlpha",set_windowBorderColor:"set_windowBorderColor",get_windowBorderColor:"get_windowBorderColor",set_windowBackgroundAlpha:"set_windowBackgroundAlpha",get_windowBackgroundAlpha:"get_windowBackgroundAlpha",set_windowBackgroundColor:"set_windowBackgroundColor",get_windowBackgroundColor:"get_windowBackgroundColor",set_disabledTabBorderAlpha:"set_disabledTabBorderAlpha",get_disabledTabBorderAlpha:"get_disabledTabBorderAlpha",set_disabledTabTextAlpha:"set_disabledTabTextAlpha",get_disabledTabTextAlpha:"get_disabledTabTextAlpha",set_tabsBorderColor:"set_tabsBorderColor",get_tabsBorderColor:"get_tabsBorderColor",set_tabsHoverBackgroundAlpha:"set_tabsHoverBackgroundAlpha",get_tabsHoverBackgroundAlpha:"get_tabsHoverBackgroundAlpha",set_tabsHoverBackgroundColor:"set_tabsHoverBackgroundColor",get_tabsHoverBackgroundColor:"get_tabsHoverBackgroundColor",set_tabsBackgroundAlpha:"set_tabsBackgroundAlpha",get_tabsBackgroundAlpha:"get_tabsBackgroundAlpha",set_tabsBackgroundColor:"set_tabsBackgroundColor",get_tabsBackgroundColor:"get_tabsBackgroundColor",set_buttonFocusedBorderColor:"set_buttonFocusedBorderColor",get_buttonFocusedBorderColor:"get_buttonFocusedBorderColor",set_buttonPressedBackgroundColor:"set_buttonPressedBackgroundColor",get_buttonPressedBackgroundColor:"get_buttonPressedBackgroundColor",set_buttonOverBackgroundColor:"set_buttonOverBackgroundColor",get_buttonOverBackgroundColor:"get_buttonOverBackgroundColor",set_buttonBackgroundColor:"set_buttonBackgroundColor",get_buttonBackgroundColor:"get_buttonBackgroundColor",set_overlayBorderAlpha:"set_overlayBorderAlpha",get_overlayBorderAlpha:"get_overlayBorderAlpha",set_overlayBorderColor:"set_overlayBorderColor",get_overlayBorderColor:"get_overlayBorderColor",set_overlayBackgroundAlpha:"set_overlayBackgroundAlpha",get_overlayBackgroundAlpha:"get_overlayBackgroundAlpha",set_overlayBackgroundColor:"set_overlayBackgroundColor",get_overlayBackgroundColor:"get_overlayBackgroundColor",set_focusedFieldBorderColor:"set_focusedFieldBorderColor",get_focusedFieldBorderColor:"get_focusedFieldBorderColor",set_focusedFieldSelectionColor:"set_focusedFieldSelectionColor",get_focusedFieldSelectionColor:"get_focusedFieldSelectionColor",set_tabsMarginY:"set_tabsMarginY",get_tabsMarginY:"get_tabsMarginY",set_formPadding:"set_formPadding",get_formPadding:"get_formPadding",set_formItemSpacing:"set_formItemSpacing",get_formItemSpacing:"get_formItemSpacing",set_highlightPendingColor:"set_highlightPendingColor",get_highlightPendingColor:"get_highlightPendingColor",set_highlightColor:"set_highlightColor",get_highlightColor:"get_highlightColor",set_selectionBorderColor:"set_selectionBorderColor",get_selectionBorderColor:"get_selectionBorderColor",set_darkerBackgroundColor:"set_darkerBackgroundColor",get_darkerBackgroundColor:"get_darkerBackgroundColor",set_darkBackgroundColor:"set_darkBackgroundColor",get_darkBackgroundColor:"get_darkBackgroundColor",set_mediumBackgroundColor:"set_mediumBackgroundColor",get_mediumBackgroundColor:"get_mediumBackgroundColor",set_lightBackgroundColor:"set_lightBackgroundColor",get_lightBackgroundColor:"get_lightBackgroundColor",set_darkBorderColor:"set_darkBorderColor",get_darkBorderColor:"get_darkBorderColor",set_mediumBorderColor:"set_mediumBorderColor",get_mediumBorderColor:"get_mediumBorderColor",set_lightBorderColor:"set_lightBorderColor",get_lightBorderColor:"get_lightBorderColor",set_lighterBorderColor:"set_lighterBorderColor",get_lighterBorderColor:"get_lighterBorderColor",get_boldFont:"get_boldFont",set_customBoldFont:"set_customBoldFont",get_customBoldFont:"get_customBoldFont",get_mediumFont:"get_mediumFont",set_customMediumFont:"set_customMediumFont",get_customMediumFont:"get_customMediumFont",set_iconColor:"set_iconColor",get_iconColor:"get_iconColor",set_darkerTextColor:"set_darkerTextColor",get_darkerTextColor:"get_darkerTextColor",set_darkTextColor:"set_darkTextColor",get_darkTextColor:"get_darkTextColor",set_mediumTextColor:"set_mediumTextColor",get_mediumTextColor:"get_mediumTextColor",set_lightTextColor:"set_lightTextColor",get_lightTextColor:"get_lightTextColor",set_fieldPlaceholderColor:"set_fieldPlaceholderColor",get_fieldPlaceholderColor:"get_fieldPlaceholderColor",set_fieldTextColor:"set_fieldTextColor",get_fieldTextColor:"get_fieldTextColor",set_backgroundInFormLayout:"set_backgroundInFormLayout",get_backgroundInFormLayout:"get_backgroundInFormLayout"})}),function(e){this.initializerName=null,this.contentAutoruns=null,this.unobservedTheme=null,this.themeAutoruns=null,this.observedDirty=!1,o.call(this),this.set_content(e),this.set_depth(21),G.get_context().view.add(this),this.set_anchorX(0),this.set_anchorY(.5),this.bubble=new p,this.bubble.set_depth(1),this.add(this.bubble),this.bubbleTriangle=new Cc,this.bubbleTriangle.set_depth(1),this.add(this.bubbleTriangle),this.text=new gt,this.text.set_fitWidth(100),this.text.set_depth(2),this.text.set_preRenderedSize(20),this.text.set_pointSize(11),this.text.set_align(Ot.CENTER),this.add(this.text),this.autorun($bind(this,this.updateTextContent)),this.autorun($bind(this,this.updateStyle))}),qi=((E["elements.Tooltip"]=Qi).__name__="elements.Tooltip",Qi.__interfaces__=[s,a0],Qi.tooltip=function(e,n){var t;null==n?e.removeComponent("tooltip"):null==(t=e.component("tooltip"))?(t=new Qi(n),e.component("tooltip",t)):t.set_content(n)},Qi.__super__=o,Qi.prototype=$extend(o.prototype,{__cbOnObservedDirty:null,__cbOnceObservedDirty:null,__cbOnOwnerUnbindObservedDirty:null,__cbOnceOwnerUnbindObservedDirty:null,emitObservedDirty:function(e,n){var t=0;if(null!=this.__cbOnObservedDirty&&(t+=this.__cbOnObservedDirty.length),null!=this.__cbOnceObservedDirty&&(t+=this.__cbOnceObservedDirty.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnObservedDirty)for(var r=0,h=this.__cbOnObservedDirty.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnObservedDirty[a],++s):--t}if(null!=this.__cbOnceObservedDirty){for(var o=null,c=null,r=0,h=this.__cbOnceObservedDirty.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceObservedDirty[a],this.__cbOnceObservedDirty[a]=null,u=this.__cbOnceOwnerUnbindObservedDirty[a],(this.__cbOnceOwnerUnbindObservedDirty[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindObservedDirty[a]),c.push(this.__cbOnceObservedDirty[a]))}this.__cbOnceOwnerUnbindObservedDirty=o,this.__cbOnceObservedDirty=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onObservedDirty:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event observedDirty because owner is destroyed!");var l=function(e){null!=t&&(i.offObservedDirty(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push(null);null==this.__cbOnObservedDirty&&(this.__cbOnObservedDirty=[]),this.__cbOnObservedDirty.push(t)},onceObservedDirty:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event observedDirty because owner is destroyed!");var l=function(e){null!=t&&(i.offObservedDirty(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push(null);null==this.__cbOnceObservedDirty&&(this.__cbOnceObservedDirty=[]),this.__cbOnceObservedDirty.push(t)},offObservedDirty:function(e){if(null!=e){var n;null!=this.__cbOnObservedDirty&&-1!=(n=this.__cbOnObservedDirty.indexOf(e))&&(this.__cbOnObservedDirty.splice(n,1),null!=(s=this.__cbOnOwnerUnbindObservedDirty[n])&&s(),this.__cbOnOwnerUnbindObservedDirty.splice(n,1)),null!=this.__cbOnceObservedDirty&&-1!=(n=this.__cbOnceObservedDirty.indexOf(e))&&(this.__cbOnceObservedDirty.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindObservedDirty[n])&&s(),this.__cbOnceOwnerUnbindObservedDirty.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindObservedDirty){for(var t=0,i=this.__cbOnOwnerUnbindObservedDirty.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindObservedDirty[l])&&s()}this.__cbOnOwnerUnbindObservedDirty=null}if(null!=this.__cbOnceOwnerUnbindObservedDirty){for(t=0,i=this.__cbOnceOwnerUnbindObservedDirty.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindObservedDirty[l])&&s()}this.__cbOnceOwnerUnbindObservedDirty=null}this.__cbOnObservedDirty=null,this.__cbOnceObservedDirty=null}},listensObservedDirty:function(){return null!=this.__cbOnObservedDirty&&0<this.__cbOnObservedDirty.length||null!=this.__cbOnceObservedDirty&&0<this.__cbOnceObservedDirty.length},observedDirty:null,themeAutoruns:null,get_theme:function(){var e,n,t=this.unobservedTheme;return null!=A.current&&(e=A.current,null!=(n=this.themeAutoruns)||(n=A.getAutorunArray(),null!=(this.themeAutoruns=n)))&&e.bindToAutorunArray(n),t},set_theme:function(e){var n=this.unobservedTheme;return n!=(this.unobservedTheme=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitThemeChange(e,n),null!=(n=this.themeAutoruns))&&(this.themeAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateTheme:function(){var e=this.unobservedTheme,e=(this.emitThemeChange(e,e),this.themeAutoruns);null!=e&&(this.themeAutoruns=null,A.invalidateAutorunArray(e))},unobservedTheme:null,__cbOnThemeChange:null,__cbOnceThemeChange:null,__cbOnOwnerUnbindThemeChange:null,__cbOnceOwnerUnbindThemeChange:null,emitThemeChange:function(e,n){var t=0;if(null!=this.__cbOnThemeChange&&(t+=this.__cbOnThemeChange.length),null!=this.__cbOnceThemeChange&&(t+=this.__cbOnceThemeChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnThemeChange)for(var r=0,h=this.__cbOnThemeChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnThemeChange[a],++s):--t}if(null!=this.__cbOnceThemeChange){for(var o=null,c=null,r=0,h=this.__cbOnceThemeChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceThemeChange[a],this.__cbOnceThemeChange[a]=null,u=this.__cbOnceOwnerUnbindThemeChange[a],(this.__cbOnceOwnerUnbindThemeChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindThemeChange[a]),c.push(this.__cbOnceThemeChange[a]))}this.__cbOnceOwnerUnbindThemeChange=o,this.__cbOnceThemeChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onThemeChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event themeChange because owner is destroyed!");var l=function(e){null!=t&&(i.offThemeChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindThemeChange&&(this.__cbOnOwnerUnbindThemeChange=[]),this.__cbOnOwnerUnbindThemeChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindThemeChange&&(this.__cbOnOwnerUnbindThemeChange=[]),this.__cbOnOwnerUnbindThemeChange.push(null);null==this.__cbOnThemeChange&&(this.__cbOnThemeChange=[]),this.__cbOnThemeChange.push(t)},onceThemeChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event themeChange because owner is destroyed!");var l=function(e){null!=t&&(i.offThemeChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindThemeChange&&(this.__cbOnceOwnerUnbindThemeChange=[]),this.__cbOnceOwnerUnbindThemeChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindThemeChange&&(this.__cbOnceOwnerUnbindThemeChange=[]),this.__cbOnceOwnerUnbindThemeChange.push(null);null==this.__cbOnceThemeChange&&(this.__cbOnceThemeChange=[]),this.__cbOnceThemeChange.push(t)},offThemeChange:function(e){if(null!=e){var n;null!=this.__cbOnThemeChange&&-1!=(n=this.__cbOnThemeChange.indexOf(e))&&(this.__cbOnThemeChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindThemeChange[n])&&s(),this.__cbOnOwnerUnbindThemeChange.splice(n,1)),null!=this.__cbOnceThemeChange&&-1!=(n=this.__cbOnceThemeChange.indexOf(e))&&(this.__cbOnceThemeChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindThemeChange[n])&&s(),this.__cbOnceOwnerUnbindThemeChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindThemeChange){for(var t=0,i=this.__cbOnOwnerUnbindThemeChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindThemeChange[l])&&s()}this.__cbOnOwnerUnbindThemeChange=null}if(null!=this.__cbOnceOwnerUnbindThemeChange){for(t=0,i=this.__cbOnceOwnerUnbindThemeChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindThemeChange[l])&&s()}this.__cbOnceOwnerUnbindThemeChange=null}this.__cbOnThemeChange=null,this.__cbOnceThemeChange=null}},listensThemeChange:function(){return null!=this.__cbOnThemeChange&&0<this.__cbOnThemeChange.length||null!=this.__cbOnceThemeChange&&0<this.__cbOnceThemeChange.length},contentAutoruns:null,get_content:function(){var e,n,t=this.unobservedContent;return null!=A.current&&(e=A.current,null!=(n=this.contentAutoruns)||(n=A.getAutorunArray(),null!=(this.contentAutoruns=n)))&&e.bindToAutorunArray(n),t},set_content:function(e){var n=this.unobservedContent;return n!=(this.unobservedContent=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitContentChange(e,n),null!=(n=this.contentAutoruns))&&(this.contentAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateContent:function(){var e=this.unobservedContent,e=(this.emitContentChange(e,e),this.contentAutoruns);null!=e&&(this.contentAutoruns=null,A.invalidateAutorunArray(e))},unobservedContent:null,__cbOnContentChange:null,__cbOnceContentChange:null,__cbOnOwnerUnbindContentChange:null,__cbOnceOwnerUnbindContentChange:null,emitContentChange:function(e,n){var t=0;if(null!=this.__cbOnContentChange&&(t+=this.__cbOnContentChange.length),null!=this.__cbOnceContentChange&&(t+=this.__cbOnceContentChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnContentChange)for(var r=0,h=this.__cbOnContentChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnContentChange[a],++s):--t}if(null!=this.__cbOnceContentChange){for(var o=null,c=null,r=0,h=this.__cbOnceContentChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceContentChange[a],this.__cbOnceContentChange[a]=null,u=this.__cbOnceOwnerUnbindContentChange[a],(this.__cbOnceOwnerUnbindContentChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindContentChange[a]),c.push(this.__cbOnceContentChange[a]))}this.__cbOnceOwnerUnbindContentChange=o,this.__cbOnceContentChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onContentChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event contentChange because owner is destroyed!");var l=function(e){null!=t&&(i.offContentChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindContentChange&&(this.__cbOnOwnerUnbindContentChange=[]),this.__cbOnOwnerUnbindContentChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindContentChange&&(this.__cbOnOwnerUnbindContentChange=[]),this.__cbOnOwnerUnbindContentChange.push(null);null==this.__cbOnContentChange&&(this.__cbOnContentChange=[]),this.__cbOnContentChange.push(t)},onceContentChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event contentChange because owner is destroyed!");var l=function(e){null!=t&&(i.offContentChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindContentChange&&(this.__cbOnceOwnerUnbindContentChange=[]),this.__cbOnceOwnerUnbindContentChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindContentChange&&(this.__cbOnceOwnerUnbindContentChange=[]),this.__cbOnceOwnerUnbindContentChange.push(null);null==this.__cbOnceContentChange&&(this.__cbOnceContentChange=[]),this.__cbOnceContentChange.push(t)},offContentChange:function(e){if(null!=e){var n;null!=this.__cbOnContentChange&&-1!=(n=this.__cbOnContentChange.indexOf(e))&&(this.__cbOnContentChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindContentChange[n])&&s(),this.__cbOnOwnerUnbindContentChange.splice(n,1)),null!=this.__cbOnceContentChange&&-1!=(n=this.__cbOnceContentChange.indexOf(e))&&(this.__cbOnceContentChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindContentChange[n])&&s(),this.__cbOnceOwnerUnbindContentChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindContentChange){for(var t=0,i=this.__cbOnOwnerUnbindContentChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindContentChange[l])&&s()}this.__cbOnOwnerUnbindContentChange=null}if(null!=this.__cbOnceOwnerUnbindContentChange){for(t=0,i=this.__cbOnceOwnerUnbindContentChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindContentChange[l])&&s()}this.__cbOnceOwnerUnbindContentChange=null}this.__cbOnContentChange=null,this.__cbOnceContentChange=null}},listensContentChange:function(){return null!=this.__cbOnContentChange&&0<this.__cbOnContentChange.length||null!=this.__cbOnceContentChange&&0<this.__cbOnceContentChange.length},entity:null,text:null,bubble:null,bubbleTriangle:null,bindAsComponent:function(){var t=this;this.set_active(!1),this.entity.onPointerOver(this,function(e){var n;0<ae.app.screen._numPointerDown||(t.set_active(!0),t.entity.visualToScreen(.5*t.entity.get_width(),.5*t.entity.get_height(),Qi._point),null!=t.parent&&t.parent.screenToVisual(Qi._point.x,Qi._point.y,Qi._point),n=24+Qi._point.y,t.set_x(Qi._point.x),t.set_y(n))}),this.entity.onPointerOut(this,function(e){t.set_active(!1)})},updateTextContent:function(){this.text.set_content(this.get_content());var e=.5*-(this.text.get_width()+12),n=((i=this.text).set_x(6+e),i.set_y(11),this.text.get_width()+12),t=this.text.get_height()+12,i=(this.set_width(n),this.set_height(t),this.bubble),n=this.get_width(),t=this.get_height();i.set_width(n),i.set_height(t),(i=this.bubble).set_x(e),i.set_y(5),(i=this.bubbleTriangle).set_anchorX(.5),i.set_anchorY(1),(i=this.bubbleTriangle).set_width(8),i.set_height(5),(i=this.bubbleTriangle).set_x(0),i.set_y(5)},updateStyle:function(){var e=this.get_theme();null==e&&(e=G.get_context().get_theme()),this.text.set_color(e.get_lightTextColor()),this.text.set_font(e.get_mediumFont()),this.bubble.color=e.get_overlayBackgroundColor(),this.bubble.set_alpha(e.get_overlayBackgroundAlpha()),this.bubbleTriangle.set_color(this.bubble.color),this.bubbleTriangle.set_alpha(this.bubble.alpha)},unbindEvents:function(){o.prototype.unbindEvents.call(this),this.offObservedDirty(),this.offThemeChange(),this.offContentChange()},setEntity:function(e){this.entity=e instanceof o?e:null},getEntity:function(){return this.entity},initializerName:null,__class__:Qi,__properties__:$extend(o.prototype.__properties__,{set_content:"set_content",get_content:"get_content",set_theme:"set_theme",get_theme:"get_theme"})}),function(){this.unobservedPaletteColors=[],this.paletteColorsAutoruns=null,this.unobservedColorPickerHsluv=!1,this.colorPickerHsluvAutoruns=null,this.unobservedWindowsData=new Nl,this.windowsDataAutoruns=null,R1.call(this)}),Zi=((E["elements.UserData"]=qi).__name__="elements.UserData",qi.__super__=R1,qi.prototype=$extend(R1.prototype,{windowsDataAutoruns:null,get_windowsData:function(){var e,n,t=this.unobservedWindowsData;return null!=A.current&&(e=A.current,null!=(n=this.windowsDataAutoruns)||(n=A.getAutorunArray(),null!=(this.windowsDataAutoruns=n)))&&e.bindToAutorunArray(n),t},set_windowsData:function(e){var n=this.unobservedWindowsData;return this.unobservedWindowsData=e,Ds.equalAny(n,e)||(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!0)),this.emitWindowsDataChange(e,n),null!=(n=this.windowsDataAutoruns)&&(this.windowsDataAutoruns=null,A.invalidateAutorunArray(n))),e},invalidateWindowsData:function(){var e=this.unobservedWindowsData,e=(this.emitWindowsDataChange(e,e),this.windowsDataAutoruns);null!=e&&(this.windowsDataAutoruns=null,A.invalidateAutorunArray(e))},unobservedWindowsData:null,__cbOnWindowsDataChange:null,__cbOnceWindowsDataChange:null,__cbOnOwnerUnbindWindowsDataChange:null,__cbOnceOwnerUnbindWindowsDataChange:null,emitWindowsDataChange:function(e,n){var t=0;if(null!=this.__cbOnWindowsDataChange&&(t+=this.__cbOnWindowsDataChange.length),null!=this.__cbOnceWindowsDataChange&&(t+=this.__cbOnceWindowsDataChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnWindowsDataChange)for(var r=0,h=this.__cbOnWindowsDataChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnWindowsDataChange[a],++s):--t}if(null!=this.__cbOnceWindowsDataChange){for(var o=null,c=null,r=0,h=this.__cbOnceWindowsDataChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceWindowsDataChange[a],this.__cbOnceWindowsDataChange[a]=null,u=this.__cbOnceOwnerUnbindWindowsDataChange[a],(this.__cbOnceOwnerUnbindWindowsDataChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindWindowsDataChange[a]),c.push(this.__cbOnceWindowsDataChange[a]))}this.__cbOnceOwnerUnbindWindowsDataChange=o,this.__cbOnceWindowsDataChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onWindowsDataChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event windowsDataChange because owner is destroyed!");var l=function(e){null!=t&&(i.offWindowsDataChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindWindowsDataChange&&(this.__cbOnOwnerUnbindWindowsDataChange=[]),this.__cbOnOwnerUnbindWindowsDataChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindWindowsDataChange&&(this.__cbOnOwnerUnbindWindowsDataChange=[]),this.__cbOnOwnerUnbindWindowsDataChange.push(null);null==this.__cbOnWindowsDataChange&&(this.__cbOnWindowsDataChange=[]),this.__cbOnWindowsDataChange.push(t)},onceWindowsDataChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event windowsDataChange because owner is destroyed!");var l=function(e){null!=t&&(i.offWindowsDataChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindWindowsDataChange&&(this.__cbOnceOwnerUnbindWindowsDataChange=[]),this.__cbOnceOwnerUnbindWindowsDataChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindWindowsDataChange&&(this.__cbOnceOwnerUnbindWindowsDataChange=[]),this.__cbOnceOwnerUnbindWindowsDataChange.push(null);null==this.__cbOnceWindowsDataChange&&(this.__cbOnceWindowsDataChange=[]),this.__cbOnceWindowsDataChange.push(t)},offWindowsDataChange:function(e){if(null!=e){var n;null!=this.__cbOnWindowsDataChange&&-1!=(n=this.__cbOnWindowsDataChange.indexOf(e))&&(this.__cbOnWindowsDataChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindWindowsDataChange[n])&&s(),this.__cbOnOwnerUnbindWindowsDataChange.splice(n,1)),null!=this.__cbOnceWindowsDataChange&&-1!=(n=this.__cbOnceWindowsDataChange.indexOf(e))&&(this.__cbOnceWindowsDataChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindWindowsDataChange[n])&&s(),this.__cbOnceOwnerUnbindWindowsDataChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindWindowsDataChange){for(var t=0,i=this.__cbOnOwnerUnbindWindowsDataChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindWindowsDataChange[l])&&s()}this.__cbOnOwnerUnbindWindowsDataChange=null}if(null!=this.__cbOnceOwnerUnbindWindowsDataChange){for(t=0,i=this.__cbOnceOwnerUnbindWindowsDataChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindWindowsDataChange[l])&&s()}this.__cbOnceOwnerUnbindWindowsDataChange=null}this.__cbOnWindowsDataChange=null,this.__cbOnceWindowsDataChange=null}},listensWindowsDataChange:function(){return null!=this.__cbOnWindowsDataChange&&0<this.__cbOnWindowsDataChange.length||null!=this.__cbOnceWindowsDataChange&&0<this.__cbOnceWindowsDataChange.length},colorPickerHsluvAutoruns:null,get_colorPickerHsluv:function(){var e,n,t=this.unobservedColorPickerHsluv;return null!=A.current&&(e=A.current,null!=(n=this.colorPickerHsluvAutoruns)||(n=A.getAutorunArray(),null!=(this.colorPickerHsluvAutoruns=n)))&&e.bindToAutorunArray(n),t},set_colorPickerHsluv:function(e){var n=this.unobservedColorPickerHsluv;return n!=(this.unobservedColorPickerHsluv=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!0)),this.emitColorPickerHsluvChange(e,n),null!=(n=this.colorPickerHsluvAutoruns))&&(this.colorPickerHsluvAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateColorPickerHsluv:function(){var e=this.unobservedColorPickerHsluv,e=(this.emitColorPickerHsluvChange(e,e),this.colorPickerHsluvAutoruns);null!=e&&(this.colorPickerHsluvAutoruns=null,A.invalidateAutorunArray(e))},unobservedColorPickerHsluv:null,__cbOnColorPickerHsluvChange:null,__cbOnceColorPickerHsluvChange:null,__cbOnOwnerUnbindColorPickerHsluvChange:null,__cbOnceOwnerUnbindColorPickerHsluvChange:null,emitColorPickerHsluvChange:function(e,n){var t=0;if(null!=this.__cbOnColorPickerHsluvChange&&(t+=this.__cbOnColorPickerHsluvChange.length),null!=this.__cbOnceColorPickerHsluvChange&&(t+=this.__cbOnceColorPickerHsluvChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnColorPickerHsluvChange)for(var r=0,h=this.__cbOnColorPickerHsluvChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnColorPickerHsluvChange[a],++s):--t}if(null!=this.__cbOnceColorPickerHsluvChange){for(var o=null,c=null,r=0,h=this.__cbOnceColorPickerHsluvChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceColorPickerHsluvChange[a],this.__cbOnceColorPickerHsluvChange[a]=null,u=this.__cbOnceOwnerUnbindColorPickerHsluvChange[a],(this.__cbOnceOwnerUnbindColorPickerHsluvChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindColorPickerHsluvChange[a]),c.push(this.__cbOnceColorPickerHsluvChange[a]))}this.__cbOnceOwnerUnbindColorPickerHsluvChange=o,this.__cbOnceColorPickerHsluvChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onColorPickerHsluvChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event colorPickerHsluvChange because owner is destroyed!");var l=function(e){null!=t&&(i.offColorPickerHsluvChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindColorPickerHsluvChange&&(this.__cbOnOwnerUnbindColorPickerHsluvChange=[]),this.__cbOnOwnerUnbindColorPickerHsluvChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindColorPickerHsluvChange&&(this.__cbOnOwnerUnbindColorPickerHsluvChange=[]),this.__cbOnOwnerUnbindColorPickerHsluvChange.push(null);null==this.__cbOnColorPickerHsluvChange&&(this.__cbOnColorPickerHsluvChange=[]),this.__cbOnColorPickerHsluvChange.push(t)},onceColorPickerHsluvChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event colorPickerHsluvChange because owner is destroyed!");var l=function(e){null!=t&&(i.offColorPickerHsluvChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindColorPickerHsluvChange&&(this.__cbOnceOwnerUnbindColorPickerHsluvChange=[]),this.__cbOnceOwnerUnbindColorPickerHsluvChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindColorPickerHsluvChange&&(this.__cbOnceOwnerUnbindColorPickerHsluvChange=[]),this.__cbOnceOwnerUnbindColorPickerHsluvChange.push(null);null==this.__cbOnceColorPickerHsluvChange&&(this.__cbOnceColorPickerHsluvChange=[]),this.__cbOnceColorPickerHsluvChange.push(t)},offColorPickerHsluvChange:function(e){if(null!=e){var n;null!=this.__cbOnColorPickerHsluvChange&&-1!=(n=this.__cbOnColorPickerHsluvChange.indexOf(e))&&(this.__cbOnColorPickerHsluvChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindColorPickerHsluvChange[n])&&s(),this.__cbOnOwnerUnbindColorPickerHsluvChange.splice(n,1)),null!=this.__cbOnceColorPickerHsluvChange&&-1!=(n=this.__cbOnceColorPickerHsluvChange.indexOf(e))&&(this.__cbOnceColorPickerHsluvChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindColorPickerHsluvChange[n])&&s(),this.__cbOnceOwnerUnbindColorPickerHsluvChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindColorPickerHsluvChange){for(var t=0,i=this.__cbOnOwnerUnbindColorPickerHsluvChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindColorPickerHsluvChange[l])&&s()}this.__cbOnOwnerUnbindColorPickerHsluvChange=null}if(null!=this.__cbOnceOwnerUnbindColorPickerHsluvChange){for(t=0,i=this.__cbOnceOwnerUnbindColorPickerHsluvChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindColorPickerHsluvChange[l])&&s()}this.__cbOnceOwnerUnbindColorPickerHsluvChange=null}this.__cbOnColorPickerHsluvChange=null,this.__cbOnceColorPickerHsluvChange=null}},listensColorPickerHsluvChange:function(){return null!=this.__cbOnColorPickerHsluvChange&&0<this.__cbOnColorPickerHsluvChange.length||null!=this.__cbOnceColorPickerHsluvChange&&0<this.__cbOnceColorPickerHsluvChange.length},paletteColorsAutoruns:null,get_paletteColors:function(){var e,n,t=this.unobservedPaletteColors;return null!=A.current&&(e=A.current,null!=(n=this.paletteColorsAutoruns)||(n=A.getAutorunArray(),null!=(this.paletteColorsAutoruns=n)))&&e.bindToAutorunArray(n),t},set_paletteColors:function(e){var n=this.unobservedPaletteColors;return this.unobservedPaletteColors=e,Ds.equalAny(n,e)||(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!0)),this.emitPaletteColorsChange(e,n),null!=(n=this.paletteColorsAutoruns)&&(this.paletteColorsAutoruns=null,A.invalidateAutorunArray(n))),e},invalidatePaletteColors:function(){var e=this.unobservedPaletteColors,e=(this.emitPaletteColorsChange(e,e),this.paletteColorsAutoruns);null!=e&&(this.paletteColorsAutoruns=null,A.invalidateAutorunArray(e))},unobservedPaletteColors:null,__cbOnPaletteColorsChange:null,__cbOncePaletteColorsChange:null,__cbOnOwnerUnbindPaletteColorsChange:null,__cbOnceOwnerUnbindPaletteColorsChange:null,emitPaletteColorsChange:function(e,n){var t=0;if(null!=this.__cbOnPaletteColorsChange&&(t+=this.__cbOnPaletteColorsChange.length),null!=this.__cbOncePaletteColorsChange&&(t+=this.__cbOncePaletteColorsChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnPaletteColorsChange)for(var r=0,h=this.__cbOnPaletteColorsChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnPaletteColorsChange[a],++s):--t}if(null!=this.__cbOncePaletteColorsChange){for(var o=null,c=null,r=0,h=this.__cbOncePaletteColorsChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOncePaletteColorsChange[a],this.__cbOncePaletteColorsChange[a]=null,u=this.__cbOnceOwnerUnbindPaletteColorsChange[a],(this.__cbOnceOwnerUnbindPaletteColorsChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindPaletteColorsChange[a]),c.push(this.__cbOncePaletteColorsChange[a]))}this.__cbOnceOwnerUnbindPaletteColorsChange=o,this.__cbOncePaletteColorsChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onPaletteColorsChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event paletteColorsChange because owner is destroyed!");var l=function(e){null!=t&&(i.offPaletteColorsChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindPaletteColorsChange&&(this.__cbOnOwnerUnbindPaletteColorsChange=[]),this.__cbOnOwnerUnbindPaletteColorsChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindPaletteColorsChange&&(this.__cbOnOwnerUnbindPaletteColorsChange=[]),this.__cbOnOwnerUnbindPaletteColorsChange.push(null);null==this.__cbOnPaletteColorsChange&&(this.__cbOnPaletteColorsChange=[]),this.__cbOnPaletteColorsChange.push(t)},oncePaletteColorsChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event paletteColorsChange because owner is destroyed!");var l=function(e){null!=t&&(i.offPaletteColorsChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindPaletteColorsChange&&(this.__cbOnceOwnerUnbindPaletteColorsChange=[]),this.__cbOnceOwnerUnbindPaletteColorsChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindPaletteColorsChange&&(this.__cbOnceOwnerUnbindPaletteColorsChange=[]),this.__cbOnceOwnerUnbindPaletteColorsChange.push(null);null==this.__cbOncePaletteColorsChange&&(this.__cbOncePaletteColorsChange=[]),this.__cbOncePaletteColorsChange.push(t)},offPaletteColorsChange:function(e){if(null!=e){var n;null!=this.__cbOnPaletteColorsChange&&-1!=(n=this.__cbOnPaletteColorsChange.indexOf(e))&&(this.__cbOnPaletteColorsChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindPaletteColorsChange[n])&&s(),this.__cbOnOwnerUnbindPaletteColorsChange.splice(n,1)),null!=this.__cbOncePaletteColorsChange&&-1!=(n=this.__cbOncePaletteColorsChange.indexOf(e))&&(this.__cbOncePaletteColorsChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindPaletteColorsChange[n])&&s(),this.__cbOnceOwnerUnbindPaletteColorsChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindPaletteColorsChange){for(var t=0,i=this.__cbOnOwnerUnbindPaletteColorsChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindPaletteColorsChange[l])&&s()}this.__cbOnOwnerUnbindPaletteColorsChange=null}if(null!=this.__cbOnceOwnerUnbindPaletteColorsChange){for(t=0,i=this.__cbOnceOwnerUnbindPaletteColorsChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindPaletteColorsChange[l])&&s()}this.__cbOnceOwnerUnbindPaletteColorsChange=null}this.__cbOnPaletteColorsChange=null,this.__cbOncePaletteColorsChange=null}},listensPaletteColorsChange:function(){return null!=this.__cbOnPaletteColorsChange&&0<this.__cbOnPaletteColorsChange.length||null!=this.__cbOncePaletteColorsChange&&0<this.__cbOncePaletteColorsChange.length},addPaletteColor:function(e,n){null==n&&(n=!0);var t=this.get_paletteColors();if(n)for(var i=0,l=t.length;i<l;)if(e==t[i++])return void ae.app.logger.warning("Cannot add color "+(null==e?"null":-1==e?"NONE":"0x"+z.hex(e>>16&255,2)+z.hex(e>>8&255,2)+z.hex(255&e,2))+" in palette because it already exists. Ignoring.",{fileName:"../../../../ceramic/plugins/elements/runtime/src/elements/UserData.hx",lineNumber:124,className:"elements.UserData",methodName:"addPaletteColor"});n=[].concat(t);n.push(e),this.set_paletteColors(n)},movePaletteColor:function(e,n){var t=[].concat(this.get_paletteColors()),i=t[e];t.splice(e,1),t.splice(n,0,i),this.set_paletteColors(t)},removePaletteColor:function(e){var n=[].concat(this.get_paletteColors());n.splice(e,1),this.set_paletteColors(n)},unbindEvents:function(){R1.prototype.unbindEvents.call(this),this.offWindowsDataChange(),this.offColorPickerHsluvChange(),this.offPaletteColorsChange()},_default_windowsDataAutoruns:function(){return null},_default_windowsData:function(){return new Nl},_default_colorPickerHsluvAutoruns:function(){return null},_default_colorPickerHsluv:function(){return!1},_default_paletteColorsAutoruns:function(){return null},_default_paletteColors:function(){return[]},__class__:qi,__properties__:$extend(R1.prototype.__properties__,{set_paletteColors:"set_paletteColors",get_paletteColors:"get_paletteColors",set_colorPickerHsluv:"set_colorPickerHsluv",get_colorPickerHsluv:"get_colorPickerHsluv",set_windowsData:"set_windowsData",get_windowsData:"get_windowsData"})}),function(){this.computedVisualScale=1,this.unobservedVisual=null,this.visualAutoruns=null,this.unobservedScaling=Ji.FIT,this.scalingAutoruns=null,this.unobservedVisualScale=1,this.visualScaleAutoruns=null,this.unobservedContentAlign=Vn.CENTER,this.contentAlignAutoruns=null,this.filter=null,this.destroyFilterOnRemove=!0,this.destroyVisualOnRemove=!0,this.observedDirty=!1,f0.call(this),this.autorun($bind(this,this.updateVisualScale))}),Ji=((E["elements.VisualContainerView"]=Zi).__name__="elements.VisualContainerView",Zi.__interfaces__=[s],Zi.__super__=f0,Zi.prototype=$extend(f0.prototype,{__cbOnObservedDirty:null,__cbOnceObservedDirty:null,__cbOnOwnerUnbindObservedDirty:null,__cbOnceOwnerUnbindObservedDirty:null,emitObservedDirty:function(e,n){var t=0;if(null!=this.__cbOnObservedDirty&&(t+=this.__cbOnObservedDirty.length),null!=this.__cbOnceObservedDirty&&(t+=this.__cbOnceObservedDirty.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnObservedDirty)for(var r=0,h=this.__cbOnObservedDirty.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnObservedDirty[a],++s):--t}if(null!=this.__cbOnceObservedDirty){for(var o=null,c=null,r=0,h=this.__cbOnceObservedDirty.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceObservedDirty[a],this.__cbOnceObservedDirty[a]=null,u=this.__cbOnceOwnerUnbindObservedDirty[a],(this.__cbOnceOwnerUnbindObservedDirty[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindObservedDirty[a]),c.push(this.__cbOnceObservedDirty[a]))}this.__cbOnceOwnerUnbindObservedDirty=o,this.__cbOnceObservedDirty=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onObservedDirty:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event observedDirty because owner is destroyed!");var l=function(e){null!=t&&(i.offObservedDirty(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push(null);null==this.__cbOnObservedDirty&&(this.__cbOnObservedDirty=[]),this.__cbOnObservedDirty.push(t)},onceObservedDirty:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event observedDirty because owner is destroyed!");var l=function(e){null!=t&&(i.offObservedDirty(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push(null);null==this.__cbOnceObservedDirty&&(this.__cbOnceObservedDirty=[]),this.__cbOnceObservedDirty.push(t)},offObservedDirty:function(e){if(null!=e){var n;null!=this.__cbOnObservedDirty&&-1!=(n=this.__cbOnObservedDirty.indexOf(e))&&(this.__cbOnObservedDirty.splice(n,1),null!=(s=this.__cbOnOwnerUnbindObservedDirty[n])&&s(),this.__cbOnOwnerUnbindObservedDirty.splice(n,1)),null!=this.__cbOnceObservedDirty&&-1!=(n=this.__cbOnceObservedDirty.indexOf(e))&&(this.__cbOnceObservedDirty.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindObservedDirty[n])&&s(),this.__cbOnceOwnerUnbindObservedDirty.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindObservedDirty){for(var t=0,i=this.__cbOnOwnerUnbindObservedDirty.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindObservedDirty[l])&&s()}this.__cbOnOwnerUnbindObservedDirty=null}if(null!=this.__cbOnceOwnerUnbindObservedDirty){for(t=0,i=this.__cbOnceOwnerUnbindObservedDirty.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindObservedDirty[l])&&s()}this.__cbOnceOwnerUnbindObservedDirty=null}this.__cbOnObservedDirty=null,this.__cbOnceObservedDirty=null}},listensObservedDirty:function(){return null!=this.__cbOnObservedDirty&&0<this.__cbOnObservedDirty.length||null!=this.__cbOnceObservedDirty&&0<this.__cbOnceObservedDirty.length},observedDirty:null,destroyVisualOnRemove:null,destroyFilterOnRemove:null,filter:null,set_filter:function(e){var n,t;return this.filter!=e&&(n=this.get_visual(),null!=this.filter&&(t=e.content,null!=n&&n.parent==t&&t.remove(n),this.destroyFilterOnRemove?this.filter.destroy():this.filter.parent==this&&this.remove(this.filter),this.filter=null),null!=(this.filter=e)?(t=e.content,null!=n&&n.parent!=t&&t.add(n),this.add(e)):null!=n&&n.parent!=this&&this.add(n),this.layoutDirty=!0),e},contentAlignAutoruns:null,get_contentAlign:function(){var e,n,t=this.unobservedContentAlign;return null!=A.current&&(e=A.current,null!=(n=this.contentAlignAutoruns)||(n=A.getAutorunArray(),null!=(this.contentAlignAutoruns=n)))&&e.bindToAutorunArray(n),t},set_contentAlign:function(e){var n=this.unobservedContentAlign;return n!=(this.unobservedContentAlign=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitContentAlignChange(e,n),null!=(n=this.contentAlignAutoruns))&&(this.contentAlignAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateContentAlign:function(){var e=this.unobservedContentAlign,e=(this.emitContentAlignChange(e,e),this.contentAlignAutoruns);null!=e&&(this.contentAlignAutoruns=null,A.invalidateAutorunArray(e))},unobservedContentAlign:null,__cbOnContentAlignChange:null,__cbOnceContentAlignChange:null,__cbOnOwnerUnbindContentAlignChange:null,__cbOnceOwnerUnbindContentAlignChange:null,emitContentAlignChange:function(e,n){var t=0;if(null!=this.__cbOnContentAlignChange&&(t+=this.__cbOnContentAlignChange.length),null!=this.__cbOnceContentAlignChange&&(t+=this.__cbOnceContentAlignChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnContentAlignChange)for(var r=0,h=this.__cbOnContentAlignChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnContentAlignChange[a],++s):--t}if(null!=this.__cbOnceContentAlignChange){for(var o=null,c=null,r=0,h=this.__cbOnceContentAlignChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceContentAlignChange[a],this.__cbOnceContentAlignChange[a]=null,u=this.__cbOnceOwnerUnbindContentAlignChange[a],(this.__cbOnceOwnerUnbindContentAlignChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindContentAlignChange[a]),c.push(this.__cbOnceContentAlignChange[a]))}this.__cbOnceOwnerUnbindContentAlignChange=o,this.__cbOnceContentAlignChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onContentAlignChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event contentAlignChange because owner is destroyed!");var l=function(e){null!=t&&(i.offContentAlignChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindContentAlignChange&&(this.__cbOnOwnerUnbindContentAlignChange=[]),this.__cbOnOwnerUnbindContentAlignChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindContentAlignChange&&(this.__cbOnOwnerUnbindContentAlignChange=[]),this.__cbOnOwnerUnbindContentAlignChange.push(null);null==this.__cbOnContentAlignChange&&(this.__cbOnContentAlignChange=[]),this.__cbOnContentAlignChange.push(t)},onceContentAlignChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event contentAlignChange because owner is destroyed!");var l=function(e){null!=t&&(i.offContentAlignChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindContentAlignChange&&(this.__cbOnceOwnerUnbindContentAlignChange=[]),this.__cbOnceOwnerUnbindContentAlignChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindContentAlignChange&&(this.__cbOnceOwnerUnbindContentAlignChange=[]),this.__cbOnceOwnerUnbindContentAlignChange.push(null);null==this.__cbOnceContentAlignChange&&(this.__cbOnceContentAlignChange=[]),this.__cbOnceContentAlignChange.push(t)},offContentAlignChange:function(e){if(null!=e){var n;null!=this.__cbOnContentAlignChange&&-1!=(n=this.__cbOnContentAlignChange.indexOf(e))&&(this.__cbOnContentAlignChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindContentAlignChange[n])&&s(),this.__cbOnOwnerUnbindContentAlignChange.splice(n,1)),null!=this.__cbOnceContentAlignChange&&-1!=(n=this.__cbOnceContentAlignChange.indexOf(e))&&(this.__cbOnceContentAlignChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindContentAlignChange[n])&&s(),this.__cbOnceOwnerUnbindContentAlignChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindContentAlignChange){for(var t=0,i=this.__cbOnOwnerUnbindContentAlignChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindContentAlignChange[l])&&s()}this.__cbOnOwnerUnbindContentAlignChange=null}if(null!=this.__cbOnceOwnerUnbindContentAlignChange){for(t=0,i=this.__cbOnceOwnerUnbindContentAlignChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindContentAlignChange[l])&&s()}this.__cbOnceOwnerUnbindContentAlignChange=null}this.__cbOnContentAlignChange=null,this.__cbOnceContentAlignChange=null}},listensContentAlignChange:function(){return null!=this.__cbOnContentAlignChange&&0<this.__cbOnContentAlignChange.length||null!=this.__cbOnceContentAlignChange&&0<this.__cbOnceContentAlignChange.length},visualScaleAutoruns:null,get_visualScale:function(){var e,n,t=this.unobservedVisualScale;return null!=A.current&&(e=A.current,null!=(n=this.visualScaleAutoruns)||(n=A.getAutorunArray(),null!=(this.visualScaleAutoruns=n)))&&e.bindToAutorunArray(n),t},set_visualScale:function(e){var n=this.unobservedVisualScale;return n!=(this.unobservedVisualScale=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitVisualScaleChange(e,n),null!=(n=this.visualScaleAutoruns))&&(this.visualScaleAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateVisualScale:function(){var e=this.unobservedVisualScale,e=(this.emitVisualScaleChange(e,e),this.visualScaleAutoruns);null!=e&&(this.visualScaleAutoruns=null,A.invalidateAutorunArray(e))},unobservedVisualScale:null,__cbOnVisualScaleChange:null,__cbOnceVisualScaleChange:null,__cbOnOwnerUnbindVisualScaleChange:null,__cbOnceOwnerUnbindVisualScaleChange:null,emitVisualScaleChange:function(e,n){var t=0;if(null!=this.__cbOnVisualScaleChange&&(t+=this.__cbOnVisualScaleChange.length),null!=this.__cbOnceVisualScaleChange&&(t+=this.__cbOnceVisualScaleChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnVisualScaleChange)for(var r=0,h=this.__cbOnVisualScaleChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnVisualScaleChange[a],++s):--t}if(null!=this.__cbOnceVisualScaleChange){for(var o=null,c=null,r=0,h=this.__cbOnceVisualScaleChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceVisualScaleChange[a],this.__cbOnceVisualScaleChange[a]=null,u=this.__cbOnceOwnerUnbindVisualScaleChange[a],(this.__cbOnceOwnerUnbindVisualScaleChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindVisualScaleChange[a]),c.push(this.__cbOnceVisualScaleChange[a]))}this.__cbOnceOwnerUnbindVisualScaleChange=o,this.__cbOnceVisualScaleChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onVisualScaleChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event visualScaleChange because owner is destroyed!");var l=function(e){null!=t&&(i.offVisualScaleChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindVisualScaleChange&&(this.__cbOnOwnerUnbindVisualScaleChange=[]),this.__cbOnOwnerUnbindVisualScaleChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindVisualScaleChange&&(this.__cbOnOwnerUnbindVisualScaleChange=[]),this.__cbOnOwnerUnbindVisualScaleChange.push(null);null==this.__cbOnVisualScaleChange&&(this.__cbOnVisualScaleChange=[]),this.__cbOnVisualScaleChange.push(t)},onceVisualScaleChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event visualScaleChange because owner is destroyed!");var l=function(e){null!=t&&(i.offVisualScaleChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindVisualScaleChange&&(this.__cbOnceOwnerUnbindVisualScaleChange=[]),this.__cbOnceOwnerUnbindVisualScaleChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindVisualScaleChange&&(this.__cbOnceOwnerUnbindVisualScaleChange=[]),this.__cbOnceOwnerUnbindVisualScaleChange.push(null);null==this.__cbOnceVisualScaleChange&&(this.__cbOnceVisualScaleChange=[]),this.__cbOnceVisualScaleChange.push(t)},offVisualScaleChange:function(e){if(null!=e){var n;null!=this.__cbOnVisualScaleChange&&-1!=(n=this.__cbOnVisualScaleChange.indexOf(e))&&(this.__cbOnVisualScaleChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindVisualScaleChange[n])&&s(),this.__cbOnOwnerUnbindVisualScaleChange.splice(n,1)),null!=this.__cbOnceVisualScaleChange&&-1!=(n=this.__cbOnceVisualScaleChange.indexOf(e))&&(this.__cbOnceVisualScaleChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindVisualScaleChange[n])&&s(),this.__cbOnceOwnerUnbindVisualScaleChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindVisualScaleChange){for(var t=0,i=this.__cbOnOwnerUnbindVisualScaleChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindVisualScaleChange[l])&&s()}this.__cbOnOwnerUnbindVisualScaleChange=null}if(null!=this.__cbOnceOwnerUnbindVisualScaleChange){for(t=0,i=this.__cbOnceOwnerUnbindVisualScaleChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindVisualScaleChange[l])&&s()}this.__cbOnceOwnerUnbindVisualScaleChange=null}this.__cbOnVisualScaleChange=null,this.__cbOnceVisualScaleChange=null}},listensVisualScaleChange:function(){return null!=this.__cbOnVisualScaleChange&&0<this.__cbOnVisualScaleChange.length||null!=this.__cbOnceVisualScaleChange&&0<this.__cbOnceVisualScaleChange.length},scalingAutoruns:null,get_scaling:function(){var e,n,t=this.unobservedScaling;return null!=A.current&&(e=A.current,null!=(n=this.scalingAutoruns)||(n=A.getAutorunArray(),null!=(this.scalingAutoruns=n)))&&e.bindToAutorunArray(n),t},set_scaling:function(e){var n=this.unobservedScaling;return n!=(this.unobservedScaling=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitScalingChange(e,n),null!=(n=this.scalingAutoruns))&&(this.scalingAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateScaling:function(){var e=this.unobservedScaling,e=(this.emitScalingChange(e,e),this.scalingAutoruns);null!=e&&(this.scalingAutoruns=null,A.invalidateAutorunArray(e))},unobservedScaling:null,__cbOnScalingChange:null,__cbOnceScalingChange:null,__cbOnOwnerUnbindScalingChange:null,__cbOnceOwnerUnbindScalingChange:null,emitScalingChange:function(e,n){var t=0;if(null!=this.__cbOnScalingChange&&(t+=this.__cbOnScalingChange.length),null!=this.__cbOnceScalingChange&&(t+=this.__cbOnceScalingChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnScalingChange)for(var r=0,h=this.__cbOnScalingChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnScalingChange[a],++s):--t}if(null!=this.__cbOnceScalingChange){for(var o=null,c=null,r=0,h=this.__cbOnceScalingChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceScalingChange[a],this.__cbOnceScalingChange[a]=null,u=this.__cbOnceOwnerUnbindScalingChange[a],(this.__cbOnceOwnerUnbindScalingChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindScalingChange[a]),c.push(this.__cbOnceScalingChange[a]))}this.__cbOnceOwnerUnbindScalingChange=o,this.__cbOnceScalingChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onScalingChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event scalingChange because owner is destroyed!");var l=function(e){null!=t&&(i.offScalingChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindScalingChange&&(this.__cbOnOwnerUnbindScalingChange=[]),this.__cbOnOwnerUnbindScalingChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindScalingChange&&(this.__cbOnOwnerUnbindScalingChange=[]),this.__cbOnOwnerUnbindScalingChange.push(null);null==this.__cbOnScalingChange&&(this.__cbOnScalingChange=[]),this.__cbOnScalingChange.push(t)},onceScalingChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event scalingChange because owner is destroyed!");var l=function(e){null!=t&&(i.offScalingChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindScalingChange&&(this.__cbOnceOwnerUnbindScalingChange=[]),this.__cbOnceOwnerUnbindScalingChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindScalingChange&&(this.__cbOnceOwnerUnbindScalingChange=[]),this.__cbOnceOwnerUnbindScalingChange.push(null);null==this.__cbOnceScalingChange&&(this.__cbOnceScalingChange=[]),this.__cbOnceScalingChange.push(t)},offScalingChange:function(e){if(null!=e){var n;null!=this.__cbOnScalingChange&&-1!=(n=this.__cbOnScalingChange.indexOf(e))&&(this.__cbOnScalingChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindScalingChange[n])&&s(),this.__cbOnOwnerUnbindScalingChange.splice(n,1)),null!=this.__cbOnceScalingChange&&-1!=(n=this.__cbOnceScalingChange.indexOf(e))&&(this.__cbOnceScalingChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindScalingChange[n])&&s(),this.__cbOnceOwnerUnbindScalingChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindScalingChange){for(var t=0,i=this.__cbOnOwnerUnbindScalingChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindScalingChange[l])&&s()}this.__cbOnOwnerUnbindScalingChange=null}if(null!=this.__cbOnceOwnerUnbindScalingChange){for(t=0,i=this.__cbOnceOwnerUnbindScalingChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindScalingChange[l])&&s()}this.__cbOnceOwnerUnbindScalingChange=null}this.__cbOnScalingChange=null,this.__cbOnceScalingChange=null}},listensScalingChange:function(){return null!=this.__cbOnScalingChange&&0<this.__cbOnScalingChange.length||null!=this.__cbOnceScalingChange&&0<this.__cbOnceScalingChange.length},visualAutoruns:null,get_visual:function(){var e,n,t=this.unobservedVisual;return null!=A.current&&(e=A.current,null!=(n=this.visualAutoruns)||(n=A.getAutorunArray(),null!=(this.visualAutoruns=n)))&&e.bindToAutorunArray(n),t},set_visual:function(e){var n=this.unobservedVisual;return this.set_unobservedVisual(e),n!=e&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitVisualChange(e,n),null!=(n=this.visualAutoruns))&&(this.visualAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateVisual:function(){var e=this.unobservedVisual,e=(this.emitVisualChange(e,e),this.visualAutoruns);null!=e&&(this.visualAutoruns=null,A.invalidateAutorunArray(e))},unobservedVisual:null,__cbOnVisualChange:null,__cbOnceVisualChange:null,__cbOnOwnerUnbindVisualChange:null,__cbOnceOwnerUnbindVisualChange:null,emitVisualChange:function(e,n){var t=0;if(null!=this.__cbOnVisualChange&&(t+=this.__cbOnVisualChange.length),null!=this.__cbOnceVisualChange&&(t+=this.__cbOnceVisualChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnVisualChange)for(var r=0,h=this.__cbOnVisualChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnVisualChange[a],++s):--t}if(null!=this.__cbOnceVisualChange){for(var o=null,c=null,r=0,h=this.__cbOnceVisualChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceVisualChange[a],this.__cbOnceVisualChange[a]=null,u=this.__cbOnceOwnerUnbindVisualChange[a],(this.__cbOnceOwnerUnbindVisualChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindVisualChange[a]),c.push(this.__cbOnceVisualChange[a]))}this.__cbOnceOwnerUnbindVisualChange=o,this.__cbOnceVisualChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onVisualChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event visualChange because owner is destroyed!");var l=function(e){null!=t&&(i.offVisualChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindVisualChange&&(this.__cbOnOwnerUnbindVisualChange=[]),this.__cbOnOwnerUnbindVisualChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindVisualChange&&(this.__cbOnOwnerUnbindVisualChange=[]),this.__cbOnOwnerUnbindVisualChange.push(null);null==this.__cbOnVisualChange&&(this.__cbOnVisualChange=[]),this.__cbOnVisualChange.push(t)},onceVisualChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event visualChange because owner is destroyed!");var l=function(e){null!=t&&(i.offVisualChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindVisualChange&&(this.__cbOnceOwnerUnbindVisualChange=[]),this.__cbOnceOwnerUnbindVisualChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindVisualChange&&(this.__cbOnceOwnerUnbindVisualChange=[]),this.__cbOnceOwnerUnbindVisualChange.push(null);null==this.__cbOnceVisualChange&&(this.__cbOnceVisualChange=[]),this.__cbOnceVisualChange.push(t)},offVisualChange:function(e){if(null!=e){var n;null!=this.__cbOnVisualChange&&-1!=(n=this.__cbOnVisualChange.indexOf(e))&&(this.__cbOnVisualChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindVisualChange[n])&&s(),this.__cbOnOwnerUnbindVisualChange.splice(n,1)),null!=this.__cbOnceVisualChange&&-1!=(n=this.__cbOnceVisualChange.indexOf(e))&&(this.__cbOnceVisualChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindVisualChange[n])&&s(),this.__cbOnceOwnerUnbindVisualChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindVisualChange){for(var t=0,i=this.__cbOnOwnerUnbindVisualChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindVisualChange[l])&&s()}this.__cbOnOwnerUnbindVisualChange=null}if(null!=this.__cbOnceOwnerUnbindVisualChange){for(t=0,i=this.__cbOnceOwnerUnbindVisualChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindVisualChange[l])&&s()}this.__cbOnceOwnerUnbindVisualChange=null}this.__cbOnVisualChange=null,this.__cbOnceVisualChange=null}},listensVisualChange:function(){return null!=this.__cbOnVisualChange&&0<this.__cbOnVisualChange.length||null!=this.__cbOnceVisualChange&&0<this.__cbOnceVisualChange.length},set_unobservedVisual:function(e){var n;return(this.unobservedVisual!=e||null!=e&&e.parent!=this)&&(null!=(n=this.unobservedVisual)&&n!=e&&(n.parent==this||null!=this.filter&&n.parent==this.filter.content)&&(n.parent.remove(n),this.destroyVisualOnRemove?n.destroy():n.set_active(!1)),this.unobservedVisual=e),null!=e&&(n=null!=this.filter?this.filter.content:this,e.parent!=n&&(n.add(e),this.layoutDirty=!0),e.set_active(!0)),e},computedVisualScale:null,clear:function(){this.set_visual(null),f0.prototype.clear.call(this)},updateVisualScale:function(){var e,n=this.get_scaling(),t=this.get_visualScale();switch(n._hx_index){case 0:e=t;break;case 1:e=this.computedVisualScale;break;case 2:e=1}var i=this.get_visual();A.unobserve(),null!=i&&n!=Ji.FILL&&(i.set_scaleX(e),i.set_scaleY(e)),A.reobserve()},computeSize:function(e,n,t,i){f0.prototype.computeSize.call(this,e,n,t,i),null!=this.get_visual()?this.computedVisualScale=this.computeSizeWithIntrinsicBounds(e,n,t,i,this.get_visual().get_width(),this.get_visual().get_height()):this.computedVisualScale=1,this.updateVisualScale()},layout:function(){var e,n,t,i=this.get_width()-this.paddingLeft-this.paddingRight,l=this.get_height()-this.paddingTop-this.paddingBottom;null!=this.filter&&((t=this.filter).set_x(0),t.set_y(0),t=this.filter,n=this.get_width(),e=this.get_height(),t.set_width(n),t.set_height(e)),null!=this.get_visual()&&((t=this.get_visual()).set_anchorX(.5),t.set_anchorY(.5),t=this.get_visual(),n=this.paddingTop+.5*l,t.set_x(this.paddingLeft+.5*i),t.set_y(n),e=this.get_visual().get_width(),n=this.get_visual().get_height(),0<e)&&0<n&&2==this.get_scaling()._hx_index&&((t=this.get_visual()).set_scaleX(i/e),t.set_scaleY(l/n))},unbindEvents:function(){f0.prototype.unbindEvents.call(this),this.offObservedDirty(),this.offContentAlignChange(),this.offVisualScaleChange(),this.offScalingChange(),this.offVisualChange()},__class__:Zi,__properties__:$extend(f0.prototype.__properties__,{set_unobservedVisual:"set_unobservedVisual",set_visual:"set_visual",get_visual:"get_visual",set_scaling:"set_scaling",get_scaling:"get_scaling",set_visualScale:"set_visualScale",get_visualScale:"get_visualScale",set_contentAlign:"set_contentAlign",get_contentAlign:"get_contentAlign",set_filter:"set_filter"})}),_e["elements.VisualContainerViewScaling"]={__ename__:"elements.VisualContainerViewScaling",__constructs__:null,CUSTOM:{_hx_name:"CUSTOM",_hx_index:0,__enum__:"elements.VisualContainerViewScaling",toString:c},FIT:{_hx_name:"FIT",_hx_index:1,__enum__:"elements.VisualContainerViewScaling",toString:c},FILL:{_hx_name:"FILL",_hx_index:2,__enum__:"elements.VisualContainerViewScaling",toString:c}}),el=(Ji.__constructs__=[Ji.CUSTOM,Ji.FIT,Ji.FILL],function(){this.dragging=!1,this.dragPointerStartY=0,this.dragPointerStartX=0,this.windowPosStartY=0,this.windowPosStartX=0,this.overlay=null,this.movable=!0,this.computedOnceScrolls=!1,this.scrollsAutoruns=null,this.unobservedTitleAlign=Ot.LEFT,this.titleAlignAutoruns=null,this.unobservedHeader=!0,this.headerAutoruns=null,this.unobservedCollapsible=!0,this.collapsibleAutoruns=null,this.unobservedClosable=!1,this.closableAutoruns=null,this.unobservedTitle=null,this.titleAutoruns=null,this.unobservedContentView=null,this.contentViewAutoruns=null,this.unobservedTheme=null,this.themeAutoruns=null,this.observedDirty=!1,r0.call(this),10!=this.borderDepth&&(this.borderDepth=10,null!=this.border)&&this.border.set_depth(10);{var e=He.INSIDE,e,e;this.borderPosition!=e&&(this.borderPosition=e,0<this.borderSize||0<this.borderTopSize||0<this.borderBottomSize||0<this.borderLeftSize||0<this.borderRightSize)&&this.updateBorder(),1!=this.borderSize&&(this.borderSize=1,this.updateBorder()),this.set_x(el.DEFAULT_X),this.set_y(el.DEFAULT_Y),this.headerView=new Yb,(e=this.headerView).flags&=-17,(e=this.headerView).set_viewWidth(-49900),e.set_viewHeight(el.HEADER_HEIGHT),this.headerView.onPointerDown(this,$bind(this,this.headerDown)),this.headerViewDoubleClick=new H0,this.headerViewDoubleClick.onDoubleClick(this,$bind(this,this.emitHeaderDoubleClick)),this.headerView.component("doubleClick",this.headerViewDoubleClick),this.add(this.headerView),this.expandView=new f0;var e,n=((e=this.expandView).flags|=16,.5*el.HEADER_HEIGHT),t=.4*el.HEADER_HEIGHT;this.expandTriangle=new Aa}(e=this.expandTriangle).set_anchorX(.5),e.set_anchorY(.5),(e=this.expandTriangle).set_width(n),e.set_height(t),(e=this.expandTriangle).set_x(.5*el.HEADER_HEIGHT),e.set_y(.5*el.HEADER_HEIGHT),this.expandTriangle.set_rotation(90),this.expandView.add(this.expandTriangle),(e=this.expandView).set_viewWidth(el.HEADER_HEIGHT),e.set_viewHeight(el.HEADER_HEIGHT),this.expandCollapseClick=new b0,this.expandCollapseClick.onClick(this,$bind(this,this.emitExpandCollapseClick)),this.expandView.component("click",this.expandCollapseClick),this.headerView.add(this.expandView),this.titleView=new A1,this.titleView.set_verticalAlign(Vn.CENTER),this.titleView.set_pointSize(el.TITLE_TEXT_SIZE),this.titleView.set_preRenderedSize(el.FONT_PRE_RENDERED_SIZE),(e=this.titleView).set_viewWidth(-60002),e.set_viewHeight(-60002),this.titleView.set_align(this.get_titleAlign()),this.titleView.set_content(""),this.titleView.set_paddingLeft(5),this.headerView.add(this.titleView),this.closeView=new f0;(e=this.closeView).flags|=16;this.closeCross=new rd,(e=this.closeCross).set_anchorX(.5),e.set_anchorY(.5),(e=this.closeCross).set_width(14),e.set_height(14),(e=this.closeCross).set_x(.5*el.HEADER_HEIGHT),e.set_y(.5*el.HEADER_HEIGHT),this.closeView.add(this.closeCross),(e=this.closeView).set_viewWidth(el.HEADER_HEIGHT),e.set_viewHeight(el.HEADER_HEIGHT),this.closeClick=new b0,this.closeClick.onClick(this,$bind(this,this.emitClose)),this.closeView.component("click",this.closeClick),this.closeView.set_active(this.get_closable()),this.headerView.add(this.closeView),this.bodyView=new r0,(e=this.bodyView).set_viewWidth(-49900),e.set_viewHeight(0),this.add(this.bodyView),this.onContentViewChange(this,$bind(this,this.contentViewChange)),this.onTitleChange(this,$bind(this,this.titleChange)),this.onTitleAlignChange(this,$bind(this,this.titleAlignChange)),this.onClosableChange(this,$bind(this,this.closableChange)),this.onCollapsibleChange(this,$bind(this,this.collapsibleChange)),this.onHeaderChange(this,$bind(this,this.headerChange)),this.autorun($bind(this,this.updateStyle)),this.onPointerDown(this,function(e){}),this.onPointerOver(this,function(e){})}),nl=((E["elements.Window"]=el).__name__="elements.Window",el.__interfaces__=[s],el.__super__=r0,el.prototype=$extend(r0.prototype,{__cbOnObservedDirty:null,__cbOnceObservedDirty:null,__cbOnOwnerUnbindObservedDirty:null,__cbOnceOwnerUnbindObservedDirty:null,emitObservedDirty:function(e,n){var t=0;if(null!=this.__cbOnObservedDirty&&(t+=this.__cbOnObservedDirty.length),null!=this.__cbOnceObservedDirty&&(t+=this.__cbOnceObservedDirty.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnObservedDirty)for(var r=0,h=this.__cbOnObservedDirty.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnObservedDirty[a],++s):--t}if(null!=this.__cbOnceObservedDirty){for(var o=null,c=null,r=0,h=this.__cbOnceObservedDirty.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceObservedDirty[a],this.__cbOnceObservedDirty[a]=null,u=this.__cbOnceOwnerUnbindObservedDirty[a],(this.__cbOnceOwnerUnbindObservedDirty[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindObservedDirty[a]),c.push(this.__cbOnceObservedDirty[a]))}this.__cbOnceOwnerUnbindObservedDirty=o,this.__cbOnceObservedDirty=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onObservedDirty:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event observedDirty because owner is destroyed!");var l=function(e){null!=t&&(i.offObservedDirty(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push(null);null==this.__cbOnObservedDirty&&(this.__cbOnObservedDirty=[]),this.__cbOnObservedDirty.push(t)},onceObservedDirty:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event observedDirty because owner is destroyed!");var l=function(e){null!=t&&(i.offObservedDirty(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push(null);null==this.__cbOnceObservedDirty&&(this.__cbOnceObservedDirty=[]),this.__cbOnceObservedDirty.push(t)},offObservedDirty:function(e){if(null!=e){var n;null!=this.__cbOnObservedDirty&&-1!=(n=this.__cbOnObservedDirty.indexOf(e))&&(this.__cbOnObservedDirty.splice(n,1),null!=(s=this.__cbOnOwnerUnbindObservedDirty[n])&&s(),this.__cbOnOwnerUnbindObservedDirty.splice(n,1)),null!=this.__cbOnceObservedDirty&&-1!=(n=this.__cbOnceObservedDirty.indexOf(e))&&(this.__cbOnceObservedDirty.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindObservedDirty[n])&&s(),this.__cbOnceOwnerUnbindObservedDirty.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindObservedDirty){for(var t=0,i=this.__cbOnOwnerUnbindObservedDirty.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindObservedDirty[l])&&s()}this.__cbOnOwnerUnbindObservedDirty=null}if(null!=this.__cbOnceOwnerUnbindObservedDirty){for(t=0,i=this.__cbOnceOwnerUnbindObservedDirty.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindObservedDirty[l])&&s()}this.__cbOnceOwnerUnbindObservedDirty=null}this.__cbOnObservedDirty=null,this.__cbOnceObservedDirty=null}},listensObservedDirty:function(){return null!=this.__cbOnObservedDirty&&0<this.__cbOnObservedDirty.length||null!=this.__cbOnceObservedDirty&&0<this.__cbOnceObservedDirty.length},observedDirty:null,themeAutoruns:null,get_theme:function(){var e,n,t=this.unobservedTheme;return null!=A.current&&(e=A.current,null!=(n=this.themeAutoruns)||(n=A.getAutorunArray(),null!=(this.themeAutoruns=n)))&&e.bindToAutorunArray(n),t},set_theme:function(e){var n=this.unobservedTheme;return n!=(this.unobservedTheme=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitThemeChange(e,n),null!=(n=this.themeAutoruns))&&(this.themeAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateTheme:function(){var e=this.unobservedTheme,e=(this.emitThemeChange(e,e),this.themeAutoruns);null!=e&&(this.themeAutoruns=null,A.invalidateAutorunArray(e))},unobservedTheme:null,__cbOnThemeChange:null,__cbOnceThemeChange:null,__cbOnOwnerUnbindThemeChange:null,__cbOnceOwnerUnbindThemeChange:null,emitThemeChange:function(e,n){var t=0;if(null!=this.__cbOnThemeChange&&(t+=this.__cbOnThemeChange.length),null!=this.__cbOnceThemeChange&&(t+=this.__cbOnceThemeChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnThemeChange)for(var r=0,h=this.__cbOnThemeChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnThemeChange[a],++s):--t}if(null!=this.__cbOnceThemeChange){for(var o=null,c=null,r=0,h=this.__cbOnceThemeChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceThemeChange[a],this.__cbOnceThemeChange[a]=null,u=this.__cbOnceOwnerUnbindThemeChange[a],(this.__cbOnceOwnerUnbindThemeChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindThemeChange[a]),c.push(this.__cbOnceThemeChange[a]))}this.__cbOnceOwnerUnbindThemeChange=o,this.__cbOnceThemeChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onThemeChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event themeChange because owner is destroyed!");var l=function(e){null!=t&&(i.offThemeChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindThemeChange&&(this.__cbOnOwnerUnbindThemeChange=[]),this.__cbOnOwnerUnbindThemeChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindThemeChange&&(this.__cbOnOwnerUnbindThemeChange=[]),this.__cbOnOwnerUnbindThemeChange.push(null);null==this.__cbOnThemeChange&&(this.__cbOnThemeChange=[]),this.__cbOnThemeChange.push(t)},onceThemeChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event themeChange because owner is destroyed!");var l=function(e){null!=t&&(i.offThemeChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindThemeChange&&(this.__cbOnceOwnerUnbindThemeChange=[]),this.__cbOnceOwnerUnbindThemeChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindThemeChange&&(this.__cbOnceOwnerUnbindThemeChange=[]),this.__cbOnceOwnerUnbindThemeChange.push(null);null==this.__cbOnceThemeChange&&(this.__cbOnceThemeChange=[]),this.__cbOnceThemeChange.push(t)},offThemeChange:function(e){if(null!=e){var n;null!=this.__cbOnThemeChange&&-1!=(n=this.__cbOnThemeChange.indexOf(e))&&(this.__cbOnThemeChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindThemeChange[n])&&s(),this.__cbOnOwnerUnbindThemeChange.splice(n,1)),null!=this.__cbOnceThemeChange&&-1!=(n=this.__cbOnceThemeChange.indexOf(e))&&(this.__cbOnceThemeChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindThemeChange[n])&&s(),this.__cbOnceOwnerUnbindThemeChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindThemeChange){for(var t=0,i=this.__cbOnOwnerUnbindThemeChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindThemeChange[l])&&s()}this.__cbOnOwnerUnbindThemeChange=null}if(null!=this.__cbOnceOwnerUnbindThemeChange){for(t=0,i=this.__cbOnceOwnerUnbindThemeChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindThemeChange[l])&&s()}this.__cbOnceOwnerUnbindThemeChange=null}this.__cbOnThemeChange=null,this.__cbOnceThemeChange=null}},listensThemeChange:function(){return null!=this.__cbOnThemeChange&&0<this.__cbOnThemeChange.length||null!=this.__cbOnceThemeChange&&0<this.__cbOnceThemeChange.length},contentViewAutoruns:null,get_contentView:function(){var e,n,t=this.unobservedContentView;return null!=A.current&&(e=A.current,null!=(n=this.contentViewAutoruns)||(n=A.getAutorunArray(),null!=(this.contentViewAutoruns=n)))&&e.bindToAutorunArray(n),t},set_contentView:function(e){var n=this.unobservedContentView;return n!=(this.unobservedContentView=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitContentViewChange(e,n),null!=(n=this.contentViewAutoruns))&&(this.contentViewAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateContentView:function(){var e=this.unobservedContentView,e=(this.emitContentViewChange(e,e),this.contentViewAutoruns);null!=e&&(this.contentViewAutoruns=null,A.invalidateAutorunArray(e))},unobservedContentView:null,__cbOnContentViewChange:null,__cbOnceContentViewChange:null,__cbOnOwnerUnbindContentViewChange:null,__cbOnceOwnerUnbindContentViewChange:null,emitContentViewChange:function(e,n){var t=0;if(null!=this.__cbOnContentViewChange&&(t+=this.__cbOnContentViewChange.length),null!=this.__cbOnceContentViewChange&&(t+=this.__cbOnceContentViewChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnContentViewChange)for(var r=0,h=this.__cbOnContentViewChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnContentViewChange[a],++s):--t}if(null!=this.__cbOnceContentViewChange){for(var o=null,c=null,r=0,h=this.__cbOnceContentViewChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceContentViewChange[a],this.__cbOnceContentViewChange[a]=null,u=this.__cbOnceOwnerUnbindContentViewChange[a],(this.__cbOnceOwnerUnbindContentViewChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindContentViewChange[a]),c.push(this.__cbOnceContentViewChange[a]))}this.__cbOnceOwnerUnbindContentViewChange=o,this.__cbOnceContentViewChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onContentViewChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event contentViewChange because owner is destroyed!");var l=function(e){null!=t&&(i.offContentViewChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindContentViewChange&&(this.__cbOnOwnerUnbindContentViewChange=[]),this.__cbOnOwnerUnbindContentViewChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindContentViewChange&&(this.__cbOnOwnerUnbindContentViewChange=[]),this.__cbOnOwnerUnbindContentViewChange.push(null);null==this.__cbOnContentViewChange&&(this.__cbOnContentViewChange=[]),this.__cbOnContentViewChange.push(t)},onceContentViewChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event contentViewChange because owner is destroyed!");var l=function(e){null!=t&&(i.offContentViewChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindContentViewChange&&(this.__cbOnceOwnerUnbindContentViewChange=[]),this.__cbOnceOwnerUnbindContentViewChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindContentViewChange&&(this.__cbOnceOwnerUnbindContentViewChange=[]),this.__cbOnceOwnerUnbindContentViewChange.push(null);null==this.__cbOnceContentViewChange&&(this.__cbOnceContentViewChange=[]),this.__cbOnceContentViewChange.push(t)},offContentViewChange:function(e){if(null!=e){var n;null!=this.__cbOnContentViewChange&&-1!=(n=this.__cbOnContentViewChange.indexOf(e))&&(this.__cbOnContentViewChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindContentViewChange[n])&&s(),this.__cbOnOwnerUnbindContentViewChange.splice(n,1)),null!=this.__cbOnceContentViewChange&&-1!=(n=this.__cbOnceContentViewChange.indexOf(e))&&(this.__cbOnceContentViewChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindContentViewChange[n])&&s(),this.__cbOnceOwnerUnbindContentViewChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindContentViewChange){for(var t=0,i=this.__cbOnOwnerUnbindContentViewChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindContentViewChange[l])&&s()}this.__cbOnOwnerUnbindContentViewChange=null}if(null!=this.__cbOnceOwnerUnbindContentViewChange){for(t=0,i=this.__cbOnceOwnerUnbindContentViewChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindContentViewChange[l])&&s()}this.__cbOnceOwnerUnbindContentViewChange=null}this.__cbOnContentViewChange=null,this.__cbOnceContentViewChange=null}},listensContentViewChange:function(){return null!=this.__cbOnContentViewChange&&0<this.__cbOnContentViewChange.length||null!=this.__cbOnceContentViewChange&&0<this.__cbOnceContentViewChange.length},titleAutoruns:null,get_title:function(){var e,n,t=this.unobservedTitle;return null!=A.current&&(e=A.current,null!=(n=this.titleAutoruns)||(n=A.getAutorunArray(),null!=(this.titleAutoruns=n)))&&e.bindToAutorunArray(n),t},set_title:function(e){var n=this.unobservedTitle;return n!=(this.unobservedTitle=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitTitleChange(e,n),null!=(n=this.titleAutoruns))&&(this.titleAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateTitle:function(){var e=this.unobservedTitle,e=(this.emitTitleChange(e,e),this.titleAutoruns);null!=e&&(this.titleAutoruns=null,A.invalidateAutorunArray(e))},unobservedTitle:null,__cbOnTitleChange:null,__cbOnceTitleChange:null,__cbOnOwnerUnbindTitleChange:null,__cbOnceOwnerUnbindTitleChange:null,emitTitleChange:function(e,n){var t=0;if(null!=this.__cbOnTitleChange&&(t+=this.__cbOnTitleChange.length),null!=this.__cbOnceTitleChange&&(t+=this.__cbOnceTitleChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnTitleChange)for(var r=0,h=this.__cbOnTitleChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnTitleChange[a],++s):--t}if(null!=this.__cbOnceTitleChange){for(var o=null,c=null,r=0,h=this.__cbOnceTitleChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceTitleChange[a],this.__cbOnceTitleChange[a]=null,u=this.__cbOnceOwnerUnbindTitleChange[a],(this.__cbOnceOwnerUnbindTitleChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindTitleChange[a]),c.push(this.__cbOnceTitleChange[a]))}this.__cbOnceOwnerUnbindTitleChange=o,this.__cbOnceTitleChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onTitleChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event titleChange because owner is destroyed!");var l=function(e){null!=t&&(i.offTitleChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindTitleChange&&(this.__cbOnOwnerUnbindTitleChange=[]),this.__cbOnOwnerUnbindTitleChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindTitleChange&&(this.__cbOnOwnerUnbindTitleChange=[]),this.__cbOnOwnerUnbindTitleChange.push(null);null==this.__cbOnTitleChange&&(this.__cbOnTitleChange=[]),this.__cbOnTitleChange.push(t)},onceTitleChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event titleChange because owner is destroyed!");var l=function(e){null!=t&&(i.offTitleChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindTitleChange&&(this.__cbOnceOwnerUnbindTitleChange=[]),this.__cbOnceOwnerUnbindTitleChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindTitleChange&&(this.__cbOnceOwnerUnbindTitleChange=[]),this.__cbOnceOwnerUnbindTitleChange.push(null);null==this.__cbOnceTitleChange&&(this.__cbOnceTitleChange=[]),this.__cbOnceTitleChange.push(t)},offTitleChange:function(e){if(null!=e){var n;null!=this.__cbOnTitleChange&&-1!=(n=this.__cbOnTitleChange.indexOf(e))&&(this.__cbOnTitleChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindTitleChange[n])&&s(),this.__cbOnOwnerUnbindTitleChange.splice(n,1)),null!=this.__cbOnceTitleChange&&-1!=(n=this.__cbOnceTitleChange.indexOf(e))&&(this.__cbOnceTitleChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindTitleChange[n])&&s(),this.__cbOnceOwnerUnbindTitleChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindTitleChange){for(var t=0,i=this.__cbOnOwnerUnbindTitleChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindTitleChange[l])&&s()}this.__cbOnOwnerUnbindTitleChange=null}if(null!=this.__cbOnceOwnerUnbindTitleChange){for(t=0,i=this.__cbOnceOwnerUnbindTitleChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindTitleChange[l])&&s()}this.__cbOnceOwnerUnbindTitleChange=null}this.__cbOnTitleChange=null,this.__cbOnceTitleChange=null}},listensTitleChange:function(){return null!=this.__cbOnTitleChange&&0<this.__cbOnTitleChange.length||null!=this.__cbOnceTitleChange&&0<this.__cbOnceTitleChange.length},closableAutoruns:null,get_closable:function(){var e,n,t=this.unobservedClosable;return null!=A.current&&(e=A.current,null!=(n=this.closableAutoruns)||(n=A.getAutorunArray(),null!=(this.closableAutoruns=n)))&&e.bindToAutorunArray(n),t},set_closable:function(e){var n=this.unobservedClosable;return n!=(this.unobservedClosable=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitClosableChange(e,n),null!=(n=this.closableAutoruns))&&(this.closableAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateClosable:function(){var e=this.unobservedClosable,e=(this.emitClosableChange(e,e),this.closableAutoruns);null!=e&&(this.closableAutoruns=null,A.invalidateAutorunArray(e))},unobservedClosable:null,__cbOnClosableChange:null,__cbOnceClosableChange:null,__cbOnOwnerUnbindClosableChange:null,__cbOnceOwnerUnbindClosableChange:null,emitClosableChange:function(e,n){var t=0;if(null!=this.__cbOnClosableChange&&(t+=this.__cbOnClosableChange.length),null!=this.__cbOnceClosableChange&&(t+=this.__cbOnceClosableChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnClosableChange)for(var r=0,h=this.__cbOnClosableChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnClosableChange[a],++s):--t}if(null!=this.__cbOnceClosableChange){for(var o=null,c=null,r=0,h=this.__cbOnceClosableChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceClosableChange[a],this.__cbOnceClosableChange[a]=null,u=this.__cbOnceOwnerUnbindClosableChange[a],(this.__cbOnceOwnerUnbindClosableChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindClosableChange[a]),c.push(this.__cbOnceClosableChange[a]))}this.__cbOnceOwnerUnbindClosableChange=o,this.__cbOnceClosableChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onClosableChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event closableChange because owner is destroyed!");var l=function(e){null!=t&&(i.offClosableChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindClosableChange&&(this.__cbOnOwnerUnbindClosableChange=[]),this.__cbOnOwnerUnbindClosableChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindClosableChange&&(this.__cbOnOwnerUnbindClosableChange=[]),this.__cbOnOwnerUnbindClosableChange.push(null);null==this.__cbOnClosableChange&&(this.__cbOnClosableChange=[]),this.__cbOnClosableChange.push(t)},onceClosableChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event closableChange because owner is destroyed!");var l=function(e){null!=t&&(i.offClosableChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindClosableChange&&(this.__cbOnceOwnerUnbindClosableChange=[]),this.__cbOnceOwnerUnbindClosableChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindClosableChange&&(this.__cbOnceOwnerUnbindClosableChange=[]),this.__cbOnceOwnerUnbindClosableChange.push(null);null==this.__cbOnceClosableChange&&(this.__cbOnceClosableChange=[]),this.__cbOnceClosableChange.push(t)},offClosableChange:function(e){if(null!=e){var n;null!=this.__cbOnClosableChange&&-1!=(n=this.__cbOnClosableChange.indexOf(e))&&(this.__cbOnClosableChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindClosableChange[n])&&s(),this.__cbOnOwnerUnbindClosableChange.splice(n,1)),null!=this.__cbOnceClosableChange&&-1!=(n=this.__cbOnceClosableChange.indexOf(e))&&(this.__cbOnceClosableChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindClosableChange[n])&&s(),this.__cbOnceOwnerUnbindClosableChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindClosableChange){for(var t=0,i=this.__cbOnOwnerUnbindClosableChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindClosableChange[l])&&s()}this.__cbOnOwnerUnbindClosableChange=null}if(null!=this.__cbOnceOwnerUnbindClosableChange){for(t=0,i=this.__cbOnceOwnerUnbindClosableChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindClosableChange[l])&&s()}this.__cbOnceOwnerUnbindClosableChange=null}this.__cbOnClosableChange=null,this.__cbOnceClosableChange=null}},listensClosableChange:function(){return null!=this.__cbOnClosableChange&&0<this.__cbOnClosableChange.length||null!=this.__cbOnceClosableChange&&0<this.__cbOnceClosableChange.length},collapsibleAutoruns:null,get_collapsible:function(){var e,n,t=this.unobservedCollapsible;return null!=A.current&&(e=A.current,null!=(n=this.collapsibleAutoruns)||(n=A.getAutorunArray(),null!=(this.collapsibleAutoruns=n)))&&e.bindToAutorunArray(n),t},set_collapsible:function(e){var n=this.unobservedCollapsible;return n!=(this.unobservedCollapsible=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitCollapsibleChange(e,n),null!=(n=this.collapsibleAutoruns))&&(this.collapsibleAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateCollapsible:function(){var e=this.unobservedCollapsible,e=(this.emitCollapsibleChange(e,e),this.collapsibleAutoruns);null!=e&&(this.collapsibleAutoruns=null,A.invalidateAutorunArray(e))},unobservedCollapsible:null,__cbOnCollapsibleChange:null,__cbOnceCollapsibleChange:null,__cbOnOwnerUnbindCollapsibleChange:null,__cbOnceOwnerUnbindCollapsibleChange:null,emitCollapsibleChange:function(e,n){var t=0;if(null!=this.__cbOnCollapsibleChange&&(t+=this.__cbOnCollapsibleChange.length),null!=this.__cbOnceCollapsibleChange&&(t+=this.__cbOnceCollapsibleChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnCollapsibleChange)for(var r=0,h=this.__cbOnCollapsibleChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnCollapsibleChange[a],++s):--t}if(null!=this.__cbOnceCollapsibleChange){for(var o=null,c=null,r=0,h=this.__cbOnceCollapsibleChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceCollapsibleChange[a],this.__cbOnceCollapsibleChange[a]=null,u=this.__cbOnceOwnerUnbindCollapsibleChange[a],(this.__cbOnceOwnerUnbindCollapsibleChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindCollapsibleChange[a]),c.push(this.__cbOnceCollapsibleChange[a]))}this.__cbOnceOwnerUnbindCollapsibleChange=o,this.__cbOnceCollapsibleChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onCollapsibleChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event collapsibleChange because owner is destroyed!");var l=function(e){null!=t&&(i.offCollapsibleChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindCollapsibleChange&&(this.__cbOnOwnerUnbindCollapsibleChange=[]),this.__cbOnOwnerUnbindCollapsibleChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindCollapsibleChange&&(this.__cbOnOwnerUnbindCollapsibleChange=[]),this.__cbOnOwnerUnbindCollapsibleChange.push(null);null==this.__cbOnCollapsibleChange&&(this.__cbOnCollapsibleChange=[]),this.__cbOnCollapsibleChange.push(t)},onceCollapsibleChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event collapsibleChange because owner is destroyed!");var l=function(e){null!=t&&(i.offCollapsibleChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindCollapsibleChange&&(this.__cbOnceOwnerUnbindCollapsibleChange=[]),this.__cbOnceOwnerUnbindCollapsibleChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindCollapsibleChange&&(this.__cbOnceOwnerUnbindCollapsibleChange=[]),this.__cbOnceOwnerUnbindCollapsibleChange.push(null);null==this.__cbOnceCollapsibleChange&&(this.__cbOnceCollapsibleChange=[]),this.__cbOnceCollapsibleChange.push(t)},offCollapsibleChange:function(e){if(null!=e){var n;null!=this.__cbOnCollapsibleChange&&-1!=(n=this.__cbOnCollapsibleChange.indexOf(e))&&(this.__cbOnCollapsibleChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindCollapsibleChange[n])&&s(),this.__cbOnOwnerUnbindCollapsibleChange.splice(n,1)),null!=this.__cbOnceCollapsibleChange&&-1!=(n=this.__cbOnceCollapsibleChange.indexOf(e))&&(this.__cbOnceCollapsibleChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindCollapsibleChange[n])&&s(),this.__cbOnceOwnerUnbindCollapsibleChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindCollapsibleChange){for(var t=0,i=this.__cbOnOwnerUnbindCollapsibleChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindCollapsibleChange[l])&&s()}this.__cbOnOwnerUnbindCollapsibleChange=null}if(null!=this.__cbOnceOwnerUnbindCollapsibleChange){for(t=0,i=this.__cbOnceOwnerUnbindCollapsibleChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindCollapsibleChange[l])&&s()}this.__cbOnceOwnerUnbindCollapsibleChange=null}this.__cbOnCollapsibleChange=null,this.__cbOnceCollapsibleChange=null}},listensCollapsibleChange:function(){return null!=this.__cbOnCollapsibleChange&&0<this.__cbOnCollapsibleChange.length||null!=this.__cbOnceCollapsibleChange&&0<this.__cbOnceCollapsibleChange.length},headerAutoruns:null,get_header:function(){var e,n,t=this.unobservedHeader;return null!=A.current&&(e=A.current,null!=(n=this.headerAutoruns)||(n=A.getAutorunArray(),null!=(this.headerAutoruns=n)))&&e.bindToAutorunArray(n),t},set_header:function(e){var n=this.unobservedHeader;return n!=(this.unobservedHeader=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitHeaderChange(e,n),null!=(n=this.headerAutoruns))&&(this.headerAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateHeader:function(){var e=this.unobservedHeader,e=(this.emitHeaderChange(e,e),this.headerAutoruns);null!=e&&(this.headerAutoruns=null,A.invalidateAutorunArray(e))},unobservedHeader:null,__cbOnHeaderChange:null,__cbOnceHeaderChange:null,__cbOnOwnerUnbindHeaderChange:null,__cbOnceOwnerUnbindHeaderChange:null,emitHeaderChange:function(e,n){var t=0;if(null!=this.__cbOnHeaderChange&&(t+=this.__cbOnHeaderChange.length),null!=this.__cbOnceHeaderChange&&(t+=this.__cbOnceHeaderChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnHeaderChange)for(var r=0,h=this.__cbOnHeaderChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnHeaderChange[a],++s):--t}if(null!=this.__cbOnceHeaderChange){for(var o=null,c=null,r=0,h=this.__cbOnceHeaderChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceHeaderChange[a],this.__cbOnceHeaderChange[a]=null,u=this.__cbOnceOwnerUnbindHeaderChange[a],(this.__cbOnceOwnerUnbindHeaderChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindHeaderChange[a]),c.push(this.__cbOnceHeaderChange[a]))}this.__cbOnceOwnerUnbindHeaderChange=o,this.__cbOnceHeaderChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onHeaderChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event headerChange because owner is destroyed!");var l=function(e){null!=t&&(i.offHeaderChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindHeaderChange&&(this.__cbOnOwnerUnbindHeaderChange=[]),this.__cbOnOwnerUnbindHeaderChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindHeaderChange&&(this.__cbOnOwnerUnbindHeaderChange=[]),this.__cbOnOwnerUnbindHeaderChange.push(null);null==this.__cbOnHeaderChange&&(this.__cbOnHeaderChange=[]),this.__cbOnHeaderChange.push(t)},onceHeaderChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event headerChange because owner is destroyed!");var l=function(e){null!=t&&(i.offHeaderChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindHeaderChange&&(this.__cbOnceOwnerUnbindHeaderChange=[]),this.__cbOnceOwnerUnbindHeaderChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindHeaderChange&&(this.__cbOnceOwnerUnbindHeaderChange=[]),this.__cbOnceOwnerUnbindHeaderChange.push(null);null==this.__cbOnceHeaderChange&&(this.__cbOnceHeaderChange=[]),this.__cbOnceHeaderChange.push(t)},offHeaderChange:function(e){if(null!=e){var n;null!=this.__cbOnHeaderChange&&-1!=(n=this.__cbOnHeaderChange.indexOf(e))&&(this.__cbOnHeaderChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindHeaderChange[n])&&s(),this.__cbOnOwnerUnbindHeaderChange.splice(n,1)),null!=this.__cbOnceHeaderChange&&-1!=(n=this.__cbOnceHeaderChange.indexOf(e))&&(this.__cbOnceHeaderChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindHeaderChange[n])&&s(),this.__cbOnceOwnerUnbindHeaderChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindHeaderChange){for(var t=0,i=this.__cbOnOwnerUnbindHeaderChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindHeaderChange[l])&&s()}this.__cbOnOwnerUnbindHeaderChange=null}if(null!=this.__cbOnceOwnerUnbindHeaderChange){for(t=0,i=this.__cbOnceOwnerUnbindHeaderChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindHeaderChange[l])&&s()}this.__cbOnceOwnerUnbindHeaderChange=null}this.__cbOnHeaderChange=null,this.__cbOnceHeaderChange=null}},listensHeaderChange:function(){return null!=this.__cbOnHeaderChange&&0<this.__cbOnHeaderChange.length||null!=this.__cbOnceHeaderChange&&0<this.__cbOnceHeaderChange.length},titleAlignAutoruns:null,get_titleAlign:function(){var e,n,t=this.unobservedTitleAlign;return null!=A.current&&(e=A.current,null!=(n=this.titleAlignAutoruns)||(n=A.getAutorunArray(),null!=(this.titleAlignAutoruns=n)))&&e.bindToAutorunArray(n),t},set_titleAlign:function(e){var n=this.unobservedTitleAlign;return n!=(this.unobservedTitleAlign=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitTitleAlignChange(e,n),null!=(n=this.titleAlignAutoruns))&&(this.titleAlignAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateTitleAlign:function(){var e=this.unobservedTitleAlign,e=(this.emitTitleAlignChange(e,e),this.titleAlignAutoruns);null!=e&&(this.titleAlignAutoruns=null,A.invalidateAutorunArray(e))},unobservedTitleAlign:null,__cbOnTitleAlignChange:null,__cbOnceTitleAlignChange:null,__cbOnOwnerUnbindTitleAlignChange:null,__cbOnceOwnerUnbindTitleAlignChange:null,emitTitleAlignChange:function(e,n){var t=0;if(null!=this.__cbOnTitleAlignChange&&(t+=this.__cbOnTitleAlignChange.length),null!=this.__cbOnceTitleAlignChange&&(t+=this.__cbOnceTitleAlignChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnTitleAlignChange)for(var r=0,h=this.__cbOnTitleAlignChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnTitleAlignChange[a],++s):--t}if(null!=this.__cbOnceTitleAlignChange){for(var o=null,c=null,r=0,h=this.__cbOnceTitleAlignChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceTitleAlignChange[a],this.__cbOnceTitleAlignChange[a]=null,u=this.__cbOnceOwnerUnbindTitleAlignChange[a],(this.__cbOnceOwnerUnbindTitleAlignChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindTitleAlignChange[a]),c.push(this.__cbOnceTitleAlignChange[a]))}this.__cbOnceOwnerUnbindTitleAlignChange=o,this.__cbOnceTitleAlignChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onTitleAlignChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event titleAlignChange because owner is destroyed!");var l=function(e){null!=t&&(i.offTitleAlignChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindTitleAlignChange&&(this.__cbOnOwnerUnbindTitleAlignChange=[]),this.__cbOnOwnerUnbindTitleAlignChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindTitleAlignChange&&(this.__cbOnOwnerUnbindTitleAlignChange=[]),this.__cbOnOwnerUnbindTitleAlignChange.push(null);null==this.__cbOnTitleAlignChange&&(this.__cbOnTitleAlignChange=[]),this.__cbOnTitleAlignChange.push(t)},onceTitleAlignChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event titleAlignChange because owner is destroyed!");var l=function(e){null!=t&&(i.offTitleAlignChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindTitleAlignChange&&(this.__cbOnceOwnerUnbindTitleAlignChange=[]),this.__cbOnceOwnerUnbindTitleAlignChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindTitleAlignChange&&(this.__cbOnceOwnerUnbindTitleAlignChange=[]),this.__cbOnceOwnerUnbindTitleAlignChange.push(null);null==this.__cbOnceTitleAlignChange&&(this.__cbOnceTitleAlignChange=[]),this.__cbOnceTitleAlignChange.push(t)},offTitleAlignChange:function(e){if(null!=e){var n;null!=this.__cbOnTitleAlignChange&&-1!=(n=this.__cbOnTitleAlignChange.indexOf(e))&&(this.__cbOnTitleAlignChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindTitleAlignChange[n])&&s(),this.__cbOnOwnerUnbindTitleAlignChange.splice(n,1)),null!=this.__cbOnceTitleAlignChange&&-1!=(n=this.__cbOnceTitleAlignChange.indexOf(e))&&(this.__cbOnceTitleAlignChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindTitleAlignChange[n])&&s(),this.__cbOnceOwnerUnbindTitleAlignChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindTitleAlignChange){for(var t=0,i=this.__cbOnOwnerUnbindTitleAlignChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindTitleAlignChange[l])&&s()}this.__cbOnOwnerUnbindTitleAlignChange=null}if(null!=this.__cbOnceOwnerUnbindTitleAlignChange){for(t=0,i=this.__cbOnceOwnerUnbindTitleAlignChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindTitleAlignChange[l])&&s()}this.__cbOnceOwnerUnbindTitleAlignChange=null}this.__cbOnTitleAlignChange=null,this.__cbOnceTitleAlignChange=null}},listensTitleAlignChange:function(){return null!=this.__cbOnTitleAlignChange&&0<this.__cbOnTitleAlignChange.length||null!=this.__cbOnceTitleAlignChange&&0<this.__cbOnceTitleAlignChange.length},willListenScrollsChange:function(){this.get_unobservedScrolls()},get_unobservedScrolls:function(){var n,t;return 0<=this._lifecycleState?null==this.computeAutorunScrolls?(n=this,t=new A(null),this.computedOnceScrolls=!0,(this.computeAutorunScrolls=t).onRun=function(){var e=n.computeScrolls();A.unobserve(),n.set_scrolls(e),A.reobserve()},t.onDestroy(this,function(e){n.computeAutorunScrolls==t&&(n.computeAutorunScrolls=null),n=t=null}),this.onDestroy(t,function(e){null!=t&&(t.destroy(),t=null),n=null}),t.run()):this.computeAutorunScrolls.invalidated&&this.computeAutorunScrolls.run():this.computedOnceScrolls||(A.unobserve(),this.computedOnceScrolls=!0,this.unobservedScrolls=this.computeScrolls(),A.reobserve()),this.unobservedScrolls},scrollsAutoruns:null,get_scrolls:function(){var e,n,t=this.get_unobservedScrolls();return null!=A.current&&(e=A.current,null!=(n=this.scrollsAutoruns)||(n=A.getAutorunArray(),null!=(this.scrollsAutoruns=n)))&&e.bindToAutorunArray(n),t},set_scrolls:function(e){var n=this.get_unobservedScrolls();return n!=(this.unobservedScrolls=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitScrollsChange(e,n),null!=(n=this.scrollsAutoruns))&&(this.scrollsAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateScrolls:function(){var e=this.get_unobservedScrolls(),e=(this.emitScrollsChange(e,e),this.scrollsAutoruns);null!=e&&(this.scrollsAutoruns=null,A.invalidateAutorunArray(e))},unobservedScrolls:null,__cbOnScrollsChange:null,__cbOnceScrollsChange:null,__cbOnOwnerUnbindScrollsChange:null,__cbOnceOwnerUnbindScrollsChange:null,emitScrollsChange:function(e,n){var t=0;if(null!=this.__cbOnScrollsChange&&(t+=this.__cbOnScrollsChange.length),null!=this.__cbOnceScrollsChange&&(t+=this.__cbOnceScrollsChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnScrollsChange)for(var r=0,h=this.__cbOnScrollsChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnScrollsChange[a],++s):--t}if(null!=this.__cbOnceScrollsChange){for(var o=null,c=null,r=0,h=this.__cbOnceScrollsChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceScrollsChange[a],this.__cbOnceScrollsChange[a]=null,u=this.__cbOnceOwnerUnbindScrollsChange[a],(this.__cbOnceOwnerUnbindScrollsChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindScrollsChange[a]),c.push(this.__cbOnceScrollsChange[a]))}this.__cbOnceOwnerUnbindScrollsChange=o,this.__cbOnceScrollsChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onScrollsChange:function(n,t){var i=this;if(null==this.__cbOnScrollsChange&&null==this.__cbOnceScrollsChange&&this.willListenScrollsChange(),null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event scrollsChange because owner is destroyed!");var l=function(e){null!=t&&(i.offScrollsChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindScrollsChange&&(this.__cbOnOwnerUnbindScrollsChange=[]),this.__cbOnOwnerUnbindScrollsChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindScrollsChange&&(this.__cbOnOwnerUnbindScrollsChange=[]),this.__cbOnOwnerUnbindScrollsChange.push(null);null==this.__cbOnScrollsChange&&(this.__cbOnScrollsChange=[]),this.__cbOnScrollsChange.push(t)},onceScrollsChange:function(n,t){var i=this;if(null==this.__cbOnScrollsChange&&null==this.__cbOnceScrollsChange&&this.willListenScrollsChange(),null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event scrollsChange because owner is destroyed!");var l=function(e){null!=t&&(i.offScrollsChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindScrollsChange&&(this.__cbOnceOwnerUnbindScrollsChange=[]),this.__cbOnceOwnerUnbindScrollsChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindScrollsChange&&(this.__cbOnceOwnerUnbindScrollsChange=[]),this.__cbOnceOwnerUnbindScrollsChange.push(null);null==this.__cbOnceScrollsChange&&(this.__cbOnceScrollsChange=[]),this.__cbOnceScrollsChange.push(t)},offScrollsChange:function(e){if(null!=e){var n;null!=this.__cbOnScrollsChange&&-1!=(n=this.__cbOnScrollsChange.indexOf(e))&&(this.__cbOnScrollsChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindScrollsChange[n])&&s(),this.__cbOnOwnerUnbindScrollsChange.splice(n,1)),null!=this.__cbOnceScrollsChange&&-1!=(n=this.__cbOnceScrollsChange.indexOf(e))&&(this.__cbOnceScrollsChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindScrollsChange[n])&&s(),this.__cbOnceOwnerUnbindScrollsChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindScrollsChange){for(var t=0,i=this.__cbOnOwnerUnbindScrollsChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindScrollsChange[l])&&s()}this.__cbOnOwnerUnbindScrollsChange=null}if(null!=this.__cbOnceOwnerUnbindScrollsChange){for(t=0,i=this.__cbOnceOwnerUnbindScrollsChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindScrollsChange[l])&&s()}this.__cbOnceOwnerUnbindScrollsChange=null}this.__cbOnScrollsChange=null,this.__cbOnceScrollsChange=null}},listensScrollsChange:function(){return null!=this.__cbOnScrollsChange&&0<this.__cbOnScrollsChange.length||null!=this.__cbOnceScrollsChange&&0<this.__cbOnceScrollsChange.length},computeScrolls:function(){var e=this.get_contentView();return null!=e&&e instanceof g0},computeAutorunScrolls:null,computedOnceScrolls:null,movable:null,overlay:null,__cbOnExpandCollapseClick:null,__cbOnceExpandCollapseClick:null,__cbOnOwnerUnbindExpandCollapseClick:null,__cbOnceOwnerUnbindExpandCollapseClick:null,emitExpandCollapseClick:function(){var e=0;if(null!=this.__cbOnExpandCollapseClick&&(e+=this.__cbOnExpandCollapseClick.length),null!=this.__cbOnceExpandCollapseClick&&(e+=this.__cbOnceExpandCollapseClick.length),0<e){var n=C.pool(e),t=n.get(),i=0;if(null!=this.__cbOnExpandCollapseClick)for(var l=0,s=this.__cbOnExpandCollapseClick.length;l<s;){var r=l++;!0?(t.vector[i]=this.__cbOnExpandCollapseClick[r],++i):--e}if(null!=this.__cbOnceExpandCollapseClick){for(var h=null,a=null,l=0,s=this.__cbOnceExpandCollapseClick.length;l<s;){var o,r=l++;!0?(t.vector[i]=this.__cbOnceExpandCollapseClick[r],this.__cbOnceExpandCollapseClick[r]=null,o=this.__cbOnceOwnerUnbindExpandCollapseClick[r],(this.__cbOnceOwnerUnbindExpandCollapseClick[r]=null)!=o&&o(),++i):(--e,null==h&&(h=[],a=[],0),h.push(this.__cbOnceOwnerUnbindExpandCollapseClick[r]),a.push(this.__cbOnceExpandCollapseClick[r]))}this.__cbOnceOwnerUnbindExpandCollapseClick=h,this.__cbOnceExpandCollapseClick=a}for(l=0,s=e;l<s;){i=l++;(0,t.vector[i])()}n.release(t)}},onExpandCollapseClick:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event expandCollapseClick because owner is destroyed!");var l=function(e){null!=t&&(i.offExpandCollapseClick(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindExpandCollapseClick&&(this.__cbOnOwnerUnbindExpandCollapseClick=[]),this.__cbOnOwnerUnbindExpandCollapseClick.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindExpandCollapseClick&&(this.__cbOnOwnerUnbindExpandCollapseClick=[]),this.__cbOnOwnerUnbindExpandCollapseClick.push(null);null==this.__cbOnExpandCollapseClick&&(this.__cbOnExpandCollapseClick=[]),this.__cbOnExpandCollapseClick.push(t)},onceExpandCollapseClick:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event expandCollapseClick because owner is destroyed!");var l=function(e){null!=t&&(i.offExpandCollapseClick(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindExpandCollapseClick&&(this.__cbOnceOwnerUnbindExpandCollapseClick=[]),this.__cbOnceOwnerUnbindExpandCollapseClick.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindExpandCollapseClick&&(this.__cbOnceOwnerUnbindExpandCollapseClick=[]),this.__cbOnceOwnerUnbindExpandCollapseClick.push(null);null==this.__cbOnceExpandCollapseClick&&(this.__cbOnceExpandCollapseClick=[]),this.__cbOnceExpandCollapseClick.push(t)},offExpandCollapseClick:function(e){if(null!=e){var n;null!=this.__cbOnExpandCollapseClick&&-1!=(n=this.__cbOnExpandCollapseClick.indexOf(e))&&(this.__cbOnExpandCollapseClick.splice(n,1),null!=(s=this.__cbOnOwnerUnbindExpandCollapseClick[n])&&s(),this.__cbOnOwnerUnbindExpandCollapseClick.splice(n,1)),null!=this.__cbOnceExpandCollapseClick&&-1!=(n=this.__cbOnceExpandCollapseClick.indexOf(e))&&(this.__cbOnceExpandCollapseClick.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindExpandCollapseClick[n])&&s(),this.__cbOnceOwnerUnbindExpandCollapseClick.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindExpandCollapseClick){for(var t=0,i=this.__cbOnOwnerUnbindExpandCollapseClick.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindExpandCollapseClick[l])&&s()}this.__cbOnOwnerUnbindExpandCollapseClick=null}if(null!=this.__cbOnceOwnerUnbindExpandCollapseClick){for(t=0,i=this.__cbOnceOwnerUnbindExpandCollapseClick.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindExpandCollapseClick[l])&&s()}this.__cbOnceOwnerUnbindExpandCollapseClick=null}this.__cbOnExpandCollapseClick=null,this.__cbOnceExpandCollapseClick=null}},listensExpandCollapseClick:function(){return null!=this.__cbOnExpandCollapseClick&&0<this.__cbOnExpandCollapseClick.length||null!=this.__cbOnceExpandCollapseClick&&0<this.__cbOnceExpandCollapseClick.length},__cbOnHeaderDoubleClick:null,__cbOnceHeaderDoubleClick:null,__cbOnOwnerUnbindHeaderDoubleClick:null,__cbOnceOwnerUnbindHeaderDoubleClick:null,emitHeaderDoubleClick:function(){var e=0;if(null!=this.__cbOnHeaderDoubleClick&&(e+=this.__cbOnHeaderDoubleClick.length),null!=this.__cbOnceHeaderDoubleClick&&(e+=this.__cbOnceHeaderDoubleClick.length),0<e){var n=C.pool(e),t=n.get(),i=0;if(null!=this.__cbOnHeaderDoubleClick)for(var l=0,s=this.__cbOnHeaderDoubleClick.length;l<s;){var r=l++;!0?(t.vector[i]=this.__cbOnHeaderDoubleClick[r],++i):--e}if(null!=this.__cbOnceHeaderDoubleClick){for(var h=null,a=null,l=0,s=this.__cbOnceHeaderDoubleClick.length;l<s;){var o,r=l++;!0?(t.vector[i]=this.__cbOnceHeaderDoubleClick[r],this.__cbOnceHeaderDoubleClick[r]=null,o=this.__cbOnceOwnerUnbindHeaderDoubleClick[r],(this.__cbOnceOwnerUnbindHeaderDoubleClick[r]=null)!=o&&o(),++i):(--e,null==h&&(h=[],a=[],0),h.push(this.__cbOnceOwnerUnbindHeaderDoubleClick[r]),a.push(this.__cbOnceHeaderDoubleClick[r]))}this.__cbOnceOwnerUnbindHeaderDoubleClick=h,this.__cbOnceHeaderDoubleClick=a}for(l=0,s=e;l<s;){i=l++;(0,t.vector[i])()}n.release(t)}},onHeaderDoubleClick:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event headerDoubleClick because owner is destroyed!");var l=function(e){null!=t&&(i.offHeaderDoubleClick(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindHeaderDoubleClick&&(this.__cbOnOwnerUnbindHeaderDoubleClick=[]),this.__cbOnOwnerUnbindHeaderDoubleClick.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindHeaderDoubleClick&&(this.__cbOnOwnerUnbindHeaderDoubleClick=[]),this.__cbOnOwnerUnbindHeaderDoubleClick.push(null);null==this.__cbOnHeaderDoubleClick&&(this.__cbOnHeaderDoubleClick=[]),this.__cbOnHeaderDoubleClick.push(t)},onceHeaderDoubleClick:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event headerDoubleClick because owner is destroyed!");var l=function(e){null!=t&&(i.offHeaderDoubleClick(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindHeaderDoubleClick&&(this.__cbOnceOwnerUnbindHeaderDoubleClick=[]),this.__cbOnceOwnerUnbindHeaderDoubleClick.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindHeaderDoubleClick&&(this.__cbOnceOwnerUnbindHeaderDoubleClick=[]),this.__cbOnceOwnerUnbindHeaderDoubleClick.push(null);null==this.__cbOnceHeaderDoubleClick&&(this.__cbOnceHeaderDoubleClick=[]),this.__cbOnceHeaderDoubleClick.push(t)},offHeaderDoubleClick:function(e){if(null!=e){var n;null!=this.__cbOnHeaderDoubleClick&&-1!=(n=this.__cbOnHeaderDoubleClick.indexOf(e))&&(this.__cbOnHeaderDoubleClick.splice(n,1),null!=(s=this.__cbOnOwnerUnbindHeaderDoubleClick[n])&&s(),this.__cbOnOwnerUnbindHeaderDoubleClick.splice(n,1)),null!=this.__cbOnceHeaderDoubleClick&&-1!=(n=this.__cbOnceHeaderDoubleClick.indexOf(e))&&(this.__cbOnceHeaderDoubleClick.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindHeaderDoubleClick[n])&&s(),this.__cbOnceOwnerUnbindHeaderDoubleClick.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindHeaderDoubleClick){for(var t=0,i=this.__cbOnOwnerUnbindHeaderDoubleClick.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindHeaderDoubleClick[l])&&s()}this.__cbOnOwnerUnbindHeaderDoubleClick=null}if(null!=this.__cbOnceOwnerUnbindHeaderDoubleClick){for(t=0,i=this.__cbOnceOwnerUnbindHeaderDoubleClick.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindHeaderDoubleClick[l])&&s()}this.__cbOnceOwnerUnbindHeaderDoubleClick=null}this.__cbOnHeaderDoubleClick=null,this.__cbOnceHeaderDoubleClick=null}},listensHeaderDoubleClick:function(){return null!=this.__cbOnHeaderDoubleClick&&0<this.__cbOnHeaderDoubleClick.length||null!=this.__cbOnceHeaderDoubleClick&&0<this.__cbOnceHeaderDoubleClick.length},__cbOnClose:null,__cbOnceClose:null,__cbOnOwnerUnbindClose:null,__cbOnceOwnerUnbindClose:null,emitClose:function(){var e=0;if(null!=this.__cbOnClose&&(e+=this.__cbOnClose.length),null!=this.__cbOnceClose&&(e+=this.__cbOnceClose.length),0<e){var n=C.pool(e),t=n.get(),i=0;if(null!=this.__cbOnClose)for(var l=0,s=this.__cbOnClose.length;l<s;){var r=l++;!0?(t.vector[i]=this.__cbOnClose[r],++i):--e}if(null!=this.__cbOnceClose){for(var h=null,a=null,l=0,s=this.__cbOnceClose.length;l<s;){var o,r=l++;!0?(t.vector[i]=this.__cbOnceClose[r],this.__cbOnceClose[r]=null,o=this.__cbOnceOwnerUnbindClose[r],(this.__cbOnceOwnerUnbindClose[r]=null)!=o&&o(),++i):(--e,null==h&&(h=[],a=[],0),h.push(this.__cbOnceOwnerUnbindClose[r]),a.push(this.__cbOnceClose[r]))}this.__cbOnceOwnerUnbindClose=h,this.__cbOnceClose=a}for(l=0,s=e;l<s;){i=l++;(0,t.vector[i])()}n.release(t)}},onClose:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event close because owner is destroyed!");var l=function(e){null!=t&&(i.offClose(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindClose&&(this.__cbOnOwnerUnbindClose=[]),this.__cbOnOwnerUnbindClose.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindClose&&(this.__cbOnOwnerUnbindClose=[]),this.__cbOnOwnerUnbindClose.push(null);null==this.__cbOnClose&&(this.__cbOnClose=[]),this.__cbOnClose.push(t)},onceClose:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event close because owner is destroyed!");var l=function(e){null!=t&&(i.offClose(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindClose&&(this.__cbOnceOwnerUnbindClose=[]),this.__cbOnceOwnerUnbindClose.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindClose&&(this.__cbOnceOwnerUnbindClose=[]),this.__cbOnceOwnerUnbindClose.push(null);null==this.__cbOnceClose&&(this.__cbOnceClose=[]),this.__cbOnceClose.push(t)},offClose:function(e){if(null!=e){var n;null!=this.__cbOnClose&&-1!=(n=this.__cbOnClose.indexOf(e))&&(this.__cbOnClose.splice(n,1),null!=(s=this.__cbOnOwnerUnbindClose[n])&&s(),this.__cbOnOwnerUnbindClose.splice(n,1)),null!=this.__cbOnceClose&&-1!=(n=this.__cbOnceClose.indexOf(e))&&(this.__cbOnceClose.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindClose[n])&&s(),this.__cbOnceOwnerUnbindClose.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindClose){for(var t=0,i=this.__cbOnOwnerUnbindClose.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindClose[l])&&s()}this.__cbOnOwnerUnbindClose=null}if(null!=this.__cbOnceOwnerUnbindClose){for(t=0,i=this.__cbOnceOwnerUnbindClose.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindClose[l])&&s()}this.__cbOnceOwnerUnbindClose=null}this.__cbOnClose=null,this.__cbOnceClose=null}},listensClose:function(){return null!=this.__cbOnClose&&0<this.__cbOnClose.length||null!=this.__cbOnceClose&&0<this.__cbOnceClose.length},headerView:null,expandCollapseClick:null,headerViewDoubleClick:null,closeClick:null,bodyView:null,titleView:null,expandView:null,expandTriangle:null,closeView:null,closeCross:null,destroy:function(){this._lifecycleState<=-2||(this._lifecycleState=-2,null!=this.overlay&&(this.overlay.destroy(),this.overlay=null),this._lifecycleState=-1,r0.prototype.destroy.call(this))},windowPosStartX:null,windowPosStartY:null,dragPointerStartX:null,dragPointerStartY:null,dragging:null,headerDown:function(e){this.movable&&(this.windowPosStartX=this.x,this.windowPosStartY=this.y,G.get_context().view.screenToVisual(e.x,e.y,el._point),this.dragPointerStartX=el._point.x,this.dragPointerStartY=el._point.y,ae.app.screen.onPointerMove(this,$bind(this,this.headerMove)),ae.app.screen.oncePointerUp(this,$bind(this,this.headerUp)))},headerMove:function(e){var n;this.movable?(G.get_context().view.screenToVisual(e.x,e.y,el._point),e=el._point.x-this.dragPointerStartX,n=el._point.y-this.dragPointerStartY,this.dragging||(e>el.DRAG_THRESHOLD||-e>el.DRAG_THRESHOLD||n>el.DRAG_THRESHOLD||-n>el.DRAG_THRESHOLD)&&(this.dragging=!0,this.headerViewDoubleClick.cancel(),this.expandCollapseClick.cancel()),this.dragging&&(n=Math.round(this.windowPosStartY+n),this.set_x(Math.round(this.windowPosStartX+e)),this.set_y(n))):this.dragging&&(this.dragging=!1)},headerUp:function(e){this.dragging=!1,ae.app.screen.offPointerMove($bind(this,this.headerMove))},contentViewChange:function(e,n){n!=e&&(null==n||null!=e&&n.hasIndirectParent(e)||n.destroy(),null!=(n=e)?(this.bodyView.add(e),this.expandTriangle.set_rotation(180)):this.expandTriangle.set_rotation(90))},titleChange:function(e,n){e!=n&&(null!=e?this.titleView.set_content(e):this.titleView.set_content(""))},titleAlignChange:function(e,n){this.titleView.set_align(e),this.get_closable()?this.titleView.set_paddingRight(e==Ot.CENTER?.5*-this.closeView.viewWidth:0):this.titleView.set_paddingRight(e==Ot.RIGHT?5:0),this.get_collapsible()?this.titleView.set_paddingLeft(e==Ot.CENTER?.5*-this.expandView.viewWidth:0):this.titleView.set_paddingLeft(e==Ot.LEFT?5:0)},closableChange:function(e,n){e?(this.closeView.set_active(!0),this.titleView.set_paddingRight(this.get_titleAlign()==Ot.CENTER?.5*-this.closeView.viewWidth:0)):(this.closeView.set_active(!1),this.titleView.set_paddingRight(this.get_titleAlign()==Ot.RIGHT?5:0))},collapsibleChange:function(e,n){e?(this.expandView.set_active(!0),this.titleView.set_paddingLeft(this.get_titleAlign()==Ot.CENTER?.5*-this.expandView.viewWidth:0)):(this.expandView.set_active(!1),this.titleView.set_paddingLeft(this.get_titleAlign()==Ot.LEFT?5:0))},headerChange:function(e,n){e!=n&&null!=this.headerView&&this.headerView.set_active(e)},updateStyle:function(){var e=this.get_theme(),n=(null==e&&(e=G.get_context().get_theme()),this.headerView.color=e.get_mediumBackgroundColor(),e.get_backgroundInFormLayout()?(this.bodyView.flags|=16,this.bodyView.set_alpha(1)):(this.bodyView.flags&=-17,this.bodyView.color=e.get_windowBackgroundColor(),this.bodyView.set_alpha(e.get_windowBackgroundAlpha())),this.expandTriangle.set_color(e.get_lightTextColor()),this.titleView.set_textColor(e.get_lightTextColor()),e.get_windowBorderColor()),n=(this.borderColor!=n&&(this.borderColor=n,0<this.borderSize||0<this.borderTopSize||0<this.borderBottomSize||0<this.borderLeftSize||0<this.borderRightSize)&&this.updateBorder(),e.get_windowBorderAlpha());this.borderAlpha!=n&&(this.borderAlpha=n,null!=this.border)&&this.border.set_alpha(n),this.titleView.set_font(e.get_mediumFont())},unbindEvents:function(){r0.prototype.unbindEvents.call(this),this.offObservedDirty(),this.offThemeChange(),this.offContentViewChange(),this.offTitleChange(),this.offClosableChange(),this.offCollapsibleChange(),this.offHeaderChange(),this.offTitleAlignChange(),this.offScrollsChange(),this.offExpandCollapseClick(),this.offHeaderDoubleClick(),this.offClose()},__class__:el,__properties__:$extend(r0.prototype.__properties__,{get_unobservedScrolls:"get_unobservedScrolls",set_scrolls:"set_scrolls",get_scrolls:"get_scrolls",set_titleAlign:"set_titleAlign",get_titleAlign:"get_titleAlign",set_header:"set_header",get_header:"get_header",set_collapsible:"set_collapsible",get_collapsible:"get_collapsible",set_closable:"set_closable",get_closable:"get_closable",set_title:"set_title",get_title:"get_title",set_contentView:"set_contentView",get_contentView:"get_contentView",set_theme:"set_theme",get_theme:"get_theme"})}),function(){this.window=null,this.targetAnchorY=-999999999,this.targetAnchorX=-999999999,this.targetY=-999999999,this.targetX=-999999999,this.titleAlign=Ot.LEFT,this.overlayClicked=!1,this.overlayTheme=null,this.overlay=!1,this.collapsible=!0,this.movable=!1,this.closable=!1,this.justClosed=!1,this.used=!0,this.didScrollWithHeight=-1,this.scrollable=!1,this.filler=null,this.form=null,this.theme=null,this.items=[],this.itemIndex=0,this.computedContentHeight=0,this.unobservedScrollbar=0,this.scrollbarAutoruns=null,this.unobservedHeader=!0,this.headerAutoruns=null,this.unobservedExpanded=!0,this.expandedAutoruns=null,this.unobservedHeight=50,this.heightAutoruns=null,this.unobservedWidth=50,this.widthAutoruns=null,this.unobservedY=50,this.yAutoruns=null,this.unobservedX=50,this.xAutoruns=null,R1.call(this)}),tl=((E["elements.WindowData"]=nl).__name__="elements.WindowData",nl.__super__=R1,nl.prototype=$extend(R1.prototype,{xAutoruns:null,get_x:function(){var e,n,t=this.unobservedX;return null!=A.current&&(e=A.current,null!=(n=this.xAutoruns)||(n=A.getAutorunArray(),null!=(this.xAutoruns=n)))&&e.bindToAutorunArray(n),t},set_x:function(e){var n=this.unobservedX;return n!=(this.unobservedX=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!0)),this.emitXChange(e,n),null!=(n=this.xAutoruns))&&(this.xAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateX:function(){var e=this.unobservedX,e=(this.emitXChange(e,e),this.xAutoruns);null!=e&&(this.xAutoruns=null,A.invalidateAutorunArray(e))},unobservedX:null,__cbOnXChange:null,__cbOnceXChange:null,__cbOnOwnerUnbindXChange:null,__cbOnceOwnerUnbindXChange:null,emitXChange:function(e,n){var t=0;if(null!=this.__cbOnXChange&&(t+=this.__cbOnXChange.length),null!=this.__cbOnceXChange&&(t+=this.__cbOnceXChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnXChange)for(var r=0,h=this.__cbOnXChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnXChange[a],++s):--t}if(null!=this.__cbOnceXChange){for(var o=null,c=null,r=0,h=this.__cbOnceXChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceXChange[a],this.__cbOnceXChange[a]=null,u=this.__cbOnceOwnerUnbindXChange[a],(this.__cbOnceOwnerUnbindXChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindXChange[a]),c.push(this.__cbOnceXChange[a]))}this.__cbOnceOwnerUnbindXChange=o,this.__cbOnceXChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onXChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event xChange because owner is destroyed!");var l=function(e){null!=t&&(i.offXChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindXChange&&(this.__cbOnOwnerUnbindXChange=[]),this.__cbOnOwnerUnbindXChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindXChange&&(this.__cbOnOwnerUnbindXChange=[]),this.__cbOnOwnerUnbindXChange.push(null);null==this.__cbOnXChange&&(this.__cbOnXChange=[]),this.__cbOnXChange.push(t)},onceXChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event xChange because owner is destroyed!");var l=function(e){null!=t&&(i.offXChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindXChange&&(this.__cbOnceOwnerUnbindXChange=[]),this.__cbOnceOwnerUnbindXChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindXChange&&(this.__cbOnceOwnerUnbindXChange=[]),this.__cbOnceOwnerUnbindXChange.push(null);null==this.__cbOnceXChange&&(this.__cbOnceXChange=[]),this.__cbOnceXChange.push(t)},offXChange:function(e){if(null!=e){var n;null!=this.__cbOnXChange&&-1!=(n=this.__cbOnXChange.indexOf(e))&&(this.__cbOnXChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindXChange[n])&&s(),this.__cbOnOwnerUnbindXChange.splice(n,1)),null!=this.__cbOnceXChange&&-1!=(n=this.__cbOnceXChange.indexOf(e))&&(this.__cbOnceXChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindXChange[n])&&s(),this.__cbOnceOwnerUnbindXChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindXChange){for(var t=0,i=this.__cbOnOwnerUnbindXChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindXChange[l])&&s()}this.__cbOnOwnerUnbindXChange=null}if(null!=this.__cbOnceOwnerUnbindXChange){for(t=0,i=this.__cbOnceOwnerUnbindXChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindXChange[l])&&s()}this.__cbOnceOwnerUnbindXChange=null}this.__cbOnXChange=null,this.__cbOnceXChange=null}},listensXChange:function(){return null!=this.__cbOnXChange&&0<this.__cbOnXChange.length||null!=this.__cbOnceXChange&&0<this.__cbOnceXChange.length},yAutoruns:null,get_y:function(){var e,n,t=this.unobservedY;return null!=A.current&&(e=A.current,null!=(n=this.yAutoruns)||(n=A.getAutorunArray(),null!=(this.yAutoruns=n)))&&e.bindToAutorunArray(n),t},set_y:function(e){var n=this.unobservedY;return n!=(this.unobservedY=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!0)),this.emitYChange(e,n),null!=(n=this.yAutoruns))&&(this.yAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateY:function(){var e=this.unobservedY,e=(this.emitYChange(e,e),this.yAutoruns);null!=e&&(this.yAutoruns=null,A.invalidateAutorunArray(e))},unobservedY:null,__cbOnYChange:null,__cbOnceYChange:null,__cbOnOwnerUnbindYChange:null,__cbOnceOwnerUnbindYChange:null,emitYChange:function(e,n){var t=0;if(null!=this.__cbOnYChange&&(t+=this.__cbOnYChange.length),null!=this.__cbOnceYChange&&(t+=this.__cbOnceYChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnYChange)for(var r=0,h=this.__cbOnYChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnYChange[a],++s):--t}if(null!=this.__cbOnceYChange){for(var o=null,c=null,r=0,h=this.__cbOnceYChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceYChange[a],this.__cbOnceYChange[a]=null,u=this.__cbOnceOwnerUnbindYChange[a],(this.__cbOnceOwnerUnbindYChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindYChange[a]),c.push(this.__cbOnceYChange[a]))}this.__cbOnceOwnerUnbindYChange=o,this.__cbOnceYChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onYChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event yChange because owner is destroyed!");var l=function(e){null!=t&&(i.offYChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindYChange&&(this.__cbOnOwnerUnbindYChange=[]),this.__cbOnOwnerUnbindYChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindYChange&&(this.__cbOnOwnerUnbindYChange=[]),this.__cbOnOwnerUnbindYChange.push(null);null==this.__cbOnYChange&&(this.__cbOnYChange=[]),this.__cbOnYChange.push(t)},onceYChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event yChange because owner is destroyed!");var l=function(e){null!=t&&(i.offYChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindYChange&&(this.__cbOnceOwnerUnbindYChange=[]),this.__cbOnceOwnerUnbindYChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindYChange&&(this.__cbOnceOwnerUnbindYChange=[]),this.__cbOnceOwnerUnbindYChange.push(null);null==this.__cbOnceYChange&&(this.__cbOnceYChange=[]),this.__cbOnceYChange.push(t)},offYChange:function(e){if(null!=e){var n;null!=this.__cbOnYChange&&-1!=(n=this.__cbOnYChange.indexOf(e))&&(this.__cbOnYChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindYChange[n])&&s(),this.__cbOnOwnerUnbindYChange.splice(n,1)),null!=this.__cbOnceYChange&&-1!=(n=this.__cbOnceYChange.indexOf(e))&&(this.__cbOnceYChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindYChange[n])&&s(),this.__cbOnceOwnerUnbindYChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindYChange){for(var t=0,i=this.__cbOnOwnerUnbindYChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindYChange[l])&&s()}this.__cbOnOwnerUnbindYChange=null}if(null!=this.__cbOnceOwnerUnbindYChange){for(t=0,i=this.__cbOnceOwnerUnbindYChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindYChange[l])&&s()}this.__cbOnceOwnerUnbindYChange=null}this.__cbOnYChange=null,this.__cbOnceYChange=null}},listensYChange:function(){return null!=this.__cbOnYChange&&0<this.__cbOnYChange.length||null!=this.__cbOnceYChange&&0<this.__cbOnceYChange.length},widthAutoruns:null,get_width:function(){var e,n,t=this.unobservedWidth;return null!=A.current&&(e=A.current,null!=(n=this.widthAutoruns)||(n=A.getAutorunArray(),null!=(this.widthAutoruns=n)))&&e.bindToAutorunArray(n),t},set_width:function(e){var n=this.unobservedWidth;return n!=(this.unobservedWidth=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!0)),this.emitWidthChange(e,n),null!=(n=this.widthAutoruns))&&(this.widthAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateWidth:function(){var e=this.unobservedWidth,e=(this.emitWidthChange(e,e),this.widthAutoruns);null!=e&&(this.widthAutoruns=null,A.invalidateAutorunArray(e))},unobservedWidth:null,__cbOnWidthChange:null,__cbOnceWidthChange:null,__cbOnOwnerUnbindWidthChange:null,__cbOnceOwnerUnbindWidthChange:null,emitWidthChange:function(e,n){var t=0;if(null!=this.__cbOnWidthChange&&(t+=this.__cbOnWidthChange.length),null!=this.__cbOnceWidthChange&&(t+=this.__cbOnceWidthChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnWidthChange)for(var r=0,h=this.__cbOnWidthChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnWidthChange[a],++s):--t}if(null!=this.__cbOnceWidthChange){for(var o=null,c=null,r=0,h=this.__cbOnceWidthChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceWidthChange[a],this.__cbOnceWidthChange[a]=null,u=this.__cbOnceOwnerUnbindWidthChange[a],(this.__cbOnceOwnerUnbindWidthChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindWidthChange[a]),c.push(this.__cbOnceWidthChange[a]))}this.__cbOnceOwnerUnbindWidthChange=o,this.__cbOnceWidthChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onWidthChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event widthChange because owner is destroyed!");var l=function(e){null!=t&&(i.offWidthChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindWidthChange&&(this.__cbOnOwnerUnbindWidthChange=[]),this.__cbOnOwnerUnbindWidthChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindWidthChange&&(this.__cbOnOwnerUnbindWidthChange=[]),this.__cbOnOwnerUnbindWidthChange.push(null);null==this.__cbOnWidthChange&&(this.__cbOnWidthChange=[]),this.__cbOnWidthChange.push(t)},onceWidthChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event widthChange because owner is destroyed!");var l=function(e){null!=t&&(i.offWidthChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindWidthChange&&(this.__cbOnceOwnerUnbindWidthChange=[]),this.__cbOnceOwnerUnbindWidthChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindWidthChange&&(this.__cbOnceOwnerUnbindWidthChange=[]),this.__cbOnceOwnerUnbindWidthChange.push(null);null==this.__cbOnceWidthChange&&(this.__cbOnceWidthChange=[]),this.__cbOnceWidthChange.push(t)},offWidthChange:function(e){if(null!=e){var n;null!=this.__cbOnWidthChange&&-1!=(n=this.__cbOnWidthChange.indexOf(e))&&(this.__cbOnWidthChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindWidthChange[n])&&s(),this.__cbOnOwnerUnbindWidthChange.splice(n,1)),null!=this.__cbOnceWidthChange&&-1!=(n=this.__cbOnceWidthChange.indexOf(e))&&(this.__cbOnceWidthChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindWidthChange[n])&&s(),this.__cbOnceOwnerUnbindWidthChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindWidthChange){for(var t=0,i=this.__cbOnOwnerUnbindWidthChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindWidthChange[l])&&s()}this.__cbOnOwnerUnbindWidthChange=null}if(null!=this.__cbOnceOwnerUnbindWidthChange){for(t=0,i=this.__cbOnceOwnerUnbindWidthChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindWidthChange[l])&&s()}this.__cbOnceOwnerUnbindWidthChange=null}this.__cbOnWidthChange=null,this.__cbOnceWidthChange=null}},listensWidthChange:function(){return null!=this.__cbOnWidthChange&&0<this.__cbOnWidthChange.length||null!=this.__cbOnceWidthChange&&0<this.__cbOnceWidthChange.length},heightAutoruns:null,get_height:function(){var e,n,t=this.unobservedHeight;return null!=A.current&&(e=A.current,null!=(n=this.heightAutoruns)||(n=A.getAutorunArray(),null!=(this.heightAutoruns=n)))&&e.bindToAutorunArray(n),t},set_height:function(e){var n=this.unobservedHeight;return n!=(this.unobservedHeight=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!0)),this.emitHeightChange(e,n),null!=(n=this.heightAutoruns))&&(this.heightAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateHeight:function(){var e=this.unobservedHeight,e=(this.emitHeightChange(e,e),this.heightAutoruns);null!=e&&(this.heightAutoruns=null,A.invalidateAutorunArray(e))},unobservedHeight:null,__cbOnHeightChange:null,__cbOnceHeightChange:null,__cbOnOwnerUnbindHeightChange:null,__cbOnceOwnerUnbindHeightChange:null,emitHeightChange:function(e,n){var t=0;if(null!=this.__cbOnHeightChange&&(t+=this.__cbOnHeightChange.length),null!=this.__cbOnceHeightChange&&(t+=this.__cbOnceHeightChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnHeightChange)for(var r=0,h=this.__cbOnHeightChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnHeightChange[a],++s):--t}if(null!=this.__cbOnceHeightChange){for(var o=null,c=null,r=0,h=this.__cbOnceHeightChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceHeightChange[a],this.__cbOnceHeightChange[a]=null,u=this.__cbOnceOwnerUnbindHeightChange[a],(this.__cbOnceOwnerUnbindHeightChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindHeightChange[a]),c.push(this.__cbOnceHeightChange[a]))}this.__cbOnceOwnerUnbindHeightChange=o,this.__cbOnceHeightChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onHeightChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event heightChange because owner is destroyed!");var l=function(e){null!=t&&(i.offHeightChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindHeightChange&&(this.__cbOnOwnerUnbindHeightChange=[]),this.__cbOnOwnerUnbindHeightChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindHeightChange&&(this.__cbOnOwnerUnbindHeightChange=[]),this.__cbOnOwnerUnbindHeightChange.push(null);null==this.__cbOnHeightChange&&(this.__cbOnHeightChange=[]),this.__cbOnHeightChange.push(t)},onceHeightChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event heightChange because owner is destroyed!");var l=function(e){null!=t&&(i.offHeightChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindHeightChange&&(this.__cbOnceOwnerUnbindHeightChange=[]),this.__cbOnceOwnerUnbindHeightChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindHeightChange&&(this.__cbOnceOwnerUnbindHeightChange=[]),this.__cbOnceOwnerUnbindHeightChange.push(null);null==this.__cbOnceHeightChange&&(this.__cbOnceHeightChange=[]),this.__cbOnceHeightChange.push(t)},offHeightChange:function(e){if(null!=e){var n;null!=this.__cbOnHeightChange&&-1!=(n=this.__cbOnHeightChange.indexOf(e))&&(this.__cbOnHeightChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindHeightChange[n])&&s(),this.__cbOnOwnerUnbindHeightChange.splice(n,1)),null!=this.__cbOnceHeightChange&&-1!=(n=this.__cbOnceHeightChange.indexOf(e))&&(this.__cbOnceHeightChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindHeightChange[n])&&s(),this.__cbOnceOwnerUnbindHeightChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindHeightChange){for(var t=0,i=this.__cbOnOwnerUnbindHeightChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindHeightChange[l])&&s()}this.__cbOnOwnerUnbindHeightChange=null}if(null!=this.__cbOnceOwnerUnbindHeightChange){for(t=0,i=this.__cbOnceOwnerUnbindHeightChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindHeightChange[l])&&s()}this.__cbOnceOwnerUnbindHeightChange=null}this.__cbOnHeightChange=null,this.__cbOnceHeightChange=null}},listensHeightChange:function(){return null!=this.__cbOnHeightChange&&0<this.__cbOnHeightChange.length||null!=this.__cbOnceHeightChange&&0<this.__cbOnceHeightChange.length},expandedAutoruns:null,get_expanded:function(){var e,n,t=this.unobservedExpanded;return null!=A.current&&(e=A.current,null!=(n=this.expandedAutoruns)||(n=A.getAutorunArray(),null!=(this.expandedAutoruns=n)))&&e.bindToAutorunArray(n),t},set_expanded:function(e){var n=this.unobservedExpanded;return n!=(this.unobservedExpanded=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!0)),this.emitExpandedChange(e,n),null!=(n=this.expandedAutoruns))&&(this.expandedAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateExpanded:function(){var e=this.unobservedExpanded,e=(this.emitExpandedChange(e,e),this.expandedAutoruns);null!=e&&(this.expandedAutoruns=null,A.invalidateAutorunArray(e))},unobservedExpanded:null,__cbOnExpandedChange:null,__cbOnceExpandedChange:null,__cbOnOwnerUnbindExpandedChange:null,__cbOnceOwnerUnbindExpandedChange:null,emitExpandedChange:function(e,n){var t=0;if(null!=this.__cbOnExpandedChange&&(t+=this.__cbOnExpandedChange.length),null!=this.__cbOnceExpandedChange&&(t+=this.__cbOnceExpandedChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnExpandedChange)for(var r=0,h=this.__cbOnExpandedChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnExpandedChange[a],++s):--t}if(null!=this.__cbOnceExpandedChange){for(var o=null,c=null,r=0,h=this.__cbOnceExpandedChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceExpandedChange[a],this.__cbOnceExpandedChange[a]=null,u=this.__cbOnceOwnerUnbindExpandedChange[a],(this.__cbOnceOwnerUnbindExpandedChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindExpandedChange[a]),c.push(this.__cbOnceExpandedChange[a]))}this.__cbOnceOwnerUnbindExpandedChange=o,this.__cbOnceExpandedChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onExpandedChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event expandedChange because owner is destroyed!");var l=function(e){null!=t&&(i.offExpandedChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindExpandedChange&&(this.__cbOnOwnerUnbindExpandedChange=[]),this.__cbOnOwnerUnbindExpandedChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindExpandedChange&&(this.__cbOnOwnerUnbindExpandedChange=[]),this.__cbOnOwnerUnbindExpandedChange.push(null);null==this.__cbOnExpandedChange&&(this.__cbOnExpandedChange=[]),this.__cbOnExpandedChange.push(t)},onceExpandedChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event expandedChange because owner is destroyed!");var l=function(e){null!=t&&(i.offExpandedChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindExpandedChange&&(this.__cbOnceOwnerUnbindExpandedChange=[]),this.__cbOnceOwnerUnbindExpandedChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindExpandedChange&&(this.__cbOnceOwnerUnbindExpandedChange=[]),this.__cbOnceOwnerUnbindExpandedChange.push(null);null==this.__cbOnceExpandedChange&&(this.__cbOnceExpandedChange=[]),this.__cbOnceExpandedChange.push(t)},offExpandedChange:function(e){if(null!=e){var n;null!=this.__cbOnExpandedChange&&-1!=(n=this.__cbOnExpandedChange.indexOf(e))&&(this.__cbOnExpandedChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindExpandedChange[n])&&s(),this.__cbOnOwnerUnbindExpandedChange.splice(n,1)),null!=this.__cbOnceExpandedChange&&-1!=(n=this.__cbOnceExpandedChange.indexOf(e))&&(this.__cbOnceExpandedChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindExpandedChange[n])&&s(),this.__cbOnceOwnerUnbindExpandedChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindExpandedChange){for(var t=0,i=this.__cbOnOwnerUnbindExpandedChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindExpandedChange[l])&&s()}this.__cbOnOwnerUnbindExpandedChange=null}if(null!=this.__cbOnceOwnerUnbindExpandedChange){for(t=0,i=this.__cbOnceOwnerUnbindExpandedChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindExpandedChange[l])&&s()}this.__cbOnceOwnerUnbindExpandedChange=null}this.__cbOnExpandedChange=null,this.__cbOnceExpandedChange=null}},listensExpandedChange:function(){return null!=this.__cbOnExpandedChange&&0<this.__cbOnExpandedChange.length||null!=this.__cbOnceExpandedChange&&0<this.__cbOnceExpandedChange.length},headerAutoruns:null,get_header:function(){var e,n,t=this.unobservedHeader;return null!=A.current&&(e=A.current,null!=(n=this.headerAutoruns)||(n=A.getAutorunArray(),null!=(this.headerAutoruns=n)))&&e.bindToAutorunArray(n),t},set_header:function(e){var n=this.unobservedHeader;return n!=(this.unobservedHeader=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!0)),this.emitHeaderChange(e,n),null!=(n=this.headerAutoruns))&&(this.headerAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateHeader:function(){var e=this.unobservedHeader,e=(this.emitHeaderChange(e,e),this.headerAutoruns);null!=e&&(this.headerAutoruns=null,A.invalidateAutorunArray(e))},unobservedHeader:null,__cbOnHeaderChange:null,__cbOnceHeaderChange:null,__cbOnOwnerUnbindHeaderChange:null,__cbOnceOwnerUnbindHeaderChange:null,emitHeaderChange:function(e,n){var t=0;if(null!=this.__cbOnHeaderChange&&(t+=this.__cbOnHeaderChange.length),null!=this.__cbOnceHeaderChange&&(t+=this.__cbOnceHeaderChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnHeaderChange)for(var r=0,h=this.__cbOnHeaderChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnHeaderChange[a],++s):--t}if(null!=this.__cbOnceHeaderChange){for(var o=null,c=null,r=0,h=this.__cbOnceHeaderChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceHeaderChange[a],this.__cbOnceHeaderChange[a]=null,u=this.__cbOnceOwnerUnbindHeaderChange[a],(this.__cbOnceOwnerUnbindHeaderChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindHeaderChange[a]),c.push(this.__cbOnceHeaderChange[a]))}this.__cbOnceOwnerUnbindHeaderChange=o,this.__cbOnceHeaderChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onHeaderChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event headerChange because owner is destroyed!");var l=function(e){null!=t&&(i.offHeaderChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindHeaderChange&&(this.__cbOnOwnerUnbindHeaderChange=[]),this.__cbOnOwnerUnbindHeaderChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindHeaderChange&&(this.__cbOnOwnerUnbindHeaderChange=[]),this.__cbOnOwnerUnbindHeaderChange.push(null);null==this.__cbOnHeaderChange&&(this.__cbOnHeaderChange=[]),this.__cbOnHeaderChange.push(t)},onceHeaderChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event headerChange because owner is destroyed!");var l=function(e){null!=t&&(i.offHeaderChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindHeaderChange&&(this.__cbOnceOwnerUnbindHeaderChange=[]),this.__cbOnceOwnerUnbindHeaderChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindHeaderChange&&(this.__cbOnceOwnerUnbindHeaderChange=[]),this.__cbOnceOwnerUnbindHeaderChange.push(null);null==this.__cbOnceHeaderChange&&(this.__cbOnceHeaderChange=[]),this.__cbOnceHeaderChange.push(t)},offHeaderChange:function(e){if(null!=e){var n;null!=this.__cbOnHeaderChange&&-1!=(n=this.__cbOnHeaderChange.indexOf(e))&&(this.__cbOnHeaderChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindHeaderChange[n])&&s(),this.__cbOnOwnerUnbindHeaderChange.splice(n,1)),null!=this.__cbOnceHeaderChange&&-1!=(n=this.__cbOnceHeaderChange.indexOf(e))&&(this.__cbOnceHeaderChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindHeaderChange[n])&&s(),this.__cbOnceOwnerUnbindHeaderChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindHeaderChange){for(var t=0,i=this.__cbOnOwnerUnbindHeaderChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindHeaderChange[l])&&s()}this.__cbOnOwnerUnbindHeaderChange=null}if(null!=this.__cbOnceOwnerUnbindHeaderChange){for(t=0,i=this.__cbOnceOwnerUnbindHeaderChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindHeaderChange[l])&&s()}this.__cbOnceOwnerUnbindHeaderChange=null}this.__cbOnHeaderChange=null,this.__cbOnceHeaderChange=null}},listensHeaderChange:function(){return null!=this.__cbOnHeaderChange&&0<this.__cbOnHeaderChange.length||null!=this.__cbOnceHeaderChange&&0<this.__cbOnceHeaderChange.length},scrollbarAutoruns:null,get_scrollbar:function(){var e,n,t=this.unobservedScrollbar;return null!=A.current&&(e=A.current,null!=(n=this.scrollbarAutoruns)||(n=A.getAutorunArray(),null!=(this.scrollbarAutoruns=n)))&&e.bindToAutorunArray(n),t},set_scrollbar:function(e){var n=this.unobservedScrollbar;return n!=(this.unobservedScrollbar=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!0)),this.emitScrollbarChange(e,n),null!=(n=this.scrollbarAutoruns))&&(this.scrollbarAutoruns=null,A.invalidateAutorunArray(n)),e},invalidateScrollbar:function(){var e=this.unobservedScrollbar,e=(this.emitScrollbarChange(e,e),this.scrollbarAutoruns);null!=e&&(this.scrollbarAutoruns=null,A.invalidateAutorunArray(e))},unobservedScrollbar:null,__cbOnScrollbarChange:null,__cbOnceScrollbarChange:null,__cbOnOwnerUnbindScrollbarChange:null,__cbOnceOwnerUnbindScrollbarChange:null,emitScrollbarChange:function(e,n){var t=0;if(null!=this.__cbOnScrollbarChange&&(t+=this.__cbOnScrollbarChange.length),null!=this.__cbOnceScrollbarChange&&(t+=this.__cbOnceScrollbarChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnScrollbarChange)for(var r=0,h=this.__cbOnScrollbarChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnScrollbarChange[a],++s):--t}if(null!=this.__cbOnceScrollbarChange){for(var o=null,c=null,r=0,h=this.__cbOnceScrollbarChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceScrollbarChange[a],this.__cbOnceScrollbarChange[a]=null,u=this.__cbOnceOwnerUnbindScrollbarChange[a],(this.__cbOnceOwnerUnbindScrollbarChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindScrollbarChange[a]),c.push(this.__cbOnceScrollbarChange[a]))}this.__cbOnceOwnerUnbindScrollbarChange=o,this.__cbOnceScrollbarChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onScrollbarChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event scrollbarChange because owner is destroyed!");var l=function(e){null!=t&&(i.offScrollbarChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindScrollbarChange&&(this.__cbOnOwnerUnbindScrollbarChange=[]),this.__cbOnOwnerUnbindScrollbarChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindScrollbarChange&&(this.__cbOnOwnerUnbindScrollbarChange=[]),this.__cbOnOwnerUnbindScrollbarChange.push(null);null==this.__cbOnScrollbarChange&&(this.__cbOnScrollbarChange=[]),this.__cbOnScrollbarChange.push(t)},onceScrollbarChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event scrollbarChange because owner is destroyed!");var l=function(e){null!=t&&(i.offScrollbarChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindScrollbarChange&&(this.__cbOnceOwnerUnbindScrollbarChange=[]),this.__cbOnceOwnerUnbindScrollbarChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindScrollbarChange&&(this.__cbOnceOwnerUnbindScrollbarChange=[]),this.__cbOnceOwnerUnbindScrollbarChange.push(null);null==this.__cbOnceScrollbarChange&&(this.__cbOnceScrollbarChange=[]),this.__cbOnceScrollbarChange.push(t)},offScrollbarChange:function(e){if(null!=e){var n;null!=this.__cbOnScrollbarChange&&-1!=(n=this.__cbOnScrollbarChange.indexOf(e))&&(this.__cbOnScrollbarChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindScrollbarChange[n])&&s(),this.__cbOnOwnerUnbindScrollbarChange.splice(n,1)),null!=this.__cbOnceScrollbarChange&&-1!=(n=this.__cbOnceScrollbarChange.indexOf(e))&&(this.__cbOnceScrollbarChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindScrollbarChange[n])&&s(),this.__cbOnceOwnerUnbindScrollbarChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindScrollbarChange){for(var t=0,i=this.__cbOnOwnerUnbindScrollbarChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindScrollbarChange[l])&&s()}this.__cbOnOwnerUnbindScrollbarChange=null}if(null!=this.__cbOnceOwnerUnbindScrollbarChange){for(t=0,i=this.__cbOnceOwnerUnbindScrollbarChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindScrollbarChange[l])&&s()}this.__cbOnceOwnerUnbindScrollbarChange=null}this.__cbOnScrollbarChange=null,this.__cbOnceScrollbarChange=null}},listensScrollbarChange:function(){return null!=this.__cbOnScrollbarChange&&0<this.__cbOnScrollbarChange.length||null!=this.__cbOnceScrollbarChange&&0<this.__cbOnceScrollbarChange.length},computedContentHeight:null,itemIndex:null,items:null,get_numItems:function(){return this.itemIndex},theme:null,form:null,filler:null,scrollable:null,didScrollWithHeight:null,used:null,justClosed:null,closable:null,movable:null,collapsible:null,overlay:null,overlayTheme:null,overlayClicked:null,titleAlign:null,targetX:null,targetY:null,targetAnchorX:null,targetAnchorY:null,window:null,beginFrame:function(){this.used=!1;this.itemIndex;this.itemIndex=0},endFrame:function(){this.used?null!=this.window&&(this.set_x(this.window.x),this.set_y(this.window.y)):null!=this.window&&(e=this.window,this.window=null,e.destroy());for(var e,n=this.itemIndex,t=this.items.length;n<t;){var i=n++,l=this.items[i];null!=l&&(11==l.kind&&0<l.int0&&null!=l.visual&&(l.visual.destroy(),l.visual=null),this.items[i]=null,l.recycle())}},addItem:function(e){var n=this.items[this.itemIndex];null!=n&&null!=n.previous&&(n.previous.recycle(),n.previous=null),e.previous=n,this.items[this.itemIndex]=e,this.itemIndex++},unbindEvents:function(){R1.prototype.unbindEvents.call(this),this.offXChange(),this.offYChange(),this.offWidthChange(),this.offHeightChange(),this.offExpandedChange(),this.offHeaderChange(),this.offScrollbarChange()},_default_xAutoruns:function(){return null},_default_x:function(){return 50},_default_yAutoruns:function(){return null},_default_y:function(){return 50},_default_widthAutoruns:function(){return null},_default_width:function(){return 50},_default_heightAutoruns:function(){return null},_default_height:function(){return 50},_default_expandedAutoruns:function(){return null},_default_expanded:function(){return!0},_default_headerAutoruns:function(){return null},_default_header:function(){return!0},_default_scrollbarAutoruns:function(){return null},_default_scrollbar:function(){return 0},_default_computedContentHeight:function(){return 0},_default_itemIndex:function(){return 0},_default_items:function(){return[]},_default_theme:function(){return null},_default_form:function(){return null},_default_filler:function(){return null},_default_scrollable:function(){return!1},_default_didScrollWithHeight:function(){return-1},_default_used:function(){return!0},_default_justClosed:function(){return!1},_default_closable:function(){return!1},_default_movable:function(){return!1},_default_collapsible:function(){return!0},_default_overlay:function(){return!1},_default_overlayTheme:function(){return null},_default_overlayClicked:function(){return!1},_default_titleAlign:function(){return Ot.LEFT},_default_targetX:function(){return-999999999},_default_targetY:function(){return-999999999},_default_targetAnchorX:function(){return-999999999},_default_targetAnchorY:function(){return-999999999},_default_window:function(){return null},__class__:nl,__properties__:$extend(R1.prototype.__properties__,{get_numItems:"get_numItems",set_scrollbar:"set_scrollbar",get_scrollbar:"get_scrollbar",set_header:"set_header",get_header:"get_header",set_expanded:"set_expanded",get_expanded:"get_expanded",set_height:"set_height",get_height:"get_height",set_width:"set_width",get_width:"get_width",set_y:"set_y",get_y:"get_y",set_x:"set_x",get_x:"get_x"})}),function(){this.row=-1,this.anyArray0=null,this.stringArray1=null,this.stringArray0=null,this.intArray0=null,this.visual=null,this.any5=null,this.any4=null,this.any3=null,this.any2=null,this.any1=null,this.any0=null,this.string4=null,this.string3=null,this.string2=null,this.string1=null,this.string0=null,this.bool4=!1,this.bool3=!1,this.bool2=!1,this.bool1=!1,this.bool0=!1,this.float4=0,this.float3=0,this.labelWidth=0,this.float1=0,this.float0=0,this.flex=1,this.disabled=!1,this.labelPosition=0,this.int3=0,this.int2=0,this.int1=0,this.int0=0,this.theme=null,this.previous=null,this.kind=0}),il=((E["elements.WindowItem"]=tl).__name__="elements.WindowItem",tl.get=function(){var e=tl.pool,e=0<e.availableItems.length?e.availableItems.pop():null;return e=null==e?new tl:e},tl._selectSetIntValue=function(e,n){var t=e.windowItem,e=e.get_list().indexOf(n);t.int1=e},tl._editColorSetValue=function(e,n){e.set_value(n),e.windowItem.int1=n},tl._editTextSetValue=function(e,n){e.windowItem.string1=n},tl._editTextSubmit=function(e){e.windowItem.bool1=!0},tl._editTextBlur=function(e){e.windowItem.bool3=!0},tl._editFloatSetTextValue=function(e,n){var t,i;tl._editFloatOrIntOperations(e,n)||(t=(i=e.windowItem).float4,i=i.int0,zi.setTextValueToFloat(e,n,-999999999,t,i,!1))},tl._editFloatSetEmptyValue=function(e){var n=e.windowItem,t=n.float3,i=n.float4,l=n.int0;n.float1=zi.setEmptyToFloat(e,t,i,l)},tl._editFloatSetValue=function(e,n){var e=e.windowItem,t=e.float3,i=e.float4;t<=n&&n<=i&&(e.float1=n)},tl._editFloatFinishEditing=function(e){var n=e.windowItem,t=n.float3,i=n.float4,n=n.int0;zi.applyFloatOrIntOperationsIfNeeded(e,e.get_textValue(),t,i,!1,n)||zi.setTextValueToFloat(e,e.get_textValue(),t,i,n,!0)},tl._editIntSetTextValue=function(e,n){var t;tl._editFloatOrIntOperations(e,n)||(t=0|e.windowItem.float4,zi.setTextValueToInt(e,n,-999999999,t))},tl._editIntSetEmptyValue=function(e){var n=e.windowItem,t=0|n.float3,i=0|n.float4;n.int1=zi.setEmptyToInt(e,t,i)},tl._editIntSetValue=function(e,n){var e=e.windowItem,t=e.float3,i=e.float4;t<=n&&n<=i&&(e.int1=n)},tl._editIntFinishEditing=function(e){var n=e.windowItem,t=0|n.float3,n=0|n.float4;zi.applyFloatOrIntOperationsIfNeeded(e,e.get_textValue(),t,n,!0,0)||zi.setTextValueToInt(e,e.get_textValue(),t,n)},tl._editFloatOrIntOperations=function(e,n){var t=n.indexOf("+"),i=n.indexOf("-"),l=n.indexOf("*"),s=n.indexOf("/");return 0<t&&!(0<i||0<l||0<s)||0<i&&!(0<t||0<l||0<s)||0<l&&!(0<t||0<i||0<s)?(e.set_textValue(z.trim(n)),n!=e.get_textValue()&&e.invalidateTextValue(),!0):0<s&&!(0<t||0<l||0<i||(e.set_textValue(z.trim(n)),n!=e.get_textValue()&&e.invalidateTextValue(),0))},tl._slideFloatSetValue=function(e,n){var t=e.windowItem,i=t.float3,l=t.float4;i<=n&&n<=l&&(t.float1=n,e.get_value(),e.set_value(n))},tl._slideIntSetValue=function(e,n){var t=e.windowItem,i=t.float3,l=t.float4,s=Math.round(n);i<=n&&n<=l&&(t.int1=0|s,e.get_value(),e.set_value(n))},tl.prototype={kind:null,previous:null,theme:null,int0:null,int1:null,int2:null,int3:null,labelPosition:null,disabled:null,flex:null,float0:null,float1:null,labelWidth:null,float3:null,float4:null,bool0:null,bool1:null,bool2:null,bool3:null,bool4:null,string0:null,string1:null,string2:null,string3:null,string4:null,any0:null,any1:null,any2:null,any3:null,any4:null,any5:null,visual:null,intArray0:null,stringArray0:null,stringArray1:null,anyArray0:null,row:null,hasManagedVisual:function(){return 11==this.kind&&0<this.int0&&null!=this.visual},isSameItem:function(e){if(null==e)return!1;if(e.kind!=this.kind)return!1;if(e.row!=this.row)return!1;switch(this.kind){case 0:return!1;case 1:return!(!(null!=e.string2&&null!=this.string2||null==e.string2&&null==this.string2)||e.stringArray0!=this.stringArray0&&!O0._arrayEqual(e.stringArray0,this.stringArray0));case 2:case 3:case 4:case 5:case 6:case 7:return null!=e.string2&&null!=this.string2||null==e.string2&&null==this.string2;case 8:return!0;case 9:return null!=e.string2&&null!=this.string2||null==e.string2&&null==this.string2;case 10:return!0;case 11:return(null!=e.string2&&null!=this.string2||null==e.string2&&null==this.string2)&&e.visual==this.visual;case 12:case 13:return!0;case 14:return null!=e.string2&&null!=this.string2||null==e.string2&&null==this.string2;case 15:return!0}},isSimilarLabel:function(e){return null!=e.string2&&null!=this.string2||null==e.string2&&null==this.string2},updateView:function(e){switch(this.kind){case 0:break;case 1:e=this.createOrUpdateSelectField(e);break;case 2:case 3:case 4:e=this.createOrUpdateEditTextField(e);break;case 5:e=this.createOrUpdateColorField(e);break;case 6:case 7:e=this.createOrUpdateSliderField(e);break;case 8:e=this.createOrUpdateButton(e);break;case 9:e=this.createOrUpdateBooleanField(e);break;case 10:e=this.createOrUpdateText(e);break;case 11:e=this.createOrUpdateVisualContainer(e);break;case 12:e=this.createOrUpdateSpace(e);break;case 13:e=this.createOrUpdateSeparator(e);break;case 14:e=this.createOrUpdateList(e);break;case 15:e=this.createOrUpdateTabs(e)}var n;return null!=e&&(n=this.flex,e.flex!=n)&&(e.flex=n,e.layoutDirty=!0),e},recycle:function(){this.kind=0,this.previous=null,this.int0=0,this.int1=0,this.int2=0,this.int3=0,this.labelPosition=0,this.disabled=!1,this.theme=null,this.flex=1,this.float0=0,this.float1=0,this.labelWidth=0,this.float3=0,this.float4=0,this.bool0=!1,this.bool1=!1,this.bool2=!1,this.bool3=!1,this.bool4=!1,this.string0=null,this.string1=null,this.string2=null,this.string3=null,this.string4=null,this.any0=null,this.any1=null,this.any2=null,this.any3=null,this.any4=null,this.any5=null,this.intArray0=null,this.stringArray0=null,this.stringArray1=null,(this.anyArray0=null)!=this.visual&&null==this.visual.parent&&this.visual.set_active(!1),this.visual=null,this.row=-1,tl.pool.recycle(this)},createOrUpdateSpace:function(e){return null==e&&((e=new f0).flags|=16),e.set_viewHeight(this.float0),e.set_viewWidth(-60002),e},createOrUpdateSeparator:function(e){e=null!=e?e:new Pd;return e.set_theme(this.theme),e.set_viewHeight(this.float0),e.set_viewWidth(-60002),e},createOrUpdateVisualContainer:function(e){var n=null,t=null,i=!1;if(null!=this.string2)switch(null==(t=null!=e?e:null)?(i=!0,n=new Zi,t=new Ed(n)):n=t.view,t.set_label(this.string2),t.set_labelPosition(this.labelPosition),t.set_labelWidth(this.labelWidth),t.labelPosition){case 0:n.set_contentAlign(Vn.LEFT);break;case 1:n.set_contentAlign(Vn.RIGHT)}else null==(n=null!=e?e:null)&&(i=!0,n=new Zi),n.set_contentAlign(Vn.CENTER);i&&(n.flags|=16,n.destroyVisualOnRemove=!1),this.visual.set_active(!0),n.set_visual(this.visual),this.bool1?(null==n.filter&&n.set_filter(new _n),n.filter.set_density(ee.app.screenDensity)):null!=n.filter&&n.set_filter(null);e=this.bool0;return null!=t&&t.set_viewWidth(-60002),e?n.set_viewWidth(-60002):n.set_viewWidth(this.visual.get_width()),null!=t?t:n},createOrUpdateSelectField:function(e){var n=null,t=null,i=!1;if(null!=this.string2)switch(null==(t=null!=e?e:null)?(i=!0,n=new Od,t=new Ed(n)):n=t.view,t.set_label(this.string2),t.set_labelPosition(this.labelPosition),t.set_labelWidth(this.labelWidth),t.set_theme(this.theme),t.labelPosition){case 0:n.set_align(Vn.LEFT);break;case 1:n.set_align(Vn.RIGHT)}else null==(n=null!=e?e:null)&&(i=!0,n=new Od);n.windowItem=this,n.set_list(this.stringArray0),n.set_nullValueText(this.string1),n.set_theme(this.theme),i&&(n.setValue=tl._selectSetIntValue);e=this.stringArray0[this.int0];return e!=n.get_value()&&n.set_value(e),null!=t&&t.set_viewWidth(-60002),n.set_viewWidth(-60002),null!=t?t:n},createOrUpdateBooleanField:function(e){var t=null,n=null,i=!1;return null!=this.string2?(null==(n=null!=e?e:null)?(i=!0,t=new _2,n=new Ed(t)):t=n.view,t.set_viewWidth(-60001),n.set_label(this.string2),n.set_labelPosition(this.labelPosition),n.set_labelWidth(this.labelWidth),n.set_theme(this.theme)):null==(t=null!=e?e:null)&&(i=!0,t=new _2),t.windowItem=this,t.set_theme(this.theme),(t.get_value()?1:0)!=this.int0&&t.set_value(0!=this.int0),i&&t.onValueChange(null,function(e,n){t.windowItem.int1=e?1:0}),t.set_disabled(this.disabled),(null!=n?n:t).set_viewWidth(-60002),null!=n?n:t},createOrUpdateColorField:function(e){var n=null,t=null,i=!1,e=(null!=this.string2?(null==(t=null!=e?e:null)?(i=!0,n=new hd,t=new Ed(n)):n=t.view,t.set_label(this.string2),t.set_labelPosition(this.labelPosition),t.set_labelWidth(this.labelWidth),t.set_theme(this.theme)):null==(n=null!=e?e:null)&&(i=!0,n=new hd),n.windowItem);return n.windowItem=this,n.set_theme(this.theme),i&&(n.setValue=tl._editColorSetValue),!i&&e.int1==this.int0||n.set_value(this.int0),n.set_disabled(this.disabled),null!=t&&t.set_viewWidth(-60002),n.set_viewWidth(-60002),null!=t?t:n},createOrUpdateEditTextField:function(e){this.kind,n=ji.TEXT;var n,t=null,i=null,l=!1,e=(null!=this.string2?(null==(i=null!=e?e:null)?(l=!0,t=new Ki(n),i=new Ed(t)):t=i.view,i.set_label(this.string2),i.set_labelPosition(this.labelPosition),i.set_labelWidth(this.labelWidth),i.set_theme(this.theme)):null==(t=null!=e?e:null)&&(l=!0,t=new Ki(n)),t.windowItem);return t.windowItem=this,t.set_theme(this.theme),2==this.kind?(l&&(t.setValue=tl._editTextSetValue,t.submit=tl._editTextSubmit,t.onFocusedChange(null,function(e,n){n&&!e&&tl._editTextBlur(t)}),this.bool2)&&Y._beginFrameCallbacks.push(function(){0<=t._lifecycleState&&t.focus()}),this.string0!=t.get_textValue()&&t.set_textValue(this.string0),t.set_multiline(this.bool0),t.set_placeholder(this.string3),t.set_autocompleteCandidates(this.stringArray0),t.autocompleteOnFocus=this.bool4):3==this.kind?(l&&(t.setTextValue=tl._editFloatSetTextValue,t.setEmptyValue=tl._editFloatSetEmptyValue,t.setValue=tl._editFloatSetValue,t.onFocusedChange(null,function(e,n){e||tl._editFloatFinishEditing(t)})),!l&&e.float1==this.float0||t.set_textValue(""+this.float0),t.set_placeholder(this.string3)):4==this.kind&&(l&&(t.setTextValue=tl._editIntSetTextValue,t.setEmptyValue=tl._editIntSetEmptyValue,t.setValue=tl._editIntSetValue,t.onFocusedChange(null,function(e,n){e||tl._editIntFinishEditing(t)})),!l&&e.int1==this.int0||t.set_textValue(""+this.int0),t.set_placeholder(this.string3)),t.set_disabled(this.disabled),null!=i&&i.set_viewWidth(-60002),t.set_viewWidth(-60002),null!=i?i:t},createOrUpdateSliderField:function(e){var t=null,n=null,i=!1,e=(null!=this.string2?(null==(n=null!=e?e:null)?(i=!0,t=new Qd,n=new Ed(t)):t=n.view,n.set_label(this.string2),n.set_labelPosition(this.labelPosition),n.set_labelWidth(this.labelWidth),n.set_theme(this.theme)):null==(t=null!=e?e:null)&&(i=!0,t=new Qd),t.windowItem);return t.windowItem=this,t.set_theme(this.theme),6==this.kind?(t.set_minValue(this.float3),t.set_maxValue(this.float4),t.round=this.int0,i&&(t.setTextValue=tl._editFloatSetTextValue,t.setEmptyValue=tl._editFloatSetEmptyValue,t.setValue=tl._slideFloatSetValue,t.onFocusedChange(null,function(e,n){e||tl._editFloatFinishEditing(t)})),!i&&e.float1==this.float0||t.set_value(this.float0)):7==this.kind&&(t.set_minValue(this.float3),t.set_maxValue(this.float4),t.round=1,i&&(t.setTextValue=tl._editIntSetTextValue,t.setEmptyValue=tl._editIntSetEmptyValue,t.setValue=tl._slideIntSetValue,t.onFocusedChange(null,function(e,n){e||tl._editIntFinishEditing(t)})),!i&&e.int1==this.int0||t.set_value(this.int0)),t.set_disabled(this.disabled),null!=n&&n.set_viewWidth(-60002),t.set_viewWidth(-60002),null!=n?n:t},createOrUpdateText:function(e){var n,e=null!=e?e:null;switch((e=null==e?new Dd:e).text.content!=this.string0&&e.set_content(this.string0),this.int0){case 1:n=Ot.RIGHT;break;case 2:n=Ot.CENTER;break;default:n=Ot.LEFT}return e.set_align(n),e.set_disabled(this.disabled),e.set_viewWidth(-60002),e.set_theme(this.theme),e.set_bold(this.bool0),e.set_pointSize(this.int2),e.set_preRenderedSize(this.int3),e},createOrUpdateButton:function(e){var n=null!=e?e:null,e=!1;return null==n&&(e=!0,n=new ad),n.text.content!=this.string0&&n.set_content(this.string0),n.get_enabled()!=this.bool0&&n.set_enabled(this.bool0),n.windowItem=this,e&&n.onClick(null,function(){var e=n.windowItem;null!=e&&e._buttonClick()}),n.set_disabled(this.disabled),n.set_viewWidth(-60002),n.set_theme(this.theme),n},_buttonClick:function(){this.int1=1},createOrUpdateList:function(e){var c=null!=e?e:null,e=!1,n=(null==c&&(e=!0,c=new Gd(this.any0)),this.int2);c.set_sortable(1==(1&n)),c.set_lockable(2==(2&n)),c.set_trashable(4==(4&n)),c.set_duplicable(8==(8&n));return c.set_smallItems(16==(16&n)),c.set_items(this.any0),c.windowItem=this,c.set_selectedIndex(this.int0),c.set_theme(this.theme),e&&(c.onSelectedIndexChange(null,function(e,n){var t=c.windowItem;null!=t&&(t.int1=e)}),c.onMoveItemAboveItem(null,function(e,n){for(var t=c.get_items(),i=[],l=c.get_selectedIndex(),s=l,r=0,h=t.length;r<h;){var a=r++;a!=e&&(l==a&&(s=i.length),i.push(t[a]),a==n)&&(l==e&&(s=i.length),i.push(t[e]))}c.set_selectedIndex(s),c.set_items(i);var o=c.windowItem;null!=o&&(o.any1=i)}),c.onMoveItemBelowItem(null,function(e,n){for(var t=c.get_items(),i=[],l=c.get_selectedIndex(),s=l,r=0,h=t.length;r<h;){var a=r++;a!=e&&(a==n&&(l==e&&(s=i.length),i.push(t[e])),l==a&&(s=i.length),i.push(t[a]))}c.set_selectedIndex(s),c.set_items(i);var o=c.windowItem;null!=o&&(o.any1=i)}),c.onTrashItem(null,function(e){for(var n=c.get_items(),t=n[e],i=[],l=c.get_selectedIndex(),s=l,r=(l==e?s=-1:e<l&&--s,0),h=n.length;r<h;){var a=r++;a!=e&&i.push(n[a])}c.set_selectedIndex(s),c.set_items(i);l=c.windowItem;null!=l&&(l.any1=i,null==(s=l.any2)&&(l.any2=s=[]),s.push(t))}),c.onLockItem(null,function(e){for(var n=c.get_items(),t=n[e],i=[],l=0,s=n.length;l<s;){var r=l++;r!=e&&i.push(n[r])}var h,a=c.windowItem;null!=a&&(null==(h=a.any3)&&(a.any3=h=[]),h.push(t))}),c.onUnlockItem(null,function(e){for(var n=c.get_items(),t=n[e],i=[],l=0,s=n.length;l<s;){var r=l++;r!=e&&i.push(n[r])}var h,a=c.windowItem;null!=a&&(null==(h=a.any4)&&(a.any4=h=[]),h.push(t))}),c.onDuplicateItem(null,function(e){var n,e=c.get_items()[e],t=c.windowItem;null!=t&&(null==(n=t.any5)&&(t.any5=n=[]),n.push(e))})),c.set_viewWidth(-60002),0<this.float0?(c.set_viewHeight(this.float0),c.set_scrollEnabled(!0)):(n=c.get_smallItems()?Gd.CELL_HEIGHT_SMALL:Gd.CELL_HEIGHT_LARGE,c.set_viewHeight(c.get_items().length*n),c.set_scrollEnabled(!1)),c},createOrUpdateTabs:function(e){var i=null!=e?e:null,e=!1;return null==i&&(e=!0,i=new Sd),i.windowItem=this,O0.equal(i.get_tabs(),this.stringArray1)||i.set_tabs(this.stringArray1),O0.equal(i.get_tabStates(),this.intArray0)||i.set_tabStates(this.intArray0),O0.equal(i.get_tabThemes(),this.anyArray0)||i.set_tabThemes(this.anyArray0),i.set_selectedIndex(this.stringArray0.indexOf(this.string0)),i.set_marginX(this.theme.get_formPadding()),i.set_marginY(this.theme.get_tabsMarginY()),e&&i.onSelectedIndexChange(null,function(e,n){var t=i.windowItem;null!=t&&(t.string1=0<=e?t.stringArray0[e]:null)}),i.set_viewWidth(-60002),i.set_theme(this.theme),i},__class__:tl},(E["format.gz.Reader"]=b3).__name__="format.gz.Reader",b3.prototype={i:null,read:function(){var e=this.readHeader(),n=new jl;return this.readData(n),{file:e.fileName,data:n.getBytes()}},readHeader:function(){if(31!=this.i.readByte()||139!=this.i.readByte())throw $.thrown("Invalid GZ header");if(8!=this.i.readByte())throw $.thrown("Invalid compression method");var e,n=this.i.readByte(),t=(this.i.read(4),this.i.readByte(),this.i.readByte(),null),i=null,l=null;return 0!=(4&n)&&(e=this.i.readUInt16(),l=this.i.read(e)),0!=(8&n)&&(t=this.i.readUntil(0)),0!=(16&n)&&(i=this.i.readUntil(0)),0!=(2&n)&&this.i.readUInt16(),{fileName:t,comments:i,extraData:l}},readData:function(e,n){null==n&&(n=65536);for(var t=new Pl(new ArrayBuffer(n)),i=0,l=new gs(this.i,!1,!1);;){var s=l.readBytes(t,0,n);if(e.writeFullBytes(t,0,s),s<n)break;i+=s}return i},refill:function(e,n){try{for(;n!=e.length;)n+=this.i.readBytes(e,n,e.length-n)}catch(e){if(Sl.lastError=e,!($.caught(e).unwrap()instanceof $l))throw e}if(0==n)throw $.thrown(new $l);return e=n!=e.length?e.sub(0,n):e},__class__:b3},_e["format.tmx.TmxOrientation"]={__ename__:"format.tmx.TmxOrientation",__constructs__:null,Orthogonal:{_hx_name:"Orthogonal",_hx_index:0,__enum__:"format.tmx.TmxOrientation",toString:c},Isometric:{_hx_name:"Isometric",_hx_index:1,__enum__:"format.tmx.TmxOrientation",toString:c},Staggered:{_hx_name:"Staggered",_hx_index:2,__enum__:"format.tmx.TmxOrientation",toString:c},Hexagonal:{_hx_name:"Hexagonal",_hx_index:3,__enum__:"format.tmx.TmxOrientation",toString:c},Unknown:((b=function(e){return{_hx_index:4,value:e,__enum__:"format.tmx.TmxOrientation",toString:c}})._hx_name="Unknown",b.__params__=["value"],b)}),ll=(il.__constructs__=[il.Orthogonal,il.Isometric,il.Staggered,il.Hexagonal,il.Unknown],_e["format.tmx.TmxRenderOrder"]={__ename__:"format.tmx.TmxRenderOrder",__constructs__:null,RightDown:{_hx_name:"RightDown",_hx_index:0,__enum__:"format.tmx.TmxRenderOrder",toString:c},RightUp:{_hx_name:"RightUp",_hx_index:1,__enum__:"format.tmx.TmxRenderOrder",toString:c},LeftDown:{_hx_name:"LeftDown",_hx_index:2,__enum__:"format.tmx.TmxRenderOrder",toString:c},LeftUp:{_hx_name:"LeftUp",_hx_index:3,__enum__:"format.tmx.TmxRenderOrder",toString:c},Unknown:((b=function(e){return{_hx_index:4,value:e,__enum__:"format.tmx.TmxRenderOrder",toString:c}})._hx_name="Unknown",b.__params__=["value"],b)}),sl=(ll.__constructs__=[ll.RightDown,ll.RightUp,ll.LeftDown,ll.LeftUp,ll.Unknown],_e["format.tmx.TmxStaggerIndex"]={__ename__:"format.tmx.TmxStaggerIndex",__constructs__:null,Even:{_hx_name:"Even",_hx_index:0,__enum__:"format.tmx.TmxStaggerIndex",toString:c},Odd:{_hx_name:"Odd",_hx_index:1,__enum__:"format.tmx.TmxStaggerIndex",toString:c},Unknown:((b=function(e){return{_hx_index:2,value:e,__enum__:"format.tmx.TmxStaggerIndex",toString:c}})._hx_name="Unknown",b.__params__=["value"],b)}),rl=(sl.__constructs__=[sl.Even,sl.Odd,sl.Unknown],_e["format.tmx.TmxStaggerAxis"]={__ename__:"format.tmx.TmxStaggerAxis",__constructs__:null,AxisX:{_hx_name:"AxisX",_hx_index:0,__enum__:"format.tmx.TmxStaggerAxis",toString:c},AxisY:{_hx_name:"AxisY",_hx_index:1,__enum__:"format.tmx.TmxStaggerAxis",toString:c},Unknown:((b=function(e){return{_hx_index:2,value:e,__enum__:"format.tmx.TmxStaggerAxis",toString:c}})._hx_name="Unknown",b.__params__=["value"],b)}),hl=(rl.__constructs__=[rl.AxisX,rl.AxisY,rl.Unknown],(E["format.tmx.TmxMap"]=g3).__name__="format.tmx.TmxMap",g3.prototype={version:null,tiledVersion:null,orientation:null,width:null,height:null,tileWidth:null,tileHeight:null,backgroundColor:null,renderOrder:null,staggerIndex:null,staggerAxis:null,hexSideLength:null,nextObjectId:null,nextLayerId:null,properties:null,tilesets:null,layers:null,infinite:null,localPath:null,__class__:g3},function(e,n,t,i,l,s,r,h,a,o,c,u,_,d,b,g){this.firstGID=e,this.source=n,this.name=t,this.tileWidth=i,this.tileHeight=l,this.spacing=s,this.margin=r,this.tileCount=h,this.columns=a,this.tileOffset=o,this.properties=c,this.image=u,this.terrainTypes=_,this.tiles=d,this.grid=b,this.wangSets=g}),al=((E["format.tmx.TmxTileset"]=hl).__name__="format.tmx.TmxTileset",hl.prototype={firstGID:null,source:null,name:null,tileWidth:null,tileHeight:null,spacing:null,margin:null,tileCount:null,columns:null,tileOffset:null,properties:null,image:null,terrainTypes:null,tiles:null,grid:null,wangSets:null,__class__:hl},function(e,n,t){this.orientation=e,this.width=n,this.height=t}),ol=((E["format.tmx.TmxTilesetGrid"]=al).__name__="format.tmx.TmxTilesetGrid",al.prototype={orientation:null,width:null,height:null,__class__:al},function(e,n){this.x=e,this.y=n}),cl=((E["format.tmx.TmxTileOffset"]=ol).__name__="format.tmx.TmxTileOffset",ol.prototype={x:null,y:null,__class__:ol},(E["format.tmx.TmxWangSet"]=k3).__name__="format.tmx.TmxWangSet",k3.prototype={name:null,tile:null,corners:null,edges:null,tiles:null,__class__:k3},(E["format.tmx.TmxWangSetColor"]=l3).__name__="format.tmx.TmxWangSetColor",l3.prototype={name:null,color:null,tile:null,probability:null,__class__:l3},(E["format.tmx.TmxWangSetTile"]=m3).__name__="format.tmx.TmxWangSetTile",m3.prototype={tileID:null,wangID:null,__class__:m3},(E["format.tmx.TmxImage"]=n3).__name__="format.tmx.TmxImage",n3.prototype={format:null,id:null,source:null,transparent:null,width:null,height:null,data:null,__class__:n3},function(e,n,t){this.name=e,this.tile=n,this.properties=t}),ul=((E["format.tmx.TmxTerrain"]=cl).__name__="format.tmx.TmxTerrain",cl.prototype={name:null,tile:null,properties:null,__class__:cl},function(e,n,t,i,l,s,r,h){this.id=e,this.type=n,this.terrain=t,this.probability=i,this.properties=l,this.image=s,this.objectGroup=r,this.animation=h}),_l=((E["format.tmx.TmxTilesetTile"]=ul).__name__="format.tmx.TmxTilesetTile",ul.prototype={id:null,type:null,terrain:null,probability:null,properties:null,image:null,objectGroup:null,animation:null,__class__:ul},function(e,n){this.tileId=e,this.duration=n}),dl=((E["format.tmx.TmxTilesetTileFrame"]=_l).__name__="format.tmx.TmxTilesetTileFrame",_l.prototype={tileId:null,duration:null,__class__:_l},_e["format.tmx.TmxLayer"]={__ename__:"format.tmx.TmxLayer",__constructs__:null,LTileLayer:((b=function(e){return{_hx_index:0,layer:e,__enum__:"format.tmx.TmxLayer",toString:c}})._hx_name="LTileLayer",b.__params__=["layer"],b),LObjectGroup:((b=function(e){return{_hx_index:1,group:e,__enum__:"format.tmx.TmxLayer",toString:c}})._hx_name="LObjectGroup",b.__params__=["group"],b),LImageLayer:((b=function(e){return{_hx_index:2,layer:e,__enum__:"format.tmx.TmxLayer",toString:c}})._hx_name="LImageLayer",b.__params__=["layer"],b),LGroup:((b=function(e){return{_hx_index:3,group:e,__enum__:"format.tmx.TmxLayer",toString:c}})._hx_name="LGroup",b.__params__=["group"],b)}),bl=(dl.__constructs__=[dl.LTileLayer,dl.LObjectGroup,dl.LImageLayer,dl.LGroup],(E["format.tmx.TmxGroup"]=s3).__name__="format.tmx.TmxGroup",s3.prototype={id:null,name:null,offsetX:null,offsetY:null,opacity:null,visible:null,properties:null,layers:null,__class__:s3},(E["format.tmx.TmxBaseLayer"]=t3).__name__="format.tmx.TmxBaseLayer",t3.prototype={id:null,name:null,x:null,y:null,width:null,height:null,opacity:null,visible:null,offsetX:null,offsetY:null,properties:null,__class__:t3},(E["format.tmx.TmxImageLayer"]=u3).__name__="format.tmx.TmxImageLayer",u3.__super__=t3,u3.prototype=$extend(t3.prototype,{image:null,__class__:u3}),(E["format.tmx.TmxTileLayer"]=v3).__name__="format.tmx.TmxTileLayer",v3.__super__=t3,v3.prototype=$extend(t3.prototype,{data:null,__class__:v3}),_e["format.tmx.TmxDataEncoding"]={__ename__:"format.tmx.TmxDataEncoding",__constructs__:null,None:{_hx_name:"None",_hx_index:0,__enum__:"format.tmx.TmxDataEncoding",toString:c},Base64:{_hx_name:"Base64",_hx_index:1,__enum__:"format.tmx.TmxDataEncoding",toString:c},CSV:{_hx_name:"CSV",_hx_index:2,__enum__:"format.tmx.TmxDataEncoding",toString:c},Unknown:((b=function(e){return{_hx_index:3,value:e,__enum__:"format.tmx.TmxDataEncoding",toString:c}})._hx_name="Unknown",b.__params__=["value"],b)}),gl=(bl.__constructs__=[bl.None,bl.Base64,bl.CSV,bl.Unknown],_e["format.tmx.TmxDataCompression"]={__ename__:"format.tmx.TmxDataCompression",__constructs__:null,None:{_hx_name:"None",_hx_index:0,__enum__:"format.tmx.TmxDataCompression",toString:c},GZip:{_hx_name:"GZip",_hx_index:1,__enum__:"format.tmx.TmxDataCompression",toString:c},ZLib:{_hx_name:"ZLib",_hx_index:2,__enum__:"format.tmx.TmxDataCompression",toString:c},Unknown:((b=function(e){return{_hx_index:3,value:e,__enum__:"format.tmx.TmxDataCompression",toString:c}})._hx_name="Unknown",b.__params__=["value"],b)}),Ol=(gl.__constructs__=[gl.None,gl.GZip,gl.ZLib,gl.Unknown],(E["format.tmx.TmxData"]=y3).__name__="format.tmx.TmxData",y3.prototype={encoding:null,compression:null,tiles:null,chunks:null,data:null,__class__:y3},(E["format.tmx.TmxChunk"]=z3).__name__="format.tmx.TmxChunk",z3.prototype={x:null,y:null,width:null,height:null,tiles:null,__class__:z3},_e["format.tmx.TmxObjectGroupDrawOrder"]={__ename__:"format.tmx.TmxObjectGroupDrawOrder",__constructs__:null,Index:{_hx_name:"Index",_hx_index:0,__enum__:"format.tmx.TmxObjectGroupDrawOrder",toString:c},Topdown:{_hx_name:"Topdown",_hx_index:1,__enum__:"format.tmx.TmxObjectGroupDrawOrder",toString:c},Unknown:((b=function(e){return{_hx_index:2,value:e,__enum__:"format.tmx.TmxObjectGroupDrawOrder",toString:c}})._hx_name="Unknown",b.__params__=["value"],b)}),fl=(Ol.__constructs__=[Ol.Index,Ol.Topdown,Ol.Unknown],(E["format.tmx.TmxObjectGroup"]=C3).__name__="format.tmx.TmxObjectGroup",C3.__super__=t3,C3.prototype=$extend(t3.prototype,{color:null,drawOrder:null,objects:null,__class__:C3}),(E["format.tmx.TmxPoint"]=D3).__name__="format.tmx.TmxPoint",D3.prototype={x:null,y:null,__class__:D3},_e["format.tmx.TmxObjectType"]={__ename__:"format.tmx.TmxObjectType",__constructs__:null,OTRectangle:{_hx_name:"OTRectangle",_hx_index:0,__enum__:"format.tmx.TmxObjectType",toString:c},OTTile:((b=function(e){return{_hx_index:1,gid:e,__enum__:"format.tmx.TmxObjectType",toString:c}})._hx_name="OTTile",b.__params__=["gid"],b),OTExternalTile:((b=function(e,n){return{_hx_index:2,gid:e,tileset:n,__enum__:"format.tmx.TmxObjectType",toString:c}})._hx_name="OTExternalTile",b.__params__=["gid","tileset"],b),OTEllipse:{_hx_name:"OTEllipse",_hx_index:3,__enum__:"format.tmx.TmxObjectType",toString:c},OTPoint:{_hx_name:"OTPoint",_hx_index:4,__enum__:"format.tmx.TmxObjectType",toString:c},OTPolygon:((b=function(e){return{_hx_index:5,points:e,__enum__:"format.tmx.TmxObjectType",toString:c}})._hx_name="OTPolygon",b.__params__=["points"],b),OTText:((b=function(e){return{_hx_index:6,text:e,__enum__:"format.tmx.TmxObjectType",toString:c}})._hx_name="OTText",b.__params__=["text"],b),OTPolyline:((b=function(e){return{_hx_index:7,points:e,__enum__:"format.tmx.TmxObjectType",toString:c}})._hx_name="OTPolyline",b.__params__=["points"],b)}),pl=(fl.__constructs__=[fl.OTRectangle,fl.OTTile,fl.OTExternalTile,fl.OTEllipse,fl.OTPoint,fl.OTPolygon,fl.OTText,fl.OTPolyline],(E["format.tmx.TmxObject"]=F3).__name__="format.tmx.TmxObject",F3.prototype={id:null,name:null,type:null,x:null,y:null,width:null,height:null,rotation:null,visible:null,objectType:null,properties:null,flippedHorizontally:null,flippedVertically:null,template:null,__class__:F3},(E["format.tmx.TmxText"]=G3).__name__="format.tmx.TmxText",G3.prototype={fontFamily:null,pixelSize:null,wrap:null,color:null,bold:null,italic:null,underline:null,strikeout:null,kerning:null,halign:null,valign:null,text:null,__class__:G3},_e["format.tmx.TmxPropertyType"]={__ename__:"format.tmx.TmxPropertyType",__constructs__:null,PTString:{_hx_name:"PTString",_hx_index:0,__enum__:"format.tmx.TmxPropertyType",toString:c},PTInt:{_hx_name:"PTInt",_hx_index:1,__enum__:"format.tmx.TmxPropertyType",toString:c},PTBool:{_hx_name:"PTBool",_hx_index:2,__enum__:"format.tmx.TmxPropertyType",toString:c},PTFloat:{_hx_name:"PTFloat",_hx_index:3,__enum__:"format.tmx.TmxPropertyType",toString:c},PTFile:{_hx_name:"PTFile",_hx_index:4,__enum__:"format.tmx.TmxPropertyType",toString:c},PTColor:{_hx_name:"PTColor",_hx_index:5,__enum__:"format.tmx.TmxPropertyType",toString:c}}),Cl=(pl.__constructs__=[pl.PTString,pl.PTInt,pl.PTBool,pl.PTFloat,pl.PTFile,pl.PTColor],function(){this.names=[],this.types=[],this.strings=[],this.cache=[],this.ints=[],this.floats=[]}),vl=((E["format.tmx._Data.ImplTmxProperties"]=Cl).__name__="format.tmx._Data.ImplTmxProperties",Cl.prototype={names:null,types:null,strings:null,cache:null,ints:null,floats:null,propertyCount:function(){return this.names.length},exists:function(e){return-1!=this.names.indexOf(e)},existsType:function(e,n){e=this.names.indexOf(e);return-1!=e&&this.types[e]==n},setRaw:function(e,n,t){var i=this.names.indexOf(e);-1==i?(this.names.push(e),this.strings.push(n),this.types.push(t)):(this.strings[i]=n,this.types[i]=t,this.cache[i]=null)},setString:function(e,n){var t=this.names.indexOf(e);-1==t?(this.names.push(e),this.types.push(pl.PTString),this.strings.push(n)):(this.types[t]=pl.PTString,this.cache[t]=null,this.strings[t]=n)},setFile:function(e,n){var t=this.names.indexOf(e);-1==t?(this.names.push(e),this.types.push(pl.PTFile),this.strings.push(n)):(this.types[t]=pl.PTFile,this.strings[t]=n,this.cache[t]=null)},setInt:function(e,n){var t,i=this.names.indexOf(e);-1==i?(i=this.names.push(e)-1,this.types.push(pl.PTInt),this.strings.push(null==n?"null":""+n),this.cache[i]=this.ints.push(n)-1):(e=this.types[i],this.types[i]=pl.PTInt,this.strings[i]=null==n?"null":""+n,t=this.cache[i],e!=pl.PTInt&&e!=pl.PTColor||null==t?this.cache[i]=this.ints.push(n)-1:this.ints[t]=n)},setColor:function(e,n){var t,i=this.names.indexOf(e);-1==i?(i=this.names.push(e)-1,this.types.push(pl.PTColor),this.strings.push(null==n?"null":""+n),this.cache[i]=this.ints.push(n)-1):(e=this.types[i],this.types[i]=pl.PTColor,this.strings[i]=null==n?"null":""+n,t=this.cache[i],e!=pl.PTColor&&e!=pl.PTInt||null==t?this.cache[i]=this.ints.push(n)-1:this.ints[t]=n)},setFloat:function(e,n){var t,i=this.names.indexOf(e);-1==i?(e=this.names.push(e)-1,this.types.push(pl.PTFloat),this.strings.push(null==n?"null":""+n),this.cache[e]=this.floats.push(n)-1):(e=this.types[i],this.types[i]=pl.PTFloat,this.strings[i]=null==n?"null":""+n,t=this.cache[i],e==pl.PTFloat&&null!=t?this.floats[t]=n:this.cache[i]=this.floats.push(n)-1)},setBool:function(e,n){var t=this.names.indexOf(e);-1==t?(this.names.push(e),this.types.push(pl.PTBool),this.strings.push(n?"true":"false")):(this.types[t]=pl.PTBool,this.strings[t]=n?"true":"false",this.cache[t]=null)},getType:function(e){e=this.names.indexOf(e);return-1==e?null:this.types[e]},get:function(e){return this.getString(e)},keys:function(){return new Jl(this.names)},getString:function(e){e=this.names.indexOf(e);return-1==e?null:this.strings[e]},getFile:function(e){return this.getString(e)},getInt:function(e){var n,e=this.names.indexOf(e);return-1==e||(n=this.types[e])!=pl.PTInt&&n!=pl.PTColor?null:null==(n=this.cache[e])?(n=K.parseInt(this.strings[e]),this.cache[e]=this.ints.push(n)-1,n):this.ints[n]},getColor:function(e){return this.getInt(e)},getFloat:function(e){var n,t=this.names.indexOf(e);return-1==t?NaN:(n=this.types[t])==pl.PTInt||n==pl.PTColor?this.getInt(e):n!=pl.PTFloat?NaN:null==(e=this.cache[t])?(n=parseFloat(this.strings[t]),this.cache[t]=this.floats.push(n)-1,n):this.floats[e]},getBool:function(e){e=this.names.indexOf(e);return-1!=e&&"true"==this.strings[e]},propagateTo:function(e,n){null==n&&(n=!1);for(var t=0;t<this.names.length;)-1!=e.names.indexOf(this.names[t])&&!n||e.setRaw(this.names[t],this.strings[t],this.types[t]),++t},__class__:Cl},(E["format.tmx.TmxObjectTemplate"]=K3).__name__="format.tmx.TmxObjectTemplate",K3.prototype={tileset:null,object:null,__class__:K3},(E["format.tmx.TmxObjectTypeTemplate"]=L3).__name__="format.tmx.TmxObjectTypeTemplate",L3.prototype={name:null,color:null,properties:null,__class__:L3},(E["format.tmx.TmxObjectTypeProperty"]=M3).__name__="format.tmx.TmxObjectTypeProperty",M3.prototype={name:null,type:null,defaultValue:null,__class__:M3},function(){}),wl=((E["format.tmx.Reader"]=vl).__name__="format.tmx.Reader",vl.prototype={customUncompressors:null,customEncoders:null,width:null,height:null,resolveTSX:null,resolveTemplate:null,resolveTypeTemplate:null,read:function(e,n){if(e.nodeType!=D.Document&&e.nodeType!=D.Element)throw $.thrown("Invalid nodeType "+(null==e.nodeType?"null":ge.toString(e.nodeType)));for(var e=hs.resolve(e,"map"),R=this.resolveProperties(e),t=[],i=[],l=e.elements();l.hasNext();){var s=l.next();if(s.nodeType==D.Document)B="Document";else{if(s.nodeType!=D.Element)throw $.thrown("Bad node type, expected Element but found "+(null==s.nodeType?"null":ge.toString(s.nodeType)));B=s.nodeName}switch(B){case"group":i.push(dl.LGroup(this.resolveGroup(s)));break;case"imagelayer":i.push(dl.LImageLayer(this.resolveImageLayer(s)));break;case"layer":i.push(dl.LTileLayer(this.resolveTileLayer(s)));break;case"objectgroup":i.push(dl.LObjectGroup(this.resolveObjectGroup(s)));break;case"tileset":var L=this.resolveProperties(s),r=[],h=as.resolve(s,"terraintypes"),a=[],o=as.resolve(s,"tile"),c=null,u=as.resolve(s,"tileoffset"),_=[],d=as.resolve(s,"wangsets"),b=null,g=as.resolve(s,"grid");if(u&&(u=hs.resolve(s,"tileoffset"),c=new ol(K.parseInt(ie.resolve(u,"x")),K.parseInt(ie.resolve(u,"y")))),h)for(var O=0,f=os.resolve(hs.resolve(s,"terraintypes"),"terrain");O<f.length;){var p=f[O];++O,r.push(new cl(ie.resolve(p,"name"),K.parseInt(ie.resolve(p,"tile")),this.resolveProperties(p)))}if(d)for(var C=0,v=os.resolve(hs.resolve(s,"wangsets"),"wangset");C<v.length;){var V=v[C];++C,_.push(this.resolveWangSet(V))}if(g){var w,u=hs.resolve(s,"grid"),m=K.parseInt(ie.resolve(u,"width")),y=K.parseInt(ie.resolve(u,"height"));switch(E=ie.resolve(u,"orientation")){case"hexagonal":w=il.Hexagonal;break;case"isometric":w=il.Isometric;break;case"orthogonal":w=il.Orthogonal;break;case"staggered":w=il.Staggered;break;default:w=il.Unknown(E)}b=new al(w,m,y)}if(o)for(var U=0,T=os.resolve(s,"tile");U<T.length;){var x=T[U],S=(++U,null);if(as.resolve(x,"animation"))for(var S=[],A=0,k=os.resolve(hs.resolve(x,"animation"),"frame");A<k.length;){var I=k[A];++A,S.push(new _l(K.parseInt(ie.resolve(I,"tileid")),K.parseInt(ie.resolve(I,"duration"))))}var P=K.parseInt(ie.resolve(x,"id")),F=le.resolve(x,"terrain")?ie.resolve(x,"terrain"):null,M=le.resolve(x,"probability")?parseFloat(ie.resolve(x,"probability")):0,H=this.resolveProperties(x),W=as.resolve(x,"image")?this.resolveImage(hs.resolve(x,"image")):null,N=as.resolve(x,"objectgroup")?this.resolveObjectGroup(hs.resolve(x,"objectgroup")):null;a.push(new ul(P,le.resolve(x,"type")?ie.resolve(x,"type"):null,F,M,H,W,N,S))}var h=le.resolve(s,"firstgid")?K.parseInt(ie.resolve(s,"firstgid")):null,d=le.resolve(s,"source")?ie.resolve(s,"source"):null,g=le.resolve(s,"name")?ie.resolve(s,"name"):null,u=le.resolve(s,"tilewidth")?K.parseInt(ie.resolve(s,"tilewidth")):0,o=le.resolve(s,"tileheight")?K.parseInt(ie.resolve(s,"tileheight")):0,z=le.resolve(s,"spacing")?K.parseInt(ie.resolve(s,"spacing")):0,G=le.resolve(s,"margin")?K.parseInt(ie.resolve(s,"margin")):0,Y=as.resolve(s,"image")?this.resolveImage(hs.resolve(s,"image")):null,h=new hl(h,d,g,u,o,z,G,le.resolve(s,"tilecount")?K.parseInt(ie.resolve(s,"tilecount")):0,le.resolve(s,"columns")?K.parseInt(ie.resolve(s,"columns")):0,c,L,Y,r,a,b,_);null!=h.source&&null!=this.resolveTSX&&(d=this.resolveTSX(h.source),wl.applyTSX(d,h)),t.push(h)}}this.width=K.parseInt(ie.resolve(e,"width")),this.height=K.parseInt(ie.resolve(e,"height"));var B=ie.resolve(e,"version"),O=le.resolve(e,"tiledversion")?ie.resolve(e,"tiledversion"):"";switch(E=ie.resolve(e,"orientation")){case"hexagonal":f=il.Hexagonal;break;case"isometric":f=il.Isometric;break;case"orthogonal":f=il.Orthogonal;break;case"staggered":f=il.Staggered;break;default:f=il.Unknown(E)}C=this.width,v=this.height,m=K.parseInt(ie.resolve(e,"tilewidth")),y=K.parseInt(ie.resolve(e,"tileheight"));if(U=le.resolve(e,"backgroundcolor")?(E=ie.resolve(e,"backgroundcolor"),35==he.cca(E,0)?7==E.length?K.parseInt("0x"+he.substr(E,1,null))+-16777216:K.parseInt("0x"+he.substr(E,1,null)):6==E.length?K.parseInt("0x"+E)+-16777216:K.parseInt("0x"+E)):0,le.resolve(e,"renderorder"))switch(E=ie.resolve(e,"renderorder")){case"left-down":T=ll.LeftDown;break;case"left-up":T=ll.LeftUp;break;case"right-down":T=ll.RightDown;break;case"right-up":T=ll.RightUp;break;default:T=ll.Unknown(E)}else T=ll.RightDown;var E,A=R,k=t,P=i;if(le.resolve(e,"staggerindex"))switch(E=ie.resolve(e,"staggerindex")){case"even":F=sl.Even;break;case"odd":F=sl.Odd;break;default:F=sl.Unknown(E)}else F=null;if(le.resolve(e,"staggeraxis"))switch(E=ie.resolve(e,"staggeraxis")){case"x":M=rl.AxisX;break;case"y":M=rl.AxisY;break;default:M=rl.Unknown(E)}else M=null;return new g3(B,O,f,C,v,m,y,U,T,F,M,le.resolve(e,"hexsidelength")?K.parseInt(ie.resolve(e,"hexsidelength")):0,le.resolve(e,"nextobjectid")?K.parseInt(ie.resolve(e,"nextobjectid")):0,le.resolve(e,"nextlayerid")?K.parseInt(ie.resolve(e,"nextlayerid")):0,A,k,P,le.resolve(e,"infinite")&&"1"==ie.resolve(e,"infinite"),n)},readTSX:function(e,n){if(e.nodeType!=D.Document&&e.nodeType!=D.Element)throw $.thrown("Invalid nodeType "+(null==e.nodeType?"null":ge.toString(e.nodeType)));var e=hs.resolve(e,"tileset"),t=this.resolveProperties(e),i=[],l=as.resolve(e,"terraintypes"),s=[],r=as.resolve(e,"tile"),h=null,a=as.resolve(e,"tileoffset"),o=[],c=as.resolve(e,"wangsets"),u=null,_=as.resolve(e,"grid");if(a&&(g=hs.resolve(e,"tileoffset"),h=new ol(K.parseInt(ie.resolve(g,"x")),K.parseInt(ie.resolve(g,"y")))),l)for(var d=0,b=os.resolve(hs.resolve(e,"terraintypes"),"terrain");d<b.length;){var g=b[d];++d,i.push(new cl(ie.resolve(g,"name"),K.parseInt(ie.resolve(g,"tile")),this.resolveProperties(g)))}if(c)for(var d=0,b=os.resolve(hs.resolve(e,"wangsets"),"wangset");d<b.length;){g=b[d];++d,o.push(this.resolveWangSet(g))}if(_){var O,f=hs.resolve(e,"grid"),d=K.parseInt(ie.resolve(f,"width")),b=K.parseInt(ie.resolve(f,"height")),p=ie.resolve(f,"orientation");switch(p){case"hexagonal":O=il.Hexagonal;break;case"isometric":O=il.Isometric;break;case"orthogonal":O=il.Orthogonal;break;case"staggered":O=il.Staggered;break;default:O=il.Unknown(p)}u=new al(O,d,b)}if(r)for(d=0,b=os.resolve(e,"tile");d<b.length;){var g=b[d],C=(++d,null);if(as.resolve(g,"animation"))for(var C=[],v=0,w=os.resolve(hs.resolve(g,"animation"),"frame");v<w.length;){var m=w[v];++v,C.push(new _l(K.parseInt(ie.resolve(m,"tileid")),K.parseInt(ie.resolve(m,"duration"))))}var y=K.parseInt(ie.resolve(g,"id")),U=le.resolve(g,"terrain")?ie.resolve(g,"terrain"):null,T=le.resolve(g,"probability")?parseFloat(ie.resolve(g,"probability")):0,x=this.resolveProperties(g),S=as.resolve(g,"image")?this.resolveImage(hs.resolve(g,"image")):null,A=as.resolve(g,"objectgroup")?this.resolveObjectGroup(hs.resolve(g,"objectgroup")):null;s.push(new ul(y,le.resolve(g,"type")?ie.resolve(g,"type"):null,U,T,x,S,A,C))}return null!=n?(n.firstGID=le.resolve(e,"firstgid")?K.parseInt(ie.resolve(e,"firstgid")):n.firstGID,n.source=le.resolve(e,"source")?ie.resolve(e,"source"):n.source,n.name=le.resolve(e,"name")?ie.resolve(e,"name"):n.name,n.tileWidth=le.resolve(e,"tilewidth")?K.parseInt(ie.resolve(e,"tilewidth")):n.tileWidth,n.tileHeight=le.resolve(e,"tileheight")?K.parseInt(ie.resolve(e,"tileheight")):n.tileHeight,n.spacing=le.resolve(e,"spacing")?K.parseInt(ie.resolve(e,"spacing")):n.spacing,n.margin=le.resolve(e,"margin")?K.parseInt(ie.resolve(e,"margin")):n.margin,n.properties=as.resolve(e,"properties")?t:n.properties,n.image=as.resolve(e,"image")?this.resolveImage(hs.resolve(e,"image")):n.image,n.tileCount=le.resolve(e,"tilecount")?K.parseInt(ie.resolve(e,"tilecount")):0,n.columns=le.resolve(e,"columns")?K.parseInt(ie.resolve(e,"columns")):0,l&&(n.terrainTypes=i),r&&(n.tiles=s),a&&(n.tileOffset=h),c&&(n.wangSets=o),_&&(n.grid=u),n):(d=le.resolve(e,"firstgid")?K.parseInt(ie.resolve(e,"firstgid")):null,b=le.resolve(e,"source")?ie.resolve(e,"source"):null,v=le.resolve(e,"name")?ie.resolve(e,"name"):null,w=le.resolve(e,"tilewidth")?K.parseInt(ie.resolve(e,"tilewidth")):0,y=le.resolve(e,"tileheight")?K.parseInt(ie.resolve(e,"tileheight")):0,U=le.resolve(e,"spacing")?K.parseInt(ie.resolve(e,"spacing")):0,T=le.resolve(e,"margin")?K.parseInt(ie.resolve(e,"margin")):0,x=as.resolve(e,"image")?this.resolveImage(hs.resolve(e,"image")):null,null!=(f=new hl(d,b,v,w,y,U,T,le.resolve(e,"tilecount")?K.parseInt(ie.resolve(e,"tilecount")):0,le.resolve(e,"columns")?K.parseInt(ie.resolve(e,"columns")):0,h,t,x,i,s,u,o)).source&&null!=this.resolveTSX&&(l=this.resolveTSX(f.source),wl.applyTSX(l,f)),f)},readObjectTypes:function(e,n){var t=new Nl;if(e.nodeType!=D.Document&&e.nodeType!=D.Element)throw $.thrown("Invalid nodeType "+(null==e.nodeType?"null":ge.toString(e.nodeType)));if(as.resolve(e,"objecttypes")){for(var i=0,l=os.resolve(hs.resolve(e,"objecttypes"),"objecttype");i<l.length;){for(var s=l[i],r=(++i,[]),h=0,a=os.resolve(s,"property");h<a.length;){var o,c=a[h];if(++h,le.resolve(c,"type"))switch(ie.resolve(c,"type")){case"bool":o=pl.PTBool;break;case"color":o=pl.PTColor;break;case"file":o=pl.PTFile;break;case"float":o=pl.PTFloat;break;case"int":o=pl.PTInt;break;default:o=pl.PTString}else o=pl.PTString;r.push(new M3(ie.resolve(c,"name"),o,le.resolve(c,"default")?ie.resolve(c,"default"):null))}var u=ie.resolve(s,"name"),s=new L3(ie.resolve(s,"name"),K.parseInt("0x"+he.substr(ie.resolve(s,"color"),1,null)),r);t.h[u]=s}null!=n&&wl.propagateObjectTypes(n,t)}return t},readTemplate:function(e){if(e.nodeType!=D.Document&&e.nodeType!=D.Element)throw $.thrown("Invalid nodeType "+(null==e.nodeType?"null":ge.toString(e.nodeType)));if(!as.resolve(e,"template"))return null;e=hs.resolve(e,"template");if(as.resolve(e,"tileset")){var n=hs.resolve(e,"tileset"),t=this.resolveProperties(n),i=[],l=as.resolve(n,"terraintypes"),s=[],r=as.resolve(n,"tile"),h=null,a=as.resolve(n,"tileoffset"),o=[],c=as.resolve(n,"wangsets"),u=null,_=as.resolve(n,"grid");if(a&&(g=hs.resolve(n,"tileoffset"),h=new ol(K.parseInt(ie.resolve(g,"x")),K.parseInt(ie.resolve(g,"y")))),l)for(var d=0,b=os.resolve(hs.resolve(n,"terraintypes"),"terrain");d<b.length;){var g=b[d];++d,i.push(new cl(ie.resolve(g,"name"),K.parseInt(ie.resolve(g,"tile")),this.resolveProperties(g)))}if(c)for(d=0,b=os.resolve(hs.resolve(n,"wangsets"),"wangset");d<b.length;){g=b[d];++d,o.push(this.resolveWangSet(g))}if(_){var O,a=hs.resolve(n,"grid"),d=K.parseInt(ie.resolve(a,"width")),b=K.parseInt(ie.resolve(a,"height")),f=ie.resolve(a,"orientation");switch(f){case"hexagonal":O=il.Hexagonal;break;case"isometric":O=il.Isometric;break;case"orthogonal":O=il.Orthogonal;break;case"staggered":O=il.Staggered;break;default:O=il.Unknown(f)}u=new al(O,d,b)}if(r)for(d=0,b=os.resolve(n,"tile");d<b.length;){var g=b[d],p=(++d,null);if(as.resolve(g,"animation"))for(var p=[],C=0,v=os.resolve(hs.resolve(g,"animation"),"frame");C<v.length;){var w=v[C];++C,p.push(new _l(K.parseInt(ie.resolve(w,"tileid")),K.parseInt(ie.resolve(w,"duration"))))}var m=K.parseInt(ie.resolve(g,"id")),y=le.resolve(g,"terrain")?ie.resolve(g,"terrain"):null,U=le.resolve(g,"probability")?parseFloat(ie.resolve(g,"probability")):0,T=this.resolveProperties(g),x=as.resolve(g,"image")?this.resolveImage(hs.resolve(g,"image")):null,S=as.resolve(g,"objectgroup")?this.resolveObjectGroup(hs.resolve(g,"objectgroup")):null;s.push(new ul(m,le.resolve(g,"type")?ie.resolve(g,"type"):null,y,U,T,x,S,p))}d=le.resolve(n,"firstgid")?K.parseInt(ie.resolve(n,"firstgid")):null,b=le.resolve(n,"source")?ie.resolve(n,"source"):null,C=le.resolve(n,"name")?ie.resolve(n,"name"):null,v=le.resolve(n,"tilewidth")?K.parseInt(ie.resolve(n,"tilewidth")):0,m=le.resolve(n,"tileheight")?K.parseInt(ie.resolve(n,"tileheight")):0,y=le.resolve(n,"spacing")?K.parseInt(ie.resolve(n,"spacing")):0,U=le.resolve(n,"margin")?K.parseInt(ie.resolve(n,"margin")):0,T=as.resolve(n,"image")?this.resolveImage(hs.resolve(n,"image")):null,l=new hl(d,b,C,v,m,y,U,le.resolve(n,"tilecount")?K.parseInt(ie.resolve(n,"tilecount")):0,le.resolve(n,"columns")?K.parseInt(ie.resolve(n,"columns")):0,h,t,T,i,s,u,o);null!=l.source&&null!=this.resolveTSX&&(c=this.resolveTSX(l.source),wl.applyTSX(c,l)),_=l}else _=null;return new K3(_,this.resolveObject(hs.resolve(e,"object"),!1))},resolveGroup:function(e){for(var n=[],t=e.elements();t.hasNext();){var i,l=t.next();if(l.nodeType==D.Document)i="Document";else{if(l.nodeType!=D.Element)throw $.thrown("Bad node type, expected Element but found "+(null==l.nodeType?"null":ge.toString(l.nodeType)));i=l.nodeName}switch(i){case"group":n.push(dl.LGroup(this.resolveGroup(l)));break;case"imagelayer":n.push(dl.LImageLayer(this.resolveImageLayer(l)));break;case"layer":n.push(dl.LTileLayer(this.resolveTileLayer(l)));break;case"objectgroup":n.push(dl.LObjectGroup(this.resolveObjectGroup(l)))}}return new s3(le.resolve(e,"id")?K.parseInt(ie.resolve(e,"id")):0,ie.resolve(e,"name"),le.resolve(e,"offsetx")?K.parseInt(ie.resolve(e,"offsetx")):0,le.resolve(e,"offsety")?K.parseInt(ie.resolve(e,"offsety")):0,le.resolve(e,"opacity")?parseFloat(ie.resolve(e,"opacity")):1,!le.resolve(e,"visible")||"1"==ie.resolve(e,"visible"),this.resolveProperties(e),n)},resolveStaggerIndex:function(e){switch(e){case"even":return sl.Even;case"odd":return sl.Odd;default:return sl.Unknown(e)}},resolveStaggerAxis:function(e){switch(e){case"x":return rl.AxisX;case"y":return rl.AxisY;default:return rl.Unknown(e)}},resolveOrientation:function(e){switch(e){case"hexagonal":return il.Hexagonal;case"isometric":return il.Isometric;case"orthogonal":return il.Orthogonal;case"staggered":return il.Staggered;default:return il.Unknown(e)}},resolveColor:function(e){return 35==he.cca(e,0)?7==e.length?K.parseInt("0x"+he.substr(e,1,null))+-16777216:K.parseInt("0x"+he.substr(e,1,null)):6==e.length?K.parseInt("0x"+e)+-16777216:K.parseInt("0x"+e)},resolveRenderOrder:function(e){switch(e){case"left-down":return ll.LeftDown;case"left-up":return ll.LeftUp;case"right-down":return ll.RightDown;case"right-up":return ll.RightUp;default:return ll.Unknown(e)}},resolveTileset:function(e,n){var t=this.resolveProperties(e),i=[],l=as.resolve(e,"terraintypes"),s=[],r=as.resolve(e,"tile"),h=null,a=as.resolve(e,"tileoffset"),o=[],c=as.resolve(e,"wangsets"),u=null,_=as.resolve(e,"grid");if(a&&(g=hs.resolve(e,"tileoffset"),h=new ol(K.parseInt(ie.resolve(g,"x")),K.parseInt(ie.resolve(g,"y")))),l)for(var d=0,b=os.resolve(hs.resolve(e,"terraintypes"),"terrain");d<b.length;){var g=b[d];++d,i.push(new cl(ie.resolve(g,"name"),K.parseInt(ie.resolve(g,"tile")),this.resolveProperties(g)))}if(c)for(var d=0,b=os.resolve(hs.resolve(e,"wangsets"),"wangset");d<b.length;){g=b[d];++d,o.push(this.resolveWangSet(g))}if(_){var O,f=hs.resolve(e,"grid"),d=K.parseInt(ie.resolve(f,"width")),b=K.parseInt(ie.resolve(f,"height")),p=ie.resolve(f,"orientation");switch(p){case"hexagonal":O=il.Hexagonal;break;case"isometric":O=il.Isometric;break;case"orthogonal":O=il.Orthogonal;break;case"staggered":O=il.Staggered;break;default:O=il.Unknown(p)}u=new al(O,d,b)}if(r)for(d=0,b=os.resolve(e,"tile");d<b.length;){var g=b[d],C=(++d,null);if(as.resolve(g,"animation"))for(var C=[],v=0,w=os.resolve(hs.resolve(g,"animation"),"frame");v<w.length;){var m=w[v];++v,C.push(new _l(K.parseInt(ie.resolve(m,"tileid")),K.parseInt(ie.resolve(m,"duration"))))}var y=K.parseInt(ie.resolve(g,"id")),U=le.resolve(g,"terrain")?ie.resolve(g,"terrain"):null,T=le.resolve(g,"probability")?parseFloat(ie.resolve(g,"probability")):0,D=this.resolveProperties(g),x=as.resolve(g,"image")?this.resolveImage(hs.resolve(g,"image")):null,S=as.resolve(g,"objectgroup")?this.resolveObjectGroup(hs.resolve(g,"objectgroup")):null;s.push(new ul(y,le.resolve(g,"type")?ie.resolve(g,"type"):null,U,T,D,x,S,C))}return null!=n?(n.firstGID=le.resolve(e,"firstgid")?K.parseInt(ie.resolve(e,"firstgid")):n.firstGID,n.source=le.resolve(e,"source")?ie.resolve(e,"source"):n.source,n.name=le.resolve(e,"name")?ie.resolve(e,"name"):n.name,n.tileWidth=le.resolve(e,"tilewidth")?K.parseInt(ie.resolve(e,"tilewidth")):n.tileWidth,n.tileHeight=le.resolve(e,"tileheight")?K.parseInt(ie.resolve(e,"tileheight")):n.tileHeight,n.spacing=le.resolve(e,"spacing")?K.parseInt(ie.resolve(e,"spacing")):n.spacing,n.margin=le.resolve(e,"margin")?K.parseInt(ie.resolve(e,"margin")):n.margin,n.properties=as.resolve(e,"properties")?t:n.properties,n.image=as.resolve(e,"image")?this.resolveImage(hs.resolve(e,"image")):n.image,n.tileCount=le.resolve(e,"tilecount")?K.parseInt(ie.resolve(e,"tilecount")):0,n.columns=le.resolve(e,"columns")?K.parseInt(ie.resolve(e,"columns")):0,l&&(n.terrainTypes=i),r&&(n.tiles=s),a&&(n.tileOffset=h),c&&(n.wangSets=o),_&&(n.grid=u),n):(d=le.resolve(e,"firstgid")?K.parseInt(ie.resolve(e,"firstgid")):null,b=le.resolve(e,"source")?ie.resolve(e,"source"):null,v=le.resolve(e,"name")?ie.resolve(e,"name"):null,w=le.resolve(e,"tilewidth")?K.parseInt(ie.resolve(e,"tilewidth")):0,y=le.resolve(e,"tileheight")?K.parseInt(ie.resolve(e,"tileheight")):0,U=le.resolve(e,"spacing")?K.parseInt(ie.resolve(e,"spacing")):0,T=le.resolve(e,"margin")?K.parseInt(ie.resolve(e,"margin")):0,D=as.resolve(e,"image")?this.resolveImage(hs.resolve(e,"image")):null,null!=(f=new hl(d,b,v,w,y,U,T,le.resolve(e,"tilecount")?K.parseInt(ie.resolve(e,"tilecount")):0,le.resolve(e,"columns")?K.parseInt(ie.resolve(e,"columns")):0,h,t,D,i,s,u,o)).source&&null!=this.resolveTSX&&(l=this.resolveTSX(f.source),wl.applyTSX(l,f)),f)},resolveWangSet:function(e){for(var n=[],t=[],i=[],l=0,s=os.resolve(e,"wangcornercolor");l<s.length;){var r=s[l],h=(++l,le.resolve(r,"name")?ie.resolve(r,"name"):null);a=le.resolve(r,"color")?(o=ie.resolve(r,"color"),35==he.cca(o,0)?7==o.length?K.parseInt("0x"+he.substr(o,1,null))+-16777216:K.parseInt("0x"+he.substr(o,1,null)):6==o.length?K.parseInt("0x"+o)+-16777216:K.parseInt("0x"+o)):0,n.push(new l3(h,a,le.resolve(r,"tile")?K.parseInt(ie.resolve(r,"tile")):0,le.resolve(r,"probability")?parseFloat(ie.resolve(r,"probability")):0))}for(l=0,s=os.resolve(e,"wangedgecolor");l<s.length;){var a,o,r=s[l],h=(++l,le.resolve(r,"name")?ie.resolve(r,"name"):null);a=le.resolve(r,"color")?(o=ie.resolve(r,"color"),35==he.cca(o,0)?7==o.length?K.parseInt("0x"+he.substr(o,1,null))+-16777216:K.parseInt("0x"+he.substr(o,1,null)):6==o.length?K.parseInt("0x"+o)+-16777216:K.parseInt("0x"+o)):0,t.push(new l3(h,a,le.resolve(r,"tile")?K.parseInt(ie.resolve(r,"tile")):0,le.resolve(r,"probability")?parseFloat(ie.resolve(r,"probability")):0))}for(l=0,s=os.resolve(e,"wangtile");l<s.length;){r=s[l];++l,i.push(new m3(le.resolve(r,"tileid")?K.parseInt(ie.resolve(r,"tileid")):0,le.resolve(r,"wangid")?K.parseInt(ie.resolve(r,"wangid")):0))}return new k3(le.resolve(e,"name")?ie.resolve(e,"name"):null,le.resolve(e,"tile")?K.parseInt(ie.resolve(e,"tile")):0,n,t,i)},resolveWangSetColor:function(e){var n,t=le.resolve(e,"name")?ie.resolve(e,"name"):null;return n=le.resolve(e,"color")?(n=ie.resolve(e,"color"),35==he.cca(n,0)?7==n.length?K.parseInt("0x"+he.substr(n,1,null))+-16777216:K.parseInt("0x"+he.substr(n,1,null)):6==n.length?K.parseInt("0x"+n)+-16777216:K.parseInt("0x"+n)):0,new l3(t,n,le.resolve(e,"tile")?K.parseInt(ie.resolve(e,"tile")):0,le.resolve(e,"probability")?parseFloat(ie.resolve(e,"probability")):0)},resolveImage:function(e){var n,t=le.resolve(e,"format")?ie.resolve(e,"format"):"",i=le.resolve(e,"id")?ie.resolve(e,"id"):"",l=le.resolve(e,"source")?ie.resolve(e,"source"):"";return n=le.resolve(e,"transparent")?(n=ie.resolve(e,"transparent"),35==he.cca(n,0)?7==n.length?K.parseInt("0x"+he.substr(n,1,null))+-16777216:K.parseInt("0x"+he.substr(n,1,null)):6==n.length?K.parseInt("0x"+n)+-16777216:K.parseInt("0x"+n)):null,new n3(t,i,l,n,le.resolve(e,"width")?K.parseInt(ie.resolve(e,"width")):null,le.resolve(e,"height")?K.parseInt(ie.resolve(e,"height")):null,as.resolve(e,"data")?this.resolveData(hs.resolve(e,"data"),!1):null)},resolveData:function(e,n){null==n&&(n=!0);var t=bl.None;if(le.resolve(e,"encoding"))switch(ie.resolve(e,"encoding")){case"base64":t=bl.Base64;break;case"csv":t=bl.CSV;break;default:throw $.thrown('Unknown encoding "'+ie.resolve(e,"encoding")+'"')}var i=gl.None;if(le.resolve(e,"compression"))switch(ie.resolve(e,"compression")){case"gzip":i=gl.GZip;break;case"zlib":i=gl.ZLib;break;default:throw $.thrown('Unknown compression "'+ie.resolve(e,"compression")+'"')}var l=null,s=null,r=null;switch(t._hx_index){case 0:if(n)if(as.resolve(e,"chunk"))for(var l=[],h=0,a=os.resolve(e,"chunk");h<a.length;){var o=a[h];++h;for(var c=(f=new z3(le.resolve(o,"x")?K.parseInt(ie.resolve(o,"x")):0,le.resolve(o,"y")?K.parseInt(ie.resolve(o,"y")):0,le.resolve(o,"width")?K.parseInt(ie.resolve(o,"width")):0,le.resolve(o,"height")?K.parseInt(ie.resolve(o,"height")):0,[])).tiles,u=0,_=os.resolve(o,"tile");u<_.length;){var d=_[u];++u,c.push(K.parseInt(ie.resolve(d,"gid")))}l.push(f)}else for(s=[],h=0,a=os.resolve(e,"tile");h<a.length;){var b=a[h];++h,s.push(K.parseInt(ie.resolve(b,"gid")))}else r=i==gl.None?Pl.ofString(z.trim(cs.get_innerData(e))):this.uncompressData(new Zl(z.trim(cs.get_innerData(e))),i);break;case 1:if(n&&as.resolve(e,"chunk")){l=[];for(h=0,a=os.resolve(e,"chunk");h<a.length;){o=a[h];++h;for(var c=(f=new z3(le.resolve(o,"x")?K.parseInt(ie.resolve(o,"x")):0,le.resolve(o,"y")?K.parseInt(ie.resolve(o,"y")):0,le.resolve(o,"width")?K.parseInt(ie.resolve(o,"width")):0,le.resolve(o,"height")?K.parseInt(ie.resolve(o,"height")):0,[])).tiles,r=Ml.decode(z.trim(cs.get_innerData(o))),g=(r=i!=gl.None?this.uncompressData(new Kl(r),i):r).length/4|0,u=((O=new Kl(r)).set_bigEndian(!1),0),_=g;u<_;){u++;d=O.readInt32(),c.push(d)}l.push(f)}r=null}else if(r=Ml.decode(z.trim(cs.get_innerData(e))),i!=gl.None&&(r=this.uncompressData(new Kl(r),i)),n){s=[];for(var O,g=r.length/4|0,h=((O=new Kl(r)).set_bigEndian(!1),0),a=g;h<a;){h++;d=O.readInt32(),s.push(d)}r=null}break;case 2:if(!n)throw $.thrown("CSV encoding available only for tile data");if(as.resolve(e,"chunk")){l=[];for(h=0,a=os.resolve(e,"chunk");h<a.length;){o=a[h];++h;for(var f,c=(f=new z3(le.resolve(o,"x")?K.parseInt(ie.resolve(o,"x")):0,le.resolve(o,"y")?K.parseInt(ie.resolve(o,"y")):0,le.resolve(o,"width")?K.parseInt(ie.resolve(o,"width")):0,le.resolve(o,"height")?K.parseInt(ie.resolve(o,"height")):0,[])).tiles,p=z.trim(cs.get_innerData(o)).split(","),u=0;u<p.length;){var C=p[u];++u,c.push(K.parseInt(C))}l.push(f)}}else{s=[];for(p=z.trim(cs.get_innerData(e)).split(","),h=0;h<p.length;){C=p[h];++h,s.push(K.parseInt(C))}}break;case 3:var v=t.value;throw $.thrown("Unknown data encoding: "+v)}return new y3(t,i,s,l,r)},uncompressData:function(e,n){switch(n._hx_index){case 0:return e.readAll();case 1:var t=new jl;return new b3(e).readData(t),t.getBytes();case 2:return gs.run(e);case 3:t=n.value;throw $.thrown("Unknown compression method: "+t)}},resolveTileLayer:function(e){return new v3(as.resolve(e,"data")?this.resolveData(hs.resolve(e,"data")):null,le.resolve(e,"id")?K.parseInt(ie.resolve(e,"id")):0,le.resolve(e,"name")?ie.resolve(e,"name"):"",le.resolve(e,"x")?parseFloat(ie.resolve(e,"x")):0,le.resolve(e,"y")?parseFloat(ie.resolve(e,"y")):0,le.resolve(e,"offsetx")?K.parseInt(ie.resolve(e,"offsetx")):0,le.resolve(e,"offsety")?K.parseInt(ie.resolve(e,"offsety")):0,le.resolve(e,"width")?K.parseInt(ie.resolve(e,"width")):this.width,le.resolve(e,"height")?K.parseInt(ie.resolve(e,"height")):this.height,le.resolve(e,"opacity")?parseFloat(ie.resolve(e,"opacity")):1,!le.resolve(e,"visible")||"1"==ie.resolve(e,"visible"),this.resolveProperties(e))},resolveDraworder:function(e){switch(e){case"index":return Ol.Index;case"topdown":return Ol.Topdown;default:return Ol.Unknown(e)}},resolveObjectGroup:function(e){for(var n,t=[],i=0,l=os.resolve(e,"object");i<l.length;){var s=l[i];++i,t.push(this.resolveObject(s))}if(le.resolve(e,"draworder")){var r=ie.resolve(e,"draworder");switch(r){case"index":n=Ol.Index;break;case"topdown":n=Ol.Topdown;break;default:n=Ol.Unknown(r)}}else n=Ol.Topdown;return new C3(n,t,le.resolve(e,"color")?K.parseInt(ie.resolve(e,"color")):null,le.resolve(e,"id")?K.parseInt(ie.resolve(e,"id")):0,le.resolve(e,"name")?ie.resolve(e,"name"):"",le.resolve(e,"x")?parseFloat(ie.resolve(e,"x")):0,le.resolve(e,"y")?parseFloat(ie.resolve(e,"y")):0,le.resolve(e,"offsetx")?K.parseInt(ie.resolve(e,"offsetx")):0,le.resolve(e,"offsety")?K.parseInt(ie.resolve(e,"offsety")):0,le.resolve(e,"width")?K.parseInt(ie.resolve(e,"width")):this.width,le.resolve(e,"height")?K.parseInt(ie.resolve(e,"height")):this.height,le.resolve(e,"opacity")?parseFloat(ie.resolve(e,"opacity")):1,!le.resolve(e,"visible")||"1"==ie.resolve(e,"visible"),this.resolveProperties(e))},resolveObject:function(e,n){null==n&&(n=!0);var t,i,l=!1,s=!1,r=(r=as.resolve(e,"ellipse")?fl.OTEllipse:le.resolve(e,"gid")?(l=1073741824==(1073741824&(t=(s=-2147483648==(-2147483648&(t=K.parseInt(ie.resolve(e,"gid")))))&&t<0?-t:t)),fl.OTTile(1073741823&t)):as.resolve(e,"polygon")?fl.OTPolygon(this.readPoints(hs.resolve(e,"polygon"))):as.resolve(e,"polyline")?fl.OTPolyline(this.readPoints(hs.resolve(e,"polyline"))):as.resolve(e,"text")?fl.OTText(this.resolveText(hs.resolve(e,"text"))):as.resolve(e,"point")?fl.OTPoint:fl.OTRectangle,new F3(le.resolve(e,"id")?K.parseInt(ie.resolve(e,"id")):0,le.resolve(e,"name")?ie.resolve(e,"name"):"",le.resolve(e,"type")?ie.resolve(e,"type"):"",le.resolve(e,"x")?parseFloat(ie.resolve(e,"x")):0,le.resolve(e,"y")?parseFloat(ie.resolve(e,"y")):0,le.resolve(e,"width")?parseFloat(ie.resolve(e,"width")):0,le.resolve(e,"height")?parseFloat(ie.resolve(e,"height")):0,le.resolve(e,"rotation")?parseFloat(ie.resolve(e,"rotation")):0,!le.resolve(e,"visible")||"1"==ie.resolve(e,"visible"),r,this.resolveProperties(e),s,l,le.resolve(e,"template")?ie.resolve(e,"template"):null));return null!=r.template&&null!=this.resolveTemplate&&(i=this.resolveTemplate(ie.resolve(e,"template")),le.resolve(e,"name")||(r.name=i.object.name),le.resolve(e,"type")||(r.type=i.object.type),le.resolve(e,"x")||(r.x=i.object.x),le.resolve(e,"y")||(r.x=i.object.y),le.resolve(e,"width")||(r.width=i.object.width),le.resolve(e,"height")||(r.height=i.object.height),le.resolve(e,"rotation")||(r.rotation=i.object.rotation),le.resolve(e,"gid")||(r.flippedHorizontally=i.object.flippedHorizontally,r.flippedVertically=i.object.flippedVertically),i.object.properties.propagateTo(r.properties),l=1==(s=i.object.objectType)._hx_index?(t=s.gid,fl.OTExternalTile(t,i.tileset)):i.object.objectType,r.objectType=l),n&&null!=r.type&&""!=r.type&&null!=this.resolveTypeTemplate&&(i=this.resolveTypeTemplate(r.type),wl.applyObjectTypeTemplate(r,i)),r},readPoints:function(e){var n=[];if(le.resolve(e,"points"))for(var t=ie.resolve(e,"points").split(" "),i=0;i<t.length;){var l=t[i],s=(++i,l.indexOf(","));n.push(new D3(parseFloat(he.substr(l,0,s)),parseFloat(he.substr(l,s+1,null))))}return n},resolveText:function(e){var n,t=le.resolve(e,"fontfamily")?ie.resolve(e,"fontfamily"):"sans-serif",i=le.resolve(e,"pixelsize")?K.parseInt(ie.resolve(e,"pixelsize")):16,l=le.resolve(e,"wrap")&&"1"==ie.resolve(e,"wrap");return n=le.resolve(e,"color")?(n=ie.resolve(e,"color"),35==he.cca(n,0)?7==n.length?K.parseInt("0x"+he.substr(n,1,null))+-16777216:K.parseInt("0x"+he.substr(n,1,null)):6==n.length?K.parseInt("0x"+n)+-16777216:K.parseInt("0x"+n)):0,new G3(t,i,l,n,le.resolve(e,"bold")&&"1"==ie.resolve(e,"bold"),le.resolve(e,"italic")&&"1"==ie.resolve(e,"italic"),le.resolve(e,"underline")&&"1"==ie.resolve(e,"underline"),le.resolve(e,"strikeout")&&"1"==ie.resolve(e,"strikeout"),!le.resolve(e,"kerning")||"1"==ie.resolve(e,"kerning"),le.resolve(e,"halign")?ie.resolve(e,"halign"):"left",le.resolve(e,"valign")?ie.resolve(e,"valign"):"top",cs.get_innerData(e))},resolveImageLayer:function(e){return new u3(as.resolve(e,"image")?this.resolveImage(hs.resolve(e,"image")):null,le.resolve(e,"id")?K.parseInt(ie.resolve(e,"id")):0,le.resolve(e,"name")?ie.resolve(e,"name"):"",le.resolve(e,"x")?parseFloat(ie.resolve(e,"x")):0,le.resolve(e,"y")?parseFloat(ie.resolve(e,"y")):0,le.resolve(e,"offsetx")?K.parseInt(ie.resolve(e,"offsetx")):0,le.resolve(e,"offsety")?K.parseInt(ie.resolve(e,"offsety")):0,le.resolve(e,"width")?K.parseInt(ie.resolve(e,"width")):this.width,le.resolve(e,"height")?K.parseInt(ie.resolve(e,"height")):this.height,le.resolve(e,"opacity")?parseFloat(ie.resolve(e,"opacity")):1,!le.resolve(e,"visible")||"1"==ie.resolve(e,"visible"),this.resolveProperties(e))},resolveProperties:function(e){var n,t=new Cl;if(as.resolve(e,"properties"))for(var i=0,l=os.resolve(hs.resolve(e,"properties"),"property");i<l.length;){var s=l[i];if(++i,n=le.resolve(s,"value")?ie.resolve(s,"value"):cs.get_innerData(s),le.resolve(s,"type"))switch(ie.resolve(s,"type")){case"bool":t.setRaw(ie.resolve(s,"name"),n,pl.PTBool);break;case"color":t.setRaw(ie.resolve(s,"name"),n,pl.PTColor);break;case"file":t.setRaw(ie.resolve(s,"name"),n,pl.PTFile);break;case"float":t.setRaw(ie.resolve(s,"name"),n,pl.PTFloat);break;case"int":t.setRaw(ie.resolve(s,"name"),n,pl.PTInt);break;default:t.setRaw(ie.resolve(s,"name"),n,pl.PTString)}else t.setRaw(ie.resolve(s,"name"),n,pl.PTString)}return t},__class__:vl},function(){}),ml=((E["format.tmx.Tools"]=wl).__name__="format.tmx.Tools",wl.applyTSX=function(e,n){n.properties=e.properties,n.name=e.name,n.columns=e.columns,n.grid=e.grid,n.image=e.image,n.margin=e.margin,n.spacing=e.spacing,n.tileOffset=e.tileOffset,n.tileCount=e.tileCount,n.tileHeight=e.tileHeight,n.tileWidth=e.tileWidth,n.terrainTypes=e.terrainTypes,n.tiles=e.tiles,n.wangSets=e.wangSets},wl.applyObjectTypeTemplate=function(e,n){for(var t=e.properties,i=0,l=n.properties;i<l.length;){var s=l[i];++i,null==s.defaultValue||t.exists(s.name)||t.setRaw(s.name,s.defaultValue,s.type)}},wl.resolveOTExternalTile=function(e,n){for(var t=[],i=(n=null==n?null==e.localPath?"":ql.directory(e.localPath):ql.directory(n),0),l=e.tilesets;i<l.length;){var s=l[i];++i,null!=s.source?t.push(ql.join([n,s.source])):t.push("")}for(i=0,l=e.layers;i<l.length;){var r=l[i];switch(++i,r._hx_index){case 1:r.group;wl.resolveOTExternalTileInternal(e,r,n,t);break;case 3:r.group;wl.resolveOTExternalTileInternal(e,r,n,t)}}},wl.resolveOTExternalTileInternal=function(e,n,t,i){switch(n._hx_index){case 1:for(var l=0,s=n.group.objects;l<s.length;){var r=s[l],h=(++l,r.objectType);if(2==h._hx_index)for(var a=h.gid,o=h.tileset,c=ql.join([t,ql.directory(r.template),o.source]),u=0,_=i.length;u<_;){var d=u++;if(i[d]==c){r.objectType=fl.OTTile(e.tilesets[d].firstGID+a-o.firstGID);break}}}break;case 3:for(l=0,s=n.group.layers;l<s.length;){n=s[l];++l,wl.resolveOTExternalTileInternal(e,n,t,i)}}},wl.linearLayers=function(e){for(var n=[],t=0,i=e.layers;t<i.length;){var l,s=i[t];++t,3==s._hx_index?(l=s.group,wl.linearLayersInternal(l,n)):n.push(s)}return n},wl.linearLayersInternal=function(e,n){for(var t=0,i=e.layers;t<i.length;){var l=i[t];switch(++t,l._hx_index){case 0:var s=l.layer;s.offsetX+=e.offsetX,s.offsetY+=e.offsetY,s.visible=e.visible,s.opacity*=e.opacity,n.push(l);break;case 1:s=l.group;s.offsetX+=e.offsetX,s.offsetY+=e.offsetY,s.visible=e.visible,s.opacity*=e.opacity,n.push(l);break;case 2:var r=l.layer;r.offsetX+=e.offsetX,r.offsetY+=e.offsetY,r.visible=e.visible,r.opacity*=e.opacity,n.push(l);break;case 3:r=l.group;r.offsetX+=e.offsetX,r.offsetY+=e.offsetY,r.visible=e.visible,r.opacity*=e.opacity,wl.linearLayersInternal(r,n)}}},wl.propagateObjectTypeToObject=function(e,n){if(null!=e.type){n=n.h[e.type];if(null!=n)for(var t=e.properties,i=0,l=n.properties;i<l.length;){var s=l[i];++i,t.exists(s.name)||null==s.defaultValue||t.setRaw(s.name,s.defaultValue,s.type)}}},wl.propagateTilePropertiesToObject=function(e,n,t){n=wl.getTilesetByGid(n,t);if(null!=n&&null!=n.tiles)for(var i=t-n.firstGID,l=0,s=n.tiles;l<s.length;){var r=s[l];++l,r.id==i&&(r.properties.propagateTo(e.properties),null==r.type||null!=e.type&&""!=e.type||(e.type=r.type))}},wl.propagateTileProperties=function(e){for(var n=0,t=e.layers;n<t.length;){var i=t[n];++n,wl.propagateTilePropertiesLayer(e,i)}},wl.propagateTilePropertiesLayer=function(e,n){switch(n._hx_index){case 1:for(var t=0,i=n.group.objects;t<i.length;){var l=i[t],s=(++t,l.objectType);if(1==s._hx_index)for(var s=s.gid,r=s-(s=wl.getTilesetByGid(e,s)).firstGID,h=0,a=s.tiles;h<a.length;){var o=a[h];++h,o.id==r&&(o.properties.propagateTo(l.properties),null==o.type||null!=l.type&&""!=l.type||(l.type=o.type))}}break;case 3:for(t=0,i=n.group.layers;t<i.length;){var c=i[t];++t,wl.propagateTilePropertiesLayer(e,c)}}},wl.propagateObjectTypes=function(e,a,n,t){null==n&&(n=!0);var o=function(e){switch(e._hx_index){case 1:for(var n=0,t=e.group.objects;n<t.length;){var i=t[n];if(++n,null!=i.type){var l=a.h[i.type];if(null!=l)for(var s=0,r=l.properties;s<r.length;){var h=r[s];++s,i.properties.exists(h.name)||null==h.defaultValue||i.properties.setRaw(h.name,h.defaultValue,h.type)}}}break;case 3:for(n=0,t=e.group.layers;n<t.length;){e=t[n];++n,o(e)}}};if(t=null==t?!0:t)for(var i=0,l=e.tilesets;i<l.length;){var s=l[i];if(++i,null!=s.tiles)for(var r=0,h=s.tiles;r<h.length;){var c=h[r];if(++r,null!=c.objectGroup)for(var u=0,_=c.objectGroup.objects;u<_.length;){var d=_[u];if(++u,null!=d.type){var b=a.h[d.type];if(null!=b)for(var g=0,O=b.properties;g<O.length;){var f=O[g];++g,d.properties.exists(f.name)||null==f.defaultValue||d.properties.setRaw(f.name,f.defaultValue,f.type)}}}}}if(n)for(i=0,l=e.layers;i<l.length;){var p=l[i];++i,o(p)}},wl.getTileByGid=function(e,n){e=wl.getTilesetByGid(e,n);if(null!=e&&null!=e.tiles)for(var t=n-e.firstGID,i=0,l=e.tiles;i<l.length;){var s=l[i];if(++i,s.id==t)return s}return null},wl.getTilesetByGid=function(e,n){if(n<=0)return null;for(var t=0;t<e.tilesets.length;){if(e.tilesets[t].firstGID>n)return e.tilesets[t-1];++t}return e.tilesets[t-1]},wl.getTilesetIndexByGid=function(e,n){if(n<=0)return-1;for(var t=0;t<e.tilesets.length;){if(e.tilesets[t].firstGID>n)return t-1;++t}return t-1},wl.getTileUVByLidUnsafe=function(e,n,t){var i=wl.getTilesCountInLineOnTileset(e);L.setProperty(t,"x",n%i*(e.tileWidth+e.spacing)+e.margin),L.setProperty(t,"y",Math.floor(n/i)*(e.tileHeight+e.spacing)+e.margin)},wl.fixObjectPlacement=function(e){wl.topLeftObjectOrigin(e)},wl.topLeftObjectOrigin=function(e){for(var n=Math.PI/180,t=0,i=e.layers;t<i.length;){var l=i[t];if(++t,1==l._hx_index)for(var s=0,r=l.group.objects;s<r.length;){var h=r[s],a=(++s,h.height),o=(null!=a&&0!=a||(a=(1==(o=h.objectType)._hx_index&&(o=o.gid,null!=(o=wl.getTilesetByGid(e,o)))&&null!=o.tileHeight?o:e).tileHeight),h.rotation*n);h.x+=Math.sin(o)*a,h.y-=Math.cos(o)*a}}},wl.getTilesCountInLineOnTileset=function(e){return Math.floor((e.image.width-2*e.margin+e.spacing)/(e.tileWidth+e.spacing))},wl.getTilesCountInColumnOnTileset=function(e){return Math.floor((e.image.height-2*e.margin+e.spacing)/(e.tileHeight+e.spacing))},wl.getTilesCountInTileset=function(e){return Math.floor((e.image.width-2*e.margin+e.spacing)/(e.tileWidth+e.spacing))*Math.floor((e.image.height-2*e.margin+e.spacing)/(e.tileHeight+e.spacing))},wl.tilePosition=function(e,n,t,i,l){var s,r=0,h=0;if(null==i)s=e.tileHeight;else if(s=i.tileHeight,null!=i.tileOffset&&(r=i.tileOffset.x,h=i.tileOffset.y),0==s&&(s=e.tileHeight),null!=l)for(var a=0,o=i.tiles;a<o.length;){var c=o[a];if(++a,c.id==l&&null!=c.image){s=c.image.height;break}}switch(s-=e.tileHeight,(a=e.orientation)._hx_index){case 0:return{x:e.tileWidth*n+r,y:e.tileHeight*t-s+h};case 1:var u=.5*e.tileWidth;return{x:n*u-t*u+r,y:(t+n)*(.5*e.tileHeight)-s+h};case 2:case 3:return null;case 4:o=a.value;return{x:e.tileWidth*n+r,y:e.tileHeight*t-s+h}}},(E["fuzzaldrin.Filter"]=P3).__name__="fuzzaldrin.Filter",P3.pluckCandidates=function(e){return e.candidate},P3.sortCandidates=function(e,n){return n.score>e.score?1:n.score<e.score?-1:0},P3.filter=function(e,n,t,i){var l=null!=i?i.key:null,i=null!=i&&null!=i.maxResults?i.maxResults:-1;if(null!=n&&0<n.length){for(var s=[],r=0,h=e.length;r<h;){var a,o=e[u=r++],c=null!=l?L.getProperty(o,l):o;null!=c&&0!=c.length&&(a=Ul.score(c,n),0<(a=t?a:Ul.basenameScore(c,n,a)))&&s.push({candidate:o,score:a})}s.sort(P3.sortCandidates);for(var u,_=P3.pluckCandidates,d=new Array(s.length),r=0,h=s.length;r<h;)d[u=r++]=_(s[u]);e=d}return e=-1!=i?e.slice(0,i):e},function(){}),yl=((E["fuzzaldrin.Fuzzaldrin"]=ml).__name__="fuzzaldrin.Fuzzaldrin",ml.filter=function(e,n,t){var i=!1;return null!=n&&0<n.length&&(i=-1!=n.indexOf(ml.PATH_SEPARATOR),n=n.replace(ml.RE_SPACE.r,"")),P3.filter(e,n,i,t)},ml.score=function(e,n){var t,i;return null==e||0==e.length||null==n||0==n.length?0:e==n?2:(t=-1!=n.indexOf(ml.PATH_SEPARATOR),n=n.replace(ml.RE_SPACE.r,""),i=Ul.score(e,n),t?i:Ul.basenameScore(e,n,i))},ml.sortMatches=function(e,n){return n<e?1:e<n?-1:0},ml.prototype={match:function(e,n){if(null==e||0==e.length)return[];if(null==n||0==n.length)return[];if(e==n){for(var t=[],i=0,l=e.length;i<l;){var s=i++;t.push(s)}return t}var r=-1!=n.indexOf(ml.PATH_SEPARATOR),h=(n=n.replace(ml.RE_SPACE.r,""),yl.match(e,n));if(!r){r=yl.basenameMatch(e,n);(h=h.concat(r)).sort(ml.sortMatches);for(var a=-1,o=0;o<h.length;)0!=o&&a==h[o]?h.splice(o,1):(a=h[o],++o)}return h},__class__:ml},function(){}),Ul=((E["fuzzaldrin.Matcher"]=yl).__name__="fuzzaldrin.Matcher",yl.basenameMatch=function(e,n){for(var t=e.length-1;e.charAt(t)==ml.PATH_SEPARATOR;)--t;for(var i=t,l=null;0<=t;)e.charAt(t)==ml.PATH_SEPARATOR?null==l&&(l=e.substring(t+1,i+1)):0==t&&(i<e.length-1?null==l&&(l=e.substring(0,i+1)):null==l&&(l=e)),--t;return yl.match(l,n,e.length-l.length)},yl.match=function(e,n,t){if(null==t&&(t=0),e==n){for(var i=[],l=t,s=t+e.length;l<s;){var r=l++;i.push(r)}return i}for(var h=n.length,a=e.length,o=0,c=0,u=[];o<h;){var _=n.charAt(o++),d=e.indexOf(_.toLowerCase()),_=e.indexOf(_.toUpperCase()),b=0|Math.min(d,_);if(-1==(c=b=-1==b?0|Math.max(d,_):b))return[];u.push(t+c),t+=c+1,e=e.substring(c+1,a)}return u},function(){}),Tl=((E["fuzzaldrin.Scorer"]=Ul).__name__="fuzzaldrin.Scorer",Ul.basenameScore=function(e,n,t){for(var i=e.length-1;e.charAt(i)==ml.PATH_SEPARATOR;)--i;for(var l=0,s=i,r=null;0<=i;)e.charAt(i)==ml.PATH_SEPARATOR?(++l,null==r&&(r=e.substring(i+1,s+1))):0==i&&(s<e.length-1?null==r&&(r=e.substring(0,s+1)):null==r&&(r=e)),--i;return r==e?t*=2:null!=r&&0<r.length&&(t+=Ul.score(r,n)),t*=.01*Math.max(1,10-(l+1))},Ul.score=function(e,n){if(e==n)return 1;if(Ul.queryIsLastPathSegment(e,n))return 1;for(var t=0,i=n.length,l=e.length,s=0,r=0;s<i;){var h=n.charAt(s++),a=e.indexOf(h.toLowerCase()),o=e.indexOf(h.toUpperCase()),c=0|Math.min(a,o);if(-1==(r=c=-1==c?0|Math.max(a,o):c))return 0;a=.1;e.charAt(r)==h&&(a+=.1),0==r||e.charAt(r-1)==ml.PATH_SEPARATOR?a+=.8:"-"!=(o=e.charAt(r-1))&&"_"!=o&&" "!=o||(a+=.7),e=e.substring(r+1,l),t+=a}var u=t/i;return(i/l*u+u)/2},Ul.queryIsLastPathSegment=function(e,n){return e.charAt(e.length-n.length-1)==ml.PATH_SEPARATOR&&e.lastIndexOf(n)==e.length-n.length},_e["haxe.StackItem"]={__ename__:"haxe.StackItem",__constructs__:null,CFunction:{_hx_name:"CFunction",_hx_index:0,__enum__:"haxe.StackItem",toString:c},Module:((b=function(e){return{_hx_index:1,m:e,__enum__:"haxe.StackItem",toString:c}})._hx_name="Module",b.__params__=["m"],b),FilePos:((b=function(e,n,t,i){return{_hx_index:2,s:e,file:n,line:t,column:i,__enum__:"haxe.StackItem",toString:c}})._hx_name="FilePos",b.__params__=["s","file","line","column"],b),Method:((b=function(e,n){return{_hx_index:3,classname:e,method:n,__enum__:"haxe.StackItem",toString:c}})._hx_name="Method",b.__params__=["classname","method"],b),LocalFunction:((b=function(e){return{_hx_index:4,v:e,__enum__:"haxe.StackItem",toString:c}})._hx_name="LocalFunction",b.__params__=["v"],b)}),Dl=(Tl.__constructs__=[Tl.CFunction,Tl.Module,Tl.FilePos,Tl.Method,Tl.LocalFunction],{}),$=(Dl.callStack=function(){return Sl.toHaxe(Sl.callStack())},Dl.exceptionStack=function(e){null==e&&(e=!1);var n=Sl.toHaxe(Sl.exceptionStack());return e?n:Dl.subtract(n,Dl.callStack())},Dl.subtract=function(e,n){for(var t=-1,i=-1;++i<e.length;){for(var l=0,s=n.length;l<s;){var r=l++;if(Dl.equalItems(e[i],n[r])){if(t<0&&(t=i),++i>=e.length)break}else t=-1}if(0<=t)break}return 0<=t?e.slice(0,t):e},Dl.equalItems=function(e,n){if(null==e)return null==n;switch(e._hx_index){case 0:return null!=n&&0==n._hx_index;case 1:return null!=n&&1==n._hx_index&&(t=n.m,e.m==t);case 2:var t,i,l,s;return null!=n&&2==n._hx_index&&(t=n.s,h=n.file,o=n.line,i=n.column,l=e.column,a=e.line,r=e.file,s=e.s,r==h)&&a==o&&l==i&&Dl.equalItems(s,t);case 3:var r,h,a;return null!=n&&3==n._hx_index&&(r=n.classname,h=n.method,a=e.method,e.classname==r)&&a==h;case 4:var o;return null!=n&&4==n._hx_index&&(o=n.v,e.v==o)}},(E["haxe.IMap"]=V3).__name__="haxe.IMap",V3.__isInterface__=!0,V3.prototype={get:null,keys:null,iterator:null,keyValueIterator:null,__class__:V3},function(e,n,t){Error.call(this,e),this.message=e,this.__previousException=n,this.__nativeException=null!=t?t:this,this.__skipStack=0;e=Error.prepareStackTrace;if(Error.prepareStackTrace=function(e){return e.stack},t instanceof Error)this.stack=t.stack;else{n=null;if(Error.captureStackTrace)Error.captureStackTrace(this,$),n=this;else if(void 0===(n=new Error).stack){try{throw n}catch(e){}this.__skipStack++}this.stack=n.stack}Error.prepareStackTrace=e}),xl=((E["haxe.Exception"]=$).__name__="haxe.Exception",$.caught=function(e){return e instanceof $?e:e instanceof Error?new $(e.message,null,e):new Il(e,null,e)},$.thrown=function(e){return e instanceof $?e.get_native():e instanceof Error?e:((e=new Il(e)).__skipStack++,e)},$.__super__=Error,$.prototype=$extend(Error.prototype,{__skipStack:null,__nativeException:null,__previousException:null,unwrap:function(){return this.__nativeException},toString:function(){return this.get_message()},__shiftStack:function(){this.__skipStack++},get_message:function(){return this.message},get_native:function(){return this.__nativeException},get_stack:function(){var e,n=this.__exceptionStack;return null==n?(e=Sl.toHaxe(Sl.normalize(this.stack),this.__skipStack),this.setProperty("__exceptionStack",e),e):n},setProperty:function(n,t){try{Object.defineProperty(this,n,{value:t})}catch(e){this[n]=t}},__class__:$,__properties__:{get_native:"get_native",get_stack:"get_stack",get_message:"get_message"}}),function(){}),Sl=((E["haxe.Log"]=xl).__name__="haxe.Log",xl.formatOutput=function(e,n){var t=K.string(e);if(null==n)return t;var i=n.fileName+":"+n.lineNumber;if(null!=n.customParams)for(var l=0,s=n.customParams;l<s.length;){e=s[l];++l,t+=", "+K.string(e)}return i+": "+t},xl.trace=function(e,n){e=xl.formatOutput(e,n);"undefined"!=typeof console&&null!=console.log&&console.log(e)},function(){}),Al=((E["haxe.NativeStackTrace"]=Sl).__name__="haxe.NativeStackTrace",Sl.saveStack=function(e){Sl.lastError=e},Sl.callStack=function(){var e=new Error(""),n=Sl.tryHaxeStack(e);if(void 0===n){try{throw e}catch(e){}n=e.stack}return Sl.normalize(n,2)},Sl.exceptionStack=function(){return Sl.normalize(Sl.tryHaxeStack(Sl.lastError))},Sl.toHaxe=function(e,n){if(null==n&&(n=0),null==e)return[];if("string"!=typeof e)return 0<n&&Array.isArray(e)?e.slice(n):e;for(var t=e.split("\n"),i=("Error"==t[0]&&t.shift(),[]),l=0,s=t.length;l<s;){var r,h,a,o,c,u=l++;u<n||(null!=(c=(u=t[u]).match(/^    at ([$A-Za-z0-9_. ]+) \(([^)]+):([0-9]+):([0-9]+)\)$/))?("$hxClasses"==(r=c[1].split("."))[0]&&r.shift(),h=r.pop(),a=c[2],o=K.parseInt(c[3]),c=K.parseInt(c[4]),i.push(Tl.FilePos("Anonymous function"==h?Tl.LocalFunction():"Global code"==h?null:Tl.Method(r.join("."),h),a,o,c))):i.push(Tl.Module(z.trim(u))))}return i},Sl.tryHaxeStack=function(e){var n;return null==e?[]:(n=Error.prepareStackTrace,Error.prepareStackTrace=Sl.prepareHxStackTrace,e=e.stack,Error.prepareStackTrace=n,e)},Sl.prepareHxStackTrace=function(e,n){for(var t=[],i=0;i<n.length;){var l=n[i],s=(++i,null),r=(l=null!=Sl.wrapCallSite?Sl.wrapCallSite(l):l).getFunctionName(),h=(null!=r&&(s=0<=(a=r.lastIndexOf("."))?(h=r.substring(0,a),a=r.substring(a+1),Tl.Method(h,a)):Tl.Method(null,r)),l.getFileName()),a=null==h?-1:h.indexOf("file:");null!=Sl.wrapCallSite&&0<a&&(h=h.substring(a+6)),t.push(Tl.FilePos(s,h,l.getLineNumber(),l.getColumnNumber()))}return t},Sl.normalize=function(e,n){if(null==n&&(n=0),Array.isArray(e)&&0<n)return e.slice(n);if("string"!=typeof e)return e;switch(e.substring(0,6)){case"Error\n":case"Error:":++n}return Sl.skipLines(e,n)},Sl.skipLines=function(e,n,t){return null==t&&(t=0),0<n?(t=e.indexOf("\n",t))<0?"":Sl.skipLines(e,--n,t+1):e.substring(t)},function(){this.buf=new y,this.cache=[],this.useCache=Al.USE_CACHE,this.useEnumIndex=Al.USE_ENUM_INDEX,this.shash=new Nl,this.scount=0}),kl=((E["haxe.Serializer"]=Al).__name__="haxe.Serializer",Al.prototype={buf:null,cache:null,shash:null,scount:null,useCache:null,useEnumIndex:null,toString:function(){return this.buf.b},serializeString:function(e){var n=this.shash.h[e];null!=n?(this.buf.b+="R",this.buf.b+=null==n?"null":""+n):(this.shash.h[e]=this.scount++,this.buf.b+="y",e=encodeURIComponent(e),this.buf.b+=K.string(e.length),this.buf.b+=":",this.buf.b+=null==e?"null":""+e)},serializeRef:function(e){for(var n=typeof e,t=0,i=this.cache.length;t<i;){var l=t++,s=this.cache[l];if(typeof s==n&&s==e)return this.buf.b+="r",this.buf.b+=null==l?"null":""+l,!0}return this.cache.push(e),!1},serializeFields:function(e){for(var n=0,t=L.fields(e);n<t.length;){var i=t[n];++n,this.serializeString(i),this.serialize(L.field(e,i))}this.buf.b+="g"},serialize:function(e){switch((U=B.typeof(e))._hx_index){case 0:this.buf.b+="n";break;case 1:0==(n=e)?this.buf.b+="z":(this.buf.b+="i",this.buf.b+=null==n?"null":""+n);break;case 2:var n=e;isNaN(n)?this.buf.b+="k":isFinite(n)?(this.buf.b+="d",this.buf.b+=null==n?"null":""+n):this.buf.b+=n<0?"m":"p";break;case 3:this.buf.b+=e?"t":"f";break;case 4:if(Os.__instanceof(e,Is)){var t=e.__name__;this.buf.b+="A",this.serializeString(t)}else if(Os.__instanceof(e,Ps))this.buf.b+="B",this.serializeString(e.__ename__);else{if(this.useCache&&this.serializeRef(e))return;this.buf.b+="o",this.serializeFields(e)}break;case 5:throw $.thrown("Cannot serialize function");case 6:var i=U.c;if(i==String)this.serializeString(e);else if(!this.useCache||!this.serializeRef(e))switch(i){case Array:var l=0;this.buf.b+="a";for(var s=0,r=e.length;s<r;)null==e[_=s++]?++l:(0<l&&(1==l?this.buf.b+="n":(this.buf.b+="u",this.buf.b+=null==l?"null":""+l),l=0),this.serialize(e[_]));0<l&&(1==l?this.buf.b+="n":(this.buf.b+="u",this.buf.b+=null==l?"null":""+l)),this.buf.b+="h";break;case Date:var h=e;this.buf.b+="v",this.buf.b+=K.string(h.getTime());break;case Ll:this.buf.b+="q";for(var a=(n=e).keys();a.hasNext();){var o=a.next();this.buf.b+=":",this.buf.b+=null==o?"null":""+o,this.serialize(n.h[o])}this.buf.b+="h";break;case Vl:this.buf.b+="l";for(var c=(n=e).h;null!=c;){var u=c.item,c=c.next,_=u;this.serialize(_)}this.buf.b+="h";break;case Wl:this.buf.b+="M";for(a=(n=e).keys();a.hasNext();){var o=a.next(),d=L.field(o,"__id__");L.deleteField(o,"__id__"),this.serialize(o),o.__id__=d,this.serialize(n.h[o.__id__])}this.buf.b+="h";break;case Nl:this.buf.b+="b";for(var h=(n=e).h,b=Object.keys(h),g=b.length,O=0;O<g;){a=b[O++];this.serializeString(a),this.serialize(n.h[a])}this.buf.b+="h";break;case Pl:var n=e,_=(this.buf.b+="s",this.buf.b+=K.string(Math.ceil(8*n.length/6)),this.buf.b+=":",0),f=n.length-2;if(null==(p=Al.BASE64_CODES)){for(var p=new Array(Al.BASE64.length),s=0,r=Al.BASE64.length;s<r;){var C=s++;p[C]=he.cca(Al.BASE64,C)}Al.BASE64_CODES=p}for(;_<f;){var v=n.b[_++],w=n.b[_++],m=n.b[_++];this.buf.b+=String.fromCodePoint(p[v>>2]),this.buf.b+=String.fromCodePoint(p[63&(v<<4|w>>4)]),this.buf.b+=String.fromCodePoint(p[63&(w<<2|m>>6)]),this.buf.b+=String.fromCodePoint(p[63&m])}_==f?(v=n.b[_++],w=n.b[_++],this.buf.b+=String.fromCodePoint(p[v>>2]),this.buf.b+=String.fromCodePoint(p[63&(v<<4|w>>4)]),this.buf.b+=String.fromCodePoint(p[w<<2&63])):_==1+f&&(v=n.b[_++],this.buf.b+=String.fromCodePoint(p[v>>2]),this.buf.b+=String.fromCodePoint(p[v<<4&63]));break;default:this.useCache&&this.cache.pop(),null!=e.hxSerialize?(this.buf.b+="C",this.serializeString(i.__name__),this.useCache&&this.cache.push(e),e.hxSerialize(this),this.buf.b+="g"):(this.buf.b+="c",this.serializeString(i.__name__),this.useCache&&this.cache.push(e),this.serializeFields(e))}break;case 7:t=U.e;if(this.useCache){if(this.serializeRef(e))return;this.cache.pop()}this.buf.b+=K.string(this.useEnumIndex?"j":"w"),this.serializeString(t.__ename__),this.useEnumIndex?(this.buf.b+=":",this.buf.b+=K.string(e._hx_index)):this.serializeString(_e[(t=e).__enum__].__constructs__[e._hx_index]._hx_name),this.buf.b+=":";for(var y=B.enumParameters(e),U=(this.buf.b+=K.string(y.length),0);U<y.length;){var T=y[U];++U,this.serialize(T)}this.useCache&&this.cache.push(e);break;default:throw $.thrown("Cannot serialize "+K.string(e))}},__class__:Al},(E["haxe._Unserializer.DefaultResolver"]=$3).__name__="haxe._Unserializer.DefaultResolver",$3.prototype={resolveClass:function(e){return E[e]},resolveEnum:function(e){return _e[e]},__class__:$3},function(e){this.buf=e,this.length=this.buf.length,this.pos=0,this.scache=[],this.cache=[];e=kl.DEFAULT_RESOLVER;null==e&&(e=new $3,kl.DEFAULT_RESOLVER=e),this.resolver=e}),Il=((E["haxe.Unserializer"]=kl).__name__="haxe.Unserializer",kl.initCodes=function(){for(var e=[],n=0,t=kl.BASE64.length;n<t;){var i=n++;e[kl.BASE64.charCodeAt(i)]=i}return e},kl.prototype={buf:null,pos:null,length:null,cache:null,scache:null,resolver:null,readDigits:function(){for(var e=0,n=!1,t=this.pos;;){var i=this.buf.charCodeAt(this.pos);if(i!=i)break;if(45==i){if(this.pos!=t)break;n=!0}else{if(i<48||57<i)break;e=10*e+(i-48)}this.pos++}return n&&(e*=-1),e},readFloat:function(){for(var e=this.pos;;){var n=this.buf.charCodeAt(this.pos);if(n!=n)break;if(!(43<=n&&n<58||101==n||69==n))break;this.pos++}return parseFloat(he.substr(this.buf,e,this.pos-e))},unserializeObject:function(e){for(;;){if(this.pos>=this.length)throw $.thrown("Invalid object");if(103==this.buf.charCodeAt(this.pos))break;var n=this.unserialize();if("string"!=typeof n)throw $.thrown("Invalid object key");var t=this.unserialize();e[n]=t}this.pos++},unserializeEnum:function(e,n){if(58!=this.buf.charCodeAt(this.pos++))throw $.thrown("Invalid enum format");var t=this.readDigits();if(0==t)return B.createEnum(e,n);for(var i=[];0<t--;)i.push(this.unserialize());return B.createEnum(e,n,i)},unserialize:function(){switch(this.buf.charCodeAt(this.pos++)){case 65:var e=this.unserialize();if(null==(h=this.resolver.resolveClass(e)))throw $.thrown("Class not found "+e);return h;case 66:e=this.unserialize();if(null==(d=this.resolver.resolveEnum(e)))throw $.thrown("Enum not found "+e);return d;case 67:e=this.unserialize();if(null==(h=this.resolver.resolveClass(e)))throw $.thrown("Class not found "+e);var n=Object.create(h.prototype);if(this.cache.push(n),n.hxUnserialize(this),103!=this.buf.charCodeAt(this.pos++))throw $.thrown("Invalid custom data");return n;case 77:for(var t=new Wl,i=(this.cache.push(t),this.buf);104!=this.buf.charCodeAt(this.pos);){var l=this.unserialize();t.set(l,this.unserialize())}return this.pos++,t;case 82:if((f=this.readDigits())<0||f>=this.scache.length)throw $.thrown("Invalid string reference");return this.scache[f];case 97:var i=this.buf,s=[];for(this.cache.push(s);;){if(104==(g=this.buf.charCodeAt(this.pos))){this.pos++;break}117==g?(this.pos++,f=this.readDigits(),s[s.length+f-1]=null):s.push(this.unserialize())}return s;case 98:for(t=new Nl,i=(this.cache.push(t),this.buf);104!=this.buf.charCodeAt(this.pos);){var l=this.unserialize(),r=this.unserialize();t.h[l]=r}return this.pos++,t;case 99:var e=this.unserialize();if(null==(h=this.resolver.resolveClass(e)))throw $.thrown("Class not found "+e);n=Object.create(h.prototype);return this.cache.push(n),this.unserializeObject(n),n;case 100:return this.readFloat();case 102:return!1;case 105:return this.readDigits();case 106:e=this.unserialize();if(null==(S=this.resolver.resolveEnum(e)))throw $.thrown("Enum not found "+e);this.pos++;for(var h=this.readDigits(),a=S.__constructs__,o=new Array(a.length),c=0,u=a.length;c<u;)o[O=c++]=a[O]._hx_name;var _=o[h];if(null==_)throw $.thrown("Unknown enum index "+e+"@"+h);var d=this.unserializeEnum(S,_);return this.cache.push(d),d;case 107:return NaN;case 108:for(var b=new Vl,i=(this.cache.push(b),this.buf);104!=this.buf.charCodeAt(this.pos);)b.add(this.unserialize());return this.pos++,b;case 109:return-1/0;case 110:return null;case 111:n={};return this.cache.push(n),this.unserializeObject(n),n;case 112:return 1/0;case 113:for(var t=new Ll,i=(this.cache.push(t),this.buf),g=this.buf.charCodeAt(this.pos++);58==g;){var O=this.readDigits(),r=this.unserialize();t.h[O]=r,g=this.buf.charCodeAt(this.pos++)}if(104!=g)throw $.thrown("Invalid IntMap format");return t;case 114:var f;if((f=this.readDigits())<0||f>=this.cache.length)throw $.thrown("Invalid reference");return this.cache[f];case 115:var p=this.readDigits(),i=this.buf;if(58!=this.buf.charCodeAt(this.pos++)||this.length-this.pos<p)throw $.thrown("Invalid bytes length");var C=kl.CODES;null==C&&(C=kl.initCodes(),kl.CODES=C);for(var h=3&p,v=(O=this.pos)+(p-h),w=new Pl(new ArrayBuffer(3*(p>>2)+(2<=h?h-1:0))),m=0;O<v;){var y=C[i.charCodeAt(O++)],U=C[i.charCodeAt(O++)],T=(w.b[m++]=y<<2|U>>4,C[i.charCodeAt(O++)]),D=(w.b[m++]=U<<4|T>>2,C[i.charCodeAt(O++)]);w.b[m++]=T<<6|D}return 2<=h&&(y=C[i.charCodeAt(O++)],U=C[i.charCodeAt(O++)],w.b[m++]=y<<2|U>>4,3==h)&&(T=C[i.charCodeAt(O++)],w.b[m++]=U<<4|T>>2),this.pos+=p,this.cache.push(w),w;case 116:return!0;case 118:var x;return 48<=this.buf.charCodeAt(this.pos)&&this.buf.charCodeAt(this.pos)<=57&&48<=this.buf.charCodeAt(this.pos+1)&&this.buf.charCodeAt(this.pos+1)<=57&&48<=this.buf.charCodeAt(this.pos+2)&&this.buf.charCodeAt(this.pos+2)<=57&&48<=this.buf.charCodeAt(this.pos+3)&&this.buf.charCodeAt(this.pos+3)<=57&&45==this.buf.charCodeAt(this.pos+4)?(x=he.strDate(he.substr(this.buf,this.pos,19)),this.pos+=19):x=new Date(this.readFloat()),this.cache.push(x),x;case 119:var S,e=this.unserialize();if(null==(S=this.resolver.resolveEnum(e)))throw $.thrown("Enum not found "+e);d=this.unserializeEnum(S,this.unserialize());return this.cache.push(d),d;case 120:throw $.thrown(this.unserialize());case 121:p=this.readDigits();if(58!=this.buf.charCodeAt(this.pos++)||this.length-this.pos<p)throw $.thrown("Invalid string length");l=he.substr(this.buf,this.pos,p);return this.pos+=p,l=decodeURIComponent(l.split("+").join(" ")),this.scache.push(l),l;case 122:return 0}throw this.pos--,$.thrown("Invalid char "+this.buf.charAt(this.pos)+" at position "+this.pos)},__class__:kl},function(e,n,t){$.call(this,String(e),n,t),this.value=e,this.__skipStack++}),Pl=((E["haxe.ValueException"]=Il).__name__="haxe.ValueException",Il.__super__=$,Il.prototype=$extend($.prototype,{value:null,unwrap:function(){return this.value},__class__:Il}),(E["haxe.crypto.Adler32"]=be).__name__="haxe.crypto.Adler32",be.read=function(e){var n=new be,t=e.readByte(),i=e.readByte(),l=e.readByte(),e=e.readByte();return n.a1=l<<8|e,n.a2=t<<8|i,n},be.prototype={a1:null,a2:null,update:function(e,n,t){for(var i=this.a1,l=this.a2,s=n,r=n+t;s<r;)var h=s++,l=(l+(i=(i+e.b[h])%65521))%65521;this.a1=i,this.a2=l},equals:function(e){return e.a1==this.a1&&e.a2==this.a2},__class__:be},function(e){this.length=e.byteLength,this.b=new Uint8Array(e),(this.b.bufferValue=e).hxBytes=this,e.bytes=this.b}),Fl=((E["haxe.io.Bytes"]=Pl).__name__="haxe.io.Bytes",Pl.ofString=function(e,n){if(n==Fl.RawNative){for(var t=new Uint8Array(e.length<<1),i=0,l=e.length;i<l;){var s=i++,r=e.charCodeAt(s);t[s<<1]=255&r,t[s<<1|1]=r>>8}return new Pl(t.buffer)}for(var h=[],s=0;s<e.length;)(r=55296<=(r=e.charCodeAt(s++))&&r<=56319?r-55232<<10|1023&e.charCodeAt(s++):r)<=127?h.push(r):(r<=2047?h.push(192|r>>6):(r<=65535?h.push(224|r>>12):(h.push(240|r>>18),h.push(128|r>>12&63)),h.push(128|r>>6&63)),h.push(128|63&r));return new Pl(new Uint8Array(h).buffer)},Pl.prototype={length:null,b:null,blit:function(e,n,t,i){if(e<0||t<0||i<0||e+i>this.length||t+i>n.length)throw $.thrown(Ql.OutsideBounds);0==t&&i==n.b.byteLength?this.b.set(n.b,e):this.b.set(n.b.subarray(t,t+i),e)},sub:function(e,n){if(e<0||n<0||e+n>this.length)throw $.thrown(Ql.OutsideBounds);return new Pl(this.b.buffer.slice(e+this.b.byteOffset,e+this.b.byteOffset+n))},getString:function(e,n,t){if(e<0||n<0||e+n>this.length)throw $.thrown(Ql.OutsideBounds);null==t&&(t=Fl.UTF8);var i="",l=this.b,s=e,r=e+n;switch(t._hx_index){case 0:for(var h,a;s<r;)if((o=l[s++])<128){if(0==o)break;i+=String.fromCodePoint(o)}else o<224?(h=(63&o)<<6|127&l[s++],i+=String.fromCodePoint(h)):o<240?(h=(31&o)<<12|(127&l[s++])<<6|127&l[s++],i+=String.fromCodePoint(h)):(a=(15&o)<<18|(127&l[s++])<<12|(127&l[s++])<<6|127&l[s++],i+=String.fromCodePoint(a));break;case 1:for(;s<r;){var o=l[s++]|l[s++]<<8;i+=String.fromCodePoint(o)}}return i},toString:function(){return this.getString(0,this.length)},__class__:Pl},_e["haxe.io.Encoding"]={__ename__:"haxe.io.Encoding",__constructs__:null,UTF8:{_hx_name:"UTF8",_hx_index:0,__enum__:"haxe.io.Encoding",toString:c},RawNative:{_hx_name:"RawNative",_hx_index:1,__enum__:"haxe.io.Encoding",toString:c}}),Ml=(Fl.__constructs__=[Fl.UTF8,Fl.RawNative],function(){}),Bl=((E["haxe.crypto.Base64"]=Ml).__name__="haxe.crypto.Base64",Ml.decode=function(e,n){if(n=null==n?!0:n)for(;61==he.cca(e,e.length-1);)e=he.substr(e,0,-1);return new Bl(Ml.BYTES).decodeBytes(Pl.ofString(e))},function(e){for(var n=e.length,t=1;1<<t<n;)++t;if(8<t||n!=1<<t)throw $.thrown("BaseCode : base length must be a power of two.");this.base=e,this.nbits=t}),El=((E["haxe.crypto.BaseCode"]=Bl).__name__="haxe.crypto.BaseCode",Bl.prototype={base:null,nbits:null,tbl:null,initTable:function(){for(var e=[],n=0;n<256;)e[i=n++]=-1;for(var n=0,t=this.base.length;n<t;){var i=n++;e[this.base.b[i]]=i}this.tbl=e},decodeBytes:function(e){for(var n=this.nbits,t=(this.base,null==this.tbl&&this.initTable(),this.tbl),i=e.length*n>>3,l=new Pl(new ArrayBuffer(i)),s=0,r=0,h=0,a=0;a<i;){for(;r<8;){r+=n,s<<=n;var o=t[e.b[h++]];if(-1==o)throw $.thrown("BaseCode : invalid encoded char");s|=o}r-=8,l.b[a++]=s>>r&255}return l},__class__:Bl},function(){}),Rl=((E["haxe.crypto.Md5"]=El).__name__="haxe.crypto.Md5",El.encode=function(e){var n=new El,e=n.doEncode(El.str2blks(e));return n.hex(e)},El.str2blks=function(e){for(var n=Pl.ofString(e),e=1+(n.length+8>>6),t=[],i=0,l=16*e;i<l;)t[s=i++]=0;for(var s=0,r=n.length,h=8*r;s<r;)t[s>>2]|=n.b[s]<<(h+s)%4*8,++s;t[s>>2]|=128<<(h+s)%4*8;e=16*e-2;return t[e]=255&h,t[e]|=(h>>>8&255)<<8,t[e]|=(h>>>16&255)<<16,t[e]|=(h>>>24&255)<<24,t},El.prototype={bitOR:function(e,n){return(e>>>1|n>>>1)<<1|(1&e|1&n)},bitXOR:function(e,n){return(e>>>1^n>>>1)<<1|1&e^1&n},bitAND:function(e,n){return(e>>>1&n>>>1)<<1|1&e&n},addme:function(e,n){var t=(65535&e)+(65535&n);return(e>>16)+(n>>16)+(t>>16)<<16|65535&t},hex:function(e){for(var n="",t="0123456789abcdef",i=0;i<e.length;){var l=e[i];++i,n=(n=(n=(n+=t.charAt(l>>4&15)+t.charAt(15&l))+(t.charAt(l>>12&15)+t.charAt(l>>8&15)))+(t.charAt(l>>20&15)+t.charAt(l>>16&15)))+(t.charAt(l>>28&15)+t.charAt(l>>24&15))}return n},rol:function(e,n){return e<<n|e>>>32-n},cmn:function(e,n,t,i,l,s){return this.addme(this.rol(this.addme(this.addme(n,e),this.addme(i,s)),l),t)},ff:function(e,n,t,i,l,s,r){return this.cmn(this.bitOR(this.bitAND(n,t),this.bitAND(~n,i)),e,n,l,s,r)},gg:function(e,n,t,i,l,s,r){return this.cmn(this.bitOR(this.bitAND(n,i),this.bitAND(t,~i)),e,n,l,s,r)},hh:function(e,n,t,i,l,s,r){return this.cmn(this.bitXOR(this.bitXOR(n,t),i),e,n,l,s,r)},ii:function(e,n,t,i,l,s,r){return this.cmn(this.bitXOR(t,this.bitOR(n,~i)),e,n,l,s,r)},doEncode:function(e){for(var n=1732584193,t=-271733879,i=-1732584194,l=271733878,s=0;s<e.length;){var r=n,h=t,a=i,o=l,n=this.ff(n,t,i,l,e[s],7,-680876936),l=this.ff(l,n,t,i,e[s+1],12,-389564586),i=this.ff(i,l,n,t,e[s+2],17,606105819),t=this.ff(t,i,l,n,e[s+3],22,-1044525330);n=this.ff(n,t,i,l,e[s+4],7,-176418897),l=this.ff(l,n,t,i,e[s+5],12,1200080426),i=this.ff(i,l,n,t,e[s+6],17,-1473231341),t=this.ff(t,i,l,n,e[s+7],22,-45705983),n=this.ff(n,t,i,l,e[s+8],7,1770035416),l=this.ff(l,n,t,i,e[s+9],12,-1958414417),i=this.ff(i,l,n,t,e[s+10],17,-42063),t=this.ff(t,i,l,n,e[s+11],22,-1990404162),n=this.ff(n,t,i,l,e[s+12],7,1804603682),l=this.ff(l,n,t,i,e[s+13],12,-40341101),i=this.ff(i,l,n,t,e[s+14],17,-1502002290),t=this.ff(t,i,l,n,e[s+15],22,1236535329),n=this.gg(n,t,i,l,e[s+1],5,-165796510),l=this.gg(l,n,t,i,e[s+6],9,-1069501632),i=this.gg(i,l,n,t,e[s+11],14,643717713),t=this.gg(t,i,l,n,e[s],20,-373897302),n=this.gg(n,t,i,l,e[s+5],5,-701558691),l=this.gg(l,n,t,i,e[s+10],9,38016083),i=this.gg(i,l,n,t,e[s+15],14,-660478335),t=this.gg(t,i,l,n,e[s+4],20,-405537848),n=this.gg(n,t,i,l,e[s+9],5,568446438),l=this.gg(l,n,t,i,e[s+14],9,-1019803690),i=this.gg(i,l,n,t,e[s+3],14,-187363961),t=this.gg(t,i,l,n,e[s+8],20,1163531501),n=this.gg(n,t,i,l,e[s+13],5,-1444681467),l=this.gg(l,n,t,i,e[s+2],9,-51403784),i=this.gg(i,l,n,t,e[s+7],14,1735328473),t=this.gg(t,i,l,n,e[s+12],20,-1926607734),n=this.hh(n,t,i,l,e[s+5],4,-378558),l=this.hh(l,n,t,i,e[s+8],11,-2022574463),i=this.hh(i,l,n,t,e[s+11],16,1839030562),t=this.hh(t,i,l,n,e[s+14],23,-35309556),n=this.hh(n,t,i,l,e[s+1],4,-1530992060),l=this.hh(l,n,t,i,e[s+4],11,1272893353),i=this.hh(i,l,n,t,e[s+7],16,-155497632),t=this.hh(t,i,l,n,e[s+10],23,-1094730640),n=this.hh(n,t,i,l,e[s+13],4,681279174),l=this.hh(l,n,t,i,e[s],11,-358537222),i=this.hh(i,l,n,t,e[s+3],16,-722521979),t=this.hh(t,i,l,n,e[s+6],23,76029189),n=this.hh(n,t,i,l,e[s+9],4,-640364487),l=this.hh(l,n,t,i,e[s+12],11,-421815835),i=this.hh(i,l,n,t,e[s+15],16,530742520),t=this.hh(t,i,l,n,e[s+2],23,-995338651),n=this.ii(n,t,i,l,e[s],6,-198630844),l=this.ii(l,n,t,i,e[s+7],10,1126891415),i=this.ii(i,l,n,t,e[s+14],15,-1416354905),t=this.ii(t,i,l,n,e[s+5],21,-57434055),n=this.ii(n,t,i,l,e[s+12],6,1700485571),l=this.ii(l,n,t,i,e[s+3],10,-1894986606),i=this.ii(i,l,n,t,e[s+10],15,-1051523),t=this.ii(t,i,l,n,e[s+1],21,-2054922799),n=this.ii(n,t,i,l,e[s+8],6,1873313359),l=this.ii(l,n,t,i,e[s+15],10,-30611744),i=this.ii(i,l,n,t,e[s+6],15,-1560198380),t=this.ii(t,i,l,n,e[s+13],21,1309151649),n=this.ii(n,t,i,l,e[s+4],6,-145523070),l=this.ii(l,n,t,i,e[s+11],10,-1120210379),i=this.ii(i,l,n,t,e[s+2],15,718787259),t=this.ii(t,i,l,n,e[s+9],21,-343485551),n=this.addme(n,r),t=this.addme(t,h),i=this.addme(i,a),l=this.addme(l,o),s+=16}return[n,t,i,l]},__class__:El},function(){}),Ll=((E["haxe.ds.ArraySort"]=Rl).__name__="haxe.ds.ArraySort",Rl.sort=function(e,n){Rl.rec(e,n,0,e.length)},Rl.rec=function(e,n,t,i){var l=t+i>>1;if(i-t<12){if(!(i<=t))for(var s=t+1,r=i;s<r;)for(var h=s++;t<h&&n(e[h],e[h-1])<0;)Rl.swap(e,h-1,h),--h}else Rl.rec(e,n,t,l),Rl.rec(e,n,l,i),Rl.doMerge(e,n,t,l,i,l-t,i-l)},Rl.doMerge=function(e,n,t,i,l,s,r){var h,a,o,c;0!=s&&0!=r&&(s+r==2?n(e[i],e[t])<0&&Rl.swap(e,i,t):(r<s?c=(a=Rl.lower(e,n,i,l,h=t+(o=s>>1)))-i:o=(h=Rl.upper(e,n,t,i,a=i+(c=r>>1)))-t,Rl.rotate(e,n,h,i,a),Rl.doMerge(e,n,t,h,i=h+c,o,c),Rl.doMerge(e,n,i,a,l,s-o,r-c)))},Rl.rotate=function(e,n,t,i,l){if(t!=i&&i!=l)for(var s=Rl.gcd(l-t,i-t);0!=s--;){for(var r=e[t+s],h=i-t,a=t+s,o=t+s+h;o!=t+s;)e[a]=e[o],h<l-(a=o)?o+=h:o=t+(h-(l-o));e[a]=r}},Rl.gcd=function(e,n){for(;0!=n;){var t=e%n;e=n,n=t}return e},Rl.upper=function(e,n,t,i,l){for(var s,r,h=i-t;0<h;)h=n(e[l],e[r=t+(s=h>>1)])<0?s:(t=r+1,h-s-1);return t},Rl.lower=function(e,n,t,i,l){for(var s,r,h=i-t;0<h;)h=n(e[r=t+(s=h>>1)],e[l])<0?(t=r+1,h-s-1):s;return t},Rl.swap=function(e,n,t){var i=e[n];e[n]=e[t],e[t]=i},function(){this.h={}}),Vl=((E["haxe.ds.IntMap"]=Ll).__name__="haxe.ds.IntMap",Ll.__interfaces__=[V3],Ll.prototype={h:null,get:function(e){return this.h[e]},remove:function(e){return!!this.h.hasOwnProperty(e)&&(delete this.h[e],!0)},keys:function(){var e,n=[];for(e in this.h)this.h.hasOwnProperty(e)&&n.push(+e);return new Jl(n)},iterator:function(){return{ref:this.h,it:this.keys(),hasNext:function(){return this.it.hasNext()},next:function(){var e=this.it.next();return this.ref[e]}}},keyValueIterator:function(){return new es(this)},copy:function(){for(var e=new Ll,n=this.keys();n.hasNext();){var t=n.next();e.h[t]=this.h[t]}return e},__class__:Ll},function(){this.length=0}),Hl=((E["haxe.ds.List"]=Vl).__name__="haxe.ds.List",Vl.prototype={h:null,q:null,length:null,add:function(e){e=new Hl(e,null);null==this.h?this.h=e:this.q.next=e,this.q=e,this.length++},__class__:Vl},function(e,n){this.item=e,this.next=n}),Wl=((E["haxe.ds._List.ListNode"]=Hl).__name__="haxe.ds._List.ListNode",Hl.prototype={item:null,next:null,__class__:Hl},function(){this.h={__keys__:{}}}),Nl=((E["haxe.ds.ObjectMap"]=Wl).__name__="haxe.ds.ObjectMap",Wl.__interfaces__=[V3],Wl.prototype={h:null,set:function(e,n){var t=e.__id__;null==t&&(t=e.__id__=ce.$haxeUID++),this.h[t]=n,this.h.__keys__[t]=e},get:function(e){return this.h[e.__id__]},keys:function(){var e,n=[];for(e in this.h.__keys__)this.h.hasOwnProperty(e)&&n.push(this.h.__keys__[e]);return new Jl(n)},iterator:function(){return{ref:this.h,it:this.keys(),hasNext:function(){return this.it.hasNext()},next:function(){var e=this.it.next();return this.ref[e.__id__]}}},keyValueIterator:function(){return new es(this)},__class__:Wl},function(){this.h=Object.create(null)}),zl=((E["haxe.ds.StringMap"]=Nl).__name__="haxe.ds.StringMap",Nl.__interfaces__=[V3],Nl.prototype={h:null,get:function(e){return this.h[e]},keys:function(){return new zl(this.h)},iterator:function(){return new Gl(this.h)},keyValueIterator:function(){return new Yl(this.h)},__class__:Nl},function(e){this.h=e,this.keys=Object.keys(e),this.length=this.keys.length,this.current=0}),Gl=((E["haxe.ds._StringMap.StringMapKeyIterator"]=zl).__name__="haxe.ds._StringMap.StringMapKeyIterator",zl.prototype={h:null,keys:null,length:null,current:null,hasNext:function(){return this.current<this.length},next:function(){return this.keys[this.current++]},__class__:zl},function(e){this.h=e,this.keys=Object.keys(e),this.length=this.keys.length,this.current=0}),Yl=((E["haxe.ds._StringMap.StringMapValueIterator"]=Gl).__name__="haxe.ds._StringMap.StringMapValueIterator",Gl.prototype={h:null,keys:null,length:null,current:null,hasNext:function(){return this.current<this.length},next:function(){return this.h[this.keys[this.current++]]},__class__:Gl},function(e){this.h=e,this.keys=Object.keys(e),this.length=this.keys.length,this.current=0}),Xl=((E["haxe.ds._StringMap.StringMapKeyValueIterator"]=Yl).__name__="haxe.ds._StringMap.StringMapKeyValueIterator",Yl.prototype={h:null,keys:null,length:null,current:null,hasNext:function(){return this.current<this.length},next:function(){var e=this.keys[this.current++];return{key:e,value:this.h[e]}},__class__:Yl},{}),Kl=(Xl.blit=function(e,n,t,i,l){if(e==t){if(n<i)for(var s=n+l,r=i+l,h=0,a=l;h<a;){h++;--s,e[--r]=e[s]}else if(i<n)for(s=n,r=i,h=0,a=l;h<a;){h++;e[r]=e[s],++s,++r}}else for(h=0,a=l;h<a;)t[i+(s=h++)]=e[n+s]},(E["haxe.exceptions.PosException"]=re).__name__="haxe.exceptions.PosException",re.__super__=$,re.prototype=$extend($.prototype,{posInfos:null,toString:function(){return $.prototype.toString.call(this)+" in "+this.posInfos.className+"."+this.posInfos.methodName+" at "+this.posInfos.fileName+":"+this.posInfos.lineNumber},__class__:re}),(E["haxe.exceptions.NotImplementedException"]=se).__name__="haxe.exceptions.NotImplementedException",se.__super__=re,se.prototype=$extend(re.prototype,{__class__:se}),(E["haxe.io.BytesBuffer"]=te).__name__="haxe.io.BytesBuffer",te.prototype={buffer:null,view:null,u8:null,pos:null,size:null,addByte:function(e){this.pos==this.size&&this.grow(1),this.view.setUint8(this.pos++,e)},addBytes:function(e,n,t){if(n<0||t<0||n+t>e.length)throw $.thrown(Ql.OutsideBounds);this.pos+t>this.size&&this.grow(t),0!=this.size&&(e=new Uint8Array(e.b.buffer,e.b.byteOffset+n,t),this.u8.set(e,this.pos),this.pos+=t)},grow:function(e){for(var n=this.pos+e,t=0==this.size?16:this.size;t<n;)t=3*t>>1;var e=new ArrayBuffer(t),i=new Uint8Array(e);0<this.size&&i.set(this.u8),this.size=t,this.buffer=e,this.u8=i,this.view=new DataView(this.buffer)},getBytes:function(){var e;return 0==this.size?new Pl(new ArrayBuffer(0)):((e=new Pl(this.buffer)).length=this.pos,e)},__class__:te},(E["haxe.io.Input"]=ue).__name__="haxe.io.Input",ue.prototype={bigEndian:null,readByte:function(){throw new se(null,null,{fileName:"haxe/io/Input.hx",lineNumber:53,className:"haxe.io.Input",methodName:"readByte"})},readBytes:function(e,n,t){var i=t,l=e.b;if(n<0||t<0||n+t>e.length)throw $.thrown(Ql.OutsideBounds);try{for(;0<i;)l[n]=this.readByte(),++n,--i}catch(e){if(Sl.lastError=e,!($.caught(e).unwrap()instanceof $l))throw e}return t-i},set_bigEndian:function(e){return this.bigEndian=e},readAll:function(e){null==e&&(e=16384);var n=new Pl(new ArrayBuffer(e)),t=new te;try{for(;;){var i=this.readBytes(n,0,e);if(0==i)throw $.thrown(Ql.Blocked);t.addBytes(n,0,i)}}catch(e){if(Sl.lastError=e,!($.caught(e).unwrap()instanceof $l))throw e}return t.getBytes()},read:function(e){for(var n=new Pl(new ArrayBuffer(e)),t=0;0<e;){var i=this.readBytes(n,t,e);if(0==i)throw $.thrown(Ql.Blocked);t+=i,e-=i}return n},readUntil:function(e){for(var n,t=new te;(n=this.readByte())!=e;)t.addByte(n);return t.getBytes().toString()},readUInt16:function(){var e=this.readByte(),n=this.readByte();return this.bigEndian?n|e<<8:e|n<<8},readInt32:function(){var e=this.readByte(),n=this.readByte(),t=this.readByte(),i=this.readByte();return this.bigEndian?i|t<<8|n<<16|e<<24:e|n<<8|t<<16|i<<24},__class__:ue,__properties__:{set_bigEndian:"set_bigEndian"}},function(e,n,t){if(null==n&&(n=0),null==t&&(t=e.length-n),n<0||t<0||n+t>e.length)throw $.thrown(Ql.OutsideBounds);this.b=e.b,this.pos=n,this.len=t,this.totlen=t}),jl=((E["haxe.io.BytesInput"]=Kl).__name__="haxe.io.BytesInput",Kl.__super__=ue,Kl.prototype=$extend(ue.prototype,{b:null,pos:null,len:null,totlen:null,readByte:function(){if(0==this.len)throw $.thrown(new $l);return this.len--,this.b[this.pos++]},readBytes:function(e,n,t){if(n<0||t<0||n+t>e.length)throw $.thrown(Ql.OutsideBounds);if(0==this.len&&0<t)throw $.thrown(new $l);this.len<t&&(t=this.len);for(var i=this.b,l=e.b,s=0,r=t;s<r;){var h=s++;l[n+h]=i[this.pos+h]}return this.pos+=t,this.len-=t,t},__class__:Kl}),(E["haxe.io.Output"]=we).__name__="haxe.io.Output",we.prototype={writeByte:function(e){throw new se(null,null,{fileName:"haxe/io/Output.hx",lineNumber:47,className:"haxe.io.Output",methodName:"writeByte"})},writeBytes:function(e,n,t){if(n<0||t<0||n+t>e.length)throw $.thrown(Ql.OutsideBounds);for(var i=e.b,l=t;0<l;)this.writeByte(i[n]),++n,--l;return t},writeFullBytes:function(e,n,t){for(;0<t;){var i=this.writeBytes(e,n,t);n+=i,t-=i}},__class__:we},function(){this.b=new te}),$l=((E["haxe.io.BytesOutput"]=jl).__name__="haxe.io.BytesOutput",jl.__super__=we,jl.prototype=$extend(we.prototype,{b:null,writeByte:function(e){this.b.addByte(e)},writeBytes:function(e,n,t){return this.b.addBytes(e,n,t),t},getBytes:function(){return this.b.getBytes()},__class__:jl}),function(){}),Ql=((E["haxe.io.Eof"]=$l).__name__="haxe.io.Eof",$l.prototype={toString:function(){return"Eof"},__class__:$l},_e["haxe.io.Error"]={__ename__:"haxe.io.Error",__constructs__:null,Blocked:{_hx_name:"Blocked",_hx_index:0,__enum__:"haxe.io.Error",toString:c},Overflow:{_hx_name:"Overflow",_hx_index:1,__enum__:"haxe.io.Error",toString:c},OutsideBounds:{_hx_name:"OutsideBounds",_hx_index:2,__enum__:"haxe.io.Error",toString:c},Custom:((b=function(e){return{_hx_index:3,e:e,__enum__:"haxe.io.Error",toString:c}})._hx_name="Custom",b.__params__=["e"],b)}),ql=(Ql.__constructs__=[Ql.Blocked,Ql.Overflow,Ql.OutsideBounds,Ql.Custom],function(e){switch(e){case".":case"..":return this.dir=e,void(this.file="")}var n=e.lastIndexOf("/"),t=e.lastIndexOf("\\"),t=(n<t?(this.dir=he.substr(e,0,t),e=he.substr(e,t+1,null),this.backslash=!0):t<n?(this.dir=he.substr(e,0,n),e=he.substr(e,n+1,null)):this.dir=null,e.lastIndexOf("."));-1!=t?(this.ext=he.substr(e,t+1,null),this.file=he.substr(e,0,t)):(this.ext=null,this.file=e)}),Zl=((E["haxe.io.Path"]=ql).__name__="haxe.io.Path",ql.directory=function(e){e=new ql(e);return null==e.dir?"":e.dir},ql.join=function(e){for(var n=[],t=0,i=e;t<i.length;){var l=i[t];++t,null!=l&&""!=l&&n.push(l)}if(0==(e=n).length)return"";for(var s=e[0],n=1,t=e.length;n<t;){var r=n++,s=ql.addTrailingSlash(s);s+=e[r]}return ql.normalize(s)},ql.normalize=function(e){if("/"==(e=e.split("\\").join("/")))return"/";for(var n=[],t=0,i=e.split("/");t<i.length;){var l=i[t];++t,".."==l&&0<n.length&&".."!=n[n.length-1]?n.pop():""==l?(0<n.length||47==he.cca(e,0))&&n.push(l):"."!=l&&n.push(l)}for(var s="",r=!1,h=!1,a=0,o=n.join("/");a<o.length;){var c=o,u=a++,_=c.charCodeAt(u),d=(_=55296<=_&&_<=56319?_-55232<<10|1023&c.charCodeAt(1+u):_,65536<=_&&++a,_);switch(d){case 47:r?(r=!1,h&&(s+="/",h=!1),s+=String.fromCodePoint(d)):h=!0;break;case 58:s+=":",r=!0;break;default:r=!1,h&&(s+="/",h=!1),s+=String.fromCodePoint(d)}}return s},ql.addTrailingSlash=function(e){var n,t;return 0==e.length?"/":(n=e.lastIndexOf("/"))<(t=e.lastIndexOf("\\"))?t!=e.length-1?e+"\\":e:n!=e.length-1?e+"/":e},ql.prototype={dir:null,file:null,ext:null,backslash:null,__class__:ql},function(e){Kl.call(this,Pl.ofString(e))}),Jl=((E["haxe.io.StringInput"]=Zl).__name__="haxe.io.StringInput",Zl.__super__=Kl,Zl.prototype=$extend(Kl.prototype,{__class__:Zl}),function(e){this.current=0,this.array=e}),es=((E["haxe.iterators.ArrayIterator"]=Jl).__name__="haxe.iterators.ArrayIterator",Jl.prototype={array:null,current:null,hasNext:function(){return this.current<this.array.length},next:function(){return this.array[this.current++]},__class__:Jl},function(e){this.map=e,this.keys=e.keys()}),ns=((E["haxe.iterators.MapKeyValueIterator"]=es).__name__="haxe.iterators.MapKeyValueIterator",es.prototype={map:null,keys:null,hasNext:function(){return this.keys.hasNext()},next:function(){var e=this.keys.next();return{value:this.map.get(e),key:e}},__class__:es},_e["haxe.rtti.CType"]={__ename__:"haxe.rtti.CType",__constructs__:null,CUnknown:{_hx_name:"CUnknown",_hx_index:0,__enum__:"haxe.rtti.CType",toString:c},CEnum:((b=function(e,n){return{_hx_index:1,name:e,params:n,__enum__:"haxe.rtti.CType",toString:c}})._hx_name="CEnum",b.__params__=["name","params"],b),CClass:((b=function(e,n){return{_hx_index:2,name:e,params:n,__enum__:"haxe.rtti.CType",toString:c}})._hx_name="CClass",b.__params__=["name","params"],b),CTypedef:((b=function(e,n){return{_hx_index:3,name:e,params:n,__enum__:"haxe.rtti.CType",toString:c}})._hx_name="CTypedef",b.__params__=["name","params"],b),CFunction:((b=function(e,n){return{_hx_index:4,args:e,ret:n,__enum__:"haxe.rtti.CType",toString:c}})._hx_name="CFunction",b.__params__=["args","ret"],b),CAnonymous:((b=function(e){return{_hx_index:5,fields:e,__enum__:"haxe.rtti.CType",toString:c}})._hx_name="CAnonymous",b.__params__=["fields"],b),CDynamic:((b=function(e){return{_hx_index:6,t:e,__enum__:"haxe.rtti.CType",toString:c}})._hx_name="CDynamic",b.__params__=["t"],b),CAbstract:((b=function(e,n){return{_hx_index:7,name:e,params:n,__enum__:"haxe.rtti.CType",toString:c}})._hx_name="CAbstract",b.__params__=["name","params"],b)}),ts=(ns.__constructs__=[ns.CUnknown,ns.CEnum,ns.CClass,ns.CTypedef,ns.CFunction,ns.CAnonymous,ns.CDynamic,ns.CAbstract],_e["haxe.rtti.Rights"]={__ename__:"haxe.rtti.Rights",__constructs__:null,RNormal:{_hx_name:"RNormal",_hx_index:0,__enum__:"haxe.rtti.Rights",toString:c},RNo:{_hx_name:"RNo",_hx_index:1,__enum__:"haxe.rtti.Rights",toString:c},RCall:((b=function(e){return{_hx_index:2,m:e,__enum__:"haxe.rtti.Rights",toString:c}})._hx_name="RCall",b.__params__=["m"],b),RMethod:{_hx_name:"RMethod",_hx_index:3,__enum__:"haxe.rtti.Rights",toString:c},RDynamic:{_hx_name:"RDynamic",_hx_index:4,__enum__:"haxe.rtti.Rights",toString:c},RInline:{_hx_name:"RInline",_hx_index:5,__enum__:"haxe.rtti.Rights",toString:c}}),is=(ts.__constructs__=[ts.RNormal,ts.RNo,ts.RCall,ts.RMethod,ts.RDynamic,ts.RInline],_e["haxe.rtti.TypeTree"]={__ename__:"haxe.rtti.TypeTree",__constructs__:null,TPackage:((b=function(e,n,t){return{_hx_index:0,name:e,full:n,subs:t,__enum__:"haxe.rtti.TypeTree",toString:c}})._hx_name="TPackage",b.__params__=["name","full","subs"],b),TClassdecl:((b=function(e){return{_hx_index:1,c:e,__enum__:"haxe.rtti.TypeTree",toString:c}})._hx_name="TClassdecl",b.__params__=["c"],b),TEnumdecl:((b=function(e){return{_hx_index:2,e:e,__enum__:"haxe.rtti.TypeTree",toString:c}})._hx_name="TEnumdecl",b.__params__=["e"],b),TTypedecl:((b=function(e){return{_hx_index:3,t:e,__enum__:"haxe.rtti.TypeTree",toString:c}})._hx_name="TTypedecl",b.__params__=["t"],b),TAbstractdecl:((b=function(e){return{_hx_index:4,a:e,__enum__:"haxe.rtti.TypeTree",toString:c}})._hx_name="TAbstractdecl",b.__params__=["a"],b)}),ls=(is.__constructs__=[is.TPackage,is.TClassdecl,is.TEnumdecl,is.TTypedecl,is.TAbstractdecl],function(){}),ss=((E["haxe.rtti.Meta"]=ls).__name__="haxe.rtti.Meta",ls.getMeta=function(e){return e.__meta__},ls.getFields=function(e){e=ls.getMeta(e);return null==e||null==e.fields?{}:e.fields},function(){}),rs=((E["haxe.rtti.Rtti"]=ss).__name__="haxe.rtti.Rtti",ss.getRtti=function(e){var n=L.field(e,"__rtti");if(null==n)throw $.thrown("Class "+e.__name__+" has no RTTI information, consider adding @:rtti");n=D.parse(n).firstElement(),n=(new rs).processElement(n);if(1==n._hx_index)return e=n.c;throw $.thrown("Enum mismatch: expected TClassDecl but found "+K.string(n))},function(){this.root=[]}),hs=((E["haxe.rtti.XmlParser"]=rs).__name__="haxe.rtti.XmlParser",rs.prototype={root:null,curplatform:null,mkPath:function(e){return e},mkTypeParams:function(e){e=e.split(":");return""==e[0]?[]:e},mkRights:function(e){switch(e){case"dynamic":return ts.RDynamic;case"inline":return ts.RInline;case"method":return ts.RMethod;case"null":return ts.RNo;default:return ts.RCall(e)}},xerror:function(e){var n;if(e.nodeType==D.Document)n="Document";else{if(e.nodeType!=D.Element)throw $.thrown("Bad node type, expected Element but found "+(null==e.nodeType?"null":ge.toString(e.nodeType)));n=e.nodeName}throw $.thrown("Invalid "+n)},processElement:function(e){if(e.nodeType!=D.Document&&e.nodeType!=D.Element)throw $.thrown("Invalid nodeType "+(null==e.nodeType?"null":ge.toString(e.nodeType)));var n,t=e;if(t.nodeType==D.Document)n="Document";else{if(t.nodeType!=D.Element)throw $.thrown("Bad node type, expected Element but found "+(null==t.nodeType?"null":ge.toString(t.nodeType)));n=t.nodeName}switch(n){case"abstract":return is.TAbstractdecl(this.xabstract(t));case"class":return is.TClassdecl(this.xclass(t));case"enum":return is.TEnumdecl(this.xenum(t));case"typedef":return is.TTypedecl(this.xtypedef(t));default:return this.xerror(t)}},xmeta:function(e){for(var n=[],t=0,i=os.resolve(e,"m");t<i.length;){for(var l=i[t],s=(++t,[]),r=0,h=os.resolve(l,"e");r<h.length;){var a=h[r];++r,s.push(cs.get_innerHTML(a))}n.push({name:ie.resolve(l,"n"),params:s})}return n},xoverloads:function(e){for(var n=[],t=e.elements();t.hasNext();){var i=t.next();n.push(this.xclassfield(i))}return n},xpath:function(e){for(var n=this.mkPath(ie.resolve(e,"path")),t=[],i=e.elements();i.hasNext();){var l=i.next();t.push(this.xtype(l))}return{path:n,params:t}},xclass:function(e){for(var n=null,t=null,i=null,l=[],s=[],r=[],h=[],a=e.exists("interface"),o=e.elements();o.hasNext();){var c,u=o.next();if(u.nodeType==D.Document)c="Document";else{if(u.nodeType!=D.Element)throw $.thrown("Bad node type, expected Element but found "+(null==u.nodeType?"null":ge.toString(u.nodeType)));c=u.nodeName}switch(c){case"extends":a?l.push(this.xpath(u)):n=this.xpath(u);break;case"haxe_doc":t=cs.get_innerData(u);break;case"haxe_dynamic":var _=u.firstElement();if(_.nodeType!=D.Document&&_.nodeType!=D.Element)throw $.thrown("Invalid nodeType "+(null==_.nodeType?"null":ge.toString(_.nodeType)));i=this.xtype(_);break;case"implements":l.push(this.xpath(u));break;case"meta":h=this.xmeta(u);break;default:(u.exists("static")?r:s).push(this.xclassfield(u))}}return{file:le.resolve(e,"file")?ie.resolve(e,"file"):null,path:this.mkPath(ie.resolve(e,"path")),module:le.resolve(e,"module")?this.mkPath(ie.resolve(e,"module")):null,doc:t,isPrivate:e.exists("private"),isExtern:e.exists("extern"),isFinal:e.exists("final"),isInterface:a,params:this.mkTypeParams(ie.resolve(e,"params")),superClass:n,interfaces:l,fields:s,statics:r,tdynamic:i,platforms:this.defplat(),meta:h}},xclassfield:function(e,n){null==n&&(n=!1);for(var t,i=e.elements(),l=this.xtype(i.next()),s=null,r=[],h=null,a=i;a.hasNext();){var o,c=a.next();if(c.nodeType==D.Document)o="Document";else{if(c.nodeType!=D.Element)throw $.thrown("Bad node type, expected Element but found "+(null==c.nodeType?"null":ge.toString(c.nodeType)));o=c.nodeName}switch(o){case"haxe_doc":s=cs.get_innerData(c);break;case"meta":r=this.xmeta(c);break;case"overloads":h=this.xoverloads(c);break;default:this.xerror(c)}}if(e.nodeType==D.Document)t="Document";else{if(e.nodeType!=D.Element)throw $.thrown("Bad node type, expected Element but found "+(null==e.nodeType?"null":ge.toString(e.nodeType)));t=e.nodeName}return{name:t,type:l,isPublic:e.exists("public")||n,isFinal:e.exists("final"),isOverride:e.exists("override"),line:le.resolve(e,"line")?K.parseInt(ie.resolve(e,"line")):null,doc:s,get:le.resolve(e,"get")?this.mkRights(ie.resolve(e,"get")):ts.RNormal,set:le.resolve(e,"set")?this.mkRights(ie.resolve(e,"set")):ts.RNormal,params:le.resolve(e,"params")?this.mkTypeParams(ie.resolve(e,"params")):[],platforms:this.defplat(),meta:r,overloads:h,expr:le.resolve(e,"expr")?ie.resolve(e,"expr"):null}},xenum:function(e){for(var n=[],t=null,i=[],l=e.elements();l.hasNext();){var s,r,h=l.next();if(h.nodeType==D.Document)s="Document";else{if(h.nodeType!=D.Element)throw $.thrown("Bad node type, expected Element but found "+(null==h.nodeType?"null":ge.toString(h.nodeType)));s=h.nodeName}if("haxe_doc"==s)t=cs.get_innerData(h);else{if(h.nodeType==D.Document)r="Document";else{if(h.nodeType!=D.Element)throw $.thrown("Bad node type, expected Element but found "+(null==h.nodeType?"null":ge.toString(h.nodeType)));r=h.nodeName}"meta"==r?i=this.xmeta(h):n.push(this.xenumfield(h))}}return{file:le.resolve(e,"file")?ie.resolve(e,"file"):null,path:this.mkPath(ie.resolve(e,"path")),module:le.resolve(e,"module")?this.mkPath(ie.resolve(e,"module")):null,doc:t,isPrivate:e.exists("private"),isExtern:e.exists("extern"),params:this.mkTypeParams(ie.resolve(e,"params")),constructors:n,platforms:this.defplat(),meta:i}},xenumfield:function(e){var n,t,i=null,l=e.elementsNamed("haxe_doc"),l=l.hasNext()?l.next():null,s=as.resolve(e,"meta")?this.xmeta(hs.resolve(e,"meta")):[];if(le.resolve(e,"a"))for(var r=ie.resolve(e,"a").split(":"),h=e.elements(),i=[],a=0;a<r.length;){var o=r[a],c=(++a,!1);"?"==o.charAt(0)&&(c=!0,o=he.substr(o,1,null)),i.push({name:o,opt:c,t:this.xtype(h.next())})}if(e.nodeType==D.Document)n="Document";else{if(e.nodeType!=D.Element)throw $.thrown("Bad node type, expected Element but found "+(null==e.nodeType?"null":ge.toString(e.nodeType)));n=e.nodeName}if(null==l)t=null;else{if(l.nodeType!=D.Document&&l.nodeType!=D.Element)throw $.thrown("Invalid nodeType "+(null==l.nodeType?"null":ge.toString(l.nodeType)));t=cs.get_innerData(l)}return{name:n,args:i,doc:t,meta:s,platforms:this.defplat()}},xabstract:function(e){for(var n=null,t=null,i=null,l=[],s=[],r=[],h=e.elements();h.hasNext();){var a,o=h.next();if(o.nodeType==D.Document)a="Document";else{if(o.nodeType!=D.Element)throw $.thrown("Bad node type, expected Element but found "+(null==o.nodeType?"null":ge.toString(o.nodeType)));a=o.nodeName}switch(a){case"from":for(var c=o.elements();c.hasNext();){var u=c.next(),_=u.firstElement();if(_.nodeType!=D.Document&&_.nodeType!=D.Element)throw $.thrown("Invalid nodeType "+(null==_.nodeType?"null":ge.toString(_.nodeType)));r.push({t:this.xtype(_),field:le.resolve(u,"field")?ie.resolve(u,"field"):null})}break;case"haxe_doc":n=cs.get_innerData(o);break;case"impl":t=this.xclass(hs.resolve(o,"class"));break;case"meta":l=this.xmeta(o);break;case"this":var d=o.firstElement();if(d.nodeType!=D.Document&&d.nodeType!=D.Element)throw $.thrown("Invalid nodeType "+(null==d.nodeType?"null":ge.toString(d.nodeType)));i=this.xtype(d);break;case"to":for(var b=o.elements();b.hasNext();){var g=b.next(),O=g.firstElement();if(O.nodeType!=D.Document&&O.nodeType!=D.Element)throw $.thrown("Invalid nodeType "+(null==O.nodeType?"null":ge.toString(O.nodeType)));s.push({t:this.xtype(O),field:le.resolve(g,"field")?ie.resolve(g,"field"):null})}break;default:this.xerror(o)}}return{file:le.resolve(e,"file")?ie.resolve(e,"file"):null,path:this.mkPath(ie.resolve(e,"path")),module:le.resolve(e,"module")?this.mkPath(ie.resolve(e,"module")):null,doc:n,isPrivate:e.exists("private"),params:this.mkTypeParams(ie.resolve(e,"params")),platforms:this.defplat(),meta:l,athis:i,to:s,from:r,impl:t}},xtypedef:function(e){for(var n=null,t=null,i=[],l=e.elements();l.hasNext();){var s,r,h=l.next();if(h.nodeType==D.Document)s="Document";else{if(h.nodeType!=D.Element)throw $.thrown("Bad node type, expected Element but found "+(null==h.nodeType?"null":ge.toString(h.nodeType)));s=h.nodeName}if("haxe_doc"==s)n=cs.get_innerData(h);else{if(h.nodeType==D.Document)r="Document";else{if(h.nodeType!=D.Element)throw $.thrown("Bad node type, expected Element but found "+(null==h.nodeType?"null":ge.toString(h.nodeType)));r=h.nodeName}"meta"==r?i=this.xmeta(h):t=this.xtype(h)}}var a=new Nl;return null!=this.curplatform&&(a.h[this.curplatform]=t),{file:le.resolve(e,"file")?ie.resolve(e,"file"):null,path:this.mkPath(ie.resolve(e,"path")),module:le.resolve(e,"module")?this.mkPath(ie.resolve(e,"module")):null,doc:n,isPrivate:e.exists("private"),params:this.mkTypeParams(ie.resolve(e,"params")),type:t,types:a,platforms:this.defplat(),meta:i}},xtype:function(e){var n;if(e.nodeType==D.Document)n="Document";else{if(e.nodeType!=D.Element)throw $.thrown("Bad node type, expected Element but found "+(null==e.nodeType?"null":ge.toString(e.nodeType)));n=e.nodeName}switch(n){case"a":for(var t=[],i=e.elements();i.hasNext();){var l=i.next(),l=this.xclassfield(l,!0);l.platforms=[],t.push(l)}return ns.CAnonymous(t);case"c":return ns.CClass(this.mkPath(ie.resolve(e,"path")),this.xtypeparams(e));case"d":var s=null,r=e.firstElement();if(null!=r){if(r.nodeType!=D.Document&&r.nodeType!=D.Element)throw $.thrown("Invalid nodeType "+(null==r.nodeType?"null":ge.toString(r.nodeType)));s=this.xtype(r)}return ns.CDynamic(s);case"e":return ns.CEnum(this.mkPath(ie.resolve(e,"path")),this.xtypeparams(e));case"f":for(var h=[],a=0,o=ie.resolve(e,"a").split(":"),c=le.resolve(e,"v")?new Jl(ie.resolve(e,"v").split(":")):null,u=e.elements();u.hasNext();){var _=u.next(),d=!1,b=a<o.length?o[a++]:null,g=("?"==(b=null==b?"":b).charAt(0)&&(d=!0,b=he.substr(b,1,null)),null==c||c.current>=c.array.length?null:c.array[c.current++]);h.push({name:b,opt:d,t:this.xtype(_),value:""==g?null:g})}r=h[h.length-1];return he.remove(h,r),ns.CFunction(h,r.t);case"t":return ns.CTypedef(this.mkPath(ie.resolve(e,"path")),this.xtypeparams(e));case"unknown":return ns.CUnknown;case"x":return ns.CAbstract(this.mkPath(ie.resolve(e,"path")),this.xtypeparams(e));default:return this.xerror(e)}},xtypeparams:function(e){for(var n=[],t=e.elements();t.hasNext();){var i=t.next();n.push(this.xtype(i))}return n},defplat:function(){var e=[];return null!=this.curplatform&&e.push(this.curplatform),e},__class__:rs},{}),ie=(hs.resolve=function(e,n){var t,i=e.elementsNamed(n).next();if(null==i){if(e.nodeType==D.Document)t="Document";else{if(e.nodeType!=D.Element)throw $.thrown("Bad node type, expected Element but found "+(null==e.nodeType?"null":ge.toString(e.nodeType)));t=e.nodeName}throw $.thrown(t+" is missing element "+n)}if(i.nodeType!=D.Document&&i.nodeType!=D.Element)throw $.thrown("Invalid nodeType "+(null==i.nodeType?"null":ge.toString(i.nodeType)));return i},{}),le=(ie.resolve=function(e,n){if(e.nodeType==D.Document)throw $.thrown("Cannot access document attribute "+n);var t=e.get(n);if(null!=t)return t;if(e.nodeType!=D.Element)throw $.thrown("Bad node type, expected Element but found "+(null==e.nodeType?"null":ge.toString(e.nodeType)));throw $.thrown(e.nodeName+" is missing attribute "+n)},{}),as=(le.resolve=function(e,n){if(e.nodeType==D.Document)throw $.thrown("Cannot access document attribute "+n);return e.exists(n)},{}),os=(as.resolve=function(e,n){return e.elementsNamed(n).hasNext()},{}),cs=(os.resolve=function(e,n){for(var t=[],i=e.elementsNamed(n);i.hasNext();){var l=i.next();if(l.nodeType!=D.Document&&l.nodeType!=D.Element)throw $.thrown("Invalid nodeType "+(null==l.nodeType?"null":ge.toString(l.nodeType)));t.push(l)}return t},{}),us=(cs.__properties__={get_innerHTML:"get_innerHTML",get_innerData:"get_innerData"},cs.get_innerData=function(e){if(e.nodeType!=D.Document&&e.nodeType!=D.Element)throw $.thrown("Bad node type, expected Element or Document but found "+(null==e.nodeType?"null":ge.toString(e.nodeType)));var n=0,t=e.children;if(t.length<=0){if(e.nodeType==D.Document)s="Document";else{if(e.nodeType!=D.Element)throw $.thrown("Bad node type, expected Element but found "+(null==e.nodeType?"null":ge.toString(e.nodeType)));s=e.nodeName}throw $.thrown(s+" does not have data")}var i=t[n++];if(1<t.length){var l=t[n++];if(i.nodeType==D.PCData&&l.nodeType==D.CData){if(i.nodeType==D.Document||i.nodeType==D.Element)throw $.thrown("Bad node type, unexpected "+(null==i.nodeType?"null":ge.toString(i.nodeType)));s=""==z.trim(i.nodeValue)}else s=!1;if(s){if(t.length<=2){if(l.nodeType==D.Document||l.nodeType==D.Element)throw $.thrown("Bad node type, unexpected "+(null==l.nodeType?"null":ge.toString(l.nodeType)));return l.nodeValue}var s,n=t[+n];if(n.nodeType==D.PCData){if(n.nodeType==D.Document||n.nodeType==D.Element)throw $.thrown("Bad node type, unexpected "+(null==n.nodeType?"null":ge.toString(n.nodeType)));s=""==z.trim(n.nodeValue)}else s=!1;if(s&&t.length<=3){if(l.nodeType==D.Document||l.nodeType==D.Element)throw $.thrown("Bad node type, unexpected "+(null==l.nodeType?"null":ge.toString(l.nodeType)));return l.nodeValue}}if(e.nodeType==D.Document)s="Document";else{if(e.nodeType!=D.Element)throw $.thrown("Bad node type, expected Element but found "+(null==e.nodeType?"null":ge.toString(e.nodeType)));s=e.nodeName}throw $.thrown(s+" does not only have data")}if(i.nodeType!=D.PCData&&i.nodeType!=D.CData){if(e.nodeType==D.Document)s="Document";else{if(e.nodeType!=D.Element)throw $.thrown("Bad node type, expected Element but found "+(null==e.nodeType?"null":ge.toString(e.nodeType)));s=e.nodeName}throw $.thrown(s+" does not have data")}if(i.nodeType==D.Document||i.nodeType==D.Element)throw $.thrown("Bad node type, unexpected "+(null==i.nodeType?"null":ge.toString(i.nodeType)));return i.nodeValue},cs.get_innerHTML=function(e){var n="";if(e.nodeType!=D.Document&&e.nodeType!=D.Element)throw $.thrown("Bad node type, expected Element or Document but found "+(null==e.nodeType?"null":ge.toString(e.nodeType)));for(var t=0,i=e.children;t<i.length;){var l=i[t++];n+=K.string(_s.print(l))}return n},(E["haxe.xml.XmlParserException"]=Qe).__name__="haxe.xml.XmlParserException",Qe.prototype={message:null,lineNumber:null,positionAtLine:null,position:null,xml:null,toString:function(){return Os.getClass(this).__name__+": "+this.message+" at line "+this.lineNumber+" char "+this.positionAtLine},__class__:Qe},function(){}),_s=((E["haxe.xml.Parser"]=us).__name__="haxe.xml.Parser",us.parse=function(e,n){null==n&&(n=!1);var t=D.createDocument();return us.doParse(e,n,0,t),t},us.doParse=function(e,n,t,i){null==t&&(t=0);for(var l=null,s=1,r=1,h=null,a=0,o=0,c=0,u=new y,_=1,d=-1;t<e.length;){var b,g,O,f,p=e.charCodeAt(t);switch(s){case 0:switch(p){case 9:case 10:case 13:case 32:break;default:s=r;continue}break;case 1:if(60!=p){a=t,s=13;continue}s=0,r=2;break;case 2:switch(p){case 33:if(91==e.charCodeAt(t+1)){if(t+=2,"CDATA["!=he.substr(e,t,6).toUpperCase())throw $.thrown(new Qe("Expected <![CDATA[",e,t));s=17,a=(t+=5)+1}else if(68==e.charCodeAt(t+1)||100==e.charCodeAt(t+1)){if("OCTYPE"!=he.substr(e,t+2,6).toUpperCase())throw $.thrown(new Qe("Expected <!DOCTYPE",e,t));s=16,a=(t+=8)+1}else{if(45!=e.charCodeAt(t+1)||45!=e.charCodeAt(t+2))throw $.thrown(new Qe("Expected \x3c!--",e,t));s=15,a=(t+=2)+1}break;case 47:if(null==i)throw $.thrown(new Qe("Expected node name",e,t));a=t+1,s=0,r=10;break;case 63:s=14,a=t;break;default:s=3,a=t;continue}break;case 3:if(97<=p&&p<=122||65<=p&&p<=90||48<=p&&p<=57||58==p||46==p||95==p||45==p)break;if(t==a)throw $.thrown(new Qe("Expected node name",e,t));l=D.createElement(he.substr(e,a,t-a)),i.addChild(l),++o,s=0,r=4;continue;case 4:switch(p){case 47:s=11;break;case 62:s=9;break;default:s=5,a=t;continue}break;case 5:if(97<=p&&p<=122||65<=p&&p<=90||48<=p&&p<=57||58==p||46==p||95==p||45==p)break;if(a==t)throw $.thrown(new Qe("Expected attribute name",e,t));h=he.substr(e,a,t-a);if(l.exists(h))throw $.thrown(new Qe("Duplicate attribute ["+h+"]",e,t));s=0,r=6;continue;case 6:if(61!=p)throw $.thrown(new Qe("Expected =",e,t));s=0,r=7;break;case 7:switch(p){case 34:case 39:u=new y,s=8,a=t+1,d=p;break;default:throw $.thrown(new Qe('Expected "',e,t))}break;case 8:switch(p){case 38:var C=t-a;u.b+=null==C?he.substr(e,a,null):he.substr(e,a,C),s=18,_=8,a=t+1;break;case 60:case 62:if(n)throw $.thrown(new Qe("Invalid unescaped "+String.fromCodePoint(p)+" in attribute value",e,t));p==d&&(u.b+=null==(b=t-a)?he.substr(e,a,null):he.substr(e,a,b),b=u.b,u=new y,l.set(h,b),s=0,r=4);break;default:p==d&&(u.b+=null==(b=t-a)?he.substr(e,a,null):he.substr(e,a,b),g=u.b,u=new y,l.set(h,g),s=0,r=4)}break;case 9:a=t=us.doParse(e,n,t,l),s=1;break;case 10:if(97<=p&&p<=122||65<=p&&p<=90||48<=p&&p<=57||58==p||46==p||95==p||45==p)break;if(a==t)throw $.thrown(new Qe("Expected node name",e,t));var v=he.substr(e,a,t-a);if(null==i||0!=i.nodeType)throw $.thrown(new Qe("Unexpected </"+v+">, tag is not open",e,t));if(i.nodeType!=D.Element)throw $.thrown("Bad node type, expected Element but found "+(null==i.nodeType?"null":ge.toString(i.nodeType)));if(v!=i.nodeName){if(i.nodeType!=D.Element)throw $.thrown("Bad node type, expected Element but found "+(null==i.nodeType?"null":ge.toString(i.nodeType)));throw $.thrown(new Qe("Expected </"+i.nodeName+">",e,t))}s=0,r=12;continue;case 11:if(62!=p)throw $.thrown(new Qe("Expected >",e,t));s=1;break;case 12:if(62==p)return 0==o&&i.addChild(D.createPCData("")),t;throw $.thrown(new Qe("Expected >",e,t));case 13:60==p?(u.b+=null==(v=t-a)?he.substr(e,a,null):he.substr(e,a,v),O=D.createPCData(u.b),u=new y,i.addChild(O),++o,s=0,r=2):38==p&&(u.b+=null==(O=t-a)?he.substr(e,a,null):he.substr(e,a,O),s=18,_=13,a=t+1);break;case 14:63==p&&62==e.charCodeAt(t+1)&&(++t,f=he.substr(e,a+1,t-a-2),i.addChild(D.createProcessingInstruction(f)),++o,s=1);break;case 15:45==p&&45==e.charCodeAt(t+1)&&62==e.charCodeAt(t+2)&&(i.addChild(D.createComment(he.substr(e,a,t-a))),++o,t+=2,s=1);break;case 16:91==p?++c:93==p?--c:62==p&&0==c&&(i.addChild(D.createDocType(he.substr(e,a,t-a))),++o,s=1);break;case 17:93==p&&93==e.charCodeAt(t+1)&&62==e.charCodeAt(t+2)&&(f=D.createCData(he.substr(e,a,t-a)),i.addChild(f),++o,t+=2,s=1);break;case 18:if(59==p){var w=he.substr(e,a,t-a);if(35==w.charCodeAt(0)){var m=120==w.charCodeAt(1)?K.parseInt("0"+he.substr(w,1,w.length-1)):K.parseInt(he.substr(w,1,w.length-1));u.b+=String.fromCodePoint(m)}else if(Object.prototype.hasOwnProperty.call(us.escapes.h,w))u.b+=K.string(us.escapes.h[w]);else{if(n)throw $.thrown(new Qe("Undefined entity: "+w,e,t));u.b+=K.string("&"+w+";")}a=t+1,s=_}else if(!(97<=p&&p<=122||65<=p&&p<=90||48<=p&&p<=57||58==p||46==p||95==p||45==p)&&35!=p){if(n)throw $.thrown(new Qe("Invalid character in entity: "+String.fromCodePoint(p),e,t));u.b+=String.fromCodePoint(38);m=t-a;u.b+=null==m?he.substr(e,a,null):he.substr(e,a,m),a=--t+1,s=_}}++t}if(1==s&&(a=t,s=13),13==s){if(0==i.nodeType){if(i.nodeType!=D.Element)throw $.thrown("Bad node type, expected Element but found "+(null==i.nodeType?"null":ge.toString(i.nodeType)));throw $.thrown(new Qe("Unclosed node <"+i.nodeName+">",e,t))}t==a&&0!=o||(u.b+=null==(C=t-a)?he.substr(e,a,null):he.substr(e,a,C),i.addChild(D.createPCData(u.b)),++o)}else{if(n||18!=s||13!=_)throw $.thrown(new Qe("Unexpected end",e,t));u.b+=String.fromCodePoint(38),u.b+=null==(C=t-a)?he.substr(e,a,null):he.substr(e,a,C),i.addChild(D.createPCData(u.b)),++o}return t},function(e){this.output=new y,this.pretty=e}),ds=((E["haxe.xml.Printer"]=_s).__name__="haxe.xml.Printer",_s.print=function(e,n){n=new _s(n=null==n?!1:n);return n.writeNode(e,""),n.output.b},_s.prototype={output:null,pretty:null,writeNode:function(e,n){switch(e.nodeType){case 0:if(this.output.b+=K.string(n+"<"),e.nodeType!=D.Element)throw $.thrown("Bad node type, expected Element but found "+(null==e.nodeType?"null":ge.toString(e.nodeType)));this.output.b+=K.string(e.nodeName);for(var t=e.attributes();t.hasNext();){var i=t.next(),l=(this.output.b+=K.string(" "+i+'="'),z.htmlEscape(e.get(i),!0));this.output.b+=K.string(l),this.output.b+='"'}if(this.hasChildren(e)){if(this.output.b+=">",this.pretty&&(this.output.b+="\n"),e.nodeType!=D.Document&&e.nodeType!=D.Element)throw $.thrown("Bad node type, expected Element or Document but found "+(null==e.nodeType?"null":ge.toString(e.nodeType)));for(var s=0,r=e.children;s<r.length;){var h=r[s++];this.writeNode(h,this.pretty?n+"\t":n)}if(this.output.b+=K.string(n+"</"),e.nodeType!=D.Element)throw $.thrown("Bad node type, expected Element but found "+(null==e.nodeType?"null":ge.toString(e.nodeType)));this.output.b+=K.string(e.nodeName),this.output.b+=">"}else this.output.b+="/>";this.pretty&&(this.output.b+="\n");break;case 1:if(e.nodeType==D.Document||e.nodeType==D.Element)throw $.thrown("Bad node type, unexpected "+(null==e.nodeType?"null":ge.toString(e.nodeType)));var a=e.nodeValue;0!=a.length&&(l=n+z.htmlEscape(a),this.output.b+=K.string(l),this.pretty)&&(this.output.b+="\n");break;case 2:if(this.output.b+=K.string(n+"<![CDATA["),e.nodeType==D.Document||e.nodeType==D.Element)throw $.thrown("Bad node type, unexpected "+(null==e.nodeType?"null":ge.toString(e.nodeType)));this.output.b+=K.string(e.nodeValue),this.output.b+="]]>",this.pretty&&(this.output.b+="\n");break;case 3:if(e.nodeType==D.Document||e.nodeType==D.Element)throw $.thrown("Bad node type, unexpected "+(null==e.nodeType?"null":ge.toString(e.nodeType)));var a=e.nodeValue,o=new RegExp("[\n\r\t]+","g".split("u").join("")),l=(a="\x3c!--"+(a=a.replace(o,""))+"--\x3e",this.output.b+=null==n?"null":""+n,z.trim(a));this.output.b+=K.string(l),this.pretty&&(this.output.b+="\n");break;case 4:if(e.nodeType==D.Document||e.nodeType==D.Element)throw $.thrown("Bad node type, unexpected "+(null==e.nodeType?"null":ge.toString(e.nodeType)));this.output.b+=K.string("<!DOCTYPE "+e.nodeValue+">"),this.pretty&&(this.output.b+="\n");break;case 5:if(e.nodeType==D.Document||e.nodeType==D.Element)throw $.thrown("Bad node type, unexpected "+(null==e.nodeType?"null":ge.toString(e.nodeType)));this.output.b+=K.string("<?"+e.nodeValue+"?>"),this.pretty&&(this.output.b+="\n");break;case 6:if(e.nodeType!=D.Document&&e.nodeType!=D.Element)throw $.thrown("Bad node type, expected Element or Document but found "+(null==e.nodeType?"null":ge.toString(e.nodeType)));for(s=0,r=e.children;s<r.length;){h=r[s++];this.writeNode(h,n)}}},hasChildren:function(e){if(e.nodeType!=D.Document&&e.nodeType!=D.Element)throw $.thrown("Bad node type, expected Element or Document but found "+(null==e.nodeType?"null":ge.toString(e.nodeType)));for(var n=0,t=e.children;n<t.length;){var i=t[n++];switch(i.nodeType){case 0:case 1:return!0;case 2:case 3:if(i.nodeType==D.Document||i.nodeType==D.Element)throw $.thrown("Bad node type, unexpected "+(null==i.nodeType?"null":ge.toString(i.nodeType)));if(0!=z.ltrim(i.nodeValue).length)return!0}}return!1},__class__:_s},_e["haxe.zip.Huffman"]={__ename__:"haxe.zip.Huffman",__constructs__:null,Found:((b=function(e){return{_hx_index:0,i:e,__enum__:"haxe.zip.Huffman",toString:c}})._hx_name="Found",b.__params__=["i"],b),NeedBit:((b=function(e,n){return{_hx_index:1,left:e,right:n,__enum__:"haxe.zip.Huffman",toString:c}})._hx_name="NeedBit",b.__params__=["left","right"],b),NeedBits:((b=function(e,n){return{_hx_index:2,n:e,table:n,__enum__:"haxe.zip.Huffman",toString:c}})._hx_name="NeedBits",b.__params__=["n","table"],b)}),bs=(ds.__constructs__=[ds.Found,ds.NeedBit,ds.NeedBits],(E["haxe.zip.HuffTools"]=Ue).__name__="haxe.zip.HuffTools",Ue.prototype={treeDepth:function(e){switch(e._hx_index){case 0:e.i;return 0;case 1:var n=e.left,t=e.right,n=this.treeDepth(n),t=this.treeDepth(t);return 1+(n<t?n:t);case 2:e.n,e.table;throw $.thrown("assert")}},treeCompress:function(e){var n,t,i=this.treeDepth(e);if(0==i)return e;if(1==i){if(1==e._hx_index)return n=e.left,t=e.right,ds.NeedBit(this.treeCompress(n),this.treeCompress(t));throw $.thrown("assert")}for(var l=[],s=0,r=1<<i;s<r;){s++;l.push(ds.Found(-1))}return this.treeWalk(l,0,0,i,e),ds.NeedBits(i,l)},treeWalk:function(e,n,t,i,l){var s,r;1==l._hx_index&&(s=l.left,r=l.right,0<i)?(this.treeWalk(e,n,t+1,i-1,s),this.treeWalk(e,n|1<<t,t+1,i-1,r)):e[n]=this.treeCompress(l)},treeMake:function(e,n,t,i){if(n<i)throw $.thrown("Invalid huffman");var l=t<<5|i;return e.h.hasOwnProperty(l)?ds.Found(e.h[l]):ds.NeedBit(this.treeMake(e,n,t<<=1,++i),this.treeMake(e,n,1|t,i))},make:function(e,n,t,i){if(1==t)return ds.NeedBit(ds.Found(0),ds.Found(0));var l=[],s=[];if(32<i)throw $.thrown("Invalid huffman");for(var r=0,h=i;r<h;){var a=r++;l.push(0),s.push(0)}for(r=0,h=t;r<h;){var o=e[(a=r++)+n];if(i<=o)throw $.thrown("Invalid huffman");l[o]++}for(var c=0,r=1,h=i-1;r<h;){c=c+l[a=r++]<<1;s[a]=c}for(var u=new Ll,r=0,h=t;r<h;){var _,d=e[(a=r++)+n];0!=d&&(s[d-1]=(_=s[d-1])+1,u.h[_<<5|d]=a)}return this.treeCompress(ds.NeedBit(this.treeMake(u,i,0,1),this.treeMake(u,i,1,1)))},__class__:Ue},(E["haxe.zip._InflateImpl.Window"]=Ve).__name__="haxe.zip._InflateImpl.Window",Ve.prototype={buffer:null,pos:null,crc:null,slide:function(){null!=this.crc&&this.crc.update(this.buffer,0,32768);var e=new Pl(new ArrayBuffer(65536));this.pos-=32768,e.blit(0,this.buffer,32768,this.pos),this.buffer=e},addBytes:function(e,n,t){65536<this.pos+t&&this.slide(),this.buffer.blit(this.pos,e,n,t),this.pos+=t},addByte:function(e){65536==this.pos&&this.slide(),this.buffer.b[this.pos]=e,this.pos++},getLastChar:function(){return this.buffer.b[this.pos-1]},available:function(){return this.pos},checksum:function(){return null!=this.crc&&this.crc.update(this.buffer,0,this.pos),this.crc},__class__:Ve},_e["haxe.zip._InflateImpl.State"]={__ename__:"haxe.zip._InflateImpl.State",__constructs__:null,Head:{_hx_name:"Head",_hx_index:0,__enum__:"haxe.zip._InflateImpl.State",toString:c},Block:{_hx_name:"Block",_hx_index:1,__enum__:"haxe.zip._InflateImpl.State",toString:c},CData:{_hx_name:"CData",_hx_index:2,__enum__:"haxe.zip._InflateImpl.State",toString:c},Flat:{_hx_name:"Flat",_hx_index:3,__enum__:"haxe.zip._InflateImpl.State",toString:c},Crc:{_hx_name:"Crc",_hx_index:4,__enum__:"haxe.zip._InflateImpl.State",toString:c},Dist:{_hx_name:"Dist",_hx_index:5,__enum__:"haxe.zip._InflateImpl.State",toString:c},DistOne:{_hx_name:"DistOne",_hx_index:6,__enum__:"haxe.zip._InflateImpl.State",toString:c},Done:{_hx_name:"Done",_hx_index:7,__enum__:"haxe.zip._InflateImpl.State",toString:c}}),gs=(bs.__constructs__=[bs.Head,bs.Block,bs.CData,bs.Flat,bs.Crc,bs.Dist,bs.DistOne,bs.Done],function(e,n,t){null==t&&(t=!0),null==n&&(n=!0),this.isFinal=!1,this.htools=new Ue,this.huffman=this.buildFixedHuffman(),this.huffdist=null,this.len=0,this.dist=0,this.state=n?bs.Head:bs.Block,this.input=e,this.bits=0,this.nbits=0,this.needed=0,this.output=null,this.outpos=0,this.lengths=[],this.lengths.push(-1),this.lengths.push(-1),this.lengths.push(-1),this.lengths.push(-1),this.lengths.push(-1),this.lengths.push(-1),this.lengths.push(-1),this.lengths.push(-1),this.lengths.push(-1),this.lengths.push(-1),this.lengths.push(-1),this.lengths.push(-1),this.lengths.push(-1),this.lengths.push(-1),this.lengths.push(-1),this.lengths.push(-1),this.lengths.push(-1),this.lengths.push(-1),this.lengths.push(-1),this.window=new Ve(t)}),x=((E["haxe.zip.InflateImpl"]=gs).__name__="haxe.zip.InflateImpl",gs.run=function(e,n){null==n&&(n=65536);for(var t=new Pl(new ArrayBuffer(n)),i=new te,l=new gs(e);;){var s=l.readBytes(t,0,n);if(i.addBytes(t,0,s),s<n)break}return i.getBytes()},gs.prototype={nbits:null,bits:null,state:null,isFinal:null,huffman:null,huffdist:null,htools:null,len:null,dist:null,needed:null,output:null,outpos:null,input:null,lengths:null,window:null,buildFixedHuffman:function(){if(null==gs.FIXED_HUFFMAN){for(var e=[],n=0;n<288;){var t=n++;e.push(t<=143?8:t<=255?9:t<=279?7:8)}gs.FIXED_HUFFMAN=this.htools.make(e,0,288,10)}return gs.FIXED_HUFFMAN},readBytes:function(e,n,t){if(this.needed=t,this.outpos=n,this.output=e,0<t)for(;this.inflateLoop(););return t-this.needed},getBits:function(e){for(;this.nbits<e;)this.bits|=this.input.readByte()<<this.nbits,this.nbits+=8;var n=this.bits&(1<<e)-1;return this.nbits-=e,this.bits>>=e,n},getBit:function(){0==this.nbits&&(this.nbits=8,this.bits=this.input.readByte());var e=1==(1&this.bits);return this.nbits--,this.bits>>=1,e},getRevBits:function(e){return 0==e?0:this.getBit()?1<<e-1|this.getRevBits(e-1):this.getRevBits(e-1)},resetBits:function(){this.bits=0,this.nbits=0},addBytes:function(e,n,t){this.window.addBytes(e,n,t),this.output.blit(this.outpos,e,n,t),this.needed-=t,this.outpos+=t},addByte:function(e){this.window.addByte(e),this.output.b[this.outpos]=e,this.needed--,this.outpos++},addDistOne:function(e){for(var n=this.window.getLastChar(),t=0,i=e;t<i;){t++;this.addByte(n)}},addDist:function(e,n){this.addBytes(this.window.buffer,this.window.pos-e,n)},applyHuffman:function(e){switch(e._hx_index){case 0:return i=e.i;case 1:var n=e.left,t=e.right;return this.applyHuffman(this.getBit()?t:n);case 2:var i=e.n,t=e.table;return this.applyHuffman(t[this.getBits(i)])}},inflateLengths:function(e,n){for(var t=0,i=0;t<n;){var l=this.applyHuffman(this.huffman);switch(l){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:case 13:case 14:case 15:e[t]=i=l,++t;break;case 16:var s=t+3+this.getBits(2);if(n<s)throw $.thrown("Invalid data");for(;t<s;)e[t]=i,++t;break;case 17:if(n<(t+=3+this.getBits(3)))throw $.thrown("Invalid data");break;case 18:if(n<(t+=11+this.getBits(7)))throw $.thrown("Invalid data");break;default:throw $.thrown("Invalid data")}}},inflateLoop:function(){switch(this.state._hx_index){case 0:var e=this.input.readByte();if(8!=(15&e))throw $.thrown("Invalid data");var n=this.input.readByte(),t=0!=(32&n);if(((e<<8)+n)%31!=0)throw $.thrown("Invalid data");if(t)throw $.thrown("Unsupported dictionary");return this.state=bs.Block,!0;case 1:switch(this.isFinal=this.getBit(),this.getBits(2)){case 0:if(this.len=this.input.readUInt16(),this.input.readUInt16()!=65535-this.len)throw $.thrown("Invalid data");this.state=bs.Flat;var i=this.inflateLoop();return this.resetBits(),i;case 1:return this.huffman=this.buildFixedHuffman(),this.huffdist=null,this.state=bs.CData,!0;case 2:for(var i=this.getBits(5)+257,l=this.getBits(5)+1,s=this.getBits(4)+4,r=0,h=s;r<h;){var a=r++;this.lengths[gs.CODE_LENGTHS_POS[a]]=this.getBits(3)}for(r=s,h=19;r<h;){a=r++;this.lengths[gs.CODE_LENGTHS_POS[a]]=0}this.huffman=this.htools.make(this.lengths,0,19,8);for(var o=[],r=0,h=i+l;r<h;){a=r++;o.push(0)}return this.inflateLengths(o,i+l),this.huffdist=this.htools.make(o,i,l,16),this.huffman=this.htools.make(o,0,i,16),this.state=bs.CData,!0;default:throw $.thrown("Invalid data")}break;case 2:e=this.applyHuffman(this.huffman);if(e<256)return this.addByte(e),0<this.needed;if(256==e)this.state=this.isFinal?bs.Crc:bs.Block;else{n=gs.LEN_EXTRA_BITS_TBL[e-=257];if(-1==n)throw $.thrown("Invalid data");this.len=gs.LEN_BASE_VAL_TBL[e]+this.getBits(n);t=null==this.huffdist?this.getRevBits(5):this.applyHuffman(this.huffdist);if(-1==(n=gs.DIST_EXTRA_BITS_TBL[t]))throw $.thrown("Invalid data");if(this.dist=gs.DIST_BASE_VAL_TBL[t]+this.getBits(n),this.dist>this.window.available())throw $.thrown("Invalid data");this.state=1==this.dist?bs.DistOne:bs.Dist}return!0;case 3:var c=this.len<this.needed?this.len:this.needed,e=this.input.read(c);return this.len-=c,this.addBytes(e,0,c),0==this.len&&(this.state=this.isFinal?bs.Crc:bs.Block),0<this.needed;case 4:t=this.window.checksum();if(null==t);else{n=be.read(this.input);if(!t.equals(n))throw $.thrown("Invalid CRC")}return this.state=bs.Done,!0;case 5:for(;0<this.len&&0<this.needed;){var u=this.len<this.dist?this.len:this.dist,c=this.needed<u?this.needed:u;this.addDist(this.dist,c),this.len-=c}return 0==this.len&&(this.state=bs.CData),0<this.needed;case 6:c=this.len<this.needed?this.len:this.needed;return this.addDistOne(c),this.len-=c,0==this.len&&(this.state=bs.CData),0<this.needed;case 7:return!1}},__class__:gs},(E["hsluv.Geometry"]=Ye).__name__="hsluv.Geometry",Ye.intersectLineLine=function(e,n){n=(e.intercept-n.intercept)/(n.slope-e.slope);return{x:n,y:e.slope*n+e.intercept}},Ye.distanceFromOrigin=function(e){return Math.sqrt(Math.pow(e.x,2)+Math.pow(e.y,2))},Ye.distanceLineFromOrigin=function(e){return Math.abs(e.intercept)/Math.sqrt(Math.pow(e.slope,2)+1)},Ye.perpendicularThroughPoint=function(e,n){e=-1/e.slope;return{slope:e,intercept:n.y-e*n.x}},Ye.angleFromOrigin=function(e){return Math.atan2(e.y,e.x)},Ye.normalizeAngle=function(e){var n=2*Math.PI;return(e%n+n)%n},Ye.lengthOfRayUntilIntersect=function(e,n){return n.intercept/(Math.sin(e)-n.slope*Math.cos(e))},function(){}),Os=((E["hsluv.Hsluv"]=x).__name__="hsluv.Hsluv",x.getBounds=function(e){for(var n=[],t=Math.pow(e+16,3)/1560896,i=t>x.epsilon?t:e/x.kappa,l=0;l<3;){var s=l++,r=x.m[s][0],h=x.m[s][1],s=x.m[s][2],a=(632260*s-126452*h)*i,a=(n.push({slope:(284517*r-94839*s)*i/a,intercept:((838422*s+769860*h+731718*r)*e*i-0*e)/a}),(284517*r-94839*s)*i),o=(632260*s-126452*h)*i+126452;n.push({slope:a/o,intercept:((838422*s+769860*h+731718*r)*e*i-769860*e)/o})}return n},x.maxSafeChromaForL=function(e){for(var n=x.getBounds(e),t=1/0,i=0;i<n.length;)var l=n[i],l=(++i,Ye.distanceLineFromOrigin(l)),t=Math.min(t,l);return t},x.maxChromaForLH=function(e,n){for(var t=n/360*Math.PI*2,i=x.getBounds(e),l=1/0,s=0;s<i.length;){var r=i[s],r=(++s,Ye.lengthOfRayUntilIntersect(t,r));0<=r&&(l=Math.min(l,r))}return l},x.dotProduct=function(e,n){for(var t=0,i=0,l=e.length;i<l;){var s=i++;t+=e[s]*n[s]}return t},x.fromLinear=function(e){return e<=.0031308?12.92*e:1.055*Math.pow(e,.4166666666666667)-.055},x.toLinear=function(e){return.04045<e?Math.pow((e+.055)/1.055,2.4):e/12.92},x.xyzToRgb=function(e,n){var t=x.fromLinear(x.dotProduct(x.m[0],e)),i=x.fromLinear(x.dotProduct(x.m[1],e)),e=x.fromLinear(x.dotProduct(x.m[2],e));return(n=null==n?[0,0,0]:n)[0]=t,n[1]=i,n[2]=e,n},x.rgbToXyz=function(e,n){var t=e[0],i=e[1],e=e[2],t=((n=null==n?[0,0,0]:n)[0]=x.toLinear(t),n[1]=x.toLinear(i),n[2]=x.toLinear(e),x.dotProduct(x.minv[0],n)),i=x.dotProduct(x.minv[1],n),e=x.dotProduct(x.minv[2],n);return n[0]=t,n[1]=i,n[2]=e,n},x.yToL=function(e){return e<=x.epsilon?e/x.refY*x.kappa:116*Math.pow(e/x.refY,.3333333333333333)-16},x.lToY=function(e){return e<=8?x.refY*e/x.kappa:x.refY*Math.pow((e+16)/116,3)},x.xyzToLuv=function(e,n){var t=e[0],i=e[1],e=(null==n&&(n=[0,0,0]),t+15*i+3*e[2]),t=4*t,l=9*i,e=(0!=e?(t/=e,l/=e):l=t=NaN,x.yToL(i));return 0==e?(n[0]=0,n[1]=0,n[2]=0):(i=13*e*(t-x.refU),t=13*e*(l-x.refV),n[0]=e,n[1]=i,n[2]=t),n},x.luvToXyz=function(e,n){null==n&&(n=[0,0,0]);var t=e[0],i=e[1],e=e[2];return 0==t?(n[0]=0,n[1]=1,n[2]=2):(i=i/(13*t)+x.refU,e=e/(13*t)+x.refV,e=(9*(t=x.lToY(t))-15*e*t-e*(i=0-9*t*i/((i-4)*e-i*e)))/(3*e),n[0]=i,n[1]=t,n[2]=e),n},x.luvToLch=function(e,n){var t,i=e[0],l=e[1],e=e[2],s=(null==n&&(n=[0,0,0]),Math.sqrt(l*l+e*e));return s<1e-8?t=0:(t=180*Math.atan2(e,l)/Math.PI)<0&&(t=360+t),n[0]=i,n[1]=s,n[2]=t,n},x.lchToLuv=function(e,n){var t=e[0],i=e[1],e=(null==n&&(n=[0,0,0]),e[2]/360*2*Math.PI),l=Math.cos(e)*i,e=Math.sin(e)*i;return n[0]=t,n[1]=l,n[2]=e,n},x.hsluvToLch=function(e,n){var t=e[0],i=e[1],e=e[2];return null==n&&(n=[0,0,0]),99.9999999<e?(n[0]=100,n[1]=0,n[2]=t):(e<1e-8?(n[0]=0,n[1]=0):(i=x.maxChromaForLH(e,t)/100*i,n[0]=e,n[1]=i),n[2]=t),n},x.lchToHsluv=function(e,n){var t=e[0],i=e[1],e=e[2];return null==n&&(n=[0,0,0]),99.9999999<t?(n[0]=e,n[1]=0,n[2]=100):t<1e-8?(n[0]=e,n[1]=0,n[2]=0):(i=i/x.maxChromaForLH(t,e)*100,n[0]=e,n[1]=i,n[2]=t),n},x.hpluvToLch=function(e){var n=e[0],t=e[1],e=e[2];return 99.9999999<e?[100,0,n]:e<1e-8?[0,0,n]:[e,x.maxSafeChromaForL(e)/100*t,n]},x.lchToHpluv=function(e){var n=e[0],t=e[1],e=e[2];return 99.9999999<n?[e,0,100]:n<1e-8?[e,0,0]:[e,t/x.maxSafeChromaForL(n)*100,n]},x.rgbToHex=function(e){var n="#",t=e[0],i=(l=Math.round(255*t))%16,t=(n+=x.hexChars.charAt((l-i)/16|0)+x.hexChars.charAt(i),e[1]),l=Math.round(255*t),t=(n+=x.hexChars.charAt((l-(i=l%16))/16|0)+x.hexChars.charAt(i),e[2]),l=Math.round(255*t);return n+=x.hexChars.charAt((l-(i=l%16))/16|0)+x.hexChars.charAt(i)},x.hexToRgb=function(e){e=e.toLowerCase();var n=[],t=x.hexChars.indexOf(e.charAt(1)),i=x.hexChars.indexOf(e.charAt(2)),t=(n.push((16*t+i)/255),x.hexChars.indexOf(e.charAt(3))),i=x.hexChars.indexOf(e.charAt(4)),t=(n.push((16*t+i)/255),x.hexChars.indexOf(e.charAt(5))),i=x.hexChars.indexOf(e.charAt(6));return n.push((16*t+i)/255),n},x.lchToRgb=function(e,n){return x.lchToLuv(e,n=null==n?[0,0,0]:n),x.luvToXyz(n,n),x.xyzToRgb(n,n),n},x.rgbToLch=function(e,n){return x.rgbToXyz(e,n=null==n?[0,0,0]:n),x.xyzToLuv(n,n),x.luvToLch(n,n),n},x.hsluvToRgb=function(e,n){return x.hsluvToLch(e,n=null==n?[0,0,0]:n),x.lchToRgb(n,n),n},x.rgbToHsluv=function(e,n){return x.rgbToLch(e,n=null==n?[0,0,0]:n),x.lchToHsluv(n,n),n},x.hpluvToRgb=function(e){return x.lchToRgb(x.hpluvToLch(e))},x.rgbToHpluv=function(e){return x.lchToHpluv(x.rgbToLch(e))},x.hsluvToHex=function(e){return x.rgbToHex(x.hsluvToRgb(e))},x.hpluvToHex=function(e){return x.rgbToHex(x.hpluvToRgb(e))},x.hexToHsluv=function(e){return x.rgbToHsluv(x.hexToRgb(e))},x.hexToHpluv=function(e){return x.rgbToHpluv(x.hexToRgb(e))},function(){}),fs=((E["js.Boot"]=Os).__name__="js.Boot",Os.getClass=function(e){var n;return null==e?null:e instanceof Array?Array:null!=(n=e.__class__)?n:null!=(n=Os.__nativeClassName(e))?Os.__resolveNativeClass(n):null},Os.__string_rec=function(l,s){if(null==l)return"null";if(5<=s.length)return"<...>";var r,e,n=typeof l;switch(n="function"==n&&(l.__name__||l.__ename__)?"object":n){case"function":return"<function>";case"object":if(l.__enum__)return o=(r=_e[l.__enum__].__constructs__[l._hx_index])._hx_name,r.__params__?(s+="\t",o+"("+function(){for(var e=[],n=0,t=r.__params__;n<t.length;){var i=t[n];n+=1,e.push(Os.__string_rec(l[i],s))}return e}().join(",")+")"):o;if(l instanceof Array){for(var t="[",i=(s+="\t",0),h=l.length;i<h;){var a=i++;t+=(0<a?",":"")+Os.__string_rec(l[a],s)}return t+="]"}try{e=l.toString}catch(i){return Sl.lastError=i,"???"}if(null!=e&&e!=Object.toString&&"function"==typeof e){var o=l.toString();if("[object Object]"!=o)return o}var t="{\n",c=(s+="\t",null!=l.hasOwnProperty),u=null;for(u in l)c&&!l.hasOwnProperty(u)||"prototype"!=u&&"__class__"!=u&&"__super__"!=u&&"__interfaces__"!=u&&"__properties__"!=u&&(2!=t.length&&(t+=", \n"),t+=s+u+" : "+Os.__string_rec(l[u],s));return t+="\n"+(s=s.substring(1))+"}";case"string":return l;default:return String(l)}},Os.__interfLoop=function(e,n){if(null==e)return!1;if(e==n)return!0;var t=e.__interfaces__;if(null!=t)for(var i=0,l=t.length;i<l;){var s=t[i++];if(s==n||Os.__interfLoop(s,n))return!0}return Os.__interfLoop(e.__super__,n)},Os.__instanceof=function(e,n){if(null==n)return!1;switch(n){case Array:return e instanceof Array;case ks:return"boolean"==typeof e;case Ss:return null!=e;case As:return"number"==typeof e;case xs:return"number"==typeof e&&(0|e)===e;case String:return"string"==typeof e;default:if(null==e)return!1;if("function"==typeof n){if(Os.__downcastCheck(e,n))return!0}else if("object"==typeof n&&Os.__isNativeObj(n)&&e instanceof n)return!0;return n==Is&&null!=e.__name__?!0:n==Ps&&null!=e.__ename__||null!=e.__enum__&&_e[e.__enum__]==n}},Os.__downcastCheck=function(e,n){return e instanceof n||!!n.__isInterface__&&Os.__interfLoop(Os.getClass(e),n)},Os.__implements=function(e,n){return Os.__interfLoop(Os.getClass(e),n)},Os.__nativeClassName=function(e){e=Os.__toStr.call(e).slice(8,-1);return"Object"==e||"Function"==e||"Math"==e||"JSON"==e?null:e},Os.__isNativeObj=function(e){return null!=Os.__nativeClassName(e)},Os.__resolveNativeClass=function(e){return ce[e]},function(){}),ps=((E["js.html._CanvasElement.CanvasUtil"]=fs).__name__="js.html._CanvasElement.CanvasUtil",fs.getContextWebGL=function(e,n){var t=e.getContext("webgl",n);return null!=t||null!=(t=e.getContext("experimental-webgl",n))?t:null},(E["js.lib._ArrayBuffer.ArrayBufferCompat"]=a4).__name__="js.lib._ArrayBuffer.ArrayBufferCompat",a4.sliceImpl=function(e,n){n=new Uint8Array(this,e,null==n?null:n-e),e=new Uint8Array(n.byteLength);return e.set(n),e.buffer},(E["polyline.Extensions"]=b4).__name__="polyline.Extensions",b4.unsafeGet=function(e,n){return e[n]},b4.unsafeSet=function(e,n,t){e[n]=t},_e["polyline.StrokeCap"]={__ename__:"polyline.StrokeCap",__constructs__:null,BUTT:{_hx_name:"BUTT",_hx_index:0,__enum__:"polyline.StrokeCap",toString:c},SQUARE:{_hx_name:"SQUARE",_hx_index:1,__enum__:"polyline.StrokeCap",toString:c}}),Cs=(ps.__constructs__=[ps.BUTT,ps.SQUARE],_e["polyline.StrokeJoin"]={__ename__:"polyline.StrokeJoin",__constructs__:null,MITER:{_hx_name:"MITER",_hx_index:0,__enum__:"polyline.StrokeJoin",toString:c},BEVEL:{_hx_name:"BEVEL",_hx_index:1,__enum__:"polyline.StrokeJoin",toString:c}}),vs=(Cs.__constructs__=[Cs.MITER,Cs.BEVEL],(E["shade.Shade"]=e4).__name__="shade.Shade",e4.prototype={__class__:e4},(E["shade.Frag"]=f4).__name__="shade.Frag",f4.__super__=e4,f4.prototype=$extend(e4.prototype,{__class__:f4}),(E["shade.Shader"]=k4).__name__="shade.Shader",k4.__super__=k1,k4.prototype=$extend(k1.prototype,{vert:null,frag:null,__class__:k4}),(E["shade.Shader__shaders_Msdf_Vert__shaders_Msdf_Frag"]=l4).__name__="shade.Shader__shaders_Msdf_Vert__shaders_Msdf_Frag",l4.__super__=k1,l4.prototype=$extend(k1.prototype,{__class__:l4}),(E["shade.Shader__shaders_PixelArt_Vert__shaders_PixelArt_Frag"]=m4).__name__="shade.Shader__shaders_PixelArt_Vert__shaders_PixelArt_Frag",m4.__super__=k1,m4.prototype=$extend(k1.prototype,{__class__:m4}),(E["shade.Shader__shaders_Textured_Vert__shaders_Textured_Frag"]=n4).__name__="shade.Shader__shaders_Textured_Vert__shaders_Textured_Frag",n4.__super__=k1,n4.prototype=$extend(k1.prototype,{__class__:n4}),(E["shade.Vert"]=r4).__name__="shade.Vert",r4.__super__=e4,r4.prototype=$extend(e4.prototype,{__class__:r4}),function(){l4.call(this,null,[new ot(3,"vertexPosition"),new ot(2,"vertexTCoord"),new ot(4,"vertexColor")],null)}),ws=((E["shaders.Msdf"]=vs).__name__="shaders.Msdf",vs.__super__=l4,vs.prototype=$extend(l4.prototype,{resolveTextureSlot:function(e){return"mainTex"==e?0:-1},__class__:vs}),(E["shaders.Msdf_Vert"]=t4).__name__="shaders.Msdf_Vert",t4.__super__=r4,t4.prototype=$extend(r4.prototype,{__class__:t4}),(E["shaders.Msdf_Frag"]=u4).__name__="shaders.Msdf_Frag",u4.__super__=f4,u4.prototype=$extend(f4.prototype,{__class__:u4}),function(){m4.call(this,null,[new ot(3,"vertexPosition"),new ot(2,"vertexTCoord"),new ot(4,"vertexColor")],null)}),ms=((E["shaders.PixelArt"]=ws).__name__="shaders.PixelArt",ws.__super__=m4,ws.prototype=$extend(m4.prototype,{resolveTextureSlot:function(e){return"mainTex"==e?0:-1},__class__:ws}),(E["shaders.PixelArt_Vert"]=w4).__name__="shaders.PixelArt_Vert",w4.__super__=r4,w4.prototype=$extend(r4.prototype,{__class__:w4}),(E["shaders.PixelArt_Frag"]=x4).__name__="shaders.PixelArt_Frag",x4.__super__=f4,x4.prototype=$extend(f4.prototype,{__class__:x4}),function(){n4.call(this,[],[new ot(3,"vertexPosition"),new ot(2,"vertexTCoord"),new ot(4,"vertexColor")],new ot(1,"vertexTextureId"))}),A=((E["shaders.Textured"]=ms).__name__="shaders.Textured",ms.__super__=n4,ms.prototype=$extend(n4.prototype,{resolveTextureSlot:function(e){return"mainTex"==e?0:-1},__class__:ms}),(E["shaders.Textured_Vert"]=z4).__name__="shaders.Textured_Vert",z4.__super__=r4,z4.prototype=$extend(r4.prototype,{__class__:z4}),(E["shaders.Textured_Frag"]=A4).__name__="shaders.Textured_Frag",A4.__super__=f4,A4.prototype=$extend(f4.prototype,{__class__:A4}),(E["tracker.Assert"]=B4).__name__="tracker.Assert",function(e,n){this.invalidated=!1,this.boundAutorunArrays=null,this.owner=null,this.afterRun=null,this.onRun=null,j.call(this),this.onRun=e,this.afterRun=n,null!=e&&this.run()}),ys=((E["tracker.Autorun"]=A).__name__="tracker.Autorun",A.unobserve=function(){A.prevCurrent.push(A.current),A.current=null},A.reobserve=function(){A.current=A.prevCurrent.pop()},A.cease=function(){var e;null!=A.current?(A.current.destroy(),A.current=null):0<A.prevCurrent.length&&null!=(e=A.prevCurrent[A.prevCurrent.length-1])&&(e.destroy(),A.prevCurrent[A.prevCurrent.length-1]=null)},A.unobserved=function(e){A.unobserve(),e(),A.reobserve()},A.invalidateAutorunArray=function(e){for(var n=0,t=e.length;n<t;){var i=e[n++];null==i||i.invalidated||i._lifecycleState<0||(i.invalidated=!0,i.unbindFromAllAutorunArrays(),Ts.backend,ae.app._onceImmediate($bind(i,i.run)))}e.splice(0,e.length),A._autorunArrays[A._autorunArraysLen]=e,A._autorunArraysLen++},A.getAutorunArray=function(){var e;return 0<A._autorunArraysLen?(A._autorunArraysLen--,e=A._autorunArrays[A._autorunArraysLen],A._autorunArrays[A._autorunArraysLen]=null,e):[]},A.recycleAutorunArray=function(e){e.splice(0,e.length),A._autorunArrays[A._autorunArraysLen]=e,A._autorunArraysLen++},A.getArrayOfAutorunArrays=function(){var e;return 0<A._arrayOfAutorunArraysLen?(A._arrayOfAutorunArraysLen--,e=A._arrayOfAutorunArrays[A._arrayOfAutorunArraysLen],A._arrayOfAutorunArrays[A._arrayOfAutorunArraysLen]=null,e):[]},A.recycleArrayOfAutorunArrays=function(e){e.splice(0,e.length),A._arrayOfAutorunArrays[A._arrayOfAutorunArraysLen]=e,A._arrayOfAutorunArraysLen++},A.__super__=j,A.prototype=$extend(j.prototype,{__cbOnReset:null,__cbOnceReset:null,__cbOnOwnerUnbindReset:null,__cbOnceOwnerUnbindReset:null,emitReset:function(){this.unbindFromAllAutorunArrays();var e=0;if(null!=this.__cbOnReset&&(e+=this.__cbOnReset.length),null!=this.__cbOnceReset&&(e+=this.__cbOnceReset.length),0<e){var n=C.pool(e),t=n.get(),i=0;if(null!=this.__cbOnReset)for(var l=0,s=this.__cbOnReset.length;l<s;){var r=l++;!0?(t.vector[i]=this.__cbOnReset[r],++i):--e}if(null!=this.__cbOnceReset){for(var h=null,a=null,l=0,s=this.__cbOnceReset.length;l<s;){var o,r=l++;!0?(t.vector[i]=this.__cbOnceReset[r],this.__cbOnceReset[r]=null,o=this.__cbOnceOwnerUnbindReset[r],(this.__cbOnceOwnerUnbindReset[r]=null)!=o&&o(),++i):(--e,null==h&&(h=[],a=[],0),h.push(this.__cbOnceOwnerUnbindReset[r]),a.push(this.__cbOnceReset[r]))}this.__cbOnceOwnerUnbindReset=h,this.__cbOnceReset=a}for(l=0,s=e;l<s;){i=l++;(0,t.vector[i])()}n.release(t)}},onReset:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event reset because owner is destroyed!");var l=function(e){null!=t&&(i.offReset(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindReset&&(this.__cbOnOwnerUnbindReset=[]),this.__cbOnOwnerUnbindReset.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindReset&&(this.__cbOnOwnerUnbindReset=[]),this.__cbOnOwnerUnbindReset.push(null);null==this.__cbOnReset&&(this.__cbOnReset=[]),this.__cbOnReset.push(t)},onceReset:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event reset because owner is destroyed!");var l=function(e){null!=t&&(i.offReset(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindReset&&(this.__cbOnceOwnerUnbindReset=[]),this.__cbOnceOwnerUnbindReset.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindReset&&(this.__cbOnceOwnerUnbindReset=[]),this.__cbOnceOwnerUnbindReset.push(null);null==this.__cbOnceReset&&(this.__cbOnceReset=[]),this.__cbOnceReset.push(t)},offReset:function(e){if(null!=e){var n;null!=this.__cbOnReset&&-1!=(n=this.__cbOnReset.indexOf(e))&&(this.__cbOnReset.splice(n,1),null!=(s=this.__cbOnOwnerUnbindReset[n])&&s(),this.__cbOnOwnerUnbindReset.splice(n,1)),null!=this.__cbOnceReset&&-1!=(n=this.__cbOnceReset.indexOf(e))&&(this.__cbOnceReset.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindReset[n])&&s(),this.__cbOnceOwnerUnbindReset.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindReset){for(var t=0,i=this.__cbOnOwnerUnbindReset.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindReset[l])&&s()}this.__cbOnOwnerUnbindReset=null}if(null!=this.__cbOnceOwnerUnbindReset){for(t=0,i=this.__cbOnceOwnerUnbindReset.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindReset[l])&&s()}this.__cbOnceOwnerUnbindReset=null}this.__cbOnReset=null,this.__cbOnceReset=null}},listensReset:function(){return null!=this.__cbOnReset&&0<this.__cbOnReset.length||null!=this.__cbOnceReset&&0<this.__cbOnceReset.length},onRun:null,afterRun:null,owner:null,boundAutorunArrays:null,invalidated:null,destroy:function(){this._lifecycleState<=-2||(this._lifecycleState=-2,this.emitReset(),this.onRun=null,this.afterRun=null,this._lifecycleState=-1,j.prototype.destroy.call(this))},willEmitReset:function(){this.unbindFromAllAutorunArrays()},run:function(){if(!(this._lifecycleState<0||null!=this.owner&&this.owner._lifecycleState<0)){this.invalidated=!1,this.emitReset();var e=A.current,n=(A.current=this,A.prevCurrent.length);for(this.onRun(),null!=this.afterRun&&(A.unobserve(),this.afterRun(),A.reobserve());n<A.prevCurrent.length;)A.prevCurrent.pop();A.current=e}},invalidate:function(){this.invalidated||this._lifecycleState<0||(this.invalidated=!0,this.unbindFromAllAutorunArrays(),Ts.backend,ae.app._onceImmediate($bind(this,this.run)))},bindToAutorunArray:function(e){if(!(this.invalidated||this._lifecycleState<0)){var n=!1;if(null==this.boundAutorunArrays){var t=0<A._arrayOfAutorunArraysLen?(A._arrayOfAutorunArraysLen--,t=A._arrayOfAutorunArrays[A._arrayOfAutorunArraysLen],A._arrayOfAutorunArrays[A._arrayOfAutorunArraysLen]=null,t):[];this.boundAutorunArrays=t}else for(var i=0,l=this.boundAutorunArrays.length;i<l;){var s=i++;if(this.boundAutorunArrays[s]==e){n=!0;break}}if(!n){for(var r=-1,t=e.length,s=t-1;0<=s;){if(null==(a=e[s])){r=s;break}--s}if(-1==r)e.push(this);else{var h=t-1;if(r<h)for(i=r+1,l=t;i<l;){var a=e[s=i++];e[s-1]=a}e[h]=this}this.boundAutorunArrays.push(e)}}},unbindFromAllAutorunArrays:function(){if(null!=this.boundAutorunArrays){for(var e=0,n=this.boundAutorunArrays.length;e<n;)for(var t=e++,i=this.boundAutorunArrays[t],l=0,s=i.length;l<s;){var r=l++,h=i[r];if(null!=h&&h==this){i[r]=null;break}}var a=this.boundAutorunArrays;a.splice(0,a.length),A._arrayOfAutorunArrays[A._arrayOfAutorunArraysLen]=a,A._arrayOfAutorunArraysLen++,this.boundAutorunArrays=null}},unbindEvents:function(){j.prototype.unbindEvents.call(this),this.offReset()},__class__:A}),(E["tracker.Equal"]=D4).__name__="tracker.Equal",D4.equal=function(e,n){return e==n||(e instanceof Array?n instanceof Array&&D4._arrayEqual(e,n):!(!L.isObject(e)||null!=Os.getClass(e)||!L.isObject(n)||null!=Os.getClass(n))&&D4.objectFieldsEqual(e,n))},D4.objectFieldsEqual=function(e,n){for(var t=0,i=L.fields(e);t<i.length;){var l=i[t];if(++t,!Object.prototype.hasOwnProperty.call(n,l)||!D4.equal(L.field(e,l),L.field(n,l)))return!1}for(t=0,i=L.fields(n);t<i.length;){l=i[t];if(++t,!Object.prototype.hasOwnProperty.call(e,l))return!1}return!0},D4._arrayEqual=function(e,n){var t=e.length;if(t!=n.length)return!1;for(var i=0,l=t;i<l;){var s=i++;if(e[s]!=n[s])return!1}return!0},(E["tracker.Extensions"]=E4).__name__="tracker.Extensions",E4.unsafeGet=function(e,n){return e[n]},E4.unsafeSet=function(e,n,t){e[n]=t},E4.setArrayLength=function(e,n){if(e.length!=n)if(e.length>n)e.splice(n,e.length-n);else for(var t=e;t.length<n;)t.push(null)},E4.setProperty=function(e,n,t){L.setProperty(e,n,t)},E4.getProperty=function(e,n){return L.getProperty(e,n)},function(){}),oe=((E["tracker.SaveModel"]=ys).__name__="tracker.SaveModel",ys.getSavedOrCreate=function(e,n,t){e=B.createInstance(e,null!=t?t:[]);return ys.loadFromKey(e,n),e},ys.isBusyKey=function(e){return-1!=ys.busyKeys.indexOf(e)},ys.loadFromKey=function(e,n,t){if(null==t&&(t=!1),-1!=ys.busyKeys.indexOf(n))throw $.thrown("Cannot load data from key "+n+" because some work is being done on it");Ts.backend;var i=ae.app.backend.io.readString("save_id_1_"+n),l=null!=i?K.parseInt(i):-1,i=(1!=l&&2!=l&&(Ts.backend,l=null!=(i=ae.app.backend.io.readString("save_id_2_"+n))?K.parseInt(i):-1),null);return 1!=l&&2!=l?t||(Ts.backend,ae.app.logger.warning("Failed to load save from key: "+n+" (no existing save?)",{fileName:"tracker/SaveModel.hx",lineNumber:55,className:"tracker.SaveModel",methodName:"loadFromKey"})):(Ts.backend,null!=(i=ae.app.backend.io.readString("save_data_"+l+"_"+n))||t||(Ts.backend,ae.app.logger.warning("Failed to load save from key: "+n+"/"+l+" (corrupted save, try backups?)",{fileName:"tracker/SaveModel.hx",lineNumber:60,className:"tracker.SaveModel",methodName:"loadFromKey"}))),Us.loadFromData(e,i)},ys.autoSaveAsKey=function(e,n,t,i){null==i&&(i=60),null==t&&(t=1);var l=e.serializer,s=(null==l?((l=new Us).checkInterval=t,l.compactInterval=i):l.checkInterval==t&&l.compactInterval==i||(Ts.backend,ae.app.logger.warning("A serializer is already assigned with different appendInterval and compactInterval",{fileName:"tracker/SaveModel.hx",lineNumber:114,className:"tracker.SaveModel",methodName:"autoSaveAsKey"})),"save_data_1_"+n),r="save_data_2_"+n,h="save_id_1_"+n,a="save_id_2_"+n;l.onChangeset(e,function(e){ys._autoSaveAsKeyHandleChangeset(e,n,s,r,h,a)}),e.serializer!=l&&e.set_serializer(l)},ys._autoSaveAsKeyHandleChangeset=function(e,n,t,i,l,s){ys.busyKeys.push(n),e.append?ys._autoSaveAsKeyAppend(e.data,n,t,i,l,s):ys._autoSaveAsKeyCompact(e.data,n,t,i,l,s)},ys._autoSaveAsKeyAppend=function(e,n,t,i,l,s){Ts.backend.backgroundQueue.schedule(function(){ys._autoSaveAsKeyAppendInBackground(e,n,t,i,l,s)})},ys._autoSaveAsKeyAppendInBackground=function(e,n,t,i,l,s){e=Ds.encodeChangesetData(e);Ts.backend,ae.app.backend.io.appendString(t,e),Ts.backend,ae.app.backend.io.saveString(l,"1"),Ts.backend,ae.app.backend.io.saveString(s,"1"),Ts.backend,ae.app.backend.io.appendString(i,e),Ts.backend,ae.app.backend.io.saveString(l,"2"),Ts.backend,ae.app.backend.io.saveString(s,"2"),Ts.backend;qn.runInMain(function(){ys._autoSaveAsKeyAppendBackInMain(n)})},ys._autoSaveAsKeyAppendBackInMain=function(e){var n=ys.busyKeys.indexOf(e);-1!=n?ys.busyKeys.splice(n,1):(Ts.backend,ae.app.logger.error("Failed to remove busy key: "+e+" (none in list)",{fileName:"tracker/SaveModel.hx",lineNumber:248,className:"tracker.SaveModel",methodName:"_autoSaveAsKeyAppendBackInMain"}))},ys._autoSaveAsKeyCompact=function(e,n,t,i,l,s){Ts.backend.backgroundQueue.schedule(function(){ys._autoSaveAsKeyCompactRunInBackground(e,n,t,i,l,s)})},ys._autoSaveAsKeyCompactRunInBackground=function(e,n,t,i,l,s){e=Ds.encodeChangesetData(e);Ts.backend,ae.app.backend.io.saveString(t,e),Ts.backend,ae.app.backend.io.saveString(l,"1"),Ts.backend,ae.app.backend.io.saveString(s,"1"),Ts.backend,ae.app.backend.io.saveString(i,e),Ts.backend,ae.app.backend.io.saveString(l,"2"),Ts.backend,ae.app.backend.io.saveString(s,"2"),Ts.backend;qn.runInMain(function(){ys._autoSaveAsKeyCompactBackInMain(n)})},ys._autoSaveAsKeyCompactBackInMain=function(e){var n=ys.busyKeys.indexOf(e);-1!=n?ys.busyKeys.splice(n,1):(Ts.backend,ae.app.logger.error("Failed to remove busy key: "+e+" (none in list)",{fileName:"tracker/SaveModel.hx",lineNumber:346,className:"tracker.SaveModel",methodName:"_autoSaveAsKeyCompactBackInMain"}))},ys.encodeHashedString=function(e){var n=El.encode(e);e.length;return n+""+e},ys.decodeHashedString=function(e){e.length;var n=e.substring(32),e=e.substring(0,32),t=El.encode(n);return e!=t?(Ts.backend,ae.app.logger.error("Hash mismatch (stored="+e+" computed="+t+")",{fileName:"tracker/SaveModel.hx",lineNumber:372,className:"tracker.SaveModel",methodName:"decodeHashedString"}),null):n},function(){}),Us=((E["tracker.Serialize"]=oe).__name__="tracker.Serialize",oe.serialize=function(e){oe._serializedMap=new Nl;var e=oe.serializeValue(e),n=new Al,e=(n.serialize(e),n.serialize(oe._serializedMap),n.toString());return oe._serializedMap=null,e},oe.deserialize=function(e,n){var t=oe._serializedMap,i=oe._deserializedMap,n=new kl(n),l=n.unserialize(),n=(oe._serializedMap=n.unserialize(),oe._deserializedMap=new Nl,oe.deserializeValue(l,e));return oe._serializedMap=t,oe._deserializedMap=i,n},oe.serializeValue=function(e){if(null==e)return null;if(null==oe._serializedMap)return null;if(e instanceof j){var n=e;if(n._lifecycleState<0)return Ts.backend,C=Os.getClass(n),n="Entity destroyed: "+K.string(n)+" "+C.__name__,ae.app.logger.error(n,{fileName:"tracker/Serialize.hx",lineNumber:90,className:"tracker.Serialize",methodName:"serializeValue"}),null}if(Os.__implements(e,Q1)){var n=Os.getClass(e),t=n.__name__,i=e._serializeId;if(!Object.prototype.hasOwnProperty.call(oe._cachedEnumInfoBySerializableType.h,t)&&(oe._cachedEnumInfoBySerializableType.h[t]=!0,Object.prototype.hasOwnProperty.call(n,"_serializeEnumInfo"))){t=L.field(n,"_serializeEnumInfo");if(null!=t)for(var l=y=t.h,s=(U=Object.keys(y)).length,r=0;r<s;){var h=v=U[r++],a=l[v];oe._enumInfo.h[h]=a}}if(null!=oe._deserializedMap&&(oe._deserializedMap.h[i]=e),null!=oe._onCheckSerializable&&oe._onCheckSerializable(e),!Object.prototype.hasOwnProperty.call(oe._serializedMap.h,i)){var o={id:i,type:n.__name__,props:{}};oe._serializedMap.h[i]=o;e.willSerialize();for(var c="unobserved".length,u=n;null!=u;){for(var _=ls.getFields(u),d=0,b=L.fields(_);d<b.length;){var g=b[d],O=(++d,L.field(_,g));Object.prototype.hasOwnProperty.call(O,"serialize")&&(z.startsWith(O=g,"unobserved")&&(O=O.charAt(c).toLowerCase()+he.substr(O,c+1,null)),g=L.getProperty(e,g),a=oe.serializeValue(g),o.props[O]=a)}if(null!=(u=u.__super__)&&"tracker.Model"==u.__name__)break}null!=oe._onAddSerializable&&oe._onAddSerializable(e)}return{id:i}}if(e instanceof Array){for(var o=[],f=e,d=0;d<f.length;){var p=f[d];++d,o.push(oe.serializeValue(p))}return o}if("string"==typeof e||"number"==typeof e&&(0|e)===e||"number"==typeof e||"boolean"==typeof e)return e;var C,d=B.typeof(e);if(null!=d&&6==d._hx_index&&null!=(C=d.c))switch(C){case Ll:for(var o={im:w=[]},v=(m=e).keys();v.hasNext();){h=v.next();w.push(h),w.push(oe.serializeValue(m.h[h]))}return o;case Nl:for(var w,m,y,U,o={sm:w=[]},l=y=(m=e).h,s=(U=Object.keys(y)).length,r=0;r<s;){v=U[r++];w.push(v),w.push(oe.serializeValue(m.h[v]))}return o}return null!=oe.customHxSerialize?{hx:oe.customHxSerialize(e)}:((t=new Al).useCache=!0,t.serialize(e),{hx:t.toString()})},oe.deserializeValue=function(e,n,t){if(null==t&&(t=!1),null==e)return null;if(null==oe._serializedMap)return null;if(null==oe._deserializedMap)return null;var i=null!=n;if(e instanceof Array){for(var l=[],s=e,r=0;r<s.length;){var h=s[r];++r,l.push(oe.deserializeValue(h))}return l}if("string"==typeof e||"number"==typeof e&&(0|e)===e||"number"==typeof e||"boolean"==typeof e)return e;if(null!=e.id){if(Object.prototype.hasOwnProperty.call(oe._deserializedMap.h,e.id)){var a=oe._deserializedMap.h[e.id];if(t&&null!=e.props&&null!=e.type){var o=e.type;if(null==(I=E[o]))return Ts.backend,ae.app.logger.warning("Failed to resolve class for serialized type: "+K.string(e.type),{fileName:"tracker/Serialize.hx",lineNumber:314,className:"tracker.Serialize",methodName:"deserializeValue"}),null;for(var c=ls.getFields(I),u="unobserved".length,_=Object.create(null),r=0,d=B.getInstanceFields(I);r<d.length;){var b=d[r];++r,_[b]=!0}for(var g=I.__super__,O=null;null!=g&&((O=null==O?[]:O).push(ls.getFields(g)),"tracker.Model"!=g.__name__);){for(r=0,d=B.getInstanceFields(g);r<d.length;){b=d[r];++r,_[b]=!0}g=g.__super__}P=_;for(var f=(D=Object.keys(P)).length,p=0;p<f;){var C=D[p++];if(null==(x=L.field(c,C))&&null!=O)for(r=0,d=O.length;r<d;){var v=r++;if(null!=(x=L.field(O[v],C)))break}var w=null!=x&&Object.prototype.hasOwnProperty.call(x,"serialize"),m=C;z.startsWith(m,"unobserved")&&(m=m.charAt(u).toLowerCase()+he.substr(m,u+1,null)),w&&Object.prototype.hasOwnProperty.call(e.props,m)&&(S=oe.deserializeValue(L.field(e.props,m)),L.setProperty(a,m,S))}}return a}if(Object.prototype.hasOwnProperty.call(oe._serializedMap.h,e.id)){var y=oe._serializedMap.h[e.id],o=y.type;if(null==(I=E[o]))return Ts.backend,ae.app.logger.warning("Failed to resolve class for serialized type: "+y.type,{fileName:"tracker/Serialize.hx",lineNumber:376,className:"tracker.Serialize",methodName:"deserializeValue"}),null;if(null!=n&&Os.getClass(n)!=I)throw $.thrown("Type mismatch when deserializing object expected "+K.string(I)+", got "+K.string(Os.getClass(n)));for(var U=null,T=!1,t=!1,c=(null!=oe._deserializedCacheMap&&Object.prototype.hasOwnProperty.call(oe._deserializedCacheMap.h,e.id)?(U=oe._deserializedCacheMap.h[e.id],T=!0):null!=n&&Os.getClass(n)==I?U=n:(U=Object.create(I.prototype),t=!0),U._serializeId=e.id,oe._deserializedMap.h[e.id]=U,ls.getFields(I)),u="unobserved".length,_=Object.create(null),r=0,d=B.getInstanceFields(I);r<d.length;){b=d[r];++r,_[b]=!0}for(g=I.__super__,O=null;null!=g&&((O=null==O?[]:O).push(ls.getFields(g)),"tracker.Model"!=g.__name__);){for(r=0,d=B.getInstanceFields(g);r<d.length;){b=d[r];++r,_[b]=!0}g=g.__super__}P=_;for(var D,f=(D=Object.keys(P)).length,p=0;p<f;){var x,C=D[p++];if(null==(x=L.field(c,C))&&null!=O)for(r=0,d=O.length;r<d;){v=r++;if(null!=(x=L.field(O[v],C)))break}var S,A,w=null!=x&&Object.prototype.hasOwnProperty.call(x,"serialize"),m=C;z.startsWith(m,"unobserved")&&(m=m.charAt(u).toLowerCase()+he.substr(m,u+1,null)),w&&Object.prototype.hasOwnProperty.call(y.props,m)?(S=oe.deserializeValue(L.field(y.props,m)),L.setProperty(U,T||i?m:C,S)):i||T||!Object.prototype.hasOwnProperty.call(_,"_default_"+m)||(A=L.field(U,"_default_"+m).apply(U,[]),L.setProperty(U,C,A))}var k,o=oe._serializedMap,n=oe._deserializedMap,I=oe._deserializedCacheMap,P=oe._createdInstances;return oe._serializedMap=null,oe._deserializedMap=null,oe._deserializedCacheMap=null,oe._createdInstances=null,U.didDeserialize(),t&&(null!=P?P.push(U):null!=(k=L.field(U,"_autorunMarkedMethods"))&&(Ts.backend,ae.app._onceImmediate(function(){k.apply(U,[])}))),oe._serializedMap=o,oe._deserializedMap=n,oe._deserializedCacheMap=I,oe._createdInstances=P,U}return null}if(null!=e.sm){for(var F=e.sm,v=0,l=new Nl;v<F.length;){var M=oe.deserializeValue(F[v+1]);l.h[F[v]]=M,v+=2}return l}if(null!=e.im){for(F=e.im,v=0,l=new Ll;v<F.length;){M=oe.deserializeValue(F[v+1]);l.h[F[v]]=M,v+=2}return l}if(null==e.hx)return null;if(null!=oe.customHxDeserialize)return oe.customHxDeserialize(e.hx);t=new kl(e.hx);try{return t.unserialize()}catch(r){Sl.lastError=r;Ts.backend;return ae.app.logger.warning("Failed to deserialize: "+K.string(e.hx),{fileName:"tracker/Serialize.hx",lineNumber:606,className:"tracker.Serialize",methodName:"deserializeValue"}),null}},(E["tracker.SerializeChangeset"]=H4).__name__="tracker.SerializeChangeset",H4.prototype={data:null,append:null,toString:function(){return""+K.string({append:this.append,data:this.data})},__class__:H4},function(){this.initializerName=null,this.dirty=!0,this.canCompact=!1,this.dirtyModels=new Nl,this.willCleanDestroyedTrackedModels=!1,this.trackedModels=new Nl,this.serializedMap=new Nl,this.destroyModelOnUntrack=!0,this.compactInterval=60,this.checkInterval=1,j.call(this)}),Ts=((E["tracker.SerializeModel"]=Us).__name__="tracker.SerializeModel",Us.__interfaces__=[a0],Us.loadFromData=function(e,n,t){if(null==t&&(t=!1),null==n)return!1;oe._serializedMap=new Nl,oe._deserializedMap=new Nl,oe._deserializedCacheMap=null,oe.serializeValue(e);for(var i=oe._deserializedMap,n=(oe._serializedMap=null,oe._deserializedMap=null,oe._deserializedCacheMap=null,Ds.decodeChangesetData(n)),l=(oe._serializedMap=n.serializedMap,oe._deserializedMap=new Nl,oe._deserializedCacheMap=t?i:null,oe._createdInstances=[],oe.deserializeValue(n.serialized,e),oe._deserializedMap,oe._createdInstances),s=(oe._createdInstances=null,0),r=l.length;s<r;){var h=l[s++],a=L.field(h,"_autorunMarkedMethods");null!=a&&a.apply(h,[])}oe._deserializedMap=null,oe._serializedMap=null,oe._deserializedCacheMap=null,oe._serializedMap=new Nl,oe._deserializedMap=new Nl,oe._deserializedCacheMap=null,oe.serializeValue(e);for(var o=oe._deserializedMap,t=(oe._serializedMap=null,oe._deserializedMap=null,oe._deserializedCacheMap=null,i.h),c=t,u=Object.keys(t),_=u.length,d=0;d<_;){var b=u[d++],g=c[b];o.h[b]!=g&&g instanceof R1&&(b=g)!=e&&b.serializeShouldDestroy()&&b.destroy()}return!0},Us.__super__=j,Us.prototype=$extend(j.prototype,{__cbOnChangeset:null,__cbOnceChangeset:null,__cbOnOwnerUnbindChangeset:null,__cbOnceOwnerUnbindChangeset:null,emitChangeset:function(e){var n=0;if(null!=this.__cbOnChangeset&&(n+=this.__cbOnChangeset.length),null!=this.__cbOnceChangeset&&(n+=this.__cbOnceChangeset.length),0<n){var t=C.pool(n),i=t.get(),l=0;if(null!=this.__cbOnChangeset)for(var s=0,r=this.__cbOnChangeset.length;s<r;){var h=s++;!0?(i.vector[l]=this.__cbOnChangeset[h],++l):--n}if(null!=this.__cbOnceChangeset){for(var a=null,o=null,s=0,r=this.__cbOnceChangeset.length;s<r;){var c,h=s++;!0?(i.vector[l]=this.__cbOnceChangeset[h],this.__cbOnceChangeset[h]=null,c=this.__cbOnceOwnerUnbindChangeset[h],(this.__cbOnceOwnerUnbindChangeset[h]=null)!=c&&c(),++l):(--n,null==a&&(a=[],o=[],0),a.push(this.__cbOnceOwnerUnbindChangeset[h]),o.push(this.__cbOnceChangeset[h]))}this.__cbOnceOwnerUnbindChangeset=a,this.__cbOnceChangeset=o}for(s=0,r=n;s<r;){l=s++;(0,i.vector[l])(e)}t.release(i)}},onChangeset:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event changeset because owner is destroyed!");var l=function(e){null!=t&&(i.offChangeset(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindChangeset&&(this.__cbOnOwnerUnbindChangeset=[]),this.__cbOnOwnerUnbindChangeset.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindChangeset&&(this.__cbOnOwnerUnbindChangeset=[]),this.__cbOnOwnerUnbindChangeset.push(null);null==this.__cbOnChangeset&&(this.__cbOnChangeset=[]),this.__cbOnChangeset.push(t)},onceChangeset:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event changeset because owner is destroyed!");var l=function(e){null!=t&&(i.offChangeset(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindChangeset&&(this.__cbOnceOwnerUnbindChangeset=[]),this.__cbOnceOwnerUnbindChangeset.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindChangeset&&(this.__cbOnceOwnerUnbindChangeset=[]),this.__cbOnceOwnerUnbindChangeset.push(null);null==this.__cbOnceChangeset&&(this.__cbOnceChangeset=[]),this.__cbOnceChangeset.push(t)},offChangeset:function(e){if(null!=e){var n;null!=this.__cbOnChangeset&&-1!=(n=this.__cbOnChangeset.indexOf(e))&&(this.__cbOnChangeset.splice(n,1),null!=(s=this.__cbOnOwnerUnbindChangeset[n])&&s(),this.__cbOnOwnerUnbindChangeset.splice(n,1)),null!=this.__cbOnceChangeset&&-1!=(n=this.__cbOnceChangeset.indexOf(e))&&(this.__cbOnceChangeset.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindChangeset[n])&&s(),this.__cbOnceOwnerUnbindChangeset.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindChangeset){for(var t=0,i=this.__cbOnOwnerUnbindChangeset.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindChangeset[l])&&s()}this.__cbOnOwnerUnbindChangeset=null}if(null!=this.__cbOnceOwnerUnbindChangeset){for(t=0,i=this.__cbOnceOwnerUnbindChangeset.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindChangeset[l])&&s()}this.__cbOnceOwnerUnbindChangeset=null}this.__cbOnChangeset=null,this.__cbOnceChangeset=null}},listensChangeset:function(){return null!=this.__cbOnChangeset&&0<this.__cbOnChangeset.length||null!=this.__cbOnceChangeset&&0<this.__cbOnceChangeset.length},checkInterval:null,compactInterval:null,destroyModelOnUntrack:null,serializedMap:null,model:null,get_model:function(){return this.entity},entity:null,bindAsComponent:function(){0<this.checkInterval&&(Ts.backend,e=this.checkInterval,Gt.schedule(this,e,$bind(this,this.synchronize),e)),0<this.compactInterval&&(Ts.backend,e=this.compactInterval,Gt.schedule(this,e,$bind(this,this.compactIfNeeded),e));var e=this.entity;0<=e._lifecycleState&&!Object.prototype.hasOwnProperty.call(this.trackedModels.h,e._serializeId)&&((this.trackedModels.h[e._serializeId]=e).onModelDirty(this,$bind(this,this.explicitModelDirty)),e.onObservedDirty(this,$bind(this,this.modelDirty)),e.onceDestroy(this,$bind(this,this.trackedModelDestroyed))),this.compact()},compact:function(e){var n=this,t=this.serializedMap,i=(oe._serializedMap=new Nl,oe._onAddSerializable=function(e){e instanceof R1&&((e=e).observedDirty=!1,0<=e._lifecycleState)&&!Object.prototype.hasOwnProperty.call(n.trackedModels.h,e._serializeId)&&((n.trackedModels.h[e._serializeId]=e).onModelDirty(n,$bind(n,n.explicitModelDirty)),e.onObservedDirty(n,$bind(n,n.modelDirty)),e.onceDestroy(n,$bind(n,n.trackedModelDestroyed)))},oe.serializeValue(this.entity)),t=(this.serializedMap=oe._serializedMap,oe._onAddSerializable=null,oe._serializedMap=null,this.cleanTrackingFromPrevSerializedMap(t),new Al),i=(t.serialize(i),t.serialize(this.serializedMap),t.toString());this.emitChangeset(new H4(i,!1)),null!=e&&e(i)},trackedModels:null,willCleanDestroyedTrackedModels:null,dirtyModels:null,canCompact:null,dirty:null,track:function(e){0<=e._lifecycleState&&!Object.prototype.hasOwnProperty.call(this.trackedModels.h,e._serializeId)&&((this.trackedModels.h[e._serializeId]=e).onModelDirty(this,$bind(this,this.explicitModelDirty)),e.onObservedDirty(this,$bind(this,this.modelDirty)),e.onceDestroy(this,$bind(this,this.trackedModelDestroyed)))},untrack:function(e){var n,t;Object.prototype.hasOwnProperty.call(this.trackedModels.h,e._serializeId)&&(n=e._serializeId,t=this.trackedModels,Object.prototype.hasOwnProperty.call(t.h,n)&&delete t.h[n],e.offModelDirty($bind(this,this.explicitModelDirty)),e.offObservedDirty($bind(this,this.modelDirty)),e.offDestroy($bind(this,this.trackedModelDestroyed)),this.destroyModelOnUntrack)&&e.destroy()},trackedModelDestroyed:function(e){var c=this;this.willCleanDestroyedTrackedModels||(this.willCleanDestroyedTrackedModels=!0,Ts.backend,ae.app._onceImmediate(function(){for(var e=[],n=c.trackedModels.h,t=Object.keys(n),i=t.length,l=0;l<i;){var s=t[l++];e.push(s)}for(var r=0;r<e.length;){var h,a,s=e[r],o=(++r,c.trackedModels.h[s]);o._lifecycleState<0&&Object.prototype.hasOwnProperty.call(c.trackedModels.h,o._serializeId)&&(h=o._serializeId,a=c.trackedModels,Object.prototype.hasOwnProperty.call(a.h,h)&&delete a.h[h],o.offModelDirty($bind(c,c.explicitModelDirty)),o.offObservedDirty($bind(c,c.modelDirty)),o.offDestroy($bind(c,c.trackedModelDestroyed)),c.destroyModelOnUntrack)&&o.destroy()}c.willCleanDestroyedTrackedModels=!1}))},cleanTrackingFromPrevSerializedMap:function(e){for(var n=[],e=e.h,t=Object.keys(e),i=t.length,l=0;l<i;){var s=t[l++];Object.prototype.hasOwnProperty.call(this.serializedMap.h,s)||n.push(s)}for(var r=0;r<n.length;){var h,a,s=n[r],o=(++r,this.trackedModels.h[s]);null!=o&&Object.prototype.hasOwnProperty.call(this.trackedModels.h,o._serializeId)&&(h=o._serializeId,a=this.trackedModels,Object.prototype.hasOwnProperty.call(a.h,h)&&delete a.h[h],o.offModelDirty($bind(this,this.explicitModelDirty)),o.offObservedDirty($bind(this,this.modelDirty)),o.offDestroy($bind(this,this.trackedModelDestroyed)),this.destroyModelOnUntrack)&&o.destroy()}},modelDirty:function(e,n){n?(this.dirtyModels.h[e._serializeId]=e,this.dirty=!0):e.observedDirty=!1},explicitModelDirty:function(e){this.dirtyModels.h[e._serializeId]=e,this.dirty=!0},synchronize:function(){if(this.dirty){this.dirty=!1;for(var e=[],n=this.dirtyModels.h,t=Object.keys(n),i=t.length,l=0;l<i;){var s,r,h,a=t[l++],a=this.dirtyModels.h[a];0<=a._lifecycleState&&Object.prototype.hasOwnProperty.call(this.trackedModels.h,a._serializeId)&&(0!=a.dirty&&(a.dirty=!1),s=[this],r=a._serializeId,h=this.serializedMap,Object.prototype.hasOwnProperty.call(h.h,r)&&delete h.h[r],oe._serializedMap=this.serializedMap,oe._onCheckSerializable=function(i){return function(e){var n=e._serializeId,t=i[0].trackedModels.h[n];null!=t&&t!=e&&(t=i[0].serializedMap,Object.prototype.hasOwnProperty.call(t.h,n))&&delete t.h[n]}}(s),oe._onAddSerializable=function(n,t){return function(e){e instanceof R1&&((e=e).observedDirty=!1,t[0].push(n[0].serializedMap.h[e._serializeId]),0<=e._lifecycleState)&&!Object.prototype.hasOwnProperty.call(n[0].trackedModels.h,e._serializeId)&&((n[0].trackedModels.h[e._serializeId]=e).onModelDirty(n[0],$bind(b=n[0],b.explicitModelDirty)),e.onObservedDirty(n[0],$bind(b=n[0],b.modelDirty)),e.onceDestroy(n[0],$bind(b=n[0],b.trackedModelDestroyed)))}}(s,[e]),oe.serializeValue(a),oe._onCheckSerializable=null,oe._onAddSerializable=null,oe._serializedMap=null)}this.dirtyModels=new Nl,0<e.length&&((n=new Al).serialize(e),n=n.toString(),this.canCompact=!0,this.emitChangeset(new H4(n,!0)))}},compactIfNeeded:function(){this.canCompact&&(this.canCompact=!1,this.compact())},serializeModel:function(e,n){var i=this,t=e._serializeId,l=this.serializedMap;Object.prototype.hasOwnProperty.call(l.h,t)&&delete l.h[t],oe._serializedMap=this.serializedMap,oe._onCheckSerializable=function(e){var n=e._serializeId,t=i.trackedModels.h[n];null!=t&&t!=e&&(t=i.serializedMap,Object.prototype.hasOwnProperty.call(t.h,n))&&delete t.h[n]},oe._onAddSerializable=function(e){e instanceof R1&&((e=e).observedDirty=!1,n.push(i.serializedMap.h[e._serializeId]),0<=e._lifecycleState)&&!Object.prototype.hasOwnProperty.call(i.trackedModels.h,e._serializeId)&&((i.trackedModels.h[e._serializeId]=e).onModelDirty(i,$bind(i,i.explicitModelDirty)),e.onObservedDirty(i,$bind(i,i.modelDirty)),e.onceDestroy(i,$bind(i,i.trackedModelDestroyed)))},oe.serializeValue(e),oe._onCheckSerializable=null,oe._onAddSerializable=null,oe._serializedMap=null},setEntity:function(e){this.entity=e instanceof R1?e:null},getEntity:function(){return this.entity},initializerName:null,unbindEvents:function(){j.prototype.unbindEvents.call(this),this.offChangeset()},__class__:Us,__properties__:$extend(j.prototype.__properties__,{get_model:"get_model"})}),(E["tracker.ShareChangeset"]=J4).__name__="tracker.ShareChangeset",J4.prototype={items:null,toString:function(){for(var e=[],n=0,t=this.items;n<t.length;){var i=t[n];++n,e.push(i)}return""+K.string({items:e})},__class__:J4},(E["tracker.ShareItem"]=L4).__name__="tracker.ShareItem",L4.prototype={id:null,action:null,type:null,props:null,__class__:L4},(E["tracker.ShareModel"]=M4).__name__="tracker.ShareModel",M4.__interfaces__=[a0],M4.autoShare=function(e,n,t,i){null==n&&(n=.032);var l=e.sharer;return null!=l?(l.checkInterval!=n&&(Ts.backend,ae.app.logger.warning("A sharer is already assigned with different checkInterval",{fileName:"tracker/ShareModel.hx",lineNumber:561,className:"tracker.ShareModel",methodName:"autoShare"})),l.onChangeset(t,i),l.shareAll()):((l=new M4).checkInterval=n,l.onChangeset(t,i),e.set_sharer(l)),l},M4.__super__=j,M4.prototype=$extend(j.prototype,{__cbOnChangeset:null,__cbOnceChangeset:null,__cbOnOwnerUnbindChangeset:null,__cbOnceOwnerUnbindChangeset:null,emitChangeset:function(e){var n=0;if(null!=this.__cbOnChangeset&&(n+=this.__cbOnChangeset.length),null!=this.__cbOnceChangeset&&(n+=this.__cbOnceChangeset.length),0<n){var t=C.pool(n),i=t.get(),l=0;if(null!=this.__cbOnChangeset)for(var s=0,r=this.__cbOnChangeset.length;s<r;){var h=s++;!0?(i.vector[l]=this.__cbOnChangeset[h],++l):--n}if(null!=this.__cbOnceChangeset){for(var a=null,o=null,s=0,r=this.__cbOnceChangeset.length;s<r;){var c,h=s++;!0?(i.vector[l]=this.__cbOnceChangeset[h],this.__cbOnceChangeset[h]=null,c=this.__cbOnceOwnerUnbindChangeset[h],(this.__cbOnceOwnerUnbindChangeset[h]=null)!=c&&c(),++l):(--n,null==a&&(a=[],o=[],0),a.push(this.__cbOnceOwnerUnbindChangeset[h]),o.push(this.__cbOnceChangeset[h]))}this.__cbOnceOwnerUnbindChangeset=a,this.__cbOnceChangeset=o}for(s=0,r=n;s<r;){l=s++;(0,i.vector[l])(e)}t.release(i)}},onChangeset:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event changeset because owner is destroyed!");var l=function(e){null!=t&&(i.offChangeset(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindChangeset&&(this.__cbOnOwnerUnbindChangeset=[]),this.__cbOnOwnerUnbindChangeset.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindChangeset&&(this.__cbOnOwnerUnbindChangeset=[]),this.__cbOnOwnerUnbindChangeset.push(null);null==this.__cbOnChangeset&&(this.__cbOnChangeset=[]),this.__cbOnChangeset.push(t)},onceChangeset:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw $.thrown("Failed to bind event changeset because owner is destroyed!");var l=function(e){null!=t&&(i.offChangeset(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindChangeset&&(this.__cbOnceOwnerUnbindChangeset=[]),this.__cbOnceOwnerUnbindChangeset.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindChangeset&&(this.__cbOnceOwnerUnbindChangeset=[]),this.__cbOnceOwnerUnbindChangeset.push(null);null==this.__cbOnceChangeset&&(this.__cbOnceChangeset=[]),this.__cbOnceChangeset.push(t)},offChangeset:function(e){if(null!=e){var n;null!=this.__cbOnChangeset&&-1!=(n=this.__cbOnChangeset.indexOf(e))&&(this.__cbOnChangeset.splice(n,1),null!=(s=this.__cbOnOwnerUnbindChangeset[n])&&s(),this.__cbOnOwnerUnbindChangeset.splice(n,1)),null!=this.__cbOnceChangeset&&-1!=(n=this.__cbOnceChangeset.indexOf(e))&&(this.__cbOnceChangeset.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindChangeset[n])&&s(),this.__cbOnceOwnerUnbindChangeset.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindChangeset){for(var t=0,i=this.__cbOnOwnerUnbindChangeset.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindChangeset[l])&&s()}this.__cbOnOwnerUnbindChangeset=null}if(null!=this.__cbOnceOwnerUnbindChangeset){for(t=0,i=this.__cbOnceOwnerUnbindChangeset.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindChangeset[l])&&s()}this.__cbOnceOwnerUnbindChangeset=null}this.__cbOnChangeset=null,this.__cbOnceChangeset=null}},listensChangeset:function(){return null!=this.__cbOnChangeset&&0<this.__cbOnChangeset.length||null!=this.__cbOnceChangeset&&0<this.__cbOnceChangeset.length},serializedMap:null,deserializedMap:null,destroysToDispatch:null,model:null,get_model:function(){return this.entity},entity:null,lastCheckedFrame:null,destroyModelOnUntrack:null,checkInterval:null,bindAsComponent:function(){0<this.checkInterval&&(Ts.backend,e=this.checkInterval,Gt.schedule(this,e,$bind(this,this.synchronizeIfNeeded),e));var e=this.entity;0<=e._lifecycleState&&!Object.prototype.hasOwnProperty.call(this.trackedModels.h,e._serializeId)&&(this.trackedModels.h[e._serializeId]=e,(this.deserializedMap.h[e._serializeId]=e).onModelDirty(this,$bind(this,this.explicitModelDirty)),e.onObservedDirty(this,$bind(this,this.modelDirty)),e.onceDestroy(this,$bind(this,this.trackedModelDestroyed))),this.shareAll()},trackedModels:null,willCleanDestroyedTrackedModels:null,dirtyModels:null,dirty:null,paused:null,pause:function(){this.paused++},resume:function(){this.paused--},track:function(e){0<=e._lifecycleState&&!Object.prototype.hasOwnProperty.call(this.trackedModels.h,e._serializeId)&&(this.trackedModels.h[e._serializeId]=e,(this.deserializedMap.h[e._serializeId]=e).onModelDirty(this,$bind(this,this.explicitModelDirty)),e.onObservedDirty(this,$bind(this,this.modelDirty)),e.onceDestroy(this,$bind(this,this.trackedModelDestroyed)))},untrack:function(e){var n,t;Object.prototype.hasOwnProperty.call(this.trackedModels.h,e._serializeId)&&(n=e._serializeId,t=this.trackedModels,Object.prototype.hasOwnProperty.call(t.h,n)&&delete t.h[n],n=e._serializeId,t=this.deserializedMap,Object.prototype.hasOwnProperty.call(t.h,n)&&delete t.h[n],e.offModelDirty($bind(this,this.explicitModelDirty)),e.offObservedDirty($bind(this,this.modelDirty)),e.offDestroy($bind(this,this.trackedModelDestroyed)),this.destroyModelOnUntrack)&&e.destroy()},encodeValue:function(e){return JSON.stringify(e)},decodeValue:function(e){return JSON.parse(e)},trackedModelDestroyed:function(e){var c=this;this.willCleanDestroyedTrackedModels||(this.willCleanDestroyedTrackedModels=!0,Ts.backend,ae.app._onceImmediate(function(){for(var e=[],n=c.trackedModels.h,t=Object.keys(n),i=t.length,l=0;l<i;){var s=t[l++];e.push(s)}for(var r=0;r<e.length;){var h,a,s=e[r],o=(++r,c.trackedModels.h[s]);o._lifecycleState<0&&(null==c.destroysToDispatch&&(c.destroysToDispatch=[]),-1==c.destroysToDispatch.indexOf(o._serializeId)&&c.destroysToDispatch.push(o._serializeId),Object.prototype.hasOwnProperty.call(c.trackedModels.h,o._serializeId))&&(a=o._serializeId,h=c.trackedModels,Object.prototype.hasOwnProperty.call(h.h,a)&&delete h.h[a],h=o._serializeId,a=c.deserializedMap,Object.prototype.hasOwnProperty.call(a.h,h)&&delete a.h[h],o.offModelDirty($bind(c,c.explicitModelDirty)),o.offObservedDirty($bind(c,c.modelDirty)),o.offDestroy($bind(c,c.trackedModelDestroyed)),c.destroyModelOnUntrack)&&o.destroy()}c.willCleanDestroyedTrackedModels=!1}))},cleanTrackingFromPrevSerializedMap:function(e){for(var n=[],e=e.h,t=Object.keys(e),i=t.length,l=0;l<i;){var s=t[l++];Object.prototype.hasOwnProperty.call(this.serializedMap.h,s)||n.push(s)}for(var r=0;r<n.length;){var h,a,s=n[r],o=(++r,this.trackedModels.h[s]);null!=o&&Object.prototype.hasOwnProperty.call(this.trackedModels.h,o._serializeId)&&(a=o._serializeId,h=this.trackedModels,Object.prototype.hasOwnProperty.call(h.h,a)&&delete h.h[a],h=o._serializeId,a=this.deserializedMap,Object.prototype.hasOwnProperty.call(a.h,h)&&delete a.h[h],o.offModelDirty($bind(this,this.explicitModelDirty)),o.offObservedDirty($bind(this,this.modelDirty)),o.offDestroy($bind(this,this.trackedModelDestroyed)),this.destroyModelOnUntrack)&&o.destroy()}},modelDirty:function(e,n){n?(this.dirtyModels.h[e._serializeId]=e,this.dirty=!0):e.observedDirty=!1},explicitModelDirty:function(e){this.dirtyModels.h[e._serializeId]=e,this.dirty=!0},synchronizeIfNeeded:function(){var e=ae.app.frame;this.lastCheckedFrame!=e&&(this.lastCheckedFrame=e,this.synchronize())},synchronize:function(){if(this.dirty&&!(0<this.paused)){this.dirty=!1;var e=[];if(null!=this.destroysToDispatch)for(;0<this.destroysToDispatch.length;)e.push(new L4(this.destroysToDispatch.shift(),2,null,null));for(var n=this.dirtyModels.h,t=Object.keys(n),i=t.length,l=0;l<i;){var s,r,h,a,o,c=t[l++],c=this.dirtyModels.h[c];0<=c._lifecycleState&&Object.prototype.hasOwnProperty.call(this.trackedModels.h,c._serializeId)&&(0!=c.dirty&&(c.dirty=!1),s=[this],r=[c._serializeId],h=[this.serializedMap.h[r[0]]],a=c._serializeId,o=this.serializedMap,Object.prototype.hasOwnProperty.call(o.h,a)&&delete o.h[a],oe._serializedMap=this.serializedMap,oe._onCheckSerializable=function(i){return function(e){var n=e._serializeId,t=i[0].trackedModels.h[n];null!=t&&t!=e&&(t=i[0].serializedMap,Object.prototype.hasOwnProperty.call(t.h,n))&&delete t.h[n]}}(s),oe._onAddSerializable=function(c,u,_,d){return function(e){if(e instanceof R1){e.observedDirty=!1;var n=oe._serializedMap.h[e._serializeId],t=n.props,i={},l=!1,s=0;if(e._serializeId==u[0]&&null!=c[0]&&null!=c[0].props)for(var s=1,r=c[0].props,h=0,a=L.fields(t);h<a.length;){var o=a[h];++h,D4.equal(L.field(t,o),L.field(r,o))||(l=!0,i[o]=_[0].encodeValue(L.field(t,o)))}else for(l=!0,h=0,a=L.fields(t);h<a.length;){o=a[h];++h,i[o]=_[0].encodeValue(L.field(t,o))}l&&(s=new L4(n.id,s,n.type,i),d[0].push(s)),0<=e._lifecycleState&&!Object.prototype.hasOwnProperty.call(_[0].trackedModels.h,e._serializeId)&&(_[0].trackedModels.h[e._serializeId]=e,(_[0].deserializedMap.h[e._serializeId]=e).onModelDirty(_[0],$bind(b=_[0],b.explicitModelDirty)),e.onObservedDirty(_[0],$bind(b=_[0],b.modelDirty)),e.onceDestroy(_[0],$bind(b=_[0],b.trackedModelDestroyed)))}}}(h,r,s,[e]),oe.serializeValue(c),oe._onCheckSerializable=null,oe._onAddSerializable=null,oe._serializedMap=null)}this.dirtyModels=new Nl,0<e.length&&this.emitChangeset(new J4(e))}},shareAll:function(e,n){null==e&&(e=!1);var c=this,u=this.serializedMap,_=[];oe._serializedMap=new Nl,oe._onAddSerializable=e?function(e){if(e instanceof R1){e.observedDirty=!1,0<=e._lifecycleState&&!Object.prototype.hasOwnProperty.call(c.trackedModels.h,e._serializeId)&&(c.trackedModels.h[e._serializeId]=e,(c.deserializedMap.h[e._serializeId]=e).onModelDirty(c,$bind(c,c.explicitModelDirty)),e.onObservedDirty(c,$bind(c,c.modelDirty)),e.onceDestroy(c,$bind(c,c.trackedModelDestroyed)));var n=u.h[e._serializeId],e=oe._serializedMap.h[e._serializeId],t=e.props,i={},l=!1,s=0;if(null!=n&&null!=n.props)for(var s=1,r=n.props,h=0,a=L.fields(t);h<a.length;){var o=a[h];++h,D4.equal(L.field(t,o),L.field(r,o))||(l=!0,i[o]=c.encodeValue(L.field(t,o)))}else for(l=!0,h=0,a=L.fields(t);h<a.length;){o=a[h];++h,i[o]=c.encodeValue(L.field(t,o))}l&&(n=new L4(e.id,s,e.type,i),_.push(n))}}:function(e){if(e instanceof R1){e.observedDirty=!1,0<=e._lifecycleState&&!Object.prototype.hasOwnProperty.call(c.trackedModels.h,e._serializeId)&&(c.trackedModels.h[e._serializeId]=e,(c.deserializedMap.h[e._serializeId]=e).onModelDirty(c,$bind(c,c.explicitModelDirty)),e.onObservedDirty(c,$bind(c,c.modelDirty)),e.onceDestroy(c,$bind(c,c.trackedModelDestroyed)));for(var n={},e=oe._serializedMap.h[e._serializeId],t=e.props,i=0,l=L.fields(t);i<l.length;){var s=l[i];++i,n[s]=c.encodeValue(L.field(t,s))}e=new L4(e.id,0,e.type,n);_.push(e)}},oe.serializeValue(this.entity),this.serializedMap=oe._serializedMap,oe._onAddSerializable=null,oe._serializedMap=null,this.cleanTrackingFromPrevSerializedMap(u),Ts.backend;ae.app._onceImmediate(function(){if(null!=c.destroysToDispatch)for(;0<c.destroysToDispatch.length;)_.push(new L4(c.destroysToDispatch.shift(),2,null,null));null!=n&&n(_),0<_.length&&c.emitChangeset(new J4(_))})},receiveShared:function(e){oe._serializedMap=this.serializedMap,oe._deserializedMap=this.deserializedMap,oe._createdInstances=[];try{for(var n=0,t=e.items;n<t.length;){var i=t[n];switch(++n,i.action){case 0:case 1:if(null==(o=this.serializedMap.h[i.id])&&(o={id:i.id,type:i.type,props:{}},this.serializedMap.h[i.id]=o),null!=i.props)for(var l=0,s=L.fields(i.props);l<s.length;){var r=s[l];++l,o.props[r]=this.decodeValue(L.field(i.props,r))}}}for(n=0,t=e.items;n<t.length;){i=t[n];switch(++n,i.action){case 0:var h,a=this.deserializedMap.h[i.id],o=this.serializedMap.h[i.id],c=oe.deserializeValue(o,a,!0);a!=c&&null!=c&&c instanceof R1&&0<=(h=c)._lifecycleState&&!Object.prototype.hasOwnProperty.call(this.trackedModels.h,h._serializeId)&&(this.trackedModels.h[h._serializeId]=h,(this.deserializedMap.h[h._serializeId]=h).onModelDirty(this,$bind(this,this.explicitModelDirty)),h.onObservedDirty(this,$bind(this,this.modelDirty)),h.onceDestroy(this,$bind(this,this.trackedModelDestroyed)));break;case 1:var u=this.deserializedMap.h[i.id],_=this.serializedMap.h[i.id],d={};if(null!=i.props)for(l=0,s=L.fields(i.props);l<s.length;){var r=s[l],b=(++l,L.field(_.props,r));d[r]=b}var g,O=oe.deserializeValue({id:i.id,type:_.type,props:d},u,!0);u!=O&&null!=O&&O instanceof R1&&0<=(g=O)._lifecycleState&&!Object.prototype.hasOwnProperty.call(this.trackedModels.h,g._serializeId)&&(this.trackedModels.h[g._serializeId]=g,(this.deserializedMap.h[g._serializeId]=g).onModelDirty(this,$bind(this,this.explicitModelDirty)),g.onObservedDirty(this,$bind(this,this.modelDirty)),g.onceDestroy(this,$bind(this,this.trackedModelDestroyed)));break;case 2:var f=this.deserializedMap.h[i.id];f instanceof R1&&(null!=f?f.destroy():(Ts.backend,ae.app.logger.warning("Trying to destroy item "+i.id+", but item was not found!",{fileName:"tracker/ShareModel.hx",lineNumber:435,className:"tracker.ShareModel",methodName:"receiveShared"})))}}}catch(n){Sl.lastError=n;e=$.caught(n).unwrap();Ts.backend;ae.app.logger.error("Failed to receive shared data: "+K.string(e),{fileName:"tracker/ShareModel.hx",lineNumber:444,className:"tracker.ShareModel",methodName:"receiveShared"})}for(var p=oe._createdInstances,n=(oe._createdInstances=null,0),t=p.length;n<t;){var C=p[n++],v=L.field(C,"_autorunMarkedMethods");null!=v&&v.apply(C,[])}oe._serializedMap=null,oe._deserializedMap=null},serializeModel:function(e,c){var u=this,_=e._serializeId,d=this.serializedMap.h[_],n=e._serializeId,t=this.serializedMap;Object.prototype.hasOwnProperty.call(t.h,n)&&delete t.h[n],oe._serializedMap=this.serializedMap,oe._onCheckSerializable=function(e){var n=e._serializeId,t=u.trackedModels.h[n];null!=t&&t!=e&&(t=u.serializedMap,Object.prototype.hasOwnProperty.call(t.h,n))&&delete t.h[n]},oe._onAddSerializable=function(e){if(e instanceof R1){e.observedDirty=!1;var n=oe._serializedMap.h[e._serializeId],t=n.props,i={},l=!1,s=0;if(e._serializeId==_&&null!=d&&null!=d.props)for(var s=1,r=d.props,h=0,a=L.fields(t);h<a.length;){var o=a[h];++h,D4.equal(L.field(t,o),L.field(r,o))||(l=!0,i[o]=u.encodeValue(L.field(t,o)))}else for(l=!0,h=0,a=L.fields(t);h<a.length;){o=a[h];++h,i[o]=u.encodeValue(L.field(t,o))}l&&(s=new L4(n.id,s,n.type,i),c.push(s)),0<=e._lifecycleState&&!Object.prototype.hasOwnProperty.call(u.trackedModels.h,e._serializeId)&&(u.trackedModels.h[e._serializeId]=e,(u.deserializedMap.h[e._serializeId]=e).onModelDirty(u,$bind(u,u.explicitModelDirty)),e.onObservedDirty(u,$bind(u,u.modelDirty)),e.onceDestroy(u,$bind(u,u.trackedModelDestroyed)))}},oe.serializeValue(e),oe._onCheckSerializable=null,oe._onAddSerializable=null,oe._serializedMap=null},setEntity:function(e){this.entity=e instanceof R1?e:null},getEntity:function(){return this.entity},initializerName:null,unbindEvents:function(){j.prototype.unbindEvents.call(this),this.offChangeset()},__class__:M4,__properties__:$extend(j.prototype.__properties__,{get_model:"get_model"})}),function(){}),Ds=((E["tracker.Tracker"]=Ts).__name__="tracker.Tracker",function(){});function $bind(e,n){var t;return null==n?null:(null==n.__id__&&(n.__id__=ce.$haxeUID++),null==e.hx__closures__?e.hx__closures__={}:t=e.hx__closures__[n.__id__],null==t&&(t=n.bind(e),e.hx__closures__[n.__id__]=t),t)}(E["tracker.Utils"]=Ds).__name__="tracker.Utils",Ds.uniformFrequencyList=function(e,n,t){for(var i=[],l=[],s=0,r=e.length;s<r;)l[u=s++]=0;for(s=0,r=n.length;s<r;)l[u=s++]+=n[u];for(s=0,r=t;s<r;){s++;for(var h=0,a=0,o=0,c=e.length;o<c;){var u,_=l[u=o++];a<_&&(h=u,a=_)}i.push(e[h]),--l[h];for(var d=0,b=n.length;d<b;){var g=d++;l[g]+=n[g]}}return i},Ds.uniqueId=function(){switch(Ds._nextUniqueIntCursor){case 0:Ds._nextUniqueInt0=(Ds._nextUniqueInt0+1)%2147483647;break;case 1:Ds._nextUniqueInt1=(Ds._nextUniqueInt1+1)%2147483647;break;case 2:Ds._nextUniqueInt2=(Ds._nextUniqueInt2+1)%2147483647;break;case 3:Ds._nextUniqueInt3=(Ds._nextUniqueInt3+1)%2147483647}Ds._nextUniqueIntCursor=(Ds._nextUniqueIntCursor+1)%4;var e,n=Ds._nextUniqueInt0,t=(n=null==n?2147483646*Math.random()|0:n)%62|0,i=n/62|0;e=0<i?(c=(n=null==(n=i)?2147483646*Math.random()|0:n)%62|0,(l=0<(i=n/62|0)?(s=Ds.base62Id(i))+(r=9<c?(90<(_=c-10+65)&&(_+=6),String.fromCodePoint(_)):K.string(c).charAt(0)):(s=9<c?(90<(_=c-10+65)&&(_+=6),String.fromCodePoint(_)):K.string(c).charAt(0),K.string(s)))+(s=9<t?(90<(_=t-10+65)&&(_+=6),String.fromCodePoint(_)):K.string(t).charAt(0))):(l=9<t?(90<(_=t-10+65)&&(_+=6),String.fromCodePoint(_)):K.string(t).charAt(0),K.string(l));var l,t=(n=null==(n=null)?2147483646*Math.random()|0:n)%62|0;l=0<(i=n/62|0)?(c=(n=null==(n=i)?2147483646*Math.random()|0:n)%62|0,(s=0<(i=n/62|0)?(r=Ds.base62Id(i))+(h=9<c?(90<(_=c-10+65)&&(_+=6),String.fromCodePoint(_)):K.string(c).charAt(0)):(r=9<c?(90<(_=c-10+65)&&(_+=6),String.fromCodePoint(_)):K.string(c).charAt(0),K.string(r)))+(r=9<t?(90<(_=t-10+65)&&(_+=6),String.fromCodePoint(_)):K.string(t).charAt(0))):(s=9<t?(90<(_=t-10+65)&&(_+=6),String.fromCodePoint(_)):K.string(t).charAt(0),K.string(s));var s,t=(n=null==(n=Ds._nextUniqueInt1)?2147483646*Math.random()|0:n)%62|0;s=0<(i=n/62|0)?(c=(n=null==(n=i)?2147483646*Math.random()|0:n)%62|0,(r=0<(i=n/62|0)?(h=Ds.base62Id(i))+(a=9<c?(90<(_=c-10+65)&&(_+=6),String.fromCodePoint(_)):K.string(c).charAt(0)):(h=9<c?(90<(_=c-10+65)&&(_+=6),String.fromCodePoint(_)):K.string(c).charAt(0),K.string(h)))+(h=9<t?(90<(_=t-10+65)&&(_+=6),String.fromCodePoint(_)):K.string(t).charAt(0))):(r=9<t?(90<(_=t-10+65)&&(_+=6),String.fromCodePoint(_)):K.string(t).charAt(0),K.string(r));var r,t=(n=null==(n=null)?2147483646*Math.random()|0:n)%62|0;r=0<(i=n/62|0)?(c=(n=null==(n=i)?2147483646*Math.random()|0:n)%62|0,(h=0<(i=n/62|0)?(a=Ds.base62Id(i))+(o=9<c?(90<(_=c-10+65)&&(_+=6),String.fromCodePoint(_)):K.string(c).charAt(0)):(a=9<c?(90<(_=c-10+65)&&(_+=6),String.fromCodePoint(_)):K.string(c).charAt(0),K.string(a)))+(a=9<t?(90<(_=t-10+65)&&(_+=6),String.fromCodePoint(_)):K.string(t).charAt(0))):(h=9<t?(90<(_=t-10+65)&&(_+=6),String.fromCodePoint(_)):K.string(t).charAt(0),K.string(h));var h,t=(n=null==(n=Ds._nextUniqueInt2)?2147483646*Math.random()|0:n)%62|0;h=0<(i=n/62|0)?(c=(n=null==(n=i)?2147483646*Math.random()|0:n)%62|0,(a=0<(i=n/62|0)?(o=Ds.base62Id(i))+(d=9<c?(90<(_=c-10+65)&&(_+=6),String.fromCodePoint(_)):K.string(c).charAt(0)):(o=9<c?(90<(_=c-10+65)&&(_+=6),String.fromCodePoint(_)):K.string(c).charAt(0),K.string(o)))+(o=9<t?(90<(_=t-10+65)&&(_+=6),String.fromCodePoint(_)):K.string(t).charAt(0))):(a=9<t?(90<(_=t-10+65)&&(_+=6),String.fromCodePoint(_)):K.string(t).charAt(0),K.string(a));var a,t=(n=null==(n=null)?2147483646*Math.random()|0:n)%62|0;a=0<(i=n/62|0)?(c=(n=null==(n=i)?2147483646*Math.random()|0:n)%62|0,(o=0<(i=n/62|0)?(d=Ds.base62Id(i))+(u=9<c?(90<(_=c-10+65)&&(_+=6),String.fromCodePoint(_)):K.string(c).charAt(0)):(d=9<c?(90<(_=c-10+65)&&(_+=6),String.fromCodePoint(_)):K.string(c).charAt(0),K.string(d)))+(d=9<t?(90<(_=t-10+65)&&(_+=6),String.fromCodePoint(_)):K.string(t).charAt(0))):(o=9<t?(90<(_=t-10+65)&&(_+=6),String.fromCodePoint(_)):K.string(t).charAt(0),K.string(o));var o,c,u,_,d,t=(n=null==(n=Ds._nextUniqueInt3)?2147483646*Math.random()|0:n)%62|0;return d=e+"-"+l+"-"+s+"-"+r+"-"+h+"-"+a+"-"+(o=0<(i=n/62|0)?(c=(n=null==(n=i)?2147483646*Math.random()|0:n)%62|0,(d=0<(i=n/62|0)?(u=Ds.base62Id(i))+(9<c?(90<(_=c-10+65)&&(_+=6),String.fromCodePoint(_)):K.string(c).charAt(0)):(u=9<c?(90<(_=c-10+65)&&(_+=6),String.fromCodePoint(_)):K.string(c).charAt(0),K.string(u)))+(u=9<t?(90<(_=t-10+65)&&(_+=6),String.fromCodePoint(_)):K.string(t).charAt(0))):(d=9<t?(90<(_=t-10+65)&&(_+=6),String.fromCodePoint(_)):K.string(t).charAt(0),K.string(d)))},Ds.base62Id=function(e){var n,t,i=(e=null==e?2147483646*Math.random()|0:e)%62|0,e=e/62|0;return 0<e?(n=Ds.base62Id(e))+(9<i?(90<(t=i-10+65)&&(t+=6),String.fromCodePoint(t)):(null==i?"null":""+i).charAt(0)):(n=9<i?(90<(t=i-10+65)&&(t+=6),String.fromCodePoint(t)):(null==i?"null":""+i).charAt(0),K.string(n))},Ds.encodeChangesetData=function(e){return e.length+":"+e},Ds.decodeChangesetData=function(e){for(var n=new Nl,t=null,i=[];;){var l=e.indexOf(":");if(-1==l)break;var s=K.parseInt(he.substr(e,0,l)),r=he.substr(e,l+1,s);i.push(r),e=he.substr(e,l+1+s,null)}for(var h=i.length-1;0<=h;){var a=i[h];if(0==h)for(var o=new kl(a),t=o.unserialize(),o=o.unserialize().h,c=o,u=Object.keys(o),_=u.length,d=0;d<_;){var b=c[u[d++]],g=b.id;Object.prototype.hasOwnProperty.call(n.h,g)||(n.h[g]=b)}else for(var O=new kl(a).unserialize(),f=0;f<O.length;){var p=O[f],C=(++f,p.id);Object.prototype.hasOwnProperty.call(n.h,C)||(n.h[C]=p)}--h}return{serialized:t,serializedMap:n}},Ds.equalAny=function(e,n){return e==n},ce.$haxeUID|=0,"undefined"!=typeof performance&&"function"==typeof performance.now&&(he.now=performance.now.bind(performance)),E.Math=Math,null==String.fromCodePoint&&(String.fromCodePoint=function(e){return e<65536?String.fromCharCode(e):String.fromCharCode(55232+(e>>10))+String.fromCharCode(56320+(1023&e))}),Object.defineProperty(String.prototype,"__class__",{value:E.String=String,enumerable:!1,writable:!0}),String.__name__="String",(E.Array=Array).__name__="Array",(Date.prototype.__class__=E.Date=Date).__name__="Date";var xs={},Ss={},As=Number,ks=Boolean,Is={},Ps={};F.bind(),Os.__toStr={}.toString,null==ArrayBuffer.prototype.slice&&(ArrayBuffer.prototype.slice=a4.sliceImpl),f.escapeRe=new RegExp("[.*+?^${}()|[\\]\\\\]","g"),l._decomposed1=new k,l._decomposed2=new k,l._tmp=new l,n.pool=new m,o.DEPTH_FACTOR=1e3,o.DEPTH_MARGIN=.01,o.FLAG_NOT_ACTIVE=1,o.FLAG_VISIBLE_WHEN_ACTIVE=2,o.FLAG_TOUCHABLE_WHEN_ACTIVE=4,o.FLAG_IS_HIT_VISUAL=8,o._degToRad=.017453292519943295,o._matrix=new l,o._point=new n,o._minDepth=0,o._maxDepth=0,p.FLAG_TRANSPARENT=16,p.FLAG_ROTATE_FRAME=32,p._matrix=o._matrix,p._degToRad=.017453292519943295,t.__meta__={fields:{unobservedStatus:{observe:null}}},D.Element=0,D.PCData=1,D.CData=2,D.Comment=3,D.DocType=4,D.ProcessingInstruction=5,D.Document=6,Oe.instances=[],Oe.all=[],Oe.allDirs=[],Oe.allByName=new Nl,Oe.allDirsByName=new Nl,Oe.customAssetKinds=new Nl,Oe._instances=[],F.all=["single-tile.png","entypo.fnt","entypo.png","RobotoMedium.fnt","white.png","RobotoMedium.png"],F.allDirs=[],F.allByName=((e=new Nl).h.white=["white.png"],e.h["single-tile"]=["single-tile.png"],e.h.entypo=["entypo.fnt","entypo.png"],e.h.RobotoMedium=["RobotoMedium.fnt","RobotoMedium.png"],e),F.allDirsByName=new Nl,fe.WHITE="image:white",fe.SINGLE_TILE="image:single-tile",fe.ROBOTO_MEDIUM="image:RobotoMedium",fe.ENTYPO="image:entypo",I.filterIdsByBus=[],I.activeBusFilters=[],I.busFilterReadyCallbacks=[],I.postWorkletSyncCallbacks=[],R.GAMEPAD_STORAGE_SIZE=32,J._activeTextureSlot=0,J._didUpdateCurrentRenderTarget=!1,J._projectionMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),J._modelViewMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),J._modelViewTransform=new l,J._renderTargetTransform=new l,J._viewportDensity=1,J._viewportWidth=0,J._viewportHeight=0,J._blackTransparentColor=(e=0)|(255<(e=null==e?255:e)?255:e<0?0:e)<<24,J._whiteTransparentColor=16777215|(255<(e=null==(e=0)?255:e)?255:e<0?0:e)<<24,J._drawingInStencilBuffer=!1,ye.RE_OPERA=new f("OPR/([0-6].)","g"),ye.RE_SAFARI_VERSION=new f("Version/(.*?) ",""),ba.lastResizeTime=-1,ba.lastNewWidth=-1,ba.lastNewHeight=-1,ba.readyToDisplay=!1,ba.resizing=0,ba.containerWidth=0,ba.containerHeight=0,ba.containerPixelRatio=0,ba._displayReady=!1,ke._maxTextureSize=-1,ke._maxTexturesByBatch=-1,za._matrix=o._matrix,C.ALLOC_STEP=10,C.dynPool10=new C(10),C.dynPool100=new C(100),C.dynPool1000=new C(1e3),C.dynPool10000=new C(1e4),C.dynPool100000=new C(1e5),C.didNotifyLargePool=!1,Fa.__meta__={fields:{unobservedStatus:{observe:null}}},Be.__meta__={fields:{unobservedAtlas:{observe:null},unobservedText:{observe:null}}},Ra.SAMPLE_STEP_SIZE=(Ma._nextFilterId=1)/((Ra.SPLINE_TABLE_SIZE=11)-1),Ra.NEWTON_ITERATIONS=4,Ra.NEWTON_MIN_SLOPE=.001,Ra.SUBDIVISION_PRECISION=1e-7,Ra.SUBDIVISION_MAX_ITERATIONS=10,Ra.TWO_THIRD=.6666666666666666,Ra.CACHE_SIZE=1e4,Ra.numCachedInstances=0,Le.__meta__={fields:{unobservedBytes:{observe:null}}},b0.__meta__={fields:{unobservedPressed:{observe:null}}},We._nextInternalId=0,e0._nextId=1,e0._nextIndex=1,e0._fieldInfo={name:{type:"String"},id:{type:"String"},index:{type:"Int"}},f0.nextVIndex=1,f0._layoutRequested=!1,f0._layouting=!1,P.NONE=-1,P.WHITE=16777215,P.GRAY=8421504,P.BLACK=0,P.GREEN=32768,P.LIME=65280,P.YELLOW=16776960,P.ORANGE=16753920,P.RED=16711680,P.PURPLE=8388736,P.BLUE=255,P.BROWN=9127187,P.PINK=16761035,P.MAGENTA=16711935,P.CYAN=65535,P.CORNFLOWERBLUE=6591981,P.MEDIUMVIOLETRED=13047173,P.DEEPPINK=16716947,P.PALEVIOLETRED=14381203,P.HOTPINK=16738740,P.LIGHTPINK=16758465,P.DARKRED=9109504,P.FIREBRICK=11674146,P.CRIMSON=14423100,P.INDIANRED=13458524,P.LIGHTCORAL=15761536,P.SALMON=16416882,P.DARKSALMON=15308410,P.LIGHTSALMON=16752762,P.ORANGERED=16729344,P.TOMATO=16737095,P.DARKORANGE=16747520,P.CORAL=16744272,P.DARKKHAKI=12433259,P.GOLD=16766720,P.KHAKI=15787660,P.PEACHPUFF=16767673,P.PALEGOLDENROD=15657130,P.MOCCASIN=16770229,P.PAPAYAWHIP=16773077,P.LEMONCHIFFON=16775885,P.LIGHTYELLOW=16777184,P.SIENNA=10506797,P.CHOCOLATE=13789470,P.PERU=13468991,P.TAN=13808780,P.DARKOLIVEGREEN=5597999,P.OLIVE=8421376,P.TEAL=32896,P.TURQUOISE=4251856,P.NAVY=128,P.INDIGO=4915330,P.ORCHID=14315734,P.LAVENDER=15132410,P.AZURE=15794175,P.IVORY=16777200,P.DIMGREY=6908265,P.SLATEGREY=7372944,P.SNOW=16775930,P.colorLookup=((e=new Nl).h.NONE=-1,e.h.WHITE=16777215,e.h.GRAY=8421504,e.h.BLACK=0,e.h.GREEN=32768,e.h.LIME=65280,e.h.YELLOW=16776960,e.h.ORANGE=16753920,e.h.RED=16711680,e.h.PURPLE=8388736,e.h.BLUE=255,e.h.BROWN=9127187,e.h.PINK=16761035,e.h.MAGENTA=16711935,e.h.CYAN=65535,e.h.CORNFLOWERBLUE=6591981,e.h.MEDIUMVIOLETRED=13047173,e.h.DEEPPINK=16716947,e.h.PALEVIOLETRED=14381203,e.h.HOTPINK=16738740,e.h.LIGHTPINK=16758465,e.h.DARKRED=9109504,e.h.FIREBRICK=11674146,e.h.CRIMSON=14423100,e.h.INDIANRED=13458524,e.h.LIGHTCORAL=15761536,e.h.SALMON=16416882,e.h.DARKSALMON=15308410,e.h.LIGHTSALMON=16752762,e.h.ORANGERED=16729344,e.h.TOMATO=16737095,e.h.DARKORANGE=16747520,e.h.CORAL=16744272,e.h.DARKKHAKI=12433259,e.h.GOLD=16766720,e.h.KHAKI=15787660,e.h.PEACHPUFF=16767673,e.h.PALEGOLDENROD=15657130,e.h.MOCCASIN=16770229,e.h.PAPAYAWHIP=16773077,e.h.LEMONCHIFFON=16775885,e.h.LIGHTYELLOW=16777184,e.h.SIENNA=10506797,e.h.CHOCOLATE=13789470,e.h.PERU=13468991,e.h.TAN=13808780,e.h.DARKOLIVEGREEN=5597999,e.h.OLIVE=8421376,e.h.TEAL=32896,e.h.TURQUOISE=4251856,e.h.NAVY=128,e.h.INDIGO=4915330,e.h.ORCHID=14315734,e.h.LAVENDER=15132410,e.h.AZURE=15794175,e.h.IVORY=16777200,e.h.DIMGREY=6908265,e.h.SLATEGREY=7372944,e.h.SNOW=16775930,e),P._hsluvTuple=[0,0,0],P._hsluvResult=[0,0,0],P._hsluvCacheMap=new Ge,P._hsluvCacheValues=[],Ke.NO_SIZE=-2147483640,Ke._pool=new m,sn.__meta__={fields:{unobservedDatabase:{observe:null}}},K0._emptyArray=[],M0._point=new n,on.fieldInfoMap=new Nl,cn.metaMap=new Nl,cn.metaMapRecursive=new Nl,_n.__meta__={fields:{unobservedRenderTexture:{observe:null}}},_n._matrix=o._matrix,dn.__meta__={fields:{unobservedFont:{observe:null}}},Y0.basicTypes=((e=new Nl).h.Bool=!0,e.h.Int=!0,e.h.Float=!0,e.h.String=!0,e.h["ceramic.Color"]=!0,e.h["ceramic.ScriptContent"]=!0,e),Y0.cachedFragmentData=new Nl,Y0._trackResult=new X0,Y0._keyframeResult=new X0,Y0._usedKeyframes=[],bn.__meta__={fields:{unobservedFragments:{observe:null}}},On._lastDecodeIncomplete=!15,fn.__meta__={fields:{unobservedTexture:{observe:null}}},vn.GAMEPAD_STORAGE_SIZE=32,Pn.NO_VALUE=0,Pn.NULL_VALUE=1,Pn.RESERVED_GAP=2,Ln.instances=[],a.UNKNOWN=0,a.ENTER=13,a.ESCAPE=27,a.BACKSPACE=8,a.TAB=9,a.SPACE=32,a.EXCLAIM=33,a.QUOTEDBL=34,a.HASH=35,a.PERCENT=37,a.DOLLAR=36,a.AMPERSAND=38,a.QUOTE=39,a.LEFTPAREN=40,a.RIGHTPAREN=41,a.ASTERISK=42,a.PLUS=43,a.COMMA=44,a.MINUS=45,a.PERIOD=46,a.SLASH=47,a.KEY_0=48,a.KEY_1=49,a.KEY_2=50,a.KEY_3=51,a.KEY_4=52,a.KEY_5=53,a.KEY_6=54,a.KEY_7=55,a.KEY_8=56,a.KEY_9=57,a.COLON=58,a.SEMICOLON=59,a.LESS=60,a.EQUALS=61,a.GREATER=62,a.QUESTION=63,a.AT=64,a.LEFTBRACKET=91,a.BACKSLASH=92,a.RIGHTBRACKET=93,a.CARET=94,a.UNDERSCORE=95,a.BACKQUOTE=96,a.KEY_A=97,a.KEY_B=98,a.KEY_C=99,a.KEY_D=100,a.KEY_E=101,a.KEY_F=102,a.KEY_G=103,a.KEY_H=104,a.KEY_I=105,a.KEY_J=106,a.KEY_K=107,a.KEY_L=108,a.KEY_M=109,a.KEY_N=110,a.KEY_O=111,a.KEY_P=112,a.KEY_Q=113,a.KEY_R=114,a.KEY_S=115,a.KEY_T=116,a.KEY_U=117,a.KEY_V=118,a.KEY_W=119,a.KEY_X=120,a.KEY_Y=121,a.KEY_Z=122,a.CAPSLOCK=1073741881,a.F1=1073741882,a.F2=1073741883,a.F3=1073741884,a.F4=1073741885,a.F5=1073741886,a.F6=1073741887,a.F7=1073741888,a.F8=1073741889,a.F9=1073741890,a.F10=1073741891,a.F11=1073741892,a.F12=1073741893,a.PRINTSCREEN=1073741894,a.SCROLLLOCK=1073741895,a.PAUSE=1073741896,a.INSERT=1073741897,a.HOME=1073741898,a.PAGEUP=1073741899,a.DELETE=127,a.END=1073741901,a.PAGEDOWN=1073741902,a.RIGHT=1073741903,a.LEFT=1073741904,a.DOWN=1073741905,a.UP=1073741906,a.NUMLOCKCLEAR=1073741907,a.KP_DIVIDE=1073741908,a.KP_MULTIPLY=1073741909,a.KP_MINUS=1073741910,a.KP_PLUS=1073741911,a.KP_ENTER=1073741912,a.KP_1=1073741913,a.KP_2=1073741914,a.KP_3=1073741915,a.KP_4=1073741916,a.KP_5=1073741917,a.KP_6=1073741918,a.KP_7=1073741919,a.KP_8=1073741920,a.KP_9=1073741921,a.KP_0=1073741922,a.KP_PERIOD=1073741923,a.APPLICATION=1073741925,a.POWER=1073741926,a.KP_EQUALS=1073741927,a.F13=1073741928,a.F14=1073741929,a.F15=1073741930,a.F16=1073741931,a.F17=1073741932,a.F18=1073741933,a.F19=1073741934,a.F20=1073741935,a.F21=1073741936,a.F22=1073741937,a.F23=1073741938,a.F24=1073741939,a.EXECUTE=1073741940,a.HELP=1073741941,a.MENU=1073741942,a.SELECT=1073741943,a.STOP=1073741944,a.AGAIN=1073741945,a.UNDO=1073741946,a.CUT=1073741947,a.COPY=1073741948,a.PASTE=1073741949,a.FIND=1073741950,a.MUTE=1073741951,a.VOLUMEUP=1073741952,a.VOLUMEDOWN=1073741953,a.KP_COMMA=1073741957,a.KP_EQUALSAS400=1073741958,a.ALTERASE=1073741977,a.SYSREQ=1073741978,a.CANCEL=1073741979,a.CLEAR=1073741980,a.PRIOR=1073741981,a.RETURN2=1073741982,a.SEPARATOR=1073741983,a.OUT=1073741984,a.OPER=1073741985,a.CLEARAGAIN=1073741986,a.CRSEL=1073741987,a.EXSEL=1073741988,a.KP_00=1073742e3,a.KP_000=1073742001,a.THOUSANDSSEPARATOR=1073742002,a.DECIMALSEPARATOR=1073742003,a.CURRENCYUNIT=1073742004,a.CURRENCYSUBUNIT=1073742005,a.KP_LEFTPAREN=1073742006,a.KP_RIGHTPAREN=1073742007,a.KP_LEFTBRACE=1073742008,a.KP_RIGHTBRACE=1073742009,a.KP_TAB=1073742010,a.KP_BACKSPACE=1073742011,a.KP_A=1073742012,a.KP_B=1073742013,a.KP_C=1073742014,a.KP_D=1073742015,a.KP_E=1073742016,a.KP_F=1073742017,a.KP_XOR=1073742018,a.KP_POWER=1073742019,a.KP_PERCENT=1073742020,a.KP_LESS=1073742021,a.KP_GREATER=1073742022,a.KP_AMPERSAND=1073742023,a.KP_DBLAMPERSAND=1073742024,a.KP_VERTICALBAR=1073742025,a.KP_DBLVERTICALBAR=1073742026,a.KP_COLON=1073742027,a.KP_HASH=1073742028,a.KP_SPACE=1073742029,a.KP_AT=1073742030,a.KP_EXCLAM=1073742031,a.KP_MEMSTORE=1073742032,a.KP_MEMRECALL=1073742033,a.KP_MEMCLEAR=1073742034,a.KP_MEMADD=1073742035,a.KP_MEMSUBTRACT=1073742036,a.KP_MEMMULTIPLY=1073742037,a.KP_MEMDIVIDE=1073742038,a.KP_PLUSMINUS=1073742039,a.KP_CLEAR=1073742040,a.KP_CLEARENTRY=1073742041,a.KP_BINARY=1073742042,a.KP_OCTAL=1073742043,a.KP_DECIMAL=1073742044,a.KP_HEXADECIMAL=1073742045,a.LCTRL=1073742048,a.LSHIFT=1073742049,a.LALT=1073742050,a.LMETA=1073742051,a.RCTRL=1073742052,a.RSHIFT=1073742053,a.RALT=1073742054,a.RMETA=1073742055,a.MODE=1073742081,a.AUDIONEXT=1073742082,a.AUDIOPREV=1073742083,a.AUDIOSTOP=1073742084,a.AUDIOPLAY=1073742085,a.AUDIOMUTE=1073742086,a.MEDIASELECT=1073742087,a.WWW=1073742088,a.MAIL=1073742089,a.CALCULATOR=1073742090,a.COMPUTER=1073742091,a.AC_SEARCH=1073742092,a.AC_HOME=1073742093,a.AC_BACK=1073742094,a.AC_FORWARD=1073742095,a.AC_STOP=1073742096,a.AC_REFRESH=1073742097,a.AC_BOOKMARKS=1073742098,a.BRIGHTNESSDOWN=1073742099,a.BRIGHTNESSUP=1073742100,a.DISPLAYSWITCH=1073742101,a.KBDILLUMTOGGLE=1073742102,a.KBDILLUMDOWN=1073742103,a.KBDILLUMUP=1073742104,a.EJECT=1073742105,a.SLEEP=1073742106,Hb.NUMBER_NONE=-9999999999,Hb.MATH_TWO_PI=6.28318530718,Hb.MATH_HALF_PI=1.57079632679,Hb.MATH_PI_AND_HALF=4.71238898038,Hb.miterUtils=new Gb,Ib._stroke=new Hb,Wn._hasElectronRunner=!1,Wn.didInitOnce=!1,Yn.exec__execDidLogError=!1,Yn._isWindowsValue=0,Yn._execDidLogError=!1,Kn._nextIndex=1,d.MASK=1073741824,d.UNKNOWN=0,d.KEY_A=4,d.KEY_B=5,d.KEY_C=6,d.KEY_D=7,d.KEY_E=8,d.KEY_F=9,d.KEY_G=10,d.KEY_H=11,d.KEY_I=12,d.KEY_J=13,d.KEY_K=14,d.KEY_L=15,d.KEY_M=16,d.KEY_N=17,d.KEY_O=18,d.KEY_P=19,d.KEY_Q=20,d.KEY_R=21,d.KEY_S=22,d.KEY_T=23,d.KEY_U=24,d.KEY_V=25,d.KEY_W=26,d.KEY_X=27,d.KEY_Y=28,d.KEY_Z=29,d.KEY_1=30,d.KEY_2=31,d.KEY_3=32,d.KEY_4=33,d.KEY_5=34,d.KEY_6=35,d.KEY_7=36,d.KEY_8=37,d.KEY_9=38,d.KEY_0=39,d.ENTER=40,d.ESCAPE=41,d.BACKSPACE=42,d.TAB=43,d.SPACE=44,d.MINUS=45,d.EQUALS=46,d.LEFTBRACKET=47,d.RIGHTBRACKET=48,d.BACKSLASH=49,d.NONUSHASH=50,d.SEMICOLON=51,d.APOSTROPHE=52,d.GRAVE=53,d.COMMA=54,d.PERIOD=55,d.SLASH=56,d.CAPSLOCK=57,d.F1=58,d.F2=59,d.F3=60,d.F4=61,d.F5=62,d.F6=63,d.F7=64,d.F8=65,d.F9=66,d.F10=67,d.F11=68,d.F12=69,d.PRINTSCREEN=70,d.SCROLLLOCK=71,d.PAUSE=72,d.INSERT=73,d.HOME=74,d.PAGEUP=75,d.DELETE=76,d.END=77,d.PAGEDOWN=78,d.RIGHT=79,d.LEFT=80,d.DOWN=81,d.UP=82,d.NUMLOCKCLEAR=83,d.KP_DIVIDE=84,d.KP_MULTIPLY=85,d.KP_MINUS=86,d.KP_PLUS=87,d.KP_ENTER=88,d.KP_1=89,d.KP_2=90,d.KP_3=91,d.KP_4=92,d.KP_5=93,d.KP_6=94,d.KP_7=95,d.KP_8=96,d.KP_9=97,d.KP_0=98,d.KP_PERIOD=99,d.NONUSBACKSLASH=100,d.APPLICATION=101,d.POWER=102,d.KP_EQUALS=103,d.F13=104,d.F14=105,d.F15=106,d.F16=107,d.F17=108,d.F18=109,d.F19=110,d.F20=111,d.F21=112,d.F22=113,d.F23=114,d.F24=115,d.EXECUTE=116,d.HELP=117,d.MENU=118,d.SELECT=119,d.STOP=120,d.AGAIN=121,d.UNDO=122,d.CUT=123,d.COPY=124,d.PASTE=125,d.FIND=126,d.MUTE=127,d.VOLUMEUP=128,d.VOLUMEDOWN=129,d.KP_COMMA=133,d.KP_EQUALSAS400=134,d.INTERNATIONAL1=135,d.INTERNATIONAL2=136,d.INTERNATIONAL3=137,d.INTERNATIONAL4=138,d.INTERNATIONAL5=139,d.INTERNATIONAL6=140,d.INTERNATIONAL7=141,d.INTERNATIONAL8=142,d.INTERNATIONAL9=143,d.LANG1=144,d.LANG2=145,d.LANG3=146,d.LANG4=147,d.LANG5=148,d.LANG6=149,d.LANG7=150,d.LANG8=151,d.LANG9=152,d.ALTERASE=153,d.SYSREQ=154,d.CANCEL=155,d.CLEAR=156,d.PRIOR=157,d.RETURN2=158,d.SEPARATOR=159,d.OUT=160,d.OPER=161,d.CLEARAGAIN=162,d.CRSEL=163,d.EXSEL=164,d.KP_00=176,d.KP_000=177,d.THOUSANDSSEPARATOR=178,d.DECIMALSEPARATOR=179,d.CURRENCYUNIT=180,d.CURRENCYSUBUNIT=181,d.KP_LEFTPAREN=182,d.KP_RIGHTPAREN=183,d.KP_LEFTBRACE=184,d.KP_RIGHTBRACE=185,d.KP_TAB=186,d.KP_BACKSPACE=187,d.KP_A=188,d.KP_B=189,d.KP_C=190,d.KP_D=191,d.KP_E=192,d.KP_F=193,d.KP_XOR=194,d.KP_POWER=195,d.KP_PERCENT=196,d.KP_LESS=197,d.KP_GREATER=198,d.KP_AMPERSAND=199,d.KP_DBLAMPERSAND=200,d.KP_VERTICALBAR=201,d.KP_DBLVERTICALBAR=202,d.KP_COLON=203,d.KP_HASH=204,d.KP_SPACE=205,d.KP_AT=206,d.KP_EXCLAM=207,d.KP_MEMSTORE=208,d.KP_MEMRECALL=209,d.KP_MEMCLEAR=210,d.KP_MEMADD=211,d.KP_MEMSUBTRACT=212,d.KP_MEMMULTIPLY=213,d.KP_MEMDIVIDE=214,d.KP_PLUSMINUS=215,d.KP_CLEAR=216,d.KP_CLEARENTRY=217,d.KP_BINARY=218,d.KP_OCTAL=219,d.KP_DECIMAL=220,d.KP_HEXADECIMAL=221,d.LCTRL=224,d.LSHIFT=225,d.LALT=226,d.LMETA=227,d.RCTRL=228,d.RSHIFT=229,d.RALT=230,d.RMETA=231,d.MODE=257,d.AUDIONEXT=258,d.AUDIOPREV=259,d.AUDIOSTOP=260,d.AUDIOPLAY=261,d.AUDIOMUTE=262,d.MEDIASELECT=263,d.WWW=264,d.MAIL=265,d.CALCULATOR=266,d.COMPUTER=267,d.AC_SEARCH=268,d.AC_HOME=269,d.AC_BACK=270,d.AC_FORWARD=271,d.AC_STOP=272,d.AC_REFRESH=273,d.AC_BOOKMARKS=274,d.BRIGHTNESSDOWN=275,d.BRIGHTNESSUP=276,d.DISPLAYSWITCH=277,d.KBDILLUMTOGGLE=278,d.KBDILLUMDOWN=279,d.KBDILLUMUP=280,d.EJECT=281,d.SLEEP=282,d.APP1=283,d.APP2=284,d.scanCodeNames=[null,null,null,null,"A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","1","2","3","4","5","6","7","8","9","0","Enter","Escape","Backspace","Tab","Space","-","=","[","]","\\","#",";","'","`",",",".","/","CapsLock","F1","F2","F3","F4","F5","F6","F7","F8","F9","F10","F11","F12","PrintScreen","ScrollLock","Pause","Insert","Home","PageUp","Delete","End","PageDown","Right","Left","Down","Up","Numlock","Keypad /","Keypad *","Keypad -","Keypad +","Keypad Enter","Keypad 1","Keypad 2","Keypad 3","Keypad 4","Keypad 5","Keypad 6","Keypad 7","Keypad 8","Keypad 9","Keypad 0","Keypad .",null,"Application","Power","Keypad =","F13","F14","F15","F16","F17","F18","F19","F20","F21","F22","F23","F24","Execute","Help","Menu","Select","Stop","Again","Undo","Cut","Copy","Paste","Find","Mute","VolumeUp","VolumeDown",null,null,null,"Keypad ,","Keypad = (AS400)",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"AltErase","SysReq","Cancel","Clear","Prior","Enter","Separator","Out","Oper","Clear / Again","CrSel","ExSel",null,null,null,null,null,null,null,null,null,null,null,"Keypad 00","Keypad 000","ThousandsSeparator","DecimalSeparator","CurrencyUnit","CurrencySubUnit","Keypad (","Keypad )","Keypad {","Keypad }","Keypad Tab","Keypad Backspace","Keypad A","Keypad B","Keypad C","Keypad D","Keypad E","Keypad F","Keypad XOR","Keypad ^","Keypad %","Keypad <","Keypad >","Keypad &","Keypad &&","Keypad |","Keypad ||","Keypad :","Keypad #","Keypad Space","Keypad @","Keypad !","Keypad MemStore","Keypad MemRecall","Keypad MemClear","Keypad MemAdd","Keypad MemSubtract","Keypad MemMultiply","Keypad MemDivide","Keypad +/-","Keypad Clear","Keypad ClearEntry","Keypad Binary","Keypad Octal","Keypad Decimal","Keypad Hexadecimal",null,null,"Left Ctrl","Left Shift","Left Alt","Left Meta","Right Ctrl","Right Shift","Right Alt","Right Meta",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"ModeSwitch","AudioNext","AudioPrev","AudioStop","AudioPlay","AudioMute","MediaSelect","WWW","Mail","Calculator","Computer","AC Search","AC Home","AC Back","AC Forward","AC Stop","AC Refresh","AC Bookmarks","BrightnessDown","BrightnessUp","DisplaySwitch","KBDIllumToggle","KBDIllumDown","KBDIllumUp","Eject","Sleep"],Jn.NONE=0,Jn.PRELOAD=1,Jn.LOAD=2,Jn.CREATE=3,Jn.FADE_IN=4,Jn.READY=5,Jn.FADE_OUT=6,Jn.DISABLED=7,et.lazyShared=!0,nt.__meta__={fields:{unobservedFocusedVisual:{observe:null},unobservedTexturesDensity:{observe:null}}},lt.__meta__={fields:{unobservedStatus:{observe:null}}},lt._point=new n(0,0),lt.threshold=4,rt.__meta__={fields:{unobservedContainer:{observe:null},unobservedAllowSelectingFromPointer:{observe:null},unobservedShowCursor:{observe:null},unobservedSelectionStart:{observe:null},unobservedSelectionEnd:{observe:null},unobservedInvertedSelection:{observe:null},unobservedPointerIsDown:{observe:null}}},rt._point=new n,ht.__meta__={fields:{unobservedTargetWidth:{observe:null},unobservedTargetHeight:{observe:null},unobservedWindowWidth:{observe:null},unobservedWindowHeight:{observe:null},unobservedTargetDensity:{observe:null},unobservedBackground:{observe:null},unobservedScaling:{observe:null},unobservedTitle:{observe:null},unobservedFullscreen:{observe:null},unobservedTargetFps:{observe:null},unobservedMaxDelta:{observe:null},unobservedOverrideDelta:{observe:null},unobservedPreventDefaultMouseWheel:{observe:null},unobservedPreventDefaultTouches:{observe:null}}},at.__meta__={fields:{unobservedShader:{observe:null}}},ct.RE_SLUG_REMOVE_CHARS=new f("[$*+~.()'\"!\\\\:@\\?]","g"),ct.DEFAULT_OPTIONS=new o1(null,null,null),ct.charMap=((e=new Ll).h[36]="dollar",e.h[37]="percent",e.h[38]="and",e.h[60]="less",e.h[62]="greater",e.h[124]="or",e.h[162]="cent",e.h[163]="pound",e.h[164]="currency",e.h[165]="yen",e.h[169]="(c)",e.h[170]="a",e.h[174]="(r)",e.h[186]="o",e.h[192]="A",e.h[193]="A",e.h[194]="A",e.h[195]="A",e.h[196]="A",e.h[197]="A",e.h[198]="AE",e.h[199]="C",e.h[200]="E",e.h[201]="E",e.h[202]="E",e.h[203]="E",e.h[204]="I",e.h[205]="I",e.h[206]="I",e.h[207]="I",e.h[208]="D",e.h[209]="N",e.h[210]="O",e.h[211]="O",e.h[212]="O",e.h[213]="O",e.h[214]="O",e.h[216]="O",e.h[217]="U",e.h[218]="U",e.h[219]="U",e.h[220]="U",e.h[221]="Y",e.h[222]="TH",e.h[223]="ss",e.h[224]="a",e.h[225]="a",e.h[226]="a",e.h[227]="a",e.h[228]="a",e.h[229]="a",e.h[230]="ae",e.h[231]="c",e.h[232]="e",e.h[233]="e",e.h[234]="e",e.h[235]="e",e.h[236]="i",e.h[237]="i",e.h[238]="i",e.h[239]="i",e.h[240]="d",e.h[241]="n",e.h[242]="o",e.h[243]="o",e.h[244]="o",e.h[245]="o",e.h[246]="o",e.h[248]="o",e.h[249]="u",e.h[250]="u",e.h[251]="u",e.h[252]="u",e.h[253]="y",e.h[254]="th",e.h[255]="y",e.h[256]="A",e.h[257]="a",e.h[258]="A",e.h[259]="a",e.h[260]="A",e.h[261]="a",e.h[262]="C",e.h[263]="c",e.h[268]="C",e.h[269]="c",e.h[270]="D",e.h[271]="d",e.h[272]="DJ",e.h[273]="dj",e.h[274]="E",e.h[275]="e",e.h[278]="E",e.h[279]="e",e.h[280]="e",e.h[281]="e",e.h[282]="E",e.h[283]="e",e.h[286]="G",e.h[287]="g",e.h[290]="G",e.h[291]="g",e.h[296]="I",e.h[297]="i",e.h[298]="i",e.h[299]="i",e.h[302]="I",e.h[303]="i",e.h[304]="I",e.h[305]="i",e.h[310]="k",e.h[311]="k",e.h[315]="L",e.h[316]="l",e.h[317]="L",e.h[318]="l",e.h[321]="L",e.h[322]="l",e.h[323]="N",e.h[324]="n",e.h[325]="N",e.h[326]="n",e.h[327]="N",e.h[328]="n",e.h[336]="O",e.h[337]="o",e.h[338]="OE",e.h[339]="oe",e.h[340]="R",e.h[341]="r",e.h[344]="R",e.h[345]="r",e.h[346]="S",e.h[347]="s",e.h[350]="S",e.h[351]="s",e.h[352]="S",e.h[353]="s",e.h[354]="T",e.h[355]="t",e.h[356]="T",e.h[357]="t",e.h[360]="U",e.h[361]="u",e.h[362]="u",e.h[363]="u",e.h[366]="U",e.h[367]="u",e.h[368]="U",e.h[369]="u",e.h[370]="U",e.h[371]="u",e.h[377]="Z",e.h[378]="z",e.h[379]="Z",e.h[380]="z",e.h[381]="Z",e.h[382]="z",e.h[402]="f",e.h[416]="O",e.h[417]="o",e.h[431]="U",e.h[432]="u",e.h[456]="LJ",e.h[457]="lj",e.h[459]="NJ",e.h[460]="nj",e.h[536]="S",e.h[537]="s",e.h[538]="T",e.h[539]="t",e.h[730]="o",e.h[902]="A",e.h[904]="E",e.h[905]="H",e.h[906]="I",e.h[908]="O",e.h[910]="Y",e.h[911]="W",e.h[912]="i",e.h[913]="A",e.h[914]="B",e.h[915]="G",e.h[916]="D",e.h[917]="E",e.h[918]="Z",e.h[919]="H",e.h[920]="8",e.h[921]="I",e.h[922]="K",e.h[923]="L",e.h[924]="M",e.h[925]="N",e.h[926]="3",e.h[927]="O",e.h[928]="P",e.h[929]="R",e.h[931]="S",e.h[932]="T",e.h[933]="Y",e.h[934]="F",e.h[935]="X",e.h[936]="PS",e.h[937]="W",e.h[938]="I",e.h[939]="Y",e.h[940]="a",e.h[941]="e",e.h[942]="h",e.h[943]="i",e.h[944]="y",e.h[945]="a",e.h[946]="b",e.h[947]="g",e.h[948]="d",e.h[949]="e",e.h[950]="z",e.h[951]="h",e.h[952]="8",e.h[953]="i",e.h[954]="k",e.h[955]="l",e.h[956]="m",e.h[957]="n",e.h[958]="3",e.h[959]="o",e.h[960]="p",e.h[961]="r",e.h[962]="s",e.h[963]="s",e.h[964]="t",e.h[965]="y",e.h[966]="f",e.h[967]="x",e.h[968]="ps",e.h[969]="w",e.h[970]="i",e.h[971]="y",e.h[972]="o",e.h[973]="y",e.h[974]="w",e.h[1025]="Yo",e.h[1026]="DJ",e.h[1028]="Ye",e.h[1030]="I",e.h[1031]="Yi",e.h[1032]="J",e.h[1033]="LJ",e.h[1034]="NJ",e.h[1035]="C",e.h[1039]="DZ",e.h[1040]="A",e.h[1041]="B",e.h[1042]="V",e.h[1043]="G",e.h[1044]="D",e.h[1045]="E",e.h[1046]="Zh",e.h[1047]="Z",e.h[1048]="I",e.h[1049]="J",e.h[1050]="K",e.h[1051]="L",e.h[1052]="M",e.h[1053]="N",e.h[1054]="O",e.h[1055]="P",e.h[1056]="R",e.h[1057]="S",e.h[1058]="T",e.h[1059]="U",e.h[1060]="F",e.h[1061]="H",e.h[1062]="C",e.h[1063]="Ch",e.h[1064]="Sh",e.h[1065]="Sh",e.h[1066]="U",e.h[1067]="Y",e.h[1068]="",e.h[1069]="E",e.h[1070]="Yu",e.h[1071]="Ya",e.h[1072]="a",e.h[1073]="b",e.h[1074]="v",e.h[1075]="g",e.h[1076]="d",e.h[1077]="e",e.h[1078]="zh",e.h[1079]="z",e.h[1080]="i",e.h[1081]="j",e.h[1082]="k",e.h[1083]="l",e.h[1084]="m",e.h[1085]="n",e.h[1086]="o",e.h[1087]="p",e.h[1088]="r",e.h[1089]="s",e.h[1090]="t",e.h[1091]="u",e.h[1092]="f",e.h[1093]="h",e.h[1094]="c",e.h[1095]="ch",e.h[1096]="sh",e.h[1097]="sh",e.h[1098]="u",e.h[1099]="y",e.h[1100]="",e.h[1101]="e",e.h[1102]="yu",e.h[1103]="ya",e.h[1105]="yo",e.h[1106]="dj",e.h[1108]="ye",e.h[1110]="i",e.h[1111]="yi",e.h[1112]="j",e.h[1113]="lj",e.h[1114]="nj",e.h[1115]="c",e.h[1119]="dz",e.h[1168]="G",e.h[1169]="g",e.h[3647]="baht",e.h[4304]="a",e.h[4305]="b",e.h[4306]="g",e.h[4307]="d",e.h[4308]="e",e.h[4309]="v",e.h[4310]="z",e.h[4311]="t",e.h[4312]="i",e.h[4313]="k",e.h[4314]="l",e.h[4315]="m",e.h[4316]="n",e.h[4317]="o",e.h[4318]="p",e.h[4319]="zh",e.h[4320]="r",e.h[4321]="s",e.h[4322]="t",e.h[4323]="u",e.h[4324]="f",e.h[4325]="k",e.h[4326]="gh",e.h[4327]="q",e.h[4328]="sh",e.h[4329]="ch",e.h[4330]="ts",e.h[4331]="dz",e.h[4332]="ts",e.h[4333]="ch",e.h[4334]="kh",e.h[4335]="j",e.h[4336]="h",e.h[7838]="SS",e.h[7840]="A",e.h[7841]="a",e.h[7842]="A",e.h[7843]="a",e.h[7844]="A",e.h[7845]="a",e.h[7846]="A",e.h[7847]="a",e.h[7848]="A",e.h[7849]="a",e.h[7850]="A",e.h[7851]="a",e.h[7852]="A",e.h[7853]="a",e.h[7854]="A",e.h[7855]="a",e.h[7856]="A",e.h[7857]="a",e.h[7858]="A",e.h[7859]="a",e.h[7860]="A",e.h[7861]="a",e.h[7862]="A",e.h[7863]="a",e.h[7864]="E",e.h[7865]="e",e.h[7866]="E",e.h[7867]="e",e.h[7868]="E",e.h[7869]="e",e.h[7870]="E",e.h[7871]="e",e.h[7872]="E",e.h[7873]="e",e.h[7874]="E",e.h[7875]="e",e.h[7876]="E",e.h[7877]="e",e.h[7878]="E",e.h[7879]="e",e.h[7880]="I",e.h[7881]="i",e.h[7882]="I",e.h[7883]="i",e.h[7884]="O",e.h[7885]="o",e.h[7886]="O",e.h[7887]="o",e.h[7888]="O",e.h[7889]="o",e.h[7890]="O",e.h[7891]="o",e.h[7892]="O",e.h[7893]="o",e.h[7894]="O",e.h[7895]="o",e.h[7896]="O",e.h[7897]="o",e.h[7898]="O",e.h[7899]="o",e.h[7900]="O",e.h[7901]="o",e.h[7902]="O",e.h[7903]="o",e.h[7904]="O",e.h[7905]="o",e.h[7906]="O",e.h[7907]="o",e.h[7908]="U",e.h[7909]="u",e.h[7910]="U",e.h[7911]="u",e.h[7912]="U",e.h[7913]="u",e.h[7914]="U",e.h[7915]="u",e.h[7916]="U",e.h[7917]="u",e.h[7918]="U",e.h[7919]="u",e.h[7920]="U",e.h[7921]="u",e.h[7922]="Y",e.h[7923]="y",e.h[7924]="Y",e.h[7925]="y",e.h[7926]="Y",e.h[7927]="y",e.h[7928]="Y",e.h[7929]="y",e.h[8216]="'",e.h[8217]="'",e.h[8220]='"',e.h[8221]='"',e.h[8224]="+",e.h[8226]="*",e.h[8230]="...",e.h[8352]="ecu",e.h[8354]="cruzeiro",e.h[8355]="french franc",e.h[8356]="lira",e.h[8357]="mill",e.h[8358]="naira",e.h[8359]="peseta",e.h[8360]="rupee",e.h[8361]="won",e.h[8362]="new shequel",e.h[8363]="dong",e.h[8364]="euro",e.h[8365]="kip",e.h[8366]="tugrik",e.h[8367]="drachma",e.h[8368]="penny",e.h[8369]="peso",e.h[8370]="guarani",e.h[8371]="austral",e.h[8372]="hryvnia",e.h[8373]="cedi",e.h[8377]="indian rupee",e.h[8381]="russian ruble",e.h[8383]="bitcoin",e.h[8480]="sm",e.h[8482]="tm",e.h[8706]="d",e.h[8710]="delta",e.h[8721]="sum",e.h[8734]="infinity",e.h[9829]="love",e.h[20803]="yuan",e.h[20870]="yen",e.h[65020]="rial",e),ct.safe=new f("[^\\w\\s$*_+~.()'\"!\\-:@]","g"),dt.__meta__={fields:{unobservedSound:{observe:null}}},ft.__meta__={fields:{unobservedText:{observe:null}}},C1.MIN_TEXTURE_SIZE=32,C1.MAX_TEXTURE_SIZE=2048,wt.__meta__={fields:{unobservedName:{observe:null},unobservedWidth:{observe:null},unobservedHeight:{observe:null},unobservedFilter:{observe:null},unobservedTexture:{observe:null}}},P1.__meta__={fields:{unobservedTmxMap:{observe:null},unobservedTilemapData:{observe:null}}},St.__meta__={fields:{unobservedName:{serialize:null},unobservedOrientation:{serialize:null},unobservedWidth:{serialize:null},unobservedHeight:{serialize:null},unobservedRenderOrder:{serialize:null},unobservedHexSideLength:{serialize:null},unobservedStaggerAxis:{serialize:null},unobservedStaggerIndex:{serialize:null},unobservedBackgroundColor:{serialize:null},unobservedTilesets:{serialize:null},unobservedLayers:{serialize:null}}},kt.__meta__={fields:{unobservedName:{serialize:null},unobservedX:{serialize:null},unobservedY:{serialize:null},unobservedColumns:{serialize:null},unobservedRows:{serialize:null},unobservedOpacity:{serialize:null},unobservedVisible:{serialize:null},unobservedOffsetX:{serialize:null},unobservedOffsetY:{serialize:null},unobservedExplicitDepth:{serialize:null},unobservedBlending:{serialize:null},unobservedColor:{serialize:null},unobservedShader:{serialize:null},unobservedExtraOpacity:{serialize:null},unobservedTiles:{serialize:null},unobservedTilesAlpha:{serialize:null},unobservedTilesOffsetX:{serialize:null},unobservedTilesOffsetY:{serialize:null},unobservedComputedTiles:{observe:null},unobservedComputedTilesAlpha:{observe:null},unobservedComputedTilesOffsetX:{observe:null},unobservedComputedTilesOffsetY:{observe:null},unobservedShouldRenderTiles:{serialize:null},unobservedTileWidth:{serialize:null},unobservedTileHeight:{serialize:null}}},Vt.__meta__={fields:{unobservedFirstGid:{serialize:null},unobservedName:{serialize:null},unobservedTileWidth:{serialize:null},unobservedTileHeight:{serialize:null},unobservedSpacing:{serialize:null},unobservedMargin:{serialize:null},unobservedTileCount:{serialize:null},unobservedColumns:{serialize:null},unobservedImage:{serialize:null},unobservedGridOrientation:{serialize:null},unobservedGridCellWidth:{serialize:null},unobservedGridCellHeight:{serialize:null},unobservedSlopes:{serialize:null}}},Wt.__meta__={fields:{unobservedWidth:{serialize:null},unobservedHeight:{serialize:null},unobservedSource:{serialize:null}}},Gt.callbacks=[],Gt.next=999999999,Gt.now=0,Gt.startTimestamp=(new Date).getTime()/1e3,Bc.availableTransforms=[],V._tweens=[],V._iteratedTweens=[],g.k=0,$t.isAndroid_result=-1,$t.isIos_result=-1,$t.RE_ASCII_CHAR=new f("^[a-zA-Z0-9]$",""),$t._nextUniqueIntCursor=0,$t._nextUniqueInt0=2147483646*Math.random()|0,$t._nextUniqueInt1=1e-4*(new Date).getTime()|0,$t._nextUniqueInt2=2147483646*Math.random()|0,$t._nextUniqueInt3=2147483646*Math.random()|0,$t.RE_MODULE_AT=new f("^\\s*(?:at\\s*)?([^\\s]+\\.js)(?:\\s*:\\s*([0-9]+)(?:\\s*:\\s*([0-9]+))?)?\\s*$",""),qt.lazyShared=!0,Kc._currentTransform=new l,Kc._targetTransform=new l,Kc._identityTransform=new l,ei.didTryRequireChokidar=!1,si.immediateCallbacks=[],si.immediateCallbacksCapacity=0,si.immediateCallbacksLen=0,w.UNKNOWN=0,w.ENTER=13,w.ESCAPE=27,w.BACKSPACE=8,w.TAB=9,w.SPACE=32,w.EXCLAIM=33,w.QUOTEDBL=34,w.HASH=35,w.PERCENT=37,w.DOLLAR=36,w.AMPERSAND=38,w.QUOTE=39,w.LEFTPAREN=40,w.RIGHTPAREN=41,w.ASTERISK=42,w.PLUS=43,w.COMMA=44,w.MINUS=45,w.PERIOD=46,w.SLASH=47,w.KEY_0=48,w.KEY_1=49,w.KEY_2=50,w.KEY_3=51,w.KEY_4=52,w.KEY_5=53,w.KEY_6=54,w.KEY_7=55,w.KEY_8=56,w.KEY_9=57,w.COLON=58,w.SEMICOLON=59,w.LESS=60,w.EQUALS=61,w.GREATER=62,w.QUESTION=63,w.AT=64,w.LEFTBRACKET=91,w.BACKSLASH=92,w.RIGHTBRACKET=93,w.CARET=94,w.UNDERSCORE=95,w.BACKQUOTE=96,w.KEY_A=97,w.KEY_B=98,w.KEY_C=99,w.KEY_D=100,w.KEY_E=101,w.KEY_F=102,w.KEY_G=103,w.KEY_H=104,w.KEY_I=105,w.KEY_J=106,w.KEY_K=107,w.KEY_L=108,w.KEY_M=109,w.KEY_N=110,w.KEY_O=111,w.KEY_P=112,w.KEY_Q=113,w.KEY_R=114,w.KEY_S=115,w.KEY_T=116,w.KEY_U=117,w.KEY_V=118,w.KEY_W=119,w.KEY_X=120,w.KEY_Y=121,w.KEY_Z=122,w.CAPSLOCK=1073741881,w.F1=1073741882,w.F2=1073741883,w.F3=1073741884,w.F4=1073741885,w.F5=1073741886,w.F6=1073741887,w.F7=1073741888,w.F8=1073741889,w.F9=1073741890,w.F10=1073741891,w.F11=1073741892,w.F12=1073741893,w.PRINTSCREEN=1073741894,w.SCROLLLOCK=1073741895,w.PAUSE=1073741896,w.INSERT=1073741897,w.HOME=1073741898,w.PAGEUP=1073741899,w.DELETE=127,w.END=1073741901,w.PAGEDOWN=1073741902,w.RIGHT=1073741903,w.LEFT=1073741904,w.DOWN=1073741905,w.UP=1073741906,w.NUMLOCKCLEAR=1073741907,w.KP_DIVIDE=1073741908,w.KP_MULTIPLY=1073741909,w.KP_MINUS=1073741910,w.KP_PLUS=1073741911,w.KP_ENTER=1073741912,w.KP_1=1073741913,w.KP_2=1073741914,w.KP_3=1073741915,w.KP_4=1073741916,w.KP_5=1073741917,w.KP_6=1073741918,w.KP_7=1073741919,w.KP_8=1073741920,w.KP_9=1073741921,w.KP_0=1073741922,w.KP_PERIOD=1073741923,w.APPLICATION=1073741925,w.POWER=1073741926,w.KP_EQUALS=1073741927,w.F13=1073741928,w.F14=1073741929,w.F15=1073741930,w.F16=1073741931,w.F17=1073741932,w.F18=1073741933,w.F19=1073741934,w.F20=1073741935,w.F21=1073741936,w.F22=1073741937,w.F23=1073741938,w.F24=1073741939,w.EXECUTE=1073741940,w.HELP=1073741941,w.MENU=1073741942,w.SELECT=1073741943,w.STOP=1073741944,w.AGAIN=1073741945,w.UNDO=1073741946,w.CUT=1073741947,w.COPY=1073741948,w.PASTE=1073741949,w.FIND=1073741950,w.MUTE=1073741951,w.VOLUMEUP=1073741952,w.VOLUMEDOWN=1073741953,w.KP_COMMA=1073741957,w.KP_EQUALSAS400=1073741958,w.ALTERASE=1073741977,w.SYSREQ=1073741978,w.CANCEL=1073741979,w.CLEAR=1073741980,w.PRIOR=1073741981,w.RETURN2=1073741982,w.SEPARATOR=1073741983,w.OUT=1073741984,w.OPER=1073741985,w.CLEARAGAIN=1073741986,w.CRSEL=1073741987,w.EXSEL=1073741988,w.KP_00=1073742e3,w.KP_000=1073742001,w.THOUSANDSSEPARATOR=1073742002,w.DECIMALSEPARATOR=1073742003,w.CURRENCYUNIT=1073742004,w.CURRENCYSUBUNIT=1073742005,w.KP_LEFTPAREN=1073742006,w.KP_RIGHTPAREN=1073742007,w.KP_LEFTBRACE=1073742008,w.KP_RIGHTBRACE=1073742009,w.KP_TAB=1073742010,w.KP_BACKSPACE=1073742011,w.KP_A=1073742012,w.KP_B=1073742013,w.KP_C=1073742014,w.KP_D=1073742015,w.KP_E=1073742016,w.KP_F=1073742017,w.KP_XOR=1073742018,w.KP_POWER=1073742019,w.KP_PERCENT=1073742020,w.KP_LESS=1073742021,w.KP_GREATER=1073742022,w.KP_AMPERSAND=1073742023,w.KP_DBLAMPERSAND=1073742024,w.KP_VERTICALBAR=1073742025,w.KP_DBLVERTICALBAR=1073742026,w.KP_COLON=1073742027,w.KP_HASH=1073742028,w.KP_SPACE=1073742029,w.KP_AT=1073742030,w.KP_EXCLAM=1073742031,w.KP_MEMSTORE=1073742032,w.KP_MEMRECALL=1073742033,w.KP_MEMCLEAR=1073742034,w.KP_MEMADD=1073742035,w.KP_MEMSUBTRACT=1073742036,w.KP_MEMMULTIPLY=1073742037,w.KP_MEMDIVIDE=1073742038,w.KP_PLUSMINUS=1073742039,w.KP_CLEAR=1073742040,w.KP_CLEARENTRY=1073742041,w.KP_BINARY=1073742042,w.KP_OCTAL=1073742043,w.KP_DECIMAL=1073742044,w.KP_HEXADECIMAL=1073742045,w.LCTRL=1073742048,w.LSHIFT=1073742049,w.LALT=1073742050,w.LMETA=1073742051,w.RCTRL=1073742052,w.RSHIFT=1073742053,w.RALT=1073742054,w.RMETA=1073742055,w.MODE=1073742081,w.AUDIONEXT=1073742082,w.AUDIOPREV=1073742083,w.AUDIOSTOP=1073742084,w.AUDIOPLAY=1073742085,w.AUDIOMUTE=1073742086,w.MEDIASELECT=1073742087,w.WWW=1073742088,w.MAIL=1073742089,w.CALCULATOR=1073742090,w.COMPUTER=1073742091,w.AC_SEARCH=1073742092,w.AC_HOME=1073742093,w.AC_BACK=1073742094,w.AC_FORWARD=1073742095,w.AC_STOP=1073742096,w.AC_REFRESH=1073742097,w.AC_BOOKMARKS=1073742098,w.BRIGHTNESSDOWN=1073742099,w.BRIGHTNESSUP=1073742100,w.DISPLAYSWITCH=1073742101,w.KBDILLUMTOGGLE=1073742102,w.KBDILLUMDOWN=1073742103,w.KBDILLUMUP=1073742104,w.EJECT=1073742105,w.SLEEP=1073742106,T.MASK=1073741824,T.UNKNOWN=0,T.KEY_A=4,T.KEY_B=5,T.KEY_C=6,T.KEY_D=7,T.KEY_E=8,T.KEY_F=9,T.KEY_G=10,T.KEY_H=11,T.KEY_I=12,T.KEY_J=13,T.KEY_K=14,T.KEY_L=15,T.KEY_M=16,T.KEY_N=17,T.KEY_O=18,T.KEY_P=19,T.KEY_Q=20,T.KEY_R=21,T.KEY_S=22,T.KEY_T=23,T.KEY_U=24,T.KEY_V=25,T.KEY_W=26,T.KEY_X=27,T.KEY_Y=28,T.KEY_Z=29,T.KEY_1=30,T.KEY_2=31,T.KEY_3=32,T.KEY_4=33,T.KEY_5=34,T.KEY_6=35,T.KEY_7=36,T.KEY_8=37,T.KEY_9=38,T.KEY_0=39,T.ENTER=40,T.ESCAPE=41,T.BACKSPACE=42,T.TAB=43,T.SPACE=44,T.MINUS=45,T.EQUALS=46,T.LEFTBRACKET=47,T.RIGHTBRACKET=48,T.BACKSLASH=49,T.NONUSHASH=50,T.SEMICOLON=51,T.APOSTROPHE=52,T.GRAVE=53,T.COMMA=54,T.PERIOD=55,T.SLASH=56,T.CAPSLOCK=57,T.F1=58,T.F2=59,T.F3=60,T.F4=61,T.F5=62,T.F6=63,T.F7=64,T.F8=65,T.F9=66,T.F10=67,T.F11=68,T.F12=69,T.PRINTSCREEN=70,T.SCROLLLOCK=71,T.PAUSE=72,T.INSERT=73,T.HOME=74,T.PAGEUP=75,T.DELETE=76,T.END=77,T.PAGEDOWN=78,T.RIGHT=79,T.LEFT=80,T.DOWN=81,T.UP=82,T.NUMLOCKCLEAR=83,T.KP_DIVIDE=84,T.KP_MULTIPLY=85,T.KP_MINUS=86,T.KP_PLUS=87,T.KP_ENTER=88,T.KP_1=89,T.KP_2=90,T.KP_3=91,T.KP_4=92,T.KP_5=93,T.KP_6=94,T.KP_7=95,T.KP_8=96,T.KP_9=97,T.KP_0=98,T.KP_PERIOD=99,T.NONUSBACKSLASH=100,T.APPLICATION=101,T.POWER=102,T.KP_EQUALS=103,T.F13=104,T.F14=105,T.F15=106,T.F16=107,T.F17=108,T.F18=109,T.F19=110,T.F20=111,T.F21=112,T.F22=113,T.F23=114,T.F24=115,T.EXECUTE=116,T.HELP=117,T.MENU=118,T.SELECT=119,T.STOP=120,T.AGAIN=121,T.UNDO=122,T.CUT=123,T.COPY=124,T.PASTE=125,T.FIND=126,T.MUTE=127,T.VOLUMEUP=128,T.VOLUMEDOWN=129,T.KP_COMMA=133,T.KP_EQUALSAS400=134,T.INTERNATIONAL1=135,T.INTERNATIONAL2=136,T.INTERNATIONAL3=137,T.INTERNATIONAL4=138,T.INTERNATIONAL5=139,T.INTERNATIONAL6=140,T.INTERNATIONAL7=141,T.INTERNATIONAL8=142,T.INTERNATIONAL9=143,T.LANG1=144,T.LANG2=145,T.LANG3=146,T.LANG4=147,T.LANG5=148,T.LANG6=149,T.LANG7=150,T.LANG8=151,T.LANG9=152,T.ALTERASE=153,T.SYSREQ=154,T.CANCEL=155,T.CLEAR=156,T.PRIOR=157,T.RETURN2=158,T.SEPARATOR=159,T.OUT=160,T.OPER=161,T.CLEARAGAIN=162,T.CRSEL=163,T.EXSEL=164,T.KP_00=176,T.KP_000=177,T.THOUSANDSSEPARATOR=178,T.DECIMALSEPARATOR=179,T.CURRENCYUNIT=180,T.CURRENCYSUBUNIT=181,T.KP_LEFTPAREN=182,T.KP_RIGHTPAREN=183,T.KP_LEFTBRACE=184,T.KP_RIGHTBRACE=185,T.KP_TAB=186,T.KP_BACKSPACE=187,T.KP_A=188,T.KP_B=189,T.KP_C=190,T.KP_D=191,T.KP_E=192,T.KP_F=193,T.KP_XOR=194,T.KP_POWER=195,T.KP_PERCENT=196,T.KP_LESS=197,T.KP_GREATER=198,T.KP_AMPERSAND=199,T.KP_DBLAMPERSAND=200,T.KP_VERTICALBAR=201,T.KP_DBLVERTICALBAR=202,T.KP_COLON=203,T.KP_HASH=204,T.KP_SPACE=205,T.KP_AT=206,T.KP_EXCLAM=207,T.KP_MEMSTORE=208,T.KP_MEMRECALL=209,T.KP_MEMCLEAR=210,T.KP_MEMADD=211,T.KP_MEMSUBTRACT=212,T.KP_MEMMULTIPLY=213,T.KP_MEMDIVIDE=214,T.KP_PLUSMINUS=215,T.KP_CLEAR=216,T.KP_CLEARENTRY=217,T.KP_BINARY=218,T.KP_OCTAL=219,T.KP_DECIMAL=220,T.KP_HEXADECIMAL=221,T.LCTRL=224,T.LSHIFT=225,T.LALT=226,T.LMETA=227,T.RCTRL=228,T.RSHIFT=229,T.RALT=230,T.RMETA=231,T.MODE=257,T.AUDIONEXT=258,T.AUDIOPREV=259,T.AUDIOSTOP=260,T.AUDIOPLAY=261,T.AUDIOMUTE=262,T.MEDIASELECT=263,T.WWW=264,T.MAIL=265,T.CALCULATOR=266,T.COMPUTER=267,T.AC_SEARCH=268,T.AC_HOME=269,T.AC_BACK=270,T.AC_FORWARD=271,T.AC_STOP=272,T.AC_REFRESH=273,T.AC_BOOKMARKS=274,T.BRIGHTNESSDOWN=275,T.BRIGHTNESSUP=276,T.DISPLAYSWITCH=277,T.KBDILLUMTOGGLE=278,T.KBDILLUMDOWN=279,T.KBDILLUMUP=280,T.EJECT=281,T.SLEEP=282,T.APP1=283,T.APP2=284,T.scanCodeNames=[null,null,null,null,"A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","1","2","3","4","5","6","7","8","9","0","Enter","Escape","Backspace","Tab","Space","-","=","[","]","\\","#",";","'","`",",",".","/","CapsLock","F1","F2","F3","F4","F5","F6","F7","F8","F9","F10","F11","F12","PrintScreen","ScrollLock","Pause","Insert","Home","PageUp","Delete","End","PageDown","Right","Left","Down","Up","Numlock","Keypad /","Keypad *","Keypad -","Keypad +","Keypad Enter","Keypad 1","Keypad 2","Keypad 3","Keypad 4","Keypad 5","Keypad 6","Keypad 7","Keypad 8","Keypad 9","Keypad 0","Keypad .",null,"Application","Power","Keypad =","F13","F14","F15","F16","F17","F18","F19","F20","F21","F22","F23","F24","Execute","Help","Menu","Select","Stop","Again","Undo","Cut","Copy","Paste","Find","Mute","VolumeUp","VolumeDown",null,null,null,"Keypad ,","Keypad = (AS400)",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"AltErase","SysReq","Cancel","Clear","Prior","Enter","Separator","Out","Oper","Clear / Again","CrSel","ExSel",null,null,null,null,null,null,null,null,null,null,null,"Keypad 00","Keypad 000","ThousandsSeparator","DecimalSeparator","CurrencyUnit","CurrencySubUnit","Keypad (","Keypad )","Keypad {","Keypad }","Keypad Tab","Keypad Backspace","Keypad A","Keypad B","Keypad C","Keypad D","Keypad E","Keypad F","Keypad XOR","Keypad ^","Keypad %","Keypad <","Keypad >","Keypad &","Keypad &&","Keypad |","Keypad ||","Keypad :","Keypad #","Keypad Space","Keypad @","Keypad !","Keypad MemStore","Keypad MemRecall","Keypad MemClear","Keypad MemAdd","Keypad MemSubtract","Keypad MemMultiply","Keypad MemDivide","Keypad +/-","Keypad Clear","Keypad ClearEntry","Keypad Binary","Keypad Octal","Keypad Decimal","Keypad Hexadecimal",null,null,"Left Ctrl","Left Shift","Left Alt","Left Meta","Right Ctrl","Right Shift","Right Alt","Right Meta",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"ModeSwitch","AudioNext","AudioPrev","AudioStop","AudioPlay","AudioMute","MediaSelect","WWW","Mail","Calculator","Computer","AC Search","AC Home","AC Back","AC Forward","AC Stop","AC Refresh","AC Bookmarks","BrightnessDown","BrightnessUp","DisplaySwitch","KBDIllumToggle","KBDIllumDown","KBDIllumUp","Eject","Sleep"],k2._nextUniqueIntCursor=0,k2._nextUniqueInt0=2147483646*Math.random()|0,k2._nextUniqueInt1=1e-4*(new Date).getTime()|0,k2._nextUniqueInt2=2147483646*Math.random()|0,k2._nextUniqueInt3=2147483646*Math.random()|0,di._nextIndex=1,Ci.MAX_VERTS_SIZE=65536,Ci.MAX_INDICES=16384,Ci.MAX_BUFFERS=64,Ci.ATTRIBUTE_POS=0,Ci.ATTRIBUTE_UV=1,Ci.ATTRIBUTE_COLOR=2,vi.DEPTH24_STENCIL8=35056,vi.DEPTH_COMPONENT24=33190,vi.TEXTURE_2D_MULTISAMPLE=37120,vi.READ_FRAMEBUFFER=36008,vi.DRAW_FRAMEBUFFER=36009,vi.RGBA8=32856,vi.COLOR=6144,ne.DEPTH_BUFFER_BIT=256,ne.STENCIL_BUFFER_BIT=1024,ne.COLOR_BUFFER_BIT=16384,ne.POINTS=0,ne.LINES=1,ne.LINE_LOOP=2,ne.LINE_STRIP=3,ne.TRIANGLES=4,ne.TRIANGLE_STRIP=5,ne.TRIANGLE_FAN=6,ne.ZERO=0,ne.ONE=1,ne.SRC_COLOR=768,ne.ONE_MINUS_SRC_COLOR=769,ne.SRC_ALPHA=770,ne.ONE_MINUS_SRC_ALPHA=771,ne.DST_ALPHA=772,ne.ONE_MINUS_DST_ALPHA=773,ne.DST_COLOR=774,ne.ONE_MINUS_DST_COLOR=775,ne.SRC_ALPHA_SATURATE=776,ne.FUNC_ADD=32774,ne.BLEND_EQUATION=32777,ne.BLEND_EQUATION_RGB=32777,ne.BLEND_EQUATION_ALPHA=34877,ne.FUNC_SUBTRACT=32778,ne.FUNC_REVERSE_SUBTRACT=32779,ne.BLEND_DST_RGB=32968,ne.BLEND_SRC_RGB=32969,ne.BLEND_DST_ALPHA=32970,ne.BLEND_SRC_ALPHA=32971,ne.CONSTANT_COLOR=32769,ne.ONE_MINUS_CONSTANT_COLOR=32770,ne.CONSTANT_ALPHA=32771,ne.ONE_MINUS_CONSTANT_ALPHA=32772,ne.BLEND_COLOR=32773,ne.ARRAY_BUFFER=34962,ne.ELEMENT_ARRAY_BUFFER=34963,ne.ARRAY_BUFFER_BINDING=34964,ne.ELEMENT_ARRAY_BUFFER_BINDING=34965,ne.STREAM_DRAW=35040,ne.STATIC_DRAW=35044,ne.DYNAMIC_DRAW=35048,ne.BUFFER_SIZE=34660,ne.BUFFER_USAGE=34661,ne.CURRENT_VERTEX_ATTRIB=34342,ne.FRONT=1028,ne.BACK=1029,ne.FRONT_AND_BACK=1032,ne.CULL_FACE=2884,ne.BLEND=3042,ne.DITHER=3024,ne.STENCIL_TEST=2960,ne.DEPTH_TEST=2929,ne.SCISSOR_TEST=3089,ne.POLYGON_OFFSET_FILL=32823,ne.SAMPLE_ALPHA_TO_COVERAGE=32926,ne.SAMPLE_COVERAGE=32928,ne.NO_ERROR=0,ne.INVALID_ENUM=1280,ne.INVALID_VALUE=1281,ne.INVALID_OPERATION=1282,ne.OUT_OF_MEMORY=1285,ne.CW=2304,ne.CCW=2305,ne.LINE_WIDTH=2849,ne.ALIASED_POINT_SIZE_RANGE=33901,ne.ALIASED_LINE_WIDTH_RANGE=33902,ne.CULL_FACE_MODE=2885,ne.FRONT_FACE=2886,ne.DEPTH_RANGE=2928,ne.DEPTH_WRITEMASK=2930,ne.DEPTH_CLEAR_VALUE=2931,ne.DEPTH_FUNC=2932,ne.STENCIL_CLEAR_VALUE=2961,ne.STENCIL_FUNC=2962,ne.STENCIL_FAIL=2964,ne.STENCIL_PASS_DEPTH_FAIL=2965,ne.STENCIL_PASS_DEPTH_PASS=2966,ne.STENCIL_REF=2967,ne.STENCIL_VALUE_MASK=2963,ne.STENCIL_WRITEMASK=2968,ne.STENCIL_BACK_FUNC=34816,ne.STENCIL_BACK_FAIL=34817,ne.STENCIL_BACK_PASS_DEPTH_FAIL=34818,ne.STENCIL_BACK_PASS_DEPTH_PASS=34819,ne.STENCIL_BACK_REF=36003,ne.STENCIL_BACK_VALUE_MASK=36004,ne.STENCIL_BACK_WRITEMASK=36005,ne.VIEWPORT=2978,ne.SCISSOR_BOX=3088,ne.COLOR_CLEAR_VALUE=3106,ne.COLOR_WRITEMASK=3107,ne.UNPACK_ALIGNMENT=3317,ne.PACK_ALIGNMENT=3333,ne.MAX_TEXTURE_SIZE=3379,ne.MAX_VIEWPORT_DIMS=3386,ne.SUBPIXEL_BITS=3408,ne.RED_BITS=3410,ne.GREEN_BITS=3411,ne.BLUE_BITS=3412,ne.ALPHA_BITS=3413,ne.DEPTH_BITS=3414,ne.STENCIL_BITS=3415,ne.POLYGON_OFFSET_UNITS=10752,ne.POLYGON_OFFSET_FACTOR=32824,ne.TEXTURE_BINDING_2D=32873,ne.SAMPLE_BUFFERS=32936,ne.SAMPLES=32937,ne.SAMPLE_COVERAGE_VALUE=32938,ne.SAMPLE_COVERAGE_INVERT=32939,ne.COMPRESSED_TEXTURE_FORMATS=34467,ne.DONT_CARE=4352,ne.FASTEST=4353,ne.NICEST=4354,ne.GENERATE_MIPMAP_HINT=33170,ne.BYTE=5120,ne.UNSIGNED_BYTE=5121,ne.SHORT=5122,ne.UNSIGNED_SHORT=5123,ne.INT=5124,ne.UNSIGNED_INT=5125,ne.FLOAT=5126,ne.DEPTH_COMPONENT=6402,ne.ALPHA=6406,ne.RGB=6407,ne.RGBA=6408,ne.LUMINANCE=6409,ne.LUMINANCE_ALPHA=6410,ne.UNSIGNED_SHORT_4_4_4_4=32819,ne.UNSIGNED_SHORT_5_5_5_1=32820,ne.UNSIGNED_SHORT_5_6_5=33635,ne.FRAGMENT_SHADER=35632,ne.VERTEX_SHADER=35633,ne.MAX_VERTEX_ATTRIBS=34921,ne.MAX_VERTEX_UNIFORM_VECTORS=36347,ne.MAX_VARYING_VECTORS=36348,ne.MAX_COMBINED_TEXTURE_IMAGE_UNITS=35661,ne.MAX_VERTEX_TEXTURE_IMAGE_UNITS=35660,ne.MAX_TEXTURE_IMAGE_UNITS=34930,ne.MAX_FRAGMENT_UNIFORM_VECTORS=36349,ne.SHADER_TYPE=35663,ne.DELETE_STATUS=35712,ne.LINK_STATUS=35714,ne.VALIDATE_STATUS=35715,ne.ATTACHED_SHADERS=35717,ne.ACTIVE_UNIFORMS=35718,ne.ACTIVE_ATTRIBUTES=35721,ne.SHADING_LANGUAGE_VERSION=35724,ne.CURRENT_PROGRAM=35725,ne.NEVER=512,ne.LESS=513,ne.EQUAL=514,ne.LEQUAL=515,ne.GREATER=516,ne.NOTEQUAL=517,ne.GEQUAL=518,ne.ALWAYS=519,ne.KEEP=7680,ne.REPLACE=7681,ne.INCR=7682,ne.DECR=7683,ne.INVERT=5386,ne.INCR_WRAP=34055,ne.DECR_WRAP=34056,ne.VENDOR=7936,ne.RENDERER=7937,ne.VERSION=7938,ne.NEAREST=9728,ne.LINEAR=9729,ne.NEAREST_MIPMAP_NEAREST=9984,ne.LINEAR_MIPMAP_NEAREST=9985,ne.NEAREST_MIPMAP_LINEAR=9986,ne.LINEAR_MIPMAP_LINEAR=9987,ne.TEXTURE_MAG_FILTER=10240,ne.TEXTURE_MIN_FILTER=10241,ne.TEXTURE_WRAP_S=10242,ne.TEXTURE_WRAP_T=10243,ne.TEXTURE_2D=3553,ne.TEXTURE=5890,ne.TEXTURE_CUBE_MAP=34067,ne.TEXTURE_BINDING_CUBE_MAP=34068,ne.TEXTURE_CUBE_MAP_POSITIVE_X=34069,ne.TEXTURE_CUBE_MAP_NEGATIVE_X=34070,ne.TEXTURE_CUBE_MAP_POSITIVE_Y=34071,ne.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072,ne.TEXTURE_CUBE_MAP_POSITIVE_Z=34073,ne.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074,ne.MAX_CUBE_MAP_TEXTURE_SIZE=34076,ne.TEXTURE0=33984,ne.TEXTURE1=33985,ne.TEXTURE2=33986,ne.TEXTURE3=33987,ne.TEXTURE4=33988;ne.TEXTURE5=33989,ne.TEXTURE6=33990,ne.TEXTURE7=33991,ne.TEXTURE8=33992,ne.TEXTURE9=33993,ne.TEXTURE10=33994,ne.TEXTURE11=33995,ne.TEXTURE12=33996,ne.TEXTURE13=33997,ne.TEXTURE14=33998,ne.TEXTURE15=33999,ne.TEXTURE16=34e3,ne.TEXTURE17=34001,ne.TEXTURE18=34002,ne.TEXTURE19=34003,ne.TEXTURE20=34004,ne.TEXTURE21=34005,ne.TEXTURE22=34006,ne.TEXTURE23=34007,ne.TEXTURE24=34008,ne.TEXTURE25=34009,ne.TEXTURE26=34010,ne.TEXTURE27=34011,ne.TEXTURE28=34012,ne.TEXTURE29=34013,ne.TEXTURE30=34014,ne.TEXTURE31=34015,ne.ACTIVE_TEXTURE=34016,ne.REPEAT=10497,ne.CLAMP_TO_EDGE=33071,ne.MIRRORED_REPEAT=33648,ne.FLOAT_VEC2=35664,ne.FLOAT_VEC3=35665,ne.FLOAT_VEC4=35666,ne.INT_VEC2=35667,ne.INT_VEC3=35668,ne.INT_VEC4=35669,ne.BOOL=35670,ne.BOOL_VEC2=35671,ne.BOOL_VEC3=35672,ne.BOOL_VEC4=35673,ne.FLOAT_MAT2=35674,ne.FLOAT_MAT3=35675,ne.FLOAT_MAT4=35676,ne.SAMPLER_2D=35678,ne.SAMPLER_CUBE=35680,ne.VERTEX_ATTRIB_ARRAY_ENABLED=34338,ne.VERTEX_ATTRIB_ARRAY_SIZE=34339,ne.VERTEX_ATTRIB_ARRAY_STRIDE=34340,ne.VERTEX_ATTRIB_ARRAY_TYPE=34341,ne.VERTEX_ATTRIB_ARRAY_NORMALIZED=34922,ne.VERTEX_ATTRIB_ARRAY_POINTER=34373,ne.VERTEX_ATTRIB_ARRAY_BUFFER_BINDING=34975,ne.VERTEX_PROGRAM_POINT_SIZE=34370,ne.POINT_SPRITE=34913,ne.COMPILE_STATUS=35713,ne.LOW_FLOAT=36336,ne.MEDIUM_FLOAT=36337,ne.HIGH_FLOAT=36338,ne.LOW_INT=36339,ne.MEDIUM_INT=36340,ne.HIGH_INT=36341,ne.FRAMEBUFFER=36160,ne.RENDERBUFFER=36161,ne.RGBA4=32854,ne.RGB5_A1=32855,ne.RGB565=36194,ne.DEPTH_COMPONENT16=33189,ne.STENCIL_INDEX=6401,ne.STENCIL_INDEX8=36168,ne.DEPTH_STENCIL=34041,ne.RENDERBUFFER_WIDTH=36162,ne.RENDERBUFFER_HEIGHT=36163,ne.RENDERBUFFER_INTERNAL_FORMAT=36164,ne.RENDERBUFFER_RED_SIZE=36176,ne.RENDERBUFFER_GREEN_SIZE=36177,ne.RENDERBUFFER_BLUE_SIZE=36178,ne.RENDERBUFFER_ALPHA_SIZE=36179,ne.RENDERBUFFER_DEPTH_SIZE=36180,ne.RENDERBUFFER_STENCIL_SIZE=36181,ne.FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE=36048,ne.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME=36049,ne.FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL=36050,ne.FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE=36051,ne.COLOR_ATTACHMENT0=36064,ne.DEPTH_ATTACHMENT=36096,ne.STENCIL_ATTACHMENT=36128,ne.DEPTH_STENCIL_ATTACHMENT=33306,ne.NONE=0,ne.FRAMEBUFFER_COMPLETE=36053,ne.FRAMEBUFFER_INCOMPLETE_ATTACHMENT=36054,ne.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT=36055,ne.FRAMEBUFFER_INCOMPLETE_DIMENSIONS=36057,ne.FRAMEBUFFER_UNSUPPORTED=36061,ne.FRAMEBUFFER_BINDING=36006,ne.RENDERBUFFER_BINDING=36007,ne.MAX_RENDERBUFFER_SIZE=34024,ne.INVALID_FRAMEBUFFER_OPERATION=1286,ne.UNPACK_FLIP_Y_WEBGL=37440,ne.UNPACK_PREMULTIPLY_ALPHA_WEBGL=37441,ne.CONTEXT_LOST_WEBGL=37442,ne.UNPACK_COLORSPACE_CONVERSION_WEBGL=37443,ne.BROWSER_DEFAULT_WEBGL=37444,yi.POT=!0,Ui.HALF_PI=1.5707,Ui.DEFAULT_BUS=0,Ui.MAX_WORKLET_PARAMS=128,Si.timestampStart=0,Si.webWindowId=1,Ai.dom_shift=16,Ai.dom_ctrl=17,Ai.dom_alt=18,Ai.dom_capslock=20,Ai.dom_pageup=33,Ai.dom_pagedown=34,Ai.dom_end=35,Ai.dom_home=36,Ai.dom_left=37,Ai.dom_up=38,Ai.dom_right=39,Ai.dom_down=40,Ai.dom_printscr=44,Ai.dom_insert=45,Ai.dom_delete=46,Ai.dom_lmeta=91,Ai.dom_rmeta=93,Ai.dom_kp_0=96,Ai.dom_kp_1=97,Ai.dom_kp_2=98,Ai.dom_kp_3=99,Ai.dom_kp_4=100,Ai.dom_kp_5=101,Ai.dom_kp_6=102,Ai.dom_kp_7=103,Ai.dom_kp_8=104,Ai.dom_kp_9=105,Ai.dom_kp_multiply=106,Ai.dom_kp_plus=107,Ai.dom_kp_minus=109,Ai.dom_kp_decimal=110,Ai.dom_kp_divide=111,Ai.dom_kp_numlock=144,Ai.dom_f1=112,Ai.dom_f2=113,Ai.dom_f3=114,Ai.dom_f4=115,Ai.dom_f5=116,Ai.dom_f6=117,Ai.dom_f7=118,Ai.dom_f8=119,Ai.dom_f9=120,Ai.dom_f10=121,Ai.dom_f11=122,Ai.dom_f12=123,Ai.dom_f13=124,Ai.dom_f14=125,Ai.dom_f15=126,Ai.dom_f16=127,Ai.dom_f17=128,Ai.dom_f18=129,Ai.dom_f19=130,Ai.dom_f20=131,Ai.dom_f21=132,Ai.dom_f22=133,Ai.dom_f23=134,Ai.dom_f24=135,Ai.dom_caret=160,Ai.dom_exclaim=161,Ai.dom_quotedbl=162,Ai.dom_hash=163,Ai.dom_dollar=164,Ai.dom_percent=165,Ai.dom_ampersand=166,Ai.dom_underscore=167,Ai.dom_leftparen=168,Ai.dom_rightparen=169,Ai.dom_asterisk=170,Ai.dom_plus=171,Ai.dom_pipe=172,Ai.dom_minus=173,Ai.dom_leftbrace=174,Ai.dom_rightbrace=175,Ai.dom_tilde=176,Ai.dom_audiomute=181,Ai.dom_volumedown=182,Ai.dom_volumeup=183,Ai.dom_comma=188,Ai.dom_period=190,Ai.dom_slash=191,Ai.dom_backquote=192,Ai.dom_leftbracket=219,Ai.dom_rightbracket=221,Ai.dom_backslash=220,Ai.dom_quote=222,Ai.dom_meta=224,X2._point=new n,Y2.__meta__={fields:{unobservedTheme:{observe:null},unobservedValue:{observe:null},unobservedList:{observe:null},unobservedNullValueText:{observe:null}}},Y2.ITEM_HEIGHT=26,Z2.__meta__={fields:{unobservedTextValue:{observe:null}}},Z2._point=new n(0,0),Z2.MAX_LIST_HEIGHT=200,Z2.FORCED_SUGGESTION_FULL_LIST_UNDER_COUNT=10,Z2.ITEM_HEIGHT=Y2.ITEM_HEIGHT,_2.__meta__={fields:{unobservedTheme:{observe:null},unobservedValue:{observe:null},unobservedInputStyle:{observe:null},unobservedDisabled:{observe:null}}},ad.__meta__={fields:{unobservedTheme:{observe:null},unobservedInputStyle:{observe:null},unobservedEnabled:{observe:null},unobservedHover:{observe:null},unobservedEnterPressed:{observe:null}}},ki.__meta__={fields:{unobservedTheme:{observe:null},unobservedScrolling:{observe:null},unobservedInputStyle:{observe:null}}},Ii.__meta__={fields:{unobservedTheme:{observe:null},unobservedSelected:{observe:null},unobservedTitle:{observe:null},unobservedSubTitle:{observe:null},unobservedItemIndex:{observe:null},unobservedCollectionView:{observe:null},unobservedInputStyle:{observe:null},unobservedDisplaysEmptyValue:{observe:null},unobservedLocked:{observe:null},unobservedKindIcon:{observe:null},unobservedHandleTrash:{observe:null},unobservedHandleLock:{observe:null},unobservedHandleDuplicate:{observe:null},unobservedDragging:{observe:null},unobservedClonedForDragging:{observe:null},unobservedHover:{observe:null},unobservedAppliedHoverItemIndex:{observe:null}}},Ii._point=new n(0,0),Pi.__meta__={fields:{unobservedIcon:{observe:null}}},Fi.__meta__={fields:{unobservedTheme:{observe:null},unobservedHover:{observe:null},unobservedDisabled:{observe:null},unobservedHoverStyle:{observe:null}}},hd.__meta__={fields:{unobservedTheme:{observe:null},unobservedValue:{observe:null},unobservedDisabled:{observe:null},unobservedPickerVisible:{observe:null}}},hd._point=new n,hd.RE_HEX_COLOR=new f("^[0-F][0-F][0-F][0-F][0-F][0-F]$",""),hd.RE_HEX_COLOR_ANY_LENGTH=new f("^[0-F]+$",""),id._point=new n,id._tuple=[0,0,0],jd.__meta__={fields:{unobservedMovingPointer:{observe:null}}},jd._point=new n,jd.PRECISION=16,kd.PRECISION_X=32,kd.PRECISION_Y=8,kd._point=new n,kd._tuple=[0,0,0],ld.__meta__={fields:{unobservedMovingPointer:{observe:null}}},ld._point=new n,ld.PRECISION=16,md.PALETTE_COLOR_SIZE=14,Mi.__meta__={fields:{unobservedTheme:{observe:null},unobservedColorValue:{observe:null},unobservedPaletteHeight:{observe:null},unobservedPaletteColorPreviews:{observe:null}}},Mi.FIELD_ROW_WIDTH=41,Mi.FIELD_ADVANCE=26,Mi.BUTTON_ADVANCE=24,Mi.FIELD_Y_GAP=1,Mi.PADDING=6,Mi.GRADIENT_SIZE=158,Mi.SPECTRUM_WIDTH=12,Mi.PALETTE_COLOR_SIZE=md.PALETTE_COLOR_SIZE,Mi.PALETTE_COLOR_GAP=2,Mi._tuple=[0,0,0],G.__meta__={fields:{unobservedTheme:{observe:null}}},G.lazyContext=!0,Bi.__meta__={fields:{unobservedDragging:{observe:null},unobservedDragX:{observe:null},unobservedDragY:{observe:null}}},Bi._point=new n(0,0),Ei.__meta__={fields:{unobservedFocusedField:{observe:null},unobservedFocusedFieldThisFrame:{observe:null}}},Ei.lazyShared=!0,wd.__meta__={fields:{unobservedTheme:{observe:null}}},wd.EMPTY_ARRAY=[],Y.DESTROY_ASSET_AFTER_X_FRAMES=60,Y.DEFAULT_SPACE_HEIGHT=-60001,Y.DEFAULT_LABEL_WIDTH=-49965,Y.DEFAULT_SEPARATOR_HEIGHT=7,Y.DEFAULT_LABEL_POSITION=1,Y.DEFAULT_TEXT_ALIGN=Ot.LEFT,Y.INT_MIN_VALUE=-2147483647,Y.INT_MAX_VALUE=2147483647,Y.FLOAT_MIN_VALUE=-2147483647,Y.FLOAT_MAX_VALUE=2147483647,Y.DIALOG_WIDTH=300,Y.DIALOG_OVERFLOW_HEIGHT=400,Y.YES="Yes",Y.NO="No",Y.OK="OK",Y._beginFrameCallbacks=[],Y._orderedWindows=[],Y._orderedWindowsIterated=[],Y._inRow=!1,Y._currentRowIndex=-1,Y._currentTabBarItem=[],Y._labelWidth=-49965,Y._labelPosition=1,Y._textAlign=Ot.LEFT,Y._fieldsDisabled=!1,Y._flex=1,Y._bold=!1,Y._pointSize=12,Y._preRenderedSize=-1,Y._themeClonedIndex=-1,Y._themeTint=-1,Y._themeAltTint=-1,Y._themeTextColor=-1,Y._themeBackgroundColor=-1,Y._pointerBaseHandles=new Nl,Y._pointerHandles=new Nl,Y._pointerBaseHandleOccurences=[],Y._nextPointerHandle=0,Y._boolPointerValues=new Ge(16,.5,!1),Y._intPointerValues=new Ge,Y._floatPointerValues=new Tn,Y._stringPointerValues=new Pn,Y._arrayPointerValues=new Pn,Y._assetUses=new Nl,Y._pendingDialogs=[],Y._allowedOwners=[],Y._usedWindowKeys=new Nl,Y._changeChecks=[],Y._numUsedWindows=0,Y._shouldSkipRender=!1,Li.lazyShared=!0,Dd.__meta__={fields:{unobservedTheme:{observe:null},unobservedBold:{observe:null},unobservedDisabled:{observe:null}}},Ed.__meta__={fields:{unobservedTheme:{observe:null},unobservedLabel:{observe:null},unobservedDisabled:{observe:null}}},Gd.__meta__={fields:{unobservedTheme:{observe:null},unobservedItems:{observe:null},unobservedSelectedIndex:{observe:null},unobservedTrashable:{observe:null},unobservedLockable:{observe:null},unobservedDuplicable:{observe:null},unobservedSortable:{observe:null},unobservedSmallItems:{observe:null},unobservedScrollEnabled:{observe:null}}},Gd.CELL_HEIGHT_SMALL=30,Gd.CELL_HEIGHT_LARGE=39,Kd.RE_PREFIXED=new f("^(.*?)([0-9]+)$",""),Kd.RE_NUMERIC_PREFIX=new f("^[0-9]+",""),Kd.RE_SPACES=new f("\\s+",""),Kd._slugUpperCase=new o1(!1,ct.RE_SLUG_REMOVE_CHARS,"_"),zi.CLOSURE_CACHE_SIZE=128,zi.RE_NUMERIC_PREFIX=new f("^[0-9]+",""),zi.RE_NON_DIGIT_OR_DOT=new f("[^0-9\\.]+",""),zi.RE_SPACES=Kd.RE_SPACES,Gi.__meta__={fields:{unobservedTheme:{observe:null},unobservedHover:{observe:null},unobservedPressed:{observe:null}}},Yi.__meta__={fields:{unobservedTheme:{observe:null}}},Od.__meta__={fields:{unobservedTheme:{observe:null},unobservedValue:{observe:null},unobservedList:{observe:null},unobservedNullValueText:{observe:null},unobservedInputStyle:{observe:null},unobservedListVisible:{observe:null}}},Od._point=new n,Od.MAX_LIST_HEIGHT=200,Od.ITEM_HEIGHT=Y2.ITEM_HEIGHT,Pd.__meta__={fields:{unobservedTheme:{observe:null}}},Qd.__meta__={fields:{unobservedTheme:{observe:null},unobservedValue:{observe:null},unobservedMinValue:{observe:null},unobservedMaxValue:{observe:null},unobservedEnabledTextInput:{observe:null},unobservedInputStyle:{observe:null},unobservedDisabled:{observe:null}}},Qd._point=new n,Sd.__meta__={fields:{unobservedTheme:{observe:null},unobservedSelectedIndex:{observe:null},unobservedTabs:{observe:null},unobservedTabStates:{observe:null},unobservedTabThemes:{observe:null},unobservedTabViews:{observe:null},unobservedHoverIndex:{observe:null}}},Ki.__meta__={fields:{unobservedTheme:{observe:null},unobservedPlaceholder:{observe:null},unobservedInputStyle:{observe:null},unobservedTextAlign:{observe:null},unobservedDisabled:{observe:null}}},$i.__meta__={fields:{unobservedBackgroundInFormLayout:{serialize:null},unobservedFieldTextColor:{serialize:null},unobservedFieldPlaceholderColor:{serialize:null},unobservedLightTextColor:{serialize:null},unobservedMediumTextColor:{serialize:null},unobservedDarkTextColor:{serialize:null},unobservedDarkerTextColor:{serialize:null},unobservedIconColor:{serialize:null},unobservedCustomMediumFont:{serialize:null},unobservedCustomBoldFont:{serialize:null},unobservedLighterBorderColor:{serialize:null},unobservedLightBorderColor:{serialize:null},unobservedMediumBorderColor:{serialize:null},unobservedDarkBorderColor:{serialize:null},unobservedLightBackgroundColor:{serialize:null},unobservedMediumBackgroundColor:{serialize:null},unobservedDarkBackgroundColor:{serialize:null},unobservedDarkerBackgroundColor:{serialize:null},unobservedSelectionBorderColor:{serialize:null},unobservedHighlightColor:{serialize:null},unobservedHighlightPendingColor:{serialize:null},unobservedFormItemSpacing:{serialize:null},unobservedFormPadding:{serialize:null},unobservedTabsMarginY:{serialize:null},unobservedFocusedFieldSelectionColor:{serialize:null},unobservedFocusedFieldBorderColor:{serialize:null},unobservedOverlayBackgroundColor:{serialize:null},unobservedOverlayBackgroundAlpha:{serialize:null},unobservedOverlayBorderColor:{serialize:null},unobservedOverlayBorderAlpha:{serialize:null},unobservedButtonBackgroundColor:{serialize:null},unobservedButtonOverBackgroundColor:{serialize:null},unobservedButtonPressedBackgroundColor:{serialize:null},unobservedButtonFocusedBorderColor:{serialize:null},unobservedTabsBackgroundColor:{serialize:null},unobservedTabsBackgroundAlpha:{serialize:null},unobservedTabsHoverBackgroundColor:{serialize:null},unobservedTabsHoverBackgroundAlpha:{serialize:null},unobservedTabsBorderColor:{serialize:null},unobservedDisabledTabTextAlpha:{serialize:null},unobservedDisabledTabBorderAlpha:{serialize:null},unobservedWindowBackgroundColor:{serialize:null},unobservedWindowBackgroundAlpha:{serialize:null},unobservedWindowBorderColor:{serialize:null},unobservedWindowBorderAlpha:{serialize:null}}},$i._nextIndex=1,Qi.__meta__={fields:{unobservedTheme:{observe:null},unobservedContent:{observe:null}}},Qi._point=new n(0,0),qi.__meta__={fields:{unobservedWindowsData:{serialize:null},unobservedColorPickerHsluv:{serialize:null},unobservedPaletteColors:{serialize:null}}},Zi.__meta__={fields:{unobservedContentAlign:{observe:null},unobservedVisualScale:{observe:null},unobservedScaling:{observe:null},unobservedVisual:{observe:null}}},el.__meta__={fields:{unobservedTheme:{observe:null},unobservedContentView:{observe:null},unobservedTitle:{observe:null},unobservedClosable:{observe:null},unobservedCollapsible:{observe:null},unobservedHeader:{observe:null},unobservedTitleAlign:{observe:null}}},el.HEADER_HEIGHT=18,el.FONT_PRE_RENDERED_SIZE=20,el.TITLE_TEXT_SIZE=12,el.DEFAULT_X=20,el.DEFAULT_Y=20,el.DRAG_THRESHOLD=4,el._point=new n(0,0),nl.__meta__={fields:{unobservedX:{serialize:null},unobservedY:{serialize:null},unobservedWidth:{serialize:null},unobservedHeight:{serialize:null},unobservedExpanded:{serialize:null},unobservedHeader:{serialize:null},unobservedScrollbar:{serialize:null}}},nl.DEFAULT_WIDTH=200,nl.DEFAULT_HEIGHT=-60001,tl.pool=new m,ml.PATH_SEPARATOR="/",ml.RE_SPACE=new f("%s",""),Al.USE_CACHE=!1,Al.USE_ENUM_INDEX=!1,Al.BASE64="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789%:",kl.DEFAULT_RESOLVER=new $3,kl.BASE64="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789%:",Ml.CHARS="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ml.BYTES=Pl.ofString(Ml.CHARS),us.escapes=((e=new Nl).h.lt="<",e.h.gt=">",e.h.amp="&",e.h.quot='"',e.h.apos="'",e),gs.LEN_EXTRA_BITS_TBL=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,-1,-1],gs.LEN_BASE_VAL_TBL=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],gs.DIST_EXTRA_BITS_TBL=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,-1,-1],gs.DIST_BASE_VAL_TBL=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577],gs.CODE_LENGTHS_POS=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],x.m=[[3.240969941904521,-1.537383177570093,-.498610760293],[-.96924363628087,1.87596750150772,.041555057407175],[.055630079696993,-.20397695888897,1.056971514242878]],x.minv=[[.41239079926595,.35758433938387,.18048078840183],[.21263900587151,.71516867876775,.072192315360733],[.019330818715591,.11919477979462,.95053215224966]],x.refY=1,x.refU=.19783000664283,x.refV=.46831999493879,x.kappa=903.2962962,x.epsilon=.0088564516,x.hexChars="0123456789abcdef",t4.params=((e=new Nl).h.projectionMatrix={type:6},e.h.modelViewMatrix={type:6},e),u4.params=((e=new Nl).h.mainTex={type:7},e.h.texSize={type:1},e.h.pxRange={type:0},e),w4.params=((e=new Nl).h.projectionMatrix={type:6},e.h.modelViewMatrix={type:6},e),x4.params=((e=new Nl).h.mainTex={type:7},e.h.resolution={type:1},e.h.sharpness={type:0},e.h.gridThickness={type:0},e.h.gridAlpha={type:0},e.h.gridColor={type:2},e.h.scanlineIntensity={type:0},e.h.scanlineOffset={type:0},e.h.scanlineCount={type:0},e.h.scanlineShape={type:0},e.h.verticalMaskIntensity={type:0},e.h.verticalMaskOffset={type:0},e.h.verticalMaskCount={type:0},e.h.glowThresholdMin={type:0},e.h.glowThresholdMax={type:0},e.h.glowStrength={type:0},e.h.chromaticAberration={type:0},e),z4.params=((e=new Nl).h.projectionMatrix={type:6},e.h.modelViewMatrix={type:6},e),A4.params=((e=new Nl).h.mainTex={type:7},e),A.prevCurrent=[],A._autorunArrays=[],A._autorunArraysLen=0,A._arrayOfAutorunArrays=[],A._arrayOfAutorunArraysLen=0,ys.BACKUP_NUM_STEPS=2e4,ys.NUM_BACKUPS=4,ys.busyKeys=[],oe._appendSerialize=!1,oe._cachedEnumInfoBySerializableType=new Nl,oe._enumInfo=new Nl,Ds._nextUniqueIntCursor=0,Ds._nextUniqueInt0=2147483646*Math.random()|0,Ds._nextUniqueInt1=1e-4*(new Date).getTime()|0,Ds._nextUniqueInt2=2147483646*Math.random()|0,Ds._nextUniqueInt3=2147483646*Math.random()|0,ba.main()}("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this);