!function(be){"use strict";function c(){return Ul.__string_rec(this,"")}var x,E={},Oe={};function $extend(e,n){var t,i=Object.create(e);for(t in n)i[t]=n[t];return n.toString!==Object.prototype.toString&&(i.toString=n.toString),i}function f(e,n){this.r=new RegExp(e,n.split("u").join(""))}function h(){}function i(){}function j(){this._components=null,this.autoruns=null,this._lifecycleState=0,this.id=null}function k(){this.skewY=0,this.skewX=0,this.scaleY=1,this.scaleX=1,this.rotation=0,this.y=0,this.x=0,this.pivotY=0,this.pivotX=0}function l(e,n,t,i,l,r){null==r&&(r=0),null==l&&(l=0),null==i&&(i=1),null==t&&(t=0),null==n&&(n=0),this.a=e=null==e?1:e,this.b=n,this.c=t,this.d=i,this.tx=l,this.ty=r,this._aPrev=e,this._bPrev=n,this._cPrev=t,this._dPrev=i,this._txPrev=l,this._tyPrev=r,this.changed=!1,this.changedDirty=!1}function m(){this.availableItems=[]}function n(e,n,t){null==t&&(t=0),null==n&&(n=0),null==e&&(e=0),this.z=0,this.y=0,this.x=0,this.x=e,this.y=n,this.z=t}function o(){this.parent=null,this.children=null,this.computedClip=null,this.computedTouchable=!0,this.computedRenderTarget=null,this.computedDepth=0,this.computedAlpha=1,this.computedVisible=!0,this.matTY=0,this.matTX=0,this.matD=1,this.matC=0,this.matB=0,this.matA=1,this.flags=0,this.shader=null,this.transform=null,this.alpha=1,this.rotation=0,this.roundTranslation=-1,this._height=0,this._width=0,this.anchorY=0,this.anchorX=0,this.skewY=0,this.skewX=0,this.scaleY=1,this.scaleX=1,this.y=0,this.x=0,this.depthRange=1,this.depth=0,this.touchable=!0,this.visible=!0,this.blending=0,this.renderTarget=null,this.clipDirty=!0,this.touchableDirty=!0,this.visibilityDirty=!0,this.renderTargetDirty=!0,this.matrixDirty=!0,this.contentDirty=!0,this.translatesOnlyDirty=!1,this.translatesOnly=!0,this.inheritAlpha=!1,this.clip=null,this._numPointerOver=0,this._numPointerDown=0,this.multiTouch=!1,this.asMesh=null,this.asQuad=null,j.call(this),he.app.pendingVisuals.push(this)}function p(){this.frameHeight=-1,this.frameWidth=-1,this.frameY=-1,this.frameX=-1,this._texture=null,this.tile=null,this.color=16777215,o.call(this),this.asQuad=this}function q(){this.sizeDirty=!1,p.call(this),this.flags|=16}function r(){}function s(){}function t(){this.paused=!1,this.autoUpdateWhenInactive=!1,this.autoUpdate=!0,this.isRootScene=!1,this.unobservedStatus=0,this.statusAutoruns=null,this._assetsFailure=!1,this._assetsTotal=0,this._assetsProgress=0,this._assets=null,this.observedDirty=!1,q.call(this),this.flags|=16,Qn.get_shared().all.push(this)}function u(){this.ceramicLogo=null,t.call(this)}function v(e){j.call(this),e.settings.antialiasing=2,e.settings.set_background(0),e.settings.set_targetWidth(640),e.settings.set_targetHeight(480),e.settings.set_scaling(Zn.FIT),e.settings.resizable=!0,he.app.onceReady(this,$bind(this,this.ready))}function y(){this.b=""}function z(){}function B(){}function D(e){this.nodeType=e,this.children=[],this.attributeMap=new ue}function F(){}function G(){}function H(){this.loadedAudioRetainCount=new ue,this.loadedAudioResources=new ue,this.loadingAudioCallbacks=new ue,this.nextSamplesBufferIndex=0}function L(){}function M(){this.clipboard=new ve,this.textInput=new Te,this.input=new ye,this.screen=new Ue,this.shaders=new De,this.textures=new Se,this.binaries=new Ce,this.texts=new xe,this.draw=new Z,this.audio=new H,this.info=new me,this.io=new we}function N(){}function P(){}function Q(e){this.gamepadsEnabled=!0,this.gamepadGyroValues=new An,this.gamepadAxisValues=new mn,this.gamepadPressedValues=new ze,this.gamepadButtonMapping=new ze,this.gamepadAxisToButton=new ze,this.swapXyGamepads=new ze(16,.5,!1),this.swapAbGamepads=new ze(16,.5,!1),this.removedGamepads=new ze(16,.5,!1),this.activeGamepads=new ze(16,.5,!1),this.mouseY=0,this.mouseX=0,this.mouseDownButtons=new ze(16,.5,!1),this.touchIndexes=new ze,this.touches=new ze,this.lastHeight=-1,this.lastWidth=-1,this.lastDensity=-1,this.handleReady=e,this.configureGamepadMapping()}function R(){}function T(){}function V(){}function W(){}function Y(){}function $(){}function aa(){}function ba(){}function da(){this.id=null}function ea(){this.gpuShader=null,this.uniforms=null,this.textures=null,this.attributes=null,this.fragSource=null,this.vertSource=null,da.call(this)}function fa(){this.isBatchingMultiTexture=!1,this.customAttributes=null,ea.call(this)}function ga(){}function ia(){}function ka(){}function na(){}function qa(){}function ra(){this.bestY=-1,this.bestX=-1,this.bestContactScore=-1,this.bestLongSideFit=-1,this.bestShortSideFit=-1,this.bestAreaFit=-1,this.bestNode=null}function sa(e,n,t){this.rect=e,this.primaryScore=n,this.secondaryScore=t}function ta(e,n,t){null==t&&(t=!0),null==n&&(n=0),null==e&&(e=0),this._bestFitPosition=new ra,this.freeRectangles=[],this.usedRectangles=[],this.binWidth=e,this.binHeight=n,this.binAllowFlip=t,t=new Ae(0,0,e,n),this.freeRectangles.push(t)}function ua(e,n){this.width=e,this.height=n}function wa(){this.rects=[]}function ya(){this.wireframeColors=null,this.wireframeIndices=null,this.uvs=[],this.texture=null,this.floatColors=null,this.colors=[],this.indices=[],this.vertices32=null,this.vertices=[],this.complexHit=!1,this.customFloatAttributesSize=0,this.colorMapping=0,o.call(this),this.asMesh=this}function za(){this.antialiasing=1,ya.call(this),this.vertices=[0,0,0,0,0,0,0,0,0,0,0,0],this.indices=[0,1,2,0,1,4,0,3,4,1,2,4,2,4,5,0,2,3,2,3,5],this.colorMapping=2,this.set_color(16777215)}function Da(){}function Ea(e,n,t,i){this.customExtensions=null,this.hotReload=!1,this.handleTexturesDensityChange=!1,this.unobservedStatus=Fe.NONE,this.statusAutoruns=null,this.refCount=0,this.assets=null,this.density=1,this.observedDirty=!1,j.call(this),this.kind=e,this.options=null!=i?i:{},this.set_name(n),this.set_variant(t),this.computePath()}function La(){this.paramsAcquired=!1,this.paramsChanged=!1,this.params=[],this.active=!0,this.bus=-1,j.call(this),this.filterId=La._nextFilterId++,this._initDefaultParamValues()}function Ma(e,n){this.params=[],this.active=!0,this.bus=-1,this.filterId=e,this.bus=n}function Oa(){}function Pa(e){null==e&&(e=.1),this.pending=[],this.stop=!1,this.runsInBackground=!1,this.checkInterval=.1,j.call(this),this.checkInterval=.1}function Qa(e,n,t,i){if(this.quadratic=!1,this.cached=!1,this.linearEasing=!1,this.cached&&this.removeFromCache(this.mX1,this.mY1,this.mX2,this.mY2),null==t||null==i?(this.quadratic=!0,this.mQuadraticX1=e,this.mQuadraticX2=t,this.mX1=Qa.TWO_THIRD*e,this.mY1=Qa.TWO_THIRD*n,this.mX2=1+Qa.TWO_THIRD*(e-1),this.mY2=1+Qa.TWO_THIRD*(n-1)):(this.quadratic=!1,this.mX1=e,this.mY1=n,this.mX2=t,this.mY2=i),this.mX1==this.mY1&&this.mX2==this.mY2)this.linearEasing=!0;else{this.linearEasing=!1,null==this.sampleValues&&(this.sampleValues=[]);for(var l=0,r=Qa.SPLINE_TABLE_SIZE;l<r;){var s=l++,h=s*Qa.SAMPLE_STEP_SIZE,a=this.mX1,o=this.mX2;this.sampleValues[s]=(((1-3*o+3*a)*h+(3*o-6*a))*h+3*a)*h}}}function Sa(e,n){if(this._preRenderingPages=null,this.preRenderedPages=null,this.pageShaders=null,this.pages=new An(16,.5,!0),j.call(this),this.set_fontData(e),null==e)throw oe.thrown("BitmapFont: fontData is null");if(null==n)throw oe.thrown("BitmapFont: pages is null");null!=e.distanceField&&(this.pageShaders=new qi);for(var t=0,i=e.pages;t<i.length;){var l,r=i[t],s=(++t,r.file),s=(null!=e.path&&0<e.path.length&&"."!=e.path&&(s=Rn.join([e.path,r.file])),n.h[s]);if(null==s)throw oe.thrown("BitmapFont: missing texture for file "+r.file);s.set_filter(e.smooth||null!=e.distanceField?wt.LINEAR:wt.NEAREST),this.pages.set(r.id,s),null!=e.distanceField&&(l=he.app.assets._shaderFromClass(Sl).clone(),he.app.backend.shaders,l.backendItem.uniforms.setFloat("pxRange",e.distanceField.distanceRange),he.app.backend.shaders,l.backendItem.uniforms.setVector2("texSize",s.width*s.density,s.height*s.density),this.pageShaders.h[r.id]=l)}}function Ta(e,n,t,i,l,r,s,h,a){this.id=e,this.x=n,this.y=t,this.width=i,this.height=l,this.xOffset=r,this.yOffset=s,this.xAdvance=h,this.page=a}function Ua(e,n,t,i,l,r,s,h,a,o,c,u,_,d){this.rawFontData=null,this.needsReparsing=!1,this.aa=!0,this.smooth=!0,this.face=e,this.path=n,this.pointSize=t,this.baseSize=i,this.chars=l,this.charCount=r,this.distanceField=s,this.pages=h,this.lineHeight=a,this.kernings=o,null!=c&&(this.smooth=c),null!=u&&(this.aa=u),null!=_&&(this.needsReparsing=_),null!=d&&(this.rawFontData=d)}function Va(e,n){this.id=e,this.file=n}function Wa(e,n){this.fieldType=e,this.distanceRange=n}function Xa(){}function Ya(){this.borderRightColor=-1,this.borderLeftColor=-1,this.borderBottomColor=-1,this.borderTopColor=-1,this.borderColor=8421504,this.borderRightSize=-1,this.borderLeftSize=-1,this.borderBottomSize=-1,this.borderTopSize=-1,this.borderSize=1,this.borderPosition=Ve.INSIDE,this.autoComputeColors=!0,this.autoComputeVertices=!0,ya.call(this),this.colorMapping=1,this.vertices=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.indices=[0,1,2,2,1,3,3,1,5,5,1,7,4,5,6,6,5,7,0,2,6,6,2,4],this.colors=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.computeVertices()}function a0(){}function b0(){this.initializerName=null,this.pointerStartY=0,this.pointerStartX=0,this.unobservedPressed=!1,this.pressedAutoruns=null,this.threshold=-1,this.observedDirty=!1,j.call(this)}function e0(e,n){this.index=e0._nextIndex++,this.id=null!=e?e:"id"+e0._nextId++,this.name=n}function f0(){this.vIndex=0,this.customParentView=null,this.persistedComputedSizes=[],this.borderRightColor=-1,this.borderLeftColor=-1,this.borderBottomColor=-1,this.borderTopColor=-1,this.borderColor=8421504,this.borderRightSize=-1,this.borderLeftSize=-1,this.borderBottomSize=-1,this.borderTopSize=-1,this.borderSize=0,this.borderPosition=Ve.INSIDE,this.borderAlpha=1,this.borderDepth=0,this.border=null,this.layoutDirty=!0,this.flex=1,this.offsetY=0,this.offsetX=0,this.paddingBottom=0,this.paddingTop=0,this.paddingRight=0,this.paddingLeft=0,this.viewHeight=-60001,this.viewWidth=-60001,this.computedSize=null,this.subviews=null;var e=this;q.call(this),this.vIndex=f0.nextVIndex++,this.set_depthRange(1),this.canLayout=!1,this.flags&=-17,null==f0._allViews&&(f0._allViews=[],Bt.get_shared().bind()),f0._allViews.push(this),he.app._onceImmediate(function(){e._lifecycleState<0||he.app._oncePostFlushImmediate(function(){e._lifecycleState<0||(e.canLayout=!0,e.layoutDirty&&f0.requestLayout())},!0)})}function g0(){this.contentSize=-1,this.autoComputeContentSize=!1,f0.call(this),this.initContentView(),this.initScroller()}function h0(){this.prevLayoutHeight=-1,this.prevLayoutWidth=-1,this.reusableViews=[],this.itemsBehavior=1,this.frames=[],this.childrenDepth=0,this.maxReusableViewsCount=1,this.autoDestroyItems=!0,this.dataSource=null,g0.call(this),this.set_collectionViewLayout(new Ne),this.scroller.scrollTransform.onChange(this,$bind(this,this.computeVisibleItems))}function i0(){}function j0(){}function q0(){this.childrenDepth=1,this.align=En.TOP,this.itemSpacing=0,this.direction=Ln.VERTICAL,f0.call(this),this.flags|=16}function r0(){q0.call(this),this.set_direction(Ln.VERTICAL)}function u0(){}function D0(){}function G0(){this.initializerName=null,this.pointerStartY=0,this.pointerStartX=0,this.firstClickTime=-1,this.pressed=!1,this.maxDelay=.4,this.threshold=4,j.call(this)}function I0(){}function J0(){}function K0(e,n,t,i,l,r){null==r&&(r=1),null==l&&(l=1),null==i&&(i=0),null==t&&(t=0),this.initializerName=null,this.domInputBlockHtmlInputEvent=!1,this.domInputBlockSelection=!1,this.domInput=null,this.inputRectH=0,this.inputRectW=0,this.inputRectY=0,this.inputRectX=0,this.textCursorToggleVisibilityTime=1,this.textCursor=null,this.willUpdateSelection=!1,this.inputActive=!1,this.selectionBackgrounds=[],this.boundContainer=null,this.selectText=null,this.container=null,this.disabled=!1,this.multiline=!1,j.call(this),this.id=Pt.uniqueId(),this.set_selectionColor(e),this.set_textCursorColor(n),this.set_textCursorOffsetX(t),this.set_textCursorOffsetY(i),this.set_textCursorHeightFactor(l),this.set_textCursorWidth(r)}function L0(){}function U0(e){null!=e&&(this.value=e)}function V0(e){this.fragmentComponents=null,this.ready=!1,this.timeline=null,this.pendingLoads=0,this.autoUpdateTimeline=!0,this.resizable=!1,this.fragmentData=null,this.fps=30,this.assets=null,q.call(this),this.assets=e,this.entities=[],this.items=[]}function Z0(){}function $0(){this.glyphAdvance=-1,this.glyphY=-1,this.glyphX=-1,this.code=-1,this.line=-1,this.posInLine=-1,this.index=-1,this.glyph=null,this.char=null,p.call(this)}function ub(){}function xb(e,n){this.ctrlPressed=0,this.cmdPressed=0,this.disableIfShiftPressed=!1,this.rightShiftPressed=!1,this.leftShiftPressed=!1,this.matches=!1,this.pressedItems=[],this.bindings=null,j.call(this),this.accelerator=[].concat(e),this.bindings=n,this.bindKeyboardEvents()}function Ab(){f0.call(this),this.flags|=16}function Db(){this.tmpY=0,this.tmpX=0,this.outY=0,this.outX=0,this.bY=0,this.bX=0,this.aY=0,this.aX=0,this.miterY=0,this.miterX=0,this.tangentY=0,this.tangentX=0}function Eb(){this._points=null,this._started=!1,this._lastFlip=-1,this._normalY=0,this._normalX=0,this._hasNormal=!1,this.capEndY=0,this.capEndX=0,this.miterY=0,this.miterX=0,this.tangentY=0,this.tangentX=0,this.lineBY=0,this.lineBX=0,this.lineAY=0,this.lineAX=0,this.tmpY=0,this.tmpX=0,this.canLoop=!1,this.cap=Tl.BUTT,this.join=xl.MITER,this.thickness=1,this.miterLimit=10}function Fb(){this.autoComputeSize=!0,this.loop=!1,this.cap=Tl.BUTT,this.join=xl.BEVEL,this.thickness=1,this.miterLimit=10,this.points=null,ya.call(this)}function Hb(e,n){this.initializerName=null,this.cancelLongPress=null,this.didLongPress=!1,this.pointerStartY=0,this.pointerStartX=0,this.requiredDuration=1,this.threshold=4,j.call(this),this.click=n,null!=e&&this.onLongPress(null,e)}function Kb(){}function Ub(){q0.call(this),this.set_direction(Ln.HORIZONTAL)}function Zb(){this.lateUpdateOrder=0,this.earlyUpdateOrder=0,this.autoUpdate=!0,this.name=null,j.call(this),he.app.systems.addSystem(this)}function g1(e,n,t){this.usedTextures=null,this.textureSlots=null,this.backendItem=null,j.call(this);var i=null!=n?n:[new rt(3,"vertexPosition"),new rt(2,"vertexTCoord"),new rt(4,"vertexColor")];if(this.baseAttributes=[].concat(i),null!=e)for(var l=0,r=e.length;l<r;){var s=e[l++];i.push(s)}this.attributes=i,this.customAttributes=e,this.textureIdAttribute=t}function j1(){}function k1(e,n,t){this.replacement="-",this.remove=st.RE_SLUG_REMOVE_CHARS,this.lower=!0,null!=e&&(this.lower=e),null!=n&&(this.remove=n),null!=t&&(this.replacement=t)}function o1(e){this.pitch=1,this.pan=0,this.volume=.5,this.group=0,this.bus=0,j.call(this),this.backendItem=e}function w1(){this.noFitWidth=!1,this.centerIfOneLine=!1,this.minHeight=0,this.verticalAlign=En.TOP,f0.call(this),this.text=new ut,this.text.set_maxLineDiff(.75),this.add(this.text),this.flags|=16}function x1(){this.asset=null,this.regions=[],this.pages=[],j.call(this)}function y1(){this.pages=[],this.pendingRegions=[],this.filter=wt.LINEAR,this.spacing=1,this.atlas=null,j.call(this)}function E1(e,n,t,i,l,r,s){null==s&&(s=0),null==r&&(r=!1),this.texture=e,this.frameX=n,this.frameY=t,this.frameWidth=i,this.frameHeight=l,this.rotateFrame=r,this.edgeInset=s}function H1(e,n,t,i,l,r){null==r&&(r=1),null==l&&(l=16),null==i&&(i=16),null==t&&(t=-1),null==n&&(n=-1),this.maxPixelTextureHeight=0,this.maxPixelTextureWidth=0,this.numRows=0,this.numCols=0,this.nextPacker=null,j.call(this),this.padWidth=i,this.padHeight=l,this.margin=r,this.maxPixelTextureWidth=n,this.maxPixelTextureHeight=t,-1==n&&(n=2048/he.app.screen.get_texturesDensity()|0),-1==t&&(t=2048/he.app.screen.get_texturesDensity()|0);for(var n=0|Math.min(n,2048/he.app.screen.get_texturesDensity()),t=0|Math.min(t,2048/he.app.screen.get_texturesDensity()),s=(this.texture=new Gn(n,t),e?(this.texture.autoRender=!0,this.texture.clearOnRender=!0):(this.texture.autoRender=!1,this.texture.clearOnRender=!1),this.areas=[],this.texture.width),h=this.texture.height,a=r,o=r;o+l<h;){for(;a+i<s;)this.areas.push(null),a+=i+2*r,0==this.numRows&&this.numCols++;a=0,o+=l+2*r,this.numRows++}}function K1(e,n){this.easing=tn.NONE,this.index=e,this.easing=n}function L1(e,n,t){K1.call(this,n,t),this.value=e}function M1(){this.keyframeAfterIndex=-1,this.keyframeBeforeIndex=-1,this.after=null,this.before=null,this.keyframes=[],this.position=0,this.timeline=null,this.locked=!1,this.loop=!1,this.autoFitSize=!0,this.size=0,j.call(this)}function N1(){this.value=!1,M1.call(this)}function O1(e,n,t){K1.call(this,n,t),this.value=e}function P1(){this.value=16777215,M1.call(this)}function Q1(){this.value=0,M1.call(this)}function R1(e,n,t){K1.call(this,n,t),this.value=e}function S1(){this.value=[],M1.call(this)}function T1(e,n,t){K1.call(this,n,t),this.value=e}function U1(){this.value=0,M1.call(this)}function bc(){}function cc(){ya.call(this),this.vertices=[0,0,0,0,0,0],this.indices=[0,1,2],this.set_color(16777215)}function mc(e,n){null==n&&(n=.3),this.initializerName=null,this.isView=!1,this.viewHeightEnd=0,this.viewHeightStart=0,this.viewHeightTarget=0,this.viewHeightTween=null,this.viewHeightChanged=!1,this.viewWidthEnd=0,this.viewWidthStart=0,this.viewWidthTarget=0,this.viewWidthTween=null,this.viewWidthChanged=!1,this.offsetYEnd=0,this.offsetYStart=0,this.offsetYTarget=0,this.offsetYTween=null,this.offsetYChanged=!1,this.offsetXEnd=0,this.offsetXStart=0,this.offsetXTarget=0,this.offsetXTween=null,this.offsetXChanged=!1,this.transformInTransition=null,this.transformEndToNull=!1,this.transformEnd=null,this.transformStart=null,this.transformTarget=null,this.transformTween=null,this.transformAssignedInstance=null,this.transformAssigned=!1,this.transformChanged=!1,this.translateYEnd=0,this.translateYStart=0,this.translateYTarget=0,this.translateYTween=null,this.translateYChanged=!1,this.translateXEnd=0,this.translateXStart=0,this.translateXTarget=0,this.translateXTween=null,this.translateXChanged=!1,this.alphaEnd=0,this.alphaStart=0,this.alphaTarget=0,this.alphaTween=null,this.alphaChanged=!1,this.colorEnd=-1,this.colorStart=-1,this.colorTarget=-1,this.colorTween=null,this.colorChanged=!1,this.heightEnd=0,this.heightStart=0,this.heightTarget=0,this.heightTween=null,this.heightChanged=!1,this.widthEnd=0,this.widthStart=0,this.widthTarget=0,this.widthTween=null,this.widthChanged=!1,this.rotationEnd=0,this.rotationStart=0,this.rotationTarget=0,this.rotationTween=null,this.rotationChanged=!1,this.anchorYEnd=0,this.anchorYStart=0,this.anchorYTarget=0,this.anchorYTween=null,this.anchorYChanged=!1,this.anchorXEnd=0,this.anchorXStart=0,this.anchorXTarget=0,this.anchorXTween=null,this.anchorXChanged=!1,this.skewYEnd=0,this.skewYStart=0,this.skewYTarget=0,this.skewYTween=null,this.skewYChanged=!1,this.skewXEnd=0,this.skewXStart=0,this.skewXTarget=0,this.skewXTween=null,this.skewXChanged=!1,this.scaleYEnd=0,this.scaleYStart=0,this.scaleYTarget=0,this.scaleYTween=null,this.scaleYChanged=!1,this.scaleXEnd=0,this.scaleXStart=0,this.scaleXTarget=0,this.scaleXTween=null,this.scaleXChanged=!1,this.depthEnd=0,this.depthStart=0,this.depthTarget=0,this.depthTween=null,this.depthChanged=!1,this.yEnd=0,this.yStart=0,this.yTarget=0,this.yTween=null,this.yChanged=!1,this.xEnd=0,this.xStart=0,this.xTarget=0,this.xTween=null,this.xChanged=!1,this.anyPropertyChanged=!1,j.call(this),this.easing=e,this.duration=n}function qc(){}function rc(){}function sc(){}function tc(e){null==e&&(e=.05),this.pending=[],this.stop=!1,this.runsInBackground=!1,this.checkInterval=e}function zc(){}function Ac(e,n,t,i,l,r,s){this.pixels=null,this.sourceBitsPerPixel=4,this.bitsPerPixel=4,this.heightActual=0,this.widthActual=0,this.height=0,this.width=0,null!=e&&(this.width=e),null!=n&&(this.height=n),null!=t&&(this.widthActual=t),null!=i&&(this.heightActual=i),null!=l&&(this.bitsPerPixel=l),null!=r&&(this.sourceBitsPerPixel=r),null!=s&&(this.pixels=s)}function Fc(){}function Oc(){}function Pc(e,n,t,i,l,r,s,h){this.isStream=null,this.format=null,this.bitsPerSample=null,this.channels=null,this.duration=null,this.length=null,this.rate=null,(this.id=null)!=e&&(this.id=e),null!=n&&(this.rate=n),null!=t&&(this.length=t),null!=i&&(this.duration=i),null!=l&&(this.channels=l),null!=r&&(this.bitsPerSample=r),null!=s&&(this.format=s),null!=h&&(this.isStream=h)}function Qc(e,n){this.destroyed=!1,this.isStream=!1,this.format=0,this.bitsPerSample=16,this.channels=1,this.duration=0,this.length=0,this.rate=44100,this.id="AudioData",this.app=e,null!=n.id&&(this.id=n.id),null!=n.rate&&(this.rate=n.rate),null!=n.length&&(this.length=n.length),null!=n.format&&(this.format=n.format),null!=n.channels&&(this.channels=n.channels),null!=n.bitsPerSample&&(this.bitsPerSample=n.bitsPerSample),null!=n.isStream&&(this.isStream=n.isStream),null!=n.duration&&(this.duration=n.duration)}function Tc(e,n){this.destroyed=!1,this.source=e,this.handle=n}function Wc(e){this.app=e}function Xc(e){this.app=e}function Yc(e){this.app=e}function Zc(e){this.name=null,this.app=e}function f2(e,n){this.texture=e,this.slot=n}function k2(){}function m2(){}function y2(){}function z2(){this.focusedThisFrame=!1,this.windowItem=null,this.computedOnceFocused=!1,this.focusedAutoruns=null,this.observedDirty=!1,q0.call(this),this.flags|=16,this.set_direction(Ln.HORIZONTAL),this.bindPointerEvents(),this.focusedThisFrame=this.get_focused(),this.onFocusedChange(this,$bind(this,this.handleFocusedChange))}function A2(){this.unobservedNullValueText=null,this.nullValueTextAutoruns=null,this.unobservedList=[],this.listAutoruns=null,this.unobservedValue=null,this.valueAutoruns=null,this.autoScrollToValue=!1,this.unobservedTheme=null,this.themeAutoruns=null,this.observedDirty=!1;var n=this,e=(f0.call(this),this.collectionView=new di,this.collectionView),t=(e.set_viewWidth(-60002),e.set_viewHeight(-60002),(e=this.collectionView).flags|=16,this.collectionView.set_dataSource(this),this.collectionView.set_inputStyle(!0),this.add(this.collectionView),null);this.autorun(function(){var e=n.get_list();e==t||null!=t&&L0._arrayEqual(e,t)||((t=e).length,n.get_nullValueText(),U.unobserve(),n.collectionView.reloadData())}),this.autorun($bind(this,this.updateScrollFromValueIfNeeded)),this.autorun($bind(this,this.updateStyle))}function B2(){this.suggestions=null,this.suggestionsContainer=null,this.suggestionsView=null,this.processedAutocompleteCandidates=null,this.cancelAutoComplete=null,this.editText=null,this.suggestionsVisibleThisFrame=!1,this.editingThisFrame=!1,this.clipSuggestions=!1,this.autocompleteOnFocus=!1,this.autocompleteMaxResults=10,this.autocompleteDelay=.01,this.autocompleteCandidates=null,this.unobservedTextValue="",this.textValueAutoruns=null;var t=this;z2.call(this),he.app.onUpdate(this,function(e){t.updateSuggestionsVisibility()}),he.app.onPostUpdate(this,function(e){t.updateSuggestionsPosition()}),he.app.onFinishDraw(this,$bind(this,this.updateThisFrameFlags)),he.app.onceUpdate(this,function(e){var n=t.getScrollingLayout();null!=n&&n.scroller.scrollTransform.onChange(t,$bind(t,t.updateSuggestionsPosition))}),this.onFocusedChange(this,$bind(this,this.handleAutocompleteOnFocus))}function C2(){this.borderAlpha=1,this.borderColor=0,this.borderSize=1,this.innerAlpha=1,this.innerColor=16777215,ya.call(this),this.vertices=[0,0,0,0,0,0,0,0,0,0],this.indices=[0,1,2,0,3,4,0,4,1,1,4,2,4,5,2],this.colorMapping=1,this.colors=[];var e=-1,e=(this.colors.push(e=e&16777215|-16777216),-1),e=(this.colors.push(e=e&16777215|-16777216),-1),e=(this.colors.push(e=e&16777215|-16777216),-1),e=(this.colors.push(e=e&16777215|-16777216),-1),e=(this.colors.push(e=e&16777215|-16777216),-1),e=(this.colors.push(e=e&16777215|-16777216),-1),e=(this.colors.push(e=e&16777215|-16777216),-1),e=(this.colors.push(e=e&16777215|-16777216),-1),e=(this.colors.push(e=e&16777215|-16777216),-1),e=(this.colors.push(e=e&16777215|-16777216),-1),e=(this.colors.push(e=e&16777215|-16777216),-1),e=(this.colors.push(e=e&16777215|-16777216),-1),e=(this.colors.push(e=e&16777215|-16777216),-1),e=(this.colors.push(e=e&16777215|-16777216),-1),n=(this.colors.push(e=e&16777215|-16777216),16777215),n=(this.innerColor!=n&&(i=(t=this.colors[0])>>24&255,this.colors[0]=e=(e=-1)&16777215|(255<(i=null==i?255:i)?255:i<0?0:i)<<24,i=(t=this.colors[1])>>24&255,this.colors[1]=e=(e=-1)&16777215|(255<(i=null==i?255:i)?255:i<0?0:i)<<24,i=(t=this.colors[2])>>24&255,this.colors[2]=e=(e=-1)&16777215|(255<(i=null==i?255:i)?255:i<0?0:i)<<24),8421504);if(this.borderColor!=n){this.borderColor=n;{var t=this.colors[3],i=t>>24&255,e=(null==i&&(i=255),-8355712);this.colors[3]=e=e&16777215|(255<i?255:i<0?0:i)<<24;i=(t=this.colors[4])>>24&255,e=-8355712}this.colors[4]=e=e&16777215|(255<(i=null==i?255:i)?255:i<0?0:i)<<24;i=(t=this.colors[5])>>24&255,e=-8355712;this.colors[5]=e=e&16777215|(255<(i=null==i?255:i)?255:i<0?0:i)<<24;i=(t=this.colors[6])>>24&255,e=-8355712;this.colors[6]=e=e&16777215|(255<(i=null==i?255:i)?255:i<0?0:i)<<24;i=(t=this.colors[7])>>24&255,e=-8355712;this.colors[7]=e=e&16777215|(255<(i=null==i?255:i)?255:i<0?0:i)<<24;i=(t=this.colors[8])>>24&255,e=-8355712;this.colors[8]=e=e&16777215|(255<(i=null==i?255:i)?255:i<0?0:i)<<24;i=(t=this.colors[9])>>24&255,e=-8355712;this.colors[9]=e=e&16777215|(255<(i=null==i?255:i)?255:i<0?0:i)<<24;i=(t=this.colors[10])>>24&255,e=-8355712;this.colors[10]=e=e&16777215|(255<(i=null==i?255:i)?255:i<0?0:i)<<24;i=(t=this.colors[11])>>24&255,e=-8355712;this.colors[11]=e=e&16777215|(255<(i=null==i?255:i)?255:i<0?0:i)<<24;i=(t=this.colors[12])>>24&255,e=-8355712;this.colors[12]=e=e&16777215|(255<(i=null==i?255:i)?255:i<0?0:i)<<24;i=(t=this.colors[13])>>24&255,e=-8355712;this.colors[13]=e=e&16777215|(255<(i=null==i?255:i)?255:i<0?0:i)<<24;i=(t=this.colors[14])>>24&255,e=-8355712;this.colors[14]=e=e&16777215|(255<(i=null==i?255:i)?255:i<0?0:i)<<24}}function D2(){this.unobservedDisabled=!1,this.disabledAutoruns=null,this.unobservedInputStyle=wi.DEFAULT,this.inputStyleAutoruns=null,this.unobservedValue=!1,this.valueAutoruns=null,this.unobservedTheme=null,this.themeAutoruns=null;var t=this,e=(z2.call(this),this.set_direction(Ln.HORIZONTAL),this.set_align(En.RIGHT),this.switchContainer=new f0,this.switchContainer.padding(7),(e=this.switchContainer).set_viewWidth(27),e.set_viewHeight(27),this.switchContainer),n=Ve.INSIDE;e.borderPosition!=n&&(e.borderPosition=n,0<e.borderSize||0<e.borderTopSize||0<e.borderBottomSize||0<e.borderLeftSize||0<e.borderRightSize)&&e.updateBorder(),this.add(this.switchContainer),this.switchSquare=new f0,(e=this.switchSquare).flags&=-17,(e=this.switchSquare).set_width(13),e.set_height(13),this.switchContainer.add(this.switchSquare),this.switchContainer.onLayout(this,function(){he.app._oncePostFlushImmediate($bind(t,t.layoutSwitchContainer),!0)}),this.autorun($bind(this,this.updateStyle)),this.onValueChange(this,function(e,n){t.switchContainer.layoutDirty=!0}),this.switchContainer.onPointerDown(this,function(e){t.toggleValue()}),he.app.input.onKeyDown(this,$bind(this,this.handleKeyDown))}function E2(){this.unobservedEnterPressed=!1,this.enterPressedAutoruns=null,this.unobservedHover=!1,this.hoverAutoruns=null,this.computedOnceFocused=!1,this.focusedAutoruns=null,this.unobservedEnabled=!0,this.enabledAutoruns=null,this.unobservedInputStyle=wi.DEFAULT,this.inputStyleAutoruns=null,this.windowItem=null,this.unobservedTheme=null,this.themeAutoruns=null,this.observedDirty=!1;var n=this;w1.call(this),this.set_click(new b0),this.click.onClick(this,$bind(this,this.emitClick)),this.set_align(_t.CENTER),this.set_verticalAlign(En.CENTER),this.set_pointSize(12),this.set_preRenderedSize(20),this.padding(5,2),this.set_transform(new l),this.onPointerOver(this,function(e){n.set_hover(!0)}),this.onPointerOut(this,function(e){n.set_hover(!1)}),he.app.input.onKeyDown(this,$bind(this,this.handleKeyDown)),he.app.input.onKeyUp(this,$bind(this,this.handleKeyUp)),this.autorun($bind(this,this.updateStyle))}function L2(){this.editingThisFrame=!1,this.updatingFromPicker=0,this.unobservedPickerVisible=!1,this.pickerVisibleAutoruns=null,this.unobservedDisabled=!1,this.disabledAutoruns=null,this.unobservedValue=16777215,this.valueAutoruns=null,this.unobservedTheme=null,this.themeAutoruns=null;var t=this,e=(z2.call(this),this.flags&=-17,this.color=16776960,this.set_direction(Ln.HORIZONTAL),this.set_align(En.LEFT),this.container=new Ub,(e=this.container).set_viewWidth(-60002),e.set_viewHeight(-60001),this.container.padding(6,6,6,6),this.container),n=Ve.INSIDE;e.borderPosition!=n&&(e.borderPosition=n,0<e.borderSize||0<e.borderTopSize||0<e.borderBottomSize||0<e.borderLeftSize||0<e.borderRightSize)&&e.updateBorder(),(e=this.container).flags&=-17,this.add(this.container),this.pickerContainer=new f0,(e=this.pickerContainer).flags|=16,(e=this.pickerContainer).set_viewWidth(0),e.set_viewHeight(0),this.pickerContainer.set_active(!1),this.pickerContainer.set_depth(25),te.get_context().view.add(this.pickerContainer),this.textPrefixView=new w1,(e=this.textPrefixView).set_viewWidth(-60001),e.set_viewHeight(-60001),this.textPrefixView.set_align(_t.LEFT),this.textPrefixView.set_pointSize(12),this.textPrefixView.set_preRenderedSize(20),this.textPrefixView.set_content("#"),this.textPrefixView.set_verticalAlign(En.CENTER),this.textPrefixView.padding(0,3,0,2),this.textPrefixView.text.component(null,new mi),this.container.add(this.textPrefixView),this.textView=new w1,this.textView.set_minHeight(15),(e=this.textView).set_viewWidth(54),e.set_viewHeight(-60001),this.textView.set_align(_t.LEFT),this.textView.set_verticalAlign(En.CENTER),this.textView.set_pointSize(12),this.textView.set_preRenderedSize(20),this.container.add(this.textView),null==(n=this.get_theme())&&(n=te.get_context().get_theme()),this.editText=new K0(n.get_focusedFieldSelectionColor(),n.get_lightTextColor()),this.editText.set_container(this.textView),this.textView.text.component("editText",this.editText),this.editText.onUpdate(this,$bind(this,this.updateFromEditText)),this.editText.onStop(this,$bind(this,this.handleStopEditText)),this.colorPreview=new f0,(e=this.colorPreview).set_viewWidth(-60002),e.set_viewHeight(15),(e=this.colorPreview).flags&=-17,this.colorPreview.padding(0,0,3,0),this.container.add(this.colorPreview),this.autorun($bind(this,this.updateStyle)),this.autorun($bind(this,this.updateFromValue)),this.autorun($bind(this,this.updatePickerContainer)),this.container.onLayout(this,$bind(this,this.layoutContainer)),this.pickerContainer.onLayout(this,$bind(this,this.layoutPickerContainer)),this.colorPreview.onPointerDown(this,function(e){t.togglePickerVisible()}),he.app.onUpdate(this,function(e){t.updatePickerVisibility()}),he.app.onPostUpdate(this,function(e){t.updatePickerPosition()}),he.app.onFinishDraw(this,$bind(this,this.updateEditingThisFrame)),he.app.onceUpdate(this,function(e){var n=t.getScrollingLayout();null!=n&&n.scroller.scrollTransform.onChange(t,$bind(t,t.updatePickerPosition))}),he.app.input.onKeyDown(this,function(e){41==e.scanCode?t.set_pickerVisible(!1):t.get_focused()&&40==e.scanCode?t.set_pickerVisible(!0):t.get_focused()&&44==e.scanCode&&t.set_pickerVisible(!t.get_pickerVisible())}),this.bindKeyBindings()}function M2(){this.hue=0,this.savedPointerY=0,this.savedPointerX=0,this.movingPointer=!1,this.pointerColorTween=null,this.targetPointerColor=-1,this.movingSpectrum=!1,this.colorValue=16777215,f0.call(this),this.filter=new on,this.filter.set_textureFilter(wt.NEAREST),this.add(this.filter),this.flags|=16,this.tintGradient=new ya,this.tintGradient.colorMapping=2,this.tintGradient.set_depth(1),this.filter.content.add(this.tintGradient),this.blackGradient=new ya,this.blackGradient.colorMapping=2,this.blackGradient.set_depth(2),this.filter.content.add(this.blackGradient),this.colorPointer=new Ya,(e=this.colorPointer).set_anchorX(.5),e.set_anchorY(.5),(e=this.colorPointer).set_width(10),e.set_height(10),this.colorPointer.set_depth(3);var e=this.colorPointer,n=Ve.INSIDE,n=(e.borderPosition!=n&&(e.borderPosition=n,e.autoComputeVertices)&&e.computeVertices(),1!=(e=this.colorPointer).borderSize&&(e.borderSize=1,e.autoComputeVertices)&&e.computeVertices(),this.colorPointer.set_roundTranslation(1),this.filter.content.add(this.colorPointer),this.blackGradient.vertices=[0,0,1,0,1,1,0,1],this.blackGradient.indices=[0,1,2,0,2,3],0),t=-1,n=(this.blackGradient.colors[0]=t=t&16777215|(255<(n=null==n?255:n)?255:n<0?0:n)<<24,0),t=-1,t=(this.blackGradient.colors[1]=t=t&16777215|(255<(n=null==n?255:n)?255:n<0?0:n)<<24,-16777216),t=(this.blackGradient.colors[2]=t=t&16777215|-16777216,-16777216),t=(this.blackGradient.colors[3]=t=t&16777215|-16777216,this.tintGradient.vertices=this.blackGradient.vertices,this.tintGradient.indices=this.blackGradient.indices,-1),e=(this.tintGradient.colors[0]=t=t&16777215|-16777216,I.get_hue(this.colorValue)),i=0,l=.5-(n=1-Math.abs(0))/2,r=n,n=(e%=360)/60,s=r*(1-Math.abs(n%2-1))+l;switch(r+=l,0|n){case 0:t=(i=i&65535|(255<(t=Math.round(255*r))?255:t<0?0:t)<<16,Math.round(255*s)),t=(i=i&16711935|(255<t?255:t<0?0:t)<<8,Math.round(255*l)),i=i&16776960|(255<t?255:t<0?0:t);break;case 1:t=(i=i&65535|(255<(t=Math.round(255*s))?255:t<0?0:t)<<16,Math.round(255*r)),t=(i=i&16711935|(255<t?255:t<0?0:t)<<8,Math.round(255*l));i=i&16776960|(255<t?255:t<0?0:t);break;case 2:t=(i=i&65535|(255<(t=Math.round(255*l))?255:t<0?0:t)<<16,Math.round(255*r)),t=(i=i&16711935|(255<t?255:t<0?0:t)<<8,Math.round(255*s));i=i&16776960|(255<t?255:t<0?0:t);break;case 3:t=(i=i&65535|(255<(t=Math.round(255*l))?255:t<0?0:t)<<16,Math.round(255*s)),t=(i=i&16711935|(255<t?255:t<0?0:t)<<8,Math.round(255*r));i=i&16776960|(255<t?255:t<0?0:t);break;case 4:t=(i=i&65535|(255<(t=Math.round(255*s))?255:t<0?0:t)<<16,Math.round(255*l)),t=(i=i&16711935|(255<t?255:t<0?0:t)<<8,Math.round(255*r));i=i&16776960|(255<t?255:t<0?0:t);break;case 5:t=(i=i&65535|(255<(t=Math.round(255*r))?255:t<0?0:t)<<16,Math.round(255*l)),t=(i=i&16711935|(255<t?255:t<0?0:t)<<8,Math.round(255*s));i=i&16776960|(255<t?255:t<0?0:t)}t=(0|(e=i))-16777216,this.tintGradient.colors[1]=t=t&16777215|-16777216,t=(0|e)-16777216,this.tintGradient.colors[2]=t=t&16777215|-16777216,t=-1,this.tintGradient.colors[3]=t=t&16777215|-16777216,this.updatePointerFromColor(),this.filter.content.onPointerDown(this,$bind(this,this.handlePointerDown)),this.filter.content.onPointerUp(this,$bind(this,this.handlePointerUp))}function N2(){this.hue=0,this.unobservedMovingPointer=!1,this.movingPointerAutoruns=null,this.observedDirty=!1,f0.call(this),this.flags|=16,this.huePointer=new Ya,this.huePointer.set_depth(2),1!=(e=this.huePointer).borderTopSize&&(e.borderTopSize=1,e.autoComputeVertices)&&e.computeVertices(),1!=(e=this.huePointer).borderBottomSize&&(e.borderBottomSize=1,e.autoComputeVertices)&&e.computeVertices(),16777215!=(e=this.huePointer).borderTopColor&&(e.borderTopColor=16777215,e.autoComputeColors)&&e.computeColors(),0!=(e=this.huePointer).borderBottomColor&&(e.borderBottomColor=0,e.autoComputeColors)&&e.computeColors();var e=this.huePointer,n=Ve.OUTSIDE;e.borderPosition!=n&&(e.borderPosition=n,e.autoComputeVertices)&&e.computeVertices(),(e=this.huePointer).set_anchorX(.5),e.set_anchorY(.5),this.add(this.huePointer),this.initSpectrum(),this.onPointerDown(this,$bind(this,this.handlePointerDown)),this.onPointerUp(this,$bind(this,this.handlePointerUp))}function O2(){this.lightness=.5,this.savedPointerY=0,this.savedPointerX=0,this.movingPointer=!1,this.pointerColorTween=null,this.targetPointerColor=-1,this.movingSpectrum=!1,this.colorValue=16777215,f0.call(this),this.filter=new on,this.filter.set_textureFilter(wt.NEAREST),this.add(this.filter),this.flags|=16,this.colorPointer=new Ya,(e=this.colorPointer).set_anchorX(.5),e.set_anchorY(.5),(e=this.colorPointer).set_width(10),e.set_height(10),this.colorPointer.set_depth(3);var e=this.colorPointer,n=Ve.INSIDE;e.borderPosition!=n&&(e.borderPosition=n,e.autoComputeVertices)&&e.computeVertices(),1!=(e=this.colorPointer).borderSize&&(e.borderSize=1,e.autoComputeVertices)&&e.computeVertices(),this.colorPointer.set_roundTranslation(1),this.filter.content.add(this.colorPointer),this.gradient=new ya,this.gradient.colorMapping=2,this.gradient.set_depth(1),this.filter.content.add(this.gradient);for(var t=this.gradient.vertices,i=this.gradient.indices,l=0,r=O2.PRECISION_X;l<r;)for(var s=l++,h=(t.push(s),t.push(0),t.push(1+s),t.push(0),0),a=O2.PRECISION_Y;h<a;){var o=h++,o=(t.push(s),t.push(1+o),t.push(1+s),t.push(1+o),2*o+s*(2*O2.PRECISION_Y+2));i.push(o),i.push(1+o),i.push(2+o),i.push(1+o),i.push(2+o),i.push(3+o)}this.updateGradientColors(),this.updatePointerFromColor(),this.filter.content.onPointerDown(this,$bind(this,this.handlePointerDown)),this.filter.content.onPointerUp(this,$bind(this,this.handlePointerUp))}function P2(){this.spectrumColorsDirty=!1,this.saturation=1,this.hue=0,this.lightness=.5,this.unobservedMovingPointer=!1,this.movingPointerAutoruns=null,this.observedDirty=!1,f0.call(this),this.flags|=16,this.lightnessPointer=new Ya,this.lightnessPointer.set_depth(2),1!=(e=this.lightnessPointer).borderTopSize&&(e.borderTopSize=1,e.autoComputeVertices)&&e.computeVertices(),1!=(e=this.lightnessPointer).borderBottomSize&&(e.borderBottomSize=1,e.autoComputeVertices)&&e.computeVertices(),16777215!=(e=this.lightnessPointer).borderTopColor&&(e.borderTopColor=16777215,e.autoComputeColors)&&e.computeColors(),0!=(e=this.lightnessPointer).borderBottomColor&&(e.borderBottomColor=0,e.autoComputeColors)&&e.computeColors();var e=this.lightnessPointer,n=Ve.OUTSIDE;e.borderPosition!=n&&(e.borderPosition=n,e.autoComputeVertices)&&e.computeVertices(),(e=this.lightnessPointer).set_anchorX(.5),e.set_anchorY(.5),this.add(this.lightnessPointer),this.initSpectrum(),this.onPointerDown(this,$bind(this,this.handlePointerDown)),this.onPointerUp(this,$bind(this,this.handlePointerUp))}function Q2(e){null==e&&(e=16777215),this.observedDirty=!1;var n=this;f0.call(this),this.set_viewWidth(Q2.PALETTE_COLOR_SIZE),this.set_viewHeight(Q2.PALETTE_COLOR_SIZE),this.set_colorValue(e),this.set_click(new b0),this.click.onClick(this,function(){n.emitClick(n)}),this.set_longPress(new Hb(null,this.click)),this.longPress.onLongPress(this,function(e){n.emitLongPress(n,e)}),this.set_dragDrop(new fi(null,this.click,$bind(this,this.getDraggingVisual),$bind(this,this.releaseDraggingVisual))),this.dragDrop.onDraggingChange(this,$bind(this,this.handleDraggingChange)),this.set_transform(new l),this.autorun($bind(this,this.updateStyle)),this.bindDraggingDepth()}function R2(){}function V2(){this.color=16777215,this.internalScale=1,this.thickness=2,o.call(this),this.quad0=new p,this.quad0.color=this.color;var e=this.quad0;e.set_anchorX(.5),e.set_anchorY(.5),this.quad0.set_rotation(45),this.add(this.quad0),this.quad1=new p,this.quad1.color=this.color,(e=this.quad1).set_anchorX(.5),e.set_anchorY(.5),this.quad1.set_rotation(-45),this.add(this.quad1),this.set_width(16),this.set_height(16),this.contentDirty=!0,he.app.visualsContentDirty=!0}function Y2(e,n){this.enumFields=e,this.enumValues=n}function $2(){this.backgroundBottom=null,this.backgrounds=null,this.backgroundTop=null,this.unobservedTheme=null,this.themeAutoruns=null,this.observedDirty=!1,r0.call(this),this.flags&=-17,this.set_tabFocus(new Si),this.autorun($bind(this,this.updateStyle)),this.autorun($bind(this,this.computeBackgrounds))}function fd(){this.unobservedDisabled=!1,this.disabledAutoruns=null,this.unobservedBold=!1,this.boldAutoruns=null,this.unobservedTheme=null,this.themeAutoruns=null,this.observedDirty=!1,w1.call(this),this.set_viewWidth(-60002),this.set_viewHeight(-60001),this.set_minHeight(16),this.set_align(_t.LEFT),this.set_verticalAlign(En.CENTER),this.set_pointSize(12),this.set_preRenderedSize(20),this.autorun($bind(this,this.updateStyle))}function gd(e,n){null==n&&(n=!1),this.labelWidth=70,this.labelPosition=1,this.useContainer=!1,this.unobservedDisabled=!1,this.disabledAutoruns=null,this.unobservedLabel="",this.labelAutoruns=null,this.unobservedTheme=null,this.themeAutoruns=null,this.observedDirty=!1;var t=this,i=(Ub.call(this),this.set_itemSpacing(6),this.labelText=new w1,this.labelText);i.set_viewWidth(this.labelWidth),i.set_viewHeight(-60001),this.labelText.set_align(_t.LEFT),this.labelText.set_verticalAlign(En.CENTER),this.labelText.set_pointSize(12),this.labelText.set_preRenderedSize(20),this.add(this.labelText),(this.useContainer=n)&&(this.containerView=new Ub,(i=this.containerView).flags|=16,(i=this.containerView).set_viewWidth(-60002),i.set_viewHeight(-60001),this.containerView.set_align(En.RIGHT),this.add(this.containerView)),this.set_view(e),this.autorun($bind(this,this.updateDisabled)),this.autorun($bind(this,this.updateLabel)),this.autorun($bind(this,this.updateStyle)),this.labelText.onPointerDown(this,function(e){t.handleLabelClick()})}function id(e){this.autoCheckLocked=!0,this.windowItem=null,this.unobservedScrollEnabled=!0,this.scrollEnabledAutoruns=null,this.unobservedSmallItems=!1,this.smallItemsAutoruns=null,this.unobservedSortable=!1,this.sortableAutoruns=null,this.unobservedDuplicable=!1,this.duplicableAutoruns=null,this.unobservedLockable=!1,this.lockableAutoruns=null,this.unobservedTrashable=!1,this.trashableAutoruns=null,this.unobservedSelectedIndex=-1,this.selectedIndexAutoruns=null,this.itemsAutoruns=null,this.unobservedTheme=null,this.themeAutoruns=null,this.observedDirty=!1;var n=this;f0.call(this),this.set_items(e),this.collectionView=new di,this.collectionView.set_itemsBehavior(1),(e=this.collectionView).set_viewWidth(-60002),e.set_viewHeight(-49975),this.collectionView.autorun(function(){var e=n.get_theme();U.unobserve(),n.collectionView.set_theme(e)}),this.add(this.collectionView),this.set_dataSource(new yi(this)),this.autorun($bind(this,this.updateFromItems)),this.autorun($bind(this,this.updateFromScrollEnabled)),he.app.onUpdate(this,$bind(this,this.checkLockedIfNeeded))}function kd(){}function ld(){this._serializeId=Bl.uniqueId(),this.dirty=!1,this.observedDirty=!1,j.call(this)}function od(){}function sd(){this.listVisibleThisFrame=!1,this.listIsAbove=!1,this.unobservedListVisible=!1,this.listVisibleAutoruns=null,this.clipList=!1,this.unobservedInputStyle=wi.DEFAULT,this.inputStyleAutoruns=null,this.unobservedNullValueText=null,this.nullValueTextAutoruns=null,this.unobservedList=[],this.listAutoruns=null,this.unobservedValue=null,this.valueAutoruns=null,this.unobservedTheme=null,this.themeAutoruns=null;var i=this,e=(z2.call(this),this.flags|=16,this.set_direction(Ln.HORIZONTAL),this.set_align(En.LEFT),this.container=new Ub,(e=this.container).set_viewWidth(-60002),e.set_viewHeight(-60001),this.container.padding(6,6,6,6),1!=(e=this.container).borderSize&&(e.borderSize=1,e.updateBorder()),this.container),n=Ve.INSIDE;e.borderPosition!=n&&(e.borderPosition=n,0<e.borderSize||0<e.borderTopSize||0<e.borderBottomSize||0<e.borderLeftSize||0<e.borderRightSize)&&e.updateBorder(),(e=this.container).flags&=-17,this.container.set_depth(1),this.add(this.container),this.container.onPointerDown(this,function(e){i.toggleListVisible()}),this.listContainer=new f0,(e=this.listContainer).flags|=16,(e=this.listContainer).set_viewWidth(0),e.set_viewHeight(0),this.listContainer.set_active(!1),this.listContainer.set_depth(100),te.get_context().view.add(this.listContainer),this.tip=new Fb,(e=this.tip).points=[-5,-5,0,0,5,-5],e.contentDirty=!0,he.app.visualsContentDirty=!0,1!=(e=this.tip).thickness&&(e.thickness=1,e.contentDirty=!0,he.app.visualsContentDirty=!0),this.tip.set_depth(2),this.container.onLayout(this.tip,function(){var e=i.tip,n=i.container.x+i.container.get_width()-13,t=i.container.y+.6*i.container.get_height();e.set_x(n),e.set_y(t)}),this.add(this.tip),this.textView=new w1,this.textView.set_minHeight(15),(e=this.textView).set_viewWidth(-60001),e.set_viewHeight(-60001),this.textView.set_align(_t.LEFT),this.textView.set_verticalAlign(En.CENTER),this.textView.set_pointSize(12),this.textView.set_preRenderedSize(20),this.container.add(this.textView),this.autorun($bind(this,this.updateStyle)),this.autorun($bind(this,this.updateFromValue)),this.autorun($bind(this,this.updateListContainer)),this.container.onLayout(this,$bind(this,this.layoutContainer)),this.listContainer.onLayout(this,$bind(this,this.layoutListContainer)),this.onValueChange(this.listView,function(e,n){null!=i.listView&&i.listView.set_value(e)}),this.onListChange(this.listView,function(e,n){null!=i.listView&&i.listView.set_list(e)}),this.onNullValueTextChange(this.listView,function(e,n){null!=i.listView&&i.listView.set_nullValueText(e)}),he.app.onUpdate(this,function(e){i.updateListVisibility()}),he.app.onPostUpdate(this,function(e){i.updateListPosition()}),he.app.onFinishDraw(this,$bind(this,this.updateListVisibleThisFrame)),he.app.onceUpdate(this,function(e){var n=i.getScrollingLayout();null!=n&&n.scroller.scrollTransform.onChange(i,$bind(i,i.updateListPosition))}),he.app.input.onKeyDown(this,function(e){41==e.scanCode?i.set_listVisible(!1):i.get_focused()&&81==e.scanCode?null!=i.get_list()&&(null==i.get_value()?0<i.get_list().length&&i.set_value(i.get_list()[0]):i.get_list().indexOf(i.get_value())<i.get_list().length-1&&i.set_value(i.get_list()[i.get_list().indexOf(i.get_value())+1])):i.get_focused()&&82==e.scanCode?null!=i.get_list()&&(0<i.get_list().indexOf(i.get_value())?i.set_value(i.get_list()[i.get_list().indexOf(i.get_value())-1]):null!=i.get_nullValueText()&&i.set_value(null)):i.get_focused()&&40==e.scanCode?i.set_listVisible(!0):i.get_focused()&&44==e.scanCode?i.set_listVisible(!i.get_listVisible()):i.get_focused()&&42==e.scanCode&&null!=i.get_nullValueText()&&i.set_value(null)})}function td(){this.thickness=1,this.unobservedTheme=null,this.themeAutoruns=null,this.observedDirty=!1,f0.call(this),this.flags|=16,this.quad=new p,this.add(this.quad),this.autorun($bind(this,this.updateStyle))}function ud(e,n){null==n&&(n=1),null==e&&(e=0),this.round=-1,this.unobservedDisabled=!1,this.disabledAutoruns=null,this.unobservedInputStyle=wi.DEFAULT,this.inputStyleAutoruns=null,this.unobservedEnabledTextInput=!0,this.enabledTextInputAutoruns=null,this.unobservedMaxValue=0,this.maxValueAutoruns=null,this.unobservedMinValue=0,this.minValueAutoruns=null,this.unobservedValue=0,this.valueAutoruns=null,this.unobservedTheme=null,this.themeAutoruns=null;var t=this,i=(B2.call(this),this.padding(6,6,6,6),Ve.INSIDE);this.borderPosition!=i&&(this.borderPosition=i,0<this.borderSize||0<this.borderTopSize||0<this.borderBottomSize||0<this.borderLeftSize||0<this.borderRightSize)&&this.updateBorder(),this.set_minValue(e),this.set_maxValue(n),this.set_direction(Ln.HORIZONTAL),this.set_align(En.LEFT),this.textView=new w1,this.textView.set_minHeight(15),(i=this.textView).set_viewWidth(50),i.set_viewHeight(-60001),this.textView.set_verticalAlign(En.CENTER),this.textView.set_align(_t.LEFT),this.textView.set_pointSize(12),this.textView.set_preRenderedSize(20),this.textView.onResize(this,$bind(this,this.clipText)),this.autorun(function(){t.textView.set_active(t.get_enabledTextInput())}),this.add(this.textView),null==(e=this.get_theme())&&(e=te.get_context().get_theme()),this.editText=new K0(e.get_focusedFieldSelectionColor(),e.get_lightTextColor()),this.editText.set_container(this.textView),this.textView.text.component("editText",this.editText),this.editText.onUpdate(this,$bind(this,this.updateFromEditText)),this.editText.onStop(this,$bind(this,this.handleStopEditText)),this.editText.onSubmit(this,$bind(this,this.handleEditTextSubmit)),this.sliderContainer=new f0,this.sliderContainer.set_depth(1),(i=this.sliderContainer).set_viewWidth(-60002),i.set_viewHeight(15),(i=this.sliderContainer).flags&=-17,this.add(this.sliderContainer),this.sliderSquare=new f0,(i=this.sliderSquare).flags&=-17,(i=this.sliderSquare).set_width(19),i.set_height(15),this.sliderSquare.set_depth(1),this.sliderContainer.add(this.sliderSquare),this.sliderContainer.onPointerDown(this,$bind(this,this.handleSliderDown)),this.sliderContainer.onLayout(this,$bind(this,this.layoutSliderContainer)),this.autorun($bind(this,this.updateStyle)),this.autorun($bind(this,this.updateFromTextValue)),this.autorun($bind(this,this.updateFromValue)),this.bindKeyBindings()}function wd(){this.bottomBackground=null,this.topBackground=null,this.afterSelectedBackground=null,this.beforeSelectedBackground=null,this.appliedTabs=null,this.unobservedHoverIndex=-1,this.hoverIndexAutoruns=null,this.unobservedTabViews=[],this.tabViewsAutoruns=null,this.unobservedTabThemes=[],this.tabThemesAutoruns=null,this.unobservedTabStates=[],this.tabStatesAutoruns=null,this.unobservedTabs=[],this.tabsAutoruns=null,this.unobservedSelectedIndex=-1,this.selectedIndexAutoruns=null,this.windowItem=null,this.marginY=0,this.marginX=0,this.unobservedTheme=null,this.themeAutoruns=null,this.observedDirty=!1;var t=this;Ub.call(this),this.set_viewHeight(27),this.flags|=16,this.set_itemSpacing(-1),this.set_childrenDepth(2),this.beforeBorder=new p,this.beforeBorder.flags&=-17,this.beforeBorder.set_active(!1),this.beforeBorder.set_depth(100),this.add(this.beforeBorder),this.afterBorder=new p,this.afterBorder.flags&=-17,this.afterBorder.set_active(!1),this.afterBorder.set_depth(100),this.add(this.afterBorder),this.autorun($bind(this,this.updateTabs)),this.autorun($bind(this,this.updateStyle)),this.onSelectedIndexChange(this,function(e,n){t.layoutDirty=!0})}function Hd(){}function Nd(){}function Sd(){}function v3(e,n,t){this.xml=n,this.message=e,this.position=t,this.lineNumber=1;for(var i=this.positionAtLine=0,l=t;i<l;){var r=i++,r=n.charCodeAt(r);10==r?(this.lineNumber++,this.positionAtLine=0):13!=r&&this.positionAtLine++}}function y3(){}function C3(){}function F3(){}function G3(){F3.call(this)}function L3(e,n,t){g1.call(this,e,n,t)}function M3(e,n,t){g1.call(this,e,n,t)}function N3(e,n,t){g1.call(this,e,n,t)}function O3(e,n,t){g1.call(this,e,n,t)}function S3(){F3.call(this)}function U3(){S3.call(this)}function V3(){G3.call(this)}function X3(){S3.call(this)}function Y3(){G3.call(this)}function $3(){S3.call(this)}function _3(){G3.call(this)}function ae(){}function ce(){}function de(){}function ge(e,n){null==n&&(n=!1),this.append=!1,this.data=e,this.append=n}function ie(e){this.items=e}function ke(e,n,t,i){this.props=null,this.type=null,this.id=e,this.action=n,null!=t&&(this.type=t),null!=i&&(this.props=i)}function le(){this.initializerName=null,this.paused=0,this.dirty=!0,this.dirtyModels=new ue,this.willCleanDestroyedTrackedModels=!1,this.trackedModels=new ue,this.checkInterval=.1,this.destroyModelOnUntrack=!0,this.lastCheckedFrame=-1,this.destroysToDispatch=null,this.deserializedMap=new ue,this.serializedMap=new ue,j.call(this)}(E.EReg=f).__name__="EReg",f.prototype={r:null,match:function(e){return this.r.global&&(this.r.lastIndex=0),this.r.m=this.r.exec(e),this.r.s=e,null!=this.r.m},matched:function(e){if(null!=this.r.m&&0<=e&&e<this.r.m.length)return this.r.m[e];throw oe.thrown("EReg::matched")},matchedPos:function(){if(null==this.r.m)throw oe.thrown("No string matched");return{pos:this.r.m.index,len:this.r.m[0].length}},matchSub:function(e,n,t){var i;return null==t&&(t=-1),this.r.global?(this.r.lastIndex=n,this.r.m=this.r.exec(t<0?e:se.substr(e,0,n+t)),(i=null!=this.r.m)&&(this.r.s=e)):(i=this.match(t<0?se.substr(e,n,null):se.substr(e,n,t)))&&(this.r.s=e,this.r.m.index+=n),i},map:function(e,n){var t=0,i="";do{if(t>=e.length)break;if(!this.matchSub(e,t)){i+=X.string(se.substr(e,t,null));break}var l=this.matchedPos(),i=(i+=X.string(se.substr(e,t,l.pos-t)))+X.string(n(this)),t=0==l.len?(i+=X.string(se.substr(e,l.pos,1)),l.pos+1):l.pos+l.len}while(this.r.global);return!this.r.global&&0<t&&t<e.length&&(i+=X.string(se.substr(e,t,null))),i},__class__:f};var se=function(){},K=((E.HxOverrides=se).__name__="HxOverrides",se.strDate=function(e){switch(e.length){case 8:var n=e.split(":"),t=new Date;return t.setTime(0),t.setUTCHours(n[0]),t.setUTCMinutes(n[1]),t.setUTCSeconds(n[2]),t;case 10:n=e.split("-");return new Date(n[0],n[1]-1,n[2],0,0,0);case 19:t=(n=e.split(" "))[0].split("-"),n=n[1].split(":");return new Date(t[0],t[1]-1,t[2],n[0],n[1],n[2]);default:throw oe.thrown("Invalid date format : "+e)}},se.cca=function(e,n){e=e.charCodeAt(n);if(e==e)return e},se.substr=function(e,n,t){if(null==t)t=e.length;else if(t<0){if(0!=n)return"";t=e.length+t}return e.substr(n,t)},se.remove=function(e,n){n=e.indexOf(n);return-1!=n&&(e.splice(n,1),!0)},se.now=function(){return Date.now()},(E["ceramic.Lazy"]=h).__name__="ceramic.Lazy",h.__isInterface__=!0,(E["tracker.Events"]=i).__name__="tracker.Events",i.__isInterface__=!0,(E["ceramic.Entity"]=j).__name__="ceramic.Entity",j.__interfaces__=[h,i],j.prototype={id:null,_lifecycleState:null,get_destroyed:function(){return this._lifecycleState<0},get_disposed:function(){return 1==this._lifecycleState},__cbOnDispose:null,__cbOnceDispose:null,__cbOnOwnerUnbindDispose:null,__cbOnceOwnerUnbindDispose:null,emitDispose:function(e){var n=0;if(null!=this.__cbOnDispose&&(n+=this.__cbOnDispose.length),null!=this.__cbOnceDispose&&(n+=this.__cbOnceDispose.length),0<n){var t=C.pool(n),i=t.get(),l=0;if(null!=this.__cbOnDispose)for(var r=0,s=this.__cbOnDispose.length;r<s;){var h=r++;!0?(i.vector[l]=this.__cbOnDispose[h],++l):--n}if(null!=this.__cbOnceDispose){for(var a=null,o=null,r=0,s=this.__cbOnceDispose.length;r<s;){var c,h=r++;!0?(i.vector[l]=this.__cbOnceDispose[h],this.__cbOnceDispose[h]=null,c=this.__cbOnceOwnerUnbindDispose[h],(this.__cbOnceOwnerUnbindDispose[h]=null)!=c&&c(),++l):(--n,null==a&&(a=[],o=[],0),a.push(this.__cbOnceOwnerUnbindDispose[h]),o.push(this.__cbOnceDispose[h]))}this.__cbOnceOwnerUnbindDispose=a,this.__cbOnceDispose=o}for(r=0,s=n;r<s;){l=r++;(0,i.vector[l])(e)}t.release(i)}},onDispose:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event dispose because owner is destroyed!");var l=function(e){null!=t&&(i.offDispose(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindDispose&&(this.__cbOnOwnerUnbindDispose=[]),this.__cbOnOwnerUnbindDispose.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindDispose&&(this.__cbOnOwnerUnbindDispose=[]),this.__cbOnOwnerUnbindDispose.push(null);null==this.__cbOnDispose&&(this.__cbOnDispose=[]),this.__cbOnDispose.push(t)},onceDispose:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event dispose because owner is destroyed!");var l=function(e){null!=t&&(i.offDispose(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindDispose&&(this.__cbOnceOwnerUnbindDispose=[]),this.__cbOnceOwnerUnbindDispose.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindDispose&&(this.__cbOnceOwnerUnbindDispose=[]),this.__cbOnceOwnerUnbindDispose.push(null);null==this.__cbOnceDispose&&(this.__cbOnceDispose=[]),this.__cbOnceDispose.push(t)},offDispose:function(e){if(null!=e){var n;null!=this.__cbOnDispose&&-1!=(n=this.__cbOnDispose.indexOf(e))&&(this.__cbOnDispose.splice(n,1),null!=(r=this.__cbOnOwnerUnbindDispose[n])&&r(),this.__cbOnOwnerUnbindDispose.splice(n,1)),null!=this.__cbOnceDispose&&-1!=(n=this.__cbOnceDispose.indexOf(e))&&(this.__cbOnceDispose.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindDispose[n])&&r(),this.__cbOnceOwnerUnbindDispose.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindDispose){for(var t=0,i=this.__cbOnOwnerUnbindDispose.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindDispose[l])&&r()}this.__cbOnOwnerUnbindDispose=null}if(null!=this.__cbOnceOwnerUnbindDispose){for(t=0,i=this.__cbOnceOwnerUnbindDispose.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindDispose[l])&&r()}this.__cbOnceOwnerUnbindDispose=null}this.__cbOnDispose=null,this.__cbOnceDispose=null}},listensDispose:function(){return null!=this.__cbOnDispose&&0<this.__cbOnDispose.length||null!=this.__cbOnceDispose&&0<this.__cbOnceDispose.length},__cbOnDestroy:null,__cbOnceDestroy:null,__cbOnOwnerUnbindDestroy:null,__cbOnceOwnerUnbindDestroy:null,emitDestroy:function(e){var n=0;if(null!=this.__cbOnDestroy&&(n+=this.__cbOnDestroy.length),null!=this.__cbOnceDestroy&&(n+=this.__cbOnceDestroy.length),0<n){var t=C.pool(n),i=t.get(),l=0;if(null!=this.__cbOnDestroy)for(var r=0,s=this.__cbOnDestroy.length;r<s;){var h=r++;!0?(i.vector[l]=this.__cbOnDestroy[h],++l):--n}if(null!=this.__cbOnceDestroy){for(var a=null,o=null,r=0,s=this.__cbOnceDestroy.length;r<s;){var c,h=r++;!0?(i.vector[l]=this.__cbOnceDestroy[h],this.__cbOnceDestroy[h]=null,c=this.__cbOnceOwnerUnbindDestroy[h],(this.__cbOnceOwnerUnbindDestroy[h]=null)!=c&&c(),++l):(--n,null==a&&(a=[],o=[],0),a.push(this.__cbOnceOwnerUnbindDestroy[h]),o.push(this.__cbOnceDestroy[h]))}this.__cbOnceOwnerUnbindDestroy=a,this.__cbOnceDestroy=o}for(r=0,s=n;r<s;){l=r++;(0,i.vector[l])(e)}t.release(i)}},onDestroy:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event destroy because owner is destroyed!");var l=function(e){null!=t&&(i.offDestroy(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindDestroy&&(this.__cbOnOwnerUnbindDestroy=[]),this.__cbOnOwnerUnbindDestroy.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindDestroy&&(this.__cbOnOwnerUnbindDestroy=[]),this.__cbOnOwnerUnbindDestroy.push(null);null==this.__cbOnDestroy&&(this.__cbOnDestroy=[]),this.__cbOnDestroy.push(t)},onceDestroy:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event destroy because owner is destroyed!");var l=function(e){null!=t&&(i.offDestroy(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindDestroy&&(this.__cbOnceOwnerUnbindDestroy=[]),this.__cbOnceOwnerUnbindDestroy.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindDestroy&&(this.__cbOnceOwnerUnbindDestroy=[]),this.__cbOnceOwnerUnbindDestroy.push(null);null==this.__cbOnceDestroy&&(this.__cbOnceDestroy=[]),this.__cbOnceDestroy.push(t)},offDestroy:function(e){if(null!=e){var n;null!=this.__cbOnDestroy&&-1!=(n=this.__cbOnDestroy.indexOf(e))&&(this.__cbOnDestroy.splice(n,1),null!=(r=this.__cbOnOwnerUnbindDestroy[n])&&r(),this.__cbOnOwnerUnbindDestroy.splice(n,1)),null!=this.__cbOnceDestroy&&-1!=(n=this.__cbOnceDestroy.indexOf(e))&&(this.__cbOnceDestroy.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindDestroy[n])&&r(),this.__cbOnceOwnerUnbindDestroy.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindDestroy){for(var t=0,i=this.__cbOnOwnerUnbindDestroy.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindDestroy[l])&&r()}this.__cbOnOwnerUnbindDestroy=null}if(null!=this.__cbOnceOwnerUnbindDestroy){for(t=0,i=this.__cbOnceOwnerUnbindDestroy.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindDestroy[l])&&r()}this.__cbOnceOwnerUnbindDestroy=null}this.__cbOnDestroy=null,this.__cbOnceDestroy=null}},listensDestroy:function(){return null!=this.__cbOnDestroy&&0<this.__cbOnDestroy.length||null!=this.__cbOnceDestroy&&0<this.__cbOnceDestroy.length},destroy:function(){if(!(this._lifecycleState<=-2)){if(this._lifecycleState=-3,null!=this.autoruns)for(var e=0,n=this.autoruns.length;e<n;){var t=e++,i=this.autoruns[t];null!=i&&(this.autoruns[t]=null,i.destroy())}if(this.emitDestroy(this),null!=this._components){for(var l=null,r=this._components.h,s=Object.keys(r),h=s.length,a=0;a<h;){var o=s[a++];null==l?l=[o]:l.push(o)}if(null!=l)for(e=0;e<l.length;){o=l[e];++e,this.removeComponent(o)}}this.unbindEvents()}},dispose:function(){0==this._lifecycleState&&(this._lifecycleState=1,he.app.disposedEntities.push(this)),this.emitDispose(this)},unbindEvents:function(){this.offDispose(),this.offDestroy()},autoruns:null,autorun:function(e,n){if(this._lifecycleState<0)return null;var t=new U(e,n);if((n=e=null)==(t.owner=this).autoruns)this.autoruns=[t];else{for(var i=!1,l=0,r=this.autoruns.length;l<r;){var s=l++;if(null==this.autoruns[s]){this.autoruns[s]=t,i=!0;break}}i||this.autoruns.push(t)}return t.onDestroy(this,$bind(this,this.checkAutoruns)),t},checkAutoruns:function(e){for(var n=0,t=this.autoruns.length;n<t;){var i=n++,l=this.autoruns[i];null!=l&&l._lifecycleState<0&&(this.autoruns[i]=null)}},_autorunMarkedMethods:function(){},tween:function(e,n,t,i,l){return J.start(this,e,n,t,i,l)},eagerTween:function(e,n,t,i,l){return J.eagerStart(this,e,n,t,i,l)},className:function(){var e=Ul.getClass(this).__name__,n=e.lastIndexOf(".");return e=-1!=n?se.substr(e,n+1,null):e},toString:function(){var e=this.className();return null!=this.id?e+"("+this.id+")":""+e},clearComponents:function(){if(null!=this._components){for(var e=null,n=this._components.h,t=Object.keys(n),i=t.length,l=0;l<i;){var r=t[l++];null==e?e=[r]:e.push(r)}if(null!=e)for(var s=0;s<e.length;){r=e[s];++s,this.removeComponent(r)}}},get_components:function(){return this._components},set_components:function(e){if(this._components!=e){if(null!=this._components){l=this._components.h;for(var n=(r=Object.keys(l)).length,t=0;t<n;){var i=r[t++];null!=e&&Object.prototype.hasOwnProperty.call(e.h,i)||this.removeComponent(i)}}if(null!=e){l=e.h;for(var l,r,n=(r=Object.keys(l)).length,t=0;t<n;){var s,i=r[t++],h=e.h[i];null!=this._components&&null!=(s=this._components.h[i])?s!=h&&(this.removeComponent(i),this.component(i,h)):this.component(i,h)}}this._components=e}return e},_components:null,component:function(t,i,l){null==l&&(l=!1);var r=this;if(null==t&&null==i)throw oe.thrown("Invalid component() call: either `name` or `component` should be provided at least.");if(null==t){var e=Ul.getClass(i);if(t=e.__name__,null!=this._components&&Object.prototype.hasOwnProperty.call(this._components.h,t)){var n=t,s=1;for(t=n+"#"+s;Object.prototype.hasOwnProperty.call(this._components.h,t);)t=n+"#"+ ++s}}return null!=i?(null==this._components?this._components=new ue:null!=(e=this._components.h[t])&&e.destroy(),(this._components.h[t]=i).setEntity(this),i.onceDestroy(this,function(e){var n;i.getEntity()==r&&i.setEntity(null),0<=r._lifecycleState&&r._components.h[t]==i&&(n=r._components,Object.prototype.hasOwnProperty.call(n.h,t))&&delete n.h[t],l&&null!=t&&K.setProperty(r,t,null)}),i.bindAsComponent(),i):null==this._components?null:this._components.h[t]},hasComponent:function(e){return null!=this.component(e)},removeComponent:function(e){var n,t=this._components.h[e];null!=t&&(n=this._components,Object.prototype.hasOwnProperty.call(n.h,e)&&delete n.h[e],t.destroy())},__class__:j,__properties__:{set_components:"set_components",get_components:"get_components",get_disposed:"get_disposed",get_destroyed:"get_destroyed"}},(E["ceramic.DecomposedTransform"]=k).__name__="ceramic.DecomposedTransform",k.prototype={pivotX:null,pivotY:null,x:null,y:null,rotation:null,scaleX:null,scaleY:null,skewX:null,skewY:null,toString:function(){return"(pos="+this.x+","+this.y+" pivot="+this.pivotX+","+this.pivotY+" rotation="+this.rotation+" scale="+(this.scaleX==this.scaleY?""+this.scaleX:this.scaleX+","+this.scaleY)+" skew="+this.skewX+","+this.skewY+")"},__class__:k},(E["ceramic.Transform"]=l).__name__="ceramic.Transform",l.__interfaces__=[i],l.prototype={__cbOnChange:null,__cbOnceChange:null,__cbOnOwnerUnbindChange:null,__cbOnceOwnerUnbindChange:null,emitChange:function(){var e=0;if(null!=this.__cbOnChange&&(e+=this.__cbOnChange.length),null!=this.__cbOnceChange&&(e+=this.__cbOnceChange.length),0<e){var n=C.pool(e),t=n.get(),i=0;if(null!=this.__cbOnChange)for(var l=0,r=this.__cbOnChange.length;l<r;){var s=l++;!0?(t.vector[i]=this.__cbOnChange[s],++i):--e}if(null!=this.__cbOnceChange){for(var h=null,a=null,l=0,r=this.__cbOnceChange.length;l<r;){var o,s=l++;!0?(t.vector[i]=this.__cbOnceChange[s],this.__cbOnceChange[s]=null,o=this.__cbOnceOwnerUnbindChange[s],(this.__cbOnceOwnerUnbindChange[s]=null)!=o&&o(),++i):(--e,null==h&&(h=[],a=[],0),h.push(this.__cbOnceOwnerUnbindChange[s]),a.push(this.__cbOnceChange[s]))}this.__cbOnceOwnerUnbindChange=h,this.__cbOnceChange=a}for(l=0,r=e;l<r;){i=l++;(0,t.vector[i])()}n.release(t),t=null}this._aPrev=this.a,this._bPrev=this.b,this._cPrev=this.c,this._dPrev=this.d,this._txPrev=this.tx,this._tyPrev=this.ty,this.changed=!1},onChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event change because owner is destroyed!");var l=function(e){null!=t&&(i.offChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindChange&&(this.__cbOnOwnerUnbindChange=[]),this.__cbOnOwnerUnbindChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindChange&&(this.__cbOnOwnerUnbindChange=[]),this.__cbOnOwnerUnbindChange.push(null);null==this.__cbOnChange&&(this.__cbOnChange=[]),this.__cbOnChange.push(t)},onceChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event change because owner is destroyed!");var l=function(e){null!=t&&(i.offChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindChange&&(this.__cbOnceOwnerUnbindChange=[]),this.__cbOnceOwnerUnbindChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindChange&&(this.__cbOnceOwnerUnbindChange=[]),this.__cbOnceOwnerUnbindChange.push(null);null==this.__cbOnceChange&&(this.__cbOnceChange=[]),this.__cbOnceChange.push(t)},offChange:function(e){if(null!=e){var n;null!=this.__cbOnChange&&-1!=(n=this.__cbOnChange.indexOf(e))&&(this.__cbOnChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindChange[n])&&r(),this.__cbOnOwnerUnbindChange.splice(n,1)),null!=this.__cbOnceChange&&-1!=(n=this.__cbOnceChange.indexOf(e))&&(this.__cbOnceChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindChange[n])&&r(),this.__cbOnceOwnerUnbindChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindChange){for(var t=0,i=this.__cbOnOwnerUnbindChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindChange[l])&&r()}this.__cbOnOwnerUnbindChange=null}if(null!=this.__cbOnceOwnerUnbindChange){for(t=0,i=this.__cbOnceOwnerUnbindChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindChange[l])&&r()}this.__cbOnceOwnerUnbindChange=null}this.__cbOnChange=null,this.__cbOnceChange=null}},listensChange:function(){return null!=this.__cbOnChange&&0<this.__cbOnChange.length||null!=this.__cbOnceChange&&0<this.__cbOnceChange.length},_aPrev:null,_bPrev:null,_cPrev:null,_dPrev:null,_txPrev:null,_tyPrev:null,changedDirty:null,a:null,b:null,c:null,d:null,tx:null,ty:null,changed:null,computeChanged:function(){this.changedDirty&&(this.changed=this.tx!=this._txPrev||this.ty!=this._tyPrev||this.a!=this._aPrev||this.b!=this._bPrev||this.c!=this._cPrev||this.d!=this._dPrev,this.changedDirty=!1)},didEmitChange:function(){this._aPrev=this.a,this._bPrev=this.b,this._cPrev=this.c,this._dPrev=this.d,this._txPrev=this.tx,this._tyPrev=this.ty,this.changed=!1},cleanChangedState:function(){this._aPrev=this.a,this._bPrev=this.b,this._cPrev=this.c,this._dPrev=this.d,this._txPrev=this.tx,this._tyPrev=this.ty,this.changed=!1},clone:function(){return new l(this.a,this.b,this.c,this.d,this.tx,this.ty)},concat:function(e){var n=this.a*e.a+this.b*e.c,n=(this.b=this.a*e.b+this.b*e.d,this.a=n,this.c*e.a+this.d*e.c),n=(this.d=this.c*e.b+this.d*e.d,this.c=n,this.tx*e.a+this.ty*e.c+e.tx);this.ty=this.tx*e.b+this.ty*e.d+e.ty,this.tx=n,this.changedDirty=!0},decompose:function(e){return(e=null==e?new k:e).pivotX=0,e.pivotY=0,e.skewX=-Math.atan2(-this.c,this.d),e.skewY=Math.atan2(this.b,this.a),Math.abs(e.skewX+e.skewY)<1e-5&&(e.rotation=e.skewY,this.a<0&&0<=this.d&&(e.rotation+=e.rotation<=0?Math.PI:-Math.PI),e.skewX=0,e.skewY=0),e.scaleX=Math.sqrt(this.a*this.a+this.b*this.b),e.scaleY=Math.sqrt(this.c*this.c+this.d*this.d),e.x=this.tx,e.y=this.ty,e},setFromDecomposed:function(e){var n=e.x,t=e.y,i=e.scaleX,l=e.scaleY,r=e.rotation,s=e.skewX,h=e.skewY,a=e.pivotX,e=e.pivotY;null==e&&(e=0),null==a&&(a=0),null==h&&(h=0),null==s&&(s=0),null==r&&(r=0),null==l&&(l=1),null==i&&(i=1),null==t&&(t=0),null==n&&(n=0),this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this.changedDirty=!0,this.tx+=-a,this.ty+=-e,this.changedDirty=!0,0!=s&&(this.c=s*Math.PI/180),0!=h&&(this.b=h*Math.PI/180),0!=r&&(s=r*Math.PI/180,h=Math.cos(s),r=Math.sin(s),s=this.a*h-this.b*r,this.b=this.a*r+this.b*h,this.a=s,s=this.c*h-this.d*r,this.d=this.c*r+this.d*h,this.c=s,s=this.tx*h-this.ty*r,this.ty=this.tx*r+this.ty*h,this.tx=s,this.changedDirty=!0),this.tx+=a,this.ty+=e,this.changedDirty=!0,1==i&&1==l||(this.a*=i,this.b*=l,this.c*=i,this.d*=l,this.tx*=i,this.ty*=l,this.changedDirty=!0),this.tx+=n-a*i,this.ty+=t-e*l,this.changedDirty=!0},setFromValues:function(e,n,t,i,l,r,s,h,a){null==a&&(a=0),null==h&&(h=0),null==s&&(s=0),null==r&&(r=0),null==l&&(l=0),null==i&&(i=1),null==t&&(t=1),null==n&&(n=0),null==e&&(e=0),this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this.changedDirty=!0,this.tx+=-h,this.ty+=-a,this.changedDirty=!0,0!=r&&(this.c=r*Math.PI/180),0!=s&&(this.b=s*Math.PI/180),0!=l&&(r=l*Math.PI/180,s=Math.cos(r),l=Math.sin(r),r=this.a*s-this.b*l,this.b=this.a*l+this.b*s,this.a=r,r=this.c*s-this.d*l,this.d=this.c*l+this.d*s,this.c=r,r=this.tx*s-this.ty*l,this.ty=this.tx*l+this.ty*s,this.tx=r,this.changedDirty=!0),this.tx+=h,this.ty+=a,this.changedDirty=!0,1==t&&1==i||(this.a*=t,this.b*=i,this.c*=t,this.d*=i,this.tx*=t,this.ty*=i,this.changedDirty=!0),this.tx+=e-h*t,this.ty+=n-a*i,this.changedDirty=!0},setFromInterpolated:function(e,n,t){var i,r,s,h,a,o;0==t?(this.a=e.a,this.b=e.b,this.c=e.c,this.d=e.d,this.tx=e.tx,this.ty=e.ty):1==t?(this.a=n.a,this.b=n.b,this.c=n.c,this.d=n.d,this.tx=n.tx,this.ty=n.ty):((i=null==(i=l._decomposed1)?new k:i).pivotX=0,i.pivotY=0,i.skewX=-Math.atan2(-e.c,e.d),i.skewY=Math.atan2(e.b,e.a),Math.abs(i.skewX+i.skewY)<1e-5&&(i.rotation=i.skewY,e.a<0&&0<=e.d&&(i.rotation+=i.rotation<=0?Math.PI:-Math.PI),i.skewX=0,i.skewY=0),i.scaleX=Math.sqrt(e.a*e.a+e.b*e.b),i.scaleY=Math.sqrt(e.c*e.c+e.d*e.d),i.x=e.tx,i.y=e.ty,(i=null==(i=l._decomposed2)?new k:i).pivotX=0,i.pivotY=0,i.skewX=-Math.atan2(-n.c,n.d),i.skewY=Math.atan2(n.b,n.a),Math.abs(i.skewX+i.skewY)<1e-5&&(i.rotation=i.skewY,n.a<0&&0<=n.d&&(i.rotation+=i.rotation<=0?Math.PI:-Math.PI),i.skewX=0,i.skewY=0),i.scaleX=Math.sqrt(n.a*n.a+n.b*n.b),i.scaleY=Math.sqrt(n.c*n.c+n.d*n.d),i.x=n.tx,i.y=n.ty,l._decomposed1.pivotX+=(l._decomposed2.pivotX-l._decomposed1.pivotX)*t,l._decomposed1.pivotY+=(l._decomposed2.pivotY-l._decomposed1.pivotY)*t,l._decomposed1.rotation+=(l._decomposed2.rotation-l._decomposed1.rotation)*t,l._decomposed1.scaleX+=(l._decomposed2.scaleX-l._decomposed1.scaleX)*t,l._decomposed1.scaleY+=(l._decomposed2.scaleY-l._decomposed1.scaleY)*t,l._decomposed1.skewX+=(l._decomposed2.skewX-l._decomposed1.skewX)*t,l._decomposed1.skewY+=(l._decomposed2.skewY-l._decomposed1.skewY)*t,l._decomposed1.x+=(l._decomposed2.x-l._decomposed1.x)*t,l._decomposed1.y+=(l._decomposed2.y-l._decomposed1.y)*t,i=(e=l._decomposed1).x,n=e.y,t=e.scaleX,r=e.scaleY,a=e.rotation,o=e.skewX,h=e.skewY,s=e.pivotX,null==(e=e.pivotY)&&(e=0),null==s&&(s=0),null==h&&(h=0),null==o&&(o=0),null==a&&(a=0),null==r&&(r=1),null==t&&(t=1),null==n&&(n=0),null==i&&(i=0),this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this.changedDirty=!0,this.tx+=-s,this.ty+=-e,this.changedDirty=!0,0!=o&&(this.c=o*Math.PI/180),0!=h&&(this.b=h*Math.PI/180),0!=a&&(o=a*Math.PI/180,h=Math.cos(o),a=Math.sin(o),o=this.a*h-this.b*a,this.b=this.a*a+this.b*h,this.a=o,o=this.c*h-this.d*a,this.d=this.c*a+this.d*h,this.c=o,o=this.tx*h-this.ty*a,this.ty=this.tx*a+this.ty*h,this.tx=o,this.changedDirty=!0),this.tx+=s,this.ty+=e,this.changedDirty=!0,1==t&&1==r||(this.a*=t,this.b*=r,this.c*=t,this.d*=r,this.tx*=t,this.ty*=r,this.changedDirty=!0),this.tx+=i-s*t,this.ty+=n-e*r),this.changedDirty=!0},deltaTransformX:function(e,n){return e*this.a+n*this.c},deltaTransformY:function(e,n){return e*this.b+n*this.d},equals:function(e){return null!=e&&this.tx==e.tx&&this.ty==e.ty&&this.a==e.a&&this.b==e.b&&this.c==e.c&&this.d==e.d},identity:function(){this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this.changedDirty=!0},invert:function(){var e,n=this.a*this.d-this.b*this.c;0==n?(this.a=this.b=this.c=this.d=0,this.tx=-this.tx,this.ty=-this.ty):(e=this.d*(n=1/n),this.d=this.a*n,this.a=e,this.b*=-n,this.c*=-n,e=-this.a*this.tx-this.c*this.ty,this.ty=-this.b*this.tx-this.d*this.ty,this.tx=e),this.changedDirty=!0},rotate:function(e){var n=Math.cos(e),e=Math.sin(e),t=this.a*n-this.b*e,t=(this.b=this.a*e+this.b*n,this.a=t,this.c*n-this.d*e),t=(this.d=this.c*e+this.d*n,this.c=t,this.tx*n-this.ty*e);this.ty=this.tx*e+this.ty*n,this.tx=t,this.changedDirty=!0},scale:function(e,n){this.a*=e,this.b*=n,this.c*=e,this.d*=n,this.tx*=e,this.ty*=n,this.changedDirty=!0},translate:function(e,n){this.tx+=e,this.ty+=n,this.changedDirty=!0},skew:function(e,n){var t=l._tmp,t=(t.a=1,t.b=0,t.c=0,t.d=1,t.tx=0,t.ty=0,t.changedDirty=!0,Math.cos(n)),n=Math.sin(n),i=-Math.sin(e),e=Math.cos(e),t=(l._tmp.a=+t+-0*n,l._tmp.b=0*t+ +n,l._tmp.c=i+-0*e,l._tmp.d=0*i+ +e,l._tmp),n=this.a*t.a+this.b*t.c,i=(this.b=this.a*t.b+this.b*t.d,this.a=n,this.c*t.a+this.d*t.c),e=(this.d=this.c*t.b+this.d*t.d,this.c=i,this.tx*t.a+this.ty*t.c+t.tx);this.ty=this.tx*t.b+this.ty*t.d+t.ty,this.tx=e,this.changedDirty=!0},setRotation:function(e,n){null==n&&(n=1),this.a=Math.cos(e)*n,this.c=Math.sin(e)*n,this.b=-this.c,this.d=this.a,this.changedDirty=!0},setTo:function(e,n,t,i,l,r){this.a=e,this.b=n,this.c=t,this.d=i,this.tx=l,this.ty=r,this.changedDirty=!0},setToTransform:function(e){this.a=e.a,this.b=e.b,this.c=e.c,this.d=e.d,this.tx=e.tx,this.ty=e.ty,this.changedDirty=!0},toString:function(){var e=l._decomposed1;return(e=null==e?new k:e).pivotX=0,e.pivotY=0,e.skewX=-Math.atan2(-this.c,this.d),e.skewY=Math.atan2(this.b,this.a),Math.abs(e.skewX+e.skewY)<1e-5&&(e.rotation=e.skewY,this.a<0&&0<=this.d&&(e.rotation+=e.rotation<=0?Math.PI:-Math.PI),e.skewX=0,e.skewY=0),e.scaleX=Math.sqrt(this.a*this.a+this.b*this.b),e.scaleY=Math.sqrt(this.c*this.c+this.d*this.d),e.x=this.tx,e.y=this.ty,"(a="+this.a+", b="+this.b+", c="+this.c+", d="+this.d+", tx="+this.tx+", ty="+this.ty+" "+X.string(l._decomposed1)+")"},transformX:function(e,n){return e*this.a+n*this.c+this.tx},transformY:function(e,n){return e*this.b+n*this.d+this.ty},unbindEvents:function(){this.offChange()},__class__:l},(E["ceramic.Pool"]=m).__name__="ceramic.Pool",m.prototype={availableItems:null,get:function(){return 0<this.availableItems.length?this.availableItems.pop():null},recycle:function(e){this.availableItems.push(e)},clear:function(){0<this.availableItems.length&&(this.availableItems=[])},__class__:m},(E["ceramic.Point"]=n).__name__="ceramic.Point",n.get=function(e,t,i){null==i&&(i=0),null==t&&(t=0),null==e&&(e=0);var l=n.pool,l=0<l.availableItems.length?l.availableItems.pop():null;return null==l?l=new n(e,t,i):(l.x=e,l.y=t,l.z=i),l},n.prototype={x:null,y:null,z:null,toString:function(){return"Point("+this.x+", "+this.y+", "+this.z+")"},recycle:function(){this.x=0,this.y=0,this.z=0,n.pool.recycle(this)},__class__:n},(E["ceramic.Visual"]=o).__name__="ceramic.Visual",o.computeChildrenDepth=function(e){o._computeChildrenDepth0(e)},o._computeChildrenDepth0=function(e){var n=e.children;if(null!=n){for(var t=0,i=n.length;t<i;)(r=n[t++]).computedDepth=1e3*r.depth,o._computeChildrenDepth0(r);var l=e.depthRange;if(-1!=l){o._minDepth=9999999999,o._maxDepth=-9999999999;for(t=0,i=n.length;t<i;){var r=n[t++];o._computeMinMaxDepths0(r)}for(t=0,i=n.length;t<i;){r=n[t++];o._multiplyDepths0(r,e.computedDepth+Math.min(.01,1e3*l),Math.max(0,1e3*l-.01))}}}},o._computeChildrenDepth1=function(e){var n=e.children;if(null!=n){for(var t=0,i=n.length;t<i;)(r=n[t++]).computedDepth=1e3*r.depth,o._computeChildrenDepth0(r);var l=e.depthRange;if(-1!=l){o._minDepth=9999999999,o._maxDepth=-9999999999;for(t=0,i=n.length;t<i;){var r=n[t++];o._computeMinMaxDepths0(r)}for(t=0,i=n.length;t<i;){r=n[t++];o._multiplyDepths0(r,e.computedDepth+Math.min(.01,1e3*l),Math.max(0,1e3*l-.01))}}}},o._computeChildrenDepthApplyDepthRange=function(e,n){var t=e.depthRange;if(-1!=t){o._minDepth=9999999999,o._maxDepth=-9999999999;for(var i=0,l=n.length;i<l;){var r=n[i++];o._computeMinMaxDepths0(r)}for(i=0,l=n.length;i<l;){r=n[i++];o._multiplyDepths0(r,e.computedDepth+Math.min(.01,1e3*t),Math.max(0,1e3*t-.01))}}},o.computeMinMaxDepths=function(e){o._computeMinMaxDepths0(e)},o._computeMinMaxDepths0=function(e){var n=e.computedDepth,t=(n<o._minDepth&&(o._minDepth=n),o._maxDepth<n+1&&(o._maxDepth=n+1),e.children);if(null!=t)for(var i=0,l=t.length;i<l;){var r=t[i++];o._computeMinMaxDepths0(r)}},o._computeMinMaxDepths1=function(e){var n=e.computedDepth,t=(n<o._minDepth&&(o._minDepth=n),o._maxDepth<n+1&&(o._maxDepth=n+1),e.children);if(null!=t)for(var i=0,l=t.length;i<l;){var r=t[i++];o._computeMinMaxDepths0(r)}},o.multiplyDepths=function(e,n,t){o._multiplyDepths0(e,n,t)},o._multiplyDepths0=function(e,n,t){e.computedDepth=o._maxDepth==o._minDepth?n+.5*t:n+(e.computedDepth-o._minDepth)/(o._maxDepth-o._minDepth)*t;var i=e.children;if(null!=i)for(var l=0,r=i.length;l<r;){var s=i[l++];o._multiplyDepths0(s,n,t)}},o._multiplyDepths1=function(e,n,t){e.computedDepth=o._maxDepth==o._minDepth?n+.5*t:n+(e.computedDepth-o._minDepth)/(o._maxDepth-o._minDepth)*t;var i=e.children;if(null!=i)for(var l=0,r=i.length;l<r;){var s=i[l++];o._multiplyDepths0(s,n,t)}},o.__super__=j,o.prototype=$extend(j.prototype,{__cbOnPointerDown:null,__cbOncePointerDown:null,__cbOnOwnerUnbindPointerDown:null,__cbOnceOwnerUnbindPointerDown:null,emitPointerDown:function(e){var n=0;if(null!=this.__cbOnPointerDown&&(n+=this.__cbOnPointerDown.length),null!=this.__cbOncePointerDown&&(n+=this.__cbOncePointerDown.length),0<n){var t=C.pool(n),i=t.get(),l=0;if(null!=this.__cbOnPointerDown)for(var r=0,s=this.__cbOnPointerDown.length;r<s;){var h=r++;!0?(i.vector[l]=this.__cbOnPointerDown[h],++l):--n}if(null!=this.__cbOncePointerDown){for(var a=null,o=null,r=0,s=this.__cbOncePointerDown.length;r<s;){var c,h=r++;!0?(i.vector[l]=this.__cbOncePointerDown[h],this.__cbOncePointerDown[h]=null,c=this.__cbOnceOwnerUnbindPointerDown[h],(this.__cbOnceOwnerUnbindPointerDown[h]=null)!=c&&c(),++l):(--n,null==a&&(a=[],o=[],0),a.push(this.__cbOnceOwnerUnbindPointerDown[h]),o.push(this.__cbOncePointerDown[h]))}this.__cbOnceOwnerUnbindPointerDown=a,this.__cbOncePointerDown=o}for(r=0,s=n;r<s;){l=r++;(0,i.vector[l])(e)}t.release(i)}},onPointerDown:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event pointerDown because owner is destroyed!");var l=function(e){null!=t&&(i.offPointerDown(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindPointerDown&&(this.__cbOnOwnerUnbindPointerDown=[]),this.__cbOnOwnerUnbindPointerDown.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindPointerDown&&(this.__cbOnOwnerUnbindPointerDown=[]),this.__cbOnOwnerUnbindPointerDown.push(null);null==this.__cbOnPointerDown&&(this.__cbOnPointerDown=[]),this.__cbOnPointerDown.push(t)},oncePointerDown:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event pointerDown because owner is destroyed!");var l=function(e){null!=t&&(i.offPointerDown(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindPointerDown&&(this.__cbOnceOwnerUnbindPointerDown=[]),this.__cbOnceOwnerUnbindPointerDown.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindPointerDown&&(this.__cbOnceOwnerUnbindPointerDown=[]),this.__cbOnceOwnerUnbindPointerDown.push(null);null==this.__cbOncePointerDown&&(this.__cbOncePointerDown=[]),this.__cbOncePointerDown.push(t)},offPointerDown:function(e){if(null!=e){var n;null!=this.__cbOnPointerDown&&-1!=(n=this.__cbOnPointerDown.indexOf(e))&&(this.__cbOnPointerDown.splice(n,1),null!=(r=this.__cbOnOwnerUnbindPointerDown[n])&&r(),this.__cbOnOwnerUnbindPointerDown.splice(n,1)),null!=this.__cbOncePointerDown&&-1!=(n=this.__cbOncePointerDown.indexOf(e))&&(this.__cbOncePointerDown.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindPointerDown[n])&&r(),this.__cbOnceOwnerUnbindPointerDown.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindPointerDown){for(var t=0,i=this.__cbOnOwnerUnbindPointerDown.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindPointerDown[l])&&r()}this.__cbOnOwnerUnbindPointerDown=null}if(null!=this.__cbOnceOwnerUnbindPointerDown){for(t=0,i=this.__cbOnceOwnerUnbindPointerDown.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindPointerDown[l])&&r()}this.__cbOnceOwnerUnbindPointerDown=null}this.__cbOnPointerDown=null,this.__cbOncePointerDown=null}},listensPointerDown:function(){return null!=this.__cbOnPointerDown&&0<this.__cbOnPointerDown.length||null!=this.__cbOncePointerDown&&0<this.__cbOncePointerDown.length},__cbOnPointerUp:null,__cbOncePointerUp:null,__cbOnOwnerUnbindPointerUp:null,__cbOnceOwnerUnbindPointerUp:null,emitPointerUp:function(e){var n=0;if(null!=this.__cbOnPointerUp&&(n+=this.__cbOnPointerUp.length),null!=this.__cbOncePointerUp&&(n+=this.__cbOncePointerUp.length),0<n){var t=C.pool(n),i=t.get(),l=0;if(null!=this.__cbOnPointerUp)for(var r=0,s=this.__cbOnPointerUp.length;r<s;){var h=r++;!0?(i.vector[l]=this.__cbOnPointerUp[h],++l):--n}if(null!=this.__cbOncePointerUp){for(var a=null,o=null,r=0,s=this.__cbOncePointerUp.length;r<s;){var c,h=r++;!0?(i.vector[l]=this.__cbOncePointerUp[h],this.__cbOncePointerUp[h]=null,c=this.__cbOnceOwnerUnbindPointerUp[h],(this.__cbOnceOwnerUnbindPointerUp[h]=null)!=c&&c(),++l):(--n,null==a&&(a=[],o=[],0),a.push(this.__cbOnceOwnerUnbindPointerUp[h]),o.push(this.__cbOncePointerUp[h]))}this.__cbOnceOwnerUnbindPointerUp=a,this.__cbOncePointerUp=o}for(r=0,s=n;r<s;){l=r++;(0,i.vector[l])(e)}t.release(i)}},onPointerUp:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event pointerUp because owner is destroyed!");var l=function(e){null!=t&&(i.offPointerUp(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindPointerUp&&(this.__cbOnOwnerUnbindPointerUp=[]),this.__cbOnOwnerUnbindPointerUp.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindPointerUp&&(this.__cbOnOwnerUnbindPointerUp=[]),this.__cbOnOwnerUnbindPointerUp.push(null);null==this.__cbOnPointerUp&&(this.__cbOnPointerUp=[]),this.__cbOnPointerUp.push(t)},oncePointerUp:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event pointerUp because owner is destroyed!");var l=function(e){null!=t&&(i.offPointerUp(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindPointerUp&&(this.__cbOnceOwnerUnbindPointerUp=[]),this.__cbOnceOwnerUnbindPointerUp.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindPointerUp&&(this.__cbOnceOwnerUnbindPointerUp=[]),this.__cbOnceOwnerUnbindPointerUp.push(null);null==this.__cbOncePointerUp&&(this.__cbOncePointerUp=[]),this.__cbOncePointerUp.push(t)},offPointerUp:function(e){if(null!=e){var n;null!=this.__cbOnPointerUp&&-1!=(n=this.__cbOnPointerUp.indexOf(e))&&(this.__cbOnPointerUp.splice(n,1),null!=(r=this.__cbOnOwnerUnbindPointerUp[n])&&r(),this.__cbOnOwnerUnbindPointerUp.splice(n,1)),null!=this.__cbOncePointerUp&&-1!=(n=this.__cbOncePointerUp.indexOf(e))&&(this.__cbOncePointerUp.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindPointerUp[n])&&r(),this.__cbOnceOwnerUnbindPointerUp.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindPointerUp){for(var t=0,i=this.__cbOnOwnerUnbindPointerUp.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindPointerUp[l])&&r()}this.__cbOnOwnerUnbindPointerUp=null}if(null!=this.__cbOnceOwnerUnbindPointerUp){for(t=0,i=this.__cbOnceOwnerUnbindPointerUp.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindPointerUp[l])&&r()}this.__cbOnceOwnerUnbindPointerUp=null}this.__cbOnPointerUp=null,this.__cbOncePointerUp=null}},listensPointerUp:function(){return null!=this.__cbOnPointerUp&&0<this.__cbOnPointerUp.length||null!=this.__cbOncePointerUp&&0<this.__cbOncePointerUp.length},__cbOnPointerOver:null,__cbOncePointerOver:null,__cbOnOwnerUnbindPointerOver:null,__cbOnceOwnerUnbindPointerOver:null,emitPointerOver:function(e){var n=0;if(null!=this.__cbOnPointerOver&&(n+=this.__cbOnPointerOver.length),null!=this.__cbOncePointerOver&&(n+=this.__cbOncePointerOver.length),0<n){var t=C.pool(n),i=t.get(),l=0;if(null!=this.__cbOnPointerOver)for(var r=0,s=this.__cbOnPointerOver.length;r<s;){var h=r++;!0?(i.vector[l]=this.__cbOnPointerOver[h],++l):--n}if(null!=this.__cbOncePointerOver){for(var a=null,o=null,r=0,s=this.__cbOncePointerOver.length;r<s;){var c,h=r++;!0?(i.vector[l]=this.__cbOncePointerOver[h],this.__cbOncePointerOver[h]=null,c=this.__cbOnceOwnerUnbindPointerOver[h],(this.__cbOnceOwnerUnbindPointerOver[h]=null)!=c&&c(),++l):(--n,null==a&&(a=[],o=[],0),a.push(this.__cbOnceOwnerUnbindPointerOver[h]),o.push(this.__cbOncePointerOver[h]))}this.__cbOnceOwnerUnbindPointerOver=a,this.__cbOncePointerOver=o}for(r=0,s=n;r<s;){l=r++;(0,i.vector[l])(e)}t.release(i)}},onPointerOver:function(n,t){var i=this;if(null==this.__cbOnPointerOver&&null==this.__cbOncePointerOver&&(he.app.screen.visualsListenPointerOver=!0),null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event pointerOver because owner is destroyed!");var l=function(e){null!=t&&(i.offPointerOver(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindPointerOver&&(this.__cbOnOwnerUnbindPointerOver=[]),this.__cbOnOwnerUnbindPointerOver.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindPointerOver&&(this.__cbOnOwnerUnbindPointerOver=[]),this.__cbOnOwnerUnbindPointerOver.push(null);null==this.__cbOnPointerOver&&(this.__cbOnPointerOver=[]),this.__cbOnPointerOver.push(t)},oncePointerOver:function(n,t){var i=this;if(null==this.__cbOnPointerOver&&null==this.__cbOncePointerOver&&(he.app.screen.visualsListenPointerOver=!0),null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event pointerOver because owner is destroyed!");var l=function(e){null!=t&&(i.offPointerOver(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindPointerOver&&(this.__cbOnceOwnerUnbindPointerOver=[]),this.__cbOnceOwnerUnbindPointerOver.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindPointerOver&&(this.__cbOnceOwnerUnbindPointerOver=[]),this.__cbOnceOwnerUnbindPointerOver.push(null);null==this.__cbOncePointerOver&&(this.__cbOncePointerOver=[]),this.__cbOncePointerOver.push(t)},offPointerOver:function(e){if(null!=e){var n;null!=this.__cbOnPointerOver&&-1!=(n=this.__cbOnPointerOver.indexOf(e))&&(this.__cbOnPointerOver.splice(n,1),null!=(r=this.__cbOnOwnerUnbindPointerOver[n])&&r(),this.__cbOnOwnerUnbindPointerOver.splice(n,1)),null!=this.__cbOncePointerOver&&-1!=(n=this.__cbOncePointerOver.indexOf(e))&&(this.__cbOncePointerOver.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindPointerOver[n])&&r(),this.__cbOnceOwnerUnbindPointerOver.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindPointerOver){for(var t=0,i=this.__cbOnOwnerUnbindPointerOver.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindPointerOver[l])&&r()}this.__cbOnOwnerUnbindPointerOver=null}if(null!=this.__cbOnceOwnerUnbindPointerOver){for(t=0,i=this.__cbOnceOwnerUnbindPointerOver.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindPointerOver[l])&&r()}this.__cbOnceOwnerUnbindPointerOver=null}this.__cbOnPointerOver=null,this.__cbOncePointerOver=null}},listensPointerOver:function(){return null!=this.__cbOnPointerOver&&0<this.__cbOnPointerOver.length||null!=this.__cbOncePointerOver&&0<this.__cbOncePointerOver.length},__cbOnPointerOut:null,__cbOncePointerOut:null,__cbOnOwnerUnbindPointerOut:null,__cbOnceOwnerUnbindPointerOut:null,emitPointerOut:function(e){var n=0;if(null!=this.__cbOnPointerOut&&(n+=this.__cbOnPointerOut.length),null!=this.__cbOncePointerOut&&(n+=this.__cbOncePointerOut.length),0<n){var t=C.pool(n),i=t.get(),l=0;if(null!=this.__cbOnPointerOut)for(var r=0,s=this.__cbOnPointerOut.length;r<s;){var h=r++;!0?(i.vector[l]=this.__cbOnPointerOut[h],++l):--n}if(null!=this.__cbOncePointerOut){for(var a=null,o=null,r=0,s=this.__cbOncePointerOut.length;r<s;){var c,h=r++;!0?(i.vector[l]=this.__cbOncePointerOut[h],this.__cbOncePointerOut[h]=null,c=this.__cbOnceOwnerUnbindPointerOut[h],(this.__cbOnceOwnerUnbindPointerOut[h]=null)!=c&&c(),++l):(--n,null==a&&(a=[],o=[],0),a.push(this.__cbOnceOwnerUnbindPointerOut[h]),o.push(this.__cbOncePointerOut[h]))}this.__cbOnceOwnerUnbindPointerOut=a,this.__cbOncePointerOut=o}for(r=0,s=n;r<s;){l=r++;(0,i.vector[l])(e)}t.release(i)}},onPointerOut:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event pointerOut because owner is destroyed!");var l=function(e){null!=t&&(i.offPointerOut(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindPointerOut&&(this.__cbOnOwnerUnbindPointerOut=[]),this.__cbOnOwnerUnbindPointerOut.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindPointerOut&&(this.__cbOnOwnerUnbindPointerOut=[]),this.__cbOnOwnerUnbindPointerOut.push(null);null==this.__cbOnPointerOut&&(this.__cbOnPointerOut=[]),this.__cbOnPointerOut.push(t)},oncePointerOut:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event pointerOut because owner is destroyed!");var l=function(e){null!=t&&(i.offPointerOut(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindPointerOut&&(this.__cbOnceOwnerUnbindPointerOut=[]),this.__cbOnceOwnerUnbindPointerOut.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindPointerOut&&(this.__cbOnceOwnerUnbindPointerOut=[]),this.__cbOnceOwnerUnbindPointerOut.push(null);null==this.__cbOncePointerOut&&(this.__cbOncePointerOut=[]),this.__cbOncePointerOut.push(t)},offPointerOut:function(e){if(null!=e){var n;null!=this.__cbOnPointerOut&&-1!=(n=this.__cbOnPointerOut.indexOf(e))&&(this.__cbOnPointerOut.splice(n,1),null!=(r=this.__cbOnOwnerUnbindPointerOut[n])&&r(),this.__cbOnOwnerUnbindPointerOut.splice(n,1)),null!=this.__cbOncePointerOut&&-1!=(n=this.__cbOncePointerOut.indexOf(e))&&(this.__cbOncePointerOut.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindPointerOut[n])&&r(),this.__cbOnceOwnerUnbindPointerOut.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindPointerOut){for(var t=0,i=this.__cbOnOwnerUnbindPointerOut.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindPointerOut[l])&&r()}this.__cbOnOwnerUnbindPointerOut=null}if(null!=this.__cbOnceOwnerUnbindPointerOut){for(t=0,i=this.__cbOnceOwnerUnbindPointerOut.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindPointerOut[l])&&r()}this.__cbOnceOwnerUnbindPointerOut=null}this.__cbOnPointerOut=null,this.__cbOncePointerOut=null}},listensPointerOut:function(){return null!=this.__cbOnPointerOut&&0<this.__cbOnPointerOut.length||null!=this.__cbOncePointerOut&&0<this.__cbOncePointerOut.length},__cbOnFocus:null,__cbOnceFocus:null,__cbOnOwnerUnbindFocus:null,__cbOnceOwnerUnbindFocus:null,emitFocus:function(){var e=0;if(null!=this.__cbOnFocus&&(e+=this.__cbOnFocus.length),null!=this.__cbOnceFocus&&(e+=this.__cbOnceFocus.length),0<e){var n=C.pool(e),t=n.get(),i=0;if(null!=this.__cbOnFocus)for(var l=0,r=this.__cbOnFocus.length;l<r;){var s=l++;!0?(t.vector[i]=this.__cbOnFocus[s],++i):--e}if(null!=this.__cbOnceFocus){for(var h=null,a=null,l=0,r=this.__cbOnceFocus.length;l<r;){var o,s=l++;!0?(t.vector[i]=this.__cbOnceFocus[s],this.__cbOnceFocus[s]=null,o=this.__cbOnceOwnerUnbindFocus[s],(this.__cbOnceOwnerUnbindFocus[s]=null)!=o&&o(),++i):(--e,null==h&&(h=[],a=[],0),h.push(this.__cbOnceOwnerUnbindFocus[s]),a.push(this.__cbOnceFocus[s]))}this.__cbOnceOwnerUnbindFocus=h,this.__cbOnceFocus=a}for(l=0,r=e;l<r;){i=l++;(0,t.vector[i])()}n.release(t)}},onFocus:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event focus because owner is destroyed!");var l=function(e){null!=t&&(i.offFocus(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindFocus&&(this.__cbOnOwnerUnbindFocus=[]),this.__cbOnOwnerUnbindFocus.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindFocus&&(this.__cbOnOwnerUnbindFocus=[]),this.__cbOnOwnerUnbindFocus.push(null);null==this.__cbOnFocus&&(this.__cbOnFocus=[]),this.__cbOnFocus.push(t)},onceFocus:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event focus because owner is destroyed!");var l=function(e){null!=t&&(i.offFocus(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindFocus&&(this.__cbOnceOwnerUnbindFocus=[]),this.__cbOnceOwnerUnbindFocus.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindFocus&&(this.__cbOnceOwnerUnbindFocus=[]),this.__cbOnceOwnerUnbindFocus.push(null);null==this.__cbOnceFocus&&(this.__cbOnceFocus=[]),this.__cbOnceFocus.push(t)},offFocus:function(e){if(null!=e){var n;null!=this.__cbOnFocus&&-1!=(n=this.__cbOnFocus.indexOf(e))&&(this.__cbOnFocus.splice(n,1),null!=(r=this.__cbOnOwnerUnbindFocus[n])&&r(),this.__cbOnOwnerUnbindFocus.splice(n,1)),null!=this.__cbOnceFocus&&-1!=(n=this.__cbOnceFocus.indexOf(e))&&(this.__cbOnceFocus.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindFocus[n])&&r(),this.__cbOnceOwnerUnbindFocus.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindFocus){for(var t=0,i=this.__cbOnOwnerUnbindFocus.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindFocus[l])&&r()}this.__cbOnOwnerUnbindFocus=null}if(null!=this.__cbOnceOwnerUnbindFocus){for(t=0,i=this.__cbOnceOwnerUnbindFocus.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindFocus[l])&&r()}this.__cbOnceOwnerUnbindFocus=null}this.__cbOnFocus=null,this.__cbOnceFocus=null}},listensFocus:function(){return null!=this.__cbOnFocus&&0<this.__cbOnFocus.length||null!=this.__cbOnceFocus&&0<this.__cbOnceFocus.length},__cbOnBlur:null,__cbOnceBlur:null,__cbOnOwnerUnbindBlur:null,__cbOnceOwnerUnbindBlur:null,emitBlur:function(){var e=0;if(null!=this.__cbOnBlur&&(e+=this.__cbOnBlur.length),null!=this.__cbOnceBlur&&(e+=this.__cbOnceBlur.length),0<e){var n=C.pool(e),t=n.get(),i=0;if(null!=this.__cbOnBlur)for(var l=0,r=this.__cbOnBlur.length;l<r;){var s=l++;!0?(t.vector[i]=this.__cbOnBlur[s],++i):--e}if(null!=this.__cbOnceBlur){for(var h=null,a=null,l=0,r=this.__cbOnceBlur.length;l<r;){var o,s=l++;!0?(t.vector[i]=this.__cbOnceBlur[s],this.__cbOnceBlur[s]=null,o=this.__cbOnceOwnerUnbindBlur[s],(this.__cbOnceOwnerUnbindBlur[s]=null)!=o&&o(),++i):(--e,null==h&&(h=[],a=[],0),h.push(this.__cbOnceOwnerUnbindBlur[s]),a.push(this.__cbOnceBlur[s]))}this.__cbOnceOwnerUnbindBlur=h,this.__cbOnceBlur=a}for(l=0,r=e;l<r;){i=l++;(0,t.vector[i])()}n.release(t)}},onBlur:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event blur because owner is destroyed!");var l=function(e){null!=t&&(i.offBlur(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindBlur&&(this.__cbOnOwnerUnbindBlur=[]),this.__cbOnOwnerUnbindBlur.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindBlur&&(this.__cbOnOwnerUnbindBlur=[]),this.__cbOnOwnerUnbindBlur.push(null);null==this.__cbOnBlur&&(this.__cbOnBlur=[]),this.__cbOnBlur.push(t)},onceBlur:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event blur because owner is destroyed!");var l=function(e){null!=t&&(i.offBlur(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindBlur&&(this.__cbOnceOwnerUnbindBlur=[]),this.__cbOnceOwnerUnbindBlur.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindBlur&&(this.__cbOnceOwnerUnbindBlur=[]),this.__cbOnceOwnerUnbindBlur.push(null);null==this.__cbOnceBlur&&(this.__cbOnceBlur=[]),this.__cbOnceBlur.push(t)},offBlur:function(e){if(null!=e){var n;null!=this.__cbOnBlur&&-1!=(n=this.__cbOnBlur.indexOf(e))&&(this.__cbOnBlur.splice(n,1),null!=(r=this.__cbOnOwnerUnbindBlur[n])&&r(),this.__cbOnOwnerUnbindBlur.splice(n,1)),null!=this.__cbOnceBlur&&-1!=(n=this.__cbOnceBlur.indexOf(e))&&(this.__cbOnceBlur.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindBlur[n])&&r(),this.__cbOnceOwnerUnbindBlur.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindBlur){for(var t=0,i=this.__cbOnOwnerUnbindBlur.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindBlur[l])&&r()}this.__cbOnOwnerUnbindBlur=null}if(null!=this.__cbOnceOwnerUnbindBlur){for(t=0,i=this.__cbOnceOwnerUnbindBlur.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindBlur[l])&&r()}this.__cbOnceOwnerUnbindBlur=null}this.__cbOnBlur=null,this.__cbOnceBlur=null}},listensBlur:function(){return null!=this.__cbOnBlur&&0<this.__cbOnBlur.length||null!=this.__cbOnceBlur&&0<this.__cbOnceBlur.length},willListenPointerOver:function(){he.app.screen.visualsListenPointerOver=!0},asQuad:null,asMesh:null,multiTouch:null,isPointerDown:null,_numPointerDown:null,get_isPointerDown:function(){return 0<this._numPointerDown},isPointerOver:null,_numPointerOver:null,get_isPointerOver:function(){return 0<this._numPointerOver},clip:null,set_clip:function(e){if(this.clip!=e&&(this.clip=e,this.clipDirty=!0,null!=this.children))for(var n=0,t=this.children.length;n<t;){var i=n++,l=this.children[i];if(l.clipDirty=!0,null!=l.children)for(var r=0,s=l.children.length;r<s;){var h=r++;l.children[h].set_clipDirty(!0)}}return e},inheritAlpha:null,set_inheritAlpha:function(e){if(this.inheritAlpha!=e&&(this.inheritAlpha=e,this.visibilityDirty=!0,null!=this.children))for(var n=0,t=this.children.length;n<t;){var i=n++,l=this.children[i];if(l.visibilityDirty=!0,null!=l.children)for(var r=0,s=l.children.length;r<s;){var h=r++;l.children[h].set_visibilityDirty(!0)}}return e},stop:function(){},get_wireframe:function(){return 128==(128&this.flags)},set_wireframe:function(e){return this.flags=e?128|this.flags:-129&this.flags,e},translatesOnly:null,translatesOnlyDirty:null,contentDirty:null,set_contentDirty:function(e){return(this.contentDirty=e)&&(he.app.visualsContentDirty=!0),e},matrixDirty:null,set_matrixDirty:function(e){if((this.matrixDirty=e)&&null!=this.children)for(var n=0,t=this.children.length;n<t;){var i=n++;this.children[i].set_matrixDirty(!0)}return e},renderTargetDirty:null,set_renderTargetDirty:function(e){if(this.renderTargetDirty=e){if(this.clipDirty=!0,null!=this.children)for(var n=0,t=this.children.length;n<t;){var i=n++;if((h=this.children[i]).clipDirty=!0,null!=h.children)for(var l=0,r=h.children.length;l<r;){var s=l++;h.children[s].set_clipDirty(!0)}}if(null!=this.children)for(n=0,t=this.children.length;n<t;){var h,i=n++;(h=this.children[i]).set_renderTargetDirty(!0)}}return e},visibilityDirty:null,set_visibilityDirty:function(e){if((this.visibilityDirty=e)&&null!=this.children)for(var n=0,t=this.children.length;n<t;){var i=n++;this.children[i].set_visibilityDirty(!0)}return e},touchableDirty:null,set_touchableDirty:function(e){if((this.touchableDirty=e)&&null!=this.children)for(var n=0,t=this.children.length;n<t;){var i=n++;this.children[i].set_touchableDirty(!0)}return e},clipDirty:null,set_clipDirty:function(e){if((this.clipDirty=e)&&null!=this.children)for(var n=0,t=this.children.length;n<t;){var i=n++;this.children[i].set_clipDirty(!0)}return e},renderTarget:null,set_renderTarget:function(e){if(this.renderTarget!=e){if(this.renderTarget=e,this.matrixDirty=!0,null!=this.children)for(var n=0,t=this.children.length;n<t;){var i=n++;if((h=this.children[i]).matrixDirty=!0,null!=h.children)for(var l=0,r=h.children.length;l<r;){var s=l++;(a=h.children[s]).set_matrixDirty(!0)}}if(this.renderTargetDirty=!0,this.clipDirty=!0,null!=this.children)for(n=0,t=this.children.length;n<t;){i=n++;if((h=this.children[i]).clipDirty=!0,null!=h.children)for(l=0,r=h.children.length;l<r;){s=l++;(a=h.children[s]).set_clipDirty(!0)}}if(null!=this.children)for(n=0,t=this.children.length;n<t;){var h,i=n++;if((h=this.children[i]).renderTargetDirty=!0,h.clipDirty=!0,null!=h.children)for(l=0,r=h.children.length;l<r;){var a,s=l++;if((a=h.children[s]).clipDirty=!0,null!=a.children)for(var o=0,c=a.children.length;o<c;){var u=o++,_=a.children[u];if(_.clipDirty=!0,null!=_.children)for(var d=0,b=_.children.length;d<b;){var g=d++;_.children[g].set_clipDirty(!0)}}}if(null!=h.children)for(var O=0,f=h.children.length;O<f;){var p=O++;h.children[p].set_renderTargetDirty(!0)}}}return e},blending:null,set_blending:function(e){return this.blending=e},visible:null,set_visible:function(e){if(this.visible!=e&&(this.visible=e,this.visibilityDirty=!0,null!=this.children))for(var n=0,t=this.children.length;n<t;){var i=n++,l=this.children[i];if(l.visibilityDirty=!0,null!=l.children)for(var r=0,s=l.children.length;r<s;){var h=r++;l.children[h].set_visibilityDirty(!0)}}return e},touchable:null,set_touchable:function(e){if(this.touchable!=e&&(this.touchable=e,this.touchableDirty=!0,null!=this.children))for(var n=0,t=this.children.length;n<t;){var i=n++,l=this.children[i];if(l.touchableDirty=!0,null!=l.children)for(var r=0,s=l.children.length;r<s;){var h=r++;l.children[h].set_touchableDirty(!0)}}return e},depth:null,set_depth:function(e){return this.depth!=e&&(this.depth=e,he.app.hierarchyDirty=!0),e},depthRange:null,set_depthRange:function(e){return this.depthRange!=e&&(this.depthRange=e,he.app.hierarchyDirty=!0),e},x:null,set_x:function(e){if(this.x!=e&&(this.x=e,this.matrixDirty=!0,null!=this.children))for(var n=0,t=this.children.length;n<t;){var i=n++,l=this.children[i];if(l.matrixDirty=!0,null!=l.children)for(var r=0,s=l.children.length;r<s;){var h=r++;l.children[h].set_matrixDirty(!0)}}return e},y:null,set_y:function(e){if(this.y!=e&&(this.y=e,this.matrixDirty=!0,null!=this.children))for(var n=0,t=this.children.length;n<t;){var i=n++,l=this.children[i];if(l.matrixDirty=!0,null!=l.children)for(var r=0,s=l.children.length;r<s;){var h=r++;l.children[h].set_matrixDirty(!0)}}return e},scaleX:null,set_scaleX:function(e){if(this.scaleX!=e){if(this.scaleX=e,this.matrixDirty=!0,null!=this.children)for(var n=0,t=this.children.length;n<t;){var i=n++,l=this.children[i];if(l.matrixDirty=!0,null!=l.children)for(var r=0,s=l.children.length;r<s;){var h=r++;l.children[h].set_matrixDirty(!0)}}this.translatesOnlyDirty=!0}return e},scaleY:null,set_scaleY:function(e){if(this.scaleY!=e){if(this.scaleY=e,this.matrixDirty=!0,null!=this.children)for(var n=0,t=this.children.length;n<t;){var i=n++,l=this.children[i];if(l.matrixDirty=!0,null!=l.children)for(var r=0,s=l.children.length;r<s;){var h=r++;l.children[h].set_matrixDirty(!0)}}this.translatesOnlyDirty=!0}return e},skewX:null,set_skewX:function(e){if(this.skewX!=e){if(this.skewX=e,this.matrixDirty=!0,null!=this.children)for(var n=0,t=this.children.length;n<t;){var i=n++,l=this.children[i];if(l.matrixDirty=!0,null!=l.children)for(var r=0,s=l.children.length;r<s;){var h=r++;l.children[h].set_matrixDirty(!0)}}this.translatesOnlyDirty=!0}return e},skewY:null,set_skewY:function(e){if(this.skewY!=e){if(this.skewY=e,this.matrixDirty=!0,null!=this.children)for(var n=0,t=this.children.length;n<t;){var i=n++,l=this.children[i];if(l.matrixDirty=!0,null!=l.children)for(var r=0,s=l.children.length;r<s;){var h=r++;l.children[h].set_matrixDirty(!0)}}this.translatesOnlyDirty=!0}return e},anchorX:null,set_anchorX:function(e){if(this.anchorX!=e&&(this.anchorX=e,this.matrixDirty=!0,null!=this.children))for(var n=0,t=this.children.length;n<t;){var i=n++,l=this.children[i];if(l.matrixDirty=!0,null!=l.children)for(var r=0,s=l.children.length;r<s;){var h=r++;l.children[h].set_matrixDirty(!0)}}return e},anchorY:null,set_anchorY:function(e){if(this.anchorY!=e&&(this.anchorY=e,this.matrixDirty=!0,null!=this.children))for(var n=0,t=this.children.length;n<t;){var i=n++,l=this.children[i];if(l.matrixDirty=!0,null!=l.children)for(var r=0,s=l.children.length;r<s;){var h=r++;l.children[h].set_matrixDirty(!0)}}return e},_width:null,get_width:function(){return this._width},set_width:function(e){if(this._width!=e&&(this._width=e,0!=this.anchorX)&&(this.matrixDirty=!0,null!=this.children))for(var n=0,t=this.children.length;n<t;){var i=n++,l=this.children[i];if(l.matrixDirty=!0,null!=l.children)for(var r=0,s=l.children.length;r<s;){var h=r++;l.children[h].set_matrixDirty(!0)}}return e},_height:null,get_height:function(){return this._height},set_height:function(e){if(this._height!=e&&(this._height=e,0!=this.anchorY)&&(this.matrixDirty=!0,null!=this.children))for(var n=0,t=this.children.length;n<t;){var i=n++,l=this.children[i];if(l.matrixDirty=!0,null!=l.children)for(var r=0,s=l.children.length;r<s;){var h=r++;l.children[h].set_matrixDirty(!0)}}return e},roundTranslation:null,set_roundTranslation:function(e){if(this.roundTranslation!=e&&(this.roundTranslation=e,this.matrixDirty=!0,null!=this.children))for(var n=0,t=this.children.length;n<t;){var i=n++,l=this.children[i];if(l.matrixDirty=!0,null!=l.children)for(var r=0,s=l.children.length;r<s;){var h=r++;l.children[h].set_matrixDirty(!0)}}return e},rotation:null,set_rotation:function(e){if(this.rotation!=e){if(this.rotation=e,this.matrixDirty=!0,null!=this.children)for(var n=0,t=this.children.length;n<t;){var i=n++,l=this.children[i];if(l.matrixDirty=!0,null!=l.children)for(var r=0,s=l.children.length;r<s;){var h=r++;l.children[h].set_matrixDirty(!0)}}this.translatesOnlyDirty=!0}return e},alpha:null,set_alpha:function(e){if(this.alpha!=e&&(this.alpha=e,this.visibilityDirty=!0,null!=this.children))for(var n=0,t=this.children.length;n<t;){var i=n++,l=this.children[i];if(l.visibilityDirty=!0,null!=l.children)for(var r=0,s=l.children.length;r<s;){var h=r++;l.children[h].set_visibilityDirty(!0)}}return e},get_translateX:function(){return null!=this.transform?this.transform.tx:0},set_translateX:function(e){return 0==e?null!=this.transform&&0!=this.transform.tx&&(this.transform.tx=0,this.transform.changedDirty=!0):(null==this.transform&&this.set_transform(new l),this.transform.tx!=e&&(this.transform.tx=e,this.transform.changedDirty=!0)),e},get_translateY:function(){return null!=this.transform?this.transform.ty:0},set_translateY:function(e){return 0==e?null!=this.transform&&0!=this.transform.ty&&(this.transform.ty=0,this.transform.changedDirty=!0):(null==this.transform&&this.set_transform(new l),this.transform.ty!=e&&(this.transform.ty=e,this.transform.changedDirty=!0)),e},transform:null,set_transform:function(e){if(this.transform!=e&&(null!=this.transform&&this.transform.offChange($bind(this,this.transformDidChange)),this.transform=e,null!=this.transform&&this.transform.onChange(this,$bind(this,this.transformDidChange)),this.matrixDirty=!0,null!=this.children))for(var n=0,t=this.children.length;n<t;){var i=n++,l=this.children[i];if(l.matrixDirty=!0,null!=l.children)for(var r=0,s=l.children.length;r<s;){var h=r++;l.children[h].set_matrixDirty(!0)}}return e},shader:null,set_shader:function(e){return this.shader=e},flag:function(e,n){e+=16;return null!=n?(this.flags=n?this.flags|1<<e:this.flags&~(1<<e),n):(this.flags&(n=1<<e))==n},internalFlag:function(e,n){return null!=n?(this.flags=n?this.flags|1<<e:this.flags&~(1<<e),n):(this.flags&(n=1<<e))==n},flags:null,get_active:function(){return 1!=(1&this.flags)},set_active:function(e){return e!=(1!=(1&this.flags))&&(this.flags=e?-2&this.flags:1|this.flags,e?(this.set_visible(2==(2&this.flags)),this.set_touchable(4==(4&this.flags))):(this.flags=this.visible?2|this.flags:-3&this.flags,this.flags=this.touchable?4|this.flags:-5&this.flags,this.set_visible(!1),this.set_touchable(!1))),e},matA:null,matB:null,matC:null,matD:null,matTX:null,matTY:null,computedVisible:null,computedAlpha:null,computedDepth:null,computedRenderTarget:null,computedTouchable:null,computedClip:null,children:null,parent:null,size:function(e,n){this.set_width(e),this.set_height(n)},anchor:function(e,n){this.set_anchorX(e),this.set_anchorY(n)},pos:function(e,n){this.set_x(e),this.set_y(n)},_scale:function(e,n){this.set_scaleX(e),this.set_scaleY(n)},skew:function(e,n){this.set_skewX(e),this.set_skewY(n)},translate:function(e,n){0==e?null!=this.transform&&0!=this.transform.tx&&(this.transform.tx=0,this.transform.changedDirty=!0):(null==this.transform&&this.set_transform(new l),this.transform.tx!=e&&(this.transform.tx=e,this.transform.changedDirty=!0)),0==n?null!=this.transform&&0!=this.transform.ty&&(this.transform.ty=0,this.transform.changedDirty=!0):(null==this.transform&&this.set_transform(new l),this.transform.ty!=n&&(this.transform.ty=n,this.transform.changedDirty=!0))},anchorKeepPosition:function(e,n){var t,i;this.anchorX==e&&this.anchorY==n||(this.visualToScreen(0,0,o._point,!1),null!=this.parent&&this.parent.screenToVisual(o._point.x,o._point.y,o._point,!1),t=o._point.x,i=o._point.y,this.set_anchorX(e),this.set_anchorY(n),this.visualToScreen(0,0,o._point,!1),null!=this.parent&&this.parent.screenToVisual(o._point.x,o._point.y,o._point,!1),this.set_x(this.x+(t-o._point.x)),this.set_y(this.y+(i-o._point.y)))},childWithId:function(e,n){if(null==n&&(n=!0),null!=this.children){for(var t=0,i=this.children.length;t<i;){var l=t++;if((r=this.children[l]).id==e)return r}if(n)for(t=0,i=this.children.length;t<i;){var r,l=t++,s=(r=this.children[l]).childWithId(e,!0);if(null!=s)return s}}return null},childWithType:function(e,n){if(null==n&&(n=!0),null!=this.children){for(var t=0,i=this.children.length;t<i;){var l=t++,r=this.children[l];if(Ul.__instanceof(r,e))return r}if(n)for(t=0,i=this.children.length;t<i;){var l=t++,s=(r=this.children[l]).childWithType(e,!0);if(null!=s)return s}}return null},destroy:function(){this._lifecycleState<=-2||(this._lifecycleState=-2,this._lifecycleState=-1,j.prototype.destroy.call(this),he.app.screen.unobservedFocusedVisual==this&&he.app.screen.set_focusedVisual(null),he.app.destroyedVisuals.push(this),null!=this.parent&&this.parent.remove(this),null!=this.transform&&this.set_transform(null),this.clear(),this.visibilityDirty=!1,this.computedVisible=!1)},clear:function(){if(null!=this.children&&0<this.children.length){for(var e=this.children.length,n=C.pool(e),t=n.get(),i=0,l=e;i<l;){var r=i++;t.vector[r]=this.children[r]}for(i=0,l=e;i<l;){r=i++;t.vector[r].destroy()}this.children=null,n.release(t)}},transformDidChange:function(){if(this.matrixDirty=!0,null!=this.children)for(var e=0,n=this.children.length;e<n;){var t=e++,i=this.children[t];if(i.matrixDirty=!0,null!=i.children)for(var l=0,r=i.children.length;l<r;){var s=l++;i.children[s].set_matrixDirty(!0)}}},computeMatrix:function(){null!=this.parent&&this.parent.matrixDirty&&this.parent.computeMatrix();var e,n,t,i,r=o._matrix,s=(r.a=1,r.b=0,r.c=0,r.d=1,r.tx=0,r.ty=0,r.changedDirty=!0,this.translatesOnlyDirty&&(this.translatesOnly=0==this.rotation&&1==this.scaleX&&1==this.scaleY&&0==this.skewX&&0==this.skewY,this.translatesOnlyDirty=!1),this.get_width()),h=this.get_height();this.translatesOnly?(o._matrix.tx+=this.x-this.anchorX*s,o._matrix.ty+=this.y-this.anchorY*h):((r=o._matrix).tx+=-this.anchorX*s,r.ty+=-this.anchorY*h,r.changedDirty=!0,1==this.scaleX&&1==this.scaleY||(s=this.scaleX,h=this.scaleY,(r=o._matrix).a*=s,r.b*=h,r.c*=s,r.d*=h,r.tx*=s,r.ty*=h,r.changedDirty=!0),0==this.skewX&&0==this.skewY||(r=o._matrix,s=.017453292519943295*this.skewX,h=.017453292519943295*this.skewY,(e=l._tmp).a=1,e.b=0,e.c=0,e.d=1,e.tx=0,e.ty=0,e.changedDirty=!0,e=Math.cos(h),h=Math.sin(h),n=-Math.sin(s),s=Math.cos(s),l._tmp.a=+e+-0*h,l._tmp.b=0*e+ +h,l._tmp.c=n+-0*s,l._tmp.d=0*n+ +s,n=r.a*(e=l._tmp).a+r.b*e.c,r.b=r.a*e.b+r.b*e.d,r.a=n,t=r.c*e.a+r.d*e.c,r.d=r.c*e.b+r.d*e.d,r.c=t,i=r.tx*e.a+r.ty*e.c+e.tx,r.ty=r.tx*e.b+r.ty*e.d+e.ty,r.tx=i,r.changedDirty=!0),0!=this.rotation&&(r=o._matrix,h=.017453292519943295*this.rotation,s=Math.cos(h),e=Math.sin(h),n=r.a*s-r.b*e,r.b=r.a*e+r.b*s,r.a=n,t=r.c*s-r.d*e,r.d=r.c*e+r.d*s,r.c=t,i=r.tx*s-r.ty*e,r.ty=r.tx*e+r.ty*s,r.tx=i,r.changedDirty=!0),(r=o._matrix).tx+=this.x,r.ty+=this.y,r.changedDirty=!0),null!=this.transform&&(n=o._matrix.a*this.transform.a+o._matrix.b*this.transform.c,o._matrix.b=o._matrix.a*this.transform.b+o._matrix.b*this.transform.d,o._matrix.a=n,t=o._matrix.c*this.transform.a+o._matrix.d*this.transform.c,o._matrix.d=o._matrix.c*this.transform.b+o._matrix.d*this.transform.d,o._matrix.c=t,i=o._matrix.tx*this.transform.a+o._matrix.ty*this.transform.c+this.transform.tx,o._matrix.ty=o._matrix.tx*this.transform.b+o._matrix.ty*this.transform.d+this.transform.ty,o._matrix.tx=i),null!=this.parent&&null==this.renderTarget&&(1==this.parent.matA&&0==this.parent.matB&&0==this.parent.matC&&1==this.parent.matD?(o._matrix.tx+=this.parent.matTX,o._matrix.ty+=this.parent.matTY):(i=(this.translatesOnly&&null==this.transform?(o._matrix.a=this.parent.matA,o._matrix.b=this.parent.matB,o._matrix.c=this.parent.matC,o._matrix.d=this.parent.matD):(n=o._matrix.a*this.parent.matA+o._matrix.b*this.parent.matC,o._matrix.b=o._matrix.a*this.parent.matB+o._matrix.b*this.parent.matD,o._matrix.a=n,t=o._matrix.c*this.parent.matA+o._matrix.d*this.parent.matC,o._matrix.d=o._matrix.c*this.parent.matB+o._matrix.d*this.parent.matD,o._matrix.c=t),o._matrix.tx*this.parent.matA+o._matrix.ty*this.parent.matC+this.parent.matTX),o._matrix.ty=o._matrix.tx*this.parent.matB+o._matrix.ty*this.parent.matD+this.parent.matTY,o._matrix.tx=i)),this.matA=o._matrix.a,this.matB=o._matrix.b,this.matC=o._matrix.c,this.matD=o._matrix.d,this.matTX=o._matrix.tx,this.matTY=o._matrix.ty,0<this.roundTranslation&&(1==this.roundTranslation?(this.matTX=Math.round(this.matTX),this.matTY=Math.round(this.matTY)):(this.matTX=Math.round(this.matTX*this.roundTranslation)/this.roundTranslation,this.matTY=Math.round(this.matTY*this.roundTranslation)/this.roundTranslation)),this.matrixDirty=!1},computeTranslatesOnly:function(){this.translatesOnly=0==this.rotation&&1==this.scaleX&&1==this.scaleY&&0==this.skewX&&0==this.skewY,this.translatesOnlyDirty=!1},doComputeMatrix:function(){this.translatesOnlyDirty&&(this.translatesOnly=0==this.rotation&&1==this.scaleX&&1==this.scaleY&&0==this.skewX&&0==this.skewY,this.translatesOnlyDirty=!1);var e,n,t,i,r,s=this.get_width(),h=this.get_height();this.translatesOnly?(o._matrix.tx+=this.x-this.anchorX*s,o._matrix.ty+=this.y-this.anchorY*h):((n=o._matrix).tx+=-this.anchorX*s,n.ty+=-this.anchorY*h,n.changedDirty=!0,1==this.scaleX&&1==this.scaleY||(s=this.scaleX,h=this.scaleY,(n=o._matrix).a*=s,n.b*=h,n.c*=s,n.d*=h,n.tx*=s,n.ty*=h,n.changedDirty=!0),0==this.skewX&&0==this.skewY||(n=o._matrix,s=.017453292519943295*this.skewX,h=.017453292519943295*this.skewY,(e=l._tmp).a=1,e.b=0,e.c=0,e.d=1,e.tx=0,e.ty=0,e.changedDirty=!0,e=Math.cos(h),h=Math.sin(h),t=-Math.sin(s),s=Math.cos(s),l._tmp.a=+e+-0*h,l._tmp.b=0*e+ +h,l._tmp.c=t+-0*s,l._tmp.d=0*t+ +s,t=n.a*(e=l._tmp).a+n.b*e.c,n.b=n.a*e.b+n.b*e.d,n.a=t,i=n.c*e.a+n.d*e.c,n.d=n.c*e.b+n.d*e.d,n.c=i,r=n.tx*e.a+n.ty*e.c+e.tx,n.ty=n.tx*e.b+n.ty*e.d+e.ty,n.tx=r,n.changedDirty=!0),0!=this.rotation&&(n=o._matrix,h=.017453292519943295*this.rotation,s=Math.cos(h),e=Math.sin(h),t=n.a*s-n.b*e,n.b=n.a*e+n.b*s,n.a=t,i=n.c*s-n.d*e,n.d=n.c*e+n.d*s,n.c=i,r=n.tx*s-n.ty*e,n.ty=n.tx*e+n.ty*s,n.tx=r,n.changedDirty=!0),(n=o._matrix).tx+=this.x,n.ty+=this.y,n.changedDirty=!0),null!=this.transform&&(t=o._matrix.a*this.transform.a+o._matrix.b*this.transform.c,o._matrix.b=o._matrix.a*this.transform.b+o._matrix.b*this.transform.d,o._matrix.a=t,i=o._matrix.c*this.transform.a+o._matrix.d*this.transform.c,o._matrix.d=o._matrix.c*this.transform.b+o._matrix.d*this.transform.d,o._matrix.c=i,r=o._matrix.tx*this.transform.a+o._matrix.ty*this.transform.c+this.transform.tx,o._matrix.ty=o._matrix.tx*this.transform.b+o._matrix.ty*this.transform.d+this.transform.ty,o._matrix.tx=r),null!=this.parent&&null==this.renderTarget&&(1==this.parent.matA&&0==this.parent.matB&&0==this.parent.matC&&1==this.parent.matD?(o._matrix.tx+=this.parent.matTX,o._matrix.ty+=this.parent.matTY):(r=(this.translatesOnly&&null==this.transform?(o._matrix.a=this.parent.matA,o._matrix.b=this.parent.matB,o._matrix.c=this.parent.matC,o._matrix.d=this.parent.matD):(t=o._matrix.a*this.parent.matA+o._matrix.b*this.parent.matC,o._matrix.b=o._matrix.a*this.parent.matB+o._matrix.b*this.parent.matD,o._matrix.a=t,i=o._matrix.c*this.parent.matA+o._matrix.d*this.parent.matC,o._matrix.d=o._matrix.c*this.parent.matB+o._matrix.d*this.parent.matD,o._matrix.c=i),o._matrix.tx*this.parent.matA+o._matrix.ty*this.parent.matC+this.parent.matTX),o._matrix.ty=o._matrix.tx*this.parent.matB+o._matrix.ty*this.parent.matD+this.parent.matTY,o._matrix.tx=r)),this.matA=o._matrix.a,this.matB=o._matrix.b,this.matC=o._matrix.c,this.matD=o._matrix.d,this.matTX=o._matrix.tx,this.matTY=o._matrix.ty,0<this.roundTranslation&&(1==this.roundTranslation?(this.matTX=Math.round(this.matTX),this.matTY=Math.round(this.matTY)):(this.matTX=Math.round(this.matTX*this.roundTranslation)/this.roundTranslation,this.matTY=Math.round(this.matTY*this.roundTranslation)/this.roundTranslation)),this.matrixDirty=!1},_hits:function(e,n,t){if(!t){if(this.renderTargetDirty&&this.computeRenderTarget(),null!=this.computedRenderTarget){var i=this.parent;if(null!=i)do{if(null!=i.asQuad&&i instanceof on){var l=i;if(l.get_renderTexture()==this.computedRenderTarget&&(null==qn.matchedHitVisual||l.hitVisual==qn.matchedHitVisual))return l.visualInContentHits(this,e,n)}}while(null!=(i=i.parent));return!1}if(null!=qn.matchedHitVisual&&qn.matchedHitVisual!=this)return!1}this.matrixDirty&&this.computeMatrix();t=o._matrix;t.a=this.matA,t.b=this.matB,t.c=this.matC,t.d=this.matD,t.tx=this.matTX,t.ty=this.matTY,t.changedDirty=!0;var r,s=(t=o._matrix).a*t.d-t.b*t.c;return 0==s?(t.a=t.b=t.c=t.d=0,t.tx=-t.tx,t.ty=-t.ty):(r=t.d*(s=1/s),t.d=t.a*s,t.a=r,t.b*=-s,t.c*=-s,r=-t.a*t.tx-t.c*t.ty,t.ty=-t.b*t.tx-t.d*t.ty,t.tx=r),t.changedDirty=!0,this.hitTest(e,n,o._matrix)},hitTest:function(e,n,t){var i=e*t.a+n*t.c+t.tx,e=e*t.b+n*t.d+t.ty;return 0<=i&&i<this.get_width()&&0<=e&&e<this.get_height()},get_isHitVisual:function(){return 8==(8&this.flags)},set_isHitVisual:function(e){return this.flags=e?8|this.flags:-9&this.flags,e},interceptPointerDown:function(e,n,t,i,l){return!1},interceptPointerOver:function(e,n,t){return!1},screenToVisual:function(e,n,t,i){if(null==i&&(i=!0),this.matrixDirty&&this.computeMatrix(),i&&(this.renderTargetDirty&&this.computeRenderTarget(),null!=this.computedRenderTarget)){var l=this.parent;if(null!=l)do{if(null!=l.asQuad&&l instanceof on){var r,s,h=l;if(h.get_renderTexture()==this.computedRenderTarget)return h.screenToVisual(e,n,t),(_=o._matrix).a=this.matA,_.b=this.matB,_.c=this.matC,_.d=this.matD,_.tx=this.matTX,_.ty=this.matTY,_.changedDirty=!0,0==(a=(h=o._matrix).a*h.d-h.b*h.c)?(h.a=h.b=h.c=h.d=0,h.tx=-h.tx,h.ty=-h.ty):(c=h.d*(a=1/a),h.d=h.a*a,h.a=c,h.b*=-a,h.c*=-a,u=-h.a*h.tx-h.c*h.ty,h.ty=-h.b*h.tx-h.d*h.ty,h.tx=u),h.changedDirty=!0,h=t.x,r=t.y,t.x=h*(s=o._matrix).a+r*s.c+s.tx,void(t.y=h*(s=o._matrix).b+r*s.d+s.ty)}}while(null!=(l=l.parent))}(_=o._matrix).a=this.matA,_.b=this.matB,_.c=this.matC,_.d=this.matD,_.tx=this.matTX,_.ty=this.matTY,_.changedDirty=!0;0==(a=(_=o._matrix).a*_.d-_.b*_.c)?(_.a=_.b=_.c=_.d=0,_.tx=-_.tx,_.ty=-_.ty):(c=_.d*(a=1/a),_.d=_.a*a,_.a=c,_.b*=-a,_.c*=-a,u=-_.a*_.tx-_.c*_.ty,_.ty=-_.b*_.tx-_.d*_.ty,_.tx=u),_.changedDirty=!0;var a,c,u,_=o._matrix,_=(t.x=e*_.a+n*_.c+_.tx,o._matrix);t.y=e*_.b+n*_.d+_.ty},visualToScreen:function(e,n,t,i){if(null==i&&(i=!0),this.matrixDirty&&this.computeMatrix(),i&&(this.renderTargetDirty&&this.computeRenderTarget(),null!=this.computedRenderTarget)){var l=this.parent;if(null!=l)do{if(null!=l.asQuad&&l instanceof on){var r,s=l;if(s.get_renderTexture()==this.computedRenderTarget)return(h=o._matrix).a=this.matA,h.b=this.matB,h.c=this.matC,h.d=this.matD,h.tx=this.matTX,h.ty=this.matTY,h.changedDirty=!0,t.x=e*(r=o._matrix).a+n*r.c+r.tx,t.y=e*(r=o._matrix).b+n*r.d+r.ty,void s.visualToScreen(t.x,t.y,t)}}while(null!=(l=l.parent))}(h=o._matrix).a=this.matA,h.b=this.matB,h.c=this.matC,h.d=this.matD,h.tx=this.matTX,h.ty=this.matTY,h.changedDirty=!0;var h=o._matrix,h=(t.x=e*h.a+n*h.c+h.tx,o._matrix);t.y=e*h.b+n*h.d+h.ty},visualToTransform:function(e){this.matrixDirty&&this.computeMatrix(),e.a=this.matA,e.b=this.matB,e.c=this.matC,e.d=this.matD,e.tx=this.matTX,e.ty=this.matTY,e.changedDirty=!0},computeVisibility:function(){(this._lifecycleState<0||(null!=this.parent&&this.parent.visibilityDirty&&this.parent.computeVisibility(),this.computedVisible=this.visible,this.computedAlpha=this.alpha,this.computedVisible&&(null!=this.parent&&(this.parent.computedVisible||!this.parent.inheritAlpha&&this.parent.visible&&(null==this.parent.parent||this.parent.parent.computedVisible)||(this.computedVisible=!1),this.inheritAlpha)&&(this.computedAlpha*=this.parent.computedAlpha),0==this.computedAlpha)&&4!=this.blending))&&(this.computedVisible=!1),this.visibilityDirty=!1},computeClip:function(){this.renderTargetDirty&&this.computeRenderTarget(),null!=this.parent&&this.parent.clipDirty&&this.parent.computeClip(),this.computedClip=this.clip,null==this.computedClip&&null!=this.parent&&null!=this.parent.computedClip&&this.computedRenderTarget==this.parent.computedRenderTarget&&(this.computedClip=this.parent.computedClip),this.clipDirty=!1},computeTouchable:function(){null!=this.parent&&this.parent.touchableDirty&&this.parent.computeTouchable(),this.computedTouchable=this.touchable,this.computedTouchable&&null!=this.parent&&!this.parent.computedTouchable&&(this.computedTouchable=!1),this.touchableDirty=!1},computeRenderTarget:function(){null!=this.parent&&this.parent.renderTargetDirty&&this.parent.computeRenderTarget();this.computedRenderTarget;this.computedRenderTarget=this.renderTarget,null==this.computedRenderTarget&&null!=this.parent&&null!=this.parent.computedRenderTarget&&(this.computedRenderTarget=this.parent.computedRenderTarget),this.renderTargetDirty=!1},computeContent:function(){this.contentDirty=!1},autoChildrenDepth:function(e,n){null==n&&(n=1);var t=e=null==e?1:e;if(null!=this.children)for(var i=0,l=this.children.length;i<l;){var r=i++;this.children[r].set_depth(t),t+=n}},sortChildrenByDepth:function(){var e;null!=this.children&&0<this.children.length&&(e=this.children,at.rec(e,0,e.length))},normalizeChildrenDepth:function(e,n){null==n&&(n=1),null==e&&(e=1),null!=this.children&&0<this.children.length&&(this.sortChildrenByDepth(),this.autoChildrenDepth())},hasIndirectParent:function(e){for(var n=this.parent;null!=n;){if(n==e)return!0;n=n.parent}return!1},firstParentWithClass:function(e){for(var n=this.parent;null!=n;){if(Ul.__instanceof(n,e))return n;n=n.parent}return null},add:function(e){if(e==this)throw oe.thrown("A visual cannot add itself as child!");if(null==e)throw oe.thrown("A visual cannot add a null child!");if(e._lifecycleState<0)throw oe.thrown("A visual cannot add an already destroyed child!");if(e.parent!=this){if(he.app.hierarchyDirty=!0,null!=e.parent&&e.parent.remove(e),e.parent=this,e.visibilityDirty=!0,null!=e.children)for(var n=0,t=e.children.length;n<t;){var i=n++;if((f=e.children[i]).visibilityDirty=!0,null!=f.children)for(var l=0,r=f.children.length;l<r;){var s=l++;(p=f.children[s]).set_visibilityDirty(!0)}}if(e.matrixDirty=!0,null!=e.children)for(n=0,t=e.children.length;n<t;){i=n++;if((f=e.children[i]).matrixDirty=!0,null!=f.children)for(l=0,r=f.children.length;l<r;){s=l++;(p=f.children[s]).set_matrixDirty(!0)}}if(e.renderTargetDirty=!0,e.clipDirty=!0,null!=e.children)for(n=0,t=e.children.length;n<t;){i=n++;if((f=e.children[i]).clipDirty=!0,null!=f.children)for(l=0,r=f.children.length;l<r;){s=l++;(p=f.children[s]).set_clipDirty(!0)}}if(null!=e.children)for(n=0,t=e.children.length;n<t;){i=n++;if((f=e.children[i]).renderTargetDirty=!0,f.clipDirty=!0,null!=f.children)for(l=0,r=f.children.length;l<r;){s=l++;if((p=f.children[s]).clipDirty=!0,null!=p.children)for(var h=0,a=p.children.length;h<a;){var o=h++,c=p.children[o];if(c.clipDirty=!0,null!=c.children)for(var u=0,_=c.children.length;u<_;){var d=u++;c.children[d].set_clipDirty(!0)}}}if(null!=f.children)for(var b=0,g=f.children.length;b<g;){var O=b++;f.children[O].set_renderTargetDirty(!0)}}if(null==this.children&&(this.children=[]),this.children.push(e),this.clipDirty=!0,null!=this.children)for(n=0,t=this.children.length;n<t;){var f,i=n++;if((f=this.children[i]).clipDirty=!0,null!=f.children)for(l=0,r=f.children.length;l<r;){var p,s=l++;(p=f.children[s]).set_clipDirty(!0)}}}},addBefore:function(e,n){if(e==this)throw oe.thrown("A visual cannot add itself as child!");if(null==e)throw oe.thrown("A visual cannot add a null child!");if(e._lifecycleState<0)throw oe.thrown("A visual cannot add an already destroyed child!");if(null==n)throw oe.thrown("Reference visual cannot be null!");if(n.parent!=this)throw oe.thrown("Reference visual must be a child of this visual!");if(he.app.hierarchyDirty=!0,e.parent==this){var t=this.children.indexOf(e);-1!=t&&this.children.splice(t,1)}else{if(null!=e.parent&&e.parent.remove(e),e.parent=this,e.visibilityDirty=!0,null!=e.children)for(var i=0,l=e.children.length;i<l;){var r=i++;if((C=e.children[r]).visibilityDirty=!0,null!=C.children)for(var s=0,h=C.children.length;s<h;){var a=s++;(v=C.children[a]).set_visibilityDirty(!0)}}if(e.matrixDirty=!0,null!=e.children)for(i=0,l=e.children.length;i<l;){r=i++;if((C=e.children[r]).matrixDirty=!0,null!=C.children)for(s=0,h=C.children.length;s<h;){a=s++;(v=C.children[a]).set_matrixDirty(!0)}}if(e.renderTargetDirty=!0,e.clipDirty=!0,null!=e.children)for(i=0,l=e.children.length;i<l;){r=i++;if((C=e.children[r]).clipDirty=!0,null!=C.children)for(s=0,h=C.children.length;s<h;){a=s++;(v=C.children[a]).set_clipDirty(!0)}}if(null!=e.children)for(i=0,l=e.children.length;i<l;){r=i++;if((C=e.children[r]).renderTargetDirty=!0,C.clipDirty=!0,null!=C.children)for(s=0,h=C.children.length;s<h;){a=s++;if((v=C.children[a]).clipDirty=!0,null!=v.children)for(var o=0,c=v.children.length;o<c;){var u=o++,_=v.children[u];if(_.clipDirty=!0,null!=_.children)for(var d=0,b=_.children.length;d<b;){var g=d++;_.children[g].set_clipDirty(!0)}}}if(null!=C.children)for(var O=0,f=C.children.length;O<f;){var p=O++;C.children[p].set_renderTargetDirty(!0)}}}null==this.children&&(this.children=[]);t=this.children.indexOf(n);if(-1!=t?this.children.splice(t,0,e):this.children.push(e),this.clipDirty=!0,null!=this.children)for(i=0,l=this.children.length;i<l;){var C,r=i++;if((C=this.children[r]).clipDirty=!0,null!=C.children)for(s=0,h=C.children.length;s<h;){var v,a=s++;(v=C.children[a]).set_clipDirty(!0)}}},addAfter:function(e,n){if(e==this)throw oe.thrown("A visual cannot add itself as child!");if(null==e)throw oe.thrown("A visual cannot add a null child!");if(e._lifecycleState<0)throw oe.thrown("A visual cannot add an already destroyed child!");if(null==n)throw oe.thrown("Reference visual cannot be null!");if(n.parent!=this)throw oe.thrown("Reference visual must be a child of this visual!");if(he.app.hierarchyDirty=!0,e.parent==this){var t=this.children.indexOf(e);-1!=t&&this.children.splice(t,1)}else{if(null!=e.parent&&e.parent.remove(e),e.parent=this,e.visibilityDirty=!0,null!=e.children)for(var i=0,l=e.children.length;i<l;){var r=i++;if((C=e.children[r]).visibilityDirty=!0,null!=C.children)for(var s=0,h=C.children.length;s<h;){var a=s++;(v=C.children[a]).set_visibilityDirty(!0)}}if(e.matrixDirty=!0,null!=e.children)for(i=0,l=e.children.length;i<l;){r=i++;if((C=e.children[r]).matrixDirty=!0,null!=C.children)for(s=0,h=C.children.length;s<h;){a=s++;(v=C.children[a]).set_matrixDirty(!0)}}if(e.renderTargetDirty=!0,e.clipDirty=!0,null!=e.children)for(i=0,l=e.children.length;i<l;){r=i++;if((C=e.children[r]).clipDirty=!0,null!=C.children)for(s=0,h=C.children.length;s<h;){a=s++;(v=C.children[a]).set_clipDirty(!0)}}if(null!=e.children)for(i=0,l=e.children.length;i<l;){r=i++;if((C=e.children[r]).renderTargetDirty=!0,C.clipDirty=!0,null!=C.children)for(s=0,h=C.children.length;s<h;){a=s++;if((v=C.children[a]).clipDirty=!0,null!=v.children)for(var o=0,c=v.children.length;o<c;){var u=o++,_=v.children[u];if(_.clipDirty=!0,null!=_.children)for(var d=0,b=_.children.length;d<b;){var g=d++;_.children[g].set_clipDirty(!0)}}}if(null!=C.children)for(var O=0,f=C.children.length;O<f;){var p=O++;C.children[p].set_renderTargetDirty(!0)}}}null==this.children&&(this.children=[]);t=this.children.indexOf(n);if(-1!=t?this.children.splice(t+1,0,e):this.children.push(e),this.clipDirty=!0,null!=this.children)for(i=0,l=this.children.length;i<l;){var C,r=i++;if((C=this.children[r]).clipDirty=!0,null!=C.children)for(s=0,h=C.children.length;s<h;){var v,a=s++;(v=C.children[a]).set_clipDirty(!0)}}},remove:function(e){if(he.app.hierarchyDirty=!0,null!=this.children){if(-1!=this.children.indexOf(e)?this.children.splice(this.children.indexOf(e),1):he.app.logger.warning("Cannot remove visual "+X.string(e)+", index is -1",{fileName:"../../../../ceramic/runtime/src/ceramic/Visual.hx",lineNumber:3091,className:"ceramic.Visual",methodName:"remove"}),e.parent=null,e.visibilityDirty=!0,null!=e.children)for(var n=0,t=e.children.length;n<t;){var i=n++;if((f=e.children[i]).visibilityDirty=!0,null!=f.children)for(var l=0,r=f.children.length;l<r;){var s=l++;(p=f.children[s]).set_visibilityDirty(!0)}}if(e.matrixDirty=!0,null!=e.children)for(n=0,t=e.children.length;n<t;){i=n++;if((f=e.children[i]).matrixDirty=!0,null!=f.children)for(l=0,r=f.children.length;l<r;){s=l++;(p=f.children[s]).set_matrixDirty(!0)}}if(e.renderTargetDirty=!0,e.clipDirty=!0,null!=e.children)for(n=0,t=e.children.length;n<t;){i=n++;if((f=e.children[i]).clipDirty=!0,null!=f.children)for(l=0,r=f.children.length;l<r;){s=l++;(p=f.children[s]).set_clipDirty(!0)}}if(null!=e.children)for(n=0,t=e.children.length;n<t;){i=n++;if((f=e.children[i]).renderTargetDirty=!0,f.clipDirty=!0,null!=f.children)for(l=0,r=f.children.length;l<r;){s=l++;if((p=f.children[s]).clipDirty=!0,null!=p.children)for(var h=0,a=p.children.length;h<a;){var o=h++,c=p.children[o];if(c.clipDirty=!0,null!=c.children)for(var u=0,_=c.children.length;u<_;){var d=u++;c.children[d].set_clipDirty(!0)}}}if(null!=f.children)for(var b=0,g=f.children.length;b<g;){var O=b++;f.children[O].set_renderTargetDirty(!0)}}if(e.clipDirty=!0,null!=e.children)for(n=0,t=e.children.length;n<t;){var f,i=n++;if((f=e.children[i]).clipDirty=!0,null!=f.children)for(l=0,r=f.children.length;l<r;){var p,s=l++;(p=f.children[s]).set_clipDirty(!0)}}}},contains:function(e,n){null==n&&(n=!1);for(var t=e.parent;null!=t;){if(t==this)return!0;if(t=t.parent,!n)break}return!1},computeBounds:function(){if(null==this.children)this._width=0,this._height=0;else{for(var e=999999999,t=999999999,i=-999999999.9,l=-999999999.9,r=new n,s=0,h=this.children.length;s<h;){var a=s++;if((v=this.children[a]).visible)if(null!=v.asMesh){var o=v.asMesh,c=0,u=0,_=0;if(null!=o.vertices32)for(var d=o.vertices32,b=d.length;c<b;)u=d[c],_=d[c+1],v.visualToScreen(u,_,r,!1),r.x>i&&(i=r.x),r.y>l&&(l=r.y),r.x<e&&(e=r.x),r.y<t&&(t=r.y),c+=2;else for(var g=o.vertices,O=g.length;c<O;)u=g[c],_=g[c+1],v.visualToScreen(u,_,r,!1),r.x>i&&(i=r.x),r.y>l&&(l=r.y),r.x<e&&(e=r.x),r.y<t&&(t=r.y),c+=2}else v.visualToScreen(0,0,r,!1),r.x>i&&(i=r.x),r.y>l&&(l=r.y),r.x<e&&(e=r.x),r.y<t&&(t=r.y),v.visualToScreen(v.get_width(),0,r,!1),r.x>i&&(i=r.x),r.y>l&&(l=r.y),r.x<e&&(e=r.x),r.y<t&&(t=r.y),v.visualToScreen(0,v.get_height(),r,!1),r.x>i&&(i=r.x),r.y>l&&(l=r.y),r.x<e&&(e=r.x),r.y<t&&(t=r.y),v.visualToScreen(v.get_width(),v.get_height(),r,!1),r.x>i&&(i=r.x),r.y>l&&(l=r.y),r.x<e&&(e=r.x),r.y<t&&(t=r.y)}this.visualToScreen(0,0,r,!1);var f,p=r.x,C=r.y;if(this.screenToVisual(e,t,r,!1),e=r.x,t=r.y,this.screenToVisual(i,l,r,!1),(i=r.x)<e&&(f=e,e=i,i=f),(l=r.y)<t&&(f=t,t=l,l=f),this._width=i-e,this._height=l-t,this.set_anchorX(0!=this._width?-e/this._width:0),this.set_anchorY(0!=this._height?-t/this._height:0),this.screenToVisual(p,C,r,!1),this.set_x(r.x-this._width*this.anchorX),this.set_y(r.y-this._height*this.anchorY),this.matrixDirty=!0,null!=this.children)for(s=0,h=this.children.length;s<h;){var v,a=s++;if((v=this.children[a]).matrixDirty=!0,null!=v.children)for(var w=0,m=v.children.length;w<m;){c=w++;v.children[c].set_matrixDirty(!0)}}}},bindToNativeScreenSize:function(){var t=this;he.app.screen.reverseMatrix.onChange(this,$bind(this,this._bindToNativeScreenSizeCallback)),he.app.onPreUpdate(this,function(e){var n;t.get_width()==ee.app.screenWidth&&t.get_height()==ee.app.screenHeight||(n=ee.app.screenHeight,t.set_width(ee.app.screenWidth),t.set_height(n))}),this._bindToNativeScreenSizeCallback()},_bindToNativeScreenSizeCallback:function(){null==this.transform&&this.set_transform(new l);(e=this.transform).a=1,e.b=0,e.c=0,e.d=1,e.tx=0,e.ty=0,e.changedDirty=!0;var e=this.transform,n=ee.app.screenDensity,t=ee.app.screenDensity,e=(e.a*=n,e.b*=t,e.c*=n,e.d*=t,e.tx*=n,e.ty*=t,e.changedDirty=!0,this.transform),n=he.app.screen.reverseMatrix,t=e.a*n.a+e.b*n.c,t=(e.b=e.a*n.b+e.b*n.d,e.a=t,e.c*n.a+e.d*n.c),t=(e.d=e.c*n.b+e.d*n.d,e.c=t,e.tx*n.a+e.ty*n.c+n.tx),n=(e.ty=e.tx*n.b+e.ty*n.d+n.ty,e.tx=t,e.changedDirty=!0,this.transform.changedDirty=!0,ee.app.screenHeight);this.set_width(ee.app.screenWidth),this.set_height(n)},bindToScreenSize:function(e){null==e&&(e=1);var n=this;he.app.screen.onResize(this,function(){n._bindToScreenSizeCallback(e)}),this._bindToScreenSizeCallback(e)},_bindToScreenSizeCallback:function(e){var n=he.app.screen.height*e;this.set_width(he.app.screen.width*e),this.set_height(n)},bindToTargetSize:function(){he.app.screen.onResize(this,$bind(this,this._bindToTargetSizeCallback)),this._bindToTargetSizeCallback()},_bindToTargetSizeCallback:function(){var e=he.app.screen.height;this.set_width(he.app.screen.width),this.set_height(e)},unbindEvents:function(){j.prototype.unbindEvents.call(this),this.offPointerDown(),this.offPointerUp(),this.offPointerOver(),this.offPointerOut(),this.offFocus(),this.offBlur()},__class__:o,__properties__:$extend(j.prototype.__properties__,{set_isHitVisual:"set_isHitVisual",get_isHitVisual:"get_isHitVisual",set_active:"set_active",get_active:"get_active",set_shader:"set_shader",set_transform:"set_transform",set_translateY:"set_translateY",get_translateY:"get_translateY",set_translateX:"set_translateX",get_translateX:"get_translateX",set_alpha:"set_alpha",set_rotation:"set_rotation",set_roundTranslation:"set_roundTranslation",set_height:"set_height",get_height:"get_height",set_width:"set_width",get_width:"get_width",set_anchorY:"set_anchorY",set_anchorX:"set_anchorX",set_skewY:"set_skewY",set_skewX:"set_skewX",set_scaleY:"set_scaleY",set_scaleX:"set_scaleX",set_y:"set_y",set_x:"set_x",set_depthRange:"set_depthRange",set_depth:"set_depth",set_touchable:"set_touchable",set_visible:"set_visible",set_blending:"set_blending",set_renderTarget:"set_renderTarget",set_clipDirty:"set_clipDirty",set_touchableDirty:"set_touchableDirty",set_visibilityDirty:"set_visibilityDirty",set_renderTargetDirty:"set_renderTargetDirty",set_matrixDirty:"set_matrixDirty",set_contentDirty:"set_contentDirty",set_wireframe:"set_wireframe",get_wireframe:"get_wireframe",set_inheritAlpha:"set_inheritAlpha",set_clip:"set_clip",get_isPointerOver:"get_isPointerOver",get_isPointerDown:"get_isPointerDown"})}),(E["ceramic.Quad"]=p).__name__="ceramic.Quad",p.__super__=o,p.prototype=$extend(o.prototype,{color:null,get_transparent:function(){return 16==(16&this.flags)},set_transparent:function(e){return this.flags=e?16|this.flags:-17&this.flags,e},tile:null,set_tile:function(e){var n;return this.tile!=e&&(null==(this.tile=e)?this._texture!=(n=null)&&this._set_texture(n):(this._texture!=e.texture&&(n=e.texture,this._texture!=n)&&this._set_texture(n),this.frameX=e.frameX+e.edgeInset,this.frameY=e.frameY+e.edgeInset,n=e.frameWidth-2*e.edgeInset,this.frameWidth!=n&&-1!=(this.frameWidth=n)&&this.set_width(n),n=e.frameHeight-2*e.edgeInset,this.frameHeight!=n&&-1!=(this.frameHeight=n)&&this.set_height(n),this.set_width(e.frameWidth),this.set_height(e.frameHeight),n=e.rotateFrame,this.flags=n?32|this.flags:-33&this.flags)),e},get_texture:function(){return this._texture},set_texture:function(e){return this._texture!=e&&this._set_texture(e),e},_texture:null,_set_texture:function(e){var n;null!=this._texture&&(this._texture.offDestroy($bind(this,this.textureDestroyed)),null!=this._texture.asset)&&this._texture.asset.release(),null==(this._texture=e)?(this.frameX=-1,(this.frameY=-1)!=this.frameWidth&&(this.frameWidth=-1),-1!=this.frameHeight&&(this.frameHeight=-1)):(n=null!=this.tile?(this.frameX=this.tile.frameX,this.frameY=this.tile.frameY,n=this.tile.frameWidth,this.frameWidth!=n&&-1!=(this.frameWidth=n)&&this.set_width(n),this.tile.frameHeight):(this.frameX=0,this.frameY=0,n=e.width,this.frameWidth!=n&&-1!=(this.frameWidth=n)&&this.set_width(n),e.height),this.frameHeight!=n&&-1!=(this.frameHeight=n)&&this.set_height(n),e.onDestroy(this,$bind(this,this.textureDestroyed)),null!=e.asset&&e.asset.retain())},frameX:null,frameY:null,frameWidth:null,set_frameWidth:function(e){return this.frameWidth!=e&&-1!=(this.frameWidth=e)&&this.set_width(e),e},frameHeight:null,set_frameHeight:function(e){return this.frameHeight!=e&&-1!=(this.frameHeight=e)&&this.set_height(e),e},get_rotateFrame:function(){return 32==(32&this.flags)},set_rotateFrame:function(e){return this.flags=e?32|this.flags:-33&this.flags,e},destroy:function(){this._lifecycleState<=-2||(this._lifecycleState=-2,null!=this._texture&&this._set_texture(null),this._lifecycleState=-1,o.prototype.destroy.call(this))},frame:function(e,n,t,i){this.frameX=e,this.frameY=n,this.frameWidth!=t&&-1!=(this.frameWidth=t)&&this.set_width(t),this.frameHeight!=i&&-1!=(this.frameHeight=i)&&this.set_height(i)},isRegular:function(){this.matrixDirty&&this.computeMatrix();var e=this.get_width(),n=this.get_height();return this.matC*n==0&&this.matB*e==0&&this.matC*n==0&&this.matB*e==0},computeMatrix:function(){null!=this.parent&&this.parent.matrixDirty&&this.parent.computeMatrix();var e,n,t,i,r=p._matrix,s=(r.a=1,r.b=0,r.c=0,r.d=1,r.tx=0,r.ty=0,r.changedDirty=!0,this.translatesOnlyDirty&&(this.translatesOnly=0==this.rotation&&1==this.scaleX&&1==this.scaleY&&0==this.skewX&&0==this.skewY,this.translatesOnlyDirty=!1),this.get_width()),h=this.get_height();this.translatesOnly?(o._matrix.tx+=this.x-this.anchorX*s,o._matrix.ty+=this.y-this.anchorY*h):((r=o._matrix).tx+=-this.anchorX*s,r.ty+=-this.anchorY*h,r.changedDirty=!0,1==this.scaleX&&1==this.scaleY||(s=this.scaleX,h=this.scaleY,(r=o._matrix).a*=s,r.b*=h,r.c*=s,r.d*=h,r.tx*=s,r.ty*=h,r.changedDirty=!0),0==this.skewX&&0==this.skewY||(r=o._matrix,s=.017453292519943295*this.skewX,h=.017453292519943295*this.skewY,(e=l._tmp).a=1,e.b=0,e.c=0,e.d=1,e.tx=0,e.ty=0,e.changedDirty=!0,e=Math.cos(h),h=Math.sin(h),n=-Math.sin(s),s=Math.cos(s),l._tmp.a=+e+-0*h,l._tmp.b=0*e+ +h,l._tmp.c=n+-0*s,l._tmp.d=0*n+ +s,n=r.a*(e=l._tmp).a+r.b*e.c,r.b=r.a*e.b+r.b*e.d,r.a=n,t=r.c*e.a+r.d*e.c,r.d=r.c*e.b+r.d*e.d,r.c=t,i=r.tx*e.a+r.ty*e.c+e.tx,r.ty=r.tx*e.b+r.ty*e.d+e.ty,r.tx=i,r.changedDirty=!0),0!=this.rotation&&(r=o._matrix,h=.017453292519943295*this.rotation,s=Math.cos(h),e=Math.sin(h),n=r.a*s-r.b*e,r.b=r.a*e+r.b*s,r.a=n,t=r.c*s-r.d*e,r.d=r.c*e+r.d*s,r.c=t,i=r.tx*s-r.ty*e,r.ty=r.tx*e+r.ty*s,r.tx=i,r.changedDirty=!0),(r=o._matrix).tx+=this.x,r.ty+=this.y,r.changedDirty=!0),null!=this.transform&&(n=o._matrix.a*this.transform.a+o._matrix.b*this.transform.c,o._matrix.b=o._matrix.a*this.transform.b+o._matrix.b*this.transform.d,o._matrix.a=n,t=o._matrix.c*this.transform.a+o._matrix.d*this.transform.c,o._matrix.d=o._matrix.c*this.transform.b+o._matrix.d*this.transform.d,o._matrix.c=t,i=o._matrix.tx*this.transform.a+o._matrix.ty*this.transform.c+this.transform.tx,o._matrix.ty=o._matrix.tx*this.transform.b+o._matrix.ty*this.transform.d+this.transform.ty,o._matrix.tx=i),null!=this.parent&&null==this.renderTarget&&(1==this.parent.matA&&0==this.parent.matB&&0==this.parent.matC&&1==this.parent.matD?(o._matrix.tx+=this.parent.matTX,o._matrix.ty+=this.parent.matTY):(i=(this.translatesOnly&&null==this.transform?(o._matrix.a=this.parent.matA,o._matrix.b=this.parent.matB,o._matrix.c=this.parent.matC,o._matrix.d=this.parent.matD):(n=o._matrix.a*this.parent.matA+o._matrix.b*this.parent.matC,o._matrix.b=o._matrix.a*this.parent.matB+o._matrix.b*this.parent.matD,o._matrix.a=n,t=o._matrix.c*this.parent.matA+o._matrix.d*this.parent.matC,o._matrix.d=o._matrix.c*this.parent.matB+o._matrix.d*this.parent.matD,o._matrix.c=t),o._matrix.tx*this.parent.matA+o._matrix.ty*this.parent.matC+this.parent.matTX),o._matrix.ty=o._matrix.tx*this.parent.matB+o._matrix.ty*this.parent.matD+this.parent.matTY,o._matrix.tx=i)),this.matA=o._matrix.a,this.matB=o._matrix.b,this.matC=o._matrix.c,this.matD=o._matrix.d,this.matTX=o._matrix.tx,this.matTY=o._matrix.ty,0<this.roundTranslation&&(1==this.roundTranslation?(this.matTX=Math.round(this.matTX),this.matTY=Math.round(this.matTY)):(this.matTX=Math.round(this.matTX*this.roundTranslation)/this.roundTranslation,this.matTY=Math.round(this.matTY*this.roundTranslation)/this.roundTranslation)),this.matrixDirty=!1},textureDestroyed:function(e){null!=this._texture&&this._set_texture(null),this.set_tile(null)},__class__:p,__properties__:$extend(o.prototype.__properties__,{set_rotateFrame:"set_rotateFrame",get_rotateFrame:"get_rotateFrame",set_frameHeight:"set_frameHeight",set_frameWidth:"set_frameWidth",set_texture:"set_texture",get_texture:"get_texture",set_tile:"set_tile",set_transparent:"set_transparent",get_transparent:"get_transparent"})}),(E["ceramic.Layer"]=q).__name__="ceramic.Layer",q.__super__=p,q.prototype=$extend(p.prototype,{__cbOnResize:null,__cbOnceResize:null,__cbOnOwnerUnbindResize:null,__cbOnceOwnerUnbindResize:null,emitResize:function(e,n){this.willEmitResize(e,n);var t=0;if(null!=this.__cbOnResize&&(t+=this.__cbOnResize.length),null!=this.__cbOnceResize&&(t+=this.__cbOnceResize.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnResize)for(var s=0,h=this.__cbOnResize.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnResize[a],++r):--t}if(null!=this.__cbOnceResize){for(var o=null,c=null,s=0,h=this.__cbOnceResize.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceResize[a],this.__cbOnceResize[a]=null,u=this.__cbOnceOwnerUnbindResize[a],(this.__cbOnceOwnerUnbindResize[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindResize[a]),c.push(this.__cbOnceResize[a]))}this.__cbOnceOwnerUnbindResize=o,this.__cbOnceResize=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l),l=null}this.didEmitResize(e,n)},onResize:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event resize because owner is destroyed!");var l=function(e){null!=t&&(i.offResize(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindResize&&(this.__cbOnOwnerUnbindResize=[]),this.__cbOnOwnerUnbindResize.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindResize&&(this.__cbOnOwnerUnbindResize=[]),this.__cbOnOwnerUnbindResize.push(null);null==this.__cbOnResize&&(this.__cbOnResize=[]),this.__cbOnResize.push(t)},onceResize:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event resize because owner is destroyed!");var l=function(e){null!=t&&(i.offResize(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindResize&&(this.__cbOnceOwnerUnbindResize=[]),this.__cbOnceOwnerUnbindResize.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindResize&&(this.__cbOnceOwnerUnbindResize=[]),this.__cbOnceOwnerUnbindResize.push(null);null==this.__cbOnceResize&&(this.__cbOnceResize=[]),this.__cbOnceResize.push(t)},offResize:function(e){if(null!=e){var n;null!=this.__cbOnResize&&-1!=(n=this.__cbOnResize.indexOf(e))&&(this.__cbOnResize.splice(n,1),null!=(r=this.__cbOnOwnerUnbindResize[n])&&r(),this.__cbOnOwnerUnbindResize.splice(n,1)),null!=this.__cbOnceResize&&-1!=(n=this.__cbOnceResize.indexOf(e))&&(this.__cbOnceResize.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindResize[n])&&r(),this.__cbOnceOwnerUnbindResize.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindResize){for(var t=0,i=this.__cbOnOwnerUnbindResize.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindResize[l])&&r()}this.__cbOnOwnerUnbindResize=null}if(null!=this.__cbOnceOwnerUnbindResize){for(t=0,i=this.__cbOnceOwnerUnbindResize.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindResize[l])&&r()}this.__cbOnceOwnerUnbindResize=null}this.__cbOnResize=null,this.__cbOnceResize=null}},listensResize:function(){return null!=this.__cbOnResize&&0<this.__cbOnResize.length||null!=this.__cbOnceResize&&0<this.__cbOnceResize.length},sizeDirty:null,emitResizeIfNeeded:function(){this._lifecycleState<0||!this.sizeDirty||(this.sizeDirty=!1,this.emitResize(this.get_width(),this.get_height()))},willEmitResize:function(e,n){},didEmitResize:function(e,n){},set_width:function(e){return this._width==e||(p.prototype.set_width.call(this,e),this.sizeDirty)||(this.sizeDirty=!0,he.app._onceImmediate($bind(this,this.emitResizeIfNeeded))),e},set_height:function(e){return this._height==e||(p.prototype.set_height.call(this,e),this.sizeDirty)||(this.sizeDirty=!0,he.app._onceImmediate($bind(this,this.emitResizeIfNeeded))),e},unbindEvents:function(){p.prototype.unbindEvents.call(this),this.offResize()},__class__:q}),(E["ceramic.Preloadable"]=r).__name__="ceramic.Preloadable",r.__isInterface__=!0,r.prototype={requestPreloadUpdate:null,__class__:r},(E["tracker.Observable"]=s).__name__="tracker.Observable",s.__isInterface__=!0,(E["ceramic.Scene"]=t).__name__="ceramic.Scene",t.__interfaces__=[r,s],t.__super__=q,t.prototype=$extend(q.prototype,{__cbOnObservedDirty:null,__cbOnceObservedDirty:null,__cbOnOwnerUnbindObservedDirty:null,__cbOnceOwnerUnbindObservedDirty:null,emitObservedDirty:function(e,n){var t=0;if(null!=this.__cbOnObservedDirty&&(t+=this.__cbOnObservedDirty.length),null!=this.__cbOnceObservedDirty&&(t+=this.__cbOnceObservedDirty.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnObservedDirty)for(var s=0,h=this.__cbOnObservedDirty.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnObservedDirty[a],++r):--t}if(null!=this.__cbOnceObservedDirty){for(var o=null,c=null,s=0,h=this.__cbOnceObservedDirty.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceObservedDirty[a],this.__cbOnceObservedDirty[a]=null,u=this.__cbOnceOwnerUnbindObservedDirty[a],(this.__cbOnceOwnerUnbindObservedDirty[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindObservedDirty[a]),c.push(this.__cbOnceObservedDirty[a]))}this.__cbOnceOwnerUnbindObservedDirty=o,this.__cbOnceObservedDirty=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onObservedDirty:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event observedDirty because owner is destroyed!");var l=function(e){null!=t&&(i.offObservedDirty(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push(null);null==this.__cbOnObservedDirty&&(this.__cbOnObservedDirty=[]),this.__cbOnObservedDirty.push(t)},onceObservedDirty:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event observedDirty because owner is destroyed!");var l=function(e){null!=t&&(i.offObservedDirty(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push(null);null==this.__cbOnceObservedDirty&&(this.__cbOnceObservedDirty=[]),this.__cbOnceObservedDirty.push(t)},offObservedDirty:function(e){if(null!=e){var n;null!=this.__cbOnObservedDirty&&-1!=(n=this.__cbOnObservedDirty.indexOf(e))&&(this.__cbOnObservedDirty.splice(n,1),null!=(r=this.__cbOnOwnerUnbindObservedDirty[n])&&r(),this.__cbOnOwnerUnbindObservedDirty.splice(n,1)),null!=this.__cbOnceObservedDirty&&-1!=(n=this.__cbOnceObservedDirty.indexOf(e))&&(this.__cbOnceObservedDirty.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindObservedDirty[n])&&r(),this.__cbOnceOwnerUnbindObservedDirty.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindObservedDirty){for(var t=0,i=this.__cbOnOwnerUnbindObservedDirty.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindObservedDirty[l])&&r()}this.__cbOnOwnerUnbindObservedDirty=null}if(null!=this.__cbOnceOwnerUnbindObservedDirty){for(t=0,i=this.__cbOnceOwnerUnbindObservedDirty.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindObservedDirty[l])&&r()}this.__cbOnceOwnerUnbindObservedDirty=null}this.__cbOnObservedDirty=null,this.__cbOnceObservedDirty=null}},listensObservedDirty:function(){return null!=this.__cbOnObservedDirty&&0<this.__cbOnObservedDirty.length||null!=this.__cbOnceObservedDirty&&0<this.__cbOnceObservedDirty.length},observedDirty:null,_assets:null,_assetsProgress:null,_assetsTotal:null,_assetsFailure:null,__cbOnReplace:null,__cbOnceReplace:null,__cbOnOwnerUnbindReplace:null,__cbOnceOwnerUnbindReplace:null,emitReplace:function(e){var n=0;if(null!=this.__cbOnReplace&&(n+=this.__cbOnReplace.length),null!=this.__cbOnceReplace&&(n+=this.__cbOnceReplace.length),0<n){var t=C.pool(n),i=t.get(),l=0;if(null!=this.__cbOnReplace)for(var r=0,s=this.__cbOnReplace.length;r<s;){var h=r++;!0?(i.vector[l]=this.__cbOnReplace[h],++l):--n}if(null!=this.__cbOnceReplace){for(var a=null,o=null,r=0,s=this.__cbOnceReplace.length;r<s;){var c,h=r++;!0?(i.vector[l]=this.__cbOnceReplace[h],this.__cbOnceReplace[h]=null,c=this.__cbOnceOwnerUnbindReplace[h],(this.__cbOnceOwnerUnbindReplace[h]=null)!=c&&c(),++l):(--n,null==a&&(a=[],o=[],0),a.push(this.__cbOnceOwnerUnbindReplace[h]),o.push(this.__cbOnceReplace[h]))}this.__cbOnceOwnerUnbindReplace=a,this.__cbOnceReplace=o}for(r=0,s=n;r<s;){l=r++;(0,i.vector[l])(e)}t.release(i)}},onReplace:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event replace because owner is destroyed!");var l=function(e){null!=t&&(i.offReplace(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindReplace&&(this.__cbOnOwnerUnbindReplace=[]),this.__cbOnOwnerUnbindReplace.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindReplace&&(this.__cbOnOwnerUnbindReplace=[]),this.__cbOnOwnerUnbindReplace.push(null);null==this.__cbOnReplace&&(this.__cbOnReplace=[]),this.__cbOnReplace.push(t)},onceReplace:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event replace because owner is destroyed!");var l=function(e){null!=t&&(i.offReplace(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindReplace&&(this.__cbOnceOwnerUnbindReplace=[]),this.__cbOnceOwnerUnbindReplace.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindReplace&&(this.__cbOnceOwnerUnbindReplace=[]),this.__cbOnceOwnerUnbindReplace.push(null);null==this.__cbOnceReplace&&(this.__cbOnceReplace=[]),this.__cbOnceReplace.push(t)},offReplace:function(e){if(null!=e){var n;null!=this.__cbOnReplace&&-1!=(n=this.__cbOnReplace.indexOf(e))&&(this.__cbOnReplace.splice(n,1),null!=(r=this.__cbOnOwnerUnbindReplace[n])&&r(),this.__cbOnOwnerUnbindReplace.splice(n,1)),null!=this.__cbOnceReplace&&-1!=(n=this.__cbOnceReplace.indexOf(e))&&(this.__cbOnceReplace.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindReplace[n])&&r(),this.__cbOnceOwnerUnbindReplace.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindReplace){for(var t=0,i=this.__cbOnOwnerUnbindReplace.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindReplace[l])&&r()}this.__cbOnOwnerUnbindReplace=null}if(null!=this.__cbOnceOwnerUnbindReplace){for(t=0,i=this.__cbOnceOwnerUnbindReplace.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindReplace[l])&&r()}this.__cbOnceOwnerUnbindReplace=null}this.__cbOnReplace=null,this.__cbOnceReplace=null}},listensReplace:function(){return null!=this.__cbOnReplace&&0<this.__cbOnReplace.length||null!=this.__cbOnceReplace&&0<this.__cbOnceReplace.length},statusAutoruns:null,get_status:function(){var e,n,t=this.unobservedStatus;return null!=U.current&&(e=U.current,null!=(n=this.statusAutoruns)||(n=U.getAutorunArray(),null!=(this.statusAutoruns=n)))&&e.bindToAutorunArray(n),t},set_status:function(e){var n=this.unobservedStatus;return n!=(this.unobservedStatus=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitStatusChange(e,n),null!=(n=this.statusAutoruns))&&(this.statusAutoruns=null,U.invalidateAutorunArray(n)),e},invalidateStatus:function(){var e=this.unobservedStatus,e=(this.emitStatusChange(e,e),this.statusAutoruns);null!=e&&(this.statusAutoruns=null,U.invalidateAutorunArray(e))},unobservedStatus:null,__cbOnStatusChange:null,__cbOnceStatusChange:null,__cbOnOwnerUnbindStatusChange:null,__cbOnceOwnerUnbindStatusChange:null,emitStatusChange:function(e,n){var t=0;if(null!=this.__cbOnStatusChange&&(t+=this.__cbOnStatusChange.length),null!=this.__cbOnceStatusChange&&(t+=this.__cbOnceStatusChange.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnStatusChange)for(var s=0,h=this.__cbOnStatusChange.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnStatusChange[a],++r):--t}if(null!=this.__cbOnceStatusChange){for(var o=null,c=null,s=0,h=this.__cbOnceStatusChange.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceStatusChange[a],this.__cbOnceStatusChange[a]=null,u=this.__cbOnceOwnerUnbindStatusChange[a],(this.__cbOnceOwnerUnbindStatusChange[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindStatusChange[a]),c.push(this.__cbOnceStatusChange[a]))}this.__cbOnceOwnerUnbindStatusChange=o,this.__cbOnceStatusChange=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onStatusChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event statusChange because owner is destroyed!");var l=function(e){null!=t&&(i.offStatusChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindStatusChange&&(this.__cbOnOwnerUnbindStatusChange=[]),this.__cbOnOwnerUnbindStatusChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindStatusChange&&(this.__cbOnOwnerUnbindStatusChange=[]),this.__cbOnOwnerUnbindStatusChange.push(null);null==this.__cbOnStatusChange&&(this.__cbOnStatusChange=[]),this.__cbOnStatusChange.push(t)},onceStatusChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event statusChange because owner is destroyed!");var l=function(e){null!=t&&(i.offStatusChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindStatusChange&&(this.__cbOnceOwnerUnbindStatusChange=[]),this.__cbOnceOwnerUnbindStatusChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindStatusChange&&(this.__cbOnceOwnerUnbindStatusChange=[]),this.__cbOnceOwnerUnbindStatusChange.push(null);null==this.__cbOnceStatusChange&&(this.__cbOnceStatusChange=[]),this.__cbOnceStatusChange.push(t)},offStatusChange:function(e){if(null!=e){var n;null!=this.__cbOnStatusChange&&-1!=(n=this.__cbOnStatusChange.indexOf(e))&&(this.__cbOnStatusChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindStatusChange[n])&&r(),this.__cbOnOwnerUnbindStatusChange.splice(n,1)),null!=this.__cbOnceStatusChange&&-1!=(n=this.__cbOnceStatusChange.indexOf(e))&&(this.__cbOnceStatusChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindStatusChange[n])&&r(),this.__cbOnceOwnerUnbindStatusChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindStatusChange){for(var t=0,i=this.__cbOnOwnerUnbindStatusChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindStatusChange[l])&&r()}this.__cbOnOwnerUnbindStatusChange=null}if(null!=this.__cbOnceOwnerUnbindStatusChange){for(t=0,i=this.__cbOnceOwnerUnbindStatusChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindStatusChange[l])&&r()}this.__cbOnceOwnerUnbindStatusChange=null}this.__cbOnStatusChange=null,this.__cbOnceStatusChange=null}},listensStatusChange:function(){return null!=this.__cbOnStatusChange&&0<this.__cbOnStatusChange.length||null!=this.__cbOnceStatusChange&&0<this.__cbOnceStatusChange.length},get_assets:function(){var i=this;return null==this._assets&&0<=this._lifecycleState&&(this._assets=new fe,this._assets.loadMethod=1,this._assets.scheduleMethod=1,this._assets.delayBetweenXAssets=4,this._assets.onProgress(this,function(e,n,t){i._assetsProgress=e,i._assetsTotal=n}),this._assets.onceComplete(this,function(e){e||(i._assetsFailure=!0)})),this._assets},set_assets:function(e){return this._assets=e},isRootScene:null,autoUpdate:null,autoUpdateWhenInactive:null,paused:null,_boot:function(){var e,n;0!=this.get_status()?(e=he.app.logger,n=this.get_status(),e.warning("Scene already booted! (status: "+(null==n?"null":jn.toString(n))+")",{fileName:"../../../../ceramic/runtime/src/ceramic/Scene.hx",lineNumber:151,className:"ceramic.Scene",methodName:"_boot"})):(this.set_status(1),this.preload(),this.set_status(2),null!=this._assets&&this._assets.hasAnythingToLoad()?(this._assets.onceComplete(this,$bind(this,this._handleAssetsComplete)),this._assets.load(!1,{fileName:"../../../../ceramic/runtime/src/ceramic/Scene.hx",lineNumber:162,className:"ceramic.Scene",methodName:"_boot"})):this.load($bind(this,this.internalCreate)))},internalCreate:function(){this.set_status(3);try{this.create(),this.fadeIn($bind(this,this._fadeInDone))}catch(e){Yi.lastError=e;var n=oe.caught(e).unwrap();ln.handleUncaughtError(n)}},_fadeInDone:function(){},_handleAssetsComplete:function(e){e?he.app._onceImmediateWithOwner(this,$bind(this,this.internalLoad)):he.app.logger.error("Failed to load all scene assets!",{fileName:"../../../../ceramic/runtime/src/ceramic/Scene.hx",lineNumber:196,className:"ceramic.Scene",methodName:"_handleAssetsComplete"})},internalLoad:function(){this.load($bind(this,this.internalCreate))},willEmitResize:function(e,n){this.resize(e,n)},preload:function(){},load:function(e){0<=this._lifecycleState&&e()},create:function(){},ready:function(){},update:function(e){},resize:function(e,n){},_fadeIn:function(e){e()},_fadeOut:function(e){e()},fadeIn:function(e){var n=this;this.set_status(4),this._fadeIn(function(){n.set_status(5),0<=n._lifecycleState&&(n.ready(),e())})},fadeOut:function(e){var n=this;this.set_status(6),this._fadeOut(function(){n.set_status(7),0<=n._lifecycleState&&e()})},isReady:function(){switch(this.get_status()){case 0:case 1:case 2:case 3:case 4:return!1;case 5:return!0;case 6:case 7:return!1}},scheduleOnceReady:function(t,i){var l=this;if(this._lifecycleState<0)return he.app.logger.warning("Cannot schedule callback on destroyed scene",{fileName:"../../../../ceramic/runtime/src/ceramic/Scene.hx",lineNumber:363,className:"ceramic.Scene",methodName:"scheduleOnceReady"}),!1;switch(this.get_status()){case 0:case 1:case 2:case 3:case 4:return this.onceStatusChange(t,function(e,n){l.scheduleOnceReady(t,i)}),!0;case 5:return i(),!0;case 6:case 7:var e=he.app.logger,n=this.get_status();return e.warning("Cannot schedule callback on scene with status: "+(null==n?"null":jn.toString(n)),{fileName:"../../../../ceramic/runtime/src/ceramic/Scene.hx",lineNumber:380,className:"ceramic.Scene",methodName:"scheduleOnceReady"}),!1}},requestPreloadUpdate:function(e){var n=1<=this._assetsTotal?this._assetsTotal:1;if(this._assetsFailure)e(this._assetsProgress,n,-1);else switch(this.get_status()){case 0:e(0,0,0);break;case 1:case 2:e(this._assetsProgress,n,1);break;case 3:e(n,n,1);break;case 4:case 5:case 6:case 7:e(n,n,2)}},destroy:function(){this._lifecycleState<=-2||(this._lifecycleState=-2,se.remove(Qn.get_shared().all,this),null!=this._assets&&(this._assets.destroy(),this._assets=null),this._lifecycleState=-1,q.prototype.destroy.call(this))},unbindEvents:function(){q.prototype.unbindEvents.call(this),this.offObservedDirty(),this.offStatusChange(),this.offReplace()},__class__:t,__properties__:$extend(q.prototype.__properties__,{set_assets:"set_assets",get_assets:"get_assets",set_status:"set_status",get_status:"get_status"})}),(E.MainScene=u).__name__="MainScene",u.__super__=t,u.prototype=$extend(t.prototype,{ceramicLogo:null,create:function(){this.ceramicLogo=new Re,(e=this.ceramicLogo).flags|=128,this.ceramicLogo.set_depth(2),this.ceramicLogo.set_resolution(1),(e=this.ceramicLogo).set_scaleX(2),e.set_scaleY(2);(e=this.ceramicLogo).set_anchorX(.5),e.set_anchorY(.5);var e=this.ceramicLogo,n=.75*this.get_width(),t=.5*this.get_height();e.set_x(n),e.set_y(t),this.add(this.ceramicLogo)},update:function(e){var t=this,n=250,n=(re._begin("Settings",null,n=null==n?200:n,-60001,{fileName:"../../../src/MainScene.hx",lineNumber:26,className:"MainScene",methodName:"update"}),re._check("Wireframe",function(e){var n;return null!=e?((n=t.ceramicLogo).flags=e?128|n.flags:-129&n.flags,e):128==(128&t.ceramicLogo.flags)},!1),re.slideFloat("Resolution",function(e){return null!=e?t.ceramicLogo.set_resolution(e):t.ceramicLogo.resolution},.5,4),re.slideFloat("Tilt",function(e){return null!=e?t.ceramicLogo.set_tilt(e):t.ceramicLogo.tilt},0,9),re.end(),this.ceramicLogo),i=-(this.ceramicLogo.tilt-1)*this.ceramicLogo.get_height()*this.ceramicLogo.scaleY*.0125;0==i?null!=n.transform&&0!=n.transform.ty&&(n.transform.ty=0,n.transform.changedDirty=!0):(null==n.transform&&n.set_transform(new l),n.transform.ty!=i&&(n.transform.ty=i,n.transform.changedDirty=!0))},__class__:u}),Math.__name__="Math",(E.Project=v).__name__="Project",v.__super__=j,v.prototype=$extend(j.prototype,{ready:function(){he.app.get_scenes().set_main(new u)},__class__:v}),function(){}),X=((E.Reflect=K).__name__="Reflect",K.field=function(e,n){try{return e[n]}catch(e){return Yi.lastError=e,null}},K.getProperty=function(e,n){var t;return null==e?null:!!e.__properties__&&(t=e.__properties__["get_"+n])?e[t]():e[n]},K.setProperty=function(e,n,t){var i,l=!!e.__properties__&&(i=e.__properties__["set_"+n]);l?e[i](t):e[n]=t},K.fields=function(e){var n=[];if(null!=e){var t,i=Object.prototype.hasOwnProperty;for(t in e)"__id__"!=t&&"hx__closures__"!=t&&i.call(e,t)&&n.push(t)}return n},K.isFunction=function(e){return"function"==typeof e&&!(e.__name__||e.__ename__)},K.isObject=function(e){var n;return null!=e&&("string"==(n=typeof e)||"object"==n&&null==e.__enum__||"function"==n&&null!=(e.__name__||e.__ename__))},K.deleteField=function(e,n){return!!Object.prototype.hasOwnProperty.call(e,n)&&(delete e[n],!0)},function(){}),S=((E.Std=X).__name__="Std",X.string=function(e){return Ul.__string_rec(e,"")},X.parseInt=function(e){e=parseInt(e);return isNaN(e)?null:e},(E.StringBuf=y).__name__="StringBuf",y.prototype={b:null,__class__:y},(E.StringTools=z).__name__="StringTools",z.htmlEscape=function(e,n){for(var t="",i=0,l=e;i<l.length;){var r=i++,s=(e=l).charCodeAt(r),h=(s=55296<=s&&s<=56319?s-55232<<10|1023&e.charCodeAt(1+r):s,65536<=s&&++i,s);switch(h){case 34:t+=n?"&quot;":String.fromCodePoint(h);break;case 38:t+="&amp;";break;case 39:t+=n?"&#039;":String.fromCodePoint(h);break;case 60:t+="&lt;";break;case 62:t+="&gt;";break;default:t+=String.fromCodePoint(h)}}return t},z.startsWith=function(e,n){return e.length>=n.length&&0==e.lastIndexOf(n,0)},z.endsWith=function(e,n){var t=n.length,i=e.length;return t<=i&&e.indexOf(n,i-t)==i-t},z.isSpace=function(e,n){e=se.cca(e,n);return 8<e&&e<14||32==e},z.ltrim=function(e){for(var n=e.length,t=0;t<n&&z.isSpace(e,t);)++t;return 0<t?se.substr(e,t,n-t):e},z.rtrim=function(e){for(var n=e.length,t=0;t<n&&z.isSpace(e,n-t-1);)++t;return 0<t?se.substr(e,0,n-t):e},z.trim=function(e){return z.ltrim(z.rtrim(e))},z.replace=function(e,n,t){return e.split(n).join(t)},z.hex=function(e,n){for(var t="";t="0123456789ABCDEF".charAt(15&e)+t,0<(e>>>=4););if(null!=n)for(;t.length<n;)t="0"+t;return t},Oe.ValueType={__ename__:"ValueType",__constructs__:null,TNull:{_hx_name:"TNull",_hx_index:0,__enum__:"ValueType",toString:c},TInt:{_hx_name:"TInt",_hx_index:1,__enum__:"ValueType",toString:c},TFloat:{_hx_name:"TFloat",_hx_index:2,__enum__:"ValueType",toString:c},TBool:{_hx_name:"TBool",_hx_index:3,__enum__:"ValueType",toString:c},TObject:{_hx_name:"TObject",_hx_index:4,__enum__:"ValueType",toString:c},TFunction:{_hx_name:"TFunction",_hx_index:5,__enum__:"ValueType",toString:c},TClass:((x=function(e){return{_hx_index:6,c:e,__enum__:"ValueType",toString:c}})._hx_name="TClass",x.__params__=["c"],x),TEnum:((x=function(e){return{_hx_index:7,e:e,__enum__:"ValueType",toString:c}})._hx_name="TEnum",x.__params__=["e"],x),TUnknown:{_hx_name:"TUnknown",_hx_index:8,__enum__:"ValueType",toString:c}}),A=(S.__constructs__=[S.TNull,S.TInt,S.TFloat,S.TBool,S.TObject,S.TFunction,S.TClass,S.TEnum,S.TUnknown],(E.Type=B).__name__="Type",B.createInstance=function(e,n){return new(Function.prototype.bind.apply(e,[null].concat(n)))},B.createEnum=function(e,n,t){var i=K.field(e,n);if(null==i)throw oe.thrown("No such constructor "+n);if(K.isFunction(i)){if(null==t)throw oe.thrown("Constructor "+n+" need parameters");return i.apply(e,t)}if(null!=t&&0!=t.length)throw oe.thrown("Constructor "+n+" does not need parameters");return i},B.getInstanceFields=function(e){var n,t=[];for(n in e.prototype)t.push(n);return se.remove(t,"__class__"),se.remove(t,"__properties__"),t},B.typeof=function(e){switch(typeof e){case"boolean":return S.TBool;case"function":return e.__name__||e.__ename__?S.TObject:S.TFunction;case"number":return Math.ceil(e)==e%2147483648?S.TInt:S.TFloat;case"object":var n;return null==e?S.TNull:null!=(n=e.__enum__)?S.TEnum(Oe[n]):null!=(n=Ul.getClass(e))?S.TClass(n):S.TObject;case"string":return S.TClass(String);case"undefined":return S.TNull;default:return S.TUnknown}},B.enumParameters=function(e){var n=Oe[e.__enum__].__constructs__[e._hx_index].__params__;if(null==n)return[];for(var t=[],i=0;i<n.length;){var l=n[i];++i,t.push(e[l])}return t},{}),fe=(A.toString=function(e){switch(e){case 0:return"Element";case 1:return"PCData";case 2:return"CData";case 3:return"Comment";case 4:return"DocType";case 5:return"ProcessingInstruction";case 6:return"Document"}},(E.Xml=D).__name__="Xml",D.parse=function(e){return ml.parse(e)},D.createElement=function(e){var n=new D(D.Element);if(n.nodeType!=D.Element)throw oe.thrown("Bad node type, expected Element but found "+(null==n.nodeType?"null":A.toString(n.nodeType)));return n.nodeName=e,n},D.createPCData=function(e){var n=new D(D.PCData);if(n.nodeType==D.Document||n.nodeType==D.Element)throw oe.thrown("Bad node type, unexpected "+(null==n.nodeType?"null":A.toString(n.nodeType)));return n.nodeValue=e,n},D.createCData=function(e){var n=new D(D.CData);if(n.nodeType==D.Document||n.nodeType==D.Element)throw oe.thrown("Bad node type, unexpected "+(null==n.nodeType?"null":A.toString(n.nodeType)));return n.nodeValue=e,n},D.createComment=function(e){var n=new D(D.Comment);if(n.nodeType==D.Document||n.nodeType==D.Element)throw oe.thrown("Bad node type, unexpected "+(null==n.nodeType?"null":A.toString(n.nodeType)));return n.nodeValue=e,n},D.createDocType=function(e){var n=new D(D.DocType);if(n.nodeType==D.Document||n.nodeType==D.Element)throw oe.thrown("Bad node type, unexpected "+(null==n.nodeType?"null":A.toString(n.nodeType)));return n.nodeValue=e,n},D.createProcessingInstruction=function(e){var n=new D(D.ProcessingInstruction);if(n.nodeType==D.Document||n.nodeType==D.Element)throw oe.thrown("Bad node type, unexpected "+(null==n.nodeType?"null":A.toString(n.nodeType)));return n.nodeValue=e,n},D.createDocument=function(){return new D(D.Document)},D.prototype={nodeType:null,nodeName:null,nodeValue:null,parent:null,children:null,attributeMap:null,get:function(e){if(this.nodeType!=D.Element)throw oe.thrown("Bad node type, expected Element but found "+(null==this.nodeType?"null":A.toString(this.nodeType)));return this.attributeMap.h[e]},set:function(e,n){if(this.nodeType!=D.Element)throw oe.thrown("Bad node type, expected Element but found "+(null==this.nodeType?"null":A.toString(this.nodeType)));this.attributeMap.h[e]=n},exists:function(e){if(this.nodeType!=D.Element)throw oe.thrown("Bad node type, expected Element but found "+(null==this.nodeType?"null":A.toString(this.nodeType)));return Object.prototype.hasOwnProperty.call(this.attributeMap.h,e)},attributes:function(){if(this.nodeType!=D.Element)throw oe.thrown("Bad node type, expected Element but found "+(null==this.nodeType?"null":A.toString(this.nodeType)));return new nl(this.attributeMap.h)},elements:function(){if(this.nodeType!=D.Document&&this.nodeType!=D.Element)throw oe.thrown("Bad node type, expected Element or Document but found "+(null==this.nodeType?"null":A.toString(this.nodeType)));for(var e=[],n=0,t=this.children;n<t.length;){var i=t[n];++n,i.nodeType==D.Element&&e.push(i)}return new al(e)},elementsNamed:function(e){if(this.nodeType!=D.Document&&this.nodeType!=D.Element)throw oe.thrown("Bad node type, expected Element or Document but found "+(null==this.nodeType?"null":A.toString(this.nodeType)));for(var n=[],t=0,i=this.children;t<i.length;){var l,r=i[t];if(++t,r.nodeType==D.Element){if(r.nodeType!=D.Element)throw oe.thrown("Bad node type, expected Element but found "+(null==r.nodeType?"null":A.toString(r.nodeType)));l=r.nodeName==e}else l=!1;l&&n.push(r)}return new al(n)},firstElement:function(){if(this.nodeType!=D.Document&&this.nodeType!=D.Element)throw oe.thrown("Bad node type, expected Element or Document but found "+(null==this.nodeType?"null":A.toString(this.nodeType)));for(var e=0,n=this.children;e<n.length;){var t=n[e];if(++e,t.nodeType==D.Element)return t}return null},addChild:function(e){if(this.nodeType!=D.Document&&this.nodeType!=D.Element)throw oe.thrown("Bad node type, expected Element or Document but found "+(null==this.nodeType?"null":A.toString(this.nodeType)));null!=e.parent&&e.parent.removeChild(e),this.children.push(e),e.parent=this},removeChild:function(e){if(this.nodeType!=D.Document&&this.nodeType!=D.Element)throw oe.thrown("Bad node type, expected Element or Document but found "+(null==this.nodeType?"null":A.toString(this.nodeType)));return!!se.remove(this.children,e)&&!(e.parent=null)},toString:function(){return yl.print(this)},__class__:D},function(){this.hotReload=!1,this.pendingAtlasPackers=null,this.atlasPacker=null,this.parent=null,this.reloadOnTextureDensityChange=!0,this.delayBetweenXAssets=-1,this.scheduleMethod=1,this.loadMethod=2,this.defaultImageOptions=null,this.runtimeAssets=null,this.immediate=new gn,this.assetsByKindAndName=new ue,this.addedAssets=[],j.call(this),fe.instances.push(this)}),pe=((E["ceramic.Assets"]=fe).__name__="ceramic.Assets",fe.flushAllInstancesImmediate=function(){for(var e=fe.instances.length,n=0,t=e;n<t;){var i=n++;fe._instances[i]=fe.instances[i]}for(n=0,t=e;n<t;){var i=n++,l=fe._instances[i];fe._instances[i]=null,0<=l._lifecycleState&&l.immediate.flush()}},fe.decodePath=function(e){return new Pe(e)},fe.addAssetKind=function(e,n,t,i,l){var r=fe.customAssetKinds,n=new en(e,n,t,i,l);r.h[e]=n},fe.getAssetsPath=function(){return Nn.getAssetsPath()},fe.assetNameFromPath=function(e){for(var n=fe.allByName.h,t=Object.keys(n),i=t.length,l=0;l<i;)for(var r=t[l++],s=fe.allByName.h[r],h=0,a=s.length;h<a;)if(s[h++]==e)return r;return null},fe.realAssetPath=function(e,n){return null!=n?null!=n.path?Rn.join([n.path,e]):e:e},fe.incrementReloadCount=function(e){e=Rn.normalize(e),null==fe.reloadCountByRealAssetPath&&(fe.reloadCountByRealAssetPath=new ue),Object.prototype.hasOwnProperty.call(fe.reloadCountByRealAssetPath.h,e)?fe.reloadCountByRealAssetPath.h[e]+=1:fe.reloadCountByRealAssetPath.h[e]=1},fe.getReloadCount=function(e){return e=Rn.normalize(e),null!=fe.reloadCountByRealAssetPath&&Object.prototype.hasOwnProperty.call(fe.reloadCountByRealAssetPath.h,e)?fe.reloadCountByRealAssetPath.h[e]:0},fe.__super__=j,fe.prototype=$extend(j.prototype,{__cbOnComplete:null,__cbOnceComplete:null,__cbOnOwnerUnbindComplete:null,__cbOnceOwnerUnbindComplete:null,emitComplete:function(e){var n=0;if(null!=this.__cbOnComplete&&(n+=this.__cbOnComplete.length),null!=this.__cbOnceComplete&&(n+=this.__cbOnceComplete.length),0<n){var t=C.pool(n),i=t.get(),l=0;if(null!=this.__cbOnComplete)for(var r=0,s=this.__cbOnComplete.length;r<s;){var h=r++;!0?(i.vector[l]=this.__cbOnComplete[h],++l):--n}if(null!=this.__cbOnceComplete){for(var a=null,o=null,r=0,s=this.__cbOnceComplete.length;r<s;){var c,h=r++;!0?(i.vector[l]=this.__cbOnceComplete[h],this.__cbOnceComplete[h]=null,c=this.__cbOnceOwnerUnbindComplete[h],(this.__cbOnceOwnerUnbindComplete[h]=null)!=c&&c(),++l):(--n,null==a&&(a=[],o=[],0),a.push(this.__cbOnceOwnerUnbindComplete[h]),o.push(this.__cbOnceComplete[h]))}this.__cbOnceOwnerUnbindComplete=a,this.__cbOnceComplete=o}for(r=0,s=n;r<s;){l=r++;(0,i.vector[l])(e)}t.release(i)}},onComplete:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event complete because owner is destroyed!");var l=function(e){null!=t&&(i.offComplete(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindComplete&&(this.__cbOnOwnerUnbindComplete=[]),this.__cbOnOwnerUnbindComplete.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindComplete&&(this.__cbOnOwnerUnbindComplete=[]),this.__cbOnOwnerUnbindComplete.push(null);null==this.__cbOnComplete&&(this.__cbOnComplete=[]),this.__cbOnComplete.push(t)},onceComplete:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event complete because owner is destroyed!");var l=function(e){null!=t&&(i.offComplete(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindComplete&&(this.__cbOnceOwnerUnbindComplete=[]),this.__cbOnceOwnerUnbindComplete.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindComplete&&(this.__cbOnceOwnerUnbindComplete=[]),this.__cbOnceOwnerUnbindComplete.push(null);null==this.__cbOnceComplete&&(this.__cbOnceComplete=[]),this.__cbOnceComplete.push(t)},offComplete:function(e){if(null!=e){var n;null!=this.__cbOnComplete&&-1!=(n=this.__cbOnComplete.indexOf(e))&&(this.__cbOnComplete.splice(n,1),null!=(r=this.__cbOnOwnerUnbindComplete[n])&&r(),this.__cbOnOwnerUnbindComplete.splice(n,1)),null!=this.__cbOnceComplete&&-1!=(n=this.__cbOnceComplete.indexOf(e))&&(this.__cbOnceComplete.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindComplete[n])&&r(),this.__cbOnceOwnerUnbindComplete.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindComplete){for(var t=0,i=this.__cbOnOwnerUnbindComplete.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindComplete[l])&&r()}this.__cbOnOwnerUnbindComplete=null}if(null!=this.__cbOnceOwnerUnbindComplete){for(t=0,i=this.__cbOnceOwnerUnbindComplete.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindComplete[l])&&r()}this.__cbOnceOwnerUnbindComplete=null}this.__cbOnComplete=null,this.__cbOnceComplete=null}},listensComplete:function(){return null!=this.__cbOnComplete&&0<this.__cbOnComplete.length||null!=this.__cbOnceComplete&&0<this.__cbOnceComplete.length},__cbOnUpdate:null,__cbOnceUpdate:null,__cbOnOwnerUnbindUpdate:null,__cbOnceOwnerUnbindUpdate:null,emitUpdate:function(e){var n=0;if(null!=this.__cbOnUpdate&&(n+=this.__cbOnUpdate.length),null!=this.__cbOnceUpdate&&(n+=this.__cbOnceUpdate.length),0<n){var t=C.pool(n),i=t.get(),l=0;if(null!=this.__cbOnUpdate)for(var r=0,s=this.__cbOnUpdate.length;r<s;){var h=r++;!0?(i.vector[l]=this.__cbOnUpdate[h],++l):--n}if(null!=this.__cbOnceUpdate){for(var a=null,o=null,r=0,s=this.__cbOnceUpdate.length;r<s;){var c,h=r++;!0?(i.vector[l]=this.__cbOnceUpdate[h],this.__cbOnceUpdate[h]=null,c=this.__cbOnceOwnerUnbindUpdate[h],(this.__cbOnceOwnerUnbindUpdate[h]=null)!=c&&c(),++l):(--n,null==a&&(a=[],o=[],0),a.push(this.__cbOnceOwnerUnbindUpdate[h]),o.push(this.__cbOnceUpdate[h]))}this.__cbOnceOwnerUnbindUpdate=a,this.__cbOnceUpdate=o}for(r=0,s=n;r<s;){l=r++;(0,i.vector[l])(e)}t.release(i)}},onUpdate:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event update because owner is destroyed!");var l=function(e){null!=t&&(i.offUpdate(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindUpdate&&(this.__cbOnOwnerUnbindUpdate=[]),this.__cbOnOwnerUnbindUpdate.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindUpdate&&(this.__cbOnOwnerUnbindUpdate=[]),this.__cbOnOwnerUnbindUpdate.push(null);null==this.__cbOnUpdate&&(this.__cbOnUpdate=[]),this.__cbOnUpdate.push(t)},onceUpdate:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event update because owner is destroyed!");var l=function(e){null!=t&&(i.offUpdate(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindUpdate&&(this.__cbOnceOwnerUnbindUpdate=[]),this.__cbOnceOwnerUnbindUpdate.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindUpdate&&(this.__cbOnceOwnerUnbindUpdate=[]),this.__cbOnceOwnerUnbindUpdate.push(null);null==this.__cbOnceUpdate&&(this.__cbOnceUpdate=[]),this.__cbOnceUpdate.push(t)},offUpdate:function(e){if(null!=e){var n;null!=this.__cbOnUpdate&&-1!=(n=this.__cbOnUpdate.indexOf(e))&&(this.__cbOnUpdate.splice(n,1),null!=(r=this.__cbOnOwnerUnbindUpdate[n])&&r(),this.__cbOnOwnerUnbindUpdate.splice(n,1)),null!=this.__cbOnceUpdate&&-1!=(n=this.__cbOnceUpdate.indexOf(e))&&(this.__cbOnceUpdate.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindUpdate[n])&&r(),this.__cbOnceOwnerUnbindUpdate.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindUpdate){for(var t=0,i=this.__cbOnOwnerUnbindUpdate.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindUpdate[l])&&r()}this.__cbOnOwnerUnbindUpdate=null}if(null!=this.__cbOnceOwnerUnbindUpdate){for(t=0,i=this.__cbOnceOwnerUnbindUpdate.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindUpdate[l])&&r()}this.__cbOnceOwnerUnbindUpdate=null}this.__cbOnUpdate=null,this.__cbOnceUpdate=null}},listensUpdate:function(){return null!=this.__cbOnUpdate&&0<this.__cbOnUpdate.length||null!=this.__cbOnceUpdate&&0<this.__cbOnceUpdate.length},__cbOnProgress:null,__cbOnceProgress:null,__cbOnOwnerUnbindProgress:null,__cbOnceOwnerUnbindProgress:null,emitProgress:function(e,n,t){var i=0;if(null!=this.__cbOnProgress&&(i+=this.__cbOnProgress.length),null!=this.__cbOnceProgress&&(i+=this.__cbOnceProgress.length),0<i){var l=C.pool(i),r=l.get(),s=0;if(null!=this.__cbOnProgress)for(var h=0,a=this.__cbOnProgress.length;h<a;){var o=h++;!0?(r.vector[s]=this.__cbOnProgress[o],++s):--i}if(null!=this.__cbOnceProgress){for(var c=null,u=null,h=0,a=this.__cbOnceProgress.length;h<a;){var _,o=h++;!0?(r.vector[s]=this.__cbOnceProgress[o],this.__cbOnceProgress[o]=null,_=this.__cbOnceOwnerUnbindProgress[o],(this.__cbOnceOwnerUnbindProgress[o]=null)!=_&&_(),++s):(--i,null==c&&(c=[],u=[],0),c.push(this.__cbOnceOwnerUnbindProgress[o]),u.push(this.__cbOnceProgress[o]))}this.__cbOnceOwnerUnbindProgress=c,this.__cbOnceProgress=u}for(h=0,a=i;h<a;){s=h++;(0,r.vector[s])(e,n,t)}l.release(r)}},onProgress:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event progress because owner is destroyed!");var l=function(e){null!=t&&(i.offProgress(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindProgress&&(this.__cbOnOwnerUnbindProgress=[]),this.__cbOnOwnerUnbindProgress.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindProgress&&(this.__cbOnOwnerUnbindProgress=[]),this.__cbOnOwnerUnbindProgress.push(null);null==this.__cbOnProgress&&(this.__cbOnProgress=[]),this.__cbOnProgress.push(t)},onceProgress:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event progress because owner is destroyed!");var l=function(e){null!=t&&(i.offProgress(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindProgress&&(this.__cbOnceOwnerUnbindProgress=[]),this.__cbOnceOwnerUnbindProgress.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindProgress&&(this.__cbOnceOwnerUnbindProgress=[]),this.__cbOnceOwnerUnbindProgress.push(null);null==this.__cbOnceProgress&&(this.__cbOnceProgress=[]),this.__cbOnceProgress.push(t)},offProgress:function(e){if(null!=e){var n;null!=this.__cbOnProgress&&-1!=(n=this.__cbOnProgress.indexOf(e))&&(this.__cbOnProgress.splice(n,1),null!=(r=this.__cbOnOwnerUnbindProgress[n])&&r(),this.__cbOnOwnerUnbindProgress.splice(n,1)),null!=this.__cbOnceProgress&&-1!=(n=this.__cbOnceProgress.indexOf(e))&&(this.__cbOnceProgress.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindProgress[n])&&r(),this.__cbOnceOwnerUnbindProgress.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindProgress){for(var t=0,i=this.__cbOnOwnerUnbindProgress.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindProgress[l])&&r()}this.__cbOnOwnerUnbindProgress=null}if(null!=this.__cbOnceOwnerUnbindProgress){for(t=0,i=this.__cbOnceOwnerUnbindProgress.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindProgress[l])&&r()}this.__cbOnceOwnerUnbindProgress=null}this.__cbOnProgress=null,this.__cbOnceProgress=null}},listensProgress:function(){return null!=this.__cbOnProgress&&0<this.__cbOnProgress.length||null!=this.__cbOnceProgress&&0<this.__cbOnceProgress.length},__cbOnAssetFilesChange:null,__cbOnceAssetFilesChange:null,__cbOnOwnerUnbindAssetFilesChange:null,__cbOnceOwnerUnbindAssetFilesChange:null,emitAssetFilesChange:function(e,n){var t=0;if(null!=this.__cbOnAssetFilesChange&&(t+=this.__cbOnAssetFilesChange.length),null!=this.__cbOnceAssetFilesChange&&(t+=this.__cbOnceAssetFilesChange.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnAssetFilesChange)for(var s=0,h=this.__cbOnAssetFilesChange.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnAssetFilesChange[a],++r):--t}if(null!=this.__cbOnceAssetFilesChange){for(var o=null,c=null,s=0,h=this.__cbOnceAssetFilesChange.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceAssetFilesChange[a],this.__cbOnceAssetFilesChange[a]=null,u=this.__cbOnceOwnerUnbindAssetFilesChange[a],(this.__cbOnceOwnerUnbindAssetFilesChange[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindAssetFilesChange[a]),c.push(this.__cbOnceAssetFilesChange[a]))}this.__cbOnceOwnerUnbindAssetFilesChange=o,this.__cbOnceAssetFilesChange=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onAssetFilesChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event assetFilesChange because owner is destroyed!");var l=function(e){null!=t&&(i.offAssetFilesChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindAssetFilesChange&&(this.__cbOnOwnerUnbindAssetFilesChange=[]),this.__cbOnOwnerUnbindAssetFilesChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindAssetFilesChange&&(this.__cbOnOwnerUnbindAssetFilesChange=[]),this.__cbOnOwnerUnbindAssetFilesChange.push(null);null==this.__cbOnAssetFilesChange&&(this.__cbOnAssetFilesChange=[]),this.__cbOnAssetFilesChange.push(t)},onceAssetFilesChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event assetFilesChange because owner is destroyed!");var l=function(e){null!=t&&(i.offAssetFilesChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindAssetFilesChange&&(this.__cbOnceOwnerUnbindAssetFilesChange=[]),this.__cbOnceOwnerUnbindAssetFilesChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindAssetFilesChange&&(this.__cbOnceOwnerUnbindAssetFilesChange=[]),this.__cbOnceOwnerUnbindAssetFilesChange.push(null);null==this.__cbOnceAssetFilesChange&&(this.__cbOnceAssetFilesChange=[]),this.__cbOnceAssetFilesChange.push(t)},offAssetFilesChange:function(e){if(null!=e){var n;null!=this.__cbOnAssetFilesChange&&-1!=(n=this.__cbOnAssetFilesChange.indexOf(e))&&(this.__cbOnAssetFilesChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindAssetFilesChange[n])&&r(),this.__cbOnOwnerUnbindAssetFilesChange.splice(n,1)),null!=this.__cbOnceAssetFilesChange&&-1!=(n=this.__cbOnceAssetFilesChange.indexOf(e))&&(this.__cbOnceAssetFilesChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindAssetFilesChange[n])&&r(),this.__cbOnceOwnerUnbindAssetFilesChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindAssetFilesChange){for(var t=0,i=this.__cbOnOwnerUnbindAssetFilesChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindAssetFilesChange[l])&&r()}this.__cbOnOwnerUnbindAssetFilesChange=null}if(null!=this.__cbOnceOwnerUnbindAssetFilesChange){for(t=0,i=this.__cbOnceOwnerUnbindAssetFilesChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindAssetFilesChange[l])&&r()}this.__cbOnceOwnerUnbindAssetFilesChange=null}this.__cbOnAssetFilesChange=null,this.__cbOnceAssetFilesChange=null}},listensAssetFilesChange:function(){return null!=this.__cbOnAssetFilesChange&&0<this.__cbOnAssetFilesChange.length||null!=this.__cbOnceAssetFilesChange&&0<this.__cbOnceAssetFilesChange.length},addedAssets:null,assetsByKindAndName:null,immediate:null,runtimeAssets:null,defaultImageOptions:null,loadMethod:null,scheduleMethod:null,delayBetweenXAssets:null,reloadOnTextureDensityChange:null,parent:null,atlasPacker:null,pendingAtlasPackers:null,destroy:function(){if(!(this._lifecycleState<=-2)){this._lifecycleState=-2,this._lifecycleState=-1,j.prototype.destroy.call(this),se.remove(fe.instances,this);for(var e,n=0,t=[].concat(this.addedAssets);n<t.length;){var i=t[n];++n,i.offDestroy($bind(this,this.assetDestroyed)),i.destroy()}if(this.addedAssets=null,(this.assetsByKindAndName=null)!=this.atlasPacker&&(e=this.atlasPacker,this.atlasPacker=null,e.destroy()),null!=this.pendingAtlasPackers)for(var l=this.pendingAtlasPackers,n=(this.pendingAtlasPackers=null,0),t=l.length;n<t;)l[n++].destroy()}},flush:function(){for(var e=0,n=[].concat(this.addedAssets);e<n.length;){var t=n[e];++e,0==t.refCount&&t.destroy()}},hasAsset:function(e){return-1!=this.addedAssets.indexOf(e)},_add:function(e,n,t){var i="string"==typeof e?e:K.field(e,"_id"),l=i.indexOf(":");if(-1==l)throw oe.thrown("Assets: invalid asset id: "+e);var r=se.substr(i,0,l),s=se.substr(i,l+1,null);switch(r){case"atlas":this.addAtlas(s,n,t);break;case"binary":this.addBinary(s,n,t);break;case"database":this.addDatabase(s,n,t);break;case"font":this.addFont(s,n,t);break;case"fragments":this.addFragments(s,n,t);break;case"image":this.addImage(s,n,t);break;case"shader":this.addShader(s,n,t);break;case"sound":this.addSound(s,n,t);break;case"text":this.addText(s,n,t);break;default:if(!Object.prototype.hasOwnProperty.call(fe.customAssetKinds.h,r))throw oe.thrown("Assets: invalid asset kind ("+r+") for id: "+e);fe.customAssetKinds.h[r].add(this,s,n,t)}},addAll:function(e){he.app.backend.info;for(var n,t,i=["png","jpg","jpeg"],l=["txt","json","fnt","atlas"],r=(null!=me._soundExtensions||(me._soundExtensions=[],f=new Audio,d=null!=be.navigator?be.navigator.userAgent:"",t=me.RE_OPERA.match(d)&&parseInt(me.RE_OPERA.matched(0).split("/")[1],10)<33,n=-1!=d.indexOf("Safari")&&-1==d.indexOf("Chrome"),d=me.RE_SAFARI_VERSION.match(d),n&&d&&parseInt(me.RE_SAFARI_VERSION.matched(1),10),null!=(n=f.canPlayType('audio/ogg; codecs="vorbis"'))&&"no"!=n&&""!=n&&me._soundExtensions.push("ogg"),d=f.canPlayType("audio/mpeg;"),n=f.canPlayType("audio/mp3;"),!t&&(null!=d&&"no"!=d&&""!=d||null!=n&&"no"!=n&&""!=n)&&me._soundExtensions.push("mp3"),t=f.canPlayType("audio/x-flac;"),d=f.canPlayType("audio/flac;"),(null!=t&&"no"!=t&&""!=t||null!=d&&"no"!=d&&""!=d)&&me._soundExtensions.push("flac"),n=f.canPlayType('audio/wav; codecs="1"'),t=f.canPlayType("audio/wav;"),(null!=n&&"no"!=n&&""!=n||null!=t&&"no"!=t&&""!=t)&&me._soundExtensions.push("wav")),[].concat(me._soundExtensions)),s=["frag","vert"],h=["fnt","ttf","otf"],a=["atlas"],o=["csv"],c=["fragments"],u=[],_=[],d=fe.customAssetKinds.h,E=d,b=Object.keys(d),L=b.length,g=0;g<L;){var O=E[b[g++]];u.push(O.extensions),_.push(O.add)}for(var f=fe.allByName,V=d=(f=null!=this.runtimeAssets?this.runtimeAssets.getLists().allByName:f).h,p=Object.keys(d),R=p.length,C=0;C<R;){var v=p[C++],w=v,m=V[v];if(null!=e){for(var y=!1,U=0,H=m.length;U<H;){var N=U++;if(e.match(m[N])){y=!0;break}}if(!y)continue}for(var D=Rn.extension(m[0]),T=!1,x=0,W=i.length;x<W;)if(i[x++]==D){this.addImage(w),T=!0;break}if(!T)for(var S=0,z=r.length;S<z;)if(r[S++]==D){this.addSound(w),T=!0;break}if(!T)for(var A=0,G=s.length;A<G;)if(s[A++]==D){this.addShader(w),T=!0;break}if(!T)for(var k=0,Y=h.length;k<Y;)if(h[k++]==D){this.addFont(w),T=!0;break}if(!T)for(var I=0,K=a.length;I<K;)if(a[I++]==D){this.addAtlas(w),T=!0;break}if(!T)for(var P=0,X=o.length;P<X;)if(o[P++]==D){this.addDatabase(w),T=!0;break}if(!T)for(var F=0,$=c.length;F<$;)if(c[F++]==D){this.addFragments(w),T=!0;break}if(!T)for(var B=0,j=u.length;B<j;){for(var M=B++,Q=u[M],q=0,Z=Q.length;q<Z;)if(Q[q++]==D){(0,_[M])(this,null,w,null),T=!0;break}if(T)break}if(!T)for(var J=0,ee=l.length;J<ee;)if(l[J++]==D){this.addText(w),T=!0;break}}},addImage:function(e,n,t){z.startsWith(e,"image:")&&(e=se.substr(e,6,null)),this.addAsset(new bn(e,n,t))},addFont:function(e,n,t){z.startsWith(e,"font:")&&(e=se.substr(e,5,null)),this.addAsset(new cn(e,n,t))},addAtlas:function(e,n,t){z.startsWith(e,"atlas:")&&(e=se.substr(e,6,null)),this.addAsset(new Be(e,n,t))},addText:function(e,n,t){z.startsWith(e,"text:")&&(e=se.substr(e,5,null)),this.addAsset(new dt(e,n,t))},addBinary:function(e,n,t){z.startsWith(e,"binary:")&&(e=se.substr(e,7,null)),this.addAsset(new Le(e,n,t))},addSound:function(e,n,t){z.startsWith(e,"sound:")&&(e=se.substr(e,6,null)),this.addAsset(new ot(e,n,t))},addDatabase:function(e,n,t){z.startsWith(e,"database:")&&(e=se.substr(e,9,null)),this.addAsset(new nn(e,n,t))},addFragments:function(e,n,t){z.startsWith(e,"fragments:")&&(e=se.substr(e,10,null)),this.addAsset(new un(e,n,t))},addShader:function(e,n,t){z.startsWith(e,"shader:")&&(e=se.substr(e,7,null)),this.addAsset(new lt(e,n,t))},addAsset:function(e){Object.prototype.hasOwnProperty.call(this.assetsByKindAndName.h,e.kind)||(t=this.assetsByKindAndName,i=e.kind,n=new ue,t.h[i]=n);var n,t=this.assetsByKindAndName.h[e.kind],i=(e instanceof bn&&(e.defaultImageOptions=this.defaultImageOptions),t.h[e.fullName]);if(null!=i){if(i==e)return he.app.logger.warning("Cannot add asset "+X.string(e)+" because it is already added for name: "+e.fullName+".",{fileName:"../../../../ceramic/runtime/src/ceramic/Assets.hx",lineNumber:540,className:"ceramic.Assets",methodName:"addAsset"}),i;he.app.logger.info("Replace "+X.string(i)+" with "+X.string(e),{fileName:"../../../../ceramic/runtime/src/ceramic/Assets.hx",lineNumber:537,className:"ceramic.Assets",methodName:"addAsset"}),this.removeAsset(i)}return e.onDestroy(this,$bind(this,this.assetDestroyed)),null!=(t.h[e.fullName]=e).owner&&e.owner!=this&&e.owner.removeAsset(e),this.addedAssets.push(e),e.owner=this,e.set_runtimeAssets(this.runtimeAssets),e.set_hotReload(this.hotReload),i},assetDestroyed:function(e){for(var n=null,t=0,i=this.addedAssets;t<i.length;){var l=i[t];++t,l._lifecycleState<0&&(n=null==n?[]:n).push(l)}if(null!=n)for(t=0;t<n.length;){l=n[t];++t,this.removeAsset(l)}},imageAsset:function(e,n){return this.asset(e,"image",n)},fontAsset:function(e,n){return this.asset(e,"font",n)},atlasAsset:function(e,n){return this.asset(e,"atlas",n)},textAsset:function(e,n){return this.asset(e,"text",n)},soundAsset:function(e,n){return this.asset(e,"sound",n)},databaseAsset:function(e,n){return this.asset(e,"database",n)},fragmentsAsset:function(e,n){return this.asset(e,"fragments",n)},asset:function(e,n,t){var i="string"==typeof e?e:K.field(e,"_id"),l=i.indexOf(":"),r=i;return-1!=l&&(r=i.substring(l+1),n=i.substring(0,l)),null!=t&&(r+=":"+t),null==n||null==(i=this.assetsByKindAndName.h[n])||null==(l=i.h[r])?null!=this.parent?this.parent.asset(e,n,t):null:l},removeAsset:function(e){e.offDestroy($bind(this,this.assetDestroyed));var n=this.assetsByKindAndName.h[e.kind],t=n.h[e.fullName];if(e!=t)throw oe.thrown("Cannot remove asset "+X.string(e)+" if it was not added at the first place (existing: "+X.string(t)+").");se.remove(this.addedAssets,e);t=e.fullName;Object.prototype.hasOwnProperty.call(n.h,t)&&delete n.h[t],e.owner=null},moveAll:function(e){for(var n=[].concat(this.addedAssets),t=0,i=n.length;t<i;){var l=n[t++];this.removeAsset(l),e.addAsset(l)}},hasAnythingToLoad:function(){for(var e=0,n=this.addedAssets.length;e<n;){var t=e++;if(this.addedAssets[t].get_status()==Fe.NONE)return!0}return!1},countAssetsWithStatus:function(e){for(var n=0,t=(this.addedAssets,0),i=this.addedAssets.length;t<i;){var l=t++;this.addedAssets[l].get_status()==e&&++n}return n},load:function(e,t){null==e&&(e=!0);for(var i=this,l=0,r=0,s=!0,n=[].concat(this.addedAssets),h=0;h<n.length;){var a=[n[h]];++h,a[0].get_status()==Fe.NONE&&(a[0].onceComplete(this,function(n){return function(e){e||(s=!1,he.app.logger.error("Failed to load asset "+n[0].name+" ("+X.string(n[0])+")",t)),--r,i.emitProgress(l-r,l,s),0==r&&i._prepareComplete(s)}}(a)),r+=1,l+=1)}if(0<r){if(2==this.scheduleMethod){for(var o=[],h=0;h<n.length;){var c=n[h];++h,c.get_status()==Fe.NONE&&o.push(c)}this._loadNextSerial(o,0)}else if(0<this.delayBetweenXAssets){for(o=[],h=0;h<n.length;){c=n[h];++h,c.get_status()==Fe.NONE&&o.push(c)}this._loadNextParallel(o,0)}else for(h=0;h<n.length;){c=n[h];++h,c.get_status()==Fe.NONE&&c.load()}this.immediate.flush()}else e&&he.app.logger.warning("There was no asset to load.",t),this._prepareComplete(!0)},_prepareComplete:function(e){var n=this;null!=this.pendingAtlasPackers&&0<this.pendingAtlasPackers.length?this._packNextAtlasPacker(function(){n._prepareComplete(e)}):this.emitComplete(!0)},_packNextAtlasPacker:function(n){this.pendingAtlasPackers.shift().pack(function(e){n()})},addPendingAtlasPacker:function(e){null==this.pendingAtlasPackers&&(this.pendingAtlasPackers=[]),-1==this.pendingAtlasPackers.indexOf(e)&&this.pendingAtlasPackers.push(e)},_loadNextSerial:function(n,t){var i=this,e=n.shift();e.get_status()==Fe.NONE?(e.load(),e.onceComplete(this,function(e){i._assetCompleteSerial(e,n,t)})):0<n.length&&this._loadNextSerial(n,t)},_assetCompleteSerial:function(e,n,t){var i=this;t+=1,0<n.length&&(0<this.delayBetweenXAssets&&0<t&&t%this.delayBetweenXAssets==0?he.app.onceXUpdates(this,2,function(){i._loadNextSerial(n,t)}):this._loadNextSerial(n,t))},_loadNextParallel:function(e,n){var t=this;0<e.length&&(1<(n+=1)&&n%this.delayBetweenXAssets==0?he.app.onceXUpdates(this,2,function(){e.shift().load(),t._loadNextParallel(e,n)}):(e.shift().load(),this._loadNextParallel(e,n)))},ensure:function(e,n,t,i){var l=this.asset(e,null,n),r=null;null==(r=null==l?(this._add(e,n,t),this.asset(e,null,n)):l)?i(null):r.get_status()==Fe.READY?i(r):r.get_status()==Fe.LOADING||r.get_status()==Fe.NONE?(r.onceComplete(null,function(e){i(e?r:null)}),r.get_status()==Fe.NONE&&this.load(null,{fileName:"../../../../ceramic/runtime/src/ceramic/Assets.hx",lineNumber:941,className:"ceramic.Assets",methodName:"ensure"})):i(null)},ensureImage:function(e,n,t,i){z.startsWith(e,"image:")||(e="image:"+e),this.ensure(e,n,t,function(e){i(e instanceof bn?e:null)})},ensureFont:function(e,n,t,i){z.startsWith(e,"font:")||(e="font:"+e),this.ensure(e,n,t,function(e){i(e instanceof cn?e:null)})},ensureAtlas:function(e,n,t,i){z.startsWith(e,"atlas:")||(e="atlas:"+e),this.ensure(e,n,t,function(e){i(e instanceof Be?e:null)})},ensureText:function(e,n,t,i){z.startsWith(e,"text:")||(e="text:"+e),this.ensure(e,n,t,function(e){i(e instanceof dt?e:null)})},ensureSound:function(e,n,t,i){z.startsWith(e,"sound:")||(e="sound:"+e),this.ensure(e,n,t,function(e){i(e instanceof ot?e:null)})},ensureDatabase:function(e,n,t,i){z.startsWith(e,"database:")||(e="database:"+e),this.ensure(e,n,t,function(e){i(e instanceof nn?e:null)})},texture:function(e,n){var t=e;return z.startsWith(t,"image:")&&(t=se.substr(t,6,null)),null!=n&&(t+=":"+n),!Object.prototype.hasOwnProperty.call(this.assetsByKindAndName.h,"image")||null==(t=this.assetsByKindAndName.h.image.h[t])?null!=this.parent?this.parent.texture(e,n):null:t.get_texture()},font:function(e,n){var t=e;return z.startsWith(t,"font:")&&(t=se.substr(t,5,null)),null!=n&&(t+=":"+n),!Object.prototype.hasOwnProperty.call(this.assetsByKindAndName.h,"font")||null==(t=this.assetsByKindAndName.h.font.h[t])?null!=this.parent?this.parent.font(e,n):null:t.get_font()},atlas:function(e,n){var t=e;return z.startsWith(t,"atlas:")&&(t=se.substr(t,6,null)),null!=n&&(t+=":"+n),!Object.prototype.hasOwnProperty.call(this.assetsByKindAndName.h,"atlas")||null==(t=this.assetsByKindAndName.h.atlas.h[t])?null!=this.parent?this.parent.atlas(e,n):null:t.get_atlas()},sound:function(e,n){var t=e;return z.startsWith(t,"sound:")&&(t=se.substr(t,6,null)),null!=n&&(t+=":"+n),!Object.prototype.hasOwnProperty.call(this.assetsByKindAndName.h,"sound")||null==(t=this.assetsByKindAndName.h.sound.h[t])?null!=this.parent?this.parent.sound(e,n):null:t.get_sound()},text:function(e,n){var t=e;return z.startsWith(t,"text:")&&(t=se.substr(t,5,null)),null!=n&&(t+=":"+n),!Object.prototype.hasOwnProperty.call(this.assetsByKindAndName.h,"text")||null==(t=this.assetsByKindAndName.h.text.h[t])?null!=this.parent?this.parent.text(e,n):null:t.get_text()},bytes:function(e,n){var t=e;return z.startsWith(t,"binary:")&&(t=se.substr(t,7,null)),null!=n&&(t+=":"+n),!Object.prototype.hasOwnProperty.call(this.assetsByKindAndName.h,"binary")||null==(t=this.assetsByKindAndName.h.binary.h[t])?null!=this.parent?this.parent.bytes(e,n):null:t.get_bytes()},_shaderFromClass:function(e){var e=e.__name__.split("."),n=(n=e.pop()).charAt(0).toLowerCase()+se.substr(n,1,null),e=0<e.length?e.join("_")+"_"+n:n;return this._shader("shader:"+e,null)},_shader:function(e,n){var t=e;return z.startsWith(t,"shader:")&&(t=se.substr(t,7,null)),null!=n&&(t+=":"+n),!Object.prototype.hasOwnProperty.call(this.assetsByKindAndName.h,"shader")||null==(t=this.assetsByKindAndName.h.shader.h[t])?null!=this.parent?this.parent._shader(e,n):null:t.get_shader()},database:function(e,n){var t=e;return z.startsWith(t,"database:")&&(t=se.substr(t,9,null)),null!=n&&(t+=":"+n),!Object.prototype.hasOwnProperty.call(this.assetsByKindAndName.h,"database")||null==(t=this.assetsByKindAndName.h.database.h[t])?null!=this.parent?this.parent.database(e,n):null:t.get_database()},fragments:function(e,n){var t=e;return z.startsWith(t,"fragments:")&&(t=se.substr(t,10,null)),null!=n&&(t+=":"+n),!Object.prototype.hasOwnProperty.call(this.assetsByKindAndName.h,"fragments")||null==(t=this.assetsByKindAndName.h.fragments.h[t])?null!=this.parent?this.parent.fragments(e,n):null:t.get_fragments()},iterator:function(){for(var e=[],n=this.assetsByKindAndName.h,t=n,i=Object.keys(n),l=i.length,r=0;r<l;)for(var s=n=t[i[r++]].h,h=Object.keys(n),a=h.length,o=0;o<a;){var c=s[h[o++]];e.push(c)}return new al(e)},hotReload:null,set_hotReload:function(e){if(this.hotReload!=e){this.hotReload=e;for(var n=0,t=this.addedAssets;n<t.length;){var i=t[n];++n,i.set_hotReload(e)}}return e},watchDirectory:function(d,e){null==e&&(e=!0);var b=this;if(null!=this.runtimeAssets)throw oe.thrown("There is already an instance of RuntimeAssets assigned. Cannot watch a directory, which also need its own instance");if(null==d)throw oe.thrown("Cannot watch directory when using web target! (unless using electron runner and `ceramic_use_electron` define)");null==this.defaultImageOptions&&(this.defaultImageOptions={}),this.defaultImageOptions.premultiplyAlpha=!0,e&&this.set_hotReload(e),this.runtimeAssets=$n.fromPath(d);var n=new Lt;return n.watchDirectory(d),n.onDirectoryChange(this,function(e,n,t){if(null==b.runtimeAssets?he.app.logger.warning("Missing instance of RuntimeAssets when watched directory changed (path: "+d+")",{fileName:"../../../../ceramic/runtime/src/ceramic/Assets.hx",lineNumber:1307,className:"ceramic.Assets",methodName:"watchDirectory"}):b.runtimeAssets.reset(an.getFlatDirectory(d),d),null==fe.lastModifiedByRealAssetPath){fe.lastModifiedByRealAssetPath=new ue;for(var i=o=t.h,l=(c=Object.keys(o)).length,r=0;r<l;){var s=_=c[r++],h=i[_],a=fe.realAssetPath(s,b.runtimeAssets);fe.lastModifiedByRealAssetPath.h[a]=h}}for(var o,c,u=new ue,i=o=n.h,l=(c=Object.keys(o)).length,r=0;r<l;){var _,s=_=c[r++],h=i[_],a=fe.realAssetPath(s,b.runtimeAssets);u.h[a]=h,Object.prototype.hasOwnProperty.call(fe.lastModifiedByRealAssetPath.h,a)&&h!=fe.lastModifiedByRealAssetPath.h[a]&&fe.incrementReloadCount(a)}fe.lastModifiedByRealAssetPath=u,b.emitAssetFilesChange(n,t)}),this.onDestroy(n,function(e){n.destroy()}),n},inheritRuntimeAssetsFromAssets:function(e){this.runtimeAssets=e.runtimeAssets,this.defaultImageOptions=e.defaultImageOptions},unbindEvents:function(){j.prototype.unbindEvents.call(this),this.offComplete(),this.offUpdate(),this.offProgress(),this.offAssetFilesChange()},__class__:fe,__properties__:$extend(j.prototype.__properties__,{set_hotReload:"set_hotReload"})}),(E["assets.AllAssets"]=F).__name__="assets.AllAssets",F.bind=function(){fe.all=F.all,fe.allDirs=F.allDirs,fe.allDirsByName=F.allDirsByName,fe.allByName=F.allByName},(E["spec.Audio"]=G).__name__="spec.Audio",G.__isInterface__=!0,G.prototype={load:null,createFromSamplesBuffer:null,supportsHotReloadPath:null,getDuration:null,resumeAudioContext:null,destroy:null,mute:null,play:null,pause:null,resume:null,stop:null,getVolume:null,setVolume:null,getPan:null,setPan:null,getPitch:null,setPitch:null,getPosition:null,setPosition:null,addFilter:null,removeFilter:null,filterParamsChanged:null,__class__:G},(E["backend.Audio"]=H).__name__="backend.Audio",H.__interfaces__=[G],H._clayFilterCreate=function(e,n){var t;if(t=H.activeBusFilters.length>e&&null!=(t=H.activeBusFilters[e])&&t,H.activeBusFilters[e]=!0,!t&&H.busFilterReadyCallbacks.length>e&&0<H.busFilterReadyCallbacks[e].length){for(var i=[];0<H.busFilterReadyCallbacks[e].length;)i.push(H.busFilterReadyCallbacks[e].shift());H._notifyCallbacksInMainThread(i)}},H._notifyCallbacksInMainThread=function(i){Xn.runInMain(function(){for(var e=0,n=i.length;e<n;){var t=e++;(0,i[t])()}})},H._clayFilterDestroy=function(e,n){H.activeBusFilters[e]=!1},H.prototype={load:function(o,e,n){function sI(e){function BI(){n(e),n=null}null!=r?r.push(BI):he.app._onceImmediate(BI)}var t,i,c=this,l=null!=e&&2==e.loadMethod,r=null!=e?e.immediate:null,e=null!=e&&1==e.stream,s=z.startsWith(o,"http://")||z.startsWith(o,"https://");Rn.isAbsolute(o)||s||(o=Rn.join([he.app.settings.assetsPath,o])),Object.prototype.hasOwnProperty.call(this.loadedAudioResources.h,o)?(this.loadedAudioRetainCount.h[o]+=1,t=this.loadedAudioResources.h[o],sI(t)):Object.prototype.hasOwnProperty.call(this.loadingAudioCallbacks.h,o)?this.loadingAudioCallbacks.h[o].push(function(e){var n;null!=e&&(n=Object.prototype.hasOwnProperty.call(c.loadedAudioRetainCount.h,o)?c.loadedAudioRetainCount.h[o]:0,c.loadedAudioRetainCount.h[o]=n+1),sI(e)}):(t=o,s||-1!=(i=t.indexOf("?"))&&(t=se.substr(t,0,i)),this.loadingAudioCallbacks.h[o]=[function(e){var n;null!=e&&(n=Object.prototype.hasOwnProperty.call(c.loadedAudioRetainCount.h,o)?c.loadedAudioRetainCount.h[o]:0,c.loadedAudioRetainCount.h[o]=n+1),sI(e)}],i=s?t:ee.app.assets.fullPath(t),ee.app.audio.loadData(i,e,null,!l,function(e){if(null==e)for(var n=c.loadingAudioCallbacks.h[o],t=c.loadingAudioCallbacks,i=(Object.prototype.hasOwnProperty.call(t.h,o)&&delete t.h[o],0);i<n.length;){var l=n[i];++i;try{l(null)}catch(e){Yi.lastError=e;l=[oe.caught(e).unwrap()];he.app._onceImmediate(function(e){return function(){throw oe.thrown(e[0])}}(l))}}else for(var r=new $t(ee.app,e),s=(c.loadedAudioResources.h[o]=r,c.loadingAudioCallbacks.h[o]),t=c.loadingAudioCallbacks,h=(Object.prototype.hasOwnProperty.call(t.h,o)&&delete t.h[o],0);h<s.length;){var a=s[h];++h,a(r)}}),null!=r?r.push(Wt.flush):he.app._onceImmediate(Wt.flush))},nextSamplesBufferIndex:null,createFromSamplesBuffer:function(e,n,t,i,l){var r="samples:"+this.nextSamplesBufferIndex++,e=ee.app.audio.dataFromPCM(r,e,n,t,i,l);return null!=e?(n=new $t(ee.app,e),this.loadedAudioResources.h[r]=n,this.loadedAudioRetainCount.h[r]=1,n):null},getDuration:function(e){return e.getDuration()},resumeAudioContext:function(e){var n=ee.app.audio;if(null!=n)try{n.context.resume().then(function(){e(!0)},function(){e(!1)})}catch(e){Yi.lastError=e;n=oe.caught(e).unwrap();he.app.logger.error("Failed to resume audio context: "+X.string(n),{fileName:"../../../../ceramic/plugins/clay/runtime/src/backend/Audio.hx",lineNumber:242,className:"backend.Audio",methodName:"resumeAudioContext"})}},supportsHotReloadPath:function(){return!0},destroy:function(e){for(var n=null,t=this.loadedAudioResources.h,i=t,l=Object.keys(t),r=l.length,s=0;s<r;){var h=l[s++];i[h]==e&&(n=h)}null==n?he.app.logger.error("Failed to destroy audio resource: "+X.string(e)+" because id could not be resolved",{fileName:"../../../../ceramic/plugins/clay/runtime/src/backend/Audio.hx",lineNumber:284,className:"backend.Audio",methodName:"destroy"}):1<this.loadedAudioRetainCount.h[n]?--this.loadedAudioRetainCount.h[n]:(t=this.loadedAudioResources,Object.prototype.hasOwnProperty.call(t.h,n)&&delete t.h[n],t=this.loadedAudioRetainCount,Object.prototype.hasOwnProperty.call(t.h,n)&&delete t.h[n],e.destroy())},mute:function(e){return-1},play:function(e,n,t,i,l,r,s){var h;return null==s&&(s=0),null==l&&(l=0),null==i&&(i=1),null==t&&(t=0),null==n&&(n=.5),ee.app.audio.active?((e=e).data.isStream&&(i=1,t=l=0),h=(r=(h=null)==r?!1:r)?ee.app.audio.loop(e,n,!1,s):ee.app.audio.play(e,n,!1,s),0!=t&&ee.app.audio.pan(h,t),1!=i&&ee.app.audio.pitch(h,i),0!=l&&ee.app.audio.position(h,l),h):-1},pause:function(e){ee.app.audio.active&&null!=e&&-1!=e&&ee.app.audio.pause(e)},resume:function(e){ee.app.audio.active&&null!=e&&-1!=e&&ee.app.audio.unPause(e)},stop:function(e){ee.app.audio.active&&null!=e&&-1!=e&&null!=e&&-1!=e&&ee.app.audio.stop(e)},getVolume:function(e){return!ee.app.audio.active||null==e||-1==e?0:ee.app.audio.volumeOf(e)},setVolume:function(e,n){ee.app.audio.active&&null!=e&&-1!=e&&ee.app.audio.volume(e,n)},getPan:function(e){return!ee.app.audio.active||null==e||-1==e?0:ee.app.audio.panOf(e)},setPan:function(e,n){var t;!ee.app.audio.active||null==e||-1==e||null!=(t=ee.app.audio.instanceOf(e))&&t.source.data.isStream||ee.app.audio.pan(e,n)},getPitch:function(e){return!ee.app.audio.active||null==e||-1==e?1:ee.app.audio.pitchOf(e)},setPitch:function(e,n){var t;!ee.app.audio.active||null==e||-1==e||null!=(t=ee.app.audio.instanceOf(e))&&t.source.data.isStream||ee.app.audio.pitch(e,n)},getPosition:function(e){return!ee.app.audio.active||null==e||-1==e?0:ee.app.audio.positionOf(e)},setPosition:function(e,n){var t;!ee.app.audio.active||null==e||-1==e||null!=(t=ee.app.audio.instanceOf(e))&&t.source.data.isStream||ee.app.audio.position(e,n)},addFilter:function(e,n,t){var i=new Et(function(){t(e)}),l=i.callback(),i=i.callback(),r=!1,s=H.filterIdsByBus[e],h=(null==s&&(H.filterIdsByBus[e]=s=[],r=!0),n.workletClass()),a=(s.push(new pe(n.filterId,null,null,h,n)),function(){ee.app.audio.addBusFilterWorklet(e,n.filterId,h,function(){l()})});r&&ee.app.audio.createBusFilter("audio-worklets.min.js",e,function(e,n){H._clayFilterCreate(e,n),null!=a&&(e=a,a=null,e())},H._clayFilterDestroy),H.activeBusFilters.length>e&&null!=(s=H.activeBusFilters[e])&&s?i():(null==H.busFilterReadyCallbacks[e]&&(H.busFilterReadyCallbacks[e]=[]),H.busFilterReadyCallbacks[e].push(i))},removeFilter:function(e,n){var t=H.filterIdsByBus[e];if(null!=t){for(var i=-1,l=0,r=t.length;l<r;){var s=l++,h=t[s];if(h.id==n){i=s,0;break}}-1!=i&&t.splice(i,1)}ee.app.audio.destroyBusFilterWorklet(e,n)},filterParamsChanged:function(e,n){var t=H.filterIdsByBus[e];if(null!=t)for(var i=0,l=0,r=t.length;l<r;){var s=t[l++],h=s.filter;if(s.id==n){for(var a=0,o=h.numParams();a<o;){var c=a++;ee.app.audio.setWorkletParameterByIndexWhenReady(e,i,h.params[c]),++i}break}i+=h.numParams()}},loadingAudioCallbacks:null,loadedAudioResources:null,loadedAudioRetainCount:null,__class__:H},function(e,n,t,i,l){this.worklet=null,this.paramsDirty=!0,this.id=e,null!=n&&(this.paramsDirty=n),null!=t&&(this.worklet=t),this.workletClass=i,this.filter=l}),Ce=((E["backend.AudioFilterInfo"]=pe).__name__="backend.AudioFilterInfo",pe.prototype={id:null,paramsDirty:null,worklet:null,workletClass:null,filter:null,__class__:pe},(E["spec.Backend"]=L).__name__="spec.Backend",L.__isInterface__=!0,L.prototype={init:null,setTargetFps:null,io:null,info:null,audio:null,draw:null,texts:null,binaries:null,textures:null,screen:null,textInput:null,clipboard:null,__class__:L},(E["backend.Backend"]=M).__name__="backend.Backend",M.__interfaces__=[L,i],M.prototype={io:null,info:null,audio:null,draw:null,texts:null,binaries:null,textures:null,shaders:null,screen:null,input:null,textInput:null,clipboard:null,init:function(e){},setTargetFps:function(e){ee.app.config.updateRate=0<e?1/e:0},__cbOnReady:null,__cbOnceReady:null,__cbOnOwnerUnbindReady:null,__cbOnceOwnerUnbindReady:null,emitReady:function(){var e=0;if(null!=this.__cbOnReady&&(e+=this.__cbOnReady.length),null!=this.__cbOnceReady&&(e+=this.__cbOnceReady.length),0<e){var n=C.pool(e),t=n.get(),i=0;if(null!=this.__cbOnReady)for(var l=0,r=this.__cbOnReady.length;l<r;){var s=l++;!0?(t.vector[i]=this.__cbOnReady[s],++i):--e}if(null!=this.__cbOnceReady){for(var h=null,a=null,l=0,r=this.__cbOnceReady.length;l<r;){var o,s=l++;!0?(t.vector[i]=this.__cbOnceReady[s],this.__cbOnceReady[s]=null,o=this.__cbOnceOwnerUnbindReady[s],(this.__cbOnceOwnerUnbindReady[s]=null)!=o&&o(),++i):(--e,null==h&&(h=[],a=[],0),h.push(this.__cbOnceOwnerUnbindReady[s]),a.push(this.__cbOnceReady[s]))}this.__cbOnceOwnerUnbindReady=h,this.__cbOnceReady=a}for(l=0,r=e;l<r;){i=l++;(0,t.vector[i])()}n.release(t)}},onReady:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event ready because owner is destroyed!");var l=function(e){null!=t&&(i.offReady(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindReady&&(this.__cbOnOwnerUnbindReady=[]),this.__cbOnOwnerUnbindReady.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindReady&&(this.__cbOnOwnerUnbindReady=[]),this.__cbOnOwnerUnbindReady.push(null);null==this.__cbOnReady&&(this.__cbOnReady=[]),this.__cbOnReady.push(t)},onceReady:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event ready because owner is destroyed!");var l=function(e){null!=t&&(i.offReady(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindReady&&(this.__cbOnceOwnerUnbindReady=[]),this.__cbOnceOwnerUnbindReady.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindReady&&(this.__cbOnceOwnerUnbindReady=[]),this.__cbOnceOwnerUnbindReady.push(null);null==this.__cbOnceReady&&(this.__cbOnceReady=[]),this.__cbOnceReady.push(t)},offReady:function(e){if(null!=e){var n;null!=this.__cbOnReady&&-1!=(n=this.__cbOnReady.indexOf(e))&&(this.__cbOnReady.splice(n,1),null!=(r=this.__cbOnOwnerUnbindReady[n])&&r(),this.__cbOnOwnerUnbindReady.splice(n,1)),null!=this.__cbOnceReady&&-1!=(n=this.__cbOnceReady.indexOf(e))&&(this.__cbOnceReady.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindReady[n])&&r(),this.__cbOnceOwnerUnbindReady.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindReady){for(var t=0,i=this.__cbOnOwnerUnbindReady.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindReady[l])&&r()}this.__cbOnOwnerUnbindReady=null}if(null!=this.__cbOnceOwnerUnbindReady){for(t=0,i=this.__cbOnceOwnerUnbindReady.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindReady[l])&&r()}this.__cbOnceOwnerUnbindReady=null}this.__cbOnReady=null,this.__cbOnceReady=null}},listensReady:function(){return null!=this.__cbOnReady&&0<this.__cbOnReady.length||null!=this.__cbOnceReady&&0<this.__cbOnceReady.length},__cbOnUpdate:null,__cbOnceUpdate:null,__cbOnOwnerUnbindUpdate:null,__cbOnceOwnerUnbindUpdate:null,emitUpdate:function(e){var n=0;if(null!=this.__cbOnUpdate&&(n+=this.__cbOnUpdate.length),null!=this.__cbOnceUpdate&&(n+=this.__cbOnceUpdate.length),0<n){var t=C.pool(n),i=t.get(),l=0;if(null!=this.__cbOnUpdate)for(var r=0,s=this.__cbOnUpdate.length;r<s;){var h=r++;!0?(i.vector[l]=this.__cbOnUpdate[h],++l):--n}if(null!=this.__cbOnceUpdate){for(var a=null,o=null,r=0,s=this.__cbOnceUpdate.length;r<s;){var c,h=r++;!0?(i.vector[l]=this.__cbOnceUpdate[h],this.__cbOnceUpdate[h]=null,c=this.__cbOnceOwnerUnbindUpdate[h],(this.__cbOnceOwnerUnbindUpdate[h]=null)!=c&&c(),++l):(--n,null==a&&(a=[],o=[],0),a.push(this.__cbOnceOwnerUnbindUpdate[h]),o.push(this.__cbOnceUpdate[h]))}this.__cbOnceOwnerUnbindUpdate=a,this.__cbOnceUpdate=o}for(r=0,s=n;r<s;){l=r++;(0,i.vector[l])(e)}t.release(i)}},onUpdate:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event update because owner is destroyed!");var l=function(e){null!=t&&(i.offUpdate(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindUpdate&&(this.__cbOnOwnerUnbindUpdate=[]),this.__cbOnOwnerUnbindUpdate.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindUpdate&&(this.__cbOnOwnerUnbindUpdate=[]),this.__cbOnOwnerUnbindUpdate.push(null);null==this.__cbOnUpdate&&(this.__cbOnUpdate=[]),this.__cbOnUpdate.push(t)},onceUpdate:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event update because owner is destroyed!");var l=function(e){null!=t&&(i.offUpdate(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindUpdate&&(this.__cbOnceOwnerUnbindUpdate=[]),this.__cbOnceOwnerUnbindUpdate.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindUpdate&&(this.__cbOnceOwnerUnbindUpdate=[]),this.__cbOnceOwnerUnbindUpdate.push(null);null==this.__cbOnceUpdate&&(this.__cbOnceUpdate=[]),this.__cbOnceUpdate.push(t)},offUpdate:function(e){if(null!=e){var n;null!=this.__cbOnUpdate&&-1!=(n=this.__cbOnUpdate.indexOf(e))&&(this.__cbOnUpdate.splice(n,1),null!=(r=this.__cbOnOwnerUnbindUpdate[n])&&r(),this.__cbOnOwnerUnbindUpdate.splice(n,1)),null!=this.__cbOnceUpdate&&-1!=(n=this.__cbOnceUpdate.indexOf(e))&&(this.__cbOnceUpdate.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindUpdate[n])&&r(),this.__cbOnceOwnerUnbindUpdate.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindUpdate){for(var t=0,i=this.__cbOnOwnerUnbindUpdate.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindUpdate[l])&&r()}this.__cbOnOwnerUnbindUpdate=null}if(null!=this.__cbOnceOwnerUnbindUpdate){for(t=0,i=this.__cbOnceOwnerUnbindUpdate.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindUpdate[l])&&r()}this.__cbOnceOwnerUnbindUpdate=null}this.__cbOnUpdate=null,this.__cbOnceUpdate=null}},listensUpdate:function(){return null!=this.__cbOnUpdate&&0<this.__cbOnUpdate.length||null!=this.__cbOnceUpdate&&0<this.__cbOnceUpdate.length},__cbOnRender:null,__cbOnceRender:null,__cbOnOwnerUnbindRender:null,__cbOnceOwnerUnbindRender:null,emitRender:function(){var e=0;if(null!=this.__cbOnRender&&(e+=this.__cbOnRender.length),null!=this.__cbOnceRender&&(e+=this.__cbOnceRender.length),0<e){var n=C.pool(e),t=n.get(),i=0;if(null!=this.__cbOnRender)for(var l=0,r=this.__cbOnRender.length;l<r;){var s=l++;!0?(t.vector[i]=this.__cbOnRender[s],++i):--e}if(null!=this.__cbOnceRender){for(var h=null,a=null,l=0,r=this.__cbOnceRender.length;l<r;){var o,s=l++;!0?(t.vector[i]=this.__cbOnceRender[s],this.__cbOnceRender[s]=null,o=this.__cbOnceOwnerUnbindRender[s],(this.__cbOnceOwnerUnbindRender[s]=null)!=o&&o(),++i):(--e,null==h&&(h=[],a=[],0),h.push(this.__cbOnceOwnerUnbindRender[s]),a.push(this.__cbOnceRender[s]))}this.__cbOnceOwnerUnbindRender=h,this.__cbOnceRender=a}for(l=0,r=e;l<r;){i=l++;(0,t.vector[i])()}n.release(t)}},onRender:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event render because owner is destroyed!");var l=function(e){null!=t&&(i.offRender(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindRender&&(this.__cbOnOwnerUnbindRender=[]),this.__cbOnOwnerUnbindRender.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindRender&&(this.__cbOnOwnerUnbindRender=[]),this.__cbOnOwnerUnbindRender.push(null);null==this.__cbOnRender&&(this.__cbOnRender=[]),this.__cbOnRender.push(t)},onceRender:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event render because owner is destroyed!");var l=function(e){null!=t&&(i.offRender(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindRender&&(this.__cbOnceOwnerUnbindRender=[]),this.__cbOnceOwnerUnbindRender.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindRender&&(this.__cbOnceOwnerUnbindRender=[]),this.__cbOnceOwnerUnbindRender.push(null);null==this.__cbOnceRender&&(this.__cbOnceRender=[]),this.__cbOnceRender.push(t)},offRender:function(e){if(null!=e){var n;null!=this.__cbOnRender&&-1!=(n=this.__cbOnRender.indexOf(e))&&(this.__cbOnRender.splice(n,1),null!=(r=this.__cbOnOwnerUnbindRender[n])&&r(),this.__cbOnOwnerUnbindRender.splice(n,1)),null!=this.__cbOnceRender&&-1!=(n=this.__cbOnceRender.indexOf(e))&&(this.__cbOnceRender.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindRender[n])&&r(),this.__cbOnceOwnerUnbindRender.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindRender){for(var t=0,i=this.__cbOnOwnerUnbindRender.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindRender[l])&&r()}this.__cbOnOwnerUnbindRender=null}if(null!=this.__cbOnceOwnerUnbindRender){for(t=0,i=this.__cbOnceOwnerUnbindRender.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindRender[l])&&r()}this.__cbOnceOwnerUnbindRender=null}this.__cbOnRender=null,this.__cbOnceRender=null}},listensRender:function(){return null!=this.__cbOnRender&&0<this.__cbOnRender.length||null!=this.__cbOnceRender&&0<this.__cbOnceRender.length},canRender:function(){return!0},unbindEvents:function(){this.offReady(),this.offUpdate(),this.offRender()},__class__:M},(E["spec.Binaries"]=N).__name__="spec.Binaries",N.__isInterface__=!0,N.prototype={load:null,supportsHotReloadPath:null,__class__:N},function(){this.loadingBinaryCallbacks=new ue}),ve=((E["backend.Binaries"]=Ce).__name__="backend.Binaries",Ce.__interfaces__=[N],Ce.prototype={load:function(s,e,n){function HM(e){function NM(){n(e),n=null}null!=l?l.push(NM):he.app._onceImmediate(NM)}var t,i,h=this,l=null!=e?e.immediate:null,e=z.startsWith(s,"http://")||z.startsWith(s,"https://");Rn.isAbsolute(s)||e||(s=Rn.join([he.app.settings.assetsPath,s])),Object.prototype.hasOwnProperty.call(this.loadingBinaryCallbacks.h,s)?this.loadingBinaryCallbacks.h[s].push(function(e){HM(e)}):(this.loadingBinaryCallbacks.h[s]=[],t=s,e||-1!=(i=t.indexOf("?"))&&(t=se.substr(t,0,i)),i=e?t:ee.app.assets.fullPath(t),ee.app.io.loadData(i,!0,null,function(e){if(null==e)if(null!=(l=h.loadingBinaryCallbacks.h[s]))for(var n=h.loadingBinaryCallbacks,t=(Object.prototype.hasOwnProperty.call(n.h,s)&&delete n.h[s],HM(null),0);t<l.length;){var i=l[t];++t,i(null)}else HM(null);else{var l,r=new rl(new Uint8Array(e.buffer));if(null!=(l=h.loadingBinaryCallbacks.h[s]))for(n=h.loadingBinaryCallbacks,t=(Object.prototype.hasOwnProperty.call(n.h,s)&&delete n.h[s],HM(r),0);t<l.length;){i=l[t];++t,i(r)}else HM(r)}}),null!=l?l.push(Wt.flush):he.app._onceImmediate(Wt.flush))},supportsHotReloadPath:function(){return!0},loadingBinaryCallbacks:null,__class__:Ce},(E["clay.Events"]=P).__name__="clay.Events",P.prototype={ready:function(){},tick:function(e){},render:function(){},freeze:function(){},unfreeze:function(){},keyDown:function(e,n,t,i,l,r){},keyUp:function(e,n,t,i,l,r){},text:function(e,n,t,i,l,r){},mouseMove:function(e,n,t,i,l,r){},mouseDown:function(e,n,t,i,l){},mouseUp:function(e,n,t,i,l){},mouseWheel:function(e,n,t,i){},touchDown:function(e,n,t,i,l,r){},touchUp:function(e,n,t,i,l,r){},touchMove:function(e,n,t,i,l,r){},gamepadAxis:function(e,n,t,i){},gamepadDown:function(e,n,t,i){},gamepadUp:function(e,n,t,i){},gamepadGyro:function(e,n,t,i,l){},gamepadDevice:function(e,n,t,i){},windowEvent:function(e,n,t,i,l){},appEvent:function(e){},audioEvent:function(e,n){},__class__:P},(E["backend.ClayEvents"]=Q).__name__="backend.ClayEvents",Q.__super__=P,Q.prototype=$extend(P.prototype,{backend:null,lastDensity:null,lastWidth:null,lastHeight:null,touches:null,touchIndexes:null,mouseDownButtons:null,mouseX:null,mouseY:null,activeGamepads:null,removedGamepads:null,swapAbGamepads:null,swapXyGamepads:null,gamepadAxisToButton:null,gamepadButtonMapping:null,gamepadPressedValues:null,gamepadAxisValues:null,gamepadGyroValues:null,handleReady:null,gamepadsEnabled:null,configureGamepadMapping:function(){},ready:function(){this.backend=he.app.backend,this.lastDensity=ee.app.screenDensity,this.lastWidth=ee.app.screenWidth,this.lastHeight=ee.app.screenHeight,this.handleReady(),this.backend.emitReady()},tick:function(e){this.triggerResizeIfNeeded(),this.backend.emitUpdate(e)},render:function(){this.backend.emitRender()},triggerResizeIfNeeded:function(){var e=ee.app.screenDensity,n=ee.app.screenWidth,t=ee.app.screenHeight;this.lastDensity==e&&this.lastWidth==n&&this.lastHeight==t||(this.lastDensity=e,this.lastWidth=n,this.lastHeight=t,this.backend.screen.emitResize())},appEvent:function(e){switch(e){case 0:break;case 11:he.app.emitTerminate();break;case 12:he.app.emitLowMemory();break;case 13:he.app.emitBeginEnterBackground();break;case 14:he.app.emitFinishEnterBackground();break;case 15:he.app.emitBeginEnterForeground();break;case 16:he.app.emitFinishEnterForeground()}},mouseDown:function(e,n,t,i,l){this.mouseDownButtons.intMap.h.hasOwnProperty(0|t)&&this.mouseUp(e,n,t,i,l),this.mouseX=e/ee.app.screenDensity,this.mouseY=n/ee.app.screenDensity,this.mouseDownButtons.set(t,1),this.backend.screen.emitMouseDown(t,this.mouseX,this.mouseY)},mouseUp:function(e,n,t,i,l){this.mouseDownButtons.intMap.h.hasOwnProperty(0|t)&&(this.mouseX=e/ee.app.screenDensity,this.mouseY=n/ee.app.screenDensity,this.mouseDownButtons.remove(t),this.backend.screen.emitMouseUp(t,this.mouseX,this.mouseY))},mouseMove:function(e,n,t,i,l,r){this.mouseX=e/ee.app.screenDensity,this.mouseY=n/ee.app.screenDensity,this.backend.screen.emitMouseMove(this.mouseX,this.mouseY)},mouseWheel:function(e,n,t,i){this.backend.screen.emitMouseWheel(e,n)},touchDown:function(e,n,t,i,l,r){for(var s=0;this.touchIndexes.intMap.h.hasOwnProperty(0|s);)++s;this.touches.set(l,s),this.touchIndexes.set(s,l),this.backend.screen.emitTouchDown(s,e*this.lastWidth,n*this.lastHeight)},touchUp:function(e,n,t,i,l,r){this.touches.intMap.h.hasOwnProperty(0|l)||this.touchDown(e,n,t,i,l,r);t=this.touches.intMap.h[0|l],i=null!=t?t:0;this.backend.screen.emitTouchUp(i,e*this.lastWidth,n*this.lastHeight),this.touches.remove(l),this.touchIndexes.remove(i)},touchMove:function(e,n,t,i,l,r){this.touches.intMap.h.hasOwnProperty(0|l)||this.touchDown(e,n,t,i,l,r);t=this.touches.intMap.h[0|l];this.backend.screen.emitTouchMove(null!=t?t:0,e*this.lastWidth,n*this.lastHeight)},keyDown:function(e,n,t,i,l,r){this.backend.input.emitKeyDown(new Fn(e,n)),this.backend.textInput.handleKeyDown(e,n)},keyUp:function(e,n,t,i,l,r){this.backend.input.emitKeyUp(new Fn(e,n)),this.backend.textInput.handleKeyUp(e,n)},_configureGamepad:function(e,n){null!=n&&(-1!=(n=n.toLowerCase()).indexOf(" vendor: 057e ")||z.startsWith(n,"057e-")||-1!=n.indexOf("retroid pocket controller"))?(this.swapAbGamepads.set(e,1),this.swapXyGamepads.set(e,1)):(this.swapAbGamepads.set(e,0),this.swapXyGamepads.set(e,0))},gamepadAxis:function(e,n,t,i){var l,r;this.gamepadsEnabled&&(this.activeGamepads.intMap.h.hasOwnProperty(0|e)||this.removedGamepads.intMap.h.hasOwnProperty(0|e)||(this.activeGamepads.set(e,1),l=ee.app.runtime.getGamepadName(e),this._configureGamepad(e,l),this.backend.input.emitGamepadEnable(e,l)),this.gamepadAxisToButton.intMap.h.hasOwnProperty(0|n)&&(l=null!=(r=this.gamepadAxisToButton.intMap.h[0|n])?r:0,.5<=t?1!=(null!=(r=this.gamepadPressedValues.intMap.h[32*e+l|0])?r:0)&&(this.gamepadPressedValues.set(32*e+l,1),this.backend.input.emitGamepadDown(e,l)):1==(null!=(r=this.gamepadPressedValues.intMap.h[32*e+l|0])?r:0)&&(this.gamepadPressedValues.set(32*e+l,0),this.backend.input.emitGamepadUp(e,l))),l=null!=(r=this.gamepadAxisValues.intMap.h[32*e+n|0])?r:0,r=Math.round(100*t)/100,.01<Math.abs(l-r))&&(this.gamepadAxisValues.set(32*e+n,r),this.backend.input.emitGamepadAxis(e,n,r))},gamepadDown:function(e,n,t,i){if(this.gamepadsEnabled){if(!this.activeGamepads.intMap.h.hasOwnProperty(0|e)&&!this.removedGamepads.intMap.h.hasOwnProperty(0|e)){this.activeGamepads.set(e,1);for(var l=0;l<32;){var r=l++;this.gamepadPressedValues.set(32*e+r,0)}var s=ee.app.runtime.getGamepadName(e);this._configureGamepad(e,s),this.backend.input.emitGamepadEnable(e,s)}0!=(n=this.gamepadButtonMapping.intMap.h.hasOwnProperty(0|n)?null!=(t=this.gamepadButtonMapping.intMap.h[0|n])?t:0:n)&&1!=n||0!=(null!=(t=this.swapAbGamepads.intMap.h[0|e])?t:0)&&(n=1==n?0:1),2!=n&&3!=n||0!=(null!=(t=this.swapXyGamepads.intMap.h[0|e])?t:0)&&(n=2==n?3:2),1!=(null!=(t=this.gamepadPressedValues.intMap.h[32*e+n|0])?t:0)&&(this.gamepadPressedValues.set(32*e+n,1),this.backend.input.emitGamepadDown(e,n))}},gamepadUp:function(e,n,t,i){if(this.gamepadsEnabled){if(!this.activeGamepads.intMap.h.hasOwnProperty(0|e)&&!this.removedGamepads.intMap.h.hasOwnProperty(0|e)){this.activeGamepads.set(e,1);for(var l=0;l<32;){var r=l++;this.gamepadPressedValues.set(32*e+r,0)}var s=ee.app.runtime.getGamepadName(e);this._configureGamepad(e,s),this.backend.input.emitGamepadEnable(e,s)}0!=(n=this.gamepadButtonMapping.intMap.h.hasOwnProperty(0|n)?null!=(t=this.gamepadButtonMapping.intMap.h[0|n])?t:0:n)&&1!=n||0!=(null!=(t=this.swapAbGamepads.intMap.h[0|e])?t:0)&&(n=1==n?0:1),2!=n&&3!=n||0!=(null!=(t=this.swapXyGamepads.intMap.h[0|e])?t:0)&&(n=2==n?3:2),1==(null!=(t=this.gamepadPressedValues.intMap.h[32*e+n|0])?t:0)&&(this.gamepadPressedValues.set(32*e+n,0),this.backend.input.emitGamepadUp(e,n))}},gamepadGyro:function(e,n,t,i,l){if(this.gamepadsEnabled){if(!this.activeGamepads.intMap.h.hasOwnProperty(0|e)&&!this.removedGamepads.intMap.h.hasOwnProperty(0|e)){this.activeGamepads.set(e,1);for(var r=0;r<32;){var s=r++;this.gamepadPressedValues.set(32*e+s,0)}var h=ee.app.runtime.getGamepadName(e);this._configureGamepad(e,h),this.backend.input.emitGamepadEnable(e,h)}h=.23225806451612904;this.backend.input.emitGamepadGyro(e,n*h,t*h,i*h)}},gamepadDevice:function(n,e,t,i){var l=this;if(this.gamepadsEnabled)if(2==t){if(this.activeGamepads.intMap.h.hasOwnProperty(0|n)){for(var r=0;r<32;){var s=r++,h=this.gamepadPressedValues.intMap.h[32*n+s|0];1==(null!=h?h:0)&&(this.backend.input.emitGamepadUp(n,s),this.gamepadPressedValues.set(32*n+s,0))}this.backend.input.emitGamepadDisable(n),this.activeGamepads.remove(n),this.removedGamepads.set(n,1),he.app.onceUpdate(null,function(e){l.removedGamepads.remove(n)})}}else if(1==t&&!this.activeGamepads.intMap.h.hasOwnProperty(0|n)){this.activeGamepads.set(n,1);for(r=0;r<32;){s=r++;this.gamepadPressedValues.set(32*n+s,0)}this.removedGamepads.remove(n);e=ee.app.runtime.getGamepadName(n);this._configureGamepad(n,e),this.backend.input.emitGamepadEnable(n,e)}},text:function(e,n,t,i,l,r){this.backend.textInput.inputActive&&this.backend.textInput.handleTextInput(e)},windowEvent:function(e,n,t,i,l){switch(e){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:case 13:case 14:break;case 15:he.app.settings.set_fullscreen(!0);break;case 16:he.app.settings.set_fullscreen(!1)}},__class__:Q}),(E["spec.Clipboard"]=R).__name__="spec.Clipboard",R.__isInterface__=!0,R.prototype={getText:null,setText:null,__class__:R},function(){this.didBindBrowserClipboard=!1,this.didLogBrowserClipboardWriteWarning=!1,this.didLogBrowserClipboardReadWarning=!1,this.clipboardText=null}),Z=((E["backend.Clipboard"]=ve).__name__="backend.Clipboard",ve.__interfaces__=[R],ve.prototype={clipboardText:null,didLogBrowserClipboardReadWarning:null,didLogBrowserClipboardWriteWarning:null,didBindBrowserClipboard:null,bindBrowserClipboard:function(){var e=this;this.didBindBrowserClipboard=!0,this.readBrowserClipboard(),window.addEventListener("focus",function(){e.readBrowserClipboard()})},readBrowserClipboard:function(){var n=this,t=be.navigator;try{t.clipboard.readText().then(function(e){n.clipboardText!=e&&(n.clipboardText=e)})}catch(e){Yi.lastError=e;t=oe.caught(e).unwrap();this.didLogBrowserClipboardReadWarning||(this.didLogBrowserClipboardReadWarning=!0,he.app.logger.warning("Failed to read browser clipboard: "+X.string(t),{fileName:"../../../../ceramic/plugins/clay/runtime/src/backend/Clipboard.hx",lineNumber:107,className:"backend.Clipboard",methodName:"readBrowserClipboard"}))}},writeBrowserClipboard:function(e){var n=be.navigator;try{n.clipboard.writeText(e).then(function(){})}catch(e){Yi.lastError=e;n=oe.caught(e).unwrap();this.didLogBrowserClipboardWriteWarning||(this.didLogBrowserClipboardWriteWarning=!0,he.app.logger.warning("Failed to write browser clipboard: "+X.string(n),{fileName:"../../../../ceramic/plugins/clay/runtime/src/backend/Clipboard.hx",lineNumber:133,className:"backend.Clipboard",methodName:"writeBrowserClipboard"}))}},getText:function(){return this.clipboardText},setText:function(e){this.clipboardText=e,this.didBindBrowserClipboard&&this.writeBrowserClipboard(e)},__class__:ve},(E["spec.Draw"]=T).__name__="spec.Draw",T.__isInterface__=!0,T.prototype={draw:null,swap:null,initBuffers:null,beginRender:null,endRender:null,setRenderTarget:null,useShader:null,clear:null,enableBlending:null,disableBlending:null,setBlendFuncSeparate:null,getActiveTexture:null,setActiveTexture:null,textureBackendItemMatchesId:null,getTextureId:null,bindTexture:null,bindNoTexture:null,setPrimitiveType:null,beginDrawQuad:null,endDrawQuad:null,beginDrawMesh:null,endDrawMesh:null,beginDrawingInStencilBuffer:null,endDrawingInStencilBuffer:null,drawWithStencilTest:null,drawWithoutStencilTest:null,enableScissor:null,disableScissor:null,getNumPos:null,putPos:null,putPosAndTextureSlot:null,putIndice:null,putUVs:null,putColor:null,beginFloatAttributes:null,putFloatAttribute:null,endFloatAttributes:null,clearAndApplyBackground:null,getTextureWidth:null,getTextureHeight:null,getTextureWidthActual:null,getTextureHeightActual:null,shouldFlush:null,remainingVertices:null,remainingIndices:null,hasAnythingToFlush:null,flush:null,__class__:T},function(){this.renderer=new Yn,this.renderer=new Yn,Z._batcher=new ti}),we=((E["backend.Draw"]=Z).__name__="backend.Draw",Z.__interfaces__=[T],Z.prototype={renderer:null,get_batcher:function(){return Z._batcher},set_batcher:function(e){return Z._batcher=e},begin:function(){},end:function(){},draw:function(e){this.renderer.render(!0,e)},swap:function(){},initBuffers:function(){Z._activeTextureSlot=0;var e=Z._batcher,e=(e._buffersIndex=-1,e.prepareNextBuffers(),he.app.defaultWhiteTexture.backendItem);ti.defaultTextureId=e.textureId},beginRender:function(){Z._batcher;ne.gl.enableVertexAttribArray(0),ne.gl.enableVertexAttribArray(1),ne.gl.enableVertexAttribArray(2)},endRender:function(){},clear:function(){Z._batcher;ee._graphics.clear((Z._whiteTransparentColor>>16&255)/255,(Z._whiteTransparentColor>>8&255)/255,(255&Z._whiteTransparentColor)/255,Z._whiteTransparentColor>>24&255,!1),null!=Z._currentRenderTarget&&(Z._didUpdateCurrentRenderTarget=!0)},clearAndApplyBackground:function(){var e=he.app.settings.get_background();Z._batcher;ee._graphics.clear((e>>16&255)/255,(e>>8&255)/255,(255&e)/255,1,!1),null!=Z._currentRenderTarget&&(Z._didUpdateCurrentRenderTarget=!0)},enableBlending:function(){Z._batcher,ee._graphics;ne.gl.enable(3042)},disableBlending:function(){Z._batcher,ee._graphics;ne.gl.disable(3042)},setActiveTexture:function(e){Z._activeTextureSlot=e;var n=Z._batcher;if((n=ee._graphics)._activeTextureSlot!=e){for(n._activeTextureSlot=e;n._boundTexture2D.length<=n._activeTextureSlot;)n._boundTexture2D.push(null);ne.gl.activeTexture(33984+e)}},setPrimitiveType:function(e){Z._batcher._primitiveType=1==(2==e?1:0)?1:4},getActiveTexture:function(){return Z._activeTextureSlot},setRenderTarget:function(e,n){var t,i,l,r,s,h,a,o,c,u,_,d,b,g,O,f,p,C,v,w,m,y;null==n&&(n=!1),Z._currentRenderTarget==e&&!n||(null!=Z._currentRenderTarget&&Z._currentRenderTarget!=e&&Z._didUpdateCurrentRenderTarget&&1<(n=Z._currentRenderTarget.backendItem).antialiasing&&(y=Z._batcher,ee._graphics.blitRenderTargetBuffers(n.renderTarget,n.width,n.height)),Z._currentRenderTarget=e,Z._didUpdateCurrentRenderTarget=!0,null!=e?(n=e.backendItem,y=Z._batcher,n=n.renderTarget,y=ee._graphics,null!=n?(y.bindFramebuffer((t=n).framebuffer),y.bindRenderbuffer(t.renderbuffer)):(y.bindFramebuffer(null),y.bindRenderbuffer(null)),O=((r=e.width)+(i=0))/(o=r-i),f=((l=0)+(s=e.height))/(c=l-s),_=((a=-1e3)+(h=1e3))/(u=a-h),(w=Z._projectionMatrix)[0]=2/o,w[4]=0,w[8]=0,w[12]=-O,w[1]=0,w[5]=2/c,w[9]=0,w[13]=-f,w[2]=0,w[6]=0,w[10]=-2/u,w[14]=-_,w[3]=0,w[7]=0,w[11]=0,w[15]=1,(y=Z._renderTargetTransform).a=1,y.b=0,y.c=0,y.d=1,y.tx=0,y.ty=0,y.changedDirty=!0,y=Z._renderTargetTransform,n=e.density,d=e.density,y.a*=n,y.b*=d,y.c*=n,y.d*=d,y.tx*=n,y.ty*=d,y.changedDirty=!0,d=e.density,b=e.width,g=e.height,null==(n=-1)&&(n=1),null!=(m=Z._renderTargetTransform)?((y=Z._modelViewTransform).a=m.a,y.b=m.b,y.c=m.c,y.d=m.d,y.tx=m.tx,y.ty=m.ty,y.changedDirty=!0,0==(p=(y=Z._modelViewTransform).a*y.d-y.b*y.c)?(y.a=y.b=y.c=y.d=0,y.tx=-y.tx,y.ty=-y.ty):(C=y.d*(p=1/p),y.d=y.a*p,y.a=C,y.b*=-p,y.c*=-p,v=-y.a*y.tx-y.c*y.ty,y.ty=-y.b*y.tx-y.d*y.ty,y.tx=v)):((y=Z._modelViewTransform).a=1,y.b=0,y.c=0,y.d=1,y.tx=0,y.ty=0),y.changedDirty=!0,O=Z._modelViewTransform.tx,f=Z._modelViewTransform.ty,(y=Z._modelViewTransform).tx+=-O,y.ty+=-f,y.changedDirty=!0,(y=Z._modelViewTransform).a*=d,y.b*=d,y.c*=d,y.d*=d,y.tx*=d,y.ty*=d,y.changedDirty=!0,(y=Z._modelViewTransform).tx+=O,y.ty+=f,y.changedDirty=!0,-1==n&&((y=Z._modelViewTransform).tx+=.5*-b,y.ty+=.5*-g,y.changedDirty=!0,(y=Z._modelViewTransform).a*=1,y.b*=-1,y.c*=1,y.d*=-1,y.tx*=1,y.ty*=-1,y.changedDirty=!0,(y=Z._modelViewTransform).tx+=.5*b,y.ty+=.5*g,y.changedDirty=!0),0==(p=(y=Z._modelViewTransform).a*y.d-y.b*y.c)?(y.a=y.b=y.c=y.d=0,y.tx=-y.tx,y.ty=-y.ty):(C=y.d*(p=1/p),y.d=y.a*p,y.a=C,y.b*=-p,y.c*=-p,v=-y.a*y.tx-y.c*y.ty,y.ty=-y.b*y.tx-y.d*y.ty,y.tx=v),y.changedDirty=!0,w=Z._modelViewMatrix,m=Z._modelViewTransform,w[0]=m.a,w[4]=m.c,w[8]=0,w[12]=m.tx,w[1]=m.b,w[5]=m.d,w[9]=0,w[13]=m.ty,w[2]=0,w[6]=0,w[10]=1,w[14]=0,w[3]=0,w[7]=0,w[11]=0,w[15]=1,Z._viewportDensity=e.density,Z._viewportWidth=e.width*Z._viewportDensity,Z._viewportHeight=e.height*Z._viewportDensity,y=Z._batcher,y=ee._graphics,ne.gl.viewport(0,0,e.width*e.density|0,e.height*e.density|0),e.clearOnRender&&(y=Z._batcher,ee._graphics.clear((Z._blackTransparentColor>>16&255)/255,(Z._blackTransparentColor>>8&255)/255,(255&Z._blackTransparentColor)/255,(Z._blackTransparentColor>>24&255)/255,!1),Z._didUpdateCurrentRenderTarget=!0)):(y=Z._batcher,y=ee._graphics,(e=null)!=e?(y.bindFramebuffer((t=e).framebuffer),y.bindRenderbuffer(t.renderbuffer)):(y.bindFramebuffer(null),y.bindRenderbuffer(null)),O=((r=ee.app.screenWidth)+(i=0))/(o=r-i),f=((l=0)+(s=ee.app.screenHeight))/(c=l-s),_=((a=-1e3)+(h=1e3))/(u=a-h),(w=Z._projectionMatrix)[0]=2/o,w[4]=0,w[8]=0,w[12]=-O,w[1]=0,w[5]=2/c,w[9]=0,w[13]=-f,w[2]=0,w[6]=0,w[10]=-2/u,w[14]=-_,w[3]=0,w[7]=0,w[11]=0,w[15]=1,d=ee.app.screenDensity,b=ee.app.screenWidth,g=ee.app.screenHeight,null!=(m=he.app.screen.matrix)?((y=Z._modelViewTransform).a=m.a,y.b=m.b,y.c=m.c,y.d=m.d,y.tx=m.tx,y.ty=m.ty,y.changedDirty=!0,0==(p=(y=Z._modelViewTransform).a*y.d-y.b*y.c)?(y.a=y.b=y.c=y.d=0,y.tx=-y.tx,y.ty=-y.ty):(C=y.d*(p=1/p),y.d=y.a*p,y.a=C,y.b*=-p,y.c*=-p,v=-y.a*y.tx-y.c*y.ty,y.ty=-y.b*y.tx-y.d*y.ty,y.tx=v)):((y=Z._modelViewTransform).a=1,y.b=0,y.c=0,y.d=1,y.tx=0,y.ty=0),y.changedDirty=!0,O=Z._modelViewTransform.tx,f=Z._modelViewTransform.ty,(y=Z._modelViewTransform).tx+=-O,y.ty+=-f,y.changedDirty=!0,(y=Z._modelViewTransform).a*=d,y.b*=d,y.c*=d,y.d*=d,y.tx*=d,y.ty*=d,y.changedDirty=!0,(y=Z._modelViewTransform).tx+=O,y.ty+=f,y.changedDirty=!0,0==(p=(y=Z._modelViewTransform).a*y.d-y.b*y.c)?(y.a=y.b=y.c=y.d=0,y.tx=-y.tx,y.ty=-y.ty):(C=y.d*(p=1/p),y.d=y.a*p,y.a=C,y.b*=-p,y.c*=-p,v=-y.a*y.tx-y.c*y.ty,y.ty=-y.b*y.tx-y.d*y.ty,y.tx=v),y.changedDirty=!0,w=Z._modelViewMatrix,m=Z._modelViewTransform,w[0]=m.a,w[4]=m.c,w[8]=0,w[12]=m.tx,w[1]=m.b,w[5]=m.d,w[9]=0,w[13]=m.ty,w[2]=0,w[6]=0,w[10]=1,w[14]=0,w[3]=0,w[7]=0,w[11]=0,w[15]=1,Z._viewportDensity=ee.app.screenDensity,Z._viewportWidth=ee.app.screenWidth*Z._viewportDensity,Z._viewportHeight=ee.app.screenHeight*Z._viewportDensity,y=Z._batcher,y=ee._graphics,ne.gl.viewport(0,0,0|Z._viewportWidth,0|Z._viewportHeight)))},useShader:function(e){Z._activeShader=e;var n=Z._batcher,n=(ee._graphics.projectionMatrix=Z._projectionMatrix,Z._batcher),t=(ee._graphics.modelViewMatrix=Z._modelViewMatrix,he.app.backend.shaders),i=0,l=Z._activeShader.customAttributes;if(null!=l)for(var r=0,s=l.length;r<s;)i+=l[r++].size;var h=i,t=t.canBatchWithMultipleTextures(Z._activeShader);Z._batcher._customAttributes=null!=Z._activeShader?Z._activeShader.customAttributes:null,(n=Z._batcher)._floatAttributesSize=h,n._batchMultiTexture=t,n._vertexSize=3+n._floatAttributesSize+(n._batchMultiTexture?1:0),n._posSize=n._vertexSize,n._vertexSize<4&&(n._vertexSize=4),n._maxVerts=0|Math.floor(65536/n._vertexSize),0==n._numPos&&(n._numIndices=0,n._numPos=0,n._numUVs=0,n._numColors=0,n._posIndex=0,n._uvIndex=0,n._colorIndex=0),e.activate()},setBlendFuncSeparate:function(e,n,t,i){Z._batcher,ee._graphics;ne.gl.blendFuncSeparate(e,n,t,i)},beginDrawQuad:function(e){},endDrawQuad:function(){},beginDrawMesh:function(e){},endDrawMesh:function(){},enableScissor:function(e,n,t,i){var l=Z._viewportDensity,r=Z._modelViewTransform,s=(e*r.a+n*r.c+r.tx)*l,h=(e*(r=Z._modelViewTransform).b+n*r.d+r.ty)*l,a=((e+t)*(r=Z._modelViewTransform).a+(n+i)*r.c+r.tx)*l,e=((e+t)*(r=Z._modelViewTransform).b+(n+i)*r.d+r.ty)*l;null!=Z._currentRenderTarget?(r=Z._batcher,n=Z._viewportHeight-h,ne.gl.enable(3089),ne.gl.scissor(Math.round(s),Math.round(n),Math.round(a-s),Math.round(h-e))):(r=Z._batcher,n=Z._viewportHeight-e,ne.gl.enable(3089),ne.gl.scissor(Math.round(s),Math.round(n),Math.round(a-s),Math.round(e-h)))},disableScissor:function(){Z._batcher;ne.gl.disable(3089)},drawWithStencilTest:function(){Z._batcher;ne.gl.stencilFunc(514,1,255),ne.gl.stencilMask(0),ne.gl.colorMask(!0,!0,!0,!0),ne.gl.enable(2960)},drawWithoutStencilTest:function(){Z._batcher;ne.gl.stencilFunc(519,1,255),ne.gl.stencilMask(255),ne.gl.colorMask(!0,!0,!0,!0),ne.gl.disable(2960)},beginDrawingInStencilBuffer:function(){Z._drawingInStencilBuffer=!0;Z._batcher;ne.gl.stencilMask(255),ne.gl.clearStencil(255),ne.gl.clear(1024),ne.gl.enable(2960),ne.gl.stencilOp(7680,7680,7681),ne.gl.stencilFunc(519,1,255),ne.gl.stencilMask(255),ne.gl.colorMask(!1,!1,!1,!1)},endDrawingInStencilBuffer:function(){Z._drawingInStencilBuffer=!1},bindTexture:function(e){var n=Z._batcher,e=e.textureId;(n=ee._graphics)._boundTexture2D[n._activeTextureSlot]!=e&&(n._boundTexture2D[n._activeTextureSlot]=e,ne.gl.bindTexture(3553,e))},bindNoTexture:function(){var e=Z._batcher,e=ee._graphics,n=ti.defaultTextureId;e._boundTexture2D[e._activeTextureSlot]!=n&&(e._boundTexture2D[e._activeTextureSlot]=n,ne.gl.bindTexture(3553,n))},textureBackendItemMatchesId:function(e,n){return e.textureId==n},getTextureId:function(e){return e.textureId},getTextureWidth:function(e){return e.width},getTextureHeight:function(e){return e.height},getTextureWidthActual:function(e){return e.widthActual},getTextureHeightActual:function(e){return e.heightActual},updateProjectionMatrix:function(e,n){var t=+e,i=0-n,e=(e+0)/t,n=(0+n)/i,l=Z._projectionMatrix;l[0]=2/t,l[4]=0,l[8]=0,l[12]=-e,l[1]=0,l[5]=2/i,l[9]=0,l[13]=-n,l[2]=0,l[6]=0,l[10]=.001,l[14]=0,l[3]=0,l[7]=0,l[11]=0,l[15]=1},updateViewMatrix:function(e,n,t,i,l){null==l&&(l=1),null!=i?((h=Z._modelViewTransform).a=i.a,h.b=i.b,h.c=i.c,h.d=i.d,h.tx=i.tx,h.ty=i.ty,h.changedDirty=!0,0==(a=(h=Z._modelViewTransform).a*h.d-h.b*h.c)?(h.a=h.b=h.c=h.d=0,h.tx=-h.tx,h.ty=-h.ty):(o=h.d*(a=1/a),h.d=h.a*a,h.a=o,h.b*=-a,h.c*=-a,c=-h.a*h.tx-h.c*h.ty,h.ty=-h.b*h.tx-h.d*h.ty,h.tx=c)):((h=Z._modelViewTransform).a=1,h.b=0,h.c=0,h.d=1,h.tx=0,h.ty=0),h.changedDirty=!0;var r=Z._modelViewTransform.tx,s=Z._modelViewTransform.ty,h=Z._modelViewTransform;h.tx+=-r,h.ty+=-s,h.changedDirty=!0,(h=Z._modelViewTransform).a*=e,h.b*=e,h.c*=e,h.d*=e,h.tx*=e,h.ty*=e,h.changedDirty=!0,(h=Z._modelViewTransform).tx+=r,h.ty+=s,h.changedDirty=!0,-1==l&&((h=Z._modelViewTransform).tx+=.5*-n,h.ty+=.5*-t,h.changedDirty=!0,(h=Z._modelViewTransform).a*=1,h.b*=-1,h.c*=1,h.d*=-1,h.tx*=1,h.ty*=-1,h.changedDirty=!0,(h=Z._modelViewTransform).tx+=.5*n,h.ty+=.5*t,h.changedDirty=!0);0==(a=(h=Z._modelViewTransform).a*h.d-h.b*h.c)?(h.a=h.b=h.c=h.d=0,h.tx=-h.tx,h.ty=-h.ty):(o=h.d*(a=1/a),h.d=h.a*a,h.a=o,h.b*=-a,h.c*=-a,c=-h.a*h.tx-h.c*h.ty,h.ty=-h.b*h.tx-h.d*h.ty,h.tx=c),h.changedDirty=!0;var a,o,c,e=Z._modelViewMatrix,i=Z._modelViewTransform;e[0]=i.a,e[4]=i.c,e[8]=0,e[12]=i.tx,e[1]=i.b,e[5]=i.d,e[9]=0,e[13]=i.ty,e[2]=0,e[6]=0,e[10]=1,e[14]=0,e[3]=0,e[7]=0,e[11]=0,e[15]=1},matrixIdentity:function(e){e[0]=1,e[4]=0,e[8]=0,e[12]=0,e[1]=0,e[5]=1,e[9]=0,e[13]=0,e[2]=0,e[6]=0,e[10]=1,e[14]=0,e[3]=0,e[7]=0,e[11]=0,e[15]=1},setMatrixToTransform:function(e,n){e[0]=n.a,e[4]=n.c,e[8]=0,e[12]=n.tx,e[1]=n.b,e[5]=n.d,e[9]=0,e[13]=n.ty,e[2]=0,e[6]=0,e[10]=1,e[14]=0,e[3]=0,e[7]=0,e[11]=0,e[15]=1},getNumPos:function(){return Z._batcher._numPos},putPos:function(e,n,t){var i=Z._batcher;i._posList[i._posIndex]=e,i._posList[i._posIndex+1]=n,i._posList[i._posIndex+2]=t,i._posIndex+=3,i._numPos++},putPosAndTextureSlot:function(e,n,t,i){var l=Z._batcher;l._posList[l._posIndex]=e,l._posList[l._posIndex+1]=n,l._posList[l._posIndex+2]=t,l._posList[l._posIndex+3]=i,l._posIndex+=4,l._numPos++},beginFloatAttributes:function(){},putFloatAttribute:function(e,n){var t=Z._batcher;t._posList[t._posIndex+e]=n},endFloatAttributes:function(){var e=Z._batcher;e._posIndex+=e._floatAttributesSize},putIndice:function(e){var n=Z._batcher;n._indiceList[n._numIndices]=e,n._numIndices++},putUVs:function(e,n){var t=Z._batcher;t._uvList[t._uvIndex]=e,t._uvList[t._uvIndex+1]=n,t._uvIndex+=2,t._numUVs++},putColor:function(e,n,t,i){var l=Z._batcher;l._colorList[l._colorIndex]=e,l._colorList[l._colorIndex+1]=n,l._colorList[l._colorIndex+2]=t,l._colorList[l._colorIndex+3]=i,l._colorIndex+=4,l._numColors++},hasAnythingToFlush:function(){return 0<Z._batcher._numPos},shouldFlush:function(e,n,t){var i=Z._batcher;return!(i._numPos+e<=i._maxVerts)||16384<i._numIndices+n},remainingVertices:function(){var e=Z._batcher;return e._maxVerts-e._numPos},remainingIndices:function(){return 16384-Z._batcher._numIndices},flush:function(){Z._batcher.flush(),null!=Z._currentRenderTarget&&(Z._didUpdateCurrentRenderTarget=!0)},__class__:Z,__properties__:{set_batcher:"set_batcher",get_batcher:"get_batcher"}},(E["backend.ElectronRunner"]=V).__name__="backend.ElectronRunner",(E["spec.IO"]=W).__name__="spec.IO",W.__isInterface__=!0,W.prototype={saveString:null,appendString:null,readString:null,__class__:W},function(){}),me=((E["backend.IO"]=we).__name__="backend.IO",we.__interfaces__=[W],we.prototype={initKeyValueIfNeeded:function(){},saveString:function(n,e){try{var t=window.localStorage;if(null==t)return he.app.logger.error("Cannot save string: localStorage not supported on this browser",{fileName:"../../../../ceramic/plugins/clay/runtime/src/backend/IO.hx",lineNumber:274,className:"backend.IO",methodName:"saveString"}),!1;t.setItem(n,dn.encode(e))}catch(e){Yi.lastError=e;t=oe.caught(e).unwrap();return he.app.logger.error("Failed to save string (key="+n+"): "+X.string(t),{fileName:"../../../../ceramic/plugins/clay/runtime/src/backend/IO.hx",lineNumber:281,className:"backend.IO",methodName:"saveString"}),!1}return!0},appendString:function(n,e){try{var t=window.localStorage;if(null==t)return he.app.logger.error("Cannot append string: localStorage not supported on this browser",{fileName:"../../../../ceramic/plugins/clay/runtime/src/backend/IO.hx",lineNumber:294,className:"backend.IO",methodName:"appendString"}),!1;var i=t.getItem(n);null==i?t.setItem(n,dn.encode(e)):t.setItem(n,i+dn.encode(e))}catch(e){Yi.lastError=e;t=oe.caught(e).unwrap();return he.app.logger.error("Failed to append string (key="+n+"): "+X.string(t),{fileName:"../../../../ceramic/plugins/clay/runtime/src/backend/IO.hx",lineNumber:307,className:"backend.IO",methodName:"appendString"}),!1}return!0},readString:function(n){try{var e,t=window.localStorage;return null==t?(he.app.logger.error("Cannot read string: localStorage not supported on this browser",{fileName:"../../../../ceramic/plugins/clay/runtime/src/backend/IO.hx",lineNumber:320,className:"backend.IO",methodName:"readString"}),null):null!=(e=t.getItem(n))?dn.decode(e):null}catch(e){Yi.lastError=e;t=oe.caught(e).unwrap();return he.app.logger.error("Failed to read string (key="+n+"): "+X.string(t),{fileName:"../../../../ceramic/plugins/clay/runtime/src/backend/IO.hx",lineNumber:328,className:"backend.IO",methodName:"readString"}),null}},__class__:we},(E["spec.Info"]=Y).__name__="spec.Info",Y.__isInterface__=!0,Y.prototype={storageDirectory:null,imageExtensions:null,textExtensions:null,soundExtensions:null,shaderExtensions:null,__class__:Y},function(){}),ye=((E["backend.Info"]=me).__name__="backend.Info",me.__interfaces__=[Y],me.prototype={storageDirectory:function(){return null},imageExtensions:function(){return["png","jpg","jpeg"]},textExtensions:function(){return["txt","json","fnt","atlas"]},soundExtensions:function(){var e,n,t,i;return null==me._soundExtensions&&(me._soundExtensions=[],e=new Audio,n=null!=be.navigator?be.navigator.userAgent:"",i=me.RE_OPERA.match(n)&&parseInt(me.RE_OPERA.matched(0).split("/")[1],10)<33,t=-1!=n.indexOf("Safari")&&-1==n.indexOf("Chrome"),n=me.RE_SAFARI_VERSION.match(n),t&&n&&parseInt(me.RE_SAFARI_VERSION.matched(1),10),null!=(t=e.canPlayType('audio/ogg; codecs="vorbis"'))&&"no"!=t&&""!=t&&me._soundExtensions.push("ogg"),n=e.canPlayType("audio/mpeg;"),t=e.canPlayType("audio/mp3;"),!i&&(null!=n&&"no"!=n&&""!=n||null!=t&&"no"!=t&&""!=t)&&me._soundExtensions.push("mp3"),i=e.canPlayType("audio/x-flac;"),n=e.canPlayType("audio/flac;"),(null!=i&&"no"!=i&&""!=i||null!=n&&"no"!=n&&""!=n)&&me._soundExtensions.push("flac"),t=e.canPlayType('audio/wav; codecs="1"'),i=e.canPlayType("audio/wav;"),null!=t&&"no"!=t&&""!=t||null!=i&&"no"!=i&&""!=i)&&me._soundExtensions.push("wav"),[].concat(me._soundExtensions)},shaderExtensions:function(){return["frag","vert"]},__class__:me},(E["spec.Input"]=$).__name__="spec.Input",$.__isInterface__=!0,function(){}),Ue=((E["backend.Input"]=ye).__name__="backend.Input",ye.__interfaces__=[$,i],ye.prototype={__cbOnKeyDown:null,__cbOnceKeyDown:null,__cbOnOwnerUnbindKeyDown:null,__cbOnceOwnerUnbindKeyDown:null,emitKeyDown:function(e){var n=0;if(null!=this.__cbOnKeyDown&&(n+=this.__cbOnKeyDown.length),null!=this.__cbOnceKeyDown&&(n+=this.__cbOnceKeyDown.length),0<n){var t=C.pool(n),i=t.get(),l=0;if(null!=this.__cbOnKeyDown)for(var r=0,s=this.__cbOnKeyDown.length;r<s;){var h=r++;!0?(i.vector[l]=this.__cbOnKeyDown[h],++l):--n}if(null!=this.__cbOnceKeyDown){for(var a=null,o=null,r=0,s=this.__cbOnceKeyDown.length;r<s;){var c,h=r++;!0?(i.vector[l]=this.__cbOnceKeyDown[h],this.__cbOnceKeyDown[h]=null,c=this.__cbOnceOwnerUnbindKeyDown[h],(this.__cbOnceOwnerUnbindKeyDown[h]=null)!=c&&c(),++l):(--n,null==a&&(a=[],o=[],0),a.push(this.__cbOnceOwnerUnbindKeyDown[h]),o.push(this.__cbOnceKeyDown[h]))}this.__cbOnceOwnerUnbindKeyDown=a,this.__cbOnceKeyDown=o}for(r=0,s=n;r<s;){l=r++;(0,i.vector[l])(e)}t.release(i)}},onKeyDown:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event keyDown because owner is destroyed!");var l=function(e){null!=t&&(i.offKeyDown(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindKeyDown&&(this.__cbOnOwnerUnbindKeyDown=[]),this.__cbOnOwnerUnbindKeyDown.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindKeyDown&&(this.__cbOnOwnerUnbindKeyDown=[]),this.__cbOnOwnerUnbindKeyDown.push(null);null==this.__cbOnKeyDown&&(this.__cbOnKeyDown=[]),this.__cbOnKeyDown.push(t)},onceKeyDown:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event keyDown because owner is destroyed!");var l=function(e){null!=t&&(i.offKeyDown(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindKeyDown&&(this.__cbOnceOwnerUnbindKeyDown=[]),this.__cbOnceOwnerUnbindKeyDown.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindKeyDown&&(this.__cbOnceOwnerUnbindKeyDown=[]),this.__cbOnceOwnerUnbindKeyDown.push(null);null==this.__cbOnceKeyDown&&(this.__cbOnceKeyDown=[]),this.__cbOnceKeyDown.push(t)},offKeyDown:function(e){if(null!=e){var n;null!=this.__cbOnKeyDown&&-1!=(n=this.__cbOnKeyDown.indexOf(e))&&(this.__cbOnKeyDown.splice(n,1),null!=(r=this.__cbOnOwnerUnbindKeyDown[n])&&r(),this.__cbOnOwnerUnbindKeyDown.splice(n,1)),null!=this.__cbOnceKeyDown&&-1!=(n=this.__cbOnceKeyDown.indexOf(e))&&(this.__cbOnceKeyDown.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindKeyDown[n])&&r(),this.__cbOnceOwnerUnbindKeyDown.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindKeyDown){for(var t=0,i=this.__cbOnOwnerUnbindKeyDown.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindKeyDown[l])&&r()}this.__cbOnOwnerUnbindKeyDown=null}if(null!=this.__cbOnceOwnerUnbindKeyDown){for(t=0,i=this.__cbOnceOwnerUnbindKeyDown.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindKeyDown[l])&&r()}this.__cbOnceOwnerUnbindKeyDown=null}this.__cbOnKeyDown=null,this.__cbOnceKeyDown=null}},listensKeyDown:function(){return null!=this.__cbOnKeyDown&&0<this.__cbOnKeyDown.length||null!=this.__cbOnceKeyDown&&0<this.__cbOnceKeyDown.length},__cbOnKeyUp:null,__cbOnceKeyUp:null,__cbOnOwnerUnbindKeyUp:null,__cbOnceOwnerUnbindKeyUp:null,emitKeyUp:function(e){var n=0;if(null!=this.__cbOnKeyUp&&(n+=this.__cbOnKeyUp.length),null!=this.__cbOnceKeyUp&&(n+=this.__cbOnceKeyUp.length),0<n){var t=C.pool(n),i=t.get(),l=0;if(null!=this.__cbOnKeyUp)for(var r=0,s=this.__cbOnKeyUp.length;r<s;){var h=r++;!0?(i.vector[l]=this.__cbOnKeyUp[h],++l):--n}if(null!=this.__cbOnceKeyUp){for(var a=null,o=null,r=0,s=this.__cbOnceKeyUp.length;r<s;){var c,h=r++;!0?(i.vector[l]=this.__cbOnceKeyUp[h],this.__cbOnceKeyUp[h]=null,c=this.__cbOnceOwnerUnbindKeyUp[h],(this.__cbOnceOwnerUnbindKeyUp[h]=null)!=c&&c(),++l):(--n,null==a&&(a=[],o=[],0),a.push(this.__cbOnceOwnerUnbindKeyUp[h]),o.push(this.__cbOnceKeyUp[h]))}this.__cbOnceOwnerUnbindKeyUp=a,this.__cbOnceKeyUp=o}for(r=0,s=n;r<s;){l=r++;(0,i.vector[l])(e)}t.release(i)}},onKeyUp:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event keyUp because owner is destroyed!");var l=function(e){null!=t&&(i.offKeyUp(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindKeyUp&&(this.__cbOnOwnerUnbindKeyUp=[]),this.__cbOnOwnerUnbindKeyUp.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindKeyUp&&(this.__cbOnOwnerUnbindKeyUp=[]),this.__cbOnOwnerUnbindKeyUp.push(null);null==this.__cbOnKeyUp&&(this.__cbOnKeyUp=[]),this.__cbOnKeyUp.push(t)},onceKeyUp:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event keyUp because owner is destroyed!");var l=function(e){null!=t&&(i.offKeyUp(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindKeyUp&&(this.__cbOnceOwnerUnbindKeyUp=[]),this.__cbOnceOwnerUnbindKeyUp.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindKeyUp&&(this.__cbOnceOwnerUnbindKeyUp=[]),this.__cbOnceOwnerUnbindKeyUp.push(null);null==this.__cbOnceKeyUp&&(this.__cbOnceKeyUp=[]),this.__cbOnceKeyUp.push(t)},offKeyUp:function(e){if(null!=e){var n;null!=this.__cbOnKeyUp&&-1!=(n=this.__cbOnKeyUp.indexOf(e))&&(this.__cbOnKeyUp.splice(n,1),null!=(r=this.__cbOnOwnerUnbindKeyUp[n])&&r(),this.__cbOnOwnerUnbindKeyUp.splice(n,1)),null!=this.__cbOnceKeyUp&&-1!=(n=this.__cbOnceKeyUp.indexOf(e))&&(this.__cbOnceKeyUp.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindKeyUp[n])&&r(),this.__cbOnceOwnerUnbindKeyUp.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindKeyUp){for(var t=0,i=this.__cbOnOwnerUnbindKeyUp.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindKeyUp[l])&&r()}this.__cbOnOwnerUnbindKeyUp=null}if(null!=this.__cbOnceOwnerUnbindKeyUp){for(t=0,i=this.__cbOnceOwnerUnbindKeyUp.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindKeyUp[l])&&r()}this.__cbOnceOwnerUnbindKeyUp=null}this.__cbOnKeyUp=null,this.__cbOnceKeyUp=null}},listensKeyUp:function(){return null!=this.__cbOnKeyUp&&0<this.__cbOnKeyUp.length||null!=this.__cbOnceKeyUp&&0<this.__cbOnceKeyUp.length},__cbOnGamepadAxis:null,__cbOnceGamepadAxis:null,__cbOnOwnerUnbindGamepadAxis:null,__cbOnceOwnerUnbindGamepadAxis:null,emitGamepadAxis:function(e,n,t){var i=0;if(null!=this.__cbOnGamepadAxis&&(i+=this.__cbOnGamepadAxis.length),null!=this.__cbOnceGamepadAxis&&(i+=this.__cbOnceGamepadAxis.length),0<i){var l=C.pool(i),r=l.get(),s=0;if(null!=this.__cbOnGamepadAxis)for(var h=0,a=this.__cbOnGamepadAxis.length;h<a;){var o=h++;!0?(r.vector[s]=this.__cbOnGamepadAxis[o],++s):--i}if(null!=this.__cbOnceGamepadAxis){for(var c=null,u=null,h=0,a=this.__cbOnceGamepadAxis.length;h<a;){var _,o=h++;!0?(r.vector[s]=this.__cbOnceGamepadAxis[o],this.__cbOnceGamepadAxis[o]=null,_=this.__cbOnceOwnerUnbindGamepadAxis[o],(this.__cbOnceOwnerUnbindGamepadAxis[o]=null)!=_&&_(),++s):(--i,null==c&&(c=[],u=[],0),c.push(this.__cbOnceOwnerUnbindGamepadAxis[o]),u.push(this.__cbOnceGamepadAxis[o]))}this.__cbOnceOwnerUnbindGamepadAxis=c,this.__cbOnceGamepadAxis=u}for(h=0,a=i;h<a;){s=h++;(0,r.vector[s])(e,n,t)}l.release(r)}},onGamepadAxis:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event gamepadAxis because owner is destroyed!");var l=function(e){null!=t&&(i.offGamepadAxis(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindGamepadAxis&&(this.__cbOnOwnerUnbindGamepadAxis=[]),this.__cbOnOwnerUnbindGamepadAxis.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindGamepadAxis&&(this.__cbOnOwnerUnbindGamepadAxis=[]),this.__cbOnOwnerUnbindGamepadAxis.push(null);null==this.__cbOnGamepadAxis&&(this.__cbOnGamepadAxis=[]),this.__cbOnGamepadAxis.push(t)},onceGamepadAxis:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event gamepadAxis because owner is destroyed!");var l=function(e){null!=t&&(i.offGamepadAxis(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindGamepadAxis&&(this.__cbOnceOwnerUnbindGamepadAxis=[]),this.__cbOnceOwnerUnbindGamepadAxis.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindGamepadAxis&&(this.__cbOnceOwnerUnbindGamepadAxis=[]),this.__cbOnceOwnerUnbindGamepadAxis.push(null);null==this.__cbOnceGamepadAxis&&(this.__cbOnceGamepadAxis=[]),this.__cbOnceGamepadAxis.push(t)},offGamepadAxis:function(e){if(null!=e){var n;null!=this.__cbOnGamepadAxis&&-1!=(n=this.__cbOnGamepadAxis.indexOf(e))&&(this.__cbOnGamepadAxis.splice(n,1),null!=(r=this.__cbOnOwnerUnbindGamepadAxis[n])&&r(),this.__cbOnOwnerUnbindGamepadAxis.splice(n,1)),null!=this.__cbOnceGamepadAxis&&-1!=(n=this.__cbOnceGamepadAxis.indexOf(e))&&(this.__cbOnceGamepadAxis.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindGamepadAxis[n])&&r(),this.__cbOnceOwnerUnbindGamepadAxis.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindGamepadAxis){for(var t=0,i=this.__cbOnOwnerUnbindGamepadAxis.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindGamepadAxis[l])&&r()}this.__cbOnOwnerUnbindGamepadAxis=null}if(null!=this.__cbOnceOwnerUnbindGamepadAxis){for(t=0,i=this.__cbOnceOwnerUnbindGamepadAxis.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindGamepadAxis[l])&&r()}this.__cbOnceOwnerUnbindGamepadAxis=null}this.__cbOnGamepadAxis=null,this.__cbOnceGamepadAxis=null}},listensGamepadAxis:function(){return null!=this.__cbOnGamepadAxis&&0<this.__cbOnGamepadAxis.length||null!=this.__cbOnceGamepadAxis&&0<this.__cbOnceGamepadAxis.length},__cbOnGamepadDown:null,__cbOnceGamepadDown:null,__cbOnOwnerUnbindGamepadDown:null,__cbOnceOwnerUnbindGamepadDown:null,emitGamepadDown:function(e,n){var t=0;if(null!=this.__cbOnGamepadDown&&(t+=this.__cbOnGamepadDown.length),null!=this.__cbOnceGamepadDown&&(t+=this.__cbOnceGamepadDown.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnGamepadDown)for(var s=0,h=this.__cbOnGamepadDown.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnGamepadDown[a],++r):--t}if(null!=this.__cbOnceGamepadDown){for(var o=null,c=null,s=0,h=this.__cbOnceGamepadDown.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceGamepadDown[a],this.__cbOnceGamepadDown[a]=null,u=this.__cbOnceOwnerUnbindGamepadDown[a],(this.__cbOnceOwnerUnbindGamepadDown[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindGamepadDown[a]),c.push(this.__cbOnceGamepadDown[a]))}this.__cbOnceOwnerUnbindGamepadDown=o,this.__cbOnceGamepadDown=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onGamepadDown:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event gamepadDown because owner is destroyed!");var l=function(e){null!=t&&(i.offGamepadDown(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindGamepadDown&&(this.__cbOnOwnerUnbindGamepadDown=[]),this.__cbOnOwnerUnbindGamepadDown.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindGamepadDown&&(this.__cbOnOwnerUnbindGamepadDown=[]),this.__cbOnOwnerUnbindGamepadDown.push(null);null==this.__cbOnGamepadDown&&(this.__cbOnGamepadDown=[]),this.__cbOnGamepadDown.push(t)},onceGamepadDown:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event gamepadDown because owner is destroyed!");var l=function(e){null!=t&&(i.offGamepadDown(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindGamepadDown&&(this.__cbOnceOwnerUnbindGamepadDown=[]),this.__cbOnceOwnerUnbindGamepadDown.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindGamepadDown&&(this.__cbOnceOwnerUnbindGamepadDown=[]),this.__cbOnceOwnerUnbindGamepadDown.push(null);null==this.__cbOnceGamepadDown&&(this.__cbOnceGamepadDown=[]),this.__cbOnceGamepadDown.push(t)},offGamepadDown:function(e){if(null!=e){var n;null!=this.__cbOnGamepadDown&&-1!=(n=this.__cbOnGamepadDown.indexOf(e))&&(this.__cbOnGamepadDown.splice(n,1),null!=(r=this.__cbOnOwnerUnbindGamepadDown[n])&&r(),this.__cbOnOwnerUnbindGamepadDown.splice(n,1)),null!=this.__cbOnceGamepadDown&&-1!=(n=this.__cbOnceGamepadDown.indexOf(e))&&(this.__cbOnceGamepadDown.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindGamepadDown[n])&&r(),this.__cbOnceOwnerUnbindGamepadDown.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindGamepadDown){for(var t=0,i=this.__cbOnOwnerUnbindGamepadDown.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindGamepadDown[l])&&r()}this.__cbOnOwnerUnbindGamepadDown=null}if(null!=this.__cbOnceOwnerUnbindGamepadDown){for(t=0,i=this.__cbOnceOwnerUnbindGamepadDown.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindGamepadDown[l])&&r()}this.__cbOnceOwnerUnbindGamepadDown=null}this.__cbOnGamepadDown=null,this.__cbOnceGamepadDown=null}},listensGamepadDown:function(){return null!=this.__cbOnGamepadDown&&0<this.__cbOnGamepadDown.length||null!=this.__cbOnceGamepadDown&&0<this.__cbOnceGamepadDown.length},__cbOnGamepadUp:null,__cbOnceGamepadUp:null,__cbOnOwnerUnbindGamepadUp:null,__cbOnceOwnerUnbindGamepadUp:null,emitGamepadUp:function(e,n){var t=0;if(null!=this.__cbOnGamepadUp&&(t+=this.__cbOnGamepadUp.length),null!=this.__cbOnceGamepadUp&&(t+=this.__cbOnceGamepadUp.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnGamepadUp)for(var s=0,h=this.__cbOnGamepadUp.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnGamepadUp[a],++r):--t}if(null!=this.__cbOnceGamepadUp){for(var o=null,c=null,s=0,h=this.__cbOnceGamepadUp.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceGamepadUp[a],this.__cbOnceGamepadUp[a]=null,u=this.__cbOnceOwnerUnbindGamepadUp[a],(this.__cbOnceOwnerUnbindGamepadUp[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindGamepadUp[a]),c.push(this.__cbOnceGamepadUp[a]))}this.__cbOnceOwnerUnbindGamepadUp=o,this.__cbOnceGamepadUp=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onGamepadUp:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event gamepadUp because owner is destroyed!");var l=function(e){null!=t&&(i.offGamepadUp(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindGamepadUp&&(this.__cbOnOwnerUnbindGamepadUp=[]),this.__cbOnOwnerUnbindGamepadUp.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindGamepadUp&&(this.__cbOnOwnerUnbindGamepadUp=[]),this.__cbOnOwnerUnbindGamepadUp.push(null);null==this.__cbOnGamepadUp&&(this.__cbOnGamepadUp=[]),this.__cbOnGamepadUp.push(t)},onceGamepadUp:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event gamepadUp because owner is destroyed!");var l=function(e){null!=t&&(i.offGamepadUp(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindGamepadUp&&(this.__cbOnceOwnerUnbindGamepadUp=[]),this.__cbOnceOwnerUnbindGamepadUp.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindGamepadUp&&(this.__cbOnceOwnerUnbindGamepadUp=[]),this.__cbOnceOwnerUnbindGamepadUp.push(null);null==this.__cbOnceGamepadUp&&(this.__cbOnceGamepadUp=[]),this.__cbOnceGamepadUp.push(t)},offGamepadUp:function(e){if(null!=e){var n;null!=this.__cbOnGamepadUp&&-1!=(n=this.__cbOnGamepadUp.indexOf(e))&&(this.__cbOnGamepadUp.splice(n,1),null!=(r=this.__cbOnOwnerUnbindGamepadUp[n])&&r(),this.__cbOnOwnerUnbindGamepadUp.splice(n,1)),null!=this.__cbOnceGamepadUp&&-1!=(n=this.__cbOnceGamepadUp.indexOf(e))&&(this.__cbOnceGamepadUp.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindGamepadUp[n])&&r(),this.__cbOnceOwnerUnbindGamepadUp.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindGamepadUp){for(var t=0,i=this.__cbOnOwnerUnbindGamepadUp.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindGamepadUp[l])&&r()}this.__cbOnOwnerUnbindGamepadUp=null}if(null!=this.__cbOnceOwnerUnbindGamepadUp){for(t=0,i=this.__cbOnceOwnerUnbindGamepadUp.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindGamepadUp[l])&&r()}this.__cbOnceOwnerUnbindGamepadUp=null}this.__cbOnGamepadUp=null,this.__cbOnceGamepadUp=null}},listensGamepadUp:function(){return null!=this.__cbOnGamepadUp&&0<this.__cbOnGamepadUp.length||null!=this.__cbOnceGamepadUp&&0<this.__cbOnceGamepadUp.length},__cbOnGamepadGyro:null,__cbOnceGamepadGyro:null,__cbOnOwnerUnbindGamepadGyro:null,__cbOnceOwnerUnbindGamepadGyro:null,emitGamepadGyro:function(e,n,t,i){var l=0;if(null!=this.__cbOnGamepadGyro&&(l+=this.__cbOnGamepadGyro.length),null!=this.__cbOnceGamepadGyro&&(l+=this.__cbOnceGamepadGyro.length),0<l){var r=C.pool(l),s=r.get(),h=0;if(null!=this.__cbOnGamepadGyro)for(var a=0,o=this.__cbOnGamepadGyro.length;a<o;){var c=a++;!0?(s.vector[h]=this.__cbOnGamepadGyro[c],++h):--l}if(null!=this.__cbOnceGamepadGyro){for(var u=null,_=null,a=0,o=this.__cbOnceGamepadGyro.length;a<o;){var d,c=a++;!0?(s.vector[h]=this.__cbOnceGamepadGyro[c],this.__cbOnceGamepadGyro[c]=null,d=this.__cbOnceOwnerUnbindGamepadGyro[c],(this.__cbOnceOwnerUnbindGamepadGyro[c]=null)!=d&&d(),++h):(--l,null==u&&(u=[],_=[],0),u.push(this.__cbOnceOwnerUnbindGamepadGyro[c]),_.push(this.__cbOnceGamepadGyro[c]))}this.__cbOnceOwnerUnbindGamepadGyro=u,this.__cbOnceGamepadGyro=_}for(a=0,o=l;a<o;){h=a++;(0,s.vector[h])(e,n,t,i)}r.release(s)}},onGamepadGyro:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event gamepadGyro because owner is destroyed!");var l=function(e){null!=t&&(i.offGamepadGyro(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindGamepadGyro&&(this.__cbOnOwnerUnbindGamepadGyro=[]),this.__cbOnOwnerUnbindGamepadGyro.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindGamepadGyro&&(this.__cbOnOwnerUnbindGamepadGyro=[]),this.__cbOnOwnerUnbindGamepadGyro.push(null);null==this.__cbOnGamepadGyro&&(this.__cbOnGamepadGyro=[]),this.__cbOnGamepadGyro.push(t)},onceGamepadGyro:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event gamepadGyro because owner is destroyed!");var l=function(e){null!=t&&(i.offGamepadGyro(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindGamepadGyro&&(this.__cbOnceOwnerUnbindGamepadGyro=[]),this.__cbOnceOwnerUnbindGamepadGyro.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindGamepadGyro&&(this.__cbOnceOwnerUnbindGamepadGyro=[]),this.__cbOnceOwnerUnbindGamepadGyro.push(null);null==this.__cbOnceGamepadGyro&&(this.__cbOnceGamepadGyro=[]),this.__cbOnceGamepadGyro.push(t)},offGamepadGyro:function(e){if(null!=e){var n;null!=this.__cbOnGamepadGyro&&-1!=(n=this.__cbOnGamepadGyro.indexOf(e))&&(this.__cbOnGamepadGyro.splice(n,1),null!=(r=this.__cbOnOwnerUnbindGamepadGyro[n])&&r(),this.__cbOnOwnerUnbindGamepadGyro.splice(n,1)),null!=this.__cbOnceGamepadGyro&&-1!=(n=this.__cbOnceGamepadGyro.indexOf(e))&&(this.__cbOnceGamepadGyro.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindGamepadGyro[n])&&r(),this.__cbOnceOwnerUnbindGamepadGyro.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindGamepadGyro){for(var t=0,i=this.__cbOnOwnerUnbindGamepadGyro.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindGamepadGyro[l])&&r()}this.__cbOnOwnerUnbindGamepadGyro=null}if(null!=this.__cbOnceOwnerUnbindGamepadGyro){for(t=0,i=this.__cbOnceOwnerUnbindGamepadGyro.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindGamepadGyro[l])&&r()}this.__cbOnceOwnerUnbindGamepadGyro=null}this.__cbOnGamepadGyro=null,this.__cbOnceGamepadGyro=null}},listensGamepadGyro:function(){return null!=this.__cbOnGamepadGyro&&0<this.__cbOnGamepadGyro.length||null!=this.__cbOnceGamepadGyro&&0<this.__cbOnceGamepadGyro.length},__cbOnGamepadEnable:null,__cbOnceGamepadEnable:null,__cbOnOwnerUnbindGamepadEnable:null,__cbOnceOwnerUnbindGamepadEnable:null,emitGamepadEnable:function(e,n){var t=0;if(null!=this.__cbOnGamepadEnable&&(t+=this.__cbOnGamepadEnable.length),null!=this.__cbOnceGamepadEnable&&(t+=this.__cbOnceGamepadEnable.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnGamepadEnable)for(var s=0,h=this.__cbOnGamepadEnable.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnGamepadEnable[a],++r):--t}if(null!=this.__cbOnceGamepadEnable){for(var o=null,c=null,s=0,h=this.__cbOnceGamepadEnable.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceGamepadEnable[a],this.__cbOnceGamepadEnable[a]=null,u=this.__cbOnceOwnerUnbindGamepadEnable[a],(this.__cbOnceOwnerUnbindGamepadEnable[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindGamepadEnable[a]),c.push(this.__cbOnceGamepadEnable[a]))}this.__cbOnceOwnerUnbindGamepadEnable=o,this.__cbOnceGamepadEnable=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onGamepadEnable:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event gamepadEnable because owner is destroyed!");var l=function(e){null!=t&&(i.offGamepadEnable(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindGamepadEnable&&(this.__cbOnOwnerUnbindGamepadEnable=[]),this.__cbOnOwnerUnbindGamepadEnable.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindGamepadEnable&&(this.__cbOnOwnerUnbindGamepadEnable=[]),this.__cbOnOwnerUnbindGamepadEnable.push(null);null==this.__cbOnGamepadEnable&&(this.__cbOnGamepadEnable=[]),this.__cbOnGamepadEnable.push(t)},onceGamepadEnable:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event gamepadEnable because owner is destroyed!");var l=function(e){null!=t&&(i.offGamepadEnable(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindGamepadEnable&&(this.__cbOnceOwnerUnbindGamepadEnable=[]),this.__cbOnceOwnerUnbindGamepadEnable.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindGamepadEnable&&(this.__cbOnceOwnerUnbindGamepadEnable=[]),this.__cbOnceOwnerUnbindGamepadEnable.push(null);null==this.__cbOnceGamepadEnable&&(this.__cbOnceGamepadEnable=[]),this.__cbOnceGamepadEnable.push(t)},offGamepadEnable:function(e){if(null!=e){var n;null!=this.__cbOnGamepadEnable&&-1!=(n=this.__cbOnGamepadEnable.indexOf(e))&&(this.__cbOnGamepadEnable.splice(n,1),null!=(r=this.__cbOnOwnerUnbindGamepadEnable[n])&&r(),this.__cbOnOwnerUnbindGamepadEnable.splice(n,1)),null!=this.__cbOnceGamepadEnable&&-1!=(n=this.__cbOnceGamepadEnable.indexOf(e))&&(this.__cbOnceGamepadEnable.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindGamepadEnable[n])&&r(),this.__cbOnceOwnerUnbindGamepadEnable.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindGamepadEnable){for(var t=0,i=this.__cbOnOwnerUnbindGamepadEnable.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindGamepadEnable[l])&&r()}this.__cbOnOwnerUnbindGamepadEnable=null}if(null!=this.__cbOnceOwnerUnbindGamepadEnable){for(t=0,i=this.__cbOnceOwnerUnbindGamepadEnable.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindGamepadEnable[l])&&r()}this.__cbOnceOwnerUnbindGamepadEnable=null}this.__cbOnGamepadEnable=null,this.__cbOnceGamepadEnable=null}},listensGamepadEnable:function(){return null!=this.__cbOnGamepadEnable&&0<this.__cbOnGamepadEnable.length||null!=this.__cbOnceGamepadEnable&&0<this.__cbOnceGamepadEnable.length},__cbOnGamepadDisable:null,__cbOnceGamepadDisable:null,__cbOnOwnerUnbindGamepadDisable:null,__cbOnceOwnerUnbindGamepadDisable:null,emitGamepadDisable:function(e){var n=0;if(null!=this.__cbOnGamepadDisable&&(n+=this.__cbOnGamepadDisable.length),null!=this.__cbOnceGamepadDisable&&(n+=this.__cbOnceGamepadDisable.length),0<n){var t=C.pool(n),i=t.get(),l=0;if(null!=this.__cbOnGamepadDisable)for(var r=0,s=this.__cbOnGamepadDisable.length;r<s;){var h=r++;!0?(i.vector[l]=this.__cbOnGamepadDisable[h],++l):--n}if(null!=this.__cbOnceGamepadDisable){for(var a=null,o=null,r=0,s=this.__cbOnceGamepadDisable.length;r<s;){var c,h=r++;!0?(i.vector[l]=this.__cbOnceGamepadDisable[h],this.__cbOnceGamepadDisable[h]=null,c=this.__cbOnceOwnerUnbindGamepadDisable[h],(this.__cbOnceOwnerUnbindGamepadDisable[h]=null)!=c&&c(),++l):(--n,null==a&&(a=[],o=[],0),a.push(this.__cbOnceOwnerUnbindGamepadDisable[h]),o.push(this.__cbOnceGamepadDisable[h]))}this.__cbOnceOwnerUnbindGamepadDisable=a,this.__cbOnceGamepadDisable=o}for(r=0,s=n;r<s;){l=r++;(0,i.vector[l])(e)}t.release(i)}},onGamepadDisable:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event gamepadDisable because owner is destroyed!");var l=function(e){null!=t&&(i.offGamepadDisable(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindGamepadDisable&&(this.__cbOnOwnerUnbindGamepadDisable=[]),this.__cbOnOwnerUnbindGamepadDisable.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindGamepadDisable&&(this.__cbOnOwnerUnbindGamepadDisable=[]),this.__cbOnOwnerUnbindGamepadDisable.push(null);null==this.__cbOnGamepadDisable&&(this.__cbOnGamepadDisable=[]),this.__cbOnGamepadDisable.push(t)},onceGamepadDisable:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event gamepadDisable because owner is destroyed!");var l=function(e){null!=t&&(i.offGamepadDisable(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindGamepadDisable&&(this.__cbOnceOwnerUnbindGamepadDisable=[]),this.__cbOnceOwnerUnbindGamepadDisable.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindGamepadDisable&&(this.__cbOnceOwnerUnbindGamepadDisable=[]),this.__cbOnceOwnerUnbindGamepadDisable.push(null);null==this.__cbOnceGamepadDisable&&(this.__cbOnceGamepadDisable=[]),this.__cbOnceGamepadDisable.push(t)},offGamepadDisable:function(e){if(null!=e){var n;null!=this.__cbOnGamepadDisable&&-1!=(n=this.__cbOnGamepadDisable.indexOf(e))&&(this.__cbOnGamepadDisable.splice(n,1),null!=(r=this.__cbOnOwnerUnbindGamepadDisable[n])&&r(),this.__cbOnOwnerUnbindGamepadDisable.splice(n,1)),null!=this.__cbOnceGamepadDisable&&-1!=(n=this.__cbOnceGamepadDisable.indexOf(e))&&(this.__cbOnceGamepadDisable.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindGamepadDisable[n])&&r(),this.__cbOnceOwnerUnbindGamepadDisable.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindGamepadDisable){for(var t=0,i=this.__cbOnOwnerUnbindGamepadDisable.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindGamepadDisable[l])&&r()}this.__cbOnOwnerUnbindGamepadDisable=null}if(null!=this.__cbOnceOwnerUnbindGamepadDisable){for(t=0,i=this.__cbOnceOwnerUnbindGamepadDisable.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindGamepadDisable[l])&&r()}this.__cbOnceOwnerUnbindGamepadDisable=null}this.__cbOnGamepadDisable=null,this.__cbOnceGamepadDisable=null}},listensGamepadDisable:function(){return null!=this.__cbOnGamepadDisable&&0<this.__cbOnGamepadDisable.length||null!=this.__cbOnceGamepadDisable&&0<this.__cbOnceGamepadDisable.length},startGamepadRumble:function(e,n,t,i){ee.app.runtime.startGamepadRumble(e,n,t,i)},stopGamepadRumble:function(e){ee.app.runtime.stopGamepadRumble(e)},unbindEvents:function(){this.offKeyDown(),this.offKeyUp(),this.offGamepadAxis(),this.offGamepadDown(),this.offGamepadUp(),this.offGamepadGyro(),this.offGamepadEnable(),this.offGamepadDisable()},__class__:ye},(E["backend.Main"]=aa).__name__="backend.Main",aa.main=function(){aa.events=new Q(aa.ready),new ee(aa.configure,aa.events)},aa.configure=function(i){var n;if(i.window.backgroundSleep=.016666666666666666,i.render.webgl.version=2,-1<be.navigator.userAgent.toLowerCase().indexOf(" electron/"))try{var e=require("@electron/remote").require("./app.js");e.isCeramicRunner&&(V.electronRunner=e)}catch(e){Yi.lastError=e}null!=V.electronRunner&&(document.getElementsByTagName("html")[0].className+=" in-electron-runner",Vn._hasElectronRunner=!0,n=console.log,console.log=function(e){V.electronRunner.consoleLog(e),n(e)},window.addEventListener("error",function(e){for(var e=e.error,n=(e instanceof $i&&e.get_stack(),null!=e?(""+e.stack).split("\n"):[]),t=n.length-1,i=-1!=navigator.platform.indexOf("Win");0<=t;){var l=n[t],l=z.ltrim(l);l=z.replace(l,"http://localhost:"+X.string(V.electronRunner.serverPort)+"/file:"+(i?"/":""),""),l=z.replace(l,"http://localhost:"+X.string(V.electronRunner.serverPort)+"/",X.string(V.electronRunner.appFiles)+"/"),V.electronRunner.consoleLog("[error] "+l),--t}}));var e=he.init(),l=(aa.project=new v(e),aa.app=he.app,i.runtime.preventDefaultMouseWheel=e.settings.get_preventDefaultMouseWheel(),aa.app.settings.onPreventDefaultMouseWheelChange(aa.app,function(e,n){i.runtime.preventDefaultMouseWheel=e||0<aa.app.numBlockingDefaultScroll}),i.runtime.preventDefaultTouches=e.settings.get_preventDefaultTouches(),aa.app.settings.onPreventDefaultTouchesChange(aa.app,function(e,n){i.runtime.preventDefaultTouches=e||0<aa.app.numBlockingDefaultScroll}),aa.app.numBlockingDefaultScroll);aa.app.onPostUpdate(aa.app,function(e){var n,t=aa.app.numBlockingDefaultScroll;l!=t&&(l=t,n=aa.app.settings.get_preventDefaultTouches()||0<t,i.runtime.preventDefaultTouches=n,n=aa.app.settings.get_preventDefaultMouseWheel()||0<t,i.runtime.preventDefaultMouseWheel=n)}),null==V.electronRunner&&aa.app.settings.get_fullscreen()&&aa.app.settings.set_fullscreen(!1),i.render.antialiasing=aa.app.settings.antialiasing,0<aa.app.settings.get_windowWidth()?i.window.width=aa.app.settings.get_windowWidth():0<aa.app.settings.get_targetWidth()&&(i.window.width=aa.app.settings.get_targetWidth()),0<aa.app.settings.get_windowHeight()?i.window.height=aa.app.settings.get_windowHeight():0<aa.app.settings.get_targetHeight()&&(i.window.height=aa.app.settings.get_targetHeight()),i.window.fullscreen=aa.app.settings.get_fullscreen(),i.window.resizable=aa.app.settings.resizable,i.window.title=aa.app.settings.get_title(),i.render.stencil=2,i.render.depth=16,aa.configureOrientation(),null!=aa.app.settings.backend.webParent?i.runtime.windowParent=aa.app.settings.backend.webParent:i.runtime.windowParent=window.document.getElementById("ceramic-app"),i.runtime.mouseUseBrowserWindowEvents=!0,aa.app.settings.backend.allowDefaultKeys&&(i.runtime.preventDefaultKeys=[]),aa.containerElId=null!=aa.app.settings.backend.webParent?aa.app.settings.backend.webParent.id:"ceramic-app",aa.containerWidth=0,aa.containerHeight=0,aa.containerPixelRatio=0,window.document.body.classList.add("ceramic-invisible"),window.requestAnimationFrame(aa._updateContainerSizeIfNeeded),null!=V.electronRunner&&(null!=V.electronRunner.ceramicSettings&&V.electronRunner.ceramicSettings({trace:function(e){},title:aa.app.settings.get_title(),fullscreen:aa.app.settings.get_fullscreen(),resizable:aa.app.settings.resizable,targetWidth:0<aa.app.settings.get_windowWidth()?aa.app.settings.get_windowWidth():aa.app.settings.get_targetWidth(),targetHeight:0<aa.app.settings.get_windowHeight()?aa.app.settings.get_windowHeight():aa.app.settings.get_targetHeight()}),null!=V.electronRunner.listenFullscreen)&&V.electronRunner.listenFullscreen(function(e){he.app.settings.set_fullscreen(!0)},function(e){he.app.settings.set_fullscreen(!1)})},aa._updateContainerSizeIfNeeded=function(e){null==e&&(e=.016);var e=window.document.getElementById(aa.containerElId),n=window.document.getElementById("app");if(null!=e&&null!=n){var t,i=e.offsetWidth,e=e.offsetHeight,l=window.performance.now()/1e3;if(-1!=aa.lastResizeTime&&(i!=aa.lastNewWidth||e!=aa.lastNewHeight))return-1==aa.lastNewWidth&&-1==aa.lastNewHeight||window.document.body.classList.add("ceramic-invisible"),aa.lastResizeTime=l,aa.lastNewWidth=i,aa.lastNewHeight=e,void window.requestAnimationFrame(aa._updateContainerSizeIfNeeded);if(-1!=aa.lastResizeTime&&l-aa.lastResizeTime<.1)return void window.requestAnimationFrame(aa._updateContainerSizeIfNeeded);i==aa.containerWidth&&e==aa.containerHeight&&window.devicePixelRatio==aa.containerPixelRatio||(aa.containerWidth=i,aa.containerHeight=e,aa.containerPixelRatio=window.devicePixelRatio,n.style.width=aa.containerWidth+"px",n.style.height=aa.containerHeight+"px",n.width=Math.round(aa.containerWidth*window.devicePixelRatio),n.height=Math.round(aa.containerHeight*window.devicePixelRatio),aa.resizing++,-1!=aa.lastResizeTime&&window.document.body.classList.add("ceramic-invisible"),t=function(){0==aa.resizing&&aa.readyToDisplay&&window.document.body.classList.remove("ceramic-invisible")},window.setTimeout(function(){aa.resizing--,t()},100),aa.lastResizeTime=l)}window.requestAnimationFrame(aa._updateContainerSizeIfNeeded)},aa._appLoaderCheckDisplayReady=function(e){aa._displayReady?e():aa._pendingDisplayReadyDone=e},aa.ready=function(){aa.app.backend.io.initKeyValueIfNeeded(),aa._displayReady=!1,aa.app.loaders.push(aa._appLoaderCheckDisplayReady),ee._graphics.loadExtensions(),null!=V.electronRunner&&V.electronRunner.ceramicReady();var n=null,n=window.setInterval(function(){var e=null!=aa.app.settings.backend.webParent?aa.app.settings.backend.webParent.id:"ceramic-app",e=window.document.getElementById(e);window.document.getElementById("app").offsetWidth==e.offsetWidth&&(aa.readyToDisplay=!0,window.clearInterval(n)),aa.readyToDisplay&&(0==aa.resizing&&window.document.body.classList.remove("ceramic-invisible"),aa._displayReady=!0,null!=aa._pendingDisplayReadyDone)&&(e=aa._pendingDisplayReadyDone,aa._pendingDisplayReadyDone=null,e())},500)},aa.configureOrientation=function(){},(E["spec.Screen"]=ba).__name__="spec.Screen",ba.__isInterface__=!0,ba.prototype={getWidth:null,getHeight:null,getDensity:null,setBackground:null,setWindowTitle:null,setWindowFullscreen:null,screenshotToTexture:null,screenshotToPng:null,screenshotToPixels:null,__class__:ba},function(){this.nextScreenshotIndex=0,this.didTryResumeAudioContext=!1}),De=((E["backend.Screen"]=Ue).__name__="backend.Screen",Ue.__interfaces__=[ba,i],Ue.prototype={__cbOnResize:null,__cbOnceResize:null,__cbOnOwnerUnbindResize:null,__cbOnceOwnerUnbindResize:null,emitResize:function(){var e=0;if(null!=this.__cbOnResize&&(e+=this.__cbOnResize.length),null!=this.__cbOnceResize&&(e+=this.__cbOnceResize.length),0<e){var n=C.pool(e),t=n.get(),i=0;if(null!=this.__cbOnResize)for(var l=0,r=this.__cbOnResize.length;l<r;){var s=l++;!0?(t.vector[i]=this.__cbOnResize[s],++i):--e}if(null!=this.__cbOnceResize){for(var h=null,a=null,l=0,r=this.__cbOnceResize.length;l<r;){var o,s=l++;!0?(t.vector[i]=this.__cbOnceResize[s],this.__cbOnceResize[s]=null,o=this.__cbOnceOwnerUnbindResize[s],(this.__cbOnceOwnerUnbindResize[s]=null)!=o&&o(),++i):(--e,null==h&&(h=[],a=[],0),h.push(this.__cbOnceOwnerUnbindResize[s]),a.push(this.__cbOnceResize[s]))}this.__cbOnceOwnerUnbindResize=h,this.__cbOnceResize=a}for(l=0,r=e;l<r;){i=l++;(0,t.vector[i])()}n.release(t)}},onResize:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event resize because owner is destroyed!");var l=function(e){null!=t&&(i.offResize(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindResize&&(this.__cbOnOwnerUnbindResize=[]),this.__cbOnOwnerUnbindResize.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindResize&&(this.__cbOnOwnerUnbindResize=[]),this.__cbOnOwnerUnbindResize.push(null);null==this.__cbOnResize&&(this.__cbOnResize=[]),this.__cbOnResize.push(t)},onceResize:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event resize because owner is destroyed!");var l=function(e){null!=t&&(i.offResize(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindResize&&(this.__cbOnceOwnerUnbindResize=[]),this.__cbOnceOwnerUnbindResize.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindResize&&(this.__cbOnceOwnerUnbindResize=[]),this.__cbOnceOwnerUnbindResize.push(null);null==this.__cbOnceResize&&(this.__cbOnceResize=[]),this.__cbOnceResize.push(t)},offResize:function(e){if(null!=e){var n;null!=this.__cbOnResize&&-1!=(n=this.__cbOnResize.indexOf(e))&&(this.__cbOnResize.splice(n,1),null!=(r=this.__cbOnOwnerUnbindResize[n])&&r(),this.__cbOnOwnerUnbindResize.splice(n,1)),null!=this.__cbOnceResize&&-1!=(n=this.__cbOnceResize.indexOf(e))&&(this.__cbOnceResize.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindResize[n])&&r(),this.__cbOnceOwnerUnbindResize.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindResize){for(var t=0,i=this.__cbOnOwnerUnbindResize.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindResize[l])&&r()}this.__cbOnOwnerUnbindResize=null}if(null!=this.__cbOnceOwnerUnbindResize){for(t=0,i=this.__cbOnceOwnerUnbindResize.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindResize[l])&&r()}this.__cbOnceOwnerUnbindResize=null}this.__cbOnResize=null,this.__cbOnceResize=null}},listensResize:function(){return null!=this.__cbOnResize&&0<this.__cbOnResize.length||null!=this.__cbOnceResize&&0<this.__cbOnceResize.length},__cbOnMouseDown:null,__cbOnceMouseDown:null,__cbOnOwnerUnbindMouseDown:null,__cbOnceOwnerUnbindMouseDown:null,emitMouseDown:function(e,n,t){this.tryResumeAudioContextIfNeeded();var i=0;if(null!=this.__cbOnMouseDown&&(i+=this.__cbOnMouseDown.length),null!=this.__cbOnceMouseDown&&(i+=this.__cbOnceMouseDown.length),0<i){var l=C.pool(i),r=l.get(),s=0;if(null!=this.__cbOnMouseDown)for(var h=0,a=this.__cbOnMouseDown.length;h<a;){var o=h++;!0?(r.vector[s]=this.__cbOnMouseDown[o],++s):--i}if(null!=this.__cbOnceMouseDown){for(var c=null,u=null,h=0,a=this.__cbOnceMouseDown.length;h<a;){var _,o=h++;!0?(r.vector[s]=this.__cbOnceMouseDown[o],this.__cbOnceMouseDown[o]=null,_=this.__cbOnceOwnerUnbindMouseDown[o],(this.__cbOnceOwnerUnbindMouseDown[o]=null)!=_&&_(),++s):(--i,null==c&&(c=[],u=[],0),c.push(this.__cbOnceOwnerUnbindMouseDown[o]),u.push(this.__cbOnceMouseDown[o]))}this.__cbOnceOwnerUnbindMouseDown=c,this.__cbOnceMouseDown=u}for(h=0,a=i;h<a;){s=h++;(0,r.vector[s])(e,n,t)}l.release(r)}},onMouseDown:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event mouseDown because owner is destroyed!");var l=function(e){null!=t&&(i.offMouseDown(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindMouseDown&&(this.__cbOnOwnerUnbindMouseDown=[]),this.__cbOnOwnerUnbindMouseDown.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindMouseDown&&(this.__cbOnOwnerUnbindMouseDown=[]),this.__cbOnOwnerUnbindMouseDown.push(null);null==this.__cbOnMouseDown&&(this.__cbOnMouseDown=[]),this.__cbOnMouseDown.push(t)},onceMouseDown:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event mouseDown because owner is destroyed!");var l=function(e){null!=t&&(i.offMouseDown(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindMouseDown&&(this.__cbOnceOwnerUnbindMouseDown=[]),this.__cbOnceOwnerUnbindMouseDown.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindMouseDown&&(this.__cbOnceOwnerUnbindMouseDown=[]),this.__cbOnceOwnerUnbindMouseDown.push(null);null==this.__cbOnceMouseDown&&(this.__cbOnceMouseDown=[]),this.__cbOnceMouseDown.push(t)},offMouseDown:function(e){if(null!=e){var n;null!=this.__cbOnMouseDown&&-1!=(n=this.__cbOnMouseDown.indexOf(e))&&(this.__cbOnMouseDown.splice(n,1),null!=(r=this.__cbOnOwnerUnbindMouseDown[n])&&r(),this.__cbOnOwnerUnbindMouseDown.splice(n,1)),null!=this.__cbOnceMouseDown&&-1!=(n=this.__cbOnceMouseDown.indexOf(e))&&(this.__cbOnceMouseDown.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindMouseDown[n])&&r(),this.__cbOnceOwnerUnbindMouseDown.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindMouseDown){for(var t=0,i=this.__cbOnOwnerUnbindMouseDown.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindMouseDown[l])&&r()}this.__cbOnOwnerUnbindMouseDown=null}if(null!=this.__cbOnceOwnerUnbindMouseDown){for(t=0,i=this.__cbOnceOwnerUnbindMouseDown.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindMouseDown[l])&&r()}this.__cbOnceOwnerUnbindMouseDown=null}this.__cbOnMouseDown=null,this.__cbOnceMouseDown=null}},listensMouseDown:function(){return null!=this.__cbOnMouseDown&&0<this.__cbOnMouseDown.length||null!=this.__cbOnceMouseDown&&0<this.__cbOnceMouseDown.length},__cbOnMouseUp:null,__cbOnceMouseUp:null,__cbOnOwnerUnbindMouseUp:null,__cbOnceOwnerUnbindMouseUp:null,emitMouseUp:function(e,n,t){var i=0;if(null!=this.__cbOnMouseUp&&(i+=this.__cbOnMouseUp.length),null!=this.__cbOnceMouseUp&&(i+=this.__cbOnceMouseUp.length),0<i){var l=C.pool(i),r=l.get(),s=0;if(null!=this.__cbOnMouseUp)for(var h=0,a=this.__cbOnMouseUp.length;h<a;){var o=h++;!0?(r.vector[s]=this.__cbOnMouseUp[o],++s):--i}if(null!=this.__cbOnceMouseUp){for(var c=null,u=null,h=0,a=this.__cbOnceMouseUp.length;h<a;){var _,o=h++;!0?(r.vector[s]=this.__cbOnceMouseUp[o],this.__cbOnceMouseUp[o]=null,_=this.__cbOnceOwnerUnbindMouseUp[o],(this.__cbOnceOwnerUnbindMouseUp[o]=null)!=_&&_(),++s):(--i,null==c&&(c=[],u=[],0),c.push(this.__cbOnceOwnerUnbindMouseUp[o]),u.push(this.__cbOnceMouseUp[o]))}this.__cbOnceOwnerUnbindMouseUp=c,this.__cbOnceMouseUp=u}for(h=0,a=i;h<a;){s=h++;(0,r.vector[s])(e,n,t)}l.release(r)}},onMouseUp:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event mouseUp because owner is destroyed!");var l=function(e){null!=t&&(i.offMouseUp(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindMouseUp&&(this.__cbOnOwnerUnbindMouseUp=[]),this.__cbOnOwnerUnbindMouseUp.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindMouseUp&&(this.__cbOnOwnerUnbindMouseUp=[]),this.__cbOnOwnerUnbindMouseUp.push(null);null==this.__cbOnMouseUp&&(this.__cbOnMouseUp=[]),this.__cbOnMouseUp.push(t)},onceMouseUp:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event mouseUp because owner is destroyed!");var l=function(e){null!=t&&(i.offMouseUp(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindMouseUp&&(this.__cbOnceOwnerUnbindMouseUp=[]),this.__cbOnceOwnerUnbindMouseUp.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindMouseUp&&(this.__cbOnceOwnerUnbindMouseUp=[]),this.__cbOnceOwnerUnbindMouseUp.push(null);null==this.__cbOnceMouseUp&&(this.__cbOnceMouseUp=[]),this.__cbOnceMouseUp.push(t)},offMouseUp:function(e){if(null!=e){var n;null!=this.__cbOnMouseUp&&-1!=(n=this.__cbOnMouseUp.indexOf(e))&&(this.__cbOnMouseUp.splice(n,1),null!=(r=this.__cbOnOwnerUnbindMouseUp[n])&&r(),this.__cbOnOwnerUnbindMouseUp.splice(n,1)),null!=this.__cbOnceMouseUp&&-1!=(n=this.__cbOnceMouseUp.indexOf(e))&&(this.__cbOnceMouseUp.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindMouseUp[n])&&r(),this.__cbOnceOwnerUnbindMouseUp.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindMouseUp){for(var t=0,i=this.__cbOnOwnerUnbindMouseUp.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindMouseUp[l])&&r()}this.__cbOnOwnerUnbindMouseUp=null}if(null!=this.__cbOnceOwnerUnbindMouseUp){for(t=0,i=this.__cbOnceOwnerUnbindMouseUp.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindMouseUp[l])&&r()}this.__cbOnceOwnerUnbindMouseUp=null}this.__cbOnMouseUp=null,this.__cbOnceMouseUp=null}},listensMouseUp:function(){return null!=this.__cbOnMouseUp&&0<this.__cbOnMouseUp.length||null!=this.__cbOnceMouseUp&&0<this.__cbOnceMouseUp.length},__cbOnMouseWheel:null,__cbOnceMouseWheel:null,__cbOnOwnerUnbindMouseWheel:null,__cbOnceOwnerUnbindMouseWheel:null,emitMouseWheel:function(e,n){var t=0;if(null!=this.__cbOnMouseWheel&&(t+=this.__cbOnMouseWheel.length),null!=this.__cbOnceMouseWheel&&(t+=this.__cbOnceMouseWheel.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnMouseWheel)for(var s=0,h=this.__cbOnMouseWheel.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnMouseWheel[a],++r):--t}if(null!=this.__cbOnceMouseWheel){for(var o=null,c=null,s=0,h=this.__cbOnceMouseWheel.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceMouseWheel[a],this.__cbOnceMouseWheel[a]=null,u=this.__cbOnceOwnerUnbindMouseWheel[a],(this.__cbOnceOwnerUnbindMouseWheel[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindMouseWheel[a]),c.push(this.__cbOnceMouseWheel[a]))}this.__cbOnceOwnerUnbindMouseWheel=o,this.__cbOnceMouseWheel=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onMouseWheel:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event mouseWheel because owner is destroyed!");var l=function(e){null!=t&&(i.offMouseWheel(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindMouseWheel&&(this.__cbOnOwnerUnbindMouseWheel=[]),this.__cbOnOwnerUnbindMouseWheel.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindMouseWheel&&(this.__cbOnOwnerUnbindMouseWheel=[]),this.__cbOnOwnerUnbindMouseWheel.push(null);null==this.__cbOnMouseWheel&&(this.__cbOnMouseWheel=[]),this.__cbOnMouseWheel.push(t)},onceMouseWheel:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event mouseWheel because owner is destroyed!");var l=function(e){null!=t&&(i.offMouseWheel(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindMouseWheel&&(this.__cbOnceOwnerUnbindMouseWheel=[]),this.__cbOnceOwnerUnbindMouseWheel.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindMouseWheel&&(this.__cbOnceOwnerUnbindMouseWheel=[]),this.__cbOnceOwnerUnbindMouseWheel.push(null);null==this.__cbOnceMouseWheel&&(this.__cbOnceMouseWheel=[]),this.__cbOnceMouseWheel.push(t)},offMouseWheel:function(e){if(null!=e){var n;null!=this.__cbOnMouseWheel&&-1!=(n=this.__cbOnMouseWheel.indexOf(e))&&(this.__cbOnMouseWheel.splice(n,1),null!=(r=this.__cbOnOwnerUnbindMouseWheel[n])&&r(),this.__cbOnOwnerUnbindMouseWheel.splice(n,1)),null!=this.__cbOnceMouseWheel&&-1!=(n=this.__cbOnceMouseWheel.indexOf(e))&&(this.__cbOnceMouseWheel.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindMouseWheel[n])&&r(),this.__cbOnceOwnerUnbindMouseWheel.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindMouseWheel){for(var t=0,i=this.__cbOnOwnerUnbindMouseWheel.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindMouseWheel[l])&&r()}this.__cbOnOwnerUnbindMouseWheel=null}if(null!=this.__cbOnceOwnerUnbindMouseWheel){for(t=0,i=this.__cbOnceOwnerUnbindMouseWheel.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindMouseWheel[l])&&r()}this.__cbOnceOwnerUnbindMouseWheel=null}this.__cbOnMouseWheel=null,this.__cbOnceMouseWheel=null}},listensMouseWheel:function(){return null!=this.__cbOnMouseWheel&&0<this.__cbOnMouseWheel.length||null!=this.__cbOnceMouseWheel&&0<this.__cbOnceMouseWheel.length},__cbOnMouseMove:null,__cbOnceMouseMove:null,__cbOnOwnerUnbindMouseMove:null,__cbOnceOwnerUnbindMouseMove:null,emitMouseMove:function(e,n){var t=0;if(null!=this.__cbOnMouseMove&&(t+=this.__cbOnMouseMove.length),null!=this.__cbOnceMouseMove&&(t+=this.__cbOnceMouseMove.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnMouseMove)for(var s=0,h=this.__cbOnMouseMove.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnMouseMove[a],++r):--t}if(null!=this.__cbOnceMouseMove){for(var o=null,c=null,s=0,h=this.__cbOnceMouseMove.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceMouseMove[a],this.__cbOnceMouseMove[a]=null,u=this.__cbOnceOwnerUnbindMouseMove[a],(this.__cbOnceOwnerUnbindMouseMove[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindMouseMove[a]),c.push(this.__cbOnceMouseMove[a]))}this.__cbOnceOwnerUnbindMouseMove=o,this.__cbOnceMouseMove=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onMouseMove:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event mouseMove because owner is destroyed!");var l=function(e){null!=t&&(i.offMouseMove(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindMouseMove&&(this.__cbOnOwnerUnbindMouseMove=[]),this.__cbOnOwnerUnbindMouseMove.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindMouseMove&&(this.__cbOnOwnerUnbindMouseMove=[]),this.__cbOnOwnerUnbindMouseMove.push(null);null==this.__cbOnMouseMove&&(this.__cbOnMouseMove=[]),this.__cbOnMouseMove.push(t)},onceMouseMove:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event mouseMove because owner is destroyed!");var l=function(e){null!=t&&(i.offMouseMove(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindMouseMove&&(this.__cbOnceOwnerUnbindMouseMove=[]),this.__cbOnceOwnerUnbindMouseMove.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindMouseMove&&(this.__cbOnceOwnerUnbindMouseMove=[]),this.__cbOnceOwnerUnbindMouseMove.push(null);null==this.__cbOnceMouseMove&&(this.__cbOnceMouseMove=[]),this.__cbOnceMouseMove.push(t)},offMouseMove:function(e){if(null!=e){var n;null!=this.__cbOnMouseMove&&-1!=(n=this.__cbOnMouseMove.indexOf(e))&&(this.__cbOnMouseMove.splice(n,1),null!=(r=this.__cbOnOwnerUnbindMouseMove[n])&&r(),this.__cbOnOwnerUnbindMouseMove.splice(n,1)),null!=this.__cbOnceMouseMove&&-1!=(n=this.__cbOnceMouseMove.indexOf(e))&&(this.__cbOnceMouseMove.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindMouseMove[n])&&r(),this.__cbOnceOwnerUnbindMouseMove.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindMouseMove){for(var t=0,i=this.__cbOnOwnerUnbindMouseMove.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindMouseMove[l])&&r()}this.__cbOnOwnerUnbindMouseMove=null}if(null!=this.__cbOnceOwnerUnbindMouseMove){for(t=0,i=this.__cbOnceOwnerUnbindMouseMove.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindMouseMove[l])&&r()}this.__cbOnceOwnerUnbindMouseMove=null}this.__cbOnMouseMove=null,this.__cbOnceMouseMove=null}},listensMouseMove:function(){return null!=this.__cbOnMouseMove&&0<this.__cbOnMouseMove.length||null!=this.__cbOnceMouseMove&&0<this.__cbOnceMouseMove.length},__cbOnTouchDown:null,__cbOnceTouchDown:null,__cbOnOwnerUnbindTouchDown:null,__cbOnceOwnerUnbindTouchDown:null,emitTouchDown:function(e,n,t){this.tryResumeAudioContextIfNeeded();var i=0;if(null!=this.__cbOnTouchDown&&(i+=this.__cbOnTouchDown.length),null!=this.__cbOnceTouchDown&&(i+=this.__cbOnceTouchDown.length),0<i){var l=C.pool(i),r=l.get(),s=0;if(null!=this.__cbOnTouchDown)for(var h=0,a=this.__cbOnTouchDown.length;h<a;){var o=h++;!0?(r.vector[s]=this.__cbOnTouchDown[o],++s):--i}if(null!=this.__cbOnceTouchDown){for(var c=null,u=null,h=0,a=this.__cbOnceTouchDown.length;h<a;){var _,o=h++;!0?(r.vector[s]=this.__cbOnceTouchDown[o],this.__cbOnceTouchDown[o]=null,_=this.__cbOnceOwnerUnbindTouchDown[o],(this.__cbOnceOwnerUnbindTouchDown[o]=null)!=_&&_(),++s):(--i,null==c&&(c=[],u=[],0),c.push(this.__cbOnceOwnerUnbindTouchDown[o]),u.push(this.__cbOnceTouchDown[o]))}this.__cbOnceOwnerUnbindTouchDown=c,this.__cbOnceTouchDown=u}for(h=0,a=i;h<a;){s=h++;(0,r.vector[s])(e,n,t)}l.release(r)}},onTouchDown:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event touchDown because owner is destroyed!");var l=function(e){null!=t&&(i.offTouchDown(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindTouchDown&&(this.__cbOnOwnerUnbindTouchDown=[]),this.__cbOnOwnerUnbindTouchDown.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindTouchDown&&(this.__cbOnOwnerUnbindTouchDown=[]),this.__cbOnOwnerUnbindTouchDown.push(null);null==this.__cbOnTouchDown&&(this.__cbOnTouchDown=[]),this.__cbOnTouchDown.push(t)},onceTouchDown:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event touchDown because owner is destroyed!");var l=function(e){null!=t&&(i.offTouchDown(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindTouchDown&&(this.__cbOnceOwnerUnbindTouchDown=[]),this.__cbOnceOwnerUnbindTouchDown.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindTouchDown&&(this.__cbOnceOwnerUnbindTouchDown=[]),this.__cbOnceOwnerUnbindTouchDown.push(null);null==this.__cbOnceTouchDown&&(this.__cbOnceTouchDown=[]),this.__cbOnceTouchDown.push(t)},offTouchDown:function(e){if(null!=e){var n;null!=this.__cbOnTouchDown&&-1!=(n=this.__cbOnTouchDown.indexOf(e))&&(this.__cbOnTouchDown.splice(n,1),null!=(r=this.__cbOnOwnerUnbindTouchDown[n])&&r(),this.__cbOnOwnerUnbindTouchDown.splice(n,1)),null!=this.__cbOnceTouchDown&&-1!=(n=this.__cbOnceTouchDown.indexOf(e))&&(this.__cbOnceTouchDown.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindTouchDown[n])&&r(),this.__cbOnceOwnerUnbindTouchDown.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindTouchDown){for(var t=0,i=this.__cbOnOwnerUnbindTouchDown.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindTouchDown[l])&&r()}this.__cbOnOwnerUnbindTouchDown=null}if(null!=this.__cbOnceOwnerUnbindTouchDown){for(t=0,i=this.__cbOnceOwnerUnbindTouchDown.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindTouchDown[l])&&r()}this.__cbOnceOwnerUnbindTouchDown=null}this.__cbOnTouchDown=null,this.__cbOnceTouchDown=null}},listensTouchDown:function(){return null!=this.__cbOnTouchDown&&0<this.__cbOnTouchDown.length||null!=this.__cbOnceTouchDown&&0<this.__cbOnceTouchDown.length},__cbOnTouchUp:null,__cbOnceTouchUp:null,__cbOnOwnerUnbindTouchUp:null,__cbOnceOwnerUnbindTouchUp:null,emitTouchUp:function(e,n,t){var i=0;if(null!=this.__cbOnTouchUp&&(i+=this.__cbOnTouchUp.length),null!=this.__cbOnceTouchUp&&(i+=this.__cbOnceTouchUp.length),0<i){var l=C.pool(i),r=l.get(),s=0;if(null!=this.__cbOnTouchUp)for(var h=0,a=this.__cbOnTouchUp.length;h<a;){var o=h++;!0?(r.vector[s]=this.__cbOnTouchUp[o],++s):--i}if(null!=this.__cbOnceTouchUp){for(var c=null,u=null,h=0,a=this.__cbOnceTouchUp.length;h<a;){var _,o=h++;!0?(r.vector[s]=this.__cbOnceTouchUp[o],this.__cbOnceTouchUp[o]=null,_=this.__cbOnceOwnerUnbindTouchUp[o],(this.__cbOnceOwnerUnbindTouchUp[o]=null)!=_&&_(),++s):(--i,null==c&&(c=[],u=[],0),c.push(this.__cbOnceOwnerUnbindTouchUp[o]),u.push(this.__cbOnceTouchUp[o]))}this.__cbOnceOwnerUnbindTouchUp=c,this.__cbOnceTouchUp=u}for(h=0,a=i;h<a;){s=h++;(0,r.vector[s])(e,n,t)}l.release(r)}},onTouchUp:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event touchUp because owner is destroyed!");var l=function(e){null!=t&&(i.offTouchUp(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindTouchUp&&(this.__cbOnOwnerUnbindTouchUp=[]),this.__cbOnOwnerUnbindTouchUp.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindTouchUp&&(this.__cbOnOwnerUnbindTouchUp=[]),this.__cbOnOwnerUnbindTouchUp.push(null);null==this.__cbOnTouchUp&&(this.__cbOnTouchUp=[]),this.__cbOnTouchUp.push(t)},onceTouchUp:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event touchUp because owner is destroyed!");var l=function(e){null!=t&&(i.offTouchUp(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindTouchUp&&(this.__cbOnceOwnerUnbindTouchUp=[]),this.__cbOnceOwnerUnbindTouchUp.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindTouchUp&&(this.__cbOnceOwnerUnbindTouchUp=[]),this.__cbOnceOwnerUnbindTouchUp.push(null);null==this.__cbOnceTouchUp&&(this.__cbOnceTouchUp=[]),this.__cbOnceTouchUp.push(t)},offTouchUp:function(e){if(null!=e){var n;null!=this.__cbOnTouchUp&&-1!=(n=this.__cbOnTouchUp.indexOf(e))&&(this.__cbOnTouchUp.splice(n,1),null!=(r=this.__cbOnOwnerUnbindTouchUp[n])&&r(),this.__cbOnOwnerUnbindTouchUp.splice(n,1)),null!=this.__cbOnceTouchUp&&-1!=(n=this.__cbOnceTouchUp.indexOf(e))&&(this.__cbOnceTouchUp.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindTouchUp[n])&&r(),this.__cbOnceOwnerUnbindTouchUp.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindTouchUp){for(var t=0,i=this.__cbOnOwnerUnbindTouchUp.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindTouchUp[l])&&r()}this.__cbOnOwnerUnbindTouchUp=null}if(null!=this.__cbOnceOwnerUnbindTouchUp){for(t=0,i=this.__cbOnceOwnerUnbindTouchUp.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindTouchUp[l])&&r()}this.__cbOnceOwnerUnbindTouchUp=null}this.__cbOnTouchUp=null,this.__cbOnceTouchUp=null}},listensTouchUp:function(){return null!=this.__cbOnTouchUp&&0<this.__cbOnTouchUp.length||null!=this.__cbOnceTouchUp&&0<this.__cbOnceTouchUp.length},__cbOnTouchMove:null,__cbOnceTouchMove:null,__cbOnOwnerUnbindTouchMove:null,__cbOnceOwnerUnbindTouchMove:null,emitTouchMove:function(e,n,t){var i=0;if(null!=this.__cbOnTouchMove&&(i+=this.__cbOnTouchMove.length),null!=this.__cbOnceTouchMove&&(i+=this.__cbOnceTouchMove.length),0<i){var l=C.pool(i),r=l.get(),s=0;if(null!=this.__cbOnTouchMove)for(var h=0,a=this.__cbOnTouchMove.length;h<a;){var o=h++;!0?(r.vector[s]=this.__cbOnTouchMove[o],++s):--i}if(null!=this.__cbOnceTouchMove){for(var c=null,u=null,h=0,a=this.__cbOnceTouchMove.length;h<a;){var _,o=h++;!0?(r.vector[s]=this.__cbOnceTouchMove[o],this.__cbOnceTouchMove[o]=null,_=this.__cbOnceOwnerUnbindTouchMove[o],(this.__cbOnceOwnerUnbindTouchMove[o]=null)!=_&&_(),++s):(--i,null==c&&(c=[],u=[],0),c.push(this.__cbOnceOwnerUnbindTouchMove[o]),u.push(this.__cbOnceTouchMove[o]))}this.__cbOnceOwnerUnbindTouchMove=c,this.__cbOnceTouchMove=u}for(h=0,a=i;h<a;){s=h++;(0,r.vector[s])(e,n,t)}l.release(r)}},onTouchMove:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event touchMove because owner is destroyed!");var l=function(e){null!=t&&(i.offTouchMove(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindTouchMove&&(this.__cbOnOwnerUnbindTouchMove=[]),this.__cbOnOwnerUnbindTouchMove.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindTouchMove&&(this.__cbOnOwnerUnbindTouchMove=[]),this.__cbOnOwnerUnbindTouchMove.push(null);null==this.__cbOnTouchMove&&(this.__cbOnTouchMove=[]),this.__cbOnTouchMove.push(t)},onceTouchMove:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event touchMove because owner is destroyed!");var l=function(e){null!=t&&(i.offTouchMove(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindTouchMove&&(this.__cbOnceOwnerUnbindTouchMove=[]),this.__cbOnceOwnerUnbindTouchMove.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindTouchMove&&(this.__cbOnceOwnerUnbindTouchMove=[]),this.__cbOnceOwnerUnbindTouchMove.push(null);null==this.__cbOnceTouchMove&&(this.__cbOnceTouchMove=[]),this.__cbOnceTouchMove.push(t)},offTouchMove:function(e){if(null!=e){var n;null!=this.__cbOnTouchMove&&-1!=(n=this.__cbOnTouchMove.indexOf(e))&&(this.__cbOnTouchMove.splice(n,1),null!=(r=this.__cbOnOwnerUnbindTouchMove[n])&&r(),this.__cbOnOwnerUnbindTouchMove.splice(n,1)),null!=this.__cbOnceTouchMove&&-1!=(n=this.__cbOnceTouchMove.indexOf(e))&&(this.__cbOnceTouchMove.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindTouchMove[n])&&r(),this.__cbOnceOwnerUnbindTouchMove.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindTouchMove){for(var t=0,i=this.__cbOnOwnerUnbindTouchMove.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindTouchMove[l])&&r()}this.__cbOnOwnerUnbindTouchMove=null}if(null!=this.__cbOnceOwnerUnbindTouchMove){for(t=0,i=this.__cbOnceOwnerUnbindTouchMove.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindTouchMove[l])&&r()}this.__cbOnceOwnerUnbindTouchMove=null}this.__cbOnTouchMove=null,this.__cbOnceTouchMove=null}},listensTouchMove:function(){return null!=this.__cbOnTouchMove&&0<this.__cbOnTouchMove.length||null!=this.__cbOnceTouchMove&&0<this.__cbOnceTouchMove.length},didTryResumeAudioContext:null,willEmitMouseDown:function(e,n,t){this.tryResumeAudioContextIfNeeded()},willEmitTouchDown:function(e,n,t){this.tryResumeAudioContextIfNeeded()},tryResumeAudioContextIfNeeded:function(){this.didTryResumeAudioContext||(this.didTryResumeAudioContext=!0,he.app.backend.audio.resumeAudioContext(function(e){e?he.app.logger.success("Did resume audio context",{fileName:"../../../../ceramic/plugins/clay/runtime/src/backend/Screen.hx",lineNumber:115,className:"backend.Screen",methodName:"tryResumeAudioContextIfNeeded"}):he.app.logger.error("Failed to resume audio context",{fileName:"../../../../ceramic/plugins/clay/runtime/src/backend/Screen.hx",lineNumber:118,className:"backend.Screen",methodName:"tryResumeAudioContextIfNeeded"})}))},getWidth:function(){return ee.app.screenWidth},getHeight:function(){return ee.app.screenHeight},getDensity:function(){return ee.app.screenDensity},setBackground:function(e){},setWindowTitle:function(e){ee.app.runtime.setWindowTitle(e)},setWindowFullscreen:function(e){null!=V.electronRunner&&null!=V.electronRunner.setFullscreen?V.electronRunner.setFullscreen(e):ee.app.runtime.setWindowFullscreen(e)||he.app.settings.set_fullscreen(!e)},nextScreenshotIndex:null,screenshotToTexture:function(t){var i=this;ee.app.runtime.window.toBlob(function(e){e.arrayBuffer().then(function(e){e=new Uint8Array(e,0,e.byteLength);ee.app.assets.imageFromBytes(e,"png",4,!0,function(e){var n;null!=e?(n="screenshot:"+i.nextScreenshotIndex++,(e=Qt.fromImage(e)).id=n,e.init(),t(e)):t(null)})})},"image/png")},screenshotToPng:function(n,t){ee.app.runtime.window.toBlob(function(e){e.arrayBuffer().then(function(e){e=new rl(new Uint8Array(new Uint8Array(e,0,e.byteLength).buffer));null!=n?(an.saveBytes(n,e),t()):t(e)})},"image/png")},screenshotToPixels:function(n){ee.app.runtime.window.toBlob(function(e){e.arrayBuffer().then(function(e){e=new Uint8Array(e,0,e.byteLength);ee.app.assets.imageFromBytes(e,"png",4,!1,function(e){null!=e?n(e.pixels,e.width,e.height):n(null,0,0)})})},"image/png")},unbindEvents:function(){this.offResize(),this.offMouseDown(),this.offMouseUp(),this.offMouseWheel(),this.offMouseMove(),this.offTouchDown(),this.offTouchUp(),this.offTouchMove()},__class__:Ue},(E["clay.Resource"]=da).__name__="clay.Resource",da.prototype={id:null,__class__:da},(E["clay.graphics.Shader"]=ea).__name__="clay.graphics.Shader",ea.__super__=da,ea.prototype=$extend(da.prototype,{vertSource:null,fragSource:null,attributes:null,textures:null,uniforms:null,gpuShader:null,init:function(){if(this.gpuShader=ee._graphics.createShader(this.vertSource,this.fragSource,this.attributes,this.textures),null==this.gpuShader)throw oe.thrown("Failed to create shader (id="+this.id+")");this.uniforms=new Zt(this.gpuShader)},activate:function(){var e=ee._graphics,n=this.gpuShader,e=(e._boundProgram!=n.program&&(e._boundProgram=n.program,ne.gl.useProgram(n.program)),ee._graphics),t=this.gpuShader,i=ne.gl.getUniformLocation(t.program,"projectionMatrix"),l=e.projectionMatrix,n=(e._boundProgram!=(n=t).program&&(e._boundProgram=n.program,ne.gl.useProgram(n.program)),ne.gl.uniformMatrix4fv(i,!1,l),t),i=ne.gl.getUniformLocation(n.program,"modelViewMatrix"),l=e.modelViewMatrix;e._boundProgram!=(n=t).program&&(e._boundProgram=n.program,ne.gl.useProgram(n.program)),ne.gl.uniformMatrix4fv(i,!1,l),null!=this.uniforms&&this.uniforms.apply()},destroy:function(){ee._graphics.deleteShader(this.gpuShader)},__class__:ea}),(E["backend.ShaderImpl"]=fa).__name__="backend.ShaderImpl",fa.__super__=ea,fa.prototype=$extend(ea.prototype,{customAttributes:null,isBatchingMultiTexture:null,clone:function(){var e=new fa;return e.vertSource=this.vertSource,e.fragSource=this.fragSource,e.customAttributes=this.customAttributes,e.isBatchingMultiTexture=this.isBatchingMultiTexture,e.attributes=this.attributes,e.textures=this.textures,e.init(),e},__class__:fa}),(E["spec.Shaders"]=ga).__name__="spec.Shaders",ga.__isInterface__=!0,ga.prototype={destroy:null,load:null,clone:null,setInt:null,setFloat:null,setVec2:null,setVec3:null,setVec4:null,setFloatArray:null,setTexture:null,setMat2:null,setMat3:null,setMat4:null,customFloatAttributesSize:null,maxIfStatementsByFragmentShader:null,canBatchWithMultipleTextures:null,supportsHotReloadPath:null,__class__:ga},function(){}),Te=((E["backend.Shaders"]=De).__name__="backend.Shaders",De.__interfaces__=[ga],De.prototype={load:function(e,n,t,i,l){function v1a(e){he.app._onceImmediate(function(){l(e),l=null})}var r=this,s=z.startsWith(e,"http://")||z.startsWith(e,"https://"),h=(Rn.isAbsolute(e)||s||(e=Rn.join([he.app.settings.assetsPath,e])),Rn.withoutExtension(e));null!=i?this.tryLoadShader(h+"_mt8",n,t,i,!0,function(e){null!=e?(e.isBatchingMultiTexture=!0,v1a(e)):r.tryLoadShader(h,n,t,i,!1,function(e){null!=e&&(e.isBatchingMultiTexture=!1),v1a(e)})}):this.tryLoadShader(h,n,t,i,!1,function(e){null!=e&&(e.isBatchingMultiTexture=!1),v1a(e)})},tryLoadShader:function(e,h,a,o,c,u){var _=this,n=e+".frag",e=ee.app.assets.fullPath(e+".vert"),t=ee.app.assets.fullPath(n);ee.app.io.loadData(e,!0,!0,function(e){var s;null==e?u(null):(s=new rl(new Uint8Array(e.buffer)).toString(),ee.app.io.loadData(t,!0,!0,function(e){if(null==e)u(null);else{var e=new rl(new Uint8Array(e.buffer)).toString(),n=[];if(null!=h)for(var t=0,i=h.length;t<i;){var l=t++;n.push(h[l].name)}if(c&&null!=o&&n.push(o.name),null!=a)for(t=0,i=a.length;t<i;){l=t++;n.push(a[l].name)}var r=new fa;r.attributes=n,r.textures=c?_.buildMultiTextures():["mainTex"],r.vertSource=s,r.fragSource=e,r.customAttributes=a;try{r.init(),u(r)}catch(t){Yi.lastError=t,u(null)}}}))})},buildMultiTextures:function(){var e=["mainTex"];return e.push("tex1"),e.push("tex2"),e.push("tex3"),e.push("tex4"),e.push("tex5"),e.push("tex6"),e.push("tex7"),e.push("tex8"),e},destroy:function(e){e.destroy()},clone:function(e){return e.clone()},setInt:function(e,n,t){e.uniforms.setInt(n,t)},setFloat:function(e,n,t){e.uniforms.setFloat(n,t)},setVec2:function(e,n,t,i){e.uniforms.setVector2(n,t,i)},setVec3:function(e,n,t,i,l){e.uniforms.setVector3(n,t,i,l)},setVec4:function(e,n,t,i,l,r){e.uniforms.setVector4(n,t,i,l,r)},setFloatArray:function(e,n,t){e.uniforms.setFloatArray(n,new Float32Array(t))},setTexture:function(e,n,t,i){e.uniforms.setTexture(n,t,i)},setMat2:function(e,n,t,i,l,r){e.uniforms.setMatrix2(n,new Float32Array([t,i,l,r]))},setMat3:function(e,n,t,i,l,r,s,h,a,o,c){e.uniforms.setMatrix3(n,new Float32Array([t,i,l,r,s,h,a,o,c]))},setMat4:function(e,n,t,i,l,r,s,h,a,o,c,u,_,d,b,g,O,f){e.uniforms.setMatrix4(n,new Float32Array([t,i,l,r,s,h,a,o,c,u,_,d,b,g,O,f]))},customFloatAttributesSize:function(e){var n=0,t=e.customAttributes;if(null!=t)for(var i=0,l=t.length;i<l;)n+=t[i++].size;return n},maxIfStatementsByFragmentShader:function(){return 8},canBatchWithMultipleTextures:function(e){return e.isBatchingMultiTexture},supportsHotReloadPath:function(){return!0},__class__:De},(E["spec.TextInput"]=ia).__name__="spec.TextInput",ia.__isInterface__=!0,ia.prototype={start:null,stop:null,__class__:ia},function(){this.inputRectH=0,this.inputRectW=0,this.inputRectY=0,this.inputRectX=0,this.inputActive=!1}),xe=((E["backend.TextInput"]=Te).__name__="backend.TextInput",Te.__interfaces__=[ia],Te.prototype={inputActive:null,inputRectX:null,inputRectY:null,inputRectW:null,inputRectH:null,start:function(e,n,t,i,l){this.inputActive||(this.inputRectX=0|n,this.inputRectY=0|t,this.inputRectW=0|Math.max(1,i),this.inputRectH=0|Math.max(1,l),this.inputActive=!0)},stop:function(){this.inputActive&&(this.inputRectX=0,this.inputRectY=0,this.inputRectW=0,this.inputRectH=0,this.inputActive=!1)},handleTextInput:function(e){" "!=e&&he.app.textInput.appendText(e)},handleKeyDown:function(e,n){this.inputActive&&(42==n?he.app.textInput.backspace():44==n?he.app.textInput.space():40==n?he.app.textInput.enter():88==n?he.app.textInput.kpEnter():41==n?he.app.textInput.escape():80==n?he.app.textInput.moveLeft():79==n?he.app.textInput.moveRight():82==n?he.app.textInput.moveUp():81==n&&he.app.textInput.moveDown()),225==n?he.app.textInput.lshiftDown():229==n?he.app.textInput.rshiftDown():224==n?he.app.textInput.lctrlDown():228==n?he.app.textInput.rctrlDown():227==n?he.app.textInput.lmetaDown():231==n&&he.app.textInput.rmetaDown()},handleKeyUp:function(e,n){225==n?he.app.textInput.lshiftUp():229==n?he.app.textInput.rshiftUp():224==n?he.app.textInput.lctrlUp():228==n?he.app.textInput.rctrlUp():227==n?he.app.textInput.lmetaUp():231==n&&he.app.textInput.rmetaUp()},__class__:Te},(E["spec.Texts"]=ka).__name__="spec.Texts",ka.__isInterface__=!0,ka.prototype={load:null,supportsHotReloadPath:null,__class__:ka},function(){this.loadingTextCallbacks=new ue}),Se=((E["backend.Texts"]=xe).__name__="backend.Texts",xe.__interfaces__=[ka],xe.prototype={load:function(s,e,n){function F2a(e){function L2a(){n(e),n=null}null!=r?r.push(L2a):he.app._onceImmediate(L2a)}var t,i,h=this,l=null!=e&&2==e.loadMethod,r=null!=e?e.immediate:null,e=z.startsWith(s,"http://")||z.startsWith(s,"https://");Rn.isAbsolute(s)||e||(s=Rn.join([he.app.settings.assetsPath,s])),Object.prototype.hasOwnProperty.call(this.loadingTextCallbacks.h,s)?this.loadingTextCallbacks.h[s].push(function(e){F2a(e)}):(this.loadingTextCallbacks.h[s]=[],t=s,e||-1!=(i=t.indexOf("?"))&&(t=se.substr(t,0,i)),i=e?t:ee.app.assets.fullPath(t),ee.app.io.loadData(i,!0,!l,function(e){if(null==e)if(null!=(l=h.loadingTextCallbacks.h[s]))for(var n=h.loadingTextCallbacks,t=(Object.prototype.hasOwnProperty.call(n.h,s)&&delete n.h[s],F2a(null),0);t<l.length;){var i=l[t];++t,i(null)}else F2a(null);else{var l,r=new rl(new Uint8Array(e.buffer)).toString();if(null!=(l=h.loadingTextCallbacks.h[s]))for(n=h.loadingTextCallbacks,t=(Object.prototype.hasOwnProperty.call(n.h,s)&&delete n.h[s],F2a(r),0);t<l.length;){i=l[t];++t,i(r)}else F2a(r)}}),null!=r?r.push(Wt.flush):he.app._onceImmediate(Wt.flush))},supportsHotReloadPath:function(){return!0},loadingTextCallbacks:null,__class__:xe},(E["spec.Textures"]=na).__name__="spec.Textures",na.__isInterface__=!0,na.prototype={load:null,loadFromBytes:null,supportsHotReloadPath:null,createTexture:null,destroyTexture:null,getTextureId:null,getTextureWidth:null,getTextureHeight:null,getTextureWidthActual:null,getTextureHeightActual:null,fetchTexturePixels:null,submitTexturePixels:null,setTextureFilter:null,setTextureWrapS:null,setTextureWrapT:null,createRenderTarget:null,maxTexturesByBatch:null,getTextureIndex:null,textureToPng:null,pixelsToPng:null,__class__:na},function(){this.loadedTexturesRetainCount=new ue,this.loadedTextures=new ue,this.loadingTextureCallbacks=new ue,this.nextBytesIndex=0,this.nextPixelsIndex=0,this.nextRenderIndex=0}),e=((E["backend.Textures"]=Se).__name__="backend.Textures",Se.__interfaces__=[na],Se.computeMaxTextureSizeIfNeeded=function(){-1==Se._maxTextureSize&&(Se._maxTextureSize=ee._graphics.getMaxTextureSize())},Se.computeMaxTexturesByBatchIfNeeded=function(){-1==Se._maxTexturesByBatch&&(Se._maxTexturesByBatch=ee._graphics.getMaxTextureUnits())},Se.prototype={load:function(s,e,n){function Z2a(e){function gda(){n(e),n=null}null!=r?r.push(gda):he.app._onceImmediate(gda)}var t,i,h,a,o=this,l=null!=e&&2==e.loadMethod,r=null!=e?e.immediate:null,c=z.startsWith(s,"http://")||z.startsWith(s,"https://");Rn.isAbsolute(s)||c||(s=Rn.join([he.app.settings.assetsPath,s])),Object.prototype.hasOwnProperty.call(this.loadedTextures.h,s)?(this.loadedTexturesRetainCount.h[s]+=1,t=this.loadedTextures.h[s],Z2a(t)):Object.prototype.hasOwnProperty.call(this.loadingTextureCallbacks.h,s)?this.loadingTextureCallbacks.h[s].push(function(e){var n;null!=e&&(n=Object.prototype.hasOwnProperty.call(o.loadedTexturesRetainCount.h,s)?o.loadedTexturesRetainCount.h[s]:0,o.loadedTexturesRetainCount.h[s]=n+1),Z2a(e)}):(t=s,c||-1!=(i=t.indexOf("?"))&&(t=se.substr(t,0,i)),this.loadingTextureCallbacks.h[s]=[function(e){var n;null!=e&&(n=Object.prototype.hasOwnProperty.call(o.loadedTexturesRetainCount.h,s)?o.loadedTexturesRetainCount.h[s]:0,o.loadedTexturesRetainCount.h[s]=n+1),Z2a(e)}],i=c?t:ee.app.assets.fullPath(t),h=!0,null!=e&&null!=e.premultiplyAlpha&&(h=e.premultiplyAlpha),a=function(){for(var e=o.loadingTextureCallbacks.h[s],n=o.loadingTextureCallbacks,t=(Object.prototype.hasOwnProperty.call(n.h,s)&&delete n.h[s],0);t<e.length;){var i=e[t];++t;try{i(null)}catch(e){Yi.lastError=e;i=[oe.caught(e).unwrap()];he.app._onceImmediate(function(e){return function(){throw oe.thrown(e[0])}}(i))}}},ee.app.assets.loadImage(i,null,!l,function(e){if(null==e)a();else{var n=null;try{if(null==(n=Qt.fromImage(e,h)))return void a();n.id=s,n.init()}catch(l){Yi.lastError=l;var t=oe.caught(l).unwrap();return he.app.logger.error("Failed to create texture: "+X.string(t),{fileName:"../../../../ceramic/plugins/clay/runtime/src/backend/Textures.hx",lineNumber:153,className:"backend.Textures",methodName:"load"}),void a()}o.loadedTextures.h[s]=n;for(var i=o.loadingTextureCallbacks.h[s],e=o.loadingTextureCallbacks,l=(Object.prototype.hasOwnProperty.call(e.h,s)&&delete e.h[s],0);l<i.length;){var r=i[l];++l;try{r(n)}catch(e){Yi.lastError=e;t=[oe.caught(e).unwrap()];he.app._onceImmediate(function(e){return function(){throw oe.thrown(e[0])}}(t))}}}}),null!=r?r.push(Wt.flush):he.app._onceImmediate(Wt.flush))},loadFromBytes:function(e,n,t,i){function Jda(e){function Oda(){i(e),i=null}null!=s?s.push(Oda):he.app._onceImmediate(Oda)}var l=this,r="bytes:"+this.nextBytesIndex++,s=(null!=t&&t.loadMethod,null!=t?t.immediate:null),h=!0;null!=t&&null!=t.premultiplyAlpha&&(h=t.premultiplyAlpha);ee.app.assets.imageFromBytes(new Uint8Array(e.b.bufferValue),n,null,null,function(n){if(null==n)Jda(null);else{var e=null;try{if(null==(e=Qt.fromImage(n,h)))return void Jda(null);e.id=r,e.init()}catch(e){Yi.lastError=e;n=oe.caught(e).unwrap();return he.app.logger.error("Failed to create texture: "+X.string(n),{fileName:"../../../../ceramic/plugins/clay/runtime/src/backend/Textures.hx",lineNumber:240,className:"backend.Textures",methodName:"loadFromBytes"}),void Jda(null)}l.loadedTexturesRetainCount.h[r]=1,Jda(e)}}),null!=s?s.push(Wt.flush):he.app._onceImmediate(Wt.flush)},supportsHotReloadPath:function(){return!0},nextRenderIndex:null,nextPixelsIndex:null,nextBytesIndex:null,createTexture:function(e,n,t){var i="pixels:"+this.nextPixelsIndex++,l=new Qt;return l.id=i,l.width=e,l.height=n,l.pixels=t,l.init(),this.loadedTexturesRetainCount.h[i]=1,l},createRenderTarget:function(e,n,t,i,l){var r="render:"+this.nextRenderIndex++,s=ee.app.runtime.webglVersion,h=new qt;return h.id=r,h.width=e,h.height=n,h.depth=t,h.stencil=i,h.antialiasing=2<=s?l:0,h.init(),this.loadedTexturesRetainCount.h[r]=1,h},fetchTexturePixels:function(e,n){var t=e.width,i=e.height;return null==n&&(n=new Uint8Array(t*i*4)),e.fetch(n),n},submitTexturePixels:function(e,n){e.submit(n)},destroyTexture:function(e){var n,t=e.id;1<this.loadedTexturesRetainCount.h[t]?--this.loadedTexturesRetainCount.h[t]:(n=this.loadedTextures,Object.prototype.hasOwnProperty.call(n.h,t)&&delete n.h[t],n=this.loadedTexturesRetainCount,Object.prototype.hasOwnProperty.call(n.h,t)&&delete n.h[t],e.destroy())},getTextureId:function(e){return e.textureId},getTextureWidth:function(e){return e.width},getTextureHeight:function(e){return e.height},getTextureWidthActual:function(e){return e.widthActual},getTextureHeightActual:function(e){return e.heightActual},getTextureIndex:function(e){return e.index},setTextureFilter:function(e,n){switch(n._hx_index){case 0:e.set_filterMin(9729),e.set_filterMag(9729);break;case 1:e.set_filterMin(9728),e.set_filterMag(9728)}},setTextureWrapS:function(e,n){switch(n){case 0:e.set_wrapS(33071);break;case 1:e.set_wrapS(10497);break;case 2:e.set_wrapS(33648)}},setTextureWrapT:function(e,n){switch(n){case 0:e.set_wrapT(33071);break;case 1:e.set_wrapT(10497);break;case 2:e.set_wrapT(33648)}},maxTextureWidth:function(){return-1==Se._maxTextureSize&&(Se._maxTextureSize=ee._graphics.getMaxTextureSize()),Se._maxTextureSize},maxTextureHeight:function(){return-1==Se._maxTextureSize&&(Se._maxTextureSize=ee._graphics.getMaxTextureSize()),Se._maxTextureSize},maxTexturesByBatch:function(){return-1==Se._maxTexturesByBatch&&(Se._maxTexturesByBatch=ee._graphics.getMaxTextureUnits()),Se._maxTexturesByBatch},textureToPng:function(e,n,t,i){null==n&&(n=!0);var l=this.fetchTexturePixels(e);e.id;n&&Wn.reversePremultiplyAlpha(l),ee.app.assets.pixelsToPngData(e.width,e.height,l,function(e){null!=e?null!=t?(an.saveBytes(t,new rl(new Uint8Array(e.buffer))),i()):i(new rl(new Uint8Array(e.buffer))):(he.app.logger.warning("Failed to get PNG data from texture",{fileName:"../../../../ceramic/plugins/clay/runtime/src/backend/Textures.hx",lineNumber:686,className:"backend.Textures",methodName:"textureToPng"}),i(null))})},pixelsToPng:function(e,n,t,i,l){ee.app.assets.pixelsToPngData(e,n,t,function(e){null!=e?null!=i?(an.saveBytes(i,new rl(new Uint8Array(e.buffer))),l()):l(new rl(new Uint8Array(e.buffer))):(he.app.logger.warning("Failed to get PNG data from pixels",{fileName:"../../../../ceramic/plugins/clay/runtime/src/backend/Textures.hx",lineNumber:716,className:"backend.Textures",methodName:"pixelsToPng"}),l(null))})},loadingTextureCallbacks:null,loadedTextures:null,loadedTexturesRetainCount:null,__class__:Se},Oe["backend.VisualItem"]={__ename__:"backend.VisualItem",__constructs__:null,NONE:{_hx_name:"NONE",_hx_index:0,__enum__:"backend.VisualItem",toString:c},QUAD:{_hx_name:"QUAD",_hx_index:1,__enum__:"backend.VisualItem",toString:c},MESH:{_hx_name:"MESH",_hx_index:2,__enum__:"backend.VisualItem",toString:c}}),Ae=(e.__constructs__=[e.NONE,e.QUAD,e.MESH],(E["binpacking.IOccupancy"]=qa).__name__="binpacking.IOccupancy",qa.__isInterface__=!0,qa.prototype={occupancy:null,__class__:qa},(E["binpacking.MaxRectsPackerBestFitPosition"]=ra).__name__="binpacking.MaxRectsPackerBestFitPosition",ra.prototype={bestNode:null,bestAreaFit:null,bestShortSideFit:null,bestLongSideFit:null,bestContactScore:null,bestX:null,bestY:null,__class__:ra},(E["binpacking.MaxRectsPackerRectScore"]=sa).__name__="binpacking.MaxRectsPackerRectScore",sa.prototype={rect:null,primaryScore:null,secondaryScore:null,__class__:sa},(E["binpacking.MaxRectsPacker"]=ta).__name__="binpacking.MaxRectsPacker",ta.__interfaces__=[qa],ta.prototype={binWidth:null,binHeight:null,binAllowFlip:null,usedRectangles:null,freeRectangles:null,_bestFitPosition:null,insert:function(e,n,t){var i;switch(t){case 1:i=this.findPositionForNewNodeBestShortSideFit(e,n,this._bestFitPosition).bestNode;break;case 2:i=this.findPositionForNewNodeBestLongSideFit(e,n,this._bestFitPosition).bestNode;break;case 3:i=this.findPositionForNewNodeBestAreaFit(e,n,this._bestFitPosition).bestNode;break;case 4:i=this.findPositionForNewNodeBottomLeft(e,n,this._bestFitPosition).bestNode;break;case 5:i=this.findPositionForNewNodeContactPoint(e,n,this._bestFitPosition).bestNode}if(null==i||0==i.width||0==i.height)return null;for(var l=this.freeRectangles.length,r=0;r<l;)this.splitFreeNode(this.freeRectangles[r],i)&&(this.freeRectangles.splice(r,1),--r,--l),++r;return this.pruneFreeList(),this.usedRectangles.push(i),i},occupancy:function(){if(0==this.usedRectangles.length)return 0;for(var e=0,n=0,t=this.usedRectangles.length;n<t;){var i=n++;e+=this.usedRectangles[i].width*this.usedRectangles[i].height}return e/(this.binWidth*this.binHeight)},scoreRect:function(e,n,t){var i=new Ae,l=1073741823,r=1073741823;switch(t){case 1:var s,i=(s=this.findPositionForNewNodeBestShortSideFit(e,n,this._bestFitPosition)).bestNode,l=s.bestShortSideFit,r=s.bestLongSideFit;break;case 2:i=(s=this.findPositionForNewNodeBestLongSideFit(e,n,this._bestFitPosition)).bestNode,l=s.bestLongSideFit,r=s.bestLongSideFit;break;case 3:i=(s=this.findPositionForNewNodeBestAreaFit(e,n,this._bestFitPosition)).bestNode,l=s.bestAreaFit,r=s.bestShortSideFit;break;case 4:i=(s=this.findPositionForNewNodeBottomLeft(e,n,this._bestFitPosition)).bestNode,l=s.bestY,r=s.bestX;break;case 5:i=(s=this.findPositionForNewNodeContactPoint(e,n,this._bestFitPosition)).bestNode,l=-s.bestContactScore}return 0==i.height&&(r=l=1073741823),new sa(i,l,r)},contactPointScoreNode:function(e,n,t,i){for(var l=0,r=(0!=e&&e+t!=this.binWidth||(l+=i),0!=n&&n+i!=this.binHeight||(l+=t),0),s=this.usedRectangles.length;r<s;){var h=r++;this.usedRectangles[h].x!=e+t&&this.usedRectangles[h].x+this.usedRectangles[h].width!=e||(l+=0|this.commonIntervalLength(this.usedRectangles[h].y,this.usedRectangles[h].height,n,n+i)),this.usedRectangles[h].y!=n+i&&this.usedRectangles[h].y+this.usedRectangles[h].height!=n||(l+=0|this.commonIntervalLength(this.usedRectangles[h].x,this.usedRectangles[h].x+this.usedRectangles[h].width,e,e+t))}return l},findPositionForNewNodeBottomLeft:function(e,n,t){for(var i=new Ae,l=1073741823,r=1073741823,s=0,h=this.freeRectangles.length;s<h;){var a,o=s++;this.freeRectangles[o].width>=e&&this.freeRectangles[o].height<r&&(a=this.freeRectangles[o].y+n|0,i.x=this.freeRectangles[o].x,i.y=this.freeRectangles[o].y,i.width=e,i.height=n,l=a,r=0|this.freeRectangles[o].x),this.binAllowFlip&&this.freeRectangles[o].width>=n&&this.freeRectangles[o].height>=e&&(a=this.freeRectangles[o].y+n|0,i.x=this.freeRectangles[o].x,i.y=this.freeRectangles[o].y,i.width=e,i.height=n,l=a,r=0|this.freeRectangles[o].x)}return t.bestNode=i,t.bestY=l,t.bestX=r,t},findPositionForNewNodeBestShortSideFit:function(e,n,t){for(var i=new Ae,l=1073741823,r=1073741823,s=0,h=this.freeRectangles.length;s<h;){var a,o,c,u,_=s++;this.freeRectangles[_].width>=e&&this.freeRectangles[_].height>=n&&(c=Math.abs(this.freeRectangles[_].width-e),a=Math.abs(this.freeRectangles[_].height-n),o=Math.min(c,a),c=Math.max(c,a),o<l||o==l&&c<r)&&(i.x=this.freeRectangles[_].x,i.y=this.freeRectangles[_].y,i.width=e,i.height=n,l=0|o,r=0|c),this.binAllowFlip&&this.freeRectangles[_].width>=n&&this.freeRectangles[_].height>=e&&(a=Math.abs(this.freeRectangles[_].width-n),o=Math.abs(this.freeRectangles[_].height-e),c=Math.min(a,o),u=Math.max(a,o),c<l||c==l&&u<r)&&(i.x=this.freeRectangles[_].x,i.y=this.freeRectangles[_].y,i.width=n,i.height=e,i.flipped=!i.flipped,l=0|c,r=0|u)}return t.bestNode=i,t.bestShortSideFit=l,t.bestLongSideFit=r,t},findPositionForNewNodeBestLongSideFit:function(e,n,t){for(var i=new Ae,l=1073741823,r=1073741823,s=0,h=this.freeRectangles.length;s<h;){var a,o,c,u,_=s++;this.freeRectangles[_].width>=e&&this.freeRectangles[_].height>=n&&(c=Math.abs(this.freeRectangles[_].width-e),a=Math.abs(this.freeRectangles[_].height-n),o=Math.min(c,a),(c=Math.max(c,a))<r||c==r&&o<l)&&(i.x=this.freeRectangles[_].x,i.y=this.freeRectangles[_].y,i.width=e,i.height=n,l=0|o,r=0|c),this.binAllowFlip&&this.freeRectangles[_].width>=n&&this.freeRectangles[_].height>=e&&(a=Math.abs(this.freeRectangles[_].width-e),o=Math.abs(this.freeRectangles[_].height-n),c=Math.min(a,o),(u=Math.max(a,o))<r||u==r&&c<l)&&(i.x=this.freeRectangles[_].x,i.y=this.freeRectangles[_].y,i.width=n,i.height=e,i.flipped=!i.flipped,l=0|c,r=0|u)}return t.bestNode=i,t.bestShortSideFit=l,t.bestLongSideFit=r,t},findPositionForNewNodeBestAreaFit:function(e,n,t){for(var i=new Ae,l=1073741823,r=1073741823,s=0,h=this.freeRectangles.length;s<h;){var a,o,c,u=s++,_=this.freeRectangles[u].width*this.freeRectangles[u].height-e*n;this.freeRectangles[u].width>=e&&this.freeRectangles[u].height>=n&&(o=Math.abs(this.freeRectangles[u].width-e),a=Math.abs(this.freeRectangles[u].height-n),o=Math.min(o,a),_<l||_==l&&o<r)&&(i.x=this.freeRectangles[u].x,i.y=this.freeRectangles[u].y,i.width=e,i.height=n,r=0|o,l=0|_),this.binAllowFlip&&this.freeRectangles[u].width>=n&&this.freeRectangles[u].height>=e&&(a=Math.abs(this.freeRectangles[u].width-n),o=Math.abs(this.freeRectangles[u].height-e),c=Math.min(a,o),_<l||_==l&&c<r)&&(i.x=this.freeRectangles[u].x,i.y=this.freeRectangles[u].y,i.width=n,i.height=e,i.flipped=!i.flipped,r=0|c,l=0|_)}return t.bestNode=i,t.bestAreaFit=l,t.bestShortSideFit=r,t},findPositionForNewNodeContactPoint:function(e,n,t){for(var i=new Ae,l=-1,r=0,s=this.freeRectangles.length;r<s;){var h,a=r++;this.freeRectangles[a].width>=e&&this.freeRectangles[a].height>=n&&l<(h=this.contactPointScoreNode(0|this.freeRectangles[a].x,0|this.freeRectangles[a].y,e,n))&&(i.x=this.freeRectangles[a].x,i.y=this.freeRectangles[a].y,i.width=e,i.height=n,l=h),this.freeRectangles[a].width>=n&&this.freeRectangles[a].height>=e&&l<(h=this.contactPointScoreNode(0|this.freeRectangles[a].x,0|this.freeRectangles[a].y,n,e))&&(i.x=this.freeRectangles[a].x,i.y=this.freeRectangles[a].y,i.width=n,i.height=e,i.flipped=!i.flipped,l=h)}return t.bestNode=i,t.bestContactScore=l,t},splitFreeNode:function(e,n){var t;return!(n.x>=e.x+e.width||n.x+n.width<=e.x||n.y>=e.y+e.height||n.y+n.height<=e.y||(n.x<e.x+e.width&&n.x+n.width>e.x&&(n.y>e.y&&n.y<e.y+e.height&&((t=new Ae(e.x,e.y,e.width,e.height)).height=n.y-t.y,this.freeRectangles.push(t)),n.y+n.height<e.y+e.height)&&((t=new Ae(e.x,e.y,e.width,e.height)).y=n.y+n.height,t.height=e.y+e.height-(n.y+n.height),this.freeRectangles.push(t)),n.y<e.y+e.height&&n.y+n.height>e.y&&(n.x>e.x&&n.x<e.x+e.width&&((t=new Ae(e.x,e.y,e.width,e.height)).width=n.x-t.x,this.freeRectangles.push(t)),n.x+n.width<e.x+e.width)&&((t=new Ae(e.x,e.y,e.width,e.height)).x=n.x+n.width,t.width=e.x+e.width-(n.x+n.width),this.freeRectangles.push(t)),0))},pruneFreeList:function(){for(var e=0;e<this.freeRectangles.length;){for(var n=e+1;n<this.freeRectangles.length;){var t=this.freeRectangles[e],i=this.freeRectangles[n];if(t.x>=i.x&&t.y>=i.y&&t.x+t.width<=i.x+i.width&&t.y+t.height<=i.y+i.height){this.freeRectangles.splice(e,1),--e;break}t=this.freeRectangles[n],i=this.freeRectangles[e];t.x>=i.x&&t.y>=i.y&&t.x+t.width<=i.x+i.width&&t.y+t.height<=i.y+i.height?this.freeRectangles.splice(n,1):++n}++e}},commonIntervalLength:function(e,n,t,i){return n<t||i<e?0:(n<i?n:i)-(t<e?e:t)},__class__:ta},(E["binpacking.RectSize"]=ua).__name__="binpacking.RectSize",ua.prototype={width:null,height:null,__class__:ua},function(e,n,t,i,l){null==l&&(l=!1),null==i&&(i=0),null==t&&(t=0),null==n&&(n=0),this.x=e=null==e?0:e,this.y=n,this.width=t,this.height=i,this.flipped=l}),he=((E["binpacking.Rect"]=Ae).__name__="binpacking.Rect",Ae.prototype={x:null,y:null,width:null,height:null,flipped:null,clone:function(){return new Ae(this.x,this.y,this.width,this.height)},isContainedIn:function(e){return this.x>=e.x&&this.y>=e.y&&this.x+this.width<=e.x+e.width&&this.y+this.height<=e.y+e.height},__class__:Ae},(E["binpacking.DisjointRectCollection"]=wa).__name__="binpacking.DisjointRectCollection",wa.rectsDisjoint=function(e,n){return e.x+e.width<=n.x||n.x+n.width<=e.x||e.y+e.height<=n.y||n.y+n.height<=e.y},wa.prototype={rects:null,add:function(e){if(0!=e.width&&0!=e.height){if(!this.disjoint(e))return!1;this.rects.push(e)}return!0},clear:function(){this.rects=[]},disjoint:function(e){if(0!=e.width&&0!=e.height)for(var n=0,t=this.rects.length;n<t;){var i=n++;if(!wa.rectsDisjoint(this.rects[i],e))return!1}return!0},__class__:wa},(E["ceramic.Mesh"]=ya).__name__="ceramic.Mesh",ya.__super__=o,ya.prototype=$extend(o.prototype,{colorMapping:null,customFloatAttributesSize:null,complexHit:null,destroy:function(){this._lifecycleState<=-2||(this._lifecycleState=-2,null!=this.texture&&(null!=this.texture&&(this.texture.offDestroy($bind(this,this.textureDestroyed)),null!=this.texture.asset)&&this.texture.asset.release(),(this.texture=null)!=this.texture)&&(this.texture.onDestroy(this,$bind(this,this.textureDestroyed)),null!=this.texture.asset)&&this.texture.asset.retain(),this._lifecycleState=-1,o.prototype.destroy.call(this))},get_color:function(){var e,n,t,i;return null!=this.floatColors&&3<=this.floatColors.length?(n=this.floatColors[0],t=this.floatColors[1],i=this.floatColors[2],16776960&(16711935&(65535&0|(255<(e=Math.round(255*n))?255:e<0?0:e)<<16)|(255<(e=Math.round(255*t))?255:e<0?0:e)<<8)|(255<(e=Math.round(255*i))?255:e<0?0:e)):null!=this.colors&&0<this.colors.length?16776960&(16711935&(65535&0|(255<(n=(e=this.colors[0])>>16&255)?255:n<0?0:n)<<16)|(255<(t=e>>8&255)?255:t<0?0:t)<<8)|(255<(i=255&e)?255:i<0?0:i):16777215},set_color:function(e){var n;return null!=this.floatColors?(this.floatColors[0]=(e>>16&255)/255,this.floatColors[1]=(e>>8&255)/255,this.floatColors[2]=(255&e)/255,this.floatColors[3]=1):(null==this.colors&&(this.colors=[]),this.colors[0]=(0|e)-16777216&16777215|((n=255)<(n=null==n?255:n)?255:n<0?0:n)<<24),e},vertices:null,vertices32:null,indices:null,colors:null,floatColors:null,texture:null,set_texture:function(e){return this.texture!=e&&(null!=this.texture&&(this.texture.offDestroy($bind(this,this.textureDestroyed)),null!=this.texture.asset)&&this.texture.asset.release(),this.texture=e,null!=this.texture&&(this.texture.onDestroy(this,$bind(this,this.textureDestroyed)),null!=this.texture.asset))&&this.texture.asset.retain(),e},uvs:null,wireframeIndices:null,wireframeColors:null,textureDestroyed:function(e){null!=this.texture&&(null!=this.texture&&(this.texture.offDestroy($bind(this,this.textureDestroyed)),null!=this.texture.asset)&&this.texture.asset.release(),(this.texture=null)!=this.texture)&&(this.texture.onDestroy(this,$bind(this,this.textureDestroyed)),null!=this.texture.asset)&&this.texture.asset.retain()},hitTest:function(e,n,t){if(this.complexHit){var i,l,r,s,h,a,c,u,_,d=e*t.a+n*t.c+t.tx,b=e*t.b+n*t.d+t.ty,g=2+this.customFloatAttributesSize,O=0,f=0,p=this.indices.length/3|0;if(null!=this.vertices32)for(;O<p;){l=this.indices[f],++f,r=this.indices[f],++f,s=this.indices[f],++f,h=this.vertices32[i=l*g],++i,a=this.vertices32[i],c=this.vertices32[i=r*g],++i,u=this.vertices32[i],_=this.vertices32[i=s*g],++i;var C,v=(d-_)*(u-(C=this.vertices32[i]))-(c-_)*(b-C),w=(d-h)*(C-a)-(_-h)*(b-a),m=0<(y=(d-c)*(a-u)-(h-c)*(b-u))||0<v||0<w;if(!(y<0||v<0||w<0)||!m)return!0;++O}else for(;O<p;){l=this.indices[f],++f,r=this.indices[f],++f,s=this.indices[f],++f,h=this.vertices[i=l*g],++i,a=this.vertices[i],c=this.vertices[i=r*g],++i,u=this.vertices[i],_=this.vertices[i=s*g],++i;var y,v=(d-_)*(u-(C=this.vertices[i]))-(c-_)*(b-C),w=(d-h)*(C-a)-(_-h)*(b-a),m=0<(y=(d-c)*(a-u)-(h-c)*(b-u))||0<v||0<w;if(!(y<0||v<0||w<0)||!m)return!0;++O}return!1}return o.prototype.hitTest.call(this,e,n,t)},set_shader:function(e){return null!=(this.shader=e)&&(this.customFloatAttributesSize=e.customFloatAttributesSize),e},computeSize:function(){if(null!=this.vertices32&&2<=this.vertices32.length){var e=0,n=0,t=0,i=this.vertices32.length-1;if(0<this.customFloatAttributesSize)for(;t<i;)e<(r=this.vertices32[t])&&(e=r),++t,n<(s=this.vertices32[t])&&(n=s),t+=1+this.customFloatAttributesSize;else for(;t<i;)e<(r=this.vertices32[t])&&(e=r),++t,n<(s=this.vertices32[t])&&(n=s),++t;var l=Math.round(1e3*n)/1e3;this.set_width(Math.round(1e3*e)/1e3),this.set_height(l)}else if(null!=this.vertices&&2<=this.vertices.length){var r,s,e=0,n=0,t=0,i=this.vertices.length-1;if(0<this.customFloatAttributesSize)for(;t<i;)e<(r=this.vertices[t])&&(e=r),++t,n<(s=this.vertices[t])&&(n=s),t+=1+this.customFloatAttributesSize;else for(;t<i;)e<(r=this.vertices[t])&&(e=r),++t,n<(s=this.vertices[t])&&(n=s),++t;l=Math.round(1e3*n)/1e3;this.set_width(Math.round(1e3*e)/1e3),this.set_height(l)}else this.set_width(0),this.set_height(0)},grid:function(e,n,t,i){for(var l,r=(t=-1==(t=null==t?-1:t)?this._width:t)/e,s=(i=-1==(i=null==i?-1:i)?this._height:i)/n,h=0,a=0,o=0,c=n+1;o<c;)for(var u=o++,_=u*s,d=0,b=e+1;d<b;){var g=d++;this.vertices[h]=g*r,++h,this.vertices[h]=_,++h,0<u&&0<g&&(this.indices[a]=g=(u-1)*(e+1)+g-1,++a,this.indices[a]=1+g,++a,this.indices[a]=g+(e+1),++a,this.indices[a]=1+g,++a,this.indices[a]=g+(e+1),++a,this.indices[a]=g+(e+1)+1,++a)}if(this.vertices.length>h&&(l=this.vertices).length!=h)if(l.length>h)l.splice(h,l.length-h);else for(var O=l;O.length<h;)O.push(null);if(this.indices.length>a&&(l=this.indices).length!=a)if(l.length>a)l.splice(a,l.length-a);else for(O=l;O.length<a;)O.push(null)},gridFromTexture:function(e,n,t){null==t&&(t=this.texture),this.grid(e,n,t.width,t.height);for(var i=0,l=1/e,r=1/n,s=0,h=n+1;s<h;)for(var a=s++*r,o=(this.uvs[i]=0,this.uvs[++i]=a,++i,1),c=e+1;o<c;){var u=o++;this.uvs[i]=u*l,++i,this.uvs[i]=a,++i}if(this.uvs.length>i){t=this.uvs;if(t.length!=i)if(t.length>i)t.splice(i,t.length-i);else for(var _=t;_.length<i;)_.push(null)}},__class__:ya,__properties__:$extend(o.prototype.__properties__,{set_texture:"set_texture",set_color:"set_color",get_color:"get_color"})}),(E["ceramic.AntialiasedTriangle"]=za).__name__="ceramic.AntialiasedTriangle",za.__super__=ya,za.prototype=$extend(ya.prototype,{set_width:function(e){return ya.prototype.set_width.call(this,e),this.vertices[0]=0,this.vertices[1]=this.get_height(),this.vertices[2]=.5*this.get_width(),this.vertices[3]=0,this.vertices[4]=this.get_width(),this.vertices[5]=this.get_height(),this.vertices[6]=-this.antialiasing,this.vertices[7]=this.get_height()+this.antialiasing,this.vertices[8]=.5*this.get_width(),this.vertices[9]=-this.antialiasing,this.vertices[10]=this.get_width()+this.antialiasing,this.vertices[11]=this.get_height()+this.antialiasing,e},set_height:function(e){return ya.prototype.set_height.call(this,e),this.vertices[0]=0,this.vertices[1]=this.get_height(),this.vertices[2]=.5*this.get_width(),this.vertices[3]=0,this.vertices[4]=this.get_width(),this.vertices[5]=this.get_height(),this.vertices[6]=-this.antialiasing,this.vertices[7]=this.get_height()+this.antialiasing,this.vertices[8]=.5*this.get_width(),this.vertices[9]=-this.antialiasing,this.vertices[10]=this.get_width()+this.antialiasing,this.vertices[11]=this.get_height()+this.antialiasing,e},antialiasing:null,set_antialiasing:function(e){return this.antialiasing!=e&&(this.antialiasing=e,this.vertices[0]=0,this.vertices[1]=this.get_height(),this.vertices[2]=.5*this.get_width(),this.vertices[3]=0,this.vertices[4]=this.get_width(),this.vertices[5]=this.get_height(),this.vertices[6]=-this.antialiasing,this.vertices[7]=this.get_height()+this.antialiasing,this.vertices[8]=.5*this.get_width(),this.vertices[9]=-this.antialiasing,this.vertices[10]=this.get_width()+this.antialiasing,this.vertices[11]=this.get_height()+this.antialiasing),e},set_color:function(e){if(null==this.colors)this.colors=[0,0,0,0,0,0];else if(6!=this.colors.length){var n=this.colors;if(6!=n.length)if(6<n.length)n.splice(6,n.length-6);else for(var t=n;t.length<6;)t.push(null)}var n=255,i=(0|e)-16777216,n=(this.colors[0]=i&16777215|(255<(n=null==n?255:n)?255:n<0?0:n)<<24,255),n=(this.colors[1]=(0|e)-16777216&16777215|(255<(n=null==n?255:n)?255:n<0?0:n)<<24,255),n=(this.colors[2]=(0|e)-16777216&16777215|(255<(n=null==n?255:n)?255:n<0?0:n)<<24,0),n=(this.colors[3]=(0|e)-16777216&16777215|(255<(n=null==n?255:n)?255:n<0?0:n)<<24,0),n=(this.colors[4]=(0|e)-16777216&16777215|(255<(n=null==n?255:n)?255:n<0?0:n)<<24,0);return this.colors[5]=(0|e)-16777216&16777215|(255<(n=null==n?255:n)?255:n<0?0:n)<<24,e},updateVertices:function(){this.vertices[0]=0,this.vertices[1]=this.get_height(),this.vertices[2]=.5*this.get_width(),this.vertices[3]=0,this.vertices[4]=this.get_width(),this.vertices[5]=this.get_height(),this.vertices[6]=-this.antialiasing,this.vertices[7]=this.get_height()+this.antialiasing,this.vertices[8]=.5*this.get_width(),this.vertices[9]=-this.antialiasing,this.vertices[10]=this.get_width()+this.antialiasing,this.vertices[11]=this.get_height()+this.antialiasing},__class__:za,__properties__:$extend(ya.prototype.__properties__,{set_antialiasing:"set_antialiasing"})}),function(){this.info={name:"logo-mesh",collections:{},version:"1.0",package:null,author:"Jeremy Faivre",displayName:"Logo Mesh"},this._computeRenderTexturesPriorityQueue=[],this.numBlockingDefaultScroll=0,this.disposedEntities=[],this.beginUpdateCallbacks=[],this.visualsContentDirty=!1,this.hierarchyDirty=!1,this.lazyScenes=!0,this.timelines=new Ut,this.converters=new ue,this.textInput=null,this.persistent=null,this.projectDir=null,this.defaultFont=null,this.defaultWhiteTexture=null,this.defaultTexturedShader=null,this.renderTextures=[],this.groups=[],this.destroyedVisuals=[],this.pendingVisuals=[],this.visuals=[],this.logger=new Vn,this.frame=0,this._computeFps=new Ge,this.inUpdate=!1,this._xUpdatesToCallNow=[],this._xUpdatesHandlers=[],this._xUpdatesHandlersPool=new m,this.loaders=[],this.postFlushImmediateCallbacksLen=0,this.postFlushImmediateCallbacksCapacity=0,this.postFlushImmediateCallbacks=[],this.immediateCallbacksLen=0,this.immediateCallbacksCapacity=0,this.immediateCallbacks=[],j.call(this),he.app=this,Xn.init(),Fl.backend=new At,this.settings=new it,this.screen=new qn,this.audio=new Me,this.input=new fn,this.systems=new ct,this.assets=new fe,this.backend=new M,this.backend.onceReady(this,$bind(this,this.backendReady)),this.backend.init(this)}),Ie=((E["ceramic.App"]=he).__name__="ceramic.App",he.__properties__={get_app:"get_app"},he.get_app=function(){return he.app},he.oncePreInit=function(e){null==he.preInitCallbacks&&(he.preInitCallbacks=[]),he.preInitCallbacks.push(e)},he.init=function(){return F.bind(),new he,new On(he.app.settings)},he.__super__=j,he.prototype=$extend(j.prototype,{__cbOnReady:null,__cbOnceReady:null,__cbOnOwnerUnbindReady:null,__cbOnceOwnerUnbindReady:null,emitReady:function(){var e=0;if(null!=this.__cbOnReady&&(e+=this.__cbOnReady.length),null!=this.__cbOnceReady&&(e+=this.__cbOnceReady.length),0<e){var n=C.pool(e),t=n.get(),i=0;if(null!=this.__cbOnReady)for(var l=0,r=this.__cbOnReady.length;l<r;){var s=l++;!0?(t.vector[i]=this.__cbOnReady[s],++i):--e}if(null!=this.__cbOnceReady){for(var h=null,a=null,l=0,r=this.__cbOnceReady.length;l<r;){var o,s=l++;!0?(t.vector[i]=this.__cbOnceReady[s],this.__cbOnceReady[s]=null,o=this.__cbOnceOwnerUnbindReady[s],(this.__cbOnceOwnerUnbindReady[s]=null)!=o&&o(),++i):(--e,null==h&&(h=[],a=[],0),h.push(this.__cbOnceOwnerUnbindReady[s]),a.push(this.__cbOnceReady[s]))}this.__cbOnceOwnerUnbindReady=h,this.__cbOnceReady=a}for(l=0,r=e;l<r;){i=l++;(0,t.vector[i])()}n.release(t)}},onReady:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event ready because owner is destroyed!");var l=function(e){null!=t&&(i.offReady(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindReady&&(this.__cbOnOwnerUnbindReady=[]),this.__cbOnOwnerUnbindReady.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindReady&&(this.__cbOnOwnerUnbindReady=[]),this.__cbOnOwnerUnbindReady.push(null);null==this.__cbOnReady&&(this.__cbOnReady=[]),this.__cbOnReady.push(t)},onceReady:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event ready because owner is destroyed!");var l=function(e){null!=t&&(i.offReady(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindReady&&(this.__cbOnceOwnerUnbindReady=[]),this.__cbOnceOwnerUnbindReady.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindReady&&(this.__cbOnceOwnerUnbindReady=[]),this.__cbOnceOwnerUnbindReady.push(null);null==this.__cbOnceReady&&(this.__cbOnceReady=[]),this.__cbOnceReady.push(t)},offReady:function(e){if(null!=e){var n;null!=this.__cbOnReady&&-1!=(n=this.__cbOnReady.indexOf(e))&&(this.__cbOnReady.splice(n,1),null!=(r=this.__cbOnOwnerUnbindReady[n])&&r(),this.__cbOnOwnerUnbindReady.splice(n,1)),null!=this.__cbOnceReady&&-1!=(n=this.__cbOnceReady.indexOf(e))&&(this.__cbOnceReady.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindReady[n])&&r(),this.__cbOnceOwnerUnbindReady.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindReady){for(var t=0,i=this.__cbOnOwnerUnbindReady.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindReady[l])&&r()}this.__cbOnOwnerUnbindReady=null}if(null!=this.__cbOnceOwnerUnbindReady){for(t=0,i=this.__cbOnceOwnerUnbindReady.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindReady[l])&&r()}this.__cbOnceOwnerUnbindReady=null}this.__cbOnReady=null,this.__cbOnceReady=null}},listensReady:function(){return null!=this.__cbOnReady&&0<this.__cbOnReady.length||null!=this.__cbOnceReady&&0<this.__cbOnceReady.length},__cbOnUpdate:null,__cbOnceUpdate:null,__cbOnOwnerUnbindUpdate:null,__cbOnceOwnerUnbindUpdate:null,emitUpdate:function(e){var n=0;if(null!=this.__cbOnUpdate&&(n+=this.__cbOnUpdate.length),null!=this.__cbOnceUpdate&&(n+=this.__cbOnceUpdate.length),0<n){var t=C.pool(n),i=t.get(),l=0;if(null!=this.__cbOnUpdate)for(var r=0,s=this.__cbOnUpdate.length;r<s;){var h=r++;!0?(i.vector[l]=this.__cbOnUpdate[h],++l):--n}if(null!=this.__cbOnceUpdate){for(var a=null,o=null,r=0,s=this.__cbOnceUpdate.length;r<s;){var c,h=r++;!0?(i.vector[l]=this.__cbOnceUpdate[h],this.__cbOnceUpdate[h]=null,c=this.__cbOnceOwnerUnbindUpdate[h],(this.__cbOnceOwnerUnbindUpdate[h]=null)!=c&&c(),++l):(--n,null==a&&(a=[],o=[],0),a.push(this.__cbOnceOwnerUnbindUpdate[h]),o.push(this.__cbOnceUpdate[h]))}this.__cbOnceOwnerUnbindUpdate=a,this.__cbOnceUpdate=o}for(r=0,s=n;r<s;){l=r++;(0,i.vector[l])(e)}t.release(i)}},onUpdate:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event update because owner is destroyed!");var l=function(e){null!=t&&(i.offUpdate(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindUpdate&&(this.__cbOnOwnerUnbindUpdate=[]),this.__cbOnOwnerUnbindUpdate.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindUpdate&&(this.__cbOnOwnerUnbindUpdate=[]),this.__cbOnOwnerUnbindUpdate.push(null);null==this.__cbOnUpdate&&(this.__cbOnUpdate=[]),this.__cbOnUpdate.push(t)},onceUpdate:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event update because owner is destroyed!");var l=function(e){null!=t&&(i.offUpdate(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindUpdate&&(this.__cbOnceOwnerUnbindUpdate=[]),this.__cbOnceOwnerUnbindUpdate.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindUpdate&&(this.__cbOnceOwnerUnbindUpdate=[]),this.__cbOnceOwnerUnbindUpdate.push(null);null==this.__cbOnceUpdate&&(this.__cbOnceUpdate=[]),this.__cbOnceUpdate.push(t)},offUpdate:function(e){if(null!=e){var n;null!=this.__cbOnUpdate&&-1!=(n=this.__cbOnUpdate.indexOf(e))&&(this.__cbOnUpdate.splice(n,1),null!=(r=this.__cbOnOwnerUnbindUpdate[n])&&r(),this.__cbOnOwnerUnbindUpdate.splice(n,1)),null!=this.__cbOnceUpdate&&-1!=(n=this.__cbOnceUpdate.indexOf(e))&&(this.__cbOnceUpdate.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindUpdate[n])&&r(),this.__cbOnceOwnerUnbindUpdate.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindUpdate){for(var t=0,i=this.__cbOnOwnerUnbindUpdate.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindUpdate[l])&&r()}this.__cbOnOwnerUnbindUpdate=null}if(null!=this.__cbOnceOwnerUnbindUpdate){for(t=0,i=this.__cbOnceOwnerUnbindUpdate.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindUpdate[l])&&r()}this.__cbOnceOwnerUnbindUpdate=null}this.__cbOnUpdate=null,this.__cbOnceUpdate=null}},listensUpdate:function(){return null!=this.__cbOnUpdate&&0<this.__cbOnUpdate.length||null!=this.__cbOnceUpdate&&0<this.__cbOnceUpdate.length},__cbOnPreUpdate:null,__cbOncePreUpdate:null,__cbOnOwnerUnbindPreUpdate:null,__cbOnceOwnerUnbindPreUpdate:null,emitPreUpdate:function(e){var n=0;if(null!=this.__cbOnPreUpdate&&(n+=this.__cbOnPreUpdate.length),null!=this.__cbOncePreUpdate&&(n+=this.__cbOncePreUpdate.length),0<n){var t=C.pool(n),i=t.get(),l=0;if(null!=this.__cbOnPreUpdate)for(var r=0,s=this.__cbOnPreUpdate.length;r<s;){var h=r++;!0?(i.vector[l]=this.__cbOnPreUpdate[h],++l):--n}if(null!=this.__cbOncePreUpdate){for(var a=null,o=null,r=0,s=this.__cbOncePreUpdate.length;r<s;){var c,h=r++;!0?(i.vector[l]=this.__cbOncePreUpdate[h],this.__cbOncePreUpdate[h]=null,c=this.__cbOnceOwnerUnbindPreUpdate[h],(this.__cbOnceOwnerUnbindPreUpdate[h]=null)!=c&&c(),++l):(--n,null==a&&(a=[],o=[],0),a.push(this.__cbOnceOwnerUnbindPreUpdate[h]),o.push(this.__cbOncePreUpdate[h]))}this.__cbOnceOwnerUnbindPreUpdate=a,this.__cbOncePreUpdate=o}for(r=0,s=n;r<s;){l=r++;(0,i.vector[l])(e)}t.release(i)}},onPreUpdate:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event preUpdate because owner is destroyed!");var l=function(e){null!=t&&(i.offPreUpdate(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindPreUpdate&&(this.__cbOnOwnerUnbindPreUpdate=[]),this.__cbOnOwnerUnbindPreUpdate.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindPreUpdate&&(this.__cbOnOwnerUnbindPreUpdate=[]),this.__cbOnOwnerUnbindPreUpdate.push(null);null==this.__cbOnPreUpdate&&(this.__cbOnPreUpdate=[]),this.__cbOnPreUpdate.push(t)},oncePreUpdate:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event preUpdate because owner is destroyed!");var l=function(e){null!=t&&(i.offPreUpdate(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindPreUpdate&&(this.__cbOnceOwnerUnbindPreUpdate=[]),this.__cbOnceOwnerUnbindPreUpdate.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindPreUpdate&&(this.__cbOnceOwnerUnbindPreUpdate=[]),this.__cbOnceOwnerUnbindPreUpdate.push(null);null==this.__cbOncePreUpdate&&(this.__cbOncePreUpdate=[]),this.__cbOncePreUpdate.push(t)},offPreUpdate:function(e){if(null!=e){var n;null!=this.__cbOnPreUpdate&&-1!=(n=this.__cbOnPreUpdate.indexOf(e))&&(this.__cbOnPreUpdate.splice(n,1),null!=(r=this.__cbOnOwnerUnbindPreUpdate[n])&&r(),this.__cbOnOwnerUnbindPreUpdate.splice(n,1)),null!=this.__cbOncePreUpdate&&-1!=(n=this.__cbOncePreUpdate.indexOf(e))&&(this.__cbOncePreUpdate.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindPreUpdate[n])&&r(),this.__cbOnceOwnerUnbindPreUpdate.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindPreUpdate){for(var t=0,i=this.__cbOnOwnerUnbindPreUpdate.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindPreUpdate[l])&&r()}this.__cbOnOwnerUnbindPreUpdate=null}if(null!=this.__cbOnceOwnerUnbindPreUpdate){for(t=0,i=this.__cbOnceOwnerUnbindPreUpdate.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindPreUpdate[l])&&r()}this.__cbOnceOwnerUnbindPreUpdate=null}this.__cbOnPreUpdate=null,this.__cbOncePreUpdate=null}},listensPreUpdate:function(){return null!=this.__cbOnPreUpdate&&0<this.__cbOnPreUpdate.length||null!=this.__cbOncePreUpdate&&0<this.__cbOncePreUpdate.length},__cbOnPostUpdate:null,__cbOncePostUpdate:null,__cbOnOwnerUnbindPostUpdate:null,__cbOnceOwnerUnbindPostUpdate:null,emitPostUpdate:function(e){var n=0;if(null!=this.__cbOnPostUpdate&&(n+=this.__cbOnPostUpdate.length),null!=this.__cbOncePostUpdate&&(n+=this.__cbOncePostUpdate.length),0<n){var t=C.pool(n),i=t.get(),l=0;if(null!=this.__cbOnPostUpdate)for(var r=0,s=this.__cbOnPostUpdate.length;r<s;){var h=r++;!0?(i.vector[l]=this.__cbOnPostUpdate[h],++l):--n}if(null!=this.__cbOncePostUpdate){for(var a=null,o=null,r=0,s=this.__cbOncePostUpdate.length;r<s;){var c,h=r++;!0?(i.vector[l]=this.__cbOncePostUpdate[h],this.__cbOncePostUpdate[h]=null,c=this.__cbOnceOwnerUnbindPostUpdate[h],(this.__cbOnceOwnerUnbindPostUpdate[h]=null)!=c&&c(),++l):(--n,null==a&&(a=[],o=[],0),a.push(this.__cbOnceOwnerUnbindPostUpdate[h]),o.push(this.__cbOncePostUpdate[h]))}this.__cbOnceOwnerUnbindPostUpdate=a,this.__cbOncePostUpdate=o}for(r=0,s=n;r<s;){l=r++;(0,i.vector[l])(e)}t.release(i)}},onPostUpdate:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event postUpdate because owner is destroyed!");var l=function(e){null!=t&&(i.offPostUpdate(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindPostUpdate&&(this.__cbOnOwnerUnbindPostUpdate=[]),this.__cbOnOwnerUnbindPostUpdate.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindPostUpdate&&(this.__cbOnOwnerUnbindPostUpdate=[]),this.__cbOnOwnerUnbindPostUpdate.push(null);null==this.__cbOnPostUpdate&&(this.__cbOnPostUpdate=[]),this.__cbOnPostUpdate.push(t)},oncePostUpdate:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event postUpdate because owner is destroyed!");var l=function(e){null!=t&&(i.offPostUpdate(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindPostUpdate&&(this.__cbOnceOwnerUnbindPostUpdate=[]),this.__cbOnceOwnerUnbindPostUpdate.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindPostUpdate&&(this.__cbOnceOwnerUnbindPostUpdate=[]),this.__cbOnceOwnerUnbindPostUpdate.push(null);null==this.__cbOncePostUpdate&&(this.__cbOncePostUpdate=[]),this.__cbOncePostUpdate.push(t)},offPostUpdate:function(e){if(null!=e){var n;null!=this.__cbOnPostUpdate&&-1!=(n=this.__cbOnPostUpdate.indexOf(e))&&(this.__cbOnPostUpdate.splice(n,1),null!=(r=this.__cbOnOwnerUnbindPostUpdate[n])&&r(),this.__cbOnOwnerUnbindPostUpdate.splice(n,1)),null!=this.__cbOncePostUpdate&&-1!=(n=this.__cbOncePostUpdate.indexOf(e))&&(this.__cbOncePostUpdate.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindPostUpdate[n])&&r(),this.__cbOnceOwnerUnbindPostUpdate.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindPostUpdate){for(var t=0,i=this.__cbOnOwnerUnbindPostUpdate.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindPostUpdate[l])&&r()}this.__cbOnOwnerUnbindPostUpdate=null}if(null!=this.__cbOnceOwnerUnbindPostUpdate){for(t=0,i=this.__cbOnceOwnerUnbindPostUpdate.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindPostUpdate[l])&&r()}this.__cbOnceOwnerUnbindPostUpdate=null}this.__cbOnPostUpdate=null,this.__cbOncePostUpdate=null}},listensPostUpdate:function(){return null!=this.__cbOnPostUpdate&&0<this.__cbOnPostUpdate.length||null!=this.__cbOncePostUpdate&&0<this.__cbOncePostUpdate.length},__cbOnDefaultAssetsLoad:null,__cbOnceDefaultAssetsLoad:null,__cbOnOwnerUnbindDefaultAssetsLoad:null,__cbOnceOwnerUnbindDefaultAssetsLoad:null,emitDefaultAssetsLoad:function(e){var n=0;if(null!=this.__cbOnDefaultAssetsLoad&&(n+=this.__cbOnDefaultAssetsLoad.length),null!=this.__cbOnceDefaultAssetsLoad&&(n+=this.__cbOnceDefaultAssetsLoad.length),0<n){var t=C.pool(n),i=t.get(),l=0;if(null!=this.__cbOnDefaultAssetsLoad)for(var r=0,s=this.__cbOnDefaultAssetsLoad.length;r<s;){var h=r++;!0?(i.vector[l]=this.__cbOnDefaultAssetsLoad[h],++l):--n}if(null!=this.__cbOnceDefaultAssetsLoad){for(var a=null,o=null,r=0,s=this.__cbOnceDefaultAssetsLoad.length;r<s;){var c,h=r++;!0?(i.vector[l]=this.__cbOnceDefaultAssetsLoad[h],this.__cbOnceDefaultAssetsLoad[h]=null,c=this.__cbOnceOwnerUnbindDefaultAssetsLoad[h],(this.__cbOnceOwnerUnbindDefaultAssetsLoad[h]=null)!=c&&c(),++l):(--n,null==a&&(a=[],o=[],0),a.push(this.__cbOnceOwnerUnbindDefaultAssetsLoad[h]),o.push(this.__cbOnceDefaultAssetsLoad[h]))}this.__cbOnceOwnerUnbindDefaultAssetsLoad=a,this.__cbOnceDefaultAssetsLoad=o}for(r=0,s=n;r<s;){l=r++;(0,i.vector[l])(e)}t.release(i)}},onDefaultAssetsLoad:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event defaultAssetsLoad because owner is destroyed!");var l=function(e){null!=t&&(i.offDefaultAssetsLoad(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindDefaultAssetsLoad&&(this.__cbOnOwnerUnbindDefaultAssetsLoad=[]),this.__cbOnOwnerUnbindDefaultAssetsLoad.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindDefaultAssetsLoad&&(this.__cbOnOwnerUnbindDefaultAssetsLoad=[]),this.__cbOnOwnerUnbindDefaultAssetsLoad.push(null);null==this.__cbOnDefaultAssetsLoad&&(this.__cbOnDefaultAssetsLoad=[]),this.__cbOnDefaultAssetsLoad.push(t)},onceDefaultAssetsLoad:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event defaultAssetsLoad because owner is destroyed!");var l=function(e){null!=t&&(i.offDefaultAssetsLoad(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindDefaultAssetsLoad&&(this.__cbOnceOwnerUnbindDefaultAssetsLoad=[]),this.__cbOnceOwnerUnbindDefaultAssetsLoad.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindDefaultAssetsLoad&&(this.__cbOnceOwnerUnbindDefaultAssetsLoad=[]),this.__cbOnceOwnerUnbindDefaultAssetsLoad.push(null);null==this.__cbOnceDefaultAssetsLoad&&(this.__cbOnceDefaultAssetsLoad=[]),this.__cbOnceDefaultAssetsLoad.push(t)},offDefaultAssetsLoad:function(e){if(null!=e){var n;null!=this.__cbOnDefaultAssetsLoad&&-1!=(n=this.__cbOnDefaultAssetsLoad.indexOf(e))&&(this.__cbOnDefaultAssetsLoad.splice(n,1),null!=(r=this.__cbOnOwnerUnbindDefaultAssetsLoad[n])&&r(),this.__cbOnOwnerUnbindDefaultAssetsLoad.splice(n,1)),null!=this.__cbOnceDefaultAssetsLoad&&-1!=(n=this.__cbOnceDefaultAssetsLoad.indexOf(e))&&(this.__cbOnceDefaultAssetsLoad.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindDefaultAssetsLoad[n])&&r(),this.__cbOnceOwnerUnbindDefaultAssetsLoad.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindDefaultAssetsLoad){for(var t=0,i=this.__cbOnOwnerUnbindDefaultAssetsLoad.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindDefaultAssetsLoad[l])&&r()}this.__cbOnOwnerUnbindDefaultAssetsLoad=null}if(null!=this.__cbOnceOwnerUnbindDefaultAssetsLoad){for(t=0,i=this.__cbOnceOwnerUnbindDefaultAssetsLoad.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindDefaultAssetsLoad[l])&&r()}this.__cbOnceOwnerUnbindDefaultAssetsLoad=null}this.__cbOnDefaultAssetsLoad=null,this.__cbOnceDefaultAssetsLoad=null}},listensDefaultAssetsLoad:function(){return null!=this.__cbOnDefaultAssetsLoad&&0<this.__cbOnDefaultAssetsLoad.length||null!=this.__cbOnceDefaultAssetsLoad&&0<this.__cbOnceDefaultAssetsLoad.length},__cbOnCriticalError:null,__cbOnceCriticalError:null,__cbOnOwnerUnbindCriticalError:null,__cbOnceOwnerUnbindCriticalError:null,emitCriticalError:function(e,n){var t=0;if(null!=this.__cbOnCriticalError&&(t+=this.__cbOnCriticalError.length),null!=this.__cbOnceCriticalError&&(t+=this.__cbOnceCriticalError.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnCriticalError)for(var s=0,h=this.__cbOnCriticalError.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnCriticalError[a],++r):--t}if(null!=this.__cbOnceCriticalError){for(var o=null,c=null,s=0,h=this.__cbOnceCriticalError.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceCriticalError[a],this.__cbOnceCriticalError[a]=null,u=this.__cbOnceOwnerUnbindCriticalError[a],(this.__cbOnceOwnerUnbindCriticalError[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindCriticalError[a]),c.push(this.__cbOnceCriticalError[a]))}this.__cbOnceOwnerUnbindCriticalError=o,this.__cbOnceCriticalError=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onCriticalError:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event criticalError because owner is destroyed!");var l=function(e){null!=t&&(i.offCriticalError(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindCriticalError&&(this.__cbOnOwnerUnbindCriticalError=[]),this.__cbOnOwnerUnbindCriticalError.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindCriticalError&&(this.__cbOnOwnerUnbindCriticalError=[]),this.__cbOnOwnerUnbindCriticalError.push(null);null==this.__cbOnCriticalError&&(this.__cbOnCriticalError=[]),this.__cbOnCriticalError.push(t)},onceCriticalError:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event criticalError because owner is destroyed!");var l=function(e){null!=t&&(i.offCriticalError(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindCriticalError&&(this.__cbOnceOwnerUnbindCriticalError=[]),this.__cbOnceOwnerUnbindCriticalError.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindCriticalError&&(this.__cbOnceOwnerUnbindCriticalError=[]),this.__cbOnceOwnerUnbindCriticalError.push(null);null==this.__cbOnceCriticalError&&(this.__cbOnceCriticalError=[]),this.__cbOnceCriticalError.push(t)},offCriticalError:function(e){if(null!=e){var n;null!=this.__cbOnCriticalError&&-1!=(n=this.__cbOnCriticalError.indexOf(e))&&(this.__cbOnCriticalError.splice(n,1),null!=(r=this.__cbOnOwnerUnbindCriticalError[n])&&r(),this.__cbOnOwnerUnbindCriticalError.splice(n,1)),null!=this.__cbOnceCriticalError&&-1!=(n=this.__cbOnceCriticalError.indexOf(e))&&(this.__cbOnceCriticalError.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindCriticalError[n])&&r(),this.__cbOnceOwnerUnbindCriticalError.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindCriticalError){for(var t=0,i=this.__cbOnOwnerUnbindCriticalError.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindCriticalError[l])&&r()}this.__cbOnOwnerUnbindCriticalError=null}if(null!=this.__cbOnceOwnerUnbindCriticalError){for(t=0,i=this.__cbOnceOwnerUnbindCriticalError.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindCriticalError[l])&&r()}this.__cbOnceOwnerUnbindCriticalError=null}this.__cbOnCriticalError=null,this.__cbOnceCriticalError=null}},listensCriticalError:function(){return null!=this.__cbOnCriticalError&&0<this.__cbOnCriticalError.length||null!=this.__cbOnceCriticalError&&0<this.__cbOnceCriticalError.length},__cbOnBeginEnterBackground:null,__cbOnceBeginEnterBackground:null,__cbOnOwnerUnbindBeginEnterBackground:null,__cbOnceOwnerUnbindBeginEnterBackground:null,emitBeginEnterBackground:function(){var e=0;if(null!=this.__cbOnBeginEnterBackground&&(e+=this.__cbOnBeginEnterBackground.length),null!=this.__cbOnceBeginEnterBackground&&(e+=this.__cbOnceBeginEnterBackground.length),0<e){var n=C.pool(e),t=n.get(),i=0;if(null!=this.__cbOnBeginEnterBackground)for(var l=0,r=this.__cbOnBeginEnterBackground.length;l<r;){var s=l++;!0?(t.vector[i]=this.__cbOnBeginEnterBackground[s],++i):--e}if(null!=this.__cbOnceBeginEnterBackground){for(var h=null,a=null,l=0,r=this.__cbOnceBeginEnterBackground.length;l<r;){var o,s=l++;!0?(t.vector[i]=this.__cbOnceBeginEnterBackground[s],this.__cbOnceBeginEnterBackground[s]=null,o=this.__cbOnceOwnerUnbindBeginEnterBackground[s],(this.__cbOnceOwnerUnbindBeginEnterBackground[s]=null)!=o&&o(),++i):(--e,null==h&&(h=[],a=[],0),h.push(this.__cbOnceOwnerUnbindBeginEnterBackground[s]),a.push(this.__cbOnceBeginEnterBackground[s]))}this.__cbOnceOwnerUnbindBeginEnterBackground=h,this.__cbOnceBeginEnterBackground=a}for(l=0,r=e;l<r;){i=l++;(0,t.vector[i])()}n.release(t)}},onBeginEnterBackground:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event beginEnterBackground because owner is destroyed!");var l=function(e){null!=t&&(i.offBeginEnterBackground(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindBeginEnterBackground&&(this.__cbOnOwnerUnbindBeginEnterBackground=[]),this.__cbOnOwnerUnbindBeginEnterBackground.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindBeginEnterBackground&&(this.__cbOnOwnerUnbindBeginEnterBackground=[]),this.__cbOnOwnerUnbindBeginEnterBackground.push(null);null==this.__cbOnBeginEnterBackground&&(this.__cbOnBeginEnterBackground=[]),this.__cbOnBeginEnterBackground.push(t)},onceBeginEnterBackground:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event beginEnterBackground because owner is destroyed!");var l=function(e){null!=t&&(i.offBeginEnterBackground(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindBeginEnterBackground&&(this.__cbOnceOwnerUnbindBeginEnterBackground=[]),this.__cbOnceOwnerUnbindBeginEnterBackground.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindBeginEnterBackground&&(this.__cbOnceOwnerUnbindBeginEnterBackground=[]),this.__cbOnceOwnerUnbindBeginEnterBackground.push(null);null==this.__cbOnceBeginEnterBackground&&(this.__cbOnceBeginEnterBackground=[]),this.__cbOnceBeginEnterBackground.push(t)},offBeginEnterBackground:function(e){if(null!=e){var n;null!=this.__cbOnBeginEnterBackground&&-1!=(n=this.__cbOnBeginEnterBackground.indexOf(e))&&(this.__cbOnBeginEnterBackground.splice(n,1),null!=(r=this.__cbOnOwnerUnbindBeginEnterBackground[n])&&r(),this.__cbOnOwnerUnbindBeginEnterBackground.splice(n,1)),null!=this.__cbOnceBeginEnterBackground&&-1!=(n=this.__cbOnceBeginEnterBackground.indexOf(e))&&(this.__cbOnceBeginEnterBackground.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindBeginEnterBackground[n])&&r(),this.__cbOnceOwnerUnbindBeginEnterBackground.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindBeginEnterBackground){for(var t=0,i=this.__cbOnOwnerUnbindBeginEnterBackground.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindBeginEnterBackground[l])&&r()}this.__cbOnOwnerUnbindBeginEnterBackground=null}if(null!=this.__cbOnceOwnerUnbindBeginEnterBackground){for(t=0,i=this.__cbOnceOwnerUnbindBeginEnterBackground.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindBeginEnterBackground[l])&&r()}this.__cbOnceOwnerUnbindBeginEnterBackground=null}this.__cbOnBeginEnterBackground=null,this.__cbOnceBeginEnterBackground=null}},listensBeginEnterBackground:function(){return null!=this.__cbOnBeginEnterBackground&&0<this.__cbOnBeginEnterBackground.length||null!=this.__cbOnceBeginEnterBackground&&0<this.__cbOnceBeginEnterBackground.length},__cbOnFinishEnterBackground:null,__cbOnceFinishEnterBackground:null,__cbOnOwnerUnbindFinishEnterBackground:null,__cbOnceOwnerUnbindFinishEnterBackground:null,emitFinishEnterBackground:function(){var e=0;if(null!=this.__cbOnFinishEnterBackground&&(e+=this.__cbOnFinishEnterBackground.length),null!=this.__cbOnceFinishEnterBackground&&(e+=this.__cbOnceFinishEnterBackground.length),0<e){var n=C.pool(e),t=n.get(),i=0;if(null!=this.__cbOnFinishEnterBackground)for(var l=0,r=this.__cbOnFinishEnterBackground.length;l<r;){var s=l++;!0?(t.vector[i]=this.__cbOnFinishEnterBackground[s],++i):--e}if(null!=this.__cbOnceFinishEnterBackground){for(var h=null,a=null,l=0,r=this.__cbOnceFinishEnterBackground.length;l<r;){var o,s=l++;!0?(t.vector[i]=this.__cbOnceFinishEnterBackground[s],this.__cbOnceFinishEnterBackground[s]=null,o=this.__cbOnceOwnerUnbindFinishEnterBackground[s],(this.__cbOnceOwnerUnbindFinishEnterBackground[s]=null)!=o&&o(),++i):(--e,null==h&&(h=[],a=[],0),h.push(this.__cbOnceOwnerUnbindFinishEnterBackground[s]),a.push(this.__cbOnceFinishEnterBackground[s]))}this.__cbOnceOwnerUnbindFinishEnterBackground=h,this.__cbOnceFinishEnterBackground=a}for(l=0,r=e;l<r;){i=l++;(0,t.vector[i])()}n.release(t)}},onFinishEnterBackground:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event finishEnterBackground because owner is destroyed!");var l=function(e){null!=t&&(i.offFinishEnterBackground(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindFinishEnterBackground&&(this.__cbOnOwnerUnbindFinishEnterBackground=[]),this.__cbOnOwnerUnbindFinishEnterBackground.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindFinishEnterBackground&&(this.__cbOnOwnerUnbindFinishEnterBackground=[]),this.__cbOnOwnerUnbindFinishEnterBackground.push(null);null==this.__cbOnFinishEnterBackground&&(this.__cbOnFinishEnterBackground=[]),this.__cbOnFinishEnterBackground.push(t)},onceFinishEnterBackground:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event finishEnterBackground because owner is destroyed!");var l=function(e){null!=t&&(i.offFinishEnterBackground(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindFinishEnterBackground&&(this.__cbOnceOwnerUnbindFinishEnterBackground=[]),this.__cbOnceOwnerUnbindFinishEnterBackground.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindFinishEnterBackground&&(this.__cbOnceOwnerUnbindFinishEnterBackground=[]),this.__cbOnceOwnerUnbindFinishEnterBackground.push(null);null==this.__cbOnceFinishEnterBackground&&(this.__cbOnceFinishEnterBackground=[]),this.__cbOnceFinishEnterBackground.push(t)},offFinishEnterBackground:function(e){if(null!=e){var n;null!=this.__cbOnFinishEnterBackground&&-1!=(n=this.__cbOnFinishEnterBackground.indexOf(e))&&(this.__cbOnFinishEnterBackground.splice(n,1),null!=(r=this.__cbOnOwnerUnbindFinishEnterBackground[n])&&r(),this.__cbOnOwnerUnbindFinishEnterBackground.splice(n,1)),null!=this.__cbOnceFinishEnterBackground&&-1!=(n=this.__cbOnceFinishEnterBackground.indexOf(e))&&(this.__cbOnceFinishEnterBackground.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindFinishEnterBackground[n])&&r(),this.__cbOnceOwnerUnbindFinishEnterBackground.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindFinishEnterBackground){for(var t=0,i=this.__cbOnOwnerUnbindFinishEnterBackground.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindFinishEnterBackground[l])&&r()}this.__cbOnOwnerUnbindFinishEnterBackground=null}if(null!=this.__cbOnceOwnerUnbindFinishEnterBackground){for(t=0,i=this.__cbOnceOwnerUnbindFinishEnterBackground.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindFinishEnterBackground[l])&&r()}this.__cbOnceOwnerUnbindFinishEnterBackground=null}this.__cbOnFinishEnterBackground=null,this.__cbOnceFinishEnterBackground=null}},listensFinishEnterBackground:function(){return null!=this.__cbOnFinishEnterBackground&&0<this.__cbOnFinishEnterBackground.length||null!=this.__cbOnceFinishEnterBackground&&0<this.__cbOnceFinishEnterBackground.length},__cbOnBeginEnterForeground:null,__cbOnceBeginEnterForeground:null,__cbOnOwnerUnbindBeginEnterForeground:null,__cbOnceOwnerUnbindBeginEnterForeground:null,emitBeginEnterForeground:function(){var e=0;if(null!=this.__cbOnBeginEnterForeground&&(e+=this.__cbOnBeginEnterForeground.length),null!=this.__cbOnceBeginEnterForeground&&(e+=this.__cbOnceBeginEnterForeground.length),0<e){var n=C.pool(e),t=n.get(),i=0;if(null!=this.__cbOnBeginEnterForeground)for(var l=0,r=this.__cbOnBeginEnterForeground.length;l<r;){var s=l++;!0?(t.vector[i]=this.__cbOnBeginEnterForeground[s],++i):--e}if(null!=this.__cbOnceBeginEnterForeground){for(var h=null,a=null,l=0,r=this.__cbOnceBeginEnterForeground.length;l<r;){var o,s=l++;!0?(t.vector[i]=this.__cbOnceBeginEnterForeground[s],this.__cbOnceBeginEnterForeground[s]=null,o=this.__cbOnceOwnerUnbindBeginEnterForeground[s],(this.__cbOnceOwnerUnbindBeginEnterForeground[s]=null)!=o&&o(),++i):(--e,null==h&&(h=[],a=[],0),h.push(this.__cbOnceOwnerUnbindBeginEnterForeground[s]),a.push(this.__cbOnceBeginEnterForeground[s]))}this.__cbOnceOwnerUnbindBeginEnterForeground=h,this.__cbOnceBeginEnterForeground=a}for(l=0,r=e;l<r;){i=l++;(0,t.vector[i])()}n.release(t)}},onBeginEnterForeground:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event beginEnterForeground because owner is destroyed!");var l=function(e){null!=t&&(i.offBeginEnterForeground(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindBeginEnterForeground&&(this.__cbOnOwnerUnbindBeginEnterForeground=[]),this.__cbOnOwnerUnbindBeginEnterForeground.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindBeginEnterForeground&&(this.__cbOnOwnerUnbindBeginEnterForeground=[]),this.__cbOnOwnerUnbindBeginEnterForeground.push(null);null==this.__cbOnBeginEnterForeground&&(this.__cbOnBeginEnterForeground=[]),this.__cbOnBeginEnterForeground.push(t)},onceBeginEnterForeground:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event beginEnterForeground because owner is destroyed!");var l=function(e){null!=t&&(i.offBeginEnterForeground(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindBeginEnterForeground&&(this.__cbOnceOwnerUnbindBeginEnterForeground=[]),this.__cbOnceOwnerUnbindBeginEnterForeground.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindBeginEnterForeground&&(this.__cbOnceOwnerUnbindBeginEnterForeground=[]),this.__cbOnceOwnerUnbindBeginEnterForeground.push(null);null==this.__cbOnceBeginEnterForeground&&(this.__cbOnceBeginEnterForeground=[]),this.__cbOnceBeginEnterForeground.push(t)},offBeginEnterForeground:function(e){if(null!=e){var n;null!=this.__cbOnBeginEnterForeground&&-1!=(n=this.__cbOnBeginEnterForeground.indexOf(e))&&(this.__cbOnBeginEnterForeground.splice(n,1),null!=(r=this.__cbOnOwnerUnbindBeginEnterForeground[n])&&r(),this.__cbOnOwnerUnbindBeginEnterForeground.splice(n,1)),null!=this.__cbOnceBeginEnterForeground&&-1!=(n=this.__cbOnceBeginEnterForeground.indexOf(e))&&(this.__cbOnceBeginEnterForeground.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindBeginEnterForeground[n])&&r(),this.__cbOnceOwnerUnbindBeginEnterForeground.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindBeginEnterForeground){for(var t=0,i=this.__cbOnOwnerUnbindBeginEnterForeground.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindBeginEnterForeground[l])&&r()}this.__cbOnOwnerUnbindBeginEnterForeground=null}if(null!=this.__cbOnceOwnerUnbindBeginEnterForeground){for(t=0,i=this.__cbOnceOwnerUnbindBeginEnterForeground.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindBeginEnterForeground[l])&&r()}this.__cbOnceOwnerUnbindBeginEnterForeground=null}this.__cbOnBeginEnterForeground=null,this.__cbOnceBeginEnterForeground=null}},listensBeginEnterForeground:function(){return null!=this.__cbOnBeginEnterForeground&&0<this.__cbOnBeginEnterForeground.length||null!=this.__cbOnceBeginEnterForeground&&0<this.__cbOnceBeginEnterForeground.length},__cbOnFinishEnterForeground:null,__cbOnceFinishEnterForeground:null,__cbOnOwnerUnbindFinishEnterForeground:null,__cbOnceOwnerUnbindFinishEnterForeground:null,emitFinishEnterForeground:function(){var e=0;if(null!=this.__cbOnFinishEnterForeground&&(e+=this.__cbOnFinishEnterForeground.length),null!=this.__cbOnceFinishEnterForeground&&(e+=this.__cbOnceFinishEnterForeground.length),0<e){var n=C.pool(e),t=n.get(),i=0;if(null!=this.__cbOnFinishEnterForeground)for(var l=0,r=this.__cbOnFinishEnterForeground.length;l<r;){var s=l++;!0?(t.vector[i]=this.__cbOnFinishEnterForeground[s],++i):--e}if(null!=this.__cbOnceFinishEnterForeground){for(var h=null,a=null,l=0,r=this.__cbOnceFinishEnterForeground.length;l<r;){var o,s=l++;!0?(t.vector[i]=this.__cbOnceFinishEnterForeground[s],this.__cbOnceFinishEnterForeground[s]=null,o=this.__cbOnceOwnerUnbindFinishEnterForeground[s],(this.__cbOnceOwnerUnbindFinishEnterForeground[s]=null)!=o&&o(),++i):(--e,null==h&&(h=[],a=[],0),h.push(this.__cbOnceOwnerUnbindFinishEnterForeground[s]),a.push(this.__cbOnceFinishEnterForeground[s]))}this.__cbOnceOwnerUnbindFinishEnterForeground=h,this.__cbOnceFinishEnterForeground=a}for(l=0,r=e;l<r;){i=l++;(0,t.vector[i])()}n.release(t)}},onFinishEnterForeground:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event finishEnterForeground because owner is destroyed!");var l=function(e){null!=t&&(i.offFinishEnterForeground(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindFinishEnterForeground&&(this.__cbOnOwnerUnbindFinishEnterForeground=[]),this.__cbOnOwnerUnbindFinishEnterForeground.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindFinishEnterForeground&&(this.__cbOnOwnerUnbindFinishEnterForeground=[]),this.__cbOnOwnerUnbindFinishEnterForeground.push(null);null==this.__cbOnFinishEnterForeground&&(this.__cbOnFinishEnterForeground=[]),this.__cbOnFinishEnterForeground.push(t)},onceFinishEnterForeground:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event finishEnterForeground because owner is destroyed!");var l=function(e){null!=t&&(i.offFinishEnterForeground(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindFinishEnterForeground&&(this.__cbOnceOwnerUnbindFinishEnterForeground=[]),this.__cbOnceOwnerUnbindFinishEnterForeground.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindFinishEnterForeground&&(this.__cbOnceOwnerUnbindFinishEnterForeground=[]),this.__cbOnceOwnerUnbindFinishEnterForeground.push(null);null==this.__cbOnceFinishEnterForeground&&(this.__cbOnceFinishEnterForeground=[]),this.__cbOnceFinishEnterForeground.push(t)},offFinishEnterForeground:function(e){if(null!=e){var n;null!=this.__cbOnFinishEnterForeground&&-1!=(n=this.__cbOnFinishEnterForeground.indexOf(e))&&(this.__cbOnFinishEnterForeground.splice(n,1),null!=(r=this.__cbOnOwnerUnbindFinishEnterForeground[n])&&r(),this.__cbOnOwnerUnbindFinishEnterForeground.splice(n,1)),null!=this.__cbOnceFinishEnterForeground&&-1!=(n=this.__cbOnceFinishEnterForeground.indexOf(e))&&(this.__cbOnceFinishEnterForeground.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindFinishEnterForeground[n])&&r(),this.__cbOnceOwnerUnbindFinishEnterForeground.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindFinishEnterForeground){for(var t=0,i=this.__cbOnOwnerUnbindFinishEnterForeground.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindFinishEnterForeground[l])&&r()}this.__cbOnOwnerUnbindFinishEnterForeground=null}if(null!=this.__cbOnceOwnerUnbindFinishEnterForeground){for(t=0,i=this.__cbOnceOwnerUnbindFinishEnterForeground.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindFinishEnterForeground[l])&&r()}this.__cbOnceOwnerUnbindFinishEnterForeground=null}this.__cbOnFinishEnterForeground=null,this.__cbOnceFinishEnterForeground=null}},listensFinishEnterForeground:function(){return null!=this.__cbOnFinishEnterForeground&&0<this.__cbOnFinishEnterForeground.length||null!=this.__cbOnceFinishEnterForeground&&0<this.__cbOnceFinishEnterForeground.length},__cbOnBeginSortVisuals:null,__cbOnceBeginSortVisuals:null,__cbOnOwnerUnbindBeginSortVisuals:null,__cbOnceOwnerUnbindBeginSortVisuals:null,emitBeginSortVisuals:function(){var e=0;if(null!=this.__cbOnBeginSortVisuals&&(e+=this.__cbOnBeginSortVisuals.length),null!=this.__cbOnceBeginSortVisuals&&(e+=this.__cbOnceBeginSortVisuals.length),0<e){var n=C.pool(e),t=n.get(),i=0;if(null!=this.__cbOnBeginSortVisuals)for(var l=0,r=this.__cbOnBeginSortVisuals.length;l<r;){var s=l++;!0?(t.vector[i]=this.__cbOnBeginSortVisuals[s],++i):--e}if(null!=this.__cbOnceBeginSortVisuals){for(var h=null,a=null,l=0,r=this.__cbOnceBeginSortVisuals.length;l<r;){var o,s=l++;!0?(t.vector[i]=this.__cbOnceBeginSortVisuals[s],this.__cbOnceBeginSortVisuals[s]=null,o=this.__cbOnceOwnerUnbindBeginSortVisuals[s],(this.__cbOnceOwnerUnbindBeginSortVisuals[s]=null)!=o&&o(),++i):(--e,null==h&&(h=[],a=[],0),h.push(this.__cbOnceOwnerUnbindBeginSortVisuals[s]),a.push(this.__cbOnceBeginSortVisuals[s]))}this.__cbOnceOwnerUnbindBeginSortVisuals=h,this.__cbOnceBeginSortVisuals=a}for(l=0,r=e;l<r;){i=l++;(0,t.vector[i])()}n.release(t)}},onBeginSortVisuals:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event beginSortVisuals because owner is destroyed!");var l=function(e){null!=t&&(i.offBeginSortVisuals(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindBeginSortVisuals&&(this.__cbOnOwnerUnbindBeginSortVisuals=[]),this.__cbOnOwnerUnbindBeginSortVisuals.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindBeginSortVisuals&&(this.__cbOnOwnerUnbindBeginSortVisuals=[]),this.__cbOnOwnerUnbindBeginSortVisuals.push(null);null==this.__cbOnBeginSortVisuals&&(this.__cbOnBeginSortVisuals=[]),this.__cbOnBeginSortVisuals.push(t)},onceBeginSortVisuals:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event beginSortVisuals because owner is destroyed!");var l=function(e){null!=t&&(i.offBeginSortVisuals(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindBeginSortVisuals&&(this.__cbOnceOwnerUnbindBeginSortVisuals=[]),this.__cbOnceOwnerUnbindBeginSortVisuals.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindBeginSortVisuals&&(this.__cbOnceOwnerUnbindBeginSortVisuals=[]),this.__cbOnceOwnerUnbindBeginSortVisuals.push(null);null==this.__cbOnceBeginSortVisuals&&(this.__cbOnceBeginSortVisuals=[]),this.__cbOnceBeginSortVisuals.push(t)},offBeginSortVisuals:function(e){if(null!=e){var n;null!=this.__cbOnBeginSortVisuals&&-1!=(n=this.__cbOnBeginSortVisuals.indexOf(e))&&(this.__cbOnBeginSortVisuals.splice(n,1),null!=(r=this.__cbOnOwnerUnbindBeginSortVisuals[n])&&r(),this.__cbOnOwnerUnbindBeginSortVisuals.splice(n,1)),null!=this.__cbOnceBeginSortVisuals&&-1!=(n=this.__cbOnceBeginSortVisuals.indexOf(e))&&(this.__cbOnceBeginSortVisuals.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindBeginSortVisuals[n])&&r(),this.__cbOnceOwnerUnbindBeginSortVisuals.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindBeginSortVisuals){for(var t=0,i=this.__cbOnOwnerUnbindBeginSortVisuals.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindBeginSortVisuals[l])&&r()}this.__cbOnOwnerUnbindBeginSortVisuals=null}if(null!=this.__cbOnceOwnerUnbindBeginSortVisuals){for(t=0,i=this.__cbOnceOwnerUnbindBeginSortVisuals.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindBeginSortVisuals[l])&&r()}this.__cbOnceOwnerUnbindBeginSortVisuals=null}this.__cbOnBeginSortVisuals=null,this.__cbOnceBeginSortVisuals=null}},listensBeginSortVisuals:function(){return null!=this.__cbOnBeginSortVisuals&&0<this.__cbOnBeginSortVisuals.length||null!=this.__cbOnceBeginSortVisuals&&0<this.__cbOnceBeginSortVisuals.length},__cbOnFinishSortVisuals:null,__cbOnceFinishSortVisuals:null,__cbOnOwnerUnbindFinishSortVisuals:null,__cbOnceOwnerUnbindFinishSortVisuals:null,emitFinishSortVisuals:function(){var e=0;if(null!=this.__cbOnFinishSortVisuals&&(e+=this.__cbOnFinishSortVisuals.length),null!=this.__cbOnceFinishSortVisuals&&(e+=this.__cbOnceFinishSortVisuals.length),0<e){var n=C.pool(e),t=n.get(),i=0;if(null!=this.__cbOnFinishSortVisuals)for(var l=0,r=this.__cbOnFinishSortVisuals.length;l<r;){var s=l++;!0?(t.vector[i]=this.__cbOnFinishSortVisuals[s],++i):--e}if(null!=this.__cbOnceFinishSortVisuals){for(var h=null,a=null,l=0,r=this.__cbOnceFinishSortVisuals.length;l<r;){var o,s=l++;!0?(t.vector[i]=this.__cbOnceFinishSortVisuals[s],this.__cbOnceFinishSortVisuals[s]=null,o=this.__cbOnceOwnerUnbindFinishSortVisuals[s],(this.__cbOnceOwnerUnbindFinishSortVisuals[s]=null)!=o&&o(),++i):(--e,null==h&&(h=[],a=[],0),h.push(this.__cbOnceOwnerUnbindFinishSortVisuals[s]),a.push(this.__cbOnceFinishSortVisuals[s]))}this.__cbOnceOwnerUnbindFinishSortVisuals=h,this.__cbOnceFinishSortVisuals=a}for(l=0,r=e;l<r;){i=l++;(0,t.vector[i])()}n.release(t)}},onFinishSortVisuals:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event finishSortVisuals because owner is destroyed!");var l=function(e){null!=t&&(i.offFinishSortVisuals(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindFinishSortVisuals&&(this.__cbOnOwnerUnbindFinishSortVisuals=[]),this.__cbOnOwnerUnbindFinishSortVisuals.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindFinishSortVisuals&&(this.__cbOnOwnerUnbindFinishSortVisuals=[]),this.__cbOnOwnerUnbindFinishSortVisuals.push(null);null==this.__cbOnFinishSortVisuals&&(this.__cbOnFinishSortVisuals=[]),this.__cbOnFinishSortVisuals.push(t)},onceFinishSortVisuals:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event finishSortVisuals because owner is destroyed!");var l=function(e){null!=t&&(i.offFinishSortVisuals(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindFinishSortVisuals&&(this.__cbOnceOwnerUnbindFinishSortVisuals=[]),this.__cbOnceOwnerUnbindFinishSortVisuals.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindFinishSortVisuals&&(this.__cbOnceOwnerUnbindFinishSortVisuals=[]),this.__cbOnceOwnerUnbindFinishSortVisuals.push(null);null==this.__cbOnceFinishSortVisuals&&(this.__cbOnceFinishSortVisuals=[]),this.__cbOnceFinishSortVisuals.push(t)},offFinishSortVisuals:function(e){if(null!=e){var n;null!=this.__cbOnFinishSortVisuals&&-1!=(n=this.__cbOnFinishSortVisuals.indexOf(e))&&(this.__cbOnFinishSortVisuals.splice(n,1),null!=(r=this.__cbOnOwnerUnbindFinishSortVisuals[n])&&r(),this.__cbOnOwnerUnbindFinishSortVisuals.splice(n,1)),null!=this.__cbOnceFinishSortVisuals&&-1!=(n=this.__cbOnceFinishSortVisuals.indexOf(e))&&(this.__cbOnceFinishSortVisuals.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindFinishSortVisuals[n])&&r(),this.__cbOnceOwnerUnbindFinishSortVisuals.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindFinishSortVisuals){for(var t=0,i=this.__cbOnOwnerUnbindFinishSortVisuals.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindFinishSortVisuals[l])&&r()}this.__cbOnOwnerUnbindFinishSortVisuals=null}if(null!=this.__cbOnceOwnerUnbindFinishSortVisuals){for(t=0,i=this.__cbOnceOwnerUnbindFinishSortVisuals.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindFinishSortVisuals[l])&&r()}this.__cbOnceOwnerUnbindFinishSortVisuals=null}this.__cbOnFinishSortVisuals=null,this.__cbOnceFinishSortVisuals=null}},listensFinishSortVisuals:function(){return null!=this.__cbOnFinishSortVisuals&&0<this.__cbOnFinishSortVisuals.length||null!=this.__cbOnceFinishSortVisuals&&0<this.__cbOnceFinishSortVisuals.length},__cbOnBeginDraw:null,__cbOnceBeginDraw:null,__cbOnOwnerUnbindBeginDraw:null,__cbOnceOwnerUnbindBeginDraw:null,emitBeginDraw:function(){var e=0;if(null!=this.__cbOnBeginDraw&&(e+=this.__cbOnBeginDraw.length),null!=this.__cbOnceBeginDraw&&(e+=this.__cbOnceBeginDraw.length),0<e){var n=C.pool(e),t=n.get(),i=0;if(null!=this.__cbOnBeginDraw)for(var l=0,r=this.__cbOnBeginDraw.length;l<r;){var s=l++;!0?(t.vector[i]=this.__cbOnBeginDraw[s],++i):--e}if(null!=this.__cbOnceBeginDraw){for(var h=null,a=null,l=0,r=this.__cbOnceBeginDraw.length;l<r;){var o,s=l++;!0?(t.vector[i]=this.__cbOnceBeginDraw[s],this.__cbOnceBeginDraw[s]=null,o=this.__cbOnceOwnerUnbindBeginDraw[s],(this.__cbOnceOwnerUnbindBeginDraw[s]=null)!=o&&o(),++i):(--e,null==h&&(h=[],a=[],0),h.push(this.__cbOnceOwnerUnbindBeginDraw[s]),a.push(this.__cbOnceBeginDraw[s]))}this.__cbOnceOwnerUnbindBeginDraw=h,this.__cbOnceBeginDraw=a}for(l=0,r=e;l<r;){i=l++;(0,t.vector[i])()}n.release(t)}},onBeginDraw:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event beginDraw because owner is destroyed!");var l=function(e){null!=t&&(i.offBeginDraw(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindBeginDraw&&(this.__cbOnOwnerUnbindBeginDraw=[]),this.__cbOnOwnerUnbindBeginDraw.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindBeginDraw&&(this.__cbOnOwnerUnbindBeginDraw=[]),this.__cbOnOwnerUnbindBeginDraw.push(null);null==this.__cbOnBeginDraw&&(this.__cbOnBeginDraw=[]),this.__cbOnBeginDraw.push(t)},onceBeginDraw:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event beginDraw because owner is destroyed!");var l=function(e){null!=t&&(i.offBeginDraw(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindBeginDraw&&(this.__cbOnceOwnerUnbindBeginDraw=[]),this.__cbOnceOwnerUnbindBeginDraw.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindBeginDraw&&(this.__cbOnceOwnerUnbindBeginDraw=[]),this.__cbOnceOwnerUnbindBeginDraw.push(null);null==this.__cbOnceBeginDraw&&(this.__cbOnceBeginDraw=[]),this.__cbOnceBeginDraw.push(t)},offBeginDraw:function(e){if(null!=e){var n;null!=this.__cbOnBeginDraw&&-1!=(n=this.__cbOnBeginDraw.indexOf(e))&&(this.__cbOnBeginDraw.splice(n,1),null!=(r=this.__cbOnOwnerUnbindBeginDraw[n])&&r(),this.__cbOnOwnerUnbindBeginDraw.splice(n,1)),null!=this.__cbOnceBeginDraw&&-1!=(n=this.__cbOnceBeginDraw.indexOf(e))&&(this.__cbOnceBeginDraw.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindBeginDraw[n])&&r(),this.__cbOnceOwnerUnbindBeginDraw.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindBeginDraw){for(var t=0,i=this.__cbOnOwnerUnbindBeginDraw.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindBeginDraw[l])&&r()}this.__cbOnOwnerUnbindBeginDraw=null}if(null!=this.__cbOnceOwnerUnbindBeginDraw){for(t=0,i=this.__cbOnceOwnerUnbindBeginDraw.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindBeginDraw[l])&&r()}this.__cbOnceOwnerUnbindBeginDraw=null}this.__cbOnBeginDraw=null,this.__cbOnceBeginDraw=null}},listensBeginDraw:function(){return null!=this.__cbOnBeginDraw&&0<this.__cbOnBeginDraw.length||null!=this.__cbOnceBeginDraw&&0<this.__cbOnceBeginDraw.length},__cbOnFinishDraw:null,__cbOnceFinishDraw:null,__cbOnOwnerUnbindFinishDraw:null,__cbOnceOwnerUnbindFinishDraw:null,emitFinishDraw:function(){var e=0;if(null!=this.__cbOnFinishDraw&&(e+=this.__cbOnFinishDraw.length),null!=this.__cbOnceFinishDraw&&(e+=this.__cbOnceFinishDraw.length),0<e){var n=C.pool(e),t=n.get(),i=0;if(null!=this.__cbOnFinishDraw)for(var l=0,r=this.__cbOnFinishDraw.length;l<r;){var s=l++;!0?(t.vector[i]=this.__cbOnFinishDraw[s],++i):--e}if(null!=this.__cbOnceFinishDraw){for(var h=null,a=null,l=0,r=this.__cbOnceFinishDraw.length;l<r;){var o,s=l++;!0?(t.vector[i]=this.__cbOnceFinishDraw[s],this.__cbOnceFinishDraw[s]=null,o=this.__cbOnceOwnerUnbindFinishDraw[s],(this.__cbOnceOwnerUnbindFinishDraw[s]=null)!=o&&o(),++i):(--e,null==h&&(h=[],a=[],0),h.push(this.__cbOnceOwnerUnbindFinishDraw[s]),a.push(this.__cbOnceFinishDraw[s]))}this.__cbOnceOwnerUnbindFinishDraw=h,this.__cbOnceFinishDraw=a}for(l=0,r=e;l<r;){i=l++;(0,t.vector[i])()}n.release(t)}},onFinishDraw:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event finishDraw because owner is destroyed!");var l=function(e){null!=t&&(i.offFinishDraw(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindFinishDraw&&(this.__cbOnOwnerUnbindFinishDraw=[]),this.__cbOnOwnerUnbindFinishDraw.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindFinishDraw&&(this.__cbOnOwnerUnbindFinishDraw=[]),this.__cbOnOwnerUnbindFinishDraw.push(null);null==this.__cbOnFinishDraw&&(this.__cbOnFinishDraw=[]),this.__cbOnFinishDraw.push(t)},onceFinishDraw:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event finishDraw because owner is destroyed!");var l=function(e){null!=t&&(i.offFinishDraw(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindFinishDraw&&(this.__cbOnceOwnerUnbindFinishDraw=[]),this.__cbOnceOwnerUnbindFinishDraw.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindFinishDraw&&(this.__cbOnceOwnerUnbindFinishDraw=[]),this.__cbOnceOwnerUnbindFinishDraw.push(null);null==this.__cbOnceFinishDraw&&(this.__cbOnceFinishDraw=[]),this.__cbOnceFinishDraw.push(t)},offFinishDraw:function(e){if(null!=e){var n;null!=this.__cbOnFinishDraw&&-1!=(n=this.__cbOnFinishDraw.indexOf(e))&&(this.__cbOnFinishDraw.splice(n,1),null!=(r=this.__cbOnOwnerUnbindFinishDraw[n])&&r(),this.__cbOnOwnerUnbindFinishDraw.splice(n,1)),null!=this.__cbOnceFinishDraw&&-1!=(n=this.__cbOnceFinishDraw.indexOf(e))&&(this.__cbOnceFinishDraw.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindFinishDraw[n])&&r(),this.__cbOnceOwnerUnbindFinishDraw.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindFinishDraw){for(var t=0,i=this.__cbOnOwnerUnbindFinishDraw.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindFinishDraw[l])&&r()}this.__cbOnOwnerUnbindFinishDraw=null}if(null!=this.__cbOnceOwnerUnbindFinishDraw){for(t=0,i=this.__cbOnceOwnerUnbindFinishDraw.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindFinishDraw[l])&&r()}this.__cbOnceOwnerUnbindFinishDraw=null}this.__cbOnFinishDraw=null,this.__cbOnceFinishDraw=null}},listensFinishDraw:function(){return null!=this.__cbOnFinishDraw&&0<this.__cbOnFinishDraw.length||null!=this.__cbOnceFinishDraw&&0<this.__cbOnceFinishDraw.length},__cbOnLowMemory:null,__cbOnceLowMemory:null,__cbOnOwnerUnbindLowMemory:null,__cbOnceOwnerUnbindLowMemory:null,emitLowMemory:function(){var e=0;if(null!=this.__cbOnLowMemory&&(e+=this.__cbOnLowMemory.length),null!=this.__cbOnceLowMemory&&(e+=this.__cbOnceLowMemory.length),0<e){var n=C.pool(e),t=n.get(),i=0;if(null!=this.__cbOnLowMemory)for(var l=0,r=this.__cbOnLowMemory.length;l<r;){var s=l++;!0?(t.vector[i]=this.__cbOnLowMemory[s],++i):--e}if(null!=this.__cbOnceLowMemory){for(var h=null,a=null,l=0,r=this.__cbOnceLowMemory.length;l<r;){var o,s=l++;!0?(t.vector[i]=this.__cbOnceLowMemory[s],this.__cbOnceLowMemory[s]=null,o=this.__cbOnceOwnerUnbindLowMemory[s],(this.__cbOnceOwnerUnbindLowMemory[s]=null)!=o&&o(),++i):(--e,null==h&&(h=[],a=[],0),h.push(this.__cbOnceOwnerUnbindLowMemory[s]),a.push(this.__cbOnceLowMemory[s]))}this.__cbOnceOwnerUnbindLowMemory=h,this.__cbOnceLowMemory=a}for(l=0,r=e;l<r;){i=l++;(0,t.vector[i])()}n.release(t)}},onLowMemory:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event lowMemory because owner is destroyed!");var l=function(e){null!=t&&(i.offLowMemory(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindLowMemory&&(this.__cbOnOwnerUnbindLowMemory=[]),this.__cbOnOwnerUnbindLowMemory.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindLowMemory&&(this.__cbOnOwnerUnbindLowMemory=[]),this.__cbOnOwnerUnbindLowMemory.push(null);null==this.__cbOnLowMemory&&(this.__cbOnLowMemory=[]),this.__cbOnLowMemory.push(t)},onceLowMemory:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event lowMemory because owner is destroyed!");var l=function(e){null!=t&&(i.offLowMemory(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindLowMemory&&(this.__cbOnceOwnerUnbindLowMemory=[]),this.__cbOnceOwnerUnbindLowMemory.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindLowMemory&&(this.__cbOnceOwnerUnbindLowMemory=[]),this.__cbOnceOwnerUnbindLowMemory.push(null);null==this.__cbOnceLowMemory&&(this.__cbOnceLowMemory=[]),this.__cbOnceLowMemory.push(t)},offLowMemory:function(e){if(null!=e){var n;null!=this.__cbOnLowMemory&&-1!=(n=this.__cbOnLowMemory.indexOf(e))&&(this.__cbOnLowMemory.splice(n,1),null!=(r=this.__cbOnOwnerUnbindLowMemory[n])&&r(),this.__cbOnOwnerUnbindLowMemory.splice(n,1)),null!=this.__cbOnceLowMemory&&-1!=(n=this.__cbOnceLowMemory.indexOf(e))&&(this.__cbOnceLowMemory.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindLowMemory[n])&&r(),this.__cbOnceOwnerUnbindLowMemory.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindLowMemory){for(var t=0,i=this.__cbOnOwnerUnbindLowMemory.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindLowMemory[l])&&r()}this.__cbOnOwnerUnbindLowMemory=null}if(null!=this.__cbOnceOwnerUnbindLowMemory){for(t=0,i=this.__cbOnceOwnerUnbindLowMemory.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindLowMemory[l])&&r()}this.__cbOnceOwnerUnbindLowMemory=null}this.__cbOnLowMemory=null,this.__cbOnceLowMemory=null}},listensLowMemory:function(){return null!=this.__cbOnLowMemory&&0<this.__cbOnLowMemory.length||null!=this.__cbOnceLowMemory&&0<this.__cbOnceLowMemory.length},__cbOnTerminate:null,__cbOnceTerminate:null,__cbOnOwnerUnbindTerminate:null,__cbOnceOwnerUnbindTerminate:null,emitTerminate:function(){var e=0;if(null!=this.__cbOnTerminate&&(e+=this.__cbOnTerminate.length),null!=this.__cbOnceTerminate&&(e+=this.__cbOnceTerminate.length),0<e){var n=C.pool(e),t=n.get(),i=0;if(null!=this.__cbOnTerminate)for(var l=0,r=this.__cbOnTerminate.length;l<r;){var s=l++;!0?(t.vector[i]=this.__cbOnTerminate[s],++i):--e}if(null!=this.__cbOnceTerminate){for(var h=null,a=null,l=0,r=this.__cbOnceTerminate.length;l<r;){var o,s=l++;!0?(t.vector[i]=this.__cbOnceTerminate[s],this.__cbOnceTerminate[s]=null,o=this.__cbOnceOwnerUnbindTerminate[s],(this.__cbOnceOwnerUnbindTerminate[s]=null)!=o&&o(),++i):(--e,null==h&&(h=[],a=[],0),h.push(this.__cbOnceOwnerUnbindTerminate[s]),a.push(this.__cbOnceTerminate[s]))}this.__cbOnceOwnerUnbindTerminate=h,this.__cbOnceTerminate=a}for(l=0,r=e;l<r;){i=l++;(0,t.vector[i])()}n.release(t)}},onTerminate:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event terminate because owner is destroyed!");var l=function(e){null!=t&&(i.offTerminate(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindTerminate&&(this.__cbOnOwnerUnbindTerminate=[]),this.__cbOnOwnerUnbindTerminate.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindTerminate&&(this.__cbOnOwnerUnbindTerminate=[]),this.__cbOnOwnerUnbindTerminate.push(null);null==this.__cbOnTerminate&&(this.__cbOnTerminate=[]),this.__cbOnTerminate.push(t)},onceTerminate:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event terminate because owner is destroyed!");var l=function(e){null!=t&&(i.offTerminate(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindTerminate&&(this.__cbOnceOwnerUnbindTerminate=[]),this.__cbOnceOwnerUnbindTerminate.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindTerminate&&(this.__cbOnceOwnerUnbindTerminate=[]),this.__cbOnceOwnerUnbindTerminate.push(null);null==this.__cbOnceTerminate&&(this.__cbOnceTerminate=[]),this.__cbOnceTerminate.push(t)},offTerminate:function(e){if(null!=e){var n;null!=this.__cbOnTerminate&&-1!=(n=this.__cbOnTerminate.indexOf(e))&&(this.__cbOnTerminate.splice(n,1),null!=(r=this.__cbOnOwnerUnbindTerminate[n])&&r(),this.__cbOnOwnerUnbindTerminate.splice(n,1)),null!=this.__cbOnceTerminate&&-1!=(n=this.__cbOnceTerminate.indexOf(e))&&(this.__cbOnceTerminate.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindTerminate[n])&&r(),this.__cbOnceOwnerUnbindTerminate.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindTerminate){for(var t=0,i=this.__cbOnOwnerUnbindTerminate.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindTerminate[l])&&r()}this.__cbOnOwnerUnbindTerminate=null}if(null!=this.__cbOnceOwnerUnbindTerminate){for(t=0,i=this.__cbOnceOwnerUnbindTerminate.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindTerminate[l])&&r()}this.__cbOnceOwnerUnbindTerminate=null}this.__cbOnTerminate=null,this.__cbOnceTerminate=null}},listensTerminate:function(){return null!=this.__cbOnTerminate&&0<this.__cbOnTerminate.length||null!=this.__cbOnceTerminate&&0<this.__cbOnceTerminate.length},immediateCallbacks:null,immediateCallbacksCapacity:null,immediateCallbacksLen:null,postFlushImmediateCallbacks:null,postFlushImmediateCallbacksCapacity:null,postFlushImmediateCallbacksLen:null,loaders:null,_onceImmediateWithOwner:function(e,n){this._onceImmediate(function(){(null==e||0<=e._lifecycleState)&&n()})},_onceImmediate:function(e){if(null==e)throw oe.thrown("Immediate callback should not be null!");this.immediateCallbacksLen<this.immediateCallbacksCapacity?(this.immediateCallbacks[this.immediateCallbacksLen]=e,this.immediateCallbacksLen++):(this.immediateCallbacks[this.immediateCallbacksLen++]=e,this.immediateCallbacksCapacity++)},_oncePostFlushImmediateWithOwner:function(e,n,t){this._oncePostFlushImmediate(function(){(null==e||0<=e._lifecycleState)&&n()},t)},_oncePostFlushImmediate:function(n,e){var t=this;e?he.app._onceImmediate(function(){var e=!1;t._oncePostFlushImmediate(n,e=null==e?!0:e)}):0==this.immediateCallbacksLen?n():this.postFlushImmediateCallbacksLen<this.postFlushImmediateCallbacksCapacity?(this.postFlushImmediateCallbacks[this.postFlushImmediateCallbacksLen]=n,this.postFlushImmediateCallbacksLen++):(this.postFlushImmediateCallbacks[this.postFlushImmediateCallbacksLen++]=n,this.postFlushImmediateCallbacksCapacity++)},flushImmediate:function(){for(var e=!1;0<this.immediateCallbacksLen;){for(var e=!0,n=(o=C.pool(this.immediateCallbacksLen)).get(),t=this.immediateCallbacksLen,i=this.immediateCallbacksLen=0,l=t;i<l;){var r=i++;n.vector[r]=this.immediateCallbacks[r],this.immediateCallbacks[r]=null}for(var s=0,h=t;s<h;){var a=s++;(0,n.vector[a])()}o.release(n)}if(0<this.postFlushImmediateCallbacksLen){for(var o,n=(o=C.pool(this.postFlushImmediateCallbacksLen)).get(),t=this.postFlushImmediateCallbacksLen,i=this.postFlushImmediateCallbacksLen=0,l=t;i<l;){r=i++;n.vector[r]=this.postFlushImmediateCallbacks[r],this.postFlushImmediateCallbacks[r]=null}for(i=0,l=t;i<l;){r=i++;(0,n.vector[r])()}o.release(n)}return e},_xUpdatesHandlersPool:null,_xUpdatesHandlers:null,_xUpdatesToCallNow:null,onceXUpdates:function(e,n,t){for(var i=this._xUpdatesHandlersPool,l=0<i.availableItems.length?i.availableItems.pop():null,r=((l=null==l?new Ie:l).owner=e,l.numUpdates=n,l.callback=t,!1),s=0,h=this._xUpdatesHandlers.length;s<h;){var a=s++;if(null==this._xUpdatesHandlers[a]){this._xUpdatesHandlers[a]=l,r=!0;break}}r||this._xUpdatesHandlers.push(l)},offXUpdates:function(e){for(var n=!1,t=0,i=this._xUpdatesHandlers.length;t<i;){var l=t++,r=this._xUpdatesHandlers[l];r.callback==e&&(r.reset(),this._xUpdatesHandlersPool.recycle(r),n=!(this._xUpdatesHandlers[l]=null))}n&&this.cleanXUpdatesNullValues()},tickOnceXUpdates:function(){for(var e=0,n=!1,t=0,i=this._xUpdatesHandlers.length;t<i;){var l,r=t++,s=this._xUpdatesHandlers[r];null!=s&&(s.numUpdates--,s.numUpdates<=0)&&((null==(l=s.owner)||0<=l._lifecycleState)&&(this._xUpdatesToCallNow[e]=s.callback,++e),n=!(this._xUpdatesHandlers[r]=null))}if(0<e)for(t=0,i=e;t<i;){var r=t++,h=this._xUpdatesToCallNow[r];this._xUpdatesToCallNow[r]=null,h()}n&&this.cleanXUpdatesNullValues()},cleanXUpdatesNullValues:function(){for(var e=0,n=0,t=this._xUpdatesHandlers.length;e<t;){do{}while(null==this._xUpdatesHandlers[e]&&(++n,++e<t));0!=n&&e<t&&(this._xUpdatesHandlers[e-n]=this._xUpdatesHandlers[e]),++e}var i=this._xUpdatesHandlers,l=t-n;if(i.length!=l)if(i.length>l)i.splice(l,i.length-l);else for(var r=i;r.length<l;)r.push(null)},inUpdate:null,get_computedFps:function(){return this._computeFps.fps},_computeFps:null,frame:null,delta:null,realDelta:null,backend:null,screen:null,audio:null,settings:null,systems:null,logger:null,visuals:null,pendingVisuals:null,destroyedVisuals:null,groups:null,input:null,renderTextures:null,assets:null,defaultTexturedShader:null,defaultWhiteTexture:null,defaultFont:null,projectDir:null,persistent:null,textInput:null,converters:null,timelines:null,lazyScenes:null,scenes:null,get_scenes:function(){return this.lazyScenes&&(this.lazyScenes=!1,this.scenes=Qn.get_shared()),this.scenes},set_scenes:function(e){return this.scenes=e},hierarchyDirty:null,visualsContentDirty:null,beginUpdateCallbacks:null,disposedEntities:null,numBlockingDefaultScroll:null,quit:function(){Nn.quit()},backendReady:function(){var n=this;if(this.backend.onUpdate(this,$bind(this,this.updatePreReady)),this.persistent=new Hn("app"),this.textInput=new bt,this.bindSettings(),this.screen.backendReady(),null!=he.preInitCallbacks){for(var e=0,t=[].concat(he.preInitCallbacks);e<t.length;){var i=t[e];++e,i()}he.preInitCallbacks=null}this.initFieldConverters(),null!=this.settings.collections&&this.initCollections(this.settings.collections(),this.settings.appInfo);var l=this.assets,r=this.settings.defaultShader,s=r.__name__.split("."),h=s.pop(),a=(h=h.charAt(0).toLowerCase()+se.substr(h,1,null),0<s.length?s.join("_")+"_"+h:h),o=new lt(a,null,null),l=(o.shaderClass=r,l.addAsset(o),this.assets),a=(h=(h=(s=(r=Sl).__name__.split(".")).pop()).charAt(0).toLowerCase()+se.substr(h,1,null),0<s.length?s.join("_")+"_"+h:h),l=((o=new lt(a,null,null)).shaderClass=r,l.addAsset(o),this.assets),a=(h=(h=(s=(r=Al).__name__.split(".")).pop()).charAt(0).toLowerCase()+se.substr(h,1,null),0<s.length?s.join("_")+"_"+h:h);(o=new lt(a,null,null)).shaderClass=r,l.addAsset(o),this.assets.onceComplete(this,function(e){n.assets._add(n.settings.defaultFont,null,null),n.assets._add("image:white",null,null),n.assets.onceComplete(n,function(e){e?(n.defaultFont=n.assets.font(n.settings.defaultFont),n.defaultWhiteTexture=n.assets.texture("image:white"),e=n.assets._shaderFromClass(n.settings.defaultShader),n.defaultTexturedShader=e,n.logger.success("Default assets loaded.",{fileName:"../../../../ceramic/runtime/src/ceramic/App.hx",lineNumber:922,className:"ceramic.App",methodName:"backendReady"}),n.assetsLoaded()):he.app.logger.error("Failed to load default assets.",{fileName:"../../../../ceramic/runtime/src/ceramic/App.hx",lineNumber:925,className:"ceramic.App",methodName:"backendReady"})}),n.emitDefaultAssetsLoad(n.assets),n.assets.load(null,{fileName:"../../../../ceramic/runtime/src/ceramic/App.hx",lineNumber:933,className:"ceramic.App",methodName:"backendReady"}),n.assets.immediate.flush(),n.flushImmediate()}),this.assets.load(null,{fileName:"../../../../ceramic/runtime/src/ceramic/App.hx",lineNumber:939,className:"ceramic.App",methodName:"backendReady"}),this.assets.immediate.flush(),this.flushImmediate()},bindSettings:function(){this.settings.onTargetFpsChange(this,function(e,n){he.app.backend.setTargetFps(e)}),he.app.backend.setTargetFps(this.settings.get_targetFps())},initFieldConverters:function(){var e=this.converters,n=new Je,e=(e.h["ceramic.Texture"]=n,this.converters),n=new je,e=(e.h["ceramic.BitmapFont"]=n,this.converters),n=new Qe,e=(e.h["ceramic.FragmentData"]=n,this.converters),n=new Xe,e=(e.h["ceramic.Color"]=n,this.converters),n=new Ze,e=(e.h["Map<String,String>"]=n,this.converters),n=new Ze,e=(e.h["Map<String,Bool>"]=n,this.converters),n=new Ze,e=(e.h["ceramic.ReadOnlyMap<String,String>"]=n,this.converters),n=new Ze,e=(e.h["ceramic.ReadOnlyMap<String,Bool>"]=n,this.converters),n=new Ke,e=(e.h["Array<Float>"]=n,this.converters),n=new Ke,e=(e.h["Array<Int>"]=n,this.converters),n=new Ke,e=(e.h["Array<String>"]=n,this.converters),n=new Ke,e=(e.h["ceramic.ReadOnlyArray<Float>"]=n,this.converters),n=new Ke,e=(e.h["ceramic.ReadOnlyArray<Int>"]=n,this.converters),n=new Ke,e=(e.h["ceramic.ReadOnlyArray<String>"]=n,this.converters),n=new $e,e=(e.h["Map<String,ceramic.Component>"]=n,this.converters),n=new $e,e=(e.h["ceramic.ReadOnlyMap<String,ceramic.Component>"]=n,this.converters),n=new qe;e.h["ceramic.IntBoolMap"]=n},initCollections:function(g,O){for(var f=this,e=(null==O&&(O=this.info),Object.create(null)),n=0,t=0,i=K.fields(O.collections);t<i.length;)for(var l=i[t],r=(++t,0),s=K.fields(K.field(O.collections,l));r<s.length;){var h=s[r],h=(++r,K.field(K.field(O.collections,l),h));"string"==typeof h||null==(h=h.data)||Object.prototype.hasOwnProperty.call(e,h)||(e[h]=!0,this.assets.addDatabase(h),++n)}0<n&&this.assets.onceComplete(this,function(e){for(var n=0,t=K.fields(O.collections);n<t.length;)for(var i=t[n],l=(++n,0),r=K.fields(K.field(O.collections,i));l<r.length;){var s=r[l],h=(++l,K.field(K.field(O.collections,i),s));if("string"!=typeof h){var a=h.data;if(null!=a){for(var o=f.assets.database(a),c=K.field(g,s),a=h.type,u=E[a],_=0;_<o.length;){var d=o[_],b=(++_,B.createInstance(u,[null,null]));b.setRawData(d),c.push(b)}c.synchronize()}}}})},assetsLoaded:function(){this.runNextLoader()},runNextLoader:function(){0<this.loaders.length?this.loaders.shift()($bind(this,this.runNextLoader)):(this.loaders=null,this.runReady())},runReady:function(){var l=this;Nn.postAppInit(),this.emitReady(),this.screen.resize(),this.backend.offUpdate($bind(this,this.updatePreReady)),this.backend.onUpdate(this,$bind(this,this.update)),this.backend.onRender(this,$bind(this,this.render)),this.backend.input.onKeyDown(this,function(e){l.beginUpdateCallbacks.push(function(){l.input.emitKeyDown(e)})}),this.backend.input.onKeyUp(this,function(e){l.beginUpdateCallbacks.push(function(){l.input.emitKeyUp(e)})}),this.backend.input.onGamepadEnable(this,function(e,n){l.beginUpdateCallbacks.push(function(){l.input.emitGamepadEnable(e,n)})}),this.backend.input.onGamepadDisable(this,function(e){l.beginUpdateCallbacks.push(function(){l.input.emitGamepadDisable(e)})}),this.backend.input.onGamepadDown(this,function(e,n){l.beginUpdateCallbacks.push(function(){l.input.emitGamepadDown(e,n)})}),this.backend.input.onGamepadUp(this,function(e,n){l.beginUpdateCallbacks.push(function(){l.input.emitGamepadUp(e,n)})}),this.backend.input.onGamepadGyro(this,function(e,n,t,i){l.beginUpdateCallbacks.push(function(){l.input.emitGamepadGyro(e,n,t,i)})}),this.backend.input.onGamepadAxis(this,function(e,n,t){l.beginUpdateCallbacks.push(function(){l.input.emitGamepadAxis(e,n,t)})})},updatePreReady:function(e){fe.flushAllInstancesImmediate(),this.flushImmediate()},update:function(e){999999999<++this.frame&&(this.frame-=999999999);var n=e;if(n>this.settings.get_maxDelta()&&(n=this.settings.get_maxDelta()),0<=this.settings.get_overrideDelta()&&(n=this.settings.get_overrideDelta()),this._computeFps.addFrame(n),this.delta=n,this.realDelta=e,Dt.update(n,e),Xn.tick(),this.screen.updatePointerOverState(n),this.inUpdate=!0,this.screen.resetDeltas(),this.input.resetDeltas(),0<this.beginUpdateCallbacks.length)for(var t=this.beginUpdateCallbacks,i=(this.beginUpdateCallbacks=[],0);i<t.length;){var l=t[i];++i,l()}for(this.emitPreUpdate(n),this.systems.earlyUpdate(n),fe.flushAllInstancesImmediate(),this.flushImmediate(),0<n&&(J.tick(n),this.flushImmediate()),this.emitUpdate(n),this.tickOnceXUpdates(),this.flushImmediate(),this.systems.lateUpdate(n),this.emitPostUpdate(n),this.flushImmediate();0<this.disposedEntities.length;)this.disposedEntities.shift().destroy();this.syncPendingVisuals();var r,s=this.visuals,h=0,a=!1;do{this.visualsContentDirty=!1;(f=this.screen.matrix).changedDirty&&(f.changed=f.tx!=f._txPrev||f.ty!=f._tyPrev||f.a!=f._aPrev||f.b!=f._bPrev||f.c!=f._cPrev||f.d!=f._dPrev,f.changedDirty=!1),this.screen.matrix.changed&&this.screen.matrix.emitChange();for(var i=0,o=s.length;i<o;)0<=(w=s[O=i++])._lifecycleState&&(w.touchableDirty&&w.computeTouchable(),w.contentDirty)&&(w.visibilityDirty&&w.computeVisibility(),w.computedVisible)&&w.computeContent();for(var c=0,u=s.length;c<u;){var _=s[c++];0<=_._lifecycleState&&null!=_.transform&&((U=_.transform).changedDirty&&(U.changed=U.tx!=U._txPrev||U.ty!=U._tyPrev||U.a!=U._aPrev||U.b!=U._bPrev||U.c!=U._cPrev||U.d!=U._dPrev,U.changedDirty=!1),_.transform.changed)&&_.transform.emitChange()}if(9999<h++){if(a&&this.visualsContentDirty)throw oe.thrown("Failed to update visuals because flushImmediate() is being called continuously and visuals content stays dirty.");if(a)throw oe.thrown("Failed to update visuals because flushImmediate() is being called continuously.");for(var d=0,b=s.length;d<b;){var g=s[d++];if(0<=g._lifecycleState&&g.contentDirty)throw oe.thrown("Failed to update visuals because visuals content stays dirty. ("+X.string(g)+")")}}}while(a=this.flushImmediate(),r=this.syncPendingVisuals(),a||this.visualsContentDirty||r);for(i=0,o=this.renderTextures.length;i<o;){var O=i++;null!=(I=this.renderTextures[O]).dependingTextures&&I.dependingTextures.clear()}for(i=0,o=s.length;i<o;){var f,p,C,v,w=s[O=i++];if(0<=w._lifecycleState)if(w.renderTargetDirty&&w.computeRenderTarget(),w.matrixDirty&&w.computeMatrix(),w.visibilityDirty&&w.computeVisibility(),w.computedVisible)if(w.clipDirty&&w.computeClip(),null!=w.computedRenderTarget)if(null!=w.asQuad){if(null!=w.asQuad._texture&&(f=w.computedRenderTarget,p=w.asQuad._texture,null==f.dependingTextures&&(f.dependingTextures=new ze),M=f.dependingTextures.intMap.h[0|p.index],f.dependingTextures.set(p.index,(null!=M?M:0)+1)),null!=w.shader&&null!=w.shader.usedTextures)for(var m=w.shader.usedTextures,c=0,u=m.length;c<u;){var y=c++,U=w.computedRenderTarget,y=m[y],D=(null==U.dependingTextures&&(U.dependingTextures=new ze),U.dependingTextures.intMap.h[0|y.index]);U.dependingTextures.set(y.index,(null!=D?D:0)+1)}}else if(null!=w.asMesh)if(null!=w.asMesh.texture&&(p=w.computedRenderTarget,C=w.asMesh.texture,null==p.dependingTextures&&(p.dependingTextures=new ze),v=p.dependingTextures.intMap.h[0|C.index],p.dependingTextures.set(C.index,(null!=v?v:0)+1)),null!=w.shader&&null!=w.shader.usedTextures)for(var T=w.shader.usedTextures,d=0,b=T.length;d<b;){var x=d++,S=w.computedRenderTarget,x=T[x],A=(null==S.dependingTextures&&(S.dependingTextures=new ze),S.dependingTextures.intMap.h[0|x.index]);S.dependingTextures.set(x.index,(null!=A?A:0)+1)}}this.computeHierarchy();var k=this.renderTextures;if(0!=k.length){for(var I,P=k.length,i=0,o=P;i<o;)(I=k[O=i++]).priority=0;for(i=0,o=P;i<o;)for(var F=k[O=i++],c=0,u=P;c<u;){var B=k[c++];null!=F.dependingTextures&&0<(null!=(M=F.dependingTextures.intMap.h[0|B.index])?M:0)&&B.priority<=F.priority&&(B.priority=F.priority+1)}for(i=0,o=P;i<o;)for(F=k[O=i++],c=0,u=P;c<u;){var M,B=k[c++];null!=F.dependingTextures&&0<(null!=(M=F.dependingTextures.intMap.h[0|B.index])?M:0)&&B.priority<=F.priority&&(B.priority=F.priority+1)}}this.syncDestroyedVisuals();s=this.visuals;this.emitBeginSortVisuals(),ht.rec(s,0,s.length),this.emitFinishSortVisuals(),this.inUpdate=!1},render:function(){this.emitBeginDraw(),this.backend.draw.draw(this.visuals),this.emitFinishDraw(),J.endFrame()},addVisual:function(e){this.pendingVisuals.push(e)},removeVisual:function(e){this.destroyedVisuals.push(e)},syncPendingVisuals:function(){if(0<this.pendingVisuals.length){for(;0<this.pendingVisuals.length;)this.visuals.push(this.pendingVisuals.pop());return this.hierarchyDirty=!0}return!1},syncDestroyedVisuals:function(){if(0<this.destroyedVisuals.length){for(var e=0,n=0,t=this.visuals.length;e<t;){do{}while(this.visuals[e]._lifecycleState<0&&(++n,++e<t));0!=n&&e<t&&(this.visuals[e-n]=this.visuals[e]),++e}var i=this.destroyedVisuals;if(0!=i.length)if(0<i.length)i.splice(0,i.length);else for(var l=i;l.length<0;)l.push(null);var r=t-n;if((i=this.visuals).length!=r)if(i.length>r)i.splice(r,i.length-r);else for(l=i;l.length<r;)l.push(null);this.hierarchyDirty=!0}},updateVisuals:function(e){var n,t=0,i=!1;do{this.visualsContentDirty=!1;(b=this.screen.matrix).changedDirty&&(b.changed=b.tx!=b._txPrev||b.ty!=b._tyPrev||b.a!=b._aPrev||b.b!=b._bPrev||b.c!=b._cPrev||b.d!=b._dPrev,b.changedDirty=!1),this.screen.matrix.changed&&this.screen.matrix.emitChange();for(var l=0,r=e.length;l<r;)0<=(p=e[_=l++])._lifecycleState&&(p.touchableDirty&&p.computeTouchable(),p.contentDirty)&&(p.visibilityDirty&&p.computeVisibility(),p.computedVisible)&&p.computeContent();for(var s=0,h=e.length;s<h;){var a=e[s++];0<=a._lifecycleState&&null!=a.transform&&((w=a.transform).changedDirty&&(w.changed=w.tx!=w._txPrev||w.ty!=w._tyPrev||w.a!=w._aPrev||w.b!=w._bPrev||w.c!=w._cPrev||w.d!=w._dPrev,w.changedDirty=!1),a.transform.changed)&&a.transform.emitChange()}if(9999<t++){if(i&&this.visualsContentDirty)throw oe.thrown("Failed to update visuals because flushImmediate() is being called continuously and visuals content stays dirty.");if(i)throw oe.thrown("Failed to update visuals because flushImmediate() is being called continuously.");for(var o=0,c=e.length;o<c;){var u=e[o++];if(0<=u._lifecycleState&&u.contentDirty)throw oe.thrown("Failed to update visuals because visuals content stays dirty. ("+X.string(u)+")")}}}while(i=this.flushImmediate(),n=this.syncPendingVisuals(),i||this.visualsContentDirty||n);for(l=0,r=this.renderTextures.length;l<r;){var _=l++,d=this.renderTextures[_];null!=d.dependingTextures&&d.dependingTextures.clear()}for(l=0,r=e.length;l<r;){var b,g,O,f,p=e[_=l++];if(0<=p._lifecycleState)if(p.renderTargetDirty&&p.computeRenderTarget(),p.matrixDirty&&p.computeMatrix(),p.visibilityDirty&&p.computeVisibility(),p.computedVisible)if(p.clipDirty&&p.computeClip(),null!=p.computedRenderTarget)if(null!=p.asQuad){if(null!=p.asQuad._texture&&(b=p.computedRenderTarget,g=p.asQuad._texture,null==b.dependingTextures&&(b.dependingTextures=new ze),O=b.dependingTextures.intMap.h[0|g.index],b.dependingTextures.set(g.index,(null!=O?O:0)+1)),null!=p.shader&&null!=p.shader.usedTextures)for(var C=p.shader.usedTextures,s=0,h=C.length;s<h;){var v=s++,w=p.computedRenderTarget,v=C[v],m=(null==w.dependingTextures&&(w.dependingTextures=new ze),w.dependingTextures.intMap.h[0|v.index]);w.dependingTextures.set(v.index,(null!=m?m:0)+1)}}else if(null!=p.asMesh)if(null!=p.asMesh.texture&&(g=p.computedRenderTarget,O=p.asMesh.texture,null==g.dependingTextures&&(g.dependingTextures=new ze),f=g.dependingTextures.intMap.h[0|O.index],g.dependingTextures.set(O.index,(null!=f?f:0)+1)),null!=p.shader&&null!=p.shader.usedTextures)for(var y=p.shader.usedTextures,o=0,c=y.length;o<c;){var U=o++,D=p.computedRenderTarget,U=y[U],T=(null==D.dependingTextures&&(D.dependingTextures=new ze),D.dependingTextures.intMap.h[0|U.index]);D.dependingTextures.set(U.index,(null!=T?T:0)+1)}}},computeHierarchy:function(){if(this.hierarchyDirty){for(var e=0,n=this.visuals.length;e<n;){var t=e++,t=this.visuals[t];0<=t._lifecycleState&&null==t.parent&&(t.computedDepth=1e3*t.depth,null!=t.children)&&o._computeChildrenDepth0(t)}this.hierarchyDirty=!1}},_computeRenderTexturesPriorityQueue:null,computeRenderTexturesPriority:function(e){if(0!=e.length){for(var n=e.length,t=0,i=n;t<i;)e[t++].priority=0;for(t=0,i=n;t<i;)for(var l=e[t++],r=0,s=n;r<s;){var h=e[r++];null!=l.dependingTextures&&0<(null!=(a=l.dependingTextures.intMap.h[0|h.index])?a:0)&&h.priority<=l.priority&&(h.priority=l.priority+1)}for(t=0,i=n;t<i;)for(l=e[t++],r=0,s=n;r<s;){var a,h=e[r++];null!=l.dependingTextures&&0<(null!=(a=l.dependingTextures.intMap.h[0|h.index])?a:0)&&h.priority<=l.priority&&(h.priority=l.priority+1)}}},sortVisuals:function(e){this.emitBeginSortVisuals(),ht.rec(e,0,e.length),this.emitFinishSortVisuals()},group:function(e,n){null==n&&(n=!0);for(var t=0,i=this.groups.length;t<i;){var l=t++,l=this.groups[l];if(l.id==e)return l}return n?new _n(e):null},unbindEvents:function(){j.prototype.unbindEvents.call(this),this.offReady(),this.offUpdate(),this.offPreUpdate(),this.offPostUpdate(),this.offDefaultAssetsLoad(),this.offCriticalError(),this.offBeginEnterBackground(),this.offFinishEnterBackground(),this.offBeginEnterForeground(),this.offFinishEnterForeground(),this.offBeginSortVisuals(),this.offFinishSortVisuals(),this.offBeginDraw(),this.offFinishDraw(),this.offLowMemory(),this.offTerminate()},info:null,__class__:he,__properties__:$extend(j.prototype.__properties__,{set_scenes:"set_scenes",get_scenes:"get_scenes",get_computedFps:"get_computedFps"})}),function(){this.callback=null,this.numUpdates=-1,this.owner=null}),C=((E["ceramic.AppXUpdatesHandler"]=Ie).__name__="ceramic.AppXUpdatesHandler",Ie.prototype={owner:null,numUpdates:null,callback:null,reset:function(){this.owner=null,this.numUpdates=-1,this.callback=null},__class__:Ie},function(e){this.nextFree=0,this.arrays=null,this.arrayLengths=e}),Pe=((E["ceramic.ArrayPool"]=C).__name__="ceramic.ArrayPool",C.pool=function(e){return e<=10?C.dynPool10:e<=100?C.dynPool100:e<=1e3?C.dynPool1000:e<=1e4?C.dynPool10000:e<=1e5?C.dynPool100000:(C.didNotifyLargePool||(C.didNotifyLargePool=!0,Dt.schedule(null,.5,function(){C.didNotifyLargePool=!1},-1),he.app.logger.warning("You should avoid asking a pool for arrays with more than 100000 elements (asked: "+e+") because it needs allocating a temporary one-time pool each time for that.",{fileName:"../../../../ceramic/runtime/src/ceramic/ArrayPool.hx",lineNumber:86,className:"ceramic.ArrayPool",methodName:"pool"})),new C(e))},C.prototype={arrays:null,nextFree:null,arrayLengths:null,get:function(){null==this.arrays?this.arrays=new Kn(C.ALLOC_STEP):this.nextFree>=this.arrays.length&&(e=this.arrays).set_length(e.length+C.ALLOC_STEP);var e=this.arrays.vector[this.nextFree];for(null==e&&(e=new Kn(this.arrayLengths),this.arrays.vector[this.nextFree]=e),e._poolIndex=this.nextFree;;){if(this.nextFree++,this.nextFree==this.arrays.length)break;var n=this.arrays.vector[this.nextFree];if(null==n)break;if(-1==n._poolIndex)break}return e},release:function(e){for(var n=e._poolIndex,t=(e._poolIndex=-1,this.nextFree>n&&(this.nextFree=n),0),i=e.length;t<i;){var l=t++;e.vector[l]=null}},__class__:C},(E["ceramic.Assert"]=Da).__name__="ceramic.Assert",(E["ceramic.Asset"]=Ea).__name__="ceramic.Asset",Ea.__interfaces__=[s],Ea.__super__=j,Ea.prototype=$extend(j.prototype,{__cbOnObservedDirty:null,__cbOnceObservedDirty:null,__cbOnOwnerUnbindObservedDirty:null,__cbOnceOwnerUnbindObservedDirty:null,emitObservedDirty:function(e,n){var t=0;if(null!=this.__cbOnObservedDirty&&(t+=this.__cbOnObservedDirty.length),null!=this.__cbOnceObservedDirty&&(t+=this.__cbOnceObservedDirty.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnObservedDirty)for(var s=0,h=this.__cbOnObservedDirty.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnObservedDirty[a],++r):--t}if(null!=this.__cbOnceObservedDirty){for(var o=null,c=null,s=0,h=this.__cbOnceObservedDirty.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceObservedDirty[a],this.__cbOnceObservedDirty[a]=null,u=this.__cbOnceOwnerUnbindObservedDirty[a],(this.__cbOnceOwnerUnbindObservedDirty[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindObservedDirty[a]),c.push(this.__cbOnceObservedDirty[a]))}this.__cbOnceOwnerUnbindObservedDirty=o,this.__cbOnceObservedDirty=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onObservedDirty:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event observedDirty because owner is destroyed!");var l=function(e){null!=t&&(i.offObservedDirty(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push(null);null==this.__cbOnObservedDirty&&(this.__cbOnObservedDirty=[]),this.__cbOnObservedDirty.push(t)},onceObservedDirty:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event observedDirty because owner is destroyed!");var l=function(e){null!=t&&(i.offObservedDirty(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push(null);null==this.__cbOnceObservedDirty&&(this.__cbOnceObservedDirty=[]),this.__cbOnceObservedDirty.push(t)},offObservedDirty:function(e){if(null!=e){var n;null!=this.__cbOnObservedDirty&&-1!=(n=this.__cbOnObservedDirty.indexOf(e))&&(this.__cbOnObservedDirty.splice(n,1),null!=(r=this.__cbOnOwnerUnbindObservedDirty[n])&&r(),this.__cbOnOwnerUnbindObservedDirty.splice(n,1)),null!=this.__cbOnceObservedDirty&&-1!=(n=this.__cbOnceObservedDirty.indexOf(e))&&(this.__cbOnceObservedDirty.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindObservedDirty[n])&&r(),this.__cbOnceOwnerUnbindObservedDirty.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindObservedDirty){for(var t=0,i=this.__cbOnOwnerUnbindObservedDirty.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindObservedDirty[l])&&r()}this.__cbOnOwnerUnbindObservedDirty=null}if(null!=this.__cbOnceOwnerUnbindObservedDirty){for(t=0,i=this.__cbOnceOwnerUnbindObservedDirty.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindObservedDirty[l])&&r()}this.__cbOnceOwnerUnbindObservedDirty=null}this.__cbOnObservedDirty=null,this.__cbOnceObservedDirty=null}},listensObservedDirty:function(){return null!=this.__cbOnObservedDirty&&0<this.__cbOnObservedDirty.length||null!=this.__cbOnceObservedDirty&&0<this.__cbOnceObservedDirty.length},observedDirty:null,__cbOnComplete:null,__cbOnceComplete:null,__cbOnOwnerUnbindComplete:null,__cbOnceOwnerUnbindComplete:null,emitComplete:function(e){e&&null!=this.owner&&this.owner.emitUpdate(this);var n=0;if(null!=this.__cbOnComplete&&(n+=this.__cbOnComplete.length),null!=this.__cbOnceComplete&&(n+=this.__cbOnceComplete.length),0<n){var t=C.pool(n),i=t.get(),l=0;if(null!=this.__cbOnComplete)for(var r=0,s=this.__cbOnComplete.length;r<s;){var h=r++;!0?(i.vector[l]=this.__cbOnComplete[h],++l):--n}if(null!=this.__cbOnceComplete){for(var a=null,o=null,r=0,s=this.__cbOnceComplete.length;r<s;){var c,h=r++;!0?(i.vector[l]=this.__cbOnceComplete[h],this.__cbOnceComplete[h]=null,c=this.__cbOnceOwnerUnbindComplete[h],(this.__cbOnceOwnerUnbindComplete[h]=null)!=c&&c(),++l):(--n,null==a&&(a=[],o=[],0),a.push(this.__cbOnceOwnerUnbindComplete[h]),o.push(this.__cbOnceComplete[h]))}this.__cbOnceOwnerUnbindComplete=a,this.__cbOnceComplete=o}for(r=0,s=n;r<s;){l=r++;(0,i.vector[l])(e)}t.release(i)}},onComplete:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event complete because owner is destroyed!");var l=function(e){null!=t&&(i.offComplete(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindComplete&&(this.__cbOnOwnerUnbindComplete=[]),this.__cbOnOwnerUnbindComplete.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindComplete&&(this.__cbOnOwnerUnbindComplete=[]),this.__cbOnOwnerUnbindComplete.push(null);null==this.__cbOnComplete&&(this.__cbOnComplete=[]),this.__cbOnComplete.push(t)},onceComplete:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event complete because owner is destroyed!");var l=function(e){null!=t&&(i.offComplete(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindComplete&&(this.__cbOnceOwnerUnbindComplete=[]),this.__cbOnceOwnerUnbindComplete.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindComplete&&(this.__cbOnceOwnerUnbindComplete=[]),this.__cbOnceOwnerUnbindComplete.push(null);null==this.__cbOnceComplete&&(this.__cbOnceComplete=[]),this.__cbOnceComplete.push(t)},offComplete:function(e){if(null!=e){var n;null!=this.__cbOnComplete&&-1!=(n=this.__cbOnComplete.indexOf(e))&&(this.__cbOnComplete.splice(n,1),null!=(r=this.__cbOnOwnerUnbindComplete[n])&&r(),this.__cbOnOwnerUnbindComplete.splice(n,1)),null!=this.__cbOnceComplete&&-1!=(n=this.__cbOnceComplete.indexOf(e))&&(this.__cbOnceComplete.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindComplete[n])&&r(),this.__cbOnceOwnerUnbindComplete.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindComplete){for(var t=0,i=this.__cbOnOwnerUnbindComplete.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindComplete[l])&&r()}this.__cbOnOwnerUnbindComplete=null}if(null!=this.__cbOnceOwnerUnbindComplete){for(t=0,i=this.__cbOnceOwnerUnbindComplete.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindComplete[l])&&r()}this.__cbOnceOwnerUnbindComplete=null}this.__cbOnComplete=null,this.__cbOnceComplete=null}},listensComplete:function(){return null!=this.__cbOnComplete&&0<this.__cbOnComplete.length||null!=this.__cbOnceComplete&&0<this.__cbOnceComplete.length},kind:null,name:null,variant:null,fullName:null,path:null,allPaths:null,density:null,owner:null,runtimeAssets:null,options:null,assets:null,refCount:null,statusAutoruns:null,get_status:function(){var e,n,t=this.unobservedStatus;return null!=U.current&&(e=U.current,null!=(n=this.statusAutoruns)||(n=U.getAutorunArray(),null!=(this.statusAutoruns=n)))&&e.bindToAutorunArray(n),t},set_status:function(e){var n=this.unobservedStatus;return n!=(this.unobservedStatus=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitStatusChange(e,n),null!=(n=this.statusAutoruns))&&(this.statusAutoruns=null,U.invalidateAutorunArray(n)),e},invalidateStatus:function(){var e=this.unobservedStatus,e=(this.emitStatusChange(e,e),this.statusAutoruns);null!=e&&(this.statusAutoruns=null,U.invalidateAutorunArray(e))},unobservedStatus:null,__cbOnStatusChange:null,__cbOnceStatusChange:null,__cbOnOwnerUnbindStatusChange:null,__cbOnceOwnerUnbindStatusChange:null,emitStatusChange:function(e,n){var t=0;if(null!=this.__cbOnStatusChange&&(t+=this.__cbOnStatusChange.length),null!=this.__cbOnceStatusChange&&(t+=this.__cbOnceStatusChange.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnStatusChange)for(var s=0,h=this.__cbOnStatusChange.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnStatusChange[a],++r):--t}if(null!=this.__cbOnceStatusChange){for(var o=null,c=null,s=0,h=this.__cbOnceStatusChange.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceStatusChange[a],this.__cbOnceStatusChange[a]=null,u=this.__cbOnceOwnerUnbindStatusChange[a],(this.__cbOnceOwnerUnbindStatusChange[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindStatusChange[a]),c.push(this.__cbOnceStatusChange[a]))}this.__cbOnceOwnerUnbindStatusChange=o,this.__cbOnceStatusChange=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onStatusChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event statusChange because owner is destroyed!");var l=function(e){null!=t&&(i.offStatusChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindStatusChange&&(this.__cbOnOwnerUnbindStatusChange=[]),this.__cbOnOwnerUnbindStatusChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindStatusChange&&(this.__cbOnOwnerUnbindStatusChange=[]),this.__cbOnOwnerUnbindStatusChange.push(null);null==this.__cbOnStatusChange&&(this.__cbOnStatusChange=[]),this.__cbOnStatusChange.push(t)},onceStatusChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event statusChange because owner is destroyed!");var l=function(e){null!=t&&(i.offStatusChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindStatusChange&&(this.__cbOnceOwnerUnbindStatusChange=[]),this.__cbOnceOwnerUnbindStatusChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindStatusChange&&(this.__cbOnceOwnerUnbindStatusChange=[]),this.__cbOnceOwnerUnbindStatusChange.push(null);null==this.__cbOnceStatusChange&&(this.__cbOnceStatusChange=[]),this.__cbOnceStatusChange.push(t)},offStatusChange:function(e){if(null!=e){var n;null!=this.__cbOnStatusChange&&-1!=(n=this.__cbOnStatusChange.indexOf(e))&&(this.__cbOnStatusChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindStatusChange[n])&&r(),this.__cbOnOwnerUnbindStatusChange.splice(n,1)),null!=this.__cbOnceStatusChange&&-1!=(n=this.__cbOnceStatusChange.indexOf(e))&&(this.__cbOnceStatusChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindStatusChange[n])&&r(),this.__cbOnceOwnerUnbindStatusChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindStatusChange){for(var t=0,i=this.__cbOnOwnerUnbindStatusChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindStatusChange[l])&&r()}this.__cbOnOwnerUnbindStatusChange=null}if(null!=this.__cbOnceOwnerUnbindStatusChange){for(t=0,i=this.__cbOnceOwnerUnbindStatusChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindStatusChange[l])&&r()}this.__cbOnceOwnerUnbindStatusChange=null}this.__cbOnStatusChange=null,this.__cbOnceStatusChange=null}},listensStatusChange:function(){return null!=this.__cbOnStatusChange&&0<this.__cbOnStatusChange.length||null!=this.__cbOnceStatusChange&&0<this.__cbOnceStatusChange.length},handleTexturesDensityChange:null,hotReload:null,customExtensions:null,load:function(){this.set_status(Fe.BROKEN),he.app.logger.error("This asset as no load implementation.",{fileName:"../../../../ceramic/runtime/src/ceramic/Asset.hx",lineNumber:168,className:"ceramic.Asset",methodName:"load"}),this.emitComplete(!1)},destroy:function(){this._lifecycleState<=-2||(this._lifecycleState=-2,this._lifecycleState=-1,j.prototype.destroy.call(this),null!=this.owner&&(this.owner.removeAsset(this),this.owner=null),null!=this.assets&&(this.assets.destroy(),this.assets=null))},computePath:function(e,n,t){if(null==t&&null!=this.runtimeAssets&&(t=this.runtimeAssets),null==e)switch(this.kind){case"atlas":e=["atlas"];break;case"database":e=["csv"];break;case"font":e=["fnt","ttf","otf"];break;case"fragments":e=["fragments"];break;case"image":e=["png","jpg","jpeg"];break;case"shader":e=["frag","vert"];break;case"sound":var i,l,r,s;he.app.backend.info;e=(null!=me._soundExtensions||(me._soundExtensions=[],i=new Audio,l=null!=be.navigator?be.navigator.userAgent:"",s=me.RE_OPERA.match(l)&&parseInt(me.RE_OPERA.matched(0).split("/")[1],10)<33,r=-1!=l.indexOf("Safari")&&-1==l.indexOf("Chrome"),l=me.RE_SAFARI_VERSION.match(l),r&&l&&parseInt(me.RE_SAFARI_VERSION.matched(1),10),null!=(r=i.canPlayType('audio/ogg; codecs="vorbis"'))&&"no"!=r&&""!=r&&me._soundExtensions.push("ogg"),l=i.canPlayType("audio/mpeg;"),r=i.canPlayType("audio/mp3;"),!s&&(null!=l&&"no"!=l&&""!=l||null!=r&&"no"!=r&&""!=r)&&me._soundExtensions.push("mp3"),s=i.canPlayType("audio/x-flac;"),l=i.canPlayType("audio/flac;"),(null!=s&&"no"!=s&&""!=s||null!=l&&"no"!=l&&""!=l)&&me._soundExtensions.push("flac"),r=i.canPlayType('audio/wav; codecs="1"'),s=i.canPlayType("audio/wav;"),(null!=r&&"no"!=r&&""!=r||null!=s&&"no"!=s&&""!=s)&&me._soundExtensions.push("wav")),[].concat(me._soundExtensions));break;case"text":e=["txt","json","fnt","atlas"];break;default:e=null}null!=e&&null!=n||Object.prototype.hasOwnProperty.call(fe.customAssetKinds.h,this.kind)&&(u=fe.customAssetKinds.h[this.kind],null==e&&(e=u.extensions),null==n)&&(n=u.dir),null==e&&(e=[]),null!=this.customExtensions&&(e=e.concat(this.customExtensions)),null==n&&(n=!1);var h=he.app.screen.get_texturesDensity(),a=null,o=[],c=null,u=n?(null!=t?t.getLists():fe).allDirsByName:(null!=t?t.getLists():fe).allByName,_=this.name;if(null==a&&null!=_&&Rn.isAbsolute(_)&&(a=_),0<e.length){for(var d=0;d<e.length;){var b=e[d];if(++d,z.endsWith(_,"."+b)){_=se.substr(_,0,_.length-b.length-1);break}}var g=!1;if(Object.prototype.hasOwnProperty.call(u.h,_))for(var O=u.h[_],d=0;d<e.length;){for(var b=e[d],f=(++d,99999999999),p=0;p<O.length;){var C,v=O[p],v=(++p,fe.decodePath(v));v.extension==b&&(g||(C=Math.abs(h-v.density))<f&&(f=C,v.density,a=v.path,c=v),o.push(v.path))}null!=a&&(g=!0)}}if(null==a&&(a=_),this.allPaths=o,this.set_path(a),null!=c&&null!=c.flags)for(var n=c.flags.h,w=Object.keys(n),m=w.length,y=0;y<m;){var U=w[y++];Object.prototype.hasOwnProperty.call(this.options,U)||(this.options[U]=c.flags.h[U])}},set_path:function(e){return this.path!=e&&(this.get_status()==Fe.READY&&this.set_status(Fe.NONE),this.path=e,this.density=null==e?1:fe.decodePath(e).density),e},set_name:function(e){return this.name!=e&&(this.name=e,this.fullName=null!=this.variant?e+":"+this.variant:e,this.id="asset:"+this.kind+":"+this.fullName),e},set_variant:function(e){return this.variant==e?e:(this.variant=e,this.fullName=null!=e?this.name+":"+e:this.name,this.id="asset:"+this.kind+":"+this.fullName,this.name)},set_runtimeAssets:function(e){return this.runtimeAssets!=e&&(this.runtimeAssets=e,this.computePath()),e},set_handleTexturesDensityChange:function(e){return this.handleTexturesDensityChange!=e&&((this.handleTexturesDensityChange=e)?he.app.screen.onTexturesDensityChange(this,$bind(this,this.texturesDensityDidChange)):he.app.screen.offTexturesDensityChange($bind(this,this.texturesDensityDidChange))),e},texturesDensityDidChange:function(e,n){},set_hotReload:function(e){return this.hotReload!=e&&((this.hotReload=e)?this.owner.onAssetFilesChange(this,$bind(this,this.assetFilesDidChange)):this.owner.offAssetFilesChange($bind(this,this.assetFilesDidChange))),e},assetFilesDidChange:function(e,n){},toString:function(){var e=this.className();return null!=this.path&&""!=z.trim(this.path)?e+"("+this.fullName+" "+this.path+")":e+"("+this.fullName+")"},willEmitComplete:function(e){e&&null!=this.owner&&this.owner.emitUpdate(this)},retain:function(){this.refCount++},release:function(){0==this.refCount?he.app.logger.warning("Called release() on asset "+X.string(this)+" when its refCount is already 0 (destroyed="+X.string(this._lifecycleState<0)+")",{fileName:"../../../../ceramic/runtime/src/ceramic/Asset.hx",lineNumber:506,className:"ceramic.Asset",methodName:"release"}):this.refCount--},unbindEvents:function(){j.prototype.unbindEvents.call(this),this.offObservedDirty(),this.offStatusChange(),this.offComplete()},__class__:Ea,__properties__:$extend(j.prototype.__properties__,{set_hotReload:"set_hotReload",set_handleTexturesDensityChange:"set_handleTexturesDensityChange",set_status:"set_status",get_status:"get_status",set_runtimeAssets:"set_runtimeAssets",set_path:"set_path",set_variant:"set_variant",set_name:"set_name"})}),function(e){var n=(this.path=e).lastIndexOf("."),t=(this.extension=se.substr(e,n+1,null).toLowerCase(),se.substr(e,0,n)),i=t.lastIndexOf("@");if(-(this.density=1)==i)i=n;else for(var l=0,r=se.substr(t,i+1,null).split("+");l<r.length;){var s,h=r[l],a=(++l,!0);z.endsWith(h,"x")&&(s=parseFloat(se.substr(h,0,h.length-1)),isNaN(s)||(this.density=s,a=!1)),a&&(null==this.flags&&(this.flags=new ue),-1==(s=h.indexOf("="))?this.flags.h[h]=!0:(a=se.substr(h,0,s),h=se.substr(h,s+1,null),this.flags.h[a]=h))}this.name=se.substr(e,0,Math.min(i,n))}),Fe=((E["ceramic.AssetPathInfo"]=Pe).__name__="ceramic.AssetPathInfo",Pe.prototype={density:null,extension:null,name:null,path:null,flags:null,toString:function(){return""+X.string({extension:this.extension,name:this.name,path:this.path,density:this.density})},__class__:Pe},Oe["ceramic.AssetStatus"]={__ename__:"ceramic.AssetStatus",__constructs__:null,NONE:{_hx_name:"NONE",_hx_index:0,__enum__:"ceramic.AssetStatus",toString:c},LOADING:{_hx_name:"LOADING",_hx_index:1,__enum__:"ceramic.AssetStatus",toString:c},READY:{_hx_name:"READY",_hx_index:2,__enum__:"ceramic.AssetStatus",toString:c},BROKEN:{_hx_name:"BROKEN",_hx_index:3,__enum__:"ceramic.AssetStatus",toString:c}}),Be=(Fe.__constructs__=[Fe.NONE,Fe.LOADING,Fe.READY,Fe.BROKEN],function(e,n,t){this.parseAtlas=null,this.unobservedText=null,this.textAutoruns=null,this.unobservedAtlas=null,this.atlasAutoruns=null,Ea.call(this,"atlas",e,n,t),this.set_handleTexturesDensityChange(!0),this.assets=new fe}),Me=((E["ceramic.AtlasAsset"]=Be).__name__="ceramic.AtlasAsset",Be.__super__=Ea,Be.prototype=$extend(Ea.prototype,{__cbOnReplaceAtlas:null,__cbOnceReplaceAtlas:null,__cbOnOwnerUnbindReplaceAtlas:null,__cbOnceOwnerUnbindReplaceAtlas:null,emitReplaceAtlas:function(e,n){var t=0;if(null!=this.__cbOnReplaceAtlas&&(t+=this.__cbOnReplaceAtlas.length),null!=this.__cbOnceReplaceAtlas&&(t+=this.__cbOnceReplaceAtlas.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnReplaceAtlas)for(var s=0,h=this.__cbOnReplaceAtlas.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnReplaceAtlas[a],++r):--t}if(null!=this.__cbOnceReplaceAtlas){for(var o=null,c=null,s=0,h=this.__cbOnceReplaceAtlas.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceReplaceAtlas[a],this.__cbOnceReplaceAtlas[a]=null,u=this.__cbOnceOwnerUnbindReplaceAtlas[a],(this.__cbOnceOwnerUnbindReplaceAtlas[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindReplaceAtlas[a]),c.push(this.__cbOnceReplaceAtlas[a]))}this.__cbOnceOwnerUnbindReplaceAtlas=o,this.__cbOnceReplaceAtlas=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onReplaceAtlas:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event replaceAtlas because owner is destroyed!");var l=function(e){null!=t&&(i.offReplaceAtlas(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindReplaceAtlas&&(this.__cbOnOwnerUnbindReplaceAtlas=[]),this.__cbOnOwnerUnbindReplaceAtlas.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindReplaceAtlas&&(this.__cbOnOwnerUnbindReplaceAtlas=[]),this.__cbOnOwnerUnbindReplaceAtlas.push(null);null==this.__cbOnReplaceAtlas&&(this.__cbOnReplaceAtlas=[]),this.__cbOnReplaceAtlas.push(t)},onceReplaceAtlas:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event replaceAtlas because owner is destroyed!");var l=function(e){null!=t&&(i.offReplaceAtlas(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindReplaceAtlas&&(this.__cbOnceOwnerUnbindReplaceAtlas=[]),this.__cbOnceOwnerUnbindReplaceAtlas.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindReplaceAtlas&&(this.__cbOnceOwnerUnbindReplaceAtlas=[]),this.__cbOnceOwnerUnbindReplaceAtlas.push(null);null==this.__cbOnceReplaceAtlas&&(this.__cbOnceReplaceAtlas=[]),this.__cbOnceReplaceAtlas.push(t)},offReplaceAtlas:function(e){if(null!=e){var n;null!=this.__cbOnReplaceAtlas&&-1!=(n=this.__cbOnReplaceAtlas.indexOf(e))&&(this.__cbOnReplaceAtlas.splice(n,1),null!=(r=this.__cbOnOwnerUnbindReplaceAtlas[n])&&r(),this.__cbOnOwnerUnbindReplaceAtlas.splice(n,1)),null!=this.__cbOnceReplaceAtlas&&-1!=(n=this.__cbOnceReplaceAtlas.indexOf(e))&&(this.__cbOnceReplaceAtlas.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindReplaceAtlas[n])&&r(),this.__cbOnceOwnerUnbindReplaceAtlas.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindReplaceAtlas){for(var t=0,i=this.__cbOnOwnerUnbindReplaceAtlas.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindReplaceAtlas[l])&&r()}this.__cbOnOwnerUnbindReplaceAtlas=null}if(null!=this.__cbOnceOwnerUnbindReplaceAtlas){for(t=0,i=this.__cbOnceOwnerUnbindReplaceAtlas.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindReplaceAtlas[l])&&r()}this.__cbOnceOwnerUnbindReplaceAtlas=null}this.__cbOnReplaceAtlas=null,this.__cbOnceReplaceAtlas=null}},listensReplaceAtlas:function(){return null!=this.__cbOnReplaceAtlas&&0<this.__cbOnReplaceAtlas.length||null!=this.__cbOnceReplaceAtlas&&0<this.__cbOnceReplaceAtlas.length},atlasAutoruns:null,get_atlas:function(){var e,n,t=this.unobservedAtlas;return null!=U.current&&(e=U.current,null!=(n=this.atlasAutoruns)||(n=U.getAutorunArray(),null!=(this.atlasAutoruns=n)))&&e.bindToAutorunArray(n),t},set_atlas:function(e){var n=this.unobservedAtlas;return n!=(this.unobservedAtlas=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitAtlasChange(e,n),null!=(n=this.atlasAutoruns))&&(this.atlasAutoruns=null,U.invalidateAutorunArray(n)),e},invalidateAtlas:function(){var e=this.unobservedAtlas,e=(this.emitAtlasChange(e,e),this.atlasAutoruns);null!=e&&(this.atlasAutoruns=null,U.invalidateAutorunArray(e))},unobservedAtlas:null,__cbOnAtlasChange:null,__cbOnceAtlasChange:null,__cbOnOwnerUnbindAtlasChange:null,__cbOnceOwnerUnbindAtlasChange:null,emitAtlasChange:function(e,n){var t=0;if(null!=this.__cbOnAtlasChange&&(t+=this.__cbOnAtlasChange.length),null!=this.__cbOnceAtlasChange&&(t+=this.__cbOnceAtlasChange.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnAtlasChange)for(var s=0,h=this.__cbOnAtlasChange.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnAtlasChange[a],++r):--t}if(null!=this.__cbOnceAtlasChange){for(var o=null,c=null,s=0,h=this.__cbOnceAtlasChange.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceAtlasChange[a],this.__cbOnceAtlasChange[a]=null,u=this.__cbOnceOwnerUnbindAtlasChange[a],(this.__cbOnceOwnerUnbindAtlasChange[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindAtlasChange[a]),c.push(this.__cbOnceAtlasChange[a]))}this.__cbOnceOwnerUnbindAtlasChange=o,this.__cbOnceAtlasChange=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onAtlasChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event atlasChange because owner is destroyed!");var l=function(e){null!=t&&(i.offAtlasChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindAtlasChange&&(this.__cbOnOwnerUnbindAtlasChange=[]),this.__cbOnOwnerUnbindAtlasChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindAtlasChange&&(this.__cbOnOwnerUnbindAtlasChange=[]),this.__cbOnOwnerUnbindAtlasChange.push(null);null==this.__cbOnAtlasChange&&(this.__cbOnAtlasChange=[]),this.__cbOnAtlasChange.push(t)},onceAtlasChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event atlasChange because owner is destroyed!");var l=function(e){null!=t&&(i.offAtlasChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindAtlasChange&&(this.__cbOnceOwnerUnbindAtlasChange=[]),this.__cbOnceOwnerUnbindAtlasChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindAtlasChange&&(this.__cbOnceOwnerUnbindAtlasChange=[]),this.__cbOnceOwnerUnbindAtlasChange.push(null);null==this.__cbOnceAtlasChange&&(this.__cbOnceAtlasChange=[]),this.__cbOnceAtlasChange.push(t)},offAtlasChange:function(e){if(null!=e){var n;null!=this.__cbOnAtlasChange&&-1!=(n=this.__cbOnAtlasChange.indexOf(e))&&(this.__cbOnAtlasChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindAtlasChange[n])&&r(),this.__cbOnOwnerUnbindAtlasChange.splice(n,1)),null!=this.__cbOnceAtlasChange&&-1!=(n=this.__cbOnceAtlasChange.indexOf(e))&&(this.__cbOnceAtlasChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindAtlasChange[n])&&r(),this.__cbOnceOwnerUnbindAtlasChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindAtlasChange){for(var t=0,i=this.__cbOnOwnerUnbindAtlasChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindAtlasChange[l])&&r()}this.__cbOnOwnerUnbindAtlasChange=null}if(null!=this.__cbOnceOwnerUnbindAtlasChange){for(t=0,i=this.__cbOnceOwnerUnbindAtlasChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindAtlasChange[l])&&r()}this.__cbOnceOwnerUnbindAtlasChange=null}this.__cbOnAtlasChange=null,this.__cbOnceAtlasChange=null}},listensAtlasChange:function(){return null!=this.__cbOnAtlasChange&&0<this.__cbOnAtlasChange.length||null!=this.__cbOnceAtlasChange&&0<this.__cbOnceAtlasChange.length},textAutoruns:null,get_text:function(){var e,n,t=this.unobservedText;return null!=U.current&&(e=U.current,null!=(n=this.textAutoruns)||(n=U.getAutorunArray(),null!=(this.textAutoruns=n)))&&e.bindToAutorunArray(n),t},set_text:function(e){var n=this.unobservedText;return n!=(this.unobservedText=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitTextChange(e,n),null!=(n=this.textAutoruns))&&(this.textAutoruns=null,U.invalidateAutorunArray(n)),e},invalidateText:function(){var e=this.unobservedText,e=(this.emitTextChange(e,e),this.textAutoruns);null!=e&&(this.textAutoruns=null,U.invalidateAutorunArray(e))},unobservedText:null,__cbOnTextChange:null,__cbOnceTextChange:null,__cbOnOwnerUnbindTextChange:null,__cbOnceOwnerUnbindTextChange:null,emitTextChange:function(e,n){var t=0;if(null!=this.__cbOnTextChange&&(t+=this.__cbOnTextChange.length),null!=this.__cbOnceTextChange&&(t+=this.__cbOnceTextChange.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnTextChange)for(var s=0,h=this.__cbOnTextChange.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnTextChange[a],++r):--t}if(null!=this.__cbOnceTextChange){for(var o=null,c=null,s=0,h=this.__cbOnceTextChange.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceTextChange[a],this.__cbOnceTextChange[a]=null,u=this.__cbOnceOwnerUnbindTextChange[a],(this.__cbOnceOwnerUnbindTextChange[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindTextChange[a]),c.push(this.__cbOnceTextChange[a]))}this.__cbOnceOwnerUnbindTextChange=o,this.__cbOnceTextChange=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onTextChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event textChange because owner is destroyed!");var l=function(e){null!=t&&(i.offTextChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindTextChange&&(this.__cbOnOwnerUnbindTextChange=[]),this.__cbOnOwnerUnbindTextChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindTextChange&&(this.__cbOnOwnerUnbindTextChange=[]),this.__cbOnOwnerUnbindTextChange.push(null);null==this.__cbOnTextChange&&(this.__cbOnTextChange=[]),this.__cbOnTextChange.push(t)},onceTextChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event textChange because owner is destroyed!");var l=function(e){null!=t&&(i.offTextChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindTextChange&&(this.__cbOnceOwnerUnbindTextChange=[]),this.__cbOnceOwnerUnbindTextChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindTextChange&&(this.__cbOnceOwnerUnbindTextChange=[]),this.__cbOnceOwnerUnbindTextChange.push(null);null==this.__cbOnceTextChange&&(this.__cbOnceTextChange=[]),this.__cbOnceTextChange.push(t)},offTextChange:function(e){if(null!=e){var n;null!=this.__cbOnTextChange&&-1!=(n=this.__cbOnTextChange.indexOf(e))&&(this.__cbOnTextChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindTextChange[n])&&r(),this.__cbOnOwnerUnbindTextChange.splice(n,1)),null!=this.__cbOnceTextChange&&-1!=(n=this.__cbOnceTextChange.indexOf(e))&&(this.__cbOnceTextChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindTextChange[n])&&r(),this.__cbOnceOwnerUnbindTextChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindTextChange){for(var t=0,i=this.__cbOnOwnerUnbindTextChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindTextChange[l])&&r()}this.__cbOnOwnerUnbindTextChange=null}if(null!=this.__cbOnceOwnerUnbindTextChange){for(t=0,i=this.__cbOnceOwnerUnbindTextChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindTextChange[l])&&r()}this.__cbOnceOwnerUnbindTextChange=null}this.__cbOnTextChange=null,this.__cbOnceTextChange=null}},listensTextChange:function(){return null!=this.__cbOnTextChange&&0<this.__cbOnTextChange.length||null!=this.__cbOnceTextChange&&0<this.__cbOnceTextChange.length},parseAtlas:null,load:function(){for(var u=this,_=(null!=this.owner&&(this.assets.inheritRuntimeAssetsFromAssets(this.owner),this.assets.loadMethod=this.owner.loadMethod,this.assets.scheduleMethod=this.owner.scheduleMethod,this.assets.delayBetweenXAssets=this.owner.delayBetweenXAssets),[]),a=this.assets.iterator();a.hasNext();){var e=a.next();_.push(e)}this.set_status(Fe.LOADING),null==this.path?(he.app.logger.warning("Cannot load atlas asset if path is undefined.",{fileName:"../../../../ceramic/runtime/src/ceramic/AtlasAsset.hx",lineNumber:127,className:"ceramic.AtlasAsset",methodName:"load"}),this.set_status(Fe.BROKEN),this.emitComplete(!1)):(he.app.logger.info("Load atlas "+this.path,{fileName:"../../../../ceramic/runtime/src/ceramic/AtlasAsset.hx",lineNumber:133,className:"ceramic.AtlasAsset",methodName:"load"}),this.assets.runtimeAssets=this.runtimeAssets,(a=new dt(this.name)).set_handleTexturesDensityChange(!1),this.assets.addAsset(a),a.set_path(this.path),this.assets.onceComplete(this,function(e){if(u.set_text(a.get_text()),null!=u.get_text())try{for(var o=null!=u.parseAtlas?u.parseAtlas(u.get_text()):pt.parse(u.get_text()),c=(o.id="atlas:"+u.path,[]),n=0,t=o.pages.length;n<t;){var i=n++,l=o.pages[i].get_name(),r=Rn.directory(u.path),s=(null!=r&&0<r.length&&(l=Rn.join([r,l])),fe.decodePath(l)),h=new bn(s.name);h.set_handleTexturesDensityChange(!1),h.set_path(s.path),u.assets.addAsset(h),c.push(h)}u.assets.onceComplete(u,function(e){if(e){for(var n=0,t=c.length;n<t;){var i=n++,l=(a=c[i]).get_texture();null!=l&&l.set_filter(o.pages[i].get_filter()),o.pages[i].set_texture(l)}o.computeFrames();var r=u.get_atlas();if((o.asset=u).set_atlas(o),null!=r){u.emitReplaceAtlas(u.get_atlas(),r);for(n=0,t=[].concat(he.app.visuals);n<t.length;){var s,h=t[n];++n,0<=h._lifecycleState&&null!=h.asQuad&&null!=(h=h.asQuad).tile&&h.tile instanceof vt&&null!=(s=h.tile)&&s.atlas==r&&(null!=(s=s.name)&&null!=(s=o.region(s))?h.set_tile(s):h.set_tile(null))}r.asset=null,r.destroy()}for(n=0;n<_.length;){var a=_[n];++n,a instanceof bn&&-1!=c.indexOf(a)||a.destroy()}u.set_status(Fe.READY),u.emitComplete(!0),u.handleTexturesDensityChange&&u.checkTexturesDensity()}else u.set_status(Fe.BROKEN),he.app.logger.error("Failed to load textures for atlas at path: "+u.path,{fileName:"../../../../ceramic/runtime/src/ceramic/AtlasAsset.hx",lineNumber:261,className:"ceramic.AtlasAsset",methodName:"load"}),u.emitComplete(!1)}),u.assets.load(null,{fileName:"../../../../ceramic/runtime/src/ceramic/AtlasAsset.hx",lineNumber:267,className:"ceramic.AtlasAsset",methodName:"load"})}catch(n){Yi.lastError=n,u.set_status(Fe.BROKEN),he.app.logger.error("Failed to decode atlas data at path: "+u.path,{fileName:"../../../../ceramic/runtime/src/ceramic/AtlasAsset.hx",lineNumber:271,className:"ceramic.AtlasAsset",methodName:"load"}),u.emitComplete(!1)}else u.set_status(Fe.BROKEN),he.app.logger.error("Failed to load atlas data at path: "+u.path,{fileName:"../../../../ceramic/runtime/src/ceramic/AtlasAsset.hx",lineNumber:277,className:"ceramic.AtlasAsset",methodName:"load"}),u.emitComplete(!1)}),this.assets.load(null,{fileName:"../../../../ceramic/runtime/src/ceramic/AtlasAsset.hx",lineNumber:282,className:"ceramic.AtlasAsset",methodName:"load"}))},texturesDensityDidChange:function(e,n){this.get_status()==Fe.READY&&this.checkTexturesDensity()},checkTexturesDensity:function(){var e;null!=this.owner&&this.owner.reloadOnTextureDensityChange&&(e=this.path,this.computePath(),e!=this.path)&&(he.app.logger.info("Reload atlas ("+e+" -> "+this.path+")",{fileName:"../../../../ceramic/runtime/src/ceramic/AtlasAsset.hx",lineNumber:316,className:"ceramic.AtlasAsset",methodName:"checkTexturesDensity"}),this.load())},assetFilesDidChange:function(e,n){var t=-1,n=(Object.prototype.hasOwnProperty.call(n.h,this.path)&&(t=n.h[this.path]),-1);(n=Object.prototype.hasOwnProperty.call(e.h,this.path)?e.h[this.path]:n)!=t&&(he.app.logger.info("Reload atlas (file has changed)",{fileName:"../../../../ceramic/runtime/src/ceramic/AtlasAsset.hx",lineNumber:343,className:"ceramic.AtlasAsset",methodName:"assetFilesDidChange"}),this.load())},destroy:function(){this._lifecycleState<=-2||(this._lifecycleState=-2,this._lifecycleState=-1,Ea.prototype.destroy.call(this),null!=this.get_atlas()&&(this.get_atlas().destroy(),this.set_atlas(null)))},unbindEvents:function(){Ea.prototype.unbindEvents.call(this),this.offReplaceAtlas(),this.offAtlasChange(),this.offTextChange()},__class__:Be,__properties__:$extend(Ea.prototype.__properties__,{set_text:"set_text",get_text:"get_text",set_atlas:"set_atlas",get_atlas:"get_atlas"})}),function(){this.busFilters=[],j.call(this),this.mixers=new An,this.mixers.exists(0)||this.mixers.set(0,new Ee(0))}),Ee=((E["ceramic.Audio"]=Me).__name__="ceramic.Audio",Me.__super__=j,Me.prototype=$extend(j.prototype,{mixers:null,busFilters:null,initMixerIfNeeded:function(e){this.mixers.exists(e)||this.mixers.set(e,new Ee(e))},mixer:function(e){this.mixers.exists(e)||this.mixers.set(e,new Ee(e));var n=this.mixers,t=n._keys.intMap.h[0|e];return 2<=(e=null!=t?t:0)?n.values[e-2]:An.RET_NULL},addFilter:function(e,n){if((n=null==n?0:n)<0)throw oe.thrown("Invalid bus "+n+", must be 0 or higher");for(-1!=e.bus&&this._removeFilter(e,e.bus);this.busFilters.length<=n;)this.busFilters.push([]);this.busFilters[n].push(e),e.attach(n),he.app.backend.audio.addFilter(n,e,$bind(e,e.emitReady));for(var t=0,i=this.busFilters[n].length;t<i;){var l=t++;he.app.backend.audio.filterParamsChanged(n,this.busFilters[n][l].filterId)}},removeFilter:function(e,n){this._removeFilter(e,n)},_removeFilter:function(e,n){if(!((n=null==n?e.bus:n)<0||n>=this.busFilters.length)){var t=this.busFilters[n].indexOf(e);if(-1!=t){e.detach(n),this.busFilters[n].splice(t,1),he.app.backend.audio.removeFilter(n,e.filterId);for(var i=0,l=this.busFilters[n].length;i<l;){var r=i++;he.app.backend.audio.filterParamsChanged(n,this.busFilters[n][r].filterId)}}}},filters:function(e){e=this.busFilters[e];return e=null!=e?[].concat(e):[]},clearFilters:function(e){if(e<this.busFilters.length)for(var n=this.busFilters[e];0<n.length;)this._removeFilter(n[n.length-1],e)},__class__:Me}),(E["ceramic.AudioFilter"]=La).__name__="ceramic.AudioFilter",La.__super__=j,La.prototype=$extend(j.prototype,{__cbOnReady:null,__cbOnceReady:null,__cbOnOwnerUnbindReady:null,__cbOnceOwnerUnbindReady:null,emitReady:function(e){var n=0;if(null!=this.__cbOnReady&&(n+=this.__cbOnReady.length),null!=this.__cbOnceReady&&(n+=this.__cbOnceReady.length),0<n){var t=C.pool(n),i=t.get(),l=0;if(null!=this.__cbOnReady)for(var r=0,s=this.__cbOnReady.length;r<s;){var h=r++;!0?(i.vector[l]=this.__cbOnReady[h],++l):--n}if(null!=this.__cbOnceReady){for(var a=null,o=null,r=0,s=this.__cbOnceReady.length;r<s;){var c,h=r++;!0?(i.vector[l]=this.__cbOnceReady[h],this.__cbOnceReady[h]=null,c=this.__cbOnceOwnerUnbindReady[h],(this.__cbOnceOwnerUnbindReady[h]=null)!=c&&c(),++l):(--n,null==a&&(a=[],o=[],0),a.push(this.__cbOnceOwnerUnbindReady[h]),o.push(this.__cbOnceReady[h]))}this.__cbOnceOwnerUnbindReady=a,this.__cbOnceReady=o}for(r=0,s=n;r<s;){l=r++;(0,i.vector[l])(e)}t.release(i)}},onReady:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event ready because owner is destroyed!");var l=function(e){null!=t&&(i.offReady(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindReady&&(this.__cbOnOwnerUnbindReady=[]),this.__cbOnOwnerUnbindReady.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindReady&&(this.__cbOnOwnerUnbindReady=[]),this.__cbOnOwnerUnbindReady.push(null);null==this.__cbOnReady&&(this.__cbOnReady=[]),this.__cbOnReady.push(t)},onceReady:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event ready because owner is destroyed!");var l=function(e){null!=t&&(i.offReady(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindReady&&(this.__cbOnceOwnerUnbindReady=[]),this.__cbOnceOwnerUnbindReady.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindReady&&(this.__cbOnceOwnerUnbindReady=[]),this.__cbOnceOwnerUnbindReady.push(null);null==this.__cbOnceReady&&(this.__cbOnceReady=[]),this.__cbOnceReady.push(t)},offReady:function(e){if(null!=e){var n;null!=this.__cbOnReady&&-1!=(n=this.__cbOnReady.indexOf(e))&&(this.__cbOnReady.splice(n,1),null!=(r=this.__cbOnOwnerUnbindReady[n])&&r(),this.__cbOnOwnerUnbindReady.splice(n,1)),null!=this.__cbOnceReady&&-1!=(n=this.__cbOnceReady.indexOf(e))&&(this.__cbOnceReady.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindReady[n])&&r(),this.__cbOnceOwnerUnbindReady.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindReady){for(var t=0,i=this.__cbOnOwnerUnbindReady.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindReady[l])&&r()}this.__cbOnOwnerUnbindReady=null}if(null!=this.__cbOnceOwnerUnbindReady){for(t=0,i=this.__cbOnceOwnerUnbindReady.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindReady[l])&&r()}this.__cbOnceOwnerUnbindReady=null}this.__cbOnReady=null,this.__cbOnceReady=null}},listensReady:function(){return null!=this.__cbOnReady&&0<this.__cbOnReady.length||null!=this.__cbOnceReady&&0<this.__cbOnceReady.length},filterId:null,bus:null,active:null,params:null,paramsChanged:null,paramsAcquired:null,getBool:function(e){e=this.params[e];return null!=e&&0!=e},getInt:function(e){e=this.params[e];return null!=e?0|e:0},getFloat:function(e){e=this.params[e];return null!=e?e:0},setBool:function(e,n){var t=!this.paramsAcquired,i=(t&&this.acquireParams(),this.params[e]),n=n?1:0;(this.params[e]=n)!=i&&(this.paramsChanged=!0),t&&this.releaseParams()},setInt:function(e,n){var t=!this.paramsAcquired,i=(t&&this.acquireParams(),this.params[e]);(this.params[e]=n)!=i&&(this.paramsChanged=!0),t&&this.releaseParams()},setFloat:function(e,n){var t=!this.paramsAcquired,i=(t&&this.acquireParams(),this.params[e]);(this.params[e]=n)!=i&&(this.paramsChanged=!0),t&&this.releaseParams()},acquireParams:function(){this.paramsChanged=!1,this.paramsAcquired=!0},releaseParams:function(){var e=this.paramsChanged;this.paramsChanged=!1,this.paramsAcquired=!1,e&&0<=this.bus&&he.app.backend.audio.filterParamsChanged(this.bus,this.filterId)},_initDefaultParamValues:function(){},attach:function(e){this.bus=e},detach:function(e){this.bus=-1},workletClass:null,numParams:function(){return 0},destroy:function(){this._lifecycleState<=-2||(this._lifecycleState=-2,-1!=this.bus&&he.app.audio.removeFilter(this),this._lifecycleState=-1,j.prototype.destroy.call(this))},unbindEvents:function(){j.prototype.unbindEvents.call(this),this.offReady()},__class__:La}),(E["ceramic.AudioFilterWorklet"]=Ma).__name__="ceramic.AudioFilterWorklet",Ma.prototype={filterId:null,bus:null,active:null,params:null,getBool:function(e){e=this.params[e];return null!=e&&0!=e},getInt:function(e){e=this.params[e];return null!=e?0|e:0},getFloat:function(e){e=this.params[e];return null!=e?e:0},numParams:function(){return 0},process:null,__class__:Ma},function(e){this.mute=!1,this.pitch=1,this.pan=0,this.volume=.5,j.call(this),this.index=e}),Le=((E["ceramic.AudioMixer"]=Ee).__name__="ceramic.AudioMixer",Ee.__super__=j,Ee.prototype=$extend(j.prototype,{volume:null,pan:null,pitch:null,mute:null,index:null,__class__:Ee}),(E["ceramic.AutoCollections"]=Oa).__name__="ceramic.AutoCollections",Oa.__isInterface__=!0,(E["ceramic.BackgroundQueue"]=Pa).__name__="ceramic.BackgroundQueue",Pa.__super__=j,Pa.prototype=$extend(j.prototype,{checkInterval:null,runsInBackground:null,stop:null,pending:null,schedule:function(e){he.app._onceImmediate(e)},destroy:function(){this._lifecycleState<=-2||(this._lifecycleState=-2,this._lifecycleState=-1,j.prototype.destroy.call(this),this.stop=!0)},__class__:Pa}),(E["ceramic.BezierEasing"]=Qa).__name__="ceramic.BezierEasing",Qa.quadraticToCubicCP1=function(e){return Qa.TWO_THIRD*e},Qa.quadraticToCubicCP2=function(e){return 1+Qa.TWO_THIRD*(e-1)},Qa.cacheKey=function(e,n,t,i){return 0|1e4*e+1e5*n+1e6*t+1e7*i},Qa.clearCache=function(){Qa.cachedInstances=null,Qa.numCachedInstances=0},Qa.get=function(e,n,t,i){var l=null==t||null==i,r=l?Qa.TWO_THIRD*e:e,s=l?Qa.TWO_THIRD*n:n,h=l?1+Qa.TWO_THIRD*(e-1):t,a=l?1+Qa.TWO_THIRD*(n-1):i,o=null,l=0|1e4*r+1e5*s+1e6*h+1e7*a,c=Qa.cachedInstances=null==Qa.cachedInstances?new An:Qa.cachedInstances,u=c._keys.intMap.h[0|l],u=null!=u?u:0,_=2<=u?c.values[u-2]:An.RET_NULL;if(null==_)Qa.CACHE_SIZE<=Qa.numCachedInstances&&Qa.clearCache(),o=new Qa(r,s,h,a),Qa.cachedInstances.set(l,[o]),Qa.numCachedInstances++;else{for(var d=_.length-1;0<=d;){var b=_[d];if(b.mX1==r&&b.mY1==s&&b.mX2==h&&b.mY2==a){o=b;break}--d}null==o&&((o=new Qa(e,n,t,i)).cached=!0,_.push(o))}return o},Qa.prototype={linearEasing:null,sampleValues:null,cached:null,quadratic:null,mQuadraticX1:null,mQuadraticX2:null,mX1:null,mY1:null,mX2:null,mY2:null,configure:function(e,n,t,i){if(this.cached&&this.removeFromCache(this.mX1,this.mY1,this.mX2,this.mY2),null==t||null==i?(this.quadratic=!0,this.mQuadraticX1=e,this.mQuadraticX2=t,this.mX1=Qa.TWO_THIRD*e,this.mY1=Qa.TWO_THIRD*n,this.mX2=1+Qa.TWO_THIRD*(e-1),this.mY2=1+Qa.TWO_THIRD*(n-1)):(this.quadratic=!1,this.mX1=e,this.mY1=n,this.mX2=t,this.mY2=i),this.mX1==this.mY1&&this.mX2==this.mY2)this.linearEasing=!0;else{this.linearEasing=!1,null==this.sampleValues&&(this.sampleValues=[]);for(var l=0,r=Qa.SPLINE_TABLE_SIZE;l<r;){var s=l++,h=s*Qa.SAMPLE_STEP_SIZE,a=this.mX1,o=this.mX2;this.sampleValues[s]=(((1-3*o+3*a)*h+(3*o-6*a))*h+3*a)*h}}},ease:function(e){if(this.linearEasing)return e;if(0==e)return 0;if(1==e)return 1;for(var n=0,t=1,i=Qa.SPLINE_TABLE_SIZE-1;t!=i&&this.sampleValues[t]<=e;)n+=Qa.SAMPLE_STEP_SIZE,++t;var l,r=n+(e-this.sampleValues[--t])/(this.sampleValues[t+1]-this.sampleValues[t])*Qa.SAMPLE_STEP_SIZE,s=this.mX1,h=this.mX2,a=3*(1-3*h+3*s)*r*r+2*(3*h-6*s)*r+3*s;if(Qa.NEWTON_MIN_SLOPE<=a)l=this.newtonRaphsonIterate(e,r,this.mX1,this.mX2);else if(0==a)l=r;else{for(var o,c,u=n,_=n+Qa.SAMPLE_STEP_SIZE,d=this.mX1,b=this.mX2,g=0;0<(o=(((1-3*b+3*d)*(c=u+(_-u)/2)+(3*b-6*d))*c+3*d)*c-e)?_=c:u=c,Math.abs(o)>Qa.SUBDIVISION_PRECISION&&++g<Qa.SUBDIVISION_MAX_ITERATIONS;);l=c}s=this.mY1;return(((1-3*(h=this.mY2)+3*s)*l+(3*h-6*s))*l+3*s)*l},getTForX:function(e){for(var n=0,t=1,i=Qa.SPLINE_TABLE_SIZE-1;t!=i&&this.sampleValues[t]<=e;)n+=Qa.SAMPLE_STEP_SIZE,++t;var l=n+(e-this.sampleValues[--t])/(this.sampleValues[t+1]-this.sampleValues[t])*Qa.SAMPLE_STEP_SIZE,r=this.mX1,s=this.mX2,s=3*(1-3*s+3*r)*l*l+2*(3*s-6*r)*l+3*r;if(Qa.NEWTON_MIN_SLOPE<=s)return this.newtonRaphsonIterate(e,l,this.mX1,this.mX2);if(0==s)return l;for(var h,a,o=n,c=n+Qa.SAMPLE_STEP_SIZE,u=this.mX1,_=this.mX2,d=0;0<(h=(((1-3*_+3*u)*(a=o+(c-o)/2)+(3*_-6*u))*a+3*u)*a-e)?c=a:o=a,Math.abs(h)>Qa.SUBDIVISION_PRECISION&&++d<Qa.SUBDIVISION_MAX_ITERATIONS;);return a},calcBezier:function(e,n,t){return(((1-3*t+3*n)*e+(3*t-6*n))*e+3*n)*e},getSlope:function(e,n,t){return 3*(1-3*t+3*n)*e*e+2*(3*t-6*n)*e+3*n},binarySubdivide:function(e,n,t,i,l){for(var r,s,h=0;0<(r=(((1-3*l+3*i)*(s=n+(t-n)/2)+(3*l-6*i))*s+3*i)*s-e)?t=s:n=s,Math.abs(r)>Qa.SUBDIVISION_PRECISION&&++h<Qa.SUBDIVISION_MAX_ITERATIONS;);return s},newtonRaphsonIterate:function(e,n,t,i){for(var l=0,r=Qa.NEWTON_ITERATIONS;l<r;){l++;var s=3*(1-3*i+3*t)*n*n+2*(3*i-6*t)*n+3*t;if(0==s)return n;n-=((((1-3*i+3*t)*n+(3*i-6*t))*n+3*t)*n-e)/s}return n},A:function(e,n){return 1-3*n+3*e},B:function(e,n){return 3*n-6*e},C:function(e){return 3*e},removeFromCache:function(e,n,t,i){this.cached=!1;e=0|1e4*e+1e5*n+1e6*t+1e7*i;null!=Qa.cachedInstances&&null!=(t=2<=(i=null!=(t=(n=Qa.cachedInstances)._keys.intMap.h[0|e])?t:0)?n.values[i-2]:An.RET_NULL)&&(1==t.length&&t[0]==this?Qa.cachedInstances.remove(e):se.remove(t,this))},__class__:Qa},function(e,n,t){this.unobservedBytes=null,this.bytesAutoruns=null,Ea.call(this,"binary",e,n,t)}),Ve=((E["ceramic.BinaryAsset"]=Le).__name__="ceramic.BinaryAsset",Le.__super__=Ea,Le.prototype=$extend(Ea.prototype,{bytesAutoruns:null,get_bytes:function(){var e,n,t=this.unobservedBytes;return null!=U.current&&(e=U.current,null!=(n=this.bytesAutoruns)||(n=U.getAutorunArray(),null!=(this.bytesAutoruns=n)))&&e.bindToAutorunArray(n),t},set_bytes:function(e){var n=this.unobservedBytes;return n!=(this.unobservedBytes=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitBytesChange(e,n),null!=(n=this.bytesAutoruns))&&(this.bytesAutoruns=null,U.invalidateAutorunArray(n)),e},invalidateBytes:function(){var e=this.unobservedBytes,e=(this.emitBytesChange(e,e),this.bytesAutoruns);null!=e&&(this.bytesAutoruns=null,U.invalidateAutorunArray(e))},unobservedBytes:null,__cbOnBytesChange:null,__cbOnceBytesChange:null,__cbOnOwnerUnbindBytesChange:null,__cbOnceOwnerUnbindBytesChange:null,emitBytesChange:function(e,n){var t=0;if(null!=this.__cbOnBytesChange&&(t+=this.__cbOnBytesChange.length),null!=this.__cbOnceBytesChange&&(t+=this.__cbOnceBytesChange.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnBytesChange)for(var s=0,h=this.__cbOnBytesChange.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnBytesChange[a],++r):--t}if(null!=this.__cbOnceBytesChange){for(var o=null,c=null,s=0,h=this.__cbOnceBytesChange.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceBytesChange[a],this.__cbOnceBytesChange[a]=null,u=this.__cbOnceOwnerUnbindBytesChange[a],(this.__cbOnceOwnerUnbindBytesChange[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindBytesChange[a]),c.push(this.__cbOnceBytesChange[a]))}this.__cbOnceOwnerUnbindBytesChange=o,this.__cbOnceBytesChange=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onBytesChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event bytesChange because owner is destroyed!");var l=function(e){null!=t&&(i.offBytesChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindBytesChange&&(this.__cbOnOwnerUnbindBytesChange=[]),this.__cbOnOwnerUnbindBytesChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindBytesChange&&(this.__cbOnOwnerUnbindBytesChange=[]),this.__cbOnOwnerUnbindBytesChange.push(null);null==this.__cbOnBytesChange&&(this.__cbOnBytesChange=[]),this.__cbOnBytesChange.push(t)},onceBytesChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event bytesChange because owner is destroyed!");var l=function(e){null!=t&&(i.offBytesChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindBytesChange&&(this.__cbOnceOwnerUnbindBytesChange=[]),this.__cbOnceOwnerUnbindBytesChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindBytesChange&&(this.__cbOnceOwnerUnbindBytesChange=[]),this.__cbOnceOwnerUnbindBytesChange.push(null);null==this.__cbOnceBytesChange&&(this.__cbOnceBytesChange=[]),this.__cbOnceBytesChange.push(t)},offBytesChange:function(e){if(null!=e){var n;null!=this.__cbOnBytesChange&&-1!=(n=this.__cbOnBytesChange.indexOf(e))&&(this.__cbOnBytesChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindBytesChange[n])&&r(),this.__cbOnOwnerUnbindBytesChange.splice(n,1)),null!=this.__cbOnceBytesChange&&-1!=(n=this.__cbOnceBytesChange.indexOf(e))&&(this.__cbOnceBytesChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindBytesChange[n])&&r(),this.__cbOnceOwnerUnbindBytesChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindBytesChange){for(var t=0,i=this.__cbOnOwnerUnbindBytesChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindBytesChange[l])&&r()}this.__cbOnOwnerUnbindBytesChange=null}if(null!=this.__cbOnceOwnerUnbindBytesChange){for(t=0,i=this.__cbOnceOwnerUnbindBytesChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindBytesChange[l])&&r()}this.__cbOnceOwnerUnbindBytesChange=null}this.__cbOnBytesChange=null,this.__cbOnceBytesChange=null}},listensBytesChange:function(){return null!=this.__cbOnBytesChange&&0<this.__cbOnBytesChange.length||null!=this.__cbOnceBytesChange&&0<this.__cbOnceBytesChange.length},load:function(){var n=this;if(this.set_status(Fe.LOADING),null==this.path)he.app.logger.warning("Cannot load binary asset if path is undefined.",{fileName:"../../../../ceramic/runtime/src/ceramic/BinaryAsset.hx",lineNumber:79,className:"ceramic.BinaryAsset",methodName:"load"}),this.set_status(Fe.BROKEN),this.emitComplete(!1);else{var e={};if(null!=this.owner&&(e.immediate=this.owner.immediate,e.loadMethod=this.owner.loadMethod),null!=this.options)for(var t=0,i=K.fields(this.options);t<i.length;){var l=i[t];++t,e[l]=K.field(this.options,l)}var r=this.path,s=fe.realAssetPath(r,this.runtimeAssets),h=fe.getReloadCount(s);0<h&&(s+="?hot="+h,r+="?hot="+h),he.app.logger.info("Load binary "+r,{fileName:"../../../../ceramic/runtime/src/ceramic/BinaryAsset.hx",lineNumber:105,className:"ceramic.BinaryAsset",methodName:"load"}),he.app.backend.binaries.load(s,e,function(e){null!=e?(n.set_bytes(e),n.set_status(Fe.READY),n.emitComplete(!0)):(n.set_status(Fe.BROKEN),he.app.logger.error("Failed to load binary at path: "+n.path,{fileName:"../../../../ceramic/runtime/src/ceramic/BinaryAsset.hx",lineNumber:115,className:"ceramic.BinaryAsset",methodName:"load"}),n.emitComplete(!1))})}},assetFilesDidChange:function(e,n){var t=-1,n=(Object.prototype.hasOwnProperty.call(n.h,this.path)&&(t=n.h[this.path]),-1);(n=Object.prototype.hasOwnProperty.call(e.h,this.path)?e.h[this.path]:n)!=t&&(he.app.logger.info("Reload binary (file has changed)",{fileName:"../../../../ceramic/runtime/src/ceramic/BinaryAsset.hx",lineNumber:144,className:"ceramic.BinaryAsset",methodName:"assetFilesDidChange"}),this.load())},destroy:function(){this._lifecycleState<=-2||(this._lifecycleState=-2,this._lifecycleState=-1,Ea.prototype.destroy.call(this),this.set_bytes(null))},unbindEvents:function(){Ea.prototype.unbindEvents.call(this),this.offBytesChange()},__class__:Le,__properties__:$extend(Ea.prototype.__properties__,{set_bytes:"set_bytes",get_bytes:"get_bytes"})}),(E["ceramic.BitmapFont"]=Sa).__name__="ceramic.BitmapFont",Sa.__super__=j,Sa.prototype=$extend(j.prototype,{pages:null,fontData:null,set_fontData:function(e){return null!=(this.fontData=e)&&(this.spaceChar=e.chars.get(32),null==e.chars.get(160))&&e.chars.set(160,this.spaceChar),e},get_face:function(){return this.fontData.face},set_face:function(e){return this.fontData.face=e},get_pointSize:function(){return this.fontData.pointSize},set_pointSize:function(e){return this.fontData.pointSize=e},get_baseSize:function(){return this.fontData.baseSize},set_baseSize:function(e){return this.fontData.baseSize=e},get_chars:function(){return this.fontData.chars},set_chars:function(e){return this.fontData.chars=e},get_charCount:function(){return this.fontData.charCount},set_charCount:function(e){return this.fontData.charCount=e},get_lineHeight:function(){return this.fontData.lineHeight},set_lineHeight:function(e){return this.fontData.lineHeight=e},get_kernings:function(){return this.fontData.kernings},set_kernings:function(e){return this.fontData.kernings=e},get_msdf:function(){return null!=this.fontData.distanceField&&"msdf"==this.fontData.distanceField.fieldType},spaceChar:null,pageShaders:null,preRenderedPages:null,_preRenderingPages:null,asset:null,destroy:function(){if(!(this._lifecycleState<=-2)){if(this._lifecycleState=-2,this._lifecycleState=-1,j.prototype.destroy.call(this),null!=this.asset&&this.asset.destroy(),null!=this.pages){for(var e=this.pages.iterableKeys,n=0,t=e.length;n<t;){var i=n++;(s=this.pages.get(e[i])).destroy()}this.pages=null}if(null!=this.pageShaders){for(var l=this.pageShaders.iterator();l.hasNext();)l.next().destroy();this.pageShaders=null}if(null!=this.preRenderedPages){for(var r=this.preRenderedPages.iterator();r.hasNext();)for(var s=r.next().iterator();s.hasNext();)s.next().destroy();this.preRenderedPages=null}}},needsToPreRenderAtSize:function(e){if(null==this.preRenderedPages||!this.preRenderedPages.h.hasOwnProperty(e))return!0;for(var n=this.preRenderedPages.h[e],t=0,i=this.pages.iterableKeys;t<i.length;){var l=i[t];if(++t,!n.h.hasOwnProperty(l))return!0}return!1},preRenderAtSize:function(e,n){for(var t=0,i=0,l=this.pages.iterableKeys;i<l.length;){var r=l[i];++i,t+=1,this.preRenderPage(r,e,function(){0==--t&&(n(),n=null)})}},preRenderPage:function(e,n,t){var i,l=this;if((null==this.preRenderedPages&&(this.preRenderedPages=new qi),null!=this._preRenderingPages)&&null!=(i=this._preRenderingPages.h[n]))return void(null!=(r=i.h[e])&&r.push(t));null==this._preRenderingPages&&(this._preRenderingPages=new qi),null==(i=this._preRenderingPages.h[n])&&(i=new qi,this._preRenderingPages.h[n]=i);null==(r=i.h[e])&&(r=[],i.h[e]=r);var r,s=this.preRenderedPages.h[n],h=this.pages.get(e);if(null==h)throw oe.thrown("Invalid bitmap font page with id "+e);var a=n/this.fontData.pointSize,o=Math.ceil(h.width*h.density*a),a=Math.ceil(h.width*h.density*a),c=new Gn(o,a,1),u=(c.clearOnRender=!0,c.autoRender=!1,new p);u._texture!=h&&u._set_texture(h),u.set_width(o),u.set_height(a),u.set_shader(null!=this.pageShaders?this.pageShaders.h[e]:null),u.set_visible(!1),null!=s&&s.h.hasOwnProperty(e)&&s.h[e].destroy(),c.stamp(u,function(){for(u.destroy(),(u=null)==s&&(s=new qi,l.preRenderedPages.h[n]=s),s.h[e]=c,t(),t=null,i.remove(e);0<r.length;)r.shift()(),0})},kerning:function(e,n){var e=this.fontData.kernings.get(e);return null!=e&&e.intMap.h.hasOwnProperty(0|n)&&null!=(e=e.intMap.h[0|n])?e:0},__class__:Sa,__properties__:$extend(j.prototype.__properties__,{get_msdf:"get_msdf",set_kernings:"set_kernings",get_kernings:"get_kernings",set_lineHeight:"set_lineHeight",get_lineHeight:"get_lineHeight",set_charCount:"set_charCount",get_charCount:"get_charCount",set_chars:"set_chars",get_chars:"get_chars",set_baseSize:"set_baseSize",get_baseSize:"get_baseSize",set_pointSize:"set_pointSize",get_pointSize:"get_pointSize",set_face:"set_face",get_face:"get_face",set_fontData:"set_fontData"})}),(E["ceramic.BitmapFontCharacter"]=Ta).__name__="ceramic.BitmapFontCharacter",Ta.prototype={id:null,x:null,y:null,width:null,height:null,xOffset:null,yOffset:null,xAdvance:null,page:null,__class__:Ta},(E["ceramic.BitmapFontData"]=Ua).__name__="ceramic.BitmapFontData",Ua.prototype={face:null,path:null,pointSize:null,baseSize:null,chars:null,charCount:null,distanceField:null,pages:null,lineHeight:null,kernings:null,smooth:null,aa:null,needsReparsing:null,rawFontData:null,__class__:Ua},(E["ceramic.BitmapFontDataPage"]=Va).__name__="ceramic.BitmapFontDataPage",Va.prototype={id:null,file:null,__class__:Va},(E["ceramic.BitmapFontDistanceFieldData"]=Wa).__name__="ceramic.BitmapFontDistanceFieldData",Wa.prototype={fieldType:null,distanceRange:null,__class__:Wa},(E["ceramic.BitmapFontParser"]=Xa).__name__="ceramic.BitmapFontParser",Xa.parse=function(e,n,t){if(0==e.length)throw oe.thrown("BitmapFont: fontData is 0 length");if(z.startsWith(z.trim(e),"<"))try{e=Xa.convertXmlFontData(e)}catch(a){Yi.lastError=a;var i=oe.caught(a).unwrap();throw oe.thrown("BitmapFont: invalid xml font data specified for parser: "+X.string(i))}var l=!1,r=e;if(-1!=e.indexOf("CONSTRUCT 3")&&-1!=e.indexOf("Character width:")){l=!0;try{e=Xa.convertConstruct3FontData(e,null!=n?n:"font.png",t)}catch(a){Yi.lastError=a;i=oe.caught(a).unwrap();throw oe.thrown("BitmapFont: invalid Construct 3 font data specified for parser: "+X.string(i))}}var s=new Ua(null,".",0,0,new An,0,null,[],0,new An,!0,!0,!1,null),h=(l&&null==t&&(s.needsReparsing=!0,s.rawFontData=r),z.replace(z.replace(e,"\r",""),"\t"," ").split("\n"));if(0==h.length)throw oe.thrown("BitmapFont: invalid font data specified for parser.");n=h[0];if("info"!=se.substr(z.ltrim(n),0,4))throw oe.thrown("BitmapFont: invalid font data specified for parser. Format should be plain ascii text .fnt file only currently.");for(var a=0;a<h.length;){var o=h[a];++a,Xa.parseLine(o,s)}return h=null,Xa.ensureSpaceCharacter(s),s},Xa.convertXmlFontData=function(e){for(var n="",t=D.parse(e).firstElement().elements();t.hasNext();){var i=t.next();if(i.nodeType!=D.Element)throw oe.thrown("Bad node type, expected Element but found "+(null==i.nodeType?"null":A.toString(i.nodeType)));switch(i.nodeName){case"chars":case"pages":if(i.nodeType!=D.Element)throw oe.thrown("Bad node type, expected Element but found "+(null==i.nodeType?"null":A.toString(i.nodeType)));if("chars"==i.nodeName){if(i.nodeType!=D.Element)throw oe.thrown("Bad node type, expected Element but found "+(null==i.nodeType?"null":A.toString(i.nodeType)));n+=X.string(i.nodeName);for(var l=i.attributes();l.hasNext();){var r=l.next(),s=i.get(r);null!=s&&(n=(n+=" ")+X.string(r)+"=","face"==r||"char"==r||"file"==r||-1!=s.indexOf(" ")||-1!=s.indexOf('"')||-1!=s.indexOf("=")?n+=X.string(JSON.stringify(s)):n+=X.string(s))}n+="\n"}for(var h=i.elements();h.hasNext();){var a=h.next();if(a.nodeType!=D.Element)throw oe.thrown("Bad node type, expected Element but found "+(null==a.nodeType?"null":A.toString(a.nodeType)));n+=X.string(a.nodeName);for(var o=a.attributes();o.hasNext();){var c=o.next(),u=a.get(c);null!=u&&(n=(n+=" ")+X.string(c)+"=","face"==c||"char"==c||"file"==c||-1!=u.indexOf(" ")||-1!=u.indexOf('"')||-1!=u.indexOf("=")?n+=X.string(JSON.stringify(u)):n+=X.string(u))}n+="\n"}break;default:if(i.nodeType!=D.Element)throw oe.thrown("Bad node type, expected Element but found "+(null==i.nodeType?"null":A.toString(i.nodeType)));n+=X.string(i.nodeName);for(var _=i.attributes();_.hasNext();){var d=_.next(),b=i.get(d);null!=b&&(n=(n+=" ")+X.string(d)+"=","face"==d||"char"==d||"file"==d||-1!=b.indexOf(" ")||-1!=b.indexOf('"')||-1!=b.indexOf("=")?n+=X.string(JSON.stringify(b)):n+=X.string(b))}n+="\n"}}return n},Xa.convertConstruct3FontData=function(e,n,t){for(var i="",l=e.split("\n"),r=0,s=0,h=0,a="",o=[],c=0;c<l.length;){var u=z.trim(l[c]);if(-1!=u.indexOf("Character width:"))r=X.parseInt(z.trim(u.split(":")[1]));else if(-1!=u.indexOf("Character height:"))s=X.parseInt(z.trim(u.split(":")[1]));else if(-1!=u.indexOf("Character spacing:"))h=X.parseInt(z.trim(u.split(":")[1]));else if("Character set:"==u)for(++c;c<l.length;){var _=z.trim(l[c]);if(0<_.length){a=_;break}++c}else if("Spacing data:"==u&&++c<l.length){u=z.trim(l[c]);try{o=JSON.parse(u)}catch(g){Yi.lastError=g,o=[]}}++c}for(var d,b=Object.create(null),g=0;g<o.length;){var O=o[g];if(++g,2<=O.length)for(var f=0|O[0],p=X.string(O[1]),C=0,v=p.length;C<v;){var w=C++;b[p.charAt(w)]=f}}t=(e=null!=t?(0==(d=Math.floor(t/r))&&(d=1),m=a.length,t):(m=a.length,(d=Math.ceil(Math.sqrt(m)))*r),Math.ceil(m/d)*s),i=(i=(i=(i=(i=(i=(i=(i=(i+='info face="Construct3Font" size=')+X.string(null==s?"null":""+s)+' bold=0 italic=0 charset="" unicode=1 stretchH=100 smooth=0 aa=0 padding=0,0,0,0 spacing=')+X.string(null==h?"null":""+h)+",")+X.string(null==h?"null":""+h)+"\ncommon lineHeight=")+X.string(X.string(s+h))+" base=")+X.string(null==s?"null":""+s)+" scaleW=")+X.string(null==e?"null":""+e)+" scaleH=")+X.string(null==t?"null":""+t)+' pages=1 packed=0\npage id=0 file="')+(null==n?"null":""+n)+'"\n';for(var m=a.length,g=(-1==a.indexOf(" ")&&Object.prototype.hasOwnProperty.call(b," ")&&++m,i=(i+="chars count=")+X.string(null==m?"null":""+m)+"\n",0),C=a.length;g<C;)var c=g++,y=a.charAt(c),U=se.cca(a,c),y=Object.prototype.hasOwnProperty.call(b,y)?b[y]:r,D=c%d*r,T=Math.floor(c/d)*s,i=(i=(i=(i=(i=(i=(i+="char id=")+X.string(null==U?"null":""+U)+" x=")+X.string(null==D?"null":""+D)+" y=")+X.string(null==T?"null":""+T)+" width=")+X.string(null==y?"null":""+y)+" height=")+X.string(null==s?"null":""+s)+" xoffset=0 yoffset=0 xadvance=")+X.string(X.string(y+h))+" page=0\n";return-1==a.indexOf(" ")&&Object.prototype.hasOwnProperty.call(b," ")&&(e=b[" "],t=se.cca(" ",0),i=(i=(i+="char id=")+X.string(null==t?"null":""+t)+" x=0 y=0 width=0 height=0 xoffset=0 yoffset=0 xadvance=")+X.string(X.string(e+h))+" page=0\n"),i},Xa.parseLine=function(e,n){var t=new ue;switch(Xa.extractLineTokens(e,t)){case"char":var i=new Ta(X.parseInt(t.h.id),parseFloat(t.h.x),parseFloat(t.h.y),parseFloat(t.h.width),parseFloat(t.h.height),parseFloat(t.h.xoffset),parseFloat(t.h.yoffset),parseFloat(t.h.xadvance),X.parseInt(t.h.page));n.chars.set(i.id,i);break;case"chars":n.charCount=X.parseInt(t.h.count);break;case"common":n.lineHeight=parseFloat(t.h.lineHeight),n.baseSize=parseFloat(t.h.base);break;case"distanceField":var i=t.h.fieldType,l=X.parseInt(t.h.distanceRange);n.distanceField=new Wa(i,l);break;case"info":var r=(a=t.h.face).length;34==se.cca(a,0)&&34==se.cca(a,r-1)&&(a=a.substring(1,r-1)),n.face=a,n.pointSize=parseFloat(t.h.size),Object.prototype.hasOwnProperty.call(t.h,"smooth")&&(n.smooth="1"==t.h.smooth||"true"==t.h.smooth),Object.prototype.hasOwnProperty.call(t.h,"aa")&&(n.aa="1"==t.h.aa||"true"==t.h.aa);break;case"kerning":var i=X.parseInt(t.h.first),l=X.parseInt(t.h.second),s=parseFloat(t.h.amount),h=n.kernings.get(i);null==h&&(h=new mn,n.kernings.set(i,h)),h.set(l,s);break;case"page":var a,r=(a=t.h.file).length;34==se.cca(a,0)&&34==se.cca(a,r-1)&&(a=a.substring(1,r-1)),n.pages.push(new Va(X.parseInt(t.h.id),z.trim(a)))}},Xa.extractLineTokens=function(e,n){for(var t=0,i=e.length,l=null,r=null,s=null,h=!1;t<i;){var a=se.cca(e,t);if(h){if(92==a?(a=se.cca(e,t),++t):34==a&&(h=!1),null==s)throw oe.thrown("Invalid bitmap font line: "+e);s.b+=X.string(e.charAt(t))}else if(32==a)null!=s&&(null==l?l=s.b:null==r?(r=s.b,n.h[r]=null):n.h[r]=s.b,s=r=null);else if(null==r&&61==a){if(null==s)throw oe.thrown("Invalid bitmap font line: "+e);r=s.b,s=null}else 34==a&&(h=!0),(s=null==s?new y:s).b+=X.string(e.charAt(t));++t}return null!=s&&(null==l?l=s.b:null==r?(r=s.b,n.h[r]=null):n.h[r]=s.b,s=r=null),l},Xa.unquote=function(e){var n=e.length;return e=34==se.cca(e,0)&&34==se.cca(e,n-1)?e.substring(1,n-1):e},Xa.ensureSpaceCharacter=function(e){if(!e.chars.exists(32)){for(var n=!0,t=-1,i=0,l=null!=(O=(d=e.chars).iterableKeys)?O.length:-1;i<l;){var r=i++,s=d.iterableKeys[r],h=d.get(s);if(t<0)t=h.xAdvance;else if(h.xAdvance!=t){n=!1;break}}var a=0;if(n&&0<t)a=t;else{for(var o=[110,101,111,97,114],c=0,u=0;u<o.length;){var _=o[u];++u,e.chars.exists(_)&&(a+=(h=e.chars.get(_)).xAdvance,++c)}if(0<c)a=a/c*.4;else{for(var d,b=0,g=0,i=0,l=null!=(O=(d=e.chars).iterableKeys)?O.length:-1;i<l;){r=i++,s=d.iterableKeys[r];b+=(h=d.get(s)).xAdvance,++g}a=0<g?b/g*.4:e.baseSize/3}}var O=new Ta(32,0,0,0,0,0,0,a,0);e.chars.set(32,O)}},(E["ceramic.Border"]=Ya).__name__="ceramic.Border",Ya.__super__=ya,Ya.prototype=$extend(ya.prototype,{autoComputeVertices:null,set_autoComputeVertices:function(e){return this.autoComputeVertices!=e&&(this.autoComputeVertices=e)&&this.computeVertices(),e},autoComputeColors:null,set_autoComputeColors:function(e){return this.autoComputeColors!=e&&(this.autoComputeColors=e)&&this.computeColors(),e},set_width:function(e){return ya.prototype.set_width.call(this,e),this.autoComputeVertices&&this.computeVertices(),e},set_height:function(e){return ya.prototype.set_height.call(this,e),this.autoComputeVertices&&this.computeVertices(),e},borderPosition:null,set_borderPosition:function(e){return this.borderPosition!=e&&(this.borderPosition=e,this.autoComputeVertices)&&this.computeVertices(),e},borderSize:null,set_borderSize:function(e){return this.borderSize!=e&&(this.borderSize=e,this.autoComputeVertices)&&this.computeVertices(),e},borderTopSize:null,set_borderTopSize:function(e){return this.borderTopSize!=e&&(this.borderTopSize=e,this.autoComputeVertices)&&this.computeVertices(),e},borderBottomSize:null,set_borderBottomSize:function(e){return this.borderBottomSize!=e&&(this.borderBottomSize=e,this.autoComputeVertices)&&this.computeVertices(),e},borderLeftSize:null,set_borderLeftSize:function(e){return this.borderLeftSize!=e&&(this.borderLeftSize=e,this.autoComputeVertices)&&this.computeVertices(),e},borderRightSize:null,set_borderRightSize:function(e){return this.borderRightSize!=e&&(this.borderRightSize=e,this.autoComputeVertices)&&this.computeVertices(),e},borderColor:null,set_borderColor:function(e){return this.borderColor!=e&&(this.borderColor=e,this.autoComputeColors)&&this.computeColors(),e},borderTopColor:null,set_borderTopColor:function(e){return this.borderTopColor!=e&&(this.borderTopColor=e,this.autoComputeColors)&&this.computeColors(),e},borderBottomColor:null,set_borderBottomColor:function(e){return this.borderBottomColor!=e&&(this.borderBottomColor=e,this.autoComputeColors)&&this.computeColors(),e},borderLeftColor:null,set_borderLeftColor:function(e){return this.borderLeftColor!=e&&(this.borderLeftColor=e,this.autoComputeColors)&&this.computeColors(),e},borderRightColor:null,set_borderRightColor:function(e){return this.borderRightColor!=e&&(this.borderRightColor=e,this.autoComputeColors)&&this.computeColors(),e},computeColors:function(){var e=(0|(-1!=this.borderTopColor?this.borderTopColor:this.borderColor))-16777216,e=e&16777215|-16777216,n=(0|(-1!=this.borderBottomColor?this.borderBottomColor:this.borderColor))-16777216&16777215|-16777216,t=(0|(-1!=this.borderLeftColor?this.borderLeftColor:this.borderColor))-16777216&16777215|-16777216,i=(0|(-1!=this.borderRightColor?this.borderRightColor:this.borderColor))-16777216&16777215|-16777216;this.colors[0]=e,this.colors[1]=e,this.colors[2]=e,this.colors[3]=e,this.colors[4]=e,this.colors[5]=e,this.colors[6]=i,this.colors[7]=i,this.colors[8]=i,this.colors[9]=i,this.colors[10]=i,this.colors[11]=i,this.colors[12]=n,this.colors[13]=n,this.colors[14]=n,this.colors[15]=n,this.colors[16]=n,this.colors[17]=n,this.colors[18]=t,this.colors[19]=t,this.colors[20]=t,this.colors[21]=t,this.colors[22]=t,this.colors[23]=t},computeVertices:function(){var e=.5,n=.5,t=(this.borderPosition==Ve.OUTSIDE?(e=1,n=0):this.borderPosition==Ve.INSIDE&&(e=0,n=1),0<=this.borderLeftSize?this.borderLeftSize:this.borderSize),i=e*t,t=n*t,l=0<=this.borderTopSize?this.borderTopSize:this.borderSize,r=e*l,l=n*l,s=0<=this.borderRightSize?this.borderRightSize:this.borderSize,h=e*s,s=n*s,a=0<=this.borderBottomSize?this.borderBottomSize:this.borderSize,e=e*a,n=n*a,a=this.get_width(),o=this.get_height(),c=(this.vertices[0]=-i,this.vertices[1]=-r,a+h);this.vertices[2]=c,this.vertices[3]=-r,this.vertices[4]=t,this.vertices[5]=l,this.vertices[6]=a-s,this.vertices[7]=l,this.vertices[8]=t,this.vertices[9]=o-n,this.vertices[10]=a-s,this.vertices[11]=o-n,this.vertices[12]=-i,this.vertices[13]=o+e,this.vertices[14]=a+h,this.vertices[15]=o+e},__class__:Ya,__properties__:$extend(ya.prototype.__properties__,{set_borderRightColor:"set_borderRightColor",set_borderLeftColor:"set_borderLeftColor",set_borderBottomColor:"set_borderBottomColor",set_borderTopColor:"set_borderTopColor",set_borderColor:"set_borderColor",set_borderRightSize:"set_borderRightSize",set_borderLeftSize:"set_borderLeftSize",set_borderBottomSize:"set_borderBottomSize",set_borderTopSize:"set_borderTopSize",set_borderSize:"set_borderSize",set_borderPosition:"set_borderPosition",set_autoComputeColors:"set_autoComputeColors",set_autoComputeVertices:"set_autoComputeVertices"})}),Oe["ceramic.BorderPosition"]={__ename__:"ceramic.BorderPosition",__constructs__:null,INSIDE:{_hx_name:"INSIDE",_hx_index:0,__enum__:"ceramic.BorderPosition",toString:c},OUTSIDE:{_hx_name:"OUTSIDE",_hx_index:1,__enum__:"ceramic.BorderPosition",toString:c},MIDDLE:{_hx_name:"MIDDLE",_hx_index:2,__enum__:"ceramic.BorderPosition",toString:c}}),Re=(Ve.__constructs__=[Ve.INSIDE,Ve.OUTSIDE,Ve.MIDDLE],function(){this.shadowSize=.1075,this.tilt=1,this.resolution=1,this.curveEasing=Qa.get(.71,0,1,.38),this.filledBottom=0,this.numEllipseIndices=0,this.numEllipseVertices=0,ya.call(this),this.colorMapping=1,this.colors=[],this.set_width(112),this.set_height(162)}),He=((E["ceramic.CeramicLogo"]=Re).__name__="ceramic.CeramicLogo",Re.__super__=ya,Re.prototype=$extend(ya.prototype,{numEllipseVertices:null,numEllipseIndices:null,filledBottom:null,curveEasing:null,resolution:null,set_resolution:function(e){return this.resolution!=e&&(this.resolution=e,this.contentDirty=!0,he.app.visualsContentDirty=!0),e},tilt:null,set_tilt:function(e){return this.tilt!=e&&(this.tilt=e,this.contentDirty=!0,he.app.visualsContentDirty=!0),e},shadowSize:null,set_shadowSize:function(e){return this.shadowSize!=e&&(this.shadowSize=e,this.contentDirty=!0,he.app.visualsContentDirty=!0),e},set_width:function(e){return this.get_width()!=e&&(ya.prototype.set_width.call(this,e),this.contentDirty=!0,he.app.visualsContentDirty=!0),e},set_height:function(e){return this.get_height()!=e&&(ya.prototype.set_height.call(this,e),this.contentDirty=!0,he.app.visualsContentDirty=!0),e},computeContent:function(){if(!(this.get_width()<=0||this.get_height()<=0)){var e=this.colors;if(0!=e.length)if(0<e.length)e.splice(0,e.length);else for(var n=e;n.length<0;)n.push(null);if(0!=(e=this.vertices).length)if(0<e.length)e.splice(0,e.length);else for(n=e;n.length<0;)n.push(null);if(0!=(e=this.indices).length)if(0<e.length)e.splice(0,e.length);else for(n=e;n.length<0;)n.push(null);this.filledBottom=0,this.computeEllipse(8947848),this.computeBottomSection(12500670,this.shadowSize),this.computeBottomSection(16777215,1)}},computeEllipse:function(e){for(var n=this.get_width(),t=2*Math.floor(Math.ceil(.25*n*this.resolution)/2),i=(Math.PI,6.283185307179586/t),l=.5*n,r=.5*n*.095*this.tilt,s=(this.vertices.push(l),this.vertices.push(r),0),h=1+t;s<h;){var a=s++,o=Math.cos(Math.PI+i*a),c=Math.sin(Math.PI+i*a);this.vertices.push((1+o)*l),this.vertices.push((1+c)*r),0<a&&(o=a,this.indices.push(0),this.indices.push(o),this.indices.push(1+o),this.colors.push((0|e)-16777216&16777215|-16777216),this.colors.push((0|e)-16777216&16777215|-16777216),this.colors.push((0|e)-16777216&16777215|-16777216))}this.numEllipseVertices=Math.floor(this.vertices.length/2),this.numEllipseIndices=this.indices.length},computeBottomSection:function(e,n){for(var t=this.get_width(),i=this.get_height(),l=this.vertices[2*this.numEllipseVertices-1],r=this.filledBottom*t,s=n*t,h=-1,a=-1,o=-1,c=-1,u=2*this.numEllipseVertices-2;u>=this.numEllipseVertices&&this.vertices[u]<r;)u-=2;for(a=0==this.filledBottom?(h=u)-2:(h=u+2,u),u=2*this.numEllipseVertices-2;u>=this.numEllipseVertices&&this.vertices[u]<s;)u-=2;for(var c=1==n?(o=u)-2:(o=u+2,u),h=this.vertices[h+1]+(this.vertices[a+1]-this.vertices[h+1])*((r-this.vertices[h])/(this.vertices[a]-this.vertices[h])),c=this.vertices[o+1]+(this.vertices[c+1]-this.vertices[o+1])*((s-this.vertices[o])/(this.vertices[c]-this.vertices[o])),_=.5*t,t=(i-l)*(1-.36*(1+.1*(this.tilt-1))),d=h+t,b=c+t,g=i-d,O=i-b,f=Math.floor(this.vertices.length/2),p=(this.vertices.push(r),this.vertices.push(h),0),u=a;this.vertices.push(this.vertices[u]),this.vertices.push(this.vertices[u+1]),++p,o<=(u-=2););this.vertices.push(s),this.vertices.push(c),this.vertices.push(s),this.vertices.push(b),this.vertices.push(r),this.vertices.push(d);for(var l=this.indices.length,C=(kt._triangulateWithRange(this.vertices,f,p+4,this.indices),f=Math.floor(this.vertices.length/2)-2,0),v=this.indices.length-l;C<v;){C++;y=(y=(0|e)-16777216)&16777215|-16777216,this.colors.push(y)}var w=Math.ceil(.35*Math.max(g,O)*this.resolution);if(0<w)for(C=0,v=w;C<v;){var m,y,U=C++,D=(1+U)/w,D=D+.55*(1-this.curveEasing.ease(1-D)-D),T=d+g*D,x=b+O*D;U<w-1?(m=s+(_-s)*(D=this.curveEasing.ease(D)),this.vertices.push(r+(_-r)*D),this.vertices.push(T),this.vertices.push(m),this.vertices.push(x),0==U?(this.indices.push(f+1),this.indices.push(f),this.indices.push(f+2),this.indices.push(f+2),this.indices.push(f)):(this.indices.push(f),this.indices.push(f+1),this.indices.push(f+2),this.indices.push(f+2),this.indices.push(f+1)),this.indices.push(f+3),f+=2,this.colors.push(y=(0|e)-16777216&16777215|-16777216),this.colors.push((0|e)-16777216&16777215|-16777216),this.colors.push((0|e)-16777216&16777215|-16777216),this.colors.push((0|e)-16777216&16777215|-16777216),this.colors.push((0|e)-16777216&16777215|-16777216),this.colors.push((0|e)-16777216&16777215|-16777216)):(this.vertices.push(_),this.vertices.push(Math.max(T,x)),this.indices.push(f),this.indices.push(f+1),this.indices.push(f+2),f+=2,this.colors.push((0|e)-16777216&16777215|-16777216),this.colors.push((0|e)-16777216&16777215|-16777216),this.colors.push((0|e)-16777216&16777215|-16777216))}this.filledBottom=n},__class__:Re,__properties__:$extend(ya.prototype.__properties__,{set_shadowSize:"set_shadowSize",set_tilt:"set_tilt",set_resolution:"set_resolution"})}),(E["ceramic.Component"]=a0).__name__="ceramic.Component",a0.__isInterface__=!0,a0.prototype={initializerName:null,setEntity:null,getEntity:null,bindAsComponent:null,__class__:a0},(E["ceramic.Click"]=b0).__name__="ceramic.Click",b0.__interfaces__=[s,a0],b0.__super__=j,b0.prototype=$extend(j.prototype,{__cbOnObservedDirty:null,__cbOnceObservedDirty:null,__cbOnOwnerUnbindObservedDirty:null,__cbOnceOwnerUnbindObservedDirty:null,emitObservedDirty:function(e,n){var t=0;if(null!=this.__cbOnObservedDirty&&(t+=this.__cbOnObservedDirty.length),null!=this.__cbOnceObservedDirty&&(t+=this.__cbOnceObservedDirty.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnObservedDirty)for(var s=0,h=this.__cbOnObservedDirty.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnObservedDirty[a],++r):--t}if(null!=this.__cbOnceObservedDirty){for(var o=null,c=null,s=0,h=this.__cbOnceObservedDirty.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceObservedDirty[a],this.__cbOnceObservedDirty[a]=null,u=this.__cbOnceOwnerUnbindObservedDirty[a],(this.__cbOnceOwnerUnbindObservedDirty[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindObservedDirty[a]),c.push(this.__cbOnceObservedDirty[a]))}this.__cbOnceOwnerUnbindObservedDirty=o,this.__cbOnceObservedDirty=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onObservedDirty:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event observedDirty because owner is destroyed!");var l=function(e){null!=t&&(i.offObservedDirty(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push(null);null==this.__cbOnObservedDirty&&(this.__cbOnObservedDirty=[]),this.__cbOnObservedDirty.push(t)},onceObservedDirty:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event observedDirty because owner is destroyed!");var l=function(e){null!=t&&(i.offObservedDirty(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push(null);null==this.__cbOnceObservedDirty&&(this.__cbOnceObservedDirty=[]),this.__cbOnceObservedDirty.push(t)},offObservedDirty:function(e){if(null!=e){var n;null!=this.__cbOnObservedDirty&&-1!=(n=this.__cbOnObservedDirty.indexOf(e))&&(this.__cbOnObservedDirty.splice(n,1),null!=(r=this.__cbOnOwnerUnbindObservedDirty[n])&&r(),this.__cbOnOwnerUnbindObservedDirty.splice(n,1)),null!=this.__cbOnceObservedDirty&&-1!=(n=this.__cbOnceObservedDirty.indexOf(e))&&(this.__cbOnceObservedDirty.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindObservedDirty[n])&&r(),this.__cbOnceOwnerUnbindObservedDirty.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindObservedDirty){for(var t=0,i=this.__cbOnOwnerUnbindObservedDirty.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindObservedDirty[l])&&r()}this.__cbOnOwnerUnbindObservedDirty=null}if(null!=this.__cbOnceOwnerUnbindObservedDirty){for(t=0,i=this.__cbOnceOwnerUnbindObservedDirty.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindObservedDirty[l])&&r()}this.__cbOnceOwnerUnbindObservedDirty=null}this.__cbOnObservedDirty=null,this.__cbOnceObservedDirty=null}},listensObservedDirty:function(){return null!=this.__cbOnObservedDirty&&0<this.__cbOnObservedDirty.length||null!=this.__cbOnceObservedDirty&&0<this.__cbOnceObservedDirty.length},observedDirty:null,__cbOnClick:null,__cbOnceClick:null,__cbOnOwnerUnbindClick:null,__cbOnceOwnerUnbindClick:null,emitClick:function(){var e=0;if(null!=this.__cbOnClick&&(e+=this.__cbOnClick.length),null!=this.__cbOnceClick&&(e+=this.__cbOnceClick.length),0<e){var n=C.pool(e),t=n.get(),i=0;if(null!=this.__cbOnClick)for(var l=0,r=this.__cbOnClick.length;l<r;){var s=l++;!0?(t.vector[i]=this.__cbOnClick[s],++i):--e}if(null!=this.__cbOnceClick){for(var h=null,a=null,l=0,r=this.__cbOnceClick.length;l<r;){var o,s=l++;!0?(t.vector[i]=this.__cbOnceClick[s],this.__cbOnceClick[s]=null,o=this.__cbOnceOwnerUnbindClick[s],(this.__cbOnceOwnerUnbindClick[s]=null)!=o&&o(),++i):(--e,null==h&&(h=[],a=[],0),h.push(this.__cbOnceOwnerUnbindClick[s]),a.push(this.__cbOnceClick[s]))}this.__cbOnceOwnerUnbindClick=h,this.__cbOnceClick=a}for(l=0,r=e;l<r;){i=l++;(0,t.vector[i])()}n.release(t)}},onClick:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event click because owner is destroyed!");var l=function(e){null!=t&&(i.offClick(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindClick&&(this.__cbOnOwnerUnbindClick=[]),this.__cbOnOwnerUnbindClick.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindClick&&(this.__cbOnOwnerUnbindClick=[]),this.__cbOnOwnerUnbindClick.push(null);null==this.__cbOnClick&&(this.__cbOnClick=[]),this.__cbOnClick.push(t)},onceClick:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event click because owner is destroyed!");var l=function(e){null!=t&&(i.offClick(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindClick&&(this.__cbOnceOwnerUnbindClick=[]),this.__cbOnceOwnerUnbindClick.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindClick&&(this.__cbOnceOwnerUnbindClick=[]),this.__cbOnceOwnerUnbindClick.push(null);null==this.__cbOnceClick&&(this.__cbOnceClick=[]),this.__cbOnceClick.push(t)},offClick:function(e){if(null!=e){var n;null!=this.__cbOnClick&&-1!=(n=this.__cbOnClick.indexOf(e))&&(this.__cbOnClick.splice(n,1),null!=(r=this.__cbOnOwnerUnbindClick[n])&&r(),this.__cbOnOwnerUnbindClick.splice(n,1)),null!=this.__cbOnceClick&&-1!=(n=this.__cbOnceClick.indexOf(e))&&(this.__cbOnceClick.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindClick[n])&&r(),this.__cbOnceOwnerUnbindClick.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindClick){for(var t=0,i=this.__cbOnOwnerUnbindClick.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindClick[l])&&r()}this.__cbOnOwnerUnbindClick=null}if(null!=this.__cbOnceOwnerUnbindClick){for(t=0,i=this.__cbOnceOwnerUnbindClick.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindClick[l])&&r()}this.__cbOnceOwnerUnbindClick=null}this.__cbOnClick=null,this.__cbOnceClick=null}},listensClick:function(){return null!=this.__cbOnClick&&0<this.__cbOnClick.length||null!=this.__cbOnceClick&&0<this.__cbOnceClick.length},threshold:null,entity:null,pressedAutoruns:null,get_pressed:function(){var e,n,t=this.unobservedPressed;return null!=U.current&&(e=U.current,null!=(n=this.pressedAutoruns)||(n=U.getAutorunArray(),null!=(this.pressedAutoruns=n)))&&e.bindToAutorunArray(n),t},set_pressed:function(e){var n=this.unobservedPressed;return n!=(this.unobservedPressed=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitPressedChange(e,n),null!=(n=this.pressedAutoruns))&&(this.pressedAutoruns=null,U.invalidateAutorunArray(n)),e},invalidatePressed:function(){var e=this.unobservedPressed,e=(this.emitPressedChange(e,e),this.pressedAutoruns);null!=e&&(this.pressedAutoruns=null,U.invalidateAutorunArray(e))},unobservedPressed:null,__cbOnPressedChange:null,__cbOncePressedChange:null,__cbOnOwnerUnbindPressedChange:null,__cbOnceOwnerUnbindPressedChange:null,emitPressedChange:function(e,n){var t=0;if(null!=this.__cbOnPressedChange&&(t+=this.__cbOnPressedChange.length),null!=this.__cbOncePressedChange&&(t+=this.__cbOncePressedChange.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnPressedChange)for(var s=0,h=this.__cbOnPressedChange.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnPressedChange[a],++r):--t}if(null!=this.__cbOncePressedChange){for(var o=null,c=null,s=0,h=this.__cbOncePressedChange.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOncePressedChange[a],this.__cbOncePressedChange[a]=null,u=this.__cbOnceOwnerUnbindPressedChange[a],(this.__cbOnceOwnerUnbindPressedChange[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindPressedChange[a]),c.push(this.__cbOncePressedChange[a]))}this.__cbOnceOwnerUnbindPressedChange=o,this.__cbOncePressedChange=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onPressedChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event pressedChange because owner is destroyed!");var l=function(e){null!=t&&(i.offPressedChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindPressedChange&&(this.__cbOnOwnerUnbindPressedChange=[]),this.__cbOnOwnerUnbindPressedChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindPressedChange&&(this.__cbOnOwnerUnbindPressedChange=[]),this.__cbOnOwnerUnbindPressedChange.push(null);null==this.__cbOnPressedChange&&(this.__cbOnPressedChange=[]),this.__cbOnPressedChange.push(t)},oncePressedChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event pressedChange because owner is destroyed!");var l=function(e){null!=t&&(i.offPressedChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindPressedChange&&(this.__cbOnceOwnerUnbindPressedChange=[]),this.__cbOnceOwnerUnbindPressedChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindPressedChange&&(this.__cbOnceOwnerUnbindPressedChange=[]),this.__cbOnceOwnerUnbindPressedChange.push(null);null==this.__cbOncePressedChange&&(this.__cbOncePressedChange=[]),this.__cbOncePressedChange.push(t)},offPressedChange:function(e){if(null!=e){var n;null!=this.__cbOnPressedChange&&-1!=(n=this.__cbOnPressedChange.indexOf(e))&&(this.__cbOnPressedChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindPressedChange[n])&&r(),this.__cbOnOwnerUnbindPressedChange.splice(n,1)),null!=this.__cbOncePressedChange&&-1!=(n=this.__cbOncePressedChange.indexOf(e))&&(this.__cbOncePressedChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindPressedChange[n])&&r(),this.__cbOnceOwnerUnbindPressedChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindPressedChange){for(var t=0,i=this.__cbOnOwnerUnbindPressedChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindPressedChange[l])&&r()}this.__cbOnOwnerUnbindPressedChange=null}if(null!=this.__cbOnceOwnerUnbindPressedChange){for(t=0,i=this.__cbOnceOwnerUnbindPressedChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindPressedChange[l])&&r()}this.__cbOnceOwnerUnbindPressedChange=null}this.__cbOnPressedChange=null,this.__cbOncePressedChange=null}},listensPressedChange:function(){return null!=this.__cbOnPressedChange&&0<this.__cbOnPressedChange.length||null!=this.__cbOncePressedChange&&0<this.__cbOncePressedChange.length},pointerStartX:null,pointerStartY:null,bindAsComponent:function(){this.entity.onPointerDown(this,$bind(this,this.handlePointerDown)),this.entity.onPointerUp(this,$bind(this,this.handlePointerUp)),this.entity.onBlur(this,$bind(this,this.handleBlur))},cancel:function(){this.set_pressed(!1)},handlePointerDown:function(e){this.pointerStartX=he.app.screen.pointerX,this.pointerStartY=he.app.screen.pointerY,this.set_pressed(!0),he.app.screen.onPointerMove(this,$bind(this,this.handlePointerMove))},handlePointerUp:function(e){this.get_pressed()&&(this.set_pressed(!1),this.entity._hits(e.x,e.y,!1))&&this.emitClick()},handlePointerMove:function(e){-1!=this.threshold&&(Math.abs(he.app.screen.pointerX-this.pointerStartX)>this.threshold||Math.abs(he.app.screen.pointerY-this.pointerStartY)>this.threshold)&&(he.app.screen.offPointerMove($bind(this,this.handlePointerMove)),this.set_pressed(!1))},handleBlur:function(){this.set_pressed(!1)},unbindEvents:function(){j.prototype.unbindEvents.call(this),this.offObservedDirty(),this.offPressedChange(),this.offClick()},setEntity:function(e){this.entity=e instanceof o?e:null},getEntity:function(){return this.entity},initializerName:null,__class__:b0,__properties__:$extend(j.prototype.__properties__,{set_pressed:"set_pressed",get_pressed:"get_pressed"})}),function(){this.combinedCollectionLastChanges=null,this.combinedCollections=null,this.filter=null,this.byId=null,this.entriesDirty=!1,this.indexDirty=!0,this.entries=[],this.lastChange=0,this.internalId=He._nextInternalId++}),Ne=((E["ceramic.CollectionImpl"]=He).__name__="ceramic.CollectionImpl",He.__interfaces__=[i],He.prototype={internalId:null,lastChange:null,entries:null,indexDirty:null,entriesDirty:null,byId:null,filter:null,combinedCollections:null,combinedCollectionLastChanges:null,get_length:function(){if(null!=this.combinedCollections&&He._lastCheckedCombined!=this){for(var e=0,n=this.combinedCollections.length;e<n;){var t=e++,i=this.combinedCollections[t];if(this.combinedCollectionLastChanges[t]!=i.lastChange){this.entriesDirty=!0;break}}He._lastCheckedCombined=this}return this.entriesDirty&&this.computeEntries(),this.entries.length},pushAll:function(e){for(var n=0;n<e.length;){var t=e[n];++n,this.entries.push(t)}this.indexDirty=!0,this.lastChange=999999999<this.lastChange?-999999999:this.lastChange+1,He._lastCheckedCombined=null},clear:function(){var e=this.entries.length;0<e&&this.entries.splice(0,e),this.indexDirty=!0,this.lastChange=999999999<this.lastChange?-999999999:this.lastChange+1,He._lastCheckedCombined=null},push:function(e){this.entries.push(e),this.indexDirty=!0,this.lastChange=999999999<this.lastChange?-999999999:this.lastChange+1,He._lastCheckedCombined=null},remove:function(e){se.remove(this.entries,e),this.indexDirty=!0,this.lastChange=999999999<this.lastChange?-999999999:this.lastChange+1,He._lastCheckedCombined=null},synchronize:function(){this.entriesDirty&&this.computeEntries(),this.indexDirty&&this.computeIndex()},get:function(e){if(null==e)throw oe.thrown("Cannot get a collection entry with a null id!");if(null!=this.combinedCollections&&He._lastCheckedCombined!=this){for(var n=0,t=this.combinedCollections.length;n<t;){var i=n++,l=this.combinedCollections[i];if(this.combinedCollectionLastChanges[i]!=l.lastChange){this.entriesDirty=!0;break}}He._lastCheckedCombined=this}return this.entriesDirty&&this.computeEntries(),this.indexDirty&&this.computeIndex(),this.byId.h[e]},getByIndex:function(e){if(null!=this.combinedCollections&&He._lastCheckedCombined!=this){for(var n=0,t=this.combinedCollections.length;n<t;){var i=n++,l=this.combinedCollections[i];if(this.combinedCollectionLastChanges[i]!=l.lastChange){this.entriesDirty=!0;break}}He._lastCheckedCombined=this}return this.entriesDirty&&this.computeEntries(),this.entries[e]},indexOfId:function(e){e=this.get(e);return null==e?-1:this.indexOf(e)},indexOf:function(e){if(null!=this.combinedCollections&&He._lastCheckedCombined!=this){for(var n=0,t=this.combinedCollections.length;n<t;){var i=n++,l=this.combinedCollections[i];if(this.combinedCollectionLastChanges[i]!=l.lastChange){this.entriesDirty=!0;break}}He._lastCheckedCombined=this}return this.entriesDirty&&this.computeEntries(),this.entries.indexOf(e)},iterator:function(){if(null!=this.combinedCollections&&He._lastCheckedCombined!=this){for(var e=0,n=this.combinedCollections.length;e<n;){var t=e++,i=this.combinedCollections[t];if(this.combinedCollectionLastChanges[t]!=i.lastChange){this.entriesDirty=!0;break}}He._lastCheckedCombined=this}return this.entriesDirty&&this.computeEntries(),new al(this.entries)},checkCombined:function(){if(null!=this.combinedCollections&&He._lastCheckedCombined!=this){for(var e=0,n=this.combinedCollections.length;e<n;){var t=e++,i=this.combinedCollections[t];if(this.combinedCollectionLastChanges[t]!=i.lastChange){this.entriesDirty=!0;break}}He._lastCheckedCombined=this}},computeIndex:function(){this.entriesDirty&&this.computeEntries(),this.byId=new ue;for(var e=0,n=this.entries;e<n.length;){var t=n[e];++e,Object.prototype.hasOwnProperty.call(this.byId.h,t.id)||(this.byId.h[t.id]=t)}this.indexDirty=!1},computeEntries:function(){this.entries=[];for(var e=0,n=this.combinedCollections.length;e<n;){var t=e++,i=this.combinedCollections[t];if(null!=i.combinedCollections&&He._lastCheckedCombined!=i){for(var l=0,r=i.combinedCollections.length;l<r;){var s=l++,h=i.combinedCollections[s];if(i.combinedCollectionLastChanges[s]!=h.lastChange){i.entriesDirty=!0;break}}He._lastCheckedCombined=i}i.entriesDirty&&i.computeEntries();for(var a=0,o=i.entries;a<o.length;){var c=o[a++];this.entries.push(c)}this.combinedCollectionLastChanges[t]=i.lastChange}null!=this.filter&&(this.entries=this.filter(this.entries)),this.entriesDirty=!1,this.indexDirty=!0,He._lastCheckedCombined!=this&&(He._lastCheckedCombined=null)},__class__:He,__properties__:{get_length:"get_length"}},(E["ceramic.CollectionEntry"]=e0).__name__="ceramic.CollectionEntry",e0.prototype={id:null,name:null,index:null,setRawData:function(e){for(var n=Ul.getClass(this),t=n.__name__,i=sn.types(t),t=i.h,l=Object.keys(t),r=l.length,s=0;s<r;){var h=l[s++],a=i.h[h];if(Object.prototype.hasOwnProperty.call(e,h)){var o=K.field(e,h),c=null;if(!this.setRawField(h,o)){var u=n.__name__;if(hn._hasMeta(n,u,h,"skipEmpty",!0)){if(null==o)continue;if("string"==typeof o)if(0==o.length)continue}if(null==a){var _=z.trim((""+X.string(o)).toLowerCase()),d=Oe[a];if(null!=d){for(var b=0,g=d.__constructs__,O=new Array(g.length),f=0,p=g.length;f<p;){var C=f++;O[C]=g[C]._hx_name}for(var v=O;b<v.length;){var w=v[b];if(++b,w.toLowerCase()==_){c=B.createEnum(d,w);break}}}}else switch(a){case"Bool":c="boolean"==typeof o?o:""!=(o=z.trim((""+X.string(o)).toLowerCase()))&&"0"!=o&&"false"!=o&&"no"!=o;break;case"Float":"number"==typeof o&&(0|o)===o||"number"==typeof o?c=o:null!=(c=parseFloat(z.replace(""+X.string(o),",",".")))&&!isNaN(c)||(c=0);break;case"String":c=null==o||"null"==o?null:""+X.string(o);break;case"Int":case"ceramic.Color":"number"==typeof o&&(0|o)===o||"number"==typeof o?c=0|o:null!=(c=X.parseInt(""+X.string(o)))&&!isNaN(c)||(c=0);break;default:var m=z.trim((""+X.string(o)).toLowerCase()),y=Oe[a];if(null!=y){for(var U=0,D=y.__constructs__,T=new Array(D.length),x=0,S=D.length;x<S;){var A=x++;T[A]=D[A]._hx_name}for(var k=T;U<k.length;){var I=k[U];if(++U,I.toLowerCase()==m){c=B.createEnum(y,I);break}}}}this[h]=c}}}},setRawField:function(e,n){return!1},__class__:e0},(E["ceramic.View"]=f0).__name__="ceramic.View",f0.requestLayout=function(){f0._layoutRequested||(f0._layoutRequested=!0,f0._layouting)||he.app._oncePostFlushImmediate(function(){f0._updateViewsLayout(0)},!0)},f0._updateViewsLayout=function(e){f0._layoutRequested=!1;for(var n=!(f0._layouting=!0),t=0,i=f0._allViews.length;t<i;){var l=t++;if((a=f0._allViews[l]).layoutDirty){n=!0;break}}var r=[].concat(f0._allViews);if(n){for(t=0,i=r.length;t<i;)if((a=r[l=t++]).layoutDirty&&a.layoutDependsOnParent())for(var s=a,h=s.get_parentView();null!=h&&((s=h).layoutDirty=!0,s.layoutDependsOnParent());)h=s.get_parentView();for(t=0,i=f0._allViews.length;t<i;){l=t++;(a=f0._allViews[l]).shouldResetComputedSize()&&a.resetComputedSize()}for(t=0,i=r.length;t<i;){var a=r[l=t++];f0._layoutParentThenSelf(a)}for(t=0,i=r.length;t<i;){a=r[l=t++];f0._layoutParentThenSelf(a)}}f0._layouting=!1,f0._layoutRequested&&he.app._oncePostFlushImmediate(function(){f0._updateViewsLayout(0)},!0)},f0._markParentsAsLayoutDirtyIfNeeded=function(e){if(e.layoutDirty&&e.layoutDependsOnParent())for(var n=e,t=n.get_parentView();null!=t&&((n=t).layoutDirty=!0,n.layoutDependsOnParent());)t=n.get_parentView()},f0._layoutParentThenSelf=function(e){var n=e.get_parentView();null!=n&&f0._layoutParentThenSelf(n),e.layoutDirty&&e.canLayout&&(e.emitLayout(),e.layoutDirty=!1)},f0.__super__=q,f0.prototype=$extend(q.prototype,{__cbOnLayout:null,__cbOnceLayout:null,__cbOnOwnerUnbindLayout:null,__cbOnceOwnerUnbindLayout:null,emitLayout:function(){this.updateBorder(),this.layout();var e=0;if(null!=this.__cbOnLayout&&(e+=this.__cbOnLayout.length),null!=this.__cbOnceLayout&&(e+=this.__cbOnceLayout.length),0<e){var n=C.pool(e),t=n.get(),i=0;if(null!=this.__cbOnLayout)for(var l=0,r=this.__cbOnLayout.length;l<r;){var s=l++;!0?(t.vector[i]=this.__cbOnLayout[s],++i):--e}if(null!=this.__cbOnceLayout){for(var h=null,a=null,l=0,r=this.__cbOnceLayout.length;l<r;){var o,s=l++;!0?(t.vector[i]=this.__cbOnceLayout[s],this.__cbOnceLayout[s]=null,o=this.__cbOnceOwnerUnbindLayout[s],(this.__cbOnceOwnerUnbindLayout[s]=null)!=o&&o(),++i):(--e,null==h&&(h=[],a=[],0),h.push(this.__cbOnceOwnerUnbindLayout[s]),a.push(this.__cbOnceLayout[s]))}this.__cbOnceOwnerUnbindLayout=h,this.__cbOnceLayout=a}for(l=0,r=e;l<r;){i=l++;(0,t.vector[i])()}n.release(t)}},onLayout:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event layout because owner is destroyed!");var l=function(e){null!=t&&(i.offLayout(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindLayout&&(this.__cbOnOwnerUnbindLayout=[]),this.__cbOnOwnerUnbindLayout.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindLayout&&(this.__cbOnOwnerUnbindLayout=[]),this.__cbOnOwnerUnbindLayout.push(null);null==this.__cbOnLayout&&(this.__cbOnLayout=[]),this.__cbOnLayout.push(t)},onceLayout:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event layout because owner is destroyed!");var l=function(e){null!=t&&(i.offLayout(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindLayout&&(this.__cbOnceOwnerUnbindLayout=[]),this.__cbOnceOwnerUnbindLayout.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindLayout&&(this.__cbOnceOwnerUnbindLayout=[]),this.__cbOnceOwnerUnbindLayout.push(null);null==this.__cbOnceLayout&&(this.__cbOnceLayout=[]),this.__cbOnceLayout.push(t)},offLayout:function(e){if(null!=e){var n;null!=this.__cbOnLayout&&-1!=(n=this.__cbOnLayout.indexOf(e))&&(this.__cbOnLayout.splice(n,1),null!=(r=this.__cbOnOwnerUnbindLayout[n])&&r(),this.__cbOnOwnerUnbindLayout.splice(n,1)),null!=this.__cbOnceLayout&&-1!=(n=this.__cbOnceLayout.indexOf(e))&&(this.__cbOnceLayout.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindLayout[n])&&r(),this.__cbOnceOwnerUnbindLayout.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindLayout){for(var t=0,i=this.__cbOnOwnerUnbindLayout.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindLayout[l])&&r()}this.__cbOnOwnerUnbindLayout=null}if(null!=this.__cbOnceOwnerUnbindLayout){for(t=0,i=this.__cbOnceOwnerUnbindLayout.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindLayout[l])&&r()}this.__cbOnceOwnerUnbindLayout=null}this.__cbOnLayout=null,this.__cbOnceLayout=null}},listensLayout:function(){return null!=this.__cbOnLayout&&0<this.__cbOnLayout.length||null!=this.__cbOnceLayout&&0<this.__cbOnceLayout.length},subviews:null,computedSize:null,viewWidth:null,set_viewWidth:function(e){return this.viewWidth!=e&&(this.viewWidth=e,this.layoutDirty=!0),e},viewHeight:null,set_viewHeight:function(e){return this.viewHeight!=e&&(this.viewHeight=e,this.layoutDirty=!0),e},viewSize:function(e,n){this.set_viewWidth(e),this.set_viewHeight(n)},padding:function(e,n,t,i){null==n&&null==t&&null==i?i=t=n=e:null==t&&null==i?(t=e,i=n):(null==n&&(n=e),null==t&&(t=e),null==i&&(i=e)),this.set_paddingLeft(i),this.set_paddingTop(e),this.set_paddingRight(n),this.set_paddingBottom(t)},paddingLeft:null,set_paddingLeft:function(e){return this.paddingLeft!=e&&(this.paddingLeft=e,this.layoutDirty=!0),e},paddingRight:null,set_paddingRight:function(e){return this.paddingRight!=e&&(this.paddingRight=e,this.layoutDirty=!0),e},paddingTop:null,set_paddingTop:function(e){return this.paddingTop!=e&&(this.paddingTop=e,this.layoutDirty=!0),e},paddingBottom:null,set_paddingBottom:function(e){return this.paddingBottom!=e&&(this.paddingBottom=e,this.layoutDirty=!0),e},offset:function(e,n){this.set_offsetX(e),this.set_offsetY(n)},offsetX:null,set_offsetX:function(e){return this.offsetX!=e&&(this.offsetX=e,this.layoutDirty=!0),e},offsetY:null,set_offsetY:function(e){return this.offsetY!=e&&(this.offsetY=e,this.layoutDirty=!0),e},flex:null,set_flex:function(e){return this.flex!=e&&(this.flex=e,this.layoutDirty=!0),e},canLayout:null,layoutDirty:null,border:null,borderDepth:null,set_borderDepth:function(e){return this.borderDepth!=e&&(this.borderDepth=e,null!=this.border)&&this.border.set_depth(e),e},borderAlpha:null,set_borderAlpha:function(e){return this.borderAlpha!=e&&(this.borderAlpha=e,null!=this.border)&&this.border.set_alpha(e),e},borderPosition:null,set_borderPosition:function(e){return this.borderPosition!=e&&(this.borderPosition=e,0<this.borderSize||0<this.borderTopSize||0<this.borderBottomSize||0<this.borderLeftSize||0<this.borderRightSize)&&this.updateBorder(),e},borderSize:null,set_borderSize:function(e){return this.borderSize!=e&&(this.borderSize=e,this.updateBorder()),e},borderTopSize:null,set_borderTopSize:function(e){return this.borderTopSize!=e&&(this.borderTopSize=e,this.updateBorder()),e},borderBottomSize:null,set_borderBottomSize:function(e){return this.borderBottomSize!=e&&(this.borderBottomSize=e,this.updateBorder()),e},borderLeftSize:null,set_borderLeftSize:function(e){return this.borderLeftSize!=e&&(this.borderLeftSize=e,this.updateBorder()),e},borderRightSize:null,set_borderRightSize:function(e){return this.borderRightSize!=e&&(this.borderRightSize=e,this.updateBorder()),e},borderColor:null,set_borderColor:function(e){return this.borderColor!=e&&(this.borderColor=e,0<this.borderSize||0<this.borderTopSize||0<this.borderBottomSize||0<this.borderLeftSize||0<this.borderRightSize)&&this.updateBorder(),e},borderTopColor:null,set_borderTopColor:function(e){return this.borderTopColor!=e&&(this.borderTopColor=e,0<this.borderSize||0<this.borderTopSize)&&this.updateBorder(),e},borderBottomColor:null,set_borderBottomColor:function(e){return this.borderBottomColor!=e&&(this.borderBottomColor=e,0<this.borderSize||0<this.borderBottomSize)&&this.updateBorder(),e},borderLeftColor:null,set_borderLeftColor:function(e){return this.borderLeftColor!=e&&(this.borderLeftColor=e,0<this.borderSize||0<this.borderLeftSize)&&this.updateBorder(),e},borderRightColor:null,set_borderRightColor:function(e){return this.borderRightColor!=e&&(this.borderRightColor=e,0<this.borderSize||0<this.borderRightSize)&&this.updateBorder(),e},shouldDisplayBorder:function(){return 0<this.borderSize||0<this.borderTopSize||0<this.borderBottomSize||0<this.borderLeftSize||0<this.borderRightSize},initBorder:function(){this.border=new Ya,this.add(this.border)},updateBorder:function(){var e,n,t;0<this.borderSize||0<this.borderTopSize||0<this.borderBottomSize||0<this.borderLeftSize||0<this.borderRightSize?(null==this.border&&this.initBorder(),this.border.set_depth(this.borderDepth),this.border.set_alpha(this.borderAlpha),0!=(t=this.border).autoComputeVertices&&(t.autoComputeVertices=!1),0!=(t=this.border).autoComputeColors&&(t.autoComputeColors=!1),t=this.border,e=this.borderColor,t.borderColor!=e&&(t.borderColor=e,t.autoComputeColors)&&t.computeColors(),t=this.border,e=this.borderTopColor,t.borderTopColor!=e&&(t.borderTopColor=e,t.autoComputeColors)&&t.computeColors(),t=this.border,e=this.borderBottomColor,t.borderBottomColor!=e&&(t.borderBottomColor=e,t.autoComputeColors)&&t.computeColors(),t=this.border,e=this.borderLeftColor,t.borderLeftColor!=e&&(t.borderLeftColor=e,t.autoComputeColors)&&t.computeColors(),t=this.border,e=this.borderRightColor,t.borderRightColor!=e&&(t.borderRightColor=e,t.autoComputeColors)&&t.computeColors(),t=this.border,e=this.borderPosition,t.borderPosition!=e&&(t.borderPosition=e,t.autoComputeVertices)&&t.computeVertices(),t=this.border,e=this.borderSize,t.borderSize!=e&&(t.borderSize=e,t.autoComputeVertices)&&t.computeVertices(),t=this.border,e=this.borderTopSize,t.borderTopSize!=e&&(t.borderTopSize=e,t.autoComputeVertices)&&t.computeVertices(),t=this.border,e=this.borderBottomSize,t.borderBottomSize!=e&&(t.borderBottomSize=e,t.autoComputeVertices)&&t.computeVertices(),t=this.border,e=this.borderLeftSize,t.borderLeftSize!=e&&(t.borderLeftSize=e,t.autoComputeVertices)&&t.computeVertices(),t=this.border,e=this.borderRightSize,t.borderRightSize!=e&&(t.borderRightSize=e,t.autoComputeVertices)&&t.computeVertices(),t=this.border,e=this.get_width(),n=this.get_height(),t.set_width(e),t.set_height(n),1!=(t=this.border).autoComputeVertices&&(t.autoComputeVertices=!0,t.computeVertices()),1!=(t=this.border).autoComputeColors&&(t.autoComputeColors=!0,t.computeColors()),(t=this.border).set_anchorX(0),t.set_anchorY(0),(t=this.border).set_x(0),t.set_y(0)):null!=this.border&&(this.border.destroy(),this.border=null)},persistedComputedSizes:null,persistedComputedSizeForContext:function(e,n,t){var i=null;if(null!=this.computedSize&&this.computedSize.parentWidth==e&&this.computedSize.parentHeight==n&&this.computedSize.parentLayoutMask==t)i=this.computedSize;else for(var l=0,r=this.persistedComputedSizes.length;l<r;){var s=l++,s=this.persistedComputedSizes[s];if(s.parentWidth==e&&s.parentHeight==n&&s.parentLayoutMask==t){i=s;break}}return i},persistComputedSize:function(e,n,t,i,l){i!=Ye.NO_SIZE&&l!=Ye.NO_SIZE&&(null==(r=this.persistedComputedSizeForContext(e,n,t))&&((r=Ye.get()).parentWidth=e,r.parentHeight=n,r.parentLayoutMask=t),r.computedWidth=i,r.computedHeight=l,this.computedSize=r);var r,e=this.computedSize;return e.parentWidth==Ye.NO_SIZE&&e.parentHeight==Ye.NO_SIZE&&e.recycle(),this.computedSize},assignComputedSize:function(e,n){var t=this.computedSize;return(t=null==t||t.parentWidth!=Ye.NO_SIZE&&t.parentHeight!=Ye.NO_SIZE?Ye.get():t).parentWidth=Ye.NO_SIZE,t.parentHeight=Ye.NO_SIZE,t.computedWidth=e,t.computedHeight=n,this.computedSize=t},hasPersistentComputedSizeWithContext:function(e,n,t){return null!=this.persistedComputedSizeForContext(e,n,t)},resetComputedSize:function(e){for(null==e&&(e=!1),this.computedSize=null;0<this.persistedComputedSizes.length;)this.persistedComputedSizes.pop().recycle();if(e&&null!=this.subviews)for(var n=0,t=this.subviews.length;n<t;){var i=n++;this.subviews[i].resetComputedSize(!0)}},shouldResetComputedSize:function(){var e=!1;if(this.layoutDirty)e=!0;else for(var n=this.get_parentView();null!=n;){if(n.layoutDirty){e=!0;break}n=n.get_parentView()}return e},layoutDependsOnParent:function(){var e,n=!1;return n=-39999.9<this.viewWidth&&-39999.9<this.viewHeight&&(null==this.computedSize||!(this.computedSize.parentWidth==Ye.NO_SIZE||!((e=this.viewWidth)<-39999.9&&-60000.1<e)||this.computedSize.parentHeight==Ye.NO_SIZE||!((e=this.viewHeight)<-39999.9&&-60000.1<e)))?n:!0},set_active:function(e){return 1!=(1&this.flags)!=e&&(q.prototype.set_active.call(this,e),this.layoutDirty=!0),e},set_width:function(e){if(this._width!=e){if(this._width=e,this.layoutDirty=!0,0!=this.anchorX&&(this.matrixDirty=!0,null!=this.children))for(var n=0,t=this.children.length;n<t;){var i=n++,l=this.children[i];if(l.matrixDirty=!0,null!=l.children)for(var r=0,s=l.children.length;r<s;){var h=r++;l.children[h].set_matrixDirty(!0)}}0<this.borderSize&&this.updateBorder(),this.sizeDirty||(this.sizeDirty=!0,he.app._onceImmediate($bind(this,this.emitResizeIfNeeded)))}return e},set_height:function(e){if(this._height!=e){if(this._height=e,this.layoutDirty=!0,0!=this.anchorY&&(this.matrixDirty=!0,null!=this.children))for(var n=0,t=this.children.length;n<t;){var i=n++,l=this.children[i];if(l.matrixDirty=!0,null!=l.children)for(var r=0,s=l.children.length;r<s;){var h=r++;l.children[h].set_matrixDirty(!0)}}0<this.borderSize&&this.updateBorder(),this.sizeDirty||(this.sizeDirty=!0,he.app._onceImmediate($bind(this,this.emitResizeIfNeeded)))}return e},set_depth:function(e){return this.depth!=e&&(q.prototype.set_depth.call(this,e),0<this.borderSize)&&this.updateBorder(),e},set_depthRange:function(e){return this.depthRange!=e&&(q.prototype.set_depthRange.call(this,e),0<this.borderSize)&&this.updateBorder(),e},add:function(e){q.prototype.add.call(this,e),e instanceof f0&&(e=e,null==this.subviews&&(this.subviews=[]),this.subviews.push(e),e.layoutDirty=!0),this.layoutDirty=!0},addBefore:function(e,n){if(q.prototype.addBefore.call(this,e,n),e instanceof f0){null==this.subviews&&(this.subviews=[]);for(var t=this.children.indexOf(n),i=0,l=0,r=this.subviews.length;l<r;){var s=l++,h=this.subviews[s];if(t<=this.children.indexOf(h)){i=s;break}i=1+s}this.subviews.splice(i,0,e),e.layoutDirty=!0}this.layoutDirty=!0},addAfter:function(e,n){if(q.prototype.addAfter.call(this,e,n),e instanceof f0){null==this.subviews&&(this.subviews=[]);for(var t=this.children.indexOf(n),i=this.subviews.length,l=0,r=this.subviews.length;l<r;){var s=l++,h=this.subviews[s];if(t<this.children.indexOf(h)){i=s;break}}this.subviews.splice(i,0,e),e.layoutDirty=!0}this.layoutDirty=!0},remove:function(e){q.prototype.remove.call(this,e),e instanceof f0&&(this.subviews.splice(this.subviews.indexOf(e=e),1),e.layoutDirty=!0),this.layoutDirty=!0},autorun:function(e,n){var t,i=this;return n=null==n?$bind(this,this._immediateAutorunLayout):(t=n,function(){t(),i._immediateAutorunLayout()}),q.prototype.autorun.call(this,e,n)},_immediateAutorunLayout:function(){he.app._onceImmediate($bind(this,this._autorunLayout))},_autorunLayout:function(){this.layoutDirty=!0,f0.requestLayout()},customParentView:null,get_parentView:function(){return null!=this.customParentView?this.customParentView:this.parent instanceof f0?this.parent:null},vIndex:null,destroy:function(){if(!(this._lifecycleState<=-2)&&(this._lifecycleState=-2,f0._allViews.splice(f0._allViews.indexOf(this),1),this._lifecycleState=-1,q.prototype.destroy.call(this),this.canLayout=!1,(this.customParentView=null)!=this.persistedComputedSizes))for(var e=this.persistedComputedSizes,n=(this.persistedComputedSizes=null,0),t=e.length;n<t;)e[n++].recycle()},removeAllViews:function(){if(null!=this.subviews){for(var e=this.subviews.length,n=C.pool(e),t=n.get(),i=0,l=e;i<l;){var r=i++;t.vector[r]=this.subviews[r]}for(i=0,l=e;i<l;){var r=i++,s=t.vector[r];this.remove(s)}n.release(t),this.subviews=null}},autoComputeSize:function(e){null==e&&(e=!1),this.computeSize(0,0,15,!0),e&&null!=this.computedSize&&(e=this.computedSize.computedHeight,this.set_width(this.computedSize.computedWidth),this.set_height(e))},autoComputeSizeIfNeeded:function(e){null==e&&(e=!1);this.computedSize=this.persistedComputedSizeForContext(0,0,15),null==this.computedSize&&this.computeSize(0,0,15,!0),e&&null!=this.computedSize&&(e=this.computedSize.computedHeight,this.set_width(this.computedSize.computedWidth),this.set_height(e))},applyComputedSize:function(){var e;null!=this.computedSize&&(e=this.computedSize.computedHeight,this.set_width(this.computedSize.computedWidth),this.set_height(e))},computeSizeWithIntrinsicBounds:function(e,n,t,i,l,r){var s,h,a,o=Ye.NO_SIZE,c=Ye.NO_SIZE,u=(null!=this.computedSize&&(o=this.computedSize.computedWidth,c=this.computedSize.computedHeight),e-this.paddingLeft-this.paddingRight),_=n-this.paddingTop-this.paddingBottom,d=1,b=this.viewWidth,g=!(-60001.1<b&&b<-60000.9),b=!(-60001.1<(b=this.viewHeight)&&b<-60000.9);return g||((null==(a=null)?1==(1&t):(t=a?1|t:-2&t,a))||u<o&&(o=u),null==(a=null)?2==(2&t):(t=a?2|t:-3&t,a))||o<u&&(o=u),b||((null==(a=null)?4==(4&t):(t=a?4|t:-5&t,a))||_<c&&(c=_),null==(a=null)?8==(8&t):(t=a?8|t:-9&t,a))||c<_&&(c=_),0<l&&0<r&&(g||b?g&&!b?((c-=this.paddingTop+this.paddingBottom)<(h=o*r/l)&&(null==(a=null)?4==(4&t):(t=a?4|t:-5&t,a))||h<c&&(null==(a=null)?8==(8&t):(t=a?8|t:-9&t,a)))&&(c=h):!g&&b?((o-=this.paddingLeft+this.paddingRight)<(s=c*l/r)&&(null==(a=null)?1==(1&t):(t=a?1|t:-2&t,a))||s<o&&(null==(a=null)?2==(2&t):(t=a?2|t:-3&t,a)))&&(o=s):g&&b&&(o-=this.paddingLeft+this.paddingRight,c-=this.paddingTop+this.paddingBottom):(c<(h=(o=o<(s=c*l/r)&&(null==(a=null)?1==(1&t):(t=a?1|t:-2&t,a))||s<o&&(null==(a=null)?2==(2&t):(t=a?2|t:-3&t,a))?s:o)*r/l)&&(null==(a=null)?4==(4&t):(t=a?4|t:-5&t,a))||h<c&&(null==(a=null)?8==(8&t):(t=a?8|t:-9&t,a)))&&(c=h),d=Math.min(o/l,c/r),o+=this.paddingLeft+this.paddingRight,c+=this.paddingTop+this.paddingBottom),i?this.persistComputedSize(e,n,t,o,c):this.assignComputedSize(o,c),d},computeSizeIfNeeded:function(e,n,t,i){this.computedSize=this.persistedComputedSizeForContext(e,n,t),null==this.computedSize&&this.computeSize(e,n,t,i)},computeSize:function(e,n,t,i){var l,r,s=Ye.NO_SIZE,h=Ye.NO_SIZE,a=(0==t||-39999.9<this.viewWidth&&-39999.9<this.viewHeight||(this.layoutDirty=!0),this.viewWidth);s=-60001.1<a&&a<-60000.9?(null==(r=null)?2==(2&t):(t=r?2|t:-3&t,r))?0:e:-60002.1<(a=this.viewWidth)&&a<-60001.9?e:(l=this.viewWidth)<-39999.9&&-60000.1<l?.01*(this.viewWidth+5e4)*e:this.viewWidth,h=-60001.1<(a=this.viewHeight)&&a<-60000.9?(null==(r=null)?8==(8&t):(t=r?8|t:-9&t,r))?0:n:-60002.1<(a=this.viewHeight)&&a<-60001.9?n:(l=this.viewHeight)<-39999.9&&-60000.1<l?.01*(this.viewHeight+5e4)*n:this.viewHeight,(null==(r=null)?1==(1&t):(t=r?1|t:-2&t,r))||e<s&&(s=e),(null==(r=null)?4==(4&t):(t=r?4|t:-5&t,r))||n<h&&(h=n),i?this.persistComputedSize(e,n,t,s,h):this.assignComputedSize(s,h)},willEmitLayout:function(){this.updateBorder(),this.layout()},layout:function(){},bindToScreenSize:function(n){null==n&&(n=1);var t=this,e=(he.app.screen.onResize(this,function(){var e=he.app.screen.height*n;t.set_width(he.app.screen.width*n),t.set_height(e),f0.requestLayout()}),he.app.screen.height*n);this.set_width(he.app.screen.width*n),this.set_height(e),f0.requestLayout()},bindToTargetSize:function(){var t=this,e=(he.app.screen.onResize(this,function(){var e=he.app.settings.get_targetWidth(),n=he.app.settings.get_targetHeight();t.set_width(e),t.set_height(n),f0.requestLayout()}),he.app.settings.get_targetWidth()),n=he.app.settings.get_targetHeight();this.set_width(e),this.set_height(n),f0.requestLayout()},percent:function(e){return-5e4+(e<-1e4?-1e4:1e4<e?1e4:e)},percentToFloat:function(e){return.01*(e+5e4)},fill:function(){return-60002},auto:function(){return-60001},unbindEvents:function(){q.prototype.unbindEvents.call(this),this.offLayout()},__class__:f0,__properties__:$extend(q.prototype.__properties__,{get_parentView:"get_parentView",set_borderRightColor:"set_borderRightColor",set_borderLeftColor:"set_borderLeftColor",set_borderBottomColor:"set_borderBottomColor",set_borderTopColor:"set_borderTopColor",set_borderColor:"set_borderColor",set_borderRightSize:"set_borderRightSize",set_borderLeftSize:"set_borderLeftSize",set_borderBottomSize:"set_borderBottomSize",set_borderTopSize:"set_borderTopSize",set_borderSize:"set_borderSize",set_borderPosition:"set_borderPosition",set_borderAlpha:"set_borderAlpha",set_borderDepth:"set_borderDepth",set_flex:"set_flex",set_offsetY:"set_offsetY",set_offsetX:"set_offsetX",set_paddingBottom:"set_paddingBottom",set_paddingTop:"set_paddingTop",set_paddingRight:"set_paddingRight",set_paddingLeft:"set_paddingLeft",set_viewHeight:"set_viewHeight",set_viewWidth:"set_viewWidth"})}),(E["ceramic.ScrollView"]=g0).__name__="ceramic.ScrollView",g0.__super__=f0,g0.prototype=$extend(f0.prototype,{scroller:null,contentView:null,set_contentView:function(e){return this.contentView!=e&&(null!=this.contentView&&this.contentView.customParentView==this&&(this.contentView.customParentView=null),this.contentView=e,null!=this.contentView&&(this.contentView.customParentView=this),null!=this.scroller&&this.scroller.content!=e&&(this.scroller.destroy(),this.scroller=null),null==this.scroller)&&this.initScroller(),e},autoComputeContentSize:null,contentSize:null,set_contentSize:function(e){return this.contentSize!=e&&(e=Math.max(0,e),this.contentSize=e,this.layoutDirty=!0),e},get_direction:function(){return this.scroller.direction},set_direction:function(e){return this.scroller.direction=e},get_pagingEnabled:function(){return this.scroller.pagingEnabled},set_pagingEnabled:function(e){return this.scroller.pagingEnabled=e},get_pageSize:function(){return this.scroller.pageSize},set_pageSize:function(e){return this.scroller.pageSize=e},get_pageSpacing:function(){return this.scroller.pageSpacing},set_pageSpacing:function(e){return this.scroller.pageSpacing=e},get_pageMomentumThreshold:function(){return this.scroller.pageMomentumThreshold},set_pageMomentumThreshold:function(e){return this.scroller.pageMomentumThreshold=e},initContentView:function(){this.set_contentView(new f0),this.contentView.customParentView=this},initScroller:function(){this.scroller=new et(this.contentView),this.add(this.scroller)},layout:function(){(i=this.scroller).set_x(0),i.set_y(0);var e,n,t,i=this.scroller,l=this.get_width(),r=this.get_height();i.set_width(l),i.set_height(r),this.scroller.direction==Jn.VERTICAL?(this.autoComputeContentSize&&(i=this.contentView,e=this.get_width(),n=this.get_height(),i.computedSize=i.persistedComputedSizeForContext(e,n,t=4),null==i.computedSize&&i.computeSize(e,n,t,!0),null!=(i=this.contentView).computedSize&&(r=i.computedSize.computedHeight,i.set_width(i.computedSize.computedWidth),i.set_height(r)),l=this.contentView.get_height(),this.contentSize!=l)&&(l=Math.max(0,l),this.contentSize=l,this.layoutDirty=!0),this.contentView.set_height(Math.max(this.get_height(),this.contentSize))):(this.autoComputeContentSize&&(i=this.contentView,e=this.get_width(),n=this.get_height(),i.computedSize=i.persistedComputedSizeForContext(e,n,t=1),null==i.computedSize&&i.computeSize(e,n,t,!0),null!=(i=this.contentView).computedSize)&&(r=i.computedSize.computedHeight,i.set_width(i.computedSize.computedWidth),i.set_height(r)),this.contentView.set_width(Math.max(this.get_width(),this.contentSize))),Gi.trace("-> contentSize="+this.contentSize,{fileName:"../../../../ceramic/plugins/ui/runtime/src/ceramic/ScrollView.hx",lineNumber:223,className:"ceramic.ScrollView",methodName:"layout"})},__class__:g0,__properties__:$extend(f0.prototype.__properties__,{set_pageMomentumThreshold:"set_pageMomentumThreshold",get_pageMomentumThreshold:"get_pageMomentumThreshold",set_pageSpacing:"set_pageSpacing",get_pageSpacing:"get_pageSpacing",set_pageSize:"set_pageSize",get_pageSize:"get_pageSize",set_pagingEnabled:"set_pagingEnabled",get_pagingEnabled:"get_pagingEnabled",set_direction:"set_direction",get_direction:"get_direction",set_contentSize:"set_contentSize",set_contentView:"set_contentView"})}),(E["ceramic.CollectionView"]=h0).__name__="ceramic.CollectionView",h0.__super__=g0,h0.prototype=$extend(g0.prototype,{collectionViewFlowLayout:null,collectionViewLayout:null,set_collectionViewLayout:function(e){return this.collectionViewLayout!=e&&(null!=(this.collectionViewLayout=e)&&Ul.getClass(e)==Ne?this.collectionViewFlowLayout=e:this.collectionViewFlowLayout=null),e},dataSource:null,autoDestroyItems:null,maxReusableViewsCount:null,childrenDepth:null,set_childrenDepth:function(e){return this.childrenDepth!=e&&(this.childrenDepth=e,this.layoutDirty=!0),e},frames:null,itemsBehavior:null,set_itemsBehavior:function(e){return this.itemsBehavior!=e&&1==(this.itemsBehavior=e)&&(this.layoutDirty=!0),e},reusableViews:null,prevLayoutWidth:null,prevLayoutHeight:null,destroy:function(){if(!(this._lifecycleState<=-2)){this._lifecycleState=-2,this._lifecycleState=-1,g0.prototype.destroy.call(this),this.set_dataSource(null);for(var e=0,n=this.reusableViews.length;e<n;){var t=e++;this.reusableViews[t].destroy()}this.reusableViews=null}},set_dataSource:function(e){return this.dataSource!=e&&(this.dataSource=e,this.reloadData()),e},reloadData:function(){if(0<this.frames.length)for(var e=0,n=this.frames.length;e<n;){var t=e++,i=this.frames[t];null!=i.view&&i.view.destroy()}if(null!=this.dataSource){for(var l=[],e=0,n=this.dataSource.collectionViewSize(this);e<n;){t=e++;l.push(new We(0,0,0,0))}this.frames=l}else this.frames=[];this.layoutDirty=!0},layout:function(){var e=!1;this.prevLayoutWidth==this.get_width()&&this.prevLayoutHeight==this.get_height()||(this.prevLayoutWidth=this.get_width(),this.prevLayoutHeight=this.get_height(),e=!0);(n=this.scroller).set_x(0),n.set_y(0);var n=this.scroller,t=this.get_width(),i=this.get_height();if(n.set_width(t),n.set_height(i),0<this.frames.length){for(var l=0,r=this.frames.length;l<r;){var s=l++;this.dataSource.collectionViewItemFrameAtIndex(this,s,this.frames[s])}this.collectionViewLayout.collectionViewLayout(this,this.frames)}this.scroller.direction==Jn.VERTICAL?(this.contentView.set_height(Math.max(this.get_height(),this.contentSize)),e&&this.contentView.get_height()- -this.scroller.scrollTransform.ty<this.get_height()&&(n=this.scroller,t=this.contentView.get_height()-this.get_height(),n.scrollTransform.ty!=-t)&&(n.scrollTransform.ty=-t,n.scrollTransform.changedDirty=!0)):(this.contentView.set_width(Math.max(this.get_width(),this.contentSize)),e&&this.contentView.get_width()- -this.scroller.scrollTransform.tx<this.get_width()&&(n=this.scroller,i=this.contentView.get_width()-this.get_width(),n.scrollTransform.tx!=-i)&&(n.scrollTransform.tx=-i,n.scrollTransform.changedDirty=!0)),this.computeVisibleItems()},findClosestItem:function(e,n,t){var i=99999999,l=99999999,r=0,s=0,h=-1,a=(t=null==t?!0:t)?-this.scroller.scrollTransform.tx:0,o=t?-this.scroller.scrollTransform.ty:0;if(0<this.frames.length)for(var c=0,u=this.frames.length;c<u;){var _=c++,d=this.frames[_],b=d.x-a,g=d.x+d.width-a,O=d.y-o,d=d.y+d.height-o,r=e<b?g-e:g<=e?e-b:0,s=n<O?d-n:d<=n?n-O:0;this.scroller.direction==Jn.VERTICAL?(r<i||r==i&&s<l)&&(i=r,l=s,h=_):(s<l||s==l&&r<i)&&(i=r,l=s,h=_)}return h},computeVisibleItems:function(){var e=this;if(null!=this.dataSource){var n=2!=this.itemsBehavior&&3!=this.itemsBehavior;if(this.scroller.direction==Jn.VERTICAL){if(null!=this.collectionViewFlowLayout)if(this.collectionViewFlowLayout.allItemsVisible)for(var t=0,i=this.frames.length;t<i;){var l=t++;(b=this.frames[l]).visible=!0,(b.width<=0||b.height<=0)&&(b.visible=!1)}else for(var r=this.scroller.scrollTransform.ty,s=this.collectionViewFlowLayout.visibleOutset,h=this.get_height(),t=0,i=this.frames.length;t<i;){var l=t++,a=-r-s;(b=this.frames[l]).visible=b.y<a+h+2*s&&b.y+b.height>=a,(b.visible&&b.width<=0||b.height<=0)&&(b.visible=!1),!n||b.visible||null!=b.view&&(e.dataSource.collectionViewReleaseItemAtIndex(e,l,b.view)?(b.view.set_active(!1),e.reusableViews.push(b.view)):0<=b.view._lifecycleState&&(b.view.set_active(!1),e.autoDestroyItems)&&b.view.destroy(),b.view=null)}else for(t=0,i=this.frames.length;t<i;){l=t++;(b=this.frames[l]).visible=this.collectionViewLayout.isFrameVisible(this,b),(b.visible&&b.width<=0||b.height<=0)&&(b.visible=!1),!n||b.visible||null!=b.view&&(e.dataSource.collectionViewReleaseItemAtIndex(e,l,b.view)?(b.view.set_active(!1),e.reusableViews.push(b.view)):0<=b.view._lifecycleState&&(b.view.set_active(!1),e.autoDestroyItems)&&b.view.destroy(),b.view=null)}for(t=0,i=this.frames.length;t<i;){var o,l=t++,c=[b=this.frames[l]];c[0].visible&&(2!=e.itemsBehavior&&null==c[0].view&&(0<e.reusableViews.length?(g=e.reusableViews.pop(),c[0].view=e.dataSource.collectionViewItemAtIndex(e,l,g),c[0].view!=g&&e.autoDestroyItems&&g.destroy()):c[0].view=e.dataSource.collectionViewItemAtIndex(e,l,null)),null!=(o=[c[0].view])[0])&&0<=o[0]._lifecycleState&&(1==e.childrenDepth?o[0].set_depth(l):-1==e.childrenDepth?o[0].set_depth(e.frames.length-l):0==e.childrenDepth&&o[0].set_depth(1),f=o[0].get_width(),p=o[0].get_height(),C=c[0].height,o[0].set_viewWidth(c[0].width),o[0].set_viewHeight(C),v=c[0].height,o[0].set_width(c[0].width),o[0].set_height(v),o[0].layoutDirty&&(e.contentView.layoutDirty=!0),w=c[0].x+c[0].width*o[0].anchorX,m=c[0].y+c[0].height*o[0].anchorY,o[0].set_x(w),o[0].set_y(m),o[0].set_active(!0),o[0].parent!=e.contentView&&e.contentView.add(o[0]),f==c[0].width&&p==c[0].height||o[0].onceLayout(e,function(t,i){return function(){var e=i[0].x+i[0].width*t[0].anchorX,n=i[0].y+i[0].height*t[0].anchorY;t[0].set_x(e),t[0].set_y(n)}}(o,c)))}}else{if(null!=this.collectionViewFlowLayout)if(this.collectionViewFlowLayout.allItemsVisible)for(t=0,i=this.frames.length;t<i;){l=t++;(b=this.frames[l]).visible=!0,(b.width<=0||b.height<=0)&&(b.visible=!1)}else for(var u=this.scroller.scrollTransform.tx,s=this.collectionViewFlowLayout.visibleOutset,_=this.get_width(),t=0,i=this.frames.length;t<i;){var l=t++,d=-u-s;(b=this.frames[l]).visible=b.x<d+_+2*s&&b.x+b.width>=d,(b.visible&&b.width<=0||b.height<=0)&&(b.visible=!1),!n||b.visible||null!=b.view&&(e.dataSource.collectionViewReleaseItemAtIndex(e,l,b.view)?(b.view.set_active(!1),e.reusableViews.push(b.view)):0<=b.view._lifecycleState&&(b.view.set_active(!1),e.autoDestroyItems)&&b.view.destroy(),b.view=null)}else for(t=0,i=this.frames.length;t<i;){l=t++;(b=this.frames[l]).visible=this.collectionViewLayout.isFrameVisible(this,b),(b.visible&&b.width<=0||b.height<=0)&&(b.visible=!1),!n||b.visible||null!=b.view&&(e.dataSource.collectionViewReleaseItemAtIndex(e,l,b.view)?(b.view.set_active(!1),e.reusableViews.push(b.view)):0<=b.view._lifecycleState&&(b.view.set_active(!1),e.autoDestroyItems)&&b.view.destroy(),b.view=null)}for(t=0,i=this.frames.length;t<i;){var b,g,O,f,p,C,v,w,m,l=t++,y=[b=this.frames[l]];y[0].visible&&(2!=e.itemsBehavior&&null==y[0].view&&(0<e.reusableViews.length?(g=e.reusableViews.pop(),y[0].view=e.dataSource.collectionViewItemAtIndex(e,l,g),y[0].view!=g&&e.autoDestroyItems&&g.destroy()):y[0].view=e.dataSource.collectionViewItemAtIndex(e,l,null)),null!=(O=[y[0].view])[0])&&0<=O[0]._lifecycleState&&(1==e.childrenDepth?O[0].set_depth(l):-1==e.childrenDepth?O[0].set_depth(e.frames.length-l):0==e.childrenDepth&&O[0].set_depth(1),f=O[0].get_width(),p=O[0].get_height(),C=y[0].height,O[0].set_viewWidth(y[0].width),O[0].set_viewHeight(C),v=y[0].height,O[0].set_width(y[0].width),O[0].set_height(v),O[0].layoutDirty&&(e.contentView.layoutDirty=!0),w=y[0].x+y[0].width*O[0].anchorX,m=y[0].y+y[0].height*O[0].anchorY,O[0].set_x(w),O[0].set_y(m),O[0].set_active(!0),O[0].parent!=e.contentView&&e.contentView.add(O[0]),f==y[0].width&&p==y[0].height||O[0].onceLayout(e,function(t,i){return function(){var e=i[0].x+i[0].width*t[0].anchorX,n=i[0].y+i[0].height*t[0].anchorY;t[0].set_x(e),t[0].set_y(n)}}(O,y)))}}if(this.autoDestroyItems)for(;this.reusableViews.length>this.maxReusableViewsCount;)this.reusableViews.pop().destroy()}},getTargetScrollXForItem:function(e,n){e<0?e=0:e>=this.frames.length&&(e=this.frames.length-1);var t=this.frames[e],i=-this.scroller.scrollTransform.tx;switch(n=null==n?3:n){case 0:i=t.x;break;case 1:i=t.x-.5*this.get_width()+.5*t.width;break;case 2:i=t.x-this.get_width()+t.width;break;case 3:var l=t.x-this.get_width()+t.width,r=t.x;r<i?i=r:i<l&&(i=l)}e=this.frames[this.frames.length-1],n=e.x+e.width-this.get_width();return i=(i=n<i?n:i)<0?0:i},getTargetScrollYForItem:function(e,n){e<0?e=0:e>=this.frames.length&&(e=this.frames.length-1);var t=this.frames[e],i=-this.scroller.scrollTransform.ty;switch(n=null==n?3:n){case 0:i=t.y;break;case 1:i=t.y-.5*this.get_height()+.5*t.height;break;case 2:i=t.y-this.get_height()+t.height;break;case 3:var l=t.y-this.get_height()+t.height,r=t.y;r<i?i=r:i<l&&(i=l)}e=this.frames[this.frames.length-1],n=e.y+e.height-this.get_height();return i=(i=n<i?n:i)<0?0:i},scrollToItem:function(e,n){null==n&&(n=3);var t=-this.scroller.scrollTransform.tx,i=-this.scroller.scrollTransform.ty;0!=this.frames.length&&(this.scroller.direction==Jn.VERTICAL?i=this.getTargetScrollYForItem(e,n):t=this.getTargetScrollXForItem(e,n),this.scroller.scrollTo(t,i))},smoothScrollToItem:function(e,n,t,i){null==t&&(t=.15),null==n&&(n=3);var l=-this.scroller.scrollTransform.tx,r=-this.scroller.scrollTransform.ty;0!=this.frames.length&&(this.scroller.direction==Jn.VERTICAL?r=this.getTargetScrollYForItem(e,n):l=this.getTargetScrollXForItem(e,n),this.scroller.smoothScrollTo(l,r,t,i))},__class__:h0,__properties__:$extend(g0.prototype.__properties__,{set_itemsBehavior:"set_itemsBehavior",set_childrenDepth:"set_childrenDepth",set_dataSource:"set_dataSource",set_collectionViewLayout:"set_collectionViewLayout"})}),(E["ceramic.CollectionViewDataSource"]=i0).__name__="ceramic.CollectionViewDataSource",i0.__isInterface__=!0,i0.prototype={collectionViewSize:null,collectionViewItemFrameAtIndex:null,collectionViewReleaseItemAtIndex:null,collectionViewItemAtIndex:null,__class__:i0},(E["ceramic.CollectionViewLayout"]=j0).__name__="ceramic.CollectionViewLayout",j0.__isInterface__=!0,j0.prototype={collectionViewLayout:null,isFrameVisible:null,__class__:j0},function(){this.allItemsVisible=!1,this.visibleOutset=0,this.itemSpacingY=0,this.itemSpacingX=0,this.insetEnd=0,this.insetStart=0,this.itemSizing=-1}),We=((E["ceramic.CollectionViewFlowLayout"]=Ne).__name__="ceramic.CollectionViewFlowLayout",Ne.__interfaces__=[j0],Ne.prototype={itemSizing:null,insetStart:null,insetEnd:null,itemSpacingX:null,itemSpacingY:null,visibleOutset:null,allItemsVisible:null,collectionViewLayout:function(e,n){var t=0,i=0,l=0,r=0,s=e.scroller.direction,h=e.get_width(),a=e.get_height();if(s==Jn.VERTICAL){for(var r=i+=this.insetStart,o=0,c=n.length;o<c;){var u=n[o++];0<this.itemSizing&&(u.width=Math.min(h,h*this.itemSizing)),0<t&&t+u.width>h&&(t=0,i=r+this.itemSpacingY),u.x=t,u.y=i,r=Math.max(r,i+u.height),t+=u.width+this.itemSpacingX}var _=r+this.insetEnd}else{for(l=t+=this.insetStart,o=0,c=n.length;o<c;){u=n[o++];0<this.itemSizing&&(u.height=Math.min(a,a*this.itemSizing)),0<i&&i+u.height>a&&(i=0,t=l+this.itemSpacingX),u.x=t,u.y=i,l=Math.max(l,t+u.width),i+=u.height+this.itemSpacingY}_=l+this.insetEnd}e.contentSize!=_&&(_=Math.max(0,_),e.contentSize=_,e.layoutDirty=!0)},isFrameVisible:function(e,n){var t,i;return!!this.allItemsVisible||(e.scroller.direction==Jn.VERTICAL?(t=(i=-e.scroller.scrollTransform.ty-this.visibleOutset)+e.get_height()+2*this.visibleOutset,n.y<t&&n.y+n.height>=i):(i=(t=-e.scroller.scrollTransform.tx-this.visibleOutset)+e.get_width()+2*this.visibleOutset,n.x<i&&n.x+n.width>=t))},__class__:Ne},function(e,n,t,i){this.view=null,this.visible=!1,this.x=e,this.y=n,this.width=t,this.height=i}),ze=((E["ceramic.CollectionViewItemFrame"]=We).__name__="ceramic.CollectionViewItemFrame",We.prototype={x:null,y:null,width:null,height:null,visible:null,view:null,toString:function(){return"Frame(x="+this.x+" y="+this.y+" w="+this.width+" h="+this.height+")"},__class__:We},function(e,n,t){null==t&&(t=!1),null==n&&(n=.5),null==e&&(e=16),this.size=0,this.iterableKeysUsed=null,this.iterableKeys=null,this.intMap=new qi,t&&(this.iterableKeys=[],this.iterableKeysUsed=new ze(16,.5,!1))}),I=((E["ceramic.IntIntMap"]=ze).__name__="ceramic.IntIntMap",ze.prototype={intMap:null,iterableKeys:null,iterableKeysUsed:null,size:null,clear:function(){this.intMap.h={},this.size=0,null!=this.iterableKeys&&(this.iterableKeys=[],this.iterableKeysUsed=new ze(16,.5,!1))},exists:function(e){return this.intMap.h.hasOwnProperty(0|e)},set:function(e,n){null!=this.iterableKeys&&0==(null!=(t=this.iterableKeysUsed.intMap.h[0|e])?t:0)&&(this.iterableKeysUsed.set(e,1),this.iterableKeys.push(e));var t=0|e;return this.intMap.h.hasOwnProperty(t)||this.size++,this.intMap.h[t]=0|n,n},get:function(e){e=this.intMap.h[0|e];return null!=e?e:0},remove:function(e){var n,t=0|e,i=0;return null!=this.iterableKeys&&0!=(null!=(n=this.iterableKeysUsed.intMap.h[0|e])?n:0)&&(this.iterableKeysUsed.set(e,0),this.iterableKeys.splice(this.iterableKeys.indexOf(e),1)),this.intMap.h.hasOwnProperty(t)&&(i=this.intMap.h[t],this.size--),this.intMap.remove(t),i},getInline:function(e){e=this.intMap.h[0|e];return null!=e?e:0},existsInline:function(e){return this.intMap.h.hasOwnProperty(0|e)},copy:function(){var e=new ze;return e.intMap=this.intMap.copy(),e.size=this.size,e.iterableKeys=null!=this.iterableKeys?this.iterableKeys.slice():null,e.iterableKeysUsed=null!=this.iterableKeysUsed?pn.copy(this.iterableKeysUsed):null,e},iterator:function(){return new Tn(this)},keys:function(){return new xn(this)},keyValueIterator:function(){return new Sn(this)},__class__:ze},{}),Ge=(I.__properties__={set_lightnessHSLuv:"set_lightnessHSLuv",get_lightnessHSLuv:"get_lightnessHSLuv",set_saturationHSLuv:"set_saturationHSLuv",get_saturationHSLuv:"get_saturationHSLuv",set_hueHSLuv:"set_hueHSLuv",get_hueHSLuv:"get_hueHSLuv",set_lightness:"set_lightness",get_lightness:"get_lightness",set_brightness:"set_brightness",get_brightness:"get_brightness",set_saturation:"set_saturation",get_saturation:"get_saturation",set_hue:"set_hue",get_hue:"get_hue",set_black:"set_black",get_black:"get_black",set_yellow:"set_yellow",get_yellow:"get_yellow",set_magenta:"set_magenta",get_magenta:"get_magenta",set_cyan:"set_cyan",get_cyan:"get_cyan",set_blueFloat:"set_blueFloat",get_blueFloat:"get_blueFloat",set_greenFloat:"set_greenFloat",get_greenFloat:"get_greenFloat",set_redFloat:"set_redFloat",get_redFloat:"get_redFloat",set_blue:"set_blue",get_blue:"get_blue",set_green:"set_green",get_green:"get_green",set_red:"set_red",get_red:"get_red"},I.toAlphaColor=function(e){e=(0|e)-16777216;return e&16777215|-16777216},I.random=function(e,n){null==n&&(n=.5),null==e&&(e=.5);var t=360*Math.random(),e=Math.random()*(1-e)+e,n=Math.random()*(1-n)+n;return I.fromHSB(t,e,n)},I.fromInt=function(e){return null==e?0:e},I.fromRGB=function(e,n,t){var i=0;return((i&65535|(255<e?255:e<0?0:e)<<16)&16711935|(255<n?255:n<0?0:n)<<8)&16776960|(255<t?255:t<0?0:t)},I.fromRGBFloat=function(e,n,t){var i=0,e=(i=i&65535|(255<(e=Math.round(255*e))?255:e<0?0:e)<<16,Math.round(255*n)),e=(i=i&16711935|(255<e?255:e<0?0:e)<<8,Math.round(255*t));return i=i&16776960|(255<e?255:e<0?0:e)},I.fromCMYK=function(e,n,t,i){var l=0,e=(1-e)*(1-i),e=(l=l&65535|(255<(r=Math.round(255*e))?255:r<0?0:r)<<16,(1-n)*(1-i)),r=Math.round(255*e),e=(1-t)*(1-i);return l=(l=l&16711935|(255<r?255:r<0?0:r)<<8)&16776960|(255<(r=Math.round(255*e))?255:r<0?0:r)},I.fromHSB=function(e,n,t){var i=0,n=t*n,l=t-n,t=e,r=n,e=(t%=360)/60,s=r*(1-Math.abs(e%2-1))+l;switch(r+=l,0|e){case 0:i=i&65535|(255<(h=Math.round(255*r))?255:h<0?0:h)<<16;var h=Math.round(255*s),h=(i=i&16711935|(255<h?255:h<0?0:h)<<8,Math.round(255*l)),i=i&16776960|(255<h?255:h<0?0:h);break;case 1:h=(i=i&65535|(255<(h=Math.round(255*s))?255:h<0?0:h)<<16,Math.round(255*r)),h=(i=i&16711935|(255<h?255:h<0?0:h)<<8,Math.round(255*l));i=i&16776960|(255<h?255:h<0?0:h);break;case 2:h=(i=i&65535|(255<(h=Math.round(255*l))?255:h<0?0:h)<<16,Math.round(255*r)),h=(i=i&16711935|(255<h?255:h<0?0:h)<<8,Math.round(255*s));i=i&16776960|(255<h?255:h<0?0:h);break;case 3:h=(i=i&65535|(255<(h=Math.round(255*l))?255:h<0?0:h)<<16,Math.round(255*s)),h=(i=i&16711935|(255<h?255:h<0?0:h)<<8,Math.round(255*r));i=i&16776960|(255<h?255:h<0?0:h);break;case 4:h=(i=i&65535|(255<(h=Math.round(255*s))?255:h<0?0:h)<<16,Math.round(255*l)),h=(i=i&16711935|(255<h?255:h<0?0:h)<<8,Math.round(255*r));i=i&16776960|(255<h?255:h<0?0:h);break;case 5:h=(i=i&65535|(255<(h=Math.round(255*r))?255:h<0?0:h)<<16,Math.round(255*l)),h=(i=i&16711935|(255<h?255:h<0?0:h)<<8,Math.round(255*s));i=i&16776960|(255<h?255:h<0?0:h)}return i},I.fromHSL=function(e,n,t){var i=0,n=(1-Math.abs(2*t-1))*n,l=t-n/2,t=e,r=n,e=(t%=360)/60,s=r*(1-Math.abs(e%2-1))+l;switch(r+=l,0|e){case 0:i=i&65535|(255<(h=Math.round(255*r))?255:h<0?0:h)<<16;var h=Math.round(255*s),h=(i=i&16711935|(255<h?255:h<0?0:h)<<8,Math.round(255*l)),i=i&16776960|(255<h?255:h<0?0:h);break;case 1:h=(i=i&65535|(255<(h=Math.round(255*s))?255:h<0?0:h)<<16,Math.round(255*r)),h=(i=i&16711935|(255<h?255:h<0?0:h)<<8,Math.round(255*l));i=i&16776960|(255<h?255:h<0?0:h);break;case 2:h=(i=i&65535|(255<(h=Math.round(255*l))?255:h<0?0:h)<<16,Math.round(255*r)),h=(i=i&16711935|(255<h?255:h<0?0:h)<<8,Math.round(255*s));i=i&16776960|(255<h?255:h<0?0:h);break;case 3:h=(i=i&65535|(255<(h=Math.round(255*l))?255:h<0?0:h)<<16,Math.round(255*s)),h=(i=i&16711935|(255<h?255:h<0?0:h)<<8,Math.round(255*r));i=i&16776960|(255<h?255:h<0?0:h);break;case 4:h=(i=i&65535|(255<(h=Math.round(255*s))?255:h<0?0:h)<<16,Math.round(255*l)),h=(i=i&16711935|(255<h?255:h<0?0:h)<<8,Math.round(255*r));i=i&16776960|(255<h?255:h<0?0:h);break;case 5:h=(i=i&65535|(255<(h=Math.round(255*r))?255:h<0?0:h)<<16,Math.round(255*l)),h=(i=i&16711935|(255<h?255:h<0?0:h)<<8,Math.round(255*s));i=i&16776960|(255<h?255:h<0?0:h)}return i},I.fromString=function(e){var n,t,i=null;if(e=z.trim(e),z.startsWith(e,"0x"))i=a=null==(a=X.parseInt(e.substring(0,8)))?0:a;else if(z.startsWith(e,"#"))i=9<=e.length?(t="0x"+e.substring(1,9),16776960&(16711935&(65535&0|(255<(n=(l=X.parseInt(t))>>16&255)?255:n<0?0:n)<<16)|(255<(n=l>>8&255)?255:n<0?0:n)<<8)|(255<(n=255&l)?255:n<0?0:n)):(t="0x"+e.substring(1,7),a=null==(a=X.parseInt(t))?0:a);else{e=e.toUpperCase();for(var l=I.colorLookup.h,r=Object.keys(l),s=r.length,h=0;h<s;){var a,o=r[h++];if(o==e){i=a=null==(a=I.colorLookup.h[o])?0:a;break}}}return i},I.getHSBColorWheel=function(){for(var e=[],n=0;n<360;){var t=n++;e.push(I.fromHSB(t,1,1))}return e},I.interpolate=function(e,n,t){var i=((n>>16&255)-(e>>16&255))*(t=null==t?.5:t)+(e>>16&255)|0,l=((n>>8&255)-(e>>8&255))*t+(e>>8&255)|0,n=((255&n)-(255&e))*t+(255&e)|0,t=0;return((t&65535|(255<i?255:i<0?0:i)<<16)&16711935|(255<l?255:l<0?0:l)<<8)&16776960|(255<n?255:n<0?0:n)},I.gradient=function(e,n,t,i){for(var l=[],r=(null==i&&(i=function(e){return e}),0),s=t;r<s;){var h=r++,a=i(h/(t-1)),o=((n>>16&255)-(e>>16&255))*(a=null==a?.5:a)+(e>>16&255)|0,c=((n>>8&255)-(e>>8&255))*a+(e>>8&255)|0,a=((255&n)-(255&e))*a+(255&e)|0,u=0;l[h]=((u&65535|(255<o?255:o<0?0:o)<<16)&16711935|(255<c?255:c<0?0:c)<<8)&16776960|(255<a?255:a<0?0:a)}return l},I.multiply=function(e,n){var t=(e>>8&255)/255*((n>>8&255)/255),i=(255&e)/255*((255&n)/255),l=0,e=(l=l&65535|(255<(e=Math.round(255*((e>>16&255)/255*((n>>16&255)/255))))?255:e<0?0:e)<<16,Math.round(255*t)),e=(l=l&16711935|(255<e?255:e<0?0:e)<<8,Math.round(255*i));return l=l&16776960|(255<e?255:e<0?0:e)},I.add=function(e,n){var t=(e>>16&255)+(n>>16&255),i=(e>>8&255)+(n>>8&255),e=(255&e)+(255&n),n=0;return((n&65535|(255<t?255:t<0?0:t)<<16)&16711935|(255<i?255:i<0?0:i)<<8)&16776960|(255<e?255:e<0?0:e)},I.subtract=function(e,n){var t=(e>>16&255)-(n>>16&255),i=(e>>8&255)-(n>>8&255),e=(255&e)-(255&n),n=0;return((n&65535|(255<t?255:t<0?0:t)<<16)&16711935|(255<i?255:i<0?0:i)<<8)&16776960|(255<e?255:e<0?0:e)},I.toHexString=function(e,n){return((n=null==n?!0:n)?"0x":"")+z.hex(e>>16&255,2)+z.hex(e>>8&255,2)+z.hex(255&e,2)},I.toWebString=function(e){var n=!1;return"#"+((n=null==n?!0:n)?"0x":"")+z.hex(e>>16&255,2)+z.hex(e>>8&255,2)+z.hex(255&e,2)},I.getColorInfo=function(e){var n="0x"+z.hex(e>>16&255,2)+z.hex(e>>8&255,2)+z.hex(255&e,2)+"\n";return(n+="red: "+(e>>16&255)+" green: "+(e>>8&255)+" blue: "+(255&e)+"\n")+("hue: "+I.roundDecimal(I.get_hue(e),2)+" saturation: "+I.roundDecimal((Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))-Math.min((e>>16&255)/255,Math.min((e>>8&255)/255,(255&e)/255)))/Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255)),2)+" brightness: "+I.roundDecimal(Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255)),2)+" lightness: "+I.roundDecimal((Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))+Math.min((e>>16&255)/255,Math.min((e>>8&255)/255,(255&e)/255)))/2,2))},I.getDarkened=function(e,n){var t=(n=null==n?.2:n)<0?0:n,i=(n=1<t?1:t,e),l=(Math.max((i>>16&255)/255,Math.max((i>>8&255)/255,(255&i)/255))+Math.min((i>>16&255)/255,Math.min((i>>8&255)/255,(255&i)/255)))/2*(1-n),t=I.get_hue(i),e=(1-Math.abs(2*l-1))*((Math.max((i>>16&255)/255,Math.max((i>>8&255)/255,(255&i)/255))-Math.min((i>>16&255)/255,Math.min((i>>8&255)/255,(255&i)/255)))/Math.max((i>>16&255)/255,Math.max((i>>8&255)/255,(255&i)/255))),r=l-e/2,n=t,s=e,t=(n%=360)/60,h=s*(1-Math.abs(t%2-1))+r;switch(s+=r,0|t){case 0:l=(i=i&65535|(255<(l=Math.round(255*s))?255:l<0?0:l)<<16,Math.round(255*h)),l=(i=i&16711935|(255<l?255:l<0?0:l)<<8,Math.round(255*r)),i=i&16776960|(255<l?255:l<0?0:l);break;case 1:l=(i=i&65535|(255<(l=Math.round(255*h))?255:l<0?0:l)<<16,Math.round(255*s)),l=(i=i&16711935|(255<l?255:l<0?0:l)<<8,Math.round(255*r));i=i&16776960|(255<l?255:l<0?0:l);break;case 2:l=(i=i&65535|(255<(l=Math.round(255*r))?255:l<0?0:l)<<16,Math.round(255*s)),l=(i=i&16711935|(255<l?255:l<0?0:l)<<8,Math.round(255*h));i=i&16776960|(255<l?255:l<0?0:l);break;case 3:l=(i=i&65535|(255<(l=Math.round(255*r))?255:l<0?0:l)<<16,Math.round(255*h)),l=(i=i&16711935|(255<l?255:l<0?0:l)<<8,Math.round(255*s));i=i&16776960|(255<l?255:l<0?0:l);break;case 4:l=(i=i&65535|(255<(l=Math.round(255*h))?255:l<0?0:l)<<16,Math.round(255*r)),l=(i=i&16711935|(255<l?255:l<0?0:l)<<8,Math.round(255*s));i=i&16776960|(255<l?255:l<0?0:l);break;case 5:l=(i=i&65535|(255<(l=Math.round(255*s))?255:l<0?0:l)<<16,Math.round(255*r)),l=(i=i&16711935|(255<l?255:l<0?0:l)<<8,Math.round(255*h));i=i&16776960|(255<l?255:l<0?0:l)}return i},I.getLightened=function(e,n){var t=(n=null==n?.2:n)<0?0:n,i=(n=1<t?1:t,e),l=(Math.max((i>>16&255)/255,Math.max((i>>8&255)/255,(255&i)/255))+Math.min((i>>16&255)/255,Math.min((i>>8&255)/255,(255&i)/255)))/2+(1-(Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))+Math.min((e>>16&255)/255,Math.min((e>>8&255)/255,(255&e)/255)))/2)*n,t=I.get_hue(i),e=(1-Math.abs(2*l-1))*((Math.max((i>>16&255)/255,Math.max((i>>8&255)/255,(255&i)/255))-Math.min((i>>16&255)/255,Math.min((i>>8&255)/255,(255&i)/255)))/Math.max((i>>16&255)/255,Math.max((i>>8&255)/255,(255&i)/255))),r=l-e/2,n=t,s=e,t=(n%=360)/60,h=s*(1-Math.abs(t%2-1))+r;switch(s+=r,0|t){case 0:l=(i=i&65535|(255<(l=Math.round(255*s))?255:l<0?0:l)<<16,Math.round(255*h)),l=(i=i&16711935|(255<l?255:l<0?0:l)<<8,Math.round(255*r)),i=i&16776960|(255<l?255:l<0?0:l);break;case 1:l=(i=i&65535|(255<(l=Math.round(255*h))?255:l<0?0:l)<<16,Math.round(255*s)),l=(i=i&16711935|(255<l?255:l<0?0:l)<<8,Math.round(255*r));i=i&16776960|(255<l?255:l<0?0:l);break;case 2:l=(i=i&65535|(255<(l=Math.round(255*r))?255:l<0?0:l)<<16,Math.round(255*s)),l=(i=i&16711935|(255<l?255:l<0?0:l)<<8,Math.round(255*h));i=i&16776960|(255<l?255:l<0?0:l);break;case 3:l=(i=i&65535|(255<(l=Math.round(255*r))?255:l<0?0:l)<<16,Math.round(255*h)),l=(i=i&16711935|(255<l?255:l<0?0:l)<<8,Math.round(255*s));i=i&16776960|(255<l?255:l<0?0:l);break;case 4:l=(i=i&65535|(255<(l=Math.round(255*h))?255:l<0?0:l)<<16,Math.round(255*r)),l=(i=i&16711935|(255<l?255:l<0?0:l)<<8,Math.round(255*s));i=i&16776960|(255<l?255:l<0?0:l);break;case 5:l=(i=i&65535|(255<(l=Math.round(255*s))?255:l<0?0:l)<<16,Math.round(255*r)),l=(i=i&16711935|(255<l?255:l<0?0:l)<<8,Math.round(255*h));i=i&16776960|(255<l?255:l<0?0:l)}return i},I.getInverted=function(e){var n=255-(e>>16&255),t=255-(e>>8&255),e=255-(255&e),i=0;i=16776960&(i=16711935&(i=0|(255<n?255:n<0?0:n)<<16)|(255<t?255:t<0?0:t)<<8)|(255<e?255:e<0?0:e);return i},I.setRGB=function(e,n,t,i){return e=(e=(e=e&65535|(255<n?255:n<0?0:n)<<16)&16711935|(255<t?255:t<0?0:t)<<8)&16776960|(255<i?255:i<0?0:i)},I.setRGBFloat=function(e,n,t,i){e=65535&e|(255<(n=Math.round(255*n))?255:n<0?0:n)<<16;n=Math.round(255*t),e=16711935&e|(255<n?255:n<0?0:n)<<8,n=Math.round(255*i);return e=e&16776960|(255<n?255:n<0?0:n)},I.setCMYK=function(e,n,t,i,l){var n=(1-n)*(1-l),n=(e=e&65535|(255<(r=Math.round(255*n))?255:r<0?0:r)<<16,(1-t)*(1-l)),r=Math.round(255*n),n=(1-i)*(1-l);return e=(e=e&16711935|(255<r?255:r<0?0:r)<<8)&16776960|(255<(r=Math.round(255*n))?255:r<0?0:r)},I.setHSB=function(e,n,t,i){var t=i*t,l=i-t,i=n,r=t,n=(i%=360)/60,s=r*(1-Math.abs(n%2-1))+l;switch(r+=l,0|n){case 0:e=e&65535|(255<(h=Math.round(255*r))?255:h<0?0:h)<<16;var h=Math.round(255*s),h=(e=e&16711935|(255<h?255:h<0?0:h)<<8,Math.round(255*l));e=e&16776960|(255<h?255:h<0?0:h);break;case 1:h=(e=e&65535|(255<(h=Math.round(255*s))?255:h<0?0:h)<<16,Math.round(255*r)),h=(e=e&16711935|(255<h?255:h<0?0:h)<<8,Math.round(255*l));e=e&16776960|(255<h?255:h<0?0:h);break;case 2:h=(e=e&65535|(255<(h=Math.round(255*l))?255:h<0?0:h)<<16,Math.round(255*r)),h=(e=e&16711935|(255<h?255:h<0?0:h)<<8,Math.round(255*s));e=e&16776960|(255<h?255:h<0?0:h);break;case 3:h=(e=e&65535|(255<(h=Math.round(255*l))?255:h<0?0:h)<<16,Math.round(255*s)),h=(e=e&16711935|(255<h?255:h<0?0:h)<<8,Math.round(255*r));e=e&16776960|(255<h?255:h<0?0:h);break;case 4:h=(e=e&65535|(255<(h=Math.round(255*s))?255:h<0?0:h)<<16,Math.round(255*l)),h=(e=e&16711935|(255<h?255:h<0?0:h)<<8,Math.round(255*r));e=e&16776960|(255<h?255:h<0?0:h);break;case 5:h=(e=e&65535|(255<(h=Math.round(255*r))?255:h<0?0:h)<<16,Math.round(255*l)),h=(e=e&16711935|(255<h?255:h<0?0:h)<<8,Math.round(255*s));e=e&16776960|(255<h?255:h<0?0:h)}return e},I.setHSL=function(e,n,t,i){var t=(1-Math.abs(2*i-1))*t,l=i-t/2,i=n,r=t,n=(i%=360)/60,s=r*(1-Math.abs(n%2-1))+l;switch(r+=l,0|n){case 0:e=e&65535|(255<(h=Math.round(255*r))?255:h<0?0:h)<<16;var h=Math.round(255*s),h=(e=e&16711935|(255<h?255:h<0?0:h)<<8,Math.round(255*l));e=e&16776960|(255<h?255:h<0?0:h);break;case 1:h=(e=e&65535|(255<(h=Math.round(255*s))?255:h<0?0:h)<<16,Math.round(255*r)),h=(e=e&16711935|(255<h?255:h<0?0:h)<<8,Math.round(255*l));e=e&16776960|(255<h?255:h<0?0:h);break;case 2:h=(e=e&65535|(255<(h=Math.round(255*l))?255:h<0?0:h)<<16,Math.round(255*r)),h=(e=e&16711935|(255<h?255:h<0?0:h)<<8,Math.round(255*s));e=e&16776960|(255<h?255:h<0?0:h);break;case 3:h=(e=e&65535|(255<(h=Math.round(255*l))?255:h<0?0:h)<<16,Math.round(255*s)),h=(e=e&16711935|(255<h?255:h<0?0:h)<<8,Math.round(255*r));e=e&16776960|(255<h?255:h<0?0:h);break;case 4:h=(e=e&65535|(255<(h=Math.round(255*s))?255:h<0?0:h)<<16,Math.round(255*l)),h=(e=e&16711935|(255<h?255:h<0?0:h)<<8,Math.round(255*r));e=e&16776960|(255<h?255:h<0?0:h);break;case 5:h=(e=e&65535|(255<(h=Math.round(255*r))?255:h<0?0:h)<<16,Math.round(255*l)),h=(e=e&16711935|(255<h?255:h<0?0:h)<<8,Math.round(255*s));e=e&16776960|(255<h?255:h<0?0:h)}return e},I.setHSChromaMatch=function(e,n,t,i,l){var n=(n%=360)/60,r=i*(1-Math.abs(n%2-1))+l;switch(i+=l,0|n){case 0:e=e&65535|(255<(s=Math.round(255*i))?255:s<0?0:s)<<16;var s=Math.round(255*r),s=(e=e&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*l));e=e&16776960|(255<s?255:s<0?0:s);break;case 1:s=(e=e&65535|(255<(s=Math.round(255*r))?255:s<0?0:s)<<16,Math.round(255*i)),s=(e=e&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*l));e=e&16776960|(255<s?255:s<0?0:s);break;case 2:s=(e=e&65535|(255<(s=Math.round(255*l))?255:s<0?0:s)<<16,Math.round(255*i)),s=(e=e&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*r));e=e&16776960|(255<s?255:s<0?0:s);break;case 3:s=(e=e&65535|(255<(s=Math.round(255*l))?255:s<0?0:s)<<16,Math.round(255*r)),s=(e=e&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*i));e=e&16776960|(255<s?255:s<0?0:s);break;case 4:s=(e=e&65535|(255<(s=Math.round(255*r))?255:s<0?0:s)<<16,Math.round(255*l)),s=(e=e&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*i));e=e&16776960|(255<s?255:s<0?0:s);break;case 5:s=(e=e&65535|(255<(s=Math.round(255*i))?255:s<0?0:s)<<16,Math.round(255*l)),s=(e=e&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*r));e=e&16776960|(255<s?255:s<0?0:s)}return e},I._new=function(e){return e=null==e?0:e},I.get_red=function(e){return e>>16&255},I.get_green=function(e){return e>>8&255},I.get_blue=function(e){return 255&e},I.get_redFloat=function(e){return(e>>16&255)/255},I.get_greenFloat=function(e){return(e>>8&255)/255},I.get_blueFloat=function(e){return(255&e)/255},I.set_red=function(e,n){return e=e&65535|(255<n?255:n<0?0:n)<<16,n},I.set_green=function(e,n){return e=e&16711935|(255<n?255:n<0?0:n)<<8,n},I.set_blue=function(e,n){return e=e&16776960|(255<n?255:n<0?0:n),n},I.set_redFloat=function(e,n){var t=Math.round(255*n);return e=e&65535|(255<t?255:t<0?0:t)<<16,n},I.set_greenFloat=function(e,n){var t=Math.round(255*n);return e=e&16711935|(255<t?255:t<0?0:t)<<8,n},I.set_blueFloat=function(e,n){var t=Math.round(255*n);return e=e&16776960|(255<t?255:t<0?0:t),n},I.get_cyan=function(e){return(1-(e>>16&255)/255-(1-Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))))/Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))},I.get_magenta=function(e){return(1-(e>>8&255)/255-(1-Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))))/Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))},I.get_yellow=function(e){return(1-(255&e)/255-(1-Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))))/Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))},I.get_black=function(e){return 1-Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))},I.set_cyan=function(e,n){var t=(1-(e>>8&255)/255-(1-Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))))/Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255)),i=(1-(255&e)/255-(1-Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))))/Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255)),l=1-Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255)),r=(1-n)*(1-l),r=(e=e&65535|(255<(s=Math.round(255*r))?255:s<0?0:s)<<16,(1-t)*(1-l)),s=Math.round(255*r),r=(1-i)*(1-l);return e=(e=e&16711935|(255<s?255:s<0?0:s)<<8)&16776960|(255<(s=Math.round(255*r))?255:s<0?0:s),n},I.set_magenta=function(e,n){var t=(1-(255&e)/255-(1-Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))))/Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255)),i=1-Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255)),l=(1-(1-(e>>16&255)/255-(1-Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))))/Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255)))*(1-i),l=(e=e&65535|(255<(r=Math.round(255*l))?255:r<0?0:r)<<16,(1-n)*(1-i)),r=Math.round(255*l),l=(1-t)*(1-i);return e=(e=e&16711935|(255<r?255:r<0?0:r)<<8)&16776960|(255<(r=Math.round(255*l))?255:r<0?0:r),n},I.set_yellow=function(e,n){var t=(1-(e>>8&255)/255-(1-Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))))/Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255)),i=1-Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255)),l=(1-(1-(e>>16&255)/255-(1-Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))))/Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255)))*(1-i),l=(e=e&65535|(255<(r=Math.round(255*l))?255:r<0?0:r)<<16,(1-t)*(1-i)),r=Math.round(255*l),l=(1-n)*(1-i);return e=(e=e&16711935|(255<r?255:r<0?0:r)<<8)&16776960|(255<(r=Math.round(255*l))?255:r<0?0:r),n},I.set_black=function(e,n){var t=(1-(e>>8&255)/255-(1-Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))))/Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255)),i=(1-(255&e)/255-(1-Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))))/Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255)),l=(1-(1-(e>>16&255)/255-(1-Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))))/Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255)))*(1-n),l=(e=e&65535|(255<(r=Math.round(255*l))?255:r<0?0:r)<<16,(1-t)*(1-n)),r=Math.round(255*l),l=(1-i)*(1-n);return e=(e=e&16711935|(255<r?255:r<0?0:r)<<8)&16776960|(255<(r=Math.round(255*l))?255:r<0?0:r),n},I.get_hue=function(e){var n=0;return(n=0!=Math.atan2(Math.sqrt(3)*((e>>8&255)/255-(255&e)/255),(e>>16&255)/255*2-(e>>8&255)/255-(255&e)/255)?180/Math.PI*Math.atan2(Math.sqrt(3)*((e>>8&255)/255-(255&e)/255),(e>>16&255)/255*2-(e>>8&255)/255-(255&e)/255):n)<0?n+360:n},I.get_brightness=function(e){return Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))},I.get_saturation=function(e){return(Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))-Math.min((e>>16&255)/255,Math.min((e>>8&255)/255,(255&e)/255)))/Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))},I.get_lightness=function(e){return(Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))+Math.min((e>>16&255)/255,Math.min((e>>8&255)/255,(255&e)/255)))/2},I.set_hue=function(e,n){var t=Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255)),i=t*((Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))-Math.min((e>>16&255)/255,Math.min((e>>8&255)/255,(255&e)/255)))/Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))),l=t-i,t=n,r=i,i=(t%=360)/60,s=r*(1-Math.abs(i%2-1))+l;switch(r+=l,0|i){case 0:e=e&65535|(255<(h=Math.round(255*r))?255:h<0?0:h)<<16;var h=Math.round(255*s),h=(e=e&16711935|(255<h?255:h<0?0:h)<<8,Math.round(255*l));e=e&16776960|(255<h?255:h<0?0:h);break;case 1:h=(e=e&65535|(255<(h=Math.round(255*s))?255:h<0?0:h)<<16,Math.round(255*r)),h=(e=e&16711935|(255<h?255:h<0?0:h)<<8,Math.round(255*l));e=e&16776960|(255<h?255:h<0?0:h);break;case 2:h=(e=e&65535|(255<(h=Math.round(255*l))?255:h<0?0:h)<<16,Math.round(255*r)),h=(e=e&16711935|(255<h?255:h<0?0:h)<<8,Math.round(255*s));e=e&16776960|(255<h?255:h<0?0:h);break;case 3:h=(e=e&65535|(255<(h=Math.round(255*l))?255:h<0?0:h)<<16,Math.round(255*s)),h=(e=e&16711935|(255<h?255:h<0?0:h)<<8,Math.round(255*r));e=e&16776960|(255<h?255:h<0?0:h);break;case 4:h=(e=e&65535|(255<(h=Math.round(255*s))?255:h<0?0:h)<<16,Math.round(255*l)),h=(e=e&16711935|(255<h?255:h<0?0:h)<<8,Math.round(255*r));e=e&16776960|(255<h?255:h<0?0:h);break;case 5:h=(e=e&65535|(255<(h=Math.round(255*r))?255:h<0?0:h)<<16,Math.round(255*l)),h=(e=e&16711935|(255<h?255:h<0?0:h)<<8,Math.round(255*s));e=e&16776960|(255<h?255:h<0?0:h)}return n},I.set_saturation=function(e,n){var t=I.get_hue(e),i=Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255)),l=i*n,r=i-l,i=t,s=l,t=(i%=360)/60,h=s*(1-Math.abs(t%2-1))+r;switch(s+=r,0|t){case 0:e=e&65535|(255<(a=Math.round(255*s))?255:a<0?0:a)<<16;var a=Math.round(255*h),a=(e=e&16711935|(255<a?255:a<0?0:a)<<8,Math.round(255*r));e=e&16776960|(255<a?255:a<0?0:a);break;case 1:a=(e=e&65535|(255<(a=Math.round(255*h))?255:a<0?0:a)<<16,Math.round(255*s)),a=(e=e&16711935|(255<a?255:a<0?0:a)<<8,Math.round(255*r));e=e&16776960|(255<a?255:a<0?0:a);break;case 2:a=(e=e&65535|(255<(a=Math.round(255*r))?255:a<0?0:a)<<16,Math.round(255*s)),a=(e=e&16711935|(255<a?255:a<0?0:a)<<8,Math.round(255*h));e=e&16776960|(255<a?255:a<0?0:a);break;case 3:a=(e=e&65535|(255<(a=Math.round(255*r))?255:a<0?0:a)<<16,Math.round(255*h)),a=(e=e&16711935|(255<a?255:a<0?0:a)<<8,Math.round(255*s));e=e&16776960|(255<a?255:a<0?0:a);break;case 4:a=(e=e&65535|(255<(a=Math.round(255*h))?255:a<0?0:a)<<16,Math.round(255*r)),a=(e=e&16711935|(255<a?255:a<0?0:a)<<8,Math.round(255*s));e=e&16776960|(255<a?255:a<0?0:a);break;case 5:a=(e=e&65535|(255<(a=Math.round(255*s))?255:a<0?0:a)<<16,Math.round(255*r)),a=(e=e&16711935|(255<a?255:a<0?0:a)<<8,Math.round(255*h));e=e&16776960|(255<a?255:a<0?0:a)}return n},I.set_brightness=function(e,n){var t=I.get_hue(e),i=n*((Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))-Math.min((e>>16&255)/255,Math.min((e>>8&255)/255,(255&e)/255)))/Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))),l=n-i,r=i,i=(t%=360)/60,s=r*(1-Math.abs(i%2-1))+l;switch(r+=l,0|i){case 0:e=e&65535|(255<(h=Math.round(255*r))?255:h<0?0:h)<<16;var h=Math.round(255*s),h=(e=e&16711935|(255<h?255:h<0?0:h)<<8,Math.round(255*l));e=e&16776960|(255<h?255:h<0?0:h);break;case 1:h=(e=e&65535|(255<(h=Math.round(255*s))?255:h<0?0:h)<<16,Math.round(255*r)),h=(e=e&16711935|(255<h?255:h<0?0:h)<<8,Math.round(255*l));e=e&16776960|(255<h?255:h<0?0:h);break;case 2:h=(e=e&65535|(255<(h=Math.round(255*l))?255:h<0?0:h)<<16,Math.round(255*r)),h=(e=e&16711935|(255<h?255:h<0?0:h)<<8,Math.round(255*s));e=e&16776960|(255<h?255:h<0?0:h);break;case 3:h=(e=e&65535|(255<(h=Math.round(255*l))?255:h<0?0:h)<<16,Math.round(255*s)),h=(e=e&16711935|(255<h?255:h<0?0:h)<<8,Math.round(255*r));e=e&16776960|(255<h?255:h<0?0:h);break;case 4:h=(e=e&65535|(255<(h=Math.round(255*s))?255:h<0?0:h)<<16,Math.round(255*l)),h=(e=e&16711935|(255<h?255:h<0?0:h)<<8,Math.round(255*r));e=e&16776960|(255<h?255:h<0?0:h);break;case 5:h=(e=e&65535|(255<(h=Math.round(255*r))?255:h<0?0:h)<<16,Math.round(255*l)),h=(e=e&16711935|(255<h?255:h<0?0:h)<<8,Math.round(255*s));e=e&16776960|(255<h?255:h<0?0:h)}return n},I.set_lightness=function(e,n){var t=I.get_hue(e),i=(1-Math.abs(2*n-1))*((Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))-Math.min((e>>16&255)/255,Math.min((e>>8&255)/255,(255&e)/255)))/Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))),l=n-i/2,r=i,i=(t%=360)/60,s=r*(1-Math.abs(i%2-1))+l;switch(r+=l,0|i){case 0:e=e&65535|(255<(h=Math.round(255*r))?255:h<0?0:h)<<16;var h=Math.round(255*s),h=(e=e&16711935|(255<h?255:h<0?0:h)<<8,Math.round(255*l));e=e&16776960|(255<h?255:h<0?0:h);break;case 1:h=(e=e&65535|(255<(h=Math.round(255*s))?255:h<0?0:h)<<16,Math.round(255*r)),h=(e=e&16711935|(255<h?255:h<0?0:h)<<8,Math.round(255*l));e=e&16776960|(255<h?255:h<0?0:h);break;case 2:h=(e=e&65535|(255<(h=Math.round(255*l))?255:h<0?0:h)<<16,Math.round(255*r)),h=(e=e&16711935|(255<h?255:h<0?0:h)<<8,Math.round(255*s));e=e&16776960|(255<h?255:h<0?0:h);break;case 3:h=(e=e&65535|(255<(h=Math.round(255*l))?255:h<0?0:h)<<16,Math.round(255*s)),h=(e=e&16711935|(255<h?255:h<0?0:h)<<8,Math.round(255*r));e=e&16776960|(255<h?255:h<0?0:h);break;case 4:h=(e=e&65535|(255<(h=Math.round(255*s))?255:h<0?0:h)<<16,Math.round(255*l)),h=(e=e&16711935|(255<h?255:h<0?0:h)<<8,Math.round(255*r));e=e&16776960|(255<h?255:h<0?0:h);break;case 5:h=(e=e&65535|(255<(h=Math.round(255*r))?255:h<0?0:h)<<16,Math.round(255*l)),h=(e=e&16711935|(255<h?255:h<0?0:h)<<8,Math.round(255*s));e=e&16776960|(255<h?255:h<0?0:h)}return n},I.maxColor=function(e){return Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))},I.minColor=function(e){return Math.min((e>>16&255)/255,Math.min((e>>8&255)/255,(255&e)/255))},I.boundChannel=function(e,n){return 255<n?255:n<0?0:n},I.roundDecimal=function(e,n){for(var t=1,i=0,l=n;i<l;){i++;t*=10}return Math.round(e*t)/t},I.bound=function(e,n,t){n=null!=n&&e<n?n:e;return null!=t&&t<n?t:n},I.toString=function(e){return-1==e?"NONE":"0x"+z.hex(e>>16&255,2)+z.hex(e>>8&255,2)+z.hex(255&e,2)},I.get_hueHSLuv=function(e){var n,t=I._hsluvCacheMap.intMap.h[0|e],t=null!=t?t:0;return 0==t&&(t=1+(I._hsluvCacheValues.length/3|0),I._hsluvCacheMap.set(e,t),null==(n=I._hsluvResult)&&(n=[0,0,0]),I._hsluvTuple[0]=(e>>16&255)/255,I._hsluvTuple[1]=(e>>8&255)/255,I._hsluvTuple[2]=(255&e)/255,w.rgbToHsluv(I._hsluvTuple,n),n[1]*=.01,n[2]*=.01,I._hsluvCacheValues.push(I._hsluvResult[0]),I._hsluvCacheValues.push(I._hsluvResult[1]),I._hsluvCacheValues.push(I._hsluvResult[2])),I._hsluvCacheValues[3*(t-1)]},I.set_hueHSLuv=function(e,n){var t=I.get_saturationHSLuv(e),i=I.get_lightnessHSLuv(e);if(I._hsluvTuple[0]=n,I._hsluvTuple[1]=100*t,I._hsluvTuple[2]=100*i,.001<i){w.hsluvToRgb(I._hsluvTuple,I._hsluvResult);var l=I._hsluvResult[0];l<0&&(l=0);e=e&65535|(255<(r=Math.round(255*l))?255:r<0?0:r)<<16,(l=I._hsluvResult[1])<0&&(l=0);var r=Math.round(255*l),r=(e=e&16711935|(255<r?255:r<0?0:r)<<8,(l=I._hsluvResult[2])<0&&(l=0),Math.round(255*l));e=e&16776960|(255<r?255:r<0?0:r)}else{var l=(1-Math.abs(2*i-1))*t,s=i-l/2,t=n,h=l,i=(t%=360)/60,a=h*(1-Math.abs(i%2-1))+s;switch(h+=s,0|i){case 0:r=(e=e&65535|(255<(r=Math.round(255*h))?255:r<0?0:r)<<16,Math.round(255*a)),r=(e=e&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*s));e=e&16776960|(255<r?255:r<0?0:r);break;case 1:r=(e=e&65535|(255<(r=Math.round(255*a))?255:r<0?0:r)<<16,Math.round(255*h)),r=(e=e&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*s));e=e&16776960|(255<r?255:r<0?0:r);break;case 2:r=(e=e&65535|(255<(r=Math.round(255*s))?255:r<0?0:r)<<16,Math.round(255*h)),r=(e=e&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*a));e=e&16776960|(255<r?255:r<0?0:r);break;case 3:r=(e=e&65535|(255<(r=Math.round(255*s))?255:r<0?0:r)<<16,Math.round(255*a)),r=(e=e&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*h));e=e&16776960|(255<r?255:r<0?0:r);break;case 4:r=(e=e&65535|(255<(r=Math.round(255*a))?255:r<0?0:r)<<16,Math.round(255*s)),r=(e=e&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*h));e=e&16776960|(255<r?255:r<0?0:r);break;case 5:r=(e=e&65535|(255<(r=Math.round(255*h))?255:r<0?0:r)<<16,Math.round(255*s)),r=(e=e&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*a));e=e&16776960|(255<r?255:r<0?0:r)}}return n},I.get_saturationHSLuv=function(e){var n,t=I._hsluvCacheMap.intMap.h[0|e],t=null!=t?t:0;return 0==t&&(t=1+(I._hsluvCacheValues.length/3|0),I._hsluvCacheMap.set(e,t),null==(n=I._hsluvResult)&&(n=[0,0,0]),I._hsluvTuple[0]=(e>>16&255)/255,I._hsluvTuple[1]=(e>>8&255)/255,I._hsluvTuple[2]=(255&e)/255,w.rgbToHsluv(I._hsluvTuple,n),n[1]*=.01,n[2]*=.01,I._hsluvCacheValues.push(I._hsluvResult[0]),I._hsluvCacheValues.push(I._hsluvResult[1]),I._hsluvCacheValues.push(I._hsluvResult[2])),I._hsluvCacheValues[3*(t-1)+1]},I.set_saturationHSLuv=function(e,n){var t=I.get_hueHSLuv(e),i=I.get_lightnessHSLuv(e);if(I._hsluvTuple[0]=t,I._hsluvTuple[1]=100*n,I._hsluvTuple[2]=100*i,.001<i){w.hsluvToRgb(I._hsluvTuple,I._hsluvResult);var l=I._hsluvResult[0];l<0&&(l=0);e=e&65535|(255<(r=Math.round(255*l))?255:r<0?0:r)<<16,(l=I._hsluvResult[1])<0&&(l=0);var r=Math.round(255*l),r=(e=e&16711935|(255<r?255:r<0?0:r)<<8,(l=I._hsluvResult[2])<0&&(l=0),Math.round(255*l));e=e&16776960|(255<r?255:r<0?0:r)}else{var l=(1-Math.abs(2*i-1))*n,s=i-l/2,i=t,h=l,t=(i%=360)/60,a=h*(1-Math.abs(t%2-1))+s;switch(h+=s,0|t){case 0:r=(e=e&65535|(255<(r=Math.round(255*h))?255:r<0?0:r)<<16,Math.round(255*a)),r=(e=e&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*s));e=e&16776960|(255<r?255:r<0?0:r);break;case 1:r=(e=e&65535|(255<(r=Math.round(255*a))?255:r<0?0:r)<<16,Math.round(255*h)),r=(e=e&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*s));e=e&16776960|(255<r?255:r<0?0:r);break;case 2:r=(e=e&65535|(255<(r=Math.round(255*s))?255:r<0?0:r)<<16,Math.round(255*h)),r=(e=e&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*a));e=e&16776960|(255<r?255:r<0?0:r);break;case 3:r=(e=e&65535|(255<(r=Math.round(255*s))?255:r<0?0:r)<<16,Math.round(255*a)),r=(e=e&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*h));e=e&16776960|(255<r?255:r<0?0:r);break;case 4:r=(e=e&65535|(255<(r=Math.round(255*a))?255:r<0?0:r)<<16,Math.round(255*s)),r=(e=e&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*h));e=e&16776960|(255<r?255:r<0?0:r);break;case 5:r=(e=e&65535|(255<(r=Math.round(255*h))?255:r<0?0:r)<<16,Math.round(255*s)),r=(e=e&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*a));e=e&16776960|(255<r?255:r<0?0:r)}}return n},I.get_lightnessHSLuv=function(e){var n,t=I._hsluvCacheMap.intMap.h[0|e],t=null!=t?t:0;return 0==t&&(t=1+(I._hsluvCacheValues.length/3|0),I._hsluvCacheMap.set(e,t),null==(n=I._hsluvResult)&&(n=[0,0,0]),I._hsluvTuple[0]=(e>>16&255)/255,I._hsluvTuple[1]=(e>>8&255)/255,I._hsluvTuple[2]=(255&e)/255,w.rgbToHsluv(I._hsluvTuple,n),n[1]*=.01,n[2]*=.01,I._hsluvCacheValues.push(I._hsluvResult[0]),I._hsluvCacheValues.push(I._hsluvResult[1]),I._hsluvCacheValues.push(I._hsluvResult[2])),I._hsluvCacheValues[3*(t-1)+2]},I.set_lightnessHSLuv=function(e,n){var t=I.get_hueHSLuv(e),i=I.get_saturationHSLuv(e);if(I._hsluvTuple[0]=t,I._hsluvTuple[1]=100*i,I._hsluvTuple[2]=100*n,.001<n){w.hsluvToRgb(I._hsluvTuple,I._hsluvResult);var l=I._hsluvResult[0];l<0&&(l=0);e=e&65535|(255<(r=Math.round(255*l))?255:r<0?0:r)<<16,(l=I._hsluvResult[1])<0&&(l=0);var r=Math.round(255*l),r=(e=e&16711935|(255<r?255:r<0?0:r)<<8,(l=I._hsluvResult[2])<0&&(l=0),Math.round(255*l));e=e&16776960|(255<r?255:r<0?0:r)}else{var l=(1-Math.abs(2*n-1))*i,s=n-l/2,i=t,h=l,t=(i%=360)/60,a=h*(1-Math.abs(t%2-1))+s;switch(h+=s,0|t){case 0:r=(e=e&65535|(255<(r=Math.round(255*h))?255:r<0?0:r)<<16,Math.round(255*a)),r=(e=e&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*s));e=e&16776960|(255<r?255:r<0?0:r);break;case 1:r=(e=e&65535|(255<(r=Math.round(255*a))?255:r<0?0:r)<<16,Math.round(255*h)),r=(e=e&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*s));e=e&16776960|(255<r?255:r<0?0:r);break;case 2:r=(e=e&65535|(255<(r=Math.round(255*s))?255:r<0?0:r)<<16,Math.round(255*h)),r=(e=e&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*a));e=e&16776960|(255<r?255:r<0?0:r);break;case 3:r=(e=e&65535|(255<(r=Math.round(255*s))?255:r<0?0:r)<<16,Math.round(255*a)),r=(e=e&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*h));e=e&16776960|(255<r?255:r<0?0:r);break;case 4:r=(e=e&65535|(255<(r=Math.round(255*a))?255:r<0?0:r)<<16,Math.round(255*s)),r=(e=e&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*h));e=e&16776960|(255<r?255:r<0?0:r);break;case 5:r=(e=e&65535|(255<(r=Math.round(255*h))?255:r<0?0:r)<<16,Math.round(255*s)),r=(e=e&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*a));e=e&16776960|(255<r?255:r<0?0:r)}}return n},I._getOrCreateCachedHSLuvComponent=function(e,n){var t,i=I._hsluvCacheMap.intMap.h[0|e],i=null!=i?i:0;return 0==i&&(i=1+(I._hsluvCacheValues.length/3|0),I._hsluvCacheMap.set(e,i),null==(t=I._hsluvResult)&&(t=[0,0,0]),I._hsluvTuple[0]=(e>>16&255)/255,I._hsluvTuple[1]=(e>>8&255)/255,I._hsluvTuple[2]=(255&e)/255,w.rgbToHsluv(I._hsluvTuple,t),t[1]*=.01,t[2]*=.01,I._hsluvCacheValues.push(I._hsluvResult[0]),I._hsluvCacheValues.push(I._hsluvResult[1]),I._hsluvCacheValues.push(I._hsluvResult[2])),I._hsluvCacheValues[3*(i-1)+n]},I.fromHSLuv=function(e,n,t){var i=0;if(I._hsluvTuple[0]=e,I._hsluvTuple[1]=100*n,I._hsluvTuple[2]=100*t,.001<t){w.hsluvToRgb(I._hsluvTuple,I._hsluvResult);var l=I._hsluvResult[0];l<0&&(l=0);i=i&65535|(255<(r=Math.round(255*l))?255:r<0?0:r)<<16,(l=I._hsluvResult[1])<0&&(l=0);var r=Math.round(255*l),r=(i=i&16711935|(255<r?255:r<0?0:r)<<8,(l=I._hsluvResult[2])<0&&(l=0),Math.round(255*l)),i=i&16776960|(255<r?255:r<0?0:r)}else{var l=(1-Math.abs(2*t-1))*n,s=t-l/2,n=e,h=l,t=(n%=360)/60,a=h*(1-Math.abs(t%2-1))+s;switch(h+=s,0|t){case 0:r=(i=i&65535|(255<(r=Math.round(255*h))?255:r<0?0:r)<<16,Math.round(255*a)),r=(i=i&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*s));i=i&16776960|(255<r?255:r<0?0:r);break;case 1:r=(i=i&65535|(255<(r=Math.round(255*a))?255:r<0?0:r)<<16,Math.round(255*h)),r=(i=i&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*s));i=i&16776960|(255<r?255:r<0?0:r);break;case 2:r=(i=i&65535|(255<(r=Math.round(255*s))?255:r<0?0:r)<<16,Math.round(255*h)),r=(i=i&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*a));i=i&16776960|(255<r?255:r<0?0:r);break;case 3:r=(i=i&65535|(255<(r=Math.round(255*s))?255:r<0?0:r)<<16,Math.round(255*a)),r=(i=i&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*h));i=i&16776960|(255<r?255:r<0?0:r);break;case 4:r=(i=i&65535|(255<(r=Math.round(255*a))?255:r<0?0:r)<<16,Math.round(255*s)),r=(i=i&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*h));i=i&16776960|(255<r?255:r<0?0:r);break;case 5:r=(i=i&65535|(255<(r=Math.round(255*h))?255:r<0?0:r)<<16,Math.round(255*s)),r=(i=i&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*a));i=i&16776960|(255<r?255:r<0?0:r)}}return i},I.setHSLuv=function(e,n,t,i){if(I._hsluvTuple[0]=n,I._hsluvTuple[1]=100*t,I._hsluvTuple[2]=100*i,.001<i){w.hsluvToRgb(I._hsluvTuple,I._hsluvResult);var l=I._hsluvResult[0];l<0&&(l=0);e=e&65535|(255<(r=Math.round(255*l))?255:r<0?0:r)<<16,(l=I._hsluvResult[1])<0&&(l=0);var r=Math.round(255*l),r=(e=e&16711935|(255<r?255:r<0?0:r)<<8,(l=I._hsluvResult[2])<0&&(l=0),Math.round(255*l));e=e&16776960|(255<r?255:r<0?0:r)}else{var l=(1-Math.abs(2*i-1))*t,s=i-l/2,t=n,h=l,i=(t%=360)/60,a=h*(1-Math.abs(i%2-1))+s;switch(h+=s,0|i){case 0:r=(e=e&65535|(255<(r=Math.round(255*h))?255:r<0?0:r)<<16,Math.round(255*a)),r=(e=e&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*s));e=e&16776960|(255<r?255:r<0?0:r);break;case 1:r=(e=e&65535|(255<(r=Math.round(255*a))?255:r<0?0:r)<<16,Math.round(255*h)),r=(e=e&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*s));e=e&16776960|(255<r?255:r<0?0:r);break;case 2:r=(e=e&65535|(255<(r=Math.round(255*s))?255:r<0?0:r)<<16,Math.round(255*h)),r=(e=e&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*a));e=e&16776960|(255<r?255:r<0?0:r);break;case 3:r=(e=e&65535|(255<(r=Math.round(255*s))?255:r<0?0:r)<<16,Math.round(255*a)),r=(e=e&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*h));e=e&16776960|(255<r?255:r<0?0:r);break;case 4:r=(e=e&65535|(255<(r=Math.round(255*a))?255:r<0?0:r)<<16,Math.round(255*s)),r=(e=e&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*h));e=e&16776960|(255<r?255:r<0?0:r);break;case 5:r=(e=e&65535|(255<(r=Math.round(255*h))?255:r<0?0:r)<<16,Math.round(255*s)),r=(e=e&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*a));e=e&16776960|(255<r?255:r<0?0:r)}}return e},I.getHSLuv=function(e,n){return null==n&&(n=[0,0,0]),I._hsluvTuple[0]=(e>>16&255)/255,I._hsluvTuple[1]=(e>>8&255)/255,I._hsluvTuple[2]=(255&e)/255,w.rgbToHsluv(I._hsluvTuple,n),n[1]*=.01,n[2]*=.01,n},(E["ceramic.LinearLayout"]=q0).__name__="ceramic.LinearLayout",q0.__super__=f0,q0.prototype=$extend(f0.prototype,{direction:null,set_direction:function(e){if(this.direction!=e){var n;if(e==Ln.VERTICAL)switch(this.align._hx_index){case 0:n=En.TOP;break;case 1:n=En.BOTTOM;break;default:n=this.align}else switch(this.align._hx_index){case 2:n=En.LEFT;break;case 3:n=En.RIGHT;break;default:n=this.align}this.set_align(n),this.direction=e,this.layoutDirty=!0}return e},itemSpacing:null,set_itemSpacing:function(e){return this.itemSpacing!=e&&(this.itemSpacing=e,this.layoutDirty=!0),e},align:null,set_align:function(e){return this.align!=e&&(this.align=e,this.layoutDirty=!0),e},childrenDepth:null,set_childrenDepth:function(e){return this.childrenDepth!=e&&(this.childrenDepth=e,this.layoutDirty=!0),e},computeSize:function(e,n,t,i){var l=0==(U=this.paddingLeft)?0:U<-39999.9&&-60000.1<U?.01*(U+5e4)*e:-60002.1<U&&U<-60001.9?e:U,r=0==(U=this.paddingTop)?0:U<-39999.9&&-60000.1<U?.01*(U+5e4)*n:-60002.1<U&&U<-60001.9?n:U,s=0==(U=this.paddingRight)?0:U<-39999.9&&-60000.1<U?.01*(U+5e4)*e:-60002.1<U&&U<-60001.9?e:U,h=0==(U=this.paddingBottom)?0:U<-39999.9&&-60000.1<U?.01*(U+5e4)*n:-60002.1<U&&U<-60001.9?n:U,a=Ye.NO_SIZE,o=Ye.NO_SIZE;if(this.direction==Ln.VERTICAL){f0.prototype.computeSize.call(this,e,n,t,i);var a=this.computedSize.computedWidth,o=this.computedSize.computedHeight,c=12,u=!(-60001.1<(I=this.viewWidth)&&I<-60000.9),_=((D=!(-60001.1<(I=this.viewHeight)&&I<-60000.9))&&(t=-5&t&-9),0),d=0,b=0,g=0,O=0==(U=this.itemSpacing)?0:U<-39999.9&&-60000.1<U?.01*(U+5e4)*n:-60002.1<U&&U<-60001.9?n:U;if(!u&&((null==(S=null)?1==(1&t):(t=S?1|t:-2&t,S))&&(c|=1),(null==(S=null)?2==(2&t):(t=S?2|t:-3&t,S))&&(c|=2),null==(S=null)?1==(1&t):(t=S?1|t:-2&t,S))||(a-=l+s),(D||!(null==(S=null)?4==(4&t):(t=S?4|t:-5&t,S))||0<o)&&(o-=r+h),null!=this.subviews)for(var f=0,p=this.subviews.length;f<p;){var C=f++;1!=(1&(k=this.subviews[C]).flags)&&(++b,-60002.1<(I=k.viewHeight)&&I<-60001.9?g+=k.flex:(k.computedSize=k.persistedComputedSizeForContext(a,o,c),null==k.computedSize&&k.computeSize(a,o,c,!1),k.computedSize.computedWidth>d&&(d=k.computedSize.computedWidth),_+=k.computedSize.computedHeight))}_+=1<b?O*(b-1):0;var v=0,w=c;if(u&&(w&=-2),w=(w&=-3)&-5&-9,0<g){if(0<(v=Math.max(0,o-_)/g))for(f=0,p=this.subviews.length;f<p;){C=f++;1!=(1&(k=this.subviews[C]).flags)&&-60002.1<(I=k.viewHeight)&&I<-60001.9&&(y=v*k.flex,k.computedSize=k.persistedComputedSizeForContext(a,y,w),null==k.computedSize&&k.computeSize(a,y,w,!1),k.computedSize.computedWidth>d)&&(d=k.computedSize.computedWidth)}_=o}if((null==(S=null)?1==(1&c):(c=S?1|c:-2&c,S))&&a<d&&(a=d),o<_&&(o=_),i){var m=c;if(m&=-3,null!=this.subviews)for(f=0,p=this.subviews.length;f<p;){C=f++;1!=(1&(k=this.subviews[C]).flags)&&!(-60002.1<(I=k.viewHeight)&&I<-60001.9)&&(k.computedSize=k.persistedComputedSizeForContext(a,o,m),null==k.computedSize)&&k.computeSize(a,o,m,i)}if(0<g&&0<v&&null!=this.subviews)for(f=0,p=this.subviews.length;f<p;){var y,C=f++;1!=(1&(k=this.subviews[C]).flags)&&-60002.1<(I=k.viewHeight)&&I<-60001.9&&(y=v*k.flex,k.computedSize=k.persistedComputedSizeForContext(a,y,w),null==k.computedSize)&&k.computeSize(a,y,w,i)}}}else{f0.prototype.computeSize.call(this,e,n,t,i),a=this.computedSize.computedWidth,o=this.computedSize.computedHeight;var U,c=3,u=!(-60001.1<(I=this.viewWidth)&&I<-60000.9),D=!(-60001.1<(I=this.viewHeight)&&I<-60000.9),T=(u&&(t=-2&t&-3),0),x=0,b=0,g=0,O=0==(U=this.itemSpacing)?0:U<-39999.9&&-60000.1<U?.01*(U+5e4)*e:-60002.1<U&&U<-60001.9?e:U;if(!D&&((null==(S=null)?4==(4&t):(t=S?4|t:-5&t,S))&&(c|=4),(null==(S=null)?8==(8&t):(t=S?8|t:-9&t,S))&&(c|=8),null==(S=null)?4==(4&t):(t=S?4|t:-5&t,S))||(o-=r+h),(u||!(null==(S=null)?1==(1&t):(t=S?1|t:-2&t,S))||0<a)&&(a-=l+s),null!=this.subviews)for(f=0,p=this.subviews.length;f<p;){C=f++;1!=(1&(k=this.subviews[C]).flags)&&(++b,-60002.1<(I=k.viewWidth)&&I<-60001.9?g+=k.flex:(k.computedSize=k.persistedComputedSizeForContext(a,o,c),null==k.computedSize&&k.computeSize(a,o,c,!1),k.computedSize.computedHeight>x&&(x=k.computedSize.computedHeight),T+=k.computedSize.computedWidth))}T+=1<b?O*(b-1):0;var S,A=0,w=c;if(D&&(w&=-5),w=(w&=-9)&-2&-3,0<g){if(0<(A=Math.max(0,a-T)/g))for(f=0,p=this.subviews.length;f<p;){C=f++;1!=(1&(k=this.subviews[C]).flags)&&-60002.1<(I=k.viewWidth)&&I<-60001.9&&(P=A*k.flex,k.computedSize=k.persistedComputedSizeForContext(P,o,w),null==k.computedSize&&k.computeSize(P,o,w,!1),k.computedSize.computedHeight>x)&&(x=k.computedSize.computedHeight)}T=a}if((null==(S=null)?4==(4&c):(c=S?4|c:-5&c,S))&&o<x&&(o=x),a<T&&(a=T),i){m=c;if(m&=-9,null!=this.subviews)for(f=0,p=this.subviews.length;f<p;){C=f++;1!=(1&(k=this.subviews[C]).flags)&&!(-60002.1<(I=k.viewWidth)&&I<-60001.9)&&(k.computedSize=k.persistedComputedSizeForContext(a,o,m),null==k.computedSize)&&k.computeSize(a,o,m,i)}if(0<g&&0<A&&null!=this.subviews)for(f=0,p=this.subviews.length;f<p;){var k,I,P,C=f++;1!=(1&(k=this.subviews[C]).flags)&&-60002.1<(I=k.viewWidth)&&I<-60001.9&&(P=A*k.flex,k.computedSize=k.persistedComputedSizeForContext(P,o,w),null==k.computedSize)&&k.computeSize(P,o,w,i)}}}a+=l+s,o+=r+h,i?this.persistComputedSize(e,n,t,a,o):this.assignComputedSize(a,o)},layout:function(){var e,n,t=this.paddingLeft,i=this.get_width(),l=0==t?0:t<-39999.9&&-60000.1<t?.01*(t+5e4)*i:-60002.1<t&&t<-60001.9?i:t,t=this.paddingTop,i=this.get_height(),r=0==t?0:t<-39999.9&&-60000.1<t?.01*(t+5e4)*i:-60002.1<t&&t<-60001.9?i:t,t=this.paddingRight,i=this.get_width(),s=0==t?0:t<-39999.9&&-60000.1<t?.01*(t+5e4)*i:-60002.1<t&&t<-60001.9?i:t,t=this.paddingBottom,i=this.get_height(),h=0==t?0:t<-39999.9&&-60000.1<t?.01*(t+5e4)*i:-60002.1<t&&t<-60001.9?i:t,a=this.get_width()-l-s,o=this.get_height()-r-h,c=!1;switch(this.childrenDepth){case-1:n=-1,e=null!=this.subviews?this.subviews.length:1;break;case 0:n=0,e=1;break;case 1:e=n=1;break;case 2:e=1,c=!(n=0)}if(this.direction==Ln.VERTICAL){var u=r,_=0,d=0,b=0,t=this.itemSpacing,i=this.get_height(),g=0==t?0:t<-39999.9&&-60000.1<t?.01*(t+5e4)*i:-60002.1<t&&t<-60001.9?i:t;if(null!=this.subviews)for(var O=0,f=this.subviews.length;O<f;){var p=O++;1!=(1&(D=this.subviews[p]).flags)&&(++d,-60002.1<(x=D.viewHeight)&&x<-60001.9?b+=D.flex:(D.computedSize=D.persistedComputedSizeForContext(a,o,A=12),null==D.computedSize&&D.computeSize(a,o,A,!0),D.set_x(l),U=D.computedSize.computedHeight,D.set_width(Math.min(a,D.computedSize.computedWidth)),D.set_height(U),_+=D.computedSize.computedHeight))}if(0<b){for(var C=1<d?g*(d-1):0,v=(Math.max(0,o-_)-C)/b,O=0,f=this.subviews.length;O<f;){var w,p=O++;(k=1!=(1&(D=this.subviews[p]).flags)&&-60002.1<(x=D.viewHeight)&&x<-60001.9)&&(w=v*D.flex,D.computedSize=D.persistedComputedSizeForContext(a,w,A=0),null==D.computedSize&&D.computeSize(a,w,A,!0),D.set_x(l),D.set_y(0),U=v*D.flex,D.set_width(a),D.set_height(U))}_=o}if(null!=this.subviews)for(O=0,f=this.subviews.length;O<f;){p=O++;1!=(1&(D=this.subviews[p]).flags)&&(0<p&&(u+=g,_+=g),D.set_y(u),D.get_height()+u>o+r&&D.set_height(Math.max(0,o+r-u)),u+=D.get_height(),c||(D.set_depth(e),e+=n))}if(u+=h,0<(C=o-_))switch(this.align._hx_index){case 3:case 4:if(this.align==En.CENTER&&(C=Math.round(.5*C)),null!=this.subviews)for(O=0,f=this.subviews.length;O<f;){p=O++;1!=(1&(D=this.subviews[p]).flags)&&D.set_y(D.y+C)}}}else{var m=l,y=0,d=0,b=0,t=this.itemSpacing,i=this.get_width(),g=0==t?0:t<-39999.9&&-60000.1<t?.01*(t+5e4)*i:-60002.1<t&&t<-60001.9?i:t;if(null!=this.subviews)for(O=0,f=this.subviews;O<f.length;){var U,D=f[O];++O,1!=(1&D.flags)&&(++d,-60002.1<(x=D.viewWidth)&&x<-60001.9?b+=D.flex:(D.computedSize=D.persistedComputedSizeForContext(a,o,A=3),null==D.computedSize&&D.computeSize(a,o,A,!0),D.set_y(r),U=Math.min(o,D.computedSize.computedHeight),D.set_width(D.computedSize.computedWidth),D.set_height(U),y+=D.computedSize.computedWidth))}if(0<b){for(var C=1<d?g*(d-1):0,T=(Math.max(0,a-y)-C)/b,O=0,f=this.subviews;O<f.length;){var x,S,A,D=f[O];++O,(k=1!=(1&D.flags)&&-60002.1<(x=D.viewWidth)&&x<-60001.9)&&(S=T*D.flex,D.computedSize=D.persistedComputedSizeForContext(S,o,A=0),null==D.computedSize&&D.computeSize(S,o,A,!0),D.set_x(0),D.set_y(r),D.set_width(T*D.flex),D.set_height(o))}y=a}if(null!=this.subviews)for(O=0,f=this.subviews.length;O<f;){p=O++;1!=(1&(D=this.subviews[p]).flags)&&(0<p&&(m+=g,y+=g),D.set_x(m),D.get_width()+m>a+l&&D.set_width(Math.max(0,a+l-m)),m+=D.get_width(),c||(D.set_depth(e),e+=n))}if(m+=s,0<(C=a-y))switch(this.align._hx_index){case 1:case 4:if(this.align==En.CENTER&&(C=Math.round(.5*C)),null!=this.subviews)for(O=0,f=this.subviews.length;O<f;){p=O++;1!=(1&(D=this.subviews[p]).flags)&&D.set_x(D.x+C)}}}if(null!=this.subviews)for(O=0,f=this.subviews.length;O<f;){var k,I,P,F,p=O++;1!=(1&(D=this.subviews[p]).flags)&&(I=D.x,k=D.get_width()*D.anchorX,t=D.offsetX,D.set_x(I+(k+(0==t?0:t<-39999.9&&-60000.1<t?.01*(t+5e4)*a:-60002.1<t&&t<-60001.9?a:t))),I=D.y,P=D.get_height()*D.anchorY,F=D.offsetY,D.set_y(I+(P+(0==F?0:F<-39999.9&&-60000.1<F?.01*(F+5e4)*o:-60002.1<F&&F<-60001.9?o:F))))}},__class__:q0,__properties__:$extend(f0.prototype.__properties__,{set_childrenDepth:"set_childrenDepth",set_align:"set_align",set_itemSpacing:"set_itemSpacing",set_direction:"set_direction"})}),(E["ceramic.ColumnLayout"]=r0).__name__="ceramic.ColumnLayout",r0.__super__=q0,r0.prototype=$extend(q0.prototype,{set_direction:function(e){if(e!=Ln.VERTICAL)throw oe.thrown("Changing direction of a ColumnLayout is not allowed. Use a LinearLayout if you want to change direction at runtime.");return this.direction=Ln.VERTICAL},__class__:r0}),function(e){null==e&&(e=10),this.fps=0,this.index=0,this.size=e,this.frames=[];for(var n=0,t=e;n<t;){n++;this.frames.push(0)}}),Ye=((E["ceramic.ComputeFps"]=Ge).__name__="ceramic.ComputeFps",Ge.prototype={frames:null,index:null,size:null,fps:null,addFrame:function(e){this.frames[this.index]=e,this.index=(this.index+1)%this.size;for(var n=0,t=0,i=this.size;t<i;){var l=t++;n+=this.frames[l]}n=0<n?this.size/n:0,this.fps=Math.round(Math.min(999,n))},__class__:Ge},function(e,n,t,i,l,r){this.computedFitWidth=Ye.NO_SIZE,this.computedHeight=Ye.NO_SIZE,this.computedWidth=Ye.NO_SIZE,this.parentHeight=Ye.NO_SIZE,this.parentWidth=Ye.NO_SIZE,this.parentLayoutMask=15,null!=e&&(this.parentLayoutMask=e),null!=n&&(this.parentWidth=n),null!=t&&(this.parentHeight=t),null!=i&&(this.computedWidth=i),null!=l&&(this.computedHeight=l),null!=r&&(this.computedFitWidth=r)}),Ke=((E["ceramic.ComputedViewSize"]=Ye).__name__="ceramic.ComputedViewSize",Ye.get=function(){null==Ye._pool&&(Ye._pool=new m);var e=Ye._pool,e=0<e.availableItems.length?e.availableItems.pop():null;return(e=null==e?new Ye(null,null,null,null,null,null):e).parentLayoutMask=15,e.parentWidth=Ye.NO_SIZE,e.parentHeight=Ye.NO_SIZE,e.computedWidth=Ye.NO_SIZE,e.computedHeight=Ye.NO_SIZE,e.computedFitWidth=Ye.NO_SIZE,e},Ye.prototype={parentLayoutMask:null,parentWidth:null,parentHeight:null,computedWidth:null,computedHeight:null,computedFitWidth:null,recycle:function(){Ye._pool.recycle(this)},__class__:Ye},(E["ceramic.ConvertField"]=u0).__name__="ceramic.ConvertField",u0.__isInterface__=!0,u0.prototype={basicToField:null,fieldToBasic:null,__class__:u0},function(){}),Xe=((E["ceramic.ConvertArray"]=Ke).__name__="ceramic.ConvertArray",Ke.__interfaces__=[u0],Ke.prototype={basicToField:function(e,n,t,i,l){l(null==i?null:[].concat(i))},fieldToBasic:function(e,n,t){return null==t?null:[].concat(t)},__class__:Ke},function(){this.preferStringBasic=!1}),$e=((E["ceramic.ConvertColor"]=Xe).__name__="ceramic.ConvertColor",Xe.__interfaces__=[u0],Xe.prototype={preferStringBasic:null,basicToField:function(e,n,t,i,l){l(null!=i?"string"==typeof i?I.fromString(i):0|i:0)},fieldToBasic:function(e,n,t){var i;return this.preferStringBasic?"#"+((i=null==(i=!1)?!0:i)?"0x":"")+z.hex(t>>16&255,2)+z.hex(t>>8&255,2)+z.hex(255&t,2):t},__class__:Xe},function(){}),je=((E["ceramic.ConvertComponentMap"]=$e).__name__="ceramic.ConvertComponentMap",$e.__interfaces__=[u0],$e.prototype={basicToField:function(e,n,t,i,l){if(null==i)l(null);else{for(var r=new ue,s=0,h=K.fields(i);s<h.length;){var a=h[s];++s,i[a];he.app.logger.error("Not using component initializers anymore. Need to implement event based solution!",{fileName:"../../../../ceramic/runtime/src/ceramic/ConvertComponentMap.hx",lineNumber:71,className:"ceramic.ConvertComponentMap",methodName:"basicToField"})}l(r)}},fieldToBasic:function(e,n,t){if(null==t)return null;for(var i={},l=t.h,r=Object.keys(l),s=r.length,h=0;h<s;){var a=r[h++],o=t.h[a];null!=o&&null!=o.initializerName&&(i[a]=o.initializerName)}return i},__class__:$e},function(){}),Qe=((E["ceramic.ConvertFont"]=je).__name__="ceramic.ConvertFont",je.__interfaces__=[u0],je.prototype={basicToField:function(e,n,t,i,l){null!=i?i==he.app.defaultFont.asset.name?l(he.app.defaultFont):t.ensureFont(i,null,null,function(e){l(null!=e?e.get_font():null)}):l(null)},fieldToBasic:function(e,n,t){return null==t||null==t.asset?null:t.asset.name},__class__:je},function(){}),qe=((E["ceramic.ConvertFragmentData"]=Qe).__name__="ceramic.ConvertFragmentData",Qe.__interfaces__=[u0],Qe.prototype={basicToField:function(e,n,t,i,l){l(i)},fieldToBasic:function(e,n,t){return t},__class__:Qe},function(){}),Ze=((E["ceramic.ConvertIntBoolMap"]=qe).__name__="ceramic.ConvertIntBoolMap",qe.__interfaces__=[u0],qe.prototype={basicToField:function(e,n,t,i,l){if(null==i)l(null);else{for(var r=new ze(16,.5,!1),s=0,h=K.fields(i);s<h.length;){var a=h[s];++s,r.set(X.parseInt(a),K.field(i,a)?1:0)}l(r)}},fieldToBasic:function(e,n,t){return null==t?null:(he.app.logger.warning("ConvertIntBoolMap.fieldToBasic() not implemented!",{fileName:"../../../../ceramic/runtime/src/ceramic/ConvertIntBoolMap.hx",lineNumber:92,className:"ceramic.ConvertIntBoolMap",methodName:"fieldToBasic"}),{})},__class__:qe},function(){}),Je=((E["ceramic.ConvertMap"]=Ze).__name__="ceramic.ConvertMap",Ze.__interfaces__=[u0],Ze.prototype={basicToField:function(e,n,t,i,l){if(null==i)l(null);else{for(var r=new ue,s=0,h=K.fields(i);s<h.length;){var a=h[s];++s,r.h[a]=i[a]}l(r)}},fieldToBasic:function(e,n,t){if(null==t)return null;for(var i={},l=t.h,r=Object.keys(l),s=r.length,h=0;h<s;){var a=r[h++];i[a]=t.h[a]}return i},__class__:Ze},function(){}),en=((E["ceramic.ConvertTexture"]=Je).__name__="ceramic.ConvertTexture",Je.__interfaces__=[u0],Je.prototype={basicToField:function(e,n,t,i,l){null!=i?t.ensureImage(i,null,null,function(e){l(null!=e?e.get_texture():null)}):l(null)},fieldToBasic:function(e,n,t){return null==t||null==t.asset?null:t.asset.name},__class__:Je},(E["ceramic.Csv"]=D0).__name__="ceramic.Csv",D0.parse=function(e){for(var n="",t=0,i="",l=(e=z.trim(e)).length,r=!1,s="",h=[];t<l;)if(i=e.charAt(t),r)'"'==i?'""'==i+e.charAt(t+1)?(s+='"',t+=2):(r=!1,++t):(s+=i,++t);else{if("\n"==i){++t;break}""==s&&'"'==i?r=!0:""==n?","==i||";"==i?(n=i,h.push(z.replace(s,"\r","")),s=""):s+=i:i==n?(h.push(z.replace(s,"\r","")),s=""):s+=i,++t}""!=s&&h.push(z.replace(s,"\r",""));for(var r=!1,s="",a={},o=!1,c=[],u=0,_="",d=-1;t<l;)i=e.charAt(t),r?'"'==i?'""'==i+e.charAt(t+1)?(s+='"',t+=2):(r=!1,++t):(s+=i,++t):("\n"==i?(null!=(_=h[u++])?(a[_]=z.replace(s,"\r",""),o=!0):-1==d&&(d=c.length),s="",c.push(a),o=!1,u=0,a={}):""==s&&'"'==i?r=!0:i==n?(null!=(_=h[u++])?(a[_]=z.replace(s,"\r",""),o=!0):-1==d&&(d=c.length),s=""):s+=i,++t);return null!=(_=h[u++])?(a[_]=z.replace(s,"\r",""),o=!0):-1==d&&(D0.warning(a),d=c.length),s="",o&&c.push(a),0<=d&&D0.warning("Malformed CSV: too many columns at row #"+d),c},D0.stringify=function(e,n){if(null==n){n=[];for(var t=Object.create(null),i=0;i<e.length;)for(var l=e[i],r=(++i,0),s=K.fields(l);r<s.length;){var h=s[r];++r,Object.prototype.hasOwnProperty.call(t,h)||(n.push(h),t[h]=!0)}}for(var a="",o=0,i=0;i<n.length;){h=n[i];if(++i,0<o++&&(a+=","),0!=h.length){a+='"';for(r=0,s=h.length;r<s;){var c=r++;a+='"'==(b=h.charAt(c))?'""':X.string(b)}a+='"'}}for(i=0;i<e.length;)for(l=e[i],r=(++i,a+="\n",o=0);r<n.length;){var h=n[r],u=(++r,0<o++&&(a+=","),K.field(l,h)),_=null!=u?X.string(u):"";if(0!=_.length){a+='"';for(var s=0,d=_.length;s<d;){var b,c=s++;a+='"'==(b=_.charAt(c))?'""':X.string(b)}a+='"'}}return a},D0.warning=function(e){he.app.logger.warning(e,{fileName:"../../../../ceramic/runtime/src/ceramic/Csv.hx",lineNumber:333,className:"ceramic.Csv",methodName:"warning"})},function(e,n,t,i,l){this.kind=e,this.add=n,this.extensions=t,this.dir=i,this.types=l}),nn=((E["ceramic.CustomAssetKind"]=en).__name__="ceramic.CustomAssetKind",en.prototype={kind:null,add:null,extensions:null,dir:null,types:null,__class__:en},function(e,n,t){this.unobservedDatabase=null,this.databaseAutoruns=null,Ea.call(this,"database",e,n,t)}),tn=((E["ceramic.DatabaseAsset"]=nn).__name__="ceramic.DatabaseAsset",nn.__super__=Ea,nn.prototype=$extend(Ea.prototype,{databaseAutoruns:null,get_database:function(){var e,n,t=this.unobservedDatabase;return null!=U.current&&(e=U.current,null!=(n=this.databaseAutoruns)||(n=U.getAutorunArray(),null!=(this.databaseAutoruns=n)))&&e.bindToAutorunArray(n),t},set_database:function(e){var n=this.unobservedDatabase;return this.unobservedDatabase=e,Bl.equalAny(n,e)||(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitDatabaseChange(e,n),null!=(n=this.databaseAutoruns)&&(this.databaseAutoruns=null,U.invalidateAutorunArray(n))),e},invalidateDatabase:function(){var e=this.unobservedDatabase,e=(this.emitDatabaseChange(e,e),this.databaseAutoruns);null!=e&&(this.databaseAutoruns=null,U.invalidateAutorunArray(e))},unobservedDatabase:null,__cbOnDatabaseChange:null,__cbOnceDatabaseChange:null,__cbOnOwnerUnbindDatabaseChange:null,__cbOnceOwnerUnbindDatabaseChange:null,emitDatabaseChange:function(e,n){var t=0;if(null!=this.__cbOnDatabaseChange&&(t+=this.__cbOnDatabaseChange.length),null!=this.__cbOnceDatabaseChange&&(t+=this.__cbOnceDatabaseChange.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnDatabaseChange)for(var s=0,h=this.__cbOnDatabaseChange.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnDatabaseChange[a],++r):--t}if(null!=this.__cbOnceDatabaseChange){for(var o=null,c=null,s=0,h=this.__cbOnceDatabaseChange.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceDatabaseChange[a],this.__cbOnceDatabaseChange[a]=null,u=this.__cbOnceOwnerUnbindDatabaseChange[a],(this.__cbOnceOwnerUnbindDatabaseChange[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindDatabaseChange[a]),c.push(this.__cbOnceDatabaseChange[a]))}this.__cbOnceOwnerUnbindDatabaseChange=o,this.__cbOnceDatabaseChange=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onDatabaseChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event databaseChange because owner is destroyed!");var l=function(e){null!=t&&(i.offDatabaseChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindDatabaseChange&&(this.__cbOnOwnerUnbindDatabaseChange=[]),this.__cbOnOwnerUnbindDatabaseChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindDatabaseChange&&(this.__cbOnOwnerUnbindDatabaseChange=[]),this.__cbOnOwnerUnbindDatabaseChange.push(null);null==this.__cbOnDatabaseChange&&(this.__cbOnDatabaseChange=[]),this.__cbOnDatabaseChange.push(t)},onceDatabaseChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event databaseChange because owner is destroyed!");var l=function(e){null!=t&&(i.offDatabaseChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindDatabaseChange&&(this.__cbOnceOwnerUnbindDatabaseChange=[]),this.__cbOnceOwnerUnbindDatabaseChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindDatabaseChange&&(this.__cbOnceOwnerUnbindDatabaseChange=[]),this.__cbOnceOwnerUnbindDatabaseChange.push(null);null==this.__cbOnceDatabaseChange&&(this.__cbOnceDatabaseChange=[]),this.__cbOnceDatabaseChange.push(t)},offDatabaseChange:function(e){if(null!=e){var n;null!=this.__cbOnDatabaseChange&&-1!=(n=this.__cbOnDatabaseChange.indexOf(e))&&(this.__cbOnDatabaseChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindDatabaseChange[n])&&r(),this.__cbOnOwnerUnbindDatabaseChange.splice(n,1)),null!=this.__cbOnceDatabaseChange&&-1!=(n=this.__cbOnceDatabaseChange.indexOf(e))&&(this.__cbOnceDatabaseChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindDatabaseChange[n])&&r(),this.__cbOnceOwnerUnbindDatabaseChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindDatabaseChange){for(var t=0,i=this.__cbOnOwnerUnbindDatabaseChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindDatabaseChange[l])&&r()}this.__cbOnOwnerUnbindDatabaseChange=null}if(null!=this.__cbOnceOwnerUnbindDatabaseChange){for(t=0,i=this.__cbOnceOwnerUnbindDatabaseChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindDatabaseChange[l])&&r()}this.__cbOnceOwnerUnbindDatabaseChange=null}this.__cbOnDatabaseChange=null,this.__cbOnceDatabaseChange=null}},listensDatabaseChange:function(){return null!=this.__cbOnDatabaseChange&&0<this.__cbOnDatabaseChange.length||null!=this.__cbOnceDatabaseChange&&0<this.__cbOnceDatabaseChange.length},load:function(){var e,n,t,i,l=this;this.set_status(Fe.LOADING),null==this.path?(he.app.logger.warning("Cannot load database asset if path is undefined.",{fileName:"../../../../ceramic/runtime/src/ceramic/DatabaseAsset.hx",lineNumber:92,className:"ceramic.DatabaseAsset",methodName:"load"}),this.set_status(Fe.BROKEN),this.emitComplete(!1)):(e={},null!=this.owner&&(e.immediate=this.owner.immediate,e.loadMethod=this.owner.loadMethod),n=this.path,t=fe.realAssetPath(n,this.runtimeAssets),0<(i=fe.getReloadCount(t))&&(t+="?hot="+i,n+="?hot="+i),he.app.logger.info("Load database "+n,{fileName:"../../../../ceramic/runtime/src/ceramic/DatabaseAsset.hx",lineNumber:113,className:"ceramic.DatabaseAsset",methodName:"load"}),he.app.backend.texts.load(t,e,function(e){if(null!=e){try{l.set_database(D0.parse(e))}catch(e){return Yi.lastError=e,l.set_status(Fe.BROKEN),he.app.logger.error("Failed to parse database at path: "+l.path,{fileName:"../../../../ceramic/runtime/src/ceramic/DatabaseAsset.hx",lineNumber:121,className:"ceramic.DatabaseAsset",methodName:"load"}),void l.emitComplete(!1)}l.set_status(Fe.READY),l.emitComplete(!0)}else l.set_status(Fe.BROKEN),he.app.logger.error("Failed to load database at path: "+l.path,{fileName:"../../../../ceramic/runtime/src/ceramic/DatabaseAsset.hx",lineNumber:130,className:"ceramic.DatabaseAsset",methodName:"load"}),l.emitComplete(!1)}))},assetFilesDidChange:function(e,n){var t=-1,n=(Object.prototype.hasOwnProperty.call(n.h,this.path)&&(t=n.h[this.path]),-1);(n=Object.prototype.hasOwnProperty.call(e.h,this.path)?e.h[this.path]:n)!=t&&(he.app.logger.info("Reload database (file has changed)",{fileName:"../../../../ceramic/runtime/src/ceramic/DatabaseAsset.hx",lineNumber:159,className:"ceramic.DatabaseAsset",methodName:"assetFilesDidChange"}),this.load())},destroy:function(){this._lifecycleState<=-2||(this._lifecycleState=-2,this._lifecycleState=-1,Ea.prototype.destroy.call(this),this.set_database(null))},unbindEvents:function(){Ea.prototype.unbindEvents.call(this),this.offDatabaseChange()},__class__:nn,__properties__:$extend(Ea.prototype.__properties__,{set_database:"set_database",get_database:"get_database"})}),(E["ceramic.DoubleClick"]=G0).__name__="ceramic.DoubleClick",G0.__interfaces__=[a0],G0.__super__=j,G0.prototype=$extend(j.prototype,{__cbOnDoubleClick:null,__cbOnceDoubleClick:null,__cbOnOwnerUnbindDoubleClick:null,__cbOnceOwnerUnbindDoubleClick:null,emitDoubleClick:function(){var e=0;if(null!=this.__cbOnDoubleClick&&(e+=this.__cbOnDoubleClick.length),null!=this.__cbOnceDoubleClick&&(e+=this.__cbOnceDoubleClick.length),0<e){var n=C.pool(e),t=n.get(),i=0;if(null!=this.__cbOnDoubleClick)for(var l=0,r=this.__cbOnDoubleClick.length;l<r;){var s=l++;!0?(t.vector[i]=this.__cbOnDoubleClick[s],++i):--e}if(null!=this.__cbOnceDoubleClick){for(var h=null,a=null,l=0,r=this.__cbOnceDoubleClick.length;l<r;){var o,s=l++;!0?(t.vector[i]=this.__cbOnceDoubleClick[s],this.__cbOnceDoubleClick[s]=null,o=this.__cbOnceOwnerUnbindDoubleClick[s],(this.__cbOnceOwnerUnbindDoubleClick[s]=null)!=o&&o(),++i):(--e,null==h&&(h=[],a=[],0),h.push(this.__cbOnceOwnerUnbindDoubleClick[s]),a.push(this.__cbOnceDoubleClick[s]))}this.__cbOnceOwnerUnbindDoubleClick=h,this.__cbOnceDoubleClick=a}for(l=0,r=e;l<r;){i=l++;(0,t.vector[i])()}n.release(t)}},onDoubleClick:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event doubleClick because owner is destroyed!");var l=function(e){null!=t&&(i.offDoubleClick(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindDoubleClick&&(this.__cbOnOwnerUnbindDoubleClick=[]),this.__cbOnOwnerUnbindDoubleClick.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindDoubleClick&&(this.__cbOnOwnerUnbindDoubleClick=[]),this.__cbOnOwnerUnbindDoubleClick.push(null);null==this.__cbOnDoubleClick&&(this.__cbOnDoubleClick=[]),this.__cbOnDoubleClick.push(t)},onceDoubleClick:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event doubleClick because owner is destroyed!");var l=function(e){null!=t&&(i.offDoubleClick(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindDoubleClick&&(this.__cbOnceOwnerUnbindDoubleClick=[]),this.__cbOnceOwnerUnbindDoubleClick.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindDoubleClick&&(this.__cbOnceOwnerUnbindDoubleClick=[]),this.__cbOnceOwnerUnbindDoubleClick.push(null);null==this.__cbOnceDoubleClick&&(this.__cbOnceDoubleClick=[]),this.__cbOnceDoubleClick.push(t)},offDoubleClick:function(e){if(null!=e){var n;null!=this.__cbOnDoubleClick&&-1!=(n=this.__cbOnDoubleClick.indexOf(e))&&(this.__cbOnDoubleClick.splice(n,1),null!=(r=this.__cbOnOwnerUnbindDoubleClick[n])&&r(),this.__cbOnOwnerUnbindDoubleClick.splice(n,1)),null!=this.__cbOnceDoubleClick&&-1!=(n=this.__cbOnceDoubleClick.indexOf(e))&&(this.__cbOnceDoubleClick.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindDoubleClick[n])&&r(),this.__cbOnceOwnerUnbindDoubleClick.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindDoubleClick){for(var t=0,i=this.__cbOnOwnerUnbindDoubleClick.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindDoubleClick[l])&&r()}this.__cbOnOwnerUnbindDoubleClick=null}if(null!=this.__cbOnceOwnerUnbindDoubleClick){for(t=0,i=this.__cbOnceOwnerUnbindDoubleClick.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindDoubleClick[l])&&r()}this.__cbOnceOwnerUnbindDoubleClick=null}this.__cbOnDoubleClick=null,this.__cbOnceDoubleClick=null}},listensDoubleClick:function(){return null!=this.__cbOnDoubleClick&&0<this.__cbOnDoubleClick.length||null!=this.__cbOnceDoubleClick&&0<this.__cbOnceDoubleClick.length},threshold:null,maxDelay:null,entity:null,pressed:null,firstClickTime:null,pointerStartX:null,pointerStartY:null,bindAsComponent:function(){this.entity.onPointerDown(this,$bind(this,this.handlePointerDown)),this.entity.onPointerUp(this,$bind(this,this.handlePointerUp)),this.entity.onBlur(this,$bind(this,this.handleBlur))},cancel:function(){he.app.screen.offPointerMove($bind(this,this.handlePointerMove)),this.pressed=!1,this.firstClickTime=-1},handlePointerDown:function(e){this.pointerStartX=he.app.screen.pointerX,this.pointerStartY=he.app.screen.pointerY,this.pressed=!0,0<=this.firstClickTime&&(Dt.now-this.firstClickTime<=this.maxDelay?this.emitDoubleClick():this.firstClickTime=-1),he.app.screen.onPointerMove(this,$bind(this,this.handlePointerMove))},handlePointerUp:function(e){this.pressed&&(this.pressed=!1,this.firstClickTime<0)?this.firstClickTime=Dt.now:0<=this.firstClickTime&&(this.firstClickTime=-1)},handlePointerMove:function(e){(Math.abs(he.app.screen.pointerX-this.pointerStartX)>this.threshold||Math.abs(he.app.screen.pointerY-this.pointerStartY)>this.threshold)&&(he.app.screen.offPointerMove($bind(this,this.handlePointerMove)),this.pressed=!1,this.firstClickTime=-1)},handleBlur:function(){this.pressed=!1},setEntity:function(e){this.entity=e instanceof o?e:null},getEntity:function(){return this.entity},initializerName:null,unbindEvents:function(){j.prototype.unbindEvents.call(this),this.offDoubleClick()},__class__:G0}),Oe["ceramic.Easing"]={__ename__:"ceramic.Easing",__constructs__:null,NONE:{_hx_name:"NONE",_hx_index:0,__enum__:"ceramic.Easing",toString:c},LINEAR:{_hx_name:"LINEAR",_hx_index:1,__enum__:"ceramic.Easing",toString:c},BACK_EASE_IN:{_hx_name:"BACK_EASE_IN",_hx_index:2,__enum__:"ceramic.Easing",toString:c},BACK_EASE_IN_OUT:{_hx_name:"BACK_EASE_IN_OUT",_hx_index:3,__enum__:"ceramic.Easing",toString:c},BACK_EASE_OUT:{_hx_name:"BACK_EASE_OUT",_hx_index:4,__enum__:"ceramic.Easing",toString:c},QUAD_EASE_IN:{_hx_name:"QUAD_EASE_IN",_hx_index:5,__enum__:"ceramic.Easing",toString:c},QUAD_EASE_IN_OUT:{_hx_name:"QUAD_EASE_IN_OUT",_hx_index:6,__enum__:"ceramic.Easing",toString:c},QUAD_EASE_OUT:{_hx_name:"QUAD_EASE_OUT",_hx_index:7,__enum__:"ceramic.Easing",toString:c},CUBIC_EASE_IN:{_hx_name:"CUBIC_EASE_IN",_hx_index:8,__enum__:"ceramic.Easing",toString:c},CUBIC_EASE_IN_OUT:{_hx_name:"CUBIC_EASE_IN_OUT",_hx_index:9,__enum__:"ceramic.Easing",toString:c},CUBIC_EASE_OUT:{_hx_name:"CUBIC_EASE_OUT",_hx_index:10,__enum__:"ceramic.Easing",toString:c},QUART_EASE_IN:{_hx_name:"QUART_EASE_IN",_hx_index:11,__enum__:"ceramic.Easing",toString:c},QUART_EASE_IN_OUT:{_hx_name:"QUART_EASE_IN_OUT",_hx_index:12,__enum__:"ceramic.Easing",toString:c},QUART_EASE_OUT:{_hx_name:"QUART_EASE_OUT",_hx_index:13,__enum__:"ceramic.Easing",toString:c},QUINT_EASE_IN:{_hx_name:"QUINT_EASE_IN",_hx_index:14,__enum__:"ceramic.Easing",toString:c},QUINT_EASE_IN_OUT:{_hx_name:"QUINT_EASE_IN_OUT",_hx_index:15,__enum__:"ceramic.Easing",toString:c},QUINT_EASE_OUT:{_hx_name:"QUINT_EASE_OUT",_hx_index:16,__enum__:"ceramic.Easing",toString:c},BOUNCE_EASE_IN:{_hx_name:"BOUNCE_EASE_IN",_hx_index:17,__enum__:"ceramic.Easing",toString:c},BOUNCE_EASE_IN_OUT:{_hx_name:"BOUNCE_EASE_IN_OUT",_hx_index:18,__enum__:"ceramic.Easing",toString:c},BOUNCE_EASE_OUT:{_hx_name:"BOUNCE_EASE_OUT",_hx_index:19,__enum__:"ceramic.Easing",toString:c},ELASTIC_EASE_IN:{_hx_name:"ELASTIC_EASE_IN",_hx_index:20,__enum__:"ceramic.Easing",toString:c},ELASTIC_EASE_IN_OUT:{_hx_name:"ELASTIC_EASE_IN_OUT",_hx_index:21,__enum__:"ceramic.Easing",toString:c},ELASTIC_EASE_OUT:{_hx_name:"ELASTIC_EASE_OUT",_hx_index:22,__enum__:"ceramic.Easing",toString:c},EXPO_EASE_IN:{_hx_name:"EXPO_EASE_IN",_hx_index:23,__enum__:"ceramic.Easing",toString:c},EXPO_EASE_IN_OUT:{_hx_name:"EXPO_EASE_IN_OUT",_hx_index:24,__enum__:"ceramic.Easing",toString:c},EXPO_EASE_OUT:{_hx_name:"EXPO_EASE_OUT",_hx_index:25,__enum__:"ceramic.Easing",toString:c},SINE_EASE_IN:{_hx_name:"SINE_EASE_IN",_hx_index:26,__enum__:"ceramic.Easing",toString:c},SINE_EASE_IN_OUT:{_hx_name:"SINE_EASE_IN_OUT",_hx_index:27,__enum__:"ceramic.Easing",toString:c},SINE_EASE_OUT:{_hx_name:"SINE_EASE_OUT",_hx_index:28,__enum__:"ceramic.Easing",toString:c},BEZIER:((x=function(e,n,t,i){return{_hx_index:29,x1:e,y1:n,x2:t,y2:i,__enum__:"ceramic.Easing",toString:c}})._hx_name="BEZIER",x.__params__=["x1","y1","x2","y2"],x),CUSTOM:((x=function(e){return{_hx_index:30,easing:e,__enum__:"ceramic.Easing",toString:c}})._hx_name="CUSTOM",x.__params__=["easing"],x)}),ln=(tn.__constructs__=[tn.NONE,tn.LINEAR,tn.BACK_EASE_IN,tn.BACK_EASE_IN_OUT,tn.BACK_EASE_OUT,tn.QUAD_EASE_IN,tn.QUAD_EASE_IN_OUT,tn.QUAD_EASE_OUT,tn.CUBIC_EASE_IN,tn.CUBIC_EASE_IN_OUT,tn.CUBIC_EASE_OUT,tn.QUART_EASE_IN,tn.QUART_EASE_IN_OUT,tn.QUART_EASE_OUT,tn.QUINT_EASE_IN,tn.QUINT_EASE_IN_OUT,tn.QUINT_EASE_OUT,tn.BOUNCE_EASE_IN,tn.BOUNCE_EASE_IN_OUT,tn.BOUNCE_EASE_OUT,tn.ELASTIC_EASE_IN,tn.ELASTIC_EASE_IN_OUT,tn.ELASTIC_EASE_OUT,tn.EXPO_EASE_IN,tn.EXPO_EASE_IN_OUT,tn.EXPO_EASE_OUT,tn.SINE_EASE_IN,tn.SINE_EASE_IN_OUT,tn.SINE_EASE_OUT,tn.BEZIER,tn.CUSTOM],(E["ceramic.EasingUtils"]=I0).__name__="ceramic.EasingUtils",I0.easingFromString=function(e){return B.createEnum(tn,e,I0._emptyArray)},I0.easingToString=function(e){return Oe[e.__enum__].__constructs__[e._hx_index]._hx_name},(E["ceramic.TextInputDelegate"]=J0).__name__="ceramic.TextInputDelegate",J0.__isInterface__=!0,J0.prototype={textInputClosestPositionInLine:null,textInputNumberOfLines:null,textInputIndexForPosInLine:null,textInputLineForIndex:null,textInputPosInLineForIndex:null,__class__:J0},(E["ceramic.EditText"]=K0).__name__="ceramic.EditText",K0.__interfaces__=[J0,a0],K0.__super__=j,K0.prototype=$extend(j.prototype,{__cbOnUpdate:null,__cbOnceUpdate:null,__cbOnOwnerUnbindUpdate:null,__cbOnceOwnerUnbindUpdate:null,emitUpdate:function(e){var n=0;if(null!=this.__cbOnUpdate&&(n+=this.__cbOnUpdate.length),null!=this.__cbOnceUpdate&&(n+=this.__cbOnceUpdate.length),0<n){var t=C.pool(n),i=t.get(),l=0;if(null!=this.__cbOnUpdate)for(var r=0,s=this.__cbOnUpdate.length;r<s;){var h=r++;!0?(i.vector[l]=this.__cbOnUpdate[h],++l):--n}if(null!=this.__cbOnceUpdate){for(var a=null,o=null,r=0,s=this.__cbOnceUpdate.length;r<s;){var c,h=r++;!0?(i.vector[l]=this.__cbOnceUpdate[h],this.__cbOnceUpdate[h]=null,c=this.__cbOnceOwnerUnbindUpdate[h],(this.__cbOnceOwnerUnbindUpdate[h]=null)!=c&&c(),++l):(--n,null==a&&(a=[],o=[],0),a.push(this.__cbOnceOwnerUnbindUpdate[h]),o.push(this.__cbOnceUpdate[h]))}this.__cbOnceOwnerUnbindUpdate=a,this.__cbOnceUpdate=o}for(r=0,s=n;r<s;){l=r++;(0,i.vector[l])(e)}t.release(i)}},onUpdate:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event update because owner is destroyed!");var l=function(e){null!=t&&(i.offUpdate(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindUpdate&&(this.__cbOnOwnerUnbindUpdate=[]),this.__cbOnOwnerUnbindUpdate.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindUpdate&&(this.__cbOnOwnerUnbindUpdate=[]),this.__cbOnOwnerUnbindUpdate.push(null);null==this.__cbOnUpdate&&(this.__cbOnUpdate=[]),this.__cbOnUpdate.push(t)},onceUpdate:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event update because owner is destroyed!");var l=function(e){null!=t&&(i.offUpdate(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindUpdate&&(this.__cbOnceOwnerUnbindUpdate=[]),this.__cbOnceOwnerUnbindUpdate.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindUpdate&&(this.__cbOnceOwnerUnbindUpdate=[]),this.__cbOnceOwnerUnbindUpdate.push(null);null==this.__cbOnceUpdate&&(this.__cbOnceUpdate=[]),this.__cbOnceUpdate.push(t)},offUpdate:function(e){if(null!=e){var n;null!=this.__cbOnUpdate&&-1!=(n=this.__cbOnUpdate.indexOf(e))&&(this.__cbOnUpdate.splice(n,1),null!=(r=this.__cbOnOwnerUnbindUpdate[n])&&r(),this.__cbOnOwnerUnbindUpdate.splice(n,1)),null!=this.__cbOnceUpdate&&-1!=(n=this.__cbOnceUpdate.indexOf(e))&&(this.__cbOnceUpdate.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindUpdate[n])&&r(),this.__cbOnceOwnerUnbindUpdate.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindUpdate){for(var t=0,i=this.__cbOnOwnerUnbindUpdate.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindUpdate[l])&&r()}this.__cbOnOwnerUnbindUpdate=null}if(null!=this.__cbOnceOwnerUnbindUpdate){for(t=0,i=this.__cbOnceOwnerUnbindUpdate.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindUpdate[l])&&r()}this.__cbOnceOwnerUnbindUpdate=null}this.__cbOnUpdate=null,this.__cbOnceUpdate=null}},listensUpdate:function(){return null!=this.__cbOnUpdate&&0<this.__cbOnUpdate.length||null!=this.__cbOnceUpdate&&0<this.__cbOnceUpdate.length},__cbOnStart:null,__cbOnceStart:null,__cbOnOwnerUnbindStart:null,__cbOnceOwnerUnbindStart:null,emitStart:function(){var e=0;if(null!=this.__cbOnStart&&(e+=this.__cbOnStart.length),null!=this.__cbOnceStart&&(e+=this.__cbOnceStart.length),0<e){var n=C.pool(e),t=n.get(),i=0;if(null!=this.__cbOnStart)for(var l=0,r=this.__cbOnStart.length;l<r;){var s=l++;!0?(t.vector[i]=this.__cbOnStart[s],++i):--e}if(null!=this.__cbOnceStart){for(var h=null,a=null,l=0,r=this.__cbOnceStart.length;l<r;){var o,s=l++;!0?(t.vector[i]=this.__cbOnceStart[s],this.__cbOnceStart[s]=null,o=this.__cbOnceOwnerUnbindStart[s],(this.__cbOnceOwnerUnbindStart[s]=null)!=o&&o(),++i):(--e,null==h&&(h=[],a=[],0),h.push(this.__cbOnceOwnerUnbindStart[s]),a.push(this.__cbOnceStart[s]))}this.__cbOnceOwnerUnbindStart=h,this.__cbOnceStart=a}for(l=0,r=e;l<r;){i=l++;(0,t.vector[i])()}n.release(t)}},onStart:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event start because owner is destroyed!");var l=function(e){null!=t&&(i.offStart(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindStart&&(this.__cbOnOwnerUnbindStart=[]),this.__cbOnOwnerUnbindStart.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindStart&&(this.__cbOnOwnerUnbindStart=[]),this.__cbOnOwnerUnbindStart.push(null);null==this.__cbOnStart&&(this.__cbOnStart=[]),this.__cbOnStart.push(t)},onceStart:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event start because owner is destroyed!");var l=function(e){null!=t&&(i.offStart(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindStart&&(this.__cbOnceOwnerUnbindStart=[]),this.__cbOnceOwnerUnbindStart.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindStart&&(this.__cbOnceOwnerUnbindStart=[]),this.__cbOnceOwnerUnbindStart.push(null);null==this.__cbOnceStart&&(this.__cbOnceStart=[]),this.__cbOnceStart.push(t)},offStart:function(e){if(null!=e){var n;null!=this.__cbOnStart&&-1!=(n=this.__cbOnStart.indexOf(e))&&(this.__cbOnStart.splice(n,1),null!=(r=this.__cbOnOwnerUnbindStart[n])&&r(),this.__cbOnOwnerUnbindStart.splice(n,1)),null!=this.__cbOnceStart&&-1!=(n=this.__cbOnceStart.indexOf(e))&&(this.__cbOnceStart.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindStart[n])&&r(),this.__cbOnceOwnerUnbindStart.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindStart){for(var t=0,i=this.__cbOnOwnerUnbindStart.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindStart[l])&&r()}this.__cbOnOwnerUnbindStart=null}if(null!=this.__cbOnceOwnerUnbindStart){for(t=0,i=this.__cbOnceOwnerUnbindStart.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindStart[l])&&r()}this.__cbOnceOwnerUnbindStart=null}this.__cbOnStart=null,this.__cbOnceStart=null}},listensStart:function(){return null!=this.__cbOnStart&&0<this.__cbOnStart.length||null!=this.__cbOnceStart&&0<this.__cbOnceStart.length},__cbOnSubmit:null,__cbOnceSubmit:null,__cbOnOwnerUnbindSubmit:null,__cbOnceOwnerUnbindSubmit:null,emitSubmit:function(){var e=0;if(null!=this.__cbOnSubmit&&(e+=this.__cbOnSubmit.length),null!=this.__cbOnceSubmit&&(e+=this.__cbOnceSubmit.length),0<e){var n=C.pool(e),t=n.get(),i=0;if(null!=this.__cbOnSubmit)for(var l=0,r=this.__cbOnSubmit.length;l<r;){var s=l++;!0?(t.vector[i]=this.__cbOnSubmit[s],++i):--e}if(null!=this.__cbOnceSubmit){for(var h=null,a=null,l=0,r=this.__cbOnceSubmit.length;l<r;){var o,s=l++;!0?(t.vector[i]=this.__cbOnceSubmit[s],this.__cbOnceSubmit[s]=null,o=this.__cbOnceOwnerUnbindSubmit[s],(this.__cbOnceOwnerUnbindSubmit[s]=null)!=o&&o(),++i):(--e,null==h&&(h=[],a=[],0),h.push(this.__cbOnceOwnerUnbindSubmit[s]),a.push(this.__cbOnceSubmit[s]))}this.__cbOnceOwnerUnbindSubmit=h,this.__cbOnceSubmit=a}for(l=0,r=e;l<r;){i=l++;(0,t.vector[i])()}n.release(t)}},onSubmit:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event submit because owner is destroyed!");var l=function(e){null!=t&&(i.offSubmit(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindSubmit&&(this.__cbOnOwnerUnbindSubmit=[]),this.__cbOnOwnerUnbindSubmit.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindSubmit&&(this.__cbOnOwnerUnbindSubmit=[]),this.__cbOnOwnerUnbindSubmit.push(null);null==this.__cbOnSubmit&&(this.__cbOnSubmit=[]),this.__cbOnSubmit.push(t)},onceSubmit:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event submit because owner is destroyed!");var l=function(e){null!=t&&(i.offSubmit(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindSubmit&&(this.__cbOnceOwnerUnbindSubmit=[]),this.__cbOnceOwnerUnbindSubmit.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindSubmit&&(this.__cbOnceOwnerUnbindSubmit=[]),this.__cbOnceOwnerUnbindSubmit.push(null);null==this.__cbOnceSubmit&&(this.__cbOnceSubmit=[]),this.__cbOnceSubmit.push(t)},offSubmit:function(e){if(null!=e){var n;null!=this.__cbOnSubmit&&-1!=(n=this.__cbOnSubmit.indexOf(e))&&(this.__cbOnSubmit.splice(n,1),null!=(r=this.__cbOnOwnerUnbindSubmit[n])&&r(),this.__cbOnOwnerUnbindSubmit.splice(n,1)),null!=this.__cbOnceSubmit&&-1!=(n=this.__cbOnceSubmit.indexOf(e))&&(this.__cbOnceSubmit.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindSubmit[n])&&r(),this.__cbOnceOwnerUnbindSubmit.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindSubmit){for(var t=0,i=this.__cbOnOwnerUnbindSubmit.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindSubmit[l])&&r()}this.__cbOnOwnerUnbindSubmit=null}if(null!=this.__cbOnceOwnerUnbindSubmit){for(t=0,i=this.__cbOnceOwnerUnbindSubmit.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindSubmit[l])&&r()}this.__cbOnceOwnerUnbindSubmit=null}this.__cbOnSubmit=null,this.__cbOnceSubmit=null}},listensSubmit:function(){return null!=this.__cbOnSubmit&&0<this.__cbOnSubmit.length||null!=this.__cbOnceSubmit&&0<this.__cbOnceSubmit.length},__cbOnStop:null,__cbOnceStop:null,__cbOnOwnerUnbindStop:null,__cbOnceOwnerUnbindStop:null,emitStop:function(){var e=0;if(null!=this.__cbOnStop&&(e+=this.__cbOnStop.length),null!=this.__cbOnceStop&&(e+=this.__cbOnceStop.length),0<e){var n=C.pool(e),t=n.get(),i=0;if(null!=this.__cbOnStop)for(var l=0,r=this.__cbOnStop.length;l<r;){var s=l++;!0?(t.vector[i]=this.__cbOnStop[s],++i):--e}if(null!=this.__cbOnceStop){for(var h=null,a=null,l=0,r=this.__cbOnceStop.length;l<r;){var o,s=l++;!0?(t.vector[i]=this.__cbOnceStop[s],this.__cbOnceStop[s]=null,o=this.__cbOnceOwnerUnbindStop[s],(this.__cbOnceOwnerUnbindStop[s]=null)!=o&&o(),++i):(--e,null==h&&(h=[],a=[],0),h.push(this.__cbOnceOwnerUnbindStop[s]),a.push(this.__cbOnceStop[s]))}this.__cbOnceOwnerUnbindStop=h,this.__cbOnceStop=a}for(l=0,r=e;l<r;){i=l++;(0,t.vector[i])()}n.release(t)}},onStop:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event stop because owner is destroyed!");var l=function(e){null!=t&&(i.offStop(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindStop&&(this.__cbOnOwnerUnbindStop=[]),this.__cbOnOwnerUnbindStop.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindStop&&(this.__cbOnOwnerUnbindStop=[]),this.__cbOnOwnerUnbindStop.push(null);null==this.__cbOnStop&&(this.__cbOnStop=[]),this.__cbOnStop.push(t)},onceStop:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event stop because owner is destroyed!");var l=function(e){null!=t&&(i.offStop(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindStop&&(this.__cbOnceOwnerUnbindStop=[]),this.__cbOnceOwnerUnbindStop.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindStop&&(this.__cbOnceOwnerUnbindStop=[]),this.__cbOnceOwnerUnbindStop.push(null);null==this.__cbOnceStop&&(this.__cbOnceStop=[]),this.__cbOnceStop.push(t)},offStop:function(e){if(null!=e){var n;null!=this.__cbOnStop&&-1!=(n=this.__cbOnStop.indexOf(e))&&(this.__cbOnStop.splice(n,1),null!=(r=this.__cbOnOwnerUnbindStop[n])&&r(),this.__cbOnOwnerUnbindStop.splice(n,1)),null!=this.__cbOnceStop&&-1!=(n=this.__cbOnceStop.indexOf(e))&&(this.__cbOnceStop.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindStop[n])&&r(),this.__cbOnceOwnerUnbindStop.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindStop){for(var t=0,i=this.__cbOnOwnerUnbindStop.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindStop[l])&&r()}this.__cbOnOwnerUnbindStop=null}if(null!=this.__cbOnceOwnerUnbindStop){for(t=0,i=this.__cbOnceOwnerUnbindStop.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindStop[l])&&r()}this.__cbOnceOwnerUnbindStop=null}this.__cbOnStop=null,this.__cbOnceStop=null}},listensStop:function(){return null!=this.__cbOnStop&&0<this.__cbOnStop.length||null!=this.__cbOnceStop&&0<this.__cbOnceStop.length},entity:null,multiline:null,get_editing:function(){return K0._activeEditTextInput==this},selectionColor:null,set_selectionColor:function(e){return this.selectionColor=e,null!=this.selectText&&(this.selectText.selectionColor=e),e},textCursorColor:null,set_textCursorColor:function(e){return this.textCursorColor=e,null!=this.selectText&&(this.selectText.textCursorColor=e),e},textCursorOffsetX:null,set_textCursorOffsetX:function(e){return this.textCursorOffsetX=e,null!=this.selectText&&(this.selectText.textCursorOffsetX=e),e},textCursorOffsetY:null,set_textCursorOffsetY:function(e){return this.textCursorOffsetY=e,null!=this.selectText&&(this.selectText.textCursorOffsetY=e),e},textCursorHeightFactor:null,set_textCursorHeightFactor:function(e){return this.textCursorHeightFactor=e,null!=this.selectText&&(this.selectText.textCursorHeightFactor=e),e},textCursorWidth:null,set_textCursorWidth:function(e){return this.textCursorWidth=e,null!=this.selectText&&(this.selectText.textCursorWidth=e),e},disabled:null,set_disabled:function(e){return e!=this.disabled&&(this.disabled=e)&&this.stopInput(),e},container:null,set_container:function(e){return this.container!=e&&(this.container=e,null!=this.selectText&&this.selectText.set_container(e),null!=this.entity)&&this.bindPointerEvents(),e},selectText:null,boundContainer:null,selectionBackgrounds:null,inputActive:null,willUpdateSelection:null,textCursor:null,textCursorToggleVisibilityTime:null,inputRectX:null,inputRectY:null,inputRectW:null,inputRectH:null,bindAsComponent:function(){this.selectText=this.entity.component("selectText"),null==this.selectText&&(this.selectText=new tt(this.selectionColor,this.textCursorColor,this.textCursorOffsetX,this.textCursorOffsetY,this.textCursorHeightFactor,this.textCursorWidth),this.entity.component("selectText",this.selectText)),this.selectText.set_container(this.container),this.selectText.onSelection(this,$bind(this,this.updateFromSelection)),this.bindPointerEvents(),this.bindKeyBindings(),he.app.onUpdate(this,$bind(this,this.handleAppUpdate)),this.handleMobileWebIfNeeded()},startInput:function(e,n){null==n&&(n=-1),null==e&&(e=-1);var t,i=this;null!=K0._activeEditTextInput?(K0._activeEditTextInput.stopInput(),K0._activeEditTextInput=null,he.app._onceImmediate(function(){i._lifecycleState<0||i.disabled||i.startInput(e,n)})):(this.emitStart(),n>this.entity.content.length&&(n=this.entity.content.length),t=(K0._activeEditTextInput=this).entity.content,this.computeInputRect(),he.app.textInput.onUpdate(this,$bind(this,this.updateFromTextInput)),he.app.textInput.onStop(this,$bind(this,this.handleStop)),he.app.textInput.onEnter(this,$bind(this,this.handleEnter)),he.app.textInput.onEscape(this,$bind(this,this.handleEscape)),he.app.textInput.onSelection(this,$bind(this,this.updateFromInputSelection)),this.selectText.set_showCursor(!0),this.selectText.set_allowSelectingFromPointer(!0),this.inputActive=!0,null!=this.domInput&&this.domInput.focus(),he.app.textInput.start(t,this.inputRectX,this.inputRectY,this.inputRectW,this.inputRectH,this.multiline,e,n,!0,this))},stopInput:function(){this.inputActive=!1,he.app.textInput.offUpdate($bind(this,this.updateFromTextInput)),he.app.textInput.offStop($bind(this,this.handleStop)),he.app.textInput.offEnter($bind(this,this.handleEnter)),he.app.textInput.offEscape($bind(this,this.handleEscape)),he.app.textInput.offSelection($bind(this,this.updateFromInputSelection)),K0._activeEditTextInput==this&&(he.app.textInput.stop(),K0._activeEditTextInput=null),this.selectText.set_showCursor(!1),this.selectText.set_allowSelectingFromPointer(!1),this.selectText.set_selectionStart(-1),this.selectText.set_selectionEnd(-1),this.emitStop()},updateText:function(e){this.inputActive&&(null!=this.domInput&&(this.domInput.value=e),he.app.textInput.set_text(e),this.entity.set_content(e),this.updateFromInputSelection(he.app.textInput.selectionStart,he.app.textInput.selectionEnd))},focus:function(){var e=this;this.disabled||(he.app.screen.set_focusedVisual(this.entity),this.inputActive)||he.app._onceImmediate(function(){e._lifecycleState<0||e.disabled||e.startInput(0,e.entity.content.length)})},handleStop:function(){this.stopInput()},handleEnter:function(){this.multiline||(this.emitSubmit(),this.stopInput())},handleEscape:function(){this.stopInput()},updateFromTextInput:function(e){var n=this;this.entity.set_content(e),null!=this.domInput?(this.domInput.value=e,this.domInputBlockHtmlInputEvent=!0,he.app.offXUpdates($bind(this,this.unBlockHtmlInputEvent)),he.app.onceXUpdates(this,2,$bind(this,this.unBlockHtmlInputEvent))):(this.domInputBlockSelection=!0,he.app._oncePostFlushImmediateWithOwner(this,function(){n.domInputBlockSelection=!1},!0)),this.emitUpdate(e)},updateFromSelection:function(e,n,t){he.app.textInput.updateSelection(e,n,t),this.domInputBlockSelection||null==this.domInput||(this.domInput.selectionStart=e,this.domInput.selectionEnd=n),this.domInputBlockSelection=!1},updateFromInputSelection:function(e,n){this.selectText.set_selectionStart(e),this.selectText.set_selectionEnd(n),this.domInputBlockSelection||null==this.domInput||(this.domInput.selectionStart=e,this.domInput.selectionEnd=n),this.domInputBlockSelection=!1},textInputClosestPositionInLine:function(e,n,t){n=this.entity.indexForPosInLine(n,e),e=this.entity.xPositionAtIndex(n);return this.entity.posInLineForX(t,e)},textInputNumberOfLines:function(){var e=this.entity.glyphQuads;return 0==e.length?1:e[e.length-1].line+1},textInputIndexForPosInLine:function(e,n){return this.entity.indexForPosInLine(e,n)},textInputLineForIndex:function(e){return this.entity.lineForIndex(e)},textInputPosInLineForIndex:function(e){return this.entity.posInLineForIndex(e)},bindPointerEvents:function(){null!=this.boundContainer?(this.boundContainer.offPointerDown($bind(this,this.handlePointerDown)),this.boundContainer=null):this.entity.offPointerDown($bind(this,this.handlePointerDown)),null!=this.container?(this.container.onPointerDown(this,$bind(this,this.handlePointerDown)),this.boundContainer=this.container):this.entity.onPointerDown(this,$bind(this,this.handlePointerDown))},handlePointerDown:function(e){this.focus()},handleAppUpdate:function(e){!this.inputActive||he.app.screen.get_focusedVisual()==this.entity||null!=this.container&&he.app.screen.get_focusedVisual()==this.container||this.stopInput()},bindKeyBindings:function(){var i=this,n=new Mn;n.bind([Bn.CMD_OR_CTRL,Bn.KEY(120)],function(){var e;he.app.screen.get_focusedVisual()!=i.entity||i.selectText.get_selectionEnd()-i.selectText.get_selectionStart()<=0||(e=i.entity.content.substring(i.selectText.get_selectionStart(),i.selectText.get_selectionEnd()),he.app.backend.clipboard.setText(e),e=i.entity.content.substring(0,i.selectText.get_selectionStart())+i.entity.content.substring(i.selectText.get_selectionEnd()),i.selectText.set_selectionEnd(i.selectText.get_selectionStart()),i.entity.set_content(e),i.emitUpdate(e))}),n.bind([Bn.CMD_OR_CTRL,Bn.KEY(118)],function(){var e,n,t;he.app.screen.get_focusedVisual()==i.entity&&(null==(e=he.app.backend.clipboard.getText())&&(e=""),i.multiline||(e=z.replace(e,"\n"," ")),z.replace(e,"\r",""),n=i.entity.content.substring(0,i.selectText.get_selectionStart())+e+i.entity.content.substring(i.selectText.get_selectionEnd()),(t=i.selectText).set_selectionStart(t.get_selectionStart()+e.length),i.selectText.set_selectionEnd(i.selectText.get_selectionStart()),i.entity.set_content(n),i.emitUpdate(n))}),this.onDestroy(n,function(e){n.destroy(),n=null}),this.entity.component("editText.keyBindings",n)},computeInputRect:function(){var e=this.entity,n=((e=null!=this.container?this.container:e).visualToScreen(0,0,K0._point),K0._point.x),t=K0._point.y,e=(e.visualToScreen(e.get_width(),e.get_height(),K0._point),K0._point.x),i=K0._point.y;this.inputRectX=n,this.inputRectY=t,this.inputRectW=e-n,this.inputRectH=i-t},destroy:function(){this._lifecycleState<=-2||(this._lifecycleState=-2,this.inputActive&&this.stopInput(),null!=this.domInput&&(this.domInput.parentNode.removeChild(this.domInput),this.domInput=null),this._lifecycleState=-1,j.prototype.destroy.call(this))},domInput:null,domInputBlockSelection:null,domInputBlockHtmlInputEvent:null,unBlockHtmlInputEvent:function(){this.domInputBlockHtmlInputEvent=!1},handleMobileWebIfNeeded:function(){var n=this;this.computeInputRect(),null!=be.navigator&&be.navigator.userAgent,window.MSStream;(Pt.isIos()||Pt.isAndroid())&&(this.domInput=window.document.createElement("input"),this.domInput.type="text",this.domInput.className="edit-text",this.domInput.style.display="block",this.domInput.style.position="absolute",this.domInput.style.left="-1px",this.domInput.style.top="-1px",this.domInput.style.width="1px",this.domInput.style.height="1px",this.domInput.style.overflow="hidden",this.domInput.style.margin="0",this.domInput.style.padding="0",this.domInput.style.border="none",this.domInput.style.borderRadius="0",this.domInput.style.outline="none",this.domInput.style.userSelect="none",this.domInput.style.zIndex="99999",this.domInput.style.opacity="0",this.domInput.style.backgroundColor="transparent",this.domInput.style.webkitTapHighlightColor="transparent",this.domInput.addEventListener("click",function(){n.inputActive||n.startInput()}),this.domInput.addEventListener("input",function(e){return n.inputActive&&(n.domInputBlockHtmlInputEvent?(n.domInput.value=n.entity.content,n.domInput.selectionStart=n.selectText.get_selectionStart(),n.domInput.selectionEnd=n.selectText.get_selectionEnd()):(e=e.target.value,n.entity.set_content(e),he.app.textInput.set_text(e),n.selectText.set_selectionStart(n.domInput.selectionStart),n.selectText.set_selectionEnd(n.domInput.selectionEnd),n.emitUpdate(e))),n.domInputBlockHtmlInputEvent=!1}),window.document.getElementById("ceramic-app").appendChild(this.domInput),he.app.onBeginDraw(this,$bind(this,this.updateDomInputState))),this.updateDomInputState()},updateDomInputState:function(){var e,n,t,i;null==this.domInput||(this.computeInputRect(),i=he.app.screen.matrix,e=(this.inputRectX*i.a+this.inputRectY*i.c+i.tx)/ee.app.screenDensity,n=(this.inputRectX*i.b+this.inputRectY*i.d+i.ty)/ee.app.screenDensity,t=((this.inputRectX+this.inputRectW)*i.a+(this.inputRectY+this.inputRectH)*i.c+i.tx)/ee.app.screenDensity-e,i=((this.inputRectX+this.inputRectW)*i.b+(this.inputRectY+this.inputRectH)*i.d+i.ty)/ee.app.screenDensity-n,this.inputActive?this.domInput.style.left=e-99999+"px":this.domInput.style.left=e+"px",this.domInput.style.top=n+"px",this.domInput.style.width=t+"px",this.domInput.style.height=i+"px",this.domInput.style.zIndex=100+Math.round(1e4*this.entity.computedDepth)+"px",this.inputActive)||window.document.activeElement!=this.domInput||this.domInput.blur()},setEntity:function(e){e instanceof ut?this.entity=e:this.entity=null},getEntity:function(){return this.entity},initializerName:null,unbindEvents:function(){j.prototype.unbindEvents.call(this),this.offUpdate(),this.offStart(),this.offSubmit(),this.offStop()},__class__:K0,__properties__:$extend(j.prototype.__properties__,{set_container:"set_container",set_disabled:"set_disabled",set_textCursorWidth:"set_textCursorWidth",set_textCursorHeightFactor:"set_textCursorHeightFactor",set_textCursorOffsetY:"set_textCursorOffsetY",set_textCursorOffsetX:"set_textCursorOffsetX",set_textCursorColor:"set_textCursorColor",set_selectionColor:"set_selectionColor",get_editing:"get_editing"})}),(E["ceramic.Equal"]=L0).__name__="ceramic.Equal",L0.equal=function(e,n){return e==n||(e instanceof Array?n instanceof Array&&L0._arrayEqual(e,n):e instanceof ue?n instanceof ue&&L0.stringMapEqual(e,n):e instanceof qi?n instanceof qi&&L0.intMapEqual(e,n):!(!K.isObject(e)||null!=Ul.getClass(e)||!K.isObject(n)||null!=Ul.getClass(n))&&L0.objectFieldsEqual(e,n))},L0.objectFieldsEqual=function(e,n){for(var t=0,i=K.fields(e);t<i.length;){var l=i[t];if(++t,!Object.prototype.hasOwnProperty.call(n,l)||!L0.equal(K.field(e,l),K.field(n,l)))return!1}for(t=0,i=K.fields(n);t<i.length;){l=i[t];if(++t,!Object.prototype.hasOwnProperty.call(e,l))return!1}return!0},L0._arrayEqual=function(e,n){var t=e.length;if(t!=n.length)return!1;for(var i=0,l=t;i<l;){var r=i++;if(e[r]!=n[r])return!1}return!0},L0.stringMapEqual=function(e,n){for(var t=e.h,i=t,l=Object.keys(t),r=l.length,s=0;s<r;){var h=o=l[s++],a=i[o];if(!Object.prototype.hasOwnProperty.call(n.h,h))return!1;if(n.h[h]!=a)return!1}for(i=t=n.h,r=(l=Object.keys(t)).length,s=0;s<r;){var o=l[s++];if(!Object.prototype.hasOwnProperty.call(e.h,o))return!1}return!0},L0.intMapEqual=function(e,n){for(var t=e,i=e.keys();i.hasNext();){var l=s=i.next(),r=t.get(s);if(!n.h.hasOwnProperty(l))return!1;if(n.h[l]!=r)return!1}for(var s=n.keys();s.hasNext();){l=s.next();if(!e.h.hasOwnProperty(l))return!1}return!0},function(){}),rn=((E["ceramic.Errors"]=ln).__name__="ceramic.Errors",ln.handleUncaughtError=function(e){for(var n=he.app,n=(null!=n.__cbOnCriticalError&&0<n.__cbOnCriticalError.length||null!=n.__cbOnceCriticalError&&n.__cbOnceCriticalError.length,zi.exceptionStack()),t=[].concat(n),i=(t.reverse(),he.app.emitCriticalError(e,t),0);i<t.length;){var l=t[i];++i,console.log(""+X.string(Pt.stackItemToString(l)))}console.log(""+X.string("[error] "+X.string(e)))},function(){}),sn=((E["ceramic.Extensions"]=rn).__name__="ceramic.Extensions",rn.unsafeGet=function(e,n){return e[n]},rn.unsafeSet=function(e,n,t){e[n]=t},rn.setArrayLength=function(e,n){if(e.length!=n)if(e.length>n)e.splice(n,e.length-n);else for(var t=e;t.length<n;)t.push(null)},rn.randomElement=function(e){return e[Math.floor(.99999*Math.random()*e.length)]},rn.randomElementExcept=function(e,n,t){if(t=null==t?!1:t){for(var i=null;(i=e[Math.floor(.99999*Math.random()*e.length)])==n;);return i}for(var l=[],r=0;r<e.length;){var s=e[r];++r,l.push(s)}rn.shuffle(l);for(r=0;r<l.length;){s=l[r];if(++r,s!=n)return s}return null},rn.randomElementMatchingValidator=function(e,n){for(var t=[],i=0;i<e.length;){var l=e[i];++i,t.push(l)}rn.shuffle(t);for(i=0;i<t.length;){l=t[i];if(++i,n(l))return l}return null},rn.shuffle=function(e){if(null!=e)for(var n=0,t=e.length;n<t;){var i=n++,l=Math.floor((e.length-1+1)*Math.random()),r=e[i],s=e[l];e[i]=s,e[l]=r}},rn.swapElements=function(e,n,t){var i=e[n];e[n]=e[t],e[t]=i},rn.removeNullElements=function(e){for(var n=0,t=0,i=e.length;n<i;){do{}while(null==e[n]&&(++t,++n<i));0!=t&&n<i&&(e[n-t]=e[n]),++n}var l=i-t;if(e.length!=l)if(e.length>l)e.splice(l,e.length-l);else for(var r=e;r.length<l;)r.push(null)},rn.setProperty=function(e,n,t){K.setProperty(e,n,t)},rn.getProperty=function(e,n){return K.getProperty(e,n)},function(){}),hn=((E["ceramic.FieldInfo"]=sn).__name__="ceramic.FieldInfo",sn.types=function(e,n){null==n&&(n=!0);var t=sn.fieldInfoMap.h[e];if(null==t){t=new ue,sn.fieldInfoMap.h[e]=t;for(var i=E[e];null!=i;){var l=K.field(i,"_fieldInfo");if(null!=l)for(var r=l,s=K.fields(l),h=0;h<s.length;){var a=s[h++],o=a,a=r[a];Object.prototype.hasOwnProperty.call(t.h,o)||(t.h[o]=a.type)}if(!n)break;i=i.__super__}}return t},sn.typeOf=function(e,n){return sn.types(e).h[n]},function(){}),an=((E["ceramic.FieldMeta"]=hn).__name__="ceramic.FieldMeta",hn._hasMeta=function(e,n,t,i,l){e=hn._getMeta(e,n,t,l);return null!=e&&Object.prototype.hasOwnProperty.call(e.h,i)},hn._getMeta=function(e,n,t,i){var l=null,r=i?hn.metaMapRecursive:hn.metaMap;if(Object.prototype.hasOwnProperty.call(r.h,n))l=r.h[n];else{for(l=new ue;null!=e;){var s=dl.getFields(e);if(null!=s)for(var h=0,a=K.fields(s);h<a.length;){var o=a[h],c=(++h,l.h[o]),u=(null==c&&(c=new ue,l.h[o]=c),K.field(s,o));if(null!=u)for(var _=0,d=K.fields(u);_<d.length;){var b=d[_];++_,Object.prototype.hasOwnProperty.call(c.h,b)||(c.h[b]=K.field(u,b))}}if(!i)break;e=e.__super__}r.h[n]=l}return Object.prototype.hasOwnProperty.call(l.h,t)?l.h[t]:null},function(){}),on=((E["ceramic.Files"]=an).__name__="ceramic.Files",an.haveSameContent=function(e,n){return he.app.logger.warning("haveSameContent() is not supported on this target",{fileName:"../../../../ceramic/runtime/src/ceramic/Files.hx",lineNumber:64,className:"ceramic.Files",methodName:"haveSameContent"}),!1},an.haveSameLastModified=function(e,n){return he.app.logger.warning("haveSameLastModified() is not supported on this target",{fileName:"../../../../ceramic/runtime/src/ceramic/Files.hx",lineNumber:111,className:"ceramic.Files",methodName:"haveSameLastModified"}),!1},an.setToSameLastModified=function(e,n){he.app.logger.warning("setToSameLastModified() is not supported on this target",{fileName:"../../../../ceramic/runtime/src/ceramic/Files.hx",lineNumber:143,className:"ceramic.Files",methodName:"setToSameLastModified"})},an.getFlatDirectory=function(e,n,t,i){return null==i&&(i=!0),null==t&&(t=!1),null==n&&(n=!0),[]},an.getLastModified=function(e){return-1},an.removeEmptyDirectories=function(e,n){null==n&&(n=!0),he.app.logger.warning("removeEmptyDirectories() is not supported on this target",{fileName:"../../../../ceramic/runtime/src/ceramic/Files.hx",lineNumber:302,className:"ceramic.Files",methodName:"removeEmptyDirectories"})},an.isEmptyDirectory=function(e,n){return null==n&&(n=!0),he.app.logger.warning("isEmptyDirectory() is not supported on this target",{fileName:"../../../../ceramic/runtime/src/ceramic/Files.hx",lineNumber:330,className:"ceramic.Files",methodName:"isEmptyDirectory"}),!1},an.deleteRecursive=function(e){he.app.logger.warning("deleteRecursive() is not supported on this target",{fileName:"../../../../ceramic/runtime/src/ceramic/Files.hx",lineNumber:382,className:"ceramic.Files",methodName:"deleteRecursive"})},an.getRelativePath=function(e,n){for(var t=se.substr(Rn.normalize(n),1,null).split("/"),i=se.substr(Rn.normalize(e),1,null).split("/"),n=Math.min(t.length,i.length),l=n,r=0,s=n;r<s;)if(t[a=r++]!=i[a]){l=a;break}for(var h=[],r=l,s=t.length;r<s;){var a=r++;h.push("..")}n=(h=h.concat(i.slice(l))).join("/");return z.endsWith(e,"/")&&!z.endsWith(n,"/")&&(n+="/"),n=z.startsWith(n,".")?n:"./"+n},an.copyFileWithIntermediateDirs=function(e,n){he.app.logger.warning("copyFileWithIntermediateDirs() is not supported on this target",{fileName:"../../../../ceramic/runtime/src/ceramic/Files.hx",lineNumber:460,className:"ceramic.Files",methodName:"copyFileWithIntermediateDirs"})},an.copyDirectory=function(e,n,t){null==t&&(t=!1),he.app.logger.warning("copyDirectory() is not supported on this target",{fileName:"../../../../ceramic/runtime/src/ceramic/Files.hx",lineNumber:501,className:"ceramic.Files",methodName:"copyDirectory"})},an.deleteFile=function(e){he.app.logger.warning("deleteFile() is not supported on this target",{fileName:"../../../../ceramic/runtime/src/ceramic/Files.hx",lineNumber:533,className:"ceramic.Files",methodName:"deleteFile"})},an.getContent=function(e){return he.app.logger.warning("getContent() is not supported on this target",{fileName:"../../../../ceramic/runtime/src/ceramic/Files.hx",lineNumber:565,className:"ceramic.Files",methodName:"getContent"}),null},an.getBytes=function(e){return he.app.logger.warning("getBytes() is not supported on this target",{fileName:"../../../../ceramic/runtime/src/ceramic/Files.hx",lineNumber:599,className:"ceramic.Files",methodName:"getBytes"}),null},an.saveContent=function(e,n){he.app.logger.warning("saveContent() is not supported on this target",{fileName:"../../../../ceramic/runtime/src/ceramic/Files.hx",lineNumber:631,className:"ceramic.Files",methodName:"saveContent"})},an.saveBytes=function(e,n){he.app.logger.warning("saveBytes() is not supported on this target",{fileName:"../../../../ceramic/runtime/src/ceramic/Files.hx",lineNumber:663,className:"ceramic.Files",methodName:"saveBytes"})},an.createDirectory=function(e){he.app.logger.warning("createDirectory() is not supported on this target",{fileName:"../../../../ceramic/runtime/src/ceramic/Files.hx",lineNumber:696,className:"ceramic.Files",methodName:"createDirectory"})},an.exists=function(e){return he.app.logger.warning("exists() is not supported on this target",{fileName:"../../../../ceramic/runtime/src/ceramic/Files.hx",lineNumber:754,className:"ceramic.Files",methodName:"exists"}),!1},an.isDirectory=function(e){return he.app.logger.warning("isDirectory() is not supported on this target",{fileName:"../../../../ceramic/runtime/src/ceramic/Files.hx",lineNumber:793,className:"ceramic.Files",methodName:"isDirectory"}),!1},function(){this.explicitRenderPendingResultCallbacks=null,this.explicitRenderState=0,this.neverEmpty=!1,this.density=-1,this.unobservedRenderTexture=null,this.renderTextureAutoruns=null,this.textureTile=null,this.textureTilePacker=null,this.explicitRender=!1,this.autoRender=!0,this.antialiasing=0,this.stencil=!0,this.depthBuffer=!0,this.textureFilter=wt.LINEAR,this.enabled=!0,this.hitVisual=null,this.destroyMeshOnRemove=!0,this.neverEmptyQuad=null,this.meshDirty=!1,this.mesh=null,this.textureId=null,this.observedDirty=!1,q.call(this),this.flags&=-17,this.content=new p,this.content.flags|=16,this.content.color=16777215,this.add(this.content),this.set_hitVisual(this),he.app.screen.onTexturesDensityChange(this,$bind(this,this.handleTexturesDensityChange))}),cn=((E["ceramic.Filter"]=on).__name__="ceramic.Filter",on.__interfaces__=[s],on.__super__=q,on.prototype=$extend(q.prototype,{__cbOnObservedDirty:null,__cbOnceObservedDirty:null,__cbOnOwnerUnbindObservedDirty:null,__cbOnceOwnerUnbindObservedDirty:null,emitObservedDirty:function(e,n){var t=0;if(null!=this.__cbOnObservedDirty&&(t+=this.__cbOnObservedDirty.length),null!=this.__cbOnceObservedDirty&&(t+=this.__cbOnceObservedDirty.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnObservedDirty)for(var s=0,h=this.__cbOnObservedDirty.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnObservedDirty[a],++r):--t}if(null!=this.__cbOnceObservedDirty){for(var o=null,c=null,s=0,h=this.__cbOnceObservedDirty.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceObservedDirty[a],this.__cbOnceObservedDirty[a]=null,u=this.__cbOnceOwnerUnbindObservedDirty[a],(this.__cbOnceOwnerUnbindObservedDirty[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindObservedDirty[a]),c.push(this.__cbOnceObservedDirty[a]))}this.__cbOnceOwnerUnbindObservedDirty=o,this.__cbOnceObservedDirty=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onObservedDirty:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event observedDirty because owner is destroyed!");var l=function(e){null!=t&&(i.offObservedDirty(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push(null);null==this.__cbOnObservedDirty&&(this.__cbOnObservedDirty=[]),this.__cbOnObservedDirty.push(t)},onceObservedDirty:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event observedDirty because owner is destroyed!");var l=function(e){null!=t&&(i.offObservedDirty(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push(null);null==this.__cbOnceObservedDirty&&(this.__cbOnceObservedDirty=[]),this.__cbOnceObservedDirty.push(t)},offObservedDirty:function(e){if(null!=e){var n;null!=this.__cbOnObservedDirty&&-1!=(n=this.__cbOnObservedDirty.indexOf(e))&&(this.__cbOnObservedDirty.splice(n,1),null!=(r=this.__cbOnOwnerUnbindObservedDirty[n])&&r(),this.__cbOnOwnerUnbindObservedDirty.splice(n,1)),null!=this.__cbOnceObservedDirty&&-1!=(n=this.__cbOnceObservedDirty.indexOf(e))&&(this.__cbOnceObservedDirty.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindObservedDirty[n])&&r(),this.__cbOnceOwnerUnbindObservedDirty.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindObservedDirty){for(var t=0,i=this.__cbOnOwnerUnbindObservedDirty.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindObservedDirty[l])&&r()}this.__cbOnOwnerUnbindObservedDirty=null}if(null!=this.__cbOnceOwnerUnbindObservedDirty){for(t=0,i=this.__cbOnceOwnerUnbindObservedDirty.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindObservedDirty[l])&&r()}this.__cbOnceOwnerUnbindObservedDirty=null}this.__cbOnObservedDirty=null,this.__cbOnceObservedDirty=null}},listensObservedDirty:function(){return null!=this.__cbOnObservedDirty&&0<this.__cbOnObservedDirty.length||null!=this.__cbOnceObservedDirty&&0<this.__cbOnceObservedDirty.length},observedDirty:null,textureId:null,set_textureId:function(e){return this.textureId=e,null!=this.get_renderTexture()&&(this.get_renderTexture().id=e),e},mesh:null,set_mesh:function(e){var n;return this.mesh!=e&&(null!=this.mesh&&(this.destroyMeshOnRemove?(n=this.mesh,this.mesh=null,n.destroy()):this.remove(this.mesh)),this.mesh=e,null!=this.mesh&&this.add(this.mesh),this.meshDirty=!0,this.contentDirty=!0,he.app.visualsContentDirty=!0),e},meshDirty:null,neverEmptyQuad:null,destroyMeshOnRemove:null,content:null,hitVisual:null,set_hitVisual:function(e){return this.hitVisual!=e&&(null!=this.hitVisual&&he.app.screen.removeHitVisual(this.hitVisual),this.hitVisual=e,null!=this.hitVisual)&&he.app.screen.addHitVisual(this.hitVisual),e},enabled:null,set_enabled:function(e){return this.enabled!=e&&(this.enabled=e,this.flags=!e?16|this.flags:-17&this.flags,this.contentDirty=!0,he.app.visualsContentDirty=!0),e},textureFilter:null,set_textureFilter:function(e){return this.textureFilter!=e&&(this.textureFilter=e,null!=this.get_renderTexture())&&this.get_renderTexture().set_filter(e),e},depthBuffer:null,set_depthBuffer:function(e){return this.depthBuffer!=e&&(this.depthBuffer=e,this.contentDirty=!0,he.app.visualsContentDirty=!0),e},stencil:null,set_stencil:function(e){return this.stencil!=e&&(this.stencil=e,this.contentDirty=!0,he.app.visualsContentDirty=!0),e},antialiasing:null,set_antialiasing:function(e){return this.antialiasing!=e&&(this.antialiasing=e,this.contentDirty=!0,he.app.visualsContentDirty=!0),e},autoRender:null,set_autoRender:function(e){return this.autoRender!=e&&(this.autoRender=e,null!=this.get_renderTexture())&&(this.get_renderTexture().autoRender=e),e},explicitRender:null,set_explicitRender:function(e){return this.explicitRender!=e&&(this.explicitRender=e,this.content.set_active(!e)),e},textureTilePacker:null,set_textureTilePacker:function(e){return this.textureTilePacker!=e&&(null!=this.textureTile&&null!=this.textureTilePacker&&(this.textureTilePacker.releaseTile(this.textureTile),this.textureTile=null,this.set_tile(null),this.set_tile(null),this.content.set_renderTarget(null)),this.textureTilePacker=e,this.contentDirty=!0,he.app.visualsContentDirty=!0),e},textureTile:null,renderTextureAutoruns:null,get_renderTexture:function(){var e,n,t=this.unobservedRenderTexture;return null!=U.current&&(e=U.current,null!=(n=this.renderTextureAutoruns)||(n=U.getAutorunArray(),null!=(this.renderTextureAutoruns=n)))&&e.bindToAutorunArray(n),t},set_renderTexture:function(e){var n=this.unobservedRenderTexture;return n!=(this.unobservedRenderTexture=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitRenderTextureChange(e,n),null!=(n=this.renderTextureAutoruns))&&(this.renderTextureAutoruns=null,U.invalidateAutorunArray(n)),e},invalidateRenderTexture:function(){var e=this.unobservedRenderTexture,e=(this.emitRenderTextureChange(e,e),this.renderTextureAutoruns);null!=e&&(this.renderTextureAutoruns=null,U.invalidateAutorunArray(e))},unobservedRenderTexture:null,__cbOnRenderTextureChange:null,__cbOnceRenderTextureChange:null,__cbOnOwnerUnbindRenderTextureChange:null,__cbOnceOwnerUnbindRenderTextureChange:null,emitRenderTextureChange:function(e,n){var t=0;if(null!=this.__cbOnRenderTextureChange&&(t+=this.__cbOnRenderTextureChange.length),null!=this.__cbOnceRenderTextureChange&&(t+=this.__cbOnceRenderTextureChange.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnRenderTextureChange)for(var s=0,h=this.__cbOnRenderTextureChange.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnRenderTextureChange[a],++r):--t}if(null!=this.__cbOnceRenderTextureChange){for(var o=null,c=null,s=0,h=this.__cbOnceRenderTextureChange.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceRenderTextureChange[a],this.__cbOnceRenderTextureChange[a]=null,u=this.__cbOnceOwnerUnbindRenderTextureChange[a],(this.__cbOnceOwnerUnbindRenderTextureChange[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindRenderTextureChange[a]),c.push(this.__cbOnceRenderTextureChange[a]))}this.__cbOnceOwnerUnbindRenderTextureChange=o,this.__cbOnceRenderTextureChange=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onRenderTextureChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event renderTextureChange because owner is destroyed!");var l=function(e){null!=t&&(i.offRenderTextureChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindRenderTextureChange&&(this.__cbOnOwnerUnbindRenderTextureChange=[]),this.__cbOnOwnerUnbindRenderTextureChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindRenderTextureChange&&(this.__cbOnOwnerUnbindRenderTextureChange=[]),this.__cbOnOwnerUnbindRenderTextureChange.push(null);null==this.__cbOnRenderTextureChange&&(this.__cbOnRenderTextureChange=[]),this.__cbOnRenderTextureChange.push(t)},onceRenderTextureChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event renderTextureChange because owner is destroyed!");var l=function(e){null!=t&&(i.offRenderTextureChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindRenderTextureChange&&(this.__cbOnceOwnerUnbindRenderTextureChange=[]),this.__cbOnceOwnerUnbindRenderTextureChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindRenderTextureChange&&(this.__cbOnceOwnerUnbindRenderTextureChange=[]),this.__cbOnceOwnerUnbindRenderTextureChange.push(null);null==this.__cbOnceRenderTextureChange&&(this.__cbOnceRenderTextureChange=[]),this.__cbOnceRenderTextureChange.push(t)},offRenderTextureChange:function(e){if(null!=e){var n;null!=this.__cbOnRenderTextureChange&&-1!=(n=this.__cbOnRenderTextureChange.indexOf(e))&&(this.__cbOnRenderTextureChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindRenderTextureChange[n])&&r(),this.__cbOnOwnerUnbindRenderTextureChange.splice(n,1)),null!=this.__cbOnceRenderTextureChange&&-1!=(n=this.__cbOnceRenderTextureChange.indexOf(e))&&(this.__cbOnceRenderTextureChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindRenderTextureChange[n])&&r(),this.__cbOnceOwnerUnbindRenderTextureChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindRenderTextureChange){for(var t=0,i=this.__cbOnOwnerUnbindRenderTextureChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindRenderTextureChange[l])&&r()}this.__cbOnOwnerUnbindRenderTextureChange=null}if(null!=this.__cbOnceOwnerUnbindRenderTextureChange){for(t=0,i=this.__cbOnceOwnerUnbindRenderTextureChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindRenderTextureChange[l])&&r()}this.__cbOnceOwnerUnbindRenderTextureChange=null}this.__cbOnRenderTextureChange=null,this.__cbOnceRenderTextureChange=null}},listensRenderTextureChange:function(){return null!=this.__cbOnRenderTextureChange&&0<this.__cbOnRenderTextureChange.length||null!=this.__cbOnceRenderTextureChange&&0<this.__cbOnceRenderTextureChange.length},density:null,set_density:function(e){return this.density!=e&&(this.density=e,this.contentDirty=!0,he.app.visualsContentDirty=!0),e},neverEmpty:null,set_neverEmpty:function(e){var n;return this.neverEmpty!=e&&((this.neverEmpty=e)?null==this.neverEmptyQuad&&(this.neverEmptyQuad=new p,(n=this.neverEmptyQuad).set_width(1),n.set_height(1),(n=this.neverEmptyQuad).set_x(-999999999),n.set_y(-999999999),this.content.add(this.neverEmptyQuad)):null!=this.neverEmptyQuad&&(this.neverEmptyQuad.destroy(),this.neverEmptyQuad=null)),e},explicitRenderState:null,explicitRenderPendingResultCallbacks:null,handleTexturesDensityChange:function(e,n){e!=n&&-1==this.density&&(this.updateRenderTextureAndContent(Math.ceil(this.get_width()),Math.ceil(this.get_height()),e,this.depthBuffer,this.stencil,this.antialiasing),this.contentDirty=!1)},updateRenderTextureAndContent:function(e,n,t,i,l,r){var s=null!=this.mesh?this.mesh.texture:this._texture,h=(this.enabled?(this.meshDirty||null==this.get_renderTexture()||(null==this.textureTilePacker||!this.textureTilePacker.managesTexture(this.get_renderTexture()))&&(this.get_renderTexture().width!=e||this.get_renderTexture().height!=n||-1!=t&&this.get_renderTexture().density!=t||this.get_renderTexture().depth!=i||this.get_renderTexture().stencil!=l||this.get_renderTexture().antialiasing!=r)||null!=this.textureTilePacker&&!this.textureTilePacker.managesTexture(this.get_renderTexture())||null!=this.textureTile&&(this.textureTile.frameWidth!=e||this.textureTile.frameHeight!=n))&&(null==this.get_renderTexture()||null!=this.textureTilePacker&&this.textureTilePacker.managesTexture(this.get_renderTexture())||(s=null,this.get_renderTexture().destroy(),this.set_renderTexture(null)),null!=this.textureTile&&null!=this.textureTilePacker&&(this.textureTilePacker.releaseTile(this.textureTile),this.textureTile=null),0<e)&&0<n&&(null!=this.textureTilePacker?(this.set_renderTexture(this.textureTilePacker.texture),this.textureTile=this.textureTilePacker.allocTile(e,n),this.set_tile(this.textureTile)):(this.set_renderTexture(new Gn(e,n,t,i,l,r)),this.get_renderTexture().id=this.textureId,this.get_renderTexture().set_filter(this.textureFilter),this.get_renderTexture().autoRender=this.autoRender,this.set_tile(null),s=this.get_renderTexture())):null==this.get_renderTexture()||null!=this.textureTilePacker&&this.textureTilePacker.managesTexture(this.get_renderTexture())||(this.set_tile(null),s=null,this.get_renderTexture().destroy(),this.set_renderTexture(null)),null!=this.mesh?((h=this.mesh).texture!=s&&(null!=h.texture&&(h.texture.offDestroy($bind(h,h.textureDestroyed)),null!=h.texture.asset)&&h.texture.asset.release(),h.texture=s,null!=h.texture)&&(h.texture.onDestroy(h,$bind(h,h.textureDestroyed)),null!=h.texture.asset)&&h.texture.asset.retain(),null!=this._texture&&this._set_texture(null)):this._texture!=s&&this._set_texture(s),this.meshDirty=!1,this.content);h.set_width(e),h.set_height(n),this.content.set_renderTarget(this.get_renderTexture()),null!=this.textureTile?(h=this.content,t=this.textureTile.frameY,h.set_x(this.textureTile.frameX),h.set_y(t)):((h=this.content).set_x(0),h.set_y(0)),this.content.contentDirty&&this.content.computeContent()},render:function(s){var h=this;if(this.explicitRender)if(1==this.explicitRenderState)null!=s&&(null==this.explicitRenderPendingResultCallbacks&&(this.explicitRenderPendingResultCallbacks=[]),this.explicitRenderPendingResultCallbacks.push(s),s=null);else if(2==this.explicitRenderState)null!=s&&(null==this.explicitRenderPendingResultCallbacks&&(this.explicitRenderPendingResultCallbacks=[]),this.explicitRenderPendingResultCallbacks.push(function(){h.render(s),s=null}));else if(this.explicitRenderState=1,this.contentDirty&&this.computeContent(),null==this.get_renderTexture()){this.explicitRenderState=0;var e=this.explicitRenderPendingResultCallbacks;if((this.explicitRenderPendingResultCallbacks=null)!=s&&(s(),s=null),null!=e)for(var n=0,t=e.length;n<t;){var i=n++,l=e[i];e[i]=null,l(),l=null}}else this.content.set_active(!0),he.app.onceUpdate(null,function(e){if(h._lifecycleState<0)s=null;else if(h.explicitRenderState=2,h.contentDirty&&h.computeContent(),null==h.get_renderTexture()){h.content.set_active(!1),h.explicitRenderState=0;var n=h.explicitRenderPendingResultCallbacks;if((h.explicitRenderPendingResultCallbacks=null)!=s&&(s(),s=null),null!=n)for(var t=0,i=n.length;t<i;){var l=t++,r=n[l];n[l]=null,r(),r=null}}else h.get_renderTexture().renderDirty=!0,he.app.onceFinishDraw(null,function(){if(h._lifecycleState<0)s=null;else{h.content.set_active(!1),h.explicitRenderState=0;var e=h.explicitRenderPendingResultCallbacks;if((h.explicitRenderPendingResultCallbacks=null)!=s&&(s(),s=null),null!=e)for(var n=0,t=e.length;n<t;){var i=n++,l=e[i];e[i]=null,l(),l=null}}})});else he.app.logger.warning("Explicit render is disabled on this filter. Ignoring render() call.",{fileName:"../../../../ceramic/runtime/src/ceramic/Filter.hx",lineNumber:479,className:"ceramic.Filter",methodName:"render"})},visualInContentHits:function(e,n,t){var i=qn.matchedHitVisual;if(qn.matchedHitVisual=null,this.hitVisual._hits(n,t,!1)){qn.matchedHitVisual=i,e.matrixDirty&&e.computeMatrix();var l=on._matrix,r=(l.a=e.matA,l.b=e.matB,l.c=e.matC,l.d=e.matD,l.tx=e.matTX,l.ty=e.matTY,l.changedDirty=!0,this.hitVisual);do{r.matrixDirty&&r.computeMatrix();var s=on._matrix.a*r.matA+on._matrix.b*r.matC,h=(on._matrix.b=on._matrix.a*r.matB+on._matrix.b*r.matD,on._matrix.a=s,on._matrix.c*r.matA+on._matrix.d*r.matC),a=(on._matrix.d=on._matrix.c*r.matB+on._matrix.d*r.matD,on._matrix.c=h,on._matrix.tx*r.matA+on._matrix.ty*r.matC+r.matTX);if(on._matrix.ty=on._matrix.tx*r.matB+on._matrix.ty*r.matD+r.matTY,on._matrix.tx=a,null!=r.computedRenderTarget){var o=!1,c=r.parent;if(null!=c)do{if(null!=c.asQuad&&c instanceof on){var u=c;if(u.get_renderTexture()==r.computedRenderTarget){r=u.hitVisual,o=!0;break}}}while(null!=(c=c.parent));if(!o)return!1}else r=null}while(null!=r);var _=(l=on._matrix).a*l.d-l.b*l.c;return 0==_?(l.a=l.b=l.c=l.d=0,l.tx=-l.tx,l.ty=-l.ty):(s=l.d*(_=1/_),l.d=l.a*_,l.a=s,l.b*=-_,l.c*=-_,a=-l.a*l.tx-l.c*l.ty,l.ty=-l.b*l.tx-l.d*l.ty,l.tx=a),l.changedDirty=!0,e.hitTest(n,t,on._matrix)}return qn.matchedHitVisual=i,!1},set_width:function(e){return this.get_width()==e?e:(this.contentDirty=!0,he.app.visualsContentDirty=!0,q.prototype.set_width.call(this,e))},set_height:function(e){return this.get_height()==e?e:(this.contentDirty=!0,he.app.visualsContentDirty=!0,q.prototype.set_height.call(this,e))},computeContent:function(){this.updateRenderTextureAndContent(Math.ceil(this.get_width()),Math.ceil(this.get_height()),this.density,this.depthBuffer,this.stencil,this.antialiasing),this.contentDirty=!1},destroy:function(){var e;this._lifecycleState<=-2||(this._lifecycleState=-2,this.set_hitVisual(null),null!=this._texture&&this._set_texture(null),null==this.get_renderTexture()||null!=this.textureTilePacker&&this.textureTilePacker.managesTexture(this.get_renderTexture())||(this.get_renderTexture().destroy(),this.set_renderTexture(null)),this.set_textureTilePacker(null),this.set_renderTexture(null),null!=this.mesh&&(e=this.mesh,this.set_mesh(null),e.destroy()),this.set_neverEmpty(!1),this.explicitRenderPendingResultCallbacks=null,this.content=null,this._lifecycleState=-1,q.prototype.destroy.call(this))},unbindEvents:function(){q.prototype.unbindEvents.call(this),this.offObservedDirty(),this.offRenderTextureChange()},__class__:on,__properties__:$extend(q.prototype.__properties__,{set_neverEmpty:"set_neverEmpty",set_density:"set_density",set_renderTexture:"set_renderTexture",get_renderTexture:"get_renderTexture",set_textureTilePacker:"set_textureTilePacker",set_explicitRender:"set_explicitRender",set_autoRender:"set_autoRender",set_antialiasing:"set_antialiasing",set_stencil:"set_stencil",set_depthBuffer:"set_depthBuffer",set_textureFilter:"set_textureFilter",set_enabled:"set_enabled",set_hitVisual:"set_hitVisual",set_mesh:"set_mesh",set_textureId:"set_textureId"})}),function(e,n,t){this.transformedPath=null,this.unobservedFont=null,this.fontAutoruns=null,this.pages=null,this.fontData=null,Ea.call(this,"font",e,n,t),this.set_handleTexturesDensityChange(!0),this.assets=new fe}),un=((E["ceramic.FontAsset"]=cn).__name__="ceramic.FontAsset",cn.__super__=Ea,cn.prototype=$extend(Ea.prototype,{__cbOnReplaceFont:null,__cbOnceReplaceFont:null,__cbOnOwnerUnbindReplaceFont:null,__cbOnceOwnerUnbindReplaceFont:null,emitReplaceFont:function(e,n){var t=0;if(null!=this.__cbOnReplaceFont&&(t+=this.__cbOnReplaceFont.length),null!=this.__cbOnceReplaceFont&&(t+=this.__cbOnceReplaceFont.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnReplaceFont)for(var s=0,h=this.__cbOnReplaceFont.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnReplaceFont[a],++r):--t}if(null!=this.__cbOnceReplaceFont){for(var o=null,c=null,s=0,h=this.__cbOnceReplaceFont.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceReplaceFont[a],this.__cbOnceReplaceFont[a]=null,u=this.__cbOnceOwnerUnbindReplaceFont[a],(this.__cbOnceOwnerUnbindReplaceFont[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindReplaceFont[a]),c.push(this.__cbOnceReplaceFont[a]))}this.__cbOnceOwnerUnbindReplaceFont=o,this.__cbOnceReplaceFont=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onReplaceFont:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event replaceFont because owner is destroyed!");var l=function(e){null!=t&&(i.offReplaceFont(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindReplaceFont&&(this.__cbOnOwnerUnbindReplaceFont=[]),this.__cbOnOwnerUnbindReplaceFont.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindReplaceFont&&(this.__cbOnOwnerUnbindReplaceFont=[]),this.__cbOnOwnerUnbindReplaceFont.push(null);null==this.__cbOnReplaceFont&&(this.__cbOnReplaceFont=[]),this.__cbOnReplaceFont.push(t)},onceReplaceFont:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event replaceFont because owner is destroyed!");var l=function(e){null!=t&&(i.offReplaceFont(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindReplaceFont&&(this.__cbOnceOwnerUnbindReplaceFont=[]),this.__cbOnceOwnerUnbindReplaceFont.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindReplaceFont&&(this.__cbOnceOwnerUnbindReplaceFont=[]),this.__cbOnceOwnerUnbindReplaceFont.push(null);null==this.__cbOnceReplaceFont&&(this.__cbOnceReplaceFont=[]),this.__cbOnceReplaceFont.push(t)},offReplaceFont:function(e){if(null!=e){var n;null!=this.__cbOnReplaceFont&&-1!=(n=this.__cbOnReplaceFont.indexOf(e))&&(this.__cbOnReplaceFont.splice(n,1),null!=(r=this.__cbOnOwnerUnbindReplaceFont[n])&&r(),this.__cbOnOwnerUnbindReplaceFont.splice(n,1)),null!=this.__cbOnceReplaceFont&&-1!=(n=this.__cbOnceReplaceFont.indexOf(e))&&(this.__cbOnceReplaceFont.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindReplaceFont[n])&&r(),this.__cbOnceOwnerUnbindReplaceFont.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindReplaceFont){for(var t=0,i=this.__cbOnOwnerUnbindReplaceFont.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindReplaceFont[l])&&r()}this.__cbOnOwnerUnbindReplaceFont=null}if(null!=this.__cbOnceOwnerUnbindReplaceFont){for(t=0,i=this.__cbOnceOwnerUnbindReplaceFont.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindReplaceFont[l])&&r()}this.__cbOnceOwnerUnbindReplaceFont=null}this.__cbOnReplaceFont=null,this.__cbOnceReplaceFont=null}},listensReplaceFont:function(){return null!=this.__cbOnReplaceFont&&0<this.__cbOnReplaceFont.length||null!=this.__cbOnceReplaceFont&&0<this.__cbOnceReplaceFont.length},fontData:null,pages:null,fontAutoruns:null,get_font:function(){var e,n,t=this.unobservedFont;return null!=U.current&&(e=U.current,null!=(n=this.fontAutoruns)||(n=U.getAutorunArray(),null!=(this.fontAutoruns=n)))&&e.bindToAutorunArray(n),t},set_font:function(e){var n=this.unobservedFont;return n!=(this.unobservedFont=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitFontChange(e,n),null!=(n=this.fontAutoruns))&&(this.fontAutoruns=null,U.invalidateAutorunArray(n)),e},invalidateFont:function(){var e=this.unobservedFont,e=(this.emitFontChange(e,e),this.fontAutoruns);null!=e&&(this.fontAutoruns=null,U.invalidateAutorunArray(e))},unobservedFont:null,__cbOnFontChange:null,__cbOnceFontChange:null,__cbOnOwnerUnbindFontChange:null,__cbOnceOwnerUnbindFontChange:null,emitFontChange:function(e,n){var t=0;if(null!=this.__cbOnFontChange&&(t+=this.__cbOnFontChange.length),null!=this.__cbOnceFontChange&&(t+=this.__cbOnceFontChange.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnFontChange)for(var s=0,h=this.__cbOnFontChange.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnFontChange[a],++r):--t}if(null!=this.__cbOnceFontChange){for(var o=null,c=null,s=0,h=this.__cbOnceFontChange.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceFontChange[a],this.__cbOnceFontChange[a]=null,u=this.__cbOnceOwnerUnbindFontChange[a],(this.__cbOnceOwnerUnbindFontChange[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindFontChange[a]),c.push(this.__cbOnceFontChange[a]))}this.__cbOnceOwnerUnbindFontChange=o,this.__cbOnceFontChange=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onFontChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event fontChange because owner is destroyed!");var l=function(e){null!=t&&(i.offFontChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindFontChange&&(this.__cbOnOwnerUnbindFontChange=[]),this.__cbOnOwnerUnbindFontChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindFontChange&&(this.__cbOnOwnerUnbindFontChange=[]),this.__cbOnOwnerUnbindFontChange.push(null);null==this.__cbOnFontChange&&(this.__cbOnFontChange=[]),this.__cbOnFontChange.push(t)},onceFontChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event fontChange because owner is destroyed!");var l=function(e){null!=t&&(i.offFontChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindFontChange&&(this.__cbOnceOwnerUnbindFontChange=[]),this.__cbOnceOwnerUnbindFontChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindFontChange&&(this.__cbOnceOwnerUnbindFontChange=[]),this.__cbOnceOwnerUnbindFontChange.push(null);null==this.__cbOnceFontChange&&(this.__cbOnceFontChange=[]),this.__cbOnceFontChange.push(t)},offFontChange:function(e){if(null!=e){var n;null!=this.__cbOnFontChange&&-1!=(n=this.__cbOnFontChange.indexOf(e))&&(this.__cbOnFontChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindFontChange[n])&&r(),this.__cbOnOwnerUnbindFontChange.splice(n,1)),null!=this.__cbOnceFontChange&&-1!=(n=this.__cbOnceFontChange.indexOf(e))&&(this.__cbOnceFontChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindFontChange[n])&&r(),this.__cbOnceOwnerUnbindFontChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindFontChange){for(var t=0,i=this.__cbOnOwnerUnbindFontChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindFontChange[l])&&r()}this.__cbOnOwnerUnbindFontChange=null}if(null!=this.__cbOnceOwnerUnbindFontChange){for(t=0,i=this.__cbOnceOwnerUnbindFontChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindFontChange[l])&&r()}this.__cbOnceOwnerUnbindFontChange=null}this.__cbOnFontChange=null,this.__cbOnceFontChange=null}},listensFontChange:function(){return null!=this.__cbOnFontChange&&0<this.__cbOnFontChange.length||null!=this.__cbOnceFontChange&&0<this.__cbOnceFontChange.length},transformedPath:null,load:function(){for(var _,e,d=this,b=(null!=this.owner&&(this.assets.inheritRuntimeAssetsFromAssets(this.owner),this.assets.loadMethod=this.owner.loadMethod,this.assets.scheduleMethod=this.owner.scheduleMethod,this.assets.delayBetweenXAssets=this.owner.delayBetweenXAssets),[]),g=this.assets.iterator();g.hasNext();){var n=g.next();b.push(n)}this.set_status(Fe.LOADING),null==this.path?(he.app.logger.warning("Cannot load font asset if path is undefined.",{fileName:"../../../../ceramic/runtime/src/ceramic/FontAsset.hx",lineNumber:113,className:"ceramic.FontAsset",methodName:"load"}),this.set_status(Fe.BROKEN),this.emitComplete(!1)):(e=(_=this.path).toLowerCase(),(z.endsWith(e,".ttf")||z.endsWith(e,".otf"))&&(_=_.substring(0,_.length-4)+".fnt"),he.app.logger.info("Load font "+_,{fileName:"../../../../ceramic/runtime/src/ceramic/FontAsset.hx",lineNumber:128,className:"ceramic.FontAsset",methodName:"load"}),null!=this.transformedPath&&(_=Rn.join([this.transformedPath,_])),this.assets.runtimeAssets=this.runtimeAssets,(g=new dt(this.name)).set_handleTexturesDensityChange(!1),g.set_path(_),this.assets.addAsset(g),this.assets.onceComplete(this,function(e){var n=g.get_text(),o=Rn.directory(_);if(""==o&&(o="."),null!=n)try{for(var t=Rn.withoutExtension(Rn.withoutDirectory(_))+".png",c=(d.fontData=Xa.parse(n,t),d.fontData.path=o,new ue),u=[],i=0,l=d.fontData.pages;i<l.length;){var r=l[i],s=(++i,r.file),h=(""!=o&&(s=Rn.join([o,s])),fe.decodePath(s)),a=new bn(h.name);a.set_handleTexturesDensityChange(!1),a.set_path(h.path),d.assets.addAsset(a),u.push(a)}d.assets.onceComplete(d,function(e){if(e){if(d.fontData.needsReparsing&&null!=d.fontData.rawFontData&&0<u.length){e=u[0].get_texture();if(null!=e){var e=Math.round(e.width),n=Rn.withoutExtension(Rn.withoutDirectory(_))+".png";try{d.fontData=Xa.parse(d.fontData.rawFontData,n,e),d.fontData.path=o}catch(t){Yi.lastError=t;n=oe.caught(t).unwrap();he.app.logger.error("Failed to re-parse Construct 3 font with image width: "+X.string(n),{fileName:"../../../../ceramic/runtime/src/ceramic/FontAsset.hx",lineNumber:195,className:"ceramic.FontAsset",methodName:"load"})}}}for(var t=0;t<u.length;){var i=u[t],l=(++t,i.path),r=i.get_texture();c.h[l]=r}var s=d.get_font(),e=new Sa(d.fontData,c);if(e.id="font:"+d.path,(e.asset=d).set_font(e),null!=s){d.emitReplaceFont(d.get_font(),s),s==he.app.defaultFont&&(he.app.defaultFont=d.get_font());for(var t=0,h=[].concat(he.app.visuals);t<h.length;){var a=h[t];++t,0<=a._lifecycleState&&a instanceof ut&&(a=a).font==s&&a.set_font(d.get_font())}s.asset=null,s.destroy()}for(t=0;t<b.length;){i=b[t];++t,i instanceof bn&&-1!=u.indexOf(i)||i.destroy()}d.set_status(Fe.READY),d.emitComplete(!0),d.handleTexturesDensityChange&&d.checkTexturesDensity()}else d.set_status(Fe.BROKEN),he.app.logger.error("Failed to load textures for font at path: "+d.path,{fileName:"../../../../ceramic/runtime/src/ceramic/FontAsset.hx",lineNumber:267,className:"ceramic.FontAsset",methodName:"load"}),d.emitComplete(!1)}),d.assets.load(null,{fileName:"../../../../ceramic/runtime/src/ceramic/FontAsset.hx",lineNumber:273,className:"ceramic.FontAsset",methodName:"load"})}catch(i){Yi.lastError=i,d.set_status(Fe.BROKEN),he.app.logger.error("Failed to decode font data at path: "+d.path,{fileName:"../../../../ceramic/runtime/src/ceramic/FontAsset.hx",lineNumber:277,className:"ceramic.FontAsset",methodName:"load"}),d.emitComplete(!1)}else d.set_status(Fe.BROKEN),he.app.logger.error("Failed to load font data at path: "+d.path,{fileName:"../../../../ceramic/runtime/src/ceramic/FontAsset.hx",lineNumber:283,className:"ceramic.FontAsset",methodName:"load"}),d.emitComplete(!1)}),this.assets.load(null,{fileName:"../../../../ceramic/runtime/src/ceramic/FontAsset.hx",lineNumber:288,className:"ceramic.FontAsset",methodName:"load"}))},texturesDensityDidChange:function(e,n){this.get_status()==Fe.READY&&this.checkTexturesDensity()},checkTexturesDensity:function(){var e;null!=this.owner&&this.owner.reloadOnTextureDensityChange&&(e=this.path,this.computePath(),e!=this.path)&&(he.app.logger.info("Reload font ("+e+" -> "+this.path+")",{fileName:"../../../../ceramic/runtime/src/ceramic/FontAsset.hx",lineNumber:316,className:"ceramic.FontAsset",methodName:"checkTexturesDensity"}),this.load())},assetFilesDidChange:function(e,n){var h=this,t=-1,n=(Object.prototype.hasOwnProperty.call(n.h,this.path)&&(t=n.h[this.path]),-1);(n=Object.prototype.hasOwnProperty.call(e.h,this.path)?e.h[this.path]:n)!=t&&(he.app.logger.info("Reload font (file has changed)",{fileName:"../../../../ceramic/runtime/src/ceramic/FontAsset.hx",lineNumber:341,className:"ceramic.FontAsset",methodName:"assetFilesDidChange"}),e=this.path.toLowerCase(),null!=(null!=(n=this.owner)?n.runtimeAssets:null)&&z.endsWith(e,".ttf")||z.endsWith(e,".otf")?(this.path,this.owner.runtimeAssets.requestTransformedDir(function(s){Nn.runCeramic(["assets","--filter",h.path,"--from",h.owner.runtimeAssets.path,"--to",s,"--list-changed"],function(e,n,t){if(0==e){h.transformedPath=s;for(var i=JSON.parse(z.trim(n)),l=0;l<i.length;){var r=i[l];++l,he.app.logger.debug("Updated on the fly: "+r,{fileName:"../../../../ceramic/runtime/src/ceramic/FontAsset.hx",lineNumber:359,className:"ceramic.FontAsset",methodName:"assetFilesDidChange"}),fe.incrementReloadCount(r)}h.load()}})})):this.load())},destroy:function(){if(!(this._lifecycleState<=-2)&&(this._lifecycleState=-2,this._lifecycleState=-1,Ea.prototype.destroy.call(this),null!=this.get_font()&&(this.get_font().destroy(),this.set_font(null)),null!=this.pages)){for(var e=this.pages.h,n=Object.keys(e),t=n.length,i=0;i<t;){var l=n[i++];this.pages.h[l].destroy()}this.pages=null}},unbindEvents:function(){Ea.prototype.unbindEvents.call(this),this.offReplaceFont(),this.offFontChange()},__class__:cn,__properties__:$extend(Ea.prototype.__properties__,{set_font:"set_font",get_font:"get_font"})}),(E["ceramic.Value"]=U0).__name__="ceramic.Value",U0.prototype={value:null,__class__:U0},(E["ceramic.Fragment"]=V0).__name__="ceramic.Fragment",V0.cacheData=function(e){V0.cachedFragmentData.h[e.id]=e},V0.getData=function(e){return V0.cachedFragmentData.h[e]},V0.__super__=q,V0.prototype=$extend(q.prototype,{assets:null,entities:null,items:null,tracks:null,fps:null,fragmentData:null,resizable:null,autoUpdateTimeline:null,set_autoUpdateTimeline:function(e){return this.autoUpdateTimeline!=e&&(this.autoUpdateTimeline=e,null!=this.timeline)&&this.timeline.set_autoUpdate(e),e},pendingLoads:null,timeline:null,ready:null,__cbOnReady:null,__cbOnceReady:null,__cbOnOwnerUnbindReady:null,__cbOnceOwnerUnbindReady:null,emitReady:function(){this.willEmitReady();var e=0;if(null!=this.__cbOnReady&&(e+=this.__cbOnReady.length),null!=this.__cbOnceReady&&(e+=this.__cbOnceReady.length),0<e){var n=C.pool(e),t=n.get(),i=0;if(null!=this.__cbOnReady)for(var l=0,r=this.__cbOnReady.length;l<r;){var s=l++;!0?(t.vector[i]=this.__cbOnReady[s],++i):--e}if(null!=this.__cbOnceReady){for(var h=null,a=null,l=0,r=this.__cbOnceReady.length;l<r;){var o,s=l++;!0?(t.vector[i]=this.__cbOnceReady[s],this.__cbOnceReady[s]=null,o=this.__cbOnceOwnerUnbindReady[s],(this.__cbOnceOwnerUnbindReady[s]=null)!=o&&o(),++i):(--e,null==h&&(h=[],a=[],0),h.push(this.__cbOnceOwnerUnbindReady[s]),a.push(this.__cbOnceReady[s]))}this.__cbOnceOwnerUnbindReady=h,this.__cbOnceReady=a}for(l=0,r=e;l<r;){i=l++;(0,t.vector[i])()}n.release(t)}},onReady:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event ready because owner is destroyed!");var l=function(e){null!=t&&(i.offReady(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindReady&&(this.__cbOnOwnerUnbindReady=[]),this.__cbOnOwnerUnbindReady.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindReady&&(this.__cbOnOwnerUnbindReady=[]),this.__cbOnOwnerUnbindReady.push(null);null==this.__cbOnReady&&(this.__cbOnReady=[]),this.__cbOnReady.push(t)},onceReady:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event ready because owner is destroyed!");var l=function(e){null!=t&&(i.offReady(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindReady&&(this.__cbOnceOwnerUnbindReady=[]),this.__cbOnceOwnerUnbindReady.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindReady&&(this.__cbOnceOwnerUnbindReady=[]),this.__cbOnceOwnerUnbindReady.push(null);null==this.__cbOnceReady&&(this.__cbOnceReady=[]),this.__cbOnceReady.push(t)},offReady:function(e){if(null!=e){var n;null!=this.__cbOnReady&&-1!=(n=this.__cbOnReady.indexOf(e))&&(this.__cbOnReady.splice(n,1),null!=(r=this.__cbOnOwnerUnbindReady[n])&&r(),this.__cbOnOwnerUnbindReady.splice(n,1)),null!=this.__cbOnceReady&&-1!=(n=this.__cbOnceReady.indexOf(e))&&(this.__cbOnceReady.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindReady[n])&&r(),this.__cbOnceOwnerUnbindReady.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindReady){for(var t=0,i=this.__cbOnOwnerUnbindReady.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindReady[l])&&r()}this.__cbOnOwnerUnbindReady=null}if(null!=this.__cbOnceOwnerUnbindReady){for(t=0,i=this.__cbOnceOwnerUnbindReady.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindReady[l])&&r()}this.__cbOnceOwnerUnbindReady=null}this.__cbOnReady=null,this.__cbOnceReady=null}},listensReady:function(){return null!=this.__cbOnReady&&0<this.__cbOnReady.length||null!=this.__cbOnceReady&&0<this.__cbOnceReady.length},scheduleWhenReady:function(e,n){this.ready?n():this.onceReady(e,n)},willEmitReady:function(){this.ready=!0},set_fragmentData:function(e){var n,t=this,i=(this.pendingLoads++,this.fragmentData=e,Object.create(null));if(null!=e&&(this.set_width(e.width),this.set_height(e.height),null!=e.color?this.color=e.color:this.color=0,null!=e.transparent?(n=e.transparent,this.flags=n?16|this.flags:-17&this.flags):this.flags|=16,null!=e.items))for(var l=0,r=e.items;l<r.length;){var s=r[l];++l,this.putItem(s),i[s.id]=!0}if(null==e||Object.prototype.hasOwnProperty.call(e,"items")){for(var h=null,l=0,r=this.entities;l<r.length;){var a=r[l];++l,Object.prototype.hasOwnProperty.call(i,a.id)||(h=null==h?[]:h).push(a.id)}if(null!=h)for(l=0;l<h.length;){var o=h[l];++l,this.removeItem(o)}}null!=e&&(this.pendingLoads++,he.app.converters.h["ceramic.ReadOnlyMap<String,ceramic.Component>"].basicToField(this,"components",this.assets,e.components,function(e){t._lifecycleState<0||(t.pendingLoads--,t.onceReady(t,function(){t.set_fragmentComponents(e)}),0==t.pendingLoads&&t.emitReady())})),null!=e&&null!=e.fps&&this.set_fps(e.fps);var c=null;if(null!=e&&null!=e.tracks){for(l=0,r=e.tracks;l<r.length;){var u=r[l];++l,(c=null==c?new ue:c).h[u.entity+"#"+u.field]=!0,this.putTrack(null,u)}if(null!=this.timeline&&0<this.timeline.tracks.length)for(l=0,r=[].concat(this.timeline.tracks);l<r.length;){var _,d=r[l];++l,null!=c&&Object.prototype.hasOwnProperty.call(c.h,d.id)||(2==(_=d.id.split("#")).length?this.removeTrack(_[0],_[1]):he.app.logger.warning("Cannot remove track with unhandled id: "+d.id,{fileName:"../../../../ceramic/runtime/src/ceramic/Fragment.hx",lineNumber:314,className:"ceramic.Fragment",methodName:"set_fragmentData"}))}}var b=null;if(null!=e&&null!=e.labels){for(var g=e.labels,l=0,r=K.fields(g);l<r.length;){var O=r[l],f=(++l,(b=null==b?new ue:b).h[O]=!0,g[O]);this.putLabel(f,O)}if(null!=this.timeline&&null!=this.timeline.labels)for(l=0,r=[].concat(this.timeline.labels);l<r.length;){var p=r[l];++l,null!=b&&Object.prototype.hasOwnProperty.call(b.h,p)||this.timeline.removeLabel(p)}}return this.pendingLoads--,0==this.pendingLoads&&this.emitReady(),e},set_fps:function(e){if(this.fps!=e&&(this.fps=e,null!=this.timeline&&(this.timeline.fps=e),null!=this.tracks))for(var n=0,t=this.tracks;n<t.length;){var i=t[n];++n,this.putTrack(null,i)}return e},putItem:function(e){var n,t=this._get(e.id),i=!1,l=(null!=t?(i=t instanceof o,r=Ul.getClass(t),e.entity!=r.__name__&&(this.removeItem(e.id),t=null)):this.items.push(e),e.entity),r=E[l],s=null!=t?t:null,h="ceramic.Fragment"==e.entity;if(null==s&&(n=[],h&&(n.push(this.assets),n.push(!1)),s=B.createInstance(r,n)),null==s)throw oe.thrown("Failed to create instance of "+e.entity);if(s.id=e.id,h&&s.set_depthRange(1),null!=e.props){for(var a=K.fields(e.props),c=(Qi.sort(a,function(e,n){return 0}),0);c<a.length;){var u=a[c],_=(++c,this.typeOfItemField(e,u)),d=K.field(e.props,u);if(null!=(m=null!=_?he.app.converters.h[_]:null))this.putItemField(h,e,s,u,d,m);else{if(!Object.prototype.hasOwnProperty.call(V0.basicTypes.h,_)){var b=Oe[_];if(null!=b){for(var g=0,O=b.__constructs__,f=new Array(O.length),p=0,C=O.length;p<C;){var v=p++;f[v]=O[v]._hx_name}for(var w=f;g<w.length;){l=w[g];if(++g,l.toLowerCase()==d.toLowerCase()){d=B.createEnum(b,l);break}}}}K.setProperty(s,u,d)}}var m,_=this.typeOfItemField(e,"components"),d=e.components;null!=(m=null!=_?he.app.converters.h[_]:null)?this.putItemField(h,e,s,"components",d,m):he.app.logger.warning("No converter found for field: components (type: "+_+")",{fileName:"../../../../ceramic/runtime/src/ceramic/Fragment.hx",lineNumber:475,className:"ceramic.Fragment",methodName:"putItem"})}return null==t&&("ceramic.Assets"==this.typeOfItemField(e,"assets")&&K.setProperty(s,"assets",this.assets),this.entities.push(s)),s instanceof o&&!i&&this.add(s),null==t&&this.putTracksForItem(e.id),s},typeOfItemField:function(e,n){return null!=e.schema?K.field(e.schema,n):sn.typeOf(e.entity,n)},putItemField:function(n,e,a,t,i,l){var r=this;this.pendingLoads++,l.basicToField(a,t,this.assets,i,function(h){var e;r.pendingLoads--,r._lifecycleState<0||(0<=a._lifecycleState&&(n&&"fragmentData"==t?(e=a,r.pendingLoads++,e.onceReady(r,function(){r.pendingLoads--,r._lifecycleState<0||0==r.pendingLoads&&r.emitReady()}),e.set_fragmentData(h)):"components"!=t?K.setProperty(a,t,h):r.onceReady(r,function(){var e;if(null!=h&&null!=(e=h))for(var n=e.h,t=Object.keys(n),i=t.length,l=0;l<i;){var r=t[l++],s=e.h[r];null!=s&&a.component(r,s)}})),0==r.pendingLoads&&r.emitReady())})},_get:function(e){for(var n=0,t=this.entities;n<t.length;){var i=t[n];if(++n,i.id==e)return i}return null},_getWithType:function(e,n){e=this._get(e);return null!=e?e:null},getItemInstanceByName:function(e){for(var n=0,t=this.entities;n<t.length;){var i=t[n];if(++n,i.id==e)return i}return null},getItem:function(e){for(var n=0,t=this.items;n<t.length;){var i=t[n];if(++n,i.id==e)return i}return null},getItemByName:function(e){for(var n=0,t=this.items;n<t.length;){var i=t[n];if(++n,i.name==e)return i}return null},typeOfItem:function(e){var n=this.getItem(e);return null!=n?n.entity:(he.app.logger.warning("Failed to resolve entity type for item "+e,{fileName:"../../../../ceramic/runtime/src/ceramic/Fragment.hx",lineNumber:711,className:"ceramic.Fragment",methodName:"typeOfItem"}),null)},removeItem:function(e){for(var n=0,t=this.entities;n<t.length;){var i=t[n];if(++n,i.id==e){se.remove(this.entities,i),i.destroy();break}}for(n=0,t=this.items;n<t.length;){var l=t[n];if(++n,l.id==e){se.remove(this.items,l);break}}},removeAllItems:function(){for(var e=0,n=[].concat(this.entities);e<n.length;){var t=n[e];++e,se.remove(this.entities,t),t.destroy()}for(e=0,n=[].concat(this.items);e<n.length;){var i=n[e];++e,se.remove(this.items,i)}},destroy:function(){this._lifecycleState<=-2||(this._lifecycleState=-2,this._lifecycleState=-1,q.prototype.destroy.call(this),null!=this.timeline&&(this.timeline.destroy(),this.timeline=null),this.removeAllItems())},set_components:function(e){if(this._components!=e){if(null!=this._components){l=this._components.h;for(var n=(r=Object.keys(l)).length,t=0;t<n;){var i=r[t++];null!=e&&Object.prototype.hasOwnProperty.call(e.h,i)||null!=this.fragmentComponents&&Object.prototype.hasOwnProperty.call(this.fragmentComponents.h,i)||this.removeComponent(i)}}if(null!=e){l=e.h;for(var l,r,n=(r=Object.keys(l)).length,t=0;t<n;){var s,i=r[t++],h=e.h[i];null!=this._components&&null!=(s=this._components.h[i])?s!=h&&(this.removeComponent(i),this.component(i,h)):this.component(i,h)}}this._components=e}return e},fragmentComponents:null,set_fragmentComponents:function(e){if(this.fragmentComponents!=e){if(null!=this.fragmentComponents){l=this.fragmentComponents.h;for(var n=(r=Object.keys(l)).length,t=0;t<n;){var i=r[t++];null!=e&&Object.prototype.hasOwnProperty.call(e.h,i)||this.removeComponent(i)}}if(null!=e){l=e.h;for(var l,r,n=(r=Object.keys(l)).length,t=0;t<n;){var s,i=r[t++],h=e.h[i];null!=this.fragmentComponents&&null!=(s=this.fragmentComponents.h[i])?s!=h&&(this.removeComponent(i),this.component(i,h)):this.component(i,h)}}this.fragmentComponents=e}return e},isManagedComponent:function(){},putTrack:function(e,n){var t=null;if(null==(p=this.getTrack(n.entity,n.field)))null==this.tracks&&(this.tracks=[]),this.tracks.push(n);else{for(var t=new qi,i=0,l=p.keyframes;i<l.length;){var r=l[i];++i,t.h[r.index]=!0}var s=this.tracks.indexOf(p);this.tracks[s]=n}var s=n.entity,h=this._get(s);if(null!=n.keyframes&&0<n.keyframes.length){this.createTimelineIfNeeded();var a=n.field,o=s+"#"+a,c=n.options;if(null==(e=null==e?this.typeOfItem(n.entity):e))he.app.logger.warning("Cannot update timeline track "+o+": failed to resolve entity type",{fileName:"../../../../ceramic/runtime/src/ceramic/Fragment.hx",lineNumber:940,className:"ceramic.Fragment",methodName:"putTrack"});else{var s=sn.types(e),u=null!=s?s.h[a]:null;if(null==u)he.app.logger.warning("Cannot update timeline track "+o+": failed to resolve info for "+a+" of entity type "+e,{fileName:"../../../../ceramic/runtime/src/ceramic/Fragment.hx",lineNumber:947,className:"ceramic.Fragment",methodName:"putTrack"});else{var _=this.timeline.get(o);if(null==_){if(null==h)return void he.app.logger.warning("Failed to create timeline track "+o+" because there is no entity with id "+n.entity,{fileName:"../../../../ceramic/runtime/src/ceramic/Fragment.hx",lineNumber:955,className:"ceramic.Fragment",methodName:"putTrack"});if(V0._trackResult.value=null,he.app.timelines.emitCreateTrack(u,c,V0._trackResult),null==(_=V0._trackResult.value))return void he.app.logger.warning("Failed to create timeline track "+o+" for "+a+" of entity type "+e,{fileName:"../../../../ceramic/runtime/src/ceramic/Fragment.hx",lineNumber:963,className:"ceramic.Fragment",methodName:"putTrack"});h.onDestroy(_,function(e){_.destroy()}),_.id=o,he.app.timelines.emitBindTrack(u,c,_,h,a),this.timeline.add(_)}if(_.loop=n.loop,0<V0._usedKeyframes.length){for(i=0,l=V0._usedKeyframes.length;i<l;){var d=i++;V0._usedKeyframes[d]=null}if(0!=(y=V0._usedKeyframes).length)if(0<y.length)y.splice(0,y.length);else for(var b=y;b.length<0;)b.push(null)}for(var g=-1,O=!0,i=0,l=n.keyframes;i<l.length;){var r=l[i],f=(++i,r.index),p=(f<g&&(O=!1),_.findKeyframeAtIndex(g=f));if(V0._keyframeResult.value=null,he.app.timelines.emitCreateKeyframe(u,c,r.value,f,I0.easingFromString(r.easing),p,V0._keyframeResult),null==(m=V0._keyframeResult.value))return void he.app.logger.warning("Failed to create or update keyframe #"+X.string($bind(this,this.frame))+" of track "+o+" for field "+a+" of entity type "+e,{fileName:"../../../../ceramic/runtime/src/ceramic/Fragment.hx",lineNumber:1020,className:"ceramic.Fragment",methodName:"putTrack"});V0._usedKeyframes.push(m),null!=p?p!=m&&(_.remove(p),_.add(m)):_.add(m)}var C=null,v=_.keyframes;if(O)for(var w=0,i=0,l=v.length;i<l;){var m=v[d=i++];V0._usedKeyframes[w]==m?++w:(C=null==C?[]:C).push(m)}else{he.app.logger.warning("Input keyframe array should be sorted by time in ascending order!",{fileName:"../../../../ceramic/runtime/src/ceramic/Fragment.hx",lineNumber:1050,className:"ceramic.Fragment",methodName:"putTrack"});for(i=0,l=v.length;i<l;){m=v[d=i++];-1==V0._usedKeyframes.indexOf(m)&&(C=null==C?[]:C).push(m)}}if(null!=C){for(i=0;i<C.length;){m=C[i];++i,_.remove(m)}C=null}if(0<V0._usedKeyframes.length){for(var y,i=0,l=V0._usedKeyframes.length;i<l;){d=i++;V0._usedKeyframes[d]=null}if(0!=(y=V0._usedKeyframes).length)if(0<y.length)y.splice(0,y.length);else for(b=y;b.length<0;)b.push(null)}_.apply()}}}},putTracksForItem:function(e){if(null!=this.tracks)for(var n=0,t=this.tracks.length;n<t;){var i=n++,i=this.tracks[i];i.entity==e&&this.putTrack(null,i)}},getTrack:function(e,n){if(null!=this.tracks)for(var t=0,i=this.tracks;t<i.length;){var l=i[t];if(++t,l.entity==e&&l.field==n)return l}return null},removeTrack:function(e,n){if(null!=this.tracks){for(var t,i=-1,l=0,r=this.tracks.length;l<r;){var s=l++,h=this.tracks[s];if(h.entity==e&&h.field==n){i=s;break}}-1!=i&&(this.tracks.splice(i,1),null!=this.timeline)&&null!=(t=this.timeline.get(e+"#"+n))&&(this.timeline.remove(t),t.destroy())}},createTimelineIfNeeded:function(){null==this.timeline&&(this.timeline=new yt,this.timeline.fps=this.fps,this.timeline.set_autoUpdate(this.autoUpdateTimeline))},putLabel:function(e,n){this.createTimelineIfNeeded(),this.timeline.setLabel(e,n)},indexOfLabel:function(e){return null!=this.timeline?this.timeline.indexOfLabel(e):-1},labelAtIndex:function(e){return null!=this.timeline?this.timeline.labelAtIndex(e):null},removeLabel:function(e){null!=this.timeline&&this.timeline.removeLabel(e)},removeLabelAtIndex:function(e){null!=this.timeline&&this.timeline.removeLabelAtIndex(e)},get_paused:function(){return null!=this.timeline&&this.timeline.paused},set_paused:function(e){return(null!=this.timeline&&this.timeline.paused)!=e&&(this.createTimelineIfNeeded(),this.timeline.set_paused(e)),e},unbindEvents:function(){q.prototype.unbindEvents.call(this),this.offReady()},__class__:V0,__properties__:$extend(q.prototype.__properties__,{set_paused:"set_paused",get_paused:"get_paused",set_fragmentComponents:"set_fragmentComponents",set_autoUpdateTimeline:"set_autoUpdateTimeline",set_fragmentData:"set_fragmentData",set_fps:"set_fps"})}),function(e,n,t){this.unobservedFragments=null,this.fragmentsAutoruns=null,Ea.call(this,"fragments",e,n,t)}),_n=((E["ceramic.FragmentsAsset"]=un).__name__="ceramic.FragmentsAsset",un.fromRawFragments=function(e){var n={},t=0|e.version;if(1==t){var i=e.fragments;if(null!=i)for(var l=0;l<i.length;){var r=i[l],s=(++l,r.data),h=r.components,s={id:r.id,data:null!=s?s:{},width:r.width,height:r.height,components:null!=h?h:{}},a=(Object.prototype.hasOwnProperty.call(r,"color")&&(s.color=I.fromString(r.color)),Object.prototype.hasOwnProperty.call(r,"transparent")&&(s.transparent=1==r.transparent),e.schema),o=[];if(Object.prototype.hasOwnProperty.call(r,"visuals"))for(var c=r.visuals,u=0;u<c.length;){for(var _=c[u],d=(++u,_.data),b=_.components,g={id:_.id,data:null!=d?d:{},entity:_.entity,components:null!=b?b:{},props:{}},O=0,f=K.fields(_);O<f.length;){var p=f[O];switch(++O,p){case"components":case"data":case"id":case"kind":case"locked":break;case"entity":var C=K.field(_,p);null!=a&&null!=C&&Object.prototype.hasOwnProperty.call(a,C)&&(g.schema=K.field(a,C));break;default:g.props[p]=K.field(_,p)}}o.push(g)}if(Object.prototype.hasOwnProperty.call(r,"entities"))for(var v=r.entities,w=0;w<v.length;){for(var m=v[w],y=(++w,m.data),U=m.components,D={id:m.id,data:null!=y?y:{},entity:m.entity,components:null!=U?U:{},props:{}},T=0,x=K.fields(m);T<x.length;){var S=x[T];switch(++T,S){case"components":case"data":case"id":case"kind":case"locked":break;case"entity":var A=K.field(m,S);null!=a&&null!=A&&Object.prototype.hasOwnProperty.call(a,A)&&(D.schema=K.field(a,A));break;default:D.props[S]=K.field(m,S)}}o.push(D)}s.items=o,n[s.id]=s}}else he.app.logger.warning("Unsupported fragments file version: "+t,{fileName:"../../../../ceramic/runtime/src/ceramic/FragmentsAsset.hx",lineNumber:267,className:"ceramic.FragmentsAsset",methodName:"fromRawFragments"});return n},un.__super__=Ea,un.prototype=$extend(Ea.prototype,{fragmentsAutoruns:null,get_fragments:function(){var e,n,t=this.unobservedFragments;return null!=U.current&&(e=U.current,null!=(n=this.fragmentsAutoruns)||(n=U.getAutorunArray(),null!=(this.fragmentsAutoruns=n)))&&e.bindToAutorunArray(n),t},set_fragments:function(e){var n=this.unobservedFragments;return n!=(this.unobservedFragments=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitFragmentsChange(e,n),null!=(n=this.fragmentsAutoruns))&&(this.fragmentsAutoruns=null,U.invalidateAutorunArray(n)),e},invalidateFragments:function(){var e=this.unobservedFragments,e=(this.emitFragmentsChange(e,e),this.fragmentsAutoruns);null!=e&&(this.fragmentsAutoruns=null,U.invalidateAutorunArray(e))},unobservedFragments:null,__cbOnFragmentsChange:null,__cbOnceFragmentsChange:null,__cbOnOwnerUnbindFragmentsChange:null,__cbOnceOwnerUnbindFragmentsChange:null,emitFragmentsChange:function(e,n){var t=0;if(null!=this.__cbOnFragmentsChange&&(t+=this.__cbOnFragmentsChange.length),null!=this.__cbOnceFragmentsChange&&(t+=this.__cbOnceFragmentsChange.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnFragmentsChange)for(var s=0,h=this.__cbOnFragmentsChange.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnFragmentsChange[a],++r):--t}if(null!=this.__cbOnceFragmentsChange){for(var o=null,c=null,s=0,h=this.__cbOnceFragmentsChange.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceFragmentsChange[a],this.__cbOnceFragmentsChange[a]=null,u=this.__cbOnceOwnerUnbindFragmentsChange[a],(this.__cbOnceOwnerUnbindFragmentsChange[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindFragmentsChange[a]),c.push(this.__cbOnceFragmentsChange[a]))}this.__cbOnceOwnerUnbindFragmentsChange=o,this.__cbOnceFragmentsChange=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onFragmentsChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event fragmentsChange because owner is destroyed!");var l=function(e){null!=t&&(i.offFragmentsChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindFragmentsChange&&(this.__cbOnOwnerUnbindFragmentsChange=[]),this.__cbOnOwnerUnbindFragmentsChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindFragmentsChange&&(this.__cbOnOwnerUnbindFragmentsChange=[]),this.__cbOnOwnerUnbindFragmentsChange.push(null);null==this.__cbOnFragmentsChange&&(this.__cbOnFragmentsChange=[]),this.__cbOnFragmentsChange.push(t)},onceFragmentsChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event fragmentsChange because owner is destroyed!");var l=function(e){null!=t&&(i.offFragmentsChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindFragmentsChange&&(this.__cbOnceOwnerUnbindFragmentsChange=[]),this.__cbOnceOwnerUnbindFragmentsChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindFragmentsChange&&(this.__cbOnceOwnerUnbindFragmentsChange=[]),this.__cbOnceOwnerUnbindFragmentsChange.push(null);null==this.__cbOnceFragmentsChange&&(this.__cbOnceFragmentsChange=[]),this.__cbOnceFragmentsChange.push(t)},offFragmentsChange:function(e){if(null!=e){var n;null!=this.__cbOnFragmentsChange&&-1!=(n=this.__cbOnFragmentsChange.indexOf(e))&&(this.__cbOnFragmentsChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindFragmentsChange[n])&&r(),this.__cbOnOwnerUnbindFragmentsChange.splice(n,1)),null!=this.__cbOnceFragmentsChange&&-1!=(n=this.__cbOnceFragmentsChange.indexOf(e))&&(this.__cbOnceFragmentsChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindFragmentsChange[n])&&r(),this.__cbOnceOwnerUnbindFragmentsChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindFragmentsChange){for(var t=0,i=this.__cbOnOwnerUnbindFragmentsChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindFragmentsChange[l])&&r()}this.__cbOnOwnerUnbindFragmentsChange=null}if(null!=this.__cbOnceOwnerUnbindFragmentsChange){for(t=0,i=this.__cbOnceOwnerUnbindFragmentsChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindFragmentsChange[l])&&r()}this.__cbOnceOwnerUnbindFragmentsChange=null}this.__cbOnFragmentsChange=null,this.__cbOnceFragmentsChange=null}},listensFragmentsChange:function(){return null!=this.__cbOnFragmentsChange&&0<this.__cbOnFragmentsChange.length||null!=this.__cbOnceFragmentsChange&&0<this.__cbOnceFragmentsChange.length},load:function(){var e,n,t,i=this;this.set_status(Fe.LOADING),null==this.path?(he.app.logger.warning("Cannot load fragments asset if path is undefined.",{fileName:"../../../../ceramic/runtime/src/ceramic/FragmentsAsset.hx",lineNumber:86,className:"ceramic.FragmentsAsset",methodName:"load"}),this.set_status(Fe.BROKEN),this.emitComplete(!1)):(e=this.path,n=fe.realAssetPath(e,this.runtimeAssets),0<(t=fe.getReloadCount(n))&&(n+="?hot="+t,e+="?hot="+t),t={},null!=this.owner&&(t.immediate=this.owner.immediate,t.loadMethod=this.owner.loadMethod),he.app.logger.info("Load fragments "+e,{fileName:"../../../../ceramic/runtime/src/ceramic/FragmentsAsset.hx",lineNumber:107,className:"ceramic.FragmentsAsset",methodName:"load"}),he.app.backend.texts.load(n,t,function(e){if(null!=e){try{var n=JSON.parse(e);Object.prototype.hasOwnProperty.call(n,"version")?i.set_fragments(un.fromRawFragments(n)):i.set_fragments(n)}catch(e){return Yi.lastError=e,i.set_status(Fe.BROKEN),he.app.logger.error("Failed to parse fragments at path: "+i.path,{fileName:"../../../../ceramic/runtime/src/ceramic/FragmentsAsset.hx",lineNumber:121,className:"ceramic.FragmentsAsset",methodName:"load"}),void i.emitComplete(!1)}i.set_status(Fe.READY),i.emitComplete(!0)}else i.set_status(Fe.BROKEN),he.app.logger.error("Failed to load fragments at path: "+i.path,{fileName:"../../../../ceramic/runtime/src/ceramic/FragmentsAsset.hx",lineNumber:130,className:"ceramic.FragmentsAsset",methodName:"load"}),i.emitComplete(!1)}))},assetFilesDidChange:function(e,n){var t=-1,n=(Object.prototype.hasOwnProperty.call(n.h,this.path)&&(t=n.h[this.path]),-1);(n=Object.prototype.hasOwnProperty.call(e.h,this.path)?e.h[this.path]:n)!=t&&(he.app.logger.info("Reload fragments (file has changed)",{fileName:"../../../../ceramic/runtime/src/ceramic/FragmentsAsset.hx",lineNumber:295,className:"ceramic.FragmentsAsset",methodName:"assetFilesDidChange"}),this.load())},destroy:function(){this._lifecycleState<=-2||(this._lifecycleState=-2,this._lifecycleState=-1,Ea.prototype.destroy.call(this),this.set_fragments(null))},unbindEvents:function(){Ea.prototype.unbindEvents.call(this),this.offFragmentsChange()},__class__:un,__properties__:$extend(Ea.prototype.__properties__,{set_fragments:"set_fragments",get_fragments:"get_fragments"})}),(E["ceramic.GeometryUtils"]=Z0).__name__="ceramic.GeometryUtils",Z0.pointInTriangle=function(e,n,t,i,l,r,s,h){var a=(e-l)*(i-r)-(t-l)*(n-r),r=(e-s)*(r-h)-(l-s)*(n-h),l=(e-t)*(h-i)-(s-t)*(n-i);return!((a<0||r<0||l<0)&&(0<a||0<r||0<l))},Z0.pointInRectangle=function(e,n,t,i,l,r){return!(e<t||n<i||t+l<=e||i+r<=n)},Z0.pointInCircle=function(e,n,t,i,l){return(e-t)*(e-t)+(n-i)*(n-i)<=l*l},Z0.intersectCircles=function(e,n,t,i,l,r){i-=e,e=l-n,l=t+r;return i*i+e*e<=l*l},Z0.distance=function(e,n,t,i){t-=e,e=i-n;return Math.sqrt(t*t+e*e)},Z0.squareDistance=function(e,n,t,i){t-=e,e=i-n;return t*t+e*e},Z0.angleTo=function(e,n,t,i){i=57.29577951308232*Math.atan2(i-n,t-e)+90;return i<0?i+=360:360<=i&&(i-=360),i},Z0.angleDelta=function(e,n){for(var t=e;t<0;)t+=360;for(;360<=t;)t-=360;e=t;for(t=n;t<0;)t+=360;for(;360<=t;)t-=360;var i=(n=t)-e;return 180<i?n-=360:i<-180&&(n+=360),n-e},Z0.clampDegrees=function(e){for(;e<0;)e+=360;for(;360<=e;)e-=360;return e},Z0.angleDirection=function(e,n){e=.017453292519943295*(e-90);return n.x=Math.cos(e),n.y=Math.sin(e),n},Z0.isClockwise=function(e,n,t){if(t<=2)return!1;for(var i=0,l=n+t-2,r=e[l],s=e[1+l],h=n;h<=l;){var a=e[h],o=e[h+1];i+=r*o-a*s,r=a,s=o,h+=2}return i<0},(E["ceramic.GlyphQuad"]=$0).__name__="ceramic.GlyphQuad",$0.__super__=p,$0.prototype=$extend(p.prototype,{__cbOnClear:null,__cbOnceClear:null,__cbOnOwnerUnbindClear:null,__cbOnceOwnerUnbindClear:null,emitClear:function(e){var n=0;if(null!=this.__cbOnClear&&(n+=this.__cbOnClear.length),null!=this.__cbOnceClear&&(n+=this.__cbOnceClear.length),0<n){var t=C.pool(n),i=t.get(),l=0;if(null!=this.__cbOnClear)for(var r=0,s=this.__cbOnClear.length;r<s;){var h=r++;!0?(i.vector[l]=this.__cbOnClear[h],++l):--n}if(null!=this.__cbOnceClear){for(var a=null,o=null,r=0,s=this.__cbOnceClear.length;r<s;){var c,h=r++;!0?(i.vector[l]=this.__cbOnceClear[h],this.__cbOnceClear[h]=null,c=this.__cbOnceOwnerUnbindClear[h],(this.__cbOnceOwnerUnbindClear[h]=null)!=c&&c(),++l):(--n,null==a&&(a=[],o=[],0),a.push(this.__cbOnceOwnerUnbindClear[h]),o.push(this.__cbOnceClear[h]))}this.__cbOnceOwnerUnbindClear=a,this.__cbOnceClear=o}for(r=0,s=n;r<s;){l=r++;(0,i.vector[l])(e)}t.release(i)}},onClear:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event clear because owner is destroyed!");var l=function(e){null!=t&&(i.offClear(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindClear&&(this.__cbOnOwnerUnbindClear=[]),this.__cbOnOwnerUnbindClear.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindClear&&(this.__cbOnOwnerUnbindClear=[]),this.__cbOnOwnerUnbindClear.push(null);null==this.__cbOnClear&&(this.__cbOnClear=[]),this.__cbOnClear.push(t)},onceClear:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event clear because owner is destroyed!");var l=function(e){null!=t&&(i.offClear(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindClear&&(this.__cbOnceOwnerUnbindClear=[]),this.__cbOnceOwnerUnbindClear.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindClear&&(this.__cbOnceOwnerUnbindClear=[]),this.__cbOnceOwnerUnbindClear.push(null);null==this.__cbOnceClear&&(this.__cbOnceClear=[]),this.__cbOnceClear.push(t)},offClear:function(e){if(null!=e){var n;null!=this.__cbOnClear&&-1!=(n=this.__cbOnClear.indexOf(e))&&(this.__cbOnClear.splice(n,1),null!=(r=this.__cbOnOwnerUnbindClear[n])&&r(),this.__cbOnOwnerUnbindClear.splice(n,1)),null!=this.__cbOnceClear&&-1!=(n=this.__cbOnceClear.indexOf(e))&&(this.__cbOnceClear.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindClear[n])&&r(),this.__cbOnceOwnerUnbindClear.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindClear){for(var t=0,i=this.__cbOnOwnerUnbindClear.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindClear[l])&&r()}this.__cbOnOwnerUnbindClear=null}if(null!=this.__cbOnceOwnerUnbindClear){for(t=0,i=this.__cbOnceOwnerUnbindClear.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindClear[l])&&r()}this.__cbOnceOwnerUnbindClear=null}this.__cbOnClear=null,this.__cbOnceClear=null}},listensClear:function(){return null!=this.__cbOnClear&&0<this.__cbOnClear.length||null!=this.__cbOnceClear&&0<this.__cbOnceClear.length},char:null,glyph:null,index:null,posInLine:null,line:null,code:null,glyphX:null,glyphY:null,glyphAdvance:null,toString:function(){return"GlyphQuad(c="+this.char+",i="+this.index+",l="+this.line+",x="+this.glyphX+",y="+this.glyphY+")"},clear:function(){this.emitClear(this),p.prototype.clear.call(this)},unbindEvents:function(){p.prototype.unbindEvents.call(this),this.offClear()},__class__:$0}),function(e){this.items=[],j.call(this),null!=e&&(this.id=e),he.app.groups.push(this)}),dn=((E["ceramic.Group"]=_n).__name__="ceramic.Group",_n.__super__=j,_n.prototype=$extend(j.prototype,{items:null,add:function(e){var n=this.items;-1!=n.indexOf(e)?he.app.logger.warning("Cannot add item "+X.string(e)+" to group, already inside group",{fileName:"../../../../ceramic/runtime/src/ceramic/Group.hx",lineNumber:126,className:"ceramic.Group",methodName:"add"}):(n.push(e),e.onDestroy(this,$bind(this,this.itemDestroyed)))},remove:function(e){var n=this.items,t=n.indexOf(e);-1!=t?(n.splice(t,1),e.offDestroy($bind(this,this.itemDestroyed))):he.app.logger.warning("Cannot remove item "+X.string(e)+" from group, index is -1",{fileName:"../../../../ceramic/runtime/src/ceramic/Group.hx",lineNumber:154,className:"ceramic.Group",methodName:"remove"})},contains:function(e){return-1!=this.items.indexOf(e)},itemDestroyed:function(e){this.remove(e)},clear:function(){var e=this.items;if(0<e.length){for(var n=e.length,t=C.pool(n),i=t.get(),l=0,r=n;l<r;){var s=l++;i.vector[s]=e[s]}for(l=0,r=n;l<r;){var s=l++,h=i.vector[s];h.offDestroy($bind(this,this.itemDestroyed)),h.destroy()}if(0!=e.length)if(0<e.length)e.splice(0,e.length);else for(var a=e;a.length<0;)a.push(null);t.release(i)}},destroy:function(){this._lifecycleState<=-2||(this._lifecycleState=-2,this._lifecycleState=-1,j.prototype.destroy.call(this),se.remove(he.app.groups,this),this.clear())},__class__:_n}),function(){}),bn=((E["ceramic.HashedString"]=dn).__name__="ceramic.HashedString",dn.encode=function(e){return ji.encode(e)+""+e.length+";"+e},dn.append=function(e,n){return e+dn.encode(n)},dn.decode=function(e){dn._lastDecodeIncomplete=!1;for(var n=0,t=e.length,i=null;n<t;){for(var l=e.substring(n,n+32),r=n+=32;r<t&&59!=se.cca(e,r);)++r;var s=X.parseInt(e.substring(n,r));if(null==s||s<=0){he.app.logger.warning("Failed to parse all encoded string: invalid section length",{fileName:"../../../../ceramic/runtime/src/ceramic/HashedString.hx",lineNumber:148,className:"ceramic.HashedString",methodName:"decode"}),dn._lastDecodeIncomplete=!0;break}var n=r+1,h=e.substring(n,n+s);if(null==h){he.app.logger.warning("Failed to parse all encoded string: null section",{fileName:"../../../../ceramic/runtime/src/ceramic/HashedString.hx",lineNumber:157,className:"ceramic.HashedString",methodName:"decode"}),dn._lastDecodeIncomplete=!0;break}if(ji.encode(h)!=l){he.app.logger.warning("Failed to parse all encoded string: section hash mismatch",{fileName:"../../../../ceramic/runtime/src/ceramic/HashedString.hx",lineNumber:163,className:"ceramic.HashedString",methodName:"decode"}),dn._lastDecodeIncomplete=!0;break}n+=s,(i=null==i?new y:i).b+=null==h?"null":""+h}return null!=i?i.b:(he.app.logger.error("Invalid encoded string",{fileName:"../../../../ceramic/runtime/src/ceramic/HashedString.hx",lineNumber:181,className:"ceramic.HashedString",methodName:"decode"}),dn._lastDecodeIncomplete=!0,null)},dn.isLastDecodeIncomplete=function(){return dn._lastDecodeIncomplete},function(e,n,t){this.reloadBecauseOfDensityChange=!1,this.defaultImageOptions=null,this.unobservedTexture=null,this.textureAutoruns=null,Ea.call(this,"image",e,n,t),this.set_handleTexturesDensityChange(!0)}),gn=((E["ceramic.ImageAsset"]=bn).__name__="ceramic.ImageAsset",bn.__super__=Ea,bn.prototype=$extend(Ea.prototype,{__cbOnReplaceTexture:null,__cbOnceReplaceTexture:null,__cbOnOwnerUnbindReplaceTexture:null,__cbOnceOwnerUnbindReplaceTexture:null,emitReplaceTexture:function(e,n){var t=0;if(null!=this.__cbOnReplaceTexture&&(t+=this.__cbOnReplaceTexture.length),null!=this.__cbOnceReplaceTexture&&(t+=this.__cbOnceReplaceTexture.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnReplaceTexture)for(var s=0,h=this.__cbOnReplaceTexture.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnReplaceTexture[a],++r):--t}if(null!=this.__cbOnceReplaceTexture){for(var o=null,c=null,s=0,h=this.__cbOnceReplaceTexture.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceReplaceTexture[a],this.__cbOnceReplaceTexture[a]=null,u=this.__cbOnceOwnerUnbindReplaceTexture[a],(this.__cbOnceOwnerUnbindReplaceTexture[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindReplaceTexture[a]),c.push(this.__cbOnceReplaceTexture[a]))}this.__cbOnceOwnerUnbindReplaceTexture=o,this.__cbOnceReplaceTexture=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onReplaceTexture:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event replaceTexture because owner is destroyed!");var l=function(e){null!=t&&(i.offReplaceTexture(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindReplaceTexture&&(this.__cbOnOwnerUnbindReplaceTexture=[]),this.__cbOnOwnerUnbindReplaceTexture.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindReplaceTexture&&(this.__cbOnOwnerUnbindReplaceTexture=[]),this.__cbOnOwnerUnbindReplaceTexture.push(null);null==this.__cbOnReplaceTexture&&(this.__cbOnReplaceTexture=[]),this.__cbOnReplaceTexture.push(t)},onceReplaceTexture:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event replaceTexture because owner is destroyed!");var l=function(e){null!=t&&(i.offReplaceTexture(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindReplaceTexture&&(this.__cbOnceOwnerUnbindReplaceTexture=[]),this.__cbOnceOwnerUnbindReplaceTexture.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindReplaceTexture&&(this.__cbOnceOwnerUnbindReplaceTexture=[]),this.__cbOnceOwnerUnbindReplaceTexture.push(null);null==this.__cbOnceReplaceTexture&&(this.__cbOnceReplaceTexture=[]),this.__cbOnceReplaceTexture.push(t)},offReplaceTexture:function(e){if(null!=e){var n;null!=this.__cbOnReplaceTexture&&-1!=(n=this.__cbOnReplaceTexture.indexOf(e))&&(this.__cbOnReplaceTexture.splice(n,1),null!=(r=this.__cbOnOwnerUnbindReplaceTexture[n])&&r(),this.__cbOnOwnerUnbindReplaceTexture.splice(n,1)),null!=this.__cbOnceReplaceTexture&&-1!=(n=this.__cbOnceReplaceTexture.indexOf(e))&&(this.__cbOnceReplaceTexture.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindReplaceTexture[n])&&r(),this.__cbOnceOwnerUnbindReplaceTexture.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindReplaceTexture){for(var t=0,i=this.__cbOnOwnerUnbindReplaceTexture.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindReplaceTexture[l])&&r()}this.__cbOnOwnerUnbindReplaceTexture=null}if(null!=this.__cbOnceOwnerUnbindReplaceTexture){for(t=0,i=this.__cbOnceOwnerUnbindReplaceTexture.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindReplaceTexture[l])&&r()}this.__cbOnceOwnerUnbindReplaceTexture=null}this.__cbOnReplaceTexture=null,this.__cbOnceReplaceTexture=null}},listensReplaceTexture:function(){return null!=this.__cbOnReplaceTexture&&0<this.__cbOnReplaceTexture.length||null!=this.__cbOnceReplaceTexture&&0<this.__cbOnceReplaceTexture.length},textureAutoruns:null,get_texture:function(){var e,n,t=this.unobservedTexture;return null!=U.current&&(e=U.current,null!=(n=this.textureAutoruns)||(n=U.getAutorunArray(),null!=(this.textureAutoruns=n)))&&e.bindToAutorunArray(n),t},set_texture:function(e){var n=this.unobservedTexture;return n!=(this.unobservedTexture=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitTextureChange(e,n),null!=(n=this.textureAutoruns))&&(this.textureAutoruns=null,U.invalidateAutorunArray(n)),e},invalidateTexture:function(){var e=this.unobservedTexture,e=(this.emitTextureChange(e,e),this.textureAutoruns);null!=e&&(this.textureAutoruns=null,U.invalidateAutorunArray(e))},unobservedTexture:null,__cbOnTextureChange:null,__cbOnceTextureChange:null,__cbOnOwnerUnbindTextureChange:null,__cbOnceOwnerUnbindTextureChange:null,emitTextureChange:function(e,n){var t=0;if(null!=this.__cbOnTextureChange&&(t+=this.__cbOnTextureChange.length),null!=this.__cbOnceTextureChange&&(t+=this.__cbOnceTextureChange.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnTextureChange)for(var s=0,h=this.__cbOnTextureChange.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnTextureChange[a],++r):--t}if(null!=this.__cbOnceTextureChange){for(var o=null,c=null,s=0,h=this.__cbOnceTextureChange.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceTextureChange[a],this.__cbOnceTextureChange[a]=null,u=this.__cbOnceOwnerUnbindTextureChange[a],(this.__cbOnceOwnerUnbindTextureChange[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindTextureChange[a]),c.push(this.__cbOnceTextureChange[a]))}this.__cbOnceOwnerUnbindTextureChange=o,this.__cbOnceTextureChange=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onTextureChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event textureChange because owner is destroyed!");var l=function(e){null!=t&&(i.offTextureChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindTextureChange&&(this.__cbOnOwnerUnbindTextureChange=[]),this.__cbOnOwnerUnbindTextureChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindTextureChange&&(this.__cbOnOwnerUnbindTextureChange=[]),this.__cbOnOwnerUnbindTextureChange.push(null);null==this.__cbOnTextureChange&&(this.__cbOnTextureChange=[]),this.__cbOnTextureChange.push(t)},onceTextureChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event textureChange because owner is destroyed!");var l=function(e){null!=t&&(i.offTextureChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindTextureChange&&(this.__cbOnceOwnerUnbindTextureChange=[]),this.__cbOnceOwnerUnbindTextureChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindTextureChange&&(this.__cbOnceOwnerUnbindTextureChange=[]),this.__cbOnceOwnerUnbindTextureChange.push(null);null==this.__cbOnceTextureChange&&(this.__cbOnceTextureChange=[]),this.__cbOnceTextureChange.push(t)},offTextureChange:function(e){if(null!=e){var n;null!=this.__cbOnTextureChange&&-1!=(n=this.__cbOnTextureChange.indexOf(e))&&(this.__cbOnTextureChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindTextureChange[n])&&r(),this.__cbOnOwnerUnbindTextureChange.splice(n,1)),null!=this.__cbOnceTextureChange&&-1!=(n=this.__cbOnceTextureChange.indexOf(e))&&(this.__cbOnceTextureChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindTextureChange[n])&&r(),this.__cbOnceOwnerUnbindTextureChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindTextureChange){for(var t=0,i=this.__cbOnOwnerUnbindTextureChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindTextureChange[l])&&r()}this.__cbOnOwnerUnbindTextureChange=null}if(null!=this.__cbOnceOwnerUnbindTextureChange){for(t=0,i=this.__cbOnceOwnerUnbindTextureChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindTextureChange[l])&&r()}this.__cbOnceOwnerUnbindTextureChange=null}this.__cbOnTextureChange=null,this.__cbOnceTextureChange=null}},listensTextureChange:function(){return null!=this.__cbOnTextureChange&&0<this.__cbOnTextureChange.length||null!=this.__cbOnceTextureChange&&0<this.__cbOnceTextureChange.length},defaultImageOptions:null,reloadBecauseOfDensityChange:null,load:function(){var _=this,d=(this.set_status(Fe.LOADING),this.reloadBecauseOfDensityChange);if(this.reloadBecauseOfDensityChange=!1,null==this.path)he.app.logger.warning("Cannot load image asset if path is undefined.",{fileName:"../../../../ceramic/runtime/src/ceramic/ImageAsset.hx",lineNumber:103,className:"ceramic.ImageAsset",methodName:"load"}),this.set_status(Fe.BROKEN),this.emitComplete(!1);else{var e={};if(null!=this.owner&&(e.immediate=this.owner.immediate,e.loadMethod=this.owner.loadMethod),null!=this.defaultImageOptions)for(var n=0,t=K.fields(this.defaultImageOptions);n<t.length;){var i=t[n];++n,e[i]=K.field(this.defaultImageOptions,i)}if(null!=this.options)for(n=0,t=K.fields(this.options);n<t.length;){i=t[n];++n,e[i]=K.field(this.options,i)}this.loadTexture(this.path,e,function(e,n){if(null!=e){var t=_.get_texture();if(e.id="texture:"+n,_.set_texture(e),_.get_texture().asset=_,null!=t){_.get_texture().set_filter(t.filter),_.emitReplaceTexture(_.get_texture(),t);for(var i=0,l=[].concat(he.app.visuals);i<l.length;){var r,s,h,a,o,c,u=l[i];++i,0<=u._lifecycleState&&(null!=u.asQuad?(r=u.asQuad)._texture==t&&(c=r.frameX,s=r.frameY,h=r.frameWidth,a=r.frameHeight,o=_.get_texture(),r._texture!=o&&r._set_texture(o),!d&&0==c&&0==s&&h==t.width&&a==t.height||(r.frameX=c,r.frameY=s,r.frameWidth!=h&&-1!=(r.frameWidth=h)&&r.set_width(h),r.frameHeight==a)||-1==(r.frameHeight=a)||r.set_height(a)):null!=u.asMesh&&(o=u.asMesh).texture==t&&(c=_.get_texture(),o.texture!=c)&&(null!=o.texture&&(o.texture.offDestroy($bind(o,o.textureDestroyed)),null!=o.texture.asset)&&o.texture.asset.release(),o.texture=c,null!=o.texture)&&(o.texture.onDestroy(o,$bind(o,o.textureDestroyed)),null!=o.texture.asset)&&o.texture.asset.retain())}t.asset=null,t.destroy()}_.set_status(Fe.READY),_.emitComplete(!0),_.handleTexturesDensityChange&&_.checkTexturesDensity()}else he.app.logger.warning("Failed to decode texture",{fileName:"../../../../ceramic/runtime/src/ceramic/ImageAsset.hx",lineNumber:201,className:"ceramic.ImageAsset",methodName:"load"}),_.set_status(Fe.BROKEN),_.emitComplete(!1)})}},loadTexture:function(n,e,t){var i=this,l=n,r=fe.realAssetPath(l,this.runtimeAssets),s=fe.getReloadCount(r);0<s&&(r+="?hot="+s,l+="?hot="+s),he.app.logger.info("Load image "+l+" (density="+this.density+")",{fileName:"../../../../ceramic/runtime/src/ceramic/ImageAsset.hx",lineNumber:221,className:"ceramic.ImageAsset",methodName:"loadTexture"}),he.app.backend.textures.load(r,e,function(e){null!=e?(e=new zn(e,i.density),t(e,l)):(i.set_status(Fe.BROKEN),he.app.logger.error("Failed to load texture at path: "+n,{fileName:"../../../../ceramic/runtime/src/ceramic/ImageAsset.hx",lineNumber:287,className:"ceramic.ImageAsset",methodName:"loadTexture"}),i.emitComplete(!1))})},texturesDensityDidChange:function(e,n){this.get_status()==Fe.READY&&this.checkTexturesDensity()},checkTexturesDensity:function(){var e;null!=this.owner&&this.owner.reloadOnTextureDensityChange&&(e=this.path,this.computePath(),e!=this.path)&&(he.app.logger.info("Reload texture ("+e+" -> "+this.path+")",{fileName:"../../../../ceramic/runtime/src/ceramic/ImageAsset.hx",lineNumber:323,className:"ceramic.ImageAsset",methodName:"checkTexturesDensity"}),this.reloadBecauseOfDensityChange=!0,this.load())},assetFilesDidChange:function(e,n){var t=-1,n=(Object.prototype.hasOwnProperty.call(n.h,this.path)&&(t=n.h[this.path]),-1);(n=Object.prototype.hasOwnProperty.call(e.h,this.path)?e.h[this.path]:n)!=t&&(he.app.logger.info("Reload texture (file has changed)",{fileName:"../../../../ceramic/runtime/src/ceramic/ImageAsset.hx",lineNumber:349,className:"ceramic.ImageAsset",methodName:"assetFilesDidChange"}),this.load())},destroy:function(){this._lifecycleState<=-2||(this._lifecycleState=-2,this._lifecycleState=-1,Ea.prototype.destroy.call(this),null!=this.get_texture()&&(this.get_texture().destroy(),this.set_texture(null)))},unbindEvents:function(){Ea.prototype.unbindEvents.call(this),this.offReplaceTexture(),this.offTextureChange()},__class__:bn,__properties__:$extend(Ea.prototype.__properties__,{set_texture:"set_texture",get_texture:"get_texture"})}),function(){this.immediateCallbacksLen=0,this.immediateCallbacksCapacity=0,this.immediateCallbacks=[]}),On=((E["ceramic.Immediate"]=gn).__name__="ceramic.Immediate",gn.prototype={immediateCallbacks:null,immediateCallbacksCapacity:null,immediateCallbacksLen:null,push:function(e){if(null==e)throw oe.thrown("Immediate callback should not be null!");this.immediateCallbacksLen<this.immediateCallbacksCapacity?(this.immediateCallbacks[this.immediateCallbacksLen]=e,this.immediateCallbacksLen++):(this.immediateCallbacks[this.immediateCallbacksLen++]=e,this.immediateCallbacksCapacity++)},flush:function(){for(var e=!1;0<this.immediateCallbacksLen;){for(var e=!0,n=C.pool(this.immediateCallbacksLen),t=n.get(),i=this.immediateCallbacksLen,l=this.immediateCallbacksLen=0,r=i;l<r;){var s=l++;t.vector[s]=this.immediateCallbacks[s],this.immediateCallbacks[s]=null}for(var h=0,a=i;h<a;){var o=h++;(0,t.vector[o])()}n.release(t)}return e},__class__:gn},function(e){this.settings=e}),fn=((E["ceramic.InitSettings"]=On).__name__="ceramic.InitSettings",On.prototype={settings:null,get_targetWidth:function(){return this.settings.get_targetWidth()},set_targetWidth:function(e){return this.settings.set_targetWidth(e)},get_targetHeight:function(){return this.settings.get_targetHeight()},set_targetHeight:function(e){return this.settings.set_targetHeight(e)},targetSize:function(e,n){this.settings.set_targetWidth(e),this.settings.set_targetHeight(n)},get_windowWidth:function(){return this.settings.get_windowWidth()},set_windowWidth:function(e){return this.settings.set_windowWidth(e)},get_windowHeight:function(){return this.settings.get_windowHeight()},set_windowHeight:function(e){return this.settings.set_windowHeight(e)},windowSize:function(e,n){this.settings.set_windowWidth(e),this.settings.set_windowHeight(n)},get_targetDensity:function(){return this.settings.get_targetDensity()},set_targetDensity:function(e){return this.settings.set_targetDensity(e)},get_background:function(){return this.settings.get_background()},set_background:function(e){return this.settings.set_background(e)},get_scaling:function(){return this.settings.get_scaling()},set_scaling:function(e){return this.settings.set_scaling(e)},get_title:function(){return this.settings.get_title()},set_title:function(e){return this.settings.set_title(e)},get_fullscreen:function(){return this.settings.get_fullscreen()},set_fullscreen:function(e){return this.settings.set_fullscreen(e)},get_targetFps:function(){return this.settings.get_targetFps()},set_targetFps:function(e){return this.settings.set_targetFps(e)},get_maxDelta:function(){return this.settings.get_maxDelta()},set_maxDelta:function(e){return this.settings.set_maxDelta(e)},get_overrideDelta:function(){return this.settings.get_overrideDelta()},set_overrideDelta:function(e){return this.settings.set_overrideDelta(e)},get_preventDefaultMouseWheel:function(){return this.settings.get_preventDefaultMouseWheel()},set_preventDefaultMouseWheel:function(e){return this.settings.set_preventDefaultMouseWheel(e)},get_preventDefaultTouches:function(){return this.settings.get_preventDefaultTouches()},set_preventDefaultTouches:function(e){return this.settings.set_preventDefaultTouches(e)},get_orientation:function(){return this.settings.orientation},set_orientation:function(e){return this.settings.orientation=e},get_antialiasing:function(){return this.settings.antialiasing},set_antialiasing:function(e){return this.settings.antialiasing=e},get_collections:function(){return this.settings.collections},set_collections:function(e){return this.settings.collections=e},get_appInfo:function(){return this.settings.appInfo},set_appInfo:function(e){return this.settings.appInfo=e},get_resizable:function(){return this.settings.resizable},set_resizable:function(e){return this.settings.resizable=e},get_assetsPath:function(){return this.settings.assetsPath},set_assetsPath:function(e){return this.settings.assetsPath=e},get_backend:function(){return this.settings.backend},set_backend:function(e){return this.settings.backend=e},get_defaultFont:function(){return this.settings.defaultFont},set_defaultFont:function(e){return this.settings.defaultFont=e},get_defaultShader:function(){return this.settings.defaultShader},set_defaultShader:function(e){return this.settings.defaultShader=e},__class__:On,__properties__:{set_defaultShader:"set_defaultShader",get_defaultShader:"get_defaultShader",set_defaultFont:"set_defaultFont",get_defaultFont:"get_defaultFont",set_backend:"set_backend",get_backend:"get_backend",set_assetsPath:"set_assetsPath",get_assetsPath:"get_assetsPath",set_resizable:"set_resizable",get_resizable:"get_resizable",set_appInfo:"set_appInfo",get_appInfo:"get_appInfo",set_collections:"set_collections",get_collections:"get_collections",set_antialiasing:"set_antialiasing",get_antialiasing:"get_antialiasing",set_orientation:"set_orientation",get_orientation:"get_orientation",set_preventDefaultTouches:"set_preventDefaultTouches",get_preventDefaultTouches:"get_preventDefaultTouches",set_preventDefaultMouseWheel:"set_preventDefaultMouseWheel",get_preventDefaultMouseWheel:"get_preventDefaultMouseWheel",set_overrideDelta:"set_overrideDelta",get_overrideDelta:"get_overrideDelta",set_maxDelta:"set_maxDelta",get_maxDelta:"get_maxDelta",set_targetFps:"set_targetFps",get_targetFps:"get_targetFps",set_fullscreen:"set_fullscreen",get_fullscreen:"get_fullscreen",set_title:"set_title",get_title:"get_title",set_scaling:"set_scaling",get_scaling:"get_scaling",set_background:"set_background",get_background:"get_background",set_targetDensity:"set_targetDensity",get_targetDensity:"get_targetDensity",set_windowHeight:"set_windowHeight",get_windowHeight:"get_windowHeight",set_windowWidth:"set_windowWidth",get_windowWidth:"get_windowWidth",set_targetHeight:"set_targetHeight",get_targetHeight:"get_targetHeight",set_targetWidth:"set_targetWidth",get_targetWidth:"get_targetWidth"}},function(){this.activeGamepads=[],this.gamepadNames=new An,this.gamepadGyroKeys=[],this.gamepadGyroDeltas=new An,this.gamepadAxisValues=new mn(16,.5,!1),this.pressedGamepadButtons=new ze(16,.5,!1),this.pressedKeyCodes=new ze(16,.5,!1),this.pressedScanCodes=new ze(16,.5,!1),j.call(this)}),pn=((E["ceramic.Input"]=fn).__name__="ceramic.Input",fn._elementsImFocused=function(){var e=te.get_context();return null!=e&&null!=e.focusedWindow},fn.__super__=j,fn.prototype=$extend(j.prototype,{__cbOnKeyDown:null,__cbOnceKeyDown:null,__cbOnOwnerUnbindKeyDown:null,__cbOnceOwnerUnbindKeyDown:null,__onOwnerKeyDown:null,__onceOwnerKeyDown:null,emitKeyDown:function(e){this.willEmitKeyDown(e);var n=0;if(null!=this.__cbOnKeyDown&&(n+=this.__cbOnKeyDown.length),null!=this.__cbOnceKeyDown&&(n+=this.__cbOnceKeyDown.length),0<n){var t=C.pool(n),i=t.get(),l=0;if(null!=this.__cbOnKeyDown)for(var r=0,s=this.__cbOnKeyDown.length;r<s;){var h=r++,a=this.__onOwnerKeyDown[h],o=!1;null!=te.get_context().focusedWindow?null!=a&&(o=re._filterEventOwner(a)):o=!0,o?(i.vector[l]=this.__cbOnKeyDown[h],++l):--n}if(null!=this.__cbOnceKeyDown){for(var c=null,u=null,_=null,r=0,s=this.__cbOnceKeyDown.length;r<s;){var d,h=r++,a=this.__onceOwnerKeyDown[h],o=!1;null!=te.get_context().focusedWindow?null!=a&&(o=re._filterEventOwner(a)):o=!0,o?(i.vector[l]=this.__cbOnceKeyDown[h],this.__cbOnceKeyDown[h]=null,d=this.__cbOnceOwnerUnbindKeyDown[h],(this.__cbOnceOwnerUnbindKeyDown[h]=null)!=d&&d(),++l):(--n,null==c&&(c=[],u=[],_=[]),c.push(this.__cbOnceOwnerUnbindKeyDown[h]),u.push(this.__cbOnceKeyDown[h]),_.push(this.__onceOwnerKeyDown[h]))}this.__cbOnceOwnerUnbindKeyDown=c,this.__cbOnceKeyDown=u,this.__onceOwnerKeyDown=_}for(r=0,s=n;r<s;){l=r++;(0,i.vector[l])(e)}t.release(i)}},onKeyDown:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event keyDown because owner is destroyed!");var l=function(e){null!=t&&(i.offKeyDown(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindKeyDown&&(this.__cbOnOwnerUnbindKeyDown=[]),this.__cbOnOwnerUnbindKeyDown.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindKeyDown&&(this.__cbOnOwnerUnbindKeyDown=[]),this.__cbOnOwnerUnbindKeyDown.push(null);null==this.__cbOnKeyDown&&(this.__cbOnKeyDown=[]),this.__cbOnKeyDown.push(t),null==this.__onOwnerKeyDown&&(this.__onOwnerKeyDown=[]),this.__onOwnerKeyDown.push(n)},onceKeyDown:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event keyDown because owner is destroyed!");var l=function(e){null!=t&&(i.offKeyDown(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindKeyDown&&(this.__cbOnceOwnerUnbindKeyDown=[]),this.__cbOnceOwnerUnbindKeyDown.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindKeyDown&&(this.__cbOnceOwnerUnbindKeyDown=[]),this.__cbOnceOwnerUnbindKeyDown.push(null);null==this.__cbOnceKeyDown&&(this.__cbOnceKeyDown=[]),this.__cbOnceKeyDown.push(t),null==this.__onceOwnerKeyDown&&(this.__onceOwnerKeyDown=[]),this.__onceOwnerKeyDown.push(n)},offKeyDown:function(e){if(null!=e){var n;null!=this.__cbOnKeyDown&&-1!=(n=this.__cbOnKeyDown.indexOf(e))&&(this.__cbOnKeyDown.splice(n,1),null!=(r=this.__cbOnOwnerUnbindKeyDown[n])&&r(),this.__cbOnOwnerUnbindKeyDown.splice(n,1),this.__onOwnerKeyDown.splice(n,1)),null!=this.__cbOnceKeyDown&&-1!=(n=this.__cbOnceKeyDown.indexOf(e))&&(this.__cbOnceKeyDown.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindKeyDown[n])&&r(),this.__cbOnceOwnerUnbindKeyDown.splice(n,1),this.__onceOwnerKeyDown.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindKeyDown){for(var t=0,i=this.__cbOnOwnerUnbindKeyDown.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindKeyDown[l])&&r()}this.__cbOnOwnerUnbindKeyDown=null}if(null!=this.__cbOnceOwnerUnbindKeyDown){for(t=0,i=this.__cbOnceOwnerUnbindKeyDown.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindKeyDown[l])&&r()}this.__cbOnceOwnerUnbindKeyDown=null}this.__cbOnKeyDown=null,this.__cbOnceKeyDown=null,this.__onOwnerKeyDown=null,this.__onceOwnerKeyDown=null}},listensKeyDown:function(){return null!=this.__cbOnKeyDown&&0<this.__cbOnKeyDown.length||null!=this.__cbOnceKeyDown&&0<this.__cbOnceKeyDown.length},__cbOnKeyUp:null,__cbOnceKeyUp:null,__cbOnOwnerUnbindKeyUp:null,__cbOnceOwnerUnbindKeyUp:null,__onOwnerKeyUp:null,__onceOwnerKeyUp:null,emitKeyUp:function(e){this.willEmitKeyUp(e);var n=0;if(null!=this.__cbOnKeyUp&&(n+=this.__cbOnKeyUp.length),null!=this.__cbOnceKeyUp&&(n+=this.__cbOnceKeyUp.length),0<n){var t=C.pool(n),i=t.get(),l=0;if(null!=this.__cbOnKeyUp)for(var r=0,s=this.__cbOnKeyUp.length;r<s;){var h=r++,a=this.__onOwnerKeyUp[h],o=!1;null!=te.get_context().focusedWindow?null!=a&&(o=re._filterEventOwner(a)):o=!0,o?(i.vector[l]=this.__cbOnKeyUp[h],++l):--n}if(null!=this.__cbOnceKeyUp){for(var c=null,u=null,_=null,r=0,s=this.__cbOnceKeyUp.length;r<s;){var d,h=r++,a=this.__onceOwnerKeyUp[h],o=!1;null!=te.get_context().focusedWindow?null!=a&&(o=re._filterEventOwner(a)):o=!0,o?(i.vector[l]=this.__cbOnceKeyUp[h],this.__cbOnceKeyUp[h]=null,d=this.__cbOnceOwnerUnbindKeyUp[h],(this.__cbOnceOwnerUnbindKeyUp[h]=null)!=d&&d(),++l):(--n,null==c&&(c=[],u=[],_=[]),c.push(this.__cbOnceOwnerUnbindKeyUp[h]),u.push(this.__cbOnceKeyUp[h]),_.push(this.__onceOwnerKeyUp[h]))}this.__cbOnceOwnerUnbindKeyUp=c,this.__cbOnceKeyUp=u,this.__onceOwnerKeyUp=_}for(r=0,s=n;r<s;){l=r++;(0,i.vector[l])(e)}t.release(i)}},onKeyUp:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event keyUp because owner is destroyed!");var l=function(e){null!=t&&(i.offKeyUp(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindKeyUp&&(this.__cbOnOwnerUnbindKeyUp=[]),this.__cbOnOwnerUnbindKeyUp.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindKeyUp&&(this.__cbOnOwnerUnbindKeyUp=[]),this.__cbOnOwnerUnbindKeyUp.push(null);null==this.__cbOnKeyUp&&(this.__cbOnKeyUp=[]),this.__cbOnKeyUp.push(t),null==this.__onOwnerKeyUp&&(this.__onOwnerKeyUp=[]),this.__onOwnerKeyUp.push(n)},onceKeyUp:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event keyUp because owner is destroyed!");var l=function(e){null!=t&&(i.offKeyUp(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindKeyUp&&(this.__cbOnceOwnerUnbindKeyUp=[]),this.__cbOnceOwnerUnbindKeyUp.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindKeyUp&&(this.__cbOnceOwnerUnbindKeyUp=[]),this.__cbOnceOwnerUnbindKeyUp.push(null);null==this.__cbOnceKeyUp&&(this.__cbOnceKeyUp=[]),this.__cbOnceKeyUp.push(t),null==this.__onceOwnerKeyUp&&(this.__onceOwnerKeyUp=[]),this.__onceOwnerKeyUp.push(n)},offKeyUp:function(e){if(null!=e){var n;null!=this.__cbOnKeyUp&&-1!=(n=this.__cbOnKeyUp.indexOf(e))&&(this.__cbOnKeyUp.splice(n,1),null!=(r=this.__cbOnOwnerUnbindKeyUp[n])&&r(),this.__cbOnOwnerUnbindKeyUp.splice(n,1),this.__onOwnerKeyUp.splice(n,1)),null!=this.__cbOnceKeyUp&&-1!=(n=this.__cbOnceKeyUp.indexOf(e))&&(this.__cbOnceKeyUp.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindKeyUp[n])&&r(),this.__cbOnceOwnerUnbindKeyUp.splice(n,1),this.__onceOwnerKeyUp.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindKeyUp){for(var t=0,i=this.__cbOnOwnerUnbindKeyUp.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindKeyUp[l])&&r()}this.__cbOnOwnerUnbindKeyUp=null}if(null!=this.__cbOnceOwnerUnbindKeyUp){for(t=0,i=this.__cbOnceOwnerUnbindKeyUp.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindKeyUp[l])&&r()}this.__cbOnceOwnerUnbindKeyUp=null}this.__cbOnKeyUp=null,this.__cbOnceKeyUp=null,this.__onOwnerKeyUp=null,this.__onceOwnerKeyUp=null}},listensKeyUp:function(){return null!=this.__cbOnKeyUp&&0<this.__cbOnKeyUp.length||null!=this.__cbOnceKeyUp&&0<this.__cbOnceKeyUp.length},__cbOnGamepadAxis:null,__cbOnceGamepadAxis:null,__cbOnOwnerUnbindGamepadAxis:null,__cbOnceOwnerUnbindGamepadAxis:null,emitGamepadAxis:function(e,n,t){this.gamepadAxisValues.set(32*e+n,t);var i=0;if(null!=this.__cbOnGamepadAxis&&(i+=this.__cbOnGamepadAxis.length),null!=this.__cbOnceGamepadAxis&&(i+=this.__cbOnceGamepadAxis.length),0<i){var l=C.pool(i),r=l.get(),s=0;if(null!=this.__cbOnGamepadAxis)for(var h=0,a=this.__cbOnGamepadAxis.length;h<a;){var o=h++;!0?(r.vector[s]=this.__cbOnGamepadAxis[o],++s):--i}if(null!=this.__cbOnceGamepadAxis){for(var c=null,u=null,h=0,a=this.__cbOnceGamepadAxis.length;h<a;){var _,o=h++;!0?(r.vector[s]=this.__cbOnceGamepadAxis[o],this.__cbOnceGamepadAxis[o]=null,_=this.__cbOnceOwnerUnbindGamepadAxis[o],(this.__cbOnceOwnerUnbindGamepadAxis[o]=null)!=_&&_(),++s):(--i,null==c&&(c=[],u=[],0),c.push(this.__cbOnceOwnerUnbindGamepadAxis[o]),u.push(this.__cbOnceGamepadAxis[o]))}this.__cbOnceOwnerUnbindGamepadAxis=c,this.__cbOnceGamepadAxis=u}for(h=0,a=i;h<a;){s=h++;(0,r.vector[s])(e,n,t)}l.release(r)}},onGamepadAxis:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event gamepadAxis because owner is destroyed!");var l=function(e){null!=t&&(i.offGamepadAxis(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindGamepadAxis&&(this.__cbOnOwnerUnbindGamepadAxis=[]),this.__cbOnOwnerUnbindGamepadAxis.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindGamepadAxis&&(this.__cbOnOwnerUnbindGamepadAxis=[]),this.__cbOnOwnerUnbindGamepadAxis.push(null);null==this.__cbOnGamepadAxis&&(this.__cbOnGamepadAxis=[]),this.__cbOnGamepadAxis.push(t)},onceGamepadAxis:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event gamepadAxis because owner is destroyed!");var l=function(e){null!=t&&(i.offGamepadAxis(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindGamepadAxis&&(this.__cbOnceOwnerUnbindGamepadAxis=[]),this.__cbOnceOwnerUnbindGamepadAxis.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindGamepadAxis&&(this.__cbOnceOwnerUnbindGamepadAxis=[]),this.__cbOnceOwnerUnbindGamepadAxis.push(null);null==this.__cbOnceGamepadAxis&&(this.__cbOnceGamepadAxis=[]),this.__cbOnceGamepadAxis.push(t)},offGamepadAxis:function(e){if(null!=e){var n;null!=this.__cbOnGamepadAxis&&-1!=(n=this.__cbOnGamepadAxis.indexOf(e))&&(this.__cbOnGamepadAxis.splice(n,1),null!=(r=this.__cbOnOwnerUnbindGamepadAxis[n])&&r(),this.__cbOnOwnerUnbindGamepadAxis.splice(n,1)),null!=this.__cbOnceGamepadAxis&&-1!=(n=this.__cbOnceGamepadAxis.indexOf(e))&&(this.__cbOnceGamepadAxis.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindGamepadAxis[n])&&r(),this.__cbOnceOwnerUnbindGamepadAxis.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindGamepadAxis){for(var t=0,i=this.__cbOnOwnerUnbindGamepadAxis.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindGamepadAxis[l])&&r()}this.__cbOnOwnerUnbindGamepadAxis=null}if(null!=this.__cbOnceOwnerUnbindGamepadAxis){for(t=0,i=this.__cbOnceOwnerUnbindGamepadAxis.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindGamepadAxis[l])&&r()}this.__cbOnceOwnerUnbindGamepadAxis=null}this.__cbOnGamepadAxis=null,this.__cbOnceGamepadAxis=null}},listensGamepadAxis:function(){return null!=this.__cbOnGamepadAxis&&0<this.__cbOnGamepadAxis.length||null!=this.__cbOnceGamepadAxis&&0<this.__cbOnceGamepadAxis.length},__cbOnGamepadDown:null,__cbOnceGamepadDown:null,__cbOnOwnerUnbindGamepadDown:null,__cbOnceOwnerUnbindGamepadDown:null,__onOwnerGamepadDown:null,__onceOwnerGamepadDown:null,emitGamepadDown:function(e,n){this.willEmitGamepadDown(e,n);var t=0;if(null!=this.__cbOnGamepadDown&&(t+=this.__cbOnGamepadDown.length),null!=this.__cbOnceGamepadDown&&(t+=this.__cbOnceGamepadDown.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnGamepadDown)for(var s=0,h=this.__cbOnGamepadDown.length;s<h;){var a=s++,o=this.__onOwnerGamepadDown[a],c=!1;null!=te.get_context().focusedWindow?null!=o&&(c=re._filterEventOwner(o)):c=!0,c?(l.vector[r]=this.__cbOnGamepadDown[a],++r):--t}if(null!=this.__cbOnceGamepadDown){for(var u=null,_=null,d=null,s=0,h=this.__cbOnceGamepadDown.length;s<h;){var b,a=s++,o=this.__onceOwnerGamepadDown[a],c=!1;null!=te.get_context().focusedWindow?null!=o&&(c=re._filterEventOwner(o)):c=!0,c?(l.vector[r]=this.__cbOnceGamepadDown[a],this.__cbOnceGamepadDown[a]=null,b=this.__cbOnceOwnerUnbindGamepadDown[a],(this.__cbOnceOwnerUnbindGamepadDown[a]=null)!=b&&b(),++r):(--t,null==u&&(u=[],_=[],d=[]),u.push(this.__cbOnceOwnerUnbindGamepadDown[a]),_.push(this.__cbOnceGamepadDown[a]),d.push(this.__onceOwnerGamepadDown[a]))}this.__cbOnceOwnerUnbindGamepadDown=u,this.__cbOnceGamepadDown=_,this.__onceOwnerGamepadDown=d}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onGamepadDown:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event gamepadDown because owner is destroyed!");var l=function(e){null!=t&&(i.offGamepadDown(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindGamepadDown&&(this.__cbOnOwnerUnbindGamepadDown=[]),this.__cbOnOwnerUnbindGamepadDown.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindGamepadDown&&(this.__cbOnOwnerUnbindGamepadDown=[]),this.__cbOnOwnerUnbindGamepadDown.push(null);null==this.__cbOnGamepadDown&&(this.__cbOnGamepadDown=[]),this.__cbOnGamepadDown.push(t),null==this.__onOwnerGamepadDown&&(this.__onOwnerGamepadDown=[]),this.__onOwnerGamepadDown.push(n)},onceGamepadDown:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event gamepadDown because owner is destroyed!");var l=function(e){null!=t&&(i.offGamepadDown(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindGamepadDown&&(this.__cbOnceOwnerUnbindGamepadDown=[]),this.__cbOnceOwnerUnbindGamepadDown.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindGamepadDown&&(this.__cbOnceOwnerUnbindGamepadDown=[]),this.__cbOnceOwnerUnbindGamepadDown.push(null);null==this.__cbOnceGamepadDown&&(this.__cbOnceGamepadDown=[]),this.__cbOnceGamepadDown.push(t),null==this.__onceOwnerGamepadDown&&(this.__onceOwnerGamepadDown=[]),this.__onceOwnerGamepadDown.push(n)},offGamepadDown:function(e){if(null!=e){var n;null!=this.__cbOnGamepadDown&&-1!=(n=this.__cbOnGamepadDown.indexOf(e))&&(this.__cbOnGamepadDown.splice(n,1),null!=(r=this.__cbOnOwnerUnbindGamepadDown[n])&&r(),this.__cbOnOwnerUnbindGamepadDown.splice(n,1),this.__onOwnerGamepadDown.splice(n,1)),null!=this.__cbOnceGamepadDown&&-1!=(n=this.__cbOnceGamepadDown.indexOf(e))&&(this.__cbOnceGamepadDown.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindGamepadDown[n])&&r(),this.__cbOnceOwnerUnbindGamepadDown.splice(n,1),this.__onceOwnerGamepadDown.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindGamepadDown){for(var t=0,i=this.__cbOnOwnerUnbindGamepadDown.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindGamepadDown[l])&&r()}this.__cbOnOwnerUnbindGamepadDown=null}if(null!=this.__cbOnceOwnerUnbindGamepadDown){for(t=0,i=this.__cbOnceOwnerUnbindGamepadDown.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindGamepadDown[l])&&r()}this.__cbOnceOwnerUnbindGamepadDown=null}this.__cbOnGamepadDown=null,this.__cbOnceGamepadDown=null,this.__onOwnerGamepadDown=null,this.__onceOwnerGamepadDown=null}},listensGamepadDown:function(){return null!=this.__cbOnGamepadDown&&0<this.__cbOnGamepadDown.length||null!=this.__cbOnceGamepadDown&&0<this.__cbOnceGamepadDown.length},__cbOnGamepadUp:null,__cbOnceGamepadUp:null,__cbOnOwnerUnbindGamepadUp:null,__cbOnceOwnerUnbindGamepadUp:null,__onOwnerGamepadUp:null,__onceOwnerGamepadUp:null,emitGamepadUp:function(e,n){this.willEmitGamepadUp(e,n);var t=0;if(null!=this.__cbOnGamepadUp&&(t+=this.__cbOnGamepadUp.length),null!=this.__cbOnceGamepadUp&&(t+=this.__cbOnceGamepadUp.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnGamepadUp)for(var s=0,h=this.__cbOnGamepadUp.length;s<h;){var a=s++,o=this.__onOwnerGamepadUp[a],c=!1;null!=te.get_context().focusedWindow?null!=o&&(c=re._filterEventOwner(o)):c=!0,c?(l.vector[r]=this.__cbOnGamepadUp[a],++r):--t}if(null!=this.__cbOnceGamepadUp){for(var u=null,_=null,d=null,s=0,h=this.__cbOnceGamepadUp.length;s<h;){var b,a=s++,o=this.__onceOwnerGamepadUp[a],c=!1;null!=te.get_context().focusedWindow?null!=o&&(c=re._filterEventOwner(o)):c=!0,c?(l.vector[r]=this.__cbOnceGamepadUp[a],this.__cbOnceGamepadUp[a]=null,b=this.__cbOnceOwnerUnbindGamepadUp[a],(this.__cbOnceOwnerUnbindGamepadUp[a]=null)!=b&&b(),++r):(--t,null==u&&(u=[],_=[],d=[]),u.push(this.__cbOnceOwnerUnbindGamepadUp[a]),_.push(this.__cbOnceGamepadUp[a]),d.push(this.__onceOwnerGamepadUp[a]))}this.__cbOnceOwnerUnbindGamepadUp=u,this.__cbOnceGamepadUp=_,this.__onceOwnerGamepadUp=d}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onGamepadUp:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event gamepadUp because owner is destroyed!");var l=function(e){null!=t&&(i.offGamepadUp(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindGamepadUp&&(this.__cbOnOwnerUnbindGamepadUp=[]),this.__cbOnOwnerUnbindGamepadUp.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindGamepadUp&&(this.__cbOnOwnerUnbindGamepadUp=[]),this.__cbOnOwnerUnbindGamepadUp.push(null);null==this.__cbOnGamepadUp&&(this.__cbOnGamepadUp=[]),this.__cbOnGamepadUp.push(t),null==this.__onOwnerGamepadUp&&(this.__onOwnerGamepadUp=[]),this.__onOwnerGamepadUp.push(n)},onceGamepadUp:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event gamepadUp because owner is destroyed!");var l=function(e){null!=t&&(i.offGamepadUp(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindGamepadUp&&(this.__cbOnceOwnerUnbindGamepadUp=[]),this.__cbOnceOwnerUnbindGamepadUp.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindGamepadUp&&(this.__cbOnceOwnerUnbindGamepadUp=[]),this.__cbOnceOwnerUnbindGamepadUp.push(null);null==this.__cbOnceGamepadUp&&(this.__cbOnceGamepadUp=[]),this.__cbOnceGamepadUp.push(t),null==this.__onceOwnerGamepadUp&&(this.__onceOwnerGamepadUp=[]),this.__onceOwnerGamepadUp.push(n)},offGamepadUp:function(e){if(null!=e){var n;null!=this.__cbOnGamepadUp&&-1!=(n=this.__cbOnGamepadUp.indexOf(e))&&(this.__cbOnGamepadUp.splice(n,1),null!=(r=this.__cbOnOwnerUnbindGamepadUp[n])&&r(),this.__cbOnOwnerUnbindGamepadUp.splice(n,1),this.__onOwnerGamepadUp.splice(n,1)),null!=this.__cbOnceGamepadUp&&-1!=(n=this.__cbOnceGamepadUp.indexOf(e))&&(this.__cbOnceGamepadUp.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindGamepadUp[n])&&r(),this.__cbOnceOwnerUnbindGamepadUp.splice(n,1),this.__onceOwnerGamepadUp.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindGamepadUp){for(var t=0,i=this.__cbOnOwnerUnbindGamepadUp.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindGamepadUp[l])&&r()}this.__cbOnOwnerUnbindGamepadUp=null}if(null!=this.__cbOnceOwnerUnbindGamepadUp){for(t=0,i=this.__cbOnceOwnerUnbindGamepadUp.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindGamepadUp[l])&&r()}this.__cbOnceOwnerUnbindGamepadUp=null}this.__cbOnGamepadUp=null,this.__cbOnceGamepadUp=null,this.__onOwnerGamepadUp=null,this.__onceOwnerGamepadUp=null}},listensGamepadUp:function(){return null!=this.__cbOnGamepadUp&&0<this.__cbOnGamepadUp.length||null!=this.__cbOnceGamepadUp&&0<this.__cbOnceGamepadUp.length},__cbOnGamepadGyro:null,__cbOnceGamepadGyro:null,__cbOnOwnerUnbindGamepadGyro:null,__cbOnceOwnerUnbindGamepadGyro:null,emitGamepadGyro:function(e,n,t,i){this.willEmitGamepadGyro(e,n,t,i);var l=0;if(null!=this.__cbOnGamepadGyro&&(l+=this.__cbOnGamepadGyro.length),null!=this.__cbOnceGamepadGyro&&(l+=this.__cbOnceGamepadGyro.length),0<l){var r=C.pool(l),s=r.get(),h=0;if(null!=this.__cbOnGamepadGyro)for(var a=0,o=this.__cbOnGamepadGyro.length;a<o;){var c=a++;!0?(s.vector[h]=this.__cbOnGamepadGyro[c],++h):--l}if(null!=this.__cbOnceGamepadGyro){for(var u=null,_=null,a=0,o=this.__cbOnceGamepadGyro.length;a<o;){var d,c=a++;!0?(s.vector[h]=this.__cbOnceGamepadGyro[c],this.__cbOnceGamepadGyro[c]=null,d=this.__cbOnceOwnerUnbindGamepadGyro[c],(this.__cbOnceOwnerUnbindGamepadGyro[c]=null)!=d&&d(),++h):(--l,null==u&&(u=[],_=[],0),u.push(this.__cbOnceOwnerUnbindGamepadGyro[c]),_.push(this.__cbOnceGamepadGyro[c]))}this.__cbOnceOwnerUnbindGamepadGyro=u,this.__cbOnceGamepadGyro=_}for(a=0,o=l;a<o;){h=a++;(0,s.vector[h])(e,n,t,i)}r.release(s)}},onGamepadGyro:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event gamepadGyro because owner is destroyed!");var l=function(e){null!=t&&(i.offGamepadGyro(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindGamepadGyro&&(this.__cbOnOwnerUnbindGamepadGyro=[]),this.__cbOnOwnerUnbindGamepadGyro.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindGamepadGyro&&(this.__cbOnOwnerUnbindGamepadGyro=[]),this.__cbOnOwnerUnbindGamepadGyro.push(null);null==this.__cbOnGamepadGyro&&(this.__cbOnGamepadGyro=[]),this.__cbOnGamepadGyro.push(t)},onceGamepadGyro:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event gamepadGyro because owner is destroyed!");var l=function(e){null!=t&&(i.offGamepadGyro(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindGamepadGyro&&(this.__cbOnceOwnerUnbindGamepadGyro=[]),this.__cbOnceOwnerUnbindGamepadGyro.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindGamepadGyro&&(this.__cbOnceOwnerUnbindGamepadGyro=[]),this.__cbOnceOwnerUnbindGamepadGyro.push(null);null==this.__cbOnceGamepadGyro&&(this.__cbOnceGamepadGyro=[]),this.__cbOnceGamepadGyro.push(t)},offGamepadGyro:function(e){if(null!=e){var n;null!=this.__cbOnGamepadGyro&&-1!=(n=this.__cbOnGamepadGyro.indexOf(e))&&(this.__cbOnGamepadGyro.splice(n,1),null!=(r=this.__cbOnOwnerUnbindGamepadGyro[n])&&r(),this.__cbOnOwnerUnbindGamepadGyro.splice(n,1)),null!=this.__cbOnceGamepadGyro&&-1!=(n=this.__cbOnceGamepadGyro.indexOf(e))&&(this.__cbOnceGamepadGyro.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindGamepadGyro[n])&&r(),this.__cbOnceOwnerUnbindGamepadGyro.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindGamepadGyro){for(var t=0,i=this.__cbOnOwnerUnbindGamepadGyro.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindGamepadGyro[l])&&r()}this.__cbOnOwnerUnbindGamepadGyro=null}if(null!=this.__cbOnceOwnerUnbindGamepadGyro){for(t=0,i=this.__cbOnceOwnerUnbindGamepadGyro.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindGamepadGyro[l])&&r()}this.__cbOnceOwnerUnbindGamepadGyro=null}this.__cbOnGamepadGyro=null,this.__cbOnceGamepadGyro=null}},listensGamepadGyro:function(){return null!=this.__cbOnGamepadGyro&&0<this.__cbOnGamepadGyro.length||null!=this.__cbOnceGamepadGyro&&0<this.__cbOnceGamepadGyro.length},__cbOnGamepadEnable:null,__cbOnceGamepadEnable:null,__cbOnOwnerUnbindGamepadEnable:null,__cbOnceOwnerUnbindGamepadEnable:null,emitGamepadEnable:function(e,n){this.willEmitGamepadEnable(e,n);var t=0;if(null!=this.__cbOnGamepadEnable&&(t+=this.__cbOnGamepadEnable.length),null!=this.__cbOnceGamepadEnable&&(t+=this.__cbOnceGamepadEnable.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnGamepadEnable)for(var s=0,h=this.__cbOnGamepadEnable.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnGamepadEnable[a],++r):--t}if(null!=this.__cbOnceGamepadEnable){for(var o=null,c=null,s=0,h=this.__cbOnceGamepadEnable.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceGamepadEnable[a],this.__cbOnceGamepadEnable[a]=null,u=this.__cbOnceOwnerUnbindGamepadEnable[a],(this.__cbOnceOwnerUnbindGamepadEnable[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindGamepadEnable[a]),c.push(this.__cbOnceGamepadEnable[a]))}this.__cbOnceOwnerUnbindGamepadEnable=o,this.__cbOnceGamepadEnable=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onGamepadEnable:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event gamepadEnable because owner is destroyed!");var l=function(e){null!=t&&(i.offGamepadEnable(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindGamepadEnable&&(this.__cbOnOwnerUnbindGamepadEnable=[]),this.__cbOnOwnerUnbindGamepadEnable.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindGamepadEnable&&(this.__cbOnOwnerUnbindGamepadEnable=[]),this.__cbOnOwnerUnbindGamepadEnable.push(null);null==this.__cbOnGamepadEnable&&(this.__cbOnGamepadEnable=[]),this.__cbOnGamepadEnable.push(t)},onceGamepadEnable:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event gamepadEnable because owner is destroyed!");var l=function(e){null!=t&&(i.offGamepadEnable(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindGamepadEnable&&(this.__cbOnceOwnerUnbindGamepadEnable=[]),this.__cbOnceOwnerUnbindGamepadEnable.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindGamepadEnable&&(this.__cbOnceOwnerUnbindGamepadEnable=[]),this.__cbOnceOwnerUnbindGamepadEnable.push(null);null==this.__cbOnceGamepadEnable&&(this.__cbOnceGamepadEnable=[]),this.__cbOnceGamepadEnable.push(t)},offGamepadEnable:function(e){if(null!=e){var n;null!=this.__cbOnGamepadEnable&&-1!=(n=this.__cbOnGamepadEnable.indexOf(e))&&(this.__cbOnGamepadEnable.splice(n,1),null!=(r=this.__cbOnOwnerUnbindGamepadEnable[n])&&r(),this.__cbOnOwnerUnbindGamepadEnable.splice(n,1)),null!=this.__cbOnceGamepadEnable&&-1!=(n=this.__cbOnceGamepadEnable.indexOf(e))&&(this.__cbOnceGamepadEnable.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindGamepadEnable[n])&&r(),this.__cbOnceOwnerUnbindGamepadEnable.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindGamepadEnable){for(var t=0,i=this.__cbOnOwnerUnbindGamepadEnable.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindGamepadEnable[l])&&r()}this.__cbOnOwnerUnbindGamepadEnable=null}if(null!=this.__cbOnceOwnerUnbindGamepadEnable){for(t=0,i=this.__cbOnceOwnerUnbindGamepadEnable.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindGamepadEnable[l])&&r()}this.__cbOnceOwnerUnbindGamepadEnable=null}this.__cbOnGamepadEnable=null,this.__cbOnceGamepadEnable=null}},listensGamepadEnable:function(){return null!=this.__cbOnGamepadEnable&&0<this.__cbOnGamepadEnable.length||null!=this.__cbOnceGamepadEnable&&0<this.__cbOnceGamepadEnable.length},__cbOnGamepadDisable:null,__cbOnceGamepadDisable:null,__cbOnOwnerUnbindGamepadDisable:null,__cbOnceOwnerUnbindGamepadDisable:null,emitGamepadDisable:function(e){this.willEmitGamepadDisable(e);var n=0;if(null!=this.__cbOnGamepadDisable&&(n+=this.__cbOnGamepadDisable.length),null!=this.__cbOnceGamepadDisable&&(n+=this.__cbOnceGamepadDisable.length),0<n){var t=C.pool(n),i=t.get(),l=0;if(null!=this.__cbOnGamepadDisable)for(var r=0,s=this.__cbOnGamepadDisable.length;r<s;){var h=r++;!0?(i.vector[l]=this.__cbOnGamepadDisable[h],++l):--n}if(null!=this.__cbOnceGamepadDisable){for(var a=null,o=null,r=0,s=this.__cbOnceGamepadDisable.length;r<s;){var c,h=r++;!0?(i.vector[l]=this.__cbOnceGamepadDisable[h],this.__cbOnceGamepadDisable[h]=null,c=this.__cbOnceOwnerUnbindGamepadDisable[h],(this.__cbOnceOwnerUnbindGamepadDisable[h]=null)!=c&&c(),++l):(--n,null==a&&(a=[],o=[],0),a.push(this.__cbOnceOwnerUnbindGamepadDisable[h]),o.push(this.__cbOnceGamepadDisable[h]))}this.__cbOnceOwnerUnbindGamepadDisable=a,this.__cbOnceGamepadDisable=o}for(r=0,s=n;r<s;){l=r++;(0,i.vector[l])(e)}t.release(i)}},onGamepadDisable:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event gamepadDisable because owner is destroyed!");var l=function(e){null!=t&&(i.offGamepadDisable(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindGamepadDisable&&(this.__cbOnOwnerUnbindGamepadDisable=[]),this.__cbOnOwnerUnbindGamepadDisable.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindGamepadDisable&&(this.__cbOnOwnerUnbindGamepadDisable=[]),this.__cbOnOwnerUnbindGamepadDisable.push(null);null==this.__cbOnGamepadDisable&&(this.__cbOnGamepadDisable=[]),this.__cbOnGamepadDisable.push(t)},onceGamepadDisable:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event gamepadDisable because owner is destroyed!");var l=function(e){null!=t&&(i.offGamepadDisable(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindGamepadDisable&&(this.__cbOnceOwnerUnbindGamepadDisable=[]),this.__cbOnceOwnerUnbindGamepadDisable.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindGamepadDisable&&(this.__cbOnceOwnerUnbindGamepadDisable=[]),this.__cbOnceOwnerUnbindGamepadDisable.push(null);null==this.__cbOnceGamepadDisable&&(this.__cbOnceGamepadDisable=[]),this.__cbOnceGamepadDisable.push(t)},offGamepadDisable:function(e){if(null!=e){var n;null!=this.__cbOnGamepadDisable&&-1!=(n=this.__cbOnGamepadDisable.indexOf(e))&&(this.__cbOnGamepadDisable.splice(n,1),null!=(r=this.__cbOnOwnerUnbindGamepadDisable[n])&&r(),this.__cbOnOwnerUnbindGamepadDisable.splice(n,1)),null!=this.__cbOnceGamepadDisable&&-1!=(n=this.__cbOnceGamepadDisable.indexOf(e))&&(this.__cbOnceGamepadDisable.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindGamepadDisable[n])&&r(),this.__cbOnceOwnerUnbindGamepadDisable.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindGamepadDisable){for(var t=0,i=this.__cbOnOwnerUnbindGamepadDisable.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindGamepadDisable[l])&&r()}this.__cbOnOwnerUnbindGamepadDisable=null}if(null!=this.__cbOnceOwnerUnbindGamepadDisable){for(t=0,i=this.__cbOnceOwnerUnbindGamepadDisable.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindGamepadDisable[l])&&r()}this.__cbOnceOwnerUnbindGamepadDisable=null}this.__cbOnGamepadDisable=null,this.__cbOnceGamepadDisable=null}},listensGamepadDisable:function(){return null!=this.__cbOnGamepadDisable&&0<this.__cbOnGamepadDisable.length||null!=this.__cbOnceGamepadDisable&&0<this.__cbOnceGamepadDisable.length},pressedScanCodes:null,pressedKeyCodes:null,pressedGamepadButtons:null,gamepadAxisValues:null,gamepadGyroDeltas:null,gamepadGyroKeys:null,gamepadNames:null,activeGamepads:null,resetDeltas:function(){for(;0<this.gamepadGyroKeys.length;){var e=this.gamepadGyroKeys.pop(),e=this.gamepadGyroDeltas.get(e);null!=e&&(e[0]=0,e[1]=0,e[2]=0)}},canEmitKeyDown:function(e){var n=!1;return null!=te.get_context().focusedWindow?null!=e&&(n=re._filterEventOwner(e)):n=!0,n},canEmitKeyUp:function(e){var n=!1;return null!=te.get_context().focusedWindow?null!=e&&(n=re._filterEventOwner(e)):n=!0,n},canEmitGamepadDown:function(e){var n=!1;return null!=te.get_context().focusedWindow?null!=e&&(n=re._filterEventOwner(e)):n=!0,n},canEmitGamepadUp:function(e){var n=!1;return null!=te.get_context().focusedWindow?null!=e&&(n=re._filterEventOwner(e)):n=!0,n},willEmitKeyDown:function(n){var t=this,e=this.pressedScanCodes.intMap.h[0|n.scanCode],i=null!=e?e:0,e=null!=(e=this.pressedKeyCodes.intMap.h[0|n.keyCode])?e:0;-1==i&&(e=i=0),this.pressedScanCodes.set(n.scanCode,i+1),this.pressedKeyCodes.set(n.keyCode,e+1),0==i&&he.app.beginUpdateCallbacks.push(function(){var e=t.pressedScanCodes.intMap.h[0|n.scanCode];1==(null!=e?e:0)&&t.pressedScanCodes.set(n.scanCode,2),1==(null!=(e=t.pressedKeyCodes.intMap.h[0|n.keyCode])?e:0)&&t.pressedKeyCodes.set(n.keyCode,2)})},willEmitKeyUp:function(n){var t=this,e=this.pressedScanCodes.intMap.h[0|n.scanCode];0!=(null!=e?e:0)&&(this.pressedScanCodes.set(n.scanCode,-1),this.pressedKeyCodes.set(n.keyCode,-1),he.app.beginUpdateCallbacks.push(function(){var e=t.pressedScanCodes.intMap.h[0|n.scanCode];-1==(null!=e?e:0)&&t.pressedScanCodes.set(n.scanCode,0),-1==(null!=(e=t.pressedKeyCodes.intMap.h[0|n.keyCode])?e:0)&&t.pressedKeyCodes.set(n.keyCode,0)}))},_keyPressed:function(e){e=this.pressedKeyCodes.intMap.h[0|e];return 0<(null!=e?e:0)},_keyJustPressed:function(e){e=this.pressedKeyCodes.intMap.h[0|e];return 1==(null!=e?e:0)},_keyJustReleased:function(e){e=this.pressedKeyCodes.intMap.h[0|e];return-1==(null!=e?e:0)},_scanPressed:function(e){e=this.pressedScanCodes.intMap.h[0|e];return 0<(null!=e?e:0)},_scanJustPressed:function(e){e=this.pressedScanCodes.intMap.h[0|e];return 1==(null!=e?e:0)},_scanJustReleased:function(e){e=this.pressedScanCodes.intMap.h[0|e];return-1==(null!=e?e:0)},willEmitGamepadEnable:function(e,n){for(var t=32*e,i=0;i<32;){var l=t+i++;this.pressedGamepadButtons.set(l,0),this.gamepadAxisValues.set(l,0)}-1==this.activeGamepads.indexOf(e)&&this.activeGamepads.push(e),this.gamepadNames.set(e,n)},willEmitGamepadDisable:function(e){for(var n=32*e,t=0;t<32;){var i=t++,l=n+i,r=this.pressedGamepadButtons.intMap.h[0|l],r=(0<(null!=r?r:0)&&this.emitGamepadUp(e,i),this.gamepadAxisValues.intMap.h[0|l]),l=null!=r?r:0;0!=l&&this.emitGamepadAxis(e,i,l)}var s=this.activeGamepads.indexOf(e);-1!=s&&this.activeGamepads.splice(s,1),this.gamepadNames.remove(e)},willEmitGamepadDown:function(e,n){var t=this,i=32*e+n,e=this.pressedGamepadButtons.intMap.h[0|i],n=null!=e?e:0;this.pressedGamepadButtons.set(i,(n=-1==n?0:n)+1),0==n&&he.app.beginUpdateCallbacks.push(function(){var e=t.pressedGamepadButtons.intMap.h[0|i];1==(null!=e?e:0)&&t.pressedGamepadButtons.set(i,2)})},willEmitGamepadUp:function(e,n){var t=this,i=32*e+n;this.pressedGamepadButtons.set(i,-1),he.app.beginUpdateCallbacks.push(function(){var e=t.pressedGamepadButtons.intMap.h[0|i];-1==(null!=e?e:0)&&t.pressedGamepadButtons.set(i,0)})},willEmitGamepadGyro:function(e,n,t,i){var l=this.gamepadGyroDeltas.get(e);null==l&&this.gamepadGyroDeltas.set(e,l=[0,0,0]),-1==this.gamepadGyroKeys.indexOf(e)&&this.gamepadGyroKeys.push(e),l[0]+=n,l[1]+=t,l[2]+=i},_gamepadPressed:function(e,n){e=this.pressedGamepadButtons.intMap.h[0|32*e+n];return 0<(null!=e?e:0)},_gamepadJustPressed:function(e,n){e=this.pressedGamepadButtons.intMap.h[0|32*e+n];return 1==(null!=e?e:0)},_gamepadJustReleased:function(e,n){e=this.pressedGamepadButtons.intMap.h[0|32*e+n];return-1==(null!=e?e:0)},willEmitGamepadAxis:function(e,n,t){this.gamepadAxisValues.set(32*e+n,t)},gamepadAxisValue:function(e,n){e=this.gamepadAxisValues.intMap.h[0|32*e+n];return null!=e?e:0},gamepadGyroDeltaX:function(e){e=this.gamepadGyroDeltas.get(e);return null!=e?e[0]:0},gamepadGyroDeltaY:function(e){e=this.gamepadGyroDeltas.get(e);return null!=e?e[1]:0},gamepadGyroDeltaZ:function(e){e=this.gamepadGyroDeltas.get(e);return null!=e?e[2]:0},startGamepadRumble:function(e,n,t,i){he.app.backend.input.startGamepadRumble(e,t,i,n)},stopGamepadRumble:function(e){he.app.backend.input.stopGamepadRumble(e)},gamepadName:function(e){return this.gamepadNames.get(e)},unbindEvents:function(){j.prototype.unbindEvents.call(this),this.offKeyDown(),this.offKeyUp(),this.offGamepadAxis(),this.offGamepadDown(),this.offGamepadUp(),this.offGamepadGyro(),this.offGamepadEnable(),this.offGamepadDisable()},__class__:fn}),{}),Cn=(pn.__properties__={get_iterableKeys:"get_iterableKeys",get_size:"get_size"},pn.get_size=function(e){return e.size},pn.get_iterableKeys=function(e){return e.iterableKeys},pn._asIntBoolMap=function(e){return e},pn._new=function(e,n,t){return new ze(e=null==e?16:e,n=null==n?.5:n,t=null==t?!1:t)},pn.exists=function(e,n){return e.intMap.h.hasOwnProperty(0|n)},pn.existsInline=function(e,n){return e.intMap.h.hasOwnProperty(0|n)},pn.get=function(e,n){e=e.intMap.h[0|n];return 0!=(null!=e?e:0)},pn.getInline=function(e,n){e=e.intMap.h[0|n];return 0!=(null!=e?e:0)},pn.set=function(e,n,t){e.set(n,t?1:0)},pn.remove=function(e,n){return 0!=e.remove(n)},pn.clear=function(e){e.clear()},pn.copy=function(e){var n=new ze;return n.intMap=e.intMap.copy(),n.size=e.size,n.iterableKeys=null!=e.iterableKeys?e.iterableKeys.slice():null,n.iterableKeysUsed=null!=e.iterableKeysUsed?pn.copy(e.iterableKeysUsed):null,n},pn.iterator=function(e){return new Cn(e)},pn.keys=function(e){return new vn(e)},pn.keyValueIterator=function(e){return new wn(e)},function(e){this.intBoolMap=e,this.i=0;e=this.intBoolMap.iterableKeys;this.len=null!=e?e.length:-1}),vn=((E["ceramic.IntBoolMapIterator"]=Cn).__name__="ceramic.IntBoolMapIterator",Cn.prototype={intBoolMap:null,i:null,len:null,hasNext:function(){return this.i<this.len},next:function(){var e=this.i++,e=this.intBoolMap.iterableKeys[e],e=this.intBoolMap.intMap.h[0|e];return 0!=(null!=e?e:0)},__class__:Cn},function(e){this.i=0,this.iterableKeys=e.iterableKeys,this.len=null!=this.iterableKeys?this.iterableKeys.length:-1}),wn=((E["ceramic.IntBoolMapKeyIterator"]=vn).__name__="ceramic.IntBoolMapKeyIterator",vn.prototype={iterableKeys:null,i:null,len:null,hasNext:function(){return this.i<this.len},next:function(){var e=this.i++;return this.iterableKeys[e]},__class__:vn},function(e){this.intBoolMap=e,this.i=0;e=this.intBoolMap.iterableKeys;this.len=null!=e?e.length:-1}),mn=((E["ceramic.IntBoolMapKeyValueIterator"]=wn).__name__="ceramic.IntBoolMapKeyValueIterator",wn.prototype={intBoolMap:null,i:null,len:null,hasNext:function(){return this.i<this.len},next:function(){var e=this.i++,e=this.intBoolMap.iterableKeys[e],n=this.intBoolMap.intMap.h[0|e];return{key:e,value:0!=(null!=n?n:0)}},__class__:wn},function(e,n,t){null==t&&(t=!1),null==n&&(n=.5),null==e&&(e=16),this.size=0,this.iterableKeysUsed=null,this.iterableKeys=null,this.intMap=new qi,t&&(this.iterableKeys=[],this.iterableKeysUsed=new ze(16,.5,!1))}),yn=((E["ceramic.IntFloatMap"]=mn).__name__="ceramic.IntFloatMap",mn.prototype={intMap:null,iterableKeys:null,iterableKeysUsed:null,size:null,clear:function(){this.intMap.h={},this.size=0,null!=this.iterableKeys&&(this.iterableKeys=[],this.iterableKeysUsed=new ze(16,.5,!1))},exists:function(e){return this.intMap.h.hasOwnProperty(0|e)},set:function(e,n){null!=this.iterableKeys&&0==(null!=(t=this.iterableKeysUsed.intMap.h[0|e])?t:0)&&(this.iterableKeysUsed.set(e,1),this.iterableKeys.push(e));var t=0|e;return this.intMap.h.hasOwnProperty(t)||this.size++,this.intMap.h[t]=n},get:function(e){e=this.intMap.h[0|e];return null!=e?e:0},remove:function(e){var n,t=0|e,i=0;return null!=this.iterableKeys&&0!=(null!=(n=this.iterableKeysUsed.intMap.h[0|e])?n:0)&&(this.iterableKeysUsed.set(e,0),this.iterableKeys.splice(this.iterableKeys.indexOf(e),1)),this.intMap.h.hasOwnProperty(t)&&(i=this.intMap.h[t],this.size--),this.intMap.remove(t),i},getInline:function(e){e=this.intMap.h[0|e];return null!=e?e:0},existsInline:function(e){return this.intMap.h.hasOwnProperty(0|e)},copy:function(){var e=new mn;return e.intMap=this.intMap.copy(),e.size=this.size,e.iterableKeys=null!=this.iterableKeys?this.iterableKeys.slice():null,e.iterableKeysUsed=null!=this.iterableKeysUsed?pn.copy(this.iterableKeysUsed):null,e},iterator:function(){return new yn(this)},keys:function(){return new Un(this)},keyValueIterator:function(){return new Dn(this)},__class__:mn},function(e){this.intFloatMap=e,this.i=0;e=this.intFloatMap.iterableKeys;this.len=null!=e?e.length:-1}),Un=((E["ceramic.IntFloatMapIterator"]=yn).__name__="ceramic.IntFloatMapIterator",yn.prototype={intFloatMap:null,i:null,len:null,hasNext:function(){return this.i<this.len},next:function(){var e=this.i++,e=this.intFloatMap.iterableKeys[e],e=this.intFloatMap.intMap.h[0|e];return null!=e?e:0},__class__:yn},function(e){this.i=0,this.iterableKeys=e.iterableKeys,this.len=null!=this.iterableKeys?this.iterableKeys.length:-1}),Dn=((E["ceramic.IntFloatMapKeyIterator"]=Un).__name__="ceramic.IntFloatMapKeyIterator",Un.prototype={iterableKeys:null,i:null,len:null,hasNext:function(){return this.i<this.len},next:function(){var e=this.i++;return this.iterableKeys[e]},__class__:Un},function(e){this.intFloatMap=e,this.i=0;e=this.intFloatMap.iterableKeys;this.len=null!=e?e.length:-1}),Tn=((E["ceramic.IntFloatMapKeyValueIterator"]=Dn).__name__="ceramic.IntFloatMapKeyValueIterator",Dn.prototype={intFloatMap:null,i:null,len:null,hasNext:function(){return this.i<this.len},next:function(){var e=this.i++,e=this.intFloatMap.iterableKeys[e],n=this.intFloatMap.intMap.h[0|e];return{key:e,value:null!=n?n:0}},__class__:Dn},function(e){this.intIntMap=e,this.i=0;e=this.intIntMap.iterableKeys;this.len=null!=e?e.length:-1}),xn=((E["ceramic.IntIntMapIterator"]=Tn).__name__="ceramic.IntIntMapIterator",Tn.prototype={intIntMap:null,i:null,len:null,hasNext:function(){return this.i<this.len},next:function(){var e=this.i++,e=this.intIntMap.iterableKeys[e],e=this.intIntMap.intMap.h[0|e];return null!=e?e:0},__class__:Tn},function(e){this.i=0,this.iterableKeys=e.iterableKeys,this.len=null!=this.iterableKeys?this.iterableKeys.length:-1}),Sn=((E["ceramic.IntIntMapKeyIterator"]=xn).__name__="ceramic.IntIntMapKeyIterator",xn.prototype={iterableKeys:null,i:null,len:null,hasNext:function(){return this.i<this.len},next:function(){var e=this.i++;return this.iterableKeys[e]},__class__:xn},function(e){this.intIntMap=e,this.i=0;e=this.intIntMap.iterableKeys;this.len=null!=e?e.length:-1}),An=((E["ceramic.IntIntMapKeyValueIterator"]=Sn).__name__="ceramic.IntIntMapKeyValueIterator",Sn.prototype={intIntMap:null,i:null,len:null,hasNext:function(){return this.i<this.len},next:function(){var e=this.i++,e=this.intIntMap.iterableKeys[e],n=this.intIntMap.intMap.h[0|e];return{key:e,value:null!=n?n:0}},__class__:Sn},function(e,n,t){null==t&&(t=!1),null==n&&(n=.5),null==e&&(e=16),this.iterableKeys=null,this.nextFreeIndex=0,this.initialSize=e,this.initialFillFactor=n,this._keys=new ze(e,n),this.values=new Array(e),t&&(this.iterableKeys=[])}),kn=((E["ceramic.IntMap"]=An).__name__="ceramic.IntMap",An.prototype={_keys:null,nextFreeIndex:null,initialSize:null,initialFillFactor:null,iterableKeys:null,values:null,get:function(e){e=this._keys.intMap.h[0|e],e=null!=e?e:0;return 2<=e?this.values[e-2]:An.RET_NULL},getInline:function(e){e=this._keys.intMap.h[0|e],e=null!=e?e:0;return 2<=e?this.values[e-2]:An.RET_NULL},exists:function(e){return this._keys.intMap.h.hasOwnProperty(0|e)},existsInline:function(e){return this._keys.intMap.h.hasOwnProperty(0|e)},set:function(e,n){var t=this._keys.intMap.h[0|e],t=null!=t?t:0;if(2<=t)t-=2,null!=n?this.values[t]=n:(this.values[t]=null,this.nextFreeIndex>t&&(this.nextFreeIndex=t),this._keys.set(e,1));else if(null==n)1!=t&&(this._keys.set(e,1),null!=this.iterableKeys)&&this.iterableKeys.push(e);else{var i=this.values.length;for(this.nextFreeIndex>=i&&this.resizeValues(2*this.values.length),this.values[this.nextFreeIndex]=n,this._keys.set(e,this.nextFreeIndex+2),1!=t&&null!=this.iterableKeys&&this.iterableKeys.push(e);this.nextFreeIndex++,this.nextFreeIndex<i&&null!=this.values[this.nextFreeIndex];);}},remove:function(e){var n=this._keys.intMap.h[0|e],n=null!=n?n:0;0!=n&&(1!=n&&(this.values[n-=2]=null,this.nextFreeIndex>n)&&(this.nextFreeIndex=n),this._keys.remove(e),null!=this.iterableKeys)&&this.iterableKeys.splice(this.iterableKeys.indexOf(e),1)},copy:function(){var e=new An,n=(e.initialSize=this.initialSize,e.initialFillFactor=this.initialFillFactor,this._keys),t=new ze,n=(t.intMap=n.intMap.copy(),t.size=n.size,t.iterableKeys=null!=n.iterableKeys?n.iterableKeys.slice():null,t.iterableKeysUsed=null!=n.iterableKeysUsed?pn.copy(n.iterableKeysUsed):null,e._keys=t,e.nextFreeIndex=this.nextFreeIndex,e.iterableKeys=null!=this.iterableKeys?this.iterableKeys.slice():null,this.values),t=new Array(n.length);return ll.blit(n,0,t,0,n.length),e.values=t,e},clear:function(){if(this._keys=new ze(this.initialSize,this.initialFillFactor),this.values=new Array(this.initialSize),this.nextFreeIndex=0,null!=this.iterableKeys){var e=this.iterableKeys;if(0!=e.length)if(0<e.length)e.splice(0,e.length);else for(var n=e;n.length<0;)n.push(null)}},iterator:function(){return new kn(this)},keys:function(){return new In(this)},keyValueIterator:function(){return new Pn(this)},resizeValues:function(e){for(var n=this.values,t=(this.values=new Array(e),0),i=n.length;t<i;){var l=t++;this.values[l]=n[l]}},__class__:An},function(e){this.intMap=e,this.i=0;e=this.intMap.iterableKeys;this.len=null!=e?e.length:-1}),In=((E["ceramic.IntMapIterator"]=kn).__name__="ceramic.IntMapIterator",kn.prototype={intMap:null,i:null,len:null,hasNext:function(){return this.i<this.len},next:function(){var e=this.i++,e=this.intMap.iterableKeys[e];return this.intMap.get(e)},__class__:kn},function(e){this.i=0,this.iterableKeys=e.iterableKeys,this.len=null!=this.iterableKeys?this.iterableKeys.length:-1}),Pn=((E["ceramic.IntMapKeyIterator"]=In).__name__="ceramic.IntMapKeyIterator",In.prototype={iterableKeys:null,i:null,len:null,hasNext:function(){return this.i<this.len},next:function(){var e=this.i++;return this.iterableKeys[e]},__class__:In},function(e){this.intMap=e,this.i=0;e=this.intMap.iterableKeys;this.len=null!=e?e.length:-1}),Fn=((E["ceramic.IntMapKeyValueIterator"]=Pn).__name__="ceramic.IntMapKeyValueIterator",Pn.prototype={intMap:null,i:null,len:null,hasNext:function(){return this.i<this.len},next:function(){var e=this.i++,e=this.intMap.iterableKeys[e];return{key:e,value:this.intMap.get(e)}},__class__:Pn},(E["ceramic.Json"]=ub).__name__="ceramic.Json",ub.stringify=function(e,n,t){return JSON.stringify(e,n,t)},ub.parse=function(e){return JSON.parse(e)},function(e,n){this.keyCode=e,this.scanCode=n}),Bn=((E["ceramic.Key"]=Fn).__name__="ceramic.Key",Fn.prototype={keyCode:null,keyCodeName:null,get_keyCodeName:function(){return a.$name(this.keyCode)},scanCode:null,scanCodeName:null,get_scanCodeName:function(){return _.$name(this.scanCode)},toString:function(){return"Key("+this.keyCode+" "+a.$name(this.keyCode)+" / "+this.scanCode+" "+_.$name(this.scanCode)+")"},__class__:Fn,__properties__:{get_scanCodeName:"get_scanCodeName",get_keyCodeName:"get_keyCodeName"}},Oe["ceramic.KeyAcceleratorItem"]={__ename__:"ceramic.KeyAcceleratorItem",__constructs__:null,SHIFT:{_hx_name:"SHIFT",_hx_index:0,__enum__:"ceramic.KeyAcceleratorItem",toString:c},CMD_OR_CTRL:{_hx_name:"CMD_OR_CTRL",_hx_index:1,__enum__:"ceramic.KeyAcceleratorItem",toString:c},SCAN:((x=function(e){return{_hx_index:2,scanCode:e,__enum__:"ceramic.KeyAcceleratorItem",toString:c}})._hx_name="SCAN",x.__params__=["scanCode"],x),KEY:((x=function(e){return{_hx_index:3,keyCode:e,__enum__:"ceramic.KeyAcceleratorItem",toString:c}})._hx_name="KEY",x.__params__=["keyCode"],x)}),Mn=(Bn.__constructs__=[Bn.SHIFT,Bn.CMD_OR_CTRL,Bn.SCAN,Bn.KEY],(E["ceramic.KeyBinding"]=xb).__name__="ceramic.KeyBinding",xb.__super__=j,xb.prototype=$extend(j.prototype,{__cbOnTrigger:null,__cbOnceTrigger:null,__cbOnOwnerUnbindTrigger:null,__cbOnceOwnerUnbindTrigger:null,emitTrigger:function(){var e=0;if(null!=this.__cbOnTrigger&&(e+=this.__cbOnTrigger.length),null!=this.__cbOnceTrigger&&(e+=this.__cbOnceTrigger.length),0<e){var n=C.pool(e),t=n.get(),i=0;if(null!=this.__cbOnTrigger)for(var l=0,r=this.__cbOnTrigger.length;l<r;){var s=l++;!0?(t.vector[i]=this.__cbOnTrigger[s],++i):--e}if(null!=this.__cbOnceTrigger){for(var h=null,a=null,l=0,r=this.__cbOnceTrigger.length;l<r;){var o,s=l++;!0?(t.vector[i]=this.__cbOnceTrigger[s],this.__cbOnceTrigger[s]=null,o=this.__cbOnceOwnerUnbindTrigger[s],(this.__cbOnceOwnerUnbindTrigger[s]=null)!=o&&o(),++i):(--e,null==h&&(h=[],a=[],0),h.push(this.__cbOnceOwnerUnbindTrigger[s]),a.push(this.__cbOnceTrigger[s]))}this.__cbOnceOwnerUnbindTrigger=h,this.__cbOnceTrigger=a}for(l=0,r=e;l<r;){i=l++;(0,t.vector[i])()}n.release(t)}},onTrigger:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event trigger because owner is destroyed!");var l=function(e){null!=t&&(i.offTrigger(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindTrigger&&(this.__cbOnOwnerUnbindTrigger=[]),this.__cbOnOwnerUnbindTrigger.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindTrigger&&(this.__cbOnOwnerUnbindTrigger=[]),this.__cbOnOwnerUnbindTrigger.push(null);null==this.__cbOnTrigger&&(this.__cbOnTrigger=[]),this.__cbOnTrigger.push(t)},onceTrigger:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event trigger because owner is destroyed!");var l=function(e){null!=t&&(i.offTrigger(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindTrigger&&(this.__cbOnceOwnerUnbindTrigger=[]),this.__cbOnceOwnerUnbindTrigger.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindTrigger&&(this.__cbOnceOwnerUnbindTrigger=[]),this.__cbOnceOwnerUnbindTrigger.push(null);null==this.__cbOnceTrigger&&(this.__cbOnceTrigger=[]),this.__cbOnceTrigger.push(t)},offTrigger:function(e){if(null!=e){var n;null!=this.__cbOnTrigger&&-1!=(n=this.__cbOnTrigger.indexOf(e))&&(this.__cbOnTrigger.splice(n,1),null!=(r=this.__cbOnOwnerUnbindTrigger[n])&&r(),this.__cbOnOwnerUnbindTrigger.splice(n,1)),null!=this.__cbOnceTrigger&&-1!=(n=this.__cbOnceTrigger.indexOf(e))&&(this.__cbOnceTrigger.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindTrigger[n])&&r(),this.__cbOnceOwnerUnbindTrigger.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindTrigger){for(var t=0,i=this.__cbOnOwnerUnbindTrigger.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindTrigger[l])&&r()}this.__cbOnOwnerUnbindTrigger=null}if(null!=this.__cbOnceOwnerUnbindTrigger){for(t=0,i=this.__cbOnceOwnerUnbindTrigger.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindTrigger[l])&&r()}this.__cbOnceOwnerUnbindTrigger=null}this.__cbOnTrigger=null,this.__cbOnceTrigger=null}},listensTrigger:function(){return null!=this.__cbOnTrigger&&0<this.__cbOnTrigger.length||null!=this.__cbOnceTrigger&&0<this.__cbOnceTrigger.length},accelerator:null,bindings:null,pressedItems:null,matches:null,leftShiftPressed:null,rightShiftPressed:null,disableIfShiftPressed:null,cmdPressed:null,ctrlPressed:null,forceKeysUp:function(){this.leftShiftPressed=!1,this.rightShiftPressed=!1;for(var e=0,n=this.pressedItems.length;e<n;){var t=e++;this.pressedItems[t]=0}this.checkStatus()},bindKeyboardEvents:function(){for(var e=!1,n=0,t=this.accelerator.length;n<t;){var i=n++,l=(this.pressedItems.push(0),this.accelerator[i]);switch(l._hx_index){case 0:e=!0,this.bindScanCode(225,i),this.bindScanCode(229,i);break;case 1:this.disableIfShiftPressed=!0,this.bindScanCode(227,i),this.bindScanCode(231,i),this.bindScanCode(224,i),this.bindScanCode(228,i);break;case 2:var r=l.scanCode;this.bindScanCode(r,i);break;case 3:r=l.keyCode;this.bindKeyCode(r,i)}}e&&(this.disableIfShiftPressed=!1),this.disableIfShiftPressed&&this.bindShift()},bindScanCode:function(l,r){var s=this;he.app.input.onKeyDown(this,function(e){var n,t,i;227==l||231==l?s.cmdPressed++:224!=l&&228!=l||s.ctrlPressed++,e.scanCode==l&&(n=he.app.input,e=e.scanCode,t=s.bindings,(!fn._elementsImFocused()||(i=!1,null!=te.get_context().focusedWindow?null!=t&&(i=re._filterEventOwner(t)):i=!0,i))&&n._scanJustPressed(e)||0==s.pressedItems[r])&&(s.pressedItems[r]++,s.checkStatus(),0<s.cmdPressed||0<s.ctrlPressed)&&227!=l&&231!=l&&224!=l&&228!=l&&225!=l&&229!=l&&he.app.onceUpdate(s,function(e){0<s.pressedItems[r]&&s.pressedItems[r]--,s.checkStatus()})}),he.app.input.onKeyUp(this,function(e){if(227==l||231==l){if(s.cmdPressed--,0==s.cmdPressed&&0==s.ctrlPressed){for(var n=0,t=s.pressedItems.length;n<t;){n++;s.pressedItems[r]=0}return void s.checkStatus()}}else if((224==l||228==l)&&(s.ctrlPressed--,0==s.cmdPressed)&&0==s.ctrlPressed){for(n=0,t=s.pressedItems.length;n<t;){n++;s.pressedItems[r]=0}return void s.checkStatus()}e.scanCode==l&&(0<s.pressedItems[r]&&s.pressedItems[r]--,s.checkStatus())})},bindKeyCode:function(l,r){var s=this;he.app.input.onKeyDown(this,function(e){var n,t,i;e.keyCode==l&&(n=he.app.input,e=e.scanCode,t=s.bindings,(!fn._elementsImFocused()||(i=!1,null!=te.get_context().focusedWindow?null!=t&&(i=re._filterEventOwner(t)):i=!0,i))&&n._scanJustPressed(e)||0==s.pressedItems[r])&&(s.pressedItems[r]++,s.checkStatus(),0<s.cmdPressed||0<s.ctrlPressed)&&1073742051!=l&&1073742055!=l&&1073742048!=l&&1073742052!=l&&1073742049!=l&&1073742053!=l&&he.app.onceUpdate(s,function(e){0<s.pressedItems[r]&&s.pressedItems[r]--,s.checkStatus()})}),he.app.input.onKeyUp(this,function(e){e.keyCode==l&&(0<s.pressedItems[r]&&s.pressedItems[r]--,s.checkStatus())})},bindShift:function(){var n=this;he.app.input.onKeyDown(this,function(e){225==e.scanCode?n.leftShiftPressed=!0:229==e.scanCode&&(n.rightShiftPressed=!0)}),he.app.input.onKeyUp(this,function(e){225==e.scanCode?n.leftShiftPressed=!1:229==e.scanCode&&(n.rightShiftPressed=!1)})},checkStatus:function(){for(var e=!this.matches,n=!this.disableIfShiftPressed||!this.leftShiftPressed&&!this.rightShiftPressed,t=0,i=this.pressedItems.length;t<i;){var l=t++;if(this.pressedItems[l]<=0){n=!1;break}}n?(this.matches=!0,e&&this.emitTrigger()):this.matches=!1},unbindEvents:function(){j.prototype.unbindEvents.call(this),this.offTrigger()},__class__:xb}),function(){this.initializerName=null,this.bindings=[],j.call(this),Mn.instances.push(this)}),a=((E["ceramic.KeyBindings"]=Mn).__name__="ceramic.KeyBindings",Mn.__interfaces__=[a0],Mn.forceKeysUp=function(){for(var e=0,n=Mn.instances;e<n.length;)for(var t=n[e],i=(++e,0),l=t.bindings;i<l.length;){var r=l[i];++i,r.forceKeysUp()}},Mn.__super__=j,Mn.prototype=$extend(j.prototype,{bindings:null,bindAsComponent:function(){},destroy:function(){if(!(this._lifecycleState<=-2)){if(this._lifecycleState=-2,this._lifecycleState=-1,j.prototype.destroy.call(this),null!=this.bindings){for(;0<this.bindings.length;)this.bindings.pop().destroy();this.bindings=null}Mn.instances.splice(Mn.instances.indexOf(this),1)}},bind:function(e,n){e=new xb(e,this);return this.bindings.push(e),null!=n&&e.onTrigger(this,n),e},entity:null,setEntity:function(e){this.entity=e instanceof j?e:null},getEntity:function(){return this.entity},initializerName:null,__class__:Mn}),{}),En=(a.$name=function(e){if(0!=(e&_.MASK))return _.$name(e&~_.MASK);switch(e){case 8:return _.$name(42);case 9:return _.$name(43);case 13:return _.$name(40);case 27:return _.$name(41);case 32:return _.$name(44);case 97:return _.$name(4);case 98:return _.$name(5);case 99:return _.$name(6);case 100:return _.$name(7);case 101:return _.$name(8);case 102:return _.$name(9);case 103:return _.$name(10);case 104:return _.$name(11);case 105:return _.$name(12);case 106:return _.$name(13);case 107:return _.$name(14);case 108:return _.$name(15);case 109:return _.$name(16);case 110:return _.$name(17);case 111:return _.$name(18);case 112:return _.$name(19);case 113:return _.$name(20);case 114:return _.$name(21);case 115:return _.$name(22);case 116:return _.$name(23);case 117:return _.$name(24);case 118:return _.$name(25);case 119:return _.$name(26);case 120:return _.$name(27);case 121:return _.$name(28);case 122:return _.$name(29);case 127:return _.$name(76);default:return String.fromCodePoint(e)}},a.toString=function(e){return"KeyCode("+e+" "+a.$name(e)+")"},(E["ceramic.LayersLayout"]=Ab).__name__="ceramic.LayersLayout",Ab.__super__=f0,Ab.prototype=$extend(f0.prototype,{computeSize:function(e,n,t,i){var l,r=this.paddingLeft,s=0==r?0:r<-39999.9&&-60000.1<r?.01*(r+5e4)*e:-60002.1<r&&r<-60001.9?e:r,h=0==(r=this.paddingTop)?0:r<-39999.9&&-60000.1<r?.01*(r+5e4)*n:-60002.1<r&&r<-60001.9?n:r,a=0==(r=this.paddingRight)?0:r<-39999.9&&-60000.1<r?.01*(r+5e4)*e:-60002.1<r&&r<-60001.9?e:r,r=0==(r=this.paddingBottom)?0:r<-39999.9&&-60000.1<r?.01*(r+5e4)*n:-60002.1<r&&r<-60001.9?n:r,o=(f0.prototype.computeSize.call(this,e,n,t,i),this.computedSize.computedWidth),c=this.computedSize.computedHeight,u=15,_=this.viewWidth,d=0,b=0;if(!!(-60001.1<_&&_<-60000.9)&&(null==(l=null)?1==(1&t):(t=l?1|t:-2&t,l))||(o-=s+a),!!(-60001.1<(_=this.viewHeight)&&_<-60000.9)&&(null==(l=null)?4==(4&t):(t=l?4|t:-5&t,l))||(c-=h+r),null!=this.subviews)for(var g=0,O=this.subviews.length;g<O;){var f=g++;1!=(1&(C=this.subviews[f]).flags)&&(C.computedSize=C.persistedComputedSizeForContext(o,c,u),null==C.computedSize&&C.computeSize(o,c,u,!1),C.computedSize.computedWidth>d&&(d=C.computedSize.computedWidth),C.computedSize.computedHeight>b)&&(b=C.computedSize.computedHeight)}if((null==(l=null)?1==(1&u):(u=l?1|u:-2&u,l))&&o<d&&(o=d),(null==(l=null)?4==(4&u):(u=l?4|u:-5&u,l))&&c<b&&(c=b),i){var p=u;if(null!=this.subviews)for(g=0,O=this.subviews.length;g<O;){var C,f=g++;1!=(1&(C=this.subviews[f]).flags)&&(C.computedSize=C.persistedComputedSizeForContext(o,c,p),null==C.computedSize)&&C.computeSize(o,c,p,i)}}o+=s+a,c+=h+r,i?this.persistComputedSize(e,n,t,o,c):this.assignComputedSize(o,c)},layout:function(){var e=this.paddingLeft,n=this.get_width(),t=0==e?0:e<-39999.9&&-60000.1<e?.01*(e+5e4)*n:-60002.1<e&&e<-60001.9?n:e,e=this.paddingTop,n=this.get_height(),i=0==e?0:e<-39999.9&&-60000.1<e?.01*(e+5e4)*n:-60002.1<e&&e<-60001.9?n:e,e=this.paddingRight,n=this.get_width(),l=0==e?0:e<-39999.9&&-60000.1<e?.01*(e+5e4)*n:-60002.1<e&&e<-60001.9?n:e,e=this.paddingBottom,n=this.get_height(),n=0==e?0:e<-39999.9&&-60000.1<e?.01*(e+5e4)*n:-60002.1<e&&e<-60001.9?n:e,r=this.get_width()-t-l,s=this.get_height()-i-n,h=1;if(null!=this.subviews)for(var a=0,o=this.subviews.length;a<o;){var c,u,_=a++,_=this.subviews[_];1!=(1&_.flags)&&(_.computedSize=_.persistedComputedSizeForContext(r,s,15),null==_.computedSize&&_.computeSize(r,s,15,!1),c=_.computedSize.computedHeight,_.set_width(_.computedSize.computedWidth),_.set_height(c),c=_.get_width()*_.anchorX+t,e=_.offsetX,_.set_x(c+(0==e?0:e<-39999.9&&-60000.1<e?.01*(e+5e4)*r:-60002.1<e&&e<-60001.9?r:e)),c=_.get_height()*_.anchorY+i,u=_.offsetY,_.set_y(c+(0==u?0:u<-39999.9&&-60000.1<u?.01*(u+5e4)*s:-60002.1<u&&u<-60001.9?s:u)),_.set_depth(h++))}},__class__:Ab}),Oe["ceramic.LayoutAlign"]={__ename__:"ceramic.LayoutAlign",__constructs__:null,LEFT:{_hx_name:"LEFT",_hx_index:0,__enum__:"ceramic.LayoutAlign",toString:c},RIGHT:{_hx_name:"RIGHT",_hx_index:1,__enum__:"ceramic.LayoutAlign",toString:c},TOP:{_hx_name:"TOP",_hx_index:2,__enum__:"ceramic.LayoutAlign",toString:c},BOTTOM:{_hx_name:"BOTTOM",_hx_index:3,__enum__:"ceramic.LayoutAlign",toString:c},CENTER:{_hx_name:"CENTER",_hx_index:4,__enum__:"ceramic.LayoutAlign",toString:c}}),Ln=(En.__constructs__=[En.LEFT,En.RIGHT,En.TOP,En.BOTTOM,En.CENTER],Oe["ceramic.LayoutDirection"]={__ename__:"ceramic.LayoutDirection",__constructs__:null,HORIZONTAL:{_hx_name:"HORIZONTAL",_hx_index:0,__enum__:"ceramic.LayoutDirection",toString:c},VERTICAL:{_hx_name:"VERTICAL",_hx_index:1,__enum__:"ceramic.LayoutDirection",toString:c}}),Vn=(Ln.__constructs__=[Ln.HORIZONTAL,Ln.VERTICAL],(E["polyline.MiterUtils"]=Db).__name__="polyline.MiterUtils",Db.prototype={tangentX:null,tangentY:null,miterX:null,miterY:null,aX:null,aY:null,bX:null,bY:null,outX:null,outY:null,tmpX:null,tmpY:null,computeMiter:function(e){return this.tangentX=this.aX+this.bX,this.tangentY=this.aY+this.bY,this.miterX=-this.tangentY,this.miterY=this.tangentX,this.tmpX=-this.aY,this.tmpY=this.aX,e/(this.miterX*this.tmpX+this.miterY*this.tmpY)},normal:function(e,n){this.outX=-n,this.outY=e},direction:function(){this.outX=this.aX-this.bX,this.outY=this.aY-this.bY;var e=this.outX*this.outX+this.outY*this.outY;0<e&&(e=1/Math.sqrt(e),this.outX*=e,this.outY*=e)},__class__:Db},(E["polyline.Stroke"]=Eb).__name__="polyline.Stroke",Eb.prototype={miterLimit:null,thickness:null,join:null,cap:null,canLoop:null,tmpX:null,tmpY:null,lineAX:null,lineAY:null,lineBX:null,lineBY:null,tangentX:null,tangentY:null,miterX:null,miterY:null,capEndX:null,capEndY:null,_hasNormal:null,_normalX:null,_normalY:null,_lastFlip:null,_started:null,_points:null,build:function(e,n,t){if(0<n.length&&n.splice(0,n.length),0<t.length&&t.splice(0,t.length),0!=e.length){var i,l,r,s,h,a,o,c,u,_,d,b,g,O,f,p,C,v,w,E=e.length,m=(this._lastFlip=-1,this._started=!1,2),y=0,U=this._hasNormal=!1,D=0,T=0,x=0,S=0,A=-9999999999,k=-9999999999,I=0;for(this._points=e;m<E;){if(U||(D=e[m-2],T=e[m-1],x=e[m],S=e[m+1]),U=!(k=A=-9999999999),I=this.mapThickness(x,S,m,e),m<E-2)if(A=e[m+2],k=e[m+3],x==A&&S==k)U=!0;else{var P=D-x,F=T-S,B=((A-x)*P+(k-S)*F)/(P*P+F*F),P=A-(x+B*P),B=k-(S+B*F);if(Math.sqrt(P*P+B*B)<I){for(var M=Math.atan2(T-S,D-x)-Math.atan2(k-S,A-x);M<0;)M+=6.28318530718;for(;6.28318530718<M;)M-=6.28318530718;(M<1.57079632679||4.71238898038<M)&&(k=A=-9999999999)}}U||(F=D,P=T,B=x,i=S,d=.5*I,l=0,o=this.cap==Tl.SQUARE,O=this.join==xl.BEVEL,Eb.miterUtils.aX=B,Eb.miterUtils.aY=i,Eb.miterUtils.bX=F,Eb.miterUtils.bY=P,(f=Eb.miterUtils).outX=f.aX-f.bX,f.outY=f.aY-f.bY,0<(_=f.outX*f.outX+f.outY*f.outY)&&(_=1/Math.sqrt(_),f.outX*=_,f.outY*=_),this.lineAX=Eb.miterUtils.outX,this.lineAY=Eb.miterUtils.outY,this._hasNormal||((r=Eb.miterUtils).outX=-this.lineAY,r.outY=this.lineAX,this._normalX=Eb.miterUtils.outX,this._normalY=Eb.miterUtils.outY,this._hasNormal=!0),this._started||(this._started=!0,r=.5*this.mapThickness(this._points[0],this._points[1],0,this._points),o&&(this.capEndX=F+this.lineAX*-r,this.capEndY=P+this.lineAY*-r,F=this.capEndX,P=this.capEndY),s=this._normalX,h=this._normalY,this.tmpX=F+s*-r,this.tmpY=P+h*-r,n.push(this.tmpX),n.push(this.tmpY),this.tmpX=F+s*r,this.tmpY=P+h*r,n.push(this.tmpX),n.push(this.tmpY)),t.push(y),t.push(y+1),t.push(y+2),-9999999999==A?((s=Eb.miterUtils).outX=-this.lineAY,s.outY=this.lineAX,this._normalX=Eb.miterUtils.outX,this._normalY=Eb.miterUtils.outY,this._hasNormal=!0,o&&(this.capEndX=B+this.lineAX*d,this.capEndY=i+this.lineAY*d,B=this.capEndX,i=this.capEndY),h=this._normalX,o=this._normalY,this.tmpX=B+h*-d,this.tmpY=i+o*-d,n.push(this.tmpX),n.push(this.tmpY),this.tmpX=B+h*d,this.tmpY=i+o*d,n.push(this.tmpX),n.push(this.tmpY),1==this._lastFlip?(t.push(y),t.push(y+2)):(t.push(y+2),t.push(y+1)),t.push(y+3),l+=4):(Eb.miterUtils.aX=A,Eb.miterUtils.aY=k,Eb.miterUtils.bX=B,Eb.miterUtils.bY=i,(o=Eb.miterUtils).outX=o.aX-o.bX,o.outY=o.aY-o.bY,0<(a=o.outX*o.outX+o.outY*o.outY)&&(a=1/Math.sqrt(a),o.outX*=a,o.outY*=a),this.lineBX=Eb.miterUtils.outX,this.lineBY=Eb.miterUtils.outY,Eb.miterUtils.tangentX=this.tangentX,Eb.miterUtils.tangentY=this.tangentY,Eb.miterUtils.miterX=this.miterX,Eb.miterUtils.miterY=this.miterY,Eb.miterUtils.aX=this.lineAX,Eb.miterUtils.aY=this.lineAY,Eb.miterUtils.bX=this.lineBX,Eb.miterUtils.bY=this.lineBY,(o=Eb.miterUtils).tangentX=o.aX+o.bX,o.tangentY=o.aY+o.bY,o.miterX=-o.tangentY,o.miterY=o.tangentX,o.tmpX=-o.aY,o.tmpY=o.aX,b=d/(o.miterX*o.tmpX+o.miterY*o.tmpY),this.tangentX=Eb.miterUtils.tangentX,this.tangentY=Eb.miterUtils.tangentY,this.miterX=Eb.miterUtils.miterX,this.miterY=Eb.miterUtils.miterY,a=this.tangentX*this._normalX+this.tangentY*this._normalY<0?-1:1,(o=O)||this.join!=xl.MITER||b/d>this.miterLimit&&(o=!0),o?(this.tmpX=B+this._normalX*-d*a,this.tmpY=i+this._normalY*-d*a,n.push(this.tmpX),n.push(this.tmpY),this.tmpX=B+this.miterX*b*a,this.tmpY=i+this.miterY*b*a,n.push(this.tmpX),n.push(this.tmpY),this._lastFlip!=-a?(t.push(y),t.push(y+2)):(t.push(y+2),t.push(y+1)),t.push(y+3),t.push(y+2),t.push(y+3),t.push(y+4),(o=Eb.miterUtils).outX=-this.lineBY,o.outY=this.lineBX,this.tmpX=Eb.miterUtils.outX,this.tmpY=Eb.miterUtils.outY,this._normalX=this.tmpX,this._normalY=this.tmpY,this.tmpX=B+this.tmpX*-d*a,this.tmpY=i+this.tmpY*-d*a,n.push(this.tmpX),n.push(this.tmpY),l+=3):(o=this.miterX,c=this.miterY,this.tmpX=B+o*-b,this.tmpY=i+c*-b,n.push(this.tmpX),n.push(this.tmpY),this.tmpX=B+o*b,this.tmpY=i+c*b,n.push(this.tmpX),n.push(this.tmpY),1==this._lastFlip?(t.push(y),t.push(y+2)):(t.push(y+2),t.push(y+1)),t.push(y+3),a=-1,this._normalX=this.miterX,this._normalY=this.miterY,l+=2),this._lastFlip=a),y+=l),-9999999999==A&&(this._lastFlip=-1,this._started=!1,U=this._hasNormal=!1),m+=2}this._points=null,this.canLoop&&this.cap==Tl.BUTT&&e[0]==e[e.length-2]&&e[1]==e[e.length-1]&&6<e.length&&(g=e[2],p=e[3],v=e[e.length-4],C=e[e.length-3],u=e[0],w=e[1],Eb.miterUtils.aX=g,Eb.miterUtils.aY=p,Eb.miterUtils.bX=u,Eb.miterUtils.bY=w,(f=Eb.miterUtils).outX=f.aX-f.bX,f.outY=f.aY-f.bY,0<(_=f.outX*f.outX+f.outY*f.outY)&&(_=1/Math.sqrt(_),f.outX*=_,f.outY*=_),g=Eb.miterUtils.outX,p=Eb.miterUtils.outY,Eb.miterUtils.aX=u,Eb.miterUtils.aY=w,Eb.miterUtils.bX=v,Eb.miterUtils.bY=C,(f=Eb.miterUtils).outX=f.aX-f.bX,f.outY=f.aY-f.bY,0<(_=f.outX*f.outX+f.outY*f.outY)&&(_=1/Math.sqrt(_),f.outX*=_,f.outY*=_),v=Eb.miterUtils.outX,C=Eb.miterUtils.outY,Eb.miterUtils.aX=v,Eb.miterUtils.aY=C,Eb.miterUtils.bX=g,Eb.miterUtils.bY=p,d=.5*I,(f=Eb.miterUtils).tangentX=f.aX+f.bX,f.tangentY=f.aY+f.bY,f.miterX=-f.tangentY,f.miterY=f.tangentX,f.tmpX=-f.aY,f.tmpY=f.aX,b=d/(f.miterX*f.tmpX+f.miterY*f.tmpY),g=Eb.miterUtils.miterX,p=Eb.miterUtils.miterY,(O=this.join==xl.BEVEL)||this.join!=xl.MITER||b/d>this.miterLimit&&(O=!0),O&&((f=Eb.miterUtils).outX=-C,f.outY=v,g=Eb.miterUtils.outX,p=Eb.miterUtils.outY,b=d),C=w+p*-b,v=u+g*b,w=w+p*b,n[0]=p=u+g*-b,n[1]=C,n[2]=v,n[3]=w,n[n.length-4]=p,n[n.length-3]=C,n[n.length-2]=v,n[n.length-1]=w)}},mapThickness:function(e,n,t,i){return this.thickness},_seg:function(e,n,t,i,l,r,s,h,a,o){var c,u,_,d=0,b=this.cap==Tl.SQUARE,g=this.join==xl.BEVEL,O=(Eb.miterUtils.aX=r,Eb.miterUtils.aY=s,Eb.miterUtils.bX=i,Eb.miterUtils.bY=l,Eb.miterUtils),f=(O.outX=O.aX-O.bX,O.outY=O.aY-O.bY,O.outX*O.outX+O.outY*O.outY);return 0<f&&(f=1/Math.sqrt(f),O.outX*=f,O.outY*=f),this.lineAX=Eb.miterUtils.outX,this.lineAY=Eb.miterUtils.outY,this._hasNormal||((O=Eb.miterUtils).outX=-this.lineAY,O.outY=this.lineAX,this._normalX=Eb.miterUtils.outX,this._normalY=Eb.miterUtils.outY,this._hasNormal=!0),this._started||(this._started=!0,c=.5*this.mapThickness(this._points[0],this._points[1],0,this._points),b&&(this.capEndX=i+this.lineAX*-c,this.capEndY=l+this.lineAY*-c,i=this.capEndX,l=this.capEndY),u=this._normalX,_=this._normalY,this.tmpX=i+u*-c,this.tmpY=l+_*-c,e.push(this.tmpX),e.push(this.tmpY),this.tmpX=i+u*c,this.tmpY=l+_*c,e.push(this.tmpX),e.push(this.tmpY)),n.push(t),n.push(t+1),n.push(t+2),-9999999999==h?((O=Eb.miterUtils).outX=-this.lineAY,O.outY=this.lineAX,this._normalX=Eb.miterUtils.outX,this._normalY=Eb.miterUtils.outY,this._hasNormal=!0,b&&(this.capEndX=r+this.lineAX*o,this.capEndY=s+this.lineAY*o,r=this.capEndX,s=this.capEndY),u=this._normalX,_=this._normalY,this.tmpX=r+u*-o,this.tmpY=s+_*-o,e.push(this.tmpX),e.push(this.tmpY),this.tmpX=r+u*o,this.tmpY=s+_*o,e.push(this.tmpX),e.push(this.tmpY),1==this._lastFlip?(n.push(t),n.push(t+2)):(n.push(t+2),n.push(t+1)),n.push(t+3),d+=4):(Eb.miterUtils.aX=h,Eb.miterUtils.aY=a,Eb.miterUtils.bX=r,Eb.miterUtils.bY=s,(O=Eb.miterUtils).outX=O.aX-O.bX,O.outY=O.aY-O.bY,0<(f=O.outX*O.outX+O.outY*O.outY)&&(f=1/Math.sqrt(f),O.outX*=f,O.outY*=f),this.lineBX=Eb.miterUtils.outX,this.lineBY=Eb.miterUtils.outY,Eb.miterUtils.tangentX=this.tangentX,Eb.miterUtils.tangentY=this.tangentY,Eb.miterUtils.miterX=this.miterX,Eb.miterUtils.miterY=this.miterY,Eb.miterUtils.aX=this.lineAX,Eb.miterUtils.aY=this.lineAY,Eb.miterUtils.bX=this.lineBX,Eb.miterUtils.bY=this.lineBY,(O=Eb.miterUtils).tangentX=O.aX+O.bX,O.tangentY=O.aY+O.bY,O.miterX=-O.tangentY,O.miterY=O.tangentX,O.tmpX=-O.aY,O.tmpY=O.aX,i=o/(O.miterX*O.tmpX+O.miterY*O.tmpY),this.tangentX=Eb.miterUtils.tangentX,this.tangentY=Eb.miterUtils.tangentY,this.miterX=Eb.miterUtils.miterX,this.miterY=Eb.miterUtils.miterY,l=this.tangentX*this._normalX+this.tangentY*this._normalY<0?-1:1,(c=g)||this.join!=xl.MITER||i/o>this.miterLimit&&(c=!0),c?(this.tmpX=r+this._normalX*-o*l,this.tmpY=s+this._normalY*-o*l,e.push(this.tmpX),e.push(this.tmpY),this.tmpX=r+this.miterX*i*l,this.tmpY=s+this.miterY*i*l,e.push(this.tmpX),e.push(this.tmpY),this._lastFlip!=-l?(n.push(t),n.push(t+2)):(n.push(t+2),n.push(t+1)),n.push(t+3),n.push(t+2),n.push(t+3),n.push(t+4),(O=Eb.miterUtils).outX=-this.lineBY,O.outY=this.lineBX,this.tmpX=Eb.miterUtils.outX,this.tmpY=Eb.miterUtils.outY,this._normalX=this.tmpX,this._normalY=this.tmpY,this.tmpX=r+this.tmpX*-o*l,this.tmpY=s+this.tmpY*-o*l,e.push(this.tmpX),e.push(this.tmpY),d+=3):(u=this.miterX,_=this.miterY,this.tmpX=r+u*-i,this.tmpY=s+_*-i,e.push(this.tmpX),e.push(this.tmpY),this.tmpX=r+u*i,this.tmpY=s+_*i,e.push(this.tmpX),e.push(this.tmpY),1==this._lastFlip?(n.push(t),n.push(t+2)):(n.push(t+2),n.push(t+1)),n.push(t+3),l=-1,this._normalX=this.miterX,this._normalY=this.miterY,d+=2),this._lastFlip=l),d},extrusions:function(e,n,t,i,l,r){this.tmpX=n+i*-r,this.tmpY=t+l*-r,e.push(this.tmpX),e.push(this.tmpY),this.tmpX=n+i*r,this.tmpY=t+l*r,e.push(this.tmpX),e.push(this.tmpY)},pointsAngle:function(e,n,t,i,l,r){for(var s=Math.atan2(r-n,l-e)-Math.atan2(i-n,t-e);s<0;)s+=6.28318530718;for(;6.28318530718<s;)s-=6.28318530718;return s},distanceToLine:function(e,n,t,i,l,r){var l=l-t,r=r-i,s=((e-t)*l+(n-i)*r)/(l*l+r*r),e=e-(t+s*l),t=n-(i+s*r);return Math.sqrt(e*e+t*t)},__class__:Eb},(E["ceramic.Line"]=Fb).__name__="ceramic.Line",Fb.__super__=ya,Fb.prototype=$extend(ya.prototype,{points:null,set_points:function(e){return this.points=e,this.contentDirty=!0,he.app.visualsContentDirty=!0,e},miterLimit:null,set_miterLimit:function(e){return this.miterLimit!=e&&(this.miterLimit=e,this.contentDirty=!0,he.app.visualsContentDirty=!0),e},thickness:null,set_thickness:function(e){return this.thickness!=e&&(this.thickness=e,this.contentDirty=!0,he.app.visualsContentDirty=!0),e},join:null,set_join:function(e){return this.join!=e&&(this.join=e,this.contentDirty=!0,he.app.visualsContentDirty=!0),e},cap:null,set_cap:function(e){return this.cap!=e&&(this.cap=e,this.contentDirty=!0,he.app.visualsContentDirty=!0),e},loop:null,set_loop:function(e){return this.loop!=e&&(this.loop=e,this.contentDirty=!0,he.app.visualsContentDirty=!0),e},autoComputeSize:null,set_autoComputeSize:function(e){return this.autoComputeSize!=e&&(this.autoComputeSize=e)&&this.computeSize(),e},computeContent:function(){null!=this.points&&4<=this.points.length&&(Fb._stroke.miterLimit=this.miterLimit,Fb._stroke.thickness=this.thickness,Fb._stroke.join=this.join,Fb._stroke.cap=this.cap,Fb._stroke.canLoop=this.loop,null==this.vertices&&(this.vertices=[]),null==this.indices&&(this.indices=[]),Fb._stroke.build(this.points,this.vertices,this.indices)),this.autoComputeSize&&this.computeSize(),this.contentDirty=!1},computeSize:function(){if(null!=this.points&&2<=this.points.length){for(var e=0,n=0,t=0,i=this.points.length-1;t<i;){var l=this.points[t],l=(e<l&&(e=l),++t,this.points[t]);n<l&&(n=l),++t}this.set_width(e),this.set_height(n)}else this.set_width(0),this.set_height(0)},__class__:Fb,__properties__:$extend(ya.prototype.__properties__,{set_autoComputeSize:"set_autoComputeSize",set_loop:"set_loop",set_cap:"set_cap",set_join:"set_join",set_thickness:"set_thickness",set_miterLimit:"set_miterLimit",set_points:"set_points"})}),function(){this.indentPrefix="",j.call(this),Vn.didInitOnce||(Vn.didInitOnce=!0)}),Rn=((E["ceramic.Logger"]=Vn).__name__="ceramic.Logger",Vn.__super__=j,Vn.prototype=$extend(j.prototype,{__cbOnInfo:null,__cbOnceInfo:null,__cbOnOwnerUnbindInfo:null,__cbOnceOwnerUnbindInfo:null,emitInfo:function(e,n){var t=0;if(null!=this.__cbOnInfo&&(t+=this.__cbOnInfo.length),null!=this.__cbOnceInfo&&(t+=this.__cbOnceInfo.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnInfo)for(var s=0,h=this.__cbOnInfo.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnInfo[a],++r):--t}if(null!=this.__cbOnceInfo){for(var o=null,c=null,s=0,h=this.__cbOnceInfo.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceInfo[a],this.__cbOnceInfo[a]=null,u=this.__cbOnceOwnerUnbindInfo[a],(this.__cbOnceOwnerUnbindInfo[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindInfo[a]),c.push(this.__cbOnceInfo[a]))}this.__cbOnceOwnerUnbindInfo=o,this.__cbOnceInfo=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onInfo:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event info because owner is destroyed!");var l=function(e){null!=t&&(i.offInfo(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindInfo&&(this.__cbOnOwnerUnbindInfo=[]),this.__cbOnOwnerUnbindInfo.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindInfo&&(this.__cbOnOwnerUnbindInfo=[]),this.__cbOnOwnerUnbindInfo.push(null);null==this.__cbOnInfo&&(this.__cbOnInfo=[]),this.__cbOnInfo.push(t)},onceInfo:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event info because owner is destroyed!");var l=function(e){null!=t&&(i.offInfo(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindInfo&&(this.__cbOnceOwnerUnbindInfo=[]),this.__cbOnceOwnerUnbindInfo.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindInfo&&(this.__cbOnceOwnerUnbindInfo=[]),this.__cbOnceOwnerUnbindInfo.push(null);null==this.__cbOnceInfo&&(this.__cbOnceInfo=[]),this.__cbOnceInfo.push(t)},offInfo:function(e){if(null!=e){var n;null!=this.__cbOnInfo&&-1!=(n=this.__cbOnInfo.indexOf(e))&&(this.__cbOnInfo.splice(n,1),null!=(r=this.__cbOnOwnerUnbindInfo[n])&&r(),this.__cbOnOwnerUnbindInfo.splice(n,1)),null!=this.__cbOnceInfo&&-1!=(n=this.__cbOnceInfo.indexOf(e))&&(this.__cbOnceInfo.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindInfo[n])&&r(),this.__cbOnceOwnerUnbindInfo.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindInfo){for(var t=0,i=this.__cbOnOwnerUnbindInfo.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindInfo[l])&&r()}this.__cbOnOwnerUnbindInfo=null}if(null!=this.__cbOnceOwnerUnbindInfo){for(t=0,i=this.__cbOnceOwnerUnbindInfo.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindInfo[l])&&r()}this.__cbOnceOwnerUnbindInfo=null}this.__cbOnInfo=null,this.__cbOnceInfo=null}},listensInfo:function(){return null!=this.__cbOnInfo&&0<this.__cbOnInfo.length||null!=this.__cbOnceInfo&&0<this.__cbOnceInfo.length},__cbOnDebug:null,__cbOnceDebug:null,__cbOnOwnerUnbindDebug:null,__cbOnceOwnerUnbindDebug:null,emitDebug:function(e,n){var t=0;if(null!=this.__cbOnDebug&&(t+=this.__cbOnDebug.length),null!=this.__cbOnceDebug&&(t+=this.__cbOnceDebug.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnDebug)for(var s=0,h=this.__cbOnDebug.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnDebug[a],++r):--t}if(null!=this.__cbOnceDebug){for(var o=null,c=null,s=0,h=this.__cbOnceDebug.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceDebug[a],this.__cbOnceDebug[a]=null,u=this.__cbOnceOwnerUnbindDebug[a],(this.__cbOnceOwnerUnbindDebug[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindDebug[a]),c.push(this.__cbOnceDebug[a]))}this.__cbOnceOwnerUnbindDebug=o,this.__cbOnceDebug=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onDebug:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event debug because owner is destroyed!");var l=function(e){null!=t&&(i.offDebug(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindDebug&&(this.__cbOnOwnerUnbindDebug=[]),this.__cbOnOwnerUnbindDebug.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindDebug&&(this.__cbOnOwnerUnbindDebug=[]),this.__cbOnOwnerUnbindDebug.push(null);null==this.__cbOnDebug&&(this.__cbOnDebug=[]),this.__cbOnDebug.push(t)},onceDebug:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event debug because owner is destroyed!");var l=function(e){null!=t&&(i.offDebug(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindDebug&&(this.__cbOnceOwnerUnbindDebug=[]),this.__cbOnceOwnerUnbindDebug.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindDebug&&(this.__cbOnceOwnerUnbindDebug=[]),this.__cbOnceOwnerUnbindDebug.push(null);null==this.__cbOnceDebug&&(this.__cbOnceDebug=[]),this.__cbOnceDebug.push(t)},offDebug:function(e){if(null!=e){var n;null!=this.__cbOnDebug&&-1!=(n=this.__cbOnDebug.indexOf(e))&&(this.__cbOnDebug.splice(n,1),null!=(r=this.__cbOnOwnerUnbindDebug[n])&&r(),this.__cbOnOwnerUnbindDebug.splice(n,1)),null!=this.__cbOnceDebug&&-1!=(n=this.__cbOnceDebug.indexOf(e))&&(this.__cbOnceDebug.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindDebug[n])&&r(),this.__cbOnceOwnerUnbindDebug.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindDebug){for(var t=0,i=this.__cbOnOwnerUnbindDebug.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindDebug[l])&&r()}this.__cbOnOwnerUnbindDebug=null}if(null!=this.__cbOnceOwnerUnbindDebug){for(t=0,i=this.__cbOnceOwnerUnbindDebug.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindDebug[l])&&r()}this.__cbOnceOwnerUnbindDebug=null}this.__cbOnDebug=null,this.__cbOnceDebug=null}},listensDebug:function(){return null!=this.__cbOnDebug&&0<this.__cbOnDebug.length||null!=this.__cbOnceDebug&&0<this.__cbOnceDebug.length},__cbOnSuccess:null,__cbOnceSuccess:null,__cbOnOwnerUnbindSuccess:null,__cbOnceOwnerUnbindSuccess:null,emitSuccess:function(e,n){var t=0;if(null!=this.__cbOnSuccess&&(t+=this.__cbOnSuccess.length),null!=this.__cbOnceSuccess&&(t+=this.__cbOnceSuccess.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnSuccess)for(var s=0,h=this.__cbOnSuccess.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnSuccess[a],++r):--t}if(null!=this.__cbOnceSuccess){for(var o=null,c=null,s=0,h=this.__cbOnceSuccess.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceSuccess[a],this.__cbOnceSuccess[a]=null,u=this.__cbOnceOwnerUnbindSuccess[a],(this.__cbOnceOwnerUnbindSuccess[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindSuccess[a]),c.push(this.__cbOnceSuccess[a]))}this.__cbOnceOwnerUnbindSuccess=o,this.__cbOnceSuccess=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onSuccess:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event success because owner is destroyed!");var l=function(e){null!=t&&(i.offSuccess(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindSuccess&&(this.__cbOnOwnerUnbindSuccess=[]),this.__cbOnOwnerUnbindSuccess.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindSuccess&&(this.__cbOnOwnerUnbindSuccess=[]),this.__cbOnOwnerUnbindSuccess.push(null);null==this.__cbOnSuccess&&(this.__cbOnSuccess=[]),this.__cbOnSuccess.push(t)},onceSuccess:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event success because owner is destroyed!");var l=function(e){null!=t&&(i.offSuccess(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindSuccess&&(this.__cbOnceOwnerUnbindSuccess=[]),this.__cbOnceOwnerUnbindSuccess.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindSuccess&&(this.__cbOnceOwnerUnbindSuccess=[]),this.__cbOnceOwnerUnbindSuccess.push(null);null==this.__cbOnceSuccess&&(this.__cbOnceSuccess=[]),this.__cbOnceSuccess.push(t)},offSuccess:function(e){if(null!=e){var n;null!=this.__cbOnSuccess&&-1!=(n=this.__cbOnSuccess.indexOf(e))&&(this.__cbOnSuccess.splice(n,1),null!=(r=this.__cbOnOwnerUnbindSuccess[n])&&r(),this.__cbOnOwnerUnbindSuccess.splice(n,1)),null!=this.__cbOnceSuccess&&-1!=(n=this.__cbOnceSuccess.indexOf(e))&&(this.__cbOnceSuccess.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindSuccess[n])&&r(),this.__cbOnceOwnerUnbindSuccess.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindSuccess){for(var t=0,i=this.__cbOnOwnerUnbindSuccess.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindSuccess[l])&&r()}this.__cbOnOwnerUnbindSuccess=null}if(null!=this.__cbOnceOwnerUnbindSuccess){for(t=0,i=this.__cbOnceOwnerUnbindSuccess.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindSuccess[l])&&r()}this.__cbOnceOwnerUnbindSuccess=null}this.__cbOnSuccess=null,this.__cbOnceSuccess=null}},listensSuccess:function(){return null!=this.__cbOnSuccess&&0<this.__cbOnSuccess.length||null!=this.__cbOnceSuccess&&0<this.__cbOnceSuccess.length},__cbOnWarning:null,__cbOnceWarning:null,__cbOnOwnerUnbindWarning:null,__cbOnceOwnerUnbindWarning:null,emitWarning:function(e,n){var t=0;if(null!=this.__cbOnWarning&&(t+=this.__cbOnWarning.length),null!=this.__cbOnceWarning&&(t+=this.__cbOnceWarning.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnWarning)for(var s=0,h=this.__cbOnWarning.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnWarning[a],++r):--t}if(null!=this.__cbOnceWarning){for(var o=null,c=null,s=0,h=this.__cbOnceWarning.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceWarning[a],this.__cbOnceWarning[a]=null,u=this.__cbOnceOwnerUnbindWarning[a],(this.__cbOnceOwnerUnbindWarning[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindWarning[a]),c.push(this.__cbOnceWarning[a]))}this.__cbOnceOwnerUnbindWarning=o,this.__cbOnceWarning=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onWarning:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event warning because owner is destroyed!");var l=function(e){null!=t&&(i.offWarning(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindWarning&&(this.__cbOnOwnerUnbindWarning=[]),this.__cbOnOwnerUnbindWarning.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindWarning&&(this.__cbOnOwnerUnbindWarning=[]),this.__cbOnOwnerUnbindWarning.push(null);null==this.__cbOnWarning&&(this.__cbOnWarning=[]),this.__cbOnWarning.push(t)},onceWarning:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event warning because owner is destroyed!");var l=function(e){null!=t&&(i.offWarning(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindWarning&&(this.__cbOnceOwnerUnbindWarning=[]),this.__cbOnceOwnerUnbindWarning.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindWarning&&(this.__cbOnceOwnerUnbindWarning=[]),this.__cbOnceOwnerUnbindWarning.push(null);null==this.__cbOnceWarning&&(this.__cbOnceWarning=[]),this.__cbOnceWarning.push(t)},offWarning:function(e){if(null!=e){var n;null!=this.__cbOnWarning&&-1!=(n=this.__cbOnWarning.indexOf(e))&&(this.__cbOnWarning.splice(n,1),null!=(r=this.__cbOnOwnerUnbindWarning[n])&&r(),this.__cbOnOwnerUnbindWarning.splice(n,1)),null!=this.__cbOnceWarning&&-1!=(n=this.__cbOnceWarning.indexOf(e))&&(this.__cbOnceWarning.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindWarning[n])&&r(),this.__cbOnceOwnerUnbindWarning.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindWarning){for(var t=0,i=this.__cbOnOwnerUnbindWarning.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindWarning[l])&&r()}this.__cbOnOwnerUnbindWarning=null}if(null!=this.__cbOnceOwnerUnbindWarning){for(t=0,i=this.__cbOnceOwnerUnbindWarning.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindWarning[l])&&r()}this.__cbOnceOwnerUnbindWarning=null}this.__cbOnWarning=null,this.__cbOnceWarning=null}},listensWarning:function(){return null!=this.__cbOnWarning&&0<this.__cbOnWarning.length||null!=this.__cbOnceWarning&&0<this.__cbOnceWarning.length},__cbOnError:null,__cbOnceError:null,__cbOnOwnerUnbindError:null,__cbOnceOwnerUnbindError:null,emitError:function(e,n){var t=0;if(null!=this.__cbOnError&&(t+=this.__cbOnError.length),null!=this.__cbOnceError&&(t+=this.__cbOnceError.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnError)for(var s=0,h=this.__cbOnError.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnError[a],++r):--t}if(null!=this.__cbOnceError){for(var o=null,c=null,s=0,h=this.__cbOnceError.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceError[a],this.__cbOnceError[a]=null,u=this.__cbOnceOwnerUnbindError[a],(this.__cbOnceOwnerUnbindError[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindError[a]),c.push(this.__cbOnceError[a]))}this.__cbOnceOwnerUnbindError=o,this.__cbOnceError=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onError:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event error because owner is destroyed!");var l=function(e){null!=t&&(i.offError(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindError&&(this.__cbOnOwnerUnbindError=[]),this.__cbOnOwnerUnbindError.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindError&&(this.__cbOnOwnerUnbindError=[]),this.__cbOnOwnerUnbindError.push(null);null==this.__cbOnError&&(this.__cbOnError=[]),this.__cbOnError.push(t)},onceError:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event error because owner is destroyed!");var l=function(e){null!=t&&(i.offError(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindError&&(this.__cbOnceOwnerUnbindError=[]),this.__cbOnceOwnerUnbindError.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindError&&(this.__cbOnceOwnerUnbindError=[]),this.__cbOnceOwnerUnbindError.push(null);null==this.__cbOnceError&&(this.__cbOnceError=[]),this.__cbOnceError.push(t)},offError:function(e){if(null!=e){var n;null!=this.__cbOnError&&-1!=(n=this.__cbOnError.indexOf(e))&&(this.__cbOnError.splice(n,1),null!=(r=this.__cbOnOwnerUnbindError[n])&&r(),this.__cbOnOwnerUnbindError.splice(n,1)),null!=this.__cbOnceError&&-1!=(n=this.__cbOnceError.indexOf(e))&&(this.__cbOnceError.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindError[n])&&r(),this.__cbOnceOwnerUnbindError.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindError){for(var t=0,i=this.__cbOnOwnerUnbindError.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindError[l])&&r()}this.__cbOnOwnerUnbindError=null}if(null!=this.__cbOnceOwnerUnbindError){for(t=0,i=this.__cbOnceOwnerUnbindError.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindError[l])&&r()}this.__cbOnceOwnerUnbindError=null}this.__cbOnError=null,this.__cbOnceError=null}},listensError:function(){return null!=this.__cbOnError&&0<this.__cbOnError.length||null!=this.__cbOnceError&&0<this.__cbOnceError.length},indentPrefix:null,debug:function(e,n){this.emitDebug(e,n),Gi.trace(this.prefixLines("[debug] ",e),n)},info:function(e,n){this.emitInfo(e,n),Gi.trace(this.prefixLines("[info] ",e),n)},success:function(e,n){this.emitSuccess(e,n),Gi.trace(this.prefixLines("[success] ",e),n)},warning:function(e,n){this.emitWarning(e,n),Vn._hasElectronRunner?Gi.trace(this.prefixLines("[warning] ",e),n):console.warn(e)},error:function(e,n){this.emitError(e,n),Vn._hasElectronRunner?Gi.trace(this.prefixLines("[error] ",e),n):console.error(e)},pushIndent:function(){this.indentPrefix+="    "},popIndent:function(){this.indentPrefix=this.indentPrefix.substring(0,this.indentPrefix.length-4)},prefixLines:function(e,n){for(var t=[],i=0,l=X.string(n).split("\n");i<l.length;){var r=l[i];++i,t.push(e+this.indentPrefix+r)}return t.join("\n")},unbindEvents:function(){j.prototype.unbindEvents.call(this),this.offInfo(),this.offDebug(),this.offSuccess(),this.offWarning(),this.offError()},__class__:Vn}),(E["ceramic.LongPress"]=Hb).__name__="ceramic.LongPress",Hb.__interfaces__=[a0],Hb.__super__=j,Hb.prototype=$extend(j.prototype,{__cbOnLongPress:null,__cbOnceLongPress:null,__cbOnOwnerUnbindLongPress:null,__cbOnceOwnerUnbindLongPress:null,emitLongPress:function(e){var n=0;if(null!=this.__cbOnLongPress&&(n+=this.__cbOnLongPress.length),null!=this.__cbOnceLongPress&&(n+=this.__cbOnceLongPress.length),0<n){var t=C.pool(n),i=t.get(),l=0;if(null!=this.__cbOnLongPress)for(var r=0,s=this.__cbOnLongPress.length;r<s;){var h=r++;!0?(i.vector[l]=this.__cbOnLongPress[h],++l):--n}if(null!=this.__cbOnceLongPress){for(var a=null,o=null,r=0,s=this.__cbOnceLongPress.length;r<s;){var c,h=r++;!0?(i.vector[l]=this.__cbOnceLongPress[h],this.__cbOnceLongPress[h]=null,c=this.__cbOnceOwnerUnbindLongPress[h],(this.__cbOnceOwnerUnbindLongPress[h]=null)!=c&&c(),++l):(--n,null==a&&(a=[],o=[],0),a.push(this.__cbOnceOwnerUnbindLongPress[h]),o.push(this.__cbOnceLongPress[h]))}this.__cbOnceOwnerUnbindLongPress=a,this.__cbOnceLongPress=o}for(r=0,s=n;r<s;){l=r++;(0,i.vector[l])(e)}t.release(i)}},onLongPress:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event longPress because owner is destroyed!");var l=function(e){null!=t&&(i.offLongPress(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindLongPress&&(this.__cbOnOwnerUnbindLongPress=[]),this.__cbOnOwnerUnbindLongPress.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindLongPress&&(this.__cbOnOwnerUnbindLongPress=[]),this.__cbOnOwnerUnbindLongPress.push(null);null==this.__cbOnLongPress&&(this.__cbOnLongPress=[]),this.__cbOnLongPress.push(t)},onceLongPress:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event longPress because owner is destroyed!");var l=function(e){null!=t&&(i.offLongPress(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindLongPress&&(this.__cbOnceOwnerUnbindLongPress=[]),this.__cbOnceOwnerUnbindLongPress.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindLongPress&&(this.__cbOnceOwnerUnbindLongPress=[]),this.__cbOnceOwnerUnbindLongPress.push(null);null==this.__cbOnceLongPress&&(this.__cbOnceLongPress=[]),this.__cbOnceLongPress.push(t)},offLongPress:function(e){if(null!=e){var n;null!=this.__cbOnLongPress&&-1!=(n=this.__cbOnLongPress.indexOf(e))&&(this.__cbOnLongPress.splice(n,1),null!=(r=this.__cbOnOwnerUnbindLongPress[n])&&r(),this.__cbOnOwnerUnbindLongPress.splice(n,1)),null!=this.__cbOnceLongPress&&-1!=(n=this.__cbOnceLongPress.indexOf(e))&&(this.__cbOnceLongPress.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindLongPress[n])&&r(),this.__cbOnceOwnerUnbindLongPress.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindLongPress){for(var t=0,i=this.__cbOnOwnerUnbindLongPress.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindLongPress[l])&&r()}this.__cbOnOwnerUnbindLongPress=null}if(null!=this.__cbOnceOwnerUnbindLongPress){for(t=0,i=this.__cbOnceOwnerUnbindLongPress.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindLongPress[l])&&r()}this.__cbOnceOwnerUnbindLongPress=null}this.__cbOnLongPress=null,this.__cbOnceLongPress=null}},listensLongPress:function(){return null!=this.__cbOnLongPress&&0<this.__cbOnLongPress.length||null!=this.__cbOnceLongPress&&0<this.__cbOnceLongPress.length},threshold:null,requiredDuration:null,entity:null,click:null,bindAsComponent:function(){this.bindPointerEvents()},pointerStartX:null,pointerStartY:null,didLongPress:null,cancelLongPress:null,bindPointerEvents:function(){this.entity.onPointerDown(this,$bind(this,this.handlePointerDown)),this.entity.onPointerUp(this,$bind(this,this.handlePointerUp))},handlePointerDown:function(e){var n=this;this.didLongPress=!1,this.pointerStartX=he.app.screen.pointerX,this.pointerStartY=he.app.screen.pointerY,he.app.screen.onPointerMove(this,$bind(this,this.handlePointerMove)),this.cancelLongPress=Dt.schedule(this,this.requiredDuration,function(){n.cancelLongPress=null,n.didLongPress=!0,null!=n.click&&n.click.cancel(),n.emitLongPress(e)},-1)},handlePointerMove:function(e){(Math.abs(he.app.screen.pointerX-this.pointerStartX)>this.threshold||Math.abs(he.app.screen.pointerY-this.pointerStartY)>this.threshold)&&(he.app.screen.offPointerMove($bind(this,this.handlePointerMove)),null!=this.cancelLongPress)&&(this.cancelLongPress(),this.cancelLongPress=null)},handlePointerUp:function(e){null!=this.cancelLongPress&&(this.cancelLongPress(),this.cancelLongPress=null),he.app.screen.offPointerMove($bind(this,this.handlePointerMove))},setEntity:function(e){this.entity=e instanceof o?e:null},getEntity:function(){return this.entity},initializerName:null,unbindEvents:function(){j.prototype.unbindEvents.call(this),this.offLongPress()},__class__:Hb}),function(e){switch(e){case".":case"..":return this.dir=e,void(this.file="")}var n=e.lastIndexOf("/"),t=e.lastIndexOf("\\"),t=(n<t?(this.dir=se.substr(e,0,t),e=se.substr(e,t+1,null),this.backslash=!0):t<n?(this.dir=se.substr(e,0,n),e=se.substr(e,n+1,null)):this.dir=null,e.lastIndexOf("."));-1!=t?(this.ext=se.substr(e,t+1,null),this.file=se.substr(e,0,t)):(this.ext=null,this.file=e)}),Hn=((E["ceramic.Path"]=Rn).__name__="ceramic.Path",Rn.withoutExtension=function(e){e=new Rn(e);return e.ext=null,e.toString()},Rn.withoutDirectory=function(e){e=new Rn(e);return e.dir=null,e.toString()},Rn.directory=function(e){e=new Rn(e);return null==e.dir?"":e.dir},Rn.extension=function(e){e=new Rn(e);return null==e.ext?"":e.ext},Rn.withExtension=function(e,n){e=new Rn(e);return e.ext=n,e.toString()},Rn.join=function(e){for(var n=[],t=0,i=e;t<i.length;){var l=i[t];++t,null!=l&&""!=l&&n.push(l)}if(0==(e=n).length)return"";for(var r=e[0],n=1,t=e.length;n<t;){var s=n++,r=Rn.addTrailingSlash(r);r+=e[s]}return Rn.normalize(r)},Rn.normalize=function(e){if("/"==(e=e.split("\\").join("/")))return"/";for(var n=[],t=0,i=e.split("/");t<i.length;){var l=i[t];++t,".."==l&&0<n.length&&".."!=n[n.length-1]?n.pop():"."!=l&&n.push(l)}for(var r,s=n.join("/");-1!=(r=s.indexOf("//"));)s=s.substring(0,r)+s.substring(r+1);for(var h="",a=!1,o=!1,t=0,i=s.length;t<i;){var c=t++,u=s.charCodeAt(c);switch(u){case 47:a?(a=!1,o&&(h+="/",o=!1),h+=String.fromCodePoint(u)):o=!0;break;case 58:h+=":",a=!0;break;default:a=!1,o&&(h+="/",o=!1),h+=String.fromCodePoint(u)}}return h},Rn.addTrailingSlash=function(e){var n,t;return 0==e.length?"/":(n=e.lastIndexOf("/"))<(t=e.lastIndexOf("\\"))?t!=e.length-1?e+"\\":e:n!=e.length-1?e+"/":e},Rn.removeTrailingSlashes=function(e){e:for(;;){var n=se.cca(e,e.length-1);if(null==n)break;switch(n){case 47:case 92:e=se.substr(e,0,-1);break;default:break e}}return e},Rn.isAbsolute=function(e){return!!z.startsWith(e,"/")||":"==e.charAt(1)||!!z.startsWith(e,"\\\\")},Rn.prototype={dir:null,file:null,ext:null,backslash:null,toString:function(){return(null==this.dir?"":this.dir+(this.backslash?"\\":"/"))+this.file+(null==this.ext?"":"."+this.ext)},__class__:Rn},function(n){this.id=n;var e=he.app.backend.io.readString("persistent_"+n);if(null!=e)try{var t=new Xi(e);this.internalData=t.unserialize()}catch(e){Yi.lastError=e,he.app.logger.warning("Failed to read persistent data with id "+n,{fileName:"../../../../ceramic/runtime/src/ceramic/PersistentData.hx",lineNumber:80,className:"ceramic.PersistentData",methodName:"new"})}null==this.internalData&&(this.internalData={})}),Nn=((E["ceramic.PersistentData"]=Hn).__name__="ceramic.PersistentData",Hn.prototype={internalData:null,id:null,get:function(e){return this.internalData[e]},set:function(e,n){this.internalData[e]=n},remove:function(e){K.deleteField(this.internalData,e)},clear:function(){for(var e=0,n=K.fields(this.internalData);e<n.length;){var t=n[e];++e,K.deleteField(this.internalData,t)}},exists:function(e){return Object.prototype.hasOwnProperty.call(this.internalData,e)},keys:function(){return K.fields(this.internalData)},save:function(){var e=new Ki,e=(e.serialize(this.internalData),e.toString());he.app.backend.io.saveString("persistent_"+this.id,e)},__class__:Hn},(E["ceramic.Pixels"]=Kb).__name__="ceramic.Pixels",Kb.copy=function(e,n,t,i,l,r,s,h,a,o,c,u,_,d){null==d&&(d=!0),null==_&&(_=!0),null==u&&(u=!0),null==c&&(c=!0);for(var b=l+s,g=r+h,O=l,f=r,p=a,C=o;f<g;){for(var v=f*n,w=C*i;O<b;){var m=4*(v+O),y=4*(w+p);c&&(t[y]=e[m]),++m,++y,u&&(t[y]=e[m]),++m,++y,_&&(t[y]=e[m]),++m,++y,d&&(t[y]=e[m]),++O,++p}++f,++C,O=l,p=a}},Kb.create=function(e,n,t){for(var i=new Uint8Array(e*n*4),l=0,r=e*n;l<r;){var s=4*l++;i[s]=t>>16&255,i[++s]=t>>8&255,i[++s]=255&t,i[++s]=t>>24&255}return i},Kb.fromBytes=function(e){return new Uint8Array(e.b.bufferValue)},Kb.get=function(e,n,t,i){var i=4*(i*n+t),n=e[i],t=e[1+i],l=e[2+i],r=0,e=e[3+i],i=(0|(((r&65535|(255<n?255:n<0?0:n)<<16)&16711935|(255<t?255:t<0?0:t)<<8)&16776960|(255<l?255:l<0?0:l)))-16777216;return i&16777215|(255<(e=null==e?255:e)?255:e<0?0:e)<<24},Kb.set=function(e,n,t,i,l){i=4*(i*n+t);e[i]=l>>16&255,e[1+i]=l>>8&255,e[2+i]=255&l,e[3+i]=l>>24&255},Kb.setRectangle=function(e,n,t,i,l,r,s){for(var h=0,a=l;h<a;)for(var o=h++,c=0,u=r;c<u;){var _=4*((i+c++)*n+(t+o));e[_]=s>>16&255,e[1+_]=s>>8&255,e[2+_]=255&s,e[3+_]=s>>24&255}},Kb._pixelsToPng=function(e,n,t,i,l){he.app.backend.textures.pixelsToPng(e,n,t,i,l)},Kb.rgbaPixelsToRgbPixels=function(e,n,t,i){for(var l=e*n*3,r=(null==i?i=new Uint8Array(l):i.length!=l&&(he.app.logger.warning("Not reusing outPixels because its length ("+i.length+") does not match the required one: "+l+". Creating a new buffer.",{fileName:"../../../../ceramic/runtime/src/ceramic/Pixels.hx",lineNumber:388,className:"ceramic.Pixels",methodName:"rgbaPixelsToRgbPixels"}),i=new Uint8Array(l)),0),s=e*n;r<s;){var h=r++,a=3*h,h=4*h;i[a]=t[h],++h,i[++a]=t[h],++h,i[++a]=t[h]}return i},Kb.rgbPixelsToRgbaPixels=function(e,n,t,i,l){null==t&&(t=255);for(var r=e*n*4,s=(null==l?l=new Uint8Array(r):l.length!=r&&(he.app.logger.warning("Not reusing outPixels because its length ("+l.length+") does not match the required one: "+r+". Creating a new buffer.",{fileName:"../../../../ceramic/runtime/src/ceramic/Pixels.hx",lineNumber:437,className:"ceramic.Pixels",methodName:"rgbPixelsToRgbaPixels"}),l=new Uint8Array(r)),0),h=e*n;s<h;){var a=s++,o=3*a,a=4*a;l[a]=i[o],++o,l[++a]=i[o],++o,l[++a]=i[o],l[++a]=t}return l},Kb.mixPixelsBuffers=function(e,n,t){null==n&&(n=1);for(var i=e.length,l=e[0].length,r=(null==t&&(t=new Uint8Array(l)),0),s=[],h=1,a=0,o=Math.ceil(.5*i);a<o;)r+=s[a]=h,h*=n,++a;for(a=i-1,h=1;o<=a;)r+=s[a]=h,h*=n,--a;for(var c=0,u=l;c<u;){for(var a=c++,_=0,d=0,b=i;d<b;){var g=d++;_+=e[g][a]*s[g]}t[a]=Math.round(_/r)}return t},Kb.flipY=function(e,n){for(var t=e.length/(4*n)|0,i=0,l=.5*t|0;i<l;)for(var r=i++,s=0,h=n;s<h;){var a,o=s++,c=e[a=4*(r*n+o)],u=e[1+a],_=e[2+a],d=e[3+a];e[a]=e[o=4*((t-1-r)*n+o)],e[1+a]=e[1+o],e[2+a]=e[2+o],e[3+a]=e[3+o],e[o]=c,e[1+o]=u,e[2+o]=_,e[3+o]=d}},Kb.flipX=function(e,n){for(var t=.5*n|0,i=0,l=e.length/(4*n)|0;i<l;)for(var r=i++,s=0,h=t;s<h;){var a,o=s++,c=e[a=4*(r*n+o)],u=e[1+a],_=e[2+a],d=e[3+a];e[a]=e[o=4*(r*n+n-1-o)],e[1+a]=e[1+o],e[2+a]=e[2+o],e[3+a]=e[3+o],e[o]=c,e[1+o]=u,e[2+o]=_,e[3+o]=d}},function(){}),Wn=((E["ceramic.Platform"]=Nn).__name__="ceramic.Platform",Nn.postAppInit=function(){},Nn.readStringFromAsset=function(e){return null},Nn.readBytesFromAsset=function(e){return null},Nn.getAssetsPath=function(){return null},Nn.getRtti=function(e){return bl.getRtti(e)},Nn.nodeRequire=function(e){return null},Nn.quit=function(){ee.app.shutdown()},Nn.runCeramic=function(e,n){var t=Nn.getEnv("CERAMIC_CLI");null==t&&(t=Nn.isWindows()?"ceramic.exe":"ceramic"),he.app.logger.debug("ceramic "+e.join(" "),{fileName:"../../../../ceramic/runtime/src/ceramic/Platform.hx",lineNumber:344,className:"ceramic.Platform",methodName:"runCeramic"}),Nn.exec(t,e,n)},Nn.getEnv=function(e){return null},Nn.isWindows=function(){return!1},Nn.exec=function(e,n,t){Nn.exec__execDidLogError||(Nn.exec__execDidLogError=!0,he.app.logger.error("exec() is not supported on this platform!",{fileName:"../../../../ceramic/runtime/src/ceramic/Platform.hx",lineNumber:470,className:"ceramic.Platform",methodName:"exec"})),t(-1,null,null)},function(){}),zn=((E["ceramic.PremultiplyAlpha"]=Wn).__name__="ceramic.PremultiplyAlpha",Wn.premultiplyAlpha=function(e){for(var n=e.length,t=0;t<n;){var i=e[t],l=e[t+1],r=e[t+2],s=e[t+3]/255;e[t]=i*s|0,e[t+1]=l*s|0,e[t+2]=r*s|0,t+=4}},Wn.reversePremultiplyAlpha=function(e){for(var n=e.length,t=0;t<n;){var i=e[t],l=e[t+1],r=e[t+2],s=e[t+3]/255;0<s&&(e[t]=i/s|0,e[t+1]=l/s|0,e[t+2]=r/s|0),t+=4}},function(e,n){null==n&&(n=-1),this.asset=null,this.wrapT=0,this.wrapS=0,this.filter=wt.LINEAR,this.asRenderTexture=null,this.isRenderTexture=!1,this.index=zn._nextIndex++,j.call(this),-1==n&&(n=he.app.screen.get_texturesDensity()),this.backendItem=e,this.set_density(n)}),Gn=((E["ceramic.Texture"]=zn).__name__="ceramic.Texture",zn.fromPixels=function(e,n,t,i){null==i&&(i=1);e=he.app.backend.textures.createTexture(Math.round(e*i),Math.round(n*i),t);return new zn(e,i)},zn.fromBytes=function(e,n,t,i){null==n&&(n=1),he.app.backend.textures.loadFromBytes(e,Pt.imageTypeFromBytes(e),t,function(e){i(new zn(e,n))})},zn.__super__=j,zn.prototype=$extend(j.prototype,{index:null,isRenderTexture:null,asRenderTexture:null,get_textureId:function(){return this.backendItem.textureId},get_nativeWidth:function(){return this.backendItem.width},get_nativeHeight:function(){return this.backendItem.height},get_nativeWidthActual:function(){return this.backendItem.widthActual},get_nativeHeightActual:function(){return this.backendItem.heightActual},width:null,height:null,density:null,set_density:function(e){return this.density!=e&&(this.density=e,this.width=this.backendItem.width/e,this.height=this.backendItem.height/e),e},filter:null,set_filter:function(e){if(this.filter!=e){this.filter=e;he.app.backend.textures;var n=this.backendItem;switch(e._hx_index){case 0:n.set_filterMin(9729),n.set_filterMag(9729);break;case 1:n.set_filterMin(9728),n.set_filterMag(9728)}}return e},wrapS:null,set_wrapS:function(e){if(this.wrapS!=e){this.wrapS=e;he.app.backend.textures;var n=this.backendItem;switch(e){case 0:n.set_wrapS(33071);break;case 1:n.set_wrapS(10497);break;case 2:n.set_wrapS(33648)}}return e},wrapT:null,set_wrapT:function(e){if(this.wrapT!=e){this.wrapT=e;he.app.backend.textures;var n=this.backendItem;switch(e){case 0:n.set_wrapT(33071);break;case 1:n.set_wrapT(10497);break;case 2:n.set_wrapT(33648)}}return e},setWrap:function(e,n){this.set_wrapS(e),null!=n&&this.set_wrapT(n)},backendItem:null,asset:null,destroy:function(){this._lifecycleState<=-2||(this._lifecycleState=-2,this._lifecycleState=-1,j.prototype.destroy.call(this),null!=this.asset&&this.asset.destroy(),he.app.backend.textures.destroyTexture(this.backendItem),this.backendItem=null)},fetchPixels:function(e){return he.app.backend.textures.fetchTexturePixels(this.backendItem,e)},submitPixels:function(e){he.app.backend.textures.submitTexturePixels(this.backendItem,e)},_toPng:function(e,n,t){he.app.backend.textures.textureToPng(this.backendItem,n=null==n?!0:n,e,t)},toString:function(){var e;return null!=this.id?(e=this.id,"Texture("+(e=z.startsWith(e,"texture:")?se.substr(e,8,null):e)+" "+this.width+" "+this.height+" "+this.density+" #"+this.index+")"):"Texture("+this.width+" "+this.height+" "+this.density+" #"+this.index+")"},__class__:zn,__properties__:$extend(j.prototype.__properties__,{set_wrapT:"set_wrapT",set_wrapS:"set_wrapS",set_filter:"set_filter",set_density:"set_density",get_nativeHeightActual:"get_nativeHeightActual",get_nativeWidthActual:"get_nativeWidthActual",get_nativeHeight:"get_nativeHeight",get_nativeWidth:"get_nativeWidth",get_textureId:"get_textureId"})}),function(e,n,t,i,l,r){null==r&&(r=0),null==l&&(l=!0),null==i&&(i=!0),null==t&&(t=-1),this._initialClearQuad=null,this._renderedOnce=!1,this._usedInRendering=!1,this.incomingEdges=0,this.priority=0,this.dependingTextures=null,this.antialiasing=0,this.stencil=!0,this.depth=!0,this.renderDirty=!1,this.clearOnRender=!0,this.autoRender=!0,-1==t&&(t=he.app.screen.get_texturesDensity()),this.depth=i,this.stencil=l,this.antialiasing=r;var s=he.app.backend.textures,e=Math.round(e*t),n=Math.round(n*t),h="render:"+s.nextRenderIndex++,a=ee.app.runtime.webglVersion,o=new qt,e=(o.id=h,o.width=e,o.height=n,o.depth=i,o.stencil=l,o.antialiasing=2<=a?r:0,o.init(),s.loadedTexturesRetainCount.h[h]=1,o);zn.call(this,e,t),this.isRenderTexture=!0,this.asRenderTexture=this,he.app.renderTextures.push(this),this._initialClearQuad=new p,(s=this._initialClearQuad).set_x(0),s.set_y(0),(s=this._initialClearQuad).set_width(0),s.set_height(0),(s=this._initialClearQuad).flags&=-17,this._initialClearQuad.set_renderTarget(this),this.renderDirty=!0}),Yn=((E["ceramic.RenderTexture"]=Gn).__name__="ceramic.RenderTexture",Gn.__super__=zn,Gn.prototype=$extend(zn.prototype,{autoRender:null,clearOnRender:null,renderDirty:null,depth:null,stencil:null,antialiasing:null,dependingTextures:null,priority:null,incomingEdges:null,_usedInRendering:null,_renderedOnce:null,set__renderedOnce:function(e){return(this._renderedOnce=e)&&null!=this._initialClearQuad&&(this._initialClearQuad.destroy(),this._initialClearQuad=null),e},_initialClearQuad:null,destroy:function(){this._lifecycleState<=-2||(this._lifecycleState=-2,this._lifecycleState=-1,zn.prototype.destroy.call(this),null!=this._initialClearQuad&&(this._initialClearQuad.destroy(),this._initialClearQuad=null),se.remove(he.app.renderTextures,this))},stamp:function(e,n){this._stamp(e,n)},_stamp:function(n,t){var i=this,l=n.parent,r=n.renderTarget,s=n.visible;null!=l&&l.remove(n),n.set_renderTarget(this),n.set_visible(!0),he.app.oncePreUpdate(this,function(e){i.renderDirty=!0,he.app.onceFinishDraw(i,function(){n.set_visible(s),n.set_renderTarget(r),null!=l&&(l.add(n),l=null),r=n=null,t(),t=null})})},clear:function(e,n,t,i,l,r,s){var h;null==r&&(r=-1),null==l&&(l=-1),null==i&&(i=-1),null==t&&(t=-1),null==n&&(n=0),null==e&&(e=16777215),null==Gn._clearQuad&&(Gn._clearQuad=new p,Gn._clearQuad.set_active(!1),Gn._clearQuad.set_blending(4),(h=Gn._clearQuad).set_anchorX(0),h.set_anchorY(0)),Gn._clearQuad.color=e,Gn._clearQuad.set_alpha(n),Gn._clearQuad.set_depth(-1),-1!=t&&-1!=i&&-1!=l&&-1!=r?((h=Gn._clearQuad).set_width(l),h.set_height(r),(h=Gn._clearQuad).set_x(t),h.set_y(i)):(h=Gn._clearQuad,e=this.height,h.set_width(this.width),h.set_height(e),(h=Gn._clearQuad).set_x(0),h.set_y(0)),this.stamp(Gn._clearQuad,s)},dependsOnTexture:function(e){return null!=this.dependingTextures&&0<(null!=(e=this.dependingTextures.intMap.h[0|e.index])?e:0)},dependsOnTextureCount:function(e){return null!=this.dependingTextures&&null!=(e=this.dependingTextures.intMap.h[0|e.index])?e:0},incrementDependingTextureCount:function(e){null==this.dependingTextures&&(this.dependingTextures=new ze);var n=this.dependingTextures.intMap.h[0|e.index];this.dependingTextures.set(e.index,(null!=n?n:0)+1)},resetDependingTextureCounts:function(){null!=this.dependingTextures&&this.dependingTextures.clear()},toString:function(){var e;return null!=this.id?(e=this.id,"RenderTexture("+(e=z.startsWith(e,"texture:")?se.substr(e,8,null):e)+" "+this.width+" "+this.height+" "+this.density+" #"+this.index+"/"+this.priority+")"):"RenderTexture("+this.width+" "+this.height+" "+this.density+" #"+this.index+"/"+this.priority+")"},__class__:Gn,__properties__:$extend(zn.prototype.__properties__,{set__renderedOnce:"set__renderedOnce"})}),function(){this.lastWireframe=!1,this.zPerRenderTarget=new mn,this.usedRenderTarget=null,this.activeShaderCanBatchMultipleTextures=!1,this.maxUsableTexturesInBatch=-1,this.usedTextures=0,this.usedTextureIndexes=[],this.z=0,this.stateDirty=!0,this.mesh=null,this.quad=null,this.defaultWhiteTexture=null,this.defaultTexturedShader=null,this.texHeightActual=0,this.texWidthActual=0,this.texHeight=0,this.texWidth=0,this.activeTextureSlot=0,this.lastClipIsRegular=!1,this.lastClip=null,this.lastComputedBlending=1,this.lastRenderTarget=null,this.lastShader=null,this.lastTextureId=null,this.lastTexture=null,this.stencilClip=!1,this.customFloatAttributesSize=0,this.activeShader=null,this.drawCalls=0,j.call(this)}),Kn=((E["ceramic.Renderer"]=Yn).__name__="ceramic.Renderer",Yn.__super__=j,Yn.prototype=$extend(j.prototype,{drawCalls:null,activeShader:null,customFloatAttributesSize:null,stencilClip:null,lastTexture:null,lastTextureId:null,lastShader:null,lastRenderTarget:null,lastComputedBlending:null,lastClip:null,lastClipIsRegular:null,activeTextureSlot:null,backendTextures:null,backendShaders:null,texWidth:null,texHeight:null,texWidthActual:null,texHeightActual:null,defaultTexturedShader:null,defaultWhiteTexture:null,quad:null,mesh:null,stateDirty:null,z:null,usedTextureIndexes:null,usedTextures:null,maxUsableTexturesInBatch:null,activeShaderCanBatchMultipleTextures:null,usedRenderTarget:null,zPerRenderTarget:null,lastWireframe:null,render:function(e,n){var t=he.app.backend.draw;for(this.backendTextures=he.app.backend.textures,this.backendShaders=he.app.backend.shaders,this.defaultTexturedShader=he.app.defaultTexturedShader.backendItem,this.defaultWhiteTexture=he.app.defaultWhiteTexture,this.maxUsableTexturesInBatch=0|Math.min(this.backendTextures.maxTexturesByBatch(),this.backendShaders.maxIfStatementsByFragmentShader());this.usedTextureIndexes.length<this.maxUsableTexturesInBatch;)this.usedTextureIndexes.push(0);this.usedRenderTarget=null,this.zPerRenderTarget.clear(),this.drawCalls=0,Z._activeTextureSlot=0;(h=Z._batcher)._buffersIndex=-1,h.prepareNextBuffers();for(var i=he.app.defaultWhiteTexture.backendItem,l=(ti.defaultTextureId=i.textureId,this.quad=null,this.mesh=null,this.lastTexture=null,this.lastTextureId=null,this.lastShader=null,this.lastRenderTarget=null,this.lastComputedBlending=1,this.lastWireframe=!1,this.lastClip=null,this.usedTextures=0,this.texWidth=0,this.texHeight=0,this.texWidthActual=0,this.texHeightActual=0,this.stencilClip=!1,this.z=0,this.stateDirty=!0,he.app.defaultTexturedShader.backendItem,he.app.renderTextures),r=0,s=l.length;r<s;)(_=l[r++])._usedInRendering=!1,_.autoRender&&(_.renderDirty=!0);var h=Z._batcher,h=(ne.gl.enableVertexAttribArray(0),ne.gl.enableVertexAttribArray(1),ne.gl.enableVertexAttribArray(2),this.usedTextures=this.maxUsableTexturesInBatch,this.unbindUsedTextures(t),Z._activeTextureSlot=0,Z._batcher);if(0!=(h=ee._graphics)._activeTextureSlot){for(h._activeTextureSlot=0;h._boundTexture2D.length<=h._activeTextureSlot;)h._boundTexture2D.push(null);ne.gl.activeTexture(33984)}this.activeTextureSlot=0,t.setRenderTarget(null,!0);var i=he.app.settings.get_background(),h=Z._batcher,h=(ee._graphics.clear((i>>16&255)/255,(i>>8&255)/255,(255&i)/255,1,!1),null!=Z._currentRenderTarget&&(Z._didUpdateCurrentRenderTarget=!0),Z._batcher),h=ee._graphics,h=(ne.gl.enable(3042),this.activeShader=null,this.lastShader=null,this.useShader(t,null),Z._batcher),h=ee._graphics,h=(ne.gl.blendFuncSeparate(1,771,1,771),this.lastComputedBlending=1,Z._batcher);if(ne.gl.stencilFunc(519,1,255),ne.gl.stencilMask(255),ne.gl.colorMask(!0,!0,!0,!0),ne.gl.disable(2960),null!=n){for(r=0,s=n.length;r<s;){var a,o=n[r++],c=o.asQuad,u=o.asMesh;o.computedVisible&&(null==o.computedRenderTarget||o.computedRenderTarget.renderDirty)&&((a=o.computedClip)!=this.lastClip&&(this.flush(t),this.unbindUsedTextures(t),this.stateDirty=!0,null!=this.lastClip&&(this.lastClipIsRegular?(h=Z._batcher,ne.gl.disable(3089)):(this.lastRenderTarget=this.lastClip.computedRenderTarget,this.useRenderTarget(t,this.lastRenderTarget),Z._batcher,ne.gl.stencilFunc(519,1,255),ne.gl.stencilMask(255),ne.gl.colorMask(!0,!0,!0,!0),ne.gl.disable(2960))),this.lastClip=a,null!=this.lastClip)&&(this.lastRenderTarget=this.lastClip.computedRenderTarget,this.useRenderTarget(t,this.lastRenderTarget),null!=this.lastClip.asQuad&&this.lastClip.asQuad.isRegular()?(this.lastClipIsRegular=!0,this.scissorWithQuad(t,this.lastClip.asQuad)):(this.lastClipIsRegular=!1,Z._drawingInStencilBuffer=!0,Z._batcher,ne.gl.stencilMask(255),ne.gl.clearStencil(255),ne.gl.clear(1024),ne.gl.enable(2960),ne.gl.stencilOp(7680,7680,7681),ne.gl.stencilFunc(519,1,255),ne.gl.stencilMask(255),ne.gl.colorMask(!1,!1,!1,!1),null!=this.lastClip.asQuad?(c=this.lastClip.asQuad,this.stencilClip=!0,this.drawQuad(t,c),this.stencilClip=!1,c=o.asQuad):null!=this.lastClip.asMesh&&(u=this.lastClip.asMesh,this.stencilClip=!0,this.drawMesh(t,u),this.stencilClip=!1,u=o.asMesh),this.flush(t),this.unbindUsedTextures(t),this.stateDirty=!0,Z._drawingInStencilBuffer=!1,Z._batcher,ne.gl.stencilFunc(514,1,255),ne.gl.stencilMask(0),ne.gl.colorMask(!0,!0,!0,!0),ne.gl.enable(2960))),null!=c&&16!=(16&c.flags)?this.drawQuad(t,c):null!=u&&this.drawMesh(t,u))}this.flush(t),this.unbindUsedTextures(t),this.stateDirty=!0}for(var _,r=0,s=(l=he.app.renderTextures).length;r<s;)(_=l[r++]).renderDirty=!1;Z._activeTextureSlot=0;h=Z._batcher;if(0!=(h=ee._graphics)._activeTextureSlot){for(h._activeTextureSlot=0;h._boundTexture2D.length<=h._activeTextureSlot;)h._boundTexture2D.push(null);ne.gl.activeTexture(33984)}this.activeTextureSlot=0,t.setRenderTarget(null,!0);h=Z._batcher,h=ee._graphics,ne.gl.enable(3042),this.activeShader=null,this.lastShader=null,this.useShader(t,null),this.lastClipIsRegular&&(h=Z._batcher,ne.gl.disable(3089)),h=Z._batcher,h=ee._graphics;ne.gl.blendFuncSeparate(1,771,1,771)},drawQuad:function(e,n){var t=this;this.stencilClip?(this.unbindUsedTextures(e),this.useFirstTextureInBatch(e,null),y=Z._batcher,y=ee._graphics,ne.gl.blendFuncSeparate(1,771,1,771),this.lastComputedBlending=1,this.lastRenderTarget=n.computedRenderTarget,this.useRenderTarget(e,this.lastRenderTarget),this.lastShader=null,this.useShader(e,null),this.stateDirty=!1):(a=null,this.stateDirty||(h=this.computeQuadBlending(n),this.stateDirty=!this.isSameShader(n.shader,this.lastShader)||h!=this.lastComputedBlending||128==(128&n.flags)!=this.lastWireframe||n.computedRenderTarget!=this.lastRenderTarget,this.stateDirty)||n._texture!=this.lastTexture&&(null!=n._texture&&null!=this.lastTexture?n._texture.backendItem.textureId!=this.lastTextureId&&(this.canUseTextureInSameBatch(e,n._texture)?a=n._texture:this.stateDirty=!0):this.canUseTextureInSameBatch(e,n._texture)?a=null!=n._texture?n._texture:this.defaultWhiteTexture:this.stateDirty=!0),this.stateDirty?(t.flush(e),t.unbindUsedTextures(e),t.lastTexture=n._texture,t.lastWireframe=128==(128&n.flags),t.lastWireframe?(t.lastTexture=null,Z._batcher._primitiveType=1):Z._batcher._primitiveType=4,t.useFirstTextureInBatch(e,t.lastTexture),n.computedRenderTarget!=t.lastRenderTarget&&(t.lastRenderTarget=n.computedRenderTarget,t.useRenderTarget(e,t.lastRenderTarget),null!=t.lastClip)&&t.lastClipIsRegular&&t.scissorWithQuad(e,t.lastClip.asQuad),t.lastShader=n.shader,t.useShader(e,null!=t.lastShader?t.lastShader.backendItem:null),t.lastComputedBlending=t.computeQuadBlending(n),t.useBlending(e,t.lastComputedBlending),t.stateDirty=!1):null!=a&&this.useTextureInSameBatch(e,a));((y=Z._batcher)._numPos+4>y._maxVerts||16384<y._numIndices+6)&&(t.flush(e),t.unbindUsedTextures(e),t.lastTexture=n._texture,t.lastWireframe=128==(128&n.flags),t.lastWireframe?(t.lastTexture=null,Z._batcher._primitiveType=1):Z._batcher._primitiveType=4,t.useFirstTextureInBatch(e,t.lastTexture),n.computedRenderTarget!=t.lastRenderTarget&&(t.lastRenderTarget=n.computedRenderTarget,t.useRenderTarget(e,t.lastRenderTarget),null!=t.lastClip)&&t.lastClipIsRegular&&t.scissorWithQuad(e,t.lastClip.asQuad),t.lastShader=n.shader,t.useShader(e,null!=t.lastShader?t.lastShader.backendItem:null),t.lastComputedBlending=t.computeQuadBlending(n),t.useBlending(e,t.lastComputedBlending),t.stateDirty=!1);var i,l,r,s,h=n.get_width(),a=n.get_height(),e=n.matA,o=n.matB,c=n.matC,u=n.matD,_=n.matTX,d=n.matTY,b=this.z,g=this.activeShaderCanBatchMultipleTextures?this.activeTextureSlot:-1;if(0==this.customFloatAttributesSize)-1!=g?(O=Z._batcher._numPos,p=d+o*h+u*a,(y=Z._batcher)._posList[y._posIndex]=f=_+e*h+c*a,y._posList[y._posIndex+1]=p,y._posList[y._posIndex+2]=b,y._posList[y._posIndex+3]=g,y._posIndex+=4,y._numPos++,(y=Z._batcher)._posList[y._posIndex]=_+c*a,y._posList[y._posIndex+1]=d+u*a,y._posList[y._posIndex+2]=b,y._posList[y._posIndex+3]=g,y._posIndex+=4,y._numPos++,(y=Z._batcher)._posList[y._posIndex]=_,y._posList[y._posIndex+1]=d,y._posList[y._posIndex+2]=b,y._posList[y._posIndex+3]=g,y._posIndex+=4,y._numPos++,(y=Z._batcher)._posList[y._posIndex]=_+e*h,y._posList[y._posIndex+1]=d+o*h,y._posList[y._posIndex+2]=b,y._posList[y._posIndex+3]=g,y._posIndex+=4):(O=Z._batcher._numPos,p=d+o*h+u*a,(y=Z._batcher)._posList[y._posIndex]=f=_+e*h+c*a,y._posList[y._posIndex+1]=p,y._posList[y._posIndex+2]=b,y._posIndex+=3,y._numPos++,(y=Z._batcher)._posList[y._posIndex]=_+c*a,y._posList[y._posIndex+1]=d+u*a,y._posList[y._posIndex+2]=b,y._posIndex+=3,y._numPos++,(y=Z._batcher)._posList[y._posIndex]=_,y._posList[y._posIndex+1]=d,y._posList[y._posIndex+2]=b,y._posIndex+=3,y._numPos++,(y=Z._batcher)._posList[y._posIndex]=_+e*h,y._posList[y._posIndex+1]=d+o*h,y._posList[y._posIndex+2]=b,y._posIndex+=3),y._numPos++;else{if(-1!=g){for(var O=Z._batcher._numPos,f=_+e*h+c*a,p=d+o*h+u*a,C=((y=Z._batcher)._posList[y._posIndex]=f,y._posList[y._posIndex+1]=p,y._posList[y._posIndex+2]=b,y._posList[y._posIndex+3]=g,y._posIndex+=4,y._numPos++,0),v=t.customFloatAttributesSize;C<v;){var w=C++;(y=Z._batcher)._posList[y._posIndex+w]=0}(y=Z._batcher)._posIndex+=y._floatAttributesSize;for(C=((y=Z._batcher)._posList[y._posIndex]=_+c*a,y._posList[y._posIndex+1]=d+u*a,y._posList[y._posIndex+2]=b,y._posList[y._posIndex+3]=g,y._posIndex+=4,y._numPos++,0),v=t.customFloatAttributesSize;C<v;){w=C++;(y=Z._batcher)._posList[y._posIndex+w]=0}(y=Z._batcher)._posIndex+=y._floatAttributesSize;for(C=((y=Z._batcher)._posList[y._posIndex]=_,y._posList[y._posIndex+1]=d,y._posList[y._posIndex+2]=b,y._posList[y._posIndex+3]=g,y._posIndex+=4,y._numPos++,0),v=t.customFloatAttributesSize;C<v;){w=C++;(y=Z._batcher)._posList[y._posIndex+w]=0}(y=Z._batcher)._posIndex+=y._floatAttributesSize;for(C=((y=Z._batcher)._posList[y._posIndex]=_+e*h,y._posList[y._posIndex+1]=d+o*h,y._posList[y._posIndex+2]=b,y._posList[y._posIndex+3]=g,y._posIndex+=4,y._numPos++,0),v=t.customFloatAttributesSize;C<v;){w=C++;(y=Z._batcher)._posList[y._posIndex+w]=0}}else{for(O=Z._batcher._numPos,f=_+e*h+c*a,p=d+o*h+u*a,C=((y=Z._batcher)._posList[y._posIndex]=f,y._posList[y._posIndex+1]=p,y._posList[y._posIndex+2]=b,y._posIndex+=3,y._numPos++,0),v=t.customFloatAttributesSize;C<v;){w=C++;(y=Z._batcher)._posList[y._posIndex+w]=0}(y=Z._batcher)._posIndex+=y._floatAttributesSize;for(C=((y=Z._batcher)._posList[y._posIndex]=_+c*a,y._posList[y._posIndex+1]=d+u*a,y._posList[y._posIndex+2]=b,y._posIndex+=3,y._numPos++,0),v=t.customFloatAttributesSize;C<v;){w=C++;(y=Z._batcher)._posList[y._posIndex+w]=0}(y=Z._batcher)._posIndex+=y._floatAttributesSize;for(C=((y=Z._batcher)._posList[y._posIndex]=_,y._posList[y._posIndex+1]=d,y._posList[y._posIndex+2]=b,y._posIndex+=3,y._numPos++,0),v=t.customFloatAttributesSize;C<v;){w=C++;(y=Z._batcher)._posList[y._posIndex+w]=0}(y=Z._batcher)._posIndex+=y._floatAttributesSize;for(C=((y=Z._batcher)._posList[y._posIndex]=_+e*h,y._posList[y._posIndex+1]=d+o*h,y._posList[y._posIndex+2]=b,y._posIndex+=3,y._numPos++,0),v=t.customFloatAttributesSize;C<v;){w=C++;(y=Z._batcher)._posList[y._posIndex+w]=0}}(y=Z._batcher)._posIndex+=y._floatAttributesSize}t.lastWireframe?((y=Z._batcher)._indiceList[y._numIndices]=O,y._numIndices++,(y=Z._batcher)._indiceList[y._numIndices]=O+1,y._numIndices++,(y=Z._batcher)._indiceList[y._numIndices]=O+1,y._numIndices++,(y=Z._batcher)._indiceList[y._numIndices]=O+2,y._numIndices++,(y=Z._batcher)._indiceList[y._numIndices]=O+2,y._numIndices++,(y=Z._batcher)._indiceList[y._numIndices]=O,y._numIndices++,(y=Z._batcher)._indiceList[y._numIndices]=O,y._numIndices++,(y=Z._batcher)._indiceList[y._numIndices]=O+2,y._numIndices++,(y=Z._batcher)._indiceList[y._numIndices]=O+2,y._numIndices++,(y=Z._batcher)._indiceList[y._numIndices]=O+3,y._numIndices++,(y=Z._batcher)._indiceList[y._numIndices]=O+3,y._numIndices++,(y=Z._batcher)._indiceList[y._numIndices]=O):((y=Z._batcher)._indiceList[y._numIndices]=O,y._numIndices++,(y=Z._batcher)._indiceList[y._numIndices]=O+1,y._numIndices++,(y=Z._batcher)._indiceList[y._numIndices]=O+2,y._numIndices++,(y=Z._batcher)._indiceList[y._numIndices]=O,y._numIndices++,(y=Z._batcher)._indiceList[y._numIndices]=O+2,y._numIndices++,(y=Z._batcher)._indiceList[y._numIndices]=O+3),y._numIndices++,this.stencilClip?(i=s=1,r=l=0):(r=3==this.lastComputedBlending?(s=n.computedAlpha,i=(n.color>>16&255)/255,l=(n.color>>8&255)/255,(255&n.color)/255):(s=n.computedAlpha,i=(n.color>>16&255)/255*s,l=(n.color>>8&255)/255*s,(255&n.color)/255*s),2==n.blending&&2!=this.lastComputedBlending&&(s=0));for(var m=0;m<4;)(y=Z._batcher)._colorList[y._colorIndex]=i,y._colorList[y._colorIndex+1]=l,y._colorList[y._colorIndex+2]=r,y._colorList[y._colorIndex+3]=s,y._colorIndex+=4,y._numColors++,++m;var y,g=0,f=0,p=0,c=0;null!=n._texture?(u=this.texWidthActual,a=this.texHeightActual,_=n._texture.density,g=n.frameX*_/u,f=n.frameY*_/a,32==(32&n.flags)?(p=n.frameHeight*_/u,c=n.frameWidth*_/a,(y=Z._batcher)._uvList[y._uvIndex]=g+p,y._uvList[y._uvIndex+1]=f,y._uvIndex+=2,y._numUVs++,(y=Z._batcher)._uvList[y._uvIndex]=g+p,y._uvList[y._uvIndex+1]=f+c,y._uvIndex+=2,y._numUVs++,(y=Z._batcher)._uvList[y._uvIndex]=g,y._uvList[y._uvIndex+1]=f+c,y._uvIndex+=2,y._numUVs++,(y=Z._batcher)._uvList[y._uvIndex]=g):(p=n.frameWidth*_/u,c=n.frameHeight*_/a,(y=Z._batcher)._uvList[y._uvIndex]=g+p,y._uvList[y._uvIndex+1]=f+c,y._uvIndex+=2,y._numUVs++,(y=Z._batcher)._uvList[y._uvIndex]=g,y._uvList[y._uvIndex+1]=f+c,y._uvIndex+=2,y._numUVs++,(y=Z._batcher)._uvList[y._uvIndex]=g,y._uvList[y._uvIndex+1]=f,y._uvIndex+=2,y._numUVs++,(y=Z._batcher)._uvList[y._uvIndex]=g+p),y._uvList[y._uvIndex+1]=f):((y=Z._batcher)._uvList[y._uvIndex]=0,y._uvList[y._uvIndex+1]=0,y._uvIndex+=2,y._numUVs++,(y=Z._batcher)._uvList[y._uvIndex]=0,y._uvList[y._uvIndex+1]=0,y._uvIndex+=2,y._numUVs++,(y=Z._batcher)._uvList[y._uvIndex]=0,y._uvList[y._uvIndex+1]=0,y._uvIndex+=2,y._numUVs++,(y=Z._batcher)._uvList[y._uvIndex]=0,y._uvList[y._uvIndex+1]=0),y._uvIndex+=2,y._numUVs++,this.z=b+b*b*1e-5+1e-5},drawMesh:function(e,n){null!=n.vertices32?null!=n.floatColors?this.drawMeshWithVertices32AndFloatColors(e,n):this.drawMeshWithVertices32(e,n):null!=n.floatColors?this.drawMeshWithVerticesAndFloatColors(e,n):this.drawMeshWithVertices(e,n)},drawMeshWithVertices32:function(e,n){var t,i,l=n.vertices32,r=n.colors,s=this,h=((null!=l?l:null).length,this.stencilClip?(this.unbindUsedTextures(e),this.useFirstTextureInBatch(e,null),S=Z._batcher,S=ee._graphics,ne.gl.blendFuncSeparate(1,771,1,771),this.lastComputedBlending=1,this.lastRenderTarget=n.computedRenderTarget,this.useRenderTarget(e,this.lastRenderTarget),this.lastShader=null,this.useShader(e,null),this.stateDirty=!1):(t=null,this.stateDirty||(i=this.computeMeshBlending(n),this.stateDirty=!this.isSameShader(n.shader,this.lastShader)||i!=this.lastComputedBlending||128==(128&n.flags)!=this.lastWireframe||n.computedRenderTarget!=this.lastRenderTarget,this.stateDirty)||n.texture!=this.lastTexture&&(null!=n.texture&&null!=this.lastTexture?n.texture.backendItem.textureId!=this.lastTextureId&&(this.canUseTextureInSameBatch(e,n.texture)?t=n.texture:this.stateDirty=!0):this.canUseTextureInSameBatch(e,n.texture)?t=null!=n.texture?n.texture:this.defaultWhiteTexture:this.stateDirty=!0),this.stateDirty?(s.flush(e),s.unbindUsedTextures(e),s.lastTexture=n.texture,s.lastWireframe=128==(128&n.flags),s.lastWireframe?(s.lastTexture=null,Z._batcher._primitiveType=1):Z._batcher._primitiveType=4,s.useFirstTextureInBatch(e,s.lastTexture),n.computedRenderTarget!=s.lastRenderTarget&&(s.lastRenderTarget=n.computedRenderTarget,s.useRenderTarget(e,s.lastRenderTarget),null!=s.lastClip)&&s.lastClipIsRegular&&s.scissorWithQuad(e,s.lastClip.asQuad),s.lastShader=n.shader,s.useShader(e,null!=s.lastShader?s.lastShader.backendItem:null),s.lastComputedBlending=s.computeMeshBlending(n),s.useBlending(e,s.lastComputedBlending),s.stateDirty=!1):null!=t&&this.useTextureInSameBatch(e,t)),n.matA),a=n.matB,o=n.matC,c=n.matD,u=n.matTX,_=n.matTY,d=this.z,b=this.activeShaderCanBatchMultipleTextures?this.activeTextureSlot:-1,g=this.stencilClip||0==n.colorMapping,O=!this.stencilClip&&1==n.colorMapping,f=n.uvs,p=n.indices;if(this.lastWireframe){null==(p=n.wireframeIndices)&&(n.wireframeIndices=p=[]),O&&null==(r=n.wireframeColors)&&(n.wireframeColors=r=[]);for(var C=0,v=0;C<n.indices.length;)p[v]=n.indices[C],p[++v]=n.indices[C+1],p[++v]=n.indices[C+1],p[++v]=n.indices[C+2],p[++v]=n.indices[C+2],p[++v]=n.indices[C],++v,O&&(r[v-=6]=n.colors[C],r[++v]=n.colors[C+1],r[++v]=n.colors[C+1],r[++v]=n.colors[C+2],r[++v]=n.colors[C+2],r[++v]=n.colors[C],++v),C+=3;if(p.length>v&&p.length!=v)if(p.length>v)p.splice(v,p.length-v);else for(var E=p;E.length<v;)E.push(null)}var w=p.length,L=this.customFloatAttributesSize,V=n.customFloatAttributesSize,R=0,H=null!=n.texture&&n.texture.isRenderTexture,m=w,N=(((S=Z._batcher)._numPos+w>S._maxVerts||16384<S._numIndices+w)&&(s.flush(e),s.unbindUsedTextures(e),s.lastTexture=n.texture,s.lastWireframe=128==(128&n.flags),s.lastWireframe?(s.lastTexture=null,Z._batcher._primitiveType=1):Z._batcher._primitiveType=4,s.useFirstTextureInBatch(e,s.lastTexture),n.computedRenderTarget!=s.lastRenderTarget&&(s.lastRenderTarget=n.computedRenderTarget,s.useRenderTarget(e,s.lastRenderTarget),null!=s.lastClip)&&s.lastClipIsRegular&&s.scissorWithQuad(e,s.lastClip.asQuad),s.lastShader=n.shader,s.useShader(e,null!=s.lastShader?s.lastShader.backendItem:null),s.lastComputedBlending=s.computeMeshBlending(n),s.useBlending(e,s.lastComputedBlending),s.stateDirty=!1,b=this.activeShaderCanBatchMultipleTextures?this.activeTextureSlot:-1,w>(S=Z._batcher)._maxVerts-S._numPos||w>16384-Z._batcher._numIndices)&&(S=Z._batcher,m=0|Math.min(S._maxVerts-S._numPos,16384-Z._batcher._numIndices),m=this.lastWireframe?6*(m/6|0):3*(m/3|0)),n.texture),W=0,z=0;for(null!=N&&(W=this.texWidth/this.texWidthActual,z=this.texHeight/this.texHeightActual);;){for(var y,U=0,D=0,T=0,x=0,C=(g&&(s.stencilClip?(D=U=1,x=T=0):(x=3==s.lastComputedBlending?(y=r[0],U=n.computedAlpha*((y>>24&255)/255),D=(y>>16&255)/255,T=(y>>8&255)/255,(255&y)/255):(D=((y=r[0])>>16&255)/255*(U=n.computedAlpha*((y>>24&255)/255)),T=(y>>8&255)/255*U,(255&y)/255*U),2==n.blending&&2!=s.lastComputedBlending&&(U=0))),R),G=Z._batcher._numPos;C<m;){var S,A,k=p[C],I=2*k,P=k*(2+V),F=P++,F=(null!=l?l:null)[F],B=P++,B=(null!=l?l:null)[B],B=((S=Z._batcher)._indiceList[S._numIndices]=G,S._numIndices++,++G,-1!=b?((A=Z._batcher)._posList[A._posIndex]=u+h*F+o*B,A._posList[A._posIndex+1]=_+a*F+c*B,A._posList[A._posIndex+2]=d,A._posList[A._posIndex+3]=b,A._posIndex+=4,A._numPos++):((A=Z._batcher)._posList[A._posIndex]=u+h*F+o*B,A._posList[A._posIndex+1]=_+a*F+c*B,A._posList[A._posIndex+2]=d,A._posIndex+=3,A._numPos++),g||(F=O?r[C]:r[k],x=H||3==s.lastComputedBlending?(U=n.computedAlpha*((F>>24&255)/255),D=(F>>16&255)/255,T=(F>>8&255)/255,(255&F)/255):(D=(F>>16&255)/255*(U=n.computedAlpha*((F>>24&255)/255)),T=(F>>8&255)/255*U,(255&F)/255*U),2==n.blending&&2!=s.lastComputedBlending&&(U=0)),Z._batcher);if(B._colorList[B._colorIndex]=D,B._colorList[B._colorIndex+1]=T,B._colorList[B._colorIndex+2]=x,B._colorList[B._colorIndex+3]=U,B._colorIndex+=4,B._numColors++,null!=N?(k=f[I]*W,F=f[1+I]*z,(B=Z._batcher)._uvList[B._uvIndex]=k,B._uvList[B._uvIndex+1]=F,B._uvIndex+=2,B._numUVs++):((I=Z._batcher)._uvList[I._uvIndex]=0,I._uvList[I._uvIndex+1]=0,I._uvIndex+=2,I._numUVs++),0!=L){for(var Y,M,K=0,X=L;K<X;)(v=K++)<V?(Y=P++,(M=Z._batcher)._posList[M._posIndex+v]=(null!=l?l:null)[Y]):(M=Z._batcher)._posList[M._posIndex+v]=0;k=Z._batcher;k._posIndex+=k._floatAttributesSize}++C}if(m==w)break;s.flush(e),s.unbindUsedTextures(e),s.lastTexture=n.texture,s.lastWireframe=128==(128&n.flags),s.lastWireframe?(s.lastTexture=null,Z._batcher._primitiveType=1):Z._batcher._primitiveType=4,s.useFirstTextureInBatch(e,s.lastTexture),n.computedRenderTarget!=s.lastRenderTarget&&(s.lastRenderTarget=n.computedRenderTarget,s.useRenderTarget(e,s.lastRenderTarget),null!=s.lastClip)&&s.lastClipIsRegular&&s.scissorWithQuad(e,s.lastClip.asQuad),s.lastShader=n.shader,s.useShader(e,null!=s.lastShader?s.lastShader.backendItem:null),s.lastComputedBlending=s.computeMeshBlending(n),s.useBlending(e,s.lastComputedBlending),s.stateDirty=!1,b=s.activeShaderCanBatchMultipleTextures?s.activeTextureSlot:-1;var R=m,$=Z._batcher;m=R+(0|Math.min($._maxVerts-$._numPos,16384-Z._batcher._numIndices)),w<(m=s.lastWireframe?6*(m/6|0):3*(m/3|0))&&(m=w)}this.z=d+d*d*1e-5+1e-5},drawMeshWithVertices32AndFloatColors:function(e,n){var t,i,l=n.vertices32,r=null,s=n.floatColors,h=this,a=((null!=l?l:null).length,this.stencilClip?(this.unbindUsedTextures(e),this.useFirstTextureInBatch(e,null),S=Z._batcher,S=ee._graphics,ne.gl.blendFuncSeparate(1,771,1,771),this.lastComputedBlending=1,this.lastRenderTarget=n.computedRenderTarget,this.useRenderTarget(e,this.lastRenderTarget),this.lastShader=null,this.useShader(e,null),this.stateDirty=!1):(t=null,this.stateDirty||(i=this.computeMeshBlending(n),this.stateDirty=!this.isSameShader(n.shader,this.lastShader)||i!=this.lastComputedBlending||128==(128&n.flags)!=this.lastWireframe||n.computedRenderTarget!=this.lastRenderTarget,this.stateDirty)||n.texture!=this.lastTexture&&(null!=n.texture&&null!=this.lastTexture?n.texture.backendItem.textureId!=this.lastTextureId&&(this.canUseTextureInSameBatch(e,n.texture)?t=n.texture:this.stateDirty=!0):this.canUseTextureInSameBatch(e,n.texture)?t=null!=n.texture?n.texture:this.defaultWhiteTexture:this.stateDirty=!0),this.stateDirty?(h.flush(e),h.unbindUsedTextures(e),h.lastTexture=n.texture,h.lastWireframe=128==(128&n.flags),h.lastWireframe?(h.lastTexture=null,Z._batcher._primitiveType=1):Z._batcher._primitiveType=4,h.useFirstTextureInBatch(e,h.lastTexture),n.computedRenderTarget!=h.lastRenderTarget&&(h.lastRenderTarget=n.computedRenderTarget,h.useRenderTarget(e,h.lastRenderTarget),null!=h.lastClip)&&h.lastClipIsRegular&&h.scissorWithQuad(e,h.lastClip.asQuad),h.lastShader=n.shader,h.useShader(e,null!=h.lastShader?h.lastShader.backendItem:null),h.lastComputedBlending=h.computeMeshBlending(n),h.useBlending(e,h.lastComputedBlending),h.stateDirty=!1):null!=t&&this.useTextureInSameBatch(e,t)),n.matA),o=n.matB,c=n.matC,u=n.matD,_=n.matTX,d=n.matTY,b=this.z,g=this.activeShaderCanBatchMultipleTextures?this.activeTextureSlot:-1,O=this.stencilClip||0==n.colorMapping,f=!this.stencilClip&&1==n.colorMapping,E=n.uvs,p=n.indices;if(this.lastWireframe){null==(p=n.wireframeIndices)&&(n.wireframeIndices=p=[]),f&&null==(r=n.wireframeColors)&&(n.wireframeColors=r=[]);for(var C=0,v=0;C<n.indices.length;)p[v]=n.indices[C],p[++v]=n.indices[C+1],p[++v]=n.indices[C+1],p[++v]=n.indices[C+2],p[++v]=n.indices[C+2],p[++v]=n.indices[C],++v,f&&(r[v-=6]=n.colors[C],r[++v]=n.colors[C+1],r[++v]=n.colors[C+1],r[++v]=n.colors[C+2],r[++v]=n.colors[C+2],r[++v]=n.colors[C],++v),C+=3;if(p.length>v&&p.length!=v)if(p.length>v)p.splice(v,p.length-v);else for(var L=p;L.length<v;)L.push(null)}var w=p.length,V=this.customFloatAttributesSize,R=n.customFloatAttributesSize,H=0,N=null!=n.texture&&n.texture.isRenderTexture,m=w,W=(((S=Z._batcher)._numPos+w>S._maxVerts||16384<S._numIndices+w)&&(h.flush(e),h.unbindUsedTextures(e),h.lastTexture=n.texture,h.lastWireframe=128==(128&n.flags),h.lastWireframe?(h.lastTexture=null,Z._batcher._primitiveType=1):Z._batcher._primitiveType=4,h.useFirstTextureInBatch(e,h.lastTexture),n.computedRenderTarget!=h.lastRenderTarget&&(h.lastRenderTarget=n.computedRenderTarget,h.useRenderTarget(e,h.lastRenderTarget),null!=h.lastClip)&&h.lastClipIsRegular&&h.scissorWithQuad(e,h.lastClip.asQuad),h.lastShader=n.shader,h.useShader(e,null!=h.lastShader?h.lastShader.backendItem:null),h.lastComputedBlending=h.computeMeshBlending(n),h.useBlending(e,h.lastComputedBlending),h.stateDirty=!1,g=this.activeShaderCanBatchMultipleTextures?this.activeTextureSlot:-1,w>(S=Z._batcher)._maxVerts-S._numPos||w>16384-Z._batcher._numIndices)&&(S=Z._batcher,m=0|Math.min(S._maxVerts-S._numPos,16384-Z._batcher._numIndices),m=this.lastWireframe?6*(m/6|0):3*(m/3|0)),n.texture),z=0,G=0;for(null!=W&&(z=this.texWidth/this.texWidthActual,G=this.texHeight/this.texHeightActual);;){for(var y,U=0,D=0,T=0,x=0,C=(O&&(h.stencilClip?(D=U=1,x=T=0):(x=null!=s?(U=n.computedAlpha*s[3],D=s[0],T=s[1],s[2]):3==h.lastComputedBlending?(y=r[0],U=n.computedAlpha*((y>>24&255)/255),D=(y>>16&255)/255,T=(y>>8&255)/255,(255&y)/255):(D=((y=r[0])>>16&255)/255*(U=n.computedAlpha*((y>>24&255)/255)),T=(y>>8&255)/255*U,(255&y)/255*U),2==n.blending&&2!=h.lastComputedBlending&&(U=0))),H),Y=Z._batcher._numPos;C<m;){var S,A,k=p[C],I=2*k,P=k*(2+R),F=P++,F=(null!=l?l:null)[F],B=P++,B=(null!=l?l:null)[B],F=((S=Z._batcher)._indiceList[S._numIndices]=Y,S._numIndices++,++Y,-1!=g?((A=Z._batcher)._posList[A._posIndex]=_+a*F+c*B,A._posList[A._posIndex+1]=d+o*F+u*B,A._posList[A._posIndex+2]=b,A._posList[A._posIndex+3]=g,A._posIndex+=4,A._numPos++):((A=Z._batcher)._posList[A._posIndex]=_+a*F+c*B,A._posList[A._posIndex+1]=d+o*F+u*B,A._posList[A._posIndex+2]=b,A._posIndex+=3,A._numPos++),O||(x=null!=s?(F=4*(f?C:k),N||3==h.lastComputedBlending?(U=n.computedAlpha*s[3+F],D=s[F],T=s[1+F],s[2+F]):(U=n.computedAlpha*s[3+F],D=s[F]*U,T=s[1+F]*U,s[2+F]*U)):(B=f?r[C]:r[k],N||3==h.lastComputedBlending?(U=n.computedAlpha*((B>>24&255)/255),D=(B>>16&255)/255,T=(B>>8&255)/255,(255&B)/255):(D=(B>>16&255)/255*(U=n.computedAlpha*((B>>24&255)/255)),T=(B>>8&255)/255*U,(255&B)/255*U)),2==n.blending&&2!=h.lastComputedBlending&&(U=0)),Z._batcher);if(F._colorList[F._colorIndex]=D,F._colorList[F._colorIndex+1]=T,F._colorList[F._colorIndex+2]=x,F._colorList[F._colorIndex+3]=U,F._colorIndex+=4,F._numColors++,null!=W?(k=E[I]*z,B=E[1+I]*G,(F=Z._batcher)._uvList[F._uvIndex]=k,F._uvList[F._uvIndex+1]=B,F._uvIndex+=2,F._numUVs++):((I=Z._batcher)._uvList[I._uvIndex]=0,I._uvList[I._uvIndex+1]=0,I._uvIndex+=2,I._numUVs++),0!=V){for(var K,M,X=0,$=V;X<$;)(v=X++)<R?(K=P++,(M=Z._batcher)._posList[M._posIndex+v]=(null!=l?l:null)[K]):(M=Z._batcher)._posList[M._posIndex+v]=0;k=Z._batcher;k._posIndex+=k._floatAttributesSize}++C}if(m==w)break;h.flush(e),h.unbindUsedTextures(e),h.lastTexture=n.texture,h.lastWireframe=128==(128&n.flags),h.lastWireframe?(h.lastTexture=null,Z._batcher._primitiveType=1):Z._batcher._primitiveType=4,h.useFirstTextureInBatch(e,h.lastTexture),n.computedRenderTarget!=h.lastRenderTarget&&(h.lastRenderTarget=n.computedRenderTarget,h.useRenderTarget(e,h.lastRenderTarget),null!=h.lastClip)&&h.lastClipIsRegular&&h.scissorWithQuad(e,h.lastClip.asQuad),h.lastShader=n.shader,h.useShader(e,null!=h.lastShader?h.lastShader.backendItem:null),h.lastComputedBlending=h.computeMeshBlending(n),h.useBlending(e,h.lastComputedBlending),h.stateDirty=!1,g=h.activeShaderCanBatchMultipleTextures?h.activeTextureSlot:-1;var H=m,j=Z._batcher;m=H+(0|Math.min(j._maxVerts-j._numPos,16384-Z._batcher._numIndices)),w<(m=h.lastWireframe?6*(m/6|0):3*(m/3|0))&&(m=w)}this.z=b+b*b*1e-5+1e-5},drawMeshWithVertices:function(e,n){var t,i,l=n.vertices,r=n.colors,s=this,h=(l.length,this.stencilClip?(this.unbindUsedTextures(e),this.useFirstTextureInBatch(e,null),S=Z._batcher,S=ee._graphics,ne.gl.blendFuncSeparate(1,771,1,771),this.lastComputedBlending=1,this.lastRenderTarget=n.computedRenderTarget,this.useRenderTarget(e,this.lastRenderTarget),this.lastShader=null,this.useShader(e,null),this.stateDirty=!1):(t=null,this.stateDirty||(i=this.computeMeshBlending(n),this.stateDirty=!this.isSameShader(n.shader,this.lastShader)||i!=this.lastComputedBlending||128==(128&n.flags)!=this.lastWireframe||n.computedRenderTarget!=this.lastRenderTarget,this.stateDirty)||n.texture!=this.lastTexture&&(null!=n.texture&&null!=this.lastTexture?n.texture.backendItem.textureId!=this.lastTextureId&&(this.canUseTextureInSameBatch(e,n.texture)?t=n.texture:this.stateDirty=!0):this.canUseTextureInSameBatch(e,n.texture)?t=null!=n.texture?n.texture:this.defaultWhiteTexture:this.stateDirty=!0),this.stateDirty?(s.flush(e),s.unbindUsedTextures(e),s.lastTexture=n.texture,s.lastWireframe=128==(128&n.flags),s.lastWireframe?(s.lastTexture=null,Z._batcher._primitiveType=1):Z._batcher._primitiveType=4,s.useFirstTextureInBatch(e,s.lastTexture),n.computedRenderTarget!=s.lastRenderTarget&&(s.lastRenderTarget=n.computedRenderTarget,s.useRenderTarget(e,s.lastRenderTarget),null!=s.lastClip)&&s.lastClipIsRegular&&s.scissorWithQuad(e,s.lastClip.asQuad),s.lastShader=n.shader,s.useShader(e,null!=s.lastShader?s.lastShader.backendItem:null),s.lastComputedBlending=s.computeMeshBlending(n),s.useBlending(e,s.lastComputedBlending),s.stateDirty=!1):null!=t&&this.useTextureInSameBatch(e,t)),n.matA),a=n.matB,o=n.matC,c=n.matD,u=n.matTX,_=n.matTY,d=this.z,b=this.activeShaderCanBatchMultipleTextures?this.activeTextureSlot:-1,g=this.stencilClip||0==n.colorMapping,O=!this.stencilClip&&1==n.colorMapping,f=n.uvs,p=n.indices;if(this.lastWireframe){null==(p=n.wireframeIndices)&&(n.wireframeIndices=p=[]),O&&null==(r=n.wireframeColors)&&(n.wireframeColors=r=[]);for(var C=0,v=0;C<n.indices.length;)p[v]=n.indices[C],p[++v]=n.indices[C+1],p[++v]=n.indices[C+1],p[++v]=n.indices[C+2],p[++v]=n.indices[C+2],p[++v]=n.indices[C],++v,O&&(r[v-=6]=n.colors[C],r[++v]=n.colors[C+1],r[++v]=n.colors[C+1],r[++v]=n.colors[C+2],r[++v]=n.colors[C+2],r[++v]=n.colors[C],++v),C+=3;if(p.length>v&&p.length!=v)if(p.length>v)p.splice(v,p.length-v);else for(var E=p;E.length<v;)E.push(null)}var w=p.length,L=this.customFloatAttributesSize,V=n.customFloatAttributesSize,R=0,H=null!=n.texture&&n.texture.isRenderTexture,m=w,N=(((S=Z._batcher)._numPos+w>S._maxVerts||16384<S._numIndices+w)&&(s.flush(e),s.unbindUsedTextures(e),s.lastTexture=n.texture,s.lastWireframe=128==(128&n.flags),s.lastWireframe?(s.lastTexture=null,Z._batcher._primitiveType=1):Z._batcher._primitiveType=4,s.useFirstTextureInBatch(e,s.lastTexture),n.computedRenderTarget!=s.lastRenderTarget&&(s.lastRenderTarget=n.computedRenderTarget,s.useRenderTarget(e,s.lastRenderTarget),null!=s.lastClip)&&s.lastClipIsRegular&&s.scissorWithQuad(e,s.lastClip.asQuad),s.lastShader=n.shader,s.useShader(e,null!=s.lastShader?s.lastShader.backendItem:null),s.lastComputedBlending=s.computeMeshBlending(n),s.useBlending(e,s.lastComputedBlending),s.stateDirty=!1,b=this.activeShaderCanBatchMultipleTextures?this.activeTextureSlot:-1,w>(S=Z._batcher)._maxVerts-S._numPos||w>16384-Z._batcher._numIndices)&&(S=Z._batcher,m=0|Math.min(S._maxVerts-S._numPos,16384-Z._batcher._numIndices),m=this.lastWireframe?6*(m/6|0):3*(m/3|0)),n.texture),W=0,z=0;for(null!=N&&(W=this.texWidth/this.texWidthActual,z=this.texHeight/this.texHeightActual);;){for(var y,U=0,D=0,T=0,x=0,C=(g&&(s.stencilClip?(D=U=1,x=T=0):(x=3==s.lastComputedBlending?(y=r[0],U=n.computedAlpha*((y>>24&255)/255),D=(y>>16&255)/255,T=(y>>8&255)/255,(255&y)/255):(D=((y=r[0])>>16&255)/255*(U=n.computedAlpha*((y>>24&255)/255)),T=(y>>8&255)/255*U,(255&y)/255*U),2==n.blending&&2!=s.lastComputedBlending&&(U=0))),R),G=Z._batcher._numPos;C<m;){var S,A,k=p[C],I=2*k,P=k*(2+V),F=P++,F=l[F],B=P++,B=l[B],B=((S=Z._batcher)._indiceList[S._numIndices]=G,S._numIndices++,++G,-1!=b?((A=Z._batcher)._posList[A._posIndex]=u+h*F+o*B,A._posList[A._posIndex+1]=_+a*F+c*B,A._posList[A._posIndex+2]=d,A._posList[A._posIndex+3]=b,A._posIndex+=4,A._numPos++):((A=Z._batcher)._posList[A._posIndex]=u+h*F+o*B,A._posList[A._posIndex+1]=_+a*F+c*B,A._posList[A._posIndex+2]=d,A._posIndex+=3,A._numPos++),g||(F=O?r[C]:r[k],x=H||3==s.lastComputedBlending?(U=n.computedAlpha*((F>>24&255)/255),D=(F>>16&255)/255,T=(F>>8&255)/255,(255&F)/255):(D=(F>>16&255)/255*(U=n.computedAlpha*((F>>24&255)/255)),T=(F>>8&255)/255*U,(255&F)/255*U),2==n.blending&&2!=s.lastComputedBlending&&(U=0)),Z._batcher);if(B._colorList[B._colorIndex]=D,B._colorList[B._colorIndex+1]=T,B._colorList[B._colorIndex+2]=x,B._colorList[B._colorIndex+3]=U,B._colorIndex+=4,B._numColors++,null!=N?(k=f[I]*W,F=f[1+I]*z,(B=Z._batcher)._uvList[B._uvIndex]=k,B._uvList[B._uvIndex+1]=F,B._uvIndex+=2,B._numUVs++):((I=Z._batcher)._uvList[I._uvIndex]=0,I._uvList[I._uvIndex+1]=0,I._uvIndex+=2,I._numUVs++),0!=L){for(var Y,M,K=0,X=L;K<X;)(v=K++)<V?(Y=P++,(M=Z._batcher)._posList[M._posIndex+v]=l[Y]):(M=Z._batcher)._posList[M._posIndex+v]=0;k=Z._batcher;k._posIndex+=k._floatAttributesSize}++C}if(m==w)break;s.flush(e),s.unbindUsedTextures(e),s.lastTexture=n.texture,s.lastWireframe=128==(128&n.flags),s.lastWireframe?(s.lastTexture=null,Z._batcher._primitiveType=1):Z._batcher._primitiveType=4,s.useFirstTextureInBatch(e,s.lastTexture),n.computedRenderTarget!=s.lastRenderTarget&&(s.lastRenderTarget=n.computedRenderTarget,s.useRenderTarget(e,s.lastRenderTarget),null!=s.lastClip)&&s.lastClipIsRegular&&s.scissorWithQuad(e,s.lastClip.asQuad),s.lastShader=n.shader,s.useShader(e,null!=s.lastShader?s.lastShader.backendItem:null),s.lastComputedBlending=s.computeMeshBlending(n),s.useBlending(e,s.lastComputedBlending),s.stateDirty=!1,b=s.activeShaderCanBatchMultipleTextures?s.activeTextureSlot:-1;var R=m,$=Z._batcher;m=R+(0|Math.min($._maxVerts-$._numPos,16384-Z._batcher._numIndices)),w<(m=s.lastWireframe?6*(m/6|0):3*(m/3|0))&&(m=w)}this.z=d+d*d*1e-5+1e-5},drawMeshWithVerticesAndFloatColors:function(e,n){var t,i,l=n.vertices,r=null,s=n.floatColors,h=this,a=(l.length,this.stencilClip?(this.unbindUsedTextures(e),this.useFirstTextureInBatch(e,null),S=Z._batcher,S=ee._graphics,ne.gl.blendFuncSeparate(1,771,1,771),this.lastComputedBlending=1,this.lastRenderTarget=n.computedRenderTarget,this.useRenderTarget(e,this.lastRenderTarget),this.lastShader=null,this.useShader(e,null),this.stateDirty=!1):(t=null,this.stateDirty||(i=this.computeMeshBlending(n),this.stateDirty=!this.isSameShader(n.shader,this.lastShader)||i!=this.lastComputedBlending||128==(128&n.flags)!=this.lastWireframe||n.computedRenderTarget!=this.lastRenderTarget,this.stateDirty)||n.texture!=this.lastTexture&&(null!=n.texture&&null!=this.lastTexture?n.texture.backendItem.textureId!=this.lastTextureId&&(this.canUseTextureInSameBatch(e,n.texture)?t=n.texture:this.stateDirty=!0):this.canUseTextureInSameBatch(e,n.texture)?t=null!=n.texture?n.texture:this.defaultWhiteTexture:this.stateDirty=!0),this.stateDirty?(h.flush(e),h.unbindUsedTextures(e),h.lastTexture=n.texture,h.lastWireframe=128==(128&n.flags),h.lastWireframe?(h.lastTexture=null,Z._batcher._primitiveType=1):Z._batcher._primitiveType=4,h.useFirstTextureInBatch(e,h.lastTexture),n.computedRenderTarget!=h.lastRenderTarget&&(h.lastRenderTarget=n.computedRenderTarget,h.useRenderTarget(e,h.lastRenderTarget),null!=h.lastClip)&&h.lastClipIsRegular&&h.scissorWithQuad(e,h.lastClip.asQuad),h.lastShader=n.shader,h.useShader(e,null!=h.lastShader?h.lastShader.backendItem:null),h.lastComputedBlending=h.computeMeshBlending(n),h.useBlending(e,h.lastComputedBlending),h.stateDirty=!1):null!=t&&this.useTextureInSameBatch(e,t)),n.matA),o=n.matB,c=n.matC,u=n.matD,_=n.matTX,d=n.matTY,b=this.z,g=this.activeShaderCanBatchMultipleTextures?this.activeTextureSlot:-1,O=this.stencilClip||0==n.colorMapping,f=!this.stencilClip&&1==n.colorMapping,E=n.uvs,p=n.indices;if(this.lastWireframe){null==(p=n.wireframeIndices)&&(n.wireframeIndices=p=[]),f&&null==(r=n.wireframeColors)&&(n.wireframeColors=r=[]);for(var C=0,v=0;C<n.indices.length;)p[v]=n.indices[C],p[++v]=n.indices[C+1],p[++v]=n.indices[C+1],p[++v]=n.indices[C+2],p[++v]=n.indices[C+2],p[++v]=n.indices[C],++v,f&&(r[v-=6]=n.colors[C],r[++v]=n.colors[C+1],r[++v]=n.colors[C+1],r[++v]=n.colors[C+2],r[++v]=n.colors[C+2],r[++v]=n.colors[C],++v),C+=3;if(p.length>v&&p.length!=v)if(p.length>v)p.splice(v,p.length-v);else for(var L=p;L.length<v;)L.push(null)}var w=p.length,V=this.customFloatAttributesSize,R=n.customFloatAttributesSize,H=0,N=null!=n.texture&&n.texture.isRenderTexture,m=w,W=(((S=Z._batcher)._numPos+w>S._maxVerts||16384<S._numIndices+w)&&(h.flush(e),h.unbindUsedTextures(e),h.lastTexture=n.texture,h.lastWireframe=128==(128&n.flags),h.lastWireframe?(h.lastTexture=null,Z._batcher._primitiveType=1):Z._batcher._primitiveType=4,h.useFirstTextureInBatch(e,h.lastTexture),n.computedRenderTarget!=h.lastRenderTarget&&(h.lastRenderTarget=n.computedRenderTarget,h.useRenderTarget(e,h.lastRenderTarget),null!=h.lastClip)&&h.lastClipIsRegular&&h.scissorWithQuad(e,h.lastClip.asQuad),h.lastShader=n.shader,h.useShader(e,null!=h.lastShader?h.lastShader.backendItem:null),h.lastComputedBlending=h.computeMeshBlending(n),h.useBlending(e,h.lastComputedBlending),h.stateDirty=!1,g=this.activeShaderCanBatchMultipleTextures?this.activeTextureSlot:-1,w>(S=Z._batcher)._maxVerts-S._numPos||w>16384-Z._batcher._numIndices)&&(S=Z._batcher,m=0|Math.min(S._maxVerts-S._numPos,16384-Z._batcher._numIndices),m=this.lastWireframe?6*(m/6|0):3*(m/3|0)),n.texture),z=0,G=0;for(null!=W&&(z=this.texWidth/this.texWidthActual,G=this.texHeight/this.texHeightActual);;){for(var y,U=0,D=0,T=0,x=0,C=(O&&(h.stencilClip?(D=U=1,x=T=0):(x=null!=s?(U=n.computedAlpha*s[3],D=s[0],T=s[1],s[2]):3==h.lastComputedBlending?(y=r[0],U=n.computedAlpha*((y>>24&255)/255),D=(y>>16&255)/255,T=(y>>8&255)/255,(255&y)/255):(D=((y=r[0])>>16&255)/255*(U=n.computedAlpha*((y>>24&255)/255)),T=(y>>8&255)/255*U,(255&y)/255*U),2==n.blending&&2!=h.lastComputedBlending&&(U=0))),H),Y=Z._batcher._numPos;C<m;){var S,A,k=p[C],I=2*k,P=k*(2+R),F=P++,F=l[F],B=P++,B=l[B],F=((S=Z._batcher)._indiceList[S._numIndices]=Y,S._numIndices++,++Y,-1!=g?((A=Z._batcher)._posList[A._posIndex]=_+a*F+c*B,A._posList[A._posIndex+1]=d+o*F+u*B,A._posList[A._posIndex+2]=b,A._posList[A._posIndex+3]=g,A._posIndex+=4,A._numPos++):((A=Z._batcher)._posList[A._posIndex]=_+a*F+c*B,A._posList[A._posIndex+1]=d+o*F+u*B,A._posList[A._posIndex+2]=b,A._posIndex+=3,A._numPos++),O||(x=null!=s?(F=4*(f?C:k),N||3==h.lastComputedBlending?(U=n.computedAlpha*s[3+F],D=s[F],T=s[1+F],s[2+F]):(U=n.computedAlpha*s[3+F],D=s[F]*U,T=s[1+F]*U,s[2+F]*U)):(B=f?r[C]:r[k],N||3==h.lastComputedBlending?(U=n.computedAlpha*((B>>24&255)/255),D=(B>>16&255)/255,T=(B>>8&255)/255,(255&B)/255):(D=(B>>16&255)/255*(U=n.computedAlpha*((B>>24&255)/255)),T=(B>>8&255)/255*U,(255&B)/255*U)),2==n.blending&&2!=h.lastComputedBlending&&(U=0)),Z._batcher);if(F._colorList[F._colorIndex]=D,F._colorList[F._colorIndex+1]=T,F._colorList[F._colorIndex+2]=x,F._colorList[F._colorIndex+3]=U,F._colorIndex+=4,F._numColors++,null!=W?(k=E[I]*z,B=E[1+I]*G,(F=Z._batcher)._uvList[F._uvIndex]=k,F._uvList[F._uvIndex+1]=B,F._uvIndex+=2,F._numUVs++):((I=Z._batcher)._uvList[I._uvIndex]=0,I._uvList[I._uvIndex+1]=0,I._uvIndex+=2,I._numUVs++),0!=V){for(var K,M,X=0,$=V;X<$;)(v=X++)<R?(K=P++,(M=Z._batcher)._posList[M._posIndex+v]=l[K]):(M=Z._batcher)._posList[M._posIndex+v]=0;k=Z._batcher;k._posIndex+=k._floatAttributesSize}++C}if(m==w)break;h.flush(e),h.unbindUsedTextures(e),h.lastTexture=n.texture,h.lastWireframe=128==(128&n.flags),h.lastWireframe?(h.lastTexture=null,Z._batcher._primitiveType=1):Z._batcher._primitiveType=4,h.useFirstTextureInBatch(e,h.lastTexture),n.computedRenderTarget!=h.lastRenderTarget&&(h.lastRenderTarget=n.computedRenderTarget,h.useRenderTarget(e,h.lastRenderTarget),null!=h.lastClip)&&h.lastClipIsRegular&&h.scissorWithQuad(e,h.lastClip.asQuad),h.lastShader=n.shader,h.useShader(e,null!=h.lastShader?h.lastShader.backendItem:null),h.lastComputedBlending=h.computeMeshBlending(n),h.useBlending(e,h.lastComputedBlending),h.stateDirty=!1,g=h.activeShaderCanBatchMultipleTextures?h.activeTextureSlot:-1;var H=m,j=Z._batcher;m=H+(0|Math.min(j._maxVerts-j._numPos,16384-Z._batcher._numIndices)),w<(m=h.lastWireframe?6*(m/6|0):3*(m/3|0))&&(m=w)}this.z=b+b*b*1e-5+1e-5},_drawMesh:function(e,n,t,i,l,r){var s,h,a=this,o=((null!=i?i:t).length,this.stencilClip?(this.unbindUsedTextures(e),this.useFirstTextureInBatch(e,null),S=Z._batcher,S=ee._graphics,ne.gl.blendFuncSeparate(1,771,1,771),this.lastComputedBlending=1,this.lastRenderTarget=n.computedRenderTarget,this.useRenderTarget(e,this.lastRenderTarget),this.lastShader=null,this.useShader(e,null),this.stateDirty=!1):(s=null,this.stateDirty||(h=this.computeMeshBlending(n),this.stateDirty=!this.isSameShader(n.shader,this.lastShader)||h!=this.lastComputedBlending||128==(128&n.flags)!=this.lastWireframe||n.computedRenderTarget!=this.lastRenderTarget,this.stateDirty)||n.texture!=this.lastTexture&&(null!=n.texture&&null!=this.lastTexture?n.texture.backendItem.textureId!=this.lastTextureId&&(this.canUseTextureInSameBatch(e,n.texture)?s=n.texture:this.stateDirty=!0):this.canUseTextureInSameBatch(e,n.texture)?s=null!=n.texture?n.texture:this.defaultWhiteTexture:this.stateDirty=!0),this.stateDirty?(a.flush(e),a.unbindUsedTextures(e),a.lastTexture=n.texture,a.lastWireframe=128==(128&n.flags),a.lastWireframe?(a.lastTexture=null,Z._batcher._primitiveType=1):Z._batcher._primitiveType=4,a.useFirstTextureInBatch(e,a.lastTexture),n.computedRenderTarget!=a.lastRenderTarget&&(a.lastRenderTarget=n.computedRenderTarget,a.useRenderTarget(e,a.lastRenderTarget),null!=a.lastClip)&&a.lastClipIsRegular&&a.scissorWithQuad(e,a.lastClip.asQuad),a.lastShader=n.shader,a.useShader(e,null!=a.lastShader?a.lastShader.backendItem:null),a.lastComputedBlending=a.computeMeshBlending(n),a.useBlending(e,a.lastComputedBlending),a.stateDirty=!1):null!=s&&this.useTextureInSameBatch(e,s)),n.matA),c=n.matB,u=n.matC,_=n.matD,d=n.matTX,b=n.matTY,g=this.z,O=this.activeShaderCanBatchMultipleTextures?this.activeTextureSlot:-1,E=this.stencilClip||0==n.colorMapping,f=!this.stencilClip&&1==n.colorMapping,L=n.uvs,p=n.indices;if(this.lastWireframe){null==(p=n.wireframeIndices)&&(n.wireframeIndices=p=[]),f&&null==(l=n.wireframeColors)&&(n.wireframeColors=l=[]);for(var C=0,v=0;C<n.indices.length;)p[v]=n.indices[C],p[++v]=n.indices[C+1],p[++v]=n.indices[C+1],p[++v]=n.indices[C+2],p[++v]=n.indices[C+2],p[++v]=n.indices[C],++v,f&&(l[v-=6]=n.colors[C],l[++v]=n.colors[C+1],l[++v]=n.colors[C+1],l[++v]=n.colors[C+2],l[++v]=n.colors[C+2],l[++v]=n.colors[C],++v),C+=3;if(p.length>v&&p.length!=v)if(p.length>v)p.splice(v,p.length-v);else for(var V=p;V.length<v;)V.push(null)}var w=p.length,R=this.customFloatAttributesSize,H=n.customFloatAttributesSize,N=0,W=null!=n.texture&&n.texture.isRenderTexture,m=w,z=(((S=Z._batcher)._numPos+w>S._maxVerts||16384<S._numIndices+w)&&(a.flush(e),a.unbindUsedTextures(e),a.lastTexture=n.texture,a.lastWireframe=128==(128&n.flags),a.lastWireframe?(a.lastTexture=null,Z._batcher._primitiveType=1):Z._batcher._primitiveType=4,a.useFirstTextureInBatch(e,a.lastTexture),n.computedRenderTarget!=a.lastRenderTarget&&(a.lastRenderTarget=n.computedRenderTarget,a.useRenderTarget(e,a.lastRenderTarget),null!=a.lastClip)&&a.lastClipIsRegular&&a.scissorWithQuad(e,a.lastClip.asQuad),a.lastShader=n.shader,a.useShader(e,null!=a.lastShader?a.lastShader.backendItem:null),a.lastComputedBlending=a.computeMeshBlending(n),a.useBlending(e,a.lastComputedBlending),a.stateDirty=!1,O=this.activeShaderCanBatchMultipleTextures?this.activeTextureSlot:-1,w>(S=Z._batcher)._maxVerts-S._numPos||w>16384-Z._batcher._numIndices)&&(S=Z._batcher,m=0|Math.min(S._maxVerts-S._numPos,16384-Z._batcher._numIndices),m=this.lastWireframe?6*(m/6|0):3*(m/3|0)),n.texture),G=0,Y=0;for(null!=z&&(G=this.texWidth/this.texWidthActual,Y=this.texHeight/this.texHeightActual);;){for(var y,U=0,D=0,T=0,x=0,C=(E&&(a.stencilClip?(D=U=1,x=T=0):(x=null!=r?(U=n.computedAlpha*r[3],D=r[0],T=r[1],r[2]):3==a.lastComputedBlending?(y=l[0],U=n.computedAlpha*((y>>24&255)/255),D=(y>>16&255)/255,T=(y>>8&255)/255,(255&y)/255):(D=((y=l[0])>>16&255)/255*(U=n.computedAlpha*((y>>24&255)/255)),T=(y>>8&255)/255*U,(255&y)/255*U),2==n.blending&&2!=a.lastComputedBlending&&(U=0))),N),K=Z._batcher._numPos;C<m;){var S,A,k=p[C],I=2*k,P=k*(2+H),F=P++,F=(null!=i?i:t)[F],B=P++,B=(null!=i?i:t)[B],F=((S=Z._batcher)._indiceList[S._numIndices]=K,S._numIndices++,++K,-1!=O?((A=Z._batcher)._posList[A._posIndex]=d+o*F+u*B,A._posList[A._posIndex+1]=b+c*F+_*B,A._posList[A._posIndex+2]=g,A._posList[A._posIndex+3]=O,A._posIndex+=4,A._numPos++):((A=Z._batcher)._posList[A._posIndex]=d+o*F+u*B,A._posList[A._posIndex+1]=b+c*F+_*B,A._posList[A._posIndex+2]=g,A._posIndex+=3,A._numPos++),E||(x=null!=r?(F=4*(f?C:k),W||3==a.lastComputedBlending?(U=n.computedAlpha*r[3+F],D=r[F],T=r[1+F],r[2+F]):(U=n.computedAlpha*r[3+F],D=r[F]*U,T=r[1+F]*U,r[2+F]*U)):(B=f?l[C]:l[k],W||3==a.lastComputedBlending?(U=n.computedAlpha*((B>>24&255)/255),D=(B>>16&255)/255,T=(B>>8&255)/255,(255&B)/255):(D=(B>>16&255)/255*(U=n.computedAlpha*((B>>24&255)/255)),T=(B>>8&255)/255*U,(255&B)/255*U)),2==n.blending&&2!=a.lastComputedBlending&&(U=0)),Z._batcher);if(F._colorList[F._colorIndex]=D,F._colorList[F._colorIndex+1]=T,F._colorList[F._colorIndex+2]=x,F._colorList[F._colorIndex+3]=U,F._colorIndex+=4,F._numColors++,null!=z?(k=L[I]*G,B=L[1+I]*Y,(F=Z._batcher)._uvList[F._uvIndex]=k,F._uvList[F._uvIndex+1]=B,F._uvIndex+=2,F._numUVs++):((I=Z._batcher)._uvList[I._uvIndex]=0,I._uvList[I._uvIndex+1]=0,I._uvIndex+=2,I._numUVs++),0!=R){for(var X,M,$=0,j=R;$<j;)(v=$++)<H?(X=P++,(M=Z._batcher)._posList[M._posIndex+v]=(null!=i?i:t)[X]):(M=Z._batcher)._posList[M._posIndex+v]=0;k=Z._batcher;k._posIndex+=k._floatAttributesSize}++C}if(m==w)break;a.flush(e),a.unbindUsedTextures(e),a.lastTexture=n.texture,a.lastWireframe=128==(128&n.flags),a.lastWireframe?(a.lastTexture=null,Z._batcher._primitiveType=1):Z._batcher._primitiveType=4,a.useFirstTextureInBatch(e,a.lastTexture),n.computedRenderTarget!=a.lastRenderTarget&&(a.lastRenderTarget=n.computedRenderTarget,a.useRenderTarget(e,a.lastRenderTarget),null!=a.lastClip)&&a.lastClipIsRegular&&a.scissorWithQuad(e,a.lastClip.asQuad),a.lastShader=n.shader,a.useShader(e,null!=a.lastShader?a.lastShader.backendItem:null),a.lastComputedBlending=a.computeMeshBlending(n),a.useBlending(e,a.lastComputedBlending),a.stateDirty=!1,O=a.activeShaderCanBatchMultipleTextures?a.activeTextureSlot:-1;var N=m,Q=Z._batcher;m=N+(0|Math.min(Q._maxVerts-Q._numPos,16384-Z._batcher._numIndices)),w<(m=a.lastWireframe?6*(m/6|0):3*(m/3|0))&&(m=w)}this.z=g+g*g*1e-5+1e-5},incrementZ:function(e){return e+e*e*1e-5+1e-5},flush:function(e){return!(Z._batcher._numPos<=0||(Z._batcher.flush(),null!=Z._currentRenderTarget&&(Z._didUpdateCurrentRenderTarget=!0),this.drawCalls++,0))},computeQuadBlending:function(e){var n=e.blending;return n=0!=n&&2!=n?n:null!=e.computedRenderTarget?5:1},computeMeshBlending:function(e){var n=e.blending;return n=0!=n&&2!=n?n:null!=e.computedRenderTarget?5:1},isSameShader:function(e,n){return(null!=e?e.backendItem:this.defaultTexturedShader)==(null!=n?n.backendItem:this.defaultTexturedShader)},useShader:function(e,n){null==n&&(n=this.defaultTexturedShader),this.activeShader=n,Z._activeShader=n;var t=Z._batcher,t=(ee._graphics.projectionMatrix=Z._projectionMatrix,Z._batcher),i=(ee._graphics.modelViewMatrix=Z._modelViewMatrix,he.app.backend.shaders),l=0,r=Z._activeShader.customAttributes;if(null!=r)for(var s=0,h=r.length;s<h;)l+=r[s++].size;var a=l,i=i.canBatchWithMultipleTextures(Z._activeShader);Z._batcher._customAttributes=null!=Z._activeShader?Z._activeShader.customAttributes:null;(t=Z._batcher)._floatAttributesSize=a,t._batchMultiTexture=i,t._vertexSize=3+t._floatAttributesSize+(t._batchMultiTexture?1:0),t._posSize=t._vertexSize,t._vertexSize<4&&(t._vertexSize=4),t._maxVerts=0|Math.floor(65536/t._vertexSize),0==t._numPos&&(t._numIndices=0,t._numPos=0,t._numUVs=0,t._numColors=0,t._posIndex=0,t._uvIndex=0,t._colorIndex=0),n.activate(),this.activeShaderCanBatchMultipleTextures=this.backendShaders.canBatchWithMultipleTextures(n),t=this.backendShaders,l=0;if(null!=(r=n.customAttributes))for(s=0,h=r.length;s<h;)l+=r[s++].size;this.customFloatAttributesSize=l},useBlending:function(e,n){switch(n){case 0:throw oe.thrown("Cannot apply AUTO blending. Needs to be computed to an actual blending function.");case 1:Z._batcher,ee._graphics;ne.gl.blendFuncSeparate(1,771,1,771);break;case 2:Z._batcher,ee._graphics;ne.gl.blendFuncSeparate(1,1,1,1);break;case 3:Z._batcher,ee._graphics;ne.gl.blendFuncSeparate(770,771,1,771);break;case 4:Z._batcher,ee._graphics;ne.gl.blendFuncSeparate(1,770,1,770);break;case 5:Z._batcher,ee._graphics;ne.gl.blendFuncSeparate(1,771,773,1);break;case 6:Z._batcher,ee._graphics;ne.gl.blendFuncSeparate(770,771,773,1);break;case 7:Z._batcher,ee._graphics;ne.gl.blendFuncSeparate(1,0,1,0)}},scissorWithQuad:function(e,n){e.enableScissor(n.matTX,n.matTY,n.matA*n.get_width(),n.matD*n.get_height())},isNotRenderedRenderTexture:function(e){e=e.asRenderTexture;return!(null==e||e._renderedOnce||!e.renderDirty||e._usedInRendering)},useRenderTarget:function(e,n){var t,i;this.usedRenderTarget!=n&&(i=null!=this.usedRenderTarget?this.usedRenderTarget.index:0,t=null!=n?n.index:0,this.zPerRenderTarget.set(i,this.z),i=this.zPerRenderTarget.intMap.h[0|t],this.z=null!=i?i:0),null!=(this.usedRenderTarget=n)?(n._usedInRendering=!0,n.set__renderedOnce(!0),e.setRenderTarget(n)):e.setRenderTarget(null)},useFirstTextureInBatch:function(e,n){null==n&&(n=this.defaultWhiteTexture),this.usedTextures=1;var t=n.backendItem.index,i=(this.usedTextureIndexes[0]=t,Z._activeTextureSlot=0,Z._batcher);if(0!=(i=ee._graphics)._activeTextureSlot){for(i._activeTextureSlot=0;i._boundTexture2D.length<=i._activeTextureSlot;)i._boundTexture2D.push(null);ne.gl.activeTexture(33984)}this.activeTextureSlot=0,this.useTexture(e,n,!1)},useTexture:function(e,n,t){var i,l;null!=n?(this.lastTexture=n,this.lastTextureId=n.backendItem.textureId,this.texWidth=n.backendItem.width,this.texHeight=n.backendItem.height,this.texWidthActual=n.backendItem.widthActual,this.texHeightActual=n.backendItem.heightActual,t||(i=Z._batcher,l=n.backendItem.textureId,(i=ee._graphics)._boundTexture2D[i._activeTextureSlot]!=l&&(i._boundTexture2D[i._activeTextureSlot]=l,ne.gl.bindTexture(3553,l)))):(this.lastTexture=null,this.lastTextureId=null,i=Z._batcher,i=ee._graphics,l=ti.defaultTextureId,i._boundTexture2D[i._activeTextureSlot]!=l&&(i._boundTexture2D[i._activeTextureSlot]=l,ne.gl.bindTexture(3553,l)))},canUseTextureInSameBatch:function(e,n){var t=!1;if(null==n&&(n=this.defaultWhiteTexture),0<this.usedTextures)if(this.activeShaderCanBatchMultipleTextures){for(var i=n.backendItem.index,l=0,r=this.usedTextures;l<r;){var s=l++;if(i==this.usedTextureIndexes[s]){t=!0;break}}!t&&this.usedTextures<this.maxUsableTexturesInBatch&&(t=!0)}else this.lastTexture==n&&(t=!0);return t},useTextureInSameBatch:function(e,n){var t=!1;if(null==n&&(n=this.defaultWhiteTexture),this.activeShaderCanBatchMultipleTextures){for(var i=n.backendItem.index,l=0,r=this.usedTextures;l<r;){var s=l++;if(i==this.usedTextureIndexes[s]){Z._activeTextureSlot=s;var h=Z._batcher,a=ee._graphics;if(a._activeTextureSlot!=s){for(a._activeTextureSlot=s;a._boundTexture2D.length<=a._activeTextureSlot;)a._boundTexture2D.push(null);ne.gl.activeTexture(33984+s)}this.activeTextureSlot=s,this.useTexture(e,n,!0),t=!0;break}}if(!t&&this.usedTextures<this.maxUsableTexturesInBatch){s=this.usedTextures++,h=(this.usedTextureIndexes[s]=i,Z._activeTextureSlot=s,Z._batcher);if((h=ee._graphics)._activeTextureSlot!=s){for(h._activeTextureSlot=s;h._boundTexture2D.length<=h._activeTextureSlot;)h._boundTexture2D.push(null);ne.gl.activeTexture(33984+s)}this.activeTextureSlot=s,this.useTexture(e,n,!1)}}},unbindUsedTextures:function(e){for(;0<this.usedTextures;){this.usedTextures--;var n=this.usedTextures,t=(Z._activeTextureSlot=n,Z._batcher),i=ee._graphics;if(i._activeTextureSlot!=n){for(i._activeTextureSlot=n;i._boundTexture2D.length<=i._activeTextureSlot;)i._boundTexture2D.push(null);ne.gl.activeTexture(33984+n)}Z._batcher;var n=ee._graphics,l=ti.defaultTextureId;n._boundTexture2D[n._activeTextureSlot]!=l&&(n._boundTexture2D[n._activeTextureSlot]=l,ne.gl.bindTexture(3553,l))}Z._activeTextureSlot=0;t=Z._batcher;if(0!=(t=ee._graphics)._activeTextureSlot){for(t._activeTextureSlot=0;t._boundTexture2D.length<=t._activeTextureSlot;)t._boundTexture2D.push(null);ne.gl.activeTexture(33984)}this.activeTextureSlot=0,this.useTexture(e,null,!1)},__class__:Yn}),function(e){this._poolIndex=-1,this.set_length(e)}),Xn=((E["ceramic.ReusableArray"]=Kn).__name__="ceramic.ReusableArray",Kn.prototype={_poolIndex:null,vector:null,length:null,set_length:function(e){if(null==this.vector)return this.vector=new Array(e),this.length=e;if(e!=this.length){if(e>this.vector.length){for(var n=new Array(e),t=0,i=this.length;t<i;)n[l=t++]=this.vector[l],this.vector[l]=null;this.vector=n;for(t=this.length,i=e;t<i;){var l=t++;this.vector[l]=null}}else for(t=e,i=this.length;t<i;){l=t++;this.vector[l]=null}this.length=e}return e},get:function(e){return this.vector[e]},set:function(e,n){this.vector[e]=n},__class__:Kn,__properties__:{set_length:"set_length"}},(E["ceramic.RowLayout"]=Ub).__name__="ceramic.RowLayout",Ub.__super__=q0,Ub.prototype=$extend(q0.prototype,{set_direction:function(e){if(e!=Ln.HORIZONTAL)throw oe.thrown("Changing direction of an RowLayout is not allowed. Use a LinearLayout if you want to change direction at runtime.");return this.direction=Ln.HORIZONTAL},__class__:Ub}),function(){}),$n=((E["ceramic.Runner"]=Xn).__name__="ceramic.Runner",Xn.currentIsMainThread=function(){return!0},Xn.init=function(){},Xn.tick=function(){},Xn.isEmulatingBackgroundWithMain=function(){return!0},Xn.runInMain=function(e){he.app._onceImmediate(e)},Xn.runInBackground=function(e){he.app._onceImmediate(e)},function(e,n){this.path=null,this.cachedLists=null,this.cachedNames=new ue,this.assetDirsByBaseName=null,this.assetsByBaseName=null,this.allAssetDirs=null,this.allAssets=null,this.pendingTransformedDirCallbacks=null,this.didQueryTransformedDir=0,this.transformedDir=null,this.allAssets=e,this.path=n,this.initData()}),_=((E["ceramic.RuntimeAssets"]=$n).__name__="ceramic.RuntimeAssets",$n.fromPath=function(e){return null},$n.toAssetConstName=function(e){for(var n="",t=e.length,i=0,l=!1;i<t;){var r,s=e.charAt(i),l="/"==s?(n+="__",!1):"."!=s&&$n.isAsciiChar(s)?(r=s.toUpperCase(),s=s==r,l&&s&&(n+="_",l=!1),n+=null==r?"null":""+r,!s):(n+="_",!1);++i}var h=n;return h=z.endsWith(h,"_")?se.substr(h,0,h.length-1):h},$n.isAsciiChar=function(e){e=se.cca(e,0);return 48<=e&&e<=57||65<=e&&e<=90||97<=e&&e<=122},$n.prototype={transformedDir:null,didQueryTransformedDir:null,pendingTransformedDirCallbacks:null,requestTransformedDir:function(s){var h=this;2==this.didQueryTransformedDir?he.app._onceImmediate(function(){s(h.transformedDir)}):1==this.didQueryTransformedDir?(null==this.pendingTransformedDirCallbacks&&(this.pendingTransformedDirCallbacks=[]),this.pendingTransformedDirCallbacks.push(s)):(this.didQueryTransformedDir=1,Nn.runCeramic(["tmp","dir"],function(e,n,t){if(0==e?0<(n=z.trim(n)).length&&an.exists(n)&&(h.transformedDir=n):he.app.logger.error("Failed to resolve tmp dir: "+e+" / "+t,{fileName:"../../../../ceramic/runtime/src/ceramic/RuntimeAssets.hx",lineNumber:86,className:"ceramic.RuntimeAssets",methodName:"requestTransformedDir"}),h.didQueryTransformedDir=2,s(h.transformedDir),null!=h.pendingTransformedDirCallbacks)for(var i=h.pendingTransformedDirCallbacks,l=(h.pendingTransformedDirCallbacks=null,0);l<i.length;){var r=i[l];++l,r(h.transformedDir)}}))},allAssets:null,allAssetDirs:null,assetsByBaseName:null,assetDirsByBaseName:null,cachedNames:null,cachedLists:null,path:null,reset:function(e,n){this.allAssets=e,this.path=n,this.allAssetDirs=null,this.assetsByBaseName=null,this.assetDirsByBaseName=null,this.cachedNames=new ue,this.cachedLists=null,this.initData()},getNames:function(e,n,t){null==t&&(t=!1);var i=e+"|"+(null!=n?n.join(","):"")+(t?"|1":"|0"),l=this.cachedNames.h[i];if(null!=l)return l;var r=[];switch(null==n&&(n=[]),e){case"atlas":c=["atlas"];break;case"database":c=["csv"];break;case"font":c=["fnt","ttf","otf"];break;case"fragments":c=["fragments"];break;case"image":c=["png","jpg","jpeg"];break;case"shader":c=["frag","vert"];break;case"sound":he.app.backend.info;null!=me._soundExtensions||(me._soundExtensions=[],s=new Audio,h=null!=be.navigator?be.navigator.userAgent:"",o=me.RE_OPERA.match(h)&&parseInt(me.RE_OPERA.matched(0).split("/")[1],10)<33,a=-1!=h.indexOf("Safari")&&-1==h.indexOf("Chrome"),h=me.RE_SAFARI_VERSION.match(h),a&&h&&parseInt(me.RE_SAFARI_VERSION.matched(1),10),null!=(a=s.canPlayType('audio/ogg; codecs="vorbis"'))&&"no"!=a&&""!=a&&me._soundExtensions.push("ogg"),h=s.canPlayType("audio/mpeg;"),a=s.canPlayType("audio/mp3;"),!o&&(null!=h&&"no"!=h&&""!=h||null!=a&&"no"!=a&&""!=a)&&me._soundExtensions.push("mp3"),o=s.canPlayType("audio/x-flac;"),h=s.canPlayType("audio/flac;"),(null!=o&&"no"!=o&&""!=o||null!=h&&"no"!=h&&""!=h)&&me._soundExtensions.push("flac"),a=s.canPlayType('audio/wav; codecs="1"'),o=s.canPlayType("audio/wav;"),(null!=a&&"no"!=a&&""!=a||null!=o&&"no"!=o&&""!=o)&&me._soundExtensions.push("wav"));var s,h,a,o,c=[].concat(me._soundExtensions);break;case"text":c=["txt","json","fnt","atlas"];break;default:c=[]}if(0!=(n=n.concat(c)).length){for(var u=Object.create(null),_=t?this.allAssetDirs:this.allAssets,d=0;d<n.length;)for(var b=n[d],g=(++d,0);g<_.length;){var O,f=_[g],p=(++g,f.toLowerCase()),C=p.lastIndexOf("."),v=null;-1!=C&&(p=se.substr(p,C+1,null))==b&&(-1==(O=se.substr(f,0,C).lastIndexOf("@"))&&(O=C),f=se.substr(f,0,Math.min(O,C)),null==(v=$n.toAssetConstName(f))||Object.prototype.hasOwnProperty.call(u,v)||null==p||(u[v]=f))}for(var w=t?this.assetDirsByBaseName:this.assetsByBaseName,m=Object.keys(u),y=m.length,U=0;U<y;){u[v=m[U++]];for(var D=[],T=w.h[u[v]],d=0;d<T.length;)for(var x=T[d],g=(++d,0);g<n.length;){b=n[g];if(++g,z.endsWith(x,"."+b)){D.push(x);break}}var S={name:u[v],constName:v,paths:D};r.push(S)}this.cachedNames.h[i]=r}return r},getLists:function(){if(null!=this.cachedLists)return this.cachedLists;for(var e={all:[],allDirs:[],allByName:new ue,allDirsByName:new ue},n=0,t=this.allAssets;n<t.length;){var i=t[n];++n,e.all.push(i)}for(n=0,t=this.allAssetDirs;n<t.length;){i=t[n];++n,e.allDirs.push(i)}for(var l=this.assetsByBaseName.h,r=Object.keys(l),s=r.length,h=0;h<s;){var a=r[h++],o=[].concat(this.assetsByBaseName.h[a]);e.allByName.h[a]=o}l=this.assetDirsByBaseName.h;for(s=(r=Object.keys(l)).length,h=0;h<s;){a=r[h++],o=[].concat(this.assetDirsByBaseName.h[a]);e.allDirsByName.h[a]=o}return this.cachedLists=e},getEncodableLists:function(){for(var e=this.getLists(),n={},t=e.allByName.h,i=Object.keys(t),l=i.length,r=0;r<l;)n[s=i[r++]]=e.allByName.h[s];for(var s,h={},l=(t=e.allDirsByName.h,(i=Object.keys(t)).length),r=0;r<l;)h[s=i[r++]]=e.allDirsByName.h[s];return{all:e.all,allDirs:e.allDirs,allByName:n,allDirsByName:h}},initData:function(){for(var e=Object.create(null),n=0,t=this.allAssets;n<t.length;){var i=t[n];++n,e[i]=!0}for(var l=Object.create(null),n=(this.allAssetDirs=[],0),t=this.allAssets;n<t.length;){var i=t[n],r=(++n,i.lastIndexOf("/"));if(-1!=r)for(var s=se.substr(i,0,r);!Object.prototype.hasOwnProperty.call(l,s)&&(this.allAssetDirs.push(s),l[s]=!0,-1!=(r=s.lastIndexOf("/")));)s=se.substr(s,0,r)}if(null==this.assetsByBaseName){this.assetsByBaseName=new ue;for(n=0,t=this.allAssets;n<t.length;){var h=t[n],a=(++n,h.lastIndexOf(".")),o=(-1==(c=se.substr(h,0,a).lastIndexOf("@"))&&(c=a),se.substr(h,0,Math.min(c,a)));Object.prototype.hasOwnProperty.call(this.assetsByBaseName.h,o)||(this.assetsByBaseName.h[o]=[]),this.assetsByBaseName.h[o].push(h)}}if(null==this.assetDirsByBaseName){this.assetDirsByBaseName=new ue;for(n=0,t=this.allAssetDirs;n<t.length;){var c,h=t[n],a=(++n,h.lastIndexOf(".")),o=(-1==(c=se.substr(h,0,a).lastIndexOf("@"))&&(c=a),se.substr(h,0,Math.min(c,a)));Object.prototype.hasOwnProperty.call(this.assetDirsByBaseName.h,o)||(this.assetDirsByBaseName.h[o]=[]),this.assetDirsByBaseName.h[o].push(h)}}},__class__:$n},{}),jn=(_.$name=function(e){var n=null;return null!=(n=0<=e&&e<_.scanCodeNames.length?_.scanCodeNames[e]:n)?n:""},_.toString=function(e){return"ScanCode("+e+" "+_.$name(e)+")"},{}),Qn=(jn.toString=function(e){switch(e){case 0:return"NONE";case 1:return"PRELOAD";case 2:return"LOAD";case 3:return"CREATE";case 4:return"FADE_IN";case 5:return"READY";case 6:return"FADE_OUT";case 7:return"DISABLED";default:return"_"}},(E["ceramic.System"]=Zb).__name__="ceramic.System",Zb.__super__=j,Zb.prototype=$extend(j.prototype,{__cbOnBeginEarlyUpdate:null,__cbOnceBeginEarlyUpdate:null,__cbOnOwnerUnbindBeginEarlyUpdate:null,__cbOnceOwnerUnbindBeginEarlyUpdate:null,emitBeginEarlyUpdate:function(e){var n=0;if(null!=this.__cbOnBeginEarlyUpdate&&(n+=this.__cbOnBeginEarlyUpdate.length),null!=this.__cbOnceBeginEarlyUpdate&&(n+=this.__cbOnceBeginEarlyUpdate.length),0<n){var t=C.pool(n),i=t.get(),l=0;if(null!=this.__cbOnBeginEarlyUpdate)for(var r=0,s=this.__cbOnBeginEarlyUpdate.length;r<s;){var h=r++;!0?(i.vector[l]=this.__cbOnBeginEarlyUpdate[h],++l):--n}if(null!=this.__cbOnceBeginEarlyUpdate){for(var a=null,o=null,r=0,s=this.__cbOnceBeginEarlyUpdate.length;r<s;){var c,h=r++;!0?(i.vector[l]=this.__cbOnceBeginEarlyUpdate[h],this.__cbOnceBeginEarlyUpdate[h]=null,c=this.__cbOnceOwnerUnbindBeginEarlyUpdate[h],(this.__cbOnceOwnerUnbindBeginEarlyUpdate[h]=null)!=c&&c(),++l):(--n,null==a&&(a=[],o=[],0),a.push(this.__cbOnceOwnerUnbindBeginEarlyUpdate[h]),o.push(this.__cbOnceBeginEarlyUpdate[h]))}this.__cbOnceOwnerUnbindBeginEarlyUpdate=a,this.__cbOnceBeginEarlyUpdate=o}for(r=0,s=n;r<s;){l=r++;(0,i.vector[l])(e)}t.release(i)}},onBeginEarlyUpdate:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event beginEarlyUpdate because owner is destroyed!");var l=function(e){null!=t&&(i.offBeginEarlyUpdate(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindBeginEarlyUpdate&&(this.__cbOnOwnerUnbindBeginEarlyUpdate=[]),this.__cbOnOwnerUnbindBeginEarlyUpdate.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindBeginEarlyUpdate&&(this.__cbOnOwnerUnbindBeginEarlyUpdate=[]),this.__cbOnOwnerUnbindBeginEarlyUpdate.push(null);null==this.__cbOnBeginEarlyUpdate&&(this.__cbOnBeginEarlyUpdate=[]),this.__cbOnBeginEarlyUpdate.push(t)},onceBeginEarlyUpdate:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event beginEarlyUpdate because owner is destroyed!");var l=function(e){null!=t&&(i.offBeginEarlyUpdate(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindBeginEarlyUpdate&&(this.__cbOnceOwnerUnbindBeginEarlyUpdate=[]),this.__cbOnceOwnerUnbindBeginEarlyUpdate.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindBeginEarlyUpdate&&(this.__cbOnceOwnerUnbindBeginEarlyUpdate=[]),this.__cbOnceOwnerUnbindBeginEarlyUpdate.push(null);null==this.__cbOnceBeginEarlyUpdate&&(this.__cbOnceBeginEarlyUpdate=[]),this.__cbOnceBeginEarlyUpdate.push(t)},offBeginEarlyUpdate:function(e){if(null!=e){var n;null!=this.__cbOnBeginEarlyUpdate&&-1!=(n=this.__cbOnBeginEarlyUpdate.indexOf(e))&&(this.__cbOnBeginEarlyUpdate.splice(n,1),null!=(r=this.__cbOnOwnerUnbindBeginEarlyUpdate[n])&&r(),this.__cbOnOwnerUnbindBeginEarlyUpdate.splice(n,1)),null!=this.__cbOnceBeginEarlyUpdate&&-1!=(n=this.__cbOnceBeginEarlyUpdate.indexOf(e))&&(this.__cbOnceBeginEarlyUpdate.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindBeginEarlyUpdate[n])&&r(),this.__cbOnceOwnerUnbindBeginEarlyUpdate.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindBeginEarlyUpdate){for(var t=0,i=this.__cbOnOwnerUnbindBeginEarlyUpdate.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindBeginEarlyUpdate[l])&&r()}this.__cbOnOwnerUnbindBeginEarlyUpdate=null}if(null!=this.__cbOnceOwnerUnbindBeginEarlyUpdate){for(t=0,i=this.__cbOnceOwnerUnbindBeginEarlyUpdate.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindBeginEarlyUpdate[l])&&r()}this.__cbOnceOwnerUnbindBeginEarlyUpdate=null}this.__cbOnBeginEarlyUpdate=null,this.__cbOnceBeginEarlyUpdate=null}},listensBeginEarlyUpdate:function(){return null!=this.__cbOnBeginEarlyUpdate&&0<this.__cbOnBeginEarlyUpdate.length||null!=this.__cbOnceBeginEarlyUpdate&&0<this.__cbOnceBeginEarlyUpdate.length},__cbOnEndEarlyUpdate:null,__cbOnceEndEarlyUpdate:null,__cbOnOwnerUnbindEndEarlyUpdate:null,__cbOnceOwnerUnbindEndEarlyUpdate:null,emitEndEarlyUpdate:function(e){var n=0;if(null!=this.__cbOnEndEarlyUpdate&&(n+=this.__cbOnEndEarlyUpdate.length),null!=this.__cbOnceEndEarlyUpdate&&(n+=this.__cbOnceEndEarlyUpdate.length),0<n){var t=C.pool(n),i=t.get(),l=0;if(null!=this.__cbOnEndEarlyUpdate)for(var r=0,s=this.__cbOnEndEarlyUpdate.length;r<s;){var h=r++;!0?(i.vector[l]=this.__cbOnEndEarlyUpdate[h],++l):--n}if(null!=this.__cbOnceEndEarlyUpdate){for(var a=null,o=null,r=0,s=this.__cbOnceEndEarlyUpdate.length;r<s;){var c,h=r++;!0?(i.vector[l]=this.__cbOnceEndEarlyUpdate[h],this.__cbOnceEndEarlyUpdate[h]=null,c=this.__cbOnceOwnerUnbindEndEarlyUpdate[h],(this.__cbOnceOwnerUnbindEndEarlyUpdate[h]=null)!=c&&c(),++l):(--n,null==a&&(a=[],o=[],0),a.push(this.__cbOnceOwnerUnbindEndEarlyUpdate[h]),o.push(this.__cbOnceEndEarlyUpdate[h]))}this.__cbOnceOwnerUnbindEndEarlyUpdate=a,this.__cbOnceEndEarlyUpdate=o}for(r=0,s=n;r<s;){l=r++;(0,i.vector[l])(e)}t.release(i)}},onEndEarlyUpdate:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event endEarlyUpdate because owner is destroyed!");var l=function(e){null!=t&&(i.offEndEarlyUpdate(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindEndEarlyUpdate&&(this.__cbOnOwnerUnbindEndEarlyUpdate=[]),this.__cbOnOwnerUnbindEndEarlyUpdate.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindEndEarlyUpdate&&(this.__cbOnOwnerUnbindEndEarlyUpdate=[]),this.__cbOnOwnerUnbindEndEarlyUpdate.push(null);null==this.__cbOnEndEarlyUpdate&&(this.__cbOnEndEarlyUpdate=[]),this.__cbOnEndEarlyUpdate.push(t)},onceEndEarlyUpdate:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event endEarlyUpdate because owner is destroyed!");var l=function(e){null!=t&&(i.offEndEarlyUpdate(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindEndEarlyUpdate&&(this.__cbOnceOwnerUnbindEndEarlyUpdate=[]),this.__cbOnceOwnerUnbindEndEarlyUpdate.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindEndEarlyUpdate&&(this.__cbOnceOwnerUnbindEndEarlyUpdate=[]),this.__cbOnceOwnerUnbindEndEarlyUpdate.push(null);null==this.__cbOnceEndEarlyUpdate&&(this.__cbOnceEndEarlyUpdate=[]),this.__cbOnceEndEarlyUpdate.push(t)},offEndEarlyUpdate:function(e){if(null!=e){var n;null!=this.__cbOnEndEarlyUpdate&&-1!=(n=this.__cbOnEndEarlyUpdate.indexOf(e))&&(this.__cbOnEndEarlyUpdate.splice(n,1),null!=(r=this.__cbOnOwnerUnbindEndEarlyUpdate[n])&&r(),this.__cbOnOwnerUnbindEndEarlyUpdate.splice(n,1)),null!=this.__cbOnceEndEarlyUpdate&&-1!=(n=this.__cbOnceEndEarlyUpdate.indexOf(e))&&(this.__cbOnceEndEarlyUpdate.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindEndEarlyUpdate[n])&&r(),this.__cbOnceOwnerUnbindEndEarlyUpdate.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindEndEarlyUpdate){for(var t=0,i=this.__cbOnOwnerUnbindEndEarlyUpdate.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindEndEarlyUpdate[l])&&r()}this.__cbOnOwnerUnbindEndEarlyUpdate=null}if(null!=this.__cbOnceOwnerUnbindEndEarlyUpdate){for(t=0,i=this.__cbOnceOwnerUnbindEndEarlyUpdate.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindEndEarlyUpdate[l])&&r()}this.__cbOnceOwnerUnbindEndEarlyUpdate=null}this.__cbOnEndEarlyUpdate=null,this.__cbOnceEndEarlyUpdate=null}},listensEndEarlyUpdate:function(){return null!=this.__cbOnEndEarlyUpdate&&0<this.__cbOnEndEarlyUpdate.length||null!=this.__cbOnceEndEarlyUpdate&&0<this.__cbOnceEndEarlyUpdate.length},__cbOnBeginLateUpdate:null,__cbOnceBeginLateUpdate:null,__cbOnOwnerUnbindBeginLateUpdate:null,__cbOnceOwnerUnbindBeginLateUpdate:null,emitBeginLateUpdate:function(e){var n=0;if(null!=this.__cbOnBeginLateUpdate&&(n+=this.__cbOnBeginLateUpdate.length),null!=this.__cbOnceBeginLateUpdate&&(n+=this.__cbOnceBeginLateUpdate.length),0<n){var t=C.pool(n),i=t.get(),l=0;if(null!=this.__cbOnBeginLateUpdate)for(var r=0,s=this.__cbOnBeginLateUpdate.length;r<s;){var h=r++;!0?(i.vector[l]=this.__cbOnBeginLateUpdate[h],++l):--n}if(null!=this.__cbOnceBeginLateUpdate){for(var a=null,o=null,r=0,s=this.__cbOnceBeginLateUpdate.length;r<s;){var c,h=r++;!0?(i.vector[l]=this.__cbOnceBeginLateUpdate[h],this.__cbOnceBeginLateUpdate[h]=null,c=this.__cbOnceOwnerUnbindBeginLateUpdate[h],(this.__cbOnceOwnerUnbindBeginLateUpdate[h]=null)!=c&&c(),++l):(--n,null==a&&(a=[],o=[],0),a.push(this.__cbOnceOwnerUnbindBeginLateUpdate[h]),o.push(this.__cbOnceBeginLateUpdate[h]))}this.__cbOnceOwnerUnbindBeginLateUpdate=a,this.__cbOnceBeginLateUpdate=o}for(r=0,s=n;r<s;){l=r++;(0,i.vector[l])(e)}t.release(i)}},onBeginLateUpdate:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event beginLateUpdate because owner is destroyed!");var l=function(e){null!=t&&(i.offBeginLateUpdate(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindBeginLateUpdate&&(this.__cbOnOwnerUnbindBeginLateUpdate=[]),this.__cbOnOwnerUnbindBeginLateUpdate.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindBeginLateUpdate&&(this.__cbOnOwnerUnbindBeginLateUpdate=[]),this.__cbOnOwnerUnbindBeginLateUpdate.push(null);null==this.__cbOnBeginLateUpdate&&(this.__cbOnBeginLateUpdate=[]),this.__cbOnBeginLateUpdate.push(t)},onceBeginLateUpdate:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event beginLateUpdate because owner is destroyed!");var l=function(e){null!=t&&(i.offBeginLateUpdate(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindBeginLateUpdate&&(this.__cbOnceOwnerUnbindBeginLateUpdate=[]),this.__cbOnceOwnerUnbindBeginLateUpdate.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindBeginLateUpdate&&(this.__cbOnceOwnerUnbindBeginLateUpdate=[]),this.__cbOnceOwnerUnbindBeginLateUpdate.push(null);null==this.__cbOnceBeginLateUpdate&&(this.__cbOnceBeginLateUpdate=[]),this.__cbOnceBeginLateUpdate.push(t)},offBeginLateUpdate:function(e){if(null!=e){var n;null!=this.__cbOnBeginLateUpdate&&-1!=(n=this.__cbOnBeginLateUpdate.indexOf(e))&&(this.__cbOnBeginLateUpdate.splice(n,1),null!=(r=this.__cbOnOwnerUnbindBeginLateUpdate[n])&&r(),this.__cbOnOwnerUnbindBeginLateUpdate.splice(n,1)),null!=this.__cbOnceBeginLateUpdate&&-1!=(n=this.__cbOnceBeginLateUpdate.indexOf(e))&&(this.__cbOnceBeginLateUpdate.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindBeginLateUpdate[n])&&r(),this.__cbOnceOwnerUnbindBeginLateUpdate.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindBeginLateUpdate){for(var t=0,i=this.__cbOnOwnerUnbindBeginLateUpdate.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindBeginLateUpdate[l])&&r()}this.__cbOnOwnerUnbindBeginLateUpdate=null}if(null!=this.__cbOnceOwnerUnbindBeginLateUpdate){for(t=0,i=this.__cbOnceOwnerUnbindBeginLateUpdate.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindBeginLateUpdate[l])&&r()}this.__cbOnceOwnerUnbindBeginLateUpdate=null}this.__cbOnBeginLateUpdate=null,this.__cbOnceBeginLateUpdate=null}},listensBeginLateUpdate:function(){return null!=this.__cbOnBeginLateUpdate&&0<this.__cbOnBeginLateUpdate.length||null!=this.__cbOnceBeginLateUpdate&&0<this.__cbOnceBeginLateUpdate.length},__cbOnEndLateUpdate:null,__cbOnceEndLateUpdate:null,__cbOnOwnerUnbindEndLateUpdate:null,__cbOnceOwnerUnbindEndLateUpdate:null,emitEndLateUpdate:function(e){var n=0;if(null!=this.__cbOnEndLateUpdate&&(n+=this.__cbOnEndLateUpdate.length),null!=this.__cbOnceEndLateUpdate&&(n+=this.__cbOnceEndLateUpdate.length),0<n){var t=C.pool(n),i=t.get(),l=0;if(null!=this.__cbOnEndLateUpdate)for(var r=0,s=this.__cbOnEndLateUpdate.length;r<s;){var h=r++;!0?(i.vector[l]=this.__cbOnEndLateUpdate[h],++l):--n}if(null!=this.__cbOnceEndLateUpdate){for(var a=null,o=null,r=0,s=this.__cbOnceEndLateUpdate.length;r<s;){var c,h=r++;!0?(i.vector[l]=this.__cbOnceEndLateUpdate[h],this.__cbOnceEndLateUpdate[h]=null,c=this.__cbOnceOwnerUnbindEndLateUpdate[h],(this.__cbOnceOwnerUnbindEndLateUpdate[h]=null)!=c&&c(),++l):(--n,null==a&&(a=[],o=[],0),a.push(this.__cbOnceOwnerUnbindEndLateUpdate[h]),o.push(this.__cbOnceEndLateUpdate[h]))}this.__cbOnceOwnerUnbindEndLateUpdate=a,this.__cbOnceEndLateUpdate=o}for(r=0,s=n;r<s;){l=r++;(0,i.vector[l])(e)}t.release(i)}},onEndLateUpdate:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event endLateUpdate because owner is destroyed!");var l=function(e){null!=t&&(i.offEndLateUpdate(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindEndLateUpdate&&(this.__cbOnOwnerUnbindEndLateUpdate=[]),this.__cbOnOwnerUnbindEndLateUpdate.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindEndLateUpdate&&(this.__cbOnOwnerUnbindEndLateUpdate=[]),this.__cbOnOwnerUnbindEndLateUpdate.push(null);null==this.__cbOnEndLateUpdate&&(this.__cbOnEndLateUpdate=[]),this.__cbOnEndLateUpdate.push(t)},onceEndLateUpdate:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event endLateUpdate because owner is destroyed!");var l=function(e){null!=t&&(i.offEndLateUpdate(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindEndLateUpdate&&(this.__cbOnceOwnerUnbindEndLateUpdate=[]),this.__cbOnceOwnerUnbindEndLateUpdate.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindEndLateUpdate&&(this.__cbOnceOwnerUnbindEndLateUpdate=[]),this.__cbOnceOwnerUnbindEndLateUpdate.push(null);null==this.__cbOnceEndLateUpdate&&(this.__cbOnceEndLateUpdate=[]),this.__cbOnceEndLateUpdate.push(t)},offEndLateUpdate:function(e){if(null!=e){var n;null!=this.__cbOnEndLateUpdate&&-1!=(n=this.__cbOnEndLateUpdate.indexOf(e))&&(this.__cbOnEndLateUpdate.splice(n,1),null!=(r=this.__cbOnOwnerUnbindEndLateUpdate[n])&&r(),this.__cbOnOwnerUnbindEndLateUpdate.splice(n,1)),null!=this.__cbOnceEndLateUpdate&&-1!=(n=this.__cbOnceEndLateUpdate.indexOf(e))&&(this.__cbOnceEndLateUpdate.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindEndLateUpdate[n])&&r(),this.__cbOnceOwnerUnbindEndLateUpdate.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindEndLateUpdate){for(var t=0,i=this.__cbOnOwnerUnbindEndLateUpdate.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindEndLateUpdate[l])&&r()}this.__cbOnOwnerUnbindEndLateUpdate=null}if(null!=this.__cbOnceOwnerUnbindEndLateUpdate){for(t=0,i=this.__cbOnceOwnerUnbindEndLateUpdate.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindEndLateUpdate[l])&&r()}this.__cbOnceOwnerUnbindEndLateUpdate=null}this.__cbOnEndLateUpdate=null,this.__cbOnceEndLateUpdate=null}},listensEndLateUpdate:function(){return null!=this.__cbOnEndLateUpdate&&0<this.__cbOnEndLateUpdate.length||null!=this.__cbOnceEndLateUpdate&&0<this.__cbOnceEndLateUpdate.length},name:null,autoUpdate:null,earlyUpdateOrder:null,set_earlyUpdateOrder:function(e){return this.earlyUpdateOrder!=e&&(this.earlyUpdateOrder=e,he.app.systems.earlyUpdateOrderDirty=!0),e},lateUpdateOrder:null,set_lateUpdateOrder:function(e){return this.lateUpdateOrder!=e&&(this.lateUpdateOrder=e,he.app.systems.lateUpdateOrderDirty=!0),e},destroy:function(){this._lifecycleState<=-2||(this._lifecycleState=-2,this._lifecycleState=-1,j.prototype.destroy.call(this),he.app.systems.removeSystem(this))},earlyUpdate:function(e){},lateUpdate:function(e){},unbindEvents:function(){j.prototype.unbindEvents.call(this),this.offBeginEarlyUpdate(),this.offEndEarlyUpdate(),this.offBeginLateUpdate(),this.offEndLateUpdate()},__class__:Zb,__properties__:$extend(j.prototype.__properties__,{set_lateUpdateOrder:"set_lateUpdateOrder",set_earlyUpdateOrder:"set_earlyUpdateOrder"})}),function(){this.rootScenes=new ue,this.filter=null,this.autoScaleFilter=!0,this.autoDestroyFilter=!0,this.main=null,this.fadeOutWhenNextMainCanFadeIn=!0,this.bindMainToScreenSize=!0,this.keepAssetsForNextMain=!1,this._updatingScenes=[],this.all=[],Zb.call(this),this.set_lateUpdateOrder(5e3)}),qn=((E["ceramic.SceneSystem"]=Qn).__name__="ceramic.SceneSystem",Qn.__properties__={set_shared:"set_shared",get_shared:"get_shared"},Qn.get_shared=function(){return Qn.lazyShared&&(Qn.lazyShared=!1,Qn.shared=new Qn),Qn.shared},Qn.set_shared=function(e){return Qn.shared=e},Qn.__super__=Zb,Qn.prototype=$extend(Zb.prototype,{all:null,_updatingScenes:null,keepAssetsForNextMain:null,bindMainToScreenSize:null,fadeOutWhenNextMainCanFadeIn:null,main:null,autoDestroyFilter:null,autoScaleFilter:null,filter:null,set_filter:function(e){if(this.filter!=e){var n=this.filter;if(null!=n){for(var i=_=this.rootScenes.h,l=(d=Object.keys(_)).length,r=0;r<l;)(b=i[d[r++]]).parent==n.content&&(n.content.remove(b),b.set_scaleX(1),b.set_scaleY(1));if(null!=n.content.children){for(var s=null,h=0,a=n.content.children.length;h<a;){var o=h++,c=n.content.children[o];c instanceof t&&(u=c).isRootScene&&(s=null==s?[]:s).push(u)}if(null!=s)for(h=0,a=s.length;h<a;){var u=s[o=h++];n.content.remove(u),u.set_active(!1)}}this.autoDestroyFilter?n.destroy():(n.set_scaleX(1),n.set_scaleY(1))}if(null!=(this.filter=e)){this.autoScaleFilter&&this.scaleFilter();for(var _,d,b,i=_=this.rootScenes.h,l=(d=Object.keys(_)).length,r=0;r<l;)(b=i[d[r++]]).parent!=e.content&&e.content.add(b)}}return e},scaleFilter:function(){var e=this.filter,n=he.app.screen.width/this.filter.get_width(),t=he.app.screen.height/this.filter.get_height(),e=(e.set_scaleX(n),e.set_scaleY(t),this.filter.content),n=this.filter.get_width()/he.app.screen.width,t=this.filter.get_height()/he.app.screen.height;e.set_scaleX(n),e.set_scaleY(t)},rootScenes:null,set_main:function(e){return this.main!=e&&(this.main=e,this.set("main",e,this.bindMainToScreenSize,this.keepAssetsForNextMain)),e},set:function(a,o,e,n){null==n&&(n=!1),null==e&&(e=!0);var c=this,t=this.rootScenes.h[a],i=null;if(null!=o&&o.isRootScene)for(var l=this.rootScenes.h,r=l,s=Object.keys(l),h=s.length,u=0;u<h;){var _=s[u++];if(r[_]==o){i=_;break}}if(null!=i){if(i==a)return;var d=this.rootScenes;Object.prototype.hasOwnProperty.call(d.h,i)&&delete d.h[i]}if(o!=t)if(null==o){d=this.rootScenes;if(Object.prototype.hasOwnProperty.call(d.h,a)&&delete d.h[a],"main"==a&&this.set_main(null),0<=t._lifecycleState)switch(t.get_status()){case 0:case 1:case 2:case 3:case 4:t.scheduleOnceReady(t,$bind(t,t.destroy));break;case 5:t.fadeOut($bind(t,t.destroy));break;case 6:case 7:t.destroy()}}else{if(o._lifecycleState<0)throw oe.thrown("Cannot assign a destroyed scene as root scene!");l=null;if(null==i?(o.isRootScene=!0,this.rootScenes.h[a]=o,"main"==a&&this.set_main(o),o.onDestroy(this,function(e){var n=null;if(null!=o&&o.isRootScene)for(var t=c.rootScenes.h,i=t,l=Object.keys(t),r=l.length,s=0;s<r;){var h=l[s++];if(i[h]==e){n=h;break}}null!=n&&(t=c.rootScenes,Object.prototype.hasOwnProperty.call(t.h,a)&&delete t.h[a],"main"==n)&&c.main==e&&c.set_main(null)}),o.onReplace(this,function(e){var n=null;if(null!=o&&o.isRootScene)for(var t=c.rootScenes.h,i=t,l=Object.keys(t),r=l.length,s=0;s<r;){var h=l[s++];if(i[h]==o){n=h;break}}null!=n&&c.set(n,e)})):("main"==i&&this.set_main(null),this.rootScenes.h[a]=o,"main"==a&&this.set_main(o)),null!=t){n&&(l=t._assets);var b=function(){n&&(t._assets=null),t.destroy(),t=null};if(this.fadeOutWhenNextMainCanFadeIn){var g=null;switch(o.get_status()){case 0:case 1:case 2:case 3:g=function(e,n){switch(e){case 0:case 1:case 2:case 3:break;case 4:case 5:case 6:case 7:switch(o.offStatusChange(g),t.get_status()){case 5:t.fadeOut(b);break;case 0:case 1:case 2:case 3:case 4:case 6:case 7:b()}}},o.onStatusChange(t,g);break;case 4:case 5:case 6:case 7:switch(t.get_status()){case 5:t.fadeOut(b);break;case 0:case 1:case 2:case 3:case 4:case 6:case 7:b()}}}else switch(t.get_status()){case 5:t.fadeOut(b);break;case 0:case 1:case 2:case 3:case 4:case 6:case 7:b()}}null==i&&(o._assets=l,e&&o.bindToScreenSize(),null!=this.filter&&this.filter.content.add(o),o._boot())}},get:function(e){return this.rootScenes.h[e]},setCurrentScene:function(e,n){this.keepAssetsForNextMain=n=null==n?!1:n,this.set_main(e)},lateUpdate:function(e){for(var n=this.all.length,t=0,i=n;t<i;){var l=t++;this._updatingScenes[l]=this.all[l]}for(t=0,i=n;t<i;){var l=t++,r=this._updatingScenes[l];if((1!=(1&r.flags)||r.autoUpdateWhenInactive)&&(!(r._lifecycleState<0)&&(0==r.get_status()&&null!=r.parent&&r._boot(),!r.paused)&&r.autoUpdate))switch(r.get_status()){case 4:case 5:case 6:r.update(e)}}for(t=0,i=n;t<i;){l=t++;this._updatingScenes[l]=null}this.autoScaleFilter&&null!=this.filter&&this.scaleFilter()},__class__:Qn,__properties__:$extend(Zb.prototype.__properties__,{set_filter:"set_filter",set_main:"set_main"})}),function(){this.hitVisuals=[],this.matchedOverListeners=new qi,this.matchedDownListeners=new qi,this.visualsListenPointerOver=!1,this.maxTouchIndex=-1,this.prevMouseY=0,this.prevMouseX=0,this.prevTouchPositions=new mn(16,.5,!1),this.pressedTouches=new ze(16,.5,!1),this.pressedMouseButtons=new ze(16,.5,!1),this._numPointerDown=0,this.resizing=!1,this.reverseMatrix=new l,this.matrix=new l,this.unobservedTexturesDensity=1,this.texturesDensityAutoruns=null,this.unobservedFocusedVisual=null,this.focusedVisualAutoruns=null,this.touches=new An(8,.5,!1),this.mouseWheelDeltaY=0,this.mouseWheelDeltaX=0,this.mouseDeltaY=0,this.mouseDeltaX=0,this.mouseY=0,this.mouseX=0,this.pointerDeltaY=0,this.pointerDeltaX=0,this.pointerY=0,this.pointerX=0,this.offsetY=0,this.offsetX=0,this.actualHeight=0,this.actualWidth=0,this.height=0,this.width=0,this.density=1,this.observedDirty=!1,j.call(this)}),Zn=((E["ceramic.Screen"]=qn).__name__="ceramic.Screen",qn.__interfaces__=[s],qn._elementsImFocused=function(){var e=te.get_context();return null!=e&&null!=e.focusedWindow},qn.__super__=j,qn.prototype=$extend(j.prototype,{__cbOnObservedDirty:null,__cbOnceObservedDirty:null,__cbOnOwnerUnbindObservedDirty:null,__cbOnceOwnerUnbindObservedDirty:null,emitObservedDirty:function(e,n){var t=0;if(null!=this.__cbOnObservedDirty&&(t+=this.__cbOnObservedDirty.length),null!=this.__cbOnceObservedDirty&&(t+=this.__cbOnceObservedDirty.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnObservedDirty)for(var s=0,h=this.__cbOnObservedDirty.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnObservedDirty[a],++r):--t}if(null!=this.__cbOnceObservedDirty){for(var o=null,c=null,s=0,h=this.__cbOnceObservedDirty.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceObservedDirty[a],this.__cbOnceObservedDirty[a]=null,u=this.__cbOnceOwnerUnbindObservedDirty[a],(this.__cbOnceOwnerUnbindObservedDirty[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindObservedDirty[a]),c.push(this.__cbOnceObservedDirty[a]))}this.__cbOnceOwnerUnbindObservedDirty=o,this.__cbOnceObservedDirty=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onObservedDirty:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event observedDirty because owner is destroyed!");var l=function(e){null!=t&&(i.offObservedDirty(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push(null);null==this.__cbOnObservedDirty&&(this.__cbOnObservedDirty=[]),this.__cbOnObservedDirty.push(t)},onceObservedDirty:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event observedDirty because owner is destroyed!");var l=function(e){null!=t&&(i.offObservedDirty(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push(null);null==this.__cbOnceObservedDirty&&(this.__cbOnceObservedDirty=[]),this.__cbOnceObservedDirty.push(t)},offObservedDirty:function(e){if(null!=e){var n;null!=this.__cbOnObservedDirty&&-1!=(n=this.__cbOnObservedDirty.indexOf(e))&&(this.__cbOnObservedDirty.splice(n,1),null!=(r=this.__cbOnOwnerUnbindObservedDirty[n])&&r(),this.__cbOnOwnerUnbindObservedDirty.splice(n,1)),null!=this.__cbOnceObservedDirty&&-1!=(n=this.__cbOnceObservedDirty.indexOf(e))&&(this.__cbOnceObservedDirty.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindObservedDirty[n])&&r(),this.__cbOnceOwnerUnbindObservedDirty.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindObservedDirty){for(var t=0,i=this.__cbOnOwnerUnbindObservedDirty.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindObservedDirty[l])&&r()}this.__cbOnOwnerUnbindObservedDirty=null}if(null!=this.__cbOnceOwnerUnbindObservedDirty){for(t=0,i=this.__cbOnceOwnerUnbindObservedDirty.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindObservedDirty[l])&&r()}this.__cbOnceOwnerUnbindObservedDirty=null}this.__cbOnObservedDirty=null,this.__cbOnceObservedDirty=null}},listensObservedDirty:function(){return null!=this.__cbOnObservedDirty&&0<this.__cbOnObservedDirty.length||null!=this.__cbOnceObservedDirty&&0<this.__cbOnceObservedDirty.length},observedDirty:null,density:null,width:null,height:null,actualWidth:null,actualHeight:null,offsetX:null,offsetY:null,nativeWidth:null,get_nativeWidth:function(){return ee.app.screenWidth},nativeHeight:null,get_nativeHeight:function(){return ee.app.screenHeight},nativeDensity:null,get_nativeDensity:function(){return ee.app.screenDensity},pointerX:null,pointerY:null,pointerDeltaX:null,pointerDeltaY:null,mouseX:null,mouseY:null,mouseDeltaX:null,mouseDeltaY:null,mouseWheelDeltaX:null,mouseWheelDeltaY:null,touches:null,focusedVisualAutoruns:null,get_focusedVisual:function(){var e,n,t=this.unobservedFocusedVisual;return null!=U.current&&(e=U.current,null!=(n=this.focusedVisualAutoruns)||(n=U.getAutorunArray(),null!=(this.focusedVisualAutoruns=n)))&&e.bindToAutorunArray(n),t},set_focusedVisual:function(e){var n=this.unobservedFocusedVisual;return this.set_unobservedFocusedVisual(e),n!=e&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitFocusedVisualChange(e,n),null!=(n=this.focusedVisualAutoruns))&&(this.focusedVisualAutoruns=null,U.invalidateAutorunArray(n)),e},invalidateFocusedVisual:function(){var e=this.unobservedFocusedVisual,e=(this.emitFocusedVisualChange(e,e),this.focusedVisualAutoruns);null!=e&&(this.focusedVisualAutoruns=null,U.invalidateAutorunArray(e))},unobservedFocusedVisual:null,__cbOnFocusedVisualChange:null,__cbOnceFocusedVisualChange:null,__cbOnOwnerUnbindFocusedVisualChange:null,__cbOnceOwnerUnbindFocusedVisualChange:null,emitFocusedVisualChange:function(e,n){var t=0;if(null!=this.__cbOnFocusedVisualChange&&(t+=this.__cbOnFocusedVisualChange.length),null!=this.__cbOnceFocusedVisualChange&&(t+=this.__cbOnceFocusedVisualChange.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnFocusedVisualChange)for(var s=0,h=this.__cbOnFocusedVisualChange.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnFocusedVisualChange[a],++r):--t}if(null!=this.__cbOnceFocusedVisualChange){for(var o=null,c=null,s=0,h=this.__cbOnceFocusedVisualChange.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceFocusedVisualChange[a],this.__cbOnceFocusedVisualChange[a]=null,u=this.__cbOnceOwnerUnbindFocusedVisualChange[a],(this.__cbOnceOwnerUnbindFocusedVisualChange[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindFocusedVisualChange[a]),c.push(this.__cbOnceFocusedVisualChange[a]))}this.__cbOnceOwnerUnbindFocusedVisualChange=o,this.__cbOnceFocusedVisualChange=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onFocusedVisualChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event focusedVisualChange because owner is destroyed!");var l=function(e){null!=t&&(i.offFocusedVisualChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindFocusedVisualChange&&(this.__cbOnOwnerUnbindFocusedVisualChange=[]),this.__cbOnOwnerUnbindFocusedVisualChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindFocusedVisualChange&&(this.__cbOnOwnerUnbindFocusedVisualChange=[]),this.__cbOnOwnerUnbindFocusedVisualChange.push(null);null==this.__cbOnFocusedVisualChange&&(this.__cbOnFocusedVisualChange=[]),this.__cbOnFocusedVisualChange.push(t)},onceFocusedVisualChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event focusedVisualChange because owner is destroyed!");var l=function(e){null!=t&&(i.offFocusedVisualChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindFocusedVisualChange&&(this.__cbOnceOwnerUnbindFocusedVisualChange=[]),this.__cbOnceOwnerUnbindFocusedVisualChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindFocusedVisualChange&&(this.__cbOnceOwnerUnbindFocusedVisualChange=[]),this.__cbOnceOwnerUnbindFocusedVisualChange.push(null);null==this.__cbOnceFocusedVisualChange&&(this.__cbOnceFocusedVisualChange=[]),this.__cbOnceFocusedVisualChange.push(t)},offFocusedVisualChange:function(e){if(null!=e){var n;null!=this.__cbOnFocusedVisualChange&&-1!=(n=this.__cbOnFocusedVisualChange.indexOf(e))&&(this.__cbOnFocusedVisualChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindFocusedVisualChange[n])&&r(),this.__cbOnOwnerUnbindFocusedVisualChange.splice(n,1)),null!=this.__cbOnceFocusedVisualChange&&-1!=(n=this.__cbOnceFocusedVisualChange.indexOf(e))&&(this.__cbOnceFocusedVisualChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindFocusedVisualChange[n])&&r(),this.__cbOnceOwnerUnbindFocusedVisualChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindFocusedVisualChange){for(var t=0,i=this.__cbOnOwnerUnbindFocusedVisualChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindFocusedVisualChange[l])&&r()}this.__cbOnOwnerUnbindFocusedVisualChange=null}if(null!=this.__cbOnceOwnerUnbindFocusedVisualChange){for(t=0,i=this.__cbOnceOwnerUnbindFocusedVisualChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindFocusedVisualChange[l])&&r()}this.__cbOnceOwnerUnbindFocusedVisualChange=null}this.__cbOnFocusedVisualChange=null,this.__cbOnceFocusedVisualChange=null}},listensFocusedVisualChange:function(){return null!=this.__cbOnFocusedVisualChange&&0<this.__cbOnFocusedVisualChange.length||null!=this.__cbOnceFocusedVisualChange&&0<this.__cbOnceFocusedVisualChange.length},set_unobservedFocusedVisual:function(e){var n;return this.unobservedFocusedVisual!=e&&(n=this.unobservedFocusedVisual,this.unobservedFocusedVisual=e,null!=n&&(this.emitBlur(n),n.emitBlur()),null!=e)&&(this.emitFocus(e),e.emitFocus()),e},texturesDensityAutoruns:null,get_texturesDensity:function(){var e,n,t=this.unobservedTexturesDensity;return null!=U.current&&(e=U.current,null!=(n=this.texturesDensityAutoruns)||(n=U.getAutorunArray(),null!=(this.texturesDensityAutoruns=n)))&&e.bindToAutorunArray(n),t},set_texturesDensity:function(e){var n=this.unobservedTexturesDensity;return n!=(this.unobservedTexturesDensity=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitTexturesDensityChange(e,n),null!=(n=this.texturesDensityAutoruns))&&(this.texturesDensityAutoruns=null,U.invalidateAutorunArray(n)),e},invalidateTexturesDensity:function(){var e=this.unobservedTexturesDensity,e=(this.emitTexturesDensityChange(e,e),this.texturesDensityAutoruns);null!=e&&(this.texturesDensityAutoruns=null,U.invalidateAutorunArray(e))},unobservedTexturesDensity:null,__cbOnTexturesDensityChange:null,__cbOnceTexturesDensityChange:null,__cbOnOwnerUnbindTexturesDensityChange:null,__cbOnceOwnerUnbindTexturesDensityChange:null,emitTexturesDensityChange:function(e,n){var t=0;if(null!=this.__cbOnTexturesDensityChange&&(t+=this.__cbOnTexturesDensityChange.length),null!=this.__cbOnceTexturesDensityChange&&(t+=this.__cbOnceTexturesDensityChange.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnTexturesDensityChange)for(var s=0,h=this.__cbOnTexturesDensityChange.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnTexturesDensityChange[a],++r):--t}if(null!=this.__cbOnceTexturesDensityChange){for(var o=null,c=null,s=0,h=this.__cbOnceTexturesDensityChange.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceTexturesDensityChange[a],this.__cbOnceTexturesDensityChange[a]=null,u=this.__cbOnceOwnerUnbindTexturesDensityChange[a],(this.__cbOnceOwnerUnbindTexturesDensityChange[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindTexturesDensityChange[a]),c.push(this.__cbOnceTexturesDensityChange[a]))}this.__cbOnceOwnerUnbindTexturesDensityChange=o,this.__cbOnceTexturesDensityChange=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onTexturesDensityChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event texturesDensityChange because owner is destroyed!");var l=function(e){null!=t&&(i.offTexturesDensityChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindTexturesDensityChange&&(this.__cbOnOwnerUnbindTexturesDensityChange=[]),this.__cbOnOwnerUnbindTexturesDensityChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindTexturesDensityChange&&(this.__cbOnOwnerUnbindTexturesDensityChange=[]),this.__cbOnOwnerUnbindTexturesDensityChange.push(null);null==this.__cbOnTexturesDensityChange&&(this.__cbOnTexturesDensityChange=[]),this.__cbOnTexturesDensityChange.push(t)},onceTexturesDensityChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event texturesDensityChange because owner is destroyed!");var l=function(e){null!=t&&(i.offTexturesDensityChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindTexturesDensityChange&&(this.__cbOnceOwnerUnbindTexturesDensityChange=[]),this.__cbOnceOwnerUnbindTexturesDensityChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindTexturesDensityChange&&(this.__cbOnceOwnerUnbindTexturesDensityChange=[]),this.__cbOnceOwnerUnbindTexturesDensityChange.push(null);null==this.__cbOnceTexturesDensityChange&&(this.__cbOnceTexturesDensityChange=[]),this.__cbOnceTexturesDensityChange.push(t)},offTexturesDensityChange:function(e){if(null!=e){var n;null!=this.__cbOnTexturesDensityChange&&-1!=(n=this.__cbOnTexturesDensityChange.indexOf(e))&&(this.__cbOnTexturesDensityChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindTexturesDensityChange[n])&&r(),this.__cbOnOwnerUnbindTexturesDensityChange.splice(n,1)),null!=this.__cbOnceTexturesDensityChange&&-1!=(n=this.__cbOnceTexturesDensityChange.indexOf(e))&&(this.__cbOnceTexturesDensityChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindTexturesDensityChange[n])&&r(),this.__cbOnceOwnerUnbindTexturesDensityChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindTexturesDensityChange){for(var t=0,i=this.__cbOnOwnerUnbindTexturesDensityChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindTexturesDensityChange[l])&&r()}this.__cbOnOwnerUnbindTexturesDensityChange=null}if(null!=this.__cbOnceOwnerUnbindTexturesDensityChange){for(t=0,i=this.__cbOnceOwnerUnbindTexturesDensityChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindTexturesDensityChange[l])&&r()}this.__cbOnceOwnerUnbindTexturesDensityChange=null}this.__cbOnTexturesDensityChange=null,this.__cbOnceTexturesDensityChange=null}},listensTexturesDensityChange:function(){return null!=this.__cbOnTexturesDensityChange&&0<this.__cbOnTexturesDensityChange.length||null!=this.__cbOnceTexturesDensityChange&&0<this.__cbOnceTexturesDensityChange.length},matrix:null,reverseMatrix:null,resizing:null,isPointerDown:null,_numPointerDown:null,get_isPointerDown:function(){return 0<this._numPointerDown},pressedMouseButtons:null,pressedTouches:null,prevTouchPositions:null,prevMouseX:null,prevMouseY:null,maxTouchIndex:null,visualsListenPointerOver:null,__cbOnResize:null,__cbOnceResize:null,__cbOnOwnerUnbindResize:null,__cbOnceOwnerUnbindResize:null,emitResize:function(){var e=0;if(null!=this.__cbOnResize&&(e+=this.__cbOnResize.length),null!=this.__cbOnceResize&&(e+=this.__cbOnceResize.length),0<e){var n=C.pool(e),t=n.get(),i=0;if(null!=this.__cbOnResize)for(var l=0,r=this.__cbOnResize.length;l<r;){var s=l++;!0?(t.vector[i]=this.__cbOnResize[s],++i):--e}if(null!=this.__cbOnceResize){for(var h=null,a=null,l=0,r=this.__cbOnceResize.length;l<r;){var o,s=l++;!0?(t.vector[i]=this.__cbOnceResize[s],this.__cbOnceResize[s]=null,o=this.__cbOnceOwnerUnbindResize[s],(this.__cbOnceOwnerUnbindResize[s]=null)!=o&&o(),++i):(--e,null==h&&(h=[],a=[],0),h.push(this.__cbOnceOwnerUnbindResize[s]),a.push(this.__cbOnceResize[s]))}this.__cbOnceOwnerUnbindResize=h,this.__cbOnceResize=a}for(l=0,r=e;l<r;){i=l++;(0,t.vector[i])()}n.release(t)}},onResize:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event resize because owner is destroyed!");var l=function(e){null!=t&&(i.offResize(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindResize&&(this.__cbOnOwnerUnbindResize=[]),this.__cbOnOwnerUnbindResize.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindResize&&(this.__cbOnOwnerUnbindResize=[]),this.__cbOnOwnerUnbindResize.push(null);null==this.__cbOnResize&&(this.__cbOnResize=[]),this.__cbOnResize.push(t)},onceResize:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event resize because owner is destroyed!");var l=function(e){null!=t&&(i.offResize(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindResize&&(this.__cbOnceOwnerUnbindResize=[]),this.__cbOnceOwnerUnbindResize.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindResize&&(this.__cbOnceOwnerUnbindResize=[]),this.__cbOnceOwnerUnbindResize.push(null);null==this.__cbOnceResize&&(this.__cbOnceResize=[]),this.__cbOnceResize.push(t)},offResize:function(e){if(null!=e){var n;null!=this.__cbOnResize&&-1!=(n=this.__cbOnResize.indexOf(e))&&(this.__cbOnResize.splice(n,1),null!=(r=this.__cbOnOwnerUnbindResize[n])&&r(),this.__cbOnOwnerUnbindResize.splice(n,1)),null!=this.__cbOnceResize&&-1!=(n=this.__cbOnceResize.indexOf(e))&&(this.__cbOnceResize.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindResize[n])&&r(),this.__cbOnceOwnerUnbindResize.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindResize){for(var t=0,i=this.__cbOnOwnerUnbindResize.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindResize[l])&&r()}this.__cbOnOwnerUnbindResize=null}if(null!=this.__cbOnceOwnerUnbindResize){for(t=0,i=this.__cbOnceOwnerUnbindResize.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindResize[l])&&r()}this.__cbOnceOwnerUnbindResize=null}this.__cbOnResize=null,this.__cbOnceResize=null}},listensResize:function(){return null!=this.__cbOnResize&&0<this.__cbOnResize.length||null!=this.__cbOnceResize&&0<this.__cbOnceResize.length},__cbOnMouseDown:null,__cbOnceMouseDown:null,__cbOnOwnerUnbindMouseDown:null,__cbOnceOwnerUnbindMouseDown:null,__onOwnerMouseDown:null,__onceOwnerMouseDown:null,emitMouseDown:function(e,n,t){this.willEmitMouseDown(e,n,t);var i=0;if(null!=this.__cbOnMouseDown&&(i+=this.__cbOnMouseDown.length),null!=this.__cbOnceMouseDown&&(i+=this.__cbOnceMouseDown.length),0<i){var l=C.pool(i),r=l.get(),s=0;if(null!=this.__cbOnMouseDown)for(var h=0,a=this.__cbOnMouseDown.length;h<a;){var o=h++,c=this.__onOwnerMouseDown[o],u=!1;null!=te.get_context().focusedWindow?null!=c&&(u=re._filterEventOwner(c)):u=!0,u?(r.vector[s]=this.__cbOnMouseDown[o],++s):--i}if(null!=this.__cbOnceMouseDown){for(var _=null,d=null,b=null,h=0,a=this.__cbOnceMouseDown.length;h<a;){var g,o=h++,c=this.__onceOwnerMouseDown[o],u=!1;null!=te.get_context().focusedWindow?null!=c&&(u=re._filterEventOwner(c)):u=!0,u?(r.vector[s]=this.__cbOnceMouseDown[o],this.__cbOnceMouseDown[o]=null,g=this.__cbOnceOwnerUnbindMouseDown[o],(this.__cbOnceOwnerUnbindMouseDown[o]=null)!=g&&g(),++s):(--i,null==_&&(_=[],d=[],b=[]),_.push(this.__cbOnceOwnerUnbindMouseDown[o]),d.push(this.__cbOnceMouseDown[o]),b.push(this.__onceOwnerMouseDown[o]))}this.__cbOnceOwnerUnbindMouseDown=_,this.__cbOnceMouseDown=d,this.__onceOwnerMouseDown=b}for(h=0,a=i;h<a;){s=h++;(0,r.vector[s])(e,n,t)}l.release(r),r=null}l=this.matchFirstDownListener(n,t,-1,e);null!=l&&(l._numPointerDown++,1!=l._numPointerDown&&!l.multiTouch||(he.app.screen.set_focusedVisual(l),l.emitPointerDown(new St(-1,e,n,t,!0)))),this.matchedDownListeners.h[1e4+e]=l},onMouseDown:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event mouseDown because owner is destroyed!");var l=function(e){null!=t&&(i.offMouseDown(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindMouseDown&&(this.__cbOnOwnerUnbindMouseDown=[]),this.__cbOnOwnerUnbindMouseDown.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindMouseDown&&(this.__cbOnOwnerUnbindMouseDown=[]),this.__cbOnOwnerUnbindMouseDown.push(null);null==this.__cbOnMouseDown&&(this.__cbOnMouseDown=[]),this.__cbOnMouseDown.push(t),null==this.__onOwnerMouseDown&&(this.__onOwnerMouseDown=[]),this.__onOwnerMouseDown.push(n)},onceMouseDown:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event mouseDown because owner is destroyed!");var l=function(e){null!=t&&(i.offMouseDown(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindMouseDown&&(this.__cbOnceOwnerUnbindMouseDown=[]),this.__cbOnceOwnerUnbindMouseDown.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindMouseDown&&(this.__cbOnceOwnerUnbindMouseDown=[]),this.__cbOnceOwnerUnbindMouseDown.push(null);null==this.__cbOnceMouseDown&&(this.__cbOnceMouseDown=[]),this.__cbOnceMouseDown.push(t),null==this.__onceOwnerMouseDown&&(this.__onceOwnerMouseDown=[]),this.__onceOwnerMouseDown.push(n)},offMouseDown:function(e){if(null!=e){var n;null!=this.__cbOnMouseDown&&-1!=(n=this.__cbOnMouseDown.indexOf(e))&&(this.__cbOnMouseDown.splice(n,1),null!=(r=this.__cbOnOwnerUnbindMouseDown[n])&&r(),this.__cbOnOwnerUnbindMouseDown.splice(n,1),this.__onOwnerMouseDown.splice(n,1)),null!=this.__cbOnceMouseDown&&-1!=(n=this.__cbOnceMouseDown.indexOf(e))&&(this.__cbOnceMouseDown.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindMouseDown[n])&&r(),this.__cbOnceOwnerUnbindMouseDown.splice(n,1),this.__onceOwnerMouseDown.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindMouseDown){for(var t=0,i=this.__cbOnOwnerUnbindMouseDown.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindMouseDown[l])&&r()}this.__cbOnOwnerUnbindMouseDown=null}if(null!=this.__cbOnceOwnerUnbindMouseDown){for(t=0,i=this.__cbOnceOwnerUnbindMouseDown.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindMouseDown[l])&&r()}this.__cbOnceOwnerUnbindMouseDown=null}this.__cbOnMouseDown=null,this.__cbOnceMouseDown=null,this.__onOwnerMouseDown=null,this.__onceOwnerMouseDown=null}},listensMouseDown:function(){return null!=this.__cbOnMouseDown&&0<this.__cbOnMouseDown.length||null!=this.__cbOnceMouseDown&&0<this.__cbOnceMouseDown.length},__cbOnMouseUp:null,__cbOnceMouseUp:null,__cbOnOwnerUnbindMouseUp:null,__cbOnceOwnerUnbindMouseUp:null,__onOwnerMouseUp:null,__onceOwnerMouseUp:null,emitMouseUp:function(e,n,t){this.willEmitMouseUp(e,n,t);var i=0;if(null!=this.__cbOnMouseUp&&(i+=this.__cbOnMouseUp.length),null!=this.__cbOnceMouseUp&&(i+=this.__cbOnceMouseUp.length),0<i){var l=C.pool(i),r=l.get(),s=0;if(null!=this.__cbOnMouseUp)for(var h=0,a=this.__cbOnMouseUp.length;h<a;){var o=h++,c=this.__onOwnerMouseUp[o],u=!1;null!=te.get_context().focusedWindow?null!=c&&(u=re._filterEventOwner(c)):u=!0,u?(r.vector[s]=this.__cbOnMouseUp[o],++s):--i}if(null!=this.__cbOnceMouseUp){for(var _=null,d=null,b=null,h=0,a=this.__cbOnceMouseUp.length;h<a;){var g,o=h++,c=this.__onceOwnerMouseUp[o],u=!1;null!=te.get_context().focusedWindow?null!=c&&(u=re._filterEventOwner(c)):u=!0,u?(r.vector[s]=this.__cbOnceMouseUp[o],this.__cbOnceMouseUp[o]=null,g=this.__cbOnceOwnerUnbindMouseUp[o],(this.__cbOnceOwnerUnbindMouseUp[o]=null)!=g&&g(),++s):(--i,null==_&&(_=[],d=[],b=[]),_.push(this.__cbOnceOwnerUnbindMouseUp[o]),d.push(this.__cbOnceMouseUp[o]),b.push(this.__onceOwnerMouseUp[o]))}this.__cbOnceOwnerUnbindMouseUp=_,this.__cbOnceMouseUp=d,this.__onceOwnerMouseUp=b}for(h=0,a=i;h<a;){s=h++;(0,r.vector[s])(e,n,t)}l.release(r),r=null}var l=1e4+e,O=this.matchedDownListeners.h[l];null!=O&&0<=O._lifecycleState&&0<O._numPointerDown&&(O._numPointerDown--,0!=O._numPointerDown&&!O.multiTouch||O.emitPointerUp(new St(-1,e,n,t,O._hits(n,t,!1)))),this.matchedDownListeners.remove(l)},onMouseUp:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event mouseUp because owner is destroyed!");var l=function(e){null!=t&&(i.offMouseUp(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindMouseUp&&(this.__cbOnOwnerUnbindMouseUp=[]),this.__cbOnOwnerUnbindMouseUp.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindMouseUp&&(this.__cbOnOwnerUnbindMouseUp=[]),this.__cbOnOwnerUnbindMouseUp.push(null);null==this.__cbOnMouseUp&&(this.__cbOnMouseUp=[]),this.__cbOnMouseUp.push(t),null==this.__onOwnerMouseUp&&(this.__onOwnerMouseUp=[]),this.__onOwnerMouseUp.push(n)},onceMouseUp:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event mouseUp because owner is destroyed!");var l=function(e){null!=t&&(i.offMouseUp(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindMouseUp&&(this.__cbOnceOwnerUnbindMouseUp=[]),this.__cbOnceOwnerUnbindMouseUp.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindMouseUp&&(this.__cbOnceOwnerUnbindMouseUp=[]),this.__cbOnceOwnerUnbindMouseUp.push(null);null==this.__cbOnceMouseUp&&(this.__cbOnceMouseUp=[]),this.__cbOnceMouseUp.push(t),null==this.__onceOwnerMouseUp&&(this.__onceOwnerMouseUp=[]),this.__onceOwnerMouseUp.push(n)},offMouseUp:function(e){if(null!=e){var n;null!=this.__cbOnMouseUp&&-1!=(n=this.__cbOnMouseUp.indexOf(e))&&(this.__cbOnMouseUp.splice(n,1),null!=(r=this.__cbOnOwnerUnbindMouseUp[n])&&r(),this.__cbOnOwnerUnbindMouseUp.splice(n,1),this.__onOwnerMouseUp.splice(n,1)),null!=this.__cbOnceMouseUp&&-1!=(n=this.__cbOnceMouseUp.indexOf(e))&&(this.__cbOnceMouseUp.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindMouseUp[n])&&r(),this.__cbOnceOwnerUnbindMouseUp.splice(n,1),this.__onceOwnerMouseUp.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindMouseUp){for(var t=0,i=this.__cbOnOwnerUnbindMouseUp.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindMouseUp[l])&&r()}this.__cbOnOwnerUnbindMouseUp=null}if(null!=this.__cbOnceOwnerUnbindMouseUp){for(t=0,i=this.__cbOnceOwnerUnbindMouseUp.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindMouseUp[l])&&r()}this.__cbOnceOwnerUnbindMouseUp=null}this.__cbOnMouseUp=null,this.__cbOnceMouseUp=null,this.__onOwnerMouseUp=null,this.__onceOwnerMouseUp=null}},listensMouseUp:function(){return null!=this.__cbOnMouseUp&&0<this.__cbOnMouseUp.length||null!=this.__cbOnceMouseUp&&0<this.__cbOnceMouseUp.length},__cbOnMouseWheel:null,__cbOnceMouseWheel:null,__cbOnOwnerUnbindMouseWheel:null,__cbOnceOwnerUnbindMouseWheel:null,emitMouseWheel:function(e,n){this.willEmitMouseWheel(e,n);var t=0;if(null!=this.__cbOnMouseWheel&&(t+=this.__cbOnMouseWheel.length),null!=this.__cbOnceMouseWheel&&(t+=this.__cbOnceMouseWheel.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnMouseWheel)for(var s=0,h=this.__cbOnMouseWheel.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnMouseWheel[a],++r):--t}if(null!=this.__cbOnceMouseWheel){for(var o=null,c=null,s=0,h=this.__cbOnceMouseWheel.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceMouseWheel[a],this.__cbOnceMouseWheel[a]=null,u=this.__cbOnceOwnerUnbindMouseWheel[a],(this.__cbOnceOwnerUnbindMouseWheel[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindMouseWheel[a]),c.push(this.__cbOnceMouseWheel[a]))}this.__cbOnceOwnerUnbindMouseWheel=o,this.__cbOnceMouseWheel=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onMouseWheel:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event mouseWheel because owner is destroyed!");var l=function(e){null!=t&&(i.offMouseWheel(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindMouseWheel&&(this.__cbOnOwnerUnbindMouseWheel=[]),this.__cbOnOwnerUnbindMouseWheel.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindMouseWheel&&(this.__cbOnOwnerUnbindMouseWheel=[]),this.__cbOnOwnerUnbindMouseWheel.push(null);null==this.__cbOnMouseWheel&&(this.__cbOnMouseWheel=[]),this.__cbOnMouseWheel.push(t)},onceMouseWheel:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event mouseWheel because owner is destroyed!");var l=function(e){null!=t&&(i.offMouseWheel(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindMouseWheel&&(this.__cbOnceOwnerUnbindMouseWheel=[]),this.__cbOnceOwnerUnbindMouseWheel.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindMouseWheel&&(this.__cbOnceOwnerUnbindMouseWheel=[]),this.__cbOnceOwnerUnbindMouseWheel.push(null);null==this.__cbOnceMouseWheel&&(this.__cbOnceMouseWheel=[]),this.__cbOnceMouseWheel.push(t)},offMouseWheel:function(e){if(null!=e){var n;null!=this.__cbOnMouseWheel&&-1!=(n=this.__cbOnMouseWheel.indexOf(e))&&(this.__cbOnMouseWheel.splice(n,1),null!=(r=this.__cbOnOwnerUnbindMouseWheel[n])&&r(),this.__cbOnOwnerUnbindMouseWheel.splice(n,1)),null!=this.__cbOnceMouseWheel&&-1!=(n=this.__cbOnceMouseWheel.indexOf(e))&&(this.__cbOnceMouseWheel.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindMouseWheel[n])&&r(),this.__cbOnceOwnerUnbindMouseWheel.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindMouseWheel){for(var t=0,i=this.__cbOnOwnerUnbindMouseWheel.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindMouseWheel[l])&&r()}this.__cbOnOwnerUnbindMouseWheel=null}if(null!=this.__cbOnceOwnerUnbindMouseWheel){for(t=0,i=this.__cbOnceOwnerUnbindMouseWheel.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindMouseWheel[l])&&r()}this.__cbOnceOwnerUnbindMouseWheel=null}this.__cbOnMouseWheel=null,this.__cbOnceMouseWheel=null}},listensMouseWheel:function(){return null!=this.__cbOnMouseWheel&&0<this.__cbOnMouseWheel.length||null!=this.__cbOnceMouseWheel&&0<this.__cbOnceMouseWheel.length},__cbOnMouseMove:null,__cbOnceMouseMove:null,__cbOnOwnerUnbindMouseMove:null,__cbOnceOwnerUnbindMouseMove:null,__onOwnerMouseMove:null,__onceOwnerMouseMove:null,emitMouseMove:function(e,n){this.willEmitMouseMove(e,n);var t=0;if(null!=this.__cbOnMouseMove&&(t+=this.__cbOnMouseMove.length),null!=this.__cbOnceMouseMove&&(t+=this.__cbOnceMouseMove.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnMouseMove)for(var s=0,h=this.__cbOnMouseMove.length;s<h;){var a=s++,o=this.__onOwnerMouseMove[a],c=!1;null!=te.get_context().focusedWindow?null!=o&&(c=re._filterEventOwner(o)):c=!0,c?(l.vector[r]=this.__cbOnMouseMove[a],++r):--t}if(null!=this.__cbOnceMouseMove){for(var u=null,_=null,d=null,s=0,h=this.__cbOnceMouseMove.length;s<h;){var b,a=s++,o=this.__onceOwnerMouseMove[a],c=!1;null!=te.get_context().focusedWindow?null!=o&&(c=re._filterEventOwner(o)):c=!0,c?(l.vector[r]=this.__cbOnceMouseMove[a],this.__cbOnceMouseMove[a]=null,b=this.__cbOnceOwnerUnbindMouseMove[a],(this.__cbOnceOwnerUnbindMouseMove[a]=null)!=b&&b(),++r):(--t,null==u&&(u=[],_=[],d=[]),u.push(this.__cbOnceOwnerUnbindMouseMove[a]),_.push(this.__cbOnceMouseMove[a]),d.push(this.__onceOwnerMouseMove[a]))}this.__cbOnceOwnerUnbindMouseMove=u,this.__cbOnceMouseMove=_,this.__onceOwnerMouseMove=d}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onMouseMove:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event mouseMove because owner is destroyed!");var l=function(e){null!=t&&(i.offMouseMove(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindMouseMove&&(this.__cbOnOwnerUnbindMouseMove=[]),this.__cbOnOwnerUnbindMouseMove.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindMouseMove&&(this.__cbOnOwnerUnbindMouseMove=[]),this.__cbOnOwnerUnbindMouseMove.push(null);null==this.__cbOnMouseMove&&(this.__cbOnMouseMove=[]),this.__cbOnMouseMove.push(t),null==this.__onOwnerMouseMove&&(this.__onOwnerMouseMove=[]),this.__onOwnerMouseMove.push(n)},onceMouseMove:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event mouseMove because owner is destroyed!");var l=function(e){null!=t&&(i.offMouseMove(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindMouseMove&&(this.__cbOnceOwnerUnbindMouseMove=[]),this.__cbOnceOwnerUnbindMouseMove.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindMouseMove&&(this.__cbOnceOwnerUnbindMouseMove=[]),this.__cbOnceOwnerUnbindMouseMove.push(null);null==this.__cbOnceMouseMove&&(this.__cbOnceMouseMove=[]),this.__cbOnceMouseMove.push(t),null==this.__onceOwnerMouseMove&&(this.__onceOwnerMouseMove=[]),this.__onceOwnerMouseMove.push(n)},offMouseMove:function(e){if(null!=e){var n;null!=this.__cbOnMouseMove&&-1!=(n=this.__cbOnMouseMove.indexOf(e))&&(this.__cbOnMouseMove.splice(n,1),null!=(r=this.__cbOnOwnerUnbindMouseMove[n])&&r(),this.__cbOnOwnerUnbindMouseMove.splice(n,1),this.__onOwnerMouseMove.splice(n,1)),null!=this.__cbOnceMouseMove&&-1!=(n=this.__cbOnceMouseMove.indexOf(e))&&(this.__cbOnceMouseMove.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindMouseMove[n])&&r(),this.__cbOnceOwnerUnbindMouseMove.splice(n,1),this.__onceOwnerMouseMove.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindMouseMove){for(var t=0,i=this.__cbOnOwnerUnbindMouseMove.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindMouseMove[l])&&r()}this.__cbOnOwnerUnbindMouseMove=null}if(null!=this.__cbOnceOwnerUnbindMouseMove){for(t=0,i=this.__cbOnceOwnerUnbindMouseMove.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindMouseMove[l])&&r()}this.__cbOnceOwnerUnbindMouseMove=null}this.__cbOnMouseMove=null,this.__cbOnceMouseMove=null,this.__onOwnerMouseMove=null,this.__onceOwnerMouseMove=null}},listensMouseMove:function(){return null!=this.__cbOnMouseMove&&0<this.__cbOnMouseMove.length||null!=this.__cbOnceMouseMove&&0<this.__cbOnceMouseMove.length},__cbOnTouchDown:null,__cbOnceTouchDown:null,__cbOnOwnerUnbindTouchDown:null,__cbOnceOwnerUnbindTouchDown:null,__onOwnerTouchDown:null,__onceOwnerTouchDown:null,emitTouchDown:function(e,n,t){this.willEmitTouchDown(e,n,t);var i=0;if(null!=this.__cbOnTouchDown&&(i+=this.__cbOnTouchDown.length),null!=this.__cbOnceTouchDown&&(i+=this.__cbOnceTouchDown.length),0<i){var l=C.pool(i),r=l.get(),s=0;if(null!=this.__cbOnTouchDown)for(var h=0,a=this.__cbOnTouchDown.length;h<a;){var o=h++,c=this.__onOwnerTouchDown[o],u=!1;null!=te.get_context().focusedWindow?null!=c&&(u=re._filterEventOwner(c)):u=!0,u?(r.vector[s]=this.__cbOnTouchDown[o],++s):--i}if(null!=this.__cbOnceTouchDown){for(var _=null,d=null,b=null,h=0,a=this.__cbOnceTouchDown.length;h<a;){var g,o=h++,c=this.__onceOwnerTouchDown[o],u=!1;null!=te.get_context().focusedWindow?null!=c&&(u=re._filterEventOwner(c)):u=!0,u?(r.vector[s]=this.__cbOnceTouchDown[o],this.__cbOnceTouchDown[o]=null,g=this.__cbOnceOwnerUnbindTouchDown[o],(this.__cbOnceOwnerUnbindTouchDown[o]=null)!=g&&g(),++s):(--i,null==_&&(_=[],d=[],b=[]),_.push(this.__cbOnceOwnerUnbindTouchDown[o]),d.push(this.__cbOnceTouchDown[o]),b.push(this.__onceOwnerTouchDown[o]))}this.__cbOnceOwnerUnbindTouchDown=_,this.__cbOnceTouchDown=d,this.__onceOwnerTouchDown=b}for(h=0,a=i;h<a;){s=h++;(0,r.vector[s])(e,n,t)}l.release(r),r=null}l=this.matchFirstDownListener(n,t,e,-1);null!=l&&(l._numPointerDown++,1!=l._numPointerDown&&!l.multiTouch||(he.app.screen.set_focusedVisual(l),l.emitPointerDown(new St(e,-1,n,t,!0)))),this.matchedDownListeners.h[2e4+e]=l},onTouchDown:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event touchDown because owner is destroyed!");var l=function(e){null!=t&&(i.offTouchDown(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindTouchDown&&(this.__cbOnOwnerUnbindTouchDown=[]),this.__cbOnOwnerUnbindTouchDown.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindTouchDown&&(this.__cbOnOwnerUnbindTouchDown=[]),this.__cbOnOwnerUnbindTouchDown.push(null);null==this.__cbOnTouchDown&&(this.__cbOnTouchDown=[]),this.__cbOnTouchDown.push(t),null==this.__onOwnerTouchDown&&(this.__onOwnerTouchDown=[]),this.__onOwnerTouchDown.push(n)},onceTouchDown:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event touchDown because owner is destroyed!");var l=function(e){null!=t&&(i.offTouchDown(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindTouchDown&&(this.__cbOnceOwnerUnbindTouchDown=[]),this.__cbOnceOwnerUnbindTouchDown.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindTouchDown&&(this.__cbOnceOwnerUnbindTouchDown=[]),this.__cbOnceOwnerUnbindTouchDown.push(null);null==this.__cbOnceTouchDown&&(this.__cbOnceTouchDown=[]),this.__cbOnceTouchDown.push(t),null==this.__onceOwnerTouchDown&&(this.__onceOwnerTouchDown=[]),this.__onceOwnerTouchDown.push(n)},offTouchDown:function(e){if(null!=e){var n;null!=this.__cbOnTouchDown&&-1!=(n=this.__cbOnTouchDown.indexOf(e))&&(this.__cbOnTouchDown.splice(n,1),null!=(r=this.__cbOnOwnerUnbindTouchDown[n])&&r(),this.__cbOnOwnerUnbindTouchDown.splice(n,1),this.__onOwnerTouchDown.splice(n,1)),null!=this.__cbOnceTouchDown&&-1!=(n=this.__cbOnceTouchDown.indexOf(e))&&(this.__cbOnceTouchDown.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindTouchDown[n])&&r(),this.__cbOnceOwnerUnbindTouchDown.splice(n,1),this.__onceOwnerTouchDown.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindTouchDown){for(var t=0,i=this.__cbOnOwnerUnbindTouchDown.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindTouchDown[l])&&r()}this.__cbOnOwnerUnbindTouchDown=null}if(null!=this.__cbOnceOwnerUnbindTouchDown){for(t=0,i=this.__cbOnceOwnerUnbindTouchDown.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindTouchDown[l])&&r()}this.__cbOnceOwnerUnbindTouchDown=null}this.__cbOnTouchDown=null,this.__cbOnceTouchDown=null,this.__onOwnerTouchDown=null,this.__onceOwnerTouchDown=null}},listensTouchDown:function(){return null!=this.__cbOnTouchDown&&0<this.__cbOnTouchDown.length||null!=this.__cbOnceTouchDown&&0<this.__cbOnceTouchDown.length},__cbOnTouchUp:null,__cbOnceTouchUp:null,__cbOnOwnerUnbindTouchUp:null,__cbOnceOwnerUnbindTouchUp:null,__onOwnerTouchUp:null,__onceOwnerTouchUp:null,emitTouchUp:function(e,n,t){this.willEmitTouchUp(e,n,t);var i=0;if(null!=this.__cbOnTouchUp&&(i+=this.__cbOnTouchUp.length),null!=this.__cbOnceTouchUp&&(i+=this.__cbOnceTouchUp.length),0<i){var l=C.pool(i),r=l.get(),s=0;if(null!=this.__cbOnTouchUp)for(var h=0,a=this.__cbOnTouchUp.length;h<a;){var o=h++,c=this.__onOwnerTouchUp[o],u=!1;null!=te.get_context().focusedWindow?null!=c&&(u=re._filterEventOwner(c)):u=!0,u?(r.vector[s]=this.__cbOnTouchUp[o],++s):--i}if(null!=this.__cbOnceTouchUp){for(var _=null,d=null,b=null,h=0,a=this.__cbOnceTouchUp.length;h<a;){var g,o=h++,c=this.__onceOwnerTouchUp[o],u=!1;null!=te.get_context().focusedWindow?null!=c&&(u=re._filterEventOwner(c)):u=!0,u?(r.vector[s]=this.__cbOnceTouchUp[o],this.__cbOnceTouchUp[o]=null,g=this.__cbOnceOwnerUnbindTouchUp[o],(this.__cbOnceOwnerUnbindTouchUp[o]=null)!=g&&g(),++s):(--i,null==_&&(_=[],d=[],b=[]),_.push(this.__cbOnceOwnerUnbindTouchUp[o]),d.push(this.__cbOnceTouchUp[o]),b.push(this.__onceOwnerTouchUp[o]))}this.__cbOnceOwnerUnbindTouchUp=_,this.__cbOnceTouchUp=d,this.__onceOwnerTouchUp=b}for(h=0,a=i;h<a;){s=h++;(0,r.vector[s])(e,n,t)}l.release(r),r=null}var l=2e4+e,O=this.matchedDownListeners.h[l];null!=O&&0<=O._lifecycleState&&0<O._numPointerDown&&(O._numPointerDown--,0!=O._numPointerDown&&!O.multiTouch||O.emitPointerUp(new St(e,-1,n,t,O._hits(n,t,!1)))),this.matchedDownListeners.remove(l)},onTouchUp:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event touchUp because owner is destroyed!");var l=function(e){null!=t&&(i.offTouchUp(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindTouchUp&&(this.__cbOnOwnerUnbindTouchUp=[]),this.__cbOnOwnerUnbindTouchUp.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindTouchUp&&(this.__cbOnOwnerUnbindTouchUp=[]),this.__cbOnOwnerUnbindTouchUp.push(null);null==this.__cbOnTouchUp&&(this.__cbOnTouchUp=[]),this.__cbOnTouchUp.push(t),null==this.__onOwnerTouchUp&&(this.__onOwnerTouchUp=[]),this.__onOwnerTouchUp.push(n)},onceTouchUp:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event touchUp because owner is destroyed!");var l=function(e){null!=t&&(i.offTouchUp(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindTouchUp&&(this.__cbOnceOwnerUnbindTouchUp=[]),this.__cbOnceOwnerUnbindTouchUp.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindTouchUp&&(this.__cbOnceOwnerUnbindTouchUp=[]),this.__cbOnceOwnerUnbindTouchUp.push(null);null==this.__cbOnceTouchUp&&(this.__cbOnceTouchUp=[]),this.__cbOnceTouchUp.push(t),null==this.__onceOwnerTouchUp&&(this.__onceOwnerTouchUp=[]),this.__onceOwnerTouchUp.push(n)},offTouchUp:function(e){if(null!=e){var n;null!=this.__cbOnTouchUp&&-1!=(n=this.__cbOnTouchUp.indexOf(e))&&(this.__cbOnTouchUp.splice(n,1),null!=(r=this.__cbOnOwnerUnbindTouchUp[n])&&r(),this.__cbOnOwnerUnbindTouchUp.splice(n,1),this.__onOwnerTouchUp.splice(n,1)),null!=this.__cbOnceTouchUp&&-1!=(n=this.__cbOnceTouchUp.indexOf(e))&&(this.__cbOnceTouchUp.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindTouchUp[n])&&r(),this.__cbOnceOwnerUnbindTouchUp.splice(n,1),this.__onceOwnerTouchUp.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindTouchUp){for(var t=0,i=this.__cbOnOwnerUnbindTouchUp.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindTouchUp[l])&&r()}this.__cbOnOwnerUnbindTouchUp=null}if(null!=this.__cbOnceOwnerUnbindTouchUp){for(t=0,i=this.__cbOnceOwnerUnbindTouchUp.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindTouchUp[l])&&r()}this.__cbOnceOwnerUnbindTouchUp=null}this.__cbOnTouchUp=null,this.__cbOnceTouchUp=null,this.__onOwnerTouchUp=null,this.__onceOwnerTouchUp=null}},listensTouchUp:function(){return null!=this.__cbOnTouchUp&&0<this.__cbOnTouchUp.length||null!=this.__cbOnceTouchUp&&0<this.__cbOnceTouchUp.length},__cbOnTouchMove:null,__cbOnceTouchMove:null,__cbOnOwnerUnbindTouchMove:null,__cbOnceOwnerUnbindTouchMove:null,__onOwnerTouchMove:null,__onceOwnerTouchMove:null,emitTouchMove:function(e,n,t){this.willEmitTouchMove(e,n,t);var i=0;if(null!=this.__cbOnTouchMove&&(i+=this.__cbOnTouchMove.length),null!=this.__cbOnceTouchMove&&(i+=this.__cbOnceTouchMove.length),0<i){var l=C.pool(i),r=l.get(),s=0;if(null!=this.__cbOnTouchMove)for(var h=0,a=this.__cbOnTouchMove.length;h<a;){var o=h++,c=this.__onOwnerTouchMove[o],u=!1;null!=te.get_context().focusedWindow?null!=c&&(u=re._filterEventOwner(c)):u=!0,u?(r.vector[s]=this.__cbOnTouchMove[o],++s):--i}if(null!=this.__cbOnceTouchMove){for(var _=null,d=null,b=null,h=0,a=this.__cbOnceTouchMove.length;h<a;){var g,o=h++,c=this.__onceOwnerTouchMove[o],u=!1;null!=te.get_context().focusedWindow?null!=c&&(u=re._filterEventOwner(c)):u=!0,u?(r.vector[s]=this.__cbOnceTouchMove[o],this.__cbOnceTouchMove[o]=null,g=this.__cbOnceOwnerUnbindTouchMove[o],(this.__cbOnceOwnerUnbindTouchMove[o]=null)!=g&&g(),++s):(--i,null==_&&(_=[],d=[],b=[]),_.push(this.__cbOnceOwnerUnbindTouchMove[o]),d.push(this.__cbOnceTouchMove[o]),b.push(this.__onceOwnerTouchMove[o]))}this.__cbOnceOwnerUnbindTouchMove=_,this.__cbOnceTouchMove=d,this.__onceOwnerTouchMove=b}for(h=0,a=i;h<a;){s=h++;(0,r.vector[s])(e,n,t)}l.release(r)}},onTouchMove:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event touchMove because owner is destroyed!");var l=function(e){null!=t&&(i.offTouchMove(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindTouchMove&&(this.__cbOnOwnerUnbindTouchMove=[]),this.__cbOnOwnerUnbindTouchMove.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindTouchMove&&(this.__cbOnOwnerUnbindTouchMove=[]),this.__cbOnOwnerUnbindTouchMove.push(null);null==this.__cbOnTouchMove&&(this.__cbOnTouchMove=[]),this.__cbOnTouchMove.push(t),null==this.__onOwnerTouchMove&&(this.__onOwnerTouchMove=[]),this.__onOwnerTouchMove.push(n)},onceTouchMove:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event touchMove because owner is destroyed!");var l=function(e){null!=t&&(i.offTouchMove(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindTouchMove&&(this.__cbOnceOwnerUnbindTouchMove=[]),this.__cbOnceOwnerUnbindTouchMove.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindTouchMove&&(this.__cbOnceOwnerUnbindTouchMove=[]),this.__cbOnceOwnerUnbindTouchMove.push(null);null==this.__cbOnceTouchMove&&(this.__cbOnceTouchMove=[]),this.__cbOnceTouchMove.push(t),null==this.__onceOwnerTouchMove&&(this.__onceOwnerTouchMove=[]),this.__onceOwnerTouchMove.push(n)},offTouchMove:function(e){if(null!=e){var n;null!=this.__cbOnTouchMove&&-1!=(n=this.__cbOnTouchMove.indexOf(e))&&(this.__cbOnTouchMove.splice(n,1),null!=(r=this.__cbOnOwnerUnbindTouchMove[n])&&r(),this.__cbOnOwnerUnbindTouchMove.splice(n,1),this.__onOwnerTouchMove.splice(n,1)),null!=this.__cbOnceTouchMove&&-1!=(n=this.__cbOnceTouchMove.indexOf(e))&&(this.__cbOnceTouchMove.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindTouchMove[n])&&r(),this.__cbOnceOwnerUnbindTouchMove.splice(n,1),this.__onceOwnerTouchMove.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindTouchMove){for(var t=0,i=this.__cbOnOwnerUnbindTouchMove.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindTouchMove[l])&&r()}this.__cbOnOwnerUnbindTouchMove=null}if(null!=this.__cbOnceOwnerUnbindTouchMove){for(t=0,i=this.__cbOnceOwnerUnbindTouchMove.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindTouchMove[l])&&r()}this.__cbOnceOwnerUnbindTouchMove=null}this.__cbOnTouchMove=null,this.__cbOnceTouchMove=null,this.__onOwnerTouchMove=null,this.__onceOwnerTouchMove=null}},listensTouchMove:function(){return null!=this.__cbOnTouchMove&&0<this.__cbOnTouchMove.length||null!=this.__cbOnceTouchMove&&0<this.__cbOnceTouchMove.length},__cbOnPointerDown:null,__cbOncePointerDown:null,__cbOnOwnerUnbindPointerDown:null,__cbOnceOwnerUnbindPointerDown:null,__onOwnerPointerDown:null,__onceOwnerPointerDown:null,emitPointerDown:function(e){var n=0;if(null!=this.__cbOnPointerDown&&(n+=this.__cbOnPointerDown.length),null!=this.__cbOncePointerDown&&(n+=this.__cbOncePointerDown.length),0<n){var t=C.pool(n),i=t.get(),l=0;if(null!=this.__cbOnPointerDown)for(var r=0,s=this.__cbOnPointerDown.length;r<s;){var h=r++,a=this.__onOwnerPointerDown[h],o=!1;null!=te.get_context().focusedWindow?null!=a&&(o=re._filterEventOwner(a)):o=!0,o?(i.vector[l]=this.__cbOnPointerDown[h],++l):--n}if(null!=this.__cbOncePointerDown){for(var c=null,u=null,_=null,r=0,s=this.__cbOncePointerDown.length;r<s;){var d,h=r++,a=this.__onceOwnerPointerDown[h],o=!1;null!=te.get_context().focusedWindow?null!=a&&(o=re._filterEventOwner(a)):o=!0,o?(i.vector[l]=this.__cbOncePointerDown[h],this.__cbOncePointerDown[h]=null,d=this.__cbOnceOwnerUnbindPointerDown[h],(this.__cbOnceOwnerUnbindPointerDown[h]=null)!=d&&d(),++l):(--n,null==c&&(c=[],u=[],_=[]),c.push(this.__cbOnceOwnerUnbindPointerDown[h]),u.push(this.__cbOncePointerDown[h]),_.push(this.__onceOwnerPointerDown[h]))}this.__cbOnceOwnerUnbindPointerDown=c,this.__cbOncePointerDown=u,this.__onceOwnerPointerDown=_}for(r=0,s=n;r<s;){l=r++;(0,i.vector[l])(e)}t.release(i)}},onPointerDown:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event pointerDown because owner is destroyed!");var l=function(e){null!=t&&(i.offPointerDown(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindPointerDown&&(this.__cbOnOwnerUnbindPointerDown=[]),this.__cbOnOwnerUnbindPointerDown.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindPointerDown&&(this.__cbOnOwnerUnbindPointerDown=[]),this.__cbOnOwnerUnbindPointerDown.push(null);null==this.__cbOnPointerDown&&(this.__cbOnPointerDown=[]),this.__cbOnPointerDown.push(t),null==this.__onOwnerPointerDown&&(this.__onOwnerPointerDown=[]),this.__onOwnerPointerDown.push(n)},oncePointerDown:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event pointerDown because owner is destroyed!");var l=function(e){null!=t&&(i.offPointerDown(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindPointerDown&&(this.__cbOnceOwnerUnbindPointerDown=[]),this.__cbOnceOwnerUnbindPointerDown.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindPointerDown&&(this.__cbOnceOwnerUnbindPointerDown=[]),this.__cbOnceOwnerUnbindPointerDown.push(null);null==this.__cbOncePointerDown&&(this.__cbOncePointerDown=[]),this.__cbOncePointerDown.push(t),null==this.__onceOwnerPointerDown&&(this.__onceOwnerPointerDown=[]),this.__onceOwnerPointerDown.push(n)},offPointerDown:function(e){if(null!=e){var n;null!=this.__cbOnPointerDown&&-1!=(n=this.__cbOnPointerDown.indexOf(e))&&(this.__cbOnPointerDown.splice(n,1),null!=(r=this.__cbOnOwnerUnbindPointerDown[n])&&r(),this.__cbOnOwnerUnbindPointerDown.splice(n,1),this.__onOwnerPointerDown.splice(n,1)),null!=this.__cbOncePointerDown&&-1!=(n=this.__cbOncePointerDown.indexOf(e))&&(this.__cbOncePointerDown.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindPointerDown[n])&&r(),this.__cbOnceOwnerUnbindPointerDown.splice(n,1),this.__onceOwnerPointerDown.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindPointerDown){for(var t=0,i=this.__cbOnOwnerUnbindPointerDown.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindPointerDown[l])&&r()}this.__cbOnOwnerUnbindPointerDown=null}if(null!=this.__cbOnceOwnerUnbindPointerDown){for(t=0,i=this.__cbOnceOwnerUnbindPointerDown.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindPointerDown[l])&&r()}this.__cbOnceOwnerUnbindPointerDown=null}this.__cbOnPointerDown=null,this.__cbOncePointerDown=null,this.__onOwnerPointerDown=null,this.__onceOwnerPointerDown=null}},listensPointerDown:function(){return null!=this.__cbOnPointerDown&&0<this.__cbOnPointerDown.length||null!=this.__cbOncePointerDown&&0<this.__cbOncePointerDown.length},__cbOnPointerUp:null,__cbOncePointerUp:null,__cbOnOwnerUnbindPointerUp:null,__cbOnceOwnerUnbindPointerUp:null,__onOwnerPointerUp:null,__onceOwnerPointerUp:null,emitPointerUp:function(e){var n=0;if(null!=this.__cbOnPointerUp&&(n+=this.__cbOnPointerUp.length),null!=this.__cbOncePointerUp&&(n+=this.__cbOncePointerUp.length),0<n){var t=C.pool(n),i=t.get(),l=0;if(null!=this.__cbOnPointerUp)for(var r=0,s=this.__cbOnPointerUp.length;r<s;){var h=r++,a=this.__onOwnerPointerUp[h],o=!1;null!=te.get_context().focusedWindow?null!=a&&(o=re._filterEventOwner(a)):o=!0,o?(i.vector[l]=this.__cbOnPointerUp[h],++l):--n}if(null!=this.__cbOncePointerUp){for(var c=null,u=null,_=null,r=0,s=this.__cbOncePointerUp.length;r<s;){var d,h=r++,a=this.__onceOwnerPointerUp[h],o=!1;null!=te.get_context().focusedWindow?null!=a&&(o=re._filterEventOwner(a)):o=!0,o?(i.vector[l]=this.__cbOncePointerUp[h],this.__cbOncePointerUp[h]=null,d=this.__cbOnceOwnerUnbindPointerUp[h],(this.__cbOnceOwnerUnbindPointerUp[h]=null)!=d&&d(),++l):(--n,null==c&&(c=[],u=[],_=[]),c.push(this.__cbOnceOwnerUnbindPointerUp[h]),u.push(this.__cbOncePointerUp[h]),_.push(this.__onceOwnerPointerUp[h]))}this.__cbOnceOwnerUnbindPointerUp=c,this.__cbOncePointerUp=u,this.__onceOwnerPointerUp=_}for(r=0,s=n;r<s;){l=r++;(0,i.vector[l])(e)}t.release(i)}},onPointerUp:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event pointerUp because owner is destroyed!");var l=function(e){null!=t&&(i.offPointerUp(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindPointerUp&&(this.__cbOnOwnerUnbindPointerUp=[]),this.__cbOnOwnerUnbindPointerUp.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindPointerUp&&(this.__cbOnOwnerUnbindPointerUp=[]),this.__cbOnOwnerUnbindPointerUp.push(null);null==this.__cbOnPointerUp&&(this.__cbOnPointerUp=[]),this.__cbOnPointerUp.push(t),null==this.__onOwnerPointerUp&&(this.__onOwnerPointerUp=[]),this.__onOwnerPointerUp.push(n)},oncePointerUp:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event pointerUp because owner is destroyed!");var l=function(e){null!=t&&(i.offPointerUp(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindPointerUp&&(this.__cbOnceOwnerUnbindPointerUp=[]),this.__cbOnceOwnerUnbindPointerUp.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindPointerUp&&(this.__cbOnceOwnerUnbindPointerUp=[]),this.__cbOnceOwnerUnbindPointerUp.push(null);null==this.__cbOncePointerUp&&(this.__cbOncePointerUp=[]),this.__cbOncePointerUp.push(t),null==this.__onceOwnerPointerUp&&(this.__onceOwnerPointerUp=[]),this.__onceOwnerPointerUp.push(n)},offPointerUp:function(e){if(null!=e){var n;null!=this.__cbOnPointerUp&&-1!=(n=this.__cbOnPointerUp.indexOf(e))&&(this.__cbOnPointerUp.splice(n,1),null!=(r=this.__cbOnOwnerUnbindPointerUp[n])&&r(),this.__cbOnOwnerUnbindPointerUp.splice(n,1),this.__onOwnerPointerUp.splice(n,1)),null!=this.__cbOncePointerUp&&-1!=(n=this.__cbOncePointerUp.indexOf(e))&&(this.__cbOncePointerUp.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindPointerUp[n])&&r(),this.__cbOnceOwnerUnbindPointerUp.splice(n,1),this.__onceOwnerPointerUp.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindPointerUp){for(var t=0,i=this.__cbOnOwnerUnbindPointerUp.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindPointerUp[l])&&r()}this.__cbOnOwnerUnbindPointerUp=null}if(null!=this.__cbOnceOwnerUnbindPointerUp){for(t=0,i=this.__cbOnceOwnerUnbindPointerUp.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindPointerUp[l])&&r()}this.__cbOnceOwnerUnbindPointerUp=null}this.__cbOnPointerUp=null,this.__cbOncePointerUp=null,this.__onOwnerPointerUp=null,this.__onceOwnerPointerUp=null}},listensPointerUp:function(){return null!=this.__cbOnPointerUp&&0<this.__cbOnPointerUp.length||null!=this.__cbOncePointerUp&&0<this.__cbOncePointerUp.length},__cbOnPointerMove:null,__cbOncePointerMove:null,__cbOnOwnerUnbindPointerMove:null,__cbOnceOwnerUnbindPointerMove:null,__onOwnerPointerMove:null,__onceOwnerPointerMove:null,emitPointerMove:function(e){var n=0;if(null!=this.__cbOnPointerMove&&(n+=this.__cbOnPointerMove.length),null!=this.__cbOncePointerMove&&(n+=this.__cbOncePointerMove.length),0<n){var t=C.pool(n),i=t.get(),l=0;if(null!=this.__cbOnPointerMove)for(var r=0,s=this.__cbOnPointerMove.length;r<s;){var h=r++,a=this.__onOwnerPointerMove[h],o=!1;null!=te.get_context().focusedWindow?null!=a&&(o=re._filterEventOwner(a)):o=!0,o?(i.vector[l]=this.__cbOnPointerMove[h],++l):--n}if(null!=this.__cbOncePointerMove){for(var c=null,u=null,_=null,r=0,s=this.__cbOncePointerMove.length;r<s;){var d,h=r++,a=this.__onceOwnerPointerMove[h],o=!1;null!=te.get_context().focusedWindow?null!=a&&(o=re._filterEventOwner(a)):o=!0,o?(i.vector[l]=this.__cbOncePointerMove[h],this.__cbOncePointerMove[h]=null,d=this.__cbOnceOwnerUnbindPointerMove[h],(this.__cbOnceOwnerUnbindPointerMove[h]=null)!=d&&d(),++l):(--n,null==c&&(c=[],u=[],_=[]),c.push(this.__cbOnceOwnerUnbindPointerMove[h]),u.push(this.__cbOncePointerMove[h]),_.push(this.__onceOwnerPointerMove[h]))}this.__cbOnceOwnerUnbindPointerMove=c,this.__cbOncePointerMove=u,this.__onceOwnerPointerMove=_}for(r=0,s=n;r<s;){l=r++;(0,i.vector[l])(e)}t.release(i)}},onPointerMove:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event pointerMove because owner is destroyed!");var l=function(e){null!=t&&(i.offPointerMove(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindPointerMove&&(this.__cbOnOwnerUnbindPointerMove=[]),this.__cbOnOwnerUnbindPointerMove.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindPointerMove&&(this.__cbOnOwnerUnbindPointerMove=[]),this.__cbOnOwnerUnbindPointerMove.push(null);null==this.__cbOnPointerMove&&(this.__cbOnPointerMove=[]),this.__cbOnPointerMove.push(t),null==this.__onOwnerPointerMove&&(this.__onOwnerPointerMove=[]),this.__onOwnerPointerMove.push(n)},oncePointerMove:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event pointerMove because owner is destroyed!");var l=function(e){null!=t&&(i.offPointerMove(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindPointerMove&&(this.__cbOnceOwnerUnbindPointerMove=[]),this.__cbOnceOwnerUnbindPointerMove.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindPointerMove&&(this.__cbOnceOwnerUnbindPointerMove=[]),this.__cbOnceOwnerUnbindPointerMove.push(null);null==this.__cbOncePointerMove&&(this.__cbOncePointerMove=[]),this.__cbOncePointerMove.push(t),null==this.__onceOwnerPointerMove&&(this.__onceOwnerPointerMove=[]),this.__onceOwnerPointerMove.push(n)},offPointerMove:function(e){if(null!=e){var n;null!=this.__cbOnPointerMove&&-1!=(n=this.__cbOnPointerMove.indexOf(e))&&(this.__cbOnPointerMove.splice(n,1),null!=(r=this.__cbOnOwnerUnbindPointerMove[n])&&r(),this.__cbOnOwnerUnbindPointerMove.splice(n,1),this.__onOwnerPointerMove.splice(n,1)),null!=this.__cbOncePointerMove&&-1!=(n=this.__cbOncePointerMove.indexOf(e))&&(this.__cbOncePointerMove.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindPointerMove[n])&&r(),this.__cbOnceOwnerUnbindPointerMove.splice(n,1),this.__onceOwnerPointerMove.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindPointerMove){for(var t=0,i=this.__cbOnOwnerUnbindPointerMove.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindPointerMove[l])&&r()}this.__cbOnOwnerUnbindPointerMove=null}if(null!=this.__cbOnceOwnerUnbindPointerMove){for(t=0,i=this.__cbOnceOwnerUnbindPointerMove.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindPointerMove[l])&&r()}this.__cbOnceOwnerUnbindPointerMove=null}this.__cbOnPointerMove=null,this.__cbOncePointerMove=null,this.__onOwnerPointerMove=null,this.__onceOwnerPointerMove=null}},listensPointerMove:function(){return null!=this.__cbOnPointerMove&&0<this.__cbOnPointerMove.length||null!=this.__cbOncePointerMove&&0<this.__cbOncePointerMove.length},__cbOnMultiTouchPointerDown:null,__cbOnceMultiTouchPointerDown:null,__cbOnOwnerUnbindMultiTouchPointerDown:null,__cbOnceOwnerUnbindMultiTouchPointerDown:null,__onOwnerMultiTouchPointerDown:null,__onceOwnerMultiTouchPointerDown:null,emitMultiTouchPointerDown:function(e){var n=0;if(null!=this.__cbOnMultiTouchPointerDown&&(n+=this.__cbOnMultiTouchPointerDown.length),null!=this.__cbOnceMultiTouchPointerDown&&(n+=this.__cbOnceMultiTouchPointerDown.length),0<n){var t=C.pool(n),i=t.get(),l=0;if(null!=this.__cbOnMultiTouchPointerDown)for(var r=0,s=this.__cbOnMultiTouchPointerDown.length;r<s;){var h=r++,a=this.__onOwnerMultiTouchPointerDown[h],o=!1;null!=te.get_context().focusedWindow?null!=a&&(o=re._filterEventOwner(a)):o=!0,o?(i.vector[l]=this.__cbOnMultiTouchPointerDown[h],++l):--n}if(null!=this.__cbOnceMultiTouchPointerDown){for(var c=null,u=null,_=null,r=0,s=this.__cbOnceMultiTouchPointerDown.length;r<s;){var d,h=r++,a=this.__onceOwnerMultiTouchPointerDown[h],o=!1;null!=te.get_context().focusedWindow?null!=a&&(o=re._filterEventOwner(a)):o=!0,o?(i.vector[l]=this.__cbOnceMultiTouchPointerDown[h],this.__cbOnceMultiTouchPointerDown[h]=null,d=this.__cbOnceOwnerUnbindMultiTouchPointerDown[h],(this.__cbOnceOwnerUnbindMultiTouchPointerDown[h]=null)!=d&&d(),++l):(--n,null==c&&(c=[],u=[],_=[]),c.push(this.__cbOnceOwnerUnbindMultiTouchPointerDown[h]),u.push(this.__cbOnceMultiTouchPointerDown[h]),_.push(this.__onceOwnerMultiTouchPointerDown[h]))}this.__cbOnceOwnerUnbindMultiTouchPointerDown=c,this.__cbOnceMultiTouchPointerDown=u,this.__onceOwnerMultiTouchPointerDown=_}for(r=0,s=n;r<s;){l=r++;(0,i.vector[l])(e)}t.release(i)}},onMultiTouchPointerDown:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event multiTouchPointerDown because owner is destroyed!");var l=function(e){null!=t&&(i.offMultiTouchPointerDown(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindMultiTouchPointerDown&&(this.__cbOnOwnerUnbindMultiTouchPointerDown=[]),this.__cbOnOwnerUnbindMultiTouchPointerDown.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindMultiTouchPointerDown&&(this.__cbOnOwnerUnbindMultiTouchPointerDown=[]),this.__cbOnOwnerUnbindMultiTouchPointerDown.push(null);null==this.__cbOnMultiTouchPointerDown&&(this.__cbOnMultiTouchPointerDown=[]),this.__cbOnMultiTouchPointerDown.push(t),null==this.__onOwnerMultiTouchPointerDown&&(this.__onOwnerMultiTouchPointerDown=[]),this.__onOwnerMultiTouchPointerDown.push(n)},onceMultiTouchPointerDown:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event multiTouchPointerDown because owner is destroyed!");var l=function(e){null!=t&&(i.offMultiTouchPointerDown(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindMultiTouchPointerDown&&(this.__cbOnceOwnerUnbindMultiTouchPointerDown=[]),this.__cbOnceOwnerUnbindMultiTouchPointerDown.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindMultiTouchPointerDown&&(this.__cbOnceOwnerUnbindMultiTouchPointerDown=[]),this.__cbOnceOwnerUnbindMultiTouchPointerDown.push(null);null==this.__cbOnceMultiTouchPointerDown&&(this.__cbOnceMultiTouchPointerDown=[]),this.__cbOnceMultiTouchPointerDown.push(t),null==this.__onceOwnerMultiTouchPointerDown&&(this.__onceOwnerMultiTouchPointerDown=[]),this.__onceOwnerMultiTouchPointerDown.push(n)},offMultiTouchPointerDown:function(e){if(null!=e){var n;null!=this.__cbOnMultiTouchPointerDown&&-1!=(n=this.__cbOnMultiTouchPointerDown.indexOf(e))&&(this.__cbOnMultiTouchPointerDown.splice(n,1),null!=(r=this.__cbOnOwnerUnbindMultiTouchPointerDown[n])&&r(),this.__cbOnOwnerUnbindMultiTouchPointerDown.splice(n,1),this.__onOwnerMultiTouchPointerDown.splice(n,1)),null!=this.__cbOnceMultiTouchPointerDown&&-1!=(n=this.__cbOnceMultiTouchPointerDown.indexOf(e))&&(this.__cbOnceMultiTouchPointerDown.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindMultiTouchPointerDown[n])&&r(),this.__cbOnceOwnerUnbindMultiTouchPointerDown.splice(n,1),this.__onceOwnerMultiTouchPointerDown.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindMultiTouchPointerDown){for(var t=0,i=this.__cbOnOwnerUnbindMultiTouchPointerDown.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindMultiTouchPointerDown[l])&&r()}this.__cbOnOwnerUnbindMultiTouchPointerDown=null}if(null!=this.__cbOnceOwnerUnbindMultiTouchPointerDown){for(t=0,i=this.__cbOnceOwnerUnbindMultiTouchPointerDown.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindMultiTouchPointerDown[l])&&r()}this.__cbOnceOwnerUnbindMultiTouchPointerDown=null}this.__cbOnMultiTouchPointerDown=null,this.__cbOnceMultiTouchPointerDown=null,this.__onOwnerMultiTouchPointerDown=null,this.__onceOwnerMultiTouchPointerDown=null}},listensMultiTouchPointerDown:function(){return null!=this.__cbOnMultiTouchPointerDown&&0<this.__cbOnMultiTouchPointerDown.length||null!=this.__cbOnceMultiTouchPointerDown&&0<this.__cbOnceMultiTouchPointerDown.length},__cbOnMultiTouchPointerUp:null,__cbOnceMultiTouchPointerUp:null,__cbOnOwnerUnbindMultiTouchPointerUp:null,__cbOnceOwnerUnbindMultiTouchPointerUp:null,__onOwnerMultiTouchPointerUp:null,__onceOwnerMultiTouchPointerUp:null,emitMultiTouchPointerUp:function(e){var n=0;if(null!=this.__cbOnMultiTouchPointerUp&&(n+=this.__cbOnMultiTouchPointerUp.length),null!=this.__cbOnceMultiTouchPointerUp&&(n+=this.__cbOnceMultiTouchPointerUp.length),0<n){var t=C.pool(n),i=t.get(),l=0;if(null!=this.__cbOnMultiTouchPointerUp)for(var r=0,s=this.__cbOnMultiTouchPointerUp.length;r<s;){var h=r++,a=this.__onOwnerMultiTouchPointerUp[h],o=!1;null!=te.get_context().focusedWindow?null!=a&&(o=re._filterEventOwner(a)):o=!0,o?(i.vector[l]=this.__cbOnMultiTouchPointerUp[h],++l):--n}if(null!=this.__cbOnceMultiTouchPointerUp){for(var c=null,u=null,_=null,r=0,s=this.__cbOnceMultiTouchPointerUp.length;r<s;){var d,h=r++,a=this.__onceOwnerMultiTouchPointerUp[h],o=!1;null!=te.get_context().focusedWindow?null!=a&&(o=re._filterEventOwner(a)):o=!0,o?(i.vector[l]=this.__cbOnceMultiTouchPointerUp[h],this.__cbOnceMultiTouchPointerUp[h]=null,d=this.__cbOnceOwnerUnbindMultiTouchPointerUp[h],(this.__cbOnceOwnerUnbindMultiTouchPointerUp[h]=null)!=d&&d(),++l):(--n,null==c&&(c=[],u=[],_=[]),c.push(this.__cbOnceOwnerUnbindMultiTouchPointerUp[h]),u.push(this.__cbOnceMultiTouchPointerUp[h]),_.push(this.__onceOwnerMultiTouchPointerUp[h]))}this.__cbOnceOwnerUnbindMultiTouchPointerUp=c,this.__cbOnceMultiTouchPointerUp=u,this.__onceOwnerMultiTouchPointerUp=_}for(r=0,s=n;r<s;){l=r++;(0,i.vector[l])(e)}t.release(i)}},onMultiTouchPointerUp:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event multiTouchPointerUp because owner is destroyed!");var l=function(e){null!=t&&(i.offMultiTouchPointerUp(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindMultiTouchPointerUp&&(this.__cbOnOwnerUnbindMultiTouchPointerUp=[]),this.__cbOnOwnerUnbindMultiTouchPointerUp.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindMultiTouchPointerUp&&(this.__cbOnOwnerUnbindMultiTouchPointerUp=[]),this.__cbOnOwnerUnbindMultiTouchPointerUp.push(null);null==this.__cbOnMultiTouchPointerUp&&(this.__cbOnMultiTouchPointerUp=[]),this.__cbOnMultiTouchPointerUp.push(t),null==this.__onOwnerMultiTouchPointerUp&&(this.__onOwnerMultiTouchPointerUp=[]),this.__onOwnerMultiTouchPointerUp.push(n)},onceMultiTouchPointerUp:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event multiTouchPointerUp because owner is destroyed!");var l=function(e){null!=t&&(i.offMultiTouchPointerUp(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindMultiTouchPointerUp&&(this.__cbOnceOwnerUnbindMultiTouchPointerUp=[]),this.__cbOnceOwnerUnbindMultiTouchPointerUp.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindMultiTouchPointerUp&&(this.__cbOnceOwnerUnbindMultiTouchPointerUp=[]),this.__cbOnceOwnerUnbindMultiTouchPointerUp.push(null);null==this.__cbOnceMultiTouchPointerUp&&(this.__cbOnceMultiTouchPointerUp=[]),this.__cbOnceMultiTouchPointerUp.push(t),null==this.__onceOwnerMultiTouchPointerUp&&(this.__onceOwnerMultiTouchPointerUp=[]),this.__onceOwnerMultiTouchPointerUp.push(n)},offMultiTouchPointerUp:function(e){if(null!=e){var n;null!=this.__cbOnMultiTouchPointerUp&&-1!=(n=this.__cbOnMultiTouchPointerUp.indexOf(e))&&(this.__cbOnMultiTouchPointerUp.splice(n,1),null!=(r=this.__cbOnOwnerUnbindMultiTouchPointerUp[n])&&r(),this.__cbOnOwnerUnbindMultiTouchPointerUp.splice(n,1),this.__onOwnerMultiTouchPointerUp.splice(n,1)),null!=this.__cbOnceMultiTouchPointerUp&&-1!=(n=this.__cbOnceMultiTouchPointerUp.indexOf(e))&&(this.__cbOnceMultiTouchPointerUp.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindMultiTouchPointerUp[n])&&r(),this.__cbOnceOwnerUnbindMultiTouchPointerUp.splice(n,1),this.__onceOwnerMultiTouchPointerUp.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindMultiTouchPointerUp){for(var t=0,i=this.__cbOnOwnerUnbindMultiTouchPointerUp.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindMultiTouchPointerUp[l])&&r()}this.__cbOnOwnerUnbindMultiTouchPointerUp=null}if(null!=this.__cbOnceOwnerUnbindMultiTouchPointerUp){for(t=0,i=this.__cbOnceOwnerUnbindMultiTouchPointerUp.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindMultiTouchPointerUp[l])&&r()}this.__cbOnceOwnerUnbindMultiTouchPointerUp=null}this.__cbOnMultiTouchPointerUp=null,this.__cbOnceMultiTouchPointerUp=null,this.__onOwnerMultiTouchPointerUp=null,this.__onceOwnerMultiTouchPointerUp=null}},listensMultiTouchPointerUp:function(){return null!=this.__cbOnMultiTouchPointerUp&&0<this.__cbOnMultiTouchPointerUp.length||null!=this.__cbOnceMultiTouchPointerUp&&0<this.__cbOnceMultiTouchPointerUp.length},__cbOnMultiTouchPointerMove:null,__cbOnceMultiTouchPointerMove:null,__cbOnOwnerUnbindMultiTouchPointerMove:null,__cbOnceOwnerUnbindMultiTouchPointerMove:null,__onOwnerMultiTouchPointerMove:null,__onceOwnerMultiTouchPointerMove:null,emitMultiTouchPointerMove:function(e){var n=0;if(null!=this.__cbOnMultiTouchPointerMove&&(n+=this.__cbOnMultiTouchPointerMove.length),null!=this.__cbOnceMultiTouchPointerMove&&(n+=this.__cbOnceMultiTouchPointerMove.length),0<n){var t=C.pool(n),i=t.get(),l=0;if(null!=this.__cbOnMultiTouchPointerMove)for(var r=0,s=this.__cbOnMultiTouchPointerMove.length;r<s;){var h=r++,a=this.__onOwnerMultiTouchPointerMove[h],o=!1;null!=te.get_context().focusedWindow?null!=a&&(o=re._filterEventOwner(a)):o=!0,o?(i.vector[l]=this.__cbOnMultiTouchPointerMove[h],++l):--n}if(null!=this.__cbOnceMultiTouchPointerMove){for(var c=null,u=null,_=null,r=0,s=this.__cbOnceMultiTouchPointerMove.length;r<s;){var d,h=r++,a=this.__onceOwnerMultiTouchPointerMove[h],o=!1;null!=te.get_context().focusedWindow?null!=a&&(o=re._filterEventOwner(a)):o=!0,o?(i.vector[l]=this.__cbOnceMultiTouchPointerMove[h],this.__cbOnceMultiTouchPointerMove[h]=null,d=this.__cbOnceOwnerUnbindMultiTouchPointerMove[h],(this.__cbOnceOwnerUnbindMultiTouchPointerMove[h]=null)!=d&&d(),++l):(--n,null==c&&(c=[],u=[],_=[]),c.push(this.__cbOnceOwnerUnbindMultiTouchPointerMove[h]),u.push(this.__cbOnceMultiTouchPointerMove[h]),_.push(this.__onceOwnerMultiTouchPointerMove[h]))}this.__cbOnceOwnerUnbindMultiTouchPointerMove=c,this.__cbOnceMultiTouchPointerMove=u,this.__onceOwnerMultiTouchPointerMove=_}for(r=0,s=n;r<s;){l=r++;(0,i.vector[l])(e)}t.release(i)}},onMultiTouchPointerMove:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event multiTouchPointerMove because owner is destroyed!");var l=function(e){null!=t&&(i.offMultiTouchPointerMove(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindMultiTouchPointerMove&&(this.__cbOnOwnerUnbindMultiTouchPointerMove=[]),this.__cbOnOwnerUnbindMultiTouchPointerMove.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindMultiTouchPointerMove&&(this.__cbOnOwnerUnbindMultiTouchPointerMove=[]),this.__cbOnOwnerUnbindMultiTouchPointerMove.push(null);null==this.__cbOnMultiTouchPointerMove&&(this.__cbOnMultiTouchPointerMove=[]),this.__cbOnMultiTouchPointerMove.push(t),null==this.__onOwnerMultiTouchPointerMove&&(this.__onOwnerMultiTouchPointerMove=[]),this.__onOwnerMultiTouchPointerMove.push(n)},onceMultiTouchPointerMove:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event multiTouchPointerMove because owner is destroyed!");var l=function(e){null!=t&&(i.offMultiTouchPointerMove(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindMultiTouchPointerMove&&(this.__cbOnceOwnerUnbindMultiTouchPointerMove=[]),this.__cbOnceOwnerUnbindMultiTouchPointerMove.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindMultiTouchPointerMove&&(this.__cbOnceOwnerUnbindMultiTouchPointerMove=[]),this.__cbOnceOwnerUnbindMultiTouchPointerMove.push(null);null==this.__cbOnceMultiTouchPointerMove&&(this.__cbOnceMultiTouchPointerMove=[]),this.__cbOnceMultiTouchPointerMove.push(t),null==this.__onceOwnerMultiTouchPointerMove&&(this.__onceOwnerMultiTouchPointerMove=[]),this.__onceOwnerMultiTouchPointerMove.push(n)},offMultiTouchPointerMove:function(e){if(null!=e){var n;null!=this.__cbOnMultiTouchPointerMove&&-1!=(n=this.__cbOnMultiTouchPointerMove.indexOf(e))&&(this.__cbOnMultiTouchPointerMove.splice(n,1),null!=(r=this.__cbOnOwnerUnbindMultiTouchPointerMove[n])&&r(),this.__cbOnOwnerUnbindMultiTouchPointerMove.splice(n,1),this.__onOwnerMultiTouchPointerMove.splice(n,1)),null!=this.__cbOnceMultiTouchPointerMove&&-1!=(n=this.__cbOnceMultiTouchPointerMove.indexOf(e))&&(this.__cbOnceMultiTouchPointerMove.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindMultiTouchPointerMove[n])&&r(),this.__cbOnceOwnerUnbindMultiTouchPointerMove.splice(n,1),this.__onceOwnerMultiTouchPointerMove.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindMultiTouchPointerMove){for(var t=0,i=this.__cbOnOwnerUnbindMultiTouchPointerMove.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindMultiTouchPointerMove[l])&&r()}this.__cbOnOwnerUnbindMultiTouchPointerMove=null}if(null!=this.__cbOnceOwnerUnbindMultiTouchPointerMove){for(t=0,i=this.__cbOnceOwnerUnbindMultiTouchPointerMove.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindMultiTouchPointerMove[l])&&r()}this.__cbOnceOwnerUnbindMultiTouchPointerMove=null}this.__cbOnMultiTouchPointerMove=null,this.__cbOnceMultiTouchPointerMove=null,this.__onOwnerMultiTouchPointerMove=null,this.__onceOwnerMultiTouchPointerMove=null}},listensMultiTouchPointerMove:function(){return null!=this.__cbOnMultiTouchPointerMove&&0<this.__cbOnMultiTouchPointerMove.length||null!=this.__cbOnceMultiTouchPointerMove&&0<this.__cbOnceMultiTouchPointerMove.length},__cbOnFocus:null,__cbOnceFocus:null,__cbOnOwnerUnbindFocus:null,__cbOnceOwnerUnbindFocus:null,emitFocus:function(e){var n=0;if(null!=this.__cbOnFocus&&(n+=this.__cbOnFocus.length),null!=this.__cbOnceFocus&&(n+=this.__cbOnceFocus.length),0<n){var t=C.pool(n),i=t.get(),l=0;if(null!=this.__cbOnFocus)for(var r=0,s=this.__cbOnFocus.length;r<s;){var h=r++;!0?(i.vector[l]=this.__cbOnFocus[h],++l):--n}if(null!=this.__cbOnceFocus){for(var a=null,o=null,r=0,s=this.__cbOnceFocus.length;r<s;){var c,h=r++;!0?(i.vector[l]=this.__cbOnceFocus[h],this.__cbOnceFocus[h]=null,c=this.__cbOnceOwnerUnbindFocus[h],(this.__cbOnceOwnerUnbindFocus[h]=null)!=c&&c(),++l):(--n,null==a&&(a=[],o=[],0),a.push(this.__cbOnceOwnerUnbindFocus[h]),o.push(this.__cbOnceFocus[h]))}this.__cbOnceOwnerUnbindFocus=a,this.__cbOnceFocus=o}for(r=0,s=n;r<s;){l=r++;(0,i.vector[l])(e)}t.release(i)}},onFocus:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event focus because owner is destroyed!");var l=function(e){null!=t&&(i.offFocus(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindFocus&&(this.__cbOnOwnerUnbindFocus=[]),this.__cbOnOwnerUnbindFocus.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindFocus&&(this.__cbOnOwnerUnbindFocus=[]),this.__cbOnOwnerUnbindFocus.push(null);null==this.__cbOnFocus&&(this.__cbOnFocus=[]),this.__cbOnFocus.push(t)},onceFocus:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event focus because owner is destroyed!");var l=function(e){null!=t&&(i.offFocus(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindFocus&&(this.__cbOnceOwnerUnbindFocus=[]),this.__cbOnceOwnerUnbindFocus.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindFocus&&(this.__cbOnceOwnerUnbindFocus=[]),this.__cbOnceOwnerUnbindFocus.push(null);null==this.__cbOnceFocus&&(this.__cbOnceFocus=[]),this.__cbOnceFocus.push(t)},offFocus:function(e){if(null!=e){var n;null!=this.__cbOnFocus&&-1!=(n=this.__cbOnFocus.indexOf(e))&&(this.__cbOnFocus.splice(n,1),null!=(r=this.__cbOnOwnerUnbindFocus[n])&&r(),this.__cbOnOwnerUnbindFocus.splice(n,1)),null!=this.__cbOnceFocus&&-1!=(n=this.__cbOnceFocus.indexOf(e))&&(this.__cbOnceFocus.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindFocus[n])&&r(),this.__cbOnceOwnerUnbindFocus.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindFocus){for(var t=0,i=this.__cbOnOwnerUnbindFocus.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindFocus[l])&&r()}this.__cbOnOwnerUnbindFocus=null}if(null!=this.__cbOnceOwnerUnbindFocus){for(t=0,i=this.__cbOnceOwnerUnbindFocus.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindFocus[l])&&r()}this.__cbOnceOwnerUnbindFocus=null}this.__cbOnFocus=null,this.__cbOnceFocus=null}},listensFocus:function(){return null!=this.__cbOnFocus&&0<this.__cbOnFocus.length||null!=this.__cbOnceFocus&&0<this.__cbOnceFocus.length},__cbOnBlur:null,__cbOnceBlur:null,__cbOnOwnerUnbindBlur:null,__cbOnceOwnerUnbindBlur:null,emitBlur:function(e){var n=0;if(null!=this.__cbOnBlur&&(n+=this.__cbOnBlur.length),null!=this.__cbOnceBlur&&(n+=this.__cbOnceBlur.length),0<n){var t=C.pool(n),i=t.get(),l=0;if(null!=this.__cbOnBlur)for(var r=0,s=this.__cbOnBlur.length;r<s;){var h=r++;!0?(i.vector[l]=this.__cbOnBlur[h],++l):--n}if(null!=this.__cbOnceBlur){for(var a=null,o=null,r=0,s=this.__cbOnceBlur.length;r<s;){var c,h=r++;!0?(i.vector[l]=this.__cbOnceBlur[h],this.__cbOnceBlur[h]=null,c=this.__cbOnceOwnerUnbindBlur[h],(this.__cbOnceOwnerUnbindBlur[h]=null)!=c&&c(),++l):(--n,null==a&&(a=[],o=[],0),a.push(this.__cbOnceOwnerUnbindBlur[h]),o.push(this.__cbOnceBlur[h]))}this.__cbOnceOwnerUnbindBlur=a,this.__cbOnceBlur=o}for(r=0,s=n;r<s;){l=r++;(0,i.vector[l])(e)}t.release(i)}},onBlur:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event blur because owner is destroyed!");var l=function(e){null!=t&&(i.offBlur(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindBlur&&(this.__cbOnOwnerUnbindBlur=[]),this.__cbOnOwnerUnbindBlur.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindBlur&&(this.__cbOnOwnerUnbindBlur=[]),this.__cbOnOwnerUnbindBlur.push(null);null==this.__cbOnBlur&&(this.__cbOnBlur=[]),this.__cbOnBlur.push(t)},onceBlur:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event blur because owner is destroyed!");var l=function(e){null!=t&&(i.offBlur(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindBlur&&(this.__cbOnceOwnerUnbindBlur=[]),this.__cbOnceOwnerUnbindBlur.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindBlur&&(this.__cbOnceOwnerUnbindBlur=[]),this.__cbOnceOwnerUnbindBlur.push(null);null==this.__cbOnceBlur&&(this.__cbOnceBlur=[]),this.__cbOnceBlur.push(t)},offBlur:function(e){if(null!=e){var n;null!=this.__cbOnBlur&&-1!=(n=this.__cbOnBlur.indexOf(e))&&(this.__cbOnBlur.splice(n,1),null!=(r=this.__cbOnOwnerUnbindBlur[n])&&r(),this.__cbOnOwnerUnbindBlur.splice(n,1)),null!=this.__cbOnceBlur&&-1!=(n=this.__cbOnceBlur.indexOf(e))&&(this.__cbOnceBlur.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindBlur[n])&&r(),this.__cbOnceOwnerUnbindBlur.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindBlur){for(var t=0,i=this.__cbOnOwnerUnbindBlur.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindBlur[l])&&r()}this.__cbOnOwnerUnbindBlur=null}if(null!=this.__cbOnceOwnerUnbindBlur){for(t=0,i=this.__cbOnceOwnerUnbindBlur.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindBlur[l])&&r()}this.__cbOnceOwnerUnbindBlur=null}this.__cbOnBlur=null,this.__cbOnceBlur=null}},listensBlur:function(){return null!=this.__cbOnBlur&&0<this.__cbOnBlur.length||null!=this.__cbOnceBlur&&0<this.__cbOnceBlur.length},backendReady:function(){var O=this;he.app.backend.screen.onResize(this,$bind(this,this.resize)),this.resize(),he.app.settings.onBackgroundChange(this,function(e,n){he.app.backend.screen.setBackground(e)}),he.app.settings.onTitleChange(this,function(e,n){he.app.backend.screen.setWindowTitle(e)}),he.app.settings.onFullscreenChange(this,function(e,n){he.app.backend.screen.setWindowFullscreen(e)}),he.app.settings.onScalingChange(this,function(e,n){O.resize()}),he.app.settings.onTargetWidthChange(this,function(e,n){O.resize()}),he.app.settings.onTargetHeightChange(this,function(e,n){O.resize()}),he.app.settings.onTargetDensityChange(this,function(e,n){O.updateTexturesDensity()}),this.matrix.onChange(this,function(){(e=O.reverseMatrix).a=1,e.b=0,e.c=0,e.d=1,e.tx=0,e.ty=0,e.changedDirty=!0;var e=O.reverseMatrix,n=O.matrix,t=e.a*n.a+e.b*n.c,i=(e.b=e.a*n.b+e.b*n.d,e.a=t,e.c*n.a+e.d*n.c),i=(e.d=e.c*n.b+e.d*n.d,e.c=i,e.tx*n.a+e.ty*n.c+n.tx);e.ty=e.tx*n.b+e.ty*n.d+n.ty,e.tx=i,e.changedDirty=!0;n=(e=O.reverseMatrix).a*e.d-e.b*e.c;0==n?(e.a=e.b=e.c=e.d=0,e.tx=-e.tx,e.ty=-e.ty):(t=e.d*(n=1/n),e.d=e.a*n,e.a=t,e.b*=-n,e.c*=-n,i=-e.a*e.tx-e.c*e.ty,e.ty=-e.b*e.tx-e.d*e.ty,e.tx=i),e.changedDirty=!0,O.reverseMatrix.emitChange()}),he.app.backend.screen.onMouseDown(this,function(d,b,g){he.app.beginUpdateCallbacks.push(function(){he.app.flushImmediate();for(var e=b*ee.app.screenDensity,n=g*ee.app.screenDensity,t=O.reverseMatrix,i=e*t.a+n*t.c+t.tx,e=e*(t=O.reverseMatrix).b+n*t.d+t.ty,n=new St(-1,d,i,e,0<=i&&i<=O.width&&0<=e&&e<=O.height),t=(-1!=n.buttonId&&(O.mouseX=n.x,O.mouseY=n.y),-1!=n.touchIndex&&(null==(u=O.touches.get(n.touchIndex))?(u=new xt(n.touchIndex,n.x,n.y,0,0),O.touches.set(n.touchIndex,u)):(u.x=n.x,u.y=n.y)),O.pointerX),l=O.pointerY,r=0,s=0,h=0,a=O.touches,o=0,c=a.values.length;;){for(;o<c&&null==a.values[o];)++o;if(!(o<c))break;var u,_=o++;++r,s+=(u=a.values[_]).x,h+=u.y}0<r?(O.pointerX=s/r,O.pointerY=h/r):(O.pointerX=O.mouseX,O.pointerY=O.mouseY),O.pointerDeltaX+=O.pointerX-t,O.pointerDeltaY+=O.pointerY-l,O.emitMouseDown(d,i,e),O._numPointerDown++,O.emitMultiTouchPointerDown(n),1==O._numPointerDown&&O.emitPointerDown(n)})}),he.app.backend.screen.onMouseUp(this,function(d,b,g){he.app.beginUpdateCallbacks.push(function(){he.app.flushImmediate();for(var e=b*ee.app.screenDensity,n=g*ee.app.screenDensity,t=O.reverseMatrix,i=e*t.a+n*t.c+t.tx,e=e*(t=O.reverseMatrix).b+n*t.d+t.ty,n=new St(-1,d,i,e,0<=i&&i<=O.width&&0<=e&&e<=O.height),t=(-1!=n.buttonId&&(O.mouseX=n.x,O.mouseY=n.y),-1!=n.touchIndex&&(null==(u=O.touches.get(n.touchIndex))?(u=new xt(n.touchIndex,n.x,n.y,0,0),O.touches.set(n.touchIndex,u)):(u.x=n.x,u.y=n.y)),O.pointerX),l=O.pointerY,r=0,s=0,h=0,a=O.touches,o=0,c=a.values.length;;){for(;o<c&&null==a.values[o];)++o;if(!(o<c))break;var u,_=o++;++r,s+=(u=a.values[_]).x,h+=u.y}0<r?(O.pointerX=s/r,O.pointerY=h/r):(O.pointerX=O.mouseX,O.pointerY=O.mouseY),O.pointerDeltaX+=O.pointerX-t,O.pointerDeltaY+=O.pointerY-l,-1!=n.touchIndex&&O.touches.set(n.touchIndex,null),O.emitMouseUp(d,i,e),O._numPointerDown--,O.emitMultiTouchPointerUp(n),0==O._numPointerDown&&O.emitPointerUp(n)})}),he.app.backend.screen.onMouseMove(this,function(d,b){he.app.beginUpdateCallbacks.push(function(){he.app.flushImmediate();for(var e=d*ee.app.screenDensity,n=b*ee.app.screenDensity,t=O.reverseMatrix,i=e*t.a+n*t.c+t.tx,e=e*(t=O.reverseMatrix).b+n*t.d+t.ty,n=new St(-1,-1,i,e,0<=i&&i<=O.width&&0<=e&&e<=O.height),t=(O.mouseX=n.x,O.mouseY=n.y,-1!=n.touchIndex&&(null==(u=O.touches.get(n.touchIndex))?(u=new xt(n.touchIndex,n.x,n.y,0,0),O.touches.set(n.touchIndex,u)):(u.x=n.x,u.y=n.y)),O.pointerX),l=O.pointerY,r=0,s=0,h=0,a=O.touches,o=0,c=a.values.length;;){for(;o<c&&null==a.values[o];)++o;if(!(o<c))break;var u,_=o++;++r,s+=(u=a.values[_]).x,h+=u.y}0<r?(O.pointerX=s/r,O.pointerY=h/r):(O.pointerX=O.mouseX,O.pointerY=O.mouseY),O.pointerDeltaX+=O.pointerX-t,O.pointerDeltaY+=O.pointerY-l,O.emitMouseMove(i,e),O.emitMultiTouchPointerMove(n),O.emitPointerMove(n)})}),he.app.backend.screen.onMouseWheel(this,function(e,n){he.app.beginUpdateCallbacks.push(function(){O.emitMouseWheel(e,n)})}),he.app.backend.screen.onTouchDown(this,function(d,b,g){he.app.beginUpdateCallbacks.push(function(){he.app.flushImmediate();for(var e=b*ee.app.screenDensity,n=g*ee.app.screenDensity,t=O.reverseMatrix,i=e*t.a+n*t.c+t.tx,e=e*(t=O.reverseMatrix).b+n*t.d+t.ty,n=new St(d,-1,i,e,0<=i&&i<=O.width&&0<=e&&e<=O.height),t=(-1!=n.buttonId&&(O.mouseX=n.x,O.mouseY=n.y),-1!=n.touchIndex&&(null==(u=O.touches.get(n.touchIndex))?(u=new xt(n.touchIndex,n.x,n.y,0,0),O.touches.set(n.touchIndex,u)):(u.x=n.x,u.y=n.y)),O.pointerX),l=O.pointerY,r=0,s=0,h=0,a=O.touches,o=0,c=a.values.length;;){for(;o<c&&null==a.values[o];)++o;if(!(o<c))break;var u,_=o++;++r,s+=(u=a.values[_]).x,h+=u.y}0<r?(O.pointerX=s/r,O.pointerY=h/r):(O.pointerX=O.mouseX,O.pointerY=O.mouseY),O.pointerDeltaX+=O.pointerX-t,O.pointerDeltaY+=O.pointerY-l,O.emitTouchDown(d,i,e),O._numPointerDown++,O.emitMultiTouchPointerDown(n),1==O._numPointerDown&&O.emitPointerDown(n)})}),he.app.backend.screen.onTouchUp(this,function(d,b,g){he.app.beginUpdateCallbacks.push(function(){he.app.flushImmediate();for(var e=b*ee.app.screenDensity,n=g*ee.app.screenDensity,t=O.reverseMatrix,i=e*t.a+n*t.c+t.tx,e=e*(t=O.reverseMatrix).b+n*t.d+t.ty,n=new St(d,-1,i,e,0<=i&&i<=O.width&&0<=e&&e<=O.height),t=(-1!=n.buttonId&&(O.mouseX=n.x,O.mouseY=n.y),-1!=n.touchIndex&&(null==(u=O.touches.get(n.touchIndex))?(u=new xt(n.touchIndex,n.x,n.y,0,0),O.touches.set(n.touchIndex,u)):(u.x=n.x,u.y=n.y)),O.pointerX),l=O.pointerY,r=0,s=0,h=0,a=O.touches,o=0,c=a.values.length;;){for(;o<c&&null==a.values[o];)++o;if(!(o<c))break;var u,_=o++;++r,s+=(u=a.values[_]).x,h+=u.y}0<r?(O.pointerX=s/r,O.pointerY=h/r):(O.pointerX=O.mouseX,O.pointerY=O.mouseY),O.pointerDeltaX+=O.pointerX-t,O.pointerDeltaY+=O.pointerY-l,-1!=n.touchIndex&&O.touches.set(n.touchIndex,null),O.emitTouchUp(d,i,e),O._numPointerDown--,O.emitMultiTouchPointerUp(n),0==O._numPointerDown&&O.emitPointerUp(n)})}),he.app.backend.screen.onTouchMove(this,function(d,b,g){he.app.beginUpdateCallbacks.push(function(){he.app.flushImmediate();for(var e=b*ee.app.screenDensity,n=g*ee.app.screenDensity,t=O.reverseMatrix,i=e*t.a+n*t.c+t.tx,e=e*(t=O.reverseMatrix).b+n*t.d+t.ty,n=new St(d,-1,i,e,0<=i&&i<=O.width&&0<=e&&e<=O.height),t=(-1!=n.touchIndex&&(null==(u=O.touches.get(n.touchIndex))?(u=new xt(n.touchIndex,n.x,n.y,0,0),O.touches.set(n.touchIndex,u)):(u.x=n.x,u.y=n.y)),O.pointerX),l=O.pointerY,r=0,s=0,h=0,a=O.touches,o=0,c=a.values.length;;){for(;o<c&&null==a.values[o];)++o;if(!(o<c))break;var u,_=o++;++r,s+=(u=a.values[_]).x,h+=u.y}0<r?(O.pointerX=s/r,O.pointerY=h/r):(O.pointerX=O.mouseX,O.pointerY=O.mouseY),O.pointerDeltaX+=O.pointerX-t,O.pointerDeltaY+=O.pointerY-l,O.emitTouchMove(d,i,e),O.emitMultiTouchPointerMove(n),0<O._numPointerDown&&O.emitPointerMove(n)})})},updatePointerOverState:function(e){for(var n=this.mouseX,t=this.mouseY,i=1e4,l=this.matchedOverListeners.h[i],r=((a=this.matchFirstOverListener(n,t))!=l&&(null!=a?this.matchedOverListeners.h[i]=a:this.matchedOverListeners.remove(i)),null!=l&&l!=a&&0<=l._lifecycleState&&0<l._numPointerOver&&(l._numPointerOver--,0!=l._numPointerOver&&!l.multiTouch||l.emitPointerOut(new St(-1,-1,n,t,!1))),null!=a&&l!=a&&(a._numPointerOver++,1!=a._numPointerOver&&!a.multiTouch||a.emitPointerOver(new St(-1,-1,n,t,!0))),this.touches),s=0,h=r.values.length;;){for(;s<h&&null==r.values[s];)++s;if(!(s<h))break;var a,o=s++,o=r.values[o],n=o.x,t=o.y,i=2e4+o.index,l=this.matchedOverListeners.h[i];(a=this.matchFirstOverListener(n,t))!=l&&(null!=a?this.matchedOverListeners.h[i]=a:this.matchedOverListeners.remove(i)),null!=l&&l!=a&&0<=l._lifecycleState&&0<l._numPointerOver&&(l._numPointerOver--,0!=l._numPointerOver&&!l.multiTouch||l.emitPointerOut(new St(-1,-1,n,t,!1))),null!=a&&l!=a&&(a._numPointerOver++,1!=a._numPointerOver&&!a.multiTouch||a.emitPointerOver(new St(-1,-1,n,t,!0)))}},resize:function(){var e,n,t;this.resizing||(this.resizing=!0,this.updateScaling(),e=he.app.settings.get_scaling(),n=he.app.settings.get_targetWidth(),t=he.app.settings.get_targetHeight(),this.emitResize(),e==he.app.settings.get_scaling()&&n==he.app.settings.get_targetWidth()&&t==he.app.settings.get_targetHeight()||this.updateScaling(),this.updateTransform(),this.updateTexturesDensity(),this.resizing=!1)},updateTexturesDensity:function(){var e;0<he.app.settings.get_targetDensity()?this.set_texturesDensity(he.app.settings.get_targetDensity()):(e=(e=this.density)<1?1:Math.round(e),this.set_texturesDensity(e))},updateScaling:function(){var e,n=0<he.app.settings.get_targetWidth()?he.app.settings.get_targetWidth():ee.app.screenWidth,t=0<he.app.settings.get_targetHeight()?he.app.settings.get_targetHeight():ee.app.screenHeight;switch(he.app.settings.get_scaling()._hx_index){case 0:e=Math.max(n/(ee.app.screenWidth*ee.app.screenDensity),t/(ee.app.screenHeight*ee.app.screenDensity));break;case 1:e=Math.min(n/(ee.app.screenWidth*ee.app.screenDensity),t/(ee.app.screenHeight*ee.app.screenDensity));break;case 2:n=ee.app.screenWidth,t=ee.app.screenHeight,e=Math.max(n/(ee.app.screenWidth*ee.app.screenDensity),t/(ee.app.screenHeight*ee.app.screenDensity));break;case 3:var i=ee.app.screenHeight/ee.app.screenWidth,l=t/n;l<i?t=n*i:i<l&&(n=t/i),n=Math.ceil(n),t=Math.ceil(t),e=Math.max(n/(ee.app.screenWidth*ee.app.screenDensity),t/(ee.app.screenHeight*ee.app.screenDensity))}switch(this.actualWidth=Math.ceil(ee.app.screenWidth*ee.app.screenDensity*e),this.actualHeight=Math.ceil(ee.app.screenHeight*ee.app.screenDensity*e),this.density=1/e,he.app.settings.get_scaling()._hx_index){case 0:case 1:this.offsetX=.5*(this.actualWidth-n),this.offsetY=.5*(this.actualHeight-t);break;case 2:case 3:this.offsetX=0,this.offsetY=0}this.width=n,this.height=t},updateTransform:function(){var e=0<he.app.settings.get_targetWidth()?he.app.settings.get_targetWidth()*this.density:ee.app.screenWidth*ee.app.screenDensity,n=0<he.app.settings.get_targetHeight()?he.app.settings.get_targetHeight()*this.density:ee.app.screenHeight*ee.app.screenDensity;switch(he.app.settings.get_scaling()._hx_index){case 2:e=ee.app.screenWidth*ee.app.screenDensity,n=ee.app.screenHeight*ee.app.screenDensity;break;case 3:var t=ee.app.screenHeight/ee.app.screenWidth,i=n/e;i<t?n=e*t:t<i&&(e=n/t)}(l=this.matrix).a=1,l.b=0,l.c=0,l.d=1,l.tx=0,l.ty=0,l.changedDirty=!0;var l=this.matrix,r=this.density,s=this.density,r=(l.a*=r,l.b*=s,l.c*=r,l.d*=s,l.tx*=r,l.ty*=s,l.changedDirty=!0,.5*(ee.app.screenWidth*ee.app.screenDensity-e)),s=.5*(ee.app.screenHeight*ee.app.screenDensity-n);(l=this.matrix).tx+=r,l.ty+=s,l.changedDirty=!0},matchFirstDownListener:function(e,n,t,i){null==i&&(i=-1),null==t&&(t=-1),he.app.computeHierarchy();for(var l=0;l<2;)for(var r=l++,s=(qn.matchedHitVisual=null,0==r),h=he.app.visuals,a=h.length-1;0<=a;){var o=h[a];if(0<=o._lifecycleState&&o.computedTouchable){var c=null!=o.__cbOnPointerDown&&0<o.__cbOnPointerDown.length||null!=o.__cbOncePointerDown&&0<o.__cbOncePointerDown.length,u=!1,_=!1;if(c&&(u=o._hits(e,n,!1))&&(_=o.interceptPointerDown(o,e,n,t,i)),u&&!_||s&&this.isHitVisual(o)&&o._hits(e,n,!1)){var d=!1;if(c)for(var b=o.parent;null!=b&&!(d=b.interceptPointerDown(o,e,n,t,i));)b=b.parent;if(!d){if(c||!s||!this.isHitVisual(o))return qn.matchedHitVisual=null,o;qn.matchedHitVisual=o}}}--a}return qn.matchedHitVisual=null},matchFirstOverListener:function(e,n){if(this.visualsListenPointerOver){he.app.computeHierarchy();for(var t=0;t<2;)for(var i=t++,l=(qn.matchedHitVisual=null,0==i),r=he.app.visuals,s=r.length-1;0<=s;){var h=r[s];if(0<=h._lifecycleState&&h.computedTouchable){var a=null!=h.__cbOnPointerOver&&0<h.__cbOnPointerOver.length||null!=h.__cbOncePointerOver&&0<h.__cbOncePointerOver.length,o=!1,c=!1;if(a&&(o=h._hits(e,n,!1))&&(c=h.interceptPointerOver(h,e,n)),o&&!c||l&&this.isHitVisual(h)&&h._hits(e,n,!1)){var u=!1;if(a)for(var _=h.parent;null!=_&&!(u=_.interceptPointerOver(h,e,n));)_=_.parent;if(!u){if(a||!l||!this.isHitVisual(h))return qn.matchedHitVisual=null,h;qn.matchedHitVisual=h}}}--s}qn.matchedHitVisual=null}return null},prepareMultiTouchPointerDown:function(e){-1!=e.buttonId&&(this.mouseX=e.x,this.mouseY=e.y),-1!=e.touchIndex&&(null==(a=this.touches.get(e.touchIndex))?(a=new xt(e.touchIndex,e.x,e.y,0,0),this.touches.set(e.touchIndex,a)):(a.x=e.x,a.y=e.y));for(var e=this.pointerX,n=this.pointerY,t=0,i=0,l=0,r=this.touches,s=0,h=r.values.length;;){for(;s<h&&null==r.values[s];)++s;if(!(s<h))break;var a,o=s++;++t,i+=(a=r.values[o]).x,l+=a.y}0<t?(this.pointerX=i/t,this.pointerY=l/t):(this.pointerX=this.mouseX,this.pointerY=this.mouseY),this.pointerDeltaX+=this.pointerX-e,this.pointerDeltaY+=this.pointerY-n},prepareMultiTouchPointerUp:function(e){-1!=e.buttonId&&(this.mouseX=e.x,this.mouseY=e.y),-1!=e.touchIndex&&(null==(o=this.touches.get(e.touchIndex))?(o=new xt(e.touchIndex,e.x,e.y,0,0),this.touches.set(e.touchIndex,o)):(o.x=e.x,o.y=e.y));for(var n=this.pointerX,t=this.pointerY,i=0,l=0,r=0,s=this.touches,h=0,a=s.values.length;;){for(;h<a&&null==s.values[h];)++h;if(!(h<a))break;var o,c=h++;++i,l+=(o=s.values[c]).x,r+=o.y}0<i?(this.pointerX=l/i,this.pointerY=r/i):(this.pointerX=this.mouseX,this.pointerY=this.mouseY),this.pointerDeltaX+=this.pointerX-n,this.pointerDeltaY+=this.pointerY-t,-1!=e.touchIndex&&this.touches.set(e.touchIndex,null)},prepareMultiTouchPointerMove:function(e,n){n&&(this.mouseX=e.x,this.mouseY=e.y),-1!=e.touchIndex&&(null==(a=this.touches.get(e.touchIndex))?(a=new xt(e.touchIndex,e.x,e.y,0,0),this.touches.set(e.touchIndex,a)):(a.x=e.x,a.y=e.y));for(var n=this.pointerX,e=this.pointerY,t=0,i=0,l=0,r=this.touches,s=0,h=r.values.length;;){for(;s<h&&null==r.values[s];)++s;if(!(s<h))break;var a,o=s++;++t,i+=(a=r.values[o]).x,l+=a.y}0<t?(this.pointerX=i/t,this.pointerY=l/t):(this.pointerX=this.mouseX,this.pointerY=this.mouseY),this.pointerDeltaX+=this.pointerX-n,this.pointerDeltaY+=this.pointerY-e},updatePointer:function(){for(var e=this.pointerX,n=this.pointerY,t=0,i=0,l=0,r=this.touches,s=0,h=r.values.length;;){for(;s<h&&null==r.values[s];)++s;if(!(s<h))break;var a=s++,a=r.values[a];++t,i+=a.x,l+=a.y}0<t?(this.pointerX=i/t,this.pointerY=l/t):(this.pointerX=this.mouseX,this.pointerY=this.mouseY),this.pointerDeltaX+=this.pointerX-e,this.pointerDeltaY+=this.pointerY-n},canEmitMultiTouchPointerDown:function(e){var n=!1;return null!=te.get_context().focusedWindow?null!=e&&(n=re._filterEventOwner(e)):n=!0,n},canEmitMultiTouchPointerMove:function(e){var n=!1;return null!=te.get_context().focusedWindow?null!=e&&(n=re._filterEventOwner(e)):n=!0,n},canEmitMultiTouchPointerUp:function(e){var n=!1;return null!=te.get_context().focusedWindow?null!=e&&(n=re._filterEventOwner(e)):n=!0,n},canEmitMouseDown:function(e){var n=!1;return null!=te.get_context().focusedWindow?null!=e&&(n=re._filterEventOwner(e)):n=!0,n},canEmitMouseMove:function(e){var n=!1;return null!=te.get_context().focusedWindow?null!=e&&(n=re._filterEventOwner(e)):n=!0,n},canEmitMouseUp:function(e){var n=!1;return null!=te.get_context().focusedWindow?null!=e&&(n=re._filterEventOwner(e)):n=!0,n},canEmitTouchDown:function(e){var n=!1;return null!=te.get_context().focusedWindow?null!=e&&(n=re._filterEventOwner(e)):n=!0,n},canEmitTouchMove:function(e){var n=!1;return null!=te.get_context().focusedWindow?null!=e&&(n=re._filterEventOwner(e)):n=!0,n},canEmitTouchUp:function(e){var n=!1;return null!=te.get_context().focusedWindow?null!=e&&(n=re._filterEventOwner(e)):n=!0,n},canEmitPointerDown:function(e){var n=!1;return null!=te.get_context().focusedWindow?null!=e&&(n=re._filterEventOwner(e)):n=!0,n},canEmitPointerMove:function(e){var n=!1;return null!=te.get_context().focusedWindow?null!=e&&(n=re._filterEventOwner(e)):n=!0,n},canEmitPointerUp:function(e){var n=!1;return null!=te.get_context().focusedWindow?null!=e&&(n=re._filterEventOwner(e)):n=!0,n},matchedDownListeners:null,matchedOverListeners:null,didEmitMouseDown:function(e,n,t){var i=this.matchFirstDownListener(n,t,-1,e);null!=i&&(i._numPointerDown++,1!=i._numPointerDown&&!i.multiTouch||(he.app.screen.set_focusedVisual(i),i.emitPointerDown(new St(-1,e,n,t,!0)))),this.matchedDownListeners.h[1e4+e]=i},didEmitMouseUp:function(e,n,t){var i=1e4+e,l=this.matchedDownListeners.h[i];null!=l&&0<=l._lifecycleState&&0<l._numPointerDown&&(l._numPointerDown--,0!=l._numPointerDown&&!l.multiTouch||l.emitPointerUp(new St(-1,e,n,t,l._hits(n,t,!1)))),this.matchedDownListeners.remove(i)},updateMouseOver:function(e,n){var t=this.matchedOverListeners.h[1e4],i=this.matchFirstOverListener(e,n);i!=t&&(null!=i?this.matchedOverListeners.h[1e4]=i:this.matchedOverListeners.remove(1e4)),null!=t&&t!=i&&0<=t._lifecycleState&&0<t._numPointerOver&&(t._numPointerOver--,0!=t._numPointerOver&&!t.multiTouch||t.emitPointerOut(new St(-1,-1,e,n,!1))),null!=i&&t!=i&&(i._numPointerOver++,1!=i._numPointerOver&&!i.multiTouch||i.emitPointerOver(new St(-1,-1,e,n,!0)))},didEmitTouchDown:function(e,n,t){var i=this.matchFirstDownListener(n,t,e,-1);null!=i&&(i._numPointerDown++,1!=i._numPointerDown&&!i.multiTouch||(he.app.screen.set_focusedVisual(i),i.emitPointerDown(new St(e,-1,n,t,!0)))),this.matchedDownListeners.h[2e4+e]=i},didEmitTouchUp:function(e,n,t){var i=2e4+e,l=this.matchedDownListeners.h[i];null!=l&&0<=l._lifecycleState&&0<l._numPointerDown&&(l._numPointerDown--,0!=l._numPointerDown&&!l.multiTouch||l.emitPointerUp(new St(e,-1,n,t,l._hits(n,t,!1)))),this.matchedDownListeners.remove(i)},updateTouchOver:function(e,n,t){var e=2e4+e,i=this.matchedOverListeners.h[e],l=this.matchFirstOverListener(n,t);l!=i&&(null!=l?this.matchedOverListeners.h[e]=l:this.matchedOverListeners.remove(e)),null!=i&&i!=l&&0<=i._lifecycleState&&0<i._numPointerOver&&(i._numPointerOver--,0!=i._numPointerOver&&!i.multiTouch||i.emitPointerOut(new St(-1,-1,n,t,!1))),null!=l&&i!=l&&(l._numPointerOver++,1!=l._numPointerOver&&!l.multiTouch||l.emitPointerOver(new St(-1,-1,n,t,!0)))},hitVisuals:null,addHitVisual:function(e){var n=8==(8&e.flags);this.hitVisuals.push(e),n||(e.flags|=8)},removeHitVisual:function(e){var n=this.hitVisuals.indexOf(e);-1==n?he.app.logger.warning("Hit visual not removed from hitVisuals because it was not added at the first place",{fileName:"../../../../ceramic/runtime/src/ceramic/Screen.hx",lineNumber:1349,className:"ceramic.Screen",methodName:"removeHitVisual"}):(this.hitVisuals.splice(n,1),-1==this.hitVisuals.indexOf(e)&&(e.flags&=-9))},isHitVisual:function(e){return 8==(8&e.flags)},resetDeltas:function(){this.pointerDeltaX=0,this.pointerDeltaY=0,this.mouseDeltaX=0,this.mouseDeltaY=0,this.mouseWheelDeltaX=0;for(var e=this.mouseWheelDeltaY=0;e<=this.maxTouchIndex;){var n=this.touches.get(e);null!=n&&(n.deltaX=0,n.deltaY=0),++e}},willEmitMouseMove:function(e,n){this.mouseDeltaX+=e-this.prevMouseX,this.mouseDeltaY+=n-this.prevMouseY,this.prevMouseX=e,this.prevMouseY=n},willEmitMouseDown:function(n,e,t){var i=this,l=(this.prevMouseX=e,this.prevMouseY=t,this.pressedMouseButtons.intMap.h[0|n]),l=null!=l?l:0,l=(this.pressedMouseButtons.set(n,(l=-1==l?0:l)+1),0==l&&he.app.beginUpdateCallbacks.push(function(){var e=i.pressedMouseButtons.intMap.h[0|n];1==(null!=e?e:0)&&i.pressedMouseButtons.set(n,2)}),te.get_context());null==l||null==l.focusedWindow||null!=(l=this.matchFirstDownListener(e,t,-1,n))&&(e=!1,null!=te.get_context().focusedWindow?null!=l&&(e=re._filterEventOwner(l)):e=!0,e)||this.set_focusedVisual(null)},willEmitMouseUp:function(n,e,t){var i=this;this.pressedMouseButtons.set(n,-1),he.app.beginUpdateCallbacks.push(function(){var e=i.pressedMouseButtons.intMap.h[0|n];-1==(null!=e?e:0)&&i.pressedMouseButtons.set(n,0)})},willEmitMouseWheel:function(e,n){this.mouseWheelDeltaX+=e,this.mouseWheelDeltaY+=n},mouseAllowed:function(e){var n;return!qn._elementsImFocused()||(n=!1,null!=te.get_context().focusedWindow?null!=e&&(n=re._filterEventOwner(e)):n=!0,n)},_mousePressed:function(e){e=this.pressedMouseButtons.intMap.h[0|e];return 0<(null!=e?e:0)},_mouseJustPressed:function(e){e=this.pressedMouseButtons.intMap.h[0|e];return 1==(null!=e?e:0)},_mouseJustReleased:function(e){e=this.pressedMouseButtons.intMap.h[0|e];return-1==(null!=e?e:0)},willEmitTouchMove:function(e,n,t){e>this.maxTouchIndex&&(this.maxTouchIndex=e);var i=2*e,l=this.prevTouchPositions.intMap.h[0|i],r=null!=l?l:0,i=null!=(l=this.prevTouchPositions.intMap.h[0|1+i])?l:0,l=this.touches.get(e);null!=l&&(l.deltaX+=n-r,l.deltaY+=t-i)},willEmitTouchDown:function(n,e,t){var i=this,l=2*n,r=1+l,l=(this.prevTouchPositions.set(l,e),this.prevTouchPositions.set(r,t),this.pressedTouches.intMap.h[0|n]),r=null!=l?l:0,l=(this.pressedTouches.set(n,(r=-1==r?0:r)+1),0==r&&he.app.beginUpdateCallbacks.push(function(){var e=i.pressedTouches.intMap.h[0|n];1==(null!=e?e:0)&&i.pressedTouches.set(n,2)}),te.get_context());null==l||null==l.focusedWindow||null!=(r=this.matchFirstDownListener(e,t,n,-1))&&(l=!1,null!=te.get_context().focusedWindow?null!=r&&(l=re._filterEventOwner(r)):l=!0,l)||this.set_focusedVisual(null)},willEmitTouchUp:function(n,e,t){var i=this,l=this.pressedTouches.intMap.h[0|n];1==(null!=l?l:0)?this.pressedTouches.set(n,-2):this.pressedTouches.set(n,-1),he.app.beginUpdateCallbacks.push(function(){var e=i.pressedTouches.intMap.h[0|n],e=null!=e?e:0;-1!=e&&-2!=e||i.pressedTouches.set(n,0)})},_touchPressed:function(e){e=this.pressedTouches.intMap.h[0|e];return 0<(null!=e?e:0)},_touchJustPressed:function(e){e=this.pressedTouches.intMap.h[0|e],e=null!=e?e:0;return 1==e||-2==e},_touchJustReleased:function(e){e=this.pressedTouches.intMap.h[0|e],e=null!=e?e:0;return-1==e||-2==e},touchDeltaX:function(e){e=this.touches.get(e);return null!=e?e.deltaX:0},touchDeltaY:function(e){e=this.touches.get(e);return null!=e?e.deltaY:0},toTexture:function(n){he.app.backend.screen.screenshotToTexture(function(e){null!=e?(e=new zn(e,ee.app.screenDensity),n(e)):n(null)})},toPixels:function(e){he.app.backend.screen.screenshotToPixels(e)},_toPng:function(e,n){he.app.onceFinishDraw(this,function(){he.app.backend.screen.screenshotToPng(e,n)})},unbindEvents:function(){j.prototype.unbindEvents.call(this),this.offObservedDirty(),this.offFocusedVisualChange(),this.offTexturesDensityChange(),this.offResize(),this.offMouseDown(),this.offMouseUp(),this.offMouseWheel(),this.offMouseMove(),this.offTouchDown(),this.offTouchUp(),this.offTouchMove(),this.offPointerDown(),this.offPointerUp(),this.offPointerMove(),this.offMultiTouchPointerDown(),this.offMultiTouchPointerUp(),this.offMultiTouchPointerMove(),this.offFocus(),this.offBlur()},__class__:qn,__properties__:$extend(j.prototype.__properties__,{get_isPointerDown:"get_isPointerDown",set_texturesDensity:"set_texturesDensity",get_texturesDensity:"get_texturesDensity",set_unobservedFocusedVisual:"set_unobservedFocusedVisual",set_focusedVisual:"set_focusedVisual",get_focusedVisual:"get_focusedVisual",get_nativeDensity:"get_nativeDensity",get_nativeHeight:"get_nativeHeight",get_nativeWidth:"get_nativeWidth"})}),Oe["ceramic.ScreenScaling"]={__ename__:"ceramic.ScreenScaling",__constructs__:null,FIT:{_hx_name:"FIT",_hx_index:0,__enum__:"ceramic.ScreenScaling",toString:c},FILL:{_hx_name:"FILL",_hx_index:1,__enum__:"ceramic.ScreenScaling",toString:c},RESIZE:{_hx_name:"RESIZE",_hx_index:2,__enum__:"ceramic.ScreenScaling",toString:c},FIT_RESIZE:{_hx_name:"FIT_RESIZE",_hx_index:3,__enum__:"ceramic.ScreenScaling",toString:c}}),Jn=(Zn.__constructs__=[Zn.FIT,Zn.FILL,Zn.RESIZE,Zn.FIT_RESIZE],Oe["ceramic.ScrollDirection"]={__ename__:"ceramic.ScrollDirection",__constructs__:null,HORIZONTAL:{_hx_name:"HORIZONTAL",_hx_index:0,__enum__:"ceramic.ScrollDirection",toString:c},VERTICAL:{_hx_name:"VERTICAL",_hx_index:1,__enum__:"ceramic.ScrollDirection",toString:c}}),et=(Jn.__constructs__=[Jn.HORIZONTAL,Jn.VERTICAL],function(e){this.pageIndexOnStartDrag=0,this.pageMomentumThreshold=-1,this.pageSpacing=0,this.pageSize=-1,this.pagingEnabled=!1,this.scrollbarStartY=-1,this.scrollbarStartX=-1,this.scrollbarDownY=-1,this.scrollbarDownX=-1,this.blockingDefaultScroll=!1,this.pointerOnScrollerChild=!1,this.pointerOnScroller=!1,this.animating=!1,this.tweenY=null,this.tweenX=null,this.canClick=!1,this.lastWheelEventTime=-1,this.fromWheel=!1,this.releaseSnap=!1,this.momentum=0,this.scrollVelocity=null,this.touchIndex=-1,this.pointerStartY=0,this.pointerStartX=0,this.pointerStart=0,this.contentStart=0,this.position=0,this.dragThresholdStatus=0,this.prevPointerY=-99999999,this.prevPointerX=-99999999,this.touchableStrictHierarchy=!0,this.dragFactor=1,this.bounceNoMomentumDuration=.1,this.bounceDurationFactor=4e-5,this.bounceMinDuration=.08,this.bounceMomentumFactor=75e-5,this.maxClickMomentum=100,this.overScrollResistance=5,this.wheelEndDelay=.25,this.wheelMomentum=!1,this.wheelFactor=1,this.wheelDeceleration=1600,this.deceleration=300,this.verticalToHorizontalWheel=!1,this.unobservedStatus=nt.IDLE,this.statusAutoruns=null,this.roundScrollWhenIdle=1,this.noDragThreshold=0,this.dragThreshold=0,this.dragEnabled=!0,this.scrollEnabled=!0,this.scrollTransform=new l,this.allowPointerOutside=!0,this.direction=Jn.VERTICAL,this.scrollbar=null,this.content=null,this.observedDirty=!1,o.call(this),null==e&&(e=new o),(this.content=e).set_anchorX(0),e.set_anchorY(0),e.set_x(0),e.set_y(0),e.set_transform(this.scrollTransform),e.set_depth(1),this.add(e),this.scrollTransform.onChange(this,$bind(this,this.updateScrollbar)),this.onPointerDown(this,function(e){}),this.startTracking()}),nt=((E["ceramic.Scroller"]=et).__name__="ceramic.Scroller",et.__interfaces__=[s],et.__super__=o,et.prototype=$extend(o.prototype,{__cbOnObservedDirty:null,__cbOnceObservedDirty:null,__cbOnOwnerUnbindObservedDirty:null,__cbOnceOwnerUnbindObservedDirty:null,emitObservedDirty:function(e,n){var t=0;if(null!=this.__cbOnObservedDirty&&(t+=this.__cbOnObservedDirty.length),null!=this.__cbOnceObservedDirty&&(t+=this.__cbOnceObservedDirty.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnObservedDirty)for(var s=0,h=this.__cbOnObservedDirty.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnObservedDirty[a],++r):--t}if(null!=this.__cbOnceObservedDirty){for(var o=null,c=null,s=0,h=this.__cbOnceObservedDirty.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceObservedDirty[a],this.__cbOnceObservedDirty[a]=null,u=this.__cbOnceOwnerUnbindObservedDirty[a],(this.__cbOnceOwnerUnbindObservedDirty[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindObservedDirty[a]),c.push(this.__cbOnceObservedDirty[a]))}this.__cbOnceOwnerUnbindObservedDirty=o,this.__cbOnceObservedDirty=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onObservedDirty:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event observedDirty because owner is destroyed!");var l=function(e){null!=t&&(i.offObservedDirty(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push(null);null==this.__cbOnObservedDirty&&(this.__cbOnObservedDirty=[]),this.__cbOnObservedDirty.push(t)},onceObservedDirty:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event observedDirty because owner is destroyed!");var l=function(e){null!=t&&(i.offObservedDirty(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push(null);null==this.__cbOnceObservedDirty&&(this.__cbOnceObservedDirty=[]),this.__cbOnceObservedDirty.push(t)},offObservedDirty:function(e){if(null!=e){var n;null!=this.__cbOnObservedDirty&&-1!=(n=this.__cbOnObservedDirty.indexOf(e))&&(this.__cbOnObservedDirty.splice(n,1),null!=(r=this.__cbOnOwnerUnbindObservedDirty[n])&&r(),this.__cbOnOwnerUnbindObservedDirty.splice(n,1)),null!=this.__cbOnceObservedDirty&&-1!=(n=this.__cbOnceObservedDirty.indexOf(e))&&(this.__cbOnceObservedDirty.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindObservedDirty[n])&&r(),this.__cbOnceOwnerUnbindObservedDirty.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindObservedDirty){for(var t=0,i=this.__cbOnOwnerUnbindObservedDirty.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindObservedDirty[l])&&r()}this.__cbOnOwnerUnbindObservedDirty=null}if(null!=this.__cbOnceOwnerUnbindObservedDirty){for(t=0,i=this.__cbOnceOwnerUnbindObservedDirty.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindObservedDirty[l])&&r()}this.__cbOnceOwnerUnbindObservedDirty=null}this.__cbOnObservedDirty=null,this.__cbOnceObservedDirty=null}},listensObservedDirty:function(){return null!=this.__cbOnObservedDirty&&0<this.__cbOnObservedDirty.length||null!=this.__cbOnceObservedDirty&&0<this.__cbOnceObservedDirty.length},observedDirty:null,__cbOnAnimateStart:null,__cbOnceAnimateStart:null,__cbOnOwnerUnbindAnimateStart:null,__cbOnceOwnerUnbindAnimateStart:null,emitAnimateStart:function(){var e=0;if(null!=this.__cbOnAnimateStart&&(e+=this.__cbOnAnimateStart.length),null!=this.__cbOnceAnimateStart&&(e+=this.__cbOnceAnimateStart.length),0<e){var n=C.pool(e),t=n.get(),i=0;if(null!=this.__cbOnAnimateStart)for(var l=0,r=this.__cbOnAnimateStart.length;l<r;){var s=l++;!0?(t.vector[i]=this.__cbOnAnimateStart[s],++i):--e}if(null!=this.__cbOnceAnimateStart){for(var h=null,a=null,l=0,r=this.__cbOnceAnimateStart.length;l<r;){var o,s=l++;!0?(t.vector[i]=this.__cbOnceAnimateStart[s],this.__cbOnceAnimateStart[s]=null,o=this.__cbOnceOwnerUnbindAnimateStart[s],(this.__cbOnceOwnerUnbindAnimateStart[s]=null)!=o&&o(),++i):(--e,null==h&&(h=[],a=[],0),h.push(this.__cbOnceOwnerUnbindAnimateStart[s]),a.push(this.__cbOnceAnimateStart[s]))}this.__cbOnceOwnerUnbindAnimateStart=h,this.__cbOnceAnimateStart=a}for(l=0,r=e;l<r;){i=l++;(0,t.vector[i])()}n.release(t)}},onAnimateStart:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event animateStart because owner is destroyed!");var l=function(e){null!=t&&(i.offAnimateStart(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindAnimateStart&&(this.__cbOnOwnerUnbindAnimateStart=[]),this.__cbOnOwnerUnbindAnimateStart.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindAnimateStart&&(this.__cbOnOwnerUnbindAnimateStart=[]),this.__cbOnOwnerUnbindAnimateStart.push(null);null==this.__cbOnAnimateStart&&(this.__cbOnAnimateStart=[]),this.__cbOnAnimateStart.push(t)},onceAnimateStart:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event animateStart because owner is destroyed!");var l=function(e){null!=t&&(i.offAnimateStart(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindAnimateStart&&(this.__cbOnceOwnerUnbindAnimateStart=[]),this.__cbOnceOwnerUnbindAnimateStart.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindAnimateStart&&(this.__cbOnceOwnerUnbindAnimateStart=[]),this.__cbOnceOwnerUnbindAnimateStart.push(null);null==this.__cbOnceAnimateStart&&(this.__cbOnceAnimateStart=[]),this.__cbOnceAnimateStart.push(t)},offAnimateStart:function(e){if(null!=e){var n;null!=this.__cbOnAnimateStart&&-1!=(n=this.__cbOnAnimateStart.indexOf(e))&&(this.__cbOnAnimateStart.splice(n,1),null!=(r=this.__cbOnOwnerUnbindAnimateStart[n])&&r(),this.__cbOnOwnerUnbindAnimateStart.splice(n,1)),null!=this.__cbOnceAnimateStart&&-1!=(n=this.__cbOnceAnimateStart.indexOf(e))&&(this.__cbOnceAnimateStart.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindAnimateStart[n])&&r(),this.__cbOnceOwnerUnbindAnimateStart.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindAnimateStart){for(var t=0,i=this.__cbOnOwnerUnbindAnimateStart.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindAnimateStart[l])&&r()}this.__cbOnOwnerUnbindAnimateStart=null}if(null!=this.__cbOnceOwnerUnbindAnimateStart){for(t=0,i=this.__cbOnceOwnerUnbindAnimateStart.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindAnimateStart[l])&&r()}this.__cbOnceOwnerUnbindAnimateStart=null}this.__cbOnAnimateStart=null,this.__cbOnceAnimateStart=null}},listensAnimateStart:function(){return null!=this.__cbOnAnimateStart&&0<this.__cbOnAnimateStart.length||null!=this.__cbOnceAnimateStart&&0<this.__cbOnceAnimateStart.length},__cbOnAnimateEnd:null,__cbOnceAnimateEnd:null,__cbOnOwnerUnbindAnimateEnd:null,__cbOnceOwnerUnbindAnimateEnd:null,emitAnimateEnd:function(){var e=0;if(null!=this.__cbOnAnimateEnd&&(e+=this.__cbOnAnimateEnd.length),null!=this.__cbOnceAnimateEnd&&(e+=this.__cbOnceAnimateEnd.length),0<e){var n=C.pool(e),t=n.get(),i=0;if(null!=this.__cbOnAnimateEnd)for(var l=0,r=this.__cbOnAnimateEnd.length;l<r;){var s=l++;!0?(t.vector[i]=this.__cbOnAnimateEnd[s],++i):--e}if(null!=this.__cbOnceAnimateEnd){for(var h=null,a=null,l=0,r=this.__cbOnceAnimateEnd.length;l<r;){var o,s=l++;!0?(t.vector[i]=this.__cbOnceAnimateEnd[s],this.__cbOnceAnimateEnd[s]=null,o=this.__cbOnceOwnerUnbindAnimateEnd[s],(this.__cbOnceOwnerUnbindAnimateEnd[s]=null)!=o&&o(),++i):(--e,null==h&&(h=[],a=[],0),h.push(this.__cbOnceOwnerUnbindAnimateEnd[s]),a.push(this.__cbOnceAnimateEnd[s]))}this.__cbOnceOwnerUnbindAnimateEnd=h,this.__cbOnceAnimateEnd=a}for(l=0,r=e;l<r;){i=l++;(0,t.vector[i])()}n.release(t)}},onAnimateEnd:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event animateEnd because owner is destroyed!");var l=function(e){null!=t&&(i.offAnimateEnd(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindAnimateEnd&&(this.__cbOnOwnerUnbindAnimateEnd=[]),this.__cbOnOwnerUnbindAnimateEnd.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindAnimateEnd&&(this.__cbOnOwnerUnbindAnimateEnd=[]),this.__cbOnOwnerUnbindAnimateEnd.push(null);null==this.__cbOnAnimateEnd&&(this.__cbOnAnimateEnd=[]),this.__cbOnAnimateEnd.push(t)},onceAnimateEnd:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event animateEnd because owner is destroyed!");var l=function(e){null!=t&&(i.offAnimateEnd(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindAnimateEnd&&(this.__cbOnceOwnerUnbindAnimateEnd=[]),this.__cbOnceOwnerUnbindAnimateEnd.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindAnimateEnd&&(this.__cbOnceOwnerUnbindAnimateEnd=[]),this.__cbOnceOwnerUnbindAnimateEnd.push(null);null==this.__cbOnceAnimateEnd&&(this.__cbOnceAnimateEnd=[]),this.__cbOnceAnimateEnd.push(t)},offAnimateEnd:function(e){if(null!=e){var n;null!=this.__cbOnAnimateEnd&&-1!=(n=this.__cbOnAnimateEnd.indexOf(e))&&(this.__cbOnAnimateEnd.splice(n,1),null!=(r=this.__cbOnOwnerUnbindAnimateEnd[n])&&r(),this.__cbOnOwnerUnbindAnimateEnd.splice(n,1)),null!=this.__cbOnceAnimateEnd&&-1!=(n=this.__cbOnceAnimateEnd.indexOf(e))&&(this.__cbOnceAnimateEnd.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindAnimateEnd[n])&&r(),this.__cbOnceOwnerUnbindAnimateEnd.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindAnimateEnd){for(var t=0,i=this.__cbOnOwnerUnbindAnimateEnd.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindAnimateEnd[l])&&r()}this.__cbOnOwnerUnbindAnimateEnd=null}if(null!=this.__cbOnceOwnerUnbindAnimateEnd){for(t=0,i=this.__cbOnceOwnerUnbindAnimateEnd.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindAnimateEnd[l])&&r()}this.__cbOnceOwnerUnbindAnimateEnd=null}this.__cbOnAnimateEnd=null,this.__cbOnceAnimateEnd=null}},listensAnimateEnd:function(){return null!=this.__cbOnAnimateEnd&&0<this.__cbOnAnimateEnd.length||null!=this.__cbOnceAnimateEnd&&0<this.__cbOnceAnimateEnd.length},__cbOnDragStart:null,__cbOnceDragStart:null,__cbOnOwnerUnbindDragStart:null,__cbOnceOwnerUnbindDragStart:null,emitDragStart:function(){var e=0;if(null!=this.__cbOnDragStart&&(e+=this.__cbOnDragStart.length),null!=this.__cbOnceDragStart&&(e+=this.__cbOnceDragStart.length),0<e){var n=C.pool(e),t=n.get(),i=0;if(null!=this.__cbOnDragStart)for(var l=0,r=this.__cbOnDragStart.length;l<r;){var s=l++;!0?(t.vector[i]=this.__cbOnDragStart[s],++i):--e}if(null!=this.__cbOnceDragStart){for(var h=null,a=null,l=0,r=this.__cbOnceDragStart.length;l<r;){var o,s=l++;!0?(t.vector[i]=this.__cbOnceDragStart[s],this.__cbOnceDragStart[s]=null,o=this.__cbOnceOwnerUnbindDragStart[s],(this.__cbOnceOwnerUnbindDragStart[s]=null)!=o&&o(),++i):(--e,null==h&&(h=[],a=[],0),h.push(this.__cbOnceOwnerUnbindDragStart[s]),a.push(this.__cbOnceDragStart[s]))}this.__cbOnceOwnerUnbindDragStart=h,this.__cbOnceDragStart=a}for(l=0,r=e;l<r;){i=l++;(0,t.vector[i])()}n.release(t)}},onDragStart:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event dragStart because owner is destroyed!");var l=function(e){null!=t&&(i.offDragStart(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindDragStart&&(this.__cbOnOwnerUnbindDragStart=[]),this.__cbOnOwnerUnbindDragStart.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindDragStart&&(this.__cbOnOwnerUnbindDragStart=[]),this.__cbOnOwnerUnbindDragStart.push(null);null==this.__cbOnDragStart&&(this.__cbOnDragStart=[]),this.__cbOnDragStart.push(t)},onceDragStart:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event dragStart because owner is destroyed!");var l=function(e){null!=t&&(i.offDragStart(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindDragStart&&(this.__cbOnceOwnerUnbindDragStart=[]),this.__cbOnceOwnerUnbindDragStart.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindDragStart&&(this.__cbOnceOwnerUnbindDragStart=[]),this.__cbOnceOwnerUnbindDragStart.push(null);null==this.__cbOnceDragStart&&(this.__cbOnceDragStart=[]),this.__cbOnceDragStart.push(t)},offDragStart:function(e){if(null!=e){var n;null!=this.__cbOnDragStart&&-1!=(n=this.__cbOnDragStart.indexOf(e))&&(this.__cbOnDragStart.splice(n,1),null!=(r=this.__cbOnOwnerUnbindDragStart[n])&&r(),this.__cbOnOwnerUnbindDragStart.splice(n,1)),null!=this.__cbOnceDragStart&&-1!=(n=this.__cbOnceDragStart.indexOf(e))&&(this.__cbOnceDragStart.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindDragStart[n])&&r(),this.__cbOnceOwnerUnbindDragStart.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindDragStart){for(var t=0,i=this.__cbOnOwnerUnbindDragStart.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindDragStart[l])&&r()}this.__cbOnOwnerUnbindDragStart=null}if(null!=this.__cbOnceOwnerUnbindDragStart){for(t=0,i=this.__cbOnceOwnerUnbindDragStart.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindDragStart[l])&&r()}this.__cbOnceOwnerUnbindDragStart=null}this.__cbOnDragStart=null,this.__cbOnceDragStart=null}},listensDragStart:function(){return null!=this.__cbOnDragStart&&0<this.__cbOnDragStart.length||null!=this.__cbOnceDragStart&&0<this.__cbOnceDragStart.length},__cbOnDragEnd:null,__cbOnceDragEnd:null,__cbOnOwnerUnbindDragEnd:null,__cbOnceOwnerUnbindDragEnd:null,emitDragEnd:function(){var e=0;if(null!=this.__cbOnDragEnd&&(e+=this.__cbOnDragEnd.length),null!=this.__cbOnceDragEnd&&(e+=this.__cbOnceDragEnd.length),0<e){var n=C.pool(e),t=n.get(),i=0;if(null!=this.__cbOnDragEnd)for(var l=0,r=this.__cbOnDragEnd.length;l<r;){var s=l++;!0?(t.vector[i]=this.__cbOnDragEnd[s],++i):--e}if(null!=this.__cbOnceDragEnd){for(var h=null,a=null,l=0,r=this.__cbOnceDragEnd.length;l<r;){var o,s=l++;!0?(t.vector[i]=this.__cbOnceDragEnd[s],this.__cbOnceDragEnd[s]=null,o=this.__cbOnceOwnerUnbindDragEnd[s],(this.__cbOnceOwnerUnbindDragEnd[s]=null)!=o&&o(),++i):(--e,null==h&&(h=[],a=[],0),h.push(this.__cbOnceOwnerUnbindDragEnd[s]),a.push(this.__cbOnceDragEnd[s]))}this.__cbOnceOwnerUnbindDragEnd=h,this.__cbOnceDragEnd=a}for(l=0,r=e;l<r;){i=l++;(0,t.vector[i])()}n.release(t)}},onDragEnd:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event dragEnd because owner is destroyed!");var l=function(e){null!=t&&(i.offDragEnd(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindDragEnd&&(this.__cbOnOwnerUnbindDragEnd=[]),this.__cbOnOwnerUnbindDragEnd.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindDragEnd&&(this.__cbOnOwnerUnbindDragEnd=[]),this.__cbOnOwnerUnbindDragEnd.push(null);null==this.__cbOnDragEnd&&(this.__cbOnDragEnd=[]),this.__cbOnDragEnd.push(t)},onceDragEnd:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event dragEnd because owner is destroyed!");var l=function(e){null!=t&&(i.offDragEnd(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindDragEnd&&(this.__cbOnceOwnerUnbindDragEnd=[]),this.__cbOnceOwnerUnbindDragEnd.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindDragEnd&&(this.__cbOnceOwnerUnbindDragEnd=[]),this.__cbOnceOwnerUnbindDragEnd.push(null);null==this.__cbOnceDragEnd&&(this.__cbOnceDragEnd=[]),this.__cbOnceDragEnd.push(t)},offDragEnd:function(e){if(null!=e){var n;null!=this.__cbOnDragEnd&&-1!=(n=this.__cbOnDragEnd.indexOf(e))&&(this.__cbOnDragEnd.splice(n,1),null!=(r=this.__cbOnOwnerUnbindDragEnd[n])&&r(),this.__cbOnOwnerUnbindDragEnd.splice(n,1)),null!=this.__cbOnceDragEnd&&-1!=(n=this.__cbOnceDragEnd.indexOf(e))&&(this.__cbOnceDragEnd.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindDragEnd[n])&&r(),this.__cbOnceOwnerUnbindDragEnd.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindDragEnd){for(var t=0,i=this.__cbOnOwnerUnbindDragEnd.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindDragEnd[l])&&r()}this.__cbOnOwnerUnbindDragEnd=null}if(null!=this.__cbOnceOwnerUnbindDragEnd){for(t=0,i=this.__cbOnceOwnerUnbindDragEnd.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindDragEnd[l])&&r()}this.__cbOnceOwnerUnbindDragEnd=null}this.__cbOnDragEnd=null,this.__cbOnceDragEnd=null}},listensDragEnd:function(){return null!=this.__cbOnDragEnd&&0<this.__cbOnDragEnd.length||null!=this.__cbOnceDragEnd&&0<this.__cbOnceDragEnd.length},__cbOnWheelStart:null,__cbOnceWheelStart:null,__cbOnOwnerUnbindWheelStart:null,__cbOnceOwnerUnbindWheelStart:null,emitWheelStart:function(){var e=0;if(null!=this.__cbOnWheelStart&&(e+=this.__cbOnWheelStart.length),null!=this.__cbOnceWheelStart&&(e+=this.__cbOnceWheelStart.length),0<e){var n=C.pool(e),t=n.get(),i=0;if(null!=this.__cbOnWheelStart)for(var l=0,r=this.__cbOnWheelStart.length;l<r;){var s=l++;!0?(t.vector[i]=this.__cbOnWheelStart[s],++i):--e}if(null!=this.__cbOnceWheelStart){for(var h=null,a=null,l=0,r=this.__cbOnceWheelStart.length;l<r;){var o,s=l++;!0?(t.vector[i]=this.__cbOnceWheelStart[s],this.__cbOnceWheelStart[s]=null,o=this.__cbOnceOwnerUnbindWheelStart[s],(this.__cbOnceOwnerUnbindWheelStart[s]=null)!=o&&o(),++i):(--e,null==h&&(h=[],a=[],0),h.push(this.__cbOnceOwnerUnbindWheelStart[s]),a.push(this.__cbOnceWheelStart[s]))}this.__cbOnceOwnerUnbindWheelStart=h,this.__cbOnceWheelStart=a}for(l=0,r=e;l<r;){i=l++;(0,t.vector[i])()}n.release(t)}},onWheelStart:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event wheelStart because owner is destroyed!");var l=function(e){null!=t&&(i.offWheelStart(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindWheelStart&&(this.__cbOnOwnerUnbindWheelStart=[]),this.__cbOnOwnerUnbindWheelStart.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindWheelStart&&(this.__cbOnOwnerUnbindWheelStart=[]),this.__cbOnOwnerUnbindWheelStart.push(null);null==this.__cbOnWheelStart&&(this.__cbOnWheelStart=[]),this.__cbOnWheelStart.push(t)},onceWheelStart:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event wheelStart because owner is destroyed!");var l=function(e){null!=t&&(i.offWheelStart(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindWheelStart&&(this.__cbOnceOwnerUnbindWheelStart=[]),this.__cbOnceOwnerUnbindWheelStart.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindWheelStart&&(this.__cbOnceOwnerUnbindWheelStart=[]),this.__cbOnceOwnerUnbindWheelStart.push(null);null==this.__cbOnceWheelStart&&(this.__cbOnceWheelStart=[]),this.__cbOnceWheelStart.push(t)},offWheelStart:function(e){if(null!=e){var n;null!=this.__cbOnWheelStart&&-1!=(n=this.__cbOnWheelStart.indexOf(e))&&(this.__cbOnWheelStart.splice(n,1),null!=(r=this.__cbOnOwnerUnbindWheelStart[n])&&r(),this.__cbOnOwnerUnbindWheelStart.splice(n,1)),null!=this.__cbOnceWheelStart&&-1!=(n=this.__cbOnceWheelStart.indexOf(e))&&(this.__cbOnceWheelStart.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindWheelStart[n])&&r(),this.__cbOnceOwnerUnbindWheelStart.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindWheelStart){for(var t=0,i=this.__cbOnOwnerUnbindWheelStart.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindWheelStart[l])&&r()}this.__cbOnOwnerUnbindWheelStart=null}if(null!=this.__cbOnceOwnerUnbindWheelStart){for(t=0,i=this.__cbOnceOwnerUnbindWheelStart.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindWheelStart[l])&&r()}this.__cbOnceOwnerUnbindWheelStart=null}this.__cbOnWheelStart=null,this.__cbOnceWheelStart=null}},listensWheelStart:function(){return null!=this.__cbOnWheelStart&&0<this.__cbOnWheelStart.length||null!=this.__cbOnceWheelStart&&0<this.__cbOnceWheelStart.length},__cbOnWheelEnd:null,__cbOnceWheelEnd:null,__cbOnOwnerUnbindWheelEnd:null,__cbOnceOwnerUnbindWheelEnd:null,emitWheelEnd:function(){var e=0;if(null!=this.__cbOnWheelEnd&&(e+=this.__cbOnWheelEnd.length),null!=this.__cbOnceWheelEnd&&(e+=this.__cbOnceWheelEnd.length),0<e){var n=C.pool(e),t=n.get(),i=0;if(null!=this.__cbOnWheelEnd)for(var l=0,r=this.__cbOnWheelEnd.length;l<r;){var s=l++;!0?(t.vector[i]=this.__cbOnWheelEnd[s],++i):--e}if(null!=this.__cbOnceWheelEnd){for(var h=null,a=null,l=0,r=this.__cbOnceWheelEnd.length;l<r;){var o,s=l++;!0?(t.vector[i]=this.__cbOnceWheelEnd[s],this.__cbOnceWheelEnd[s]=null,o=this.__cbOnceOwnerUnbindWheelEnd[s],(this.__cbOnceOwnerUnbindWheelEnd[s]=null)!=o&&o(),++i):(--e,null==h&&(h=[],a=[],0),h.push(this.__cbOnceOwnerUnbindWheelEnd[s]),a.push(this.__cbOnceWheelEnd[s]))}this.__cbOnceOwnerUnbindWheelEnd=h,this.__cbOnceWheelEnd=a}for(l=0,r=e;l<r;){i=l++;(0,t.vector[i])()}n.release(t)}},onWheelEnd:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event wheelEnd because owner is destroyed!");var l=function(e){null!=t&&(i.offWheelEnd(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindWheelEnd&&(this.__cbOnOwnerUnbindWheelEnd=[]),this.__cbOnOwnerUnbindWheelEnd.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindWheelEnd&&(this.__cbOnOwnerUnbindWheelEnd=[]),this.__cbOnOwnerUnbindWheelEnd.push(null);null==this.__cbOnWheelEnd&&(this.__cbOnWheelEnd=[]),this.__cbOnWheelEnd.push(t)},onceWheelEnd:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event wheelEnd because owner is destroyed!");var l=function(e){null!=t&&(i.offWheelEnd(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindWheelEnd&&(this.__cbOnceOwnerUnbindWheelEnd=[]),this.__cbOnceOwnerUnbindWheelEnd.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindWheelEnd&&(this.__cbOnceOwnerUnbindWheelEnd=[]),this.__cbOnceOwnerUnbindWheelEnd.push(null);null==this.__cbOnceWheelEnd&&(this.__cbOnceWheelEnd=[]),this.__cbOnceWheelEnd.push(t)},offWheelEnd:function(e){if(null!=e){var n;null!=this.__cbOnWheelEnd&&-1!=(n=this.__cbOnWheelEnd.indexOf(e))&&(this.__cbOnWheelEnd.splice(n,1),null!=(r=this.__cbOnOwnerUnbindWheelEnd[n])&&r(),this.__cbOnOwnerUnbindWheelEnd.splice(n,1)),null!=this.__cbOnceWheelEnd&&-1!=(n=this.__cbOnceWheelEnd.indexOf(e))&&(this.__cbOnceWheelEnd.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindWheelEnd[n])&&r(),this.__cbOnceOwnerUnbindWheelEnd.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindWheelEnd){for(var t=0,i=this.__cbOnOwnerUnbindWheelEnd.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindWheelEnd[l])&&r()}this.__cbOnOwnerUnbindWheelEnd=null}if(null!=this.__cbOnceOwnerUnbindWheelEnd){for(t=0,i=this.__cbOnceOwnerUnbindWheelEnd.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindWheelEnd[l])&&r()}this.__cbOnceOwnerUnbindWheelEnd=null}this.__cbOnWheelEnd=null,this.__cbOnceWheelEnd=null}},listensWheelEnd:function(){return null!=this.__cbOnWheelEnd&&0<this.__cbOnWheelEnd.length||null!=this.__cbOnceWheelEnd&&0<this.__cbOnceWheelEnd.length},__cbOnClick:null,__cbOnceClick:null,__cbOnOwnerUnbindClick:null,__cbOnceOwnerUnbindClick:null,emitClick:function(e){var n=0;if(null!=this.__cbOnClick&&(n+=this.__cbOnClick.length),null!=this.__cbOnceClick&&(n+=this.__cbOnceClick.length),0<n){var t=C.pool(n),i=t.get(),l=0;if(null!=this.__cbOnClick)for(var r=0,s=this.__cbOnClick.length;r<s;){var h=r++;!0?(i.vector[l]=this.__cbOnClick[h],++l):--n}if(null!=this.__cbOnceClick){for(var a=null,o=null,r=0,s=this.__cbOnceClick.length;r<s;){var c,h=r++;!0?(i.vector[l]=this.__cbOnceClick[h],this.__cbOnceClick[h]=null,c=this.__cbOnceOwnerUnbindClick[h],(this.__cbOnceOwnerUnbindClick[h]=null)!=c&&c(),++l):(--n,null==a&&(a=[],o=[],0),a.push(this.__cbOnceOwnerUnbindClick[h]),o.push(this.__cbOnceClick[h]))}this.__cbOnceOwnerUnbindClick=a,this.__cbOnceClick=o}for(r=0,s=n;r<s;){l=r++;(0,i.vector[l])(e)}t.release(i)}},onClick:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event click because owner is destroyed!");var l=function(e){null!=t&&(i.offClick(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindClick&&(this.__cbOnOwnerUnbindClick=[]),this.__cbOnOwnerUnbindClick.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindClick&&(this.__cbOnOwnerUnbindClick=[]),this.__cbOnOwnerUnbindClick.push(null);null==this.__cbOnClick&&(this.__cbOnClick=[]),this.__cbOnClick.push(t)},onceClick:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event click because owner is destroyed!");var l=function(e){null!=t&&(i.offClick(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindClick&&(this.__cbOnceOwnerUnbindClick=[]),this.__cbOnceOwnerUnbindClick.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindClick&&(this.__cbOnceOwnerUnbindClick=[]),this.__cbOnceOwnerUnbindClick.push(null);null==this.__cbOnceClick&&(this.__cbOnceClick=[]),this.__cbOnceClick.push(t)},offClick:function(e){if(null!=e){var n;null!=this.__cbOnClick&&-1!=(n=this.__cbOnClick.indexOf(e))&&(this.__cbOnClick.splice(n,1),null!=(r=this.__cbOnOwnerUnbindClick[n])&&r(),this.__cbOnOwnerUnbindClick.splice(n,1)),null!=this.__cbOnceClick&&-1!=(n=this.__cbOnceClick.indexOf(e))&&(this.__cbOnceClick.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindClick[n])&&r(),this.__cbOnceOwnerUnbindClick.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindClick){for(var t=0,i=this.__cbOnOwnerUnbindClick.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindClick[l])&&r()}this.__cbOnOwnerUnbindClick=null}if(null!=this.__cbOnceOwnerUnbindClick){for(t=0,i=this.__cbOnceOwnerUnbindClick.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindClick[l])&&r()}this.__cbOnceOwnerUnbindClick=null}this.__cbOnClick=null,this.__cbOnceClick=null}},listensClick:function(){return null!=this.__cbOnClick&&0<this.__cbOnClick.length||null!=this.__cbOnceClick&&0<this.__cbOnceClick.length},__cbOnScrollerPointerDown:null,__cbOnceScrollerPointerDown:null,__cbOnOwnerUnbindScrollerPointerDown:null,__cbOnceOwnerUnbindScrollerPointerDown:null,emitScrollerPointerDown:function(e){var n=0;if(null!=this.__cbOnScrollerPointerDown&&(n+=this.__cbOnScrollerPointerDown.length),null!=this.__cbOnceScrollerPointerDown&&(n+=this.__cbOnceScrollerPointerDown.length),0<n){var t=C.pool(n),i=t.get(),l=0;if(null!=this.__cbOnScrollerPointerDown)for(var r=0,s=this.__cbOnScrollerPointerDown.length;r<s;){var h=r++;!0?(i.vector[l]=this.__cbOnScrollerPointerDown[h],++l):--n}if(null!=this.__cbOnceScrollerPointerDown){for(var a=null,o=null,r=0,s=this.__cbOnceScrollerPointerDown.length;r<s;){var c,h=r++;!0?(i.vector[l]=this.__cbOnceScrollerPointerDown[h],this.__cbOnceScrollerPointerDown[h]=null,c=this.__cbOnceOwnerUnbindScrollerPointerDown[h],(this.__cbOnceOwnerUnbindScrollerPointerDown[h]=null)!=c&&c(),++l):(--n,null==a&&(a=[],o=[],0),a.push(this.__cbOnceOwnerUnbindScrollerPointerDown[h]),o.push(this.__cbOnceScrollerPointerDown[h]))}this.__cbOnceOwnerUnbindScrollerPointerDown=a,this.__cbOnceScrollerPointerDown=o}for(r=0,s=n;r<s;){l=r++;(0,i.vector[l])(e)}t.release(i)}},onScrollerPointerDown:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event scrollerPointerDown because owner is destroyed!");var l=function(e){null!=t&&(i.offScrollerPointerDown(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindScrollerPointerDown&&(this.__cbOnOwnerUnbindScrollerPointerDown=[]),this.__cbOnOwnerUnbindScrollerPointerDown.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindScrollerPointerDown&&(this.__cbOnOwnerUnbindScrollerPointerDown=[]),this.__cbOnOwnerUnbindScrollerPointerDown.push(null);null==this.__cbOnScrollerPointerDown&&(this.__cbOnScrollerPointerDown=[]),this.__cbOnScrollerPointerDown.push(t)},onceScrollerPointerDown:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event scrollerPointerDown because owner is destroyed!");var l=function(e){null!=t&&(i.offScrollerPointerDown(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindScrollerPointerDown&&(this.__cbOnceOwnerUnbindScrollerPointerDown=[]),this.__cbOnceOwnerUnbindScrollerPointerDown.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindScrollerPointerDown&&(this.__cbOnceOwnerUnbindScrollerPointerDown=[]),this.__cbOnceOwnerUnbindScrollerPointerDown.push(null);null==this.__cbOnceScrollerPointerDown&&(this.__cbOnceScrollerPointerDown=[]),this.__cbOnceScrollerPointerDown.push(t)},offScrollerPointerDown:function(e){if(null!=e){var n;null!=this.__cbOnScrollerPointerDown&&-1!=(n=this.__cbOnScrollerPointerDown.indexOf(e))&&(this.__cbOnScrollerPointerDown.splice(n,1),null!=(r=this.__cbOnOwnerUnbindScrollerPointerDown[n])&&r(),this.__cbOnOwnerUnbindScrollerPointerDown.splice(n,1)),null!=this.__cbOnceScrollerPointerDown&&-1!=(n=this.__cbOnceScrollerPointerDown.indexOf(e))&&(this.__cbOnceScrollerPointerDown.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindScrollerPointerDown[n])&&r(),this.__cbOnceOwnerUnbindScrollerPointerDown.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindScrollerPointerDown){for(var t=0,i=this.__cbOnOwnerUnbindScrollerPointerDown.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindScrollerPointerDown[l])&&r()}this.__cbOnOwnerUnbindScrollerPointerDown=null}if(null!=this.__cbOnceOwnerUnbindScrollerPointerDown){for(t=0,i=this.__cbOnceOwnerUnbindScrollerPointerDown.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindScrollerPointerDown[l])&&r()}this.__cbOnceOwnerUnbindScrollerPointerDown=null}this.__cbOnScrollerPointerDown=null,this.__cbOnceScrollerPointerDown=null}},listensScrollerPointerDown:function(){return null!=this.__cbOnScrollerPointerDown&&0<this.__cbOnScrollerPointerDown.length||null!=this.__cbOnceScrollerPointerDown&&0<this.__cbOnceScrollerPointerDown.length},__cbOnScrollerPointerUp:null,__cbOnceScrollerPointerUp:null,__cbOnOwnerUnbindScrollerPointerUp:null,__cbOnceOwnerUnbindScrollerPointerUp:null,emitScrollerPointerUp:function(e){var n=0;if(null!=this.__cbOnScrollerPointerUp&&(n+=this.__cbOnScrollerPointerUp.length),null!=this.__cbOnceScrollerPointerUp&&(n+=this.__cbOnceScrollerPointerUp.length),0<n){var t=C.pool(n),i=t.get(),l=0;if(null!=this.__cbOnScrollerPointerUp)for(var r=0,s=this.__cbOnScrollerPointerUp.length;r<s;){var h=r++;!0?(i.vector[l]=this.__cbOnScrollerPointerUp[h],++l):--n}if(null!=this.__cbOnceScrollerPointerUp){for(var a=null,o=null,r=0,s=this.__cbOnceScrollerPointerUp.length;r<s;){var c,h=r++;!0?(i.vector[l]=this.__cbOnceScrollerPointerUp[h],this.__cbOnceScrollerPointerUp[h]=null,c=this.__cbOnceOwnerUnbindScrollerPointerUp[h],(this.__cbOnceOwnerUnbindScrollerPointerUp[h]=null)!=c&&c(),++l):(--n,null==a&&(a=[],o=[],0),a.push(this.__cbOnceOwnerUnbindScrollerPointerUp[h]),o.push(this.__cbOnceScrollerPointerUp[h]))}this.__cbOnceOwnerUnbindScrollerPointerUp=a,this.__cbOnceScrollerPointerUp=o}for(r=0,s=n;r<s;){l=r++;(0,i.vector[l])(e)}t.release(i)}},onScrollerPointerUp:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event scrollerPointerUp because owner is destroyed!");var l=function(e){null!=t&&(i.offScrollerPointerUp(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindScrollerPointerUp&&(this.__cbOnOwnerUnbindScrollerPointerUp=[]),this.__cbOnOwnerUnbindScrollerPointerUp.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindScrollerPointerUp&&(this.__cbOnOwnerUnbindScrollerPointerUp=[]),this.__cbOnOwnerUnbindScrollerPointerUp.push(null);null==this.__cbOnScrollerPointerUp&&(this.__cbOnScrollerPointerUp=[]),this.__cbOnScrollerPointerUp.push(t)},onceScrollerPointerUp:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event scrollerPointerUp because owner is destroyed!");var l=function(e){null!=t&&(i.offScrollerPointerUp(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindScrollerPointerUp&&(this.__cbOnceOwnerUnbindScrollerPointerUp=[]),this.__cbOnceOwnerUnbindScrollerPointerUp.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindScrollerPointerUp&&(this.__cbOnceOwnerUnbindScrollerPointerUp=[]),this.__cbOnceOwnerUnbindScrollerPointerUp.push(null);null==this.__cbOnceScrollerPointerUp&&(this.__cbOnceScrollerPointerUp=[]),this.__cbOnceScrollerPointerUp.push(t)},offScrollerPointerUp:function(e){if(null!=e){var n;null!=this.__cbOnScrollerPointerUp&&-1!=(n=this.__cbOnScrollerPointerUp.indexOf(e))&&(this.__cbOnScrollerPointerUp.splice(n,1),null!=(r=this.__cbOnOwnerUnbindScrollerPointerUp[n])&&r(),this.__cbOnOwnerUnbindScrollerPointerUp.splice(n,1)),null!=this.__cbOnceScrollerPointerUp&&-1!=(n=this.__cbOnceScrollerPointerUp.indexOf(e))&&(this.__cbOnceScrollerPointerUp.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindScrollerPointerUp[n])&&r(),this.__cbOnceOwnerUnbindScrollerPointerUp.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindScrollerPointerUp){for(var t=0,i=this.__cbOnOwnerUnbindScrollerPointerUp.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindScrollerPointerUp[l])&&r()}this.__cbOnOwnerUnbindScrollerPointerUp=null}if(null!=this.__cbOnceOwnerUnbindScrollerPointerUp){for(t=0,i=this.__cbOnceOwnerUnbindScrollerPointerUp.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindScrollerPointerUp[l])&&r()}this.__cbOnceOwnerUnbindScrollerPointerUp=null}this.__cbOnScrollerPointerUp=null,this.__cbOnceScrollerPointerUp=null}},listensScrollerPointerUp:function(){return null!=this.__cbOnScrollerPointerUp&&0<this.__cbOnScrollerPointerUp.length||null!=this.__cbOnceScrollerPointerUp&&0<this.__cbOnceScrollerPointerUp.length},content:null,scrollbar:null,set_scrollbar:function(e){return this.scrollbar==e?e:(null!=this.scrollbar&&this.scrollbar.destroy(),this.scrollbar=e,null!=this.scrollbar&&(this.add(this.scrollbar),this.scrollbar.set_depth(2),this.bindScrollbar(this.scrollbar)),this.scrollbar)},direction:null,allowPointerOutside:null,scrollTransform:null,scrollEnabled:null,dragEnabled:null,dragThreshold:null,noDragThreshold:null,roundScrollWhenIdle:null,set_roundScrollWhenIdle:function(e){var n;return this.roundScrollWhenIdle!=e&&(this.roundScrollWhenIdle=e,this.get_status()==nt.IDLE&&0<this.roundScrollWhenIdle&&(n=1==this.roundScrollWhenIdle?(n=Math.round(-this.scrollTransform.tx),this.scrollTransform.tx!=-n&&(this.scrollTransform.tx=-n,this.scrollTransform.changedDirty=!0),Math.round(-this.scrollTransform.ty)):(n=Math.round(-this.scrollTransform.tx*this.roundScrollWhenIdle)/this.roundScrollWhenIdle,this.scrollTransform.tx!=-n&&(this.scrollTransform.tx=-n,this.scrollTransform.changedDirty=!0),Math.round(-this.scrollTransform.ty*this.roundScrollWhenIdle)/this.roundScrollWhenIdle),this.scrollTransform.ty!=-n))&&(this.scrollTransform.ty=-n,this.scrollTransform.changedDirty=!0),e},statusAutoruns:null,get_status:function(){var e,n,t=this.unobservedStatus;return null!=U.current&&(e=U.current,null!=(n=this.statusAutoruns)||(n=U.getAutorunArray(),null!=(this.statusAutoruns=n)))&&e.bindToAutorunArray(n),t},set_status:function(e){var n=this.unobservedStatus;return this.set_unobservedStatus(e),n!=e&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitStatusChange(e,n),null!=(n=this.statusAutoruns))&&(this.statusAutoruns=null,U.invalidateAutorunArray(n)),e},invalidateStatus:function(){var e=this.unobservedStatus,e=(this.emitStatusChange(e,e),this.statusAutoruns);null!=e&&(this.statusAutoruns=null,U.invalidateAutorunArray(e))},unobservedStatus:null,__cbOnStatusChange:null,__cbOnceStatusChange:null,__cbOnOwnerUnbindStatusChange:null,__cbOnceOwnerUnbindStatusChange:null,emitStatusChange:function(e,n){var t=0;if(null!=this.__cbOnStatusChange&&(t+=this.__cbOnStatusChange.length),null!=this.__cbOnceStatusChange&&(t+=this.__cbOnceStatusChange.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnStatusChange)for(var s=0,h=this.__cbOnStatusChange.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnStatusChange[a],++r):--t}if(null!=this.__cbOnceStatusChange){for(var o=null,c=null,s=0,h=this.__cbOnceStatusChange.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceStatusChange[a],this.__cbOnceStatusChange[a]=null,u=this.__cbOnceOwnerUnbindStatusChange[a],(this.__cbOnceOwnerUnbindStatusChange[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindStatusChange[a]),c.push(this.__cbOnceStatusChange[a]))}this.__cbOnceOwnerUnbindStatusChange=o,this.__cbOnceStatusChange=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onStatusChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event statusChange because owner is destroyed!");var l=function(e){null!=t&&(i.offStatusChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindStatusChange&&(this.__cbOnOwnerUnbindStatusChange=[]),this.__cbOnOwnerUnbindStatusChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindStatusChange&&(this.__cbOnOwnerUnbindStatusChange=[]),this.__cbOnOwnerUnbindStatusChange.push(null);null==this.__cbOnStatusChange&&(this.__cbOnStatusChange=[]),this.__cbOnStatusChange.push(t)},onceStatusChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event statusChange because owner is destroyed!");var l=function(e){null!=t&&(i.offStatusChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindStatusChange&&(this.__cbOnceOwnerUnbindStatusChange=[]),this.__cbOnceOwnerUnbindStatusChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindStatusChange&&(this.__cbOnceOwnerUnbindStatusChange=[]),this.__cbOnceOwnerUnbindStatusChange.push(null);null==this.__cbOnceStatusChange&&(this.__cbOnceStatusChange=[]),this.__cbOnceStatusChange.push(t)},offStatusChange:function(e){if(null!=e){var n;null!=this.__cbOnStatusChange&&-1!=(n=this.__cbOnStatusChange.indexOf(e))&&(this.__cbOnStatusChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindStatusChange[n])&&r(),this.__cbOnOwnerUnbindStatusChange.splice(n,1)),null!=this.__cbOnceStatusChange&&-1!=(n=this.__cbOnceStatusChange.indexOf(e))&&(this.__cbOnceStatusChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindStatusChange[n])&&r(),this.__cbOnceOwnerUnbindStatusChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindStatusChange){for(var t=0,i=this.__cbOnOwnerUnbindStatusChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindStatusChange[l])&&r()}this.__cbOnOwnerUnbindStatusChange=null}if(null!=this.__cbOnceOwnerUnbindStatusChange){for(t=0,i=this.__cbOnceOwnerUnbindStatusChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindStatusChange[l])&&r()}this.__cbOnceOwnerUnbindStatusChange=null}this.__cbOnStatusChange=null,this.__cbOnceStatusChange=null}},listensStatusChange:function(){return null!=this.__cbOnStatusChange&&0<this.__cbOnStatusChange.length||null!=this.__cbOnceStatusChange&&0<this.__cbOnceStatusChange.length},set_unobservedStatus:function(e){var n,t;return e!=this.unobservedStatus&&(t=this.unobservedStatus,(this.unobservedStatus=e)==nt.DRAGGING?(this.pagingEnabled&&(this.pageIndexOnStartDrag=this.pageIndexFromScroll(-this.scrollTransform.tx,-this.scrollTransform.ty)),this.emitDragStart()):t==nt.DRAGGING?this.emitDragEnd():e==nt.IDLE&&0<this.roundScrollWhenIdle&&(t=1==this.roundScrollWhenIdle?(n=Math.round(-this.scrollTransform.tx),this.scrollTransform.tx!=-n&&(this.scrollTransform.tx=-n,this.scrollTransform.changedDirty=!0),Math.round(-this.scrollTransform.ty)):(n=Math.round(-this.scrollTransform.tx*this.roundScrollWhenIdle)/this.roundScrollWhenIdle,this.scrollTransform.tx!=-n&&(this.scrollTransform.tx=-n,this.scrollTransform.changedDirty=!0),Math.round(-this.scrollTransform.ty*this.roundScrollWhenIdle)/this.roundScrollWhenIdle),this.scrollTransform.ty!=-t)&&(this.scrollTransform.ty=-t,this.scrollTransform.changedDirty=!0)),e},verticalToHorizontalWheel:null,deceleration:null,wheelDeceleration:null,wheelFactor:null,wheelMomentum:null,wheelEndDelay:null,overScrollResistance:null,maxClickMomentum:null,bounceMomentumFactor:null,bounceMinDuration:null,bounceDurationFactor:null,bounceNoMomentumDuration:null,dragFactor:null,touchableStrictHierarchy:null,prevPointerX:null,prevPointerY:null,dragThresholdStatus:null,destroy:function(){this._lifecycleState<=-2||(this._lifecycleState=-2,this.blockingDefaultScroll&&(this.blockingDefaultScroll=!1,he.app.numBlockingDefaultScroll--),this._lifecycleState=-1,o.prototype.destroy.call(this))},set_scrollEnabled:function(e){return this.scrollEnabled!=e&&(this.scrollEnabled=e,this.set_status(nt.IDLE),e?this.startTracking():this.stopTracking()),e},set_width:function(e){return o.prototype.set_width.call(this,e),this.direction==Jn.VERTICAL&&this.content.set_width(e),e},set_height:function(e){return o.prototype.set_height.call(this,e),this.direction==Jn.HORIZONTAL&&this.content.set_height(e),e},interceptPointerDown:function(e,n,t,i,l){return!(!this.scrollEnabled||this.allowPointerOutside||this._hits(n,t,!1))},interceptPointerOver:function(e,n,t){if(this.scrollEnabled){n=this._hits(n,t,!1);if(this.pointerOnScrollerChild=n&&!(e instanceof et),!this.allowPointerOutside&&!n)return!0}return!1},scrollToBounds:function(){var e;this.direction==Jn.VERTICAL?this.content.get_height()<=this.get_height()?0!=this.scrollTransform.ty&&(this.scrollTransform.ty=0,this.scrollTransform.changedDirty=!0):this.content.get_height()-this.get_height()<-this.scrollTransform.ty?(e=this.content.get_height()-this.get_height(),this.scrollTransform.ty!=-e&&(this.scrollTransform.ty=-e,this.scrollTransform.changedDirty=!0)):-this.scrollTransform.ty<0&&0!=this.scrollTransform.ty&&(this.scrollTransform.ty=0,this.scrollTransform.changedDirty=!0):this.content.get_width()<=this.get_width()?0!=this.scrollTransform.tx&&(this.scrollTransform.tx=0,this.scrollTransform.changedDirty=!0):this.content.get_width()-this.get_width()<-this.scrollTransform.tx?(e=this.content.get_width()-this.get_width(),this.scrollTransform.tx!=-e&&(this.scrollTransform.tx=-e,this.scrollTransform.changedDirty=!0)):-this.scrollTransform.tx<0&&0!=this.scrollTransform.tx&&(this.scrollTransform.tx=0,this.scrollTransform.changedDirty=!0)},isContentPositionInBounds:function(e,n){return!(e<-this.scrollTransform.tx||e>=-this.scrollTransform.tx+this.get_width()||n<-this.scrollTransform.ty||n>=-this.scrollTransform.ty+this.get_height())},ensureContentPositionIsInBounds:function(e,n){var t=-this.scrollTransform.tx,i=-this.scrollTransform.ty,e=(e<t?t=e:e>=t+this.get_width()&&(t=e-this.get_width()),this.content.get_width()-this.get_width()),e=((t=e<t?e:t)<0&&(t=0),n<i?i=n:n>=i+this.get_height()&&(i=n-this.get_height()),this.content.get_height()-this.get_height());(i=e<i?e:i)<0&&(i=0),this.scrollTransform.tx!=-t&&(this.scrollTransform.tx=-t,this.scrollTransform.changedDirty=!0),this.scrollTransform.ty!=-i&&(this.scrollTransform.ty=-i,this.scrollTransform.changedDirty=!0)},get_scrollX:function(){return-this.scrollTransform.tx},set_scrollX:function(e){return this.scrollTransform.tx!=-e&&(this.scrollTransform.tx=-e,this.scrollTransform.changedDirty=!0),e},get_scrollY:function(){return-this.scrollTransform.ty},set_scrollY:function(e){return this.scrollTransform.ty!=-e&&(this.scrollTransform.ty=-e,this.scrollTransform.changedDirty=!0),e},position:null,contentStart:null,pointerStart:null,pointerStartX:null,pointerStartY:null,touchIndex:null,scrollVelocity:null,momentum:null,releaseSnap:null,fromWheel:null,lastWheelEventTime:null,canClick:null,tweenX:null,tweenY:null,animating:null,set_animating:function(e){return this.animating!=e&&((this.animating=e)?this.emitAnimateStart():this.emitAnimateEnd()),e},pointerOnScroller:null,pointerOnScrollerChild:null,blockingDefaultScroll:null,startTracking:function(){he.app.onUpdate(this,$bind(this,this.update)),this.onPointerOver(this,$bind(this,this.pointerOver)),this.onPointerOut(this,$bind(this,this.pointerOut)),he.app.screen.onMultiTouchPointerDown(this,$bind(this,this.pointerDown)),he.app.screen.onFocus(this,$bind(this,this.screenFocus)),he.app.screen.onMouseWheel(this,$bind(this,this.mouseWheel))},stopTracking:function(){he.app.offUpdate($bind(this,this.update)),this.offPointerOver($bind(this,this.pointerOver)),this.offPointerOut($bind(this,this.pointerOut)),he.app.screen.offMultiTouchPointerDown($bind(this,this.pointerDown)),he.app.screen.offFocus($bind(this,this.screenFocus)),he.app.screen.offMouseWheel($bind(this,this.mouseWheel)),this.blockingDefaultScroll&&(this.blockingDefaultScroll=!1,he.app.numBlockingDefaultScroll--)},pointerOver:function(e){this.pointerOnScroller=!0},pointerOut:function(e){this.pointerOnScroller=!1},mouseWheel:function(e,n){if(!this.pagingEnabled&&this.get_status()!=nt.TOUCHING&&this.get_status()!=nt.DRAGGING&&(this.pointerOnScroller||this.pointerOnScrollerChild)&&this._hits(he.app.screen.pointerX,he.app.screen.pointerY,!1)){if(this.direction==Jn.VERTICAL){if(0<this.scrollTransform.ty||this.scrollTransform.ty<this.get_height()-this.content.get_height())return}else if(0<this.scrollTransform.tx||this.scrollTransform.tx<this.get_width()-this.content.get_width())return;var t,i;e*=this.wheelFactor,n*=this.wheelFactor,this.set_status(nt.SCROLLING),this.fromWheel=!0,-1==this.lastWheelEventTime?(this.lastWheelEventTime=Dt.now,this.emitWheelStart()):this.lastWheelEventTime=Dt.now,this.direction==Jn.VERTICAL?((this.momentum<0&&0<n||0<this.momentum&&n<0)&&(this.momentum=0),this.scrollTransform.ty-=n,0<this.scrollTransform.ty?this.scrollTransform.ty=0:this.scrollTransform.ty<this.get_height()-this.content.get_height()&&(t=this.get_height(),i=this.content.get_height(),this.scrollTransform.ty=t-i),this.wheelMomentum&&this.scrollTransform.ty<0&&this.scrollTransform.ty>this.get_height()-this.content.get_height()&&(this.momentum-=60*n)):this.verticalToHorizontalWheel&&0==e?((this.momentum<0&&0<n||0<this.momentum&&n<0)&&(this.momentum=0),this.scrollTransform.tx-=n,0<this.scrollTransform.tx?this.scrollTransform.tx=0:this.scrollTransform.tx<this.get_width()-this.content.get_width()&&(t=this.get_width(),i=this.content.get_width(),this.scrollTransform.tx=t-i),this.wheelMomentum&&this.scrollTransform.tx<=0&&this.scrollTransform.tx>=this.get_width()-this.content.get_width()&&(this.momentum-=60*n)):((this.momentum<0&&0<e||0<this.momentum&&e<0)&&(this.momentum=0),this.scrollTransform.tx-=e,0<this.scrollTransform.tx?this.scrollTransform.tx=0:this.scrollTransform.tx<this.get_width()-this.content.get_width()&&(t=this.get_width(),i=this.content.get_width(),this.scrollTransform.tx=t-i),this.wheelMomentum&&this.scrollTransform.tx<=0&&this.scrollTransform.tx>=this.get_width()-this.content.get_width()&&(this.momentum-=60*e)),this.scrollTransform.changedDirty=!0}},pointerDown:function(e){var n,t;this.computedTouchable&&this.dragEnabled&&this.get_status()!=nt.TOUCHING&&this.get_status()!=nt.DRAGGING&&(this.dragThresholdStatus=0<this.dragThreshold?1:0,t=(n=this._hits(e.x,e.y,!1))&&this.touchableStrictHierarchy?he.app.screen.matchFirstDownListener(e.x,e.y):null,n)&&(!this.touchableStrictHierarchy||null!=t&&(t==this||this.contains(t,!0)))&&(this.set_animating(!1),null!=this.tweenX&&this.tweenX.destroy(),null!=this.tweenY&&this.tweenY.destroy(),this.get_status()==nt.SCROLLING&&Math.abs(this.momentum)>this.maxClickMomentum?(he.app.screen.set_focusedVisual(this),this.canClick=!1):this.canClick=!0,this.prevPointerX=-99999999,this.prevPointerY=-99999999,this.set_status(nt.TOUCHING),this.touchIndex=e.touchIndex,this.pointerStartX=e.x,this.pointerStartY=e.y,this.direction==Jn.VERTICAL?(this.contentStart=this.scrollTransform.ty,this.pointerStart=e.y):(this.contentStart=this.scrollTransform.tx,this.pointerStart=e.x),this.scrollVelocity=new Ft,this.scrollVelocity.add(0),he.app.screen.onMultiTouchPointerUp(this,$bind(this,this.pointerUp)),this.emitScrollerPointerDown(e))},pointerUp:function(e){e.touchIndex==this.touchIndex&&(this.get_status()==nt.TOUCHING&&he.app.screen.get_focusedVisual()==this||(this.canClick=!1),this.momentum=this.scrollVelocity.get(),this.scrollVelocity=null,this.touchIndex=-1,this.set_status(nt.SCROLLING),he.app.screen.offMultiTouchPointerUp($bind(this,this.pointerUp)),this.direction==Jn.VERTICAL?this.pagingEnabled||0<this.scrollTransform.ty||this.scrollTransform.ty<this.get_height()-this.content.get_height()?this.releaseSnap=!0:this.releaseSnap=!1:this.pagingEnabled||0<this.scrollTransform.tx||this.scrollTransform.tx<this.get_width()-this.content.get_width()?this.releaseSnap=!0:this.releaseSnap=!1,this.canClick&&(this.canClick=!1,this.emitClick(e)),this.emitScrollerPointerUp(e))},screenFocus:function(e){null==e||e==this||this.get_status()!=nt.TOUCHING||this.contains(e)||(this.set_status(nt.IDLE),he.app.screen.offMultiTouchPointerUp($bind(this,this.pointerUp)))},isOverScrollingTop:function(){return 0<this.scrollTransform.ty},isOverScrollingBottom:function(){return this.scrollTransform.ty<this.get_height()-this.content.get_height()},isOverScrollingLeft:function(){return 0<this.scrollTransform.tx},isOverScrollingRight:function(){return this.scrollTransform.tx<this.get_width()-this.content.get_width()},roundScrollIfNeeded:function(){var e;0<this.roundScrollWhenIdle&&(e=1==this.roundScrollWhenIdle?(e=Math.round(-this.scrollTransform.tx),this.scrollTransform.tx!=-e&&(this.scrollTransform.tx=-e,this.scrollTransform.changedDirty=!0),Math.round(-this.scrollTransform.ty)):(e=Math.round(-this.scrollTransform.tx*this.roundScrollWhenIdle)/this.roundScrollWhenIdle,this.scrollTransform.tx!=-e&&(this.scrollTransform.tx=-e,this.scrollTransform.changedDirty=!0),Math.round(-this.scrollTransform.ty*this.roundScrollWhenIdle)/this.roundScrollWhenIdle),this.scrollTransform.ty!=-e)&&(this.scrollTransform.ty=-e,this.scrollTransform.changedDirty=!0)},update:function(e){var n=this.blockingDefaultScroll;if(this.blockingDefaultScroll=(this.pointerOnScroller||this.pointerOnScrollerChild)&&this._hits(he.app.screen.pointerX,he.app.screen.pointerY,!1),this.blockingDefaultScroll!=n&&(this.blockingDefaultScroll?he.app.numBlockingDefaultScroll++:he.app.numBlockingDefaultScroll--),0!=e&&3!=this.dragThresholdStatus){var t=he.app.screen.pointerX,i=he.app.screen.pointerY;if(-1!=this.touchIndex&&null!=(n=he.app.screen.touches.get(this.touchIndex))&&(t=n.x,i=n.y),1==this.dragThresholdStatus){var n=Math.abs(t-this.pointerStartX),l=Math.abs(i-this.pointerStartY),r=0<this.noDragThreshold?this.noDragThreshold:this.dragThreshold;if(this.direction==Jn.VERTICAL?(0<this.noDragThreshold||l<n)&&r<=n?this.dragThresholdStatus=3:n<l&&l>=this.dragThreshold&&(this.dragThresholdStatus=2):(0<this.noDragThreshold||n<l)&&r<=l?this.dragThresholdStatus=3:l<n&&n>=this.dragThreshold&&(this.dragThresholdStatus=2),3==this.dragThresholdStatus)return}switch(this.scrollUpdate(t,i,e),-1!=this.lastWheelEventTime&&Dt.now-this.lastWheelEventTime>this.wheelEndDelay&&(this.lastWheelEventTime=-1,this.emitWheelEnd()),this.get_status()._hx_index){case 1:case 2:this.prevPointerX=t,this.prevPointerY=i;break;default:this.prevPointerX=-99999999,this.prevPointerY=-99999999}this.updateScrollbar(),this.get_status()==nt.IDLE&&this.roundScrollIfNeeded()}},updateScrollbar:function(){null!=this.scrollbar&&(this.direction==Jn.VERTICAL?(this.scrollbar.set_x(this.get_width()-this.scrollbar.get_width()*(1-this.scrollbar.anchorX)),0<this.content.get_height()?(this.scrollbar.set_height(Math.min(this.get_height(),this.get_height()*this.get_height()/this.content.get_height())),this.scrollbar.set_y(this.get_height()*-this.scrollTransform.ty/this.content.get_height())):(this.scrollbar.set_height(0),this.scrollbar.set_y(0))):(this.scrollbar.set_y(this.get_height()-this.scrollbar.get_height()*(1-this.scrollbar.anchorY)),0<this.content.get_width()?(this.scrollbar.set_width(Math.min(this.get_width(),this.get_width()*this.get_width()/this.content.get_width())),this.scrollbar.set_x(this.get_width()*-this.scrollTransform.tx/this.content.get_width())):(this.scrollbar.set_width(0),this.scrollbar.set_x(0))))},scrollbarDownX:null,scrollbarDownY:null,scrollbarStartX:null,scrollbarStartY:null,bindScrollbar:function(e){this.scrollbarDownX=-1,this.scrollbarDownY=-1,e.onPointerDown(this,$bind(this,this.handleScrollbarDown)),e.onPointerUp(this,$bind(this,this.handleScrollbarUp))},handleScrollbarDown:function(e){this.scrollEnabled&&(this.scrollbarStartX=this.scrollbar.x,this.scrollbarStartY=this.scrollbar.y,this.screenToVisual(e.x,e.y,et._point),this.scrollbarDownX=et._point.x,this.scrollbarDownY=et._point.y,he.app.screen.offPointerMove($bind(this,this.handleScrollbarMove)),he.app.screen.onPointerMove(this.scrollbar,$bind(this,this.handleScrollbarMove)))},handleScrollbarUp:function(e){he.app.screen.offPointerMove($bind(this,this.handleScrollbarMove))},handleScrollbarMove:function(e){this.screenToVisual(e.x,e.y,et._point);var e=et._point.x-this.scrollbarDownX,n=et._point.y-this.scrollbarDownY;this.direction==Jn.VERTICAL?(n=(this.scrollbarStartY+n)*this.content.get_height()/this.get_height(),this.scrollTransform.ty!=-n&&(this.scrollTransform.ty=-n,this.scrollTransform.changedDirty=!0)):(n=(this.scrollbarStartX+e)*this.content.get_width()/this.get_width(),this.scrollTransform.tx!=-n&&(this.scrollTransform.tx=-n,this.scrollTransform.changedDirty=!0)),this.scrollToBounds()},scrollUpdate:function(e,n,t,i){switch(null==i&&(i=0),this.get_status()._hx_index){case 0:break;case 1:var l=Math.abs(e-this.pointerStartX),r=Math.abs(n-this.pointerStartY),s=0<this.noDragThreshold?this.noDragThreshold:this.dragThreshold;this.direction==Jn.VERTICAL?(l<r&&r>=Math.max(et.threshold,this.dragThreshold)&&!((0<this.noDragThreshold||r<l)&&s<=l)&&(this.set_status(nt.DRAGGING),this.fromWheel=!1,this.pointerStart=n,this.scrollTransform.ty=this.contentStart+n-this.pointerStart,0<this.scrollTransform.tx?(this.scrollVelocity.reset(),h=Math.max(this.contentStart,0),this.pointerStart=this.contentStart+n-(h+(this.scrollTransform.ty-h)*this.overScrollResistance),this.scrollTransform.ty=h+(this.contentStart+n-this.pointerStart-h)/this.overScrollResistance):this.scrollTransform.tx<this.get_width()-this.content.get_width()&&(this.scrollVelocity.reset(),a=Math.min(this.contentStart,this.get_height()-this.content.get_height()),this.pointerStart=this.contentStart+n-(a+(this.scrollTransform.ty-a)*this.overScrollResistance),this.scrollTransform.ty=a+(this.contentStart+n-this.pointerStart-a)/this.overScrollResistance),this.scrollTransform.changedDirty=!0,he.app.screen.set_focusedVisual(this)),this.scrollVelocity.add(n-this.pointerStart,i)):(r<l&&l>=Math.max(et.threshold,this.dragThreshold)&&!((0<this.noDragThreshold||l<r)&&s<=r)&&(this.set_status(nt.DRAGGING),this.fromWheel=!1,this.pointerStart=e,this.scrollTransform.tx=this.contentStart+e-this.pointerStart,0<this.scrollTransform.tx?(this.scrollVelocity.reset(),o=Math.max(this.contentStart,0),this.pointerStart=this.contentStart+e-(o+(this.scrollTransform.tx-o)*this.overScrollResistance),this.scrollTransform.tx=o+(this.contentStart+e-this.pointerStart-o)/this.overScrollResistance):this.scrollTransform.tx<this.get_width()-this.content.get_width()&&(this.scrollVelocity.reset(),c=Math.min(this.contentStart,this.get_width()-this.content.get_width()),this.pointerStart=this.contentStart+e-(c+(this.scrollTransform.tx-c)*this.overScrollResistance),this.scrollTransform.tx=c+(this.contentStart+e-this.pointerStart-c)/this.overScrollResistance),this.scrollTransform.changedDirty=!0,he.app.screen.set_focusedVisual(this)),this.scrollVelocity.add(e-this.pointerStart,i));break;case 2:var h,a,o,c;this.direction==Jn.VERTICAL?(e=this.pointerStart+(n-this.pointerStart)*this.dragFactor,this.scrollTransform.ty=this.contentStart+n-this.pointerStart,h=Math.max(this.contentStart,0),this.scrollTransform.ty>h?this.scrollTransform.ty=h+(this.scrollTransform.ty-h)/this.overScrollResistance:(a=Math.min(this.contentStart,this.get_height()-this.content.get_height()),this.scrollTransform.ty<a&&(this.scrollTransform.ty=a+(this.scrollTransform.ty-a)/this.overScrollResistance)),this.scrollTransform.changedDirty=!0,this.scrollVelocity.add(n-this.pointerStart,i)):(e=this.pointerStart+(e-this.pointerStart)*this.dragFactor,this.scrollTransform.tx=this.contentStart+e-this.pointerStart,o=Math.max(this.contentStart,0),this.scrollTransform.tx>o?this.scrollTransform.tx=o+(this.scrollTransform.tx-o)/this.overScrollResistance:(c=Math.min(this.contentStart,this.get_width()-this.content.get_width()),this.scrollTransform.tx<c&&(this.scrollTransform.tx=c+(this.scrollTransform.tx-c)/this.overScrollResistance)),this.scrollTransform.changedDirty=!0,this.scrollVelocity.add(e-this.pointerStart,i));break;case 3:l=0;this.direction==Jn.VERTICAL?this.animating||(this.pagingEnabled||0<this.scrollTransform.ty||this.scrollTransform.ty<this.get_height()-this.content.get_height()?this.bounceScroll():(l=this.fromWheel?Math.round(this.wheelDeceleration*he.app.screen.height/(ee.app.screenHeight*ee.app.screenDensity)):Math.round(this.deceleration*he.app.screen.height/(ee.app.screenHeight*ee.app.screenDensity)),this.scrollTransform.ty+=this.momentum*t,this.scrollTransform.changedDirty=!0)):this.animating||(this.pagingEnabled||0<this.scrollTransform.tx||this.scrollTransform.tx<this.get_width()-this.content.get_width()?this.bounceScroll():(l=this.fromWheel?Math.round(this.wheelDeceleration*he.app.screen.width/(ee.app.screenWidth*ee.app.screenDensity)):Math.round(this.deceleration*he.app.screen.width/(ee.app.screenWidth*ee.app.screenDensity)),this.scrollTransform.tx+=this.momentum*t,this.scrollTransform.changedDirty=!0)),0<this.momentum?this.momentum=Math.max(0,this.momentum-l*t):this.momentum<0?this.momentum=Math.min(0,this.momentum+l*t):0!=this.momentum||this.animating||this.set_status(nt.IDLE)}},stop:function(){o.prototype.stop.call(this),this.set_status(nt.IDLE),this.set_animating(!1),null!=this.tweenX&&this.tweenX.destroy(),null!=this.tweenY&&this.tweenY.destroy()},stopTweens:function(){null!=this.tweenX&&this.tweenX.destroy(),null!=this.tweenY&&this.tweenY.destroy()},scrollTo:function(e,n){this.stop(),this.scrollTransform.tx!=-e&&(this.scrollTransform.tx=-e,this.scrollTransform.changedDirty=!0),this.scrollTransform.ty!=-n&&(this.scrollTransform.ty=-n,this.scrollTransform.changedDirty=!0)},smoothScrollTo:function(e,n,t,i){null==t&&(t=.15);var l,r,s=this,h=(null!=this.tweenX&&this.tweenX.destroy(),null!=this.tweenY&&this.tweenY.destroy(),this.momentum=0,!1);null==i&&(i=tn.QUAD_EASE_IN_OUT),e!=-this.scrollTransform.tx&&(this.set_animating(!0),this.set_status(nt.SCROLLING),h=!0,l=this.tween(i,t,-this.scrollTransform.tx,e,function(e,n){s.scrollTransform.tx!=-e&&(s.scrollTransform.tx=-e,s.scrollTransform.changedDirty=!0)}),(this.tweenX=l).onceComplete(this,function(){s.set_animating(!1),s.set_status(nt.IDLE)}),l.onDestroy(this,function(e){s.tweenX==l&&(s.tweenX=null)})),n!=-this.scrollTransform.ty&&(this.set_animating(!0),this.set_status(nt.SCROLLING),h=!0,r=this.tween(i,t,-this.scrollTransform.ty,n,function(e,n){s.scrollTransform.ty!=-e&&(s.scrollTransform.ty=-e,s.scrollTransform.changedDirty=!0)}),(this.tweenY=r).onceComplete(this,function(){s.set_animating(!1),s.set_status(nt.IDLE)}),r.onDestroy(this,function(e){s.tweenY==r&&(s.tweenY=null)})),h||(this.set_animating(!1),this.set_status(nt.IDLE))},snapTo:function(e,n,t,i){null==t&&(t=.15),this.momentum=0,this.set_animating(!0),null!=this.tweenX&&this.tweenX.destroy(),null!=this.tweenY&&this.tweenY.destroy(),this.set_status(nt.SCROLLING),0<t?this.smoothScrollTo(e,n,t,i):this.scrollTo(n,n)},bounceScroll:function(){var t,i,l,n,r,s,h,a,o,e,c,u,_,d,b,g=this,O=this.momentum;this.momentum=0,null!=this.tweenX&&this.tweenX.destroy(),null!=this.tweenY&&this.tweenY.destroy(),this.set_status(nt.SCROLLING),this.direction==Jn.VERTICAL?(null!=this.tweenY&&this.tweenY.destroy(),!this.releaseSnap&&(0<O||O<0)?(c=tn.LINEAR,t=Math.abs(-this.scrollTransform.ty-this.content.get_height()+this.get_height())<Math.abs(-this.scrollTransform.ty)?this.content.get_height()-this.get_height():0,i=-this.scrollTransform.ty-t,l=-this.scrollTransform.ty+O*this.bounceMomentumFactor-t,e=this.bounceMinDuration+Math.abs(O)*this.bounceDurationFactor,this.set_animating(!0),n=this.tween(c,e,0,1,function(e,n){e=e<=.5?(2*i*(1-2*e)+2*e*l)/2:l*(1-2*(e-.5))/2,e=t+e;g.scrollTransform.ty!=-e&&(g.scrollTransform.ty=-e,g.scrollTransform.changedDirty=!0)}),(this.tweenY=n).onceComplete(this,function(){g.set_animating(!1),g.set_status(nt.IDLE)}),n.onDestroy(this,function(e){g.tweenY==n&&(g.tweenY=null)})):(e=this.bounceNoMomentumDuration,c=tn.QUAD_EASE_OUT,u=-this.scrollTransform.ty,d=this.pagingEnabled?(_=this._computeTargetPageIndex(-this.scrollTransform.tx,-this.scrollTransform.ty,O,this.pageIndexOnStartDrag),this.getTargetScrollYForPageIndex(_)):!(this.content.get_height()<=this.get_height())&&Math.abs(-this.scrollTransform.ty-this.content.get_height()+this.get_height())<Math.abs(-this.scrollTransform.ty)?this.content.get_height()-this.get_height():0,this.set_animating(!0),r=this.tween(c,2*e,u,d,function(e,n){g.scrollTransform.ty!=-e&&(g.scrollTransform.ty=-e,g.scrollTransform.changedDirty=!0)}),(this.tweenY=r).onceComplete(this,function(){g.set_animating(!1),g.set_status(nt.IDLE)}),r.onDestroy(this,function(e){g.tweenY==r&&(g.tweenY=null)}))):(null!=this.tweenX&&this.tweenX.destroy(),!this.releaseSnap&&(0<O||O<0)?(c=tn.LINEAR,s=Math.abs(-this.scrollTransform.tx-this.content.get_width()+this.get_width())<Math.abs(-this.scrollTransform.tx)?this.content.get_width()-this.get_width():0,h=-this.scrollTransform.tx-s,a=-this.scrollTransform.tx+O*this.bounceMomentumFactor-s,e=this.bounceMinDuration+Math.abs(O)*this.bounceDurationFactor,o=this.tween(c,e,0,1,function(e,n){e=e<=.5?(2*h*(1-2*e)+2*e*a)/2:a*(1-2*(e-.5))/2,e=s+e;g.scrollTransform.tx!=-e&&(g.scrollTransform.tx=-e,g.scrollTransform.changedDirty=!0)}),(this.tweenX=o).onceComplete(this,function(){g.set_animating(!1),g.set_status(nt.IDLE)}),o.onDestroy(this,function(e){g.tweenX==o&&(g.tweenX=null)})):(e=this.bounceNoMomentumDuration,c=tn.QUAD_EASE_OUT,u=-this.scrollTransform.tx,d=this.pagingEnabled?(_=this._computeTargetPageIndex(-this.scrollTransform.tx,-this.scrollTransform.ty,O,this.pageIndexOnStartDrag),this.getTargetScrollXForPageIndex(_)):!(this.content.get_width()<=this.get_width())&&Math.abs(-this.scrollTransform.tx-this.content.get_width()+this.get_width())<Math.abs(-this.scrollTransform.tx)?this.content.get_width()-this.get_width():0,this.set_animating(!0),b=this.tween(c,2*e,u,d,function(e,n){g.scrollTransform.tx!=-e&&(g.scrollTransform.tx=-e,g.scrollTransform.changedDirty=!0)}),(this.tweenX=b).onceComplete(this,function(){g.set_animating(!1),g.set_status(nt.IDLE)}),b.onDestroy(this,function(e){g.tweenX==b&&(g.tweenX=null)})))},pagingEnabled:null,pageSize:null,pageSpacing:null,pageMomentumThreshold:null,pageIndexOnStartDrag:null,pageIndexFromScroll:function(e,n){var n=this.direction==Jn.VERTICAL?n:e,e=0<this.pageSize?this.pageSize:this.direction==Jn.VERTICAL?this.get_height():this.get_width(),n=n/(e+this.pageSpacing),t=Math.floor(n);return t+(.5<=(n-t)*((e+this.pageSpacing)/e)?1:0)},_computeTargetPageIndex:function(e,n,t,i){e=this.pageIndexFromScroll(e,n),n=0<this.pageSize?this.pageSize:this.direction==Jn.VERTICAL?this.get_height():this.get_width();return t<=-n?e=i+1:n<=t&&(e=i-1),e},scrollToPageIndex:function(e){var n=-this.scrollTransform.tx,t=-this.scrollTransform.ty;this.direction==Jn.VERTICAL?t=this.getTargetScrollYForPageIndex(e):n=this.getTargetScrollXForPageIndex(e),this.scrollTo(n,t)},smoothScrollToPageIndex:function(e,n,t,i){null==i&&(i=!1),null==n&&(n=.15);var l=-this.scrollTransform.tx,r=-this.scrollTransform.ty;this.direction==Jn.VERTICAL?r=this.getTargetScrollYForPageIndex(e,i):l=this.getTargetScrollXForPageIndex(e,i),this.smoothScrollTo(l,r,n,t)},getTargetScrollXForPageIndex:function(e,n){return null==n&&(n=!1),this.direction==Jn.VERTICAL?-this.scrollTransform.tx:(e=e*((0<this.pageSize?this.pageSize:this.get_width())+this.pageSpacing),n||(this.content.get_width()-this.get_width()<e?e=this.content.get_width()-this.get_width():e<0&&(e=0)),e)},getTargetScrollYForPageIndex:function(e,n){return null==n&&(n=!1),this.direction==Jn.HORIZONTAL?-this.scrollTransform.ty:(e=e*((0<this.pageSize?this.pageSize:this.get_height())+this.pageSpacing),n||(this.content.get_height()-this.get_height()<e?e=this.content.get_height()-this.get_height():e<0&&(e=0)),e)},unbindEvents:function(){o.prototype.unbindEvents.call(this),this.offObservedDirty(),this.offStatusChange(),this.offAnimateStart(),this.offAnimateEnd(),this.offDragStart(),this.offDragEnd(),this.offWheelStart(),this.offWheelEnd(),this.offClick(),this.offScrollerPointerDown(),this.offScrollerPointerUp()},__class__:et,__properties__:$extend(o.prototype.__properties__,{set_animating:"set_animating",set_scrollY:"set_scrollY",get_scrollY:"get_scrollY",set_scrollX:"set_scrollX",get_scrollX:"get_scrollX",set_unobservedStatus:"set_unobservedStatus",set_status:"set_status",get_status:"get_status",set_roundScrollWhenIdle:"set_roundScrollWhenIdle",set_scrollEnabled:"set_scrollEnabled",set_scrollbar:"set_scrollbar"})}),Oe["ceramic.ScrollerStatus"]={__ename__:"ceramic.ScrollerStatus",__constructs__:null,IDLE:{_hx_name:"IDLE",_hx_index:0,__enum__:"ceramic.ScrollerStatus",toString:c},TOUCHING:{_hx_name:"TOUCHING",_hx_index:1,__enum__:"ceramic.ScrollerStatus",toString:c},DRAGGING:{_hx_name:"DRAGGING",_hx_index:2,__enum__:"ceramic.ScrollerStatus",toString:c},SCROLLING:{_hx_name:"SCROLLING",_hx_index:3,__enum__:"ceramic.ScrollerStatus",toString:c}}),tt=(nt.__constructs__=[nt.IDLE,nt.TOUCHING,nt.DRAGGING,nt.SCROLLING],function(e,n,t,i,l,r){null==r&&(r=1),null==l&&(l=1),null==i&&(i=0),null==t&&(t=0),this.initializerName=null,this.textCursorToggleVisibilityTime=1,this.textCursor=null,this.willUpdateSelection=!1,this.selectionBackgrounds=[],this.didDoubleClick=!1,this.doubleClick=null,this.boundContainer=null,this.unobservedPointerIsDown=!1,this.pointerIsDownAutoruns=null,this.unobservedInvertedSelection=!1,this.invertedSelectionAutoruns=null,this.unobservedSelectionEnd=-1,this.selectionEndAutoruns=null,this.unobservedSelectionStart=-1,this.selectionStartAutoruns=null,this.unobservedShowCursor=!1,this.showCursorAutoruns=null,this.unobservedAllowSelectingFromPointer=!1,this.allowSelectingFromPointerAutoruns=null,this.unobservedContainer=null,this.containerAutoruns=null,this.textCursorWidth=1,this.textCursorHeightFactor=1,this.textCursorOffsetY=0,this.textCursorOffsetX=0,this.observedDirty=!1,j.call(this),this.selectionColor=e,this.textCursorColor=n,this.textCursorOffsetX=t,this.textCursorOffsetY=i,this.textCursorHeightFactor=l,this.textCursorWidth=r}),it=((E["ceramic.SelectText"]=tt).__name__="ceramic.SelectText",tt.__interfaces__=[s,a0],tt.__super__=j,tt.prototype=$extend(j.prototype,{__cbOnObservedDirty:null,__cbOnceObservedDirty:null,__cbOnOwnerUnbindObservedDirty:null,__cbOnceOwnerUnbindObservedDirty:null,emitObservedDirty:function(e,n){var t=0;if(null!=this.__cbOnObservedDirty&&(t+=this.__cbOnObservedDirty.length),null!=this.__cbOnceObservedDirty&&(t+=this.__cbOnceObservedDirty.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnObservedDirty)for(var s=0,h=this.__cbOnObservedDirty.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnObservedDirty[a],++r):--t}if(null!=this.__cbOnceObservedDirty){for(var o=null,c=null,s=0,h=this.__cbOnceObservedDirty.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceObservedDirty[a],this.__cbOnceObservedDirty[a]=null,u=this.__cbOnceOwnerUnbindObservedDirty[a],(this.__cbOnceOwnerUnbindObservedDirty[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindObservedDirty[a]),c.push(this.__cbOnceObservedDirty[a]))}this.__cbOnceOwnerUnbindObservedDirty=o,this.__cbOnceObservedDirty=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onObservedDirty:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event observedDirty because owner is destroyed!");var l=function(e){null!=t&&(i.offObservedDirty(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push(null);null==this.__cbOnObservedDirty&&(this.__cbOnObservedDirty=[]),this.__cbOnObservedDirty.push(t)},onceObservedDirty:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event observedDirty because owner is destroyed!");var l=function(e){null!=t&&(i.offObservedDirty(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push(null);null==this.__cbOnceObservedDirty&&(this.__cbOnceObservedDirty=[]),this.__cbOnceObservedDirty.push(t)},offObservedDirty:function(e){if(null!=e){var n;null!=this.__cbOnObservedDirty&&-1!=(n=this.__cbOnObservedDirty.indexOf(e))&&(this.__cbOnObservedDirty.splice(n,1),null!=(r=this.__cbOnOwnerUnbindObservedDirty[n])&&r(),this.__cbOnOwnerUnbindObservedDirty.splice(n,1)),null!=this.__cbOnceObservedDirty&&-1!=(n=this.__cbOnceObservedDirty.indexOf(e))&&(this.__cbOnceObservedDirty.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindObservedDirty[n])&&r(),this.__cbOnceOwnerUnbindObservedDirty.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindObservedDirty){for(var t=0,i=this.__cbOnOwnerUnbindObservedDirty.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindObservedDirty[l])&&r()}this.__cbOnOwnerUnbindObservedDirty=null}if(null!=this.__cbOnceOwnerUnbindObservedDirty){for(t=0,i=this.__cbOnceOwnerUnbindObservedDirty.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindObservedDirty[l])&&r()}this.__cbOnceOwnerUnbindObservedDirty=null}this.__cbOnObservedDirty=null,this.__cbOnceObservedDirty=null}},listensObservedDirty:function(){return null!=this.__cbOnObservedDirty&&0<this.__cbOnObservedDirty.length||null!=this.__cbOnceObservedDirty&&0<this.__cbOnceObservedDirty.length},observedDirty:null,__cbOnSelection:null,__cbOnceSelection:null,__cbOnOwnerUnbindSelection:null,__cbOnceOwnerUnbindSelection:null,emitSelection:function(e,n,t){var i=0;if(null!=this.__cbOnSelection&&(i+=this.__cbOnSelection.length),null!=this.__cbOnceSelection&&(i+=this.__cbOnceSelection.length),0<i){var l=C.pool(i),r=l.get(),s=0;if(null!=this.__cbOnSelection)for(var h=0,a=this.__cbOnSelection.length;h<a;){var o=h++;!0?(r.vector[s]=this.__cbOnSelection[o],++s):--i}if(null!=this.__cbOnceSelection){for(var c=null,u=null,h=0,a=this.__cbOnceSelection.length;h<a;){var _,o=h++;!0?(r.vector[s]=this.__cbOnceSelection[o],this.__cbOnceSelection[o]=null,_=this.__cbOnceOwnerUnbindSelection[o],(this.__cbOnceOwnerUnbindSelection[o]=null)!=_&&_(),++s):(--i,null==c&&(c=[],u=[],0),c.push(this.__cbOnceOwnerUnbindSelection[o]),u.push(this.__cbOnceSelection[o]))}this.__cbOnceOwnerUnbindSelection=c,this.__cbOnceSelection=u}for(h=0,a=i;h<a;){s=h++;(0,r.vector[s])(e,n,t)}l.release(r)}},onSelection:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event selection because owner is destroyed!");var l=function(e){null!=t&&(i.offSelection(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindSelection&&(this.__cbOnOwnerUnbindSelection=[]),this.__cbOnOwnerUnbindSelection.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindSelection&&(this.__cbOnOwnerUnbindSelection=[]),this.__cbOnOwnerUnbindSelection.push(null);null==this.__cbOnSelection&&(this.__cbOnSelection=[]),this.__cbOnSelection.push(t)},onceSelection:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event selection because owner is destroyed!");var l=function(e){null!=t&&(i.offSelection(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindSelection&&(this.__cbOnceOwnerUnbindSelection=[]),this.__cbOnceOwnerUnbindSelection.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindSelection&&(this.__cbOnceOwnerUnbindSelection=[]),this.__cbOnceOwnerUnbindSelection.push(null);null==this.__cbOnceSelection&&(this.__cbOnceSelection=[]),this.__cbOnceSelection.push(t)},offSelection:function(e){if(null!=e){var n;null!=this.__cbOnSelection&&-1!=(n=this.__cbOnSelection.indexOf(e))&&(this.__cbOnSelection.splice(n,1),null!=(r=this.__cbOnOwnerUnbindSelection[n])&&r(),this.__cbOnOwnerUnbindSelection.splice(n,1)),null!=this.__cbOnceSelection&&-1!=(n=this.__cbOnceSelection.indexOf(e))&&(this.__cbOnceSelection.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindSelection[n])&&r(),this.__cbOnceOwnerUnbindSelection.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindSelection){for(var t=0,i=this.__cbOnOwnerUnbindSelection.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindSelection[l])&&r()}this.__cbOnOwnerUnbindSelection=null}if(null!=this.__cbOnceOwnerUnbindSelection){for(t=0,i=this.__cbOnceOwnerUnbindSelection.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindSelection[l])&&r()}this.__cbOnceOwnerUnbindSelection=null}this.__cbOnSelection=null,this.__cbOnceSelection=null}},listensSelection:function(){return null!=this.__cbOnSelection&&0<this.__cbOnSelection.length||null!=this.__cbOnceSelection&&0<this.__cbOnceSelection.length},entity:null,selectionColor:null,textCursorColor:null,textCursorOffsetX:null,textCursorOffsetY:null,textCursorHeightFactor:null,textCursorWidth:null,containerAutoruns:null,get_container:function(){var e,n,t=this.unobservedContainer;return null!=U.current&&(e=U.current,null!=(n=this.containerAutoruns)||(n=U.getAutorunArray(),null!=(this.containerAutoruns=n)))&&e.bindToAutorunArray(n),t},set_container:function(e){var n=this.unobservedContainer;return n!=(this.unobservedContainer=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitContainerChange(e,n),null!=(n=this.containerAutoruns))&&(this.containerAutoruns=null,U.invalidateAutorunArray(n)),e},invalidateContainer:function(){var e=this.unobservedContainer,e=(this.emitContainerChange(e,e),this.containerAutoruns);null!=e&&(this.containerAutoruns=null,U.invalidateAutorunArray(e))},unobservedContainer:null,__cbOnContainerChange:null,__cbOnceContainerChange:null,__cbOnOwnerUnbindContainerChange:null,__cbOnceOwnerUnbindContainerChange:null,emitContainerChange:function(e,n){var t=0;if(null!=this.__cbOnContainerChange&&(t+=this.__cbOnContainerChange.length),null!=this.__cbOnceContainerChange&&(t+=this.__cbOnceContainerChange.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnContainerChange)for(var s=0,h=this.__cbOnContainerChange.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnContainerChange[a],++r):--t}if(null!=this.__cbOnceContainerChange){for(var o=null,c=null,s=0,h=this.__cbOnceContainerChange.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceContainerChange[a],this.__cbOnceContainerChange[a]=null,u=this.__cbOnceOwnerUnbindContainerChange[a],(this.__cbOnceOwnerUnbindContainerChange[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindContainerChange[a]),c.push(this.__cbOnceContainerChange[a]))}this.__cbOnceOwnerUnbindContainerChange=o,this.__cbOnceContainerChange=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onContainerChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event containerChange because owner is destroyed!");var l=function(e){null!=t&&(i.offContainerChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindContainerChange&&(this.__cbOnOwnerUnbindContainerChange=[]),this.__cbOnOwnerUnbindContainerChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindContainerChange&&(this.__cbOnOwnerUnbindContainerChange=[]),this.__cbOnOwnerUnbindContainerChange.push(null);null==this.__cbOnContainerChange&&(this.__cbOnContainerChange=[]),this.__cbOnContainerChange.push(t)},onceContainerChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event containerChange because owner is destroyed!");var l=function(e){null!=t&&(i.offContainerChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindContainerChange&&(this.__cbOnceOwnerUnbindContainerChange=[]),this.__cbOnceOwnerUnbindContainerChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindContainerChange&&(this.__cbOnceOwnerUnbindContainerChange=[]),this.__cbOnceOwnerUnbindContainerChange.push(null);null==this.__cbOnceContainerChange&&(this.__cbOnceContainerChange=[]),this.__cbOnceContainerChange.push(t)},offContainerChange:function(e){if(null!=e){var n;null!=this.__cbOnContainerChange&&-1!=(n=this.__cbOnContainerChange.indexOf(e))&&(this.__cbOnContainerChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindContainerChange[n])&&r(),this.__cbOnOwnerUnbindContainerChange.splice(n,1)),null!=this.__cbOnceContainerChange&&-1!=(n=this.__cbOnceContainerChange.indexOf(e))&&(this.__cbOnceContainerChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindContainerChange[n])&&r(),this.__cbOnceOwnerUnbindContainerChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindContainerChange){for(var t=0,i=this.__cbOnOwnerUnbindContainerChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindContainerChange[l])&&r()}this.__cbOnOwnerUnbindContainerChange=null}if(null!=this.__cbOnceOwnerUnbindContainerChange){for(t=0,i=this.__cbOnceOwnerUnbindContainerChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindContainerChange[l])&&r()}this.__cbOnceOwnerUnbindContainerChange=null}this.__cbOnContainerChange=null,this.__cbOnceContainerChange=null}},listensContainerChange:function(){return null!=this.__cbOnContainerChange&&0<this.__cbOnContainerChange.length||null!=this.__cbOnceContainerChange&&0<this.__cbOnceContainerChange.length},allowSelectingFromPointerAutoruns:null,get_allowSelectingFromPointer:function(){var e,n,t=this.unobservedAllowSelectingFromPointer;return null!=U.current&&(e=U.current,null!=(n=this.allowSelectingFromPointerAutoruns)||(n=U.getAutorunArray(),null!=(this.allowSelectingFromPointerAutoruns=n)))&&e.bindToAutorunArray(n),t},set_allowSelectingFromPointer:function(e){var n=this.unobservedAllowSelectingFromPointer;return n!=(this.unobservedAllowSelectingFromPointer=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitAllowSelectingFromPointerChange(e,n),null!=(n=this.allowSelectingFromPointerAutoruns))&&(this.allowSelectingFromPointerAutoruns=null,U.invalidateAutorunArray(n)),e},invalidateAllowSelectingFromPointer:function(){var e=this.unobservedAllowSelectingFromPointer,e=(this.emitAllowSelectingFromPointerChange(e,e),this.allowSelectingFromPointerAutoruns);null!=e&&(this.allowSelectingFromPointerAutoruns=null,U.invalidateAutorunArray(e))},unobservedAllowSelectingFromPointer:null,__cbOnAllowSelectingFromPointerChange:null,__cbOnceAllowSelectingFromPointerChange:null,__cbOnOwnerUnbindAllowSelectingFromPointerChange:null,__cbOnceOwnerUnbindAllowSelectingFromPointerChange:null,emitAllowSelectingFromPointerChange:function(e,n){var t=0;if(null!=this.__cbOnAllowSelectingFromPointerChange&&(t+=this.__cbOnAllowSelectingFromPointerChange.length),null!=this.__cbOnceAllowSelectingFromPointerChange&&(t+=this.__cbOnceAllowSelectingFromPointerChange.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnAllowSelectingFromPointerChange)for(var s=0,h=this.__cbOnAllowSelectingFromPointerChange.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnAllowSelectingFromPointerChange[a],++r):--t}if(null!=this.__cbOnceAllowSelectingFromPointerChange){for(var o=null,c=null,s=0,h=this.__cbOnceAllowSelectingFromPointerChange.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceAllowSelectingFromPointerChange[a],this.__cbOnceAllowSelectingFromPointerChange[a]=null,u=this.__cbOnceOwnerUnbindAllowSelectingFromPointerChange[a],(this.__cbOnceOwnerUnbindAllowSelectingFromPointerChange[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindAllowSelectingFromPointerChange[a]),c.push(this.__cbOnceAllowSelectingFromPointerChange[a]))}this.__cbOnceOwnerUnbindAllowSelectingFromPointerChange=o,this.__cbOnceAllowSelectingFromPointerChange=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onAllowSelectingFromPointerChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event allowSelectingFromPointerChange because owner is destroyed!");var l=function(e){null!=t&&(i.offAllowSelectingFromPointerChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindAllowSelectingFromPointerChange&&(this.__cbOnOwnerUnbindAllowSelectingFromPointerChange=[]),this.__cbOnOwnerUnbindAllowSelectingFromPointerChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindAllowSelectingFromPointerChange&&(this.__cbOnOwnerUnbindAllowSelectingFromPointerChange=[]),this.__cbOnOwnerUnbindAllowSelectingFromPointerChange.push(null);null==this.__cbOnAllowSelectingFromPointerChange&&(this.__cbOnAllowSelectingFromPointerChange=[]),this.__cbOnAllowSelectingFromPointerChange.push(t)},onceAllowSelectingFromPointerChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event allowSelectingFromPointerChange because owner is destroyed!");var l=function(e){null!=t&&(i.offAllowSelectingFromPointerChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindAllowSelectingFromPointerChange&&(this.__cbOnceOwnerUnbindAllowSelectingFromPointerChange=[]),this.__cbOnceOwnerUnbindAllowSelectingFromPointerChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindAllowSelectingFromPointerChange&&(this.__cbOnceOwnerUnbindAllowSelectingFromPointerChange=[]),this.__cbOnceOwnerUnbindAllowSelectingFromPointerChange.push(null);null==this.__cbOnceAllowSelectingFromPointerChange&&(this.__cbOnceAllowSelectingFromPointerChange=[]),this.__cbOnceAllowSelectingFromPointerChange.push(t)},offAllowSelectingFromPointerChange:function(e){if(null!=e){var n;null!=this.__cbOnAllowSelectingFromPointerChange&&-1!=(n=this.__cbOnAllowSelectingFromPointerChange.indexOf(e))&&(this.__cbOnAllowSelectingFromPointerChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindAllowSelectingFromPointerChange[n])&&r(),this.__cbOnOwnerUnbindAllowSelectingFromPointerChange.splice(n,1)),null!=this.__cbOnceAllowSelectingFromPointerChange&&-1!=(n=this.__cbOnceAllowSelectingFromPointerChange.indexOf(e))&&(this.__cbOnceAllowSelectingFromPointerChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindAllowSelectingFromPointerChange[n])&&r(),this.__cbOnceOwnerUnbindAllowSelectingFromPointerChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindAllowSelectingFromPointerChange){for(var t=0,i=this.__cbOnOwnerUnbindAllowSelectingFromPointerChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindAllowSelectingFromPointerChange[l])&&r()}this.__cbOnOwnerUnbindAllowSelectingFromPointerChange=null}if(null!=this.__cbOnceOwnerUnbindAllowSelectingFromPointerChange){for(t=0,i=this.__cbOnceOwnerUnbindAllowSelectingFromPointerChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindAllowSelectingFromPointerChange[l])&&r()}this.__cbOnceOwnerUnbindAllowSelectingFromPointerChange=null}this.__cbOnAllowSelectingFromPointerChange=null,this.__cbOnceAllowSelectingFromPointerChange=null}},listensAllowSelectingFromPointerChange:function(){return null!=this.__cbOnAllowSelectingFromPointerChange&&0<this.__cbOnAllowSelectingFromPointerChange.length||null!=this.__cbOnceAllowSelectingFromPointerChange&&0<this.__cbOnceAllowSelectingFromPointerChange.length},showCursorAutoruns:null,get_showCursor:function(){var e,n,t=this.unobservedShowCursor;return null!=U.current&&(e=U.current,null!=(n=this.showCursorAutoruns)||(n=U.getAutorunArray(),null!=(this.showCursorAutoruns=n)))&&e.bindToAutorunArray(n),t},set_showCursor:function(e){var n=this.unobservedShowCursor;return n!=(this.unobservedShowCursor=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitShowCursorChange(e,n),null!=(n=this.showCursorAutoruns))&&(this.showCursorAutoruns=null,U.invalidateAutorunArray(n)),e},invalidateShowCursor:function(){var e=this.unobservedShowCursor,e=(this.emitShowCursorChange(e,e),this.showCursorAutoruns);null!=e&&(this.showCursorAutoruns=null,U.invalidateAutorunArray(e))},unobservedShowCursor:null,__cbOnShowCursorChange:null,__cbOnceShowCursorChange:null,__cbOnOwnerUnbindShowCursorChange:null,__cbOnceOwnerUnbindShowCursorChange:null,emitShowCursorChange:function(e,n){var t=0;if(null!=this.__cbOnShowCursorChange&&(t+=this.__cbOnShowCursorChange.length),null!=this.__cbOnceShowCursorChange&&(t+=this.__cbOnceShowCursorChange.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnShowCursorChange)for(var s=0,h=this.__cbOnShowCursorChange.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnShowCursorChange[a],++r):--t}if(null!=this.__cbOnceShowCursorChange){for(var o=null,c=null,s=0,h=this.__cbOnceShowCursorChange.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceShowCursorChange[a],this.__cbOnceShowCursorChange[a]=null,u=this.__cbOnceOwnerUnbindShowCursorChange[a],(this.__cbOnceOwnerUnbindShowCursorChange[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindShowCursorChange[a]),c.push(this.__cbOnceShowCursorChange[a]))}this.__cbOnceOwnerUnbindShowCursorChange=o,this.__cbOnceShowCursorChange=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onShowCursorChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event showCursorChange because owner is destroyed!");var l=function(e){null!=t&&(i.offShowCursorChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindShowCursorChange&&(this.__cbOnOwnerUnbindShowCursorChange=[]),this.__cbOnOwnerUnbindShowCursorChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindShowCursorChange&&(this.__cbOnOwnerUnbindShowCursorChange=[]),this.__cbOnOwnerUnbindShowCursorChange.push(null);null==this.__cbOnShowCursorChange&&(this.__cbOnShowCursorChange=[]),this.__cbOnShowCursorChange.push(t)},onceShowCursorChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event showCursorChange because owner is destroyed!");var l=function(e){null!=t&&(i.offShowCursorChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindShowCursorChange&&(this.__cbOnceOwnerUnbindShowCursorChange=[]),this.__cbOnceOwnerUnbindShowCursorChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindShowCursorChange&&(this.__cbOnceOwnerUnbindShowCursorChange=[]),this.__cbOnceOwnerUnbindShowCursorChange.push(null);null==this.__cbOnceShowCursorChange&&(this.__cbOnceShowCursorChange=[]),this.__cbOnceShowCursorChange.push(t)},offShowCursorChange:function(e){if(null!=e){var n;null!=this.__cbOnShowCursorChange&&-1!=(n=this.__cbOnShowCursorChange.indexOf(e))&&(this.__cbOnShowCursorChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindShowCursorChange[n])&&r(),this.__cbOnOwnerUnbindShowCursorChange.splice(n,1)),null!=this.__cbOnceShowCursorChange&&-1!=(n=this.__cbOnceShowCursorChange.indexOf(e))&&(this.__cbOnceShowCursorChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindShowCursorChange[n])&&r(),this.__cbOnceOwnerUnbindShowCursorChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindShowCursorChange){for(var t=0,i=this.__cbOnOwnerUnbindShowCursorChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindShowCursorChange[l])&&r()}this.__cbOnOwnerUnbindShowCursorChange=null}if(null!=this.__cbOnceOwnerUnbindShowCursorChange){for(t=0,i=this.__cbOnceOwnerUnbindShowCursorChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindShowCursorChange[l])&&r()}this.__cbOnceOwnerUnbindShowCursorChange=null}this.__cbOnShowCursorChange=null,this.__cbOnceShowCursorChange=null}},listensShowCursorChange:function(){return null!=this.__cbOnShowCursorChange&&0<this.__cbOnShowCursorChange.length||null!=this.__cbOnceShowCursorChange&&0<this.__cbOnceShowCursorChange.length},selectionStartAutoruns:null,get_selectionStart:function(){var e,n,t=this.unobservedSelectionStart;return null!=U.current&&(e=U.current,null!=(n=this.selectionStartAutoruns)||(n=U.getAutorunArray(),null!=(this.selectionStartAutoruns=n)))&&e.bindToAutorunArray(n),t},set_selectionStart:function(e){var n=this.unobservedSelectionStart;return n!=(this.unobservedSelectionStart=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitSelectionStartChange(e,n),null!=(n=this.selectionStartAutoruns))&&(this.selectionStartAutoruns=null,U.invalidateAutorunArray(n)),e},invalidateSelectionStart:function(){var e=this.unobservedSelectionStart,e=(this.emitSelectionStartChange(e,e),this.selectionStartAutoruns);null!=e&&(this.selectionStartAutoruns=null,U.invalidateAutorunArray(e))},unobservedSelectionStart:null,__cbOnSelectionStartChange:null,__cbOnceSelectionStartChange:null,__cbOnOwnerUnbindSelectionStartChange:null,__cbOnceOwnerUnbindSelectionStartChange:null,emitSelectionStartChange:function(e,n){var t=0;if(null!=this.__cbOnSelectionStartChange&&(t+=this.__cbOnSelectionStartChange.length),null!=this.__cbOnceSelectionStartChange&&(t+=this.__cbOnceSelectionStartChange.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnSelectionStartChange)for(var s=0,h=this.__cbOnSelectionStartChange.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnSelectionStartChange[a],++r):--t}if(null!=this.__cbOnceSelectionStartChange){for(var o=null,c=null,s=0,h=this.__cbOnceSelectionStartChange.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceSelectionStartChange[a],this.__cbOnceSelectionStartChange[a]=null,u=this.__cbOnceOwnerUnbindSelectionStartChange[a],(this.__cbOnceOwnerUnbindSelectionStartChange[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindSelectionStartChange[a]),c.push(this.__cbOnceSelectionStartChange[a]))}this.__cbOnceOwnerUnbindSelectionStartChange=o,this.__cbOnceSelectionStartChange=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onSelectionStartChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event selectionStartChange because owner is destroyed!");var l=function(e){null!=t&&(i.offSelectionStartChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindSelectionStartChange&&(this.__cbOnOwnerUnbindSelectionStartChange=[]),this.__cbOnOwnerUnbindSelectionStartChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindSelectionStartChange&&(this.__cbOnOwnerUnbindSelectionStartChange=[]),this.__cbOnOwnerUnbindSelectionStartChange.push(null);null==this.__cbOnSelectionStartChange&&(this.__cbOnSelectionStartChange=[]),this.__cbOnSelectionStartChange.push(t)},onceSelectionStartChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event selectionStartChange because owner is destroyed!");var l=function(e){null!=t&&(i.offSelectionStartChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindSelectionStartChange&&(this.__cbOnceOwnerUnbindSelectionStartChange=[]),this.__cbOnceOwnerUnbindSelectionStartChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindSelectionStartChange&&(this.__cbOnceOwnerUnbindSelectionStartChange=[]),this.__cbOnceOwnerUnbindSelectionStartChange.push(null);null==this.__cbOnceSelectionStartChange&&(this.__cbOnceSelectionStartChange=[]),this.__cbOnceSelectionStartChange.push(t)},offSelectionStartChange:function(e){if(null!=e){var n;null!=this.__cbOnSelectionStartChange&&-1!=(n=this.__cbOnSelectionStartChange.indexOf(e))&&(this.__cbOnSelectionStartChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindSelectionStartChange[n])&&r(),this.__cbOnOwnerUnbindSelectionStartChange.splice(n,1)),null!=this.__cbOnceSelectionStartChange&&-1!=(n=this.__cbOnceSelectionStartChange.indexOf(e))&&(this.__cbOnceSelectionStartChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindSelectionStartChange[n])&&r(),this.__cbOnceOwnerUnbindSelectionStartChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindSelectionStartChange){for(var t=0,i=this.__cbOnOwnerUnbindSelectionStartChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindSelectionStartChange[l])&&r()}this.__cbOnOwnerUnbindSelectionStartChange=null}if(null!=this.__cbOnceOwnerUnbindSelectionStartChange){for(t=0,i=this.__cbOnceOwnerUnbindSelectionStartChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindSelectionStartChange[l])&&r()}this.__cbOnceOwnerUnbindSelectionStartChange=null}this.__cbOnSelectionStartChange=null,this.__cbOnceSelectionStartChange=null}},listensSelectionStartChange:function(){return null!=this.__cbOnSelectionStartChange&&0<this.__cbOnSelectionStartChange.length||null!=this.__cbOnceSelectionStartChange&&0<this.__cbOnceSelectionStartChange.length},selectionEndAutoruns:null,get_selectionEnd:function(){var e,n,t=this.unobservedSelectionEnd;return null!=U.current&&(e=U.current,null!=(n=this.selectionEndAutoruns)||(n=U.getAutorunArray(),null!=(this.selectionEndAutoruns=n)))&&e.bindToAutorunArray(n),t},set_selectionEnd:function(e){var n=this.unobservedSelectionEnd;return n!=(this.unobservedSelectionEnd=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitSelectionEndChange(e,n),null!=(n=this.selectionEndAutoruns))&&(this.selectionEndAutoruns=null,U.invalidateAutorunArray(n)),e},invalidateSelectionEnd:function(){var e=this.unobservedSelectionEnd,e=(this.emitSelectionEndChange(e,e),this.selectionEndAutoruns);null!=e&&(this.selectionEndAutoruns=null,U.invalidateAutorunArray(e))},unobservedSelectionEnd:null,__cbOnSelectionEndChange:null,__cbOnceSelectionEndChange:null,__cbOnOwnerUnbindSelectionEndChange:null,__cbOnceOwnerUnbindSelectionEndChange:null,emitSelectionEndChange:function(e,n){var t=0;if(null!=this.__cbOnSelectionEndChange&&(t+=this.__cbOnSelectionEndChange.length),null!=this.__cbOnceSelectionEndChange&&(t+=this.__cbOnceSelectionEndChange.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnSelectionEndChange)for(var s=0,h=this.__cbOnSelectionEndChange.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnSelectionEndChange[a],++r):--t}if(null!=this.__cbOnceSelectionEndChange){for(var o=null,c=null,s=0,h=this.__cbOnceSelectionEndChange.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceSelectionEndChange[a],this.__cbOnceSelectionEndChange[a]=null,u=this.__cbOnceOwnerUnbindSelectionEndChange[a],(this.__cbOnceOwnerUnbindSelectionEndChange[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindSelectionEndChange[a]),c.push(this.__cbOnceSelectionEndChange[a]))}this.__cbOnceOwnerUnbindSelectionEndChange=o,this.__cbOnceSelectionEndChange=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onSelectionEndChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event selectionEndChange because owner is destroyed!");var l=function(e){null!=t&&(i.offSelectionEndChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindSelectionEndChange&&(this.__cbOnOwnerUnbindSelectionEndChange=[]),this.__cbOnOwnerUnbindSelectionEndChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindSelectionEndChange&&(this.__cbOnOwnerUnbindSelectionEndChange=[]),this.__cbOnOwnerUnbindSelectionEndChange.push(null);null==this.__cbOnSelectionEndChange&&(this.__cbOnSelectionEndChange=[]),this.__cbOnSelectionEndChange.push(t)},onceSelectionEndChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event selectionEndChange because owner is destroyed!");var l=function(e){null!=t&&(i.offSelectionEndChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindSelectionEndChange&&(this.__cbOnceOwnerUnbindSelectionEndChange=[]),this.__cbOnceOwnerUnbindSelectionEndChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindSelectionEndChange&&(this.__cbOnceOwnerUnbindSelectionEndChange=[]),this.__cbOnceOwnerUnbindSelectionEndChange.push(null);null==this.__cbOnceSelectionEndChange&&(this.__cbOnceSelectionEndChange=[]),this.__cbOnceSelectionEndChange.push(t)},offSelectionEndChange:function(e){if(null!=e){var n;null!=this.__cbOnSelectionEndChange&&-1!=(n=this.__cbOnSelectionEndChange.indexOf(e))&&(this.__cbOnSelectionEndChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindSelectionEndChange[n])&&r(),this.__cbOnOwnerUnbindSelectionEndChange.splice(n,1)),null!=this.__cbOnceSelectionEndChange&&-1!=(n=this.__cbOnceSelectionEndChange.indexOf(e))&&(this.__cbOnceSelectionEndChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindSelectionEndChange[n])&&r(),this.__cbOnceOwnerUnbindSelectionEndChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindSelectionEndChange){for(var t=0,i=this.__cbOnOwnerUnbindSelectionEndChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindSelectionEndChange[l])&&r()}this.__cbOnOwnerUnbindSelectionEndChange=null}if(null!=this.__cbOnceOwnerUnbindSelectionEndChange){for(t=0,i=this.__cbOnceOwnerUnbindSelectionEndChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindSelectionEndChange[l])&&r()}this.__cbOnceOwnerUnbindSelectionEndChange=null}this.__cbOnSelectionEndChange=null,this.__cbOnceSelectionEndChange=null}},listensSelectionEndChange:function(){return null!=this.__cbOnSelectionEndChange&&0<this.__cbOnSelectionEndChange.length||null!=this.__cbOnceSelectionEndChange&&0<this.__cbOnceSelectionEndChange.length},invertedSelectionAutoruns:null,get_invertedSelection:function(){var e,n,t=this.unobservedInvertedSelection;return null!=U.current&&(e=U.current,null!=(n=this.invertedSelectionAutoruns)||(n=U.getAutorunArray(),null!=(this.invertedSelectionAutoruns=n)))&&e.bindToAutorunArray(n),t},set_invertedSelection:function(e){var n=this.unobservedInvertedSelection;return n!=(this.unobservedInvertedSelection=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitInvertedSelectionChange(e,n),null!=(n=this.invertedSelectionAutoruns))&&(this.invertedSelectionAutoruns=null,U.invalidateAutorunArray(n)),e},invalidateInvertedSelection:function(){var e=this.unobservedInvertedSelection,e=(this.emitInvertedSelectionChange(e,e),this.invertedSelectionAutoruns);null!=e&&(this.invertedSelectionAutoruns=null,U.invalidateAutorunArray(e))},unobservedInvertedSelection:null,__cbOnInvertedSelectionChange:null,__cbOnceInvertedSelectionChange:null,__cbOnOwnerUnbindInvertedSelectionChange:null,__cbOnceOwnerUnbindInvertedSelectionChange:null,emitInvertedSelectionChange:function(e,n){var t=0;if(null!=this.__cbOnInvertedSelectionChange&&(t+=this.__cbOnInvertedSelectionChange.length),null!=this.__cbOnceInvertedSelectionChange&&(t+=this.__cbOnceInvertedSelectionChange.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnInvertedSelectionChange)for(var s=0,h=this.__cbOnInvertedSelectionChange.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnInvertedSelectionChange[a],++r):--t}if(null!=this.__cbOnceInvertedSelectionChange){for(var o=null,c=null,s=0,h=this.__cbOnceInvertedSelectionChange.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceInvertedSelectionChange[a],this.__cbOnceInvertedSelectionChange[a]=null,u=this.__cbOnceOwnerUnbindInvertedSelectionChange[a],(this.__cbOnceOwnerUnbindInvertedSelectionChange[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindInvertedSelectionChange[a]),c.push(this.__cbOnceInvertedSelectionChange[a]))}this.__cbOnceOwnerUnbindInvertedSelectionChange=o,this.__cbOnceInvertedSelectionChange=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onInvertedSelectionChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event invertedSelectionChange because owner is destroyed!");var l=function(e){null!=t&&(i.offInvertedSelectionChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindInvertedSelectionChange&&(this.__cbOnOwnerUnbindInvertedSelectionChange=[]),this.__cbOnOwnerUnbindInvertedSelectionChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindInvertedSelectionChange&&(this.__cbOnOwnerUnbindInvertedSelectionChange=[]),this.__cbOnOwnerUnbindInvertedSelectionChange.push(null);null==this.__cbOnInvertedSelectionChange&&(this.__cbOnInvertedSelectionChange=[]),this.__cbOnInvertedSelectionChange.push(t)},onceInvertedSelectionChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event invertedSelectionChange because owner is destroyed!");var l=function(e){null!=t&&(i.offInvertedSelectionChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindInvertedSelectionChange&&(this.__cbOnceOwnerUnbindInvertedSelectionChange=[]),this.__cbOnceOwnerUnbindInvertedSelectionChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindInvertedSelectionChange&&(this.__cbOnceOwnerUnbindInvertedSelectionChange=[]),this.__cbOnceOwnerUnbindInvertedSelectionChange.push(null);null==this.__cbOnceInvertedSelectionChange&&(this.__cbOnceInvertedSelectionChange=[]),this.__cbOnceInvertedSelectionChange.push(t)},offInvertedSelectionChange:function(e){if(null!=e){var n;null!=this.__cbOnInvertedSelectionChange&&-1!=(n=this.__cbOnInvertedSelectionChange.indexOf(e))&&(this.__cbOnInvertedSelectionChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindInvertedSelectionChange[n])&&r(),this.__cbOnOwnerUnbindInvertedSelectionChange.splice(n,1)),null!=this.__cbOnceInvertedSelectionChange&&-1!=(n=this.__cbOnceInvertedSelectionChange.indexOf(e))&&(this.__cbOnceInvertedSelectionChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindInvertedSelectionChange[n])&&r(),this.__cbOnceOwnerUnbindInvertedSelectionChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindInvertedSelectionChange){for(var t=0,i=this.__cbOnOwnerUnbindInvertedSelectionChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindInvertedSelectionChange[l])&&r()}this.__cbOnOwnerUnbindInvertedSelectionChange=null}if(null!=this.__cbOnceOwnerUnbindInvertedSelectionChange){for(t=0,i=this.__cbOnceOwnerUnbindInvertedSelectionChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindInvertedSelectionChange[l])&&r()}this.__cbOnceOwnerUnbindInvertedSelectionChange=null}this.__cbOnInvertedSelectionChange=null,this.__cbOnceInvertedSelectionChange=null}},listensInvertedSelectionChange:function(){return null!=this.__cbOnInvertedSelectionChange&&0<this.__cbOnInvertedSelectionChange.length||null!=this.__cbOnceInvertedSelectionChange&&0<this.__cbOnceInvertedSelectionChange.length},pointerIsDownAutoruns:null,get_pointerIsDown:function(){var e,n,t=this.unobservedPointerIsDown;return null!=U.current&&(e=U.current,null!=(n=this.pointerIsDownAutoruns)||(n=U.getAutorunArray(),null!=(this.pointerIsDownAutoruns=n)))&&e.bindToAutorunArray(n),t},set_pointerIsDown:function(e){var n=this.unobservedPointerIsDown;return n!=(this.unobservedPointerIsDown=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitPointerIsDownChange(e,n),null!=(n=this.pointerIsDownAutoruns))&&(this.pointerIsDownAutoruns=null,U.invalidateAutorunArray(n)),e},invalidatePointerIsDown:function(){var e=this.unobservedPointerIsDown,e=(this.emitPointerIsDownChange(e,e),this.pointerIsDownAutoruns);null!=e&&(this.pointerIsDownAutoruns=null,U.invalidateAutorunArray(e))},unobservedPointerIsDown:null,__cbOnPointerIsDownChange:null,__cbOncePointerIsDownChange:null,__cbOnOwnerUnbindPointerIsDownChange:null,__cbOnceOwnerUnbindPointerIsDownChange:null,emitPointerIsDownChange:function(e,n){var t=0;if(null!=this.__cbOnPointerIsDownChange&&(t+=this.__cbOnPointerIsDownChange.length),null!=this.__cbOncePointerIsDownChange&&(t+=this.__cbOncePointerIsDownChange.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnPointerIsDownChange)for(var s=0,h=this.__cbOnPointerIsDownChange.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnPointerIsDownChange[a],++r):--t}if(null!=this.__cbOncePointerIsDownChange){for(var o=null,c=null,s=0,h=this.__cbOncePointerIsDownChange.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOncePointerIsDownChange[a],this.__cbOncePointerIsDownChange[a]=null,u=this.__cbOnceOwnerUnbindPointerIsDownChange[a],(this.__cbOnceOwnerUnbindPointerIsDownChange[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindPointerIsDownChange[a]),c.push(this.__cbOncePointerIsDownChange[a]))}this.__cbOnceOwnerUnbindPointerIsDownChange=o,this.__cbOncePointerIsDownChange=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onPointerIsDownChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event pointerIsDownChange because owner is destroyed!");var l=function(e){null!=t&&(i.offPointerIsDownChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindPointerIsDownChange&&(this.__cbOnOwnerUnbindPointerIsDownChange=[]),this.__cbOnOwnerUnbindPointerIsDownChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindPointerIsDownChange&&(this.__cbOnOwnerUnbindPointerIsDownChange=[]),this.__cbOnOwnerUnbindPointerIsDownChange.push(null);null==this.__cbOnPointerIsDownChange&&(this.__cbOnPointerIsDownChange=[]),this.__cbOnPointerIsDownChange.push(t)},oncePointerIsDownChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event pointerIsDownChange because owner is destroyed!");var l=function(e){null!=t&&(i.offPointerIsDownChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindPointerIsDownChange&&(this.__cbOnceOwnerUnbindPointerIsDownChange=[]),this.__cbOnceOwnerUnbindPointerIsDownChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindPointerIsDownChange&&(this.__cbOnceOwnerUnbindPointerIsDownChange=[]),this.__cbOnceOwnerUnbindPointerIsDownChange.push(null);null==this.__cbOncePointerIsDownChange&&(this.__cbOncePointerIsDownChange=[]),this.__cbOncePointerIsDownChange.push(t)},offPointerIsDownChange:function(e){if(null!=e){var n;null!=this.__cbOnPointerIsDownChange&&-1!=(n=this.__cbOnPointerIsDownChange.indexOf(e))&&(this.__cbOnPointerIsDownChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindPointerIsDownChange[n])&&r(),this.__cbOnOwnerUnbindPointerIsDownChange.splice(n,1)),null!=this.__cbOncePointerIsDownChange&&-1!=(n=this.__cbOncePointerIsDownChange.indexOf(e))&&(this.__cbOncePointerIsDownChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindPointerIsDownChange[n])&&r(),this.__cbOnceOwnerUnbindPointerIsDownChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindPointerIsDownChange){for(var t=0,i=this.__cbOnOwnerUnbindPointerIsDownChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindPointerIsDownChange[l])&&r()}this.__cbOnOwnerUnbindPointerIsDownChange=null}if(null!=this.__cbOnceOwnerUnbindPointerIsDownChange){for(t=0,i=this.__cbOnceOwnerUnbindPointerIsDownChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindPointerIsDownChange[l])&&r()}this.__cbOnceOwnerUnbindPointerIsDownChange=null}this.__cbOnPointerIsDownChange=null,this.__cbOncePointerIsDownChange=null}},listensPointerIsDownChange:function(){return null!=this.__cbOnPointerIsDownChange&&0<this.__cbOnPointerIsDownChange.length||null!=this.__cbOncePointerIsDownChange&&0<this.__cbOncePointerIsDownChange.length},boundContainer:null,doubleClick:null,didDoubleClick:null,selectionBackgrounds:null,willUpdateSelection:null,textCursor:null,textCursorToggleVisibilityTime:null,bindAsComponent:function(){var t=this;this.entity.onGlyphQuadsChange(this,$bind(this,this.updateSelectionGraphics)),he.app.onUpdate(this,$bind(this,this.updateCursorVisibility)),this.onShowCursorChange(this,$bind(this,this.handleShowCursorChange)),this.autorun($bind(this,this.updateFromSelection)),this.autorun($bind(this,this.updatePointerEventBindings)),this.onSelectionStartChange(this,function(e,n){t.updateSelectionGraphics()}),this.onSelectionEndChange(this,function(e,n){t.updateSelectionGraphics()}),this.bindKeyBindings()},updateFromSelection:function(){var e=this.get_selectionStart(),n=this.get_selectionEnd(),t=this.get_invertedSelection();U.unobserve(),this.emitSelection(e,n,t),this.resetCursorVisibility(),this.updateSelectionGraphics(),U.reobserve()},updateSelectionGraphics:function(){this.willUpdateSelection||(this.willUpdateSelection=!0,he.app._onceImmediate($bind(this,this.doUpdateSelectionGraphics)))},doUpdateSelectionGraphics:function(){var n=this;if(this.willUpdateSelection=!1,-1==this.get_selectionStart()||-1==this.get_selectionEnd())this.clearSelectionGraphics();else{var e,t=this.entity.glyphQuads,i=-1,l=-1,r=-1,s=-1,h=-1,a=-1,o=Math.round(.1*this.entity.pointSize),c=Math.round(this.entity.pointSize*(this.textCursorHeightFactor-.8)),u=Math.ceil(this.entity.pointSize),_=this.textCursorWidth,d=Math.ceil(this.entity.pointSize),b=this.entity.lineHeight*this.entity.font.fontData.lineHeight*this.entity.pointSize/this.entity.font.fontData.pointSize,g=.4*this.entity.pointSize;if(this.get_selectionEnd()>this.get_selectionStart()){null!=this.textCursor&&(this.textCursor.destroy(),this.textCursor=null);for(var O=0,f=t.length;O<f;){var C,v,w,m=(D=t[U=O++]).index,y=D.line;this.get_selectionEnd()>this.get_selectionStart()&&(-1==l&&m>=this.get_selectionStart()&&(0<U&&m>this.get_selectionStart()&&0==D.posInLine?(w=t[U-1],v=this.entity.lineForIndex(this.get_selectionStart()),C=this.entity.lineForIndex(this.get_selectionEnd()),D.line,v<C&&v==w.line&&(l=y-1,r=w.glyphX+w.glyphAdvance,h=w.glyphX+w.glyphAdvance+g,s=w.glyphY,a=w.glyphY+u,++i,null==(C=[n.selectionBackgrounds[i]])[0]&&(C[0]=new p,n.selectionBackgrounds[i]=C[0],C[0].set_depth(-1),n.entity.add(C[0]),C[0].autorun(function(e){return function(){e[0].color=n.selectionColor}}(C))),0==r?(A=s-o+n.textCursorOffsetY,C[0].set_x(r-o+n.textCursorOffsetX),C[0].set_y(A),C[0].set_width(h+o-r+1)):(k=s-o+n.textCursorOffsetY,C[0].set_x(r+n.textCursorOffsetX),C[0].set_y(k),C[0].set_width(h-r+1)),C[0].set_height(a+2*o-s)),l=-1,m>=this.get_selectionStart()&&m<this.get_selectionEnd()&&(l=y,r=D.glyphX,h=0,s=D.glyphY,a=D.glyphY+u)):m<=this.get_selectionEnd()&&(l=y,r=D.glyphX,h=D.glyphX+D.glyphAdvance,s=D.glyphY,a=D.glyphY+u)),-1!=l)&&(l<y||m>=this.get_selectionEnd()?(0<U&&0==D.posInLine&&this.get_selectionEnd()-1>t[U-1].index&&(h=(v=t[U-1]).glyphX+v.glyphAdvance+g),++i,null==(w=[n.selectionBackgrounds[i]])[0]&&(w[0]=new p,n.selectionBackgrounds[i]=w[0],w[0].set_depth(-1),n.entity.add(w[0]),w[0].autorun(function(e){return function(){e[0].color=n.selectionColor}}(w))),0==r?(M=s-o+n.textCursorOffsetY,w[0].set_x(r-o+n.textCursorOffsetX),w[0].set_y(M),w[0].set_width(h+o-r+1)):(T=s-o+n.textCursorOffsetY,w[0].set_x(r+n.textCursorOffsetX),w[0].set_y(T),w[0].set_width(h-r+1)),w[0].set_height(a+2*o-s),l=-1,m>=this.get_selectionStart()&&m<this.get_selectionEnd()&&(l=y,r=D.glyphX,h=D.glyphX+D.glyphAdvance,s=D.glyphY,a=D.glyphY+u)):(s=Math.min(s,D.glyphY),h=D.glyphX+D.glyphAdvance,a=Math.max(a,D.glyphY+u)))}}else for(var U,D,T,x,O=0,f=t.length;O<f;){if((m=(D=t[U=O++]).index)==this.get_selectionStart()-1){null==n.textCursor&&(n.textCursor=new p,n.textCursor.autorun(function(){n.textCursor.color=n.textCursorColor}),n.textCursor.set_depth(0),n.entity.add(n.textCursor));var S=this.textCursor,A=D.glyphY-c+this.textCursorOffsetY,S=(S.set_x(D.glyphX+D.glyphAdvance+this.textCursorOffsetX),S.set_y(A),this.textCursor);S.set_width(_),S.set_height(d+2*c);break}if(m>=this.get_selectionStart()){null==n.textCursor&&(n.textCursor=new p,n.textCursor.autorun(function(){n.textCursor.color=n.textCursorColor}),n.textCursor.set_depth(0),n.entity.add(n.textCursor));for(var S=this.textCursor,k=D.glyphY-.5*c+this.textCursorOffsetY,I=(S.set_x(D.glyphX+this.textCursorOffsetX),S.set_y(k),this.textCursor),P=(I.set_width(_),I.set_height(d+2*c),D.line),F=this.entity.lineForIndex(this.get_selectionStart());F<P;){var B=this.textCursor,M=this.textCursor.y-b;B.set_x(0),B.set_y(M),--P}break}U==t.length-1&&(null==n.textCursor&&(n.textCursor=new p,n.textCursor.autorun(function(){n.textCursor.color=n.textCursorColor}),n.textCursor.set_depth(0),n.entity.add(n.textCursor)),I=this.textCursor,T=D.glyphY-.5*c+this.textCursorOffsetY,I.set_x(D.glyphX+D.glyphAdvance+this.textCursorOffsetX),I.set_y(T),(x=this.textCursor).set_width(_),x.set_height(d+2*c))}for(-1!=l&&(null==(e=n.selectionBackgrounds[++i])&&(e=new p,(n.selectionBackgrounds[i]=e).set_depth(-1),n.entity.add(e),e.autorun(function(){e.color=n.selectionColor})),0==r?(A=s-o+n.textCursorOffsetY,e.set_x(r-o+n.textCursorOffsetX),e.set_y(A),e.set_width(h+o-r+1)):(A=s-o+n.textCursorOffsetY,e.set_x(r+n.textCursorOffsetX),e.set_y(A),e.set_width(h-r+1)),e.set_height(a+2*o-s));i<this.selectionBackgrounds.length-1;)this.selectionBackgrounds.pop().destroy()}},clearSelectionGraphics:function(){for(null!=this.textCursor&&(this.textCursor.destroy(),this.textCursor=null);0<this.selectionBackgrounds.length;)this.selectionBackgrounds.pop().destroy()},handleShowCursorChange:function(e,n){this.resetCursorVisibility()},updateCursorVisibility:function(e){if(null!=this.textCursor)if(this.get_showCursor())if(this.get_pointerIsDown())this.resetCursorVisibility();else for(this.textCursorToggleVisibilityTime-=e;this.textCursorToggleVisibilityTime<=0;)this.textCursorToggleVisibilityTime+=.5,this.textCursor.set_visible(!this.textCursor.visible);else this.textCursor.set_visible(!1)},resetCursorVisibility:function(){this.textCursorToggleVisibilityTime=.5,null!=this.textCursor&&this.textCursor.set_visible(this.get_showCursor())},updatePointerEventBindings:function(){var e=this.get_container(),n=this.get_allowSelectingFromPointer();U.unobserve(),null!=this.boundContainer&&(this.boundContainer.offPointerDown($bind(this,this.handlePointerDown)),this.boundContainer.offPointerUp($bind(this,this.handlePointerUp)),this.boundContainer=null),this.entity.offPointerDown($bind(this,this.handlePointerDown)),this.entity.offPointerUp($bind(this,this.handlePointerUp)),null!=this.doubleClick&&(this.doubleClick.destroy(),this.doubleClick=null),n?(n=this.entity,null!=e&&(this.boundContainer=n=e),n.onPointerDown(this,$bind(this,this.handlePointerDown)),n.onPointerUp(this,$bind(this,this.handlePointerUp)),this.doubleClick=new G0,this.doubleClick.onDoubleClick(this,$bind(this,this.handleDoubleClick)),n.component("doubleClick",this.doubleClick)):(this.set_pointerIsDown(!1),he.app.screen.offPointerMove($bind(this,this.handlePointerMove))),U.reobserve()},indexFromScreenPosition:function(e,n){this.entity.screenToVisual(e,n,tt._point),e=tt._point.x,n=tt._point.y;n=this.entity.lineForYPosition(n),e=this.entity.posInLineForX(n,e);return this.entity.indexForPosInLine(n,e)},handlePointerDown:function(e){var n=he.app.screen.pointerX,t=he.app.screen.pointerY,n=this.indexFromScreenPosition(n,t);this.set_selectionStart(n),this.set_selectionEnd(n),this.set_invertedSelection(!1),this.resetCursorVisibility(),this.set_pointerIsDown(!0),he.app.screen.onPointerMove(this,$bind(this,this.handlePointerMove))},handlePointerMove:function(e){this.updateSelectionFromMovingPointer(he.app.screen.pointerX,he.app.screen.pointerY)},handlePointerUp:function(e){he.app.screen.offPointerMove($bind(this,this.handlePointerMove)),this.get_pointerIsDown()&&(this.set_pointerIsDown(!1),this.didDoubleClick?this.didDoubleClick=!1:this.updateSelectionFromMovingPointer(he.app.screen.pointerX,he.app.screen.pointerY))},updateSelectionFromMovingPointer:function(e,n){e=this.indexFromScreenPosition(e,n);this.get_invertedSelection()?e>=this.get_selectionEnd()?(this.set_invertedSelection(!1),this.set_selectionStart(this.get_selectionEnd()),this.set_selectionEnd(e)):this.set_selectionStart(e):e<this.get_selectionStart()?(this.set_invertedSelection(!0),this.set_selectionEnd(this.get_selectionStart()),this.set_selectionStart(e)):this.set_selectionEnd(e),this.resetCursorVisibility()},isSelectionBoundChararacter:function(e){return""==z.trim(e)||-1!="/\\<>()[]{}-".indexOf(e)},handleDoubleClick:function(){this.didDoubleClick=!0;for(var e=this.indexFromScreenPosition(he.app.screen.pointerX,he.app.screen.pointerY),n=this.entity.content,t=n.length,i=e,l=null,r=!1;0<i&&(l=n.charAt(i-1),""!=z.trim(l))&&-1=="/\\<>()[]{}-".indexOf(l);)r=!0,--i;var s=r?e:e+1;if(null!=(l=n.charAt(e))&&""!=z.trim(l))for(;s<t&&(l=n.charAt(s),""!=z.trim(l))&&-1=="/\\<>()[]{}-".indexOf(l);)++s;t<s&&(s=t),this.set_invertedSelection(!1),this.set_selectionStart(i),this.set_selectionEnd(s)},bindKeyBindings:function(){var n=this,t=new Mn;t.bind([Bn.CMD_OR_CTRL,Bn.KEY(99)],function(){var e;he.app.screen.get_focusedVisual()!=n.entity||n.get_selectionEnd()-n.get_selectionStart()<=0||(e=n.entity.content.substring(n.get_selectionStart(),n.get_selectionEnd()),he.app.backend.clipboard.setText(e))}),this.onDestroy(t,function(e){t.destroy(),t=null}),this.entity.component("selectText.keyBindings",t)},unbindEvents:function(){j.prototype.unbindEvents.call(this),this.offObservedDirty(),this.offContainerChange(),this.offAllowSelectingFromPointerChange(),this.offShowCursorChange(),this.offSelectionStartChange(),this.offSelectionEndChange(),this.offInvertedSelectionChange(),this.offPointerIsDownChange(),this.offSelection()},setEntity:function(e){e instanceof ut?this.entity=e:this.entity=null},getEntity:function(){return this.entity},initializerName:null,__class__:tt,__properties__:$extend(j.prototype.__properties__,{set_pointerIsDown:"set_pointerIsDown",get_pointerIsDown:"get_pointerIsDown",set_invertedSelection:"set_invertedSelection",get_invertedSelection:"get_invertedSelection",set_selectionEnd:"set_selectionEnd",get_selectionEnd:"get_selectionEnd",set_selectionStart:"set_selectionStart",get_selectionStart:"get_selectionStart",set_showCursor:"set_showCursor",get_showCursor:"get_showCursor",set_allowSelectingFromPointer:"set_allowSelectingFromPointer",get_allowSelectingFromPointer:"get_allowSelectingFromPointer",set_container:"set_container",get_container:"get_container"})}),function(){this.defaultShader=kl,this.defaultFont="font:RobotoMedium",this.backend={},this.assetsPath="assets",this.resizable=!1,this.antialiasing=0,this.appInfo=null,this.collections=null,this.orientation=0,this.unobservedPreventDefaultTouches=!1,this.preventDefaultTouchesAutoruns=null,this.unobservedPreventDefaultMouseWheel=!1,this.preventDefaultMouseWheelAutoruns=null,this.unobservedOverrideDelta=-1,this.overrideDeltaAutoruns=null,this.unobservedMaxDelta=.1,this.maxDeltaAutoruns=null,this.unobservedTargetFps=-1,this.targetFpsAutoruns=null,this.unobservedFullscreen=!1,this.fullscreenAutoruns=null,this.unobservedTitle="App",this.titleAutoruns=null,this.unobservedScaling=Zn.FIT,this.scalingAutoruns=null,this.unobservedBackground=0,this.backgroundAutoruns=null,this.unobservedTargetDensity=0,this.targetDensityAutoruns=null,this.unobservedWindowHeight=0,this.windowHeightAutoruns=null,this.unobservedWindowWidth=0,this.windowWidthAutoruns=null,this.unobservedTargetHeight=0,this.targetHeightAutoruns=null,this.unobservedTargetWidth=0,this.targetWidthAutoruns=null,this.observedDirty=!1}),lt=((E["ceramic.Settings"]=it).__name__="ceramic.Settings",it.__interfaces__=[s],it.prototype={__cbOnObservedDirty:null,__cbOnceObservedDirty:null,__cbOnOwnerUnbindObservedDirty:null,__cbOnceOwnerUnbindObservedDirty:null,emitObservedDirty:function(e,n){var t=0;if(null!=this.__cbOnObservedDirty&&(t+=this.__cbOnObservedDirty.length),null!=this.__cbOnceObservedDirty&&(t+=this.__cbOnceObservedDirty.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnObservedDirty)for(var s=0,h=this.__cbOnObservedDirty.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnObservedDirty[a],++r):--t}if(null!=this.__cbOnceObservedDirty){for(var o=null,c=null,s=0,h=this.__cbOnceObservedDirty.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceObservedDirty[a],this.__cbOnceObservedDirty[a]=null,u=this.__cbOnceOwnerUnbindObservedDirty[a],(this.__cbOnceOwnerUnbindObservedDirty[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindObservedDirty[a]),c.push(this.__cbOnceObservedDirty[a]))}this.__cbOnceOwnerUnbindObservedDirty=o,this.__cbOnceObservedDirty=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onObservedDirty:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event observedDirty because owner is destroyed!");var l=function(e){null!=t&&(i.offObservedDirty(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push(null);null==this.__cbOnObservedDirty&&(this.__cbOnObservedDirty=[]),this.__cbOnObservedDirty.push(t)},onceObservedDirty:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event observedDirty because owner is destroyed!");var l=function(e){null!=t&&(i.offObservedDirty(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push(null);null==this.__cbOnceObservedDirty&&(this.__cbOnceObservedDirty=[]),this.__cbOnceObservedDirty.push(t)},offObservedDirty:function(e){if(null!=e){var n;null!=this.__cbOnObservedDirty&&-1!=(n=this.__cbOnObservedDirty.indexOf(e))&&(this.__cbOnObservedDirty.splice(n,1),null!=(r=this.__cbOnOwnerUnbindObservedDirty[n])&&r(),this.__cbOnOwnerUnbindObservedDirty.splice(n,1)),null!=this.__cbOnceObservedDirty&&-1!=(n=this.__cbOnceObservedDirty.indexOf(e))&&(this.__cbOnceObservedDirty.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindObservedDirty[n])&&r(),this.__cbOnceOwnerUnbindObservedDirty.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindObservedDirty){for(var t=0,i=this.__cbOnOwnerUnbindObservedDirty.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindObservedDirty[l])&&r()}this.__cbOnOwnerUnbindObservedDirty=null}if(null!=this.__cbOnceOwnerUnbindObservedDirty){for(t=0,i=this.__cbOnceOwnerUnbindObservedDirty.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindObservedDirty[l])&&r()}this.__cbOnceOwnerUnbindObservedDirty=null}this.__cbOnObservedDirty=null,this.__cbOnceObservedDirty=null}},listensObservedDirty:function(){return null!=this.__cbOnObservedDirty&&0<this.__cbOnObservedDirty.length||null!=this.__cbOnceObservedDirty&&0<this.__cbOnceObservedDirty.length},observedDirty:null,targetWidthAutoruns:null,get_targetWidth:function(){var e,n,t=this.unobservedTargetWidth;return null!=U.current&&(e=U.current,null!=(n=this.targetWidthAutoruns)||(n=U.getAutorunArray(),null!=(this.targetWidthAutoruns=n)))&&e.bindToAutorunArray(n),t},set_targetWidth:function(e){var n=this.unobservedTargetWidth;return n!=(this.unobservedTargetWidth=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitTargetWidthChange(e,n),null!=(n=this.targetWidthAutoruns))&&(this.targetWidthAutoruns=null,U.invalidateAutorunArray(n)),e},invalidateTargetWidth:function(){var e=this.unobservedTargetWidth,e=(this.emitTargetWidthChange(e,e),this.targetWidthAutoruns);null!=e&&(this.targetWidthAutoruns=null,U.invalidateAutorunArray(e))},unobservedTargetWidth:null,__cbOnTargetWidthChange:null,__cbOnceTargetWidthChange:null,__cbOnOwnerUnbindTargetWidthChange:null,__cbOnceOwnerUnbindTargetWidthChange:null,emitTargetWidthChange:function(e,n){var t=0;if(null!=this.__cbOnTargetWidthChange&&(t+=this.__cbOnTargetWidthChange.length),null!=this.__cbOnceTargetWidthChange&&(t+=this.__cbOnceTargetWidthChange.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnTargetWidthChange)for(var s=0,h=this.__cbOnTargetWidthChange.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnTargetWidthChange[a],++r):--t}if(null!=this.__cbOnceTargetWidthChange){for(var o=null,c=null,s=0,h=this.__cbOnceTargetWidthChange.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceTargetWidthChange[a],this.__cbOnceTargetWidthChange[a]=null,u=this.__cbOnceOwnerUnbindTargetWidthChange[a],(this.__cbOnceOwnerUnbindTargetWidthChange[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindTargetWidthChange[a]),c.push(this.__cbOnceTargetWidthChange[a]))}this.__cbOnceOwnerUnbindTargetWidthChange=o,this.__cbOnceTargetWidthChange=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onTargetWidthChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event targetWidthChange because owner is destroyed!");var l=function(e){null!=t&&(i.offTargetWidthChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindTargetWidthChange&&(this.__cbOnOwnerUnbindTargetWidthChange=[]),this.__cbOnOwnerUnbindTargetWidthChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindTargetWidthChange&&(this.__cbOnOwnerUnbindTargetWidthChange=[]),this.__cbOnOwnerUnbindTargetWidthChange.push(null);null==this.__cbOnTargetWidthChange&&(this.__cbOnTargetWidthChange=[]),this.__cbOnTargetWidthChange.push(t)},onceTargetWidthChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event targetWidthChange because owner is destroyed!");var l=function(e){null!=t&&(i.offTargetWidthChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindTargetWidthChange&&(this.__cbOnceOwnerUnbindTargetWidthChange=[]),this.__cbOnceOwnerUnbindTargetWidthChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindTargetWidthChange&&(this.__cbOnceOwnerUnbindTargetWidthChange=[]),this.__cbOnceOwnerUnbindTargetWidthChange.push(null);null==this.__cbOnceTargetWidthChange&&(this.__cbOnceTargetWidthChange=[]),this.__cbOnceTargetWidthChange.push(t)},offTargetWidthChange:function(e){if(null!=e){var n;null!=this.__cbOnTargetWidthChange&&-1!=(n=this.__cbOnTargetWidthChange.indexOf(e))&&(this.__cbOnTargetWidthChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindTargetWidthChange[n])&&r(),this.__cbOnOwnerUnbindTargetWidthChange.splice(n,1)),null!=this.__cbOnceTargetWidthChange&&-1!=(n=this.__cbOnceTargetWidthChange.indexOf(e))&&(this.__cbOnceTargetWidthChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindTargetWidthChange[n])&&r(),this.__cbOnceOwnerUnbindTargetWidthChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindTargetWidthChange){for(var t=0,i=this.__cbOnOwnerUnbindTargetWidthChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindTargetWidthChange[l])&&r()}this.__cbOnOwnerUnbindTargetWidthChange=null}if(null!=this.__cbOnceOwnerUnbindTargetWidthChange){for(t=0,i=this.__cbOnceOwnerUnbindTargetWidthChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindTargetWidthChange[l])&&r()}this.__cbOnceOwnerUnbindTargetWidthChange=null}this.__cbOnTargetWidthChange=null,this.__cbOnceTargetWidthChange=null}},listensTargetWidthChange:function(){return null!=this.__cbOnTargetWidthChange&&0<this.__cbOnTargetWidthChange.length||null!=this.__cbOnceTargetWidthChange&&0<this.__cbOnceTargetWidthChange.length},targetHeightAutoruns:null,get_targetHeight:function(){var e,n,t=this.unobservedTargetHeight;return null!=U.current&&(e=U.current,null!=(n=this.targetHeightAutoruns)||(n=U.getAutorunArray(),null!=(this.targetHeightAutoruns=n)))&&e.bindToAutorunArray(n),t},set_targetHeight:function(e){var n=this.unobservedTargetHeight;return n!=(this.unobservedTargetHeight=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitTargetHeightChange(e,n),null!=(n=this.targetHeightAutoruns))&&(this.targetHeightAutoruns=null,U.invalidateAutorunArray(n)),e},invalidateTargetHeight:function(){var e=this.unobservedTargetHeight,e=(this.emitTargetHeightChange(e,e),this.targetHeightAutoruns);null!=e&&(this.targetHeightAutoruns=null,U.invalidateAutorunArray(e))},unobservedTargetHeight:null,__cbOnTargetHeightChange:null,__cbOnceTargetHeightChange:null,__cbOnOwnerUnbindTargetHeightChange:null,__cbOnceOwnerUnbindTargetHeightChange:null,emitTargetHeightChange:function(e,n){var t=0;if(null!=this.__cbOnTargetHeightChange&&(t+=this.__cbOnTargetHeightChange.length),null!=this.__cbOnceTargetHeightChange&&(t+=this.__cbOnceTargetHeightChange.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnTargetHeightChange)for(var s=0,h=this.__cbOnTargetHeightChange.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnTargetHeightChange[a],++r):--t}if(null!=this.__cbOnceTargetHeightChange){for(var o=null,c=null,s=0,h=this.__cbOnceTargetHeightChange.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceTargetHeightChange[a],this.__cbOnceTargetHeightChange[a]=null,u=this.__cbOnceOwnerUnbindTargetHeightChange[a],(this.__cbOnceOwnerUnbindTargetHeightChange[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindTargetHeightChange[a]),c.push(this.__cbOnceTargetHeightChange[a]))}this.__cbOnceOwnerUnbindTargetHeightChange=o,this.__cbOnceTargetHeightChange=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onTargetHeightChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event targetHeightChange because owner is destroyed!");var l=function(e){null!=t&&(i.offTargetHeightChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindTargetHeightChange&&(this.__cbOnOwnerUnbindTargetHeightChange=[]),this.__cbOnOwnerUnbindTargetHeightChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindTargetHeightChange&&(this.__cbOnOwnerUnbindTargetHeightChange=[]),this.__cbOnOwnerUnbindTargetHeightChange.push(null);null==this.__cbOnTargetHeightChange&&(this.__cbOnTargetHeightChange=[]),this.__cbOnTargetHeightChange.push(t)},onceTargetHeightChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event targetHeightChange because owner is destroyed!");var l=function(e){null!=t&&(i.offTargetHeightChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindTargetHeightChange&&(this.__cbOnceOwnerUnbindTargetHeightChange=[]),this.__cbOnceOwnerUnbindTargetHeightChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindTargetHeightChange&&(this.__cbOnceOwnerUnbindTargetHeightChange=[]),this.__cbOnceOwnerUnbindTargetHeightChange.push(null);null==this.__cbOnceTargetHeightChange&&(this.__cbOnceTargetHeightChange=[]),this.__cbOnceTargetHeightChange.push(t)},offTargetHeightChange:function(e){if(null!=e){var n;null!=this.__cbOnTargetHeightChange&&-1!=(n=this.__cbOnTargetHeightChange.indexOf(e))&&(this.__cbOnTargetHeightChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindTargetHeightChange[n])&&r(),this.__cbOnOwnerUnbindTargetHeightChange.splice(n,1)),null!=this.__cbOnceTargetHeightChange&&-1!=(n=this.__cbOnceTargetHeightChange.indexOf(e))&&(this.__cbOnceTargetHeightChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindTargetHeightChange[n])&&r(),this.__cbOnceOwnerUnbindTargetHeightChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindTargetHeightChange){for(var t=0,i=this.__cbOnOwnerUnbindTargetHeightChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindTargetHeightChange[l])&&r()}this.__cbOnOwnerUnbindTargetHeightChange=null}if(null!=this.__cbOnceOwnerUnbindTargetHeightChange){for(t=0,i=this.__cbOnceOwnerUnbindTargetHeightChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindTargetHeightChange[l])&&r()}this.__cbOnceOwnerUnbindTargetHeightChange=null}this.__cbOnTargetHeightChange=null,this.__cbOnceTargetHeightChange=null}},listensTargetHeightChange:function(){return null!=this.__cbOnTargetHeightChange&&0<this.__cbOnTargetHeightChange.length||null!=this.__cbOnceTargetHeightChange&&0<this.__cbOnceTargetHeightChange.length},targetSize:function(e,n){this.set_targetWidth(e),this.set_targetHeight(n)},windowWidthAutoruns:null,get_windowWidth:function(){var e,n,t=this.unobservedWindowWidth;return null!=U.current&&(e=U.current,null!=(n=this.windowWidthAutoruns)||(n=U.getAutorunArray(),null!=(this.windowWidthAutoruns=n)))&&e.bindToAutorunArray(n),t},set_windowWidth:function(e){var n=this.unobservedWindowWidth;return n!=(this.unobservedWindowWidth=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitWindowWidthChange(e,n),null!=(n=this.windowWidthAutoruns))&&(this.windowWidthAutoruns=null,U.invalidateAutorunArray(n)),e},invalidateWindowWidth:function(){var e=this.unobservedWindowWidth,e=(this.emitWindowWidthChange(e,e),this.windowWidthAutoruns);null!=e&&(this.windowWidthAutoruns=null,U.invalidateAutorunArray(e))},unobservedWindowWidth:null,__cbOnWindowWidthChange:null,__cbOnceWindowWidthChange:null,__cbOnOwnerUnbindWindowWidthChange:null,__cbOnceOwnerUnbindWindowWidthChange:null,emitWindowWidthChange:function(e,n){var t=0;if(null!=this.__cbOnWindowWidthChange&&(t+=this.__cbOnWindowWidthChange.length),null!=this.__cbOnceWindowWidthChange&&(t+=this.__cbOnceWindowWidthChange.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnWindowWidthChange)for(var s=0,h=this.__cbOnWindowWidthChange.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnWindowWidthChange[a],++r):--t}if(null!=this.__cbOnceWindowWidthChange){for(var o=null,c=null,s=0,h=this.__cbOnceWindowWidthChange.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceWindowWidthChange[a],this.__cbOnceWindowWidthChange[a]=null,u=this.__cbOnceOwnerUnbindWindowWidthChange[a],(this.__cbOnceOwnerUnbindWindowWidthChange[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindWindowWidthChange[a]),c.push(this.__cbOnceWindowWidthChange[a]))}this.__cbOnceOwnerUnbindWindowWidthChange=o,this.__cbOnceWindowWidthChange=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onWindowWidthChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event windowWidthChange because owner is destroyed!");var l=function(e){null!=t&&(i.offWindowWidthChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindWindowWidthChange&&(this.__cbOnOwnerUnbindWindowWidthChange=[]),this.__cbOnOwnerUnbindWindowWidthChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindWindowWidthChange&&(this.__cbOnOwnerUnbindWindowWidthChange=[]),this.__cbOnOwnerUnbindWindowWidthChange.push(null);null==this.__cbOnWindowWidthChange&&(this.__cbOnWindowWidthChange=[]),this.__cbOnWindowWidthChange.push(t)},onceWindowWidthChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event windowWidthChange because owner is destroyed!");var l=function(e){null!=t&&(i.offWindowWidthChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindWindowWidthChange&&(this.__cbOnceOwnerUnbindWindowWidthChange=[]),this.__cbOnceOwnerUnbindWindowWidthChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindWindowWidthChange&&(this.__cbOnceOwnerUnbindWindowWidthChange=[]),this.__cbOnceOwnerUnbindWindowWidthChange.push(null);null==this.__cbOnceWindowWidthChange&&(this.__cbOnceWindowWidthChange=[]),this.__cbOnceWindowWidthChange.push(t)},offWindowWidthChange:function(e){if(null!=e){var n;null!=this.__cbOnWindowWidthChange&&-1!=(n=this.__cbOnWindowWidthChange.indexOf(e))&&(this.__cbOnWindowWidthChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindWindowWidthChange[n])&&r(),this.__cbOnOwnerUnbindWindowWidthChange.splice(n,1)),null!=this.__cbOnceWindowWidthChange&&-1!=(n=this.__cbOnceWindowWidthChange.indexOf(e))&&(this.__cbOnceWindowWidthChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindWindowWidthChange[n])&&r(),this.__cbOnceOwnerUnbindWindowWidthChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindWindowWidthChange){for(var t=0,i=this.__cbOnOwnerUnbindWindowWidthChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindWindowWidthChange[l])&&r()}this.__cbOnOwnerUnbindWindowWidthChange=null}if(null!=this.__cbOnceOwnerUnbindWindowWidthChange){for(t=0,i=this.__cbOnceOwnerUnbindWindowWidthChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindWindowWidthChange[l])&&r()}this.__cbOnceOwnerUnbindWindowWidthChange=null}this.__cbOnWindowWidthChange=null,this.__cbOnceWindowWidthChange=null}},listensWindowWidthChange:function(){return null!=this.__cbOnWindowWidthChange&&0<this.__cbOnWindowWidthChange.length||null!=this.__cbOnceWindowWidthChange&&0<this.__cbOnceWindowWidthChange.length},windowHeightAutoruns:null,get_windowHeight:function(){var e,n,t=this.unobservedWindowHeight;return null!=U.current&&(e=U.current,null!=(n=this.windowHeightAutoruns)||(n=U.getAutorunArray(),null!=(this.windowHeightAutoruns=n)))&&e.bindToAutorunArray(n),t},set_windowHeight:function(e){var n=this.unobservedWindowHeight;return n!=(this.unobservedWindowHeight=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitWindowHeightChange(e,n),null!=(n=this.windowHeightAutoruns))&&(this.windowHeightAutoruns=null,U.invalidateAutorunArray(n)),e},invalidateWindowHeight:function(){var e=this.unobservedWindowHeight,e=(this.emitWindowHeightChange(e,e),this.windowHeightAutoruns);null!=e&&(this.windowHeightAutoruns=null,U.invalidateAutorunArray(e))},unobservedWindowHeight:null,__cbOnWindowHeightChange:null,__cbOnceWindowHeightChange:null,__cbOnOwnerUnbindWindowHeightChange:null,__cbOnceOwnerUnbindWindowHeightChange:null,emitWindowHeightChange:function(e,n){var t=0;if(null!=this.__cbOnWindowHeightChange&&(t+=this.__cbOnWindowHeightChange.length),null!=this.__cbOnceWindowHeightChange&&(t+=this.__cbOnceWindowHeightChange.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnWindowHeightChange)for(var s=0,h=this.__cbOnWindowHeightChange.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnWindowHeightChange[a],++r):--t}if(null!=this.__cbOnceWindowHeightChange){for(var o=null,c=null,s=0,h=this.__cbOnceWindowHeightChange.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceWindowHeightChange[a],this.__cbOnceWindowHeightChange[a]=null,u=this.__cbOnceOwnerUnbindWindowHeightChange[a],(this.__cbOnceOwnerUnbindWindowHeightChange[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindWindowHeightChange[a]),c.push(this.__cbOnceWindowHeightChange[a]))}this.__cbOnceOwnerUnbindWindowHeightChange=o,this.__cbOnceWindowHeightChange=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onWindowHeightChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event windowHeightChange because owner is destroyed!");var l=function(e){null!=t&&(i.offWindowHeightChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindWindowHeightChange&&(this.__cbOnOwnerUnbindWindowHeightChange=[]),this.__cbOnOwnerUnbindWindowHeightChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindWindowHeightChange&&(this.__cbOnOwnerUnbindWindowHeightChange=[]),this.__cbOnOwnerUnbindWindowHeightChange.push(null);null==this.__cbOnWindowHeightChange&&(this.__cbOnWindowHeightChange=[]),this.__cbOnWindowHeightChange.push(t)},onceWindowHeightChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event windowHeightChange because owner is destroyed!");var l=function(e){null!=t&&(i.offWindowHeightChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindWindowHeightChange&&(this.__cbOnceOwnerUnbindWindowHeightChange=[]),this.__cbOnceOwnerUnbindWindowHeightChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindWindowHeightChange&&(this.__cbOnceOwnerUnbindWindowHeightChange=[]),this.__cbOnceOwnerUnbindWindowHeightChange.push(null);null==this.__cbOnceWindowHeightChange&&(this.__cbOnceWindowHeightChange=[]),this.__cbOnceWindowHeightChange.push(t)},offWindowHeightChange:function(e){if(null!=e){var n;null!=this.__cbOnWindowHeightChange&&-1!=(n=this.__cbOnWindowHeightChange.indexOf(e))&&(this.__cbOnWindowHeightChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindWindowHeightChange[n])&&r(),this.__cbOnOwnerUnbindWindowHeightChange.splice(n,1)),null!=this.__cbOnceWindowHeightChange&&-1!=(n=this.__cbOnceWindowHeightChange.indexOf(e))&&(this.__cbOnceWindowHeightChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindWindowHeightChange[n])&&r(),this.__cbOnceOwnerUnbindWindowHeightChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindWindowHeightChange){for(var t=0,i=this.__cbOnOwnerUnbindWindowHeightChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindWindowHeightChange[l])&&r()}this.__cbOnOwnerUnbindWindowHeightChange=null}if(null!=this.__cbOnceOwnerUnbindWindowHeightChange){for(t=0,i=this.__cbOnceOwnerUnbindWindowHeightChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindWindowHeightChange[l])&&r()}this.__cbOnceOwnerUnbindWindowHeightChange=null}this.__cbOnWindowHeightChange=null,this.__cbOnceWindowHeightChange=null}},listensWindowHeightChange:function(){return null!=this.__cbOnWindowHeightChange&&0<this.__cbOnWindowHeightChange.length||null!=this.__cbOnceWindowHeightChange&&0<this.__cbOnceWindowHeightChange.length},targetDensityAutoruns:null,get_targetDensity:function(){var e,n,t=this.unobservedTargetDensity;return null!=U.current&&(e=U.current,null!=(n=this.targetDensityAutoruns)||(n=U.getAutorunArray(),null!=(this.targetDensityAutoruns=n)))&&e.bindToAutorunArray(n),t},set_targetDensity:function(e){var n=this.unobservedTargetDensity;return n!=(this.unobservedTargetDensity=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitTargetDensityChange(e,n),null!=(n=this.targetDensityAutoruns))&&(this.targetDensityAutoruns=null,U.invalidateAutorunArray(n)),e},invalidateTargetDensity:function(){var e=this.unobservedTargetDensity,e=(this.emitTargetDensityChange(e,e),this.targetDensityAutoruns);null!=e&&(this.targetDensityAutoruns=null,U.invalidateAutorunArray(e))},unobservedTargetDensity:null,__cbOnTargetDensityChange:null,__cbOnceTargetDensityChange:null,__cbOnOwnerUnbindTargetDensityChange:null,__cbOnceOwnerUnbindTargetDensityChange:null,emitTargetDensityChange:function(e,n){var t=0;if(null!=this.__cbOnTargetDensityChange&&(t+=this.__cbOnTargetDensityChange.length),null!=this.__cbOnceTargetDensityChange&&(t+=this.__cbOnceTargetDensityChange.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnTargetDensityChange)for(var s=0,h=this.__cbOnTargetDensityChange.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnTargetDensityChange[a],++r):--t}if(null!=this.__cbOnceTargetDensityChange){for(var o=null,c=null,s=0,h=this.__cbOnceTargetDensityChange.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceTargetDensityChange[a],this.__cbOnceTargetDensityChange[a]=null,u=this.__cbOnceOwnerUnbindTargetDensityChange[a],(this.__cbOnceOwnerUnbindTargetDensityChange[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindTargetDensityChange[a]),c.push(this.__cbOnceTargetDensityChange[a]))}this.__cbOnceOwnerUnbindTargetDensityChange=o,this.__cbOnceTargetDensityChange=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onTargetDensityChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event targetDensityChange because owner is destroyed!");var l=function(e){null!=t&&(i.offTargetDensityChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindTargetDensityChange&&(this.__cbOnOwnerUnbindTargetDensityChange=[]),this.__cbOnOwnerUnbindTargetDensityChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindTargetDensityChange&&(this.__cbOnOwnerUnbindTargetDensityChange=[]),this.__cbOnOwnerUnbindTargetDensityChange.push(null);null==this.__cbOnTargetDensityChange&&(this.__cbOnTargetDensityChange=[]),this.__cbOnTargetDensityChange.push(t)},onceTargetDensityChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event targetDensityChange because owner is destroyed!");var l=function(e){null!=t&&(i.offTargetDensityChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindTargetDensityChange&&(this.__cbOnceOwnerUnbindTargetDensityChange=[]),this.__cbOnceOwnerUnbindTargetDensityChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindTargetDensityChange&&(this.__cbOnceOwnerUnbindTargetDensityChange=[]),this.__cbOnceOwnerUnbindTargetDensityChange.push(null);null==this.__cbOnceTargetDensityChange&&(this.__cbOnceTargetDensityChange=[]),this.__cbOnceTargetDensityChange.push(t)},offTargetDensityChange:function(e){if(null!=e){var n;null!=this.__cbOnTargetDensityChange&&-1!=(n=this.__cbOnTargetDensityChange.indexOf(e))&&(this.__cbOnTargetDensityChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindTargetDensityChange[n])&&r(),this.__cbOnOwnerUnbindTargetDensityChange.splice(n,1)),null!=this.__cbOnceTargetDensityChange&&-1!=(n=this.__cbOnceTargetDensityChange.indexOf(e))&&(this.__cbOnceTargetDensityChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindTargetDensityChange[n])&&r(),this.__cbOnceOwnerUnbindTargetDensityChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindTargetDensityChange){for(var t=0,i=this.__cbOnOwnerUnbindTargetDensityChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindTargetDensityChange[l])&&r()}this.__cbOnOwnerUnbindTargetDensityChange=null}if(null!=this.__cbOnceOwnerUnbindTargetDensityChange){for(t=0,i=this.__cbOnceOwnerUnbindTargetDensityChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindTargetDensityChange[l])&&r()}this.__cbOnceOwnerUnbindTargetDensityChange=null}this.__cbOnTargetDensityChange=null,this.__cbOnceTargetDensityChange=null}},listensTargetDensityChange:function(){return null!=this.__cbOnTargetDensityChange&&0<this.__cbOnTargetDensityChange.length||null!=this.__cbOnceTargetDensityChange&&0<this.__cbOnceTargetDensityChange.length},backgroundAutoruns:null,get_background:function(){var e,n,t=this.unobservedBackground;return null!=U.current&&(e=U.current,null!=(n=this.backgroundAutoruns)||(n=U.getAutorunArray(),null!=(this.backgroundAutoruns=n)))&&e.bindToAutorunArray(n),t},set_background:function(e){var n=this.unobservedBackground;return n!=(this.unobservedBackground=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitBackgroundChange(e,n),null!=(n=this.backgroundAutoruns))&&(this.backgroundAutoruns=null,U.invalidateAutorunArray(n)),e},invalidateBackground:function(){var e=this.unobservedBackground,e=(this.emitBackgroundChange(e,e),this.backgroundAutoruns);null!=e&&(this.backgroundAutoruns=null,U.invalidateAutorunArray(e))},unobservedBackground:null,__cbOnBackgroundChange:null,__cbOnceBackgroundChange:null,__cbOnOwnerUnbindBackgroundChange:null,__cbOnceOwnerUnbindBackgroundChange:null,emitBackgroundChange:function(e,n){var t=0;if(null!=this.__cbOnBackgroundChange&&(t+=this.__cbOnBackgroundChange.length),null!=this.__cbOnceBackgroundChange&&(t+=this.__cbOnceBackgroundChange.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnBackgroundChange)for(var s=0,h=this.__cbOnBackgroundChange.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnBackgroundChange[a],++r):--t}if(null!=this.__cbOnceBackgroundChange){for(var o=null,c=null,s=0,h=this.__cbOnceBackgroundChange.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceBackgroundChange[a],this.__cbOnceBackgroundChange[a]=null,u=this.__cbOnceOwnerUnbindBackgroundChange[a],(this.__cbOnceOwnerUnbindBackgroundChange[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindBackgroundChange[a]),c.push(this.__cbOnceBackgroundChange[a]))}this.__cbOnceOwnerUnbindBackgroundChange=o,this.__cbOnceBackgroundChange=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onBackgroundChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event backgroundChange because owner is destroyed!");var l=function(e){null!=t&&(i.offBackgroundChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindBackgroundChange&&(this.__cbOnOwnerUnbindBackgroundChange=[]),this.__cbOnOwnerUnbindBackgroundChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindBackgroundChange&&(this.__cbOnOwnerUnbindBackgroundChange=[]),this.__cbOnOwnerUnbindBackgroundChange.push(null);null==this.__cbOnBackgroundChange&&(this.__cbOnBackgroundChange=[]),this.__cbOnBackgroundChange.push(t)},onceBackgroundChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event backgroundChange because owner is destroyed!");var l=function(e){null!=t&&(i.offBackgroundChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindBackgroundChange&&(this.__cbOnceOwnerUnbindBackgroundChange=[]),this.__cbOnceOwnerUnbindBackgroundChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindBackgroundChange&&(this.__cbOnceOwnerUnbindBackgroundChange=[]),this.__cbOnceOwnerUnbindBackgroundChange.push(null);null==this.__cbOnceBackgroundChange&&(this.__cbOnceBackgroundChange=[]),this.__cbOnceBackgroundChange.push(t)},offBackgroundChange:function(e){if(null!=e){var n;null!=this.__cbOnBackgroundChange&&-1!=(n=this.__cbOnBackgroundChange.indexOf(e))&&(this.__cbOnBackgroundChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindBackgroundChange[n])&&r(),this.__cbOnOwnerUnbindBackgroundChange.splice(n,1)),null!=this.__cbOnceBackgroundChange&&-1!=(n=this.__cbOnceBackgroundChange.indexOf(e))&&(this.__cbOnceBackgroundChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindBackgroundChange[n])&&r(),this.__cbOnceOwnerUnbindBackgroundChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindBackgroundChange){for(var t=0,i=this.__cbOnOwnerUnbindBackgroundChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindBackgroundChange[l])&&r()}this.__cbOnOwnerUnbindBackgroundChange=null}if(null!=this.__cbOnceOwnerUnbindBackgroundChange){for(t=0,i=this.__cbOnceOwnerUnbindBackgroundChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindBackgroundChange[l])&&r()}this.__cbOnceOwnerUnbindBackgroundChange=null}this.__cbOnBackgroundChange=null,this.__cbOnceBackgroundChange=null}},listensBackgroundChange:function(){return null!=this.__cbOnBackgroundChange&&0<this.__cbOnBackgroundChange.length||null!=this.__cbOnceBackgroundChange&&0<this.__cbOnceBackgroundChange.length},scalingAutoruns:null,get_scaling:function(){var e,n,t=this.unobservedScaling;return null!=U.current&&(e=U.current,null!=(n=this.scalingAutoruns)||(n=U.getAutorunArray(),null!=(this.scalingAutoruns=n)))&&e.bindToAutorunArray(n),t},set_scaling:function(e){var n=this.unobservedScaling;return n!=(this.unobservedScaling=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitScalingChange(e,n),null!=(n=this.scalingAutoruns))&&(this.scalingAutoruns=null,U.invalidateAutorunArray(n)),e},invalidateScaling:function(){var e=this.unobservedScaling,e=(this.emitScalingChange(e,e),this.scalingAutoruns);null!=e&&(this.scalingAutoruns=null,U.invalidateAutorunArray(e))},unobservedScaling:null,__cbOnScalingChange:null,__cbOnceScalingChange:null,__cbOnOwnerUnbindScalingChange:null,__cbOnceOwnerUnbindScalingChange:null,emitScalingChange:function(e,n){var t=0;if(null!=this.__cbOnScalingChange&&(t+=this.__cbOnScalingChange.length),null!=this.__cbOnceScalingChange&&(t+=this.__cbOnceScalingChange.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnScalingChange)for(var s=0,h=this.__cbOnScalingChange.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnScalingChange[a],++r):--t}if(null!=this.__cbOnceScalingChange){for(var o=null,c=null,s=0,h=this.__cbOnceScalingChange.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceScalingChange[a],this.__cbOnceScalingChange[a]=null,u=this.__cbOnceOwnerUnbindScalingChange[a],(this.__cbOnceOwnerUnbindScalingChange[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindScalingChange[a]),c.push(this.__cbOnceScalingChange[a]))}this.__cbOnceOwnerUnbindScalingChange=o,this.__cbOnceScalingChange=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onScalingChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event scalingChange because owner is destroyed!");var l=function(e){null!=t&&(i.offScalingChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindScalingChange&&(this.__cbOnOwnerUnbindScalingChange=[]),this.__cbOnOwnerUnbindScalingChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindScalingChange&&(this.__cbOnOwnerUnbindScalingChange=[]),this.__cbOnOwnerUnbindScalingChange.push(null);null==this.__cbOnScalingChange&&(this.__cbOnScalingChange=[]),this.__cbOnScalingChange.push(t)},onceScalingChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event scalingChange because owner is destroyed!");var l=function(e){null!=t&&(i.offScalingChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindScalingChange&&(this.__cbOnceOwnerUnbindScalingChange=[]),this.__cbOnceOwnerUnbindScalingChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindScalingChange&&(this.__cbOnceOwnerUnbindScalingChange=[]),this.__cbOnceOwnerUnbindScalingChange.push(null);null==this.__cbOnceScalingChange&&(this.__cbOnceScalingChange=[]),this.__cbOnceScalingChange.push(t)},offScalingChange:function(e){if(null!=e){var n;null!=this.__cbOnScalingChange&&-1!=(n=this.__cbOnScalingChange.indexOf(e))&&(this.__cbOnScalingChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindScalingChange[n])&&r(),this.__cbOnOwnerUnbindScalingChange.splice(n,1)),null!=this.__cbOnceScalingChange&&-1!=(n=this.__cbOnceScalingChange.indexOf(e))&&(this.__cbOnceScalingChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindScalingChange[n])&&r(),this.__cbOnceOwnerUnbindScalingChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindScalingChange){for(var t=0,i=this.__cbOnOwnerUnbindScalingChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindScalingChange[l])&&r()}this.__cbOnOwnerUnbindScalingChange=null}if(null!=this.__cbOnceOwnerUnbindScalingChange){for(t=0,i=this.__cbOnceOwnerUnbindScalingChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindScalingChange[l])&&r()}this.__cbOnceOwnerUnbindScalingChange=null}this.__cbOnScalingChange=null,this.__cbOnceScalingChange=null}},listensScalingChange:function(){return null!=this.__cbOnScalingChange&&0<this.__cbOnScalingChange.length||null!=this.__cbOnceScalingChange&&0<this.__cbOnceScalingChange.length},titleAutoruns:null,get_title:function(){var e,n,t=this.unobservedTitle;return null!=U.current&&(e=U.current,null!=(n=this.titleAutoruns)||(n=U.getAutorunArray(),null!=(this.titleAutoruns=n)))&&e.bindToAutorunArray(n),t},set_title:function(e){var n=this.unobservedTitle;return n!=(this.unobservedTitle=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitTitleChange(e,n),null!=(n=this.titleAutoruns))&&(this.titleAutoruns=null,U.invalidateAutorunArray(n)),e},invalidateTitle:function(){var e=this.unobservedTitle,e=(this.emitTitleChange(e,e),this.titleAutoruns);null!=e&&(this.titleAutoruns=null,U.invalidateAutorunArray(e))},unobservedTitle:null,__cbOnTitleChange:null,__cbOnceTitleChange:null,__cbOnOwnerUnbindTitleChange:null,__cbOnceOwnerUnbindTitleChange:null,emitTitleChange:function(e,n){var t=0;if(null!=this.__cbOnTitleChange&&(t+=this.__cbOnTitleChange.length),null!=this.__cbOnceTitleChange&&(t+=this.__cbOnceTitleChange.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnTitleChange)for(var s=0,h=this.__cbOnTitleChange.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnTitleChange[a],++r):--t}if(null!=this.__cbOnceTitleChange){for(var o=null,c=null,s=0,h=this.__cbOnceTitleChange.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceTitleChange[a],this.__cbOnceTitleChange[a]=null,u=this.__cbOnceOwnerUnbindTitleChange[a],(this.__cbOnceOwnerUnbindTitleChange[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindTitleChange[a]),c.push(this.__cbOnceTitleChange[a]))}this.__cbOnceOwnerUnbindTitleChange=o,this.__cbOnceTitleChange=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onTitleChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event titleChange because owner is destroyed!");var l=function(e){null!=t&&(i.offTitleChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindTitleChange&&(this.__cbOnOwnerUnbindTitleChange=[]),this.__cbOnOwnerUnbindTitleChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindTitleChange&&(this.__cbOnOwnerUnbindTitleChange=[]),this.__cbOnOwnerUnbindTitleChange.push(null);null==this.__cbOnTitleChange&&(this.__cbOnTitleChange=[]),this.__cbOnTitleChange.push(t)},onceTitleChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event titleChange because owner is destroyed!");var l=function(e){null!=t&&(i.offTitleChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindTitleChange&&(this.__cbOnceOwnerUnbindTitleChange=[]),this.__cbOnceOwnerUnbindTitleChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindTitleChange&&(this.__cbOnceOwnerUnbindTitleChange=[]),this.__cbOnceOwnerUnbindTitleChange.push(null);null==this.__cbOnceTitleChange&&(this.__cbOnceTitleChange=[]),this.__cbOnceTitleChange.push(t)},offTitleChange:function(e){if(null!=e){var n;null!=this.__cbOnTitleChange&&-1!=(n=this.__cbOnTitleChange.indexOf(e))&&(this.__cbOnTitleChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindTitleChange[n])&&r(),this.__cbOnOwnerUnbindTitleChange.splice(n,1)),null!=this.__cbOnceTitleChange&&-1!=(n=this.__cbOnceTitleChange.indexOf(e))&&(this.__cbOnceTitleChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindTitleChange[n])&&r(),this.__cbOnceOwnerUnbindTitleChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindTitleChange){for(var t=0,i=this.__cbOnOwnerUnbindTitleChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindTitleChange[l])&&r()}this.__cbOnOwnerUnbindTitleChange=null}if(null!=this.__cbOnceOwnerUnbindTitleChange){for(t=0,i=this.__cbOnceOwnerUnbindTitleChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindTitleChange[l])&&r()}this.__cbOnceOwnerUnbindTitleChange=null}this.__cbOnTitleChange=null,this.__cbOnceTitleChange=null}},listensTitleChange:function(){return null!=this.__cbOnTitleChange&&0<this.__cbOnTitleChange.length||null!=this.__cbOnceTitleChange&&0<this.__cbOnceTitleChange.length},fullscreenAutoruns:null,get_fullscreen:function(){var e,n,t=this.unobservedFullscreen;return null!=U.current&&(e=U.current,null!=(n=this.fullscreenAutoruns)||(n=U.getAutorunArray(),null!=(this.fullscreenAutoruns=n)))&&e.bindToAutorunArray(n),t},set_fullscreen:function(e){var n=this.unobservedFullscreen;return n!=(this.unobservedFullscreen=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitFullscreenChange(e,n),null!=(n=this.fullscreenAutoruns))&&(this.fullscreenAutoruns=null,U.invalidateAutorunArray(n)),e},invalidateFullscreen:function(){var e=this.unobservedFullscreen,e=(this.emitFullscreenChange(e,e),this.fullscreenAutoruns);null!=e&&(this.fullscreenAutoruns=null,U.invalidateAutorunArray(e))},unobservedFullscreen:null,__cbOnFullscreenChange:null,__cbOnceFullscreenChange:null,__cbOnOwnerUnbindFullscreenChange:null,__cbOnceOwnerUnbindFullscreenChange:null,emitFullscreenChange:function(e,n){var t=0;if(null!=this.__cbOnFullscreenChange&&(t+=this.__cbOnFullscreenChange.length),null!=this.__cbOnceFullscreenChange&&(t+=this.__cbOnceFullscreenChange.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnFullscreenChange)for(var s=0,h=this.__cbOnFullscreenChange.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnFullscreenChange[a],++r):--t}if(null!=this.__cbOnceFullscreenChange){for(var o=null,c=null,s=0,h=this.__cbOnceFullscreenChange.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceFullscreenChange[a],this.__cbOnceFullscreenChange[a]=null,u=this.__cbOnceOwnerUnbindFullscreenChange[a],(this.__cbOnceOwnerUnbindFullscreenChange[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindFullscreenChange[a]),c.push(this.__cbOnceFullscreenChange[a]))}this.__cbOnceOwnerUnbindFullscreenChange=o,this.__cbOnceFullscreenChange=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onFullscreenChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event fullscreenChange because owner is destroyed!");var l=function(e){null!=t&&(i.offFullscreenChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindFullscreenChange&&(this.__cbOnOwnerUnbindFullscreenChange=[]),this.__cbOnOwnerUnbindFullscreenChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindFullscreenChange&&(this.__cbOnOwnerUnbindFullscreenChange=[]),this.__cbOnOwnerUnbindFullscreenChange.push(null);null==this.__cbOnFullscreenChange&&(this.__cbOnFullscreenChange=[]),this.__cbOnFullscreenChange.push(t)},onceFullscreenChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event fullscreenChange because owner is destroyed!");var l=function(e){null!=t&&(i.offFullscreenChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindFullscreenChange&&(this.__cbOnceOwnerUnbindFullscreenChange=[]),this.__cbOnceOwnerUnbindFullscreenChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindFullscreenChange&&(this.__cbOnceOwnerUnbindFullscreenChange=[]),this.__cbOnceOwnerUnbindFullscreenChange.push(null);null==this.__cbOnceFullscreenChange&&(this.__cbOnceFullscreenChange=[]),this.__cbOnceFullscreenChange.push(t)},offFullscreenChange:function(e){if(null!=e){var n;null!=this.__cbOnFullscreenChange&&-1!=(n=this.__cbOnFullscreenChange.indexOf(e))&&(this.__cbOnFullscreenChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindFullscreenChange[n])&&r(),this.__cbOnOwnerUnbindFullscreenChange.splice(n,1)),null!=this.__cbOnceFullscreenChange&&-1!=(n=this.__cbOnceFullscreenChange.indexOf(e))&&(this.__cbOnceFullscreenChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindFullscreenChange[n])&&r(),this.__cbOnceOwnerUnbindFullscreenChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindFullscreenChange){for(var t=0,i=this.__cbOnOwnerUnbindFullscreenChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindFullscreenChange[l])&&r()}this.__cbOnOwnerUnbindFullscreenChange=null}if(null!=this.__cbOnceOwnerUnbindFullscreenChange){for(t=0,i=this.__cbOnceOwnerUnbindFullscreenChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindFullscreenChange[l])&&r()}this.__cbOnceOwnerUnbindFullscreenChange=null}this.__cbOnFullscreenChange=null,this.__cbOnceFullscreenChange=null}},listensFullscreenChange:function(){return null!=this.__cbOnFullscreenChange&&0<this.__cbOnFullscreenChange.length||null!=this.__cbOnceFullscreenChange&&0<this.__cbOnceFullscreenChange.length},targetFpsAutoruns:null,get_targetFps:function(){var e,n,t=this.unobservedTargetFps;return null!=U.current&&(e=U.current,null!=(n=this.targetFpsAutoruns)||(n=U.getAutorunArray(),null!=(this.targetFpsAutoruns=n)))&&e.bindToAutorunArray(n),t},set_targetFps:function(e){var n=this.unobservedTargetFps;return n!=(this.unobservedTargetFps=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitTargetFpsChange(e,n),null!=(n=this.targetFpsAutoruns))&&(this.targetFpsAutoruns=null,U.invalidateAutorunArray(n)),e},invalidateTargetFps:function(){var e=this.unobservedTargetFps,e=(this.emitTargetFpsChange(e,e),this.targetFpsAutoruns);null!=e&&(this.targetFpsAutoruns=null,U.invalidateAutorunArray(e))},unobservedTargetFps:null,__cbOnTargetFpsChange:null,__cbOnceTargetFpsChange:null,__cbOnOwnerUnbindTargetFpsChange:null,__cbOnceOwnerUnbindTargetFpsChange:null,emitTargetFpsChange:function(e,n){var t=0;if(null!=this.__cbOnTargetFpsChange&&(t+=this.__cbOnTargetFpsChange.length),null!=this.__cbOnceTargetFpsChange&&(t+=this.__cbOnceTargetFpsChange.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnTargetFpsChange)for(var s=0,h=this.__cbOnTargetFpsChange.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnTargetFpsChange[a],++r):--t}if(null!=this.__cbOnceTargetFpsChange){for(var o=null,c=null,s=0,h=this.__cbOnceTargetFpsChange.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceTargetFpsChange[a],this.__cbOnceTargetFpsChange[a]=null,u=this.__cbOnceOwnerUnbindTargetFpsChange[a],(this.__cbOnceOwnerUnbindTargetFpsChange[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindTargetFpsChange[a]),c.push(this.__cbOnceTargetFpsChange[a]))}this.__cbOnceOwnerUnbindTargetFpsChange=o,this.__cbOnceTargetFpsChange=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onTargetFpsChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event targetFpsChange because owner is destroyed!");var l=function(e){null!=t&&(i.offTargetFpsChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindTargetFpsChange&&(this.__cbOnOwnerUnbindTargetFpsChange=[]),this.__cbOnOwnerUnbindTargetFpsChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindTargetFpsChange&&(this.__cbOnOwnerUnbindTargetFpsChange=[]),this.__cbOnOwnerUnbindTargetFpsChange.push(null);null==this.__cbOnTargetFpsChange&&(this.__cbOnTargetFpsChange=[]),this.__cbOnTargetFpsChange.push(t)},onceTargetFpsChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event targetFpsChange because owner is destroyed!");var l=function(e){null!=t&&(i.offTargetFpsChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindTargetFpsChange&&(this.__cbOnceOwnerUnbindTargetFpsChange=[]),this.__cbOnceOwnerUnbindTargetFpsChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindTargetFpsChange&&(this.__cbOnceOwnerUnbindTargetFpsChange=[]),this.__cbOnceOwnerUnbindTargetFpsChange.push(null);null==this.__cbOnceTargetFpsChange&&(this.__cbOnceTargetFpsChange=[]),this.__cbOnceTargetFpsChange.push(t)},offTargetFpsChange:function(e){if(null!=e){var n;null!=this.__cbOnTargetFpsChange&&-1!=(n=this.__cbOnTargetFpsChange.indexOf(e))&&(this.__cbOnTargetFpsChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindTargetFpsChange[n])&&r(),this.__cbOnOwnerUnbindTargetFpsChange.splice(n,1)),null!=this.__cbOnceTargetFpsChange&&-1!=(n=this.__cbOnceTargetFpsChange.indexOf(e))&&(this.__cbOnceTargetFpsChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindTargetFpsChange[n])&&r(),this.__cbOnceOwnerUnbindTargetFpsChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindTargetFpsChange){for(var t=0,i=this.__cbOnOwnerUnbindTargetFpsChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindTargetFpsChange[l])&&r()}this.__cbOnOwnerUnbindTargetFpsChange=null}if(null!=this.__cbOnceOwnerUnbindTargetFpsChange){for(t=0,i=this.__cbOnceOwnerUnbindTargetFpsChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindTargetFpsChange[l])&&r()}this.__cbOnceOwnerUnbindTargetFpsChange=null}this.__cbOnTargetFpsChange=null,this.__cbOnceTargetFpsChange=null}},listensTargetFpsChange:function(){return null!=this.__cbOnTargetFpsChange&&0<this.__cbOnTargetFpsChange.length||null!=this.__cbOnceTargetFpsChange&&0<this.__cbOnceTargetFpsChange.length},maxDeltaAutoruns:null,get_maxDelta:function(){var e,n,t=this.unobservedMaxDelta;return null!=U.current&&(e=U.current,null!=(n=this.maxDeltaAutoruns)||(n=U.getAutorunArray(),null!=(this.maxDeltaAutoruns=n)))&&e.bindToAutorunArray(n),t},set_maxDelta:function(e){var n=this.unobservedMaxDelta;return n!=(this.unobservedMaxDelta=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitMaxDeltaChange(e,n),null!=(n=this.maxDeltaAutoruns))&&(this.maxDeltaAutoruns=null,U.invalidateAutorunArray(n)),e},invalidateMaxDelta:function(){var e=this.unobservedMaxDelta,e=(this.emitMaxDeltaChange(e,e),this.maxDeltaAutoruns);null!=e&&(this.maxDeltaAutoruns=null,U.invalidateAutorunArray(e))},unobservedMaxDelta:null,__cbOnMaxDeltaChange:null,__cbOnceMaxDeltaChange:null,__cbOnOwnerUnbindMaxDeltaChange:null,__cbOnceOwnerUnbindMaxDeltaChange:null,emitMaxDeltaChange:function(e,n){var t=0;if(null!=this.__cbOnMaxDeltaChange&&(t+=this.__cbOnMaxDeltaChange.length),null!=this.__cbOnceMaxDeltaChange&&(t+=this.__cbOnceMaxDeltaChange.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnMaxDeltaChange)for(var s=0,h=this.__cbOnMaxDeltaChange.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnMaxDeltaChange[a],++r):--t}if(null!=this.__cbOnceMaxDeltaChange){for(var o=null,c=null,s=0,h=this.__cbOnceMaxDeltaChange.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceMaxDeltaChange[a],this.__cbOnceMaxDeltaChange[a]=null,u=this.__cbOnceOwnerUnbindMaxDeltaChange[a],(this.__cbOnceOwnerUnbindMaxDeltaChange[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindMaxDeltaChange[a]),c.push(this.__cbOnceMaxDeltaChange[a]))}this.__cbOnceOwnerUnbindMaxDeltaChange=o,this.__cbOnceMaxDeltaChange=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onMaxDeltaChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event maxDeltaChange because owner is destroyed!");var l=function(e){null!=t&&(i.offMaxDeltaChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindMaxDeltaChange&&(this.__cbOnOwnerUnbindMaxDeltaChange=[]),this.__cbOnOwnerUnbindMaxDeltaChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindMaxDeltaChange&&(this.__cbOnOwnerUnbindMaxDeltaChange=[]),this.__cbOnOwnerUnbindMaxDeltaChange.push(null);null==this.__cbOnMaxDeltaChange&&(this.__cbOnMaxDeltaChange=[]),this.__cbOnMaxDeltaChange.push(t)},onceMaxDeltaChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event maxDeltaChange because owner is destroyed!");var l=function(e){null!=t&&(i.offMaxDeltaChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindMaxDeltaChange&&(this.__cbOnceOwnerUnbindMaxDeltaChange=[]),this.__cbOnceOwnerUnbindMaxDeltaChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindMaxDeltaChange&&(this.__cbOnceOwnerUnbindMaxDeltaChange=[]),this.__cbOnceOwnerUnbindMaxDeltaChange.push(null);null==this.__cbOnceMaxDeltaChange&&(this.__cbOnceMaxDeltaChange=[]),this.__cbOnceMaxDeltaChange.push(t)},offMaxDeltaChange:function(e){if(null!=e){var n;null!=this.__cbOnMaxDeltaChange&&-1!=(n=this.__cbOnMaxDeltaChange.indexOf(e))&&(this.__cbOnMaxDeltaChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindMaxDeltaChange[n])&&r(),this.__cbOnOwnerUnbindMaxDeltaChange.splice(n,1)),null!=this.__cbOnceMaxDeltaChange&&-1!=(n=this.__cbOnceMaxDeltaChange.indexOf(e))&&(this.__cbOnceMaxDeltaChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindMaxDeltaChange[n])&&r(),this.__cbOnceOwnerUnbindMaxDeltaChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindMaxDeltaChange){for(var t=0,i=this.__cbOnOwnerUnbindMaxDeltaChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindMaxDeltaChange[l])&&r()}this.__cbOnOwnerUnbindMaxDeltaChange=null}if(null!=this.__cbOnceOwnerUnbindMaxDeltaChange){for(t=0,i=this.__cbOnceOwnerUnbindMaxDeltaChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindMaxDeltaChange[l])&&r()}this.__cbOnceOwnerUnbindMaxDeltaChange=null}this.__cbOnMaxDeltaChange=null,this.__cbOnceMaxDeltaChange=null}},listensMaxDeltaChange:function(){return null!=this.__cbOnMaxDeltaChange&&0<this.__cbOnMaxDeltaChange.length||null!=this.__cbOnceMaxDeltaChange&&0<this.__cbOnceMaxDeltaChange.length},overrideDeltaAutoruns:null,get_overrideDelta:function(){var e,n,t=this.unobservedOverrideDelta;return null!=U.current&&(e=U.current,null!=(n=this.overrideDeltaAutoruns)||(n=U.getAutorunArray(),null!=(this.overrideDeltaAutoruns=n)))&&e.bindToAutorunArray(n),t},set_overrideDelta:function(e){var n=this.unobservedOverrideDelta;return n!=(this.unobservedOverrideDelta=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitOverrideDeltaChange(e,n),null!=(n=this.overrideDeltaAutoruns))&&(this.overrideDeltaAutoruns=null,U.invalidateAutorunArray(n)),e},invalidateOverrideDelta:function(){var e=this.unobservedOverrideDelta,e=(this.emitOverrideDeltaChange(e,e),this.overrideDeltaAutoruns);null!=e&&(this.overrideDeltaAutoruns=null,U.invalidateAutorunArray(e))},unobservedOverrideDelta:null,__cbOnOverrideDeltaChange:null,__cbOnceOverrideDeltaChange:null,__cbOnOwnerUnbindOverrideDeltaChange:null,__cbOnceOwnerUnbindOverrideDeltaChange:null,emitOverrideDeltaChange:function(e,n){var t=0;if(null!=this.__cbOnOverrideDeltaChange&&(t+=this.__cbOnOverrideDeltaChange.length),null!=this.__cbOnceOverrideDeltaChange&&(t+=this.__cbOnceOverrideDeltaChange.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnOverrideDeltaChange)for(var s=0,h=this.__cbOnOverrideDeltaChange.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnOverrideDeltaChange[a],++r):--t}if(null!=this.__cbOnceOverrideDeltaChange){for(var o=null,c=null,s=0,h=this.__cbOnceOverrideDeltaChange.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceOverrideDeltaChange[a],this.__cbOnceOverrideDeltaChange[a]=null,u=this.__cbOnceOwnerUnbindOverrideDeltaChange[a],(this.__cbOnceOwnerUnbindOverrideDeltaChange[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindOverrideDeltaChange[a]),c.push(this.__cbOnceOverrideDeltaChange[a]))}this.__cbOnceOwnerUnbindOverrideDeltaChange=o,this.__cbOnceOverrideDeltaChange=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onOverrideDeltaChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event overrideDeltaChange because owner is destroyed!");var l=function(e){null!=t&&(i.offOverrideDeltaChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindOverrideDeltaChange&&(this.__cbOnOwnerUnbindOverrideDeltaChange=[]),this.__cbOnOwnerUnbindOverrideDeltaChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindOverrideDeltaChange&&(this.__cbOnOwnerUnbindOverrideDeltaChange=[]),this.__cbOnOwnerUnbindOverrideDeltaChange.push(null);null==this.__cbOnOverrideDeltaChange&&(this.__cbOnOverrideDeltaChange=[]),this.__cbOnOverrideDeltaChange.push(t)},onceOverrideDeltaChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event overrideDeltaChange because owner is destroyed!");var l=function(e){null!=t&&(i.offOverrideDeltaChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindOverrideDeltaChange&&(this.__cbOnceOwnerUnbindOverrideDeltaChange=[]),this.__cbOnceOwnerUnbindOverrideDeltaChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindOverrideDeltaChange&&(this.__cbOnceOwnerUnbindOverrideDeltaChange=[]),this.__cbOnceOwnerUnbindOverrideDeltaChange.push(null);null==this.__cbOnceOverrideDeltaChange&&(this.__cbOnceOverrideDeltaChange=[]),this.__cbOnceOverrideDeltaChange.push(t)},offOverrideDeltaChange:function(e){if(null!=e){var n;null!=this.__cbOnOverrideDeltaChange&&-1!=(n=this.__cbOnOverrideDeltaChange.indexOf(e))&&(this.__cbOnOverrideDeltaChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindOverrideDeltaChange[n])&&r(),this.__cbOnOwnerUnbindOverrideDeltaChange.splice(n,1)),null!=this.__cbOnceOverrideDeltaChange&&-1!=(n=this.__cbOnceOverrideDeltaChange.indexOf(e))&&(this.__cbOnceOverrideDeltaChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindOverrideDeltaChange[n])&&r(),this.__cbOnceOwnerUnbindOverrideDeltaChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindOverrideDeltaChange){for(var t=0,i=this.__cbOnOwnerUnbindOverrideDeltaChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindOverrideDeltaChange[l])&&r()}this.__cbOnOwnerUnbindOverrideDeltaChange=null}if(null!=this.__cbOnceOwnerUnbindOverrideDeltaChange){for(t=0,i=this.__cbOnceOwnerUnbindOverrideDeltaChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindOverrideDeltaChange[l])&&r()}this.__cbOnceOwnerUnbindOverrideDeltaChange=null}this.__cbOnOverrideDeltaChange=null,this.__cbOnceOverrideDeltaChange=null}},listensOverrideDeltaChange:function(){return null!=this.__cbOnOverrideDeltaChange&&0<this.__cbOnOverrideDeltaChange.length||null!=this.__cbOnceOverrideDeltaChange&&0<this.__cbOnceOverrideDeltaChange.length},preventDefaultMouseWheelAutoruns:null,get_preventDefaultMouseWheel:function(){var e,n,t=this.unobservedPreventDefaultMouseWheel;return null!=U.current&&(e=U.current,null!=(n=this.preventDefaultMouseWheelAutoruns)||(n=U.getAutorunArray(),null!=(this.preventDefaultMouseWheelAutoruns=n)))&&e.bindToAutorunArray(n),t},set_preventDefaultMouseWheel:function(e){var n=this.unobservedPreventDefaultMouseWheel;return n!=(this.unobservedPreventDefaultMouseWheel=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitPreventDefaultMouseWheelChange(e,n),null!=(n=this.preventDefaultMouseWheelAutoruns))&&(this.preventDefaultMouseWheelAutoruns=null,U.invalidateAutorunArray(n)),e},invalidatePreventDefaultMouseWheel:function(){var e=this.unobservedPreventDefaultMouseWheel,e=(this.emitPreventDefaultMouseWheelChange(e,e),this.preventDefaultMouseWheelAutoruns);null!=e&&(this.preventDefaultMouseWheelAutoruns=null,U.invalidateAutorunArray(e))},unobservedPreventDefaultMouseWheel:null,__cbOnPreventDefaultMouseWheelChange:null,__cbOncePreventDefaultMouseWheelChange:null,__cbOnOwnerUnbindPreventDefaultMouseWheelChange:null,__cbOnceOwnerUnbindPreventDefaultMouseWheelChange:null,emitPreventDefaultMouseWheelChange:function(e,n){var t=0;if(null!=this.__cbOnPreventDefaultMouseWheelChange&&(t+=this.__cbOnPreventDefaultMouseWheelChange.length),null!=this.__cbOncePreventDefaultMouseWheelChange&&(t+=this.__cbOncePreventDefaultMouseWheelChange.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnPreventDefaultMouseWheelChange)for(var s=0,h=this.__cbOnPreventDefaultMouseWheelChange.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnPreventDefaultMouseWheelChange[a],++r):--t}if(null!=this.__cbOncePreventDefaultMouseWheelChange){for(var o=null,c=null,s=0,h=this.__cbOncePreventDefaultMouseWheelChange.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOncePreventDefaultMouseWheelChange[a],this.__cbOncePreventDefaultMouseWheelChange[a]=null,u=this.__cbOnceOwnerUnbindPreventDefaultMouseWheelChange[a],(this.__cbOnceOwnerUnbindPreventDefaultMouseWheelChange[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindPreventDefaultMouseWheelChange[a]),c.push(this.__cbOncePreventDefaultMouseWheelChange[a]))}this.__cbOnceOwnerUnbindPreventDefaultMouseWheelChange=o,this.__cbOncePreventDefaultMouseWheelChange=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onPreventDefaultMouseWheelChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event preventDefaultMouseWheelChange because owner is destroyed!");var l=function(e){null!=t&&(i.offPreventDefaultMouseWheelChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindPreventDefaultMouseWheelChange&&(this.__cbOnOwnerUnbindPreventDefaultMouseWheelChange=[]),this.__cbOnOwnerUnbindPreventDefaultMouseWheelChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindPreventDefaultMouseWheelChange&&(this.__cbOnOwnerUnbindPreventDefaultMouseWheelChange=[]),this.__cbOnOwnerUnbindPreventDefaultMouseWheelChange.push(null);null==this.__cbOnPreventDefaultMouseWheelChange&&(this.__cbOnPreventDefaultMouseWheelChange=[]),this.__cbOnPreventDefaultMouseWheelChange.push(t)},oncePreventDefaultMouseWheelChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event preventDefaultMouseWheelChange because owner is destroyed!");var l=function(e){null!=t&&(i.offPreventDefaultMouseWheelChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindPreventDefaultMouseWheelChange&&(this.__cbOnceOwnerUnbindPreventDefaultMouseWheelChange=[]),this.__cbOnceOwnerUnbindPreventDefaultMouseWheelChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindPreventDefaultMouseWheelChange&&(this.__cbOnceOwnerUnbindPreventDefaultMouseWheelChange=[]),this.__cbOnceOwnerUnbindPreventDefaultMouseWheelChange.push(null);null==this.__cbOncePreventDefaultMouseWheelChange&&(this.__cbOncePreventDefaultMouseWheelChange=[]),this.__cbOncePreventDefaultMouseWheelChange.push(t)},offPreventDefaultMouseWheelChange:function(e){if(null!=e){var n;null!=this.__cbOnPreventDefaultMouseWheelChange&&-1!=(n=this.__cbOnPreventDefaultMouseWheelChange.indexOf(e))&&(this.__cbOnPreventDefaultMouseWheelChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindPreventDefaultMouseWheelChange[n])&&r(),this.__cbOnOwnerUnbindPreventDefaultMouseWheelChange.splice(n,1)),null!=this.__cbOncePreventDefaultMouseWheelChange&&-1!=(n=this.__cbOncePreventDefaultMouseWheelChange.indexOf(e))&&(this.__cbOncePreventDefaultMouseWheelChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindPreventDefaultMouseWheelChange[n])&&r(),this.__cbOnceOwnerUnbindPreventDefaultMouseWheelChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindPreventDefaultMouseWheelChange){for(var t=0,i=this.__cbOnOwnerUnbindPreventDefaultMouseWheelChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindPreventDefaultMouseWheelChange[l])&&r()}this.__cbOnOwnerUnbindPreventDefaultMouseWheelChange=null}if(null!=this.__cbOnceOwnerUnbindPreventDefaultMouseWheelChange){for(t=0,i=this.__cbOnceOwnerUnbindPreventDefaultMouseWheelChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindPreventDefaultMouseWheelChange[l])&&r()}this.__cbOnceOwnerUnbindPreventDefaultMouseWheelChange=null}this.__cbOnPreventDefaultMouseWheelChange=null,this.__cbOncePreventDefaultMouseWheelChange=null}},listensPreventDefaultMouseWheelChange:function(){return null!=this.__cbOnPreventDefaultMouseWheelChange&&0<this.__cbOnPreventDefaultMouseWheelChange.length||null!=this.__cbOncePreventDefaultMouseWheelChange&&0<this.__cbOncePreventDefaultMouseWheelChange.length},preventDefaultTouchesAutoruns:null,get_preventDefaultTouches:function(){var e,n,t=this.unobservedPreventDefaultTouches;return null!=U.current&&(e=U.current,null!=(n=this.preventDefaultTouchesAutoruns)||(n=U.getAutorunArray(),null!=(this.preventDefaultTouchesAutoruns=n)))&&e.bindToAutorunArray(n),t},set_preventDefaultTouches:function(e){var n=this.unobservedPreventDefaultTouches;return n!=(this.unobservedPreventDefaultTouches=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitPreventDefaultTouchesChange(e,n),null!=(n=this.preventDefaultTouchesAutoruns))&&(this.preventDefaultTouchesAutoruns=null,U.invalidateAutorunArray(n)),e},invalidatePreventDefaultTouches:function(){var e=this.unobservedPreventDefaultTouches,e=(this.emitPreventDefaultTouchesChange(e,e),this.preventDefaultTouchesAutoruns);null!=e&&(this.preventDefaultTouchesAutoruns=null,U.invalidateAutorunArray(e))},unobservedPreventDefaultTouches:null,__cbOnPreventDefaultTouchesChange:null,__cbOncePreventDefaultTouchesChange:null,__cbOnOwnerUnbindPreventDefaultTouchesChange:null,__cbOnceOwnerUnbindPreventDefaultTouchesChange:null,emitPreventDefaultTouchesChange:function(e,n){var t=0;if(null!=this.__cbOnPreventDefaultTouchesChange&&(t+=this.__cbOnPreventDefaultTouchesChange.length),null!=this.__cbOncePreventDefaultTouchesChange&&(t+=this.__cbOncePreventDefaultTouchesChange.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnPreventDefaultTouchesChange)for(var s=0,h=this.__cbOnPreventDefaultTouchesChange.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnPreventDefaultTouchesChange[a],++r):--t}if(null!=this.__cbOncePreventDefaultTouchesChange){for(var o=null,c=null,s=0,h=this.__cbOncePreventDefaultTouchesChange.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOncePreventDefaultTouchesChange[a],this.__cbOncePreventDefaultTouchesChange[a]=null,u=this.__cbOnceOwnerUnbindPreventDefaultTouchesChange[a],(this.__cbOnceOwnerUnbindPreventDefaultTouchesChange[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindPreventDefaultTouchesChange[a]),c.push(this.__cbOncePreventDefaultTouchesChange[a]))}this.__cbOnceOwnerUnbindPreventDefaultTouchesChange=o,this.__cbOncePreventDefaultTouchesChange=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onPreventDefaultTouchesChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event preventDefaultTouchesChange because owner is destroyed!");var l=function(e){null!=t&&(i.offPreventDefaultTouchesChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindPreventDefaultTouchesChange&&(this.__cbOnOwnerUnbindPreventDefaultTouchesChange=[]),this.__cbOnOwnerUnbindPreventDefaultTouchesChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindPreventDefaultTouchesChange&&(this.__cbOnOwnerUnbindPreventDefaultTouchesChange=[]),this.__cbOnOwnerUnbindPreventDefaultTouchesChange.push(null);null==this.__cbOnPreventDefaultTouchesChange&&(this.__cbOnPreventDefaultTouchesChange=[]),this.__cbOnPreventDefaultTouchesChange.push(t)},oncePreventDefaultTouchesChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event preventDefaultTouchesChange because owner is destroyed!");var l=function(e){null!=t&&(i.offPreventDefaultTouchesChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindPreventDefaultTouchesChange&&(this.__cbOnceOwnerUnbindPreventDefaultTouchesChange=[]),this.__cbOnceOwnerUnbindPreventDefaultTouchesChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindPreventDefaultTouchesChange&&(this.__cbOnceOwnerUnbindPreventDefaultTouchesChange=[]),this.__cbOnceOwnerUnbindPreventDefaultTouchesChange.push(null);null==this.__cbOncePreventDefaultTouchesChange&&(this.__cbOncePreventDefaultTouchesChange=[]),this.__cbOncePreventDefaultTouchesChange.push(t)},offPreventDefaultTouchesChange:function(e){if(null!=e){var n;null!=this.__cbOnPreventDefaultTouchesChange&&-1!=(n=this.__cbOnPreventDefaultTouchesChange.indexOf(e))&&(this.__cbOnPreventDefaultTouchesChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindPreventDefaultTouchesChange[n])&&r(),this.__cbOnOwnerUnbindPreventDefaultTouchesChange.splice(n,1)),null!=this.__cbOncePreventDefaultTouchesChange&&-1!=(n=this.__cbOncePreventDefaultTouchesChange.indexOf(e))&&(this.__cbOncePreventDefaultTouchesChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindPreventDefaultTouchesChange[n])&&r(),this.__cbOnceOwnerUnbindPreventDefaultTouchesChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindPreventDefaultTouchesChange){for(var t=0,i=this.__cbOnOwnerUnbindPreventDefaultTouchesChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindPreventDefaultTouchesChange[l])&&r()}this.__cbOnOwnerUnbindPreventDefaultTouchesChange=null}if(null!=this.__cbOnceOwnerUnbindPreventDefaultTouchesChange){for(t=0,i=this.__cbOnceOwnerUnbindPreventDefaultTouchesChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindPreventDefaultTouchesChange[l])&&r()}this.__cbOnceOwnerUnbindPreventDefaultTouchesChange=null}this.__cbOnPreventDefaultTouchesChange=null,this.__cbOncePreventDefaultTouchesChange=null}},listensPreventDefaultTouchesChange:function(){return null!=this.__cbOnPreventDefaultTouchesChange&&0<this.__cbOnPreventDefaultTouchesChange.length||null!=this.__cbOncePreventDefaultTouchesChange&&0<this.__cbOncePreventDefaultTouchesChange.length},orientation:null,collections:null,appInfo:null,antialiasing:null,resizable:null,assetsPath:null,backend:null,defaultFont:null,defaultShader:null,unbindEvents:function(){this.offObservedDirty(),this.offTargetWidthChange(),this.offTargetHeightChange(),this.offWindowWidthChange(),this.offWindowHeightChange(),this.offTargetDensityChange(),this.offBackgroundChange(),this.offScalingChange(),this.offTitleChange(),this.offFullscreenChange(),this.offTargetFpsChange(),this.offMaxDeltaChange(),this.offOverrideDeltaChange(),this.offPreventDefaultMouseWheelChange(),this.offPreventDefaultTouchesChange()},__class__:it,__properties__:{set_preventDefaultTouches:"set_preventDefaultTouches",get_preventDefaultTouches:"get_preventDefaultTouches",set_preventDefaultMouseWheel:"set_preventDefaultMouseWheel",get_preventDefaultMouseWheel:"get_preventDefaultMouseWheel",set_overrideDelta:"set_overrideDelta",get_overrideDelta:"get_overrideDelta",set_maxDelta:"set_maxDelta",get_maxDelta:"get_maxDelta",set_targetFps:"set_targetFps",get_targetFps:"get_targetFps",set_fullscreen:"set_fullscreen",get_fullscreen:"get_fullscreen",set_title:"set_title",get_title:"get_title",set_scaling:"set_scaling",get_scaling:"get_scaling",set_background:"set_background",get_background:"get_background",set_targetDensity:"set_targetDensity",get_targetDensity:"get_targetDensity",set_windowHeight:"set_windowHeight",get_windowHeight:"get_windowHeight",set_windowWidth:"set_windowWidth",get_windowWidth:"get_windowWidth",set_targetHeight:"set_targetHeight",get_targetHeight:"get_targetHeight",set_targetWidth:"set_targetWidth",get_targetWidth:"get_targetWidth"}},(E["ceramic.Shader"]=g1).__name__="ceramic.Shader",g1.__super__=j,g1.prototype=$extend(j.prototype,{backendItem:null,set_backendItem:function(e){if(this.backendItem!=e&&null!=(this.backendItem=e)){he.app.backend.shaders;var n=0,t=e.customAttributes;if(null!=t)for(var i=0,l=t.length;i<l;)n+=t[i++].size;this.customFloatAttributesSize=n}return e},asset:null,attributes:null,baseAttributes:null,customAttributes:null,textureIdAttribute:null,customFloatAttributesSize:null,textureSlots:null,usedTextures:null,destroy:function(){this._lifecycleState<=-2||(this._lifecycleState=-2,this._lifecycleState=-1,j.prototype.destroy.call(this),null!=this.asset&&this.asset.destroy(),null!=this.backendItem&&(he.app.backend.shaders,this.backendItem.destroy(),this.set_backendItem(null)),this.attributes=null)},clone:function(){he.app.backend.shaders;var e=this.backendItem.clone(),n=new g1(this.customAttributes,this.baseAttributes,this.textureIdAttribute);return n.set_backendItem(e),n},setInt:function(e,n){he.app.backend.shaders;this.backendItem.uniforms.setInt(e,n)},setFloat:function(e,n){he.app.backend.shaders;this.backendItem.uniforms.setFloat(e,n)},setVec2:function(e,n,t){he.app.backend.shaders;this.backendItem.uniforms.setVector2(e,n,t)},setFloatArray:function(e,n){he.app.backend.shaders;this.backendItem.uniforms.setFloatArray(e,new Float32Array(n))},resolveTextureSlot:function(e){return-1},setTexture:function(e,n,t){(n=null==n?-1:n)<0&&(n=this.resolveTextureSlot(e)),null==this.textureSlots&&(this.textureSlots=new An,this.usedTextures=[]);var i=this.textureSlots.get(n);null!=i&&this.usedTextures.splice(this.usedTextures.indexOf(i),1),this.textureSlots.set(n,t),null!=t&&this.usedTextures.push(t),he.app.backend.shaders;this.backendItem.uniforms.setTexture(e,n,null!=t?t.backendItem:null)},setMat2:function(e,n,t,i,l){he.app.backend.shaders;this.backendItem.uniforms.setMatrix2(e,new Float32Array([n,t,i,l]))},toString:function(){var e;return null!=this.id?(e=this.id,z.startsWith(e,"shader:")&&(e=se.substr(e,7,null)),null!=this.asset&&null!=this.asset.options.vertId||null!=this.asset.options.fragId?"Shader("+e+" "+(null!=this.asset.options.vertId?this.asset.options.vertId:"default")+" "+(null!=this.asset.options.fragId?this.asset.options.fragId:"default")+")":"Shader("+e+")"):"Shader()"},__class__:g1,__properties__:$extend(j.prototype.__properties__,{set_backendItem:"set_backendItem"})}),function(e,n,t){this.shaderClass=null,this.unobservedShader=null,this.shaderAutoruns=null,Ea.call(this,"shader",e,n,t)}),rt=((E["ceramic.ShaderAsset"]=lt).__name__="ceramic.ShaderAsset",lt.__super__=Ea,lt.prototype=$extend(Ea.prototype,{shaderAutoruns:null,get_shader:function(){var e,n,t=this.unobservedShader;return null!=U.current&&(e=U.current,null!=(n=this.shaderAutoruns)||(n=U.getAutorunArray(),null!=(this.shaderAutoruns=n)))&&e.bindToAutorunArray(n),t},set_shader:function(e){var n=this.unobservedShader;return n!=(this.unobservedShader=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitShaderChange(e,n),null!=(n=this.shaderAutoruns))&&(this.shaderAutoruns=null,U.invalidateAutorunArray(n)),e},invalidateShader:function(){var e=this.unobservedShader,e=(this.emitShaderChange(e,e),this.shaderAutoruns);null!=e&&(this.shaderAutoruns=null,U.invalidateAutorunArray(e))},unobservedShader:null,__cbOnShaderChange:null,__cbOnceShaderChange:null,__cbOnOwnerUnbindShaderChange:null,__cbOnceOwnerUnbindShaderChange:null,emitShaderChange:function(e,n){var t=0;if(null!=this.__cbOnShaderChange&&(t+=this.__cbOnShaderChange.length),null!=this.__cbOnceShaderChange&&(t+=this.__cbOnceShaderChange.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnShaderChange)for(var s=0,h=this.__cbOnShaderChange.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnShaderChange[a],++r):--t}if(null!=this.__cbOnceShaderChange){for(var o=null,c=null,s=0,h=this.__cbOnceShaderChange.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceShaderChange[a],this.__cbOnceShaderChange[a]=null,u=this.__cbOnceOwnerUnbindShaderChange[a],(this.__cbOnceOwnerUnbindShaderChange[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindShaderChange[a]),c.push(this.__cbOnceShaderChange[a]))}this.__cbOnceOwnerUnbindShaderChange=o,this.__cbOnceShaderChange=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onShaderChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event shaderChange because owner is destroyed!");var l=function(e){null!=t&&(i.offShaderChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindShaderChange&&(this.__cbOnOwnerUnbindShaderChange=[]),this.__cbOnOwnerUnbindShaderChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindShaderChange&&(this.__cbOnOwnerUnbindShaderChange=[]),this.__cbOnOwnerUnbindShaderChange.push(null);null==this.__cbOnShaderChange&&(this.__cbOnShaderChange=[]),this.__cbOnShaderChange.push(t)},onceShaderChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event shaderChange because owner is destroyed!");var l=function(e){null!=t&&(i.offShaderChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindShaderChange&&(this.__cbOnceOwnerUnbindShaderChange=[]),this.__cbOnceOwnerUnbindShaderChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindShaderChange&&(this.__cbOnceOwnerUnbindShaderChange=[]),this.__cbOnceOwnerUnbindShaderChange.push(null);null==this.__cbOnceShaderChange&&(this.__cbOnceShaderChange=[]),this.__cbOnceShaderChange.push(t)},offShaderChange:function(e){if(null!=e){var n;null!=this.__cbOnShaderChange&&-1!=(n=this.__cbOnShaderChange.indexOf(e))&&(this.__cbOnShaderChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindShaderChange[n])&&r(),this.__cbOnOwnerUnbindShaderChange.splice(n,1)),null!=this.__cbOnceShaderChange&&-1!=(n=this.__cbOnceShaderChange.indexOf(e))&&(this.__cbOnceShaderChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindShaderChange[n])&&r(),this.__cbOnceOwnerUnbindShaderChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindShaderChange){for(var t=0,i=this.__cbOnOwnerUnbindShaderChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindShaderChange[l])&&r()}this.__cbOnOwnerUnbindShaderChange=null}if(null!=this.__cbOnceOwnerUnbindShaderChange){for(t=0,i=this.__cbOnceOwnerUnbindShaderChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindShaderChange[l])&&r()}this.__cbOnceOwnerUnbindShaderChange=null}this.__cbOnShaderChange=null,this.__cbOnceShaderChange=null}},listensShaderChange:function(){return null!=this.__cbOnShaderChange&&0<this.__cbOnShaderChange.length||null!=this.__cbOnceShaderChange&&0<this.__cbOnceShaderChange.length},shaderClass:null,load:function(){var n=this;if(this.set_status(Fe.LOADING),null==this.path)he.app.logger.warning("Cannot load shader asset if path is undefined.",{fileName:"../../../../ceramic/runtime/src/ceramic/ShaderAsset.hx",lineNumber:81,className:"ceramic.ShaderAsset",methodName:"load"}),this.set_status(Fe.BROKEN),this.emitComplete(!1);else{var t=null,e=null,i=null,l=null;if(null==this.shaderClass){if(e=[new rt(3,"vertexPosition"),new rt(2,"vertexTCoord"),new rt(4,"vertexColor")],l=new rt(1,"vertexTextureId"),null!=this.options.customAttributes)for(var i=[],r=this.options.customAttributes,s=0,h=r.length;s<h;){var a=r[s++];i.push(new rt(a.size,a.name))}null!=this.owner&&(this.owner.immediate,this.owner.loadMethod),t=new g1(e,i,l)}else e=(t=B.createInstance(this.shaderClass,[])).baseAttributes,i=t.customAttributes,l=t.textureIdAttribute;var o=this.path;z.startsWith(o,"shaders_")&&(o=se.substr(o,"shaders_".length,null)),null!=l?he.app.logger.info("Load shader "+o+" (multi-texture)",{fileName:"../../../../ceramic/runtime/src/ceramic/ShaderAsset.hx",lineNumber:137,className:"ceramic.ShaderAsset",methodName:"load"}):he.app.logger.info("Load shader "+o,{fileName:"../../../../ceramic/runtime/src/ceramic/ShaderAsset.hx",lineNumber:140,className:"ceramic.ShaderAsset",methodName:"load"}),he.app.backend.shaders.load(fe.realAssetPath(this.path,this.runtimeAssets),e,i,l,function(e){null==e?(n.set_status(Fe.BROKEN),null!=t&&(t.destroy(),t=null),he.app.logger.error("Failed to load shader at path: "+n.path,{fileName:"../../../../ceramic/runtime/src/ceramic/ShaderAsset.hx",lineNumber:151,className:"ceramic.ShaderAsset",methodName:"load"}),n.emitComplete(!1)):(t.set_backendItem(e),n.set_shader(t),(n.get_shader().asset=n).get_shader().id="shader:"+n.path,n.set_status(Fe.READY),n.emitComplete(!0))})}},assetFilesDidChange:function(e,n){},destroy:function(){this._lifecycleState<=-2||(this._lifecycleState=-2,this._lifecycleState=-1,Ea.prototype.destroy.call(this),null!=this.get_shader()&&(this.get_shader().destroy(),this.set_shader(null)))},toString:function(){var e,n,t="ShaderAsset";return null!=this.options.vertId||null!=this.options.fragId?(e=null!=this.options.vertId?this.options.vertId:"default",n=null!=this.options.fragId?this.options.fragId:"default",t+"("+this.name+" "+e+" "+n+")"):null!=this.path&&""!=z.trim(this.path)?t+"("+this.name+" "+this.path+")":t+"("+this.name+")"},unbindEvents:function(){Ea.prototype.unbindEvents.call(this),this.offShaderChange()},__class__:lt,__properties__:$extend(Ea.prototype.__properties__,{set_shader:"set_shader",get_shader:"get_shader"})}),function(e,n){this.size=e,this.name=n}),st=((E["ceramic.ShaderAttribute"]=rt).__name__="ceramic.ShaderAttribute",rt.prototype={size:null,name:null,toString:function(){return""+X.string({size:this.size,name:this.name})},__class__:rt},(E["ceramic.Shortcuts"]=j1).__name__="ceramic.Shortcuts",j1.__properties__={get_systems:"get_systems",get_log:"get_log",get_settings:"get_settings",get_input:"get_input",get_audio:"get_audio",get_screen:"get_screen",get_app:"get_app"},j1.get_app=function(){return he.app},j1.get_screen=function(){return he.app.screen},j1.get_audio=function(){return he.app.audio},j1.get_input=function(){return he.app.input},j1.get_settings=function(){return he.app.settings},j1.get_log=function(){return he.app.logger},j1.get_systems=function(){return he.app.systems},j1.unobserve=function(){U.unobserve()},j1.reobserve=function(){U.reobserve()},j1.cease=function(){U.cease()},(E["ceramic.SlugOptions"]=k1).__name__="ceramic.SlugOptions",k1.prototype={lower:null,remove:null,replacement:null,__class__:k1},function(){}),ht=((E["ceramic.Slug"]=st).__name__="ceramic.Slug",st.encode=function(e,n){null==n&&(n=st.DEFAULT_OPTIONS);for(var t="",i=0,l=e;i<l.length;){var r=l,s=i++,h=r.charCodeAt(s),r=(h=55296<=h&&h<=56319?h-55232<<10|1023&r.charCodeAt(1+s):h,65536<=h&&++i,h);t+=X.string(st.charMap.h.hasOwnProperty(r)?st.charMap.h[r]:String.fromCodePoint(r))}e=z.trim(t),e=(null!=n.remove?n.remove:st.safe).map(e,function(e){return""});return e=z.replace(e," ",n.replacement),n.lower?e.toLowerCase():e},function(){}),at=((E["ceramic.SortVisuals"]=ht).__name__="ceramic.SortVisuals",ht.cmp=function(e,n){var t,i,l,r,s=0;return e.computedVisible||e.computedTouchable?n.computedVisible||n.computedTouchable?e.computedRenderTarget!=n.computedRenderTarget?s=null!=e.computedRenderTarget&&(null==n.computedRenderTarget||e.computedRenderTarget.priority>n.computedRenderTarget.priority||!(e.computedRenderTarget.priority<n.computedRenderTarget.priority)&&e.computedRenderTarget.index<n.computedRenderTarget.index)?-1:1:e.computedDepth>n.computedDepth?s=1:e.computedDepth<n.computedDepth?s=-1:(r=e.asQuad,t=n.asQuad,l=e.asMesh,i=n.asMesh,null==r&&null==l||null==t&&null==i||(l=null!=l?l.texture:r._texture,r=null!=i?i.texture:t._texture,null!=l&&null==r?s=1:null==l&&null!=r?s=-1:null!=l&&null!=r?l.index<r.index?s=1:l.index>r.index?s=-1:e.blending>n.blending?s=1:e.blending<n.blending&&(s=-1):e.blending>n.blending?s=1:e.blending<n.blending&&(s=-1))):s=1:s=-1,s},ht.sort=function(e){ht.rec(e,0,e.length)},ht.rec=function(e,n,t){var i=n+t>>1;if(t-n<12){if(!(t<=n))for(var l=n+1,r=t;l<r;)for(var s=l++;n<s;){var h,a,o=e[s],c=e[s-1],u=0;if(o.computedVisible||o.computedTouchable?c.computedVisible||c.computedTouchable?o.computedRenderTarget!=c.computedRenderTarget?u=null!=o.computedRenderTarget&&(null==c.computedRenderTarget||o.computedRenderTarget.priority>c.computedRenderTarget.priority||!(o.computedRenderTarget.priority<c.computedRenderTarget.priority)&&o.computedRenderTarget.index<c.computedRenderTarget.index)?-1:1:o.computedDepth>c.computedDepth?u=1:o.computedDepth<c.computedDepth?u=-1:(a=o.asQuad,d=c.asQuad,h=o.asMesh,_=c.asMesh,null==a&&null==h||null==d&&null==_||(h=null!=h?h.texture:a._texture,a=null!=_?_.texture:d._texture,null!=h&&null==a?u=1:null==h&&null!=a?u=-1:null!=h&&null!=a?h.index<a.index?u=1:h.index>a.index?u=-1:o.blending>c.blending?u=1:o.blending<c.blending&&(u=-1):o.blending>c.blending?u=1:o.blending<c.blending&&(u=-1))):u=1:u=-1,!(u<0))break;var _=s-1,d=e[_];e[_]=e[s],e[s]=d,--s}}else ht.rec(e,n,i),ht.rec(e,i,t),ht.doMerge(e,n,i,t,i-n,t-i)},ht.doMerge=function(e,n,t,i,l,r){var s;if(0!=l&&0!=r)if(l+r==2)c=e[t],u=e[n],_=0,c.computedVisible||c.computedTouchable?u.computedVisible||u.computedTouchable?c.computedRenderTarget!=u.computedRenderTarget?_=null!=c.computedRenderTarget&&(null==u.computedRenderTarget||c.computedRenderTarget.priority>u.computedRenderTarget.priority||!(c.computedRenderTarget.priority<u.computedRenderTarget.priority)&&c.computedRenderTarget.index<u.computedRenderTarget.index)?-1:1:c.computedDepth>u.computedDepth?_=1:c.computedDepth<u.computedDepth?_=-1:(p=c.asQuad,C=u.asQuad,v=c.asMesh,w=u.asMesh,m=null!=C||null!=w,(null!=p||null!=v)&&m&&(y=null!=v?v.texture:p._texture,U=null!=w?w.texture:C._texture,null!=y&&null==U?_=1:null==y&&null!=U?_=-1:null!=y&&null!=U?y.index<U.index?_=1:y.index>U.index?_=-1:c.blending>u.blending?_=1:c.blending<u.blending&&(_=-1):c.blending>u.blending?_=1:c.blending<u.blending&&(_=-1))):_=1:_=-1,_<0&&(P=e[t],e[t]=e[n],e[n]=P);else{if(r<l){for(var h,a=n+(h=l>>1),o=i-(b=t);0<o;){var c=e[O=b+(g=o>>1)],u=e[a],_=0;c.computedVisible||c.computedTouchable?u.computedVisible||u.computedTouchable?c.computedRenderTarget!=u.computedRenderTarget?_=null!=c.computedRenderTarget&&(null==u.computedRenderTarget||c.computedRenderTarget.priority>u.computedRenderTarget.priority||!(c.computedRenderTarget.priority<u.computedRenderTarget.priority)&&c.computedRenderTarget.index<u.computedRenderTarget.index)?-1:1:c.computedDepth>u.computedDepth?_=1:c.computedDepth<u.computedDepth?_=-1:(p=c.asQuad,C=u.asQuad,v=c.asMesh,w=u.asMesh,m=null!=C||null!=w,(null!=p||null!=v)&&m&&(y=null!=v?v.texture:p._texture,U=null!=w?w.texture:C._texture,null!=y&&null==U?_=1:null==y&&null!=U?_=-1:null!=y&&null!=U?y.index<U.index?_=1:y.index>U.index?_=-1:c.blending>u.blending?_=1:c.blending<u.blending&&(_=-1):c.blending>u.blending?_=1:c.blending<u.blending&&(_=-1))):_=1:_=-1,o=_<0?(b=O+1,o-g-1):g}d=(f=b)-t}else{for(var d,b,g,O,f=t+(d=r>>1),o=t-(b=n);0<o;){var p,C,v,w,m,y,U,c=e[f],u=e[O=b+(g=o>>1)],_=0;c.computedVisible||c.computedTouchable?u.computedVisible||u.computedTouchable?c.computedRenderTarget!=u.computedRenderTarget?_=null!=c.computedRenderTarget&&(null==u.computedRenderTarget||c.computedRenderTarget.priority>u.computedRenderTarget.priority||!(c.computedRenderTarget.priority<u.computedRenderTarget.priority)&&c.computedRenderTarget.index<u.computedRenderTarget.index)?-1:1:c.computedDepth>u.computedDepth?_=1:c.computedDepth<u.computedDepth?_=-1:(p=c.asQuad,C=u.asQuad,v=c.asMesh,w=u.asMesh,m=null!=C||null!=w,(null!=p||null!=v)&&m&&(y=null!=v?v.texture:p._texture,U=null!=w?w.texture:C._texture,null!=y&&null==U?_=1:null==y&&null!=U?_=-1:null!=y&&null!=U?y.index<U.index?_=1:y.index>U.index?_=-1:c.blending>u.blending?_=1:c.blending<u.blending&&(_=-1):c.blending>u.blending?_=1:c.blending<u.blending&&(_=-1))):_=1:_=-1,o=_<0?g:(b=O+1,o-g-1)}h=(a=b)-n}if(a!=t&&t!=f){for(var D=f-a,T=t-a;0!=T;)var x=D%T,D=T,T=x;for(s=D;0!=s--;){for(var S=e[a+s],A=t-a,k=a+s,I=a+s+A;I!=a+s;)e[k]=e[I],A<f-(k=I)?I+=A:I=a+(A-(f-I));e[k]=S}}var P=a+d;ht.doMerge(e,n,a,P,h,d),ht.doMerge(e,P,f,i,l-h,r-d)}},ht.rotate=function(e,n,t,i){if(n!=t&&t!=i){for(var l=i-n,r=t-n;0!=r;){var s=l%r,l=r;r=s}for(r=l;0!=r--;){for(var h=e[n+r],a=t-n,o=n+r,c=n+r+a;c!=n+r;)e[o]=e[c],a<i-(o=c)?c+=a:c=n+(a-(i-c));e[o]=h}}},ht.gcd=function(e,n){for(;0!=n;){var t=e%n;e=n,n=t}return e},ht.upper=function(e,n,t,i){for(var l=t-n;0<l;){var r,s,h,a,o,c,u=e[i],_=e[s=n+(r=l>>1)],d=0;u.computedVisible||u.computedTouchable?_.computedVisible||_.computedTouchable?u.computedRenderTarget!=_.computedRenderTarget?d=null!=u.computedRenderTarget&&(null==_.computedRenderTarget||u.computedRenderTarget.priority>_.computedRenderTarget.priority||!(u.computedRenderTarget.priority<_.computedRenderTarget.priority)&&u.computedRenderTarget.index<_.computedRenderTarget.index)?-1:1:u.computedDepth>_.computedDepth?d=1:u.computedDepth<_.computedDepth?d=-1:(c=u.asQuad,h=_.asQuad,o=u.asMesh,a=_.asMesh,null==c&&null==o||null==h&&null==a||(o=null!=o?o.texture:c._texture,c=null!=a?a.texture:h._texture,null!=o&&null==c?d=1:null==o&&null!=c?d=-1:null!=o&&null!=c?o.index<c.index?d=1:o.index>c.index?d=-1:u.blending>_.blending?d=1:u.blending<_.blending&&(d=-1):u.blending>_.blending?d=1:u.blending<_.blending&&(d=-1))):d=1:d=-1,l=d<0?r:(n=s+1,l-r-1)}return n},ht.lower=function(e,n,t,i){for(var l=t-n;0<l;){var r,s,h,a,o,c,u=e[s=n+(r=l>>1)],_=e[i],d=0;u.computedVisible||u.computedTouchable?_.computedVisible||_.computedTouchable?u.computedRenderTarget!=_.computedRenderTarget?d=null!=u.computedRenderTarget&&(null==_.computedRenderTarget||u.computedRenderTarget.priority>_.computedRenderTarget.priority||!(u.computedRenderTarget.priority<_.computedRenderTarget.priority)&&u.computedRenderTarget.index<_.computedRenderTarget.index)?-1:1:u.computedDepth>_.computedDepth?d=1:u.computedDepth<_.computedDepth?d=-1:(c=u.asQuad,h=_.asQuad,o=u.asMesh,a=_.asMesh,null==c&&null==o||null==h&&null==a||(o=null!=o?o.texture:c._texture,c=null!=a?a.texture:h._texture,null!=o&&null==c?d=1:null==o&&null!=c?d=-1:null!=o&&null!=c?o.index<c.index?d=1:o.index>c.index?d=-1:u.blending>_.blending?d=1:u.blending<_.blending&&(d=-1):u.blending>_.blending?d=1:u.blending<_.blending&&(d=-1))):d=1:d=-1,l=d<0?(n=s+1,l-r-1):r}return n},ht.swap=function(e,n,t){var i=e[n];e[n]=e[t],e[t]=i},ht.compare=function(e,n,t){var i,l,r,s,n=e[n],e=e[t],t=0;return n.computedVisible||n.computedTouchable?e.computedVisible||e.computedTouchable?n.computedRenderTarget!=e.computedRenderTarget?t=null!=n.computedRenderTarget&&(null==e.computedRenderTarget||n.computedRenderTarget.priority>e.computedRenderTarget.priority||!(n.computedRenderTarget.priority<e.computedRenderTarget.priority)&&n.computedRenderTarget.index<e.computedRenderTarget.index)?-1:1:n.computedDepth>e.computedDepth?t=1:n.computedDepth<e.computedDepth?t=-1:(s=n.asQuad,i=e.asQuad,r=n.asMesh,l=e.asMesh,null==s&&null==r||null==i&&null==l||(r=null!=r?r.texture:s._texture,s=null!=l?l.texture:i._texture,null!=r&&null==s?t=1:null==r&&null!=s?t=-1:null!=r&&null!=s?r.index<s.index?t=1:r.index>s.index?t=-1:n.blending>e.blending?t=1:n.blending<e.blending&&(t=-1):n.blending>e.blending?t=1:n.blending<e.blending&&(t=-1))):t=1:t=-1,t},function(){}),ot=((E["ceramic.SortVisualsByDepth"]=at).__name__="ceramic.SortVisualsByDepth",at.cmp=function(e,n){var t=0;return e.depth>n.depth?t=1:e.depth<n.depth&&(t=-1),t},at.sort=function(e){at.rec(e,0,e.length)},at.rec=function(e,n,t){var i=n+t>>1;if(t-n<12){if(!(t<=n))for(var l=n+1,r=t;l<r;)for(var s=l++;n<s;){var h=e[s],a=e[s-1],o=0;if(h.depth>a.depth?o=1:h.depth<a.depth&&(o=-1),!(o<0))break;h=s-1,a=e[h];e[h]=e[s],e[s]=a,--s}}else at.rec(e,n,i),at.rec(e,i,t),at.doMerge(e,n,i,t,i-n,t-i)},at.doMerge=function(e,n,t,i,l,r){var s;if(0!=l&&0!=r)if(l+r==2)c=e[t],u=e[n],_=0,c.depth>u.depth?_=1:c.depth<u.depth&&(_=-1),_<0&&(D=e[t],e[t]=e[n],e[n]=D);else{if(r<l){for(var h,a=n+(h=l>>1),o=i-(b=t);0<o;){var c=e[O=b+(g=o>>1)],u=e[a],_=0;c.depth>u.depth?_=1:c.depth<u.depth&&(_=-1),o=_<0?(b=O+1,o-g-1):g}d=(f=b)-t}else{for(var d,b,g,O,f=t+(d=r>>1),o=t-(b=n);0<o;){c=e[f],u=e[O=b+(g=o>>1)],_=0;c.depth>u.depth?_=1:c.depth<u.depth&&(_=-1),o=_<0?g:(b=O+1,o-g-1)}h=(a=b)-n}if(a!=t&&t!=f){for(var p=f-a,C=t-a;0!=C;)var v=p%C,p=C,C=v;for(s=p;0!=s--;){for(var w=e[a+s],m=t-a,y=a+s,U=a+s+m;U!=a+s;)e[y]=e[U],m<f-(y=U)?U+=m:U=a+(m-(f-U));e[y]=w}}var D=a+d;at.doMerge(e,n,a,D,h,d),at.doMerge(e,D,f,i,l-h,r-d)}},at.rotate=function(e,n,t,i){if(n!=t&&t!=i){for(var l=i-n,r=t-n;0!=r;){var s=l%r,l=r;r=s}for(r=l;0!=r--;){for(var h=e[n+r],a=t-n,o=n+r,c=n+r+a;c!=n+r;)e[o]=e[c],a<i-(o=c)?c+=a:c=n+(a-(i-c));e[o]=h}}},at.gcd=function(e,n){for(;0!=n;){var t=e%n;e=n,n=t}return e},at.upper=function(e,n,t,i){for(var l=t-n;0<l;){var r,s,h=e[i],a=e[s=n+(r=l>>1)],o=0;h.depth>a.depth?o=1:h.depth<a.depth&&(o=-1),l=o<0?r:(n=s+1,l-r-1)}return n},at.lower=function(e,n,t,i){for(var l=t-n;0<l;){var r,s,h=e[s=n+(r=l>>1)],a=e[i],o=0;h.depth>a.depth?o=1:h.depth<a.depth&&(o=-1),l=o<0?(n=s+1,l-r-1):r}return n},at.swap=function(e,n,t){var i=e[n];e[n]=e[t],e[t]=i},at.compare=function(e,n,t){n=e[n],e=e[t],t=0;return n.depth>e.depth?t=1:n.depth<e.depth&&(t=-1),t},(E["ceramic.Sound"]=o1).__name__="ceramic.Sound",o1.fromSamplesBuffer=function(e,n,t,i,l){e=he.app.backend.audio.createFromSamplesBuffer(e,n,t,i,l);return new o1(e)},o1.__super__=j,o1.prototype=$extend(j.prototype,{backendItem:null,asset:null,bus:null,group:null,set_group:function(e){var n;return this.group==e||(this.group=e,(n=he.app.audio).mixers.exists(e))||n.mixers.set(e,new Ee(e)),e},destroy:function(){if(!(this._lifecycleState<=-2)){this._lifecycleState=-2,this._lifecycleState=-1,j.prototype.destroy.call(this),null!=this.asset&&this.asset.destroy();for(var e=he.app.backend.audio,n=this.backendItem,t=null,i=e.loadedAudioResources.h,l=i,r=Object.keys(i),s=r.length,h=0;h<s;){var a=r[h++];l[a]==n&&(t=a)}null==t?he.app.logger.error("Failed to destroy audio resource: "+X.string(n)+" because id could not be resolved",{fileName:"../../../../ceramic/plugins/clay/runtime/src/backend/Audio.hx",lineNumber:284,className:"backend.Audio",methodName:"destroy"}):1<e.loadedAudioRetainCount.h[t]?--e.loadedAudioRetainCount.h[t]:(i=e.loadedAudioResources,Object.prototype.hasOwnProperty.call(i.h,t)&&delete i.h[t],i=e.loadedAudioRetainCount,Object.prototype.hasOwnProperty.call(i.h,t)&&delete i.h[t],n.destroy()),this.backendItem=null}},volume:null,pan:null,pitch:null,get_duration:function(){he.app.backend.audio;return this.backendItem.getDuration()},play:function(e,n,t,i,l,r){null==n&&(n=!1);var s=he.app.audio.mixers,h=s._keys.intMap.h[0|this.group],h=null!=h?h:0,s=2<=h?s.values[h-2]:An.RET_NULL;return s.mute?-1:(null==t&&(t=this.volume),null==i&&(i=this.pan),null==l&&(l=this.pitch),null==r&&(r=this.bus),t*=2*s.volume,i+=s.pan,l+=s.pitch-1,he.app.backend.audio.play(this.backendItem,t,i,l,e=null==e?0:e,n,r))},__class__:o1,__properties__:$extend(j.prototype.__properties__,{get_duration:"get_duration",set_group:"set_group"})}),function(e,n,t){this.unobservedSound=null,this.soundAutoruns=null,this.stream=!1,Ea.call(this,"sound",e,n,t)}),ct=((E["ceramic.SoundAsset"]=ot).__name__="ceramic.SoundAsset",ot.__super__=Ea,ot.prototype=$extend(Ea.prototype,{__cbOnReplaceSound:null,__cbOnceReplaceSound:null,__cbOnOwnerUnbindReplaceSound:null,__cbOnceOwnerUnbindReplaceSound:null,emitReplaceSound:function(e,n){var t=0;if(null!=this.__cbOnReplaceSound&&(t+=this.__cbOnReplaceSound.length),null!=this.__cbOnceReplaceSound&&(t+=this.__cbOnceReplaceSound.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnReplaceSound)for(var s=0,h=this.__cbOnReplaceSound.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnReplaceSound[a],++r):--t}if(null!=this.__cbOnceReplaceSound){for(var o=null,c=null,s=0,h=this.__cbOnceReplaceSound.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceReplaceSound[a],this.__cbOnceReplaceSound[a]=null,u=this.__cbOnceOwnerUnbindReplaceSound[a],(this.__cbOnceOwnerUnbindReplaceSound[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindReplaceSound[a]),c.push(this.__cbOnceReplaceSound[a]))}this.__cbOnceOwnerUnbindReplaceSound=o,this.__cbOnceReplaceSound=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onReplaceSound:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event replaceSound because owner is destroyed!");var l=function(e){null!=t&&(i.offReplaceSound(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindReplaceSound&&(this.__cbOnOwnerUnbindReplaceSound=[]),this.__cbOnOwnerUnbindReplaceSound.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindReplaceSound&&(this.__cbOnOwnerUnbindReplaceSound=[]),this.__cbOnOwnerUnbindReplaceSound.push(null);null==this.__cbOnReplaceSound&&(this.__cbOnReplaceSound=[]),this.__cbOnReplaceSound.push(t)},onceReplaceSound:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event replaceSound because owner is destroyed!");var l=function(e){null!=t&&(i.offReplaceSound(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindReplaceSound&&(this.__cbOnceOwnerUnbindReplaceSound=[]),this.__cbOnceOwnerUnbindReplaceSound.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindReplaceSound&&(this.__cbOnceOwnerUnbindReplaceSound=[]),this.__cbOnceOwnerUnbindReplaceSound.push(null);null==this.__cbOnceReplaceSound&&(this.__cbOnceReplaceSound=[]),this.__cbOnceReplaceSound.push(t)},offReplaceSound:function(e){if(null!=e){var n;null!=this.__cbOnReplaceSound&&-1!=(n=this.__cbOnReplaceSound.indexOf(e))&&(this.__cbOnReplaceSound.splice(n,1),null!=(r=this.__cbOnOwnerUnbindReplaceSound[n])&&r(),this.__cbOnOwnerUnbindReplaceSound.splice(n,1)),null!=this.__cbOnceReplaceSound&&-1!=(n=this.__cbOnceReplaceSound.indexOf(e))&&(this.__cbOnceReplaceSound.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindReplaceSound[n])&&r(),this.__cbOnceOwnerUnbindReplaceSound.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindReplaceSound){for(var t=0,i=this.__cbOnOwnerUnbindReplaceSound.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindReplaceSound[l])&&r()}this.__cbOnOwnerUnbindReplaceSound=null}if(null!=this.__cbOnceOwnerUnbindReplaceSound){for(t=0,i=this.__cbOnceOwnerUnbindReplaceSound.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindReplaceSound[l])&&r()}this.__cbOnceOwnerUnbindReplaceSound=null}this.__cbOnReplaceSound=null,this.__cbOnceReplaceSound=null}},listensReplaceSound:function(){return null!=this.__cbOnReplaceSound&&0<this.__cbOnReplaceSound.length||null!=this.__cbOnceReplaceSound&&0<this.__cbOnceReplaceSound.length},stream:null,soundAutoruns:null,get_sound:function(){var e,n,t=this.unobservedSound;return null!=U.current&&(e=U.current,null!=(n=this.soundAutoruns)||(n=U.getAutorunArray(),null!=(this.soundAutoruns=n)))&&e.bindToAutorunArray(n),t},set_sound:function(e){var n=this.unobservedSound;return n!=(this.unobservedSound=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitSoundChange(e,n),null!=(n=this.soundAutoruns))&&(this.soundAutoruns=null,U.invalidateAutorunArray(n)),e},invalidateSound:function(){var e=this.unobservedSound,e=(this.emitSoundChange(e,e),this.soundAutoruns);null!=e&&(this.soundAutoruns=null,U.invalidateAutorunArray(e))},unobservedSound:null,__cbOnSoundChange:null,__cbOnceSoundChange:null,__cbOnOwnerUnbindSoundChange:null,__cbOnceOwnerUnbindSoundChange:null,emitSoundChange:function(e,n){var t=0;if(null!=this.__cbOnSoundChange&&(t+=this.__cbOnSoundChange.length),null!=this.__cbOnceSoundChange&&(t+=this.__cbOnceSoundChange.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnSoundChange)for(var s=0,h=this.__cbOnSoundChange.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnSoundChange[a],++r):--t}if(null!=this.__cbOnceSoundChange){for(var o=null,c=null,s=0,h=this.__cbOnceSoundChange.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceSoundChange[a],this.__cbOnceSoundChange[a]=null,u=this.__cbOnceOwnerUnbindSoundChange[a],(this.__cbOnceOwnerUnbindSoundChange[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindSoundChange[a]),c.push(this.__cbOnceSoundChange[a]))}this.__cbOnceOwnerUnbindSoundChange=o,this.__cbOnceSoundChange=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onSoundChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event soundChange because owner is destroyed!");var l=function(e){null!=t&&(i.offSoundChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindSoundChange&&(this.__cbOnOwnerUnbindSoundChange=[]),this.__cbOnOwnerUnbindSoundChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindSoundChange&&(this.__cbOnOwnerUnbindSoundChange=[]),this.__cbOnOwnerUnbindSoundChange.push(null);null==this.__cbOnSoundChange&&(this.__cbOnSoundChange=[]),this.__cbOnSoundChange.push(t)},onceSoundChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event soundChange because owner is destroyed!");var l=function(e){null!=t&&(i.offSoundChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindSoundChange&&(this.__cbOnceOwnerUnbindSoundChange=[]),this.__cbOnceOwnerUnbindSoundChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindSoundChange&&(this.__cbOnceOwnerUnbindSoundChange=[]),this.__cbOnceOwnerUnbindSoundChange.push(null);null==this.__cbOnceSoundChange&&(this.__cbOnceSoundChange=[]),this.__cbOnceSoundChange.push(t)},offSoundChange:function(e){if(null!=e){var n;null!=this.__cbOnSoundChange&&-1!=(n=this.__cbOnSoundChange.indexOf(e))&&(this.__cbOnSoundChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindSoundChange[n])&&r(),this.__cbOnOwnerUnbindSoundChange.splice(n,1)),null!=this.__cbOnceSoundChange&&-1!=(n=this.__cbOnceSoundChange.indexOf(e))&&(this.__cbOnceSoundChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindSoundChange[n])&&r(),this.__cbOnceOwnerUnbindSoundChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindSoundChange){for(var t=0,i=this.__cbOnOwnerUnbindSoundChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindSoundChange[l])&&r()}this.__cbOnOwnerUnbindSoundChange=null}if(null!=this.__cbOnceOwnerUnbindSoundChange){for(t=0,i=this.__cbOnceOwnerUnbindSoundChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindSoundChange[l])&&r()}this.__cbOnceOwnerUnbindSoundChange=null}this.__cbOnSoundChange=null,this.__cbOnceSoundChange=null}},listensSoundChange:function(){return null!=this.__cbOnSoundChange&&0<this.__cbOnSoundChange.length||null!=this.__cbOnceSoundChange&&0<this.__cbOnceSoundChange.length},load:function(){var l=this;if(this.set_status(Fe.LOADING),null==this.path)he.app.logger.warning("Cannot load sound asset if path is undefined.",{fileName:"../../../../ceramic/runtime/src/ceramic/SoundAsset.hx",lineNumber:78,className:"ceramic.SoundAsset",methodName:"load"}),this.set_status(Fe.BROKEN),this.emitComplete(!1);else{var r={};if(null!=this.owner&&(r.immediate=this.owner.immediate,r.loadMethod=this.owner.loadMethod),null!=this.options)for(var e=0,n=K.fields(this.options);e<n.length;){var t=n[e];++e,r[t]=K.field(this.options,t)}var s=[].concat(this.allPaths),h=function(e){var n;null!=e?(n=l.get_sound(),((e=new o1(e)).asset=l).set_sound(e),null!=n&&(l.emitReplaceSound(l.get_sound(),n),n.asset=null,n.destroy()),l.set_status(Fe.READY),l.emitComplete(!0)):(l.set_status(Fe.BROKEN),he.app.logger.error("Failed to load audio at path: "+l.path,{fileName:"../../../../ceramic/runtime/src/ceramic/SoundAsset.hx",lineNumber:122,className:"ceramic.SoundAsset",methodName:"load"}),l.emitComplete(!1))},a=null,a=function(n){var e=n,t=fe.realAssetPath(e,l.runtimeAssets),i=fe.getReloadCount(t),i=(0<i&&(t+="?hot="+i,e+="?hot="+i),he.app.logger.info("Load sound "+e,{fileName:"../../../../ceramic/runtime/src/ceramic/SoundAsset.hx",lineNumber:138,className:"ceramic.SoundAsset",methodName:"load"}),Rn.extension(t));null!=i&&(i=i.toLowerCase()),he.app.backend.audio.load(t,r,function(e){null!=e||0==s.length?h(e):(e=s.shift(),he.app.logger.warning("Failed to load "+n+". Try "+e+"...",{fileName:"../../../../ceramic/runtime/src/ceramic/SoundAsset.hx",lineNumber:151,className:"ceramic.SoundAsset",methodName:"load"}),a(e))})};0<s.length?a(s.shift()):(this.set_status(Fe.BROKEN),he.app.logger.error("Failed to load audio at path: "+this.path,{fileName:"../../../../ceramic/runtime/src/ceramic/SoundAsset.hx",lineNumber:163,className:"ceramic.SoundAsset",methodName:"load"}),this.emitComplete(!1))}},assetFilesDidChange:function(e,n){var t=-1,n=(Object.prototype.hasOwnProperty.call(n.h,this.path)&&(t=n.h[this.path]),-1);(n=Object.prototype.hasOwnProperty.call(e.h,this.path)?e.h[this.path]:n)!=t&&(he.app.logger.info("Reload sound (file has changed)",{fileName:"../../../../ceramic/runtime/src/ceramic/SoundAsset.hx",lineNumber:188,className:"ceramic.SoundAsset",methodName:"assetFilesDidChange"}),this.load())},destroy:function(){this._lifecycleState<=-2||(this._lifecycleState=-2,this._lifecycleState=-1,Ea.prototype.destroy.call(this),null!=this.get_sound()&&(this.get_sound().destroy(),this.set_sound(null)))},unbindEvents:function(){Ea.prototype.unbindEvents.call(this),this.offReplaceSound(),this.offSoundChange()},__class__:ot,__properties__:$extend(Ea.prototype.__properties__,{set_sound:"set_sound",get_sound:"get_sound"})}),function(){this._udpatingSystems=[],this.lateUpdateOrdered=[],this.earlyUpdateOrdered=[],this.lateUpdateOrderDirty=!1,this.earlyUpdateOrderDirty=!1,j.call(this)}),ut=((E["ceramic.Systems"]=ct).__name__="ceramic.Systems",ct.sortSystemsByEarlyUpdateOrder=function(e,n){return e.earlyUpdateOrder>n.earlyUpdateOrder?1:e.earlyUpdateOrder<n.earlyUpdateOrder?-1:0},ct.sortSystemsByLateUpdateOrder=function(e,n){return e.lateUpdateOrder>n.lateUpdateOrder?1:e.lateUpdateOrder<n.lateUpdateOrder?-1:0},ct.__super__=j,ct.prototype=$extend(j.prototype,{earlyUpdateOrderDirty:null,lateUpdateOrderDirty:null,earlyUpdateOrdered:null,lateUpdateOrdered:null,_udpatingSystems:null,addSystem:function(e){this.earlyUpdateOrdered.push(e),this.earlyUpdateOrderDirty=!0,this.lateUpdateOrdered.push(e),this.lateUpdateOrderDirty=!0},removeSystem:function(e){se.remove(this.earlyUpdateOrdered,e),this.earlyUpdateOrderDirty=!0,se.remove(this.lateUpdateOrdered,e),this.lateUpdateOrderDirty=!0},earlyUpdate:function(e){this.earlyUpdateOrderDirty&&(Qi.sort(this.earlyUpdateOrdered,ct.sortSystemsByEarlyUpdateOrder),this.earlyUpdateOrderDirty=!1);for(var n=this.earlyUpdateOrdered.length,t=0,i=n;t<i;){var l=t++;this._udpatingSystems[l]=this.earlyUpdateOrdered[l]}for(t=0,i=n;t<i;){var l=t++,r=this._udpatingSystems[l];r.emitBeginEarlyUpdate(e),r.earlyUpdate(e),r.emitEndEarlyUpdate(e),he.app.flushImmediate()}for(t=0,i=n;t<i;){l=t++;this._udpatingSystems[l]=null}},lateUpdate:function(e){this.lateUpdateOrderDirty&&(Qi.sort(this.lateUpdateOrdered,ct.sortSystemsByLateUpdateOrder),this.lateUpdateOrderDirty=!1);for(var n=this.lateUpdateOrdered.length,t=0,i=n;t<i;){var l=t++;this._udpatingSystems[l]=this.lateUpdateOrdered[l]}for(t=0,i=n;t<i;){var l=t++,r=this._udpatingSystems[l];r.emitBeginLateUpdate(e),r.lateUpdate(e),r.emitEndLateUpdate(e),he.app.flushImmediate()}for(t=0,i=n;t<i;){l=t++;this._udpatingSystems[l]=null}},get:function(e){for(var n=0,t=this.earlyUpdateOrdered.length;n<t;){var i=n++,i=this.earlyUpdateOrdered[i];if(i.name==e)return i}return null},__class__:ct}),function(){this.glyphCode=null,this.maxLineDiff=-1,this.fitWidth=-1,this.align=_t.LEFT,this.preRenderedSize=-1,this.clipTextHeight=-1,this.clipTextWidth=-1,this.clipTextY=-1,this.clipTextX=-1,this.letterSpacing=0,this.lineHeight=1,this.pointSize=20,this.content="",this.color=16777215,this.numLines=1,this.glyphQuads=[],o.call(this),this.set_font(he.app.defaultFont)}),_t=((E["ceramic.Text"]=ut).__name__="ceramic.Text",ut.__super__=o,ut.prototype=$extend(o.prototype,{__cbOnGlyphQuadsChange:null,__cbOnceGlyphQuadsChange:null,__cbOnOwnerUnbindGlyphQuadsChange:null,__cbOnceOwnerUnbindGlyphQuadsChange:null,emitGlyphQuadsChange:function(){var e=0;if(null!=this.__cbOnGlyphQuadsChange&&(e+=this.__cbOnGlyphQuadsChange.length),null!=this.__cbOnceGlyphQuadsChange&&(e+=this.__cbOnceGlyphQuadsChange.length),0<e){var n=C.pool(e),t=n.get(),i=0;if(null!=this.__cbOnGlyphQuadsChange)for(var l=0,r=this.__cbOnGlyphQuadsChange.length;l<r;){var s=l++;!0?(t.vector[i]=this.__cbOnGlyphQuadsChange[s],++i):--e}if(null!=this.__cbOnceGlyphQuadsChange){for(var h=null,a=null,l=0,r=this.__cbOnceGlyphQuadsChange.length;l<r;){var o,s=l++;!0?(t.vector[i]=this.__cbOnceGlyphQuadsChange[s],this.__cbOnceGlyphQuadsChange[s]=null,o=this.__cbOnceOwnerUnbindGlyphQuadsChange[s],(this.__cbOnceOwnerUnbindGlyphQuadsChange[s]=null)!=o&&o(),++i):(--e,null==h&&(h=[],a=[],0),h.push(this.__cbOnceOwnerUnbindGlyphQuadsChange[s]),a.push(this.__cbOnceGlyphQuadsChange[s]))}this.__cbOnceOwnerUnbindGlyphQuadsChange=h,this.__cbOnceGlyphQuadsChange=a}for(l=0,r=e;l<r;){i=l++;(0,t.vector[i])()}n.release(t)}},onGlyphQuadsChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event glyphQuadsChange because owner is destroyed!");var l=function(e){null!=t&&(i.offGlyphQuadsChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindGlyphQuadsChange&&(this.__cbOnOwnerUnbindGlyphQuadsChange=[]),this.__cbOnOwnerUnbindGlyphQuadsChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindGlyphQuadsChange&&(this.__cbOnOwnerUnbindGlyphQuadsChange=[]),this.__cbOnOwnerUnbindGlyphQuadsChange.push(null);null==this.__cbOnGlyphQuadsChange&&(this.__cbOnGlyphQuadsChange=[]),this.__cbOnGlyphQuadsChange.push(t)},onceGlyphQuadsChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event glyphQuadsChange because owner is destroyed!");var l=function(e){null!=t&&(i.offGlyphQuadsChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindGlyphQuadsChange&&(this.__cbOnceOwnerUnbindGlyphQuadsChange=[]),this.__cbOnceOwnerUnbindGlyphQuadsChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindGlyphQuadsChange&&(this.__cbOnceOwnerUnbindGlyphQuadsChange=[]),this.__cbOnceOwnerUnbindGlyphQuadsChange.push(null);null==this.__cbOnceGlyphQuadsChange&&(this.__cbOnceGlyphQuadsChange=[]),this.__cbOnceGlyphQuadsChange.push(t)},offGlyphQuadsChange:function(e){if(null!=e){var n;null!=this.__cbOnGlyphQuadsChange&&-1!=(n=this.__cbOnGlyphQuadsChange.indexOf(e))&&(this.__cbOnGlyphQuadsChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindGlyphQuadsChange[n])&&r(),this.__cbOnOwnerUnbindGlyphQuadsChange.splice(n,1)),null!=this.__cbOnceGlyphQuadsChange&&-1!=(n=this.__cbOnceGlyphQuadsChange.indexOf(e))&&(this.__cbOnceGlyphQuadsChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindGlyphQuadsChange[n])&&r(),this.__cbOnceOwnerUnbindGlyphQuadsChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindGlyphQuadsChange){for(var t=0,i=this.__cbOnOwnerUnbindGlyphQuadsChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindGlyphQuadsChange[l])&&r()}this.__cbOnOwnerUnbindGlyphQuadsChange=null}if(null!=this.__cbOnceOwnerUnbindGlyphQuadsChange){for(t=0,i=this.__cbOnceOwnerUnbindGlyphQuadsChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindGlyphQuadsChange[l])&&r()}this.__cbOnceOwnerUnbindGlyphQuadsChange=null}this.__cbOnGlyphQuadsChange=null,this.__cbOnceGlyphQuadsChange=null}},listensGlyphQuadsChange:function(){return null!=this.__cbOnGlyphQuadsChange&&0<this.__cbOnGlyphQuadsChange.length||null!=this.__cbOnceGlyphQuadsChange&&0<this.__cbOnceGlyphQuadsChange.length},glyphQuads:null,numLines:null,get_numLines:function(){return this.contentDirty&&this.computeContent(),this.numLines},color:null,set_color:function(e){if(this.color!=e&&(this.color=e,null!=this.glyphQuads))for(var n=0,t=this.glyphQuads.length;n<t;){var i=n++;this.glyphQuads[i].color=e}return e},set_roundTranslation:function(e){return this.roundTranslation!=e&&(this.contentDirty=!0,he.app.visualsContentDirty=!0,this.roundTranslation=e),e},content:null,set_content:function(e){return this.content!=e&&(this.contentDirty=!0,he.app.visualsContentDirty=!0,this.content=e),e},pointSize:null,set_pointSize:function(e){return this.pointSize!=e&&(this.contentDirty=!0,he.app.visualsContentDirty=!0,this.pointSize=e),e},lineHeight:null,set_lineHeight:function(e){return this.lineHeight!=e&&(this.contentDirty=!0,he.app.visualsContentDirty=!0,this.lineHeight=e),e},letterSpacing:null,set_letterSpacing:function(e){return this.letterSpacing!=e&&(this.contentDirty=!0,he.app.visualsContentDirty=!0,this.letterSpacing=e),e},font:null,set_font:function(e){return null==e&&(e=he.app.defaultFont),this.font!=e&&(null!=this.font&&(this.font.offDestroy($bind(this,this.fontDestroyed)),null!=this.font.asset)&&this.font.asset.release(),this.contentDirty=!0,he.app.visualsContentDirty=!0,this.font=e,null!=this.font&&(this.font.onDestroy(this,$bind(this,this.fontDestroyed)),null!=this.font.asset))&&this.font.asset.retain(),e},clipTextX:null,set_clipTextX:function(e){return this.clipTextX!=e&&(this.clipTextX=e,this.contentDirty=!0,he.app.visualsContentDirty=!0),e},clipTextY:null,set_clipTextY:function(e){return this.clipTextY!=e&&(this.clipTextY=e,this.contentDirty=!0,he.app.visualsContentDirty=!0),e},clipTextWidth:null,set_clipTextWidth:function(e){return this.clipTextWidth!=e&&(this.clipTextWidth=e,this.contentDirty=!0,he.app.visualsContentDirty=!0),e},clipTextHeight:null,set_clipTextHeight:function(e){return this.clipTextHeight!=e&&(this.clipTextHeight=e,this.contentDirty=!0,he.app.visualsContentDirty=!0),e},clipText:function(e,n,t,i){this.set_clipTextX(e),this.set_clipTextY(n),this.set_clipTextWidth(t),this.set_clipTextHeight(i)},preRenderedSize:null,set_preRenderedSize:function(e){return this.preRenderedSize!=e&&(this.contentDirty=!0,he.app.visualsContentDirty=!0,this.preRenderedSize<=0&&0<e&&he.app.screen.onTexturesDensityChange(this,$bind(this,this.handleTexturesDensityChange)),0<this.preRenderedSize&&e<=0&&he.app.screen.offTexturesDensityChange($bind(this,this.handleTexturesDensityChange)),this.preRenderedSize=e),e},handleTexturesDensityChange:function(e,n){this.contentDirty=!0,he.app.visualsContentDirty=!0},align:null,set_align:function(e){return this.align!=e&&(this.contentDirty=!0,he.app.visualsContentDirty=!0,this.align=e),e},fitWidth:null,set_fitWidth:function(e){return this.fitWidth!=e&&(this.fitWidth=e,this.contentDirty=!0,he.app.visualsContentDirty=!0),e},maxLineDiff:null,set_maxLineDiff:function(e){return this.maxLineDiff!=e&&(this.maxLineDiff=e,-1!=this.fitWidth)&&(this.contentDirty=!0,he.app.visualsContentDirty=!0),e},glyphCode:null,set_depth:function(e){if(this.depth==e)return e;if(null!=this.glyphQuads)for(var n=0,t=this.glyphQuads.length;n<t;){var i=n++;this.glyphQuads[i].set_depth(e)}return o.prototype.set_depth.call(this,e)},get_width:function(){return this.contentDirty&&this.computeContent(),o.prototype.get_width.call(this)},scaleWidth:function(e){if(this._width!=e&&(this.set_scaleX(e/this._width),this.matrixDirty=!0,null!=this.children))for(var n=0,t=this.children.length;n<t;){var i=n++,l=this.children[i];if(l.matrixDirty=!0,null!=l.children)for(var r=0,s=l.children.length;r<s;){var h=r++;l.children[h].set_matrixDirty(!0)}}},get_height:function(){return this.contentDirty&&this.computeContent(),o.prototype.get_height.call(this)},scaleHeight:function(e){if(this._height!=e&&(this.set_scaleY(e/this._height),this.matrixDirty=!0,null!=this.children))for(var n=0,t=this.children.length;n<t;){var i=n++,l=this.children[i];if(l.matrixDirty=!0,null!=l.children)for(var r=0,s=l.children.length;r<s;){var h=r++;l.children[h].set_matrixDirty(!0)}}},set_blending:function(e){if(this.blending!=e&&(this.blending=e,null!=this.glyphQuads))for(var n=0,t=this.glyphQuads.length;n<t;){var i=n++;this.glyphQuads[i].set_blending(e)}return e},destroy:function(){if(!(this._lifecycleState<=-2)&&(this._lifecycleState=-2,this._lifecycleState=-1,o.prototype.destroy.call(this),null!=this.glyphQuads)){for(var e=0,n=this.glyphQuads.length;e<n;){var t=e++;this.glyphQuads[t].destroy()}this.glyphQuads=null}},computeContent:function(){var e=this;if(null==this.font)this.set_width(0),this.set_height(0),this.contentDirty=!1;else{if(this.numLines=this.computeGlyphQuads(this.fitWidth,this.maxLineDiff),this.contentDirty=!1,this.matrixDirty=!0,null!=this.children)for(var n=0,t=this.children.length;n<t;){var i=n++,l=this.children[i];if(l.matrixDirty=!0,null!=l.children)for(var r=0,s=l.children.length;r<s;){var h=r++;l.children[h].set_matrixDirty(!0)}}var a,o=this.preRenderedSize*he.app.screen.get_texturesDensity()|0;0<o&&null!=(a=this.font).fontData.distanceField&&"msdf"==a.fontData.distanceField.fieldType&&this.font.needsToPreRenderAtSize(o)&&this.font.preRenderAtSize(o,function(){e.contentDirty=!0,he.app.visualsContentDirty=!0}),this.emitGlyphQuadsChange()}},computeGlyphQuads:function(e,E,L){null==L&&(L=-1);var n,t,i,l=0,V=0,R=0,r=this.pointSize/this.font.fontData.pointSize,s=null,h=-1,a=null,o=-1,c=0,u=null,_=[],d=[[]],b=0,H=!1,N=!1,W=!1,g=0,z=0,O=!1,f=0,G=!1,Y=(-1!=this.clipTextX&&-1!=this.clipTextY&&-1!=this.clipTextWidth&&-1!=this.clipTextHeight&&(G=!0),this.preRenderedSize*he.app.screen.get_texturesDensity()|0),K=0<Y&&null!=(U=this.font).fontData.distanceField&&"msdf"==U.fontData.distanceField.fieldType&&!this.font.needsToPreRenderAtSize(Y),p=this.content;if((""==p||0<p.length&&10==se.cca(p,p.length-1))&&(O=!0,p+=" "),null!=this.glyphCode){for(var X="",C=0,v=p.length;C<v;){var w=C++,$=se.cca(p,w),$=this.glyphCode($,w);X+=String.fromCodePoint($)}p=X}for(var m,y,U,j=p.length;c<j&&b<2*j;){if(a=s,o=h,s=p.charAt(c),h=se.cca(s,0),(N=" "==s)&&++g,(H="\n"==s)||N||c==j-1)if(!W&&0<=e&&1<R&&e-1<R&&0<g)for(W=!0,--g;0<c;){if(--c,s=p.charAt(c),h=se.cca(s,0),o=0<c?(a=p.charAt(c-1),se.cca(a,0)):(a=null,-1),u=this.font.fontData.chars.get(h),null!=a&&(l-=(null!=(m=this.font.fontData.kernings.get(o))&&m.intMap.h.hasOwnProperty(0|h)&&null!=(m=m.intMap.h[0|h])?m:0)*r),null!=u&&(l-=u.xAdvance*r+this.letterSpacing),!(0<d[d.length-1].length))break;if(--b,d[d.length-1].pop()," "==s){s="\n",u=this.font.fontData.chars.get(10),h=se.cca(s,0),--g,N=!(H=!0);break}}else W=!1;if(H)g=0,o=-1,z=++c,V+=this.lineHeight*this.font.fontData.lineHeight*r,_.push(l+((a=null)!=u?(u.xOffset+u.width-u.xAdvance)*r-this.letterSpacing:0)),d.push([]),R=l=0;else{if(null!=(u=this.font.fontData.chars.get(h))){if(null!=a&&(l+=(null!=(y=this.font.fontData.kernings.get(o))&&y.intMap.h.hasOwnProperty(0|h)&&null!=(y=y.intMap.h[0|h])?y:0)*r),y=l+u.xOffset*r,n=V+u.yOffset*r,t=u.width*r,i=u.height*r,f=0,G&&(y>=this.clipTextX+this.clipTextWidth||y+t<this.clipTextX||n>=this.clipTextY+this.clipTextHeight||n+i<this.clipTextY?f=2:(this.clipTextX>y&&this.clipTextX<=y+t||this.clipTextY>n&&this.clipTextY<=n+i||this.clipTextX+this.clipTextWidth>y&&this.clipTextX+this.clipTextWidth<=y+t||this.clipTextY+this.clipTextHeight>n&&this.clipTextY+this.clipTextHeight<=n+i)&&(f=1)),null==(M=b<this.glyphQuads.length?this.glyphQuads[b]:null)){if(1!=(M=new $0).inheritAlpha&&(M.inheritAlpha=!0,M.visibilityDirty=!0,null!=M.children))for(C=0,v=M.children.length;C<v;){var Q=C++,q=M.children[Q];if(q.visibilityDirty=!0,null!=q.children)for(var D=0,T=q.children.length;D<T;){var Z=D++;q.children[Z].set_visibilityDirty(!0)}}this.glyphQuads.push(M),this.add(M)}++b,M.char=s,M.code=h,M.index=c,M.set_visible(2!=f),M.flags&=-17,M.posInLine=c-z,M.line=d.length-1;var J,ee,x,S,A,k,I,P,F=K?this.font.preRenderedPages.h[Y].h[u.page]:this.font.pages.get(u.page);M._texture!=F&&M._set_texture(F),M.set_roundTranslation(0<=this.roundTranslation?this.roundTranslation:null!=M._texture&&M._texture.filter==wt.NEAREST?1:0),M.set_shader(K||null==this.font.pageShaders?null:this.font.pageShaders.h[u.page]),M.color=this.color,M.set_depth(this.depth),M.set_blending(this.blending),M.glyphX=l,M.glyphY=V,M.glyphAdvance=u.xAdvance*r+this.letterSpacing,M.glyph=u,1==f?(F=Math.max(this.clipTextX,y),k=Math.max(this.clipTextY,n),I=Math.min(this.clipTextX+this.clipTextWidth,y+t)-F,P=Math.min(this.clipTextY+this.clipTextHeight,n+i)-k,S=K?(S=this.font.pages.get(u.page),J=u.x*M._texture.width/S.width,ee=u.y*M._texture.height/S.height,x=u.width*M._texture.width/S.width,u.height*M._texture.height/S.height):(J=u.x/M._texture.density,ee=u.y/M._texture.density,x=u.width/M._texture.density,u.height/M._texture.density),J+=A=(F-y)*x/t,x-=A+(y+t-F-I)*x/t,ee+=A=(k-n)*S/i,S-=A+(n+i-k-P)*S/i,M.frameX=J,M.frameY=ee,M.frameWidth!=x&&-1!=(M.frameWidth=x)&&M.set_width(x),M.frameHeight!=S&&-1!=(M.frameHeight=S)&&M.set_height(S),M.set_x(F),M.set_y(k),M.set_width(I),M.set_height(P)):(K?(A=this.font.pages.get(u.page),F=u.width*M._texture.width/A.width,k=u.height*M._texture.height/A.height,M.frameX=u.x*M._texture.width/A.width,M.frameY=u.y*M._texture.height/A.height,M.frameWidth!=F&&-1!=(M.frameWidth=F)&&M.set_width(F),M.frameHeight!=k&&-1!=(M.frameHeight=k)&&M.set_height(k)):(I=u.width/M._texture.density,P=u.height/M._texture.density,M.frameX=u.x/M._texture.density,M.frameY=u.y/M._texture.density,M.frameWidth!=I&&-1!=(M.frameWidth=I)&&M.set_width(I),M.frameHeight!=P&&-1!=(M.frameHeight=P)&&M.set_height(P)),M.set_x(y),M.set_y(n),M.set_width(t),M.set_height(i)),M.set_anchorX(0),M.set_anchorY(0),d[d.length-1].push(M),R=l+Math.max((u.xOffset+u.width)*r,u.xAdvance*r),l+=u.xAdvance*r+this.letterSpacing}++c}}for(0<l&&_.push(l),O&&0<b&&(U=this.glyphQuads[b-1],O=_[_.length-1],O-=U.glyphAdvance,_[_.length-1]=O,U.glyphAdvance=0,U.set_visible(!1));b<this.glyphQuads.length;)(M=this.glyphQuads.pop()).destroy();for(var B=0,C=0,v=_.length;C<v;)c=C++,B=Math.max(_[c],B);switch(this.set_width(Math.round(1e3*B)/1e3),this.set_height(Math.round(1e3*((_.length-1)*this.lineHeight*this.font.fontData.lineHeight*r+this.font.fontData.lineHeight*r))/1e3),this.align._hx_index){case 1:for(C=0,v=_.length;C<v;)for(var ne=B-_[c=C++],D=0,T=(te=d[c]).length;D<T;)(M=te[w=D++]).set_x(M.x+ne);break;case 2:for(C=0,v=_.length;C<v;)for(var te,M,ne=.5*(B-_[c=C++]),D=0,T=(te=d[c]).length;D<T;)(M=te[w=D++]).set_x(M.x+ne)}if((-1==L||L==_.length)&&0<e&&-1!=E&&e>this.pointSize){for(var ie=0,le=this.fitWidth*E,C=0,v=_.length;C<v;)for(c=C++,D=0,T=_.length;D<T;){var w=D++,re=_[c]-_[w];if(le<(ie=ie<(re=re<0?-re:re)?re:ie))break}le<ie&&(O=this.computeGlyphQuads(e-this.pointSize,E,_.length),_.length<O)&&this.computeGlyphQuads(e,-1,_.length)}return _.length},lineForYPosition:function(e){this.contentDirty&&this.computeContent();var n,t=this.lineHeight*this.font.fontData.lineHeight*this.pointSize/this.font.fontData.pointSize,i=0;return t<=0?0:(i=0<(n=this.glyphQuads).length?n[n.length-1].line:i)<(n=(n=Math.floor(e/t))<0?0:n)?i:n},posInLineForX:function(e,n){this.contentDirty&&this.computeContent();var t=this.glyphQuads,i=0;if(0!=t.length&&0!=n)for(var l=0,r=t.length;l<r;){var s=t[l++];if(s.line==e){if(s.glyphX>=n)return i;if(s.glyphX+s.glyphAdvance>=n){var h=s.glyphX+s.glyphAdvance-n;if(n-s.glyphX<=h)return i}++i}else if(s.line>e)break}return i},indexForPosInLine:function(e,n){this.contentDirty&&this.computeContent();var t=this.glyphQuads;if(0==t.length)return 0;for(var i=0,l=t.length;i<l;){var r=t[i++];if(r.line==e&&r.posInLine>=n)return r.index+n-r.posInLine;if(r.line>e)return r.index-r.posInLine-(r.line-e)}return this.content.length},xPositionAtIndex:function(e){this.contentDirty&&this.computeContent();var n=this.glyphQuads;if(0==n.length)return 0;for(var t=0,i=n.length;t<i;){var l=t++,r=n[l];if(r.index>=e)return 0==r.glyphX&&r.index>e?1<=l?(l=n[l-1]).glyphX+l.glyphAdvance:0:r.glyphX}var s=n[n.length-1];return s.glyphX+s.glyphAdvance},lineForIndex:function(e){this.contentDirty&&this.computeContent();var n=this.glyphQuads;if(0==n.length)return 0;for(var t=0,i=n.length;t<i;){var l=n[t++];if(l.index>=e){if(l.posInLine>e-l.index){for(var r=l.index-l.posInLine,s=l.line;e<r;)--r,--s;return s}return l.line}}return n[n.length-1].line},posInLineForIndex:function(e){this.contentDirty&&this.computeContent();var n=this.glyphQuads;if(0!=n.length)for(var t=!1,i=-1,l=0,r=n.length;l<r;){var s=l++,h=n[s];if(h.index>=e){var a=h.posInLine+e-h.index;if(a<0)for(var o=s-1;0<=o;){var c=n[o];if(t||(t=!0,i=this.lineForIndex(e)),c.line==i)return a=c.posInLine+e-c.index;if(c.line<i)return 0;--o}return 0<=a?a:0}}return 0},fontDestroyed:function(e){this.set_font(he.app.defaultFont)},toString:function(){return null!=this.id?"Text("+this.id+" "+this.content+")":"Text("+this.content+")"},unbindEvents:function(){o.prototype.unbindEvents.call(this),this.offGlyphQuadsChange()},__class__:ut,__properties__:$extend(o.prototype.__properties__,{set_maxLineDiff:"set_maxLineDiff",set_fitWidth:"set_fitWidth",set_align:"set_align",set_preRenderedSize:"set_preRenderedSize",set_clipTextHeight:"set_clipTextHeight",set_clipTextWidth:"set_clipTextWidth",set_clipTextY:"set_clipTextY",set_clipTextX:"set_clipTextX",set_font:"set_font",set_letterSpacing:"set_letterSpacing",set_lineHeight:"set_lineHeight",set_pointSize:"set_pointSize",set_content:"set_content",set_color:"set_color",get_numLines:"get_numLines"})}),Oe["ceramic.TextAlign"]={__ename__:"ceramic.TextAlign",__constructs__:null,LEFT:{_hx_name:"LEFT",_hx_index:0,__enum__:"ceramic.TextAlign",toString:c},RIGHT:{_hx_name:"RIGHT",_hx_index:1,__enum__:"ceramic.TextAlign",toString:c},CENTER:{_hx_name:"CENTER",_hx_index:2,__enum__:"ceramic.TextAlign",toString:c}}),dt=(_t.__constructs__=[_t.LEFT,_t.RIGHT,_t.CENTER],function(e,n,t){this.unobservedText=null,this.textAutoruns=null,Ea.call(this,"text",e,n,t)}),bt=((E["ceramic.TextAsset"]=dt).__name__="ceramic.TextAsset",dt.__super__=Ea,dt.prototype=$extend(Ea.prototype,{textAutoruns:null,get_text:function(){var e,n,t=this.unobservedText;return null!=U.current&&(e=U.current,null!=(n=this.textAutoruns)||(n=U.getAutorunArray(),null!=(this.textAutoruns=n)))&&e.bindToAutorunArray(n),t},set_text:function(e){var n=this.unobservedText;return n!=(this.unobservedText=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitTextChange(e,n),null!=(n=this.textAutoruns))&&(this.textAutoruns=null,U.invalidateAutorunArray(n)),e},invalidateText:function(){var e=this.unobservedText,e=(this.emitTextChange(e,e),this.textAutoruns);null!=e&&(this.textAutoruns=null,U.invalidateAutorunArray(e))},unobservedText:null,__cbOnTextChange:null,__cbOnceTextChange:null,__cbOnOwnerUnbindTextChange:null,__cbOnceOwnerUnbindTextChange:null,emitTextChange:function(e,n){var t=0;if(null!=this.__cbOnTextChange&&(t+=this.__cbOnTextChange.length),null!=this.__cbOnceTextChange&&(t+=this.__cbOnceTextChange.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnTextChange)for(var s=0,h=this.__cbOnTextChange.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnTextChange[a],++r):--t}if(null!=this.__cbOnceTextChange){for(var o=null,c=null,s=0,h=this.__cbOnceTextChange.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceTextChange[a],this.__cbOnceTextChange[a]=null,u=this.__cbOnceOwnerUnbindTextChange[a],(this.__cbOnceOwnerUnbindTextChange[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindTextChange[a]),c.push(this.__cbOnceTextChange[a]))}this.__cbOnceOwnerUnbindTextChange=o,this.__cbOnceTextChange=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onTextChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event textChange because owner is destroyed!");var l=function(e){null!=t&&(i.offTextChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindTextChange&&(this.__cbOnOwnerUnbindTextChange=[]),this.__cbOnOwnerUnbindTextChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindTextChange&&(this.__cbOnOwnerUnbindTextChange=[]),this.__cbOnOwnerUnbindTextChange.push(null);null==this.__cbOnTextChange&&(this.__cbOnTextChange=[]),this.__cbOnTextChange.push(t)},onceTextChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event textChange because owner is destroyed!");var l=function(e){null!=t&&(i.offTextChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindTextChange&&(this.__cbOnceOwnerUnbindTextChange=[]),this.__cbOnceOwnerUnbindTextChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindTextChange&&(this.__cbOnceOwnerUnbindTextChange=[]),this.__cbOnceOwnerUnbindTextChange.push(null);null==this.__cbOnceTextChange&&(this.__cbOnceTextChange=[]),this.__cbOnceTextChange.push(t)},offTextChange:function(e){if(null!=e){var n;null!=this.__cbOnTextChange&&-1!=(n=this.__cbOnTextChange.indexOf(e))&&(this.__cbOnTextChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindTextChange[n])&&r(),this.__cbOnOwnerUnbindTextChange.splice(n,1)),null!=this.__cbOnceTextChange&&-1!=(n=this.__cbOnceTextChange.indexOf(e))&&(this.__cbOnceTextChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindTextChange[n])&&r(),this.__cbOnceOwnerUnbindTextChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindTextChange){for(var t=0,i=this.__cbOnOwnerUnbindTextChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindTextChange[l])&&r()}this.__cbOnOwnerUnbindTextChange=null}if(null!=this.__cbOnceOwnerUnbindTextChange){for(t=0,i=this.__cbOnceOwnerUnbindTextChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindTextChange[l])&&r()}this.__cbOnceOwnerUnbindTextChange=null}this.__cbOnTextChange=null,this.__cbOnceTextChange=null}},listensTextChange:function(){return null!=this.__cbOnTextChange&&0<this.__cbOnTextChange.length||null!=this.__cbOnceTextChange&&0<this.__cbOnceTextChange.length},load:function(){var n=this;if(this.set_status(Fe.LOADING),null==this.path)he.app.logger.warning("Cannot load text asset if path is undefined.",{fileName:"../../../../ceramic/runtime/src/ceramic/TextAsset.hx",lineNumber:62,className:"ceramic.TextAsset",methodName:"load"}),this.set_status(Fe.BROKEN),this.emitComplete(!1);else{var e={};if(null!=this.owner&&(e.immediate=this.owner.immediate,e.loadMethod=this.owner.loadMethod),null!=this.options)for(var t=0,i=K.fields(this.options);t<i.length;){var l=i[t];++t,e[l]=K.field(this.options,l)}var r=this.path,s=fe.realAssetPath(r,this.runtimeAssets),h=fe.getReloadCount(s);0<h&&(s+="?hot="+h,r+="?hot="+h),he.app.logger.info("Load text "+r,{fileName:"../../../../ceramic/runtime/src/ceramic/TextAsset.hx",lineNumber:88,className:"ceramic.TextAsset",methodName:"load"}),he.app.backend.texts.load(s,e,function(e){null!=e?(n.set_text(e),n.set_status(Fe.READY),n.emitComplete(!0)):(n.set_status(Fe.BROKEN),he.app.logger.error("Failed to load text at path: "+n.path,{fileName:"../../../../ceramic/runtime/src/ceramic/TextAsset.hx",lineNumber:98,className:"ceramic.TextAsset",methodName:"load"}),n.emitComplete(!1))})}},assetFilesDidChange:function(e,n){var t=-1,n=(Object.prototype.hasOwnProperty.call(n.h,this.path)&&(t=n.h[this.path]),-1);(n=Object.prototype.hasOwnProperty.call(e.h,this.path)?e.h[this.path]:n)!=t&&(he.app.logger.info("Reload text (file has changed)",{fileName:"../../../../ceramic/runtime/src/ceramic/TextAsset.hx",lineNumber:125,className:"ceramic.TextAsset",methodName:"assetFilesDidChange"}),this.load())},destroy:function(){this._lifecycleState<=-2||(this._lifecycleState=-2,this._lifecycleState=-1,Ea.prototype.destroy.call(this),this.set_text(null))},unbindEvents:function(){Ea.prototype.unbindEvents.call(this),this.offTextChange()},__class__:dt,__properties__:$extend(Ea.prototype.__properties__,{set_text:"set_text",get_text:"get_text"})}),function(){this.delegate=null,this.selectionEnd=-1,this.selectionStart=-1,this.text="",this.multiline=!1,this.allowMovingCursor=!1,this.invertedSelection=!1,this.rmetaPressed=!1,this.lmetaPressed=!1,this.rctrlPressed=!1,this.lctrlPressed=!1,this.rshiftPressed=!1,this.lshiftPressed=!1,this.explicitPosLine=0,this.explicitPosInLine=0,this.inputActive=!1}),gt=((E["ceramic.TextInput"]=bt).__name__="ceramic.TextInput",bt.__interfaces__=[i],bt.prototype={__cbOnUpdate:null,__cbOnceUpdate:null,__cbOnOwnerUnbindUpdate:null,__cbOnceOwnerUnbindUpdate:null,emitUpdate:function(e){var n=0;if(null!=this.__cbOnUpdate&&(n+=this.__cbOnUpdate.length),null!=this.__cbOnceUpdate&&(n+=this.__cbOnceUpdate.length),0<n){var t=C.pool(n),i=t.get(),l=0;if(null!=this.__cbOnUpdate)for(var r=0,s=this.__cbOnUpdate.length;r<s;){var h=r++;!0?(i.vector[l]=this.__cbOnUpdate[h],++l):--n}if(null!=this.__cbOnceUpdate){for(var a=null,o=null,r=0,s=this.__cbOnceUpdate.length;r<s;){var c,h=r++;!0?(i.vector[l]=this.__cbOnceUpdate[h],this.__cbOnceUpdate[h]=null,c=this.__cbOnceOwnerUnbindUpdate[h],(this.__cbOnceOwnerUnbindUpdate[h]=null)!=c&&c(),++l):(--n,null==a&&(a=[],o=[],0),a.push(this.__cbOnceOwnerUnbindUpdate[h]),o.push(this.__cbOnceUpdate[h]))}this.__cbOnceOwnerUnbindUpdate=a,this.__cbOnceUpdate=o}for(r=0,s=n;r<s;){l=r++;(0,i.vector[l])(e)}t.release(i)}},onUpdate:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event update because owner is destroyed!");var l=function(e){null!=t&&(i.offUpdate(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindUpdate&&(this.__cbOnOwnerUnbindUpdate=[]),this.__cbOnOwnerUnbindUpdate.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindUpdate&&(this.__cbOnOwnerUnbindUpdate=[]),this.__cbOnOwnerUnbindUpdate.push(null);null==this.__cbOnUpdate&&(this.__cbOnUpdate=[]),this.__cbOnUpdate.push(t)},onceUpdate:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event update because owner is destroyed!");var l=function(e){null!=t&&(i.offUpdate(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindUpdate&&(this.__cbOnceOwnerUnbindUpdate=[]),this.__cbOnceOwnerUnbindUpdate.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindUpdate&&(this.__cbOnceOwnerUnbindUpdate=[]),this.__cbOnceOwnerUnbindUpdate.push(null);null==this.__cbOnceUpdate&&(this.__cbOnceUpdate=[]),this.__cbOnceUpdate.push(t)},offUpdate:function(e){if(null!=e){var n;null!=this.__cbOnUpdate&&-1!=(n=this.__cbOnUpdate.indexOf(e))&&(this.__cbOnUpdate.splice(n,1),null!=(r=this.__cbOnOwnerUnbindUpdate[n])&&r(),this.__cbOnOwnerUnbindUpdate.splice(n,1)),null!=this.__cbOnceUpdate&&-1!=(n=this.__cbOnceUpdate.indexOf(e))&&(this.__cbOnceUpdate.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindUpdate[n])&&r(),this.__cbOnceOwnerUnbindUpdate.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindUpdate){for(var t=0,i=this.__cbOnOwnerUnbindUpdate.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindUpdate[l])&&r()}this.__cbOnOwnerUnbindUpdate=null}if(null!=this.__cbOnceOwnerUnbindUpdate){for(t=0,i=this.__cbOnceOwnerUnbindUpdate.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindUpdate[l])&&r()}this.__cbOnceOwnerUnbindUpdate=null}this.__cbOnUpdate=null,this.__cbOnceUpdate=null}},listensUpdate:function(){return null!=this.__cbOnUpdate&&0<this.__cbOnUpdate.length||null!=this.__cbOnceUpdate&&0<this.__cbOnceUpdate.length},__cbOnEnter:null,__cbOnceEnter:null,__cbOnOwnerUnbindEnter:null,__cbOnceOwnerUnbindEnter:null,emitEnter:function(){var e=0;if(null!=this.__cbOnEnter&&(e+=this.__cbOnEnter.length),null!=this.__cbOnceEnter&&(e+=this.__cbOnceEnter.length),0<e){var n=C.pool(e),t=n.get(),i=0;if(null!=this.__cbOnEnter)for(var l=0,r=this.__cbOnEnter.length;l<r;){var s=l++;!0?(t.vector[i]=this.__cbOnEnter[s],++i):--e}if(null!=this.__cbOnceEnter){for(var h=null,a=null,l=0,r=this.__cbOnceEnter.length;l<r;){var o,s=l++;!0?(t.vector[i]=this.__cbOnceEnter[s],this.__cbOnceEnter[s]=null,o=this.__cbOnceOwnerUnbindEnter[s],(this.__cbOnceOwnerUnbindEnter[s]=null)!=o&&o(),++i):(--e,null==h&&(h=[],a=[],0),h.push(this.__cbOnceOwnerUnbindEnter[s]),a.push(this.__cbOnceEnter[s]))}this.__cbOnceOwnerUnbindEnter=h,this.__cbOnceEnter=a}for(l=0,r=e;l<r;){i=l++;(0,t.vector[i])()}n.release(t)}},onEnter:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event enter because owner is destroyed!");var l=function(e){null!=t&&(i.offEnter(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindEnter&&(this.__cbOnOwnerUnbindEnter=[]),this.__cbOnOwnerUnbindEnter.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindEnter&&(this.__cbOnOwnerUnbindEnter=[]),this.__cbOnOwnerUnbindEnter.push(null);null==this.__cbOnEnter&&(this.__cbOnEnter=[]),this.__cbOnEnter.push(t)},onceEnter:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event enter because owner is destroyed!");var l=function(e){null!=t&&(i.offEnter(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindEnter&&(this.__cbOnceOwnerUnbindEnter=[]),this.__cbOnceOwnerUnbindEnter.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindEnter&&(this.__cbOnceOwnerUnbindEnter=[]),this.__cbOnceOwnerUnbindEnter.push(null);null==this.__cbOnceEnter&&(this.__cbOnceEnter=[]),this.__cbOnceEnter.push(t)},offEnter:function(e){if(null!=e){var n;null!=this.__cbOnEnter&&-1!=(n=this.__cbOnEnter.indexOf(e))&&(this.__cbOnEnter.splice(n,1),null!=(r=this.__cbOnOwnerUnbindEnter[n])&&r(),this.__cbOnOwnerUnbindEnter.splice(n,1)),null!=this.__cbOnceEnter&&-1!=(n=this.__cbOnceEnter.indexOf(e))&&(this.__cbOnceEnter.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindEnter[n])&&r(),this.__cbOnceOwnerUnbindEnter.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindEnter){for(var t=0,i=this.__cbOnOwnerUnbindEnter.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindEnter[l])&&r()}this.__cbOnOwnerUnbindEnter=null}if(null!=this.__cbOnceOwnerUnbindEnter){for(t=0,i=this.__cbOnceOwnerUnbindEnter.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindEnter[l])&&r()}this.__cbOnceOwnerUnbindEnter=null}this.__cbOnEnter=null,this.__cbOnceEnter=null}},listensEnter:function(){return null!=this.__cbOnEnter&&0<this.__cbOnEnter.length||null!=this.__cbOnceEnter&&0<this.__cbOnceEnter.length},__cbOnEscape:null,__cbOnceEscape:null,__cbOnOwnerUnbindEscape:null,__cbOnceOwnerUnbindEscape:null,emitEscape:function(){var e=0;if(null!=this.__cbOnEscape&&(e+=this.__cbOnEscape.length),null!=this.__cbOnceEscape&&(e+=this.__cbOnceEscape.length),0<e){var n=C.pool(e),t=n.get(),i=0;if(null!=this.__cbOnEscape)for(var l=0,r=this.__cbOnEscape.length;l<r;){var s=l++;!0?(t.vector[i]=this.__cbOnEscape[s],++i):--e}if(null!=this.__cbOnceEscape){for(var h=null,a=null,l=0,r=this.__cbOnceEscape.length;l<r;){var o,s=l++;!0?(t.vector[i]=this.__cbOnceEscape[s],this.__cbOnceEscape[s]=null,o=this.__cbOnceOwnerUnbindEscape[s],(this.__cbOnceOwnerUnbindEscape[s]=null)!=o&&o(),++i):(--e,null==h&&(h=[],a=[],0),h.push(this.__cbOnceOwnerUnbindEscape[s]),a.push(this.__cbOnceEscape[s]))}this.__cbOnceOwnerUnbindEscape=h,this.__cbOnceEscape=a}for(l=0,r=e;l<r;){i=l++;(0,t.vector[i])()}n.release(t)}},onEscape:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event escape because owner is destroyed!");var l=function(e){null!=t&&(i.offEscape(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindEscape&&(this.__cbOnOwnerUnbindEscape=[]),this.__cbOnOwnerUnbindEscape.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindEscape&&(this.__cbOnOwnerUnbindEscape=[]),this.__cbOnOwnerUnbindEscape.push(null);null==this.__cbOnEscape&&(this.__cbOnEscape=[]),this.__cbOnEscape.push(t)},onceEscape:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event escape because owner is destroyed!");var l=function(e){null!=t&&(i.offEscape(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindEscape&&(this.__cbOnceOwnerUnbindEscape=[]),this.__cbOnceOwnerUnbindEscape.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindEscape&&(this.__cbOnceOwnerUnbindEscape=[]),this.__cbOnceOwnerUnbindEscape.push(null);null==this.__cbOnceEscape&&(this.__cbOnceEscape=[]),this.__cbOnceEscape.push(t)},offEscape:function(e){if(null!=e){var n;null!=this.__cbOnEscape&&-1!=(n=this.__cbOnEscape.indexOf(e))&&(this.__cbOnEscape.splice(n,1),null!=(r=this.__cbOnOwnerUnbindEscape[n])&&r(),this.__cbOnOwnerUnbindEscape.splice(n,1)),null!=this.__cbOnceEscape&&-1!=(n=this.__cbOnceEscape.indexOf(e))&&(this.__cbOnceEscape.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindEscape[n])&&r(),this.__cbOnceOwnerUnbindEscape.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindEscape){for(var t=0,i=this.__cbOnOwnerUnbindEscape.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindEscape[l])&&r()}this.__cbOnOwnerUnbindEscape=null}if(null!=this.__cbOnceOwnerUnbindEscape){for(t=0,i=this.__cbOnceOwnerUnbindEscape.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindEscape[l])&&r()}this.__cbOnceOwnerUnbindEscape=null}this.__cbOnEscape=null,this.__cbOnceEscape=null}},listensEscape:function(){return null!=this.__cbOnEscape&&0<this.__cbOnEscape.length||null!=this.__cbOnceEscape&&0<this.__cbOnceEscape.length},__cbOnSelection:null,__cbOnceSelection:null,__cbOnOwnerUnbindSelection:null,__cbOnceOwnerUnbindSelection:null,emitSelection:function(e,n){var t=0;if(null!=this.__cbOnSelection&&(t+=this.__cbOnSelection.length),null!=this.__cbOnceSelection&&(t+=this.__cbOnceSelection.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnSelection)for(var s=0,h=this.__cbOnSelection.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnSelection[a],++r):--t}if(null!=this.__cbOnceSelection){for(var o=null,c=null,s=0,h=this.__cbOnceSelection.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceSelection[a],this.__cbOnceSelection[a]=null,u=this.__cbOnceOwnerUnbindSelection[a],(this.__cbOnceOwnerUnbindSelection[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindSelection[a]),c.push(this.__cbOnceSelection[a]))}this.__cbOnceOwnerUnbindSelection=o,this.__cbOnceSelection=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onSelection:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event selection because owner is destroyed!");var l=function(e){null!=t&&(i.offSelection(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindSelection&&(this.__cbOnOwnerUnbindSelection=[]),this.__cbOnOwnerUnbindSelection.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindSelection&&(this.__cbOnOwnerUnbindSelection=[]),this.__cbOnOwnerUnbindSelection.push(null);null==this.__cbOnSelection&&(this.__cbOnSelection=[]),this.__cbOnSelection.push(t)},onceSelection:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event selection because owner is destroyed!");var l=function(e){null!=t&&(i.offSelection(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindSelection&&(this.__cbOnceOwnerUnbindSelection=[]),this.__cbOnceOwnerUnbindSelection.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindSelection&&(this.__cbOnceOwnerUnbindSelection=[]),this.__cbOnceOwnerUnbindSelection.push(null);null==this.__cbOnceSelection&&(this.__cbOnceSelection=[]),this.__cbOnceSelection.push(t)},offSelection:function(e){if(null!=e){var n;null!=this.__cbOnSelection&&-1!=(n=this.__cbOnSelection.indexOf(e))&&(this.__cbOnSelection.splice(n,1),null!=(r=this.__cbOnOwnerUnbindSelection[n])&&r(),this.__cbOnOwnerUnbindSelection.splice(n,1)),null!=this.__cbOnceSelection&&-1!=(n=this.__cbOnceSelection.indexOf(e))&&(this.__cbOnceSelection.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindSelection[n])&&r(),this.__cbOnceOwnerUnbindSelection.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindSelection){for(var t=0,i=this.__cbOnOwnerUnbindSelection.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindSelection[l])&&r()}this.__cbOnOwnerUnbindSelection=null}if(null!=this.__cbOnceOwnerUnbindSelection){for(t=0,i=this.__cbOnceOwnerUnbindSelection.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindSelection[l])&&r()}this.__cbOnceOwnerUnbindSelection=null}this.__cbOnSelection=null,this.__cbOnceSelection=null}},listensSelection:function(){return null!=this.__cbOnSelection&&0<this.__cbOnSelection.length||null!=this.__cbOnceSelection&&0<this.__cbOnceSelection.length},__cbOnStop:null,__cbOnceStop:null,__cbOnOwnerUnbindStop:null,__cbOnceOwnerUnbindStop:null,emitStop:function(){var e=0;if(null!=this.__cbOnStop&&(e+=this.__cbOnStop.length),null!=this.__cbOnceStop&&(e+=this.__cbOnceStop.length),0<e){var n=C.pool(e),t=n.get(),i=0;if(null!=this.__cbOnStop)for(var l=0,r=this.__cbOnStop.length;l<r;){var s=l++;!0?(t.vector[i]=this.__cbOnStop[s],++i):--e}if(null!=this.__cbOnceStop){for(var h=null,a=null,l=0,r=this.__cbOnceStop.length;l<r;){var o,s=l++;!0?(t.vector[i]=this.__cbOnceStop[s],this.__cbOnceStop[s]=null,o=this.__cbOnceOwnerUnbindStop[s],(this.__cbOnceOwnerUnbindStop[s]=null)!=o&&o(),++i):(--e,null==h&&(h=[],a=[],0),h.push(this.__cbOnceOwnerUnbindStop[s]),a.push(this.__cbOnceStop[s]))}this.__cbOnceOwnerUnbindStop=h,this.__cbOnceStop=a}for(l=0,r=e;l<r;){i=l++;(0,t.vector[i])()}n.release(t)}},onStop:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event stop because owner is destroyed!");var l=function(e){null!=t&&(i.offStop(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindStop&&(this.__cbOnOwnerUnbindStop=[]),this.__cbOnOwnerUnbindStop.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindStop&&(this.__cbOnOwnerUnbindStop=[]),this.__cbOnOwnerUnbindStop.push(null);null==this.__cbOnStop&&(this.__cbOnStop=[]),this.__cbOnStop.push(t)},onceStop:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event stop because owner is destroyed!");var l=function(e){null!=t&&(i.offStop(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindStop&&(this.__cbOnceOwnerUnbindStop=[]),this.__cbOnceOwnerUnbindStop.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindStop&&(this.__cbOnceOwnerUnbindStop=[]),this.__cbOnceOwnerUnbindStop.push(null);null==this.__cbOnceStop&&(this.__cbOnceStop=[]),this.__cbOnceStop.push(t)},offStop:function(e){if(null!=e){var n;null!=this.__cbOnStop&&-1!=(n=this.__cbOnStop.indexOf(e))&&(this.__cbOnStop.splice(n,1),null!=(r=this.__cbOnOwnerUnbindStop[n])&&r(),this.__cbOnOwnerUnbindStop.splice(n,1)),null!=this.__cbOnceStop&&-1!=(n=this.__cbOnceStop.indexOf(e))&&(this.__cbOnceStop.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindStop[n])&&r(),this.__cbOnceOwnerUnbindStop.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindStop){for(var t=0,i=this.__cbOnOwnerUnbindStop.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindStop[l])&&r()}this.__cbOnOwnerUnbindStop=null}if(null!=this.__cbOnceOwnerUnbindStop){for(t=0,i=this.__cbOnceOwnerUnbindStop.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindStop[l])&&r()}this.__cbOnceOwnerUnbindStop=null}this.__cbOnStop=null,this.__cbOnceStop=null}},listensStop:function(){return null!=this.__cbOnStop&&0<this.__cbOnStop.length||null!=this.__cbOnceStop&&0<this.__cbOnceStop.length},inputActive:null,explicitPosInLine:null,explicitPosLine:null,lshiftPressed:null,rshiftPressed:null,lctrlPressed:null,rctrlPressed:null,lmetaPressed:null,rmetaPressed:null,invertedSelection:null,allowMovingCursor:null,multiline:null,text:null,selectionStart:null,selectionEnd:null,delegate:null,start:function(e,n,t,i,l,r,s,h,a,o){null==a&&(a=!1),null==h&&(h=-1),null==s&&(s=-1),null==r&&(r=!1),this.inputActive&&this.stop(),this.inputActive=!0,this.set_text(e),this.multiline=r,this.allowMovingCursor=a,this.delegate=o,this.explicitPosInLine=0,this.explicitPosLine=0,this.invertedSelection=!1,h<(s=s<0?e.length:s)&&(h=s),this.selectionStart=s,this.selectionEnd=h;var r=he.app.screen.matrix,a=(n*r.a+t*r.c+r.tx)/ee.app.screenDensity,o=(n*r.b+t*r.d+r.ty)/ee.app.screenDensity,c=((n+i)*r.a+(t+l)*r.c+r.tx)/ee.app.screenDensity-a,n=((n+i)*r.b+(t+l)*r.d+r.ty)/ee.app.screenDensity-o;he.app.backend.textInput.start(e,a,o,c,n),this.emitUpdate(e),this.emitSelection(s,h)},stop:function(){this.inputActive&&(this.inputActive=!1,this.selectionStart=-1,this.selectionEnd=-1,this.invertedSelection=!1,this.delegate=null,he.app.backend.textInput.stop(),this.emitStop())},updateSelection:function(e,n,t){this.selectionStart==e&&this.selectionEnd==n||(this.selectionStart=e,this.selectionEnd=n,null!=t&&(this.invertedSelection=t),this.emitSelection(e,n))},appendText:function(e){var n;this.lctrlPressed||this.rctrlPressed||(n="",0<this.selectionStart&&(n+=this.text.substring(0,this.selectionStart)),n=(n+=e)+this.text.substring(this.selectionEnd),this.selectionStart+=e.length,this.selectionEnd=this.selectionStart,this.invertedSelection=!1,this.set_text(n),this.emitUpdate(this.text),this.emitSelection(this.selectionStart,this.selectionEnd),this.explicitPosInLine=this.posInCurrentLine(this.selectionStart),this.explicitPosLine=this.lineForPos(this.selectionStart))},space:function(){this.appendText(" ")},backspace:function(){var e=this.selectionEnd>this.selectionStart,n="";1<this.selectionStart&&(n+=this.text.substring(0,e?this.selectionStart:this.selectionStart-1)),n+=this.text.substring(this.selectionEnd),0<this.selectionStart&&!e&&this.selectionStart--,this.selectionEnd=this.selectionStart,this.set_text(n),this.emitUpdate(this.text),this.emitSelection(this.selectionStart,this.selectionEnd),this.explicitPosInLine=this.posInCurrentLine(this.selectionStart),this.explicitPosLine=this.lineForPos(this.selectionStart)},moveLeft:function(){this.allowMovingCursor&&(this.lshiftPressed||this.rshiftPressed?this.invertedSelection?(0<this.selectionStart&&(this.selectionStart--,this.emitSelection(this.selectionStart,this.selectionEnd)),this.explicitPosInLine=this.posInCurrentLine(this.selectionStart),this.explicitPosLine=this.lineForPos(this.selectionStart)):this.selectionEnd>this.selectionStart?(this.selectionEnd--,this.emitSelection(this.selectionStart,this.selectionEnd),this.explicitPosInLine=this.posInCurrentLine(this.selectionEnd),this.explicitPosLine=this.lineForPos(this.selectionEnd)):(0<this.selectionStart&&(this.invertedSelection=!0,this.selectionStart--,this.emitSelection(this.selectionStart,this.selectionEnd)),this.explicitPosInLine=this.posInCurrentLine(this.selectionStart),this.explicitPosLine=this.lineForPos(this.selectionStart)):(this.invertedSelection=!1,this.selectionEnd>this.selectionStart?(this.selectionEnd=this.selectionStart,this.emitSelection(this.selectionStart,this.selectionEnd)):0<this.selectionStart&&(this.selectionStart--,this.selectionEnd=this.selectionStart,this.emitSelection(this.selectionStart,this.selectionEnd)),this.explicitPosInLine=this.posInCurrentLine(this.selectionStart),this.explicitPosLine=this.lineForPos(this.selectionStart)))},moveRight:function(){var e;this.allowMovingCursor&&(this.lshiftPressed||this.rshiftPressed?(e=this.text.length,this.selectionStart==this.selectionEnd?(this.invertedSelection=!1,this.selectionEnd<e&&(this.selectionEnd++,this.emitSelection(this.selectionStart,this.selectionEnd)),this.explicitPosInLine=this.posInCurrentLine(this.selectionEnd),this.explicitPosLine=this.lineForPos(this.selectionEnd)):this.invertedSelection?(this.selectionStart++,this.emitSelection(this.selectionStart,this.selectionEnd),this.explicitPosInLine=this.posInCurrentLine(this.selectionStart),this.explicitPosLine=this.lineForPos(this.selectionStart)):(this.selectionEnd<e&&(this.selectionEnd++,this.emitSelection(this.selectionStart,this.selectionEnd)),this.explicitPosInLine=this.posInCurrentLine(this.selectionEnd),this.explicitPosLine=this.lineForPos(this.selectionEnd))):(this.invertedSelection=!1,this.selectionEnd>this.selectionStart?(this.selectionStart=this.selectionEnd,this.emitSelection(this.selectionStart,this.selectionEnd)):this.selectionStart<this.text.length&&(this.selectionStart++,this.selectionEnd=this.selectionStart,this.emitSelection(this.selectionStart,this.selectionEnd)),this.explicitPosInLine=this.posInCurrentLine(this.selectionStart),this.explicitPosLine=this.lineForPos(this.selectionStart)))},moveUp:function(){var e,n,t,i;this.allowMovingCursor&&(this.lshiftPressed||this.rshiftPressed?(e=this.lineForPos(this.selectionStart),n=this.lineForPos(this.selectionEnd),!this.invertedSelection&&e<n?(i=this.explicitPosInLine,t=n,null!=this.delegate&&(i=this.delegate.textInputClosestPositionInLine(this.explicitPosInLine,this.explicitPosLine,t-1)),n=this.globalPosForLine(t-1,i),this.selectionEnd=0|Math.max(this.selectionStart,n),this.emitSelection(this.selectionStart,this.selectionEnd)):0<this.selectionStart&&(this.invertedSelection=!0,0<e?(i=this.explicitPosInLine,t=e,null!=this.delegate&&(i=this.delegate.textInputClosestPositionInLine(this.explicitPosInLine,this.explicitPosLine,t-1)),this.selectionStart=this.globalPosForLine(t-1,i)):this.selectionStart=0,this.emitSelection(this.selectionStart,this.selectionEnd))):(this.invertedSelection=!1,0<this.selectionStart&&0<(t=this.lineForPos(this.selectionStart))?(i=this.explicitPosInLine,null!=this.delegate&&(i=this.delegate.textInputClosestPositionInLine(this.explicitPosInLine,this.explicitPosLine,t-1)),this.selectionStart=this.globalPosForLine(t-1,i),this.selectionEnd=this.selectionStart):(this.selectionStart=0,this.selectionEnd=0),this.emitSelection(this.selectionStart,this.selectionEnd)))},moveDown:function(){var e,n,t,i,l,r,s;this.allowMovingCursor&&(e=this.text.length,this.lshiftPressed||this.rshiftPressed?(n=this.lineForPos(this.selectionStart),t=this.lineForPos(this.selectionEnd),this.invertedSelection?this.invertedSelection&&(n<t?(s=this.explicitPosInLine,l=n,null!=this.delegate&&(s=this.delegate.textInputClosestPositionInLine(this.explicitPosInLine,this.explicitPosLine,l+1)),i=this.globalPosForLine(l+1,s),this.selectionStart=0|Math.min(this.selectionEnd,i),this.emitSelection(this.selectionStart,this.selectionEnd)):this.selectionEnd<e-1?(this.invertedSelection=!1,l=n,r=this.numLines(),s=this.explicitPosInLine,l<r-1?(null!=this.delegate&&(s=this.delegate.textInputClosestPositionInLine(this.explicitPosInLine,this.explicitPosLine,l+1)),this.selectionEnd=this.globalPosForLine(l+1,s)):this.selectionEnd=e,this.emitSelection(this.selectionStart,this.selectionEnd)):this.selectionEnd<e&&(this.invertedSelection=!1,this.selectionEnd=e,this.emitSelection(this.selectionStart,this.selectionEnd))):this.selectionEnd<e-1?(s=this.explicitPosInLine,(l=t)<(r=this.numLines())-1?(null!=this.delegate&&(s=this.delegate.textInputClosestPositionInLine(this.explicitPosInLine,this.explicitPosLine,l+1)),this.selectionEnd=this.globalPosForLine(l+1,s)):this.selectionEnd=e,this.emitSelection(this.selectionStart,this.selectionEnd)):this.selectionEnd<e&&(this.selectionEnd=e,this.emitSelection(this.selectionStart,this.selectionEnd))):(this.invertedSelection=!1,this.selectionEnd<e-1&&(l=this.lineForPos(this.selectionEnd))<(r=this.numLines())-1?(s=this.explicitPosInLine,null!=this.delegate&&(s=this.delegate.textInputClosestPositionInLine(this.explicitPosInLine,this.explicitPosLine,l+1)),this.selectionStart=this.globalPosForLine(l+1,s)):this.selectionStart=e,this.selectionEnd=this.selectionStart,this.emitSelection(this.selectionStart,this.selectionEnd)))},enter:function(){this.emitEnter(),this.inputActive&&this.multiline&&this.appendText("\n")},kpEnter:function(){this.enter()},escape:function(){this.emitEscape(),this.stop()},lshiftDown:function(){this.lshiftPressed=!0},lshiftUp:function(){this.lshiftPressed=!1},rshiftDown:function(){this.rshiftPressed=!0},rshiftUp:function(){this.rshiftPressed=!1},lctrlDown:function(){this.lctrlPressed=!0},lctrlUp:function(){this.lctrlPressed=!1},rctrlDown:function(){this.rctrlPressed=!0},rctrlUp:function(){this.rctrlPressed=!1},lmetaDown:function(){this.lmetaPressed=!0},lmetaUp:function(){this.lmetaPressed=!1},rmetaDown:function(){this.rmetaPressed=!0},rmetaUp:function(){this.rmetaPressed=!1},posInCurrentLine:function(e){if(null!=this.delegate)return this.delegate.textInputPosInLineForIndex(e);for(var n=this.text,t=0;0<e;){if("\n"==n.charAt(e)&&0<t){--t;break}--e,++t}return t},lineForPos:function(e){if(null!=this.delegate)return this.delegate.textInputLineForIndex(e);for(var n=this.text,t=0,i=0;i<e;)"\n"==n.charAt(i)&&++t,++i;return t},numLines:function(){return null!=this.delegate?this.delegate.textInputNumberOfLines():this.text.split("\n").length},globalPosForLine:function(e,n){if(null!=this.delegate)return this.delegate.textInputIndexForPosInLine(e,n);for(var t=this.text,i=0,l=t.length,r=0;i<l;){var s=t.charAt(i);if(r==e){if(!(0<n))break;if("\n"==s)break;--n}else"\n"==s&&++r;++i}return i},set_text:function(e){var n,t,i;return this.text!=e&&(n=(this.text=e).length,t=this.selectionStart,(i=n<(i=this.selectionEnd)?n:i)<t&&(t=i),this.updateSelection(t,i)),e},unbindEvents:function(){this.offUpdate(),this.offEnter(),this.offEscape(),this.offSelection(),this.offStop()},__class__:bt,__properties__:{set_text:"set_text"}},(E["ceramic.TextView"]=w1).__name__="ceramic.TextView",w1.__super__=f0,w1.prototype=$extend(f0.prototype,{text:null,verticalAlign:null,set_verticalAlign:function(e){return this.verticalAlign!=e&&(this.verticalAlign=e,this.layoutDirty=!0),e},get_font:function(){return this.text.font},set_font:function(e){return this.text.font!=e&&(this.text.set_font(e),this.layoutDirty=!0),e},get_preRenderedSize:function(){return this.text.preRenderedSize},set_preRenderedSize:function(e){return this.text.preRenderedSize!=e&&(this.text.set_preRenderedSize(e),this.layoutDirty=!0),e},get_textColor:function(){return this.text.color},set_textColor:function(e){return this.text.color!=e&&this.text.set_color(e),e},get_textAlpha:function(){return this.text.alpha},set_textAlpha:function(e){return this.text.alpha!=e&&this.text.set_alpha(e),e},get_content:function(){return this.text.content},set_content:function(e){return this.text.content!=e&&(this.text.set_content(e),this.layoutDirty=!0),e},get_pointSize:function(){return this.text.pointSize},set_pointSize:function(e){return this.text.pointSize!=e&&(this.text.set_pointSize(e),this.layoutDirty=!0),e},minHeight:null,set_minHeight:function(e){return this.minHeight!=e&&(this.minHeight=e,this.layoutDirty=!0),e},get_lineHeight:function(){return this.text.lineHeight},set_lineHeight:function(e){return this.text.lineHeight!=e&&(this.text.set_lineHeight(e),this.layoutDirty=!0),e},get_letterSpacing:function(){return this.text.letterSpacing},set_letterSpacing:function(e){return this.text.letterSpacing!=e&&(this.text.set_letterSpacing(e),this.layoutDirty=!0),e},get_align:function(){return this.text.align},set_align:function(e){return this.text.align!=e&&(this.text.set_align(e),this.layoutDirty=!0),e},centerIfOneLine:null,set_centerIfOneLine:function(e){return this.centerIfOneLine!=e&&(this.centerIfOneLine=e,this.layoutDirty=!0),e},get_maxLineDiff:function(){return this.text.maxLineDiff},set_maxLineDiff:function(e){return this.text.maxLineDiff!=e&&(this.text.set_maxLineDiff(e),this.layoutDirty=!0),e},noFitWidth:null,set_noFitWidth:function(e){return this.noFitWidth!=e&&(this.noFitWidth=e,this.layoutDirty=!0),e},computeSize:function(e,n,t,i){f0.prototype.computeSize.call(this,e,n,t,i);var l=this.computedSize.computedWidth,r=this.computedSize.computedHeight,s=!1,h=!1,a=this.viewWidth,o=!(-60001.1<a&&a<-60000.9);o||(s=!0);var c;(h=-60001.1<(a=this.viewHeight)&&a<-60000.9?!0:h)||s?(!this.noFitWidth&&0<l?o?this.text.set_fitWidth(l-this.paddingLeft-this.paddingRight):this.text.set_fitWidth(l):this.text.set_fitWidth(-1),a=this.text.get_width(),c=this.text.get_height(),h&&(r=c),s&&(l=a)):!this.noFitWidth&&o&&0<l?this.text.set_fitWidth(l-this.paddingLeft-this.paddingRight):this.text.set_fitWidth(-1),1!=(1&t)&&e<l&&(l=e),2!=(2&t)&&l<e&&(l=e),4!=(4&t)&&n<r&&(r=n);8!=(8&t)&&r<n&&(r=n),s&&(l+=this.paddingLeft+this.paddingRight),h&&(r+=this.paddingTop+this.paddingBottom),r<this.minHeight&&(r=this.minHeight),l=Math.round(l),r=Math.round(r),i?this.persistComputedSize(e,n,t,l,r).computedFitWidth=this.text.fitWidth:this.assignComputedSize(l,r)},layout:function(){var e=this.paddingLeft,n=this.get_width(),t=0==e?0:e<-39999.9&&-60000.1<e?.01*(e+5e4)*n:-60002.1<e&&e<-60001.9?n:e,e=this.paddingTop,n=this.get_height(),i=0==e?0:e<-39999.9&&-60000.1<e?.01*(e+5e4)*n:-60002.1<e&&e<-60001.9?n:e,e=this.paddingRight,n=this.get_width(),l=0==e?0:e<-39999.9&&-60000.1<e?.01*(e+5e4)*n:-60002.1<e&&e<-60001.9?n:e,e=this.paddingBottom,n=this.get_height(),r=0==e?0:e<-39999.9&&-60000.1<e?.01*(e+5e4)*n:-60002.1<e&&e<-60001.9?n:e,s=(null!=this.computedSize&&this.computedSize.computedFitWidth!=Ye.NO_SIZE?this.text.set_fitWidth(this.computedSize.computedFitWidth):this.text.set_fitWidth(-1),this.text.align);switch(this.verticalAlign._hx_index){case 0:case 1:case 4:switch(s._hx_index){case 0:(h=this.text).set_anchorX(0),h.set_anchorY(.5);var h=this.text,a=.5*this.get_height()+i-r;h.set_x(t),h.set_y(a);break;case 1:(h=this.text).set_anchorX(1),h.set_anchorY(.5);var h=this.text,o=this.get_width()-l,a=.5*this.get_height()+i-r;h.set_x(o),h.set_y(a);break;case 2:(h=this.text).set_anchorX(.5),h.set_anchorY(.5);var h=this.text,o=.5*this.get_width()+t-l,a=.5*this.get_height()+i-r;h.set_x(o),h.set_y(a)}break;case 2:switch(s._hx_index){case 0:(h=this.text).set_anchorX(0),h.set_anchorY(0),(h=this.text).set_x(t),h.set_y(i);break;case 1:(h=this.text).set_anchorX(1),h.set_anchorY(0),(h=this.text).set_x(this.get_width()-l),h.set_y(i);break;case 2:(h=this.text).set_anchorX(.5),h.set_anchorY(0),(h=this.text).set_x(.5*this.get_width()+t-l),h.set_y(i)}break;case 3:switch(s._hx_index){case 0:h=((h=this.text).set_anchorX(0),h.set_anchorY(1),this.text),a=this.get_height()-r;h.set_x(t),h.set_y(a);break;case 1:h=((h=this.text).set_anchorX(1),h.set_anchorY(1),this.text),o=this.get_width()-l,a=this.get_height()-r;h.set_x(o),h.set_y(a);break;case 2:h=((h=this.text).set_anchorX(.5),h.set_anchorY(1),this.text),o=.5*this.get_width()+t-l,a=this.get_height()-r;h.set_x(o),h.set_y(a)}}this.centerIfOneLine&&1==this.text.get_numLines()&&(this.text.set_anchorX(.5),this.text.set_x(.5*this.get_width()+t-l))},__class__:w1,__properties__:$extend(f0.prototype.__properties__,{set_noFitWidth:"set_noFitWidth",set_maxLineDiff:"set_maxLineDiff",get_maxLineDiff:"get_maxLineDiff",set_centerIfOneLine:"set_centerIfOneLine",set_align:"set_align",get_align:"get_align",set_letterSpacing:"set_letterSpacing",get_letterSpacing:"get_letterSpacing",set_lineHeight:"set_lineHeight",get_lineHeight:"get_lineHeight",set_minHeight:"set_minHeight",set_pointSize:"set_pointSize",get_pointSize:"get_pointSize",set_content:"set_content",get_content:"get_content",set_textAlpha:"set_textAlpha",get_textAlpha:"get_textAlpha",set_textColor:"set_textColor",get_textColor:"get_textColor",set_preRenderedSize:"set_preRenderedSize",get_preRenderedSize:"get_preRenderedSize",set_font:"set_font",get_font:"get_font",set_verticalAlign:"set_verticalAlign"})}),(E["ceramic.TextureAtlas"]=x1).__name__="ceramic.TextureAtlas",x1.__super__=j,x1.prototype=$extend(j.prototype,{pages:null,regions:null,asset:null,region:function(e){for(var n=0,t=this.regions.length;n<t;){var i=n++,i=this.regions[i];if(i.name==e)return i}return null},computeFrames:function(){for(var e=0,n=this.regions.length;e<n;){var t=e++;this.regions[t].computeFrame()}},destroy:function(){if(!(this._lifecycleState<=-2)){for(this._lifecycleState=-2;0<this.pages.length;){var e=this.pages.pop().get_texture();null!=e&&e.destroy()}null!=this.asset&&this.asset.destroy(),this._lifecycleState=-1,j.prototype.destroy.call(this)}},__class__:x1}),(E["ceramic.TextureAtlasPacker"]=y1).__name__="ceramic.TextureAtlasPacker",y1.__super__=j,y1.prototype=$extend(j.prototype,{__cbOnFinishPack:null,__cbOnceFinishPack:null,__cbOnOwnerUnbindFinishPack:null,__cbOnceOwnerUnbindFinishPack:null,emitFinishPack:function(){var e=0;if(null!=this.__cbOnFinishPack&&(e+=this.__cbOnFinishPack.length),null!=this.__cbOnceFinishPack&&(e+=this.__cbOnceFinishPack.length),0<e){var n=C.pool(e),t=n.get(),i=0;if(null!=this.__cbOnFinishPack)for(var l=0,r=this.__cbOnFinishPack.length;l<r;){var s=l++;!0?(t.vector[i]=this.__cbOnFinishPack[s],++i):--e}if(null!=this.__cbOnceFinishPack){for(var h=null,a=null,l=0,r=this.__cbOnceFinishPack.length;l<r;){var o,s=l++;!0?(t.vector[i]=this.__cbOnceFinishPack[s],this.__cbOnceFinishPack[s]=null,o=this.__cbOnceOwnerUnbindFinishPack[s],(this.__cbOnceOwnerUnbindFinishPack[s]=null)!=o&&o(),++i):(--e,null==h&&(h=[],a=[],0),h.push(this.__cbOnceOwnerUnbindFinishPack[s]),a.push(this.__cbOnceFinishPack[s]))}this.__cbOnceOwnerUnbindFinishPack=h,this.__cbOnceFinishPack=a}for(l=0,r=e;l<r;){i=l++;(0,t.vector[i])()}n.release(t)}},onFinishPack:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event finishPack because owner is destroyed!");var l=function(e){null!=t&&(i.offFinishPack(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindFinishPack&&(this.__cbOnOwnerUnbindFinishPack=[]),this.__cbOnOwnerUnbindFinishPack.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindFinishPack&&(this.__cbOnOwnerUnbindFinishPack=[]),this.__cbOnOwnerUnbindFinishPack.push(null);null==this.__cbOnFinishPack&&(this.__cbOnFinishPack=[]),this.__cbOnFinishPack.push(t)},onceFinishPack:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event finishPack because owner is destroyed!");var l=function(e){null!=t&&(i.offFinishPack(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindFinishPack&&(this.__cbOnceOwnerUnbindFinishPack=[]),this.__cbOnceOwnerUnbindFinishPack.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindFinishPack&&(this.__cbOnceOwnerUnbindFinishPack=[]),this.__cbOnceOwnerUnbindFinishPack.push(null);null==this.__cbOnceFinishPack&&(this.__cbOnceFinishPack=[]),this.__cbOnceFinishPack.push(t)},offFinishPack:function(e){if(null!=e){var n;null!=this.__cbOnFinishPack&&-1!=(n=this.__cbOnFinishPack.indexOf(e))&&(this.__cbOnFinishPack.splice(n,1),null!=(r=this.__cbOnOwnerUnbindFinishPack[n])&&r(),this.__cbOnOwnerUnbindFinishPack.splice(n,1)),null!=this.__cbOnceFinishPack&&-1!=(n=this.__cbOnceFinishPack.indexOf(e))&&(this.__cbOnceFinishPack.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindFinishPack[n])&&r(),this.__cbOnceOwnerUnbindFinishPack.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindFinishPack){for(var t=0,i=this.__cbOnOwnerUnbindFinishPack.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindFinishPack[l])&&r()}this.__cbOnOwnerUnbindFinishPack=null}if(null!=this.__cbOnceOwnerUnbindFinishPack){for(t=0,i=this.__cbOnceOwnerUnbindFinishPack.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindFinishPack[l])&&r()}this.__cbOnceOwnerUnbindFinishPack=null}this.__cbOnFinishPack=null,this.__cbOnceFinishPack=null}},listensFinishPack:function(){return null!=this.__cbOnFinishPack&&0<this.__cbOnFinishPack.length||null!=this.__cbOnceFinishPack&&0<this.__cbOnceFinishPack.length},atlas:null,spacing:null,filter:null,pendingRegions:null,pages:null,hasPendingRegions:function(){return null!=this.pendingRegions&&0<this.pendingRegions.length},region:function(e){if(null!=this.pendingRegions)for(var n=0,t=this.pendingRegions.length;n<t;){var i=n++;if((a=this.pendingRegions[i]).name==e)return a}if(null!=this.pages)for(n=0,t=this.pages.length;n<t;)for(var l=n++,r=this.pages[l],s=0,h=r.regions.length;s<h;){var a,i=s++;if((a=r.regions[i]).name==e)return a}return null},removeRegionsWithMatcher:function(e,n){if(null==e&&(e=!0),null!=this.pendingRegions){for(var t=null,i=0,l=this.pendingRegions.length;i<l;){var r=i++;n((s=this.pendingRegions[r]).name)&&(t=null==t?[]:t).push(s)}if(null!=t)for(i=0,l=t.length;i<l;){var s=t[r=i++];se.remove(this.pendingRegions,s)}}if(null!=this.pages){for(var h=null,i=0,l=this.pages.length;i<l;){for(var a=i++,t=null,o=this.pages[a],c=0,u=o.regions.length;c<u;){r=c++;n((s=o.regions[r]).name)&&(t=null==t?[]:t).push(s)}if(null!=t){(h=null==h?[]:h).push(o);for(var _=0,d=t.length;_<d;){var b=t[_++];se.remove(o.regions,b),o.shouldResetTexture=!0}null!=this.pendingRegions&&(this.pendingRegions=[]);for(var g=0,O=o.regions.length;g<O;){var f=g++,f=o.regions[f];f.rect=null,f.rendered=!1,this.pendingRegions.unshift(f)}}}if(null!=h)for(i=0,l=h.length;i<l;){a=i++;se.remove(this.pages,h[a])}}if(e&&null!=this.atlas){for(var p=null,i=0,l=this.atlas.regions.length;i<l;){var r=i++,C=this.atlas.regions[r];n(C.name)&&(p=null==p?[]:p).push(C)}if(null!=p)for(i=0,l=p.length;i<l;){r=i++;se.remove(this.atlas.regions,p[r])}}},removeRegionsWithPrefix:function(e,n){this.removeRegionsWithMatcher(e=null==e?!0:e,function(e){return z.startsWith(e,n)})},destroy:function(){if(!(this._lifecycleState<=-2)){if(this._lifecycleState=-2,null!=this.atlas){if(null!=this.atlas.pages)for(var e=0,n=this.atlas.pages.length;e<n;){var t=e++,t=this.atlas.pages[t],i=t.get_texture();null!=i&&(t.set_texture(null),i.destroy())}this.atlas.destroy(),this.atlas=null}this.pendingRegions=null,this.pages=null,this._lifecycleState=-1,j.prototype.destroy.call(this)}},_addRegionFromPixels:function(e,n,t,i,l,r,s,h){-1==r&&(r=Math.round(n.length/l)),this.pendingRegions.push(new gt(e,t,i,l,r,s,h,n,null,null,null))},_addVariantRegion:function(e,n,t,i,l,r){var s=this.region(n);if(null==s)throw oe.thrown('Cannot add variant region: source region "'+n+'" not found!');this.pendingRegions.push(new gt(e,t,i,s.packedWidth,s.packedHeight,l,r,null,s,null,null))},pack:function(e){var n=this,t=y1.MIN_TEXTURE_SIZE;0==this.pages.length&&this.pages.push(new Ot(this.spacing,"page"+this.pages.length,t,t,[],new ta(t+this.spacing,t+this.spacing,!1),!0));for(var t=(O=this.pages[this.pages.length-1]).width,i=[];0<this.pendingRegions.length;)if(null==(w=this.pendingRegions.shift()).pixels)i.push(w);else{if(w.packedWidth>y1.MAX_TEXTURE_SIZE||w.packedHeight>y1.MAX_TEXTURE_SIZE)throw oe.thrown("Cannot insert region "+w.name+" with used size: "+w.packedWidth+" x "+w.packedHeight);var l;if(null==(l=O.binPacker.insert(w.packedWidth+O.spacing,w.packedHeight+O.spacing,3)))if(t<y1.MAX_TEXTURE_SIZE){t*=2,O.width=t,O.height=t,O.binPacker=new ta(t+O.spacing,t+O.spacing,!1);for(var r=0,s=O.regions.length;r<s;){var h=r++;O.regions[h].rect=null,O.regions[h].rendered=!1}this.pendingRegions=[w].concat(O.regions.concat(this.pendingRegions)),O.regions=[],O.shouldResetTexture=!0}else this.pages.push(new Ot(this.spacing,"page"+this.pages.length,t=y1.MIN_TEXTURE_SIZE,t,[],new ta(t+this.spacing,t+this.spacing,!1),!0)),this.pendingRegions.unshift(w);else w.rect=l,O.regions.push(w)}for(r=0,s=i.length;r<s;){for(var a=(w=i[m=r++]).sourceRegion;null!=a&&null!=a.sourceRegion;)a=a.sourceRegion;if(null==a)throw oe.thrown("Invalid variant region: "+w.name+" (source region not found).");for(var o=null,c=0,u=this.pages.length;c<u;){for(var _=c++,d=0,b=(O=this.pages[_]).regions.length;d<b;){var g=d++;if(O.regions[g].name==a.name){o=O;break}}if(null!=o)break}if(null==o)throw oe.thrown("Invalid variant region: "+w.name+" (source region not found in any page).");o.regions.push(w)}null==this.atlas&&(this.atlas=new x1,this.atlas.onDestroy(this,function(e){n.destroy()}));for(r=0,s=this.pages.length;r<s;){var O,_=r++;if(0<(O=this.pages[_]).regions.length){for(var f=null,p=(null==(f=this.atlas.pages.length>_?this.atlas.pages[_]:f)&&(f=new ft(O.name,O.width,O.height,this.filter),this.atlas.pages.push(f)),null),C=(O.shouldResetTexture||null==f.get_texture()?(p=Kb.create(O.width,O.height,0),f.set_width(O.width),f.set_height(O.height)):p=f.get_texture().fetchPixels(),[]),v=[],c=0,u=O.regions.length;c<u;){var w,m=c++;if(!(w=O.regions[m]).rendered)if(null!=w.pixels)Kb.copy(w.pixels,w.packedWidth,p,O.width,0,0,w.packedWidth,w.packedHeight,0|w.rect.x,0|w.rect.y),w.rendered=!0,C.push(w);else{if(null==w.sourceRegion)throw oe.thrown("Cannot render region "+w.name+" because it doesn't have pixels");w.rendered=!0,v.push(w)}}if(0<C.length){null!=f.get_texture()?f.get_texture().backendItem.width==O.width&&f.get_texture().backendItem.height==O.height?f.get_texture().submitPixels(p):(f.get_texture().destroy(),f.set_texture(zn.fromPixels(O.width,O.height,p,1))):f.set_texture(zn.fromPixels(O.width,O.height,p,1)),f.get_texture().set_filter(this.filter);for(d=0,b=C.length;d<b;){var y=C[d++],U=this.atlas.region(y.name);(U=null==U?new vt(y.name,this.atlas,_):U).texture=f.get_texture(),U.originalWidth=y.originalWidth,U.originalHeight=y.originalHeight,U.packedWidth=y.packedWidth,U.packedHeight=y.packedHeight,U.offsetX=y.offsetX,U.offsetY=y.offsetY,U.x=Math.round(y.rect.x+O.spacing),U.y=Math.round(y.rect.y+O.spacing),U.width=y.packedWidth,U.height=y.packedHeight,U.computeFrame()}}if(0<v.length)for(var D=0,T=v.length;D<T;){for(var x=v[D++],a=x.sourceRegion;null!=a&&null!=a.sourceRegion;)a=a.sourceRegion;var S=this.atlas.region(a.name);if(null==S)throw oe.thrown("Invalid variant region: "+x.name+" (source atlas region not found).");var A=this.atlas.region(x.name);(A=null==A?new vt(x.name,this.atlas,_):A).texture=S.texture,A.originalWidth=x.originalWidth,A.originalHeight=x.originalHeight,A.packedWidth=a.packedWidth,A.packedHeight=a.packedHeight,A.offsetX=x.offsetX,A.offsetY=x.offsetY,A.x=Math.round(a.rect.x+O.spacing),A.y=Math.round(a.rect.y+O.spacing),A.width=x.packedWidth,A.height=x.packedHeight,A.computeFrame()}}}this.emitFinishPack(),e(this.atlas)},unbindEvents:function(){j.prototype.unbindEvents.call(this),this.offFinishPack()},__class__:y1}),function(e,n,t,i,l,r,s,h,a,o,c){this.rendered=!1,this.rect=null,this.sourceRegion=null,this.pixels=null,this.offsetY=0,this.offsetX=0,this.originalHeight=0,this.originalWidth=0,this.name=e,null!=n&&(this.originalWidth=n),null!=t&&(this.originalHeight=t),this.packedWidth=i,this.packedHeight=l,null!=r&&(this.offsetX=r),null!=s&&(this.offsetY=s),null!=h&&(this.pixels=h),null!=a&&(this.sourceRegion=a),null!=o&&(this.rect=o),null!=c&&(this.rendered=c)}),Ot=((E["ceramic._TextureAtlasPacker.TextureAtlasPackerRegion"]=gt).__name__="ceramic._TextureAtlasPacker.TextureAtlasPackerRegion",gt.prototype={name:null,originalWidth:null,originalHeight:null,packedWidth:null,packedHeight:null,offsetX:null,offsetY:null,pixels:null,sourceRegion:null,rect:null,rendered:null,__class__:gt},function(e,n,t,i,l,r,s){this.spacing=e,this.name=n,this.width=t,this.height=i,this.regions=l,this.binPacker=r,this.shouldResetTexture=s}),ft=((E["ceramic._TextureAtlasPacker.TextureAtlasPackerPage"]=Ot).__name__="ceramic._TextureAtlasPacker.TextureAtlasPackerPage",Ot.prototype={spacing:null,name:null,width:null,height:null,regions:null,binPacker:null,shouldResetTexture:null,__class__:Ot},function(e,n,t,i,l){null==i&&(i=wt.LINEAR),null==t&&(t=0),null==n&&(n=0),this.unobservedTexture=null,this.textureAutoruns=null,this.unobservedFilter=wt.LINEAR,this.filterAutoruns=null,this.unobservedHeight=0,this.heightAutoruns=null,this.unobservedWidth=0,this.widthAutoruns=null,this.nameAutoruns=null,this.observedDirty=!1,this.set_name(e),this.set_width(n),this.set_height(t),this.set_filter(i),this.set_texture(l)}),pt=((E["ceramic.TextureAtlasPage"]=ft).__name__="ceramic.TextureAtlasPage",ft.__interfaces__=[s],ft.prototype={__cbOnObservedDirty:null,__cbOnceObservedDirty:null,__cbOnOwnerUnbindObservedDirty:null,__cbOnceOwnerUnbindObservedDirty:null,emitObservedDirty:function(e,n){var t=0;if(null!=this.__cbOnObservedDirty&&(t+=this.__cbOnObservedDirty.length),null!=this.__cbOnceObservedDirty&&(t+=this.__cbOnceObservedDirty.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnObservedDirty)for(var s=0,h=this.__cbOnObservedDirty.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnObservedDirty[a],++r):--t}if(null!=this.__cbOnceObservedDirty){for(var o=null,c=null,s=0,h=this.__cbOnceObservedDirty.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceObservedDirty[a],this.__cbOnceObservedDirty[a]=null,u=this.__cbOnceOwnerUnbindObservedDirty[a],(this.__cbOnceOwnerUnbindObservedDirty[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindObservedDirty[a]),c.push(this.__cbOnceObservedDirty[a]))}this.__cbOnceOwnerUnbindObservedDirty=o,this.__cbOnceObservedDirty=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onObservedDirty:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event observedDirty because owner is destroyed!");var l=function(e){null!=t&&(i.offObservedDirty(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push(null);null==this.__cbOnObservedDirty&&(this.__cbOnObservedDirty=[]),this.__cbOnObservedDirty.push(t)},onceObservedDirty:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event observedDirty because owner is destroyed!");var l=function(e){null!=t&&(i.offObservedDirty(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push(null);null==this.__cbOnceObservedDirty&&(this.__cbOnceObservedDirty=[]),this.__cbOnceObservedDirty.push(t)},offObservedDirty:function(e){if(null!=e){var n;null!=this.__cbOnObservedDirty&&-1!=(n=this.__cbOnObservedDirty.indexOf(e))&&(this.__cbOnObservedDirty.splice(n,1),null!=(r=this.__cbOnOwnerUnbindObservedDirty[n])&&r(),this.__cbOnOwnerUnbindObservedDirty.splice(n,1)),null!=this.__cbOnceObservedDirty&&-1!=(n=this.__cbOnceObservedDirty.indexOf(e))&&(this.__cbOnceObservedDirty.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindObservedDirty[n])&&r(),this.__cbOnceOwnerUnbindObservedDirty.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindObservedDirty){for(var t=0,i=this.__cbOnOwnerUnbindObservedDirty.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindObservedDirty[l])&&r()}this.__cbOnOwnerUnbindObservedDirty=null}if(null!=this.__cbOnceOwnerUnbindObservedDirty){for(t=0,i=this.__cbOnceOwnerUnbindObservedDirty.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindObservedDirty[l])&&r()}this.__cbOnceOwnerUnbindObservedDirty=null}this.__cbOnObservedDirty=null,this.__cbOnceObservedDirty=null}},listensObservedDirty:function(){return null!=this.__cbOnObservedDirty&&0<this.__cbOnObservedDirty.length||null!=this.__cbOnceObservedDirty&&0<this.__cbOnceObservedDirty.length},observedDirty:null,nameAutoruns:null,get_name:function(){var e,n,t=this.unobservedName;return null!=U.current&&(e=U.current,null!=(n=this.nameAutoruns)||(n=U.getAutorunArray(),null!=(this.nameAutoruns=n)))&&e.bindToAutorunArray(n),t},set_name:function(e){var n=this.unobservedName;return n!=(this.unobservedName=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitNameChange(e,n),null!=(n=this.nameAutoruns))&&(this.nameAutoruns=null,U.invalidateAutorunArray(n)),e},invalidateName:function(){var e=this.unobservedName,e=(this.emitNameChange(e,e),this.nameAutoruns);null!=e&&(this.nameAutoruns=null,U.invalidateAutorunArray(e))},unobservedName:null,__cbOnNameChange:null,__cbOnceNameChange:null,__cbOnOwnerUnbindNameChange:null,__cbOnceOwnerUnbindNameChange:null,emitNameChange:function(e,n){var t=0;if(null!=this.__cbOnNameChange&&(t+=this.__cbOnNameChange.length),null!=this.__cbOnceNameChange&&(t+=this.__cbOnceNameChange.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnNameChange)for(var s=0,h=this.__cbOnNameChange.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnNameChange[a],++r):--t}if(null!=this.__cbOnceNameChange){for(var o=null,c=null,s=0,h=this.__cbOnceNameChange.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceNameChange[a],this.__cbOnceNameChange[a]=null,u=this.__cbOnceOwnerUnbindNameChange[a],(this.__cbOnceOwnerUnbindNameChange[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindNameChange[a]),c.push(this.__cbOnceNameChange[a]))}this.__cbOnceOwnerUnbindNameChange=o,this.__cbOnceNameChange=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onNameChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event nameChange because owner is destroyed!");var l=function(e){null!=t&&(i.offNameChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindNameChange&&(this.__cbOnOwnerUnbindNameChange=[]),this.__cbOnOwnerUnbindNameChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindNameChange&&(this.__cbOnOwnerUnbindNameChange=[]),this.__cbOnOwnerUnbindNameChange.push(null);null==this.__cbOnNameChange&&(this.__cbOnNameChange=[]),this.__cbOnNameChange.push(t)},onceNameChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event nameChange because owner is destroyed!");var l=function(e){null!=t&&(i.offNameChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindNameChange&&(this.__cbOnceOwnerUnbindNameChange=[]),this.__cbOnceOwnerUnbindNameChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindNameChange&&(this.__cbOnceOwnerUnbindNameChange=[]),this.__cbOnceOwnerUnbindNameChange.push(null);null==this.__cbOnceNameChange&&(this.__cbOnceNameChange=[]),this.__cbOnceNameChange.push(t)},offNameChange:function(e){if(null!=e){var n;null!=this.__cbOnNameChange&&-1!=(n=this.__cbOnNameChange.indexOf(e))&&(this.__cbOnNameChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindNameChange[n])&&r(),this.__cbOnOwnerUnbindNameChange.splice(n,1)),null!=this.__cbOnceNameChange&&-1!=(n=this.__cbOnceNameChange.indexOf(e))&&(this.__cbOnceNameChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindNameChange[n])&&r(),this.__cbOnceOwnerUnbindNameChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindNameChange){for(var t=0,i=this.__cbOnOwnerUnbindNameChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindNameChange[l])&&r()}this.__cbOnOwnerUnbindNameChange=null}if(null!=this.__cbOnceOwnerUnbindNameChange){for(t=0,i=this.__cbOnceOwnerUnbindNameChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindNameChange[l])&&r()}this.__cbOnceOwnerUnbindNameChange=null}this.__cbOnNameChange=null,this.__cbOnceNameChange=null}},listensNameChange:function(){return null!=this.__cbOnNameChange&&0<this.__cbOnNameChange.length||null!=this.__cbOnceNameChange&&0<this.__cbOnceNameChange.length},widthAutoruns:null,get_width:function(){var e,n,t=this.unobservedWidth;return null!=U.current&&(e=U.current,null!=(n=this.widthAutoruns)||(n=U.getAutorunArray(),null!=(this.widthAutoruns=n)))&&e.bindToAutorunArray(n),t},set_width:function(e){var n=this.unobservedWidth;return n!=(this.unobservedWidth=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitWidthChange(e,n),null!=(n=this.widthAutoruns))&&(this.widthAutoruns=null,U.invalidateAutorunArray(n)),e},invalidateWidth:function(){var e=this.unobservedWidth,e=(this.emitWidthChange(e,e),this.widthAutoruns);null!=e&&(this.widthAutoruns=null,U.invalidateAutorunArray(e))},unobservedWidth:null,__cbOnWidthChange:null,__cbOnceWidthChange:null,__cbOnOwnerUnbindWidthChange:null,__cbOnceOwnerUnbindWidthChange:null,emitWidthChange:function(e,n){var t=0;if(null!=this.__cbOnWidthChange&&(t+=this.__cbOnWidthChange.length),null!=this.__cbOnceWidthChange&&(t+=this.__cbOnceWidthChange.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnWidthChange)for(var s=0,h=this.__cbOnWidthChange.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnWidthChange[a],++r):--t}if(null!=this.__cbOnceWidthChange){for(var o=null,c=null,s=0,h=this.__cbOnceWidthChange.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceWidthChange[a],this.__cbOnceWidthChange[a]=null,u=this.__cbOnceOwnerUnbindWidthChange[a],(this.__cbOnceOwnerUnbindWidthChange[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindWidthChange[a]),c.push(this.__cbOnceWidthChange[a]))}this.__cbOnceOwnerUnbindWidthChange=o,this.__cbOnceWidthChange=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onWidthChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event widthChange because owner is destroyed!");var l=function(e){null!=t&&(i.offWidthChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindWidthChange&&(this.__cbOnOwnerUnbindWidthChange=[]),this.__cbOnOwnerUnbindWidthChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindWidthChange&&(this.__cbOnOwnerUnbindWidthChange=[]),this.__cbOnOwnerUnbindWidthChange.push(null);null==this.__cbOnWidthChange&&(this.__cbOnWidthChange=[]),this.__cbOnWidthChange.push(t)},onceWidthChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event widthChange because owner is destroyed!");var l=function(e){null!=t&&(i.offWidthChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindWidthChange&&(this.__cbOnceOwnerUnbindWidthChange=[]),this.__cbOnceOwnerUnbindWidthChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindWidthChange&&(this.__cbOnceOwnerUnbindWidthChange=[]),this.__cbOnceOwnerUnbindWidthChange.push(null);null==this.__cbOnceWidthChange&&(this.__cbOnceWidthChange=[]),this.__cbOnceWidthChange.push(t)},offWidthChange:function(e){if(null!=e){var n;null!=this.__cbOnWidthChange&&-1!=(n=this.__cbOnWidthChange.indexOf(e))&&(this.__cbOnWidthChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindWidthChange[n])&&r(),this.__cbOnOwnerUnbindWidthChange.splice(n,1)),null!=this.__cbOnceWidthChange&&-1!=(n=this.__cbOnceWidthChange.indexOf(e))&&(this.__cbOnceWidthChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindWidthChange[n])&&r(),this.__cbOnceOwnerUnbindWidthChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindWidthChange){for(var t=0,i=this.__cbOnOwnerUnbindWidthChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindWidthChange[l])&&r()}this.__cbOnOwnerUnbindWidthChange=null}if(null!=this.__cbOnceOwnerUnbindWidthChange){for(t=0,i=this.__cbOnceOwnerUnbindWidthChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindWidthChange[l])&&r()}this.__cbOnceOwnerUnbindWidthChange=null}this.__cbOnWidthChange=null,this.__cbOnceWidthChange=null}},listensWidthChange:function(){return null!=this.__cbOnWidthChange&&0<this.__cbOnWidthChange.length||null!=this.__cbOnceWidthChange&&0<this.__cbOnceWidthChange.length},heightAutoruns:null,get_height:function(){var e,n,t=this.unobservedHeight;return null!=U.current&&(e=U.current,null!=(n=this.heightAutoruns)||(n=U.getAutorunArray(),null!=(this.heightAutoruns=n)))&&e.bindToAutorunArray(n),t},set_height:function(e){var n=this.unobservedHeight;return n!=(this.unobservedHeight=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitHeightChange(e,n),null!=(n=this.heightAutoruns))&&(this.heightAutoruns=null,U.invalidateAutorunArray(n)),e},invalidateHeight:function(){var e=this.unobservedHeight,e=(this.emitHeightChange(e,e),this.heightAutoruns);null!=e&&(this.heightAutoruns=null,U.invalidateAutorunArray(e))},unobservedHeight:null,__cbOnHeightChange:null,__cbOnceHeightChange:null,__cbOnOwnerUnbindHeightChange:null,__cbOnceOwnerUnbindHeightChange:null,emitHeightChange:function(e,n){var t=0;if(null!=this.__cbOnHeightChange&&(t+=this.__cbOnHeightChange.length),null!=this.__cbOnceHeightChange&&(t+=this.__cbOnceHeightChange.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnHeightChange)for(var s=0,h=this.__cbOnHeightChange.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnHeightChange[a],++r):--t}if(null!=this.__cbOnceHeightChange){for(var o=null,c=null,s=0,h=this.__cbOnceHeightChange.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceHeightChange[a],this.__cbOnceHeightChange[a]=null,u=this.__cbOnceOwnerUnbindHeightChange[a],(this.__cbOnceOwnerUnbindHeightChange[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindHeightChange[a]),c.push(this.__cbOnceHeightChange[a]))}this.__cbOnceOwnerUnbindHeightChange=o,this.__cbOnceHeightChange=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onHeightChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event heightChange because owner is destroyed!");var l=function(e){null!=t&&(i.offHeightChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindHeightChange&&(this.__cbOnOwnerUnbindHeightChange=[]),this.__cbOnOwnerUnbindHeightChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindHeightChange&&(this.__cbOnOwnerUnbindHeightChange=[]),this.__cbOnOwnerUnbindHeightChange.push(null);null==this.__cbOnHeightChange&&(this.__cbOnHeightChange=[]),this.__cbOnHeightChange.push(t)},onceHeightChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event heightChange because owner is destroyed!");var l=function(e){null!=t&&(i.offHeightChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindHeightChange&&(this.__cbOnceOwnerUnbindHeightChange=[]),this.__cbOnceOwnerUnbindHeightChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindHeightChange&&(this.__cbOnceOwnerUnbindHeightChange=[]),this.__cbOnceOwnerUnbindHeightChange.push(null);null==this.__cbOnceHeightChange&&(this.__cbOnceHeightChange=[]),this.__cbOnceHeightChange.push(t)},offHeightChange:function(e){if(null!=e){var n;null!=this.__cbOnHeightChange&&-1!=(n=this.__cbOnHeightChange.indexOf(e))&&(this.__cbOnHeightChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindHeightChange[n])&&r(),this.__cbOnOwnerUnbindHeightChange.splice(n,1)),null!=this.__cbOnceHeightChange&&-1!=(n=this.__cbOnceHeightChange.indexOf(e))&&(this.__cbOnceHeightChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindHeightChange[n])&&r(),this.__cbOnceOwnerUnbindHeightChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindHeightChange){for(var t=0,i=this.__cbOnOwnerUnbindHeightChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindHeightChange[l])&&r()}this.__cbOnOwnerUnbindHeightChange=null}if(null!=this.__cbOnceOwnerUnbindHeightChange){for(t=0,i=this.__cbOnceOwnerUnbindHeightChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindHeightChange[l])&&r()}this.__cbOnceOwnerUnbindHeightChange=null}this.__cbOnHeightChange=null,this.__cbOnceHeightChange=null}},listensHeightChange:function(){return null!=this.__cbOnHeightChange&&0<this.__cbOnHeightChange.length||null!=this.__cbOnceHeightChange&&0<this.__cbOnceHeightChange.length},filterAutoruns:null,get_filter:function(){var e,n,t=this.unobservedFilter;return null!=U.current&&(e=U.current,null!=(n=this.filterAutoruns)||(n=U.getAutorunArray(),null!=(this.filterAutoruns=n)))&&e.bindToAutorunArray(n),t},set_filter:function(e){var n=this.unobservedFilter;return this.set_unobservedFilter(e),n!=e&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitFilterChange(e,n),null!=(n=this.filterAutoruns))&&(this.filterAutoruns=null,U.invalidateAutorunArray(n)),e},invalidateFilter:function(){var e=this.unobservedFilter,e=(this.emitFilterChange(e,e),this.filterAutoruns);null!=e&&(this.filterAutoruns=null,U.invalidateAutorunArray(e))},unobservedFilter:null,__cbOnFilterChange:null,__cbOnceFilterChange:null,__cbOnOwnerUnbindFilterChange:null,__cbOnceOwnerUnbindFilterChange:null,emitFilterChange:function(e,n){var t=0;if(null!=this.__cbOnFilterChange&&(t+=this.__cbOnFilterChange.length),null!=this.__cbOnceFilterChange&&(t+=this.__cbOnceFilterChange.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnFilterChange)for(var s=0,h=this.__cbOnFilterChange.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnFilterChange[a],++r):--t}if(null!=this.__cbOnceFilterChange){for(var o=null,c=null,s=0,h=this.__cbOnceFilterChange.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceFilterChange[a],this.__cbOnceFilterChange[a]=null,u=this.__cbOnceOwnerUnbindFilterChange[a],(this.__cbOnceOwnerUnbindFilterChange[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindFilterChange[a]),c.push(this.__cbOnceFilterChange[a]))}this.__cbOnceOwnerUnbindFilterChange=o,this.__cbOnceFilterChange=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onFilterChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event filterChange because owner is destroyed!");var l=function(e){null!=t&&(i.offFilterChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindFilterChange&&(this.__cbOnOwnerUnbindFilterChange=[]),this.__cbOnOwnerUnbindFilterChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindFilterChange&&(this.__cbOnOwnerUnbindFilterChange=[]),this.__cbOnOwnerUnbindFilterChange.push(null);null==this.__cbOnFilterChange&&(this.__cbOnFilterChange=[]),this.__cbOnFilterChange.push(t)},onceFilterChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event filterChange because owner is destroyed!");var l=function(e){null!=t&&(i.offFilterChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindFilterChange&&(this.__cbOnceOwnerUnbindFilterChange=[]),this.__cbOnceOwnerUnbindFilterChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindFilterChange&&(this.__cbOnceOwnerUnbindFilterChange=[]),this.__cbOnceOwnerUnbindFilterChange.push(null);null==this.__cbOnceFilterChange&&(this.__cbOnceFilterChange=[]),this.__cbOnceFilterChange.push(t)},offFilterChange:function(e){if(null!=e){var n;null!=this.__cbOnFilterChange&&-1!=(n=this.__cbOnFilterChange.indexOf(e))&&(this.__cbOnFilterChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindFilterChange[n])&&r(),this.__cbOnOwnerUnbindFilterChange.splice(n,1)),null!=this.__cbOnceFilterChange&&-1!=(n=this.__cbOnceFilterChange.indexOf(e))&&(this.__cbOnceFilterChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindFilterChange[n])&&r(),this.__cbOnceOwnerUnbindFilterChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindFilterChange){for(var t=0,i=this.__cbOnOwnerUnbindFilterChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindFilterChange[l])&&r()}this.__cbOnOwnerUnbindFilterChange=null}if(null!=this.__cbOnceOwnerUnbindFilterChange){for(t=0,i=this.__cbOnceOwnerUnbindFilterChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindFilterChange[l])&&r()}this.__cbOnceOwnerUnbindFilterChange=null}this.__cbOnFilterChange=null,this.__cbOnceFilterChange=null}},listensFilterChange:function(){return null!=this.__cbOnFilterChange&&0<this.__cbOnFilterChange.length||null!=this.__cbOnceFilterChange&&0<this.__cbOnceFilterChange.length},set_unobservedFilter:function(e){return this.unobservedFilter!=e&&(this.unobservedFilter=e,null!=this.get_texture())&&this.get_texture().set_filter(e),e},textureAutoruns:null,get_texture:function(){var e,n,t=this.unobservedTexture;return null!=U.current&&(e=U.current,null!=(n=this.textureAutoruns)||(n=U.getAutorunArray(),null!=(this.textureAutoruns=n)))&&e.bindToAutorunArray(n),t},set_texture:function(e){var n=this.unobservedTexture;return this.set_unobservedTexture(e),n!=e&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitTextureChange(e,n),null!=(n=this.textureAutoruns))&&(this.textureAutoruns=null,U.invalidateAutorunArray(n)),e},invalidateTexture:function(){var e=this.unobservedTexture,e=(this.emitTextureChange(e,e),this.textureAutoruns);null!=e&&(this.textureAutoruns=null,U.invalidateAutorunArray(e))},unobservedTexture:null,__cbOnTextureChange:null,__cbOnceTextureChange:null,__cbOnOwnerUnbindTextureChange:null,__cbOnceOwnerUnbindTextureChange:null,emitTextureChange:function(e,n){var t=0;if(null!=this.__cbOnTextureChange&&(t+=this.__cbOnTextureChange.length),null!=this.__cbOnceTextureChange&&(t+=this.__cbOnceTextureChange.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnTextureChange)for(var s=0,h=this.__cbOnTextureChange.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnTextureChange[a],++r):--t}if(null!=this.__cbOnceTextureChange){for(var o=null,c=null,s=0,h=this.__cbOnceTextureChange.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceTextureChange[a],this.__cbOnceTextureChange[a]=null,u=this.__cbOnceOwnerUnbindTextureChange[a],(this.__cbOnceOwnerUnbindTextureChange[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindTextureChange[a]),c.push(this.__cbOnceTextureChange[a]))}this.__cbOnceOwnerUnbindTextureChange=o,this.__cbOnceTextureChange=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onTextureChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event textureChange because owner is destroyed!");var l=function(e){null!=t&&(i.offTextureChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindTextureChange&&(this.__cbOnOwnerUnbindTextureChange=[]),this.__cbOnOwnerUnbindTextureChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindTextureChange&&(this.__cbOnOwnerUnbindTextureChange=[]),this.__cbOnOwnerUnbindTextureChange.push(null);null==this.__cbOnTextureChange&&(this.__cbOnTextureChange=[]),this.__cbOnTextureChange.push(t)},onceTextureChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event textureChange because owner is destroyed!");var l=function(e){null!=t&&(i.offTextureChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindTextureChange&&(this.__cbOnceOwnerUnbindTextureChange=[]),this.__cbOnceOwnerUnbindTextureChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindTextureChange&&(this.__cbOnceOwnerUnbindTextureChange=[]),this.__cbOnceOwnerUnbindTextureChange.push(null);null==this.__cbOnceTextureChange&&(this.__cbOnceTextureChange=[]),this.__cbOnceTextureChange.push(t)},offTextureChange:function(e){if(null!=e){var n;null!=this.__cbOnTextureChange&&-1!=(n=this.__cbOnTextureChange.indexOf(e))&&(this.__cbOnTextureChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindTextureChange[n])&&r(),this.__cbOnOwnerUnbindTextureChange.splice(n,1)),null!=this.__cbOnceTextureChange&&-1!=(n=this.__cbOnceTextureChange.indexOf(e))&&(this.__cbOnceTextureChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindTextureChange[n])&&r(),this.__cbOnceOwnerUnbindTextureChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindTextureChange){for(var t=0,i=this.__cbOnOwnerUnbindTextureChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindTextureChange[l])&&r()}this.__cbOnOwnerUnbindTextureChange=null}if(null!=this.__cbOnceOwnerUnbindTextureChange){for(t=0,i=this.__cbOnceOwnerUnbindTextureChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindTextureChange[l])&&r()}this.__cbOnceOwnerUnbindTextureChange=null}this.__cbOnTextureChange=null,this.__cbOnceTextureChange=null}},listensTextureChange:function(){return null!=this.__cbOnTextureChange&&0<this.__cbOnTextureChange.length||null!=this.__cbOnceTextureChange&&0<this.__cbOnceTextureChange.length},set_unobservedTexture:function(e){return this.unobservedTexture!=e&&null!=(this.unobservedTexture=e)&&(this.get_width()<=0&&this.set_width(e.backendItem.width),this.get_height()<=0)&&this.set_height(e.backendItem.height),e},unbindEvents:function(){this.offObservedDirty(),this.offNameChange(),this.offWidthChange(),this.offHeightChange(),this.offFilterChange(),this.offTextureChange()},__class__:ft,__properties__:{set_unobservedTexture:"set_unobservedTexture",set_texture:"set_texture",get_texture:"get_texture",set_unobservedFilter:"set_unobservedFilter",set_filter:"set_filter",get_filter:"get_filter",set_height:"set_height",get_height:"get_height",set_width:"set_width",get_width:"get_width",set_name:"set_name",get_name:"get_name"}},function(){}),Ct=((E["ceramic.TextureAtlasParser"]=pt).__name__="ceramic.TextureAtlasParser",pt.parse=function(e){if(z.startsWith(z.trim(e),"<"))try{e=pt.convertXmlTextureAtlas(e)}catch(e){Yi.lastError=e;var n=oe.caught(e).unwrap();throw oe.thrown("TextureAtlas: invalid xml atlas data specified for parser: "+X.string(n))}for(var t=new Ct(e),i=[null,null,null,null],l=null,r=new x1;;){var s=t.readLine();if(null==s)break;if(0==(s=t.trim(s)).length)l=null;else if(null==l){for(var l=new ft(s),h=t.nextLineKey();null!=h;){switch(h){case"filter":t.readTuple(i),l.set_filter(null!=i[0]&&"nearest"==i[0].toLowerCase()?wt.NEAREST:wt.LINEAR);break;case"size":t.readTuple(i),l.set_width(X.parseInt(i[0])),l.set_height(X.parseInt(i[1]));break;default:t.readLine()}h=t.nextLineKey()}r.pages.push(l)}else{for(var a=s.toLowerCase(),o=(z.endsWith(a,".png")||z.endsWith(a,".gif")||z.endsWith(a,".jpg")?s=se.substr(s,0,s.length-4):z.endsWith(a,".jpeg")&&(s=se.substr(s,0,s.length-5)),new vt(s,r,r.pages.length-1)),c=0,u=0,_=0,d=0,b=0,g=0,O=t.nextLineKey();null!=O;){switch(O){case"bounds":t.readTuple(i),c=X.parseInt(i[0]),u=X.parseInt(i[1]),_=X.parseInt(i[2]),d=X.parseInt(i[3]);break;case"offset":t.readTuple(i),o.offsetX=X.parseInt(i[0]),o.offsetY=X.parseInt(i[1]);break;case"offsets":t.readTuple(i),o.offsetX=X.parseInt(i[0]),o.offsetY=X.parseInt(i[1]),b=X.parseInt(i[2]),g=X.parseInt(i[3]);break;case"orig":t.readTuple(i),b=X.parseInt(i[0]),g=X.parseInt(i[1]);break;case"rotate":var f=t.readValue();o.rotateFrame="true"==f||"90"==f;break;case"size":t.readTuple(i),_=X.parseInt(i[0]),d=X.parseInt(i[1]);break;case"xy":t.readTuple(i),c=X.parseInt(i[0]),u=X.parseInt(i[1]);break;default:t.readLine()}O=t.nextLineKey()}o.x=c,o.y=u,o.width=0|Math.abs(_),o.height=0|Math.abs(d),o.originalWidth=0!=b?b:o.width,o.originalHeight=0!=g?g:o.height,o.rotateFrame?(o.packedWidth=o.height,o.packedHeight=o.width):(o.packedWidth=o.width,o.packedHeight=o.height)}}return r},pt.convertXmlTextureAtlas=function(e){for(var n="",e=D.parse(e).firstElement(),t=(n=n+X.string(e.get("imagePath"))+"\n",e.elements());t.hasNext();){var i=t.next();if(i.nodeType!=D.Element)throw oe.thrown("Bad node type, expected Element but found "+(null==i.nodeType?"null":A.toString(i.nodeType)));"SubTexture"==i.nodeName&&(n=n+X.string(i.get("name"))+"\n",i.exists("frameX")&&i.exists("frameY")&&i.exists("frameWidth")&&i.exists("frameHeight")&&(n=(n=(n=(n=(n+="offsets:")+X.string(-parseFloat(i.get("frameX")))+",")+X.string(-parseFloat(i.get("frameY")))+",")+X.string(parseFloat(i.get("frameWidth")))+",")+X.string(parseFloat(i.get("frameHeight")))+"\n"),n=(n=(n=(n=(n+="bounds:")+X.string(parseFloat(i.get("x")))+",")+X.string(parseFloat(i.get("y")))+",")+X.string(parseFloat(i.get("width")))+",")+X.string(parseFloat(i.get("height")))+"\n",i.exists("rotate"))&&(n=(n+="rotate:")+X.string(i.get("rotate"))+"\n")}return n},function(e){this.lines=z.replace(z.replace(z.trim(e),"\r\n","\n"),"\r","\n").split("\n"),this.index=0}),vt=((E["ceramic._TextureAtlasParser.TextureAtlasReader"]=Ct).__name__="ceramic._TextureAtlasParser.TextureAtlasReader",Ct.prototype={lines:null,index:null,trim:function(e){return z.trim(e)},readLine:function(){return this.index>=this.lines.length?null:this.lines[this.index++]},nextLineKey:function(){var e,n;return!(this.index>=this.lines.length)&&-1!=(n=(e=this.lines[this.index]).indexOf(":"))?z.trim(e.substring(0,n)):null},readValue:function(){var e=this.readLine(),n=e.indexOf(":");if(-1==n)throw oe.thrown("Invalid line: "+e);return this.trim(e.substring(n+1))},readTuple:function(e){var n=this.readLine(),t=n.indexOf(":");if(-1==t)throw oe.thrown("Invalid line: "+n);for(var i=0,l=t+1;i<3;){var r=n.indexOf(",",l);if(-1==r)break;e[i]=this.trim(se.substr(n,l,r-l)),l=r+1,++i}return e[i]=this.trim(n.substring(l)),i+1},__class__:Ct},(E["ceramic.TextureTile"]=E1).__name__="ceramic.TextureTile",E1.prototype={texture:null,frameX:null,frameY:null,frameWidth:null,frameHeight:null,rotateFrame:null,edgeInset:null,frame:function(e,n,t,i){this.frameX=e,this.frameY=n,this.frameWidth=t,this.frameHeight=i},toString:function(){return""+X.string({texture:this.texture,frameX:this.frameX,frameY:this.frameY,frameWidth:this.frameWidth,frameHeight:this.frameHeight})},__class__:E1},function(e,n,t){this.originalHeight=0,this.originalWidth=0,this.offsetY=0,this.offsetX=0,this.height=0,this.width=0,this.y=0,this.x=0,this.packedHeight=0,this.packedWidth=0,this.page=0,this.atlas=null,this.name=null,this.name=e,this.atlas=n,this.page=t;e=n.pages[t];E1.call(this,null!=e?e.get_texture():null,0,0,0,0,!1,0),n.regions.push(this)}),wt=((E["ceramic.TextureAtlasRegion"]=vt).__name__="ceramic.TextureAtlasRegion",vt.__super__=E1,vt.prototype=$extend(E1.prototype,{name:null,atlas:null,page:null,packedWidth:null,packedHeight:null,x:null,y:null,width:null,height:null,offsetX:null,offsetY:null,originalWidth:null,originalHeight:null,computeFrame:function(){var e,n=this.atlas.pages[this.page];null!=n?(this.texture=n.get_texture(),null!=this.texture?(e=n.get_width(),n=n.get_height(),e=this.texture.width/e,n=this.texture.height/n,this.frameX=this.x*e,this.frameY=this.y*n,this.frameWidth=this.width*e,this.frameHeight=this.height*n):he.app.logger.warning("Failed to compute region frame because there is no texture at page "+this.page,{fileName:"../../../../ceramic/runtime/src/ceramic/TextureAtlasRegion.hx",lineNumber:215,className:"ceramic.TextureAtlasRegion",methodName:"computeFrame"})):he.app.logger.warning("Failed to compute region frame because there is no page "+this.page,{fileName:"../../../../ceramic/runtime/src/ceramic/TextureAtlasRegion.hx",lineNumber:219,className:"ceramic.TextureAtlasRegion",methodName:"computeFrame"})},toString:function(){return""+X.string({name:this.name,page:this.page,texture:this.texture,packedWidth:this.packedWidth,packedHeight:this.packedHeight,originalWidth:this.originalWidth,originalHeight:this.originalHeight,width:this.width,height:this.height,offsetX:this.offsetX,offsetY:this.offsetY,frameX:this.frameX,frameY:this.frameY,frameWidth:this.frameWidth,frameHeight:this.frameHeight})},__class__:vt}),Oe["ceramic.TextureFilter"]={__ename__:"ceramic.TextureFilter",__constructs__:null,LINEAR:{_hx_name:"LINEAR",_hx_index:0,__enum__:"ceramic.TextureFilter",toString:c},NEAREST:{_hx_name:"NEAREST",_hx_index:1,__enum__:"ceramic.TextureFilter",toString:c}}),mt=(wt.__constructs__=[wt.LINEAR,wt.NEAREST],(E["ceramic.TextureTilePacker"]=H1).__name__="ceramic.TextureTilePacker",H1.__super__=j,H1.prototype=$extend(j.prototype,{texture:null,padWidth:null,padHeight:null,margin:null,nextPacker:null,areas:null,numCols:null,numRows:null,maxPixelTextureWidth:null,maxPixelTextureHeight:null,destroy:function(){this._lifecycleState<=-2||(this._lifecycleState=-2,this._lifecycleState=-1,j.prototype.destroy.call(this),null!=this.nextPacker&&(this.nextPacker.destroy(),this.nextPacker=null),this.texture.destroy(),this.texture=null,this.areas=null)},getTileAtPosition:function(e,n){return this.areas[n*this.numCols+e]},setTileAtPosition:function(e,n,t){this.areas[n*this.numCols+e]=t},allocTile:function(e,n){this.texture.width,this.texture.height;var t=this.padWidth+2*this.margin,i=this.padHeight+2*this.margin,l=t*this.numCols-2*this.margin,r=i*this.numRows-2*this.margin;if(l<e||r<n)return he.app.logger.warning("Cannot alloc tile of "+e+" x "+n+" because this is bigger than "+l+" x "+r,{fileName:"../../../../ceramic/runtime/src/ceramic/TextureTilePacker.hx",lineNumber:247,className:"ceramic.TextureTilePacker",methodName:"allocTile"}),null;for(var s=this.padWidth,h=1;s<e;)++h,s+=this.padWidth+2*this.margin;for(var a=this.padHeight,o=1;a<n;)++o,a+=this.padHeight+2*this.margin;for(var c=0,u=this.numRows-o+1;c<u;)for(var _=c++,d=0,b=this.numCols-h+1;d<b;){for(var g=d++,O=!0,f=_,p=_+o;f<p;){for(var C=f++,v=g,w=g+h;v<w;){var m=v++;if(null!=this.areas[C*this.numCols+m]){O=!1;break}}if(!O)break}if(O){for(var y=new mt(this.texture,g*t,_*i,e,n),U=(y.col=g,y.row=_,y.usedCols=h,_),D=_+(y.usedRows=o);U<D;)for(var T=U++,x=g,S=g+h;x<S;){var A=x++;this.areas[T*this.numCols+A]=y}return y}}return null==this.nextPacker&&(this.nextPacker=new H1(this.texture.autoRender,this.maxPixelTextureWidth,this.maxPixelTextureHeight,this.padWidth,this.padHeight,this.margin)),this.nextPacker.allocTile(e,n)},releaseTile:function(e){var n=this;if(he.app.logger.info("release tile "+X.string(e),{fileName:"../../../../ceramic/runtime/src/ceramic/TextureTilePacker.hx",lineNumber:338,className:"ceramic.TextureTilePacker",methodName:"releaseTile"}),!(e instanceof mt))throw oe.thrown("Cannot release tile: "+X.string(e)+".");for(var a=e,o=this;null!=o&&o.texture!=a.texture;)o=o.nextPacker;null==o?he.app.logger.warning("Failed to release tile: "+X.string(a)+" (it doesn't belong to this packer)",{fileName:"../../../../ceramic/runtime/src/ceramic/TextureTilePacker.hx",lineNumber:353,className:"ceramic.TextureTilePacker",methodName:"releaseTile"}):he.app.onceUpdate(this,function(e){he.app.onceUpdate(n,function(e){for(var n=!1,t=a.row,i=a.row+a.usedRows;t<i;)for(var l=t++,r=a.col,s=a.col+a.usedCols;r<s;){var h=r++;o.areas[l*o.numCols+h]==a&&(n=!0,o.areas[l*o.numCols+h]=null)}a.texture=null,n||he.app.logger.warning("Failed to release tile: "+X.string(a)+" (did not find it)",{fileName:"../../../../ceramic/runtime/src/ceramic/TextureTilePacker.hx",lineNumber:374,className:"ceramic.TextureTilePacker",methodName:"releaseTile"})})})},stamp:function(e,n,t){var i=new p,r=(i.set_anchorX(0),i.set_anchorY(0),e.frameHeight+2*this.margin),r=(i.set_width(e.frameWidth+2*this.margin),i.set_height(r),e.frameY-this.margin);if(i.set_x(e.frameX-this.margin),i.set_y(r),i.set_blending(4),0!=i.inheritAlpha&&(i.inheritAlpha=!1,i.visibilityDirty=!0,null!=i.children))for(var s=0,h=i.children.length;s<h;){var a=s++,o=i.children[a];if(o.visibilityDirty=!0,null!=o.children)for(var c=0,u=o.children.length;c<u;){var _=c++;o.children[_].set_visibilityDirty(!0)}}i.set_alpha(0),i.color=16777215;var d=n.transform,b=n.parent,r=(null!=b&&b.remove(n),i.add(n),n.set_transform(new l),n.transform);r.tx+=this.margin,r.ty+=this.margin,r.changedDirty=!0,e.texture.stamp(i,function(){i.remove(n),null!=b&&b.add(n),i.destroy(),i=null,n.set_transform(d),n=null,t(),t=null})},managesTexture:function(e){return this.texture==e||null!=this.nextPacker&&this.nextPacker.managesTexture(e)},__class__:H1}),function(e,n,t,i,l){this.usedRows=1,this.usedCols=1,this.row=-1,this.col=-1,E1.call(this,e,n,t,i,l)}),yt=((E["ceramic._TextureTilePacker.PackedTextureTile"]=mt).__name__="ceramic._TextureTilePacker.PackedTextureTile",mt.__super__=E1,mt.prototype=$extend(E1.prototype,{col:null,row:null,usedCols:null,usedRows:null,__class__:mt}),function(){this.initializerName=null,this.completeHandlerIndexes=null,this.completeHandlers=null,this.endPosition=-1,this.startPosition=-1,this.labelIndexes=null,this.labels=null,this.paused=!1,this.tracks=[],this.position=0,this.fps=30,this.autoUpdate=!0,this.loop=!0,this.autoFitSize=!0,this.size=0,j.call(this),he.app.offPreUpdate($bind(this,this.update)),!this.paused&&this.autoUpdate&&he.app.onPreUpdate(this,$bind(this,this.update))}),Ut=((E["ceramic.Timeline"]=yt).__name__="ceramic.Timeline",yt.__interfaces__=[a0],yt.__super__=j,yt.prototype=$extend(j.prototype,{__cbOnStartLabel:null,__cbOnceStartLabel:null,__cbOnOwnerUnbindStartLabel:null,__cbOnceOwnerUnbindStartLabel:null,emitStartLabel:function(e,n){var t=0;if(null!=this.__cbOnStartLabel&&(t+=this.__cbOnStartLabel.length),null!=this.__cbOnceStartLabel&&(t+=this.__cbOnceStartLabel.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnStartLabel)for(var s=0,h=this.__cbOnStartLabel.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnStartLabel[a],++r):--t}if(null!=this.__cbOnceStartLabel){for(var o=null,c=null,s=0,h=this.__cbOnceStartLabel.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceStartLabel[a],this.__cbOnceStartLabel[a]=null,u=this.__cbOnceOwnerUnbindStartLabel[a],(this.__cbOnceOwnerUnbindStartLabel[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindStartLabel[a]),c.push(this.__cbOnceStartLabel[a]))}this.__cbOnceOwnerUnbindStartLabel=o,this.__cbOnceStartLabel=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onStartLabel:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event startLabel because owner is destroyed!");var l=function(e){null!=t&&(i.offStartLabel(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindStartLabel&&(this.__cbOnOwnerUnbindStartLabel=[]),this.__cbOnOwnerUnbindStartLabel.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindStartLabel&&(this.__cbOnOwnerUnbindStartLabel=[]),this.__cbOnOwnerUnbindStartLabel.push(null);null==this.__cbOnStartLabel&&(this.__cbOnStartLabel=[]),this.__cbOnStartLabel.push(t)},onceStartLabel:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event startLabel because owner is destroyed!");var l=function(e){null!=t&&(i.offStartLabel(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindStartLabel&&(this.__cbOnceOwnerUnbindStartLabel=[]),this.__cbOnceOwnerUnbindStartLabel.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindStartLabel&&(this.__cbOnceOwnerUnbindStartLabel=[]),this.__cbOnceOwnerUnbindStartLabel.push(null);null==this.__cbOnceStartLabel&&(this.__cbOnceStartLabel=[]),this.__cbOnceStartLabel.push(t)},offStartLabel:function(e){if(null!=e){var n;null!=this.__cbOnStartLabel&&-1!=(n=this.__cbOnStartLabel.indexOf(e))&&(this.__cbOnStartLabel.splice(n,1),null!=(r=this.__cbOnOwnerUnbindStartLabel[n])&&r(),this.__cbOnOwnerUnbindStartLabel.splice(n,1)),null!=this.__cbOnceStartLabel&&-1!=(n=this.__cbOnceStartLabel.indexOf(e))&&(this.__cbOnceStartLabel.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindStartLabel[n])&&r(),this.__cbOnceOwnerUnbindStartLabel.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindStartLabel){for(var t=0,i=this.__cbOnOwnerUnbindStartLabel.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindStartLabel[l])&&r()}this.__cbOnOwnerUnbindStartLabel=null}if(null!=this.__cbOnceOwnerUnbindStartLabel){for(t=0,i=this.__cbOnceOwnerUnbindStartLabel.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindStartLabel[l])&&r()}this.__cbOnceOwnerUnbindStartLabel=null}this.__cbOnStartLabel=null,this.__cbOnceStartLabel=null}},listensStartLabel:function(){return null!=this.__cbOnStartLabel&&0<this.__cbOnStartLabel.length||null!=this.__cbOnceStartLabel&&0<this.__cbOnceStartLabel.length},__cbOnEndLabel:null,__cbOnceEndLabel:null,__cbOnOwnerUnbindEndLabel:null,__cbOnceOwnerUnbindEndLabel:null,emitEndLabel:function(e,n){var t=0;if(null!=this.__cbOnEndLabel&&(t+=this.__cbOnEndLabel.length),null!=this.__cbOnceEndLabel&&(t+=this.__cbOnceEndLabel.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnEndLabel)for(var s=0,h=this.__cbOnEndLabel.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnEndLabel[a],++r):--t}if(null!=this.__cbOnceEndLabel){for(var o=null,c=null,s=0,h=this.__cbOnceEndLabel.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceEndLabel[a],this.__cbOnceEndLabel[a]=null,u=this.__cbOnceOwnerUnbindEndLabel[a],(this.__cbOnceOwnerUnbindEndLabel[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindEndLabel[a]),c.push(this.__cbOnceEndLabel[a]))}this.__cbOnceOwnerUnbindEndLabel=o,this.__cbOnceEndLabel=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l),l=null}this.didEmitEndLabel(e,n)},onEndLabel:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event endLabel because owner is destroyed!");var l=function(e){null!=t&&(i.offEndLabel(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindEndLabel&&(this.__cbOnOwnerUnbindEndLabel=[]),this.__cbOnOwnerUnbindEndLabel.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindEndLabel&&(this.__cbOnOwnerUnbindEndLabel=[]),this.__cbOnOwnerUnbindEndLabel.push(null);null==this.__cbOnEndLabel&&(this.__cbOnEndLabel=[]),this.__cbOnEndLabel.push(t)},onceEndLabel:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event endLabel because owner is destroyed!");var l=function(e){null!=t&&(i.offEndLabel(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindEndLabel&&(this.__cbOnceOwnerUnbindEndLabel=[]),this.__cbOnceOwnerUnbindEndLabel.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindEndLabel&&(this.__cbOnceOwnerUnbindEndLabel=[]),this.__cbOnceOwnerUnbindEndLabel.push(null);null==this.__cbOnceEndLabel&&(this.__cbOnceEndLabel=[]),this.__cbOnceEndLabel.push(t)},offEndLabel:function(e){if(null!=e){var n;null!=this.__cbOnEndLabel&&-1!=(n=this.__cbOnEndLabel.indexOf(e))&&(this.__cbOnEndLabel.splice(n,1),null!=(r=this.__cbOnOwnerUnbindEndLabel[n])&&r(),this.__cbOnOwnerUnbindEndLabel.splice(n,1)),null!=this.__cbOnceEndLabel&&-1!=(n=this.__cbOnceEndLabel.indexOf(e))&&(this.__cbOnceEndLabel.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindEndLabel[n])&&r(),this.__cbOnceOwnerUnbindEndLabel.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindEndLabel){for(var t=0,i=this.__cbOnOwnerUnbindEndLabel.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindEndLabel[l])&&r()}this.__cbOnOwnerUnbindEndLabel=null}if(null!=this.__cbOnceOwnerUnbindEndLabel){for(t=0,i=this.__cbOnceOwnerUnbindEndLabel.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindEndLabel[l])&&r()}this.__cbOnceOwnerUnbindEndLabel=null}this.__cbOnEndLabel=null,this.__cbOnceEndLabel=null}},listensEndLabel:function(){return null!=this.__cbOnEndLabel&&0<this.__cbOnEndLabel.length||null!=this.__cbOnceEndLabel&&0<this.__cbOnceEndLabel.length},size:null,autoFitSize:null,loop:null,autoUpdate:null,set_autoUpdate:function(e){return this.autoUpdate!=e&&(this.autoUpdate=e,he.app.offPreUpdate($bind(this,this.update)),!this.paused)&&this.autoUpdate&&he.app.onPreUpdate(this,$bind(this,this.update)),e},fps:null,position:null,tracks:null,paused:null,set_paused:function(e){return this.paused!=e&&(this.paused=e,he.app.offPreUpdate($bind(this,this.update)),!this.paused&&this.autoUpdate)&&he.app.onPreUpdate(this,$bind(this,this.update)),e},labels:null,labelIndexes:null,startPosition:null,set_startPosition:function(e){return this.startPosition!=e&&(this.startPosition=e,this.apply()),e},endPosition:null,set_endPosition:function(e){return this.endPosition!=e&&(this.endPosition=e,this.apply()),e},completeHandlers:null,completeHandlerIndexes:null,bindAsComponent:function(){},bindOrUnbindUpdateIfNeeded:function(){he.app.offPreUpdate($bind(this,this.update)),!this.paused&&this.autoUpdate&&he.app.onPreUpdate(this,$bind(this,this.update))},update:function(e){var n,t,i=this.position+e*this.fps,e=this.position;if(i!=this.position&&(0<=this.startPosition&&i<this.startPosition&&(i=this.startPosition),this.endPosition>=this.startPosition&&0<=this.startPosition&&i>this.endPosition&&(i=this.loop?this.startPosition+(i-this.startPosition)%(this.endPosition-this.startPosition):this.endPosition),0<this.size?i>this.size&&(this.loop?i%=this.size:i=this.size):0==this.size&&(i=0),(i=i<0?0:i)!=this.position)){this.position=i;for(var l=0,r=this.tracks.length;l<r;){var s=l++,h=this.tracks[s];if(!h.locked){var i=this.position,s=!1,a=!1;if(null==a&&(a=!1),((s=null==s?!1:s)||i!=h.position)&&(0<h.size?i>h.size&&(h.loop?i%=h.size:i=h.size):0==h.size&&(i=0),(i=i<0?0:i)!=h.position)){h.position=i;var o=null;if(-1!=(u=h.keyframeBeforeIndex))if((o=h.keyframes[u]).index<=h.position)for(var c=h.keyframes[u+1];null!=c&&c.index<=h.position;)o=c,++u,c=h.keyframes[u+1];else o=null;if(null==o)for(var u=-1,_=h.keyframes.length;u+1<_;){var d=h.keyframes[u+1];if(d.index>h.position)break;o=d,++u}h.keyframeBeforeIndex=u,h.before=o;var b=null,g=h.keyframeAfterIndex;if(-1!=g&&null!=(b=h.keyframes[g]))if(b.index>h.position){if(0<g)for(var O=h.keyframes[g-1];null!=O&&O.index>h.position;)b=O,O=0<--g?h.keyframes[g-1]:null}else b=null;if(null==b){for(s=h.keyframes.length,g=s;0<=g-1;){var f=h.keyframes[g-1];if(f.index<=h.position)break;b=f,--g}s<=g&&(g=-1)}h.keyframeAfterIndex=g,h.after=b,h.apply(a)}}}}this.position!=e&&(n=Math.floor(this.position))!=Math.floor(e)&&null!=(e=this.labelAtIndex(n))&&(-1!=(t=this.indexOfLabelBeforeIndex(n))&&this.emitEndLabel(t,this.labelAtIndex(t)),this.emitStartLabel(n,e))},seek:function(e){var n,t=e,i=this.position;if(t!=this.position&&(0<=this.startPosition&&t<this.startPosition&&(t=this.startPosition),this.endPosition>=this.startPosition&&0<=this.startPosition&&t>this.endPosition&&(t=this.loop?this.startPosition+(t-this.startPosition)%(this.endPosition-this.startPosition):this.endPosition),0<this.size?t>this.size&&(this.loop?t%=this.size:t=this.size):0==this.size&&(t=0),(t=t<0?0:t)!=this.position)){this.position=t;for(var l=0,r=this.tracks.length;l<r;){var s=l++,h=this.tracks[s];if(!h.locked){var e=this.position,s=!1,a=!1;if(null==a&&(a=!1),((s=null==s?!1:s)||e!=h.position)&&(0<h.size?e>h.size&&(h.loop?e%=h.size:e=h.size):0==h.size&&(e=0),(e=e<0?0:e)!=h.position)){h.position=e;var o=null;if(-1!=(u=h.keyframeBeforeIndex))if((o=h.keyframes[u]).index<=h.position)for(var c=h.keyframes[u+1];null!=c&&c.index<=h.position;)o=c,++u,c=h.keyframes[u+1];else o=null;if(null==o)for(var u=-1,_=h.keyframes.length;u+1<_;){var d=h.keyframes[u+1];if(d.index>h.position)break;o=d,++u}h.keyframeBeforeIndex=u,h.before=o;var b=null,g=h.keyframeAfterIndex;if(-1!=g&&null!=(b=h.keyframes[g]))if(b.index>h.position){if(0<g)for(var O=h.keyframes[g-1];null!=O&&O.index>h.position;)b=O,O=0<--g?h.keyframes[g-1]:null}else b=null;if(null==b){for(s=h.keyframes.length,g=s;0<=g-1;){var f=h.keyframes[g-1];if(f.index<=h.position)break;b=f,--g}s<=g&&(g=-1)}h.keyframeAfterIndex=g,h.after=b,h.apply(a)}}}}this.position!=i&&(t=Math.floor(this.position))!=Math.floor(i)&&null!=(i=this.labelAtIndex(t))&&(-1!=(n=this.indexOfLabelBeforeIndex(t))&&this.emitEndLabel(n,this.labelAtIndex(n)),this.emitStartLabel(t,i))},animate:function(e,n){if(null!=this.completeHandlers&&0<this.completeHandlers.length){var t=this.completeHandlers;if(0!=t.length)if(0<t.length)t.splice(0,t.length);else for(var i=t;i.length<0;)i.push(null);if(0!=(t=this.completeHandlerIndexes).length)if(0<t.length)t.splice(0,t.length);else for(i=t;i.length<0;)i.push(null)}t=this.indexOfLabel(e);-1!=t?(this.seek(t),null==this.completeHandlers&&(this.completeHandlers=[],this.completeHandlerIndexes=[]),this.completeHandlers.push(n),this.completeHandlerIndexes.push(t)):he.app.logger.warning("Failed to animate whith label: "+e+" (not found)",{fileName:"../../../../ceramic/runtime/src/ceramic/Timeline.hx",lineNumber:287,className:"ceramic.Timeline",methodName:"animate"})},seekLabel:function(e){var n=this.indexOfLabel(e);return-1!=n?this.seek(n):he.app.logger.warning("Failed to seek label: "+e+" (not found)",{fileName:"../../../../ceramic/runtime/src/ceramic/Timeline.hx",lineNumber:306,className:"ceramic.Timeline",methodName:"seekLabel"}),n},resetStartAndEndPositions:function(){this.set_startPosition(-1),this.set_endPosition(-1)},loopLabel:function(e){var n;return null==this.labels?(he.app.logger.warning("Cannot loop label "+e+" (there is no label at all)",{fileName:"../../../../ceramic/runtime/src/ceramic/Timeline.hx",lineNumber:339,className:"ceramic.Timeline",methodName:"loopLabel"}),-1):-1==(n=this.labels.indexOf(e))?(he.app.logger.warning("Cannot loop label "+e+" (no such label)",{fileName:"../../../../ceramic/runtime/src/ceramic/Timeline.hx",lineNumber:345,className:"ceramic.Timeline",methodName:"loopLabel"}),-1):(e=this.labelIndexes[n],this.set_startPosition(e),this.set_endPosition(n<this.labelIndexes.length-1?this.labelIndexes[n+1]:this.size),this.seek(e),e)},apply:function(e){var n,t,i=this.position,l=!0,r=e=null==e?!1:e,s=(null==e&&(r=!1),null==l&&(l=!1),this.position);if((l||i!=this.position)&&(0<=this.startPosition&&i<this.startPosition&&(i=this.startPosition),this.endPosition>=this.startPosition&&0<=this.startPosition&&i>this.endPosition&&(i=this.loop?this.startPosition+(i-this.startPosition)%(this.endPosition-this.startPosition):this.endPosition),0<this.size?i>this.size&&(this.loop?i%=this.size:i=this.size):0==this.size&&(i=0),(i=i<0?0:i)!=this.position)){this.position=i;for(var h=0,a=this.tracks.length;h<a;){var o=h++,c=this.tracks[o];if(!c.locked){i=this.position,o=l,e=r;if(null==e&&(e=!1),((o=null==o?!1:o)||i!=c.position)&&(0<c.size?i>c.size&&(c.loop?i%=c.size:i=c.size):0==c.size&&(i=0),(i=i<0?0:i)!=c.position)){c.position=i;var u=null;if(-1!=(d=c.keyframeBeforeIndex))if((u=c.keyframes[d]).index<=c.position)for(var _=c.keyframes[d+1];null!=_&&_.index<=c.position;)u=_,++d,_=c.keyframes[d+1];else u=null;if(null==u)for(var d=-1,b=c.keyframes.length;d+1<b;){var g=c.keyframes[d+1];if(g.index>c.position)break;u=g,++d}c.keyframeBeforeIndex=d,c.before=u;var O=null,f=c.keyframeAfterIndex;if(-1!=f&&null!=(O=c.keyframes[f]))if(O.index>c.position){if(0<f)for(var p=c.keyframes[f-1];null!=p&&p.index>c.position;)O=p,p=0<--f?c.keyframes[f-1]:null}else O=null;if(null==O){for(o=c.keyframes.length,f=o;0<=f-1;){var C=c.keyframes[f-1];if(C.index<=c.position)break;O=C,--f}o<=f&&(f=-1)}c.keyframeAfterIndex=f,c.after=O,c.apply(e)}}}}this.position!=s&&(n=Math.floor(this.position))!=Math.floor(s)&&null!=(s=this.labelAtIndex(n))&&(-1!=(t=this.indexOfLabelBeforeIndex(n))&&this.emitEndLabel(t,this.labelAtIndex(t)),this.emitStartLabel(n,s))},inlineSeek:function(e,n,t){null==t&&(t=!1),null==n&&(n=!1);var i,l,r=this.position;if((n||e!=this.position)&&(0<=this.startPosition&&e<this.startPosition&&(e=this.startPosition),this.endPosition>=this.startPosition&&0<=this.startPosition&&e>this.endPosition&&(e=this.loop?this.startPosition+(e-this.startPosition)%(this.endPosition-this.startPosition):this.endPosition),0<this.size?e>this.size&&(this.loop?e%=this.size:e=this.size):0==this.size&&(e=0),(e=e<0?0:e)!=this.position)){this.position=e;for(var s=0,h=this.tracks.length;s<h;){var a=s++,o=this.tracks[a];if(!o.locked){var e=this.position,a=n,c=t;if(null==c&&(c=!1),((a=null==a?!1:a)||e!=o.position)&&(0<o.size?e>o.size&&(o.loop?e%=o.size:e=o.size):0==o.size&&(e=0),(e=e<0?0:e)!=o.position)){o.position=e;var u=null;if(-1!=(d=o.keyframeBeforeIndex))if((u=o.keyframes[d]).index<=o.position)for(var _=o.keyframes[d+1];null!=_&&_.index<=o.position;)u=_,++d,_=o.keyframes[d+1];else u=null;if(null==u)for(var d=-1,b=o.keyframes.length;d+1<b;){var g=o.keyframes[d+1];if(g.index>o.position)break;u=g,++d}o.keyframeBeforeIndex=d,o.before=u;var O=null,f=o.keyframeAfterIndex;if(-1!=f&&null!=(O=o.keyframes[f]))if(O.index>o.position){if(0<f)for(var p=o.keyframes[f-1];null!=p&&p.index>o.position;)O=p,p=0<--f?o.keyframes[f-1]:null}else O=null;if(null==O){for(a=o.keyframes.length,f=a;0<=f-1;){var C=o.keyframes[f-1];if(C.index<=o.position)break;O=C,--f}a<=f&&(f=-1)}o.keyframeAfterIndex=f,o.after=O,o.apply(c)}}}}this.position!=r&&(i=Math.floor(this.position))!=Math.floor(r)&&null!=(r=this.labelAtIndex(i))&&(-1!=(l=this.indexOfLabelBeforeIndex(i))&&this.emitEndLabel(l,this.labelAtIndex(l)),this.emitStartLabel(i,r))},clearCompleteHandlers:function(){if(null!=this.completeHandlers&&0<this.completeHandlers.length){var e=this.completeHandlers;if(0!=e.length)if(0<e.length)e.splice(0,e.length);else for(var n=e;n.length<0;)n.push(null);if(0!=(e=this.completeHandlerIndexes).length)if(0<e.length)e.splice(0,e.length);else for(n=e;n.length<0;)n.push(null)}},didEmitEndLabel:function(e,n){if(null!=this.completeHandlers&&0<this.completeHandlers.length){for(var t=null,i=null,l=0,r=0,s=this.completeHandlerIndexes.length;r<s;){var h=r++;this.completeHandlerIndexes[h]==e&&(null==i&&(i=(t=C.pool(this.completeHandlers.length)).get()),c=this.completeHandlers[h],i.vector[l]=c,this.completeHandlers[h]=null,++l)}if(null!=this.completeHandlers&&0<this.completeHandlers.length){var a=this.completeHandlers;if(0!=a.length)if(0<a.length)a.splice(0,a.length);else for(var o=a;o.length<0;)o.push(null);if(0!=(a=this.completeHandlerIndexes).length)if(0<a.length)a.splice(0,a.length);else for(o=a;o.length<0;)o.push(null)}for(r=0,s=l;r<s;){var c,h=r++;(c=i.vector[h])()}null!=i&&t.release(i)}},add:function(e){null!=e.timeline&&e.timeline.remove(e),e.timeline!=this&&(this.tracks.push(e),e.timeline=this),this.autoFitSize&&this.fitSize()},get:function(e){for(var n=0,t=this.tracks.length;n<t;){var i=n++,i=this.tracks[i];if(i.id==e)return i}return null},remove:function(e){e.timeline==this&&(se.remove(this.tracks,e),e.timeline=null),this.autoFitSize&&this.fitSize()},fitSize:function(){for(var e=0,n=0,t=this.tracks.length;n<t;){var i=n++,i=this.tracks[i];i.size>e&&(e=i.size)}this.size=e},indexOfLabelBeforeIndex:function(e){if(null==this.labelIndexes)return-1;for(var n=-1,t=0,i=this.labelIndexes.length;t<i;){var l=t++,l=this.labelIndexes[l];if(l==e)return n;if(e<l)break;n=l}return n},labelAtIndex:function(e){if(null!=this.labelIndexes)for(var n=0,t=this.labelIndexes.length;n<t;){var i=n++,l=this.labelIndexes[i];if(l==e)return this.labels[i];if(e<l)break}return null},indexOfLabel:function(e){if(null!=this.labelIndexes)for(var n=0,t=this.labels.length;n<t;){var i=n++;if(e==this.labels[i])return this.labelIndexes[i]}return-1},setLabel:function(e,n){this.removeLabel(n),null==this.labelIndexes&&(this.labelIndexes=[],this.labels=[]),this.labelIndexes.push(e),this.labels.push(n),this.sortLabels()},removeLabelAtIndex:function(e){var n=!1;return null!=this.labelIndexes&&-1!=(e=this.labelIndexes.indexOf(e))&&(this.labels.splice(e,1),this.labelIndexes.splice(e,1),n=!0),n},removeLabel:function(e){var n=!1;return null!=this.labels&&-1!=(e=this.labels.indexOf(e))&&(this.labels.splice(e,1),this.labelIndexes.splice(e,1),n=!0),n},sortLabels:function(){this.labelIndexes.sort($bind(this,this.compareLabelIndexes)),this.labels.sort($bind(this,this.compareLabelNames))},compareLabelIndexes:function(e,n){return n<e?1:e<n?-1:0},compareLabelNames:function(e,n){e=this.labels.indexOf(e),e=this.labelIndexes[e],n=this.labels.indexOf(n),n=this.labelIndexes[n];return n<e?1:e<n?-1:0},entity:null,setEntity:function(e){this.entity=e instanceof j?e:null},getEntity:function(){return this.entity},initializerName:null,unbindEvents:function(){j.prototype.unbindEvents.call(this),this.offStartLabel(),this.offEndLabel()},__class__:yt,__properties__:$extend(j.prototype.__properties__,{set_endPosition:"set_endPosition",set_startPosition:"set_startPosition",set_paused:"set_paused",set_autoUpdate:"set_autoUpdate"})}),(E["ceramic.TimelineKeyframe"]=K1).__name__="ceramic.TimelineKeyframe",K1.prototype={index:null,easing:null,__class__:K1},(E["ceramic.TimelineBoolKeyframe"]=L1).__name__="ceramic.TimelineBoolKeyframe",L1.__super__=K1,L1.prototype=$extend(K1.prototype,{value:null,__class__:L1}),(E["ceramic.TimelineTrack"]=M1).__name__="ceramic.TimelineTrack",M1.__super__=j,M1.prototype=$extend(j.prototype,{size:null,autoFitSize:null,loop:null,locked:null,timeline:null,position:null,keyframes:null,before:null,after:null,keyframeBeforeIndex:null,keyframeAfterIndex:null,destroy:function(){this._lifecycleState<=-2||(this._lifecycleState=-2,null!=this.timeline&&0<=this.timeline._lifecycleState&&this.timeline.remove(this),this._lifecycleState=-1,j.prototype.destroy.call(this))},seek:function(e){if(e!=this.position&&(0<this.size?e>this.size&&(this.loop?e%=this.size:e=this.size):0==this.size&&(e=0),(e=e<0?0:e)!=this.position)){this.position=e;var n=null;if(-1!=(r=this.keyframeBeforeIndex))if((n=this.keyframes[r]).index<=this.position)for(var t=this.keyframes[r+1];null!=t&&t.index<=this.position;)n=t,t=this.keyframes[++r+1];else n=null;if(null==n){r=-1;for(var i=this.keyframes.length;r+1<i;){if((l=this.keyframes[r+1]).index>this.position)break;n=l,++r}}this.keyframeBeforeIndex=r,this.before=n;var l,n=null,r=this.keyframeAfterIndex;if(-1!=r&&null!=(n=this.keyframes[r]))if(n.index>this.position){if(0<r)for(var s=this.keyframes[r-1];null!=s&&s.index>this.position;)n=s,s=0<--r?this.keyframes[r-1]:null}else n=null;if(null==n){for(r=i=this.keyframes.length;0<=r-1;){if((l=this.keyframes[r-1]).index<=this.position)break;n=l,--r}i<=r&&(r=-1)}this.keyframeAfterIndex=r,this.after=n,this.apply(!1)}},inlineSeek:function(e,n,t){if(null==t&&(t=!1),((n=null==n?!1:n)||e!=this.position)&&(0<this.size?e>this.size&&(this.loop?e%=this.size:e=this.size):0==this.size&&(e=0),(e=e<0?0:e)!=this.position)){this.position=e;var i=null;if(-1!=(h=this.keyframeBeforeIndex))if((i=this.keyframes[h]).index<=this.position)for(var l=this.keyframes[h+1];null!=l&&l.index<=this.position;)i=l,l=this.keyframes[++h+1];else i=null;if(null==i){h=-1;for(var r=this.keyframes.length;h+1<r;){if((s=this.keyframes[h+1]).index>this.position)break;i=s,++h}}this.keyframeBeforeIndex=h,this.before=i;var s,i=null,h=this.keyframeAfterIndex;if(-1!=h&&null!=(i=this.keyframes[h]))if(i.index>this.position){if(0<h)for(var a=this.keyframes[h-1];null!=a&&a.index>this.position;)i=a,a=0<--h?this.keyframes[h-1]:null}else i=null;if(null==i){for(h=r=this.keyframes.length;0<=h-1;){if((s=this.keyframes[h-1]).index<=this.position)break;i=s,--h}r<=h&&(h=-1)}this.keyframeAfterIndex=h,this.after=i,this.apply(t)}},add:function(e){for(var n=this.keyframes,t=n.length,i=0,l=!1;i<t;){var r=n[i];if(r.index==e.index){he.app.logger.warning("Replacing existing keyframe at index "+e.index,{fileName:"../../../../ceramic/runtime/src/ceramic/TimelineTrack.hx",lineNumber:204,className:"ceramic.TimelineTrack",methodName:"add"}),n[i]=e,l=!0;break}if(r.index>e.index){n.splice(i,0,e),l=!0;break}++i}l||n.push(e),this.autoFitSize&&this.fitSize(),null!=this.timeline&&this.timeline.autoFitSize&&this.timeline.fitSize(),this.keyframeBeforeIndex=-1;var s=null;if((this.keyframeAfterIndex=-1)!=(a=this.keyframeBeforeIndex))if((s=this.keyframes[a]).index<=this.position)for(var h=this.keyframes[a+1];null!=h&&h.index<=this.position;)s=h,h=this.keyframes[++a+1];else s=null;if(null==s){a=-1;for(t=this.keyframes.length;a+1<t;){if((e=this.keyframes[a+1]).index>this.position)break;s=e,++a}}this.keyframeBeforeIndex=a,this.before=s;var s=null,a=this.keyframeAfterIndex;if(-1!=a&&null!=(s=this.keyframes[a]))if(s.index>this.position){if(0<a)for(var o=this.keyframes[a-1];null!=o&&o.index>this.position;)s=o,o=0<--a?this.keyframes[a-1]:null}else s=null;if(null==s){for(a=t=this.keyframes.length;0<=a-1;){if((e=this.keyframes[a-1]).index<=this.position)break;s=e,--a}t<=a&&(a=-1)}this.keyframeAfterIndex=a,this.after=s,this.apply(!0)},remove:function(e){if(-1!=(l=this.keyframes.indexOf(e))){this.keyframes.splice(l,1),this.autoFitSize&&this.fitSize(),null!=this.timeline&&this.timeline.autoFitSize&&this.timeline.fitSize(),this.keyframeBeforeIndex=-1;var n=null;if((this.keyframeAfterIndex=-1)!=(l=this.keyframeBeforeIndex))if((n=this.keyframes[l]).index<=this.position)for(var t=this.keyframes[l+1];null!=t&&t.index<=this.position;)n=t,t=this.keyframes[++l+1];else n=null;if(null==n){l=-1;for(var i=this.keyframes.length;l+1<i;){if((e=this.keyframes[l+1]).index>this.position)break;n=e,++l}}this.keyframeBeforeIndex=l,this.before=n;var n=null,l=this.keyframeAfterIndex;if(-1!=l&&null!=(n=this.keyframes[l]))if(n.index>this.position){if(0<l)for(var r=this.keyframes[l-1];null!=r&&r.index>this.position;)n=r,r=0<--l?this.keyframes[l-1]:null}else n=null;if(null==n){for(l=i=this.keyframes.length;0<=l-1;){if((e=this.keyframes[l-1]).index<=this.position)break;n=e,--l}i<=l&&(l=-1)}this.keyframeAfterIndex=l,this.after=n,this.apply(!0)}else he.app.logger.warning("Failed to remove keyframe: keyframe not found in list",{fileName:"../../../../ceramic/runtime/src/ceramic/TimelineTrack.hx",lineNumber:270,className:"ceramic.TimelineTrack",methodName:"remove"})},fitSize:function(){0<this.keyframes.length?this.size=this.keyframes[this.keyframes.length-1].index:this.size=0},apply:function(e){},findKeyframeAtIndex:function(e){var n=this.findKeyframeBefore(e);return null!=n&&n.index==e?n:null},findKeyframeBefore:function(e){for(var n=null,t=-1,i=this.keyframes.length;t+1<i;){var l=this.keyframes[t+1];if(l.index>e)break;n=l,++t}return n},findKeyframeAfter:function(e){for(var n=null,t=-1,i=this.keyframes.length;t+1<i;){var l=this.keyframes[t+1];if(l.index>e)break;n=l,++t}return n},computeKeyframeBefore:function(){var e=null;if(-1!=(t=this.keyframeBeforeIndex))if((e=this.keyframes[t]).index<=this.position)for(var n=this.keyframes[t+1];null!=n&&n.index<=this.position;)e=n,n=this.keyframes[++t+1];else e=null;if(null==e)for(var t=-1,i=this.keyframes.length;t+1<i;){var l=this.keyframes[t+1];if(l.index>this.position)break;e=l,++t}this.keyframeBeforeIndex=t,this.before=e},computeKeyframeAfter:function(){var e=null,n=this.keyframeAfterIndex;if(-1!=n&&null!=(e=this.keyframes[n]))if(e.index>this.position){if(0<n)for(var t=this.keyframes[n-1];null!=t&&t.index>this.position;)e=t,t=0<--n?this.keyframes[n-1]:null}else e=null;if(null==e){for(var i=this.keyframes.length,n=i;0<=n-1;){var l=this.keyframes[n-1];if(l.index<=this.position)break;e=l,--n}i<=n&&(n=-1)}this.keyframeAfterIndex=n,this.after=e},__class__:M1}),(E["ceramic.TimelineBoolTrack"]=N1).__name__="ceramic.TimelineBoolTrack",N1.__super__=M1,N1.prototype=$extend(M1.prototype,{__cbOnChange:null,__cbOnceChange:null,__cbOnOwnerUnbindChange:null,__cbOnceOwnerUnbindChange:null,emitChange:function(e){var n=0;if(null!=this.__cbOnChange&&(n+=this.__cbOnChange.length),null!=this.__cbOnceChange&&(n+=this.__cbOnceChange.length),0<n){var t=C.pool(n),i=t.get(),l=0;if(null!=this.__cbOnChange)for(var r=0,s=this.__cbOnChange.length;r<s;){var h=r++;!0?(i.vector[l]=this.__cbOnChange[h],++l):--n}if(null!=this.__cbOnceChange){for(var a=null,o=null,r=0,s=this.__cbOnceChange.length;r<s;){var c,h=r++;!0?(i.vector[l]=this.__cbOnceChange[h],this.__cbOnceChange[h]=null,c=this.__cbOnceOwnerUnbindChange[h],(this.__cbOnceOwnerUnbindChange[h]=null)!=c&&c(),++l):(--n,null==a&&(a=[],o=[],0),a.push(this.__cbOnceOwnerUnbindChange[h]),o.push(this.__cbOnceChange[h]))}this.__cbOnceOwnerUnbindChange=a,this.__cbOnceChange=o}for(r=0,s=n;r<s;){l=r++;(0,i.vector[l])(e)}t.release(i)}},onChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event change because owner is destroyed!");var l=function(e){null!=t&&(i.offChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindChange&&(this.__cbOnOwnerUnbindChange=[]),this.__cbOnOwnerUnbindChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindChange&&(this.__cbOnOwnerUnbindChange=[]),this.__cbOnOwnerUnbindChange.push(null);null==this.__cbOnChange&&(this.__cbOnChange=[]),this.__cbOnChange.push(t)},onceChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event change because owner is destroyed!");var l=function(e){null!=t&&(i.offChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindChange&&(this.__cbOnceOwnerUnbindChange=[]),this.__cbOnceOwnerUnbindChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindChange&&(this.__cbOnceOwnerUnbindChange=[]),this.__cbOnceOwnerUnbindChange.push(null);null==this.__cbOnceChange&&(this.__cbOnceChange=[]),this.__cbOnceChange.push(t)},offChange:function(e){if(null!=e){var n;null!=this.__cbOnChange&&-1!=(n=this.__cbOnChange.indexOf(e))&&(this.__cbOnChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindChange[n])&&r(),this.__cbOnOwnerUnbindChange.splice(n,1)),null!=this.__cbOnceChange&&-1!=(n=this.__cbOnceChange.indexOf(e))&&(this.__cbOnceChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindChange[n])&&r(),this.__cbOnceOwnerUnbindChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindChange){for(var t=0,i=this.__cbOnOwnerUnbindChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindChange[l])&&r()}this.__cbOnOwnerUnbindChange=null}if(null!=this.__cbOnceOwnerUnbindChange){for(t=0,i=this.__cbOnceOwnerUnbindChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindChange[l])&&r()}this.__cbOnceOwnerUnbindChange=null}this.__cbOnChange=null,this.__cbOnceChange=null}},listensChange:function(){return null!=this.__cbOnChange&&0<this.__cbOnChange.length||null!=this.__cbOnceChange&&0<this.__cbOnceChange.length},value:null,apply:function(e){null==e&&(e=!1);var n,t=this.value;null!=this.before&&null!=this.after?(1<(n=(this.position-this.before.index)/(this.after.index-this.before.index))?n=1:n<0&&(n=0),this.value=(1<=n?this.after:this.before).value):null!=this.after?this.value=this.after.value:null!=this.before&&(this.value=this.before.value),!e&&t==this.value||this.emitChange(this)},unbindEvents:function(){M1.prototype.unbindEvents.call(this),this.offChange()},__class__:N1}),(E["ceramic.TimelineColorKeyframe"]=O1).__name__="ceramic.TimelineColorKeyframe",O1.__super__=K1,O1.prototype=$extend(K1.prototype,{value:null,__class__:O1}),(E["ceramic.TimelineColorTrack"]=P1).__name__="ceramic.TimelineColorTrack",P1.__super__=M1,P1.prototype=$extend(M1.prototype,{__cbOnChange:null,__cbOnceChange:null,__cbOnOwnerUnbindChange:null,__cbOnceOwnerUnbindChange:null,emitChange:function(e){var n=0;if(null!=this.__cbOnChange&&(n+=this.__cbOnChange.length),null!=this.__cbOnceChange&&(n+=this.__cbOnceChange.length),0<n){var t=C.pool(n),i=t.get(),l=0;if(null!=this.__cbOnChange)for(var r=0,s=this.__cbOnChange.length;r<s;){var h=r++;!0?(i.vector[l]=this.__cbOnChange[h],++l):--n}if(null!=this.__cbOnceChange){for(var a=null,o=null,r=0,s=this.__cbOnceChange.length;r<s;){var c,h=r++;!0?(i.vector[l]=this.__cbOnceChange[h],this.__cbOnceChange[h]=null,c=this.__cbOnceOwnerUnbindChange[h],(this.__cbOnceOwnerUnbindChange[h]=null)!=c&&c(),++l):(--n,null==a&&(a=[],o=[],0),a.push(this.__cbOnceOwnerUnbindChange[h]),o.push(this.__cbOnceChange[h]))}this.__cbOnceOwnerUnbindChange=a,this.__cbOnceChange=o}for(r=0,s=n;r<s;){l=r++;(0,i.vector[l])(e)}t.release(i)}},onChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event change because owner is destroyed!");var l=function(e){null!=t&&(i.offChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindChange&&(this.__cbOnOwnerUnbindChange=[]),this.__cbOnOwnerUnbindChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindChange&&(this.__cbOnOwnerUnbindChange=[]),this.__cbOnOwnerUnbindChange.push(null);null==this.__cbOnChange&&(this.__cbOnChange=[]),this.__cbOnChange.push(t)},onceChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event change because owner is destroyed!");var l=function(e){null!=t&&(i.offChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindChange&&(this.__cbOnceOwnerUnbindChange=[]),this.__cbOnceOwnerUnbindChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindChange&&(this.__cbOnceOwnerUnbindChange=[]),this.__cbOnceOwnerUnbindChange.push(null);null==this.__cbOnceChange&&(this.__cbOnceChange=[]),this.__cbOnceChange.push(t)},offChange:function(e){if(null!=e){var n;null!=this.__cbOnChange&&-1!=(n=this.__cbOnChange.indexOf(e))&&(this.__cbOnChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindChange[n])&&r(),this.__cbOnOwnerUnbindChange.splice(n,1)),null!=this.__cbOnceChange&&-1!=(n=this.__cbOnceChange.indexOf(e))&&(this.__cbOnceChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindChange[n])&&r(),this.__cbOnceOwnerUnbindChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindChange){for(var t=0,i=this.__cbOnOwnerUnbindChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindChange[l])&&r()}this.__cbOnOwnerUnbindChange=null}if(null!=this.__cbOnceOwnerUnbindChange){for(t=0,i=this.__cbOnceOwnerUnbindChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindChange[l])&&r()}this.__cbOnceOwnerUnbindChange=null}this.__cbOnChange=null,this.__cbOnceChange=null}},listensChange:function(){return null!=this.__cbOnChange&&0<this.__cbOnChange.length||null!=this.__cbOnceChange&&0<this.__cbOnceChange.length},value:null,apply:function(e){null==e&&(e=!1);var n,t,i,l,r=this.value;null!=this.before&&null!=this.after?(1<(i=(this.position-this.before.index)/(this.after.index-this.before.index))?i=1:i<0&&(i=0),n=this.before.value,l=(((t=this.after.value)>>16&255)-(n>>16&255))*(i=null==(i=J.ease(this.after.easing,i))?.5:i)+(n>>16&255)|0,this.value=((0&65535|(255<l?255:l<0?0:l)<<16)&16711935|(255<(l=((t>>8&255)-(n>>8&255))*i+(n>>8&255)|0)?255:l<0?0:l)<<8)&16776960|(255<(l=((255&t)-(255&n))*i+(255&n)|0)?255:l<0?0:l)):null!=this.after?this.value=this.after.value:null!=this.before&&(this.value=this.before.value),!e&&r==this.value||this.emitChange(this)},unbindEvents:function(){M1.prototype.unbindEvents.call(this),this.offChange()},__class__:P1}),(E["ceramic.TimelineDegreesTrack"]=Q1).__name__="ceramic.TimelineDegreesTrack",Q1.__super__=M1,Q1.prototype=$extend(M1.prototype,{__cbOnChange:null,__cbOnceChange:null,__cbOnOwnerUnbindChange:null,__cbOnceOwnerUnbindChange:null,emitChange:function(e){var n=0;if(null!=this.__cbOnChange&&(n+=this.__cbOnChange.length),null!=this.__cbOnceChange&&(n+=this.__cbOnceChange.length),0<n){var t=C.pool(n),i=t.get(),l=0;if(null!=this.__cbOnChange)for(var r=0,s=this.__cbOnChange.length;r<s;){var h=r++;!0?(i.vector[l]=this.__cbOnChange[h],++l):--n}if(null!=this.__cbOnceChange){for(var a=null,o=null,r=0,s=this.__cbOnceChange.length;r<s;){var c,h=r++;!0?(i.vector[l]=this.__cbOnceChange[h],this.__cbOnceChange[h]=null,c=this.__cbOnceOwnerUnbindChange[h],(this.__cbOnceOwnerUnbindChange[h]=null)!=c&&c(),++l):(--n,null==a&&(a=[],o=[],0),a.push(this.__cbOnceOwnerUnbindChange[h]),o.push(this.__cbOnceChange[h]))}this.__cbOnceOwnerUnbindChange=a,this.__cbOnceChange=o}for(r=0,s=n;r<s;){l=r++;(0,i.vector[l])(e)}t.release(i)}},onChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event change because owner is destroyed!");var l=function(e){null!=t&&(i.offChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindChange&&(this.__cbOnOwnerUnbindChange=[]),this.__cbOnOwnerUnbindChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindChange&&(this.__cbOnOwnerUnbindChange=[]),this.__cbOnOwnerUnbindChange.push(null);null==this.__cbOnChange&&(this.__cbOnChange=[]),this.__cbOnChange.push(t)},onceChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event change because owner is destroyed!");var l=function(e){null!=t&&(i.offChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindChange&&(this.__cbOnceOwnerUnbindChange=[]),this.__cbOnceOwnerUnbindChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindChange&&(this.__cbOnceOwnerUnbindChange=[]),this.__cbOnceOwnerUnbindChange.push(null);null==this.__cbOnceChange&&(this.__cbOnceChange=[]),this.__cbOnceChange.push(t)},offChange:function(e){if(null!=e){var n;null!=this.__cbOnChange&&-1!=(n=this.__cbOnChange.indexOf(e))&&(this.__cbOnChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindChange[n])&&r(),this.__cbOnOwnerUnbindChange.splice(n,1)),null!=this.__cbOnceChange&&-1!=(n=this.__cbOnceChange.indexOf(e))&&(this.__cbOnceChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindChange[n])&&r(),this.__cbOnceOwnerUnbindChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindChange){for(var t=0,i=this.__cbOnOwnerUnbindChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindChange[l])&&r()}this.__cbOnOwnerUnbindChange=null}if(null!=this.__cbOnceOwnerUnbindChange){for(t=0,i=this.__cbOnceOwnerUnbindChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindChange[l])&&r()}this.__cbOnceOwnerUnbindChange=null}this.__cbOnChange=null,this.__cbOnceChange=null}},listensChange:function(){return null!=this.__cbOnChange&&0<this.__cbOnChange.length||null!=this.__cbOnceChange&&0<this.__cbOnceChange.length},value:null,apply:function(e){null==e&&(e=!1);var n,t,i,l,r=this.value,s=this.value;null!=this.before&&null!=this.after?(1<(n=(this.position-this.before.index)/(this.after.index-this.before.index))?n=1:n<0&&(n=0),t=Z0.clampDegrees(this.before.value),180<(l=(i=Z0.clampDegrees(this.after.value))-t)?i-=360:l<-180&&(i+=360),s=t+(i-t)*J.ease(this.after.easing,n),s=Z0.clampDegrees(s)):null!=this.after?s=Z0.clampDegrees(this.after.value):null!=this.before&&(s=Z0.clampDegrees(this.before.value)),!e&&r==s||(this.value=s,this.emitChange(this))},unbindEvents:function(){M1.prototype.unbindEvents.call(this),this.offChange()},__class__:Q1}),(E["ceramic.TimelineFloatArrayKeyframe"]=R1).__name__="ceramic.TimelineFloatArrayKeyframe",R1.__super__=K1,R1.prototype=$extend(K1.prototype,{value:null,__class__:R1}),(E["ceramic.TimelineFloatArrayTrack"]=S1).__name__="ceramic.TimelineFloatArrayTrack",S1.__super__=M1,S1.prototype=$extend(M1.prototype,{__cbOnChange:null,__cbOnceChange:null,__cbOnOwnerUnbindChange:null,__cbOnceOwnerUnbindChange:null,emitChange:function(e){var n=0;if(null!=this.__cbOnChange&&(n+=this.__cbOnChange.length),null!=this.__cbOnceChange&&(n+=this.__cbOnceChange.length),0<n){var t=C.pool(n),i=t.get(),l=0;if(null!=this.__cbOnChange)for(var r=0,s=this.__cbOnChange.length;r<s;){var h=r++;!0?(i.vector[l]=this.__cbOnChange[h],++l):--n}if(null!=this.__cbOnceChange){for(var a=null,o=null,r=0,s=this.__cbOnceChange.length;r<s;){var c,h=r++;!0?(i.vector[l]=this.__cbOnceChange[h],this.__cbOnceChange[h]=null,c=this.__cbOnceOwnerUnbindChange[h],(this.__cbOnceOwnerUnbindChange[h]=null)!=c&&c(),++l):(--n,null==a&&(a=[],o=[],0),a.push(this.__cbOnceOwnerUnbindChange[h]),o.push(this.__cbOnceChange[h]))}this.__cbOnceOwnerUnbindChange=a,this.__cbOnceChange=o}for(r=0,s=n;r<s;){l=r++;(0,i.vector[l])(e)}t.release(i)}},onChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event change because owner is destroyed!");var l=function(e){null!=t&&(i.offChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindChange&&(this.__cbOnOwnerUnbindChange=[]),this.__cbOnOwnerUnbindChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindChange&&(this.__cbOnOwnerUnbindChange=[]),this.__cbOnOwnerUnbindChange.push(null);null==this.__cbOnChange&&(this.__cbOnChange=[]),this.__cbOnChange.push(t)},onceChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event change because owner is destroyed!");var l=function(e){null!=t&&(i.offChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindChange&&(this.__cbOnceOwnerUnbindChange=[]),this.__cbOnceOwnerUnbindChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindChange&&(this.__cbOnceOwnerUnbindChange=[]),this.__cbOnceOwnerUnbindChange.push(null);null==this.__cbOnceChange&&(this.__cbOnceChange=[]),this.__cbOnceChange.push(t)},offChange:function(e){if(null!=e){var n;null!=this.__cbOnChange&&-1!=(n=this.__cbOnChange.indexOf(e))&&(this.__cbOnChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindChange[n])&&r(),this.__cbOnOwnerUnbindChange.splice(n,1)),null!=this.__cbOnceChange&&-1!=(n=this.__cbOnceChange.indexOf(e))&&(this.__cbOnceChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindChange[n])&&r(),this.__cbOnceOwnerUnbindChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindChange){for(var t=0,i=this.__cbOnOwnerUnbindChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindChange[l])&&r()}this.__cbOnOwnerUnbindChange=null}if(null!=this.__cbOnceOwnerUnbindChange){for(t=0,i=this.__cbOnceOwnerUnbindChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindChange[l])&&r()}this.__cbOnceOwnerUnbindChange=null}this.__cbOnChange=null,this.__cbOnceChange=null}},listensChange:function(){return null!=this.__cbOnChange&&0<this.__cbOnChange.length||null!=this.__cbOnceChange&&0<this.__cbOnceChange.length},value:null,apply:function(e){null==e&&(e=!1);var n=!1;if(null!=this.before&&null!=this.after){var t=(this.position-this.before.index)/(this.after.index-this.before.index);if(1<t?t=1:t<0&&(t=0),1<=t){var i=this.value,l=(O=this.after.value).length;if(i.length>l&&i.length!=l)if(i.length>l)i.splice(l,i.length-l);else for(var r=i;r.length<l;)r.push(null);for(var s=i.length,h=0,a=l;h<a;){var o=0,c=((f=h++)<s?o=i[f]:n=!0,O[f]);(i[f]=c)!=o&&(n=!0)}}else if(t<=0){i=this.value,l=(O=this.before.value).length;if(i.length>l&&i.length!=l)if(i.length>l)i.splice(l,i.length-l);else for(r=i;r.length<l;)r.push(null);for(s=i.length,h=0,a=l;h<a;){o=0,c=((f=h++)<s?o=i[f]:n=!0,O[f]);(i[f]=c)!=o&&(n=!0)}}else{var i=this.value,u=this.before.value,_=this.after.value,d=J.ease(this.after.easing,t),t=_.length,b=u.length,l=b<t?b:t;if(i.length>l&&i.length!=l)if(i.length>l)i.splice(l,i.length-l);else for(r=i;r.length<l;)r.push(null);for(s=i.length,h=0,a=l;h<a;){var o=0,g=((f=h++)<s?o=i[f]:n=!0,u[f]),c=g+(_[f]-g)*d;(i[f]=c)!=o&&(n=!0)}}}else if(null!=this.after){i=this.value,l=(O=this.after.value).length;if(i.length>l&&i.length!=l)if(i.length>l)i.splice(l,i.length-l);else for(r=i;r.length<l;)r.push(null);for(s=i.length,h=0,a=l;h<a;){o=0,c=((f=h++)<s?o=i[f]:n=!0,O[f]);(i[f]=c)!=o&&(n=!0)}}else if(null!=this.before){var O,i=this.value,l=(O=this.before.value).length;if(i.length>l&&i.length!=l)if(i.length>l)i.splice(l,i.length-l);else for(r=i;r.length<l;)r.push(null);for(s=i.length,h=0,a=l;h<a;){var f,o=0,c=((f=h++)<s?o=i[f]:n=!0,O[f]);(i[f]=c)!=o&&(n=!0)}}(e||n)&&this.emitChange(this)},unbindEvents:function(){M1.prototype.unbindEvents.call(this),this.offChange()},__class__:S1}),(E["ceramic.TimelineFloatKeyframe"]=T1).__name__="ceramic.TimelineFloatKeyframe",T1.__super__=K1,T1.prototype=$extend(K1.prototype,{value:null,__class__:T1}),(E["ceramic.TimelineFloatTrack"]=U1).__name__="ceramic.TimelineFloatTrack",U1.__super__=M1,U1.prototype=$extend(M1.prototype,{__cbOnChange:null,__cbOnceChange:null,__cbOnOwnerUnbindChange:null,__cbOnceOwnerUnbindChange:null,emitChange:function(e){var n=0;if(null!=this.__cbOnChange&&(n+=this.__cbOnChange.length),null!=this.__cbOnceChange&&(n+=this.__cbOnceChange.length),0<n){var t=C.pool(n),i=t.get(),l=0;if(null!=this.__cbOnChange)for(var r=0,s=this.__cbOnChange.length;r<s;){var h=r++;!0?(i.vector[l]=this.__cbOnChange[h],++l):--n}if(null!=this.__cbOnceChange){for(var a=null,o=null,r=0,s=this.__cbOnceChange.length;r<s;){var c,h=r++;!0?(i.vector[l]=this.__cbOnceChange[h],this.__cbOnceChange[h]=null,c=this.__cbOnceOwnerUnbindChange[h],(this.__cbOnceOwnerUnbindChange[h]=null)!=c&&c(),++l):(--n,null==a&&(a=[],o=[],0),a.push(this.__cbOnceOwnerUnbindChange[h]),o.push(this.__cbOnceChange[h]))}this.__cbOnceOwnerUnbindChange=a,this.__cbOnceChange=o}for(r=0,s=n;r<s;){l=r++;(0,i.vector[l])(e)}t.release(i)}},onChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event change because owner is destroyed!");var l=function(e){null!=t&&(i.offChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindChange&&(this.__cbOnOwnerUnbindChange=[]),this.__cbOnOwnerUnbindChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindChange&&(this.__cbOnOwnerUnbindChange=[]),this.__cbOnOwnerUnbindChange.push(null);null==this.__cbOnChange&&(this.__cbOnChange=[]),this.__cbOnChange.push(t)},onceChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event change because owner is destroyed!");var l=function(e){null!=t&&(i.offChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindChange&&(this.__cbOnceOwnerUnbindChange=[]),this.__cbOnceOwnerUnbindChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindChange&&(this.__cbOnceOwnerUnbindChange=[]),this.__cbOnceOwnerUnbindChange.push(null);null==this.__cbOnceChange&&(this.__cbOnceChange=[]),this.__cbOnceChange.push(t)},offChange:function(e){if(null!=e){var n;null!=this.__cbOnChange&&-1!=(n=this.__cbOnChange.indexOf(e))&&(this.__cbOnChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindChange[n])&&r(),this.__cbOnOwnerUnbindChange.splice(n,1)),null!=this.__cbOnceChange&&-1!=(n=this.__cbOnceChange.indexOf(e))&&(this.__cbOnceChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindChange[n])&&r(),this.__cbOnceOwnerUnbindChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindChange){for(var t=0,i=this.__cbOnOwnerUnbindChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindChange[l])&&r()}this.__cbOnOwnerUnbindChange=null}if(null!=this.__cbOnceOwnerUnbindChange){for(t=0,i=this.__cbOnceOwnerUnbindChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindChange[l])&&r()}this.__cbOnceOwnerUnbindChange=null}this.__cbOnChange=null,this.__cbOnceChange=null}},listensChange:function(){return null!=this.__cbOnChange&&0<this.__cbOnChange.length||null!=this.__cbOnceChange&&0<this.__cbOnceChange.length},value:null,apply:function(e){null==e&&(e=!1);var n,t=this.value;null!=this.before&&null!=this.after?(1<(n=(this.position-this.before.index)/(this.after.index-this.before.index))?n=1:n<0&&(n=0),this.value=this.before.value+(this.after.value-this.before.value)*J.ease(this.after.easing,n)):null!=this.after?this.value=this.after.value:null!=this.before&&(this.value=this.before.value),!e&&t==this.value||this.emitChange(this)},unbindEvents:function(){M1.prototype.unbindEvents.call(this),this.offChange()},__class__:U1}),function(){j.call(this),this.onCreateTrack(this,$bind(this,this.handleCreateTrack)),this.onBindTrack(this,$bind(this,this.handleBindTrack)),this.onCreateKeyframe(this,$bind(this,this.handleCreateKeyframe))}),Dt=((E["ceramic.Timelines"]=Ut).__name__="ceramic.Timelines",Ut.__super__=j,Ut.prototype=$extend(j.prototype,{__cbOnCreateTrack:null,__cbOnceCreateTrack:null,__cbOnOwnerUnbindCreateTrack:null,__cbOnceOwnerUnbindCreateTrack:null,emitCreateTrack:function(e,n,t){var i=0;if(null!=this.__cbOnCreateTrack&&(i+=this.__cbOnCreateTrack.length),null!=this.__cbOnceCreateTrack&&(i+=this.__cbOnceCreateTrack.length),0<i){var l=C.pool(i),r=l.get(),s=0;if(null!=this.__cbOnCreateTrack)for(var h=0,a=this.__cbOnCreateTrack.length;h<a;){var o=h++;!0?(r.vector[s]=this.__cbOnCreateTrack[o],++s):--i}if(null!=this.__cbOnceCreateTrack){for(var c=null,u=null,h=0,a=this.__cbOnceCreateTrack.length;h<a;){var _,o=h++;!0?(r.vector[s]=this.__cbOnceCreateTrack[o],this.__cbOnceCreateTrack[o]=null,_=this.__cbOnceOwnerUnbindCreateTrack[o],(this.__cbOnceOwnerUnbindCreateTrack[o]=null)!=_&&_(),++s):(--i,null==c&&(c=[],u=[],0),c.push(this.__cbOnceOwnerUnbindCreateTrack[o]),u.push(this.__cbOnceCreateTrack[o]))}this.__cbOnceOwnerUnbindCreateTrack=c,this.__cbOnceCreateTrack=u}for(h=0,a=i;h<a;){s=h++;(0,r.vector[s])(e,n,t)}l.release(r)}},onCreateTrack:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event createTrack because owner is destroyed!");var l=function(e){null!=t&&(i.offCreateTrack(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindCreateTrack&&(this.__cbOnOwnerUnbindCreateTrack=[]),this.__cbOnOwnerUnbindCreateTrack.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindCreateTrack&&(this.__cbOnOwnerUnbindCreateTrack=[]),this.__cbOnOwnerUnbindCreateTrack.push(null);null==this.__cbOnCreateTrack&&(this.__cbOnCreateTrack=[]),this.__cbOnCreateTrack.push(t)},onceCreateTrack:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event createTrack because owner is destroyed!");var l=function(e){null!=t&&(i.offCreateTrack(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindCreateTrack&&(this.__cbOnceOwnerUnbindCreateTrack=[]),this.__cbOnceOwnerUnbindCreateTrack.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindCreateTrack&&(this.__cbOnceOwnerUnbindCreateTrack=[]),this.__cbOnceOwnerUnbindCreateTrack.push(null);null==this.__cbOnceCreateTrack&&(this.__cbOnceCreateTrack=[]),this.__cbOnceCreateTrack.push(t)},offCreateTrack:function(e){if(null!=e){var n;null!=this.__cbOnCreateTrack&&-1!=(n=this.__cbOnCreateTrack.indexOf(e))&&(this.__cbOnCreateTrack.splice(n,1),null!=(r=this.__cbOnOwnerUnbindCreateTrack[n])&&r(),this.__cbOnOwnerUnbindCreateTrack.splice(n,1)),null!=this.__cbOnceCreateTrack&&-1!=(n=this.__cbOnceCreateTrack.indexOf(e))&&(this.__cbOnceCreateTrack.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindCreateTrack[n])&&r(),this.__cbOnceOwnerUnbindCreateTrack.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindCreateTrack){for(var t=0,i=this.__cbOnOwnerUnbindCreateTrack.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindCreateTrack[l])&&r()}this.__cbOnOwnerUnbindCreateTrack=null}if(null!=this.__cbOnceOwnerUnbindCreateTrack){for(t=0,i=this.__cbOnceOwnerUnbindCreateTrack.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindCreateTrack[l])&&r()}this.__cbOnceOwnerUnbindCreateTrack=null}this.__cbOnCreateTrack=null,this.__cbOnceCreateTrack=null}},listensCreateTrack:function(){return null!=this.__cbOnCreateTrack&&0<this.__cbOnCreateTrack.length||null!=this.__cbOnceCreateTrack&&0<this.__cbOnceCreateTrack.length},__cbOnBindTrack:null,__cbOnceBindTrack:null,__cbOnOwnerUnbindBindTrack:null,__cbOnceOwnerUnbindBindTrack:null,emitBindTrack:function(e,n,t,i,l){var r=0;if(null!=this.__cbOnBindTrack&&(r+=this.__cbOnBindTrack.length),null!=this.__cbOnceBindTrack&&(r+=this.__cbOnceBindTrack.length),0<r){var s=C.pool(r),h=s.get(),a=0;if(null!=this.__cbOnBindTrack)for(var o=0,c=this.__cbOnBindTrack.length;o<c;){var u=o++;!0?(h.vector[a]=this.__cbOnBindTrack[u],++a):--r}if(null!=this.__cbOnceBindTrack){for(var _=null,d=null,o=0,c=this.__cbOnceBindTrack.length;o<c;){var b,u=o++;!0?(h.vector[a]=this.__cbOnceBindTrack[u],this.__cbOnceBindTrack[u]=null,b=this.__cbOnceOwnerUnbindBindTrack[u],(this.__cbOnceOwnerUnbindBindTrack[u]=null)!=b&&b(),++a):(--r,null==_&&(_=[],d=[],0),_.push(this.__cbOnceOwnerUnbindBindTrack[u]),d.push(this.__cbOnceBindTrack[u]))}this.__cbOnceOwnerUnbindBindTrack=_,this.__cbOnceBindTrack=d}for(o=0,c=r;o<c;){a=o++;(0,h.vector[a])(e,n,t,i,l)}s.release(h)}},onBindTrack:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event bindTrack because owner is destroyed!");var l=function(e){null!=t&&(i.offBindTrack(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindBindTrack&&(this.__cbOnOwnerUnbindBindTrack=[]),this.__cbOnOwnerUnbindBindTrack.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindBindTrack&&(this.__cbOnOwnerUnbindBindTrack=[]),this.__cbOnOwnerUnbindBindTrack.push(null);null==this.__cbOnBindTrack&&(this.__cbOnBindTrack=[]),this.__cbOnBindTrack.push(t)},onceBindTrack:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event bindTrack because owner is destroyed!");var l=function(e){null!=t&&(i.offBindTrack(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindBindTrack&&(this.__cbOnceOwnerUnbindBindTrack=[]),this.__cbOnceOwnerUnbindBindTrack.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindBindTrack&&(this.__cbOnceOwnerUnbindBindTrack=[]),this.__cbOnceOwnerUnbindBindTrack.push(null);null==this.__cbOnceBindTrack&&(this.__cbOnceBindTrack=[]),this.__cbOnceBindTrack.push(t)},offBindTrack:function(e){if(null!=e){var n;null!=this.__cbOnBindTrack&&-1!=(n=this.__cbOnBindTrack.indexOf(e))&&(this.__cbOnBindTrack.splice(n,1),null!=(r=this.__cbOnOwnerUnbindBindTrack[n])&&r(),this.__cbOnOwnerUnbindBindTrack.splice(n,1)),null!=this.__cbOnceBindTrack&&-1!=(n=this.__cbOnceBindTrack.indexOf(e))&&(this.__cbOnceBindTrack.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindBindTrack[n])&&r(),this.__cbOnceOwnerUnbindBindTrack.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindBindTrack){for(var t=0,i=this.__cbOnOwnerUnbindBindTrack.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindBindTrack[l])&&r()}this.__cbOnOwnerUnbindBindTrack=null}if(null!=this.__cbOnceOwnerUnbindBindTrack){for(t=0,i=this.__cbOnceOwnerUnbindBindTrack.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindBindTrack[l])&&r()}this.__cbOnceOwnerUnbindBindTrack=null}this.__cbOnBindTrack=null,this.__cbOnceBindTrack=null}},listensBindTrack:function(){return null!=this.__cbOnBindTrack&&0<this.__cbOnBindTrack.length||null!=this.__cbOnceBindTrack&&0<this.__cbOnceBindTrack.length},__cbOnCreateKeyframe:null,__cbOnceCreateKeyframe:null,__cbOnOwnerUnbindCreateKeyframe:null,__cbOnceOwnerUnbindCreateKeyframe:null,emitCreateKeyframe:function(e,n,t,i,l,r,s){var h=0;if(null!=this.__cbOnCreateKeyframe&&(h+=this.__cbOnCreateKeyframe.length),null!=this.__cbOnceCreateKeyframe&&(h+=this.__cbOnceCreateKeyframe.length),0<h){var a=C.pool(h),o=a.get(),c=0;if(null!=this.__cbOnCreateKeyframe)for(var u=0,_=this.__cbOnCreateKeyframe.length;u<_;){var d=u++;!0?(o.vector[c]=this.__cbOnCreateKeyframe[d],++c):--h}if(null!=this.__cbOnceCreateKeyframe){for(var b=null,g=null,u=0,_=this.__cbOnceCreateKeyframe.length;u<_;){var O,d=u++;!0?(o.vector[c]=this.__cbOnceCreateKeyframe[d],this.__cbOnceCreateKeyframe[d]=null,O=this.__cbOnceOwnerUnbindCreateKeyframe[d],(this.__cbOnceOwnerUnbindCreateKeyframe[d]=null)!=O&&O(),++c):(--h,null==b&&(b=[],g=[],0),b.push(this.__cbOnceOwnerUnbindCreateKeyframe[d]),g.push(this.__cbOnceCreateKeyframe[d]))}this.__cbOnceOwnerUnbindCreateKeyframe=b,this.__cbOnceCreateKeyframe=g}for(u=0,_=h;u<_;){c=u++;(0,o.vector[c])(e,n,t,i,l,r,s)}a.release(o)}},onCreateKeyframe:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event createKeyframe because owner is destroyed!");var l=function(e){null!=t&&(i.offCreateKeyframe(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindCreateKeyframe&&(this.__cbOnOwnerUnbindCreateKeyframe=[]),this.__cbOnOwnerUnbindCreateKeyframe.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindCreateKeyframe&&(this.__cbOnOwnerUnbindCreateKeyframe=[]),this.__cbOnOwnerUnbindCreateKeyframe.push(null);null==this.__cbOnCreateKeyframe&&(this.__cbOnCreateKeyframe=[]),this.__cbOnCreateKeyframe.push(t)},onceCreateKeyframe:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event createKeyframe because owner is destroyed!");var l=function(e){null!=t&&(i.offCreateKeyframe(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindCreateKeyframe&&(this.__cbOnceOwnerUnbindCreateKeyframe=[]),this.__cbOnceOwnerUnbindCreateKeyframe.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindCreateKeyframe&&(this.__cbOnceOwnerUnbindCreateKeyframe=[]),this.__cbOnceOwnerUnbindCreateKeyframe.push(null);null==this.__cbOnceCreateKeyframe&&(this.__cbOnceCreateKeyframe=[]),this.__cbOnceCreateKeyframe.push(t)},offCreateKeyframe:function(e){if(null!=e){var n;null!=this.__cbOnCreateKeyframe&&-1!=(n=this.__cbOnCreateKeyframe.indexOf(e))&&(this.__cbOnCreateKeyframe.splice(n,1),null!=(r=this.__cbOnOwnerUnbindCreateKeyframe[n])&&r(),this.__cbOnOwnerUnbindCreateKeyframe.splice(n,1)),null!=this.__cbOnceCreateKeyframe&&-1!=(n=this.__cbOnceCreateKeyframe.indexOf(e))&&(this.__cbOnceCreateKeyframe.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindCreateKeyframe[n])&&r(),this.__cbOnceOwnerUnbindCreateKeyframe.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindCreateKeyframe){for(var t=0,i=this.__cbOnOwnerUnbindCreateKeyframe.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindCreateKeyframe[l])&&r()}this.__cbOnOwnerUnbindCreateKeyframe=null}if(null!=this.__cbOnceOwnerUnbindCreateKeyframe){for(t=0,i=this.__cbOnceOwnerUnbindCreateKeyframe.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindCreateKeyframe[l])&&r()}this.__cbOnceOwnerUnbindCreateKeyframe=null}this.__cbOnCreateKeyframe=null,this.__cbOnceCreateKeyframe=null}},listensCreateKeyframe:function(){return null!=this.__cbOnCreateKeyframe&&0<this.__cbOnCreateKeyframe.length||null!=this.__cbOnceCreateKeyframe&&0<this.__cbOnceCreateKeyframe.length},handleCreateTrack:function(e,n,t){null==t.value&&(null!=n&&1==n.degrees?t.value=new Q1:"Float"==e?t.value=new U1:"ceramic.Color"==e?t.value=new P1:"Bool"==e?t.value=new N1:"Array<Float>"==e&&(t.value=new S1))},handleBindTrack:function(e,n,t,o,c){var u;t instanceof U1?t.onChange(o,function(e){K.setProperty(o,c,e.value)}):t instanceof Q1?t.onChange(o,function(e){K.setProperty(o,c,e.value)}):t instanceof P1?t.onChange(o,function(e){K.setProperty(o,c,e.value)}):t instanceof N1?t.onChange(o,function(e){K.setProperty(o,c,e.value)}):t instanceof S1&&(u=null!=n&&1==n.copyArray,t.onChange(o,function(e){var n=null,t=((u||null==(n=K.getProperty(o,c)))&&(n=[]),e.value),i=t.length;if(n.length!=i&&n.length!=i)if(n.length>i)n.splice(i,n.length-i);else for(var l=n;l.length<i;)l.push(null);for(var r=0,s=i;r<s;){var h=r++,a=t[h];n[h]=a}K.setProperty(o,c,n)}))},handleCreateKeyframe:function(e,n,t,i,l,r,s){var h;null==s.value&&("Float"==e?null!=r&&r instanceof T1?((h=r).value=t,h.index=i,h.easing=l,s.value=h):s.value=new T1(t,i,l):"ceramic.Color"==e?null!=r&&r instanceof O1?((h=r).value=t,h.index=i,h.easing=l,s.value=h):s.value=new O1(t,i,l):"Bool"==e?null!=r&&r instanceof L1?((h=r).value=t,h.index=i,h.easing=l,s.value=h):s.value=new L1(t,i,l):"Array<Float>"==e&&(null!=r&&r instanceof R1?((h=r).value=[].concat(t),h.index=i,h.easing=l,s.value=h):s.value=new R1(t,i,l)))},unbindEvents:function(){j.prototype.unbindEvents.call(this),this.offCreateTrack(),this.offBindTrack(),this.offCreateKeyframe()},__class__:Ut}),function(){}),Tt=((E["ceramic.Timer"]=Dt).__name__="ceramic.Timer",Dt.__properties__={get_timestamp:"get_timestamp"},Dt.get_timestamp=function(){return Dt.startTimestamp+Dt.now},Dt.update=function(e,n){Dt.now+=e,Dt.timestamp=Dt.startTimestamp+Dt.now+n,Dt.next<=Dt.now&&he.app.beginUpdateCallbacks.push(Dt.flush)},Dt.flush=function(){Dt.next=999999999;for(var e=Dt.callbacks,n=(Dt.callbacks=[],0),t=e.length;n<t;){var i=e[n++];if(!i.cleared)if(null==i.owner||0<=i.owner._lifecycleState)if(i.time<=Dt.now)if(0<=i.interval){for(;i.time<=Dt.now&&!i.cleared&&(i.callback(),0!=i.interval);)i.time+=i.interval;i.cleared||(Dt.callbacks.push(i),Dt.next=Math.min(i.time,Dt.next))}else i.callback();else Dt.callbacks.push(i),Dt.next=Math.min(i.time,Dt.next);else i.cleared=!0}},Dt.delay=function(e,n,t){return Dt.schedule(e,n,t,-1)},Dt.interval=function(e,n,t){return Dt.schedule(e,n,t,n)},Dt.schedule=function(e,n,t,i){var n=Dt.now+n,l=(Dt.next=Math.min(n,Dt.next),new Tt);return l.owner=e,l.callback=t,l.time=n,l.interval=i,Dt.callbacks.push(l),$bind(l,l.clear)},function(){this.cleared=!1,this.interval=-1,this.time=0,this.callback=null,this.owner=null}),xt=((E["ceramic.TimerCallback"]=Tt).__name__="ceramic.TimerCallback",Tt.prototype={owner:null,callback:null,time:null,interval:null,cleared:null,clear:function(){this.cleared=!0},__class__:Tt},function(e,n,t,i,l){this.index=e,this.x=n,this.y=t,this.deltaX=i,this.deltaY=l}),St=((E["ceramic.Touch"]=xt).__name__="ceramic.Touch",xt.prototype={index:null,x:null,y:null,deltaX:null,deltaY:null,toString:function(){return""+X.string({index:this.index,x:this.x,y:this.y,deltaX:this.deltaX,deltaY:this.deltaY})},__class__:xt},function(e,n,t,i,l){this.touchIndex=e,this.buttonId=n,this.x=t,this.y=i,this.hits=l}),e=((E["ceramic.TouchInfo"]=St).__name__="ceramic.TouchInfo",St.prototype={touchIndex:null,buttonId:null,x:null,y:null,hits:null,toString:function(){return""+X.string({touchIndex:this.touchIndex,buttonId:this.buttonId,x:this.x,y:this.y,hits:this.hits})},__class__:St},function(e){this.intMap=e,this.i=0,this.len=this.intMap.values.length}),At=((E["ceramic.TouchesIterator"]=e).__name__="ceramic.TouchesIterator",e.prototype={intMap:null,i:null,len:null,hasNext:function(){for(;this.i<this.len&&null==this.intMap.values[this.i];)this.i++;return this.i<this.len},next:function(){var e=this.i++;return this.intMap.values[e]},__class__:e},function(){this.backgroundQueue=new Pa}),kt=((E["ceramic.TrackerBackend"]=At).__name__="ceramic.TrackerBackend",At.prototype={backgroundQueue:null,onceImmediate:function(e){he.app._onceImmediate(e)},readString:function(e){return he.app.backend.io.readString(e)},saveString:function(e,n){return he.app.backend.io.saveString(e,n)},appendString:function(e,n){return he.app.backend.io.appendString(e,n)},warning:function(e,n){he.app.logger.warning(e,n)},error:function(e,n){he.app.logger.error(e,n)},success:function(e,n){he.app.logger.success(e,n)},runInBackground:function(e){this.backgroundQueue.schedule(e)},runInMain:function(e){Xn.runInMain(e)},interval:function(e,n,t){return Dt.schedule(e,n,t,n)},delay:function(e,n,t){return Dt.schedule(e,n,t,-1)},storageDirectory:function(){return null},pathJoin:function(e){return Rn.join(e)},__class__:At},(E["ceramic.TransformPool"]=bc).__name__="ceramic.TransformPool",bc.get=function(){return 0<bc.availableTransforms.length?bc.availableTransforms.pop():new l},bc.recycle=function(e){e.offChange(),e.a=1,e.b=0,e.c=0,e.d=1,e.tx=0,e.ty=0,e._aPrev=1,e._bPrev=0,e._cPrev=0,e._dPrev=1,e._txPrev=0,e._tyPrev=0,e.changed=!1,e.changedDirty=!1,bc.availableTransforms.push(e)},bc.clear=function(){0<bc.availableTransforms.length&&(bc.availableTransforms=[])},(E["ceramic.Triangle"]=cc).__name__="ceramic.Triangle",cc.__super__=ya,cc.prototype=$extend(ya.prototype,{set_width:function(e){return ya.prototype.set_width.call(this,e),this.vertices[0]=0,this.vertices[1]=this.get_height(),this.vertices[2]=.5*this.get_width(),this.vertices[3]=0,this.vertices[4]=this.get_width(),this.vertices[5]=this.get_height(),e},set_height:function(e){return ya.prototype.set_height.call(this,e),this.vertices[0]=0,this.vertices[1]=this.get_height(),this.vertices[2]=.5*this.get_width(),this.vertices[3]=0,this.vertices[4]=this.get_width(),this.vertices[5]=this.get_height(),e},updateVertices:function(){this.vertices[0]=0,this.vertices[1]=this.get_height(),this.vertices[2]=.5*this.get_width(),this.vertices[3]=0,this.vertices[4]=this.get_width(),this.vertices[5]=this.get_height()},__class__:cc}),function(){}),It=((E["ceramic.Triangulate"]=kt).__name__="ceramic.Triangulate",kt._triangulateWithRange=function(e,n,t,i){null==kt.tmpVertices&&(kt.tmpVertices=[]),null==kt.tmpIndices&&(kt.tmpIndices=[]);var l=kt.tmpVertices;if(0!=l.length)if(0<l.length)l.splice(0,l.length);else for(var r=l;r.length<0;)r.push(null);if(0!=(l=kt.tmpIndices).length)if(0<l.length)l.splice(0,l.length);else for(r=l;r.length<0;)r.push(null);for(var s=n,h=n+t;s<h;){var a=s++;kt.tmpVertices.push(e[2*a]),kt.tmpVertices.push(e[2*a+1])}kt._triangulate(kt.tmpVertices,kt.tmpIndices);for(s=0,h=kt.tmpIndices.length;s<h;){a=s++;i.push(n+kt.tmpIndices[a])}if(0!=(l=kt.tmpVertices).length)if(0<l.length)l.splice(0,l.length);else for(r=l;r.length<0;)r.push(null);if(0!=(l=kt.tmpIndices).length)if(0<l.length)l.splice(0,l.length);else for(r=l;r.length<0;)r.push(null)},kt._triangulate=function(e,n){if(0<n.length&&0!=n.length)if(0<n.length)n.splice(0,n.length);else for(var t=n;t.length<0;)t.push(null);null==kt.triangulator&&(kt.triangulator=new It),kt.triangulator.computeTriangles(e,0,-1,n)},function(){this.triangles=null,this.vertexCount=0,this.vertices=null,this.indices=[],this.vertexTypes=[]}),J=((E["ceramic._Triangulate.EarClippingTriangulator"]=It).__name__="ceramic._Triangulate.EarClippingTriangulator",It.computeSpannedAreaSign=function(e,n,t,i,l,r){e*=r-i;return 0|(0<(e=e+t*(n-r)+l*(i-n))?1:e<0?-1:0)},It.prototype={indices:null,vertexTypes:null,vertices:null,vertexCount:null,triangles:null,computeTriangles:function(e,n,t,i){null==n&&(n=0),-1==(t=null==t?-1:t)&&(t=e.length),this.vertices=e,this.vertexCount=t/2|0;for(var l=n/2|0,r=0,s=this.vertexCount;r<s;){var h=r++;this.indices[h]=0}if(this.indices.length!=this.vertexCount){var a=this.indices,o=this.vertexCount;if(a.length!=o)if(a.length>o)a.splice(o,a.length-o);else for(var c=a;c.length<o;)c.push(null)}if(Z0.isClockwise(e,n,t))for(r=0,s=this.vertexCount;r<s;){h=r++;this.indices[h]=l+h}else for(r=0,s=this.vertexCount;r<s;){h=r++;this.indices[h]=l+(this.vertexCount-1-h)}for(r=0,s=this.vertexCount;r<s;){h=r++;this.vertexTypes[h]=this.classifyVertex(h)}if(this.vertexTypes.length!=this.vertexCount){a=this.vertexTypes,o=this.vertexCount;if(a.length!=o)if(a.length>o)a.splice(o,a.length-o);else for(c=a;c.length<o;)c.push(null)}e=i;if((this.triangles=null!=e?e:[],0<this.triangles.length)&&0!=(a=this.triangles).length)if(0<a.length)a.splice(0,a.length);else for(c=a;c.length<0;)c.push(null);return this.triangulate(),this.triangles},triangulate:function(){for(;3<this.vertexCount;){var e=this.findEarTip(),n=(this.cutEarTip(e),this.getPreviousIndex(e)),e=e==this.vertexCount?0:e;this.vertexTypes[n]=this.classifyVertex(n),this.vertexTypes[e]=this.classifyVertex(e)}3==this.vertexCount&&(this.triangles.push(this.indices[0]),this.triangles.push(this.indices[1]),this.triangles.push(this.indices[2]))},classifyVertex:function(e){var n=2*this.indices[this.getPreviousIndex(e)],t=2*this.indices[e],e=2*this.indices[this.getNextIndex(e)];return It.computeSpannedAreaSign(this.vertices[n],this.vertices[1+n],this.vertices[t],this.vertices[1+t],this.vertices[e],this.vertices[1+e])},findEarTip:function(){for(var e=0,n=this.vertexCount;e<n;){var t=e++;if(this.isEarTip(t))return t}for(e=0,n=this.vertexCount;e<n;){t=e++;if(-1!=this.vertexTypes[t])return t}return 0},isEarTip:function(e){if(-1==this.vertexTypes[e])return!1;for(var n=this.getPreviousIndex(e),t=this.getNextIndex(e),i=2*this.indices[n],e=2*this.indices[e],l=2*this.indices[t],r=this.vertices[i],s=this.vertices[1+i],h=this.vertices[e],a=this.vertices[1+e],o=this.vertices[l],c=this.vertices[1+l],u=this.getNextIndex(t);u!=n;){if(1!=this.vertexTypes[u]){var _=2*this.indices[u],d=this.vertices[_],_=this.vertices[1+_];if(0<=It.computeSpannedAreaSign(o,c,r,s,d,_)&&0<=It.computeSpannedAreaSign(r,s,h,a,d,_)&&0<=It.computeSpannedAreaSign(h,a,o,c,d,_))return!1}u=this.getNextIndex(u)}return!0},cutEarTip:function(e){this.triangles.push(this.indices[this.getPreviousIndex(e)]),this.triangles.push(this.indices[e]),this.triangles.push(this.indices[this.getNextIndex(e)]),this.indices.splice(e,1),this.vertexTypes.splice(e,1),this.vertexCount--},getPreviousIndex:function(e){return 0==e?this.vertexCount-1:e-1},getNextIndex:function(e){return(e+1)%this.vertexCount},__class__:It},function(e,n,t,i,l){this.didTickThisFrame=!1,this.didCallImmediateStart=!1,this.customEasing=null,j.call(this),this.owner=e,this.easing=n,this.duration=t,this.fromValue=i,this.toValue=l,this.value=i,this.time=0,this.init()}),d=((E["ceramic.Tween"]=J).__name__="ceramic.Tween",J.start=function(e,n,t,i,l,r){n=new J(e,null==n?tn.QUAD_EASE_IN_OUT:n,t,i,l);return null!=r&&n.onUpdate(e,r),n},J.eagerStart=function(e,n,t,i,l,r){n=new J(e,null==n?tn.QUAD_EASE_IN_OUT:n,t,i,l);return n.eager=!0,null!=r&&n.onUpdate(e,r),n},J.tick=function(e){for(var n=J._tweens.length,t=0,i=n;t<i;){var l=t++,r=J._tweens[l];J._iteratedTweens[l]=r}for(t=0,i=n;t<i;){var s,l=t++,r=J._iteratedTweens[l];J._iteratedTweens[l]=null,r.didTickThisFrame||0<=r._lifecycleState&&(r.didTickThisFrame=!0,null!=r.owner&&r.owner._lifecycleState<0?r.destroy():(r.remaining-=e,r.remaining<=0?(r.emitUpdate(r.toValue,r.duration),r.emitComplete(),r.destroy()):(s=r.duration-r.remaining,d.k=s/r.duration,d.k,d.customEasing=r.customEasing,null!=r.computedEasing&&r.computedEasing(),d.customEasing=null,r.emitUpdate(r.fromValue+(r.toValue-r.fromValue)*d.k,s))))}},J.endFrame=function(){for(var e=0,n=J._tweens.length;e<n;){var t=e++;J._tweens[t].didTickThisFrame=!1}},J.computeEasing=function(e){switch(e._hx_index){case 0:J._computedEasingFunction=d.none;break;case 1:J._computedEasingFunction=d.linear;break;case 2:J._computedEasingFunction=d.backEaseIn;break;case 3:J._computedEasingFunction=d.backEaseInOut;break;case 4:J._computedEasingFunction=d.backEaseOut;break;case 5:J._computedEasingFunction=d.quadEaseIn;break;case 6:J._computedEasingFunction=d.quadEaseInOut;break;case 7:J._computedEasingFunction=d.quadEaseOut;break;case 8:J._computedEasingFunction=d.cubicEaseIn;break;case 9:J._computedEasingFunction=d.cubicEaseInOut;break;case 10:J._computedEasingFunction=d.cubicEaseOut;break;case 11:J._computedEasingFunction=d.quartEaseIn;break;case 12:J._computedEasingFunction=d.quartEaseInOut;break;case 13:J._computedEasingFunction=d.quartEaseOut;break;case 14:J._computedEasingFunction=d.quintEaseIn;break;case 15:J._computedEasingFunction=d.quintEaseInOut;break;case 16:J._computedEasingFunction=d.quintEaseOut;break;case 17:J._computedEasingFunction=d.bounceEaseIn;break;case 18:J._computedEasingFunction=d.bounceEaseInOut;break;case 19:J._computedEasingFunction=d.bounceEaseOut;break;case 20:J._computedEasingFunction=d.elasticEaseIn;break;case 21:J._computedEasingFunction=d.elasticEaseInOut;break;case 22:J._computedEasingFunction=d.elasticEaseOut;break;case 23:J._computedEasingFunction=d.expoEaseIn;break;case 24:J._computedEasingFunction=d.expoEaseInOut;break;case 25:J._computedEasingFunction=d.expoEaseOut;break;case 26:J._computedEasingFunction=d.sineEaseIn;break;case 27:J._computedEasingFunction=d.sineEaseInOut;break;case 28:J._computedEasingFunction=d.sineEaseOut;break;case 29:var n=e.x1,t=e.y1,i=e.x2,l=e.y2;J._computedEasingFunction=d.custom,J._computedCustomEasing=$bind(x=Qa.get(n,t,i,l),x.ease);break;case 30:n=e.easing;J._computedEasingFunction=d.custom,J._computedCustomEasing=n}},J.ease=function(e,n){switch(d.k=n,e._hx_index){case 0:d.none();break;case 1:d.linear();break;case 2:d.backEaseIn();break;case 3:d.backEaseInOut();break;case 4:d.backEaseOut();break;case 5:d.quadEaseIn();break;case 6:d.quadEaseInOut();break;case 7:d.quadEaseOut();break;case 8:d.cubicEaseIn();break;case 9:d.cubicEaseInOut();break;case 10:d.cubicEaseOut();break;case 11:d.quartEaseIn();break;case 12:d.quartEaseInOut();break;case 13:d.quartEaseOut();break;case 14:d.quintEaseIn();break;case 15:d.quintEaseInOut();break;case 16:d.quintEaseOut();break;case 17:d.bounceEaseIn();break;case 18:d.bounceEaseInOut();break;case 19:d.bounceEaseOut();break;case 20:d.elasticEaseIn();break;case 21:d.elasticEaseInOut();break;case 22:d.elasticEaseOut();break;case 23:d.expoEaseIn();break;case 24:d.expoEaseInOut();break;case 25:d.expoEaseOut();break;case 26:d.sineEaseIn();break;case 27:d.sineEaseInOut();break;case 28:d.sineEaseOut();break;case 29:var t=e.x1,i=e.y1,l=e.x2,r=e.y2;d.customEasing=$bind(x=Qa.get(t,i,l,r),x.ease),d.custom(),d.customEasing=null;break;case 30:t=e.easing;d.customEasing=t,d.custom(),d.customEasing=null}return d.k},J.easingFunction=function(e){switch(e._hx_index){case 0:J._computedEasingFunction=d.none;break;case 1:J._computedEasingFunction=d.linear;break;case 2:J._computedEasingFunction=d.backEaseIn;break;case 3:J._computedEasingFunction=d.backEaseInOut;break;case 4:J._computedEasingFunction=d.backEaseOut;break;case 5:J._computedEasingFunction=d.quadEaseIn;break;case 6:J._computedEasingFunction=d.quadEaseInOut;break;case 7:J._computedEasingFunction=d.quadEaseOut;break;case 8:J._computedEasingFunction=d.cubicEaseIn;break;case 9:J._computedEasingFunction=d.cubicEaseInOut;break;case 10:J._computedEasingFunction=d.cubicEaseOut;break;case 11:J._computedEasingFunction=d.quartEaseIn;break;case 12:J._computedEasingFunction=d.quartEaseInOut;break;case 13:J._computedEasingFunction=d.quartEaseOut;break;case 14:J._computedEasingFunction=d.quintEaseIn;break;case 15:J._computedEasingFunction=d.quintEaseInOut;break;case 16:J._computedEasingFunction=d.quintEaseOut;break;case 17:J._computedEasingFunction=d.bounceEaseIn;break;case 18:J._computedEasingFunction=d.bounceEaseInOut;break;case 19:J._computedEasingFunction=d.bounceEaseOut;break;case 20:J._computedEasingFunction=d.elasticEaseIn;break;case 21:J._computedEasingFunction=d.elasticEaseInOut;break;case 22:J._computedEasingFunction=d.elasticEaseOut;break;case 23:J._computedEasingFunction=d.expoEaseIn;break;case 24:J._computedEasingFunction=d.expoEaseInOut;break;case 25:J._computedEasingFunction=d.expoEaseOut;break;case 26:J._computedEasingFunction=d.sineEaseIn;break;case 27:J._computedEasingFunction=d.sineEaseInOut;break;case 28:J._computedEasingFunction=d.sineEaseOut;break;case 29:var n=e.x1,t=e.y1,i=e.x2,l=e.y2;J._computedEasingFunction=d.custom,J._computedCustomEasing=$bind(x=Qa.get(n,t,i,l),x.ease);break;case 30:n=e.easing;J._computedEasingFunction=d.custom,J._computedCustomEasing=n}var r=J._computedEasingFunction,s=J._computedCustomEasing;return function(e){return d.k=e,d.customEasing=s,r(),d.customEasing=null,d.k}},J.__super__=j,J.prototype=$extend(j.prototype,{__cbOnUpdate:null,__cbOnceUpdate:null,__cbOnOwnerUnbindUpdate:null,__cbOnceOwnerUnbindUpdate:null,emitUpdate:function(e,n){this.willEmitUpdate(e,n);var t=0;if(null!=this.__cbOnUpdate&&(t+=this.__cbOnUpdate.length),null!=this.__cbOnceUpdate&&(t+=this.__cbOnceUpdate.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnUpdate)for(var s=0,h=this.__cbOnUpdate.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnUpdate[a],++r):--t}if(null!=this.__cbOnceUpdate){for(var o=null,c=null,s=0,h=this.__cbOnceUpdate.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceUpdate[a],this.__cbOnceUpdate[a]=null,u=this.__cbOnceOwnerUnbindUpdate[a],(this.__cbOnceOwnerUnbindUpdate[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindUpdate[a]),c.push(this.__cbOnceUpdate[a]))}this.__cbOnceOwnerUnbindUpdate=o,this.__cbOnceUpdate=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onUpdate:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event update because owner is destroyed!");var l=function(e){null!=t&&(i.offUpdate(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindUpdate&&(this.__cbOnOwnerUnbindUpdate=[]),this.__cbOnOwnerUnbindUpdate.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindUpdate&&(this.__cbOnOwnerUnbindUpdate=[]),this.__cbOnOwnerUnbindUpdate.push(null);null==this.__cbOnUpdate&&(this.__cbOnUpdate=[]),this.__cbOnUpdate.push(t)},onceUpdate:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event update because owner is destroyed!");var l=function(e){null!=t&&(i.offUpdate(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindUpdate&&(this.__cbOnceOwnerUnbindUpdate=[]),this.__cbOnceOwnerUnbindUpdate.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindUpdate&&(this.__cbOnceOwnerUnbindUpdate=[]),this.__cbOnceOwnerUnbindUpdate.push(null);null==this.__cbOnceUpdate&&(this.__cbOnceUpdate=[]),this.__cbOnceUpdate.push(t)},offUpdate:function(e){if(null!=e){var n;null!=this.__cbOnUpdate&&-1!=(n=this.__cbOnUpdate.indexOf(e))&&(this.__cbOnUpdate.splice(n,1),null!=(r=this.__cbOnOwnerUnbindUpdate[n])&&r(),this.__cbOnOwnerUnbindUpdate.splice(n,1)),null!=this.__cbOnceUpdate&&-1!=(n=this.__cbOnceUpdate.indexOf(e))&&(this.__cbOnceUpdate.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindUpdate[n])&&r(),this.__cbOnceOwnerUnbindUpdate.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindUpdate){for(var t=0,i=this.__cbOnOwnerUnbindUpdate.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindUpdate[l])&&r()}this.__cbOnOwnerUnbindUpdate=null}if(null!=this.__cbOnceOwnerUnbindUpdate){for(t=0,i=this.__cbOnceOwnerUnbindUpdate.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindUpdate[l])&&r()}this.__cbOnceOwnerUnbindUpdate=null}this.__cbOnUpdate=null,this.__cbOnceUpdate=null}},listensUpdate:function(){return null!=this.__cbOnUpdate&&0<this.__cbOnUpdate.length||null!=this.__cbOnceUpdate&&0<this.__cbOnceUpdate.length},__cbOnComplete:null,__cbOnceComplete:null,__cbOnOwnerUnbindComplete:null,__cbOnceOwnerUnbindComplete:null,emitComplete:function(){var e=0;if(null!=this.__cbOnComplete&&(e+=this.__cbOnComplete.length),null!=this.__cbOnceComplete&&(e+=this.__cbOnceComplete.length),0<e){var n=C.pool(e),t=n.get(),i=0;if(null!=this.__cbOnComplete)for(var l=0,r=this.__cbOnComplete.length;l<r;){var s=l++;!0?(t.vector[i]=this.__cbOnComplete[s],++i):--e}if(null!=this.__cbOnceComplete){for(var h=null,a=null,l=0,r=this.__cbOnceComplete.length;l<r;){var o,s=l++;!0?(t.vector[i]=this.__cbOnceComplete[s],this.__cbOnceComplete[s]=null,o=this.__cbOnceOwnerUnbindComplete[s],(this.__cbOnceOwnerUnbindComplete[s]=null)!=o&&o(),++i):(--e,null==h&&(h=[],a=[],0),h.push(this.__cbOnceOwnerUnbindComplete[s]),a.push(this.__cbOnceComplete[s]))}this.__cbOnceOwnerUnbindComplete=h,this.__cbOnceComplete=a}for(l=0,r=e;l<r;){i=l++;(0,t.vector[i])()}n.release(t)}},onComplete:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event complete because owner is destroyed!");var l=function(e){null!=t&&(i.offComplete(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindComplete&&(this.__cbOnOwnerUnbindComplete=[]),this.__cbOnOwnerUnbindComplete.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindComplete&&(this.__cbOnOwnerUnbindComplete=[]),this.__cbOnOwnerUnbindComplete.push(null);null==this.__cbOnComplete&&(this.__cbOnComplete=[]),this.__cbOnComplete.push(t)},onceComplete:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event complete because owner is destroyed!");var l=function(e){null!=t&&(i.offComplete(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindComplete&&(this.__cbOnceOwnerUnbindComplete=[]),this.__cbOnceOwnerUnbindComplete.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindComplete&&(this.__cbOnceOwnerUnbindComplete=[]),this.__cbOnceOwnerUnbindComplete.push(null);null==this.__cbOnceComplete&&(this.__cbOnceComplete=[]),this.__cbOnceComplete.push(t)},offComplete:function(e){if(null!=e){var n;null!=this.__cbOnComplete&&-1!=(n=this.__cbOnComplete.indexOf(e))&&(this.__cbOnComplete.splice(n,1),null!=(r=this.__cbOnOwnerUnbindComplete[n])&&r(),this.__cbOnOwnerUnbindComplete.splice(n,1)),null!=this.__cbOnceComplete&&-1!=(n=this.__cbOnceComplete.indexOf(e))&&(this.__cbOnceComplete.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindComplete[n])&&r(),this.__cbOnceOwnerUnbindComplete.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindComplete){for(var t=0,i=this.__cbOnOwnerUnbindComplete.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindComplete[l])&&r()}this.__cbOnOwnerUnbindComplete=null}if(null!=this.__cbOnceOwnerUnbindComplete){for(t=0,i=this.__cbOnceOwnerUnbindComplete.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindComplete[l])&&r()}this.__cbOnceOwnerUnbindComplete=null}this.__cbOnComplete=null,this.__cbOnceComplete=null}},listensComplete:function(){return null!=this.__cbOnComplete&&0<this.__cbOnComplete.length||null!=this.__cbOnceComplete&&0<this.__cbOnceComplete.length},owner:null,easing:null,duration:null,remaining:null,fromValue:null,toValue:null,eager:null,computedEasing:null,customEasing:null,didCallImmediateStart:null,didTickThisFrame:null,value:null,time:null,init:function(){if(this.duration<=0)he.app._onceImmediate($bind(this,this.immediateComplete));else{var e=this.easing;switch(e._hx_index){case 0:J._computedEasingFunction=d.none;break;case 1:J._computedEasingFunction=d.linear;break;case 2:J._computedEasingFunction=d.backEaseIn;break;case 3:J._computedEasingFunction=d.backEaseInOut;break;case 4:J._computedEasingFunction=d.backEaseOut;break;case 5:J._computedEasingFunction=d.quadEaseIn;break;case 6:J._computedEasingFunction=d.quadEaseInOut;break;case 7:J._computedEasingFunction=d.quadEaseOut;break;case 8:J._computedEasingFunction=d.cubicEaseIn;break;case 9:J._computedEasingFunction=d.cubicEaseInOut;break;case 10:J._computedEasingFunction=d.cubicEaseOut;break;case 11:J._computedEasingFunction=d.quartEaseIn;break;case 12:J._computedEasingFunction=d.quartEaseInOut;break;case 13:J._computedEasingFunction=d.quartEaseOut;break;case 14:J._computedEasingFunction=d.quintEaseIn;break;case 15:J._computedEasingFunction=d.quintEaseInOut;break;case 16:J._computedEasingFunction=d.quintEaseOut;break;case 17:J._computedEasingFunction=d.bounceEaseIn;break;case 18:J._computedEasingFunction=d.bounceEaseInOut;break;case 19:J._computedEasingFunction=d.bounceEaseOut;break;case 20:J._computedEasingFunction=d.elasticEaseIn;break;case 21:J._computedEasingFunction=d.elasticEaseInOut;break;case 22:J._computedEasingFunction=d.elasticEaseOut;break;case 23:J._computedEasingFunction=d.expoEaseIn;break;case 24:J._computedEasingFunction=d.expoEaseInOut;break;case 25:J._computedEasingFunction=d.expoEaseOut;break;case 26:J._computedEasingFunction=d.sineEaseIn;break;case 27:J._computedEasingFunction=d.sineEaseInOut;break;case 28:J._computedEasingFunction=d.sineEaseOut;break;case 29:var n=e.x1,t=e.y1,i=e.x2,l=e.y2;J._computedEasingFunction=d.custom,J._computedCustomEasing=$bind(x=Qa.get(n,t,i,l),x.ease);break;case 30:n=e.easing;J._computedEasingFunction=d.custom,J._computedCustomEasing=n}this.computedEasing=J._computedEasingFunction,this.customEasing=J._computedCustomEasing,J._computedEasingFunction=null,J._computedCustomEasing=null,J._tweens.push(this),this.remaining=this.duration,he.app._onceImmediate($bind(this,this.immediateStart))}},updateFromTick:function(e){0<=this._lifecycleState&&(this.didTickThisFrame=!0,null!=this.owner&&this.owner._lifecycleState<0?this.destroy():(this.remaining-=e,this.remaining<=0?(this.emitUpdate(this.toValue,this.duration),this.emitComplete(),this.destroy()):(e=this.duration-this.remaining,d.k=e/this.duration,d.k,d.customEasing=this.customEasing,null!=this.computedEasing&&this.computedEasing(),d.customEasing=null,this.emitUpdate(this.fromValue+(this.toValue-this.fromValue)*d.k,e))))},willEmitUpdate:function(e,n){this.value=e,this.time=n},immediateComplete:function(){this.emitUpdate(this.toValue,0),this.emitComplete(),this.destroy()},immediateStart:function(){var e;this.didCallImmediateStart||(this.didCallImmediateStart=!0,this.didTickThisFrame)||(this.eager?(e=he.app.delta,0<=this._lifecycleState&&(this.didTickThisFrame=!0,null!=this.owner&&this.owner._lifecycleState<0?this.destroy():(this.remaining-=e,this.remaining<=0?(this.emitUpdate(this.toValue,this.duration),this.emitComplete(),this.destroy()):(e=this.duration-this.remaining,d.k=e/this.duration,d.k,d.customEasing=this.customEasing,null!=this.computedEasing&&this.computedEasing(),d.customEasing=null,this.emitUpdate(this.fromValue+(this.toValue-this.fromValue)*d.k,e))))):this.emitUpdate(this.fromValue,0))},destroy:function(){this._lifecycleState<=-2||(this._lifecycleState=-2,this.easing=null,this.owner=null,this.computedEasing=null,this.customEasing=null,se.remove(J._tweens,this),this._lifecycleState=-1,j.prototype.destroy.call(this))},unbindEvents:function(){j.prototype.unbindEvents.call(this),this.offUpdate(),this.offComplete()},__class__:J}),function(){}),Pt=((E["ceramic._Tween.TweenEasingFunction"]=d).__name__="ceramic._Tween.TweenEasingFunction",d.custom=function(){null!=d.customEasing&&(d.k=d.customEasing(d.k))},d.none=function(){d.k=1<=d.k?1:0},d.linear=function(){},d.backEaseIn=function(){d.k=d.k*d.k*(2.70158*d.k-1.70158)},d.backEaseInOut=function(){var e=1.70158,n=d;(n.k*=2)<1?d.k=d.k*d.k*((1+(e*=1.525))*d.k-e)*.5:(n=d).k=.5*((n.k-=2)*d.k*((1+(e*=1.525))*d.k+e)+2)},d.backEaseOut=function(){d.k=(d.k=d.k-1)*d.k*(2.70158*d.k+1.70158)+1},d.quadEaseIn=function(){d.k*=d.k},d.quadEaseInOut=function(){(d.k*=2)<1?d.k=.5*d.k*d.k:d.k=-.5*((d.k-1)*(d.k-3)-1)},d.quadEaseOut=function(){d.k=-d.k*(d.k-2)},d.cubicEaseIn=function(){d.k=d.k*d.k*d.k},d.cubicEaseInOut=function(){var e;e=(d.k/=.5)<1?.5*d.k*d.k*d.k:.5*((d.k-=2)*d.k*d.k+2),d.k=e},d.cubicEaseOut=function(){d.k=(d.k-1)*(d.k-1)*(d.k-1)+1},d.quartEaseIn=function(){d.k=d.k*d.k*d.k*d.k},d.quartEaseInOut=function(){var e=d;(e.k*=2)<1?d.k=.5*d.k*d.k*d.k*d.k:(e=d).k=-.5*((e.k-=2)*d.k*d.k*d.k-2)},d.quartEaseOut=function(){d.k=-((d.k-1)*(d.k-1)*(d.k-1)*(d.k-1)-1)},d.quintEaseIn=function(){d.k=d.k*d.k*d.k*d.k*d.k},d.quintEaseInOut=function(){var e=d;(e.k*=2)<1?d.k=.5*d.k*d.k*d.k*d.k*d.k:(e=d).k=.5*((e.k-=2)*d.k*d.k*d.k*d.k+2)},d.quintEaseOut=function(){d.k=(d.k-1)*(d.k-1)*(d.k-1)*(d.k-1)*(d.k-1)+1},d.bounceEaseIn=function(){var e=1-d.k,e=(e/=1)<.36363636363636365?7.5625*e*e:e<.7272727272727273?7.5625*(e-=.5454545454545454)*e+.75:e<.9090909090909091?7.5625*(e-=.8181818181818182)*e+.9375:7.5625*(e-=.9545454545454546)*e+.984375;d.k=1-e},d.bounceEaseInOut=function(){var e,n;d.k<.5?(e=1-2*d.k,n=(e/=1)<.36363636363636365?7.5625*e*e:e<.7272727272727273?7.5625*(e-=.5454545454545454)*e+.75:e<.9090909090909091?7.5625*(e-=.8181818181818182)*e+.9375:7.5625*(e-=.9545454545454546)*e+.984375,d.k=.5*(1-n)):(e=2*d.k-1,n=(e/=1)<.36363636363636365?7.5625*e*e:e<.7272727272727273?7.5625*(e-=.5454545454545454)*e+.75:e<.9090909090909091?7.5625*(e-=.8181818181818182)*e+.9375:7.5625*(e-=.9545454545454546)*e+.984375,d.k=.5*n+.5)},d.bounceEaseOut=function(){var e=d.k,e=(e/=1)<.36363636363636365?7.5625*e*e:e<.7272727272727273?7.5625*(e-=.5454545454545454)*e+.75:e<.9090909090909091?7.5625*(e-=.8181818181818182)*e+.9375:7.5625*(e-=.9545454545454546)*e+.984375;d.k=e},d._bounceEaseIn=function(e,n,t,i){e=i-e,i=(e/=i)<.36363636363636365?t*(7.5625*e*e):e<.7272727272727273?t*(7.5625*(e-=.5454545454545454)*e+.75):e<.9090909090909091?t*(7.5625*(e-=.8181818181818182)*e+.9375):t*(7.5625*(e-=.9545454545454546)*e+.984375);return t-i+n},d._bounceEaseOut=function(e,n,t,i){i=(e/=i)<.36363636363636365?t*(7.5625*e*e)+n:e<.7272727272727273?t*(7.5625*(e-=.5454545454545454)*e+.75)+n:e<.9090909090909091?t*(7.5625*(e-=.8181818181818182)*e+.9375)+n:t*(7.5625*(e-=.9545454545454546)*e+.984375)+n;return i},d.elasticEaseIn=function(){var e,n;0!=d.k&&1!=d.k&&(n=(e=.1)<1?(e=1,.1):.4/(2*Math.PI)*Math.asin(1/e),d.k=-(e*Math.exp(6.931471805599453*--d.k)*Math.sin((d.k-n)*(2*Math.PI)/.4)))},d.elasticEaseInOut=function(){var e,n,t;0!=d.k&&(2==((t=d).k*=2)?d.k=1:(n=(e=.44999999999999996)/4,d.k<1?(t=d).k=Math.exp(6.931471805599453*--t.k)*Math.sin((d.k-n)*(2*Math.PI)/e)*-.5:(t=d).k=Math.exp(-6.931471805599453*--t.k)*Math.sin((d.k-n)*(2*Math.PI)/e)*.5+1))},d.elasticEaseOut=function(){var e,n;0!=d.k&&1!=d.k&&(n=(e=.1)<1?(e=1,.1):.4/(2*Math.PI)*Math.asin(1/e),d.k=e*Math.exp(-6.931471805599453*d.k)*Math.sin((d.k-n)*(2*Math.PI)/.4)+1)},d.expoEaseIn=function(){d.k=0==d.k?0:Math.exp(6.931471805599453*(d.k-1))},d.expoEaseInOut=function(){0!=d.k&&1!=d.k&&((d.k/=.5)<1?d.k=.5*Math.exp(6.931471805599453*(d.k-1)):d.k=.5*(2-Math.exp(-6.931471805599453*--d.k)))},d.expoEaseOut=function(){d.k=1==d.k?1:1-Math.exp(-6.931471805599453*d.k)},d.sineEaseIn=function(){d.k=1-Math.cos(d.k*(Math.PI/2))},d.sineEaseInOut=function(){d.k=-(Math.cos(Math.PI*d.k)-1)/2},d.sineEaseOut=function(){d.k=Math.sin(d.k*(Math.PI/2))},function(){}),Ft=((E["ceramic.Utils"]=Pt).__name__="ceramic.Utils",Pt.realPath=function(e){return e=Rn.isAbsolute(e)||z.startsWith(e,"http://")||z.startsWith(e,"https://")?e:Rn.join([he.app.settings.assetsPath,e])},Pt.getRtti=function(e){return Nn.getRtti(e)},Pt.uniqueId=function(){switch(Pt._nextUniqueIntCursor){case 0:Pt._nextUniqueInt0=(Pt._nextUniqueInt0+1)%2147483647;break;case 1:Pt._nextUniqueInt1=(Pt._nextUniqueInt1+1)%2147483647;break;case 2:Pt._nextUniqueInt2=(Pt._nextUniqueInt2+1)%2147483647;break;case 3:Pt._nextUniqueInt3=(Pt._nextUniqueInt3+1)%2147483647}Pt._nextUniqueIntCursor=(Pt._nextUniqueIntCursor+1)%4;var e,n=Pt._nextUniqueInt0,t=(n=null==n?2147483646*Math.random()|0:n)%62|0,i=n/62|0;e=0<i?(c=(n=null==(n=i)?2147483646*Math.random()|0:n)%62|0,(l=0<(i=n/62|0)?(r=Pt.base62Id(i))+(s=9<c?(90<(_=c-10+65)&&(_+=6),String.fromCodePoint(_)):X.string(c).charAt(0)):(r=9<c?(90<(_=c-10+65)&&(_+=6),String.fromCodePoint(_)):X.string(c).charAt(0),X.string(r)))+(r=9<t?(90<(_=t-10+65)&&(_+=6),String.fromCodePoint(_)):X.string(t).charAt(0))):(l=9<t?(90<(_=t-10+65)&&(_+=6),String.fromCodePoint(_)):X.string(t).charAt(0),X.string(l));var l,t=(n=null==(n=null)?2147483646*Math.random()|0:n)%62|0;l=0<(i=n/62|0)?(c=(n=null==(n=i)?2147483646*Math.random()|0:n)%62|0,(r=0<(i=n/62|0)?(s=Pt.base62Id(i))+(h=9<c?(90<(_=c-10+65)&&(_+=6),String.fromCodePoint(_)):X.string(c).charAt(0)):(s=9<c?(90<(_=c-10+65)&&(_+=6),String.fromCodePoint(_)):X.string(c).charAt(0),X.string(s)))+(s=9<t?(90<(_=t-10+65)&&(_+=6),String.fromCodePoint(_)):X.string(t).charAt(0))):(r=9<t?(90<(_=t-10+65)&&(_+=6),String.fromCodePoint(_)):X.string(t).charAt(0),X.string(r));var r,t=(n=null==(n=Pt._nextUniqueInt1)?2147483646*Math.random()|0:n)%62|0;r=0<(i=n/62|0)?(c=(n=null==(n=i)?2147483646*Math.random()|0:n)%62|0,(s=0<(i=n/62|0)?(h=Pt.base62Id(i))+(a=9<c?(90<(_=c-10+65)&&(_+=6),String.fromCodePoint(_)):X.string(c).charAt(0)):(h=9<c?(90<(_=c-10+65)&&(_+=6),String.fromCodePoint(_)):X.string(c).charAt(0),X.string(h)))+(h=9<t?(90<(_=t-10+65)&&(_+=6),String.fromCodePoint(_)):X.string(t).charAt(0))):(s=9<t?(90<(_=t-10+65)&&(_+=6),String.fromCodePoint(_)):X.string(t).charAt(0),X.string(s));var s,t=(n=null==(n=null)?2147483646*Math.random()|0:n)%62|0;s=0<(i=n/62|0)?(c=(n=null==(n=i)?2147483646*Math.random()|0:n)%62|0,(h=0<(i=n/62|0)?(a=Pt.base62Id(i))+(o=9<c?(90<(_=c-10+65)&&(_+=6),String.fromCodePoint(_)):X.string(c).charAt(0)):(a=9<c?(90<(_=c-10+65)&&(_+=6),String.fromCodePoint(_)):X.string(c).charAt(0),X.string(a)))+(a=9<t?(90<(_=t-10+65)&&(_+=6),String.fromCodePoint(_)):X.string(t).charAt(0))):(h=9<t?(90<(_=t-10+65)&&(_+=6),String.fromCodePoint(_)):X.string(t).charAt(0),X.string(h));var h,t=(n=null==(n=Pt._nextUniqueInt2)?2147483646*Math.random()|0:n)%62|0;h=0<(i=n/62|0)?(c=(n=null==(n=i)?2147483646*Math.random()|0:n)%62|0,(a=0<(i=n/62|0)?(o=Pt.base62Id(i))+(d=9<c?(90<(_=c-10+65)&&(_+=6),String.fromCodePoint(_)):X.string(c).charAt(0)):(o=9<c?(90<(_=c-10+65)&&(_+=6),String.fromCodePoint(_)):X.string(c).charAt(0),X.string(o)))+(o=9<t?(90<(_=t-10+65)&&(_+=6),String.fromCodePoint(_)):X.string(t).charAt(0))):(a=9<t?(90<(_=t-10+65)&&(_+=6),String.fromCodePoint(_)):X.string(t).charAt(0),X.string(a));var a,t=(n=null==(n=null)?2147483646*Math.random()|0:n)%62|0;a=0<(i=n/62|0)?(c=(n=null==(n=i)?2147483646*Math.random()|0:n)%62|0,(o=0<(i=n/62|0)?(d=Pt.base62Id(i))+(u=9<c?(90<(_=c-10+65)&&(_+=6),String.fromCodePoint(_)):X.string(c).charAt(0)):(d=9<c?(90<(_=c-10+65)&&(_+=6),String.fromCodePoint(_)):X.string(c).charAt(0),X.string(d)))+(d=9<t?(90<(_=t-10+65)&&(_+=6),String.fromCodePoint(_)):X.string(t).charAt(0))):(o=9<t?(90<(_=t-10+65)&&(_+=6),String.fromCodePoint(_)):X.string(t).charAt(0),X.string(o));var o,c,u,_,d,t=(n=null==(n=Pt._nextUniqueInt3)?2147483646*Math.random()|0:n)%62|0;return d=e+"-"+l+"-"+r+"-"+s+"-"+h+"-"+a+"-"+(o=0<(i=n/62|0)?(c=(n=null==(n=i)?2147483646*Math.random()|0:n)%62|0,(d=0<(i=n/62|0)?(u=Pt.base62Id(i))+(9<c?(90<(_=c-10+65)&&(_+=6),String.fromCodePoint(_)):X.string(c).charAt(0)):(u=9<c?(90<(_=c-10+65)&&(_+=6),String.fromCodePoint(_)):X.string(c).charAt(0),X.string(u)))+(u=9<t?(90<(_=t-10+65)&&(_+=6),String.fromCodePoint(_)):X.string(t).charAt(0))):(d=9<t?(90<(_=t-10+65)&&(_+=6),String.fromCodePoint(_)):X.string(t).charAt(0),X.string(d)))},Pt.randomId=function(e){null==e&&(e=32);for(var n=[];n.length<e;)for(var t,i,l=null,r=(l=null==l?2147483646*Math.random()|0:l)%62|0,l=l/62|0,s=0,h=(t=0<l?(i=(l=null==(l=l)?2147483646*Math.random()|0:l)%62|0,(0<(l=l/62|0)?Pt.base62Id(l)+(9<i?(90<(l=i-10+65)&&(l+=6),String.fromCodePoint(l)):X.string(i).charAt(0)):(l=9<i?(90<(l=i-10+65)&&(l+=6),String.fromCodePoint(l)):X.string(i).charAt(0),X.string(l)))+(9<r?(90<(i=r-10+65)&&(i+=6),String.fromCodePoint(i)):X.string(r).charAt(0))):(i=9<r?(90<(l=r-10+65)&&(l+=6),String.fromCodePoint(l)):X.string(r).charAt(0),X.string(i))).length;s<h;){var a=s++;n.push(t.charAt(a))}return rn.shuffle(n),se.substr(n.join(""),0,e)},Pt.persistentId=function(e,n){null==n&&(n=32),null==e&&(e=0),null==Pt._persistentIds&&(Pt._persistentIds=new qi);var t=Pt._persistentIds.h[e];if(null==t){if(null!=(t=he.app.backend.io.readString("persistentId_"+e)))return Pt._persistentIds.h[e]=t;t=Pt.randomId(n),he.app.backend.io.saveString("persistentId_"+e,t)||he.app.logger.warning("Failed to save persistent id ("+t+") at slot "+e,{fileName:"../../../../ceramic/runtime/src/ceramic/Utils.hx",lineNumber:167,className:"ceramic.Utils",methodName:"persistentId"}),Pt._persistentIds.h[e]=t}return t},Pt.resetPersistentId=function(e){null==e&&(e=0),null!=Pt._persistentIds&&Pt._persistentIds.remove(e),he.app.backend.io.saveString("persistentId_"+e,null)},Pt.base62Id=function(e){var n,t,i=(e=null==e?2147483646*Math.random()|0:e)%62|0,e=e/62|0;return 0<e?(n=Pt.base62Id(e))+(9<i?(90<(t=i-10+65)&&(t+=6),String.fromCodePoint(t)):(null==i?"null":""+i).charAt(0)):(n=9<i?(90<(t=i-10+65)&&(t+=6),String.fromCodePoint(t)):(null==i?"null":""+i).charAt(0),X.string(n))},Pt.println=function(e){var n=null;null!=(n=V.electronRunner)?n.consoleLog("[error] "+e):console.log(""+e)},Pt.printStackTrace=function(e){null==e&&(e=!1);var n="",t=null,i=null;try{throw new Error}catch(e){i=e}for(var l=(""+X.string(i.stack)).split("\n"),r=l.length-1,s=-1!=navigator.platform.indexOf("Win"),t=V.electronRunner;2<=r;){var h=l[r],h=z.ltrim(h);null!=t&&(h=z.replace(h,"http://localhost:"+X.string(t.serverPort)+"/file:"+(s?"/":""),""),h=z.replace(h,"http://localhost:"+X.string(t.serverPort)+"/",X.string(t.appFiles)+"/"));e||(null!=t?t.consoleLog("[error] "+X.string(h)):console.log(""+X.string(h))),n=(n+=X.string(h))+String.fromCodePoint(10),--r}return n},Pt.stackItemToString=function(e){var n=window.sourceMapSupport,t="";switch(e._hx_index){case 0:t="a C function";break;case 1:var i=e.m,l=!1;Pt.RE_MODULE_AT.match(i)&&(r=Pt.RE_MODULE_AT.matched(1),s=Pt.RE_MODULE_AT.matched(2),h=Pt.RE_MODULE_AT.matched(3),t=r,null!=s&&(t+=":"+s),l=!0),l||(t="module "+i);break;case 2:var l=e.s,r=e.file,s=e.line,h=e.column;if(null!=n&&!z.endsWith(r,".hx"))try{var a={source:r,line:s,column:h},o=n.mapSourcePosition(a);null!=o&&(r=o.source,s=o.line,h=o.column)}catch(e){Yi.lastError=e}null!=l&&(t=Pt.stackItemToString(l)+" ("),t=(t+=r)+" line "+s,null!=l&&(t+=")");break;case 3:t=(t+=e.classname)+"."+e.method;break;case 4:t=t+"local function #"+e.v}return t},Pt.radToDeg=function(e){return 57.29577951308232*e},Pt.degToRad=function(e){return.017453292519943295*e},Pt.round=function(e,n){if(0<(n=null==n?0:n)){for(var t=1;0<n--;)t*=10;return Math.round(e*t)/t}return Math.round(e)},Pt.hashCode=function(e){var n=0;if(0!=e.length)for(var t=0,i=e.length;t<i;){var l=t++,n=(n<<5)-n+se.cca(e,l);n&=n}return n},Pt.uniformFrequencyList=function(e,n,t){for(var i=[],l=[],r=0,s=e.length;r<s;)l[u=r++]=0;for(r=0,s=n.length;r<s;)l[u=r++]+=n[u];for(r=0,s=t;r<s;){r++;for(var h=0,a=0,o=0,c=e.length;o<c;){var u,_=l[u=o++];a<_&&(h=u,a=_)}i.push(e[h]),--l[h];for(var d=0,b=n.length;d<b;){var g=d++;l[g]+=n[g]}}return i},Pt.upperCaseToCamelCase=function(e,n){for(var t="",i=e.length,l=0,r=n=null==n?!0:n;l<i;){var s=e.charAt(l);"_"==s?r=!0:r?(r=!1,t+=X.string(s.toUpperCase())):t+=X.string(s.toLowerCase()),++l}return t},Pt.camelCaseToUpperCase=function(e,n){null==n&&(n=!0);for(var t="",i=e.length,l=0,r=!1;l<i;){var s,h=e.charAt(l),r="."!=h&&Pt.RE_ASCII_CHAR.match(h)?(s=h.toUpperCase(),h=h==s,r&&h&&(t+="_",r=!1),t+=null==s?"null":""+s,!h):(t+="_",!1);++l}for(var a=t;z.endsWith(a,"_");)a=se.substr(a,0,a.length-1);return a},Pt.functionEquals=function(e,n){return e==n},Pt.decodeUriParams=function(e){for(var n=new ue,t=e.split("&"),i=0;i<t.length;){var l,r=t[i],s=(++i,r.indexOf("="));-1!=s&&(l=r.substring(0,s),l=decodeURIComponent(l.split("+").join(" ")),r=r.substring(s+1),s=decodeURIComponent(r.split("+").join(" ")),n.h[l]=s)}return n},Pt.sinRatio=function(e){return 1<=e&&(e%=1),.5*(Math.sin(e*Math.PI*2)+1)},Pt.cosRatio=function(e){return 1<=e&&(e%=1),.5*(Math.cos(e*Math.PI*2)+1)},Pt.valueFromInterpolatedKey=function(e,n,t){var i=e.length-1,l=0;if(t<e[0])l=n[0];else if(t>=e[i])l=n[i];else{for(var r=0,s=1;t>e[s];)++r,++s;i=(t-e[r])/(e[s]-e[r]),l=n[r]+(n[s]-n[r])*i}return l},Pt.yFromInterpolatedX=function(e,n){var t=e.length-2,i=0;if(n<e[0])i=e[1];else if(n>=e[t])i=e[1+t];else{for(var l=0,r=2;n>e[r];)l+=2,r+=2;var t=(n-e[l])/(e[r]-e[l]),s=l+1;i=e[s]+(e[r+1]-e[s])*t}return i},Pt.command=function(e,n,t,i){null==n&&(n=[]),i(-1,null,null)},Pt.replaceIdentifier=function(e,n,t){e=z.replace(e,"\n"," \n "),e=" "+(e=z.replace(e,"\r"," \r "))+" ";var i="(\\s|[^a-zA-Z0-9_])",n=new RegExp(i+n.replace(f.escapeRe,"\\$&")+i,"g".split("u").join("")),i="$1"+z.replace(t,"$","$$")+"$2";return e=(e=e.replace(n,i)).substring(1,e.length-1),e=z.replace(e," \r ","\r"),e=z.replace(e," \n ","\n")},Pt.imageTypeFromBytes=function(e){return 255==e.b[0]&&216==e.b[1]&&255==e.b[2]?"jpeg":137==e.b[0]&&80==e.b[1]&&78==e.b[2]&&71==e.b[3]&&13==e.b[4]&&10==e.b[5]&&26==e.b[6]&&10==e.b[7]?"png":null},Pt.lerp=function(e,n,t){return e+(n-e)*t},Pt.isIos=function(){var e;return-1==Pt.isIos_result&&(Pt.isIos_result=0,e=null!=be.navigator?be.navigator.userAgent:"",!!window.MSStream||-1==e.indexOf("iPhone")&&-1==e.indexOf("iPad")&&-1==e.indexOf("iPod")||(Pt.isIos_result=1)),0!=Pt.isIos_result},Pt.isAndroid=function(){return-1==Pt.isAndroid_result&&(Pt.isAndroid_result=0,-1!=(null!=be.navigator?be.navigator.userAgent:"").toLowerCase().indexOf("android"))&&(Pt.isAndroid_result=1),0!=Pt.isAndroid_result},Pt.sign=function(e){return 0<=e?1:-1},function(){this.times=[],this.positions=[]}),Bt=((E["ceramic.Velocity"]=Ft).__name__="ceramic.Velocity",Ft.prototype={positions:null,times:null,reset:function(){for(var e=this.times.length;0<e;)this.times.shift(),this.positions.shift(),--e},add:function(e,n){n=Dt.now-(n=null==n?0:n);this.positions.push(e),this.times.push(n),this.prune(n-.15)},get:function(){var e,n=Dt.now,n=(this.prune(n-.15),this.times.length);return n<2||(e=this.positions[n-1]-this.positions[0],(n=this.times[n-1]-this.times[0])<=0)?0:e/Math.max(.15,n)},prune:function(e){for(var n=this.times.length;0<n&&this.times[0]<=e;)this.times.shift(),this.positions.shift(),--n},toString:function(){return""+this.get()},__class__:Ft},function(){Zb.call(this),this.set_lateUpdateOrder(7e3)}),Mt=((E["ceramic.ViewSystem"]=Bt).__name__="ceramic.ViewSystem",Bt.__properties__={set_shared:"set_shared",get_shared:"get_shared"},Bt.get_shared=function(){return Bt.lazyShared&&(Bt.lazyShared=!1,Bt.shared=new Bt),Bt.shared},Bt.set_shared=function(e){return Bt.shared=e},Bt.__super__=Zb,Bt.prototype=$extend(Zb.prototype,{bind:function(){},lateUpdate:function(e){f0._updateViewsLayout(e)},__class__:Bt}),(E["ceramic.VisualTransition"]=mc).__name__="ceramic.VisualTransition",mc.__interfaces__=[a0],mc.transition=function(e,n,t,i){var l=e.component("transition");return null==l&&(l=new mc,e.component("transition",l)),l._run(n,t,!1,i)},mc.eagerTransition=function(e,n,t,i){var l=e.component("transition");return null==l&&(l=new mc,e.component("transition",l)),l._run(n,t,!0,i)},mc.__super__=j,mc.prototype=$extend(j.prototype,{entity:null,easing:null,duration:null,anyPropertyChanged:null,xChanged:null,xTween:null,xTarget:null,xStart:null,xEnd:null,yChanged:null,yTween:null,yTarget:null,yStart:null,yEnd:null,depthChanged:null,depthTween:null,depthTarget:null,depthStart:null,depthEnd:null,scaleXChanged:null,scaleXTween:null,scaleXTarget:null,scaleXStart:null,scaleXEnd:null,scaleYChanged:null,scaleYTween:null,scaleYTarget:null,scaleYStart:null,scaleYEnd:null,skewXChanged:null,skewXTween:null,skewXTarget:null,skewXStart:null,skewXEnd:null,skewYChanged:null,skewYTween:null,skewYTarget:null,skewYStart:null,skewYEnd:null,anchorXChanged:null,anchorXTween:null,anchorXTarget:null,anchorXStart:null,anchorXEnd:null,anchorYChanged:null,anchorYTween:null,anchorYTarget:null,anchorYStart:null,anchorYEnd:null,rotationChanged:null,rotationTween:null,rotationTarget:null,rotationStart:null,rotationEnd:null,widthChanged:null,widthTween:null,widthTarget:null,widthStart:null,widthEnd:null,heightChanged:null,heightTween:null,heightTarget:null,heightStart:null,heightEnd:null,colorChanged:null,colorTween:null,colorTarget:null,colorStart:null,colorEnd:null,alphaChanged:null,alphaTween:null,alphaTarget:null,alphaStart:null,alphaEnd:null,translateXChanged:null,translateXTween:null,translateXTarget:null,translateXStart:null,translateXEnd:null,translateYChanged:null,translateYTween:null,translateYTarget:null,translateYStart:null,translateYEnd:null,transformChanged:null,transformAssigned:null,transformAssignedInstance:null,transformTween:null,transformTarget:null,transformStart:null,transformEnd:null,transformEndToNull:null,transformInTransition:null,offsetXChanged:null,offsetXTween:null,offsetXTarget:null,offsetXStart:null,offsetXEnd:null,offsetYChanged:null,offsetYTween:null,offsetYTarget:null,offsetYStart:null,offsetYEnd:null,viewWidthChanged:null,viewWidthTween:null,viewWidthTarget:null,viewWidthStart:null,viewWidthEnd:null,viewHeightChanged:null,viewHeightTween:null,viewHeightTarget:null,viewHeightStart:null,viewHeightEnd:null,isView:null,bindAsComponent:function(){this.isView=this.entity instanceof f0},run:function(e,n,t){return this._run(e,n,!1,t)},eagerRun:function(e,n,t){return this._run(e,n,!0,t)},_run:function(e,n,t,i){var r,s,d=this,b=(null==e&&(e=this.easing),-1==n&&(n=this.duration),this.anyPropertyChanged=!1,this.xChanged=!1,this.yChanged=!1,this.depthChanged=!1,this.scaleXChanged=!1,this.scaleYChanged=!1,this.translateXChanged=!1,this.translateYChanged=!1,this.skewXChanged=!1,this.skewYChanged=!1,this.anchorXChanged=!1,this.anchorYChanged=!1,this.rotationChanged=!1,this.widthChanged=!1,this.heightChanged=!1,this.colorChanged=!1,this.alphaChanged=!1,this.transformAssigned=!1,this.transformAssignedInstance=null,this.transformChanged=!1,this.offsetXChanged=!1,this.offsetYChanged=!1,this.viewWidthChanged=!1,this.viewHeightChanged=!1,this.isView?this.entity:null),h=this.entity.x,a=this.entity.y,o=this.entity.depth,c=this.entity.scaleX,u=this.entity.scaleY,_=this.entity,g=null!=_.transform?_.transform.tx:0,O=null!=(_=this.entity).transform?_.transform.ty:0,f=this.entity.skewX,p=this.entity.skewY,C=this.entity.anchorX,v=this.entity.anchorY,w=this.entity.rotation,m=this.entity.get_width(),y=this.entity.get_height(),U=-1,D=!1,T=(null!=this.entity.asQuad?(U=this.entity.asQuad.color,D=!0):null!=this.entity.asMesh&&(U=this.entity.asMesh.get_color(),D=!0),this.entity.alpha),x=null!=this.entity.transform?(r=this.entity.transform,(_=mc._currentTransform).a=r.a,_.b=r.b,_.c=r.c,_.d=r.d,_.tx=r.tx,_.ty=r.ty,_.changedDirty=!0,(_=mc._currentTransform)._aPrev=_.a,_._bPrev=_.b,_._cPrev=_.c,_._dPrev=_.d,_._txPrev=_.tx,_._tyPrev=_.ty,_.changed=!1,mc._currentTransform.changedDirty=!1,mc._currentTransform):null,S=this.isView?b.offsetX:0,A=this.isView?b.offsetY:0,I=this.isView?b.viewWidth:0,P=this.isView?b.viewHeight:0,F=(this.xTarget=h,this.yTarget=a,this.depthTarget=o,this.scaleXTarget=c,this.scaleYTarget=u,this.translateXTarget=g,this.translateYTarget=O,this.skewXTarget=f,this.skewYTarget=p,this.anchorXTarget=C,this.anchorYTarget=v,this.rotationTarget=w,this.widthTarget=m,this.heightTarget=y,this.colorTarget=U,this.alphaTarget=T,s=null!=x?((_=mc._targetTransform).a=x.a,_.b=x.b,_.c=x.c,_.d=x.d,_.tx=x.tx,_.ty=x.ty,_.changedDirty=!0,(_=mc._targetTransform)._aPrev=_.a,_._bPrev=_.b,_._cPrev=_.c,_._dPrev=_.d,_._txPrev=_.tx,_._tyPrev=_.ty,_.changed=!1,mc._targetTransform.changedDirty=!1,mc._targetTransform):null,this.transformTarget=s,this.offsetXTarget=S,this.offsetYTarget=A,this.viewWidthTarget=I,this.viewHeightTarget=P,i(this),this.transformChanged||null==this.transformTarget||(this.transformTarget.changedDirty&&(_=this.transformTarget).changedDirty&&(_.changed=_.tx!=_._txPrev||_.ty!=_._tyPrev||_.a!=_._aPrev||_.b!=_._bPrev||_.c!=_._cPrev||_.d!=_._dPrev,_.changedDirty=!1),this.transformTarget.changed&&(this.transformChanged=!0,this.anyPropertyChanged=!0)),null);return this.anyPropertyChanged?(s=function(e,n){var t,i,r,s,h,a,o,c,u,_;d.xTween==F&&d.entity.set_x(d.xStart+(d.xEnd-d.xStart)*e),d.yTween==F&&d.entity.set_y(d.yStart+(d.yEnd-d.yStart)*e),d.depthTween==F&&d.entity.set_depth(d.depthStart+(d.depthEnd-d.depthStart)*e),d.scaleXTween==F&&d.entity.set_scaleX(d.scaleXStart+(d.scaleXEnd-d.scaleXStart)*e),d.scaleYTween==F&&d.entity.set_scaleY(d.scaleYStart+(d.scaleYEnd-d.scaleYStart)*e),d.translateXTween==F&&(t=d.entity,0==(s=d.translateXStart+(d.translateXEnd-d.translateXStart)*e)?null!=t.transform&&0!=t.transform.tx&&(t.transform.tx=0,t.transform.changedDirty=!0):(null==t.transform&&t.set_transform(new l),t.transform.tx!=s&&(t.transform.tx=s,t.transform.changedDirty=!0))),d.translateYTween==F&&(t=d.entity,0==(s=d.translateYStart+(d.translateYEnd-d.translateYStart)*e)?null!=t.transform&&0!=t.transform.ty&&(t.transform.ty=0,t.transform.changedDirty=!0):(null==t.transform&&t.set_transform(new l),t.transform.ty!=s&&(t.transform.ty=s,t.transform.changedDirty=!0))),d.skewXTween==F&&d.entity.set_skewX(d.skewXStart+(d.skewXEnd-d.skewXStart)*e),d.skewYTween==F&&d.entity.set_skewY(d.skewYStart+(d.skewYEnd-d.skewYStart)*e),d.anchorXTween==F&&d.entity.set_anchorX(d.anchorXStart+(d.anchorXEnd-d.anchorXStart)*e),d.anchorYTween==F&&d.entity.set_anchorY(d.anchorYStart+(d.anchorYEnd-d.anchorYStart)*e),d.rotationTween==F&&d.entity.set_rotation(d.rotationStart+(d.rotationEnd-d.rotationStart)*e),d.widthTween==F&&d.entity.set_width(d.widthStart+(d.widthEnd-d.widthStart)*e),d.heightTween==F&&d.entity.set_height(d.heightStart+(d.heightEnd-d.heightStart)*e),d.colorTween==F&&(null!=d.entity.asQuad?(i=d.colorStart,h=(((u=d.colorEnd)>>16&255)-(i>>16&255))*(o=null==(o=e)?.5:o)+(i>>16&255)|0,d.entity.asQuad.color=((0&65535|(255<h?255:h<0?0:h)<<16)&16711935|(255<(_=((u>>8&255)-(i>>8&255))*o+(i>>8&255)|0)?255:_<0?0:_)<<8)&16776960|(255<(r=((255&u)-(255&i))*o+(255&i)|0)?255:r<0?0:r)):null!=d.entity.asMesh?(i=d.colorStart,h=(((u=d.colorEnd)>>16&255)-(i>>16&255))*(o=null==(o=e)?.5:o)+(i>>16&255)|0,d.entity.asMesh.set_color(((0&65535|(255<h?255:h<0?0:h)<<16)&16711935|(255<(_=((u>>8&255)-(i>>8&255))*o+(i>>8&255)|0)?255:_<0?0:_)<<8)&16776960|(255<(r=((255&u)-(255&i))*o+(255&i)|0)?255:r<0?0:r))):(i=d.colorStart,h=(((u=d.colorEnd)>>16&255)-(i>>16&255))*(o=null==(o=e)?.5:o)+(i>>16&255)|0,K.setProperty(d.entity,"color",((0&65535|(255<h?255:h<0?0:h)<<16)&16711935|(255<(_=((u>>8&255)-(i>>8&255))*o+(i>>8&255)|0)?255:_<0?0:_)<<8)&16776960|(255<(r=((255&u)-(255&i))*o+(255&i)|0)?255:r<0?0:r)))),d.alphaTween==F&&d.entity.set_alpha(d.alphaStart+(d.alphaEnd-d.alphaStart)*e),d.transformTween==F&&(1==e&&d.transformAssigned?d.entity.set_transform(d.transformAssignedInstance):(d.transformAssigned&&0==e&&d.entity.set_transform(null),null==d.entity.transform&&(null==d.transformInTransition&&(s=0<bc.availableTransforms.length?bc.availableTransforms.pop():new l,d.transformInTransition=s),d.entity.set_transform(d.transformInTransition)),h=null!=d.transformStart?d.transformStart:mc._identityTransform,_=null!=d.transformEnd?d.transformEnd:mc._identityTransform,t=d.entity.transform,0==e?(t.a=h.a,t.b=h.b,t.c=h.c,t.d=h.d,t.tx=h.tx,t.ty=h.ty):1==e?(t.a=_.a,t.b=_.b,t.c=_.c,t.d=_.d,t.tx=_.tx,t.ty=_.ty):((u=null==(u=l._decomposed1)?new k:u).pivotX=0,u.pivotY=0,u.skewX=-Math.atan2(-h.c,h.d),u.skewY=Math.atan2(h.b,h.a),Math.abs(u.skewX+u.skewY)<1e-5&&(u.rotation=u.skewY,h.a<0&&0<=h.d&&(u.rotation+=u.rotation<=0?Math.PI:-Math.PI),u.skewX=0,u.skewY=0),u.scaleX=Math.sqrt(h.a*h.a+h.b*h.b),u.scaleY=Math.sqrt(h.c*h.c+h.d*h.d),u.x=h.tx,u.y=h.ty,(u=null==(u=l._decomposed2)?new k:u).pivotX=0,u.pivotY=0,u.skewX=-Math.atan2(-_.c,_.d),u.skewY=Math.atan2(_.b,_.a),Math.abs(u.skewX+u.skewY)<1e-5&&(u.rotation=u.skewY,_.a<0&&0<=_.d&&(u.rotation+=u.rotation<=0?Math.PI:-Math.PI),u.skewX=0,u.skewY=0),u.scaleX=Math.sqrt(_.a*_.a+_.b*_.b),u.scaleY=Math.sqrt(_.c*_.c+_.d*_.d),u.x=_.tx,u.y=_.ty,l._decomposed1.pivotX+=(l._decomposed2.pivotX-l._decomposed1.pivotX)*e,l._decomposed1.pivotY+=(l._decomposed2.pivotY-l._decomposed1.pivotY)*e,l._decomposed1.rotation+=(l._decomposed2.rotation-l._decomposed1.rotation)*e,l._decomposed1.scaleX+=(l._decomposed2.scaleX-l._decomposed1.scaleX)*e,l._decomposed1.scaleY+=(l._decomposed2.scaleY-l._decomposed1.scaleY)*e,l._decomposed1.skewX+=(l._decomposed2.skewX-l._decomposed1.skewX)*e,l._decomposed1.skewY+=(l._decomposed2.skewY-l._decomposed1.skewY)*e,l._decomposed1.x+=(l._decomposed2.x-l._decomposed1.x)*e,l._decomposed1.y+=(l._decomposed2.y-l._decomposed1.y)*e,i=(o=l._decomposed1).x,r=o.y,s=o.scaleX,h=o.scaleY,u=o.rotation,_=o.skewX,c=o.skewY,a=o.pivotX,null==(o=o.pivotY)&&(o=0),null==a&&(a=0),null==c&&(c=0),null==_&&(_=0),null==u&&(u=0),null==h&&(h=1),null==s&&(s=1),null==r&&(r=0),null==i&&(i=0),t.a=1,t.b=0,t.c=0,t.d=1,t.tx=0,t.ty=0,t.changedDirty=!0,t.tx+=-a,t.ty+=-o,t.changedDirty=!0,0!=_&&(t.c=_*Math.PI/180),0!=c&&(t.b=c*Math.PI/180),0!=u&&(_=u*Math.PI/180,c=Math.cos(_),u=Math.sin(_),_=t.a*c-t.b*u,t.b=t.a*u+t.b*c,t.a=_,_=t.c*c-t.d*u,t.d=t.c*u+t.d*c,t.c=_,_=t.tx*c-t.ty*u,t.ty=t.tx*u+t.ty*c,t.tx=_,t.changedDirty=!0),t.tx+=a,t.ty+=o,t.changedDirty=!0,1==s&&1==h||(t.a*=s,t.b*=h,t.c*=s,t.d*=h,t.tx*=s,t.ty*=h,t.changedDirty=!0),t.tx+=i-a*s,t.ty+=r-o*h),t.changedDirty=!0)),d.offsetXTween==F&&b.set_offsetX(d.offsetXStart+(d.offsetXEnd-d.offsetXStart)*e),d.offsetYTween==F&&b.set_offsetY(d.offsetYStart+(d.offsetYEnd-d.offsetYStart)*e),d.viewWidthTween==F&&b.set_viewWidth(d.viewWidthStart+(d.viewWidthEnd-d.viewWidthStart)*e),d.viewHeightTween==F&&b.set_viewHeight(d.viewHeightStart+(d.viewHeightEnd-d.viewHeightStart)*e)},F=t?this.entity.eagerTween(e,n,0,1,s):this.entity.tween(e,n,0,1,s),s=null,F.onDestroy(this,function(e){d.xTween==e&&(d.xTween=null),d.yTween==e&&(d.yTween=null),d.depthTween==e&&(d.depthTween=null),d.scaleXTween==e&&(d.scaleXTween=null),d.scaleYTween==e&&(d.scaleYTween=null),d.translateXTween==e&&(d.translateXTween=null),d.translateYTween==e&&(d.translateYTween=null),d.skewXTween==e&&(d.skewXTween=null),d.skewYTween==e&&(d.skewYTween=null),d.anchorXTween==e&&(d.anchorXTween=null),d.anchorYTween==e&&(d.anchorYTween=null),d.rotationTween==e&&(d.rotationTween=null),d.widthTween==e&&(d.widthTween=null),d.heightTween==e&&(d.heightTween=null),d.colorTween==e&&(d.colorTween=null),d.alphaTween==e&&(d.alphaTween=null),d.transformTween==e&&(d.transformTween=null),d.offsetXTween==e&&(d.offsetXTween=null),d.offsetYTween==e&&(d.offsetYTween=null),d.viewWidthTween==e&&(d.viewWidthTween=null),d.viewHeightTween==e&&(d.viewHeightTween=null)}),this.xChanged&&(this.xTween=F,this.xStart=h,this.xEnd=this.xTarget),this.yChanged&&(this.yTween=F,this.yStart=a,this.yEnd=this.yTarget),this.depthChanged&&(this.depthTween=F,this.depthStart=o,this.depthEnd=this.depthTarget),this.scaleXChanged&&(this.scaleXTween=F,this.scaleXStart=c,this.scaleXEnd=this.scaleXTarget),this.scaleYChanged&&(this.scaleYTween=F,this.scaleYStart=u,this.scaleYEnd=this.scaleYTarget),this.translateXChanged&&(this.translateXTween=F,this.translateXStart=g,this.translateXEnd=this.translateXTarget),this.translateYChanged&&(this.translateYTween=F,this.translateYStart=O,this.translateYEnd=this.translateYTarget),this.skewXChanged&&(this.skewXTween=F,this.skewXStart=f,this.skewXEnd=this.skewXTarget),this.skewYChanged&&(this.skewYTween=F,this.skewYStart=p,this.skewYEnd=this.skewYTarget),this.anchorXChanged&&(this.anchorXTween=F,this.anchorXStart=C,this.anchorXEnd=this.anchorXTarget),this.anchorYChanged&&(this.anchorYTween=F,this.anchorYStart=v,this.anchorYEnd=this.anchorYTarget),this.rotationChanged&&(this.rotationTween=F,this.rotationStart=Z0.clampDegrees(w),this.rotationEnd=Z0.clampDegrees(this.rotationTarget),180<(i=this.rotationEnd-this.rotationStart)?this.rotationEnd-=360:i<-180&&(this.rotationEnd+=360)),this.widthChanged&&(this.widthTween=F,this.widthStart=m,this.widthEnd=this.widthTarget),this.heightChanged&&(this.heightTween=F,this.heightStart=y,this.heightEnd=this.heightTarget),this.colorChanged&&(this.colorTween=F,D||(D=!0,U=K.getProperty(this.entity,"color")),this.colorStart=U,this.colorEnd=this.colorTarget),this.alphaChanged&&(this.alphaTween=F,this.alphaStart=T,this.alphaEnd=this.alphaTarget),this.transformChanged&&(this.transformTween=F,null!=x?(null==this.transformStart&&(this.transformStart=0<bc.availableTransforms.length?bc.availableTransforms.pop():new l),(_=this.transformStart).a=x.a,_.b=x.b,_.c=x.c,_.d=x.d,_.tx=x.tx,_.ty=x.ty,_.changedDirty=!0):null!=this.transformStart&&((_=this.transformStart).a=1,_.b=0,_.c=0,_.d=1,_.tx=0,_.ty=0,_.changedDirty=!0),null!=this.transformTarget?(null==this.transformEnd&&(this.transformEnd=0<bc.availableTransforms.length?bc.availableTransforms.pop():new l),_=this.transformEnd,r=this.transformTarget,_.a=r.a,_.b=r.b,_.c=r.c,_.d=r.d,_.tx=r.tx,_.ty=r.ty,_.changedDirty=!0,this.transformEndToNull=!1):null!=this.transformEnd&&((_=this.transformEnd).a=1,_.b=0,_.c=0,_.d=1,_.tx=0,_.ty=0,_.changedDirty=!0,this.transformEndToNull=!0)),this.offsetXChanged&&(this.offsetXTween=F,this.offsetXStart=S,this.offsetXEnd=this.offsetXTarget),this.offsetYChanged&&(this.offsetYTween=F,this.offsetYStart=A,this.offsetYEnd=this.offsetYTarget),this.viewWidthChanged&&(this.viewWidthTween=F,this.viewWidthStart=I,this.viewWidthEnd=this.viewWidthTarget),this.viewHeightChanged&&(this.viewHeightTween=F,this.viewHeightStart=P,this.viewHeightEnd=this.viewHeightTarget)):F=t?this.entity.eagerTween(e,n,0,1,null):this.entity.tween(e,n,0,1,null),F},destroy:function(){this._lifecycleState<=-2||(this._lifecycleState=-2,null!=this.transformInTransition&&(bc.recycle(this.transformInTransition),this.transformInTransition=null),null!=this.transformStart&&(bc.recycle(this.transformStart),this.transformStart=null),null!=this.transformEnd&&(bc.recycle(this.transformEnd),this.transformEnd=null),this._lifecycleState=-1,j.prototype.destroy.call(this))},setEntity:function(e){this.entity=e instanceof o?e:null},getEntity:function(){return this.entity},initializerName:null,__class__:mc}),{}),Et=(Mt.__properties__={set_viewHeight:"set_viewHeight",get_viewHeight:"get_viewHeight",set_viewWidth:"set_viewWidth",get_viewWidth:"get_viewWidth",set_offsetY:"set_offsetY",get_offsetY:"get_offsetY",set_offsetX:"set_offsetX",get_offsetX:"get_offsetX",set_transform:"set_transform",get_transform:"get_transform",set_alpha:"set_alpha",get_alpha:"get_alpha",set_color:"set_color",get_color:"get_color",set_height:"set_height",get_height:"get_height",set_width:"set_width",get_width:"get_width",set_rotation:"set_rotation",get_rotation:"get_rotation",set_anchorY:"set_anchorY",get_anchorY:"get_anchorY",set_anchorX:"set_anchorX",get_anchorX:"get_anchorX",set_skewY:"set_skewY",get_skewY:"get_skewY",set_skewX:"set_skewX",get_skewX:"get_skewX",set_translateY:"set_translateY",get_translateY:"get_translateY",set_translateX:"set_translateX",get_translateX:"get_translateX",set_scaleY:"set_scaleY",get_scaleY:"get_scaleY",set_scaleX:"set_scaleX",get_scaleX:"get_scaleX",set_depth:"set_depth",get_depth:"get_depth",set_y:"set_y",get_y:"get_y",set_x:"set_x",get_x:"get_x"},Mt.get_x=function(e){return e.xTarget},Mt.set_x=function(e,n){return null!=e.xTween&&n==e.xEnd||(e.anyPropertyChanged=!0,e.xChanged=!0),e.xTarget=n},Mt.get_y=function(e){return e.yTarget},Mt.set_y=function(e,n){return null!=e.yTween&&n==e.yEnd||(e.anyPropertyChanged=!0,e.yChanged=!0),e.yTarget=n},Mt.pos=function(e,n,t){null!=e.xTween&&n==e.xEnd||(e.anyPropertyChanged=!0,e.xChanged=!0),e.xTarget=n,null!=e.yTween&&t==e.yEnd||(e.anyPropertyChanged=!0,e.yChanged=!0),e.yTarget=t},Mt.get_depth=function(e){return e.depthTarget},Mt.set_depth=function(e,n){return null!=e.depthTween&&n==e.depthEnd||(e.anyPropertyChanged=!0,e.depthChanged=!0),e.depthTarget=n},Mt.get_scaleX=function(e){return e.scaleXTarget},Mt.set_scaleX=function(e,n){return null!=e.scaleXTween&&n==e.scaleXEnd||(e.anyPropertyChanged=!0,e.scaleXChanged=!0),e.scaleXTarget=n},Mt.get_scaleY=function(e){return e.scaleYTarget},Mt.set_scaleY=function(e,n){return null!=e.scaleYTween&&n==e.scaleYEnd||(e.anyPropertyChanged=!0,e.scaleYChanged=!0),e.scaleYTarget=n},Mt.scale=function(e,n,t){null==t&&(t=-1),null!=e.scaleXTween&&n==e.scaleXEnd||(e.anyPropertyChanged=!0,e.scaleXChanged=!0),e.scaleXTarget=n;t=-1!=t?t:n;null!=e.scaleYTween&&t==e.scaleYEnd||(e.anyPropertyChanged=!0,e.scaleYChanged=!0),e.scaleYTarget=t},Mt.get_translateX=function(e){return e.translateXTarget},Mt.set_translateX=function(e,n){return null!=e.translateXTween&&n==e.translateXEnd||(e.anyPropertyChanged=!0,e.translateXChanged=!0),e.translateXTarget=n},Mt.get_translateY=function(e){return e.translateYTarget},Mt.set_translateY=function(e,n){return null!=e.translateYTween&&n==e.translateYEnd||(e.anyPropertyChanged=!0,e.translateYChanged=!0),e.translateYTarget=n},Mt.translate=function(e,n,t){null==t&&(t=-1),null!=e.translateXTween&&n==e.translateXEnd||(e.anyPropertyChanged=!0,e.translateXChanged=!0),e.translateXTarget=n;t=-1!=t?t:n;null!=e.translateYTween&&t==e.translateYEnd||(e.anyPropertyChanged=!0,e.translateYChanged=!0),e.translateYTarget=t},Mt.get_skewX=function(e){return e.skewXTarget},Mt.set_skewX=function(e,n){return null!=e.skewXTween&&n==e.skewXEnd||(e.anyPropertyChanged=!0,e.skewXChanged=!0),e.skewXTarget=n},Mt.get_skewY=function(e){return e.skewYTarget},Mt.set_skewY=function(e,n){return null!=e.skewYTween&&n==e.skewYEnd||(e.anyPropertyChanged=!0,e.skewYChanged=!0),e.skewYTarget=n},Mt.skew=function(e,n,t){null!=e.skewXTween&&n==e.skewXEnd||(e.anyPropertyChanged=!0,e.skewXChanged=!0),e.skewXTarget=n,null!=e.skewYTween&&t==e.skewYEnd||(e.anyPropertyChanged=!0,e.skewYChanged=!0),e.skewYTarget=t},Mt.get_anchorX=function(e){return e.anchorXTarget},Mt.set_anchorX=function(e,n){return null!=e.anchorXTween&&n==e.anchorXEnd||(e.anyPropertyChanged=!0,e.anchorXChanged=!0),e.anchorXTarget=n},Mt.get_anchorY=function(e){return e.anchorYTarget},Mt.set_anchorY=function(e,n){return null!=e.anchorYTween&&n==e.anchorYEnd||(e.anyPropertyChanged=!0,e.anchorYChanged=!0),e.anchorYTarget=n},Mt.anchor=function(e,n,t){null!=e.anchorXTween&&n==e.anchorXEnd||(e.anyPropertyChanged=!0,e.anchorXChanged=!0),e.anchorXTarget=n,null!=e.anchorYTween&&t==e.anchorYEnd||(e.anyPropertyChanged=!0,e.anchorYChanged=!0),e.anchorYTarget=t},Mt.get_rotation=function(e){return e.rotationTarget},Mt.set_rotation=function(e,n){return null!=e.rotationTween&&n==e.rotationEnd||(e.anyPropertyChanged=!0,e.rotationChanged=!0),e.rotationTarget=n},Mt.get_width=function(e){return e.widthTarget},Mt.set_width=function(e,n){return null!=e.widthTween&&n==e.widthEnd||(e.anyPropertyChanged=!0,e.widthChanged=!0),e.widthTarget=n},Mt.get_height=function(e){return e.heightTarget},Mt.set_height=function(e,n){return null!=e.heightTween&&n==e.heightEnd||(e.anyPropertyChanged=!0,e.heightChanged=!0),e.heightTarget=n},Mt.size=function(e,n,t){null!=e.widthTween&&n==e.widthEnd||(e.anyPropertyChanged=!0,e.widthChanged=!0),e.widthTarget=n,null!=e.heightTween&&t==e.heightEnd||(e.anyPropertyChanged=!0,e.heightChanged=!0),e.heightTarget=t},Mt.get_color=function(e){return e.colorTarget},Mt.set_color=function(e,n){return null!=e.colorTween&&n==e.colorEnd||(e.anyPropertyChanged=!0,e.colorChanged=!0),e.colorTarget=n},Mt.get_alpha=function(e){return e.alphaTarget},Mt.set_alpha=function(e,n){return null!=e.alphaTween&&n==e.alphaEnd||(e.anyPropertyChanged=!0,e.alphaChanged=!0),e.alphaTarget=n},Mt.get_transform=function(e){return e.transformTarget},Mt.set_transform=function(e,n){return e.anyPropertyChanged=!0,e.transformChanged=!0,e.transformAssigned=!0,e.transformAssignedInstance=n,e.transformTarget=n},Mt.get_offsetX=function(e){return e.offsetXTarget},Mt.set_offsetX=function(e,n){return null!=e.offsetXTween&&n==e.offsetXEnd||(e.anyPropertyChanged=!0,e.offsetXChanged=!0),e.offsetXTarget=n},Mt.get_offsetY=function(e){return e.offsetYTarget},Mt.set_offsetY=function(e,n){return null!=e.offsetYTween&&n==e.offsetYEnd||(e.anyPropertyChanged=!0,e.offsetYChanged=!0),e.offsetYTarget=n},Mt.offset=function(e,n,t){null!=e.offsetXTween&&n==e.offsetXEnd||(e.anyPropertyChanged=!0,e.offsetXChanged=!0),e.offsetXTarget=n,null!=e.offsetYTween&&t==e.offsetYEnd||(e.anyPropertyChanged=!0,e.offsetYChanged=!0),e.offsetYTarget=t},Mt.get_viewWidth=function(e){return e.viewWidthTarget},Mt.set_viewWidth=function(e,n){return null!=e.viewWidthTween&&n==e.viewWidthEnd||(e.anyPropertyChanged=!0,e.viewWidthChanged=!0),e.viewWidthTarget=n},Mt.get_viewHeight=function(e){return e.viewHeightTarget},Mt.set_viewHeight=function(e,n){return null!=e.viewHeightTween&&n==e.viewHeightEnd||(e.anyPropertyChanged=!0,e.viewHeightChanged=!0),e.viewHeightTarget=n},Mt.viewSize=function(e,n,t){null!=e.viewWidthTween&&n==e.viewWidthEnd||(e.anyPropertyChanged=!0,e.viewWidthChanged=!0),e.viewWidthTarget=n,null!=e.viewHeightTween&&t==e.viewHeightEnd||(e.anyPropertyChanged=!0,e.viewHeightChanged=!0),e.viewHeightTarget=t},function(e){this.completionCallback=e,this.pending=0,this.complete=!1}),Lt=((E["ceramic.WaitCallbacks"]=Et).__name__="ceramic.WaitCallbacks",Et.prototype={completionCallback:null,pending:null,complete:null,callback:function(){var e=this;if(this.complete)throw oe.thrown("Cannot register new callbacks after completion");this.pending++;var n=!1;return function(){n||(n=!0,e.pending--,0!=e.pending)||e.complete||(e.complete=!0,e.completionCallback())}},__class__:Et},function(e){null==e&&(e=1),this.chokidarWatchers=null,this.chokidarUpdatedFilesByWatchedDirectory=null,this.startingToWatchDirectories=null,this.watchedDirectories=null,j.call(this),Lt.didTryRequireChokidar||(Lt.didTryRequireChokidar=!0,Lt.fs=Nn.nodeRequire("fs"),null!=Lt.fs&&(Lt.chokidar=Nn.nodeRequire("chokidar"))),this.updateInterval=e,Dt.schedule(this,e,$bind(this,this.tick),e)}),ee=((E["ceramic.WatchDirectory"]=Lt).__name__="ceramic.WatchDirectory",Lt.__super__=j,Lt.prototype=$extend(j.prototype,{__cbOnDirectoryChange:null,__cbOnceDirectoryChange:null,__cbOnOwnerUnbindDirectoryChange:null,__cbOnceOwnerUnbindDirectoryChange:null,emitDirectoryChange:function(e,n,t){var i=0;if(null!=this.__cbOnDirectoryChange&&(i+=this.__cbOnDirectoryChange.length),null!=this.__cbOnceDirectoryChange&&(i+=this.__cbOnceDirectoryChange.length),0<i){var l=C.pool(i),r=l.get(),s=0;if(null!=this.__cbOnDirectoryChange)for(var h=0,a=this.__cbOnDirectoryChange.length;h<a;){var o=h++;!0?(r.vector[s]=this.__cbOnDirectoryChange[o],++s):--i}if(null!=this.__cbOnceDirectoryChange){for(var c=null,u=null,h=0,a=this.__cbOnceDirectoryChange.length;h<a;){var _,o=h++;!0?(r.vector[s]=this.__cbOnceDirectoryChange[o],this.__cbOnceDirectoryChange[o]=null,_=this.__cbOnceOwnerUnbindDirectoryChange[o],(this.__cbOnceOwnerUnbindDirectoryChange[o]=null)!=_&&_(),++s):(--i,null==c&&(c=[],u=[],0),c.push(this.__cbOnceOwnerUnbindDirectoryChange[o]),u.push(this.__cbOnceDirectoryChange[o]))}this.__cbOnceOwnerUnbindDirectoryChange=c,this.__cbOnceDirectoryChange=u}for(h=0,a=i;h<a;){s=h++;(0,r.vector[s])(e,n,t)}l.release(r)}},onDirectoryChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event directoryChange because owner is destroyed!");var l=function(e){null!=t&&(i.offDirectoryChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindDirectoryChange&&(this.__cbOnOwnerUnbindDirectoryChange=[]),this.__cbOnOwnerUnbindDirectoryChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindDirectoryChange&&(this.__cbOnOwnerUnbindDirectoryChange=[]),this.__cbOnOwnerUnbindDirectoryChange.push(null);null==this.__cbOnDirectoryChange&&(this.__cbOnDirectoryChange=[]),this.__cbOnDirectoryChange.push(t)},onceDirectoryChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event directoryChange because owner is destroyed!");var l=function(e){null!=t&&(i.offDirectoryChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindDirectoryChange&&(this.__cbOnceOwnerUnbindDirectoryChange=[]),this.__cbOnceOwnerUnbindDirectoryChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindDirectoryChange&&(this.__cbOnceOwnerUnbindDirectoryChange=[]),this.__cbOnceOwnerUnbindDirectoryChange.push(null);null==this.__cbOnceDirectoryChange&&(this.__cbOnceDirectoryChange=[]),this.__cbOnceDirectoryChange.push(t)},offDirectoryChange:function(e){if(null!=e){var n;null!=this.__cbOnDirectoryChange&&-1!=(n=this.__cbOnDirectoryChange.indexOf(e))&&(this.__cbOnDirectoryChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindDirectoryChange[n])&&r(),this.__cbOnOwnerUnbindDirectoryChange.splice(n,1)),null!=this.__cbOnceDirectoryChange&&-1!=(n=this.__cbOnceDirectoryChange.indexOf(e))&&(this.__cbOnceDirectoryChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindDirectoryChange[n])&&r(),this.__cbOnceOwnerUnbindDirectoryChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindDirectoryChange){for(var t=0,i=this.__cbOnOwnerUnbindDirectoryChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindDirectoryChange[l])&&r()}this.__cbOnOwnerUnbindDirectoryChange=null}if(null!=this.__cbOnceOwnerUnbindDirectoryChange){for(t=0,i=this.__cbOnceOwnerUnbindDirectoryChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindDirectoryChange[l])&&r()}this.__cbOnceOwnerUnbindDirectoryChange=null}this.__cbOnDirectoryChange=null,this.__cbOnceDirectoryChange=null}},listensDirectoryChange:function(){return null!=this.__cbOnDirectoryChange&&0<this.__cbOnDirectoryChange.length||null!=this.__cbOnceDirectoryChange&&0<this.__cbOnceDirectoryChange.length},updateInterval:null,watchedDirectories:null,startingToWatchDirectories:null,chokidarUpdatedFilesByWatchedDirectory:null,chokidarWatchers:null,watchDirectory:function(t){var i=this;null==this.watchedDirectories&&(this.watchedDirectories=new ue),null==this.startingToWatchDirectories&&(this.startingToWatchDirectories=new ue),this.startingToWatchDirectories.h[t]=!0,Xn.runInBackground(function(){var n=i.computeFilesModificationTime(t);Xn.runInMain(function(){var e;Object.prototype.hasOwnProperty.call(i.startingToWatchDirectories.h,t)&&(e=i.startingToWatchDirectories,Object.prototype.hasOwnProperty.call(e.h,t)&&delete e.h[t],i.watchedDirectories.h[t]=n,null!=Lt.chokidar)&&(null==i.chokidarUpdatedFilesByWatchedDirectory&&(i.chokidarUpdatedFilesByWatchedDirectory=new ue),i.chokidarUpdatedFilesByWatchedDirectory.h[t]=[],i.watchWithChokidar(t))})})},watchWithChokidar:function(t){var i=this,e=Lt.chokidar.watch(".",{ignoreInitial:!0,disableGlobbing:!0,cwd:t});null==this.chokidarWatchers&&(this.chokidarWatchers=new ue),Object.prototype.hasOwnProperty.call(this.chokidarWatchers.h,t)&&this.chokidarWatchers.h[t].close(),(this.chokidarWatchers.h[t]=e).on("add",function(e){var n=Lt.fs.statSync(Rn.join([t,e]));n.isDirectory()||i.chokidarUpdatedFilesByWatchedDirectory.h[t].push({status:0,lastModified:n.mtime.getTime()/1e3,name:e})}),e.on("change",function(e){var n=Lt.fs.statSync(Rn.join([t,e]));n.isDirectory()||i.chokidarUpdatedFilesByWatchedDirectory.h[t].push({status:1,lastModified:n.mtime.getTime()/1e3,name:e})}),e.on("unlink",function(e){i.chokidarUpdatedFilesByWatchedDirectory.h[t].push({status:2,lastModified:-1,name:e})})},stopWatchingDirectory:function(e){var n;return null!=this.chokidarWatchers&&Object.prototype.hasOwnProperty.call(this.chokidarWatchers.h,e)&&(this.chokidarWatchers.h[e].close(),n=this.chokidarWatchers,Object.prototype.hasOwnProperty.call(n.h,e))&&delete n.h[e],null==this.watchedDirectories&&Object.prototype.hasOwnProperty.call(this.watchedDirectories.h,e)?(n=this.watchedDirectories,Object.prototype.hasOwnProperty.call(n.h,e)&&delete n.h[e],null!=this.startingToWatchDirectories&&Object.prototype.hasOwnProperty.call(this.startingToWatchDirectories.h,e)&&(n=this.startingToWatchDirectories,Object.prototype.hasOwnProperty.call(n.h,e))&&delete n.h[e],!0):!(null==this.startingToWatchDirectories||!Object.prototype.hasOwnProperty.call(this.startingToWatchDirectories.h,e)||(n=this.startingToWatchDirectories,Object.prototype.hasOwnProperty.call(n.h,e)&&delete n.h[e],0))},tick:function(){if(null!=this.watchedDirectories){for(var e=[],n=this.watchedDirectories.h,t=Object.keys(n),i=t.length,l=0;l<i;){var r=t[l++];e.push(r)}for(var s=0;s<e.length;){r=e[s];++s,this.checkWatchedDirectory(r)}}},checkWatchedDirectory:function(c){var u=this;if(null!=Lt.chokidar){if(Object.prototype.hasOwnProperty.call(this.chokidarUpdatedFilesByWatchedDirectory.h,c)){var e=this.chokidarUpdatedFilesByWatchedDirectory.h[c];if(0<e.length){for(var _=this.watchedDirectories.h[c],n=new ue,t=_.h,i=t,l=Object.keys(t),r=l.length,s=0;s<r;){var h=i[d=l[s++]];n.h[d]=h}for(var a=0;a<e.length;){var o=e[a];switch(++a,o.status){case 0:case 1:n.h[o.name]=o.lastModified;break;case 2:var d=o.name;Object.prototype.hasOwnProperty.call(n.h,d)&&delete n.h[d]}}Object.prototype.hasOwnProperty.call(this.watchedDirectories.h,c)&&(this.watchedDirectories.h[c]=n,this.emitDirectoryChange(c,n,_)),e.splice(0,e.length)}}}else{_=this.watchedDirectories.h[c];Xn.runInBackground(function(){for(var e=u.computeFilesModificationTime(c),n=!1,t=e.h,i=t,l=Object.keys(t),r=l.length,s=0;s<r;){var h=o=l[s++],a=i[o];if(!Object.prototype.hasOwnProperty.call(_.h,h)){n=!0;break}if(a!=_.h[h]){n=!0;break}}if(!n)for(i=t=_.h,r=(l=Object.keys(t)).length,s=0;s<r;){var o,h=o=l[s++],a=i[o];if(!Object.prototype.hasOwnProperty.call(e.h,h)){n=!0;break}}n&&Xn.runInMain(function(){Object.prototype.hasOwnProperty.call(u.watchedDirectories.h,c)&&(u.watchedDirectories.h[c]=e,u.emitDirectoryChange(c,e,_))})})}},computeFilesModificationTime:function(e){for(var n=new ue,t=0,i=an.getFlatDirectory(e);t<i.length;){var l=i[t],r=(++t,an.getLastModified(Rn.join([e,l])));n.h[l]=r}return n},unbindEvents:function(){j.prototype.unbindEvents.call(this),this.offDirectoryChange()},__class__:Lt}),(E["ceramic.macros.DefinesMacro"]=qc).__name__="ceramic.macros.DefinesMacro",qc._stringToBool=function(e){return null!=e&&("true"==(e=e.toLowerCase())||"1"==e)},(E["ceramic.macros.EnumAbstractMacro"]=rc).__name__="ceramic.macros.EnumAbstractMacro",(E["ceramic.macros.PluginsMacro"]=sc).__name__="ceramic.macros.PluginsMacro",(E["clay.BackgroundQueue"]=tc).__name__="clay.BackgroundQueue",tc.prototype={checkInterval:null,runsInBackground:null,stop:null,pending:null,schedule:function(e){he.app._onceImmediate(e)},destroy:function(){this.stop=!0},__class__:tc},function(e,n){this.windowInBackground=!1,this.ready=!1,this.freeze=!1,this.nextTick=0,this.immediateShutdown=!1,this.timestamp=-1,this.hasShutdown=!1,this.shuttingDown=!1,ee.app=this,Kt.init(),this.extractAppId(),this.config=this.defaultConfig(),e(this.config),this.events=n,this.io=new ci(this),Wt.flush(),this.assets=new si(this),Wt.flush(),this.audio=new hi(this),Wt.flush(),this.input=new zt(this),Wt.flush(),this.runtime=new ui(this),Wt.flush(),ee._graphics=new ii,Wt.flush(),this.backgroundQueue=new tc,this.init()}),Vt=((E["clay.Clay"]=ee).__name__="clay.Clay",ee.prototype={config:null,events:null,io:null,assets:null,audio:null,input:null,runtime:null,get_graphics:function(){return ee._graphics},set_graphics:function(e){return ee._graphics=e},shuttingDown:null,hasShutdown:null,timestamp:null,appId:null,screenWidth:null,screenHeight:null,screenDensity:null,backgroundQueue:null,immediateShutdown:null,nextTick:null,freeze:null,set_freeze:function(e){return(this.freeze=e)?(this.events.freeze(),this.audio.suspend()):(this.events.unfreeze(),this.audio.resume()),e},ready:null,init:function(){Gt.debug("Clay / init",{fileName:"clay/Clay.hx",lineNumber:178,className:"clay.Clay",methodName:"init"}),this.io.init(),Wt.flush(),this.audio.init(),Wt.flush(),this.input.init(),Wt.flush(),this.runtime.init(),Wt.flush(),Gt.debug("Clay / ready",{fileName:"clay/Clay.hx",lineNumber:192,className:"clay.Clay",methodName:"init"}),this.runtime.ready(),Wt.flush(),this.audio.ready(),Wt.flush(),this.timestamp=window.performance.now()/1e3-ui.timestampStart,this.ready=!0,this.nextTick=this.timestamp,this.updateScreen(),this.events.ready(),!this.runtime.run()||this.hasShutdown||this.shuttingDown||this.shutdown()},shutdown:function(){if(this.shuttingDown)Gt.debug("Clay / shutdown() called again, already shutting down - ignoring",{fileName:"clay/Clay.hx",lineNumber:217,className:"clay.Clay",methodName:"shutdown"});else{if(this.hasShutdown)throw oe.thrown("Clay / calling shutdown() more than once is disallowed");this.shuttingDown=!0,this.io.shutdown(),this.audio.shutdown(),this.input.shutdown(),this.runtime.shutdown(this.immediateShutdown),Gt.debug("Clay / shutdown",{fileName:"clay/Clay.hx",lineNumber:233,className:"clay.Clay",methodName:"shutdown"}),this.hasShutdown=!0}},emitQuit:function(){this.shutdown()},shouldUpdate:function(e){if(0<this.config.updateRate){if(e<this.nextTick)return!1;for(;this.nextTick<=e;)this.nextTick+=this.config.updateRate}else this.nextTick=e;return!0},emitTick:function(e){var n;this.freeze||(Kt.tick(),Wt.flush(),this.updateScreen(),!this.shuttingDown&&this.ready&&(n=e-this.timestamp,this.timestamp=e,this.audio.tick(n),this.events.tick(n)))},emitRender:function(){this.freeze||!this.shuttingDown&&this.ready&&this.events.render()},emitWindowEvent:function(e,n,t,i,l){this.events.windowEvent(e,n,t,i,l)},emitAppEvent:function(e){this.events.appEvent(e)},windowInBackground:null,extractAppId:function(){var e='"logo-mesh"';z.startsWith(e,'"')?this.appId=JSON.parse(e):this.appId=e},defaultConfig:function(){var e=ui.defaultConfig();return new Nt(this.defaultWindowConfig(),this.defaultRenderConfig(),e,null)},defaultWindowConfig:function(){return new Ht(!1,!1,!0,!1,536805376,536805376,960,640,"clay app",!1,.06666666666666667)},defaultRenderConfig:function(){return new Vt(0,0,0,8,8,8,8,new jt(0,0,0,1),null,new Rt(1,null,null,null,null,null,null,null,null))},defaultRuntimeConfig:function(){return new oi(null,null,null,null,null,null,null)},copyWindowConfig:function(e){return new Ht(e.fullscreen,e.trueFullscreen,e.resizable,e.borderless,e.x,e.y,e.width,e.height,""+e.title,e.noInput,e.backgroundSleep)},copyRenderConfig:function(e){return new Vt(e.depth,e.stencil,e.antialiasing,e.redBits,e.greenBits,e.blueBits,e.alphaBits,new jt(e.defaultClear.r,e.defaultClear.g,e.defaultClear.b,e.defaultClear.a),null,new Rt(e.webgl.version,null,null,null,null,null,null,null,null))},updateScreen:function(){this.screenDensity=ee.app.runtime.windowDevicePixelRatio();var e=ee.app.runtime,e=(this.screenWidth=Math.round(Math.round(e.windowW*e.windowDevicePixelRatio())/this.screenDensity),ee.app.runtime);this.screenHeight=Math.round(Math.round(e.windowH*e.windowDevicePixelRatio())/this.screenDensity)},__class__:ee,__properties__:{set_freeze:"set_freeze",set_graphics:"set_graphics",get_graphics:"get_graphics"}},function(e,n,t,i,l,r,s,h,a,o){this.webgl=null,this.vsync=!0,this.defaultClear=new jt(0,0,0,1),this.alphaBits=8,this.blueBits=8,this.greenBits=8,this.redBits=8,this.antialiasing=0,this.stencil=0,this.depth=0,null!=e&&(this.depth=e),null!=n&&(this.stencil=n),null!=t&&(this.antialiasing=t),null!=i&&(this.redBits=i),null!=l&&(this.greenBits=l),null!=r&&(this.blueBits=r),null!=s&&(this.alphaBits=s),null!=h&&(this.defaultClear=h),null!=a&&(this.vsync=a),null!=o&&(this.webgl=o)}),Rt=((E["clay.RenderConfig"]=Vt).__name__="clay.RenderConfig",Vt.prototype={depth:null,stencil:null,antialiasing:null,redBits:null,greenBits:null,blueBits:null,alphaBits:null,defaultClear:null,vsync:null,webgl:null,__class__:Vt},function(e,n,t,i,l,r,s,h,a){this.failIfMajorPerformanceCaveat=!1,this.preferLowPowerToHighPerformance=!1,this.preserveDrawingBuffer=!1,this.premultipliedAlpha=!1,this.antialias=!0,this.stencil=!1,this.depth=!0,this.alpha=!1,this.version=1,null!=e&&(this.version=e),null!=n&&(this.alpha=n),null!=t&&(this.depth=t),null!=i&&(this.stencil=i),null!=l&&(this.antialias=l),null!=r&&(this.premultipliedAlpha=r),null!=s&&(this.preserveDrawingBuffer=s),null!=h&&(this.preferLowPowerToHighPerformance=h),null!=a&&(this.failIfMajorPerformanceCaveat=a)}),Ht=((E["clay.RenderConfigWebGL"]=Rt).__name__="clay.RenderConfigWebGL",Rt.prototype={version:null,alpha:null,depth:null,stencil:null,antialias:null,premultipliedAlpha:null,preserveDrawingBuffer:null,preferLowPowerToHighPerformance:null,failIfMajorPerformanceCaveat:null,__class__:Rt},function(e,n,t,i,l,r,s,h,a,o,c){this.backgroundSleep=.06666666666666667,this.noInput=!1,this.title=null,this.height=640,this.width=960,this.y=0,this.x=0,this.borderless=!1,this.resizable=!0,this.trueFullscreen=!1,this.fullscreen=!1,null!=e&&(this.fullscreen=e),null!=n&&(this.trueFullscreen=n),null!=t&&(this.resizable=t),null!=i&&(this.borderless=i),null!=l&&(this.x=l),null!=r&&(this.y=r),null!=s&&(this.width=s),null!=h&&(this.height=h),null!=a&&(this.title=a),null!=o&&(this.noInput=o),null!=c&&(this.backgroundSleep=c)}),Nt=((E["clay.WindowConfig"]=Ht).__name__="clay.WindowConfig",Ht.prototype={fullscreen:null,trueFullscreen:null,resizable:null,borderless:null,x:null,y:null,width:null,height:null,title:null,noInput:null,backgroundSleep:null,__class__:Ht},function(e,n,t,i){this.updateRate=0,this.runtime=null,this.render=null,(this.window=null)!=e&&(this.window=e),null!=n&&(this.render=n),null!=t&&(this.runtime=t),null!=i&&(this.updateRate=i)}),Wt=((E["clay.Config"]=Nt).__name__="clay.Config",Nt.prototype={window:null,render:null,runtime:null,updateRate:null,__class__:Nt},(E["clay.Extensions"]=zc).__name__="clay.Extensions",zc.unsafeGet=function(e,n){return e[n]},zc.unsafeSet=function(e,n,t){e[n]=t},(E["clay.Image"]=Ac).__name__="clay.Image",Ac.prototype={width:null,height:null,widthActual:null,heightActual:null,bitsPerPixel:null,sourceBitsPerPixel:null,pixels:null,premultiplyAlpha:function(){4==this.bitsPerPixel?Yt.premultiplyAlpha(this.pixels):Gt.warning("Can only premultiply alpha on images with 4 bits per pixels (RGBA)",{fileName:"clay/Image.hx",lineNumber:29,className:"clay.Image",methodName:"premultiplyAlpha"})},reversePremultiplyAlpha:function(){4==this.bitsPerPixel?Yt.reversePremultiplyAlpha(this.pixels):Gt.warning("Can only reverse premultiply alpha on images with 4 bits per pixels (RGBA)",{fileName:"clay/Image.hx",lineNumber:40,className:"clay.Image",methodName:"reversePremultiplyAlpha"})},__class__:Ac},function(){}),zt=((E["clay.Immediate"]=Wt).__name__="clay.Immediate",Wt.push=function(e){if(null==e)throw oe.thrown("Immediate callback should not be null!");Wt.immediateCallbacksLen<Wt.immediateCallbacksCapacity?(Wt.immediateCallbacks[Wt.immediateCallbacksLen]=e,Wt.immediateCallbacksLen++):(Wt.immediateCallbacks[Wt.immediateCallbacksLen++]=e,Wt.immediateCallbacksCapacity++)},Wt.flush=function(){for(var e=!1;0<Wt.immediateCallbacksLen;){for(var e=!0,n=C.pool(Wt.immediateCallbacksLen),t=n.get(),i=Wt.immediateCallbacksLen,l=Wt.immediateCallbacksLen=0,r=i;l<r;){var s=l++;t.vector[s]=Wt.immediateCallbacks[s],Wt.immediateCallbacks[s]=null}for(var h=0,a=i;h<a;){var o=h++;(0,t.vector[o])()}n.release(t)}return e},function(e){this.app=e,this.modState=new Xt,this.modState.none=!0}),b=((E["clay.Input"]=zt).__name__="clay.Input",zt.prototype={app:null,modState:null,init:function(){},shutdown:function(){},emitKeyDown:function(e,n,t,i,l,r){this.app.events.keyDown(e,n,t,i,l,r)},emitKeyUp:function(e,n,t,i,l,r){this.app.events.keyUp(e,n,t,i,l,r)},emitText:function(e,n,t,i,l,r){this.app.events.text(e,n,t,i,l,r)},emitMouseMove:function(e,n,t,i,l,r){this.app.events.mouseMove(e,n,t,i,l,r)},emitMouseDown:function(e,n,t,i,l){this.app.events.mouseDown(e,n,t,i,l)},emitMouseUp:function(e,n,t,i,l){this.app.events.mouseUp(e,n,t,i,l)},emitMouseWheel:function(e,n,t,i){this.app.events.mouseWheel(e,n,t,i)},emitTouchDown:function(e,n,t,i,l,r){this.app.events.touchDown(e,n,t,i,l,r)},emitTouchUp:function(e,n,t,i,l,r){this.app.events.touchUp(e,n,t,i,l,r)},emitTouchMove:function(e,n,t,i,l,r){this.app.events.touchMove(e,n,t,i,l,r)},emitGamepadAxis:function(e,n,t,i){this.app.events.gamepadAxis(e,n,t,i)},emitGamepadDown:function(e,n,t,i){this.app.events.gamepadDown(e,n,t,i)},emitGamepadUp:function(e,n,t,i){this.app.events.gamepadUp(e,n,t,i)},emitGamepadGyro:function(e,n,t,i,l){this.app.events.gamepadGyro(e,n,t,i,l)},emitGamepadDevice:function(e,n,t,i){this.app.events.gamepadDevice(e,n,t,i)},__class__:zt},{}),Gt=(b.$name=function(e){if(0!=(e&g.MASK))return g.$name(e&~g.MASK);switch(e){case 8:return g.$name(42);case 9:return g.$name(43);case 13:return g.$name(40);case 27:return g.$name(41);case 32:return g.$name(44);case 97:return g.$name(4);case 98:return g.$name(5);case 99:return g.$name(6);case 100:return g.$name(7);case 101:return g.$name(8);case 102:return g.$name(9);case 103:return g.$name(10);case 104:return g.$name(11);case 105:return g.$name(12);case 106:return g.$name(13);case 107:return g.$name(14);case 108:return g.$name(15);case 109:return g.$name(16);case 110:return g.$name(17);case 111:return g.$name(18);case 112:return g.$name(19);case 113:return g.$name(20);case 114:return g.$name(21);case 115:return g.$name(22);case 116:return g.$name(23);case 117:return g.$name(24);case 118:return g.$name(25);case 119:return g.$name(26);case 120:return g.$name(27);case 121:return g.$name(28);case 122:return g.$name(29);case 127:return g.$name(76);default:return String.fromCodePoint(e)}},b.toScanCode=function(e){if(0!=(e&g.MASK))return e&~g.MASK;switch(e){case 8:return 42;case 9:return 43;case 13:return 40;case 27:return 41;case 32:return 44;case 47:return 56;case 48:return 39;case 49:return 30;case 50:return 31;case 51:return 32;case 52:return 33;case 53:return 34;case 54:return 35;case 55:return 36;case 56:return 37;case 57:return 38;case 59:return 51;case 61:return 46;case 91:return 47;case 92:return 49;case 93:return 48;case 96:return 53;case 97:return 4;case 98:return 5;case 99:return 6;case 100:return 7;case 101:return 8;case 102:return 9;case 103:return 10;case 104:return 11;case 105:return 12;case 106:return 13;case 107:return 14;case 108:return 15;case 109:return 16;case 110:return 17;case 111:return 18;case 112:return 19;case 113:return 20;case 114:return 21;case 115:return 22;case 116:return 23;case 117:return 24;case 118:return 25;case 119:return 26;case 120:return 27;case 121:return 28;case 122:return 29}return 0},b.toString=function(e){return"KeyCode("+e+" "+b.$name(e)+")"},function(){}),Yt=((E["clay.Log"]=Gt).__name__="clay.Log",Gt.debug=function(e,n){},Gt.info=function(e,n){Gi.trace("[info] "+e,n)},Gt.warning=function(e,n){Gi.trace("[warning] "+e,n)},Gt.error=function(e,n){Gi.trace("[error] "+e,n)},Gt.success=function(e,n){Gi.trace("[success] "+e,n)},(E["clay.Macros"]=Fc).__name__="clay.Macros",function(){}),Kt=((E["clay.PremultiplyAlpha"]=Yt).__name__="clay.PremultiplyAlpha",Yt.premultiplyAlpha=function(e){for(var n=e.length,t=0;t<n;){var i=e[t],l=e[t+1],r=e[t+2],s=e[t+3]/255;e[t]=i*s|0,e[t+1]=l*s|0,e[t+2]=r*s|0,t+=4}},Yt.reversePremultiplyAlpha=function(e){for(var n=e.length,t=0;t<n;){var i=e[t],l=e[t+1],r=e[t+2],s=e[t+3]/255;0<s&&(e[t]=i/s|0,e[t+1]=l/s|0,e[t+2]=r/s|0),t+=4}},function(){}),g=((E["clay.Runner"]=Kt).__name__="clay.Runner",Kt.currentIsMainThread=function(){return!0},Kt.init=function(){},Kt.tick=function(){},Kt.isEmulatingBackgroundWithMain=function(){return!0},Kt.runInMain=function(e){Wt.push(e)},Kt.runInBackground=function(e){Wt.push(e)},{}),Xt=(g.$name=function(e){var n=null;return null!=(n=0<=e&&e<g.scanCodeNames.length?g.scanCodeNames[e]:n)?n:""},g.toString=function(e){return"ScanCode("+e+" "+g.$name(e)+")"},function(){this.meta=!1,this.alt=!1,this.shift=!1,this.ctrl=!1,this.mode=!1,this.caps=!1,this.num=!1,this.rmeta=!1,this.lmeta=!1,this.ralt=!1,this.lalt=!1,this.rctrl=!1,this.lctrl=!1,this.rshift=!1,this.lshift=!1,this.none=!1}),$t=((E["clay.ModState"]=Xt).__name__="clay.ModState",Xt.prototype={none:null,lshift:null,rshift:null,lctrl:null,rctrl:null,lalt:null,ralt:null,lmeta:null,rmeta:null,num:null,caps:null,mode:null,ctrl:null,shift:null,alt:null,meta:null,toString:function(){var e='{ "ModState":true ';return this.none?e+', "none":true }':(this.lshift&&(e+=', "lshift":true'),this.rshift&&(e+=', "rshift":true'),this.lctrl&&(e+=', "lctrl":true'),this.rctrl&&(e+=', "rctrl":true'),this.lalt&&(e+=', "lalt":true'),this.ralt&&(e+=', "ralt":true'),this.lmeta&&(e+=', "lmeta":true'),this.rmeta&&(e+=', "rmeta":true'),this.num&&(e+=', "num":true'),this.caps&&(e+=', "caps":true'),this.mode&&(e+=', "mode":true'),this.ctrl&&(e+=', "ctrl":true'),this.shift&&(e+=', "shift":true'),this.alt&&(e+=', "alt":true'),this.meta&&(e+=', "meta":true'),e+"}")},__class__:Xt},(E["clay.Utils"]=Oc).__name__="clay.Utils",Oc.uniqueId=function(){switch(Oc._nextUniqueIntCursor){case 0:Oc._nextUniqueInt0=(Oc._nextUniqueInt0+1)%2147483647;break;case 1:Oc._nextUniqueInt1=(Oc._nextUniqueInt1+1)%2147483647;break;case 2:Oc._nextUniqueInt2=(Oc._nextUniqueInt2+1)%2147483647;break;case 3:Oc._nextUniqueInt3=(Oc._nextUniqueInt3+1)%2147483647}Oc._nextUniqueIntCursor=(Oc._nextUniqueIntCursor+1)%4;var e,n=Oc._nextUniqueInt0,t=(n=null==n?2147483646*Math.random()|0:n)%62|0,i=n/62|0;e=0<i?(c=(n=null==(n=i)?2147483646*Math.random()|0:n)%62|0,(l=0<(i=n/62|0)?(r=Oc.base62Id(i))+(s=9<c?(90<(_=c-10+65)&&(_+=6),String.fromCodePoint(_)):X.string(c).charAt(0)):(r=9<c?(90<(_=c-10+65)&&(_+=6),String.fromCodePoint(_)):X.string(c).charAt(0),X.string(r)))+(r=9<t?(90<(_=t-10+65)&&(_+=6),String.fromCodePoint(_)):X.string(t).charAt(0))):(l=9<t?(90<(_=t-10+65)&&(_+=6),String.fromCodePoint(_)):X.string(t).charAt(0),X.string(l));var l,t=(n=null==(n=null)?2147483646*Math.random()|0:n)%62|0;l=0<(i=n/62|0)?(c=(n=null==(n=i)?2147483646*Math.random()|0:n)%62|0,(r=0<(i=n/62|0)?(s=Oc.base62Id(i))+(h=9<c?(90<(_=c-10+65)&&(_+=6),String.fromCodePoint(_)):X.string(c).charAt(0)):(s=9<c?(90<(_=c-10+65)&&(_+=6),String.fromCodePoint(_)):X.string(c).charAt(0),X.string(s)))+(s=9<t?(90<(_=t-10+65)&&(_+=6),String.fromCodePoint(_)):X.string(t).charAt(0))):(r=9<t?(90<(_=t-10+65)&&(_+=6),String.fromCodePoint(_)):X.string(t).charAt(0),X.string(r));var r,t=(n=null==(n=Oc._nextUniqueInt1)?2147483646*Math.random()|0:n)%62|0;r=0<(i=n/62|0)?(c=(n=null==(n=i)?2147483646*Math.random()|0:n)%62|0,(s=0<(i=n/62|0)?(h=Oc.base62Id(i))+(a=9<c?(90<(_=c-10+65)&&(_+=6),String.fromCodePoint(_)):X.string(c).charAt(0)):(h=9<c?(90<(_=c-10+65)&&(_+=6),String.fromCodePoint(_)):X.string(c).charAt(0),X.string(h)))+(h=9<t?(90<(_=t-10+65)&&(_+=6),String.fromCodePoint(_)):X.string(t).charAt(0))):(s=9<t?(90<(_=t-10+65)&&(_+=6),String.fromCodePoint(_)):X.string(t).charAt(0),X.string(s));var s,t=(n=null==(n=null)?2147483646*Math.random()|0:n)%62|0;s=0<(i=n/62|0)?(c=(n=null==(n=i)?2147483646*Math.random()|0:n)%62|0,(h=0<(i=n/62|0)?(a=Oc.base62Id(i))+(o=9<c?(90<(_=c-10+65)&&(_+=6),String.fromCodePoint(_)):X.string(c).charAt(0)):(a=9<c?(90<(_=c-10+65)&&(_+=6),String.fromCodePoint(_)):X.string(c).charAt(0),X.string(a)))+(a=9<t?(90<(_=t-10+65)&&(_+=6),String.fromCodePoint(_)):X.string(t).charAt(0))):(h=9<t?(90<(_=t-10+65)&&(_+=6),String.fromCodePoint(_)):X.string(t).charAt(0),X.string(h));var h,t=(n=null==(n=Oc._nextUniqueInt2)?2147483646*Math.random()|0:n)%62|0;h=0<(i=n/62|0)?(c=(n=null==(n=i)?2147483646*Math.random()|0:n)%62|0,(a=0<(i=n/62|0)?(o=Oc.base62Id(i))+(d=9<c?(90<(_=c-10+65)&&(_+=6),String.fromCodePoint(_)):X.string(c).charAt(0)):(o=9<c?(90<(_=c-10+65)&&(_+=6),String.fromCodePoint(_)):X.string(c).charAt(0),X.string(o)))+(o=9<t?(90<(_=t-10+65)&&(_+=6),String.fromCodePoint(_)):X.string(t).charAt(0))):(a=9<t?(90<(_=t-10+65)&&(_+=6),String.fromCodePoint(_)):X.string(t).charAt(0),X.string(a));var a,t=(n=null==(n=null)?2147483646*Math.random()|0:n)%62|0;a=0<(i=n/62|0)?(c=(n=null==(n=i)?2147483646*Math.random()|0:n)%62|0,(o=0<(i=n/62|0)?(d=Oc.base62Id(i))+(u=9<c?(90<(_=c-10+65)&&(_+=6),String.fromCodePoint(_)):X.string(c).charAt(0)):(d=9<c?(90<(_=c-10+65)&&(_+=6),String.fromCodePoint(_)):X.string(c).charAt(0),X.string(d)))+(d=9<t?(90<(_=t-10+65)&&(_+=6),String.fromCodePoint(_)):X.string(t).charAt(0))):(o=9<t?(90<(_=t-10+65)&&(_+=6),String.fromCodePoint(_)):X.string(t).charAt(0),X.string(o));var o,c,u,_,d,t=(n=null==(n=Oc._nextUniqueInt3)?2147483646*Math.random()|0:n)%62|0;return d=e+"-"+l+"-"+r+"-"+s+"-"+h+"-"+a+"-"+(o=0<(i=n/62|0)?(c=(n=null==(n=i)?2147483646*Math.random()|0:n)%62|0,(d=0<(i=n/62|0)?(u=Oc.base62Id(i))+(9<c?(90<(_=c-10+65)&&(_+=6),String.fromCodePoint(_)):X.string(c).charAt(0)):(u=9<c?(90<(_=c-10+65)&&(_+=6),String.fromCodePoint(_)):X.string(c).charAt(0),X.string(u)))+(u=9<t?(90<(_=t-10+65)&&(_+=6),String.fromCodePoint(_)):X.string(t).charAt(0))):(d=9<t?(90<(_=t-10+65)&&(_+=6),String.fromCodePoint(_)):X.string(t).charAt(0),X.string(d)))},Oc.base62Id=function(e){var n,t,i=(e=null==e?2147483646*Math.random()|0:e)%62|0,e=e/62|0;return 0<e?(n=Oc.base62Id(e))+(9<i?(90<(t=i-10+65)&&(t+=6),String.fromCodePoint(t)):(null==i?"null":""+i).charAt(0)):(n=9<i?(90<(t=i-10+65)&&(t+=6),String.fromCodePoint(t)):(null==i?"null":""+i).charAt(0),X.string(n))},(E["clay.audio.AudioDataOptions"]=Pc).__name__="clay.audio.AudioDataOptions",Pc.prototype={id:null,rate:null,length:null,duration:null,channels:null,bitsPerSample:null,format:null,isStream:null,__class__:Pc},(E["clay.audio.AudioData"]=Qc).__name__="clay.audio.AudioData",Qc.prototype={app:null,id:null,rate:null,length:null,duration:null,channels:null,bitsPerSample:null,format:null,isStream:null,destroyed:null,destroy:function(){this.destroyed||(Gt.debug("Audio / destroy AudioData `"+this.id+"`",{fileName:"clay/audio/AudioData.hx",lineNumber:95,className:"clay.audio.AudioData",methodName:"destroy"}),this.destroyed=!0,this.id=null)},seek:function(e){return!1},portion:function(e,n,t,i){return i},toString:function(){var e,n='{ "AudioData":true, "id":'+this.id+', "rate":'+this.rate+', "length":'+this.length+', "channels":'+this.channels+', "format":"';if(null==this.format)e="null";else{var t=this.format;if(null==t)e=""+t;else switch(t){case 0:e="UNKNOWN";break;case 1:e="CUSTOM";break;case 2:e="OGG";break;case 3:e="WAV";break;case 4:e="PCM";break;case 5:e="MP3";break;case 6:e="FLAC";break;default:e=""+t}}return n+e+'", "isStream":'+X.string(this.isStream)+" }"},__class__:Qc},(E["clay.audio.AudioInstance"]=Tc).__name__="clay.audio.AudioInstance",Tc.prototype={source:null,handle:null,destroyed:null,hasEnded:function(){if(this.destroyed)throw oe.thrown("Audio / Instance hasEnded queried after being destroyed");return 2==this.source.app.audio.stateOf(this.handle)},destroy:function(){if(this.destroyed)throw oe.thrown("Audio / Instance being destroyed more than once");this.source.app.audio.handleInstanceDestroyed(this.handle),this.source.instanceKilled(this),this.destroyed=!0,this.source=null,this.handle=-1},dataGet:function(e,n,t,i){if(this.destroyed)throw oe.thrown("Audio / Instance dataGet queried after being destroyed");return this.source.data.portion(e,n,t,i)},dataSeek:function(e){if(this.destroyed)throw oe.thrown("Audio / Instance dataSeek queried after being destroyed");return this.source.data.seek(e)},__class__:Tc},function(e,n){this.destroyed=!1,this.streamBufferCount=2,this.streamBufferLength=176400,this.app=e,this.data=n,this.sourceId=Oc.uniqueId(),Gt.debug("AudioSource / `"+this.sourceId+"` / "+this.data.id,{fileName:"clay/audio/AudioSource.hx",lineNumber:34,className:"clay.audio.AudioSource",methodName:"new"}),this.instances=[],n.duration<=0&&(n.duration=this.bytesToSeconds(n.length))}),jt=((E["clay.audio.AudioSource"]=$t).__name__="clay.audio.AudioSource",$t.prototype={app:null,data:null,streamBufferLength:null,streamBufferCount:null,destroyed:null,sourceId:null,instances:null,instance:function(e){e=new Tc(this,e);return-1==this.instances.indexOf(e)&&this.instances.push(e),e},bytesToSeconds:function(e){var n=16==this.data.bitsPerSample?2:1;return e/(this.data.rate*this.data.channels*n)},secondsToBytes:function(e){var n=16==this.data.bitsPerSample?2:1;return e*(this.data.rate*this.data.channels*n)|0},getDuration:function(){return this.data.duration},destroy:function(){if(this.destroyed)Gt.debug("AudioSource / destroying already destroyed source!",{fileName:"clay/audio/AudioSource.hx",lineNumber:85,className:"clay.audio.AudioSource",methodName:"destroy"});else{this.destroyed=!0;var e=this.instances.length,n=0;for(Gt.debug("AudioSource / destroy / "+this.sourceId+" / "+this.data.id+", stream="+X.string(this.data.isStream)+", instances="+e,{fileName:"clay/audio/AudioSource.hx",lineNumber:94,className:"clay.audio.AudioSource",methodName:"destroy"});n<e;)this.instances.pop().destroy(),++n;this.app.audio.handleSourceDestroyed(this),this.data.destroy(),this.data=null,this.instances=null,this.app=null}},instanceKilled:function(e){se.remove(this.instances,e)},__class__:$t},(E["clay.base.BaseAssets"]=Wc).__name__="clay.base.BaseAssets",Wc.prototype={app:null,isSynchronous:function(){return!1},fullPath:function(e){return Rn.isAbsolute(e)?e:Rn.join([this.app.io.appPath(),e])},loadImage:function(e,n,t,i){return null==t&&(t=!1),null==n&&(n=4),null!=i&&Wt.push(function(){i(null)}),null},__class__:Wc},(E["clay.base.BaseAudio"]=Xc).__name__="clay.base.BaseAudio",Xc.prototype={app:null,isSynchronous:function(){return!1},init:function(){},ready:function(){},tick:function(e){},shutdown:function(){},loadData:function(e,n,t,i,l){return null==i&&(i=!1),null!=l&&Wt.push(function(){l(null)}),null},emitAudioEvent:function(e,n){this.app.events.audioEvent(e,n)},__class__:Xc},(E["clay.base.BaseIO"]=Yc).__name__="clay.base.BaseIO",Yc.prototype={app:null,init:function(){},shutdown:function(){},isSynchronous:function(){return!1},appPath:function(){return null},appPathPrefs:function(){return null},loadData:function(e,n,t,i){return null==t&&(t=!1),null==n&&(n=!1),null!=i&&Wt.push(function(){i(null)}),null},__class__:Yc},(E["clay.base.BaseRuntime"]=Zc).__name__="clay.base.BaseRuntime",Zc.prototype={app:null,name:null,init:function(){},shutdown:function(e){},ready:function(){},run:function(){return!0},windowDevicePixelRatio:function(){return 1},windowWidth:function(){return 0},windowHeight:function(){return 0},__class__:Zc},function(e,n,t,i){this.a=1,this.b=0,this.g=0,this.r=0,null!=e&&(this.r=e),null!=n&&(this.g=n),null!=t&&(this.b=t),null!=i&&(this.a=i)}),Qt=((E["clay.graphics.Color"]=jt).__name__="clay.graphics.Color",jt.prototype={r:null,g:null,b:null,a:null,__class__:jt},function(){this.wrapT=33071,this.wrapS=33071,this.filterMag=9729,this.filterMin=9729,this.pixels=null,this.heightActual=-1,this.widthActual=-1,this.height=-1,this.width=-1,this.dataType=5121,this.type=3553,this.format=6408,this.compressed=!1,da.call(this),this.index=Qt._nextIndex++,this.textureId=null}),qt=((E["clay.graphics.Texture"]=Qt).__name__="clay.graphics.Texture",Qt.fromImage=function(e,n){null==n&&(n=!1);var t=new Qt;if(t.premultiplyAlpha=n,4!=e.bitsPerPixel)throw oe.thrown("Image must have 4 bits per pixels (RGBA format)");return t.width=e.width,t.height=e.height,t.widthActual=e.widthActual,t.heightActual=e.heightActual,t.pixels=e.pixels,t},Qt.__super__=da,Qt.prototype=$extend(da.prototype,{index:null,textureId:null,premultiplyAlpha:null,compressed:null,format:null,type:null,dataType:null,width:null,height:null,widthActual:null,heightActual:null,pixels:null,filterMin:null,set_filterMin:function(e){return null!=this.textureId&&(this.bind(),ee._graphics,ne.gl.texParameteri(3553,10241,e)),this.filterMin=e},filterMag:null,set_filterMag:function(e){return null!=this.textureId&&(this.bind(),ee._graphics,ne.gl.texParameteri(3553,10240,e)),this.filterMag=e},wrapS:null,set_wrapS:function(e){return null!=this.textureId&&(this.bind(),ee._graphics,ne.gl.texParameteri(3553,10242,e)),this.wrapS=e},wrapT:null,set_wrapT:function(e){return null!=this.textureId&&(this.bind(),ee._graphics,ne.gl.texParameteri(3553,10243,e)),this.wrapT=e},init:function(){ee._graphics,this.textureId=ne.gl.createTexture(),0<this.width&&this.widthActual<=0&&(this.widthActual=this.width),0<this.height&&this.heightActual<=0&&(this.heightActual=this.height),this.bind(),ee._graphics,ne.gl.texParameteri(3553,10241,this.filterMin),ee._graphics,ne.gl.texParameteri(3553,10240,this.filterMag),ee._graphics,ne.gl.texParameteri(3553,10243,this.wrapT),ee._graphics;if(ne.gl.texParameteri(3553,10242,this.wrapS),null!=this.pixels){if(this.width<=0||this.height<=0)throw oe.thrown("Provided texture pixels with invalid size (width="+this.width+" height="+this.height+")");this.submit(this.pixels)}},destroy:function(){if(null!=this.textureId){for(var e=ee._graphics,n=this.textureId,t=(ne.gl.deleteTexture(n),0),i=e._boundTexture2D.length;t<i;){var l=t++;e._boundTexture2D[l]==n&&(e._boundTexture2D[l]=null)}this.textureId=null}},bind:function(e){var n;if(-1!=(e=null==e?0:e)&&(n=ee._graphics)._activeTextureSlot!=e){for(n._activeTextureSlot=e;n._boundTexture2D.length<=n._activeTextureSlot;)n._boundTexture2D.push(null);ne.gl.activeTexture(33984+e)}3553==this.type&&(n=ee._graphics,e=this.textureId,n._boundTexture2D[n._activeTextureSlot]!=e)&&(n._boundTexture2D[n._activeTextureSlot]=e,ne.gl.bindTexture(3553,e))},submit:function(e){ee._graphics;var n,t,i,l=ne.gl.getParameter(3379),l=l=l<=0?4096:l;if(null==(e=null==e?this.pixels:e))throw oe.thrown("Cannot submit texture pixels: pixels is null");if(this.widthActual>l)throw oe.thrown("Texture actual width bigger than maximum hardware size (width="+this.widthActual+" max="+l+")");if(this.heightActual>l)throw oe.thrown("Texture actual height bigger than maximum hardware size (height="+this.heightActual+" max="+l+")");this.bind(),3553==this.type&&(this.compressed?(ee._graphics,n=this.format,t=this.widthActual,i=this.heightActual,ne.gl.pixelStorei(37441,this.premultiplyAlpha?1:0),ne.gl.compressedTexImage2D(3553,0,n,t,i,0,e)):(ee._graphics,n=this.format,t=this.widthActual,i=this.heightActual,l=this.dataType,ne.gl.pixelStorei(37441,this.premultiplyAlpha?1:0),ne.gl.texImage2D(3553,0,n,t,i,0,n,l,e)))},fetch:function(e,n,t,i,l){return null==t&&(t=0),null==n&&(n=0),(i=null==i?-1:i)<=0&&(i=this.width),(l=null==l?-1:l)<=0&&(l=this.height),this.bind(),3553==this.type&&ee._graphics.fetchTexture2dPixels(e,n,t,i,l),e},__class__:Qt,__properties__:{set_wrapT:"set_wrapT",set_wrapS:"set_wrapS",set_filterMag:"set_filterMag",set_filterMin:"set_filterMin"}}),function(){this.antialiasing=0,this.stencil=!1,this.depth=!1,Qt.call(this)}),Zt=((E["clay.graphics.RenderTexture"]=qt).__name__="clay.graphics.RenderTexture",qt.__super__=Qt,qt.prototype=$extend(Qt.prototype,{renderTarget:null,depth:null,stencil:null,antialiasing:null,init:function(){Qt.prototype.init.call(this);ee._graphics;var e=ne.gl.getParameter(3379),e=e=e<=0?4096:e;if(this.widthActual>e)throw oe.thrown("RenderTexture actual width bigger than maximum hardware size (width="+this.widthActual+" max="+e+")");if(this.heightActual>e)throw oe.thrown("RenderTexture actual height bigger than maximum hardware size (height="+this.heightActual+" max="+e+")");this.bind(),this.renderTarget=ee._graphics.createRenderTarget(this.textureId,this.width,this.height,this.depth,this.stencil,this.antialiasing,0,this.format,this.dataType)},destroy:function(){Qt.prototype.destroy.call(this),null!=this.renderTarget&&(ee._graphics.deleteRenderTarget(this.renderTarget),this.renderTarget=null)},__class__:qt}),(E["clay.graphics.TextureAndSlot"]=f2).__name__="clay.graphics.TextureAndSlot",f2.prototype={texture:null,slot:null,__class__:f2},function(e){this.dirtyTextures=[],this.dirtyMatrix4s=[],this.dirtyMatrix3s=[],this.dirtyMatrix2s=[],this.dirtyVector4s=[],this.dirtyVector3s=[],this.dirtyVector2s=[],this.dirtyFloatArrays=[],this.dirtyFloats=[],this.dirtyIntArrays=[],this.dirtyInts=[],this.textures=new ue,this.matrix4s=new ue,this.matrix3s=new ue,this.matrix2s=new ue,this.vector4s=new ue,this.vector3s=new ue,this.vector2s=new ue,this.floatArrays=new ue,this.floats=new ue,this.intArrays=new ue,this.ints=new ue,this.gpuShader=e}),Jt=((E["clay.graphics.Uniforms"]=Zt).__name__="clay.graphics.Uniforms",Zt.prototype={ints:null,intArrays:null,floats:null,floatArrays:null,vector2s:null,vector3s:null,vector4s:null,matrix2s:null,matrix3s:null,matrix4s:null,textures:null,dirtyInts:null,dirtyIntArrays:null,dirtyFloats:null,dirtyFloatArrays:null,dirtyVector2s:null,dirtyVector3s:null,dirtyVector4s:null,dirtyMatrix2s:null,dirtyMatrix3s:null,dirtyMatrix4s:null,dirtyTextures:null,gpuShader:null,setInt:function(e,n){ee._graphics;var t=this.gpuShader;ne.gl.getUniformLocation(t.program,e);this.ints.h[e]=n,this.dirtyInts.push(e)},setIntArray:function(e,n){ee._graphics;var t=this.gpuShader;ne.gl.getUniformLocation(t.program,e);this.intArrays.h[e]=n,this.dirtyIntArrays.push(e)},setFloat:function(e,n){ee._graphics;var t=this.gpuShader;ne.gl.getUniformLocation(t.program,e);this.floats.h[e]=n,this.dirtyFloats.push(e)},setFloatArray:function(e,n){ee._graphics;var t=this.gpuShader;ne.gl.getUniformLocation(t.program,e);this.floatArrays.h[e]=n,this.dirtyFloatArrays.push(e)},setVector2:function(e,n,t){ee._graphics;var i=this.gpuShader,i=(ne.gl.getUniformLocation(i.program,e),this.vector2s.h[e]);null!=i?(i.x=n,i.y=t):(i=this.vector2s,n=new Jt(n,t),i.h[e]=n),this.dirtyVector2s.push(e)},setVector3:function(e,n,t,i){ee._graphics;var l=this.gpuShader,l=(ne.gl.getUniformLocation(l.program,e),this.vector3s.h[e]);null!=l?(l.x=n,l.y=t,l.z=i):(l=this.vector3s,n=new ei(n,t,i),l.h[e]=n),this.dirtyVector3s.push(e)},setVector4:function(e,n,t,i,l){ee._graphics;var r=this.gpuShader,r=(ne.gl.getUniformLocation(r.program,e),this.vector4s.h[e]);null!=r?(r.x=n,r.y=t,r.z=i,r.w=l):(r=this.vector4s,n=new ni(n,t,i,l),r.h[e]=n),this.dirtyVector4s.push(e)},setMatrix2:function(e,n){ee._graphics;var t=this.gpuShader,t=(ne.gl.getUniformLocation(t.program,e),this.matrix2s.h[e]);null==t&&(t=new Float32Array(4),this.matrix2s.h[e]=t),t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],this.dirtyMatrix2s.push(e)},setMatrix3:function(e,n){ee._graphics;var t=this.gpuShader,t=(ne.gl.getUniformLocation(t.program,e),this.matrix3s.h[e]);null==t&&(t=new Float32Array(9),this.matrix3s.h[e]=t),t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],this.dirtyMatrix3s.push(e)},setMatrix4:function(e,n){ee._graphics;var t=this.gpuShader,t=(ne.gl.getUniformLocation(t.program,e),this.matrix4s.h[e]);null==t&&(t=new Float32Array(16),this.matrix4s.h[e]=t),t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],this.dirtyMatrix4s.push(e)},setTexture:function(e,n,t){ee._graphics;var i=this.gpuShader,i=(ne.gl.getUniformLocation(i.program,e),this.textures.h[e]);null!=i?(i.texture=t,i.slot=n):(i=this.textures,t=new f2(t,n),i.h[e]=t),-1==this.dirtyTextures.indexOf(e)&&this.dirtyTextures.push(e)},apply:function(){var e=ee._graphics,n=this.gpuShader;for(e._boundProgram!=n.program&&(e._boundProgram=n.program,ne.gl.useProgram(n.program));0<this.dirtyInts.length;){var t=this.dirtyInts.pop(),e=ee._graphics,n=this.gpuShader,i=ne.gl.getUniformLocation(n.program,t),l=ee._graphics,r=this.ints.h[t],s=this.gpuShader;l._boundProgram!=s.program&&(l._boundProgram=s.program,ne.gl.useProgram(s.program)),ne.gl.uniform1i(i,r)}for(;0<this.dirtyIntArrays.length;){t=this.dirtyIntArrays.pop(),e=ee._graphics,n=this.gpuShader,i=ne.gl.getUniformLocation(n.program,t),l=ee._graphics,r=this.intArrays.h[t],s=this.gpuShader;l._boundProgram!=s.program&&(l._boundProgram=s.program,ne.gl.useProgram(s.program)),ne.gl.uniform1iv(i,r)}for(;0<this.dirtyFloats.length;){t=this.dirtyFloats.pop(),e=ee._graphics,n=this.gpuShader,i=ne.gl.getUniformLocation(n.program,t),l=ee._graphics,r=this.floats.h[t],s=this.gpuShader;l._boundProgram!=s.program&&(l._boundProgram=s.program,ne.gl.useProgram(s.program)),ne.gl.uniform1f(i,r)}for(;0<this.dirtyFloatArrays.length;){t=this.dirtyFloatArrays.pop(),e=ee._graphics,n=this.gpuShader,i=ne.gl.getUniformLocation(n.program,t),l=ee._graphics,r=this.floatArrays.h[t],s=this.gpuShader;l._boundProgram!=s.program&&(l._boundProgram=s.program,ne.gl.useProgram(s.program)),ne.gl.uniform1fv(i,r)}for(;0<this.dirtyVector2s.length;){var t=this.dirtyVector2s.pop(),e=ee._graphics,n=this.gpuShader,i=ne.gl.getUniformLocation(n.program,t),r=this.vector2s.h[t],l=ee._graphics,h=r.x,a=r.y,s=this.gpuShader;l._boundProgram!=s.program&&(l._boundProgram=s.program,ne.gl.useProgram(s.program)),ne.gl.uniform2f(i,h,a)}for(;0<this.dirtyVector3s.length;){var t=this.dirtyVector3s.pop(),e=ee._graphics,n=this.gpuShader,i=ne.gl.getUniformLocation(n.program,t),r=this.vector3s.h[t],l=ee._graphics,h=r.x,a=r.y,o=r.z,s=this.gpuShader;l._boundProgram!=s.program&&(l._boundProgram=s.program,ne.gl.useProgram(s.program)),ne.gl.uniform3f(i,h,a,o)}for(;0<this.dirtyVector4s.length;){var t=this.dirtyVector4s.pop(),e=ee._graphics,n=this.gpuShader,i=ne.gl.getUniformLocation(n.program,t),r=this.vector4s.h[t],l=ee._graphics,h=r.x,a=r.y,o=r.z,c=r.w,s=this.gpuShader;l._boundProgram!=s.program&&(l._boundProgram=s.program,ne.gl.useProgram(s.program)),ne.gl.uniform4f(i,h,a,o,c)}for(;0<this.dirtyMatrix2s.length;){t=this.dirtyMatrix2s.pop(),e=ee._graphics,n=this.gpuShader,i=ne.gl.getUniformLocation(n.program,t),l=ee._graphics,r=this.matrix2s.h[t],s=this.gpuShader;l._boundProgram!=s.program&&(l._boundProgram=s.program,ne.gl.useProgram(s.program)),ne.gl.uniformMatrix2fv(i,!1,r)}for(;0<this.dirtyMatrix3s.length;){t=this.dirtyMatrix3s.pop(),e=ee._graphics,n=this.gpuShader,i=ne.gl.getUniformLocation(n.program,t),l=ee._graphics,r=this.matrix3s.h[t],s=this.gpuShader;l._boundProgram!=s.program&&(l._boundProgram=s.program,ne.gl.useProgram(s.program)),ne.gl.uniformMatrix3fv(i,!1,r)}for(;0<this.dirtyMatrix4s.length;){t=this.dirtyMatrix4s.pop(),e=ee._graphics,n=this.gpuShader,i=ne.gl.getUniformLocation(n.program,t),l=ee._graphics,r=this.matrix4s.h[t],s=this.gpuShader;l._boundProgram!=s.program&&(l._boundProgram=s.program,ne.gl.useProgram(s.program)),ne.gl.uniformMatrix4fv(i,!1,r)}for(var u=0,_=this.dirtyTextures.length;u<_;){var d=u++,t=this.dirtyTextures[d],e=ee._graphics,n=this.gpuShader,i=ne.gl.getUniformLocation(n.program,t);3553==(r=this.textures.h[t]).texture.type&&ee._graphics.setTexture2dUniform(this.gpuShader,i,r.slot,r.texture.textureId)}},clone:function(){return new Zt(this.gpuShader)},__class__:Zt},function(e,n){this.y=0,this.x=0,null!=e&&(this.x=e),null!=n&&(this.y=n)}),ei=((E["clay.graphics.Vector2"]=Jt).__name__="clay.graphics.Vector2",Jt.prototype={x:null,y:null,__class__:Jt},function(e,n,t){this.z=0,this.y=0,this.x=0,null!=e&&(this.x=e),null!=n&&(this.y=n),null!=t&&(this.z=t)}),ni=((E["clay.graphics.Vector3"]=ei).__name__="clay.graphics.Vector3",ei.prototype={x:null,y:null,z:null,__class__:ei},function(e,n,t,i){this.w=0,this.z=0,this.y=0,this.x=0,null!=e&&(this.x=e),null!=n&&(this.y=n),null!=t&&(this.z=t),null!=i&&(this.w=i)}),ti=((E["clay.graphics.Vector4"]=ni).__name__="clay.graphics.Vector4",ni.prototype={x:null,y:null,z:null,w:null,__class__:ni},(E["clay.spec.GraphicsBatcher"]=k2).__name__="clay.spec.GraphicsBatcher",k2.__isInterface__=!0,k2.prototype={initBuffers:null,beginRender:null,endRender:null,setVertexLayout:null,setCustomAttributes:null,putVertex:null,putVertexWithTextureSlot:null,putUVs:null,putColor:null,putIndex:null,putFloatAttribute:null,endFloatAttributes:null,getNumVertices:null,shouldFlush:null,remainingVertices:null,remainingIndices:null,hasAnythingToFlush:null,flush:null,clear:null,setViewport:null,setPrimitiveType:null,enableBlending:null,disableBlending:null,setBlendFuncSeparate:null,setActiveTexture:null,bindTexture:null,bindNoTexture:null,shouldFlipRenderTargetY:null,setRenderTarget:null,blitRenderTargetBuffers:null,useShader:null,setProjectionMatrix:null,setModelViewMatrix:null,beginStencilWrite:null,endStencilWrite:null,enableStencilTest:null,disableStencilTest:null,enableScissor:null,disableScissor:null,__class__:k2},function(){this._primitiveType=4,this._colorIndex=0,this._numColors=0,this._uvIndex=0,this._numUVs=0,this._currentShader=null,this._floatAttributesSize=0,this._posIndex=0,this._numPos=0,this._numIndices=0,this._vertexSize=0,this._maxVerts=0,this._customAttributes=null,this._customGLBuffers=[],this._posSize=0,this._batchMultiTexture=!1,this._colorListArray=[],this._uvListArray=[],this._indiceListArray=[],this._posListArray=[]}),ii=((E["clay.opengl.GLGraphicsBatcher"]=ti).__name__="clay.opengl.GLGraphicsBatcher",ti.__interfaces__=[k2],ti.prototype={_buffersIndex:null,_posListArray:null,_indiceListArray:null,_uvListArray:null,_colorListArray:null,_posList:null,_indiceList:null,_uvList:null,_colorList:null,_batchMultiTexture:null,_posSize:null,_customGLBuffers:null,_customAttributes:null,_maxVerts:null,_vertexSize:null,_numIndices:null,_numPos:null,_posIndex:null,_floatAttributesSize:null,_currentShader:null,_numUVs:null,_uvIndex:null,_numColors:null,_colorIndex:null,_primitiveType:null,initBuffers:function(){this._buffersIndex=-1,this.prepareNextBuffers()},prepareNextBuffers:function(){this._buffersIndex++,64<this._buffersIndex&&(this._buffersIndex=0),this._posListArray.length<=this._buffersIndex&&(this._posListArray[this._buffersIndex]=new Float32Array(65536),this._uvListArray[this._buffersIndex]=new Float32Array(43691),this._colorListArray[this._buffersIndex]=new Float32Array(65536),this._indiceListArray[this._buffersIndex]=new Uint16Array(32768)),this._posList=this._posListArray[this._buffersIndex],this._uvList=this._uvListArray[this._buffersIndex],this._colorList=this._colorListArray[this._buffersIndex],this._indiceList=this._indiceListArray[this._buffersIndex]},beginRender:function(){ne.gl.enableVertexAttribArray(0),ne.gl.enableVertexAttribArray(1),ne.gl.enableVertexAttribArray(2)},endRender:function(){},setVertexLayout:function(e,n){this._floatAttributesSize=n,this._batchMultiTexture=e,this._vertexSize=3+this._floatAttributesSize+(this._batchMultiTexture?1:0),this._posSize=this._vertexSize,this._vertexSize<4&&(this._vertexSize=4),this._maxVerts=0|Math.floor(65536/this._vertexSize),0==this._numPos&&(this._numIndices=0,this._numPos=0,this._numUVs=0,this._numColors=0,this._posIndex=0,this._uvIndex=0,this._colorIndex=0)},setCustomAttributes:function(e){this._customAttributes=e},resetIndexes:function(){this._numIndices=0,this._numPos=0,this._numUVs=0,this._numColors=0,this._posIndex=0,this._uvIndex=0,this._colorIndex=0},putVertex:function(e,n,t){this._posList[this._posIndex]=e,this._posList[this._posIndex+1]=n,this._posList[this._posIndex+2]=t,this._posIndex+=3,this._numPos++},putVertexWithTextureSlot:function(e,n,t,i){this._posList[this._posIndex]=e,this._posList[this._posIndex+1]=n,this._posList[this._posIndex+2]=t,this._posList[this._posIndex+3]=i,this._posIndex+=4,this._numPos++},putUVs:function(e,n){this._uvList[this._uvIndex]=e,this._uvList[this._uvIndex+1]=n,this._uvIndex+=2,this._numUVs++},putColor:function(e,n,t,i){this._colorList[this._colorIndex]=e,this._colorList[this._colorIndex+1]=n,this._colorList[this._colorIndex+2]=t,this._colorList[this._colorIndex+3]=i,this._colorIndex+=4,this._numColors++},putIndex:function(e){this._indiceList[this._numIndices]=e,this._numIndices++},putFloatAttribute:function(e,n){this._posList[this._posIndex+e]=n},endFloatAttributes:function(){this._posIndex+=this._floatAttributesSize},getNumVertices:function(){return this._numPos},shouldFlush:function(e,n){return!(this._numPos+e<=this._maxVerts)||16384<this._numIndices+n},remainingVertices:function(){return this._maxVerts-this._numPos},remainingIndices:function(){return 16384-this._numIndices},hasAnythingToFlush:function(){return 0<this._numPos},flush:function(){var e=this._batchMultiTexture,n=new Float32Array(this._posList.buffer,0,4*this._posIndex/4|0),t=new Float32Array(this._uvList.buffer,0,4*this._uvIndex/4|0),i=new Float32Array(this._colorList.buffer,0,4*this._colorIndex/4|0),l=new Uint16Array(this._indiceList.buffer,0,2*this._numIndices/2|0),r=ne.gl.createBuffer(),s=ne.gl.createBuffer(),h=ne.gl.createBuffer(),a=ne.gl.createBuffer(),o=(ne.gl.enableVertexAttribArray(0),ne.gl.enableVertexAttribArray(1),ne.gl.enableVertexAttribArray(2),ne.gl.bindBuffer(34962,r),ne.gl.vertexAttribPointer(0,3,5126,!1,4*this._posSize,0),ne.gl.bufferData(34962,n,35040),ne.gl.bindBuffer(34962,h),ne.gl.vertexAttribPointer(1,2,5126,!1,0,0),ne.gl.bufferData(34962,t,35040),ne.gl.bindBuffer(34962,s),ne.gl.vertexAttribPointer(2,4,5126,!1,0,0),ne.gl.bufferData(34962,i,35040),3),c=3,t=0;if(e&&(O=ne.gl.createBuffer(),this._customGLBuffers[t++]=O,ne.gl.enableVertexAttribArray(c),ne.gl.bindBuffer(34962,O),ne.gl.vertexAttribPointer(c,1,5126,!1,4*this._posSize,4*o),ne.gl.bufferData(34962,n,35040),++c,++o),null!=this._customAttributes)for(var u=this._customAttributes,_=t,i=_+u.length,d=(t+=u.length,_),b=i;d<b;){var g=u[(f=d++)-_],O=ne.gl.createBuffer();this._customGLBuffers[f]=O,ne.gl.enableVertexAttribArray(c),ne.gl.bindBuffer(34962,O),ne.gl.vertexAttribPointer(c,g.size,5126,!1,4*this._posSize,4*o),ne.gl.bufferData(34962,n,35040),++c,o+=g.size}if(ne.gl.bindBuffer(34963,a),ne.gl.bufferData(34963,l,35040),ne.gl.drawElements(this._primitiveType,this._numIndices,5123,0),ne.gl.deleteBuffer(r),ne.gl.deleteBuffer(s),ne.gl.deleteBuffer(h),0<t)for(c=3,d=0,b=t;d<b;){var f=d++,O=this._customGLBuffers[f];ne.gl.deleteBuffer(O),ne.gl.disableVertexAttribArray(c),++c}ne.gl.bindBuffer(34963,null),ne.gl.deleteBuffer(a),n=null,this._numIndices=0,this._numPos=0,this._numUVs=0,this._numColors=0,this._posIndex=0,this._uvIndex=0,this._colorIndex=0,this.prepareNextBuffers()},clear:function(e,n,t,i,l){ee._graphics.clear(e,n,t,i,l)},setViewport:function(e,n,t,i){ee._graphics;ne.gl.viewport(e,n,t,i)},setPrimitiveType:function(e){this._primitiveType=1==e?1:4},enableBlending:function(){ee._graphics;ne.gl.enable(3042)},disableBlending:function(){ee._graphics;ne.gl.disable(3042)},setBlendFuncSeparate:function(e,n,t,i){ee._graphics;ne.gl.blendFuncSeparate(e,n,t,i)},setActiveTexture:function(e){var n=ee._graphics;if(n._activeTextureSlot!=e){for(n._activeTextureSlot=e;n._boundTexture2D.length<=n._activeTextureSlot;)n._boundTexture2D.push(null);ne.gl.activeTexture(33984+e)}},bindTexture:function(e){var n=ee._graphics;n._boundTexture2D[n._activeTextureSlot]!=e&&(n._boundTexture2D[n._activeTextureSlot]=e,ne.gl.bindTexture(3553,e))},bindNoTexture:function(){var e=ee._graphics,n=ti.defaultTextureId;e._boundTexture2D[e._activeTextureSlot]!=n&&(e._boundTexture2D[e._activeTextureSlot]=n,ne.gl.bindTexture(3553,n))},shouldFlipRenderTargetY:function(){return!0},setRenderTarget:function(e){var n=ee._graphics;null!=e?(n.bindFramebuffer((e=e).framebuffer),n.bindRenderbuffer(e.renderbuffer)):(n.bindFramebuffer(null),n.bindRenderbuffer(null))},blitRenderTargetBuffers:function(e,n,t){ee._graphics.blitRenderTargetBuffers(e,n,t)},useShader:function(e){this._currentShader=e;var n=ee._graphics;n._boundProgram!=e.program&&(n._boundProgram=e.program,ne.gl.useProgram(e.program))},setProjectionMatrix:function(e){ee._graphics.projectionMatrix=e},setModelViewMatrix:function(e){ee._graphics.modelViewMatrix=e},beginStencilWrite:function(){ne.gl.stencilMask(255),ne.gl.clearStencil(255),ne.gl.clear(1024),ne.gl.enable(2960),ne.gl.stencilOp(7680,7680,7681),ne.gl.stencilFunc(519,1,255),ne.gl.stencilMask(255),ne.gl.colorMask(!1,!1,!1,!1)},endStencilWrite:function(){},enableStencilTest:function(){ne.gl.stencilFunc(514,1,255),ne.gl.stencilMask(0),ne.gl.colorMask(!0,!0,!0,!0),ne.gl.enable(2960)},disableStencilTest:function(){ne.gl.stencilFunc(519,1,255),ne.gl.stencilMask(255),ne.gl.colorMask(!0,!0,!0,!0),ne.gl.disable(2960)},enableScissor:function(e,n,t,i){ne.gl.enable(3089),ne.gl.scissor(Math.round(e),Math.round(n),Math.round(t),Math.round(i))},disableScissor:function(){ne.gl.disable(3089)},__class__:ti},(E["clay.spec.GraphicsDriver"]=m2).__name__="clay.spec.GraphicsDriver",m2.__isInterface__=!0,m2.prototype={get_noTexture:null,get_noFramebuffer:null,get_noRenderbuffer:null,get_noShader:null,get_noProgram:null,get_noLocation:null,get_noBuffer:null,setup:null,getMaxTextureSize:null,getMaxTextureUnits:null,testShaderCompilationLimit:null,loadExtensions:null,readPixels:null,clear:null,setViewport:null,enableBlending:null,disableBlending:null,setBlendFuncSeparate:null,createTextureId:null,deleteTexture:null,setActiveTexture:null,bindTexture2d:null,maxTextureSize:null,needsPreprocessedPremultipliedAlpha:null,submitTexture2dPixels:null,submitCompressedTexture2dPixels:null,fetchTexture2dPixels:null,setTexture2dMinFilter:null,setTexture2dMagFilter:null,setTexture2dWrapS:null,setTexture2dWrapT:null,createShader:null,deleteShader:null,useShader:null,synchronizeShaderMatrices:null,getUniformLocation:null,setIntUniform:null,setIntArrayUniform:null,setFloatUniform:null,setFloatArrayUniform:null,setVector2Uniform:null,setVector3Uniform:null,setVector4Uniform:null,setMatrix2Uniform:null,setMatrix3Uniform:null,setMatrix4Uniform:null,setTexture2dUniform:null,createRenderTarget:null,deleteRenderTarget:null,setRenderTarget:null,configureRenderTargetBuffersStorage:null,blitRenderTargetBuffers:null,createFramebuffer:null,bindFramebuffer:null,createRenderbuffer:null,bindRenderbuffer:null,ensureNoError:null,__class__:m2,__properties__:{get_noBuffer:"get_noBuffer",get_noLocation:"get_noLocation",get_noProgram:"get_noProgram",get_noShader:"get_noShader",get_noRenderbuffer:"get_noRenderbuffer",get_noFramebuffer:"get_noFramebuffer",get_noTexture:"get_noTexture"}},function(){this.modelViewMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this.projectionMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this._didFetchDefaultBuffers=!1,this._activeTextureSlot=-1,this._boundTexture2D=[],this._boundProgram=null,this._boundFramebuffer=null,this._boundRenderbuffer=null,this._defaultFramebuffer=null,this._defaultRenderbuffer=null,this._clearBufferForBlitValues=new Float32Array([0,0,0,1])}),li=((E["clay.opengl.GLGraphicsDriver"]=ii).__name__="clay.opengl.GLGraphicsDriver",ii.__interfaces__=[m2],ii.prototype={get_noTexture:function(){return null},get_noFramebuffer:function(){return null},get_noRenderbuffer:function(){return null},get_noShader:function(){return null},get_noProgram:function(){return null},get_noLocation:function(){return null},get_noBuffer:function(){return null},_boundTexture2D:null,_boundProgram:null,_activeTextureSlot:null,_boundFramebuffer:null,_boundRenderbuffer:null,_didFetchDefaultBuffers:null,_defaultFramebuffer:null,_defaultRenderbuffer:null,_clearBufferForBlitValues:null,setup:function(){this._defaultFramebuffer=ne.gl.getParameter(36006),this._defaultRenderbuffer=ne.gl.getParameter(36007),this._didFetchDefaultBuffers=!0},getMaxTextureSize:function(){var e=ne.gl.getParameter(3379);return e=e<=0?4096:e},getMaxTextureUnits:function(){var e=ne.gl.getParameter(34930);return 0|Math.min(32,e)},testShaderCompilationLimit:function(e){null==e&&(e=32);for(var n=z.trim("\n#ifdef GL_ES\nprecision mediump float;\n#else\n#define mediump\n#endif\nvarying float test;\nvoid main() {\n    {{CONDITIONS}}\n    gl_FragColor = vec4(0.0);\n}\n"),t=ne.gl.createShader(35632),i=0;0<e;){var l=this._generateIfStatements(e),l=z.replace(n,"{{CONDITIONS}}",l);if(ne.gl.shaderSource(t,l),ne.gl.compileShader(t),0!=ne.gl.getShaderParameter(t,35713)){i=e;break}e=e/2|0}return ne.gl.deleteShader(t),i},_generateIfStatements:function(e){for(var n="",t=0,i=e;t<i;){var l=t++;0<l&&(n+="\nelse "),l<e-1&&(n=(n+="if (test == ")+(null==l?"null":""+l)+".0) {}")}return n},loadExtensions:function(){ne.gl.getExtension("OES_standard_derivatives")},readPixels:function(e,n,t,i,l){ne.gl.readPixels(e,n,t,i,6408,5121,l)},clear:function(e,n,t,i,l){null==l&&(l=!0),ne.gl.clearColor(e,n,t,i),l&&0<ee.app.config.render.depth?(ne.gl.clear(16640),ne.gl.clearDepth(1)):ne.gl.clear(16384)},setViewport:function(e,n,t,i){ne.gl.viewport(e,n,t,i)},enableBlending:function(){ne.gl.enable(3042)},disableBlending:function(){ne.gl.disable(3042)},setBlendFuncSeparate:function(e,n,t,i){ne.gl.blendFuncSeparate(e,n,t,i)},createTextureId:function(){return ne.gl.createTexture()},deleteTexture:function(e){ne.gl.deleteTexture(e);for(var n=0,t=this._boundTexture2D.length;n<t;){var i=n++;this._boundTexture2D[i]==e&&(this._boundTexture2D[i]=null)}},setActiveTexture:function(e){if(this._activeTextureSlot!=e){for(this._activeTextureSlot=e;this._boundTexture2D.length<=this._activeTextureSlot;)this._boundTexture2D.push(null);ne.gl.activeTexture(33984+e)}},bindTexture2d:function(e){this._boundTexture2D[this._activeTextureSlot]!=e&&(this._boundTexture2D[this._activeTextureSlot]=e,ne.gl.bindTexture(3553,e))},maxTextureSize:function(){var e=ne.gl.getParameter(3379);return e=e<=0?4096:e},needsPreprocessedPremultipliedAlpha:function(){return!1},submitTexture2dPixels:function(e,n,t,i,l,r,s){ne.gl.pixelStorei(37441,s?1:0),ne.gl.texImage2D(3553,e,n,t,i,0,n,l,r)},submitCompressedTexture2dPixels:function(e,n,t,i,l,r){ne.gl.pixelStorei(37441,r?1:0),ne.gl.compressedTexImage2D(3553,e,n,t,i,0,l)},fetchTexture2dPixels:function(e,n,t,i,l){if(null==e)throw oe.thrown("Texture fetch requires a valid buffer to store the pixels.");var r=this._boundTexture2D[this._activeTextureSlot],s=i*l*4;if(e.length<s)throw oe.thrown("Texture fetch requires at least "+s+" (w * h * 4) bytes for the pixels, you have "+e.length+"!");s=ne.gl.createFramebuffer();if(ne.gl.bindFramebuffer(36160,s),ne.gl.framebufferTexture2D(36160,36064,3553,r,0),36053!=ne.gl.checkFramebufferStatus(36160))throw oe.thrown("Incomplete framebuffer");ne.gl.readPixels(n,t,i,l,6408,5121,e),ne.gl.bindFramebuffer(36160,null),ne.gl.deleteFramebuffer(s)},setTexture2dMinFilter:function(e){ne.gl.texParameteri(3553,10241,e)},setTexture2dMagFilter:function(e){ne.gl.texParameteri(3553,10240,e)},setTexture2dWrapS:function(e){ne.gl.texParameteri(3553,10242,e)},setTexture2dWrapT:function(e){ne.gl.texParameteri(3553,10243,e)},createFramebuffer:function(){return ne.gl.createFramebuffer()},bindFramebuffer:function(e){this._boundFramebuffer!=e&&(null==(this._boundFramebuffer=e)&&(e=this._defaultFramebuffer),ne.gl.bindFramebuffer(36160,e))},createRenderbuffer:function(){return ne.gl.createRenderbuffer()},bindRenderbuffer:function(e){this._boundRenderbuffer!=e&&(null==(this._boundRenderbuffer=e)&&(e=this._defaultRenderbuffer),ne.gl.bindRenderbuffer(36161,e))},createRenderTarget:function(e,n,t,i,l,r,s,h,a){var o=new li;return ne.gl.texImage2D(3553,s,h,n,t,0,h,a,null),o.framebuffer=ne.gl.createFramebuffer(),o.renderbuffer=ne.gl.createRenderbuffer(),1<r?(o.msResolveFramebuffer=ne.gl.createFramebuffer(),o.msResolveColorRenderbuffer=ne.gl.createRenderbuffer(),o.msDepthStencilRenderbuffer=i||l?ne.gl.createRenderbuffer():null):(o.msResolveFramebuffer=null,o.msResolveColorRenderbuffer=null,o.msDepthStencilRenderbuffer=null),this.configureRenderTargetBuffersStorage(o,e,n,t,i,l,r),o},deleteRenderTarget:function(e){null!=e.framebuffer&&(this._boundFramebuffer==e.framebuffer&&(this._boundFramebuffer=null),ne.gl.deleteFramebuffer(e.framebuffer),e.framebuffer=null),null!=e.renderbuffer&&(this._boundRenderbuffer==e.renderbuffer&&(this._boundRenderbuffer=null),ne.gl.deleteRenderbuffer(e.renderbuffer),e.renderbuffer=null),null!=e.msDepthStencilRenderbuffer&&(this._boundRenderbuffer==e.msDepthStencilRenderbuffer&&(this._boundRenderbuffer=null),ne.gl.deleteRenderbuffer(e.msDepthStencilRenderbuffer),e.msDepthStencilRenderbuffer=null),null!=e.msResolveColorRenderbuffer&&(this._boundRenderbuffer==e.msResolveColorRenderbuffer&&(this._boundRenderbuffer=null),ne.gl.deleteRenderbuffer(e.msResolveColorRenderbuffer),e.msResolveColorRenderbuffer=null),null!=e.msResolveFramebuffer&&(this._boundFramebuffer==e.msResolveFramebuffer&&(this._boundFramebuffer=null),ne.gl.deleteFramebuffer(e.msResolveFramebuffer),e.msResolveFramebuffer=null)},setRenderTarget:function(e){null!=e?(this.bindFramebuffer((e=e).framebuffer),this.bindRenderbuffer(e.renderbuffer)):(this.bindFramebuffer(null),this.bindRenderbuffer(null))},configureRenderTargetBuffersStorage:function(e,n,t,i,l,r,s){1<s?(this.bindRenderbuffer(e.renderbuffer),ne.gl.renderbufferStorageMultisample(36161,s,32856,t,i),(l||r)&&(this.bindRenderbuffer(e.msDepthStencilRenderbuffer),r?ne.gl.renderbufferStorageMultisample(36161,s,35056,t,i):ne.gl.renderbufferStorageMultisample(36161,s,33189,t,i)),this.bindFramebuffer(e.framebuffer),ne.gl.framebufferRenderbuffer(36160,36064,36161,e.renderbuffer),(l||r)&&(r?ne.gl.framebufferRenderbuffer(36160,33306,36161,e.msDepthStencilRenderbuffer):ne.gl.framebufferRenderbuffer(36160,36096,36161,e.msDepthStencilRenderbuffer)),this.bindRenderbuffer(e.msResolveColorRenderbuffer),ne.gl.renderbufferStorage(36161,32856,t,i),this.bindFramebuffer(e.msResolveFramebuffer),ne.gl.framebufferTexture2D(36160,36064,3553,n,0)):(this.bindRenderbuffer(e.renderbuffer),r?ne.gl.renderbufferStorage(36161,34041,t,i):l?ne.gl.renderbufferStorage(36161,33189,t,i):ne.gl.renderbufferStorage(36161,6408,t,i),this.bindFramebuffer(e.framebuffer),ne.gl.framebufferTexture2D(36160,36064,3553,n,0),(l||r)&&(r?ne.gl.framebufferRenderbuffer(36160,33306,36161,e.renderbuffer):ne.gl.framebufferRenderbuffer(36160,36096,36161,e.renderbuffer)));var h=ne.gl.checkFramebufferStatus(36160);switch(h){case 36053:break;case 36054:throw oe.thrown("Incomplete framebuffer: FRAMEBUFFER_INCOMPLETE_ATTACHMENT");case 36055:throw oe.thrown("Incomplete framebuffer: FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT");case 36057:throw oe.thrown("Incomplete framebuffer: FRAMEBUFFER_INCOMPLETE_DIMENSIONS");case 36059:throw oe.thrown("Incomplete framebuffer: FRAMEBUFFER_INCOMPLETE_DRAW_BUFFER");case 36060:throw oe.thrown("Incomplete framebuffer: FRAMEBUFFER_INCOMPLETE_READ_BUFFER");case 36061:throw oe.thrown("Incomplete framebuffer: FRAMEBUFFER_UNSUPPORTED");case 36182:throw oe.thrown("Incomplete framebuffer: FRAMEBUFFER_INCOMPLETE_MULTISAMPLE");default:throw oe.thrown("Incomplete framebuffer: "+h)}this.bindFramebuffer(null),this.bindRenderbuffer(null)},blitRenderTargetBuffers:function(e,n,t){ne.gl.bindFramebuffer(36008,e.framebuffer),ne.gl.bindFramebuffer(36009,e.msResolveFramebuffer),ne.gl.clearBufferfv(6144,0,this._clearBufferForBlitValues,0),ne.gl.blitFramebuffer(0,0,n,t,0,0,n,t,16384,9728),ne.gl.bindFramebuffer(36008,null),ne.gl.bindFramebuffer(36009,null)},createShader:function(e,n,t,i){if(null==e)throw oe.thrown("Cannot create shader: vertSource is null!");if(null==n)throw oe.thrown("Cannot create shader: fragSource is null!");e=this.patchGlslVersion(e),n=this.patchGlslVersion(n);var l=new ri;return l.vertShader=this.compileGLShader(35633,e),null!=l.vertShader&&(l.fragShader=this.compileGLShader(35632,n),null!=l.fragShader)&&this.linkShader(l,t)?(null!=i&&this.configureShaderTextureSlots(l,i),l):(this.deleteShader(l),null)},patchGlslVersion:function(e){return e},deleteShader:function(e){this._boundProgram==e.program&&(this._boundProgram=null),null!=e.vertShader&&(ne.gl.deleteShader(e.vertShader),e.vertShader=null),null!=e.fragShader&&(ne.gl.deleteShader(e.fragShader),e.fragShader=null),null!=e.program&&(ne.gl.deleteProgram(e.program),e.program=null)},useShader:function(e){this._boundProgram!=e.program&&(this._boundProgram=e.program,ne.gl.useProgram(e.program))},synchronizeShaderMatrices:function(e){var n=ne.gl.getUniformLocation(e.program,"projectionMatrix"),t=this.projectionMatrix,i=(this._boundProgram!=(i=e).program&&(this._boundProgram=i.program,ne.gl.useProgram(i.program)),ne.gl.uniformMatrix4fv(n,!1,t),e),n=ne.gl.getUniformLocation(i.program,"modelViewMatrix"),t=this.modelViewMatrix;this._boundProgram!=(i=e).program&&(this._boundProgram=i.program,ne.gl.useProgram(i.program)),ne.gl.uniformMatrix4fv(n,!1,t)},getUniformLocation:function(e,n){return ne.gl.getUniformLocation(e.program,n)},setIntUniform:function(e,n,t){this._boundProgram!=e.program&&(this._boundProgram=e.program,ne.gl.useProgram(e.program)),ne.gl.uniform1i(n,t)},setIntArrayUniform:function(e,n,t){this._boundProgram!=e.program&&(this._boundProgram=e.program,ne.gl.useProgram(e.program)),ne.gl.uniform1iv(n,t)},setFloatUniform:function(e,n,t){this._boundProgram!=e.program&&(this._boundProgram=e.program,ne.gl.useProgram(e.program)),ne.gl.uniform1f(n,t)},setFloatArrayUniform:function(e,n,t){this._boundProgram!=e.program&&(this._boundProgram=e.program,ne.gl.useProgram(e.program)),ne.gl.uniform1fv(n,t)},setVector2Uniform:function(e,n,t,i){this._boundProgram!=e.program&&(this._boundProgram=e.program,ne.gl.useProgram(e.program)),ne.gl.uniform2f(n,t,i)},setVector3Uniform:function(e,n,t,i,l){this._boundProgram!=e.program&&(this._boundProgram=e.program,ne.gl.useProgram(e.program)),ne.gl.uniform3f(n,t,i,l)},setVector4Uniform:function(e,n,t,i,l,r){this._boundProgram!=e.program&&(this._boundProgram=e.program,ne.gl.useProgram(e.program)),ne.gl.uniform4f(n,t,i,l,r)},setMatrix2Uniform:function(e,n,t){this._boundProgram!=e.program&&(this._boundProgram=e.program,ne.gl.useProgram(e.program)),ne.gl.uniformMatrix2fv(n,!1,t)},setMatrix3Uniform:function(e,n,t){this._boundProgram!=e.program&&(this._boundProgram=e.program,ne.gl.useProgram(e.program)),ne.gl.uniformMatrix3fv(n,!1,t)},setMatrix4Uniform:function(e,n,t){this._boundProgram!=e.program&&(this._boundProgram=e.program,ne.gl.useProgram(e.program)),ne.gl.uniformMatrix4fv(n,!1,t)},setTexture2dUniform:function(e,n,t,i){if(this._boundProgram!=e.program&&(this._boundProgram=e.program,ne.gl.useProgram(e.program)),ne.gl.uniform1i(n,t),this._activeTextureSlot!=t){for(this._activeTextureSlot=t;this._boundTexture2D.length<=this._activeTextureSlot;)this._boundTexture2D.push(null);ne.gl.activeTexture(33984+t)}this._boundTexture2D[this._activeTextureSlot]!=i&&(this._boundTexture2D[this._activeTextureSlot]=i,ne.gl.bindTexture(3553,i))},projectionMatrix:null,modelViewMatrix:null,linkShader:function(e,n){var t=ne.gl.createProgram();if(ne.gl.attachShader(t,e.vertShader),ne.gl.attachShader(t,e.fragShader),null!=n)for(var i=0,l=n.length;i<l;){var r=i++;ne.gl.bindAttribLocation(t,r,n[r])}if(ne.gl.linkProgram(t),0!=ne.gl.getProgramParameter(t,35714))return e.program=t,!0;Gt.error("\tFailed to link shader program:",{fileName:"../../../../ceramic/git/clay/src-opengl/clay/opengl/GLGraphicsDriver.hx",lineNumber:1198,className:"clay.opengl.GLGraphicsDriver",methodName:"linkShader"});for(var i=[],l=0,s=a=ne.gl.getProgramInfoLog(t).split("\n");l<s.length;){var h=s[l];++l,""!=z.trim(h)&&i.push(h)}for(var a=i,o=new Array(a.length),i=0,l=a.length;i<l;)o[r=i++]="\t\t"+z.trim(a[r]);return Gt.error((a=o).join("\n"),{fileName:"../../../../ceramic/git/clay/src-opengl/clay/opengl/GLGraphicsDriver.hx",lineNumber:1199,className:"clay.opengl.GLGraphicsDriver",methodName:"linkShader"}),ne.gl.deleteProgram(t),!1},configureShaderTextureSlots:function(e,n){for(var t=e,i=(this._boundProgram!=t.program&&(this._boundProgram=t.program,ne.gl.useProgram(t.program)),0),l=n.length;i<l;){var r=i++,s=n[r],h=ne.gl.getUniformLocation(e.program,s);null!=h&&(ne.gl.uniform1i(h,r),e.textures[r]=s)}},compileGLShader:function(e,n){var t,i=ne.gl.createShader(e),n=(ne.gl.shaderSource(i,n),ne.gl.compileShader(i),ne.gl.getShaderInfoLog(i)),l="";if(null!=n&&0<n.length){l+="\n\t// start -- ("+(35632==e?"frag":"vert")+") compile log --\n";for(var r=[],s=0,h=c=n.split("\n");s<h.length;){var a=h[s];++s,""!=z.trim(a)&&r.push(a)}c=r;for(var o=new Array(c.length),r=0,s=c.length;r<s;)o[u=r++]="\t\t"+z.trim(c[u]);l=l+(c=o).join("\n")+"\n\t// end --\n"}if(0==ne.gl.getShaderParameter(i,35713)){if(Gt.error("GL / Failed to compile shader:",{fileName:"../../../../ceramic/git/clay/src-opengl/clay/opengl/GLGraphicsDriver.hx",lineNumber:1261,className:"clay.opengl.GLGraphicsDriver",methodName:"compileGLShader"}),0==l.length){for(var c,r=[],s=0,h=c=ne.gl.getShaderInfoLog(i).split("\n");s<h.length;){a=h[s];++s,""!=z.trim(a)&&r.push(a)}c=r;for(var u,o=new Array(c.length),r=0,s=c.length;r<s;)o[u=r++]="\t\t"+z.trim(c[u]);t=(c=o).join("\n")}else t=l;Gt.error(t,{fileName:"../../../../ceramic/git/clay/src-opengl/clay/opengl/GLGraphicsDriver.hx",lineNumber:1262,className:"clay.opengl.GLGraphicsDriver",methodName:"compileGLShader"}),ne.gl.deleteShader(i),i=null}return i},ensureNoError:function(){var e=ne.gl.getError();if(0!=e)throw oe.thrown("Failed with GL error: "+e)},__class__:ii,__properties__:{get_noBuffer:"get_noBuffer",get_noLocation:"get_noLocation",get_noProgram:"get_noProgram",get_noShader:"get_noShader",get_noRenderbuffer:"get_noRenderbuffer",get_noFramebuffer:"get_noFramebuffer",get_noTexture:"get_noTexture"}},function(){}),ri=((E["clay.opengl.GLGraphicsDriver_RenderTarget"]=li).__name__="clay.opengl.GLGraphicsDriver_RenderTarget",li.prototype={framebuffer:null,renderbuffer:null,msResolveFramebuffer:null,msResolveColorRenderbuffer:null,msDepthStencilRenderbuffer:null,__class__:li},function(){this.textures=[]}),ne=((E["clay.opengl.GLGraphicsDriver_GpuShader"]=ri).__name__="clay.opengl.GLGraphicsDriver_GpuShader",ri.prototype={vertShader:null,fragShader:null,program:null,textures:null,__class__:ri},function(){}),si=((E["clay.opengl.web.GL"]=ne).__name__="clay.opengl.web.GL",ne.__properties__={get_version:"get_version"},ne.versionString=function(){return"/ "+ne.gl.getParameter(7938)+" / "+ne.gl.getParameter(35724)+" / "+ne.gl.getParameter(7937)+" / "+ne.gl.getParameter(7936)+" /"},ne.activeTexture=function(e){ne.gl.activeTexture(e)},ne.attachShader=function(e,n){ne.gl.attachShader(e,n)},ne.bindAttribLocation=function(e,n,t){ne.gl.bindAttribLocation(e,n,t)},ne.bindBuffer=function(e,n){ne.gl.bindBuffer(e,n)},ne.bindFramebuffer=function(e,n){ne.gl.bindFramebuffer(e,n)},ne.bindRenderbuffer=function(e,n){ne.gl.bindRenderbuffer(e,n)},ne.bindTexture=function(e,n){ne.gl.bindTexture(e,n)},ne.blendColor=function(e,n,t,i){ne.gl.blendColor(e,n,t,i)},ne.blendEquation=function(e){ne.gl.blendEquation(e)},ne.blendEquationSeparate=function(e,n){ne.gl.blendEquationSeparate(e,n)},ne.blendFunc=function(e,n){ne.gl.blendFunc(e,n)},ne.blendFuncSeparate=function(e,n,t,i){ne.gl.blendFuncSeparate(e,n,t,i)},ne.bufferData=function(e,n,t){ne.gl.bufferData(e,n,t)},ne.bufferSubData=function(e,n,t){ne.gl.bufferSubData(e,n,t)},ne.checkFramebufferStatus=function(e){return ne.gl.checkFramebufferStatus(e)},ne.clear=function(e){ne.gl.clear(e)},ne.clearColor=function(e,n,t,i){ne.gl.clearColor(e,n,t,i)},ne.clearDepth=function(e){ne.gl.clearDepth(e)},ne.clearStencil=function(e){ne.gl.clearStencil(e)},ne.colorMask=function(e,n,t,i){ne.gl.colorMask(e,n,t,i)},ne.compileShader=function(e){ne.gl.compileShader(e)},ne.compressedTexImage2D=function(e,n,t,i,l,r,s){ne.gl.compressedTexImage2D(e,n,t,i,l,r,s)},ne.compressedTexSubImage2D=function(e,n,t,i,l,r,s,h){ne.gl.compressedTexSubImage2D(e,n,t,i,l,r,s,h)},ne.copyTexImage2D=function(e,n,t,i,l,r,s,h){ne.gl.copyTexImage2D(e,n,t,i,l,r,s,h)},ne.copyTexSubImage2D=function(e,n,t,i,l,r,s,h){ne.gl.copyTexSubImage2D(e,n,t,i,l,r,s,h)},ne.createBuffer=function(){return ne.gl.createBuffer()},ne.createFramebuffer=function(){return ne.gl.createFramebuffer()},ne.createProgram=function(){return ne.gl.createProgram()},ne.createRenderbuffer=function(){return ne.gl.createRenderbuffer()},ne.createShader=function(e){return ne.gl.createShader(e)},ne.createTexture=function(){return ne.gl.createTexture()},ne.cullFace=function(e){ne.gl.cullFace(e)},ne.deleteBuffer=function(e){ne.gl.deleteBuffer(e)},ne.deleteFramebuffer=function(e){ne.gl.deleteFramebuffer(e)},ne.deleteProgram=function(e){ne.gl.deleteProgram(e)},ne.deleteRenderbuffer=function(e){ne.gl.deleteRenderbuffer(e)},ne.deleteShader=function(e){ne.gl.deleteShader(e)},ne.deleteTexture=function(e){ne.gl.deleteTexture(e)},ne.depthFunc=function(e){ne.gl.depthFunc(e)},ne.depthMask=function(e){ne.gl.depthMask(e)},ne.depthRange=function(e,n){ne.gl.depthRange(e,n)},ne.detachShader=function(e,n){ne.gl.detachShader(e,n)},ne.disable=function(e){ne.gl.disable(e)},ne.disableVertexAttribArray=function(e){ne.gl.disableVertexAttribArray(e)},ne.drawArrays=function(e,n,t){ne.gl.drawArrays(e,n,t)},ne.drawElements=function(e,n,t,i){ne.gl.drawElements(e,n,t,i)},ne.enable=function(e){ne.gl.enable(e)},ne.enableVertexAttribArray=function(e){ne.gl.enableVertexAttribArray(e)},ne.finish=function(){ne.gl.finish()},ne.flush=function(){ne.gl.flush()},ne.framebufferRenderbuffer=function(e,n,t,i){ne.gl.framebufferRenderbuffer(e,n,t,i)},ne.framebufferTexture2D=function(e,n,t,i,l){ne.gl.framebufferTexture2D(e,n,t,i,l)},ne.frontFace=function(e){ne.gl.frontFace(e)},ne.generateMipmap=function(e){ne.gl.generateMipmap(e)},ne.getActiveAttrib=function(e,n){return ne.gl.getActiveAttrib(e,n)},ne.getActiveUniform=function(e,n){return ne.gl.getActiveUniform(e,n)},ne.getAttachedShaders=function(e){return ne.gl.getAttachedShaders(e)},ne.getAttribLocation=function(e,n){return ne.gl.getAttribLocation(e,n)},ne.getBufferParameter=function(e,n){return ne.gl.getBufferParameter(e,n)},ne.getContextAttributes=function(){return ne.gl.getContextAttributes()},ne.getError=function(){return ne.gl.getError()},ne.getExtension=function(e){return ne.gl.getExtension(e)},ne.getFramebufferAttachmentParameter=function(e,n,t){return ne.gl.getFramebufferAttachmentParameter(e,n,t)},ne.getParameter=function(e){return ne.gl.getParameter(e)},ne.getProgramInfoLog=function(e){return ne.gl.getProgramInfoLog(e)},ne.getProgramParameter=function(e,n){return ne.gl.getProgramParameter(e,n)},ne.getRenderbufferParameter=function(e,n){return ne.gl.getRenderbufferParameter(e,n)},ne.getShaderInfoLog=function(e){return ne.gl.getShaderInfoLog(e)},ne.getShaderParameter=function(e,n){return ne.gl.getShaderParameter(e,n)},ne.getShaderPrecisionFormat=function(e,n){return ne.gl.getShaderPrecisionFormat(e,n)},ne.getShaderSource=function(e){return ne.gl.getShaderSource(e)},ne.getSupportedExtensions=function(){return ne.gl.getSupportedExtensions()},ne.getTexParameter=function(e,n){return ne.gl.getTexParameter(e,n)},ne.getUniform=function(e,n){return ne.gl.getUniform(e,n)},ne.getUniformLocation=function(e,n){return ne.gl.getUniformLocation(e,n)},ne.getVertexAttrib=function(e,n){return ne.gl.getVertexAttrib(e,n)},ne.getVertexAttribOffset=function(e,n){return ne.gl.getVertexAttribOffset(e,n)},ne.hint=function(e,n){ne.gl.hint(e,n)},ne.isBuffer=function(e){return ne.gl.isBuffer(e)},ne.isEnabled=function(e){return ne.gl.isEnabled(e)},ne.isFramebuffer=function(e){return ne.gl.isFramebuffer(e)},ne.isProgram=function(e){return ne.gl.isProgram(e)},ne.isRenderbuffer=function(e){return ne.gl.isRenderbuffer(e)},ne.isShader=function(e){return ne.gl.isShader(e)},ne.isTexture=function(e){return ne.gl.isTexture(e)},ne.lineWidth=function(e){ne.gl.lineWidth(e)},ne.linkProgram=function(e){ne.gl.linkProgram(e)},ne.pixelStorei=function(e,n){ne.gl.pixelStorei(e,n)},ne.polygonOffset=function(e,n){ne.gl.polygonOffset(e,n)},ne.readPixels=function(e,n,t,i,l,r,s){ne.gl.readPixels(e,n,t,i,l,r,s)},ne.renderbufferStorage=function(e,n,t,i){ne.gl.renderbufferStorage(e,n,t,i)},ne.renderbufferStorageMultisample=function(e,n,t,i,l){ne.gl.renderbufferStorageMultisample(e,n,t,i,l)},ne.clearBufferfv=function(e,n,t,i){ne.gl.clearBufferfv(e,n,t,i=null==i?0:i)},ne.blitFramebuffer=function(e,n,t,i,l,r,s,h,a,o){ne.gl.blitFramebuffer(e,n,t,i,l,r,s,h,a,o)},ne.sampleCoverage=function(e,n){ne.gl.sampleCoverage(e,n)},ne.scissor=function(e,n,t,i){ne.gl.scissor(e,n,t,i)},ne.shaderSource=function(e,n){ne.gl.shaderSource(e,n)},ne.stencilFunc=function(e,n,t){ne.gl.stencilFunc(e,n,t)},ne.stencilFuncSeparate=function(e,n,t,i){ne.gl.stencilFuncSeparate(e,n,t,i)},ne.stencilMask=function(e){ne.gl.stencilMask(e)},ne.stencilMaskSeparate=function(e,n){ne.gl.stencilMaskSeparate(e,n)},ne.stencilOp=function(e,n,t){ne.gl.stencilOp(e,n,t)},ne.stencilOpSeparate=function(e,n,t,i){ne.gl.stencilOpSeparate(e,n,t,i)},ne.texImage2D=function(e,n,t,i,l,r,s,h,a){ne.gl.texImage2D(e,n,t,i,l,r,s,h,a)},ne.texParameterf=function(e,n,t){ne.gl.texParameterf(e,n,t)},ne.texParameteri=function(e,n,t){ne.gl.texParameteri(e,n,t)},ne.texSubImage2D=function(e,n,t,i,l,r,s,h,a){ne.gl.texSubImage2D(e,n,t,i,l,r,s,h,a)},ne.uniform1f=function(e,n){ne.gl.uniform1f(e,n)},ne.uniform1fv=function(e,n){ne.gl.uniform1fv(e,n)},ne.uniform1i=function(e,n){ne.gl.uniform1i(e,n)},ne.uniform1iv=function(e,n){ne.gl.uniform1iv(e,n)},ne.uniform2f=function(e,n,t){ne.gl.uniform2f(e,n,t)},ne.uniform2fv=function(e,n){ne.gl.uniform2fv(e,n)},ne.uniform2i=function(e,n,t){ne.gl.uniform2i(e,n,t)},ne.uniform2iv=function(e,n){ne.gl.uniform2iv(e,n)},ne.uniform3f=function(e,n,t,i){ne.gl.uniform3f(e,n,t,i)},ne.uniform3fv=function(e,n){ne.gl.uniform3fv(e,n)},ne.uniform3i=function(e,n,t,i){ne.gl.uniform3i(e,n,t,i)},ne.uniform3iv=function(e,n){ne.gl.uniform3iv(e,n)},ne.uniform4f=function(e,n,t,i,l){ne.gl.uniform4f(e,n,t,i,l)},ne.uniform4fv=function(e,n){ne.gl.uniform4fv(e,n)},ne.uniform4i=function(e,n,t,i,l){ne.gl.uniform4i(e,n,t,i,l)},ne.uniform4iv=function(e,n){ne.gl.uniform4iv(e,n)},ne.uniformMatrix2fv=function(e,n,t){ne.gl.uniformMatrix2fv(e,n,t)},ne.uniformMatrix3fv=function(e,n,t){ne.gl.uniformMatrix3fv(e,n,t)},ne.uniformMatrix4fv=function(e,n,t){ne.gl.uniformMatrix4fv(e,n,t)},ne.useProgram=function(e){ne.gl.useProgram(e)},ne.validateProgram=function(e){ne.gl.validateProgram(e)},ne.vertexAttrib1f=function(e,n){ne.gl.vertexAttrib1f(e,n)},ne.vertexAttrib1fv=function(e,n){ne.gl.vertexAttrib1fv(e,n)},ne.vertexAttrib2f=function(e,n,t){ne.gl.vertexAttrib2f(e,n,t)},ne.vertexAttrib2fv=function(e,n){ne.gl.vertexAttrib2fv(e,n)},ne.vertexAttrib3f=function(e,n,t,i){ne.gl.vertexAttrib3f(e,n,t,i)},ne.vertexAttrib3fv=function(e,n){ne.gl.vertexAttrib3fv(e,n)},ne.vertexAttrib4f=function(e,n,t,i,l){ne.gl.vertexAttrib4f(e,n,t,i,l)},ne.vertexAttrib4fv=function(e,n){ne.gl.vertexAttrib4fv(e,n)},ne.vertexAttribPointer=function(e,n,t,i,l,r){ne.gl.vertexAttribPointer(e,n,t,i,l,r)},ne.viewport=function(e,n,t,i){ne.gl.viewport(e,n,t,i)},ne.get_version=function(){return 7938},function(e){Wc.call(this,e)}),hi=((E["clay.web.WebAssets"]=si).__name__="clay.web.WebAssets",si.__super__=Wc,si.prototype=$extend(Wc.prototype,{isSynchronous:function(){return!1},loadImage:function(e,n,t,i){null==t&&(t=!1),null==n&&(n=4);var l=this;if(null==e)throw oe.thrown("Image path is null!");var r=Rn.extension(e);return this.app.io.loadData(e,!0,null,function(e){null==e?null!=i&&Wt.push(function(){i(null)}):l.imageFromBytesUsingImageElement(e,r,4,null,function(e){null!=i&&Wt.push(function(){i(e)})})}),null},decodeImageFromElement:function(e,n){var t=(n=null==n?!0:n)?this.nearestPowerOfTwo(e.width):e.width,n=n?this.nearestPowerOfTwo(e.height):e.height,i=this.paddedBytesFromElement(e.width,e.height,t,n,e),e=new Ac(e.width,e.height,t,n,4,4,i);return e},imageFromBytes:function(e,n,t,i,l){return this.imageFromBytesUsingImageElement(e,n,t=null==t?4:t,i=null==i?!0:i,l)},imageFromBytesUsingImageElement:function(e,n,t,i,l){null==i&&(i=!0),null==t&&(t=4);var r=this;if(null==e)throw oe.thrown("Image bytes are null!");for(var s="",h=0,a=e.length;h<a;){var o=255&e[h++];s+=String.fromCodePoint(o)}var t="data:image/"+n+";base64,"+window.btoa(s),c=new Image;return c.onload=function(e){var n=r.decodeImageFromElement(c,i);null!=l&&Wt.push(function(){l(n)})},c.onerror=function(e){Gt.error("failed to load image from bytes, on error: "+e,{fileName:"clay/web/WebAssets.hx",lineNumber:216,className:"clay.web.WebAssets",methodName:"imageFromBytesUsingImageElement"})},c.src=t,null},pixelsToPngData:function(n,e,t,i){var l=window.document.createElement("canvas"),r=(l.width=n,l.height=e,l.getContext("2d",null)),t=(r.clearRect(0,0,l.width,l.height),new Uint8ClampedArray(t.buffer)),s=r.createImageData(n,e);s.data.set(t);try{r.putImageData(s,0,0),l.toBlob(function(e){e.arrayBuffer().then(function(e){e=new Uint8Array(e,0,e.byteLength);i(e),s=r=l=null})},"image/png")}catch(e){Yi.lastError=e;n=oe.caught(e).unwrap();throw oe.thrown(n)}},paddedBytesFromPixels:function(e,n,t,i,l){var r=window.document.createElement("canvas"),t=(r.width=t,r.height=i,r.getContext("2d",null)),i=(t.clearRect(0,0,r.width,r.height),null),l=new Uint8ClampedArray(l.buffer),e=t.createImageData(e,n);e.data.set(l);try{t.putImageData(e,0,0),i=t.getImageData(0,0,r.width,r.height)}catch(e){Yi.lastError=e;n=oe.caught(e).unwrap();throw oe.thrown(n)}return e=t=r=null,new Uint8Array(i.data)},paddedBytesFromElement:function(e,n,t,i,l){var r=window.document.createElement("canvas"),t=(r.width=t,r.height=i,r.getContext("2d",null)),i=(t.clearRect(0,0,r.width,r.height),t.drawImage(l,0,0,e,n),null);try{i=t.getImageData(0,0,r.width,r.height)}catch(e){Yi.lastError=e;l=oe.caught(e).unwrap();throw Gt.info("- textures served from file:/// throw security errors\n- textures served over http:// work for cross origin byte requests",{fileName:"clay/web/WebAssets.hx",lineNumber:333,className:"clay.web.WebAssets",methodName:"paddedBytesFromElement"}),oe.thrown(l)}return t=r=null,new Uint8Array(i.data)},nearestPowerOfTwo:function(e){return si.POT?(--e,e=(e=(e=(e=(e|=e>>1)|e>>2)|e>>4)|e>>8)|e>>16,++e):e},__class__:si}),function(e){this.active=!1,this.workletMessageCallbacks=[],this.pendingBusWorkletCallbacks=[],this.ignoreEndedSoundsTick1=[],this.ignoreEndedSoundsTick0=[],this.handleSeq=0,this.suspended=!1,Xc.call(this,e),this.instances=new qi,this.busses=new qi,this.workletModules=new ue}),ai=((E["clay.web.WebAudio"]=hi).__name__="clay.web.WebAudio",hi.__super__=Xc,hi.prototype=$extend(Xc.prototype,{suspended:null,handleSeq:null,instances:null,buffers:null,busses:null,workletModules:null,ignoreEndedSoundsTick0:null,ignoreEndedSoundsTick1:null,pendingBusWorkletCallbacks:null,workletMessageCallbacks:null,context:null,active:null,init:function(){this.initWebAudio(),this.createDefaultBus()},tick:function(e){for(var n=this.instances,t=n,i=n.keys();i.hasNext();){var l=i.next(),l={value:t.get(l),key:l},r=l.key,s=l.value;if(s.loop&&1==s.state){var h=1==s.state?s.timeResume+(this.app.timestamp-s.timeResumeAppTime)*s.pitch:0,a=s.source.getDuration();if(0<a&&a<=h)for(this.app.events.audioEvent(0,r);a<=h;)h-=a,s.timeResumeAppTime+=a/s.pitch}}for(;0<this.ignoreEndedSoundsTick1.length;)0<(s=this.ignoreEndedSoundsTick1.shift()).ignoreNextEnded&&s.ignoreNextEnded--;for(;0<this.ignoreEndedSoundsTick0.length;){s=this.ignoreEndedSoundsTick0.shift();this.ignoreEndedSoundsTick1.push(s)}},initWebAudio:function(e){null==e&&(e=44100);try{this.context=new AudioContext({sampleRate:44100})}catch(e){Yi.lastError=e;try{this.context=new window.webkitAudioContext}catch(e){return void Gt.debug("Audio / webaudio / no AudioContext could be created! No audio loading or playback will be available.",{fileName:"clay/web/WebAudio.hx",lineNumber:138,className:"clay.web.WebAudio",methodName:"initWebAudio"})}}if(null==this.context)throw oe.thrown("Audio / webaudio / no AudioContext could be created, is the Web Audio API supported?");e="channelCount: "+this.context.destination.channelCount+', channelCountMode: "'+this.context.destination.channelCountMode+'", channelInterpretation: "'+this.context.destination.channelInterpretation+'", maxChannelCount: '+this.context.destination.maxChannelCount+", numberOfInputs: "+this.context.destination.numberOfInputs+", numberOfOutputs: "+this.context.destination.numberOfOutputs;Gt.debug("Audio / webaudio: "+X.string(this.context)+" / sampleRate: "+this.context.sampleRate+" / destination: "+e,{fileName:"clay/web/WebAudio.hx",lineNumber:154,className:"clay.web.WebAudio",methodName:"initWebAudio"}),this.active=!0},shutdown:function(){for(var e=this.busses.iterator();e.hasNext();){var n=e.next();null!=n.workletNode&&n.workletNode.disconnect(),null!=n.silentSource&&(n.silentSource.stop(),n.silentSource.disconnect()),n.gainNode.disconnect()}this.busses.h={},this.context.close()},createDefaultBus:function(){this.createBus(0,null,1)},createBus:function(e,n,t){if(null==t&&(t=1),null==n&&(n=""),this.busses.h.hasOwnProperty(e))Gt.warning("Audio / Bus "+e+" already exists",{fileName:"clay/web/WebAudio.hx",lineNumber:185,className:"clay.web.WebAudio",methodName:"createBus"});else{for(var i=this.context.createGain(),n=(i.gain.value=t,i.connect(this.context.destination),0<n.length?n:"bus-"+e),l=[],r=0;r<128;){r++;l.push(0)}i={ready:!1,index:e,gainNode:i,workletNode:null,silentSource:null,volume:t,active:!0,name:n,parameterValues:l};this.busses.h[e]=i,Gt.debug("Audio / Created bus "+e+": "+i.name,{fileName:"clay/web/WebAudio.hx",lineNumber:206,className:"clay.web.WebAudio",methodName:"createBus"})}},destroyBus:function(e){if(0==e)Gt.warning("Audio / Cannot destroy default bus",{fileName:"clay/web/WebAudio.hx",lineNumber:211,className:"clay.web.WebAudio",methodName:"destroyBus"});else{var n=this.busses.h[e];if(null!=n){for(var t=this.instances,i=t,l=t.keys();l.hasNext();){var r=l.next(),r={value:i.get(r),key:r};r.value.bus==e&&this.stop(r.key)}null!=n.workletNode&&n.workletNode.disconnect(),null!=n.silentSource&&(n.silentSource.stop(),n.silentSource.disconnect()),n.gainNode.disconnect(),this.busses.remove(e),Gt.debug("Audio / Destroyed bus "+e,{fileName:"clay/web/WebAudio.hx",lineNumber:238,className:"clay.web.WebAudio",methodName:"destroyBus"})}}},setBusVolume:function(e,n){var t=this.busses.h[e];null!=t&&(t.volume=n,t.gainNode.gain.value=n,Gt.debug("Audio / Set bus "+e+" volume to "+n,{fileName:"clay/web/WebAudio.hx",lineNumber:247,className:"clay.web.WebAudio",methodName:"setBusVolume"}))},getBusVolume:function(e){e=this.busses.h[e];return null!=e?e.volume:0},setBusActive:function(e,n){var t=this.busses.h[e];null!=t&&(t.active=n,t.gainNode.gain.value=n?t.volume:0,Gt.debug("Audio / Set bus "+e+" active: "+(null==n?"null":""+n),{fileName:"clay/web/WebAudio.hx",lineNumber:261,className:"clay.web.WebAudio",methodName:"setBusActive"}))},loadWorkletModule:function(n,e,t){var i=this;Object.prototype.hasOwnProperty.call(this.workletModules.h,n)?(Gt.debug("Audio / Worklet module "+n+" already loaded",{fileName:"clay/web/WebAudio.hx",lineNumber:268,className:"clay.web.WebAudio",methodName:"loadWorkletModule"}),null!=t&&t(!0)):K.field(this.context,"audioWorklet").addModule(e).then(function(e){i.workletModules.h[n]=!0,Gt.debug("Audio / Loaded worklet module: "+n,{fileName:"clay/web/WebAudio.hx",lineNumber:275,className:"clay.web.WebAudio",methodName:"loadWorkletModule"}),null!=t&&t(!0)}).catch(function(e){Gt.error("Audio / Failed to load worklet module "+n+": "+e,{fileName:"clay/web/WebAudio.hx",lineNumber:279,className:"clay.web.WebAudio",methodName:"loadWorkletModule"}),null!=t&&t(!1)})},attachWorkletToBus:function(l,e,n,r){var s=this,h=this.busses.h[l];if(null==h)return Gt.error("Audio / Bus "+l+" does not exist",{fileName:"clay/web/WebAudio.hx",lineNumber:287,className:"clay.web.WebAudio",methodName:"attachWorkletToBus"}),!1;if(!Object.prototype.hasOwnProperty.call(this.workletModules.h,e))return Gt.error("Audio / Worklet module "+e+" not loaded",{fileName:"clay/web/WebAudio.hx",lineNumber:292,className:"clay.web.WebAudio",methodName:"attachWorkletToBus"}),!1;null!=h.workletNode&&(h.workletNode.disconnect(),null!=h.silentSource)&&(h.silentSource.stop(),h.silentSource.disconnect(),h.silentSource=null);try{var a=new AudioWorkletNode(this.context,e,n);if(null!=h.parameterValues)for(var t=0;t<128;){var i=t++,o=a.parameters.get("param"+i);null!=o&&(o.value=h.parameterValues[i])}var c=this.context.createConstantSource(),u=(c.offset.value=0,this.context.createGain()),_=(u.gain.value=1,u.channelCount=2,u.channelCountMode="explicit",u.channelInterpretation="speakers",this.context.createChannelMerger(2));return c.connect(_,0,0),c.connect(_,0,1),h.gainNode.disconnect(),h.gainNode.connect(u),_.connect(u),u.connect(a),a.connect(this.context.destination),c.start(),h.workletNode=a,h.silentSource=c,a.port.onmessage=function(e){var n=null!=e?e.data:null,n=null!=n?n.type:null;if(null!=n)switch(n){case"addBusFilterWorklet":for(var t=s.workletMessageCallbacks.length-1;0<=t;){var i=s.workletMessageCallbacks[t];"addBusFilterWorklet"==i.type&&i.bus==e.data.bus&&i.filterId==e.data.filterId&&(s.workletMessageCallbacks.splice(t,1),i.callback()),--t}break;case"ready":h.ready=!0,s.flushBusWorkletReadyCallbacks(l),null!=r&&(r(),r=null,a.port.postMessage({type:"ready"}));break;case"trace":Gi.trace(e.data,{fileName:"clay/web/WebAudio.hx",lineNumber:357,className:"clay.web.WebAudio",methodName:"attachWorkletToBus"})}},Gt.debug("Audio / Attached worklet "+e+" to bus "+l+" with stereo silent source",{fileName:"clay/web/WebAudio.hx",lineNumber:382,className:"clay.web.WebAudio",methodName:"attachWorkletToBus"}),!0}catch(t){Yi.lastError=t;n=oe.caught(t).unwrap();return Gt.error("Audio / Failed to create worklet node: "+X.string(n),{fileName:"clay/web/WebAudio.hx",lineNumber:386,className:"clay.web.WebAudio",methodName:"attachWorkletToBus"}),h.gainNode.connect(this.context.destination),!1}},detachWorkletFromBus:function(e){var n=this.busses.h[e];null!=n&&null!=n.workletNode&&n.ready&&(n.workletNode.disconnect(),null!=n.silentSource&&(n.silentSource.stop(),n.silentSource.disconnect(),n.silentSource=null),n.gainNode.disconnect(),n.gainNode.connect(this.context.destination),n.workletNode=null,Gt.debug("Audio / Detached worklet from bus "+e,{fileName:"clay/web/WebAudio.hx",lineNumber:411,className:"clay.web.WebAudio",methodName:"detachWorkletFromBus"}))},sendMessageToWorklet:function(e,n){e=this.busses.h[e];null!=e&&null!=e.workletNode&&e.ready&&e.workletNode.port.postMessage(n)},flushBusWorkletReadyCallbacks:function(e){var n=this.pendingBusWorkletCallbacks[e];if(null!=n){this.pendingBusWorkletCallbacks[e]=null;for(var t=0,i=n.length;t<i;)(0,n[t++])()}},scheduleWhenBusWorkletReady:function(e,n){var t=this.busses.h[e];null!=t&&null!=t.workletNode&&t.ready?n():(null==(t=this.pendingBusWorkletCallbacks[e])&&(this.pendingBusWorkletCallbacks[e]=t=[]),t.push(n))},setWorkletParameterWhenReady:function(e,n,t){var i=this,l=this.busses.h[e];null!=l&&null!=l.workletNode&&l.ready?this.setWorkletParameter(e,n,t):this.scheduleWhenBusWorkletReady(e,function(){i.setWorkletParameter(e,n,t)})},setWorkletParameter:function(e,n,t){var i,l=this.busses.h[e];null!=l&&null!=l.workletNode&&l.ready&&(null!=(i=l.workletNode.parameters.get(n))?(i.value=t,z.startsWith(n,"param")&&null!=(i=X.parseInt(se.substr(n,5,null)))&&0<=i&&i<128&&(l.parameterValues[i]=t)):Gt.warning('Audio / Unknown worklet parameter named "'+n+'" for bus '+e,{fileName:"clay/web/WebAudio.hx",lineNumber:480,className:"clay.web.WebAudio",methodName:"setWorkletParameter"}))},setWorkletParameterByIndexWhenReady:function(e,n,t){var i=this,l=this.busses.h[e];null!=l&&null!=l.workletNode&&l.ready?this.setWorkletParameterByIndex(e,n,t):this.scheduleWhenBusWorkletReady(e,function(){i.setWorkletParameterByIndex(e,n,t)})},setWorkletParameterByIndex:function(e,n,t){n<0||128<=n?Gt.warning("Audio / Parameter index "+n+" out of range (0-127)",{fileName:"clay/web/WebAudio.hx",lineNumber:498,className:"clay.web.WebAudio",methodName:"setWorkletParameterByIndex"}):this.setWorkletParameter(e,"param"+n,t)},getWorkletParameterByIndex:function(e,n){return n<0||128<=n||null==(e=this.busses.h[e])||null==e.parameterValues?0:e.parameterValues[n]},soundOf:function(e){return this.instances.h[e]},getBusGainNode:function(e){var n=this.busses.h[e];return null==n&&(Gt.debug("Audio / Bus "+e+" does not exist, creating it automatically",{fileName:"clay/web/WebAudio.hx",lineNumber:524,className:"clay.web.WebAudio",methodName:"getBusGainNode"}),this.createBus(e),n=this.busses.h[e]),n.gainNode},playBuffer:function(e){var n=this.context.createBufferSource();return n.buffer=e.buffer,n},playBufferAgain:function(e,n,t){var i=this,l=(n.bufferNode=this.playBuffer(n.source.data),n.bufferNode.playbackRate.value=n.pitch,n.bufferNode.connect(n.panNode),n.bufferNode.loop=n.loop,n.panNode.connect(n.gainNode),this.getBusGainNode(n.bus));n.gainNode.connect(l),n.bufferNode.start(0,t),n.bufferNode.onended=function(){i.soundEnded(n)}},playInstance:function(e,n,t,i,l,r,s,h){null==h&&(h=0);var a=this,o=this.context.createGain(),c=this.context.createPanner(),u=null,r=(o.gain.value=r,c.panningModel="equalpower",c.setPosition(Math.cos(-1.5707),0,Math.sin(1.5707)),null!=l&&((u=l).loop=s),null!=i.mediaNode&&(u=i.mediaNode,i.mediaElem.loop=s),u.connect(c),c.connect(o),this.getBusGainNode(h)),_=(o.connect(r),{handle:e,source:n,instance:t,bus:h,bufferNode:l,mediaNode:i.mediaNode,mediaElem:i.mediaElem,gainNode:o,panNode:c,state:1,loop:s,pan:0,pitch:1,ignoreNextEnded:0,timeResumeAppTime:window.performance.now()/1e3-ui.timestampStart,timeResume:0,timePause:null});this.instances.h[e]=_,null!=l&&(l.start(0),l.onended=function(){a.soundEnded(_)}),null!=i.mediaNode&&(i.mediaElem.play(),i.mediaElem.onended=function(){a.soundEnded(_)})},play:function(e,n,t,i){null==i&&(i=0);var l=e.data,r=this.handleSeq,s=e.instance(r);return e.data.isStream?(l.mediaElem.play(),l.mediaElem.volume=1,this.playInstance(r,e,s,l,null,n,!1,i)):this.playInstance(r,e,s,l,this.playBuffer(l),n,!1,i),this.handleSeq++,t&&this.pause(r),r},loop:function(e,n,t,i){null==i&&(i=0);var l=e.data,r=this.handleSeq,s=e.instance(r);return e.data.isStream?(l.mediaElem.play(),l.mediaElem.volume=1,this.playInstance(r,e,s,l,null,n,!0,i)):this.playInstance(r,e,s,l,this.playBuffer(l),n,!0,i),this.handleSeq++,t&&this.pause(r),r},stopBuffer:function(e){e.bufferNode.stop(),e.bufferNode.disconnect(),e.gainNode.disconnect(),e.panNode.disconnect(),e.bufferNode=null},pause:function(e){var n=this.instances.h[e];null!=n&&1==n.state&&(Gt.debug("Audio / pause handle="+e+", "+n.source.data.id,{fileName:"clay/web/WebAudio.hx",lineNumber:692,className:"clay.web.WebAudio",methodName:"pause"}),e=this.positionOf(e),n.timePause=e,n.state=0,null!=n.bufferNode?this.stopBuffer(n):null!=n.mediaNode&&n.mediaElem.pause())},unPause:function(e){var n=this.instances.h[e];null!=n&&0==n.state&&(Gt.debug("Audio / unpause handle="+e+", "+n.source.data.id,{fileName:"clay/web/WebAudio.hx",lineNumber:713,className:"clay.web.WebAudio",methodName:"unPause"}),n.timeResume=null!=n.timePause?n.timePause:0,n.timeResumeAppTime=window.performance.now()/1e3-ui.timestampStart,null==n.mediaNode?this.playBufferAgain(e,n,n.timePause):n.mediaElem.play(),n.state=1)},soundEnded:function(e){0<e.ignoreNextEnded?e.ignoreNextEnded--:0!=e.state&&(1!=e.state||this.positionOf(e.handle)+.1>=e.source.getDuration())&&this.destroySound(e)},destroySound:function(e){null!=e.source&&this.instances.h.hasOwnProperty(e.handle)&&this.positionOf(e.handle)+.1>=e.source.getDuration()&&this.app.events.audioEvent(0,e.handle),null!=e.bufferNode&&(e.bufferNode.stop(),e.bufferNode.disconnect(),e.gainNode.disconnect(),e.panNode.disconnect(),e.bufferNode=null),null!=e.mediaNode&&(e.mediaElem.pause(),e.mediaElem.currentTime=0,e.mediaNode.disconnect(),e.mediaElem=null,e.mediaNode=null),null!=e.gainNode&&(e.gainNode.disconnect(),e.gainNode=null),null!=e.panNode&&(e.panNode.disconnect(),e.panNode=null),this.instances.h.hasOwnProperty(e.handle)&&(this.instances.remove(e.handle),this.app.events.audioEvent(1,e.handle))},stop:function(e){var n=this.instances.h[e];null!=n&&(2!=n.state&&Gt.debug("Audio / stop handle="+e+(null!=n.source&&null!=n.source.data?", "+n.source.data.id:""),{fileName:"clay/web/WebAudio.hx",lineNumber:781,className:"clay.web.WebAudio",methodName:"stop"}),this.destroySound(n),n.state=2)},volume:function(e,n){var t=this.instances.h[e];null!=t&&(Gt.debug("Audio / volume="+n+" handle="+e+", "+t.source.data.id,{fileName:"clay/web/WebAudio.hx",lineNumber:792,className:"clay.web.WebAudio",methodName:"volume"}),t.gainNode.gain.value=n)},pan:function(e,n){var t=this.instances.h[e];null!=t&&(Gt.debug("Audio / pan="+n+" handle="+e+", "+t.source.data.id,{fileName:"clay/web/WebAudio.hx",lineNumber:802,className:"clay.web.WebAudio",methodName:"pan"}),t.pan=n,t.panNode.setPosition(Math.cos(1.5707*(n-1)),0,Math.sin(1.5707*(n+1))))},pitch:function(e,n){var t=this.instances.h[e];null!=t&&(Gt.debug("Audio / pitch="+n+" handle="+e+", "+t.source.data.id,{fileName:"clay/web/WebAudio.hx",lineNumber:816,className:"clay.web.WebAudio",methodName:"pitch"}),null==t.mediaNode&&(e=this.positionOf(e),t.pitch=n,1==t.state)&&(t.timeResumeAppTime=t.timeResume+(window.performance.now()/1e3-ui.timestampStart)-e/t.pitch),null!=t.bufferNode?t.bufferNode.playbackRate.value=n:t.mediaNode)},position:function(e,n){var t=this.instances.h[e];null!=t&&(Gt.debug("Audio / position="+n+" handle="+e+", "+t.source.data.id,{fileName:"clay/web/WebAudio.hx",lineNumber:839,className:"clay.web.WebAudio",methodName:"position"}),0==t.state?t.timePause=n:(t.timeResume=n,t.timeResumeAppTime=window.performance.now()/1e3-ui.timestampStart,null!=t.bufferNode?(t.ignoreNextEnded++,this.ignoreEndedSoundsTick0.push(t),this.stopBuffer(t),this.playBufferAgain(e,t,n)):t.mediaElem.currentTime=n))},volumeOf:function(e){e=this.instances.h[e];return null==e?0:e.gainNode.gain.value},panOf:function(e){e=this.instances.h[e];return null==e?0:e.pan},pitchOf:function(e){e=this.instances.h[e];return null==e?1:e.pitch},positionOf:function(e){var n,t=this.instances.h[e];if(null==t)return 0;if(null!=t.mediaElem)return t.mediaElem.currentTime;switch(t.state){case 0:case 1:switch(t.state){case 0:n=t.timePause;break;case 1:n=t.timeResume+(window.performance.now()/1e3-ui.timestampStart-t.timeResumeAppTime)*t.pitch;break;default:n=0}var i=t.source.getDuration();return 0<i&&(t.loop?n%=i:i<n&&(n=i)),n;case-1:case 2:return 0}},stateOf:function(e){e=this.instances.h[e];return null==e?-1:e.state},loopOf:function(e){e=this.instances.h[e];return null!=e&&e.loop},instanceOf:function(e){e=this.instances.h[e];return null==e?null:e.instance},suspend:function(){!this.active||this.suspended||(this.suspended=!0,this.active=!1,this.context.suspend())},resume:function(){this.active||this.suspended&&(this.suspended=!1,this.active=!0,this.context.resume())},getSoundBus:function(e){e=this.instances.h[e];return null!=e?e.bus:-1},moveSoundToBus:function(e,n){var t,i=this.instances.h[e];return null!=i&&null!=(t=this.busses.h[n])&&(i.gainNode.disconnect(),i.gainNode.connect(t.gainNode),i.bus=n,Gt.debug("Audio / Moved sound "+e+" to bus "+n,{fileName:"clay/web/WebAudio.hx",lineNumber:975,className:"clay.web.WebAudio",methodName:"moveSoundToBus"}),!0)},listBusses:function(){for(var e=[],n=this.busses.keys();n.hasNext();){var t=n.next();e.push(t)}return e},getBusName:function(e){e=this.busses.h[e];return null!=e?e.name:""},createBusFilter:function(e,n,t,i){var l=this;this.busses.h.hasOwnProperty(n)||(Gt.debug("Audio / Bus "+n+" does not exist for filter, creating it automatically",{fileName:"clay/web/WebAudio.hx",lineNumber:996,className:"clay.web.WebAudio",methodName:"createBusFilter"}),this.createBus(n)),this.loadWorkletModule("bus-worklet",e,function(e){e?l.attachWorkletToBus(n,"bus-worklet",{},function(){Gt.debug("Audio / Worklet attached to bus #"+n+" is now ready!",{fileName:"clay/web/WebAudio.hx",lineNumber:1003,className:"clay.web.WebAudio",methodName:"createBusFilter"}),t(n,n)})||Gt.error("Audio / Failed to attach worklet to bus #"+n,{fileName:"clay/web/WebAudio.hx",lineNumber:1008,className:"clay.web.WebAudio",methodName:"createBusFilter"}):Gt.error("Audio / Failed to load create bus filter #"+n,{fileName:"clay/web/WebAudio.hx",lineNumber:1012,className:"clay.web.WebAudio",methodName:"createBusFilter"})})},addBusFilterWorklet:function(e,n,t,i){this.busses.h.hasOwnProperty(e)||(Gt.debug("Audio / Bus "+e+" does not exist for filter worklet, creating it automatically",{fileName:"clay/web/WebAudio.hx",lineNumber:1022,className:"clay.web.WebAudio",methodName:"addBusFilterWorklet"}),this.createBus(e));var l=this.busses.h[e];null==l?Gt.error("Audio / Cannot add bus filter worklet: bus #"+e+" creation failed",{fileName:"clay/web/WebAudio.hx",lineNumber:1028,className:"clay.web.WebAudio",methodName:"addBusFilterWorklet"}):null==l.workletNode?Gt.error("Audio / Cannot add bus filter worklet: bus #"+e+" has no worklet node",{fileName:"clay/web/WebAudio.hx",lineNumber:1032,className:"clay.web.WebAudio",methodName:"addBusFilterWorklet"}):(t={type:"addBusFilterWorklet",bus:e,filterId:n,workletClass:t.__name__},null!=i&&this.workletMessageCallbacks.push({type:"addBusFilterWorklet",bus:e,filterId:n,callback:i}),l.workletNode.port.postMessage(t))},destroyBusFilterWorklet:function(e,n){var t=this.busses.h[e];null==t?Gt.warning("Audio / Cannot destroy bus filter worklet: bus #"+e+" does not exist",{fileName:"clay/web/WebAudio.hx",lineNumber:1058,className:"clay.web.WebAudio",methodName:"destroyBusFilterWorklet"}):null==t.workletNode?Gt.warning("Audio / Cannot destroy bus filter worklet: bus #"+e+" has no worklet node",{fileName:"clay/web/WebAudio.hx",lineNumber:1062,className:"clay.web.WebAudio",methodName:"destroyBusFilterWorklet"}):t.workletNode.port.postMessage({type:"destroyBusFilterWorklet",bus:e,filterId:n})},ensureBusExists:function(e){return!!this.busses.h.hasOwnProperty(e)||(Gt.debug("Audio / Auto-creating bus "+e,{fileName:"clay/web/WebAudio.hx",lineNumber:1077,className:"clay.web.WebAudio",methodName:"ensureBusExists"}),this.createBus(e),this.busses.h.hasOwnProperty(e))},loadData:function(e,n,t,i,l){if(null==i&&(i=!1),null==e)throw oe.thrown("path is null!");return this.active?n?this.loadDataFromStream(e,t,l):this.loadDataFromSound(e,t,l):(Gt.error("Audio / WebAudio context unavailable",{fileName:"clay/web/WebAudio.hx",lineNumber:1091,className:"clay.web.WebAudio",methodName:"loadData"}),null!=l&&Wt.push(function(){l(null)})),null},dataFromBytes:function(t,e,i,l){var r=this;if(this.active){if(null==t)throw oe.thrown("id is null!");if(null==e)throw oe.thrown("bytes is null!");this.context.decodeAudioData(e.buffer,function(e){var n=new ai(r.app,e,null,null,new Pc(t,0|e.sampleRate,e.length,e.duration,e.numberOfChannels,null,i,!1));null!=l&&Wt.push(function(){l(n)})},function(){Gt.error("Audio / failed to decode audio for `"+t+"`",{fileName:"clay/web/WebAudio.hx",lineNumber:1141,className:"clay.web.WebAudio",methodName:"dataFromBytes"}),null!=l&&Wt.push(function(){l(null)})})}else null!=l&&Wt.push(function(){l(null)})},dataFromPCM:function(e,n,t,i,l,r,s,h){if(null==r&&(r=!0),this.active){if(null==e)throw oe.thrown("id is null!");if(null==n)throw oe.thrown("pcmData is null!");if(t<=0)throw oe.thrown("sampleFrames must be positive!");if(l<=0)throw oe.thrown("sampleRate must be positive!");if(i<=0)throw oe.thrown("channels must be positive!");try{var a=this.context.createBuffer(i,t,l);if(r)for(var o=0,c=i;o<c;)for(var u=o++,_=a.getChannelData(u),d=0,b=t;d<b;)(f=(O=d++)*i+u)<n.length?_[O]=n[f]:_[O]=0;else for(var g=n.length/i|0,o=0,c=i;o<c;)for(var O,f,u=o++,_=a.getChannelData(u),p=u*g,d=0,b=t;d<b;)(f=p+(O=d++))<n.length?_[O]=n[f]:_[O]=0;var C=new ai(this.app,a,null,null,new Pc(e,0|a.sampleRate,a.length,a.duration,a.numberOfChannels,null,s,!1));return Gt.debug("Audio / Created AudioData from PCM: "+e+" ("+i+" channels, "+t+" frames, "+l+"Hz, "+(r?"interleaved":"planar")+")",{fileName:"clay/web/WebAudio.hx",lineNumber:1231,className:"clay.web.WebAudio",methodName:"dataFromPCM"}),null!=h&&Wt.push(function(){h(C)}),C}catch(o){Yi.lastError=o;s=oe.caught(o).unwrap();Gt.error("Audio / Failed to create audio buffer from PCM data for `"+e+"`: "+X.string(s),{fileName:"clay/web/WebAudio.hx",lineNumber:1242,className:"clay.web.WebAudio",methodName:"dataFromPCM"}),null!=h&&Wt.push(function(){h(null)})}}else null!=h&&Wt.push(function(){h(null)});return null},handleSourceDestroyed:function(e){},handleInstanceDestroyed:function(e){this.stop(e)},loadDataFromSound:function(n,t,i){var l=this;this.app.io.loadData(n,!0,null,function(e){null!=e?l.dataFromBytes(n,e,t,i):null!=i&&Wt.push(function(){i(null)})})},loadDataFromStream:function(s,h,a){var o=this,c=new Audio(s);c.autoplay=!1,c.controls=!1,c.preload="auto",c.onerror=function(e){var n;switch(c.error.code){case 1:n="MEDIA_ERR_ABORTED";break;case 2:n="MEDIA_ERR_NETWORK";break;case 3:n="MEDIA_ERR_DECODE";break;case 4:n="MEDIA_ERR_SRC_NOT_SUPPORTED";break;case 5:n="MEDIA_ERR_ENCRYPTED";break;default:n="unknown error"}Gt.error("Audio / failed to load `"+s+"` as stream : `"+n+"`",{fileName:"clay/web/WebAudio.hx",lineNumber:1295,className:"clay.web.WebAudio",methodName:"loadDataFromStream"}),null!=a&&Wt.push(function(){a(null)})},c.onloadedmetadata=function(e){var n=o.context.createMediaElementSource(c),t=0|o.context.sampleRate,i=n.channelCount,l=c.duration*(t*i*2)|0,r=new ai(o.app,null,n,c,new Pc(s,t,l,c.duration,i,null,h,!0));null!=a&&Wt.push(function(){a(r)})}},__class__:hi}),function(e,n,t,i,l){this.buffer=n,this.mediaNode=t,this.mediaElem=i,Qc.call(this,e,l)}),oi=((E["clay.web._WebAudio.WebAudioData"]=ai).__name__="clay.web._WebAudio.WebAudioData",ai.__super__=Qc,ai.prototype=$extend(Qc.prototype,{buffer:null,mediaNode:null,mediaElem:null,destroy:function(){this.buffer=null,this.mediaNode=null,this.mediaElem=null,Qc.prototype.destroy.call(this)},__class__:ai}),function(e,n,t,i,l,r,s){this.mouseUseBrowserWindowEvents=!0,this.preventDefaultKeys=[1073741904,1073741903,1073741906,1073741905,8,9,127,32],this.preventDefaultTouches=!0,this.preventDefaultMouseWheel=!0,this.preventDefaultContextMenu=!0,this.windowParent=window.document.body,this.windowId="app",null!=e&&(this.windowId=e),null!=n&&(this.windowParent=n),null!=t&&(this.preventDefaultContextMenu=t),null!=i&&(this.preventDefaultMouseWheel=i),null!=l&&(this.preventDefaultTouches=l),null!=r&&(this.preventDefaultKeys=r),null!=s&&(this.mouseUseBrowserWindowEvents=s)}),ci=((E["clay.web.WebConfig"]=oi).__name__="clay.web.WebConfig",oi.prototype={windowId:null,windowParent:null,preventDefaultContextMenu:null,preventDefaultMouseWheel:null,preventDefaultTouches:null,preventDefaultKeys:null,mouseUseBrowserWindowEvents:null,__class__:oi},function(e){Yc.call(this,e)}),ui=((E["clay.web.WebIO"]=ci).__name__="clay.web.WebIO",ci.__super__=Yc,ci.prototype=$extend(Yc.prototype,{isSynchronous:function(){return!1},loadData:function(t,e,n,i){if(null==n&&(n=!1),null==e&&(e=!1),null==t)throw oe.thrown("Path is null!");var l=new XMLHttpRequest;return l.open("GET",t,!0),e?l.overrideMimeType("text/plain; charset=x-user-defined"):l.overrideMimeType("text/plain; charset=UTF-8"),l.responseType="arraybuffer",l.onload=function(e){var n;200==l.status?(n=new Uint8Array(l.response),null!=i&&Wt.push(function(){i(n)})):(Gt.error("Request status for path "+t+" was "+l.status+" / "+l.statusText,{fileName:"clay/web/WebIO.hx",lineNumber:136,className:"clay.web.WebIO",methodName:"loadData"}),null!=i&&Wt.push(function(){i(e)}))},l.send(),null},__class__:ci}),function(e){this.nextFrameCallbacks=[],this.didEmitTickOnce=!1,this.keyDownStates=new An,this.pendingKeyUps=[],this.touches=new An,this.windowDpr=1,this.windowY=0,this.windowX=0,this.skipKeyboardEvents=!1,this.skipMouseEvents=!1,this.webglVersion=1,this.gamepadsSupported=!1,Zc.call(this,e)}),_i=((E["clay.web.WebRuntime"]=ui).__name__="clay.web.WebRuntime",ui.timestamp=function(){return window.performance.now()/1e3-ui.timestampStart},ui.defaultConfig=function(){return new oi("app",window.document.body,!0,!0,!0,[1073741904,1073741903,1073741906,1073741905,8,9,127,32],!0)},ui.__super__=Zc,ui.prototype=$extend(Zc.prototype,{gamepadsSupported:null,window:null,webglVersion:null,skipMouseEvents:null,skipKeyboardEvents:null,windowX:null,windowY:null,windowW:null,windowH:null,windowDpr:null,touches:null,gamepadButtonCache:null,gamepadAxisCache:null,pendingKeyUps:null,keyDownStates:null,didEmitTickOnce:null,nextFrameCallbacks:null,init:function(){ui.timestampStart=window.performance.now()/1e3,this.name="web",this.initGamepads()},ready:function(){this.createWindow(),Gt.debug("Web / ready",{fileName:"clay/web/WebRuntime.hx",lineNumber:87,className:"clay.web.WebRuntime",methodName:"ready"})},run:function(){return Gt.debug("Web / run",{fileName:"clay/web/WebRuntime.hx",lineNumber:93,className:"clay.web.WebRuntime",methodName:"run"}),this.loop(0),!1},loop:function(e){if(null==e&&(e=.016),this.app.hasShutdown)return!1;if(this.app.shuttingDown||window.requestAnimationFrame($bind(this,this.loop)),0<this.nextFrameCallbacks.length){for(var n=[];0<this.nextFrameCallbacks.length;)n.push(this.nextFrameCallbacks.shift());for(var t=0,i=n.length;t<i;)n[t++]()}this.app.ready&&(this.gamepadsSupported&&this.pollGamepads(),this.updateWindowBounds());e=window.performance.now()/1e3-ui.timestampStart;return this.app.shouldUpdate(e)&&(this.didEmitTickOnce=!0,this.app.emitTick(e)),this.clearPendingKeyUps(),this.app.emitRender(),!0},createWindow:function(){var e=this.app.config.window;this.window=window.document.createElement("canvas"),this.windowDpr=this.windowDevicePixelRatio(),this.window.width=Math.floor(e.width*this.windowDpr),this.window.height=Math.floor(e.height*this.windowDpr),this.windowW=e.width,this.windowH=e.height,this.window.style.width=e.width+"px",this.window.style.height=e.height+"px",this.window.style.background="#000000",Gt.debug("Web / Created window at "+this.windowX+","+this.windowY+" - "+this.window.width+"x"+this.window.height+" pixels ("+e.width+"x"+e.height+"@"+this.windowDpr+"x)",{fileName:"clay/web/WebRuntime.hx",lineNumber:167,className:"clay.web.WebRuntime",methodName:"createWindow"}),this.window.id=this.app.config.runtime.windowId,this.app.config.runtime.windowParent.appendChild(this.window),null!=e.title&&(window.document.title=e.title),this.createRenderContext(this.window)?(this.postRenderContext(this.window),this.setupEvents()):this.createRenderContextFailed()},createRenderContext:function(e){var n=this.app.config.render,t=this.applyGLAttributes(n),i=null;return 1!=n.webgl.version&&null!=(i=null==(i=e.getContext("webgl"+n.webgl.version,t))?e.getContext("experimental-webgl"+n.webgl.version,t):i)&&(this.webglVersion=n.webgl.version),null==i&&(i=Dl.getContextWebGL(e,t),this.webglVersion=1),ne.gl=i,Gt.debug("GL / context: "+X.string(null!=i),{fileName:"clay/web/WebRuntime.hx",lineNumber:213,className:"clay.web.WebRuntime",methodName:"createRenderContext"}),null!=i},createRenderContextFailed:function(){var e=window.document.createElement("div"),n=window.document.createElement("div");throw e.style.marginLeft="auto",e.style.marginRight="auto",e.style.color="#d3d3d3",e.style.marginTop="5em",e.style.fontSize="1.4em",e.style.fontFamily="Helvetica, sans-serif",e.innerHTML='WebGL is required to run this!<br/><br/>visit <a style="color:#06b4fb; text-decoration:none;" href="http://get.webgl.org/">get.webgl.com</a> for info<br/>and contact the developer of this app',n.style.top="0",n.style.left="0",n.style.width="100%",n.style.height="100%",n.style.display="block",n.style.minWidth="100%",n.style.minHeight="100%",n.style.textAlign="center",n.style.position="absolute",n.style.background="rgba(1,1,1,0.90)",n.appendChild(e),window.document.body.appendChild(n),oe.thrown("Web / Failed to create render context")},applyGLAttributes:function(e){var n={alpha:e.webgl.alpha,antialias:e.webgl.antialias,depth:e.webgl.depth,stencil:e.webgl.stencil,failIfMajorPerformanceCaveat:e.webgl.failIfMajorPerformanceCaveat,premultipliedAlpha:e.webgl.premultipliedAlpha,preserveDrawingBuffer:e.webgl.preserveDrawingBuffer};return 0<e.antialiasing?n.antialias=!0:n.antialias=!1,0<e.depth&&(n.depth=!0),0<e.stencil&&(n.stencil=!0),n},postRenderContext:function(e){var n=this.app.config.render.defaultClear;ne.gl.clearDepth(1),ne.gl.clearStencil(0),ne.gl.clearColor(n.r,n.g,n.b,n.a),ne.gl.clear(17664),ee._graphics.setup()},setupEvents:function(){window.document.addEventListener("fullscreenchange",$bind(this,this.handleFullscreenChange)),window.document.addEventListener("fullscreenerror",$bind(this,this.handleFullscreenError)),this.window.addEventListener("mouseenter",$bind(this,this.handleMouseEnter)),this.window.addEventListener("mouseleave",$bind(this,this.handleMouseLeave)),window.document.addEventListener("visibilitychange",$bind(this,this.handleVisibilityChange)),window.document.addEventListener("keydown",$bind(this,this.handleKeyDown)),window.document.addEventListener("keyup",$bind(this,this.handleKeyUp)),window.document.addEventListener("keypress",$bind(this,this.handleKeyPress)),this.window.addEventListener("contextmenu",$bind(this,this.handleContextMenu));var e=this.app.config.runtime.mouseUseBrowserWindowEvents?window:this.window;e.addEventListener("mousedown",$bind(this,this.handleMouseDown)),e.addEventListener("mouseup",$bind(this,this.handleMouseUp)),e.addEventListener("mousemove",$bind(this,this.handleMouseMove)),this.window.addEventListener("wheel",$bind(this,this.handleWheel)),this.window.addEventListener("touchstart",$bind(this,this.handleTouchStart)),this.window.addEventListener("touchend",$bind(this,this.handleTouchEnd)),this.window.addEventListener("touchmove",$bind(this,this.handleTouchMove)),window.addEventListener("gamepadconnected",$bind(this,this.handleGamepadConnected)),window.addEventListener("gamepaddisconnected",$bind(this,this.handleGamepadDisconnected))},handleVisibilityChange:function(e){window.document.hidden?(this.app.emitWindowEvent(2,window.performance.now()/1e3-ui.timestampStart,1,0,0),this.app.emitWindowEvent(7,window.performance.now()/1e3-ui.timestampStart,1,0,0),this.app.emitWindowEvent(13,window.performance.now()/1e3-ui.timestampStart,1,0,0)):(this.app.emitWindowEvent(1,window.performance.now()/1e3-ui.timestampStart,1,0,0),this.app.emitWindowEvent(9,window.performance.now()/1e3-ui.timestampStart,1,0,0),this.app.emitWindowEvent(12,window.performance.now()/1e3-ui.timestampStart,1,0,0))},bindCustomElementTouchEvents:function(e){e.addEventListener("touchstart",$bind(this,this.handleTouchStart)),e.addEventListener("touchend",$bind(this,this.handleTouchEnd)),e.addEventListener("touchmove",$bind(this,this.handleTouchMove))},handleContextMenu:function(e){this.app.config.runtime.preventDefaultContextMenu&&e.preventDefault()},handleFullscreenChange:function(e){var n=window.document.fullscreenElement;null!=n?(Gt.debug("Web / Entering fullscreen (id="+n.id+")",{fileName:"clay/web/WebRuntime.hx",lineNumber:393,className:"clay.web.WebRuntime",methodName:"handleFullscreenChange"}),this.app.config.window.fullscreen=!0,this.app.emitWindowEvent(15,window.performance.now()/1e3-ui.timestampStart,1,0,0)):(Gt.debug("Web / Leaving fullscreen",{fileName:"clay/web/WebRuntime.hx",lineNumber:398,className:"clay.web.WebRuntime",methodName:"handleFullscreenChange"}),this.app.config.window.fullscreen=!1,this.app.emitWindowEvent(16,window.performance.now()/1e3-ui.timestampStart,1,0,0))},handleFullscreenError:function(e){Gt.warning("Web / Failed to change fullscreen setting: "+X.string(e),{fileName:"clay/web/WebRuntime.hx",lineNumber:407,className:"clay.web.WebRuntime",methodName:"handleFullscreenError"})},handleMouseEnter:function(e){this.app.emitWindowEvent(10,window.performance.now()/1e3-ui.timestampStart,1,0,0)},handleMouseLeave:function(e){this.app.emitWindowEvent(11,window.performance.now()/1e3-ui.timestampStart,1,0,0)},handleMouseDown:function(e){var n,t,i,l,r,s=this;this.skipMouseEvents||(e.preventDefault(),n=this.app.input,i=Math.floor(this.windowDpr*(e.pageX-this.windowX)),l=Math.floor(this.windowDpr*(e.pageY-this.windowY)),r=e.button,t=window.performance.now()/1e3-ui.timestampStart,n.app.events.mouseDown(i,l,r,t,1),2==e.button&&(i=Math.floor(this.windowDpr*(e.pageX-this.windowX)),l=Math.floor(this.windowDpr*(e.pageY-this.windowY)),r=e.button,this.nextFrameCallbacks.push(function(){s.nextFrameCallbacks.push(function(){var e=s.app.input,n=window.performance.now()/1e3-ui.timestampStart;e.app.events.mouseUp(i,l,r,n,1)})})))},handleMouseUp:function(e){var n,t,i,l;this.skipMouseEvents||(e.preventDefault(),n=this.app.input,t=Math.floor(this.windowDpr*(e.pageX-this.windowX)),i=Math.floor(this.windowDpr*(e.pageY-this.windowY)),e=e.button,l=window.performance.now()/1e3-ui.timestampStart,n.app.events.mouseUp(t,i,e,l,1))},handleMouseMove:function(e){var n,t,i,l,r;this.skipMouseEvents||(e.preventDefault(),n=null==e.movementX?0:e.movementX,t=null==e.movementY?0:e.movementY,n=Math.floor(n*this.windowDpr),t=Math.floor(t*this.windowDpr),i=this.app.input,l=Math.floor(this.windowDpr*(e.pageX-this.windowX)),e=Math.floor(this.windowDpr*(e.pageY-this.windowY)),r=window.performance.now()/1e3-ui.timestampStart,i.app.events.mouseMove(l,e,n,t,r,1))},handleWheel:function(e){var n,t,i;this.app.config.runtime.preventDefaultMouseWheel&&e.preventDefault(),this.skipMouseEvents||(n=this.app.input,t=Math.round(.1*e.deltaX),e=Math.round(.1*e.deltaY),i=window.performance.now()/1e3-ui.timestampStart,n.app.events.mouseWheel(t,e,i,1))},handleTouchStart:function(e){this.app.config.runtime.preventDefaultTouches&&e.preventDefault();for(var n=this.window.getBoundingClientRect(),t=0,i=e.changedTouches;t<i.length;){var l=i[t],r=(++t,l.clientX-n.left),s=l.clientY-n.top,h=(r/=n.width,s/=n.height,this.touches.get(l.identifier)),h=(null==h?this.touches.set(l.identifier,h={x:r,y:s}):(h.x=r,h.y=s),this.app.input),l=l.identifier,a=window.performance.now()/1e3-ui.timestampStart;h.app.events.touchDown(r,s,0,0,l,a)}},handleTouchEnd:function(e){this.app.config.runtime.preventDefaultTouches&&e.preventDefault();for(var n=this.window.getBoundingClientRect(),t=0,i=e.changedTouches;t<i.length;){var l=i[t],r=(++t,l.clientX-n.left),s=l.clientY-n.top,h=(r/=n.width,s/=n.height,this.touches.get(l.identifier)),a=(null==h&&this.touches.set(l.identifier,h={x:r,y:s}),this.app.input),o=r-h.x,c=s-h.y,l=l.identifier,u=window.performance.now()/1e3-ui.timestampStart;a.app.events.touchUp(r,s,o,c,l,u),h.x=r,h.y=s}},handleTouchMove:function(e){this.app.config.runtime.preventDefaultTouches&&e.preventDefault();for(var n=this.window.getBoundingClientRect(),t=0,i=e.changedTouches;t<i.length;){var l=i[t],r=(++t,l.clientX-n.left),s=l.clientY-n.top,h=(r/=n.width,s/=n.height,this.touches.get(l.identifier)),a=(null==h&&this.touches.set(l.identifier,h={x:r,y:s}),this.app.input),o=r-h.x,c=s-h.y,l=l.identifier,u=window.performance.now()/1e3-ui.timestampStart;a.app.events.touchMove(r,s,o,c,l,u),h.x=r,h.y=s}},clearPendingKeyUps:function(){for(;0<this.pendingKeyUps.length;){var e,n,t,i,l,r,s=this.pendingKeyUps.shift();1==this.keyDownStates.get(s.keyCode)&&(this.keyDownStates.set(s.keyCode,!1),e=this.app.input,n=s.keyCode,t=s.scanCode,i=s.repeat,l=s.modState,r=window.performance.now()/1e3-ui.timestampStart,e.app.events.keyUp(n,t,i,l,r,s.windowId))}},handleKeyDown:function(e){if(!this.skipKeyboardEvents){var n=this.convertKeyCode(e.keyCode),t=this.convertScanCode(e.code,n),i=this.modStateFromEvent(e);if(!i.none)switch(n){case 1073742048:case 1073742049:case 1073742050:case 1073742051:case 1073742052:case 1073742053:case 1073742054:case 1073742055:break;default:(i.lctrl||i.rctrl||i.lalt||i.ralt||i.lmeta||i.rmeta)&&this.pendingKeyUps.push({keyCode:n,scanCode:t,repeat:e.repeat,modState:i,windowId:1})}-1!=this.app.config.runtime.preventDefaultKeys.indexOf(n)&&e.preventDefault(),this.keyDownStates.set(n,!0);var l=this.app.input,r=e.repeat,s=window.performance.now()/1e3-ui.timestampStart;l.app.events.keyDown(n,t,r,i,s,1)}},handleKeyUp:function(e){var n,t,i,l,r;this.skipKeyboardEvents||(n=this.convertKeyCode(e.keyCode),t=this.convertScanCode(e.code,n),i=this.modStateFromEvent(e),-1!=this.app.config.runtime.preventDefaultKeys.indexOf(n)&&e.preventDefault(),1==this.keyDownStates.get(n)&&(this.keyDownStates.set(n,!1),l=this.app.input,e=e.repeat,r=window.performance.now()/1e3-ui.timestampStart,l.app.events.keyUp(n,t,e,i,r,1)))},handleKeyPress:function(e){var n,t,i;this.skipKeyboardEvents||0!=e.which&&8!=e.keyCode&&13!=e.keyCode&&(e=e.charCode,e=String.fromCodePoint(e),n=this.app.input,t=e.length,i=window.performance.now()/1e3-ui.timestampStart,n.app.events.text(e,0,t,2,i,1))},handleGamepadConnected:function(e){Gt.debug("Gamepad connected at index "+e.gamepad.index+": "+e.gamepad.id+". "+e.gamepad.buttons.length+" buttons, "+e.gamepad.axes.length+" axes",{fileName:"clay/web/WebRuntime.hx",lineNumber:753,className:"clay.web.WebRuntime",methodName:"handleGamepadConnected"});var n=e.gamepad;if(null==this.gamepadButtonCache[n.index]){this.gamepadButtonCache[n.index]=[];for(var t=0,i=n.buttons.length;t<i;){t++;this.gamepadButtonCache[n.index].push(0)}this.gamepadAxisCache[n.index]=[];for(t=0,i=n.axes.length;t<i;){t++;this.gamepadAxisCache[n.index].push(0)}}var l=this.app.input,n=e.gamepad.index,e=e.gamepad.id,r=window.performance.now()/1e3-ui.timestampStart;l.app.events.gamepadDevice(n,e,1,r)},handleGamepadDisconnected:function(e){Gt.debug("Gamepad disconnected at index "+e.gamepad.index+": "+e.gamepad.id,{fileName:"clay/web/WebRuntime.hx",lineNumber:768,className:"clay.web.WebRuntime",methodName:"handleGamepadDisconnected"});var n=e.gamepad,t=(this.gamepadButtonCache[n.index]=null,this.gamepadAxisCache[n.index]=null,this.app.input),n=e.gamepad.index,e=e.gamepad.id,i=window.performance.now()/1e3-ui.timestampStart;t.app.events.gamepadDevice(n,e,2,i)},convertKeyCode:function(e){return 65<=e&&e<=90?e+32:_i.domKeyToKeyCode(e)},convertScanCode:function(e,n){if(null==e)return b.toScanCode(n);switch(e){case"AltLeft":return 226;case"AltRight":return 230;case"ArrowDown":return 81;case"ArrowLeft":return 80;case"ArrowRight":return 79;case"ArrowUp":return 82;case"AudioVolumeDown":case"VolumeDown":return 129;case"AudioVolumeMute":return 262;case"AudioVolumeUp":case"VolumeUp":return 128;case"Backquote":return 53;case"Backslash":return 49;case"Backspace":return 42;case"BracketLeft":return 47;case"BracketRight":return 48;case"BrowserBack":return 270;case"BrowserFavorites":return 274;case"BrowserForward":return 271;case"BrowserHome":return 269;case"BrowserRefresh":return 273;case"BrowserSearch":return 268;case"BrowserStop":return 272;case"Cancel":return 155;case"CapsLock":return 57;case"Comma":return 54;case"ContextMenu":return 118;case"ControlLeft":return 224;case"ControlRight":return 228;case"Delete":return 76;case"Digit0":return 39;case"Digit1":return 30;case"Digit2":return 31;case"Digit3":return 32;case"Digit4":return 33;case"Digit5":return 34;case"Digit6":return 35;case"Digit7":return 36;case"Digit8":return 37;case"Digit9":return 38;case"End":return 77;case"Enter":return 40;case"Equal":return 46;case"Escape":return 41;case"F1":return 58;case"F10":return 67;case"F11":return 68;case"F12":return 69;case"F2":return 59;case"F3":return 60;case"F4":return 61;case"F5":return 62;case"F6":return 63;case"F7":return 64;case"F8":return 65;case"F9":return 66;case"Help":case"Insert":return 73;case"Home":return 74;case"IntlBackslash":return 100;case"KanaMode":case"Lang1":return 144;case"KeyA":return 4;case"KeyB":return 5;case"KeyC":return 6;case"KeyD":return 7;case"KeyE":return 8;case"KeyF":return 9;case"KeyG":return 10;case"KeyH":return 11;case"KeyI":return 12;case"KeyJ":return 13;case"KeyK":return 14;case"KeyL":return 15;case"KeyM":return 16;case"KeyN":return 17;case"KeyO":return 18;case"KeyP":return 19;case"KeyQ":return 20;case"KeyR":return 21;case"KeyS":return 22;case"KeyT":return 23;case"KeyU":return 24;case"KeyV":return 25;case"KeyW":return 26;case"KeyX":return 27;case"KeyY":return 28;case"KeyZ":return 29;case"Lang2":return 145;case"Lang3":return 146;case"Lang4":return 147;case"Lang5":return 148;case"Lang6":return 149;case"Lang7":return 150;case"Lang8":return 151;case"Lang9":return 152;case"LaunchApp1":return 283;case"LaunchApp2":return 284;case"LaunchMail":return 265;case"MediaPlayPause":return 261;case"MediaSelect":return 263;case"MediaStop":return 260;case"MediaTrackNext":return 258;case"MediaTrackPrevious":return 259;case"MetaLeft":case"OSLeft":return 227;case"MetaRight":case"OSRight":return 231;case"Minus":return 45;case"NumLock":return 83;case"Numpad0":return 98;case"Numpad1":return 89;case"Numpad2":return 90;case"Numpad3":return 91;case"Numpad4":return 92;case"Numpad5":return 93;case"Numpad6":return 94;case"Numpad7":return 95;case"Numpad8":return 96;case"Numpad9":return 97;case"NumpadAdd":return 87;case"NumpadComma":return 133;case"NumpadDecimal":return 220;case"NumpadDivide":return 84;case"NumpadEnter":return 88;case"NumpadEqual":return 103;case"NumpadMultiply":return 85;case"NumpadSubtract":return 86;case"PageDown":return 78;case"PageUp":return 75;case"Pause":return 72;case"Period":return 55;case"Power":return 102;case"PrintScreen":return 70;case"Quote":return 52;case"ScrollLock":return 71;case"Semicolon":return 51;case"ShiftLeft":return 225;case"ShiftRight":return 229;case"Slash":return 56;case"Space":return 44;case"Tab":return 43;default:return b.toScanCode(n)}},modStateFromEvent:function(e){var n=!(e.altKey||e.ctrlKey||e.metaKey||e.shiftKey);return this.app.input.modState.none=n,this.app.input.modState.lshift=e.shiftKey,this.app.input.modState.rshift=e.shiftKey,this.app.input.modState.lctrl=e.ctrlKey,this.app.input.modState.rctrl=e.ctrlKey,this.app.input.modState.lalt=e.altKey,this.app.input.modState.ralt=e.altKey,this.app.input.modState.lmeta=e.metaKey,this.app.input.modState.rmeta=e.metaKey,this.app.input.modState.num=!1,this.app.input.modState.caps=!1,this.app.input.modState.mode=!1,this.app.input.modState.ctrl=e.ctrlKey,this.app.input.modState.shift=e.shiftKey,this.app.input.modState.alt=e.altKey,this.app.input.modState.meta=e.metaKey,this.app.input.modState},getWindowX:function(e){return Math.round(e.left+window.pageXOffset-window.document.body.clientTop)},getWindowY:function(e){return Math.round(e.top+window.pageYOffset-window.document.body.clientLeft)},translateMouseX:function(e){return Math.floor(this.windowDpr*(e.pageX-this.windowX))},translateMouseY:function(e){return Math.floor(this.windowDpr*(e.pageY-this.windowY))},updateWindowBounds:function(){var e=this.windowDpr,n=(this.windowDpr=this.windowDevicePixelRatio(),this.window.getBoundingClientRect()),t=Math.round(n.left+window.pageXOffset-window.document.body.clientTop),i=Math.round(n.top+window.pageYOffset-window.document.body.clientLeft),l=Math.round(n.width),n=Math.round(n.height);t==this.windowX&&i==this.windowY||(this.windowX=t,this.windowY=i,this.app.emitWindowEvent(4,window.performance.now()/1e3-ui.timestampStart,1,this.windowX,this.windowY)),l==this.windowW&&n==this.windowH&&e==this.windowDpr||(this.windowW=l,this.windowH=n,this.window.width=Math.floor(this.windowW*this.windowDpr),this.window.height=Math.floor(this.windowH*this.windowDpr),this.app.emitWindowEvent(6,window.performance.now()/1e3-ui.timestampStart,1,this.window.width,this.window.height))},initGamepads:function(){var e=this.getGamepadList();if(null!=e){this.gamepadsSupported=!0,this.gamepadButtonCache=[],this.gamepadAxisCache=[];for(var n=0;n<e.length;){var t=e[n];if(++n,null!=t&&null==this.gamepadButtonCache[t.index]){this.gamepadButtonCache[t.index]=[];for(var i=0,l=t.buttons.length;i<l;){i++;this.gamepadButtonCache[t.index].push(0)}this.gamepadAxisCache[t.index]=[];for(var r=0,s=t.axes.length;r<s;){r++;this.gamepadAxisCache[t.index].push(0)}}}}else Gt.warning("Gamepads are not supported in this browser :(",{fileName:"clay/web/WebRuntime.hx",lineNumber:1036,className:"clay.web.WebRuntime",methodName:"initGamepads"})},getGamepadList:function(){return null!=be.navigator.getGamepads?be.navigator.getGamepads():null!=be.navigator.webkitGetGamepads?be.navigator.webkitGetGamepads():null},initGamepadCacheIfNeeded:function(e){if(null==this.gamepadButtonCache[e.index]){this.gamepadButtonCache[e.index]=[];for(var n=0,t=e.buttons.length;n<t;){n++;this.gamepadButtonCache[e.index].push(0)}this.gamepadAxisCache[e.index]=[];for(n=0,t=e.axes.length;n<t;){n++;this.gamepadAxisCache[e.index].push(0)}}},deleteGamepadCache:function(e){this.gamepadButtonCache[e.index]=null,this.gamepadAxisCache[e.index]=null},pollGamepads:function(){var e=this.getGamepadList();if(null!=e)for(var n=e.length,t=0;t<n;){var i=e[t];if(null==i);else{if(null==this.gamepadButtonCache[i.index]){this.gamepadButtonCache[i.index]=[];for(var l=0,r=i.buttons.length;l<r;){l++;this.gamepadButtonCache[i.index].push(0)}this.gamepadAxisCache[i.index]=[];for(var s=0,h=i.axes.length;s<h;){s++;this.gamepadAxisCache[i.index].push(0)}}for(var a=this.gamepadAxisCache[i.index],o=0,c=i.axes.length;o<c;){var u,_,d,b=o++,g=i.axes[b];g!=a[b]&&(a[b]=g,u=this.app.input,_=i.index,d=window.performance.now()/1e3-ui.timestampStart,u.app.events.gamepadAxis(_,b,g,d))}for(var O=this.gamepadButtonCache[i.index],f=0,p=i.buttons.length;f<p;){var C,v,w,m,y=f++,U=i.buttons[y];U.value!=O[y]&&(O[y]=U.value,U.pressed?(C=this.app.input,v=i.index,w=U.value,m=window.performance.now()/1e3-ui.timestampStart,C.app.events.gamepadDown(v,y,w,m)):(C=this.app.input,v=i.index,w=U.value,m=window.performance.now()/1e3-ui.timestampStart,C.app.events.gamepadUp(v,y,w,m)))}}++t}},windowDevicePixelRatio:function(){return null==window.devicePixelRatio?1:window.devicePixelRatio},windowWidth:function(){return Math.round(this.windowW*this.windowDevicePixelRatio())},windowHeight:function(){return Math.round(this.windowH*this.windowDevicePixelRatio())},setWindowFullscreen:function(e){return e?this.window.requestFullscreen():window.document.exitFullscreen(),!0},setWindowTitle:function(e){this.app.config.window.title=e,window.document.title=e},clamp:function(e){return Math.max(0,Math.min(e,1))},startGamepadRumble:function(e,n,t,i){var e=this.getGamepadList()[e];null!=e&&null!=(e=e.vibrationActuator)&&e.playEffect("dual-rumble",{duration:1e3*i,weakMagnitude:Math.max(0,Math.min(n,1)),strongMagnitude:Math.max(0,Math.min(t,1))})},stopGamepadRumble:function(e){var e=this.getGamepadList()[e];null!=e&&null!=(e=e.vibrationActuator)&&e.playEffect("dual-rumble",{duration:1,weakMagnitude:0,strongMagnitude:0})},getGamepadName:function(e){var n=this.getGamepadList();if(null!=n)for(var t=0;t<n.length;){var i=n[t];if(++t,null!=i&&i.index==e)return i.id}return null},__class__:ui}),function(){}),di=((E["clay.web._WebRuntime.DOMKeys"]=_i).__name__="clay.web._WebRuntime.DOMKeys",_i.domKeyToKeyCode=function(e){switch(e){case 16:return 1073742049;case 17:return 1073742048;case 18:return 1073742050;case 20:return 1073741881;case 33:return 1073741899;case 34:return 1073741902;case 35:return 1073741901;case 36:return 1073741898;case 37:return 1073741904;case 38:return 1073741906;case 39:return 1073741903;case 40:return 1073741905;case 44:return 1073741894;case 45:return 1073741897;case 46:return 127;case 91:return 1073742051;case 93:return 1073742055;case 96:return 1073741922;case 97:return 1073741913;case 98:return 1073741914;case 99:return 1073741915;case 100:return 1073741916;case 101:return 1073741917;case 102:return 1073741918;case 103:return 1073741919;case 104:return 1073741920;case 105:return 1073741921;case 106:return 1073741909;case 107:return 1073741911;case 109:return 1073741910;case 110:return 1073742044;case 111:return 1073741908;case 112:return 1073741882;case 113:return 1073741883;case 114:return 1073741884;case 115:return 1073741885;case 116:return 1073741886;case 117:return 1073741887;case 118:return 1073741888;case 119:return 1073741889;case 120:return 1073741890;case 121:return 1073741891;case 122:return 1073741892;case 123:return 1073741893;case 124:return 1073741928;case 125:return 1073741929;case 126:return 1073741930;case 127:return 1073741931;case 128:return 1073741932;case 129:return 1073741933;case 130:return 1073741934;case 131:return 1073741935;case 132:return 1073741936;case 133:return 1073741937;case 134:return 1073741938;case 135:return 1073741939;case 144:return 1073741907;case 160:return 94;case 161:return 33;case 162:return 34;case 163:return 35;case 164:return 36;case 165:return 37;case 166:return 38;case 167:return 95;case 168:return 40;case 169:return 41;case 170:return 42;case 171:return 43;case 172:return 92;case 173:return 45;case 174:return 91;case 175:return 93;case 176:return 96;case 181:return 1073742086;case 182:return 1073741953;case 183:return 1073741952;case 188:return 44;case 190:return 46;case 191:return 47;case 192:return 96;case 219:return 91;case 220:return 92;case 221:return 93;case 222:return 39;case 224:return 1073742051}return e},(E["elements.TabFocusable"]=y2).__name__="elements.TabFocusable",y2.__isInterface__=!0,y2.prototype={allowsTabFocus:null,tabFocus:null,escapeTabFocus:null,__class__:y2},(E["elements.FieldView"]=z2).__name__="elements.FieldView",z2.__interfaces__=[y2,s],z2.__super__=q0,z2.prototype=$extend(q0.prototype,{__cbOnObservedDirty:null,__cbOnceObservedDirty:null,__cbOnOwnerUnbindObservedDirty:null,__cbOnceOwnerUnbindObservedDirty:null,emitObservedDirty:function(e,n){var t=0;if(null!=this.__cbOnObservedDirty&&(t+=this.__cbOnObservedDirty.length),null!=this.__cbOnceObservedDirty&&(t+=this.__cbOnceObservedDirty.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnObservedDirty)for(var s=0,h=this.__cbOnObservedDirty.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnObservedDirty[a],++r):--t}if(null!=this.__cbOnceObservedDirty){for(var o=null,c=null,s=0,h=this.__cbOnceObservedDirty.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceObservedDirty[a],this.__cbOnceObservedDirty[a]=null,u=this.__cbOnceOwnerUnbindObservedDirty[a],(this.__cbOnceOwnerUnbindObservedDirty[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindObservedDirty[a]),c.push(this.__cbOnceObservedDirty[a]))}this.__cbOnceOwnerUnbindObservedDirty=o,this.__cbOnceObservedDirty=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onObservedDirty:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event observedDirty because owner is destroyed!");var l=function(e){null!=t&&(i.offObservedDirty(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push(null);null==this.__cbOnObservedDirty&&(this.__cbOnObservedDirty=[]),this.__cbOnObservedDirty.push(t)},onceObservedDirty:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event observedDirty because owner is destroyed!");var l=function(e){null!=t&&(i.offObservedDirty(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push(null);null==this.__cbOnceObservedDirty&&(this.__cbOnceObservedDirty=[]),this.__cbOnceObservedDirty.push(t)},offObservedDirty:function(e){if(null!=e){var n;null!=this.__cbOnObservedDirty&&-1!=(n=this.__cbOnObservedDirty.indexOf(e))&&(this.__cbOnObservedDirty.splice(n,1),null!=(r=this.__cbOnOwnerUnbindObservedDirty[n])&&r(),this.__cbOnOwnerUnbindObservedDirty.splice(n,1)),null!=this.__cbOnceObservedDirty&&-1!=(n=this.__cbOnceObservedDirty.indexOf(e))&&(this.__cbOnceObservedDirty.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindObservedDirty[n])&&r(),this.__cbOnceOwnerUnbindObservedDirty.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindObservedDirty){for(var t=0,i=this.__cbOnOwnerUnbindObservedDirty.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindObservedDirty[l])&&r()}this.__cbOnOwnerUnbindObservedDirty=null}if(null!=this.__cbOnceOwnerUnbindObservedDirty){for(t=0,i=this.__cbOnceOwnerUnbindObservedDirty.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindObservedDirty[l])&&r()}this.__cbOnceOwnerUnbindObservedDirty=null}this.__cbOnObservedDirty=null,this.__cbOnceObservedDirty=null}},listensObservedDirty:function(){return null!=this.__cbOnObservedDirty&&0<this.__cbOnObservedDirty.length||null!=this.__cbOnceObservedDirty&&0<this.__cbOnceObservedDirty.length},observedDirty:null,willListenFocusedChange:function(){this.get_unobservedFocused()},get_unobservedFocused:function(){var n,t;return 0<=this._lifecycleState?null==this.computeAutorunFocused?(n=this,t=new U(null),this.computedOnceFocused=!0,(this.computeAutorunFocused=t).onRun=function(){var e=n.computeFocused();U.unobserve(),n.set_focused(e),U.reobserve()},t.onDestroy(this,function(e){n.computeAutorunFocused==t&&(n.computeAutorunFocused=null),n=t=null}),this.onDestroy(t,function(e){null!=t&&(t.destroy(),t=null),n=null}),t.run()):this.computeAutorunFocused.invalidated&&this.computeAutorunFocused.run():this.computedOnceFocused||(U.unobserve(),this.computedOnceFocused=!0,this.unobservedFocused=this.computeFocused(),U.reobserve()),this.unobservedFocused},focusedAutoruns:null,get_focused:function(){var e,n,t=this.get_unobservedFocused();return null!=U.current&&(e=U.current,null!=(n=this.focusedAutoruns)||(n=U.getAutorunArray(),null!=(this.focusedAutoruns=n)))&&e.bindToAutorunArray(n),t},set_focused:function(e){var n=this.get_unobservedFocused();return n!=(this.unobservedFocused=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitFocusedChange(e,n),null!=(n=this.focusedAutoruns))&&(this.focusedAutoruns=null,U.invalidateAutorunArray(n)),e},invalidateFocused:function(){var e=this.get_unobservedFocused(),e=(this.emitFocusedChange(e,e),this.focusedAutoruns);null!=e&&(this.focusedAutoruns=null,U.invalidateAutorunArray(e))},unobservedFocused:null,__cbOnFocusedChange:null,__cbOnceFocusedChange:null,__cbOnOwnerUnbindFocusedChange:null,__cbOnceOwnerUnbindFocusedChange:null,emitFocusedChange:function(e,n){var t=0;if(null!=this.__cbOnFocusedChange&&(t+=this.__cbOnFocusedChange.length),null!=this.__cbOnceFocusedChange&&(t+=this.__cbOnceFocusedChange.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnFocusedChange)for(var s=0,h=this.__cbOnFocusedChange.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnFocusedChange[a],++r):--t}if(null!=this.__cbOnceFocusedChange){for(var o=null,c=null,s=0,h=this.__cbOnceFocusedChange.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceFocusedChange[a],this.__cbOnceFocusedChange[a]=null,u=this.__cbOnceOwnerUnbindFocusedChange[a],(this.__cbOnceOwnerUnbindFocusedChange[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindFocusedChange[a]),c.push(this.__cbOnceFocusedChange[a]))}this.__cbOnceOwnerUnbindFocusedChange=o,this.__cbOnceFocusedChange=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onFocusedChange:function(n,t){var i=this;if(null==this.__cbOnFocusedChange&&null==this.__cbOnceFocusedChange&&this.willListenFocusedChange(),null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event focusedChange because owner is destroyed!");var l=function(e){null!=t&&(i.offFocusedChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindFocusedChange&&(this.__cbOnOwnerUnbindFocusedChange=[]),this.__cbOnOwnerUnbindFocusedChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindFocusedChange&&(this.__cbOnOwnerUnbindFocusedChange=[]),this.__cbOnOwnerUnbindFocusedChange.push(null);null==this.__cbOnFocusedChange&&(this.__cbOnFocusedChange=[]),this.__cbOnFocusedChange.push(t)},onceFocusedChange:function(n,t){var i=this;if(null==this.__cbOnFocusedChange&&null==this.__cbOnceFocusedChange&&this.willListenFocusedChange(),null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event focusedChange because owner is destroyed!");var l=function(e){null!=t&&(i.offFocusedChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindFocusedChange&&(this.__cbOnceOwnerUnbindFocusedChange=[]),this.__cbOnceOwnerUnbindFocusedChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindFocusedChange&&(this.__cbOnceOwnerUnbindFocusedChange=[]),this.__cbOnceOwnerUnbindFocusedChange.push(null);null==this.__cbOnceFocusedChange&&(this.__cbOnceFocusedChange=[]),this.__cbOnceFocusedChange.push(t)},offFocusedChange:function(e){if(null!=e){var n;null!=this.__cbOnFocusedChange&&-1!=(n=this.__cbOnFocusedChange.indexOf(e))&&(this.__cbOnFocusedChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindFocusedChange[n])&&r(),this.__cbOnOwnerUnbindFocusedChange.splice(n,1)),null!=this.__cbOnceFocusedChange&&-1!=(n=this.__cbOnceFocusedChange.indexOf(e))&&(this.__cbOnceFocusedChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindFocusedChange[n])&&r(),this.__cbOnceOwnerUnbindFocusedChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindFocusedChange){for(var t=0,i=this.__cbOnOwnerUnbindFocusedChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindFocusedChange[l])&&r()}this.__cbOnOwnerUnbindFocusedChange=null}if(null!=this.__cbOnceOwnerUnbindFocusedChange){for(t=0,i=this.__cbOnceOwnerUnbindFocusedChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindFocusedChange[l])&&r()}this.__cbOnceOwnerUnbindFocusedChange=null}this.__cbOnFocusedChange=null,this.__cbOnceFocusedChange=null}},listensFocusedChange:function(){return null!=this.__cbOnFocusedChange&&0<this.__cbOnFocusedChange.length||null!=this.__cbOnceFocusedChange&&0<this.__cbOnceFocusedChange.length},computeFocused:function(){return pi.get_shared().updateFocusedField(),pi.get_shared().get_focusedField()==this},computeAutorunFocused:null,computedOnceFocused:null,windowItem:null,focusedThisFrame:null,handleFocusedChange:function(e,n){e?this.focusedThisFrame=!0:he.app.onceFinishDraw(this,$bind(this,this.updateFocusedThisFrame))},updateFocusedThisFrame:function(){this.focusedThisFrame=this.get_focused()},focus:function(){he.app.screen.set_focusedVisual(this),this.makeVisibleInForm()},makeVisibleInForm:function(){var e,n,t=this.getScrollingLayout();null!=t&&((t=t.scroller).content.visualToScreen(0,0,z2._point),n=z2._point.y,this.visualToScreen(0,0,z2._point),e=z2._point.y,this.visualToScreen(0,this.get_height(),z2._point),e=e-n,n=z2._point.y-n,n+=8,t.isContentPositionInBounds(0,e-=8),t.isContentPositionInBounds(0,n),t.ensureContentPositionIsInBounds(0,e),t.ensureContentPositionIsInBounds(0,n))},getScrollingLayout:function(){for(var e=this.parent;null!=e;){if(e instanceof xi)return e;e=e.parent}return null},didLostFocus:function(){},bindPointerEvents:function(){this.onPointerDown(this,function(e){})},allowsTabFocus:function(){return!K.getProperty(this,"disabled")},tabFocus:function(){this.focus()},escapeTabFocus:function(){this.get_focused()&&he.app.screen.set_focusedVisual(null)},hitsSelfOrDerived:function(e,n){return this._hits(e,n,!1)},usesScanCode:function(e){return!!this.focusedThisFrame&&(41==e||40==e)},usesKeyCode:function(e){return!!this.focusedThisFrame&&(27==e||13==e)},unbindEvents:function(){q0.prototype.unbindEvents.call(this),this.offObservedDirty(),this.offFocusedChange()},__class__:z2,__properties__:$extend(q0.prototype.__properties__,{get_unobservedFocused:"get_unobservedFocused",set_focused:"set_focused",get_focused:"get_focused"})}),(E["elements.SelectListView"]=A2).__name__="elements.SelectListView",A2.__interfaces__=[s,i0],A2.__super__=f0,A2.prototype=$extend(f0.prototype,{__cbOnObservedDirty:null,__cbOnceObservedDirty:null,__cbOnOwnerUnbindObservedDirty:null,__cbOnceOwnerUnbindObservedDirty:null,emitObservedDirty:function(e,n){var t=0;if(null!=this.__cbOnObservedDirty&&(t+=this.__cbOnObservedDirty.length),null!=this.__cbOnceObservedDirty&&(t+=this.__cbOnceObservedDirty.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnObservedDirty)for(var s=0,h=this.__cbOnObservedDirty.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnObservedDirty[a],++r):--t}if(null!=this.__cbOnceObservedDirty){for(var o=null,c=null,s=0,h=this.__cbOnceObservedDirty.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceObservedDirty[a],this.__cbOnceObservedDirty[a]=null,u=this.__cbOnceOwnerUnbindObservedDirty[a],(this.__cbOnceOwnerUnbindObservedDirty[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindObservedDirty[a]),c.push(this.__cbOnceObservedDirty[a]))}this.__cbOnceOwnerUnbindObservedDirty=o,this.__cbOnceObservedDirty=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onObservedDirty:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event observedDirty because owner is destroyed!");var l=function(e){null!=t&&(i.offObservedDirty(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push(null);null==this.__cbOnObservedDirty&&(this.__cbOnObservedDirty=[]),this.__cbOnObservedDirty.push(t)},onceObservedDirty:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event observedDirty because owner is destroyed!");var l=function(e){null!=t&&(i.offObservedDirty(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push(null);null==this.__cbOnceObservedDirty&&(this.__cbOnceObservedDirty=[]),this.__cbOnceObservedDirty.push(t)},offObservedDirty:function(e){if(null!=e){var n;null!=this.__cbOnObservedDirty&&-1!=(n=this.__cbOnObservedDirty.indexOf(e))&&(this.__cbOnObservedDirty.splice(n,1),null!=(r=this.__cbOnOwnerUnbindObservedDirty[n])&&r(),this.__cbOnOwnerUnbindObservedDirty.splice(n,1)),null!=this.__cbOnceObservedDirty&&-1!=(n=this.__cbOnceObservedDirty.indexOf(e))&&(this.__cbOnceObservedDirty.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindObservedDirty[n])&&r(),this.__cbOnceOwnerUnbindObservedDirty.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindObservedDirty){for(var t=0,i=this.__cbOnOwnerUnbindObservedDirty.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindObservedDirty[l])&&r()}this.__cbOnOwnerUnbindObservedDirty=null}if(null!=this.__cbOnceOwnerUnbindObservedDirty){for(t=0,i=this.__cbOnceOwnerUnbindObservedDirty.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindObservedDirty[l])&&r()}this.__cbOnceOwnerUnbindObservedDirty=null}this.__cbOnObservedDirty=null,this.__cbOnceObservedDirty=null}},listensObservedDirty:function(){return null!=this.__cbOnObservedDirty&&0<this.__cbOnObservedDirty.length||null!=this.__cbOnceObservedDirty&&0<this.__cbOnceObservedDirty.length},observedDirty:null,themeAutoruns:null,get_theme:function(){var e,n,t=this.unobservedTheme;return null!=U.current&&(e=U.current,null!=(n=this.themeAutoruns)||(n=U.getAutorunArray(),null!=(this.themeAutoruns=n)))&&e.bindToAutorunArray(n),t},set_theme:function(e){var n=this.unobservedTheme;return n!=(this.unobservedTheme=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitThemeChange(e,n),null!=(n=this.themeAutoruns))&&(this.themeAutoruns=null,U.invalidateAutorunArray(n)),e},invalidateTheme:function(){var e=this.unobservedTheme,e=(this.emitThemeChange(e,e),this.themeAutoruns);null!=e&&(this.themeAutoruns=null,U.invalidateAutorunArray(e))},unobservedTheme:null,__cbOnThemeChange:null,__cbOnceThemeChange:null,__cbOnOwnerUnbindThemeChange:null,__cbOnceOwnerUnbindThemeChange:null,emitThemeChange:function(e,n){var t=0;if(null!=this.__cbOnThemeChange&&(t+=this.__cbOnThemeChange.length),null!=this.__cbOnceThemeChange&&(t+=this.__cbOnceThemeChange.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnThemeChange)for(var s=0,h=this.__cbOnThemeChange.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnThemeChange[a],++r):--t}if(null!=this.__cbOnceThemeChange){for(var o=null,c=null,s=0,h=this.__cbOnceThemeChange.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceThemeChange[a],this.__cbOnceThemeChange[a]=null,u=this.__cbOnceOwnerUnbindThemeChange[a],(this.__cbOnceOwnerUnbindThemeChange[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindThemeChange[a]),c.push(this.__cbOnceThemeChange[a]))}this.__cbOnceOwnerUnbindThemeChange=o,this.__cbOnceThemeChange=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onThemeChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event themeChange because owner is destroyed!");var l=function(e){null!=t&&(i.offThemeChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindThemeChange&&(this.__cbOnOwnerUnbindThemeChange=[]),this.__cbOnOwnerUnbindThemeChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindThemeChange&&(this.__cbOnOwnerUnbindThemeChange=[]),this.__cbOnOwnerUnbindThemeChange.push(null);null==this.__cbOnThemeChange&&(this.__cbOnThemeChange=[]),this.__cbOnThemeChange.push(t)},onceThemeChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event themeChange because owner is destroyed!");var l=function(e){null!=t&&(i.offThemeChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindThemeChange&&(this.__cbOnceOwnerUnbindThemeChange=[]),this.__cbOnceOwnerUnbindThemeChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindThemeChange&&(this.__cbOnceOwnerUnbindThemeChange=[]),this.__cbOnceOwnerUnbindThemeChange.push(null);null==this.__cbOnceThemeChange&&(this.__cbOnceThemeChange=[]),this.__cbOnceThemeChange.push(t)},offThemeChange:function(e){if(null!=e){var n;null!=this.__cbOnThemeChange&&-1!=(n=this.__cbOnThemeChange.indexOf(e))&&(this.__cbOnThemeChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindThemeChange[n])&&r(),this.__cbOnOwnerUnbindThemeChange.splice(n,1)),null!=this.__cbOnceThemeChange&&-1!=(n=this.__cbOnceThemeChange.indexOf(e))&&(this.__cbOnceThemeChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindThemeChange[n])&&r(),this.__cbOnceOwnerUnbindThemeChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindThemeChange){for(var t=0,i=this.__cbOnOwnerUnbindThemeChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindThemeChange[l])&&r()}this.__cbOnOwnerUnbindThemeChange=null}if(null!=this.__cbOnceOwnerUnbindThemeChange){for(t=0,i=this.__cbOnceOwnerUnbindThemeChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindThemeChange[l])&&r()}this.__cbOnceOwnerUnbindThemeChange=null}this.__cbOnThemeChange=null,this.__cbOnceThemeChange=null}},listensThemeChange:function(){return null!=this.__cbOnThemeChange&&0<this.__cbOnThemeChange.length||null!=this.__cbOnceThemeChange&&0<this.__cbOnceThemeChange.length},__cbOnValueClick:null,__cbOnceValueClick:null,__cbOnOwnerUnbindValueClick:null,__cbOnceOwnerUnbindValueClick:null,emitValueClick:function(e){var n=0;if(null!=this.__cbOnValueClick&&(n+=this.__cbOnValueClick.length),null!=this.__cbOnceValueClick&&(n+=this.__cbOnceValueClick.length),0<n){var t=C.pool(n),i=t.get(),l=0;if(null!=this.__cbOnValueClick)for(var r=0,s=this.__cbOnValueClick.length;r<s;){var h=r++;!0?(i.vector[l]=this.__cbOnValueClick[h],++l):--n}if(null!=this.__cbOnceValueClick){for(var a=null,o=null,r=0,s=this.__cbOnceValueClick.length;r<s;){var c,h=r++;!0?(i.vector[l]=this.__cbOnceValueClick[h],this.__cbOnceValueClick[h]=null,c=this.__cbOnceOwnerUnbindValueClick[h],(this.__cbOnceOwnerUnbindValueClick[h]=null)!=c&&c(),++l):(--n,null==a&&(a=[],o=[],0),a.push(this.__cbOnceOwnerUnbindValueClick[h]),o.push(this.__cbOnceValueClick[h]))}this.__cbOnceOwnerUnbindValueClick=a,this.__cbOnceValueClick=o}for(r=0,s=n;r<s;){l=r++;(0,i.vector[l])(e)}t.release(i)}},onValueClick:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event valueClick because owner is destroyed!");var l=function(e){null!=t&&(i.offValueClick(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindValueClick&&(this.__cbOnOwnerUnbindValueClick=[]),this.__cbOnOwnerUnbindValueClick.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindValueClick&&(this.__cbOnOwnerUnbindValueClick=[]),this.__cbOnOwnerUnbindValueClick.push(null);null==this.__cbOnValueClick&&(this.__cbOnValueClick=[]),this.__cbOnValueClick.push(t)},onceValueClick:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event valueClick because owner is destroyed!");var l=function(e){null!=t&&(i.offValueClick(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindValueClick&&(this.__cbOnceOwnerUnbindValueClick=[]),this.__cbOnceOwnerUnbindValueClick.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindValueClick&&(this.__cbOnceOwnerUnbindValueClick=[]),this.__cbOnceOwnerUnbindValueClick.push(null);null==this.__cbOnceValueClick&&(this.__cbOnceValueClick=[]),this.__cbOnceValueClick.push(t)},offValueClick:function(e){if(null!=e){var n;null!=this.__cbOnValueClick&&-1!=(n=this.__cbOnValueClick.indexOf(e))&&(this.__cbOnValueClick.splice(n,1),null!=(r=this.__cbOnOwnerUnbindValueClick[n])&&r(),this.__cbOnOwnerUnbindValueClick.splice(n,1)),null!=this.__cbOnceValueClick&&-1!=(n=this.__cbOnceValueClick.indexOf(e))&&(this.__cbOnceValueClick.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindValueClick[n])&&r(),this.__cbOnceOwnerUnbindValueClick.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindValueClick){for(var t=0,i=this.__cbOnOwnerUnbindValueClick.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindValueClick[l])&&r()}this.__cbOnOwnerUnbindValueClick=null}if(null!=this.__cbOnceOwnerUnbindValueClick){for(t=0,i=this.__cbOnceOwnerUnbindValueClick.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindValueClick[l])&&r()}this.__cbOnceOwnerUnbindValueClick=null}this.__cbOnValueClick=null,this.__cbOnceValueClick=null}},listensValueClick:function(){return null!=this.__cbOnValueClick&&0<this.__cbOnValueClick.length||null!=this.__cbOnceValueClick&&0<this.__cbOnceValueClick.length},autoScrollToValue:null,valueAutoruns:null,get_value:function(){var e,n,t=this.unobservedValue;return null!=U.current&&(e=U.current,null!=(n=this.valueAutoruns)||(n=U.getAutorunArray(),null!=(this.valueAutoruns=n)))&&e.bindToAutorunArray(n),t},set_value:function(e){var n=this.unobservedValue;return n!=(this.unobservedValue=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitValueChange(e,n),null!=(n=this.valueAutoruns))&&(this.valueAutoruns=null,U.invalidateAutorunArray(n)),e},invalidateValue:function(){var e=this.unobservedValue,e=(this.emitValueChange(e,e),this.valueAutoruns);null!=e&&(this.valueAutoruns=null,U.invalidateAutorunArray(e))},unobservedValue:null,__cbOnValueChange:null,__cbOnceValueChange:null,__cbOnOwnerUnbindValueChange:null,__cbOnceOwnerUnbindValueChange:null,emitValueChange:function(e,n){var t=0;if(null!=this.__cbOnValueChange&&(t+=this.__cbOnValueChange.length),null!=this.__cbOnceValueChange&&(t+=this.__cbOnceValueChange.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnValueChange)for(var s=0,h=this.__cbOnValueChange.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnValueChange[a],++r):--t}if(null!=this.__cbOnceValueChange){for(var o=null,c=null,s=0,h=this.__cbOnceValueChange.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceValueChange[a],this.__cbOnceValueChange[a]=null,u=this.__cbOnceOwnerUnbindValueChange[a],(this.__cbOnceOwnerUnbindValueChange[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindValueChange[a]),c.push(this.__cbOnceValueChange[a]))}this.__cbOnceOwnerUnbindValueChange=o,this.__cbOnceValueChange=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onValueChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event valueChange because owner is destroyed!");var l=function(e){null!=t&&(i.offValueChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindValueChange&&(this.__cbOnOwnerUnbindValueChange=[]),this.__cbOnOwnerUnbindValueChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindValueChange&&(this.__cbOnOwnerUnbindValueChange=[]),this.__cbOnOwnerUnbindValueChange.push(null);null==this.__cbOnValueChange&&(this.__cbOnValueChange=[]),this.__cbOnValueChange.push(t)},onceValueChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event valueChange because owner is destroyed!");var l=function(e){null!=t&&(i.offValueChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindValueChange&&(this.__cbOnceOwnerUnbindValueChange=[]),this.__cbOnceOwnerUnbindValueChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindValueChange&&(this.__cbOnceOwnerUnbindValueChange=[]),this.__cbOnceOwnerUnbindValueChange.push(null);null==this.__cbOnceValueChange&&(this.__cbOnceValueChange=[]),this.__cbOnceValueChange.push(t)},offValueChange:function(e){if(null!=e){var n;null!=this.__cbOnValueChange&&-1!=(n=this.__cbOnValueChange.indexOf(e))&&(this.__cbOnValueChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindValueChange[n])&&r(),this.__cbOnOwnerUnbindValueChange.splice(n,1)),null!=this.__cbOnceValueChange&&-1!=(n=this.__cbOnceValueChange.indexOf(e))&&(this.__cbOnceValueChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindValueChange[n])&&r(),this.__cbOnceOwnerUnbindValueChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindValueChange){for(var t=0,i=this.__cbOnOwnerUnbindValueChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindValueChange[l])&&r()}this.__cbOnOwnerUnbindValueChange=null}if(null!=this.__cbOnceOwnerUnbindValueChange){for(t=0,i=this.__cbOnceOwnerUnbindValueChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindValueChange[l])&&r()}this.__cbOnceOwnerUnbindValueChange=null}this.__cbOnValueChange=null,this.__cbOnceValueChange=null}},listensValueChange:function(){return null!=this.__cbOnValueChange&&0<this.__cbOnValueChange.length||null!=this.__cbOnceValueChange&&0<this.__cbOnceValueChange.length},listAutoruns:null,get_list:function(){var e,n,t=this.unobservedList;return null!=U.current&&(e=U.current,null!=(n=this.listAutoruns)||(n=U.getAutorunArray(),null!=(this.listAutoruns=n)))&&e.bindToAutorunArray(n),t},set_list:function(e){var n=this.unobservedList;return this.unobservedList=e,Bl.equalAny(n,e)||(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitListChange(e,n),null!=(n=this.listAutoruns)&&(this.listAutoruns=null,U.invalidateAutorunArray(n))),e},invalidateList:function(){var e=this.unobservedList,e=(this.emitListChange(e,e),this.listAutoruns);null!=e&&(this.listAutoruns=null,U.invalidateAutorunArray(e))},unobservedList:null,__cbOnListChange:null,__cbOnceListChange:null,__cbOnOwnerUnbindListChange:null,__cbOnceOwnerUnbindListChange:null,emitListChange:function(e,n){var t=0;if(null!=this.__cbOnListChange&&(t+=this.__cbOnListChange.length),null!=this.__cbOnceListChange&&(t+=this.__cbOnceListChange.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnListChange)for(var s=0,h=this.__cbOnListChange.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnListChange[a],++r):--t}if(null!=this.__cbOnceListChange){for(var o=null,c=null,s=0,h=this.__cbOnceListChange.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceListChange[a],this.__cbOnceListChange[a]=null,u=this.__cbOnceOwnerUnbindListChange[a],(this.__cbOnceOwnerUnbindListChange[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindListChange[a]),c.push(this.__cbOnceListChange[a]))}this.__cbOnceOwnerUnbindListChange=o,this.__cbOnceListChange=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onListChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event listChange because owner is destroyed!");var l=function(e){null!=t&&(i.offListChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindListChange&&(this.__cbOnOwnerUnbindListChange=[]),this.__cbOnOwnerUnbindListChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindListChange&&(this.__cbOnOwnerUnbindListChange=[]),this.__cbOnOwnerUnbindListChange.push(null);null==this.__cbOnListChange&&(this.__cbOnListChange=[]),this.__cbOnListChange.push(t)},onceListChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event listChange because owner is destroyed!");var l=function(e){null!=t&&(i.offListChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindListChange&&(this.__cbOnceOwnerUnbindListChange=[]),this.__cbOnceOwnerUnbindListChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindListChange&&(this.__cbOnceOwnerUnbindListChange=[]),this.__cbOnceOwnerUnbindListChange.push(null);null==this.__cbOnceListChange&&(this.__cbOnceListChange=[]),this.__cbOnceListChange.push(t)},offListChange:function(e){if(null!=e){var n;null!=this.__cbOnListChange&&-1!=(n=this.__cbOnListChange.indexOf(e))&&(this.__cbOnListChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindListChange[n])&&r(),this.__cbOnOwnerUnbindListChange.splice(n,1)),null!=this.__cbOnceListChange&&-1!=(n=this.__cbOnceListChange.indexOf(e))&&(this.__cbOnceListChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindListChange[n])&&r(),this.__cbOnceOwnerUnbindListChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindListChange){for(var t=0,i=this.__cbOnOwnerUnbindListChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindListChange[l])&&r()}this.__cbOnOwnerUnbindListChange=null}if(null!=this.__cbOnceOwnerUnbindListChange){for(t=0,i=this.__cbOnceOwnerUnbindListChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindListChange[l])&&r()}this.__cbOnceOwnerUnbindListChange=null}this.__cbOnListChange=null,this.__cbOnceListChange=null}},listensListChange:function(){return null!=this.__cbOnListChange&&0<this.__cbOnListChange.length||null!=this.__cbOnceListChange&&0<this.__cbOnceListChange.length},nullValueTextAutoruns:null,get_nullValueText:function(){var e,n,t=this.unobservedNullValueText;return null!=U.current&&(e=U.current,null!=(n=this.nullValueTextAutoruns)||(n=U.getAutorunArray(),null!=(this.nullValueTextAutoruns=n)))&&e.bindToAutorunArray(n),t},set_nullValueText:function(e){var n=this.unobservedNullValueText;return n!=(this.unobservedNullValueText=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitNullValueTextChange(e,n),null!=(n=this.nullValueTextAutoruns))&&(this.nullValueTextAutoruns=null,U.invalidateAutorunArray(n)),e},invalidateNullValueText:function(){var e=this.unobservedNullValueText,e=(this.emitNullValueTextChange(e,e),this.nullValueTextAutoruns);null!=e&&(this.nullValueTextAutoruns=null,U.invalidateAutorunArray(e))},unobservedNullValueText:null,__cbOnNullValueTextChange:null,__cbOnceNullValueTextChange:null,__cbOnOwnerUnbindNullValueTextChange:null,__cbOnceOwnerUnbindNullValueTextChange:null,emitNullValueTextChange:function(e,n){var t=0;if(null!=this.__cbOnNullValueTextChange&&(t+=this.__cbOnNullValueTextChange.length),null!=this.__cbOnceNullValueTextChange&&(t+=this.__cbOnceNullValueTextChange.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnNullValueTextChange)for(var s=0,h=this.__cbOnNullValueTextChange.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnNullValueTextChange[a],++r):--t}if(null!=this.__cbOnceNullValueTextChange){for(var o=null,c=null,s=0,h=this.__cbOnceNullValueTextChange.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceNullValueTextChange[a],this.__cbOnceNullValueTextChange[a]=null,u=this.__cbOnceOwnerUnbindNullValueTextChange[a],(this.__cbOnceOwnerUnbindNullValueTextChange[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindNullValueTextChange[a]),c.push(this.__cbOnceNullValueTextChange[a]))}this.__cbOnceOwnerUnbindNullValueTextChange=o,this.__cbOnceNullValueTextChange=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onNullValueTextChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event nullValueTextChange because owner is destroyed!");var l=function(e){null!=t&&(i.offNullValueTextChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindNullValueTextChange&&(this.__cbOnOwnerUnbindNullValueTextChange=[]),this.__cbOnOwnerUnbindNullValueTextChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindNullValueTextChange&&(this.__cbOnOwnerUnbindNullValueTextChange=[]),this.__cbOnOwnerUnbindNullValueTextChange.push(null);null==this.__cbOnNullValueTextChange&&(this.__cbOnNullValueTextChange=[]),this.__cbOnNullValueTextChange.push(t)},onceNullValueTextChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event nullValueTextChange because owner is destroyed!");var l=function(e){null!=t&&(i.offNullValueTextChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindNullValueTextChange&&(this.__cbOnceOwnerUnbindNullValueTextChange=[]),this.__cbOnceOwnerUnbindNullValueTextChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindNullValueTextChange&&(this.__cbOnceOwnerUnbindNullValueTextChange=[]),this.__cbOnceOwnerUnbindNullValueTextChange.push(null);null==this.__cbOnceNullValueTextChange&&(this.__cbOnceNullValueTextChange=[]),this.__cbOnceNullValueTextChange.push(t)},offNullValueTextChange:function(e){if(null!=e){var n;null!=this.__cbOnNullValueTextChange&&-1!=(n=this.__cbOnNullValueTextChange.indexOf(e))&&(this.__cbOnNullValueTextChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindNullValueTextChange[n])&&r(),this.__cbOnOwnerUnbindNullValueTextChange.splice(n,1)),null!=this.__cbOnceNullValueTextChange&&-1!=(n=this.__cbOnceNullValueTextChange.indexOf(e))&&(this.__cbOnceNullValueTextChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindNullValueTextChange[n])&&r(),this.__cbOnceOwnerUnbindNullValueTextChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindNullValueTextChange){for(var t=0,i=this.__cbOnOwnerUnbindNullValueTextChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindNullValueTextChange[l])&&r()}this.__cbOnOwnerUnbindNullValueTextChange=null}if(null!=this.__cbOnceOwnerUnbindNullValueTextChange){for(t=0,i=this.__cbOnceOwnerUnbindNullValueTextChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindNullValueTextChange[l])&&r()}this.__cbOnceOwnerUnbindNullValueTextChange=null}this.__cbOnNullValueTextChange=null,this.__cbOnceNullValueTextChange=null}},listensNullValueTextChange:function(){return null!=this.__cbOnNullValueTextChange&&0<this.__cbOnNullValueTextChange.length||null!=this.__cbOnceNullValueTextChange&&0<this.__cbOnceNullValueTextChange.length},collectionView:null,updateScrollFromValueIfNeeded:function(){var e=this.get_value();U.unobserve(),this.autoScrollToValue&&null!=e&&this.scrollToValue(3),U.reobserve()},scrollToValue:function(e){null==this.get_value()||null==this.get_list()?this.collectionView.scrollToItem(0,e):this.collectionView.scrollToItem(this.get_list().indexOf(this.get_value())+(null!=this.get_nullValueText()?1:0),e)},layout:function(){var e=this.collectionView,n=this.get_width(),t=this.get_height();e.set_width(n),e.set_height(t)},collectionViewSize:function(e){return this.get_list().length+(null!=this.get_nullValueText()?1:0)},collectionViewItemFrameAtIndex:function(e,n,t){t.width=e.get_width(),t.height=A2.ITEM_HEIGHT},collectionViewReleaseItemAtIndex:function(e,n,t){return!0},collectionViewItemAtIndex:function(e,n,t){var i=null;return null!=t?(i=t).set_itemIndex(n):((i=new bi).set_inputStyle(!0),i.set_itemIndex(n),i.set_collectionView(e),this.bindCellView(i)),i},bindCellView:function(t){var i=this,e=(t.autorun(function(){var e=t.get_itemIndex(),e=(null!=i.get_nullValueText()&&--e,0<=e?i.get_list()[e]:null),n=e==i.get_value();t.set_title(null!=e?e:i.get_nullValueText()),t.set_displaysEmptyValue(null==e),t.set_selected(n)}),t.autorun(function(){var e=i.get_theme();U.unobserve(),t.set_theme(e)}),new b0);t.component("click",e),e.onClick(t,function(){var e=t.get_itemIndex(),e=(null!=i.get_nullValueText()&&--e,0<=e?i.get_list()[e]:null);i.set_value(e),i.emitValueClick(e),i.invalidateValue()})},updateStyle:function(){var e=this.get_theme(),n=(e=null==e?te.get_context().get_theme():e).get_darkBackgroundColor(),t=.1,i=(0-(n>>16&255))*(t=null==t?.5:t)+(n>>16&255)|0,l=(0-(n>>8&255))*t+(n>>8&255)|0,t=(0-(255&n))*t+(255&n)|0,n=0,n=(this.color=((n&65535|(255<i?255:i<0?0:i)<<16)&16711935|(255<l?255:l<0?0:l)<<8)&16776960|(255<t?255:t<0?0:t),1!=this.borderSize&&(this.borderSize=1,this.updateBorder()),e.get_lightBorderColor()),i=(this.borderColor!=n&&(this.borderColor=n,0<this.borderSize||0<this.borderTopSize||0<this.borderBottomSize||0<this.borderLeftSize||0<this.borderRightSize)&&this.updateBorder(),Ve.INSIDE);this.borderPosition!=i&&(this.borderPosition=i,0<this.borderSize||0<this.borderTopSize||0<this.borderBottomSize||0<this.borderLeftSize||0<this.borderRightSize)&&this.updateBorder(),2!=this.borderDepth&&(this.borderDepth=2,null!=this.border)&&this.border.set_depth(2)},unbindEvents:function(){f0.prototype.unbindEvents.call(this),this.offObservedDirty(),this.offThemeChange(),this.offValueChange(),this.offListChange(),this.offNullValueTextChange(),this.offValueClick()},__class__:A2,__properties__:$extend(f0.prototype.__properties__,{set_nullValueText:"set_nullValueText",get_nullValueText:"get_nullValueText",set_list:"set_list",get_list:"get_list",set_value:"set_value",get_value:"get_value",set_theme:"set_theme",get_theme:"get_theme"})}),(E["elements.BaseTextFieldView"]=B2).__name__="elements.BaseTextFieldView",B2.transformTextForCompletion=function(e){return z.replace(e," ","_")},B2.__super__=z2,B2.prototype=$extend(z2.prototype,{setTextValue:function(e,n){this.set_textValue(n),this.setValue(e,n)},setValue:function(e,n){},setEmptyValue:function(e){},submit:function(e){},textValueAutoruns:null,get_textValue:function(){var e,n,t=this.unobservedTextValue;return null!=U.current&&(e=U.current,null!=(n=this.textValueAutoruns)||(n=U.getAutorunArray(),null!=(this.textValueAutoruns=n)))&&e.bindToAutorunArray(n),t},set_textValue:function(e){var n=this.unobservedTextValue;return n!=(this.unobservedTextValue=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitTextValueChange(e,n),null!=(n=this.textValueAutoruns))&&(this.textValueAutoruns=null,U.invalidateAutorunArray(n)),e},invalidateTextValue:function(){var e=this.unobservedTextValue,e=(this.emitTextValueChange(e,e),this.textValueAutoruns);null!=e&&(this.textValueAutoruns=null,U.invalidateAutorunArray(e))},unobservedTextValue:null,__cbOnTextValueChange:null,__cbOnceTextValueChange:null,__cbOnOwnerUnbindTextValueChange:null,__cbOnceOwnerUnbindTextValueChange:null,emitTextValueChange:function(e,n){var t=0;if(null!=this.__cbOnTextValueChange&&(t+=this.__cbOnTextValueChange.length),null!=this.__cbOnceTextValueChange&&(t+=this.__cbOnceTextValueChange.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnTextValueChange)for(var s=0,h=this.__cbOnTextValueChange.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnTextValueChange[a],++r):--t}if(null!=this.__cbOnceTextValueChange){for(var o=null,c=null,s=0,h=this.__cbOnceTextValueChange.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceTextValueChange[a],this.__cbOnceTextValueChange[a]=null,u=this.__cbOnceOwnerUnbindTextValueChange[a],(this.__cbOnceOwnerUnbindTextValueChange[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindTextValueChange[a]),c.push(this.__cbOnceTextValueChange[a]))}this.__cbOnceOwnerUnbindTextValueChange=o,this.__cbOnceTextValueChange=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onTextValueChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event textValueChange because owner is destroyed!");var l=function(e){null!=t&&(i.offTextValueChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindTextValueChange&&(this.__cbOnOwnerUnbindTextValueChange=[]),this.__cbOnOwnerUnbindTextValueChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindTextValueChange&&(this.__cbOnOwnerUnbindTextValueChange=[]),this.__cbOnOwnerUnbindTextValueChange.push(null);null==this.__cbOnTextValueChange&&(this.__cbOnTextValueChange=[]),this.__cbOnTextValueChange.push(t)},onceTextValueChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event textValueChange because owner is destroyed!");var l=function(e){null!=t&&(i.offTextValueChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindTextValueChange&&(this.__cbOnceOwnerUnbindTextValueChange=[]),this.__cbOnceOwnerUnbindTextValueChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindTextValueChange&&(this.__cbOnceOwnerUnbindTextValueChange=[]),this.__cbOnceOwnerUnbindTextValueChange.push(null);null==this.__cbOnceTextValueChange&&(this.__cbOnceTextValueChange=[]),this.__cbOnceTextValueChange.push(t)},offTextValueChange:function(e){if(null!=e){var n;null!=this.__cbOnTextValueChange&&-1!=(n=this.__cbOnTextValueChange.indexOf(e))&&(this.__cbOnTextValueChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindTextValueChange[n])&&r(),this.__cbOnOwnerUnbindTextValueChange.splice(n,1)),null!=this.__cbOnceTextValueChange&&-1!=(n=this.__cbOnceTextValueChange.indexOf(e))&&(this.__cbOnceTextValueChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindTextValueChange[n])&&r(),this.__cbOnceOwnerUnbindTextValueChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindTextValueChange){for(var t=0,i=this.__cbOnOwnerUnbindTextValueChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindTextValueChange[l])&&r()}this.__cbOnOwnerUnbindTextValueChange=null}if(null!=this.__cbOnceOwnerUnbindTextValueChange){for(t=0,i=this.__cbOnceOwnerUnbindTextValueChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindTextValueChange[l])&&r()}this.__cbOnceOwnerUnbindTextValueChange=null}this.__cbOnTextValueChange=null,this.__cbOnceTextValueChange=null}},listensTextValueChange:function(){return null!=this.__cbOnTextValueChange&&0<this.__cbOnTextValueChange.length||null!=this.__cbOnceTextValueChange&&0<this.__cbOnceTextValueChange.length},autocompleteCandidates:null,set_autocompleteCandidates:function(e){if(this.autocompleteCandidates!=e)if(null!=(this.autocompleteCandidates=e)){for(var n=[],t=0,i=e.length;t<i;){var l=e[t++];n.push({search:z.replace(l," ","_"),original:l})}this.processedAutocompleteCandidates=n}else this.processedAutocompleteCandidates=null;return e},autocompleteDelay:null,autocompleteMaxResults:null,autocompleteOnFocus:null,clipSuggestions:null,editingThisFrame:null,suggestionsVisibleThisFrame:null,didLostFocus:function(){z2.prototype.didLostFocus.call(this)},handleAutocompleteOnFocus:function(e,n){e&&!n&&this.autocompleteOnFocus&&null!=this.autocompleteCandidates&&0<this.autocompleteCandidates.length&&this.updateAutocompleteSuggestions(!0)},destroy:function(){this._lifecycleState<=-2||(this._lifecycleState=-2,this._lifecycleState=-1,z2.prototype.destroy.call(this),this.clearSuggestions())},keyBindings:null,set_keyBindings:function(e){return this.keyBindings==e?this.keyBindings:(null!=this.keyBindings&&this.keyBindings.destroy(),this.keyBindings=e,null!=this.keyBindings?(this.component("keyBindings",this.keyBindings,!0),this.keyBindings):(this.removeComponent("keyBindings"),null))},textView:null,editText:null,cancelAutoComplete:null,processedAutocompleteCandidates:null,suggestionsView:null,suggestionsContainer:null,suggestions:null,handleEditTextSubmit:function(){this.get_focused()&&this.submit(this)},updateFromEditText:function(e){var t=this,i=(null!=this.cancelAutoComplete&&(this.cancelAutoComplete(),this.cancelAutoComplete=null),this.textView.text.component("selectText")),l=this.get_textValue(),r=i.get_selectionStart(),n=i.get_selectionEnd(),s=(this.setTextValue(this,e),this.get_textValue()),h=l.substring(0,r-1),a=s.substring(0,r-1);r==n&&e.length==l.length+1&&s.length>e.length&&h==a&&he.app._oncePostFlushImmediate(function(){var e,n;t._lifecycleState<0||(e=i.get_selectionStart(),n=s.length-l.length,l.substring(e,l.length)==s.substring(e+n,s.length)&&(i.set_selectionStart(r+n),i.set_selectionEnd(i.get_selectionStart())))},!0),l!=e&&null!=this.autocompleteCandidates&&0<this.autocompleteCandidates.length&&(this.cancelAutoComplete=Dt.schedule(this,this.autocompleteDelay,function(){t.updateAutocompleteSuggestions()},-1))},updateFromTextValue:function(){var e=this.get_textValue();U.unobserve(),null!=this.editText&&this.editText.updateText(e),this.textView.set_content(e),U.reobserve()},updateAutocompleteSuggestions:function(e){null==e&&(e=!1);var n=this.textView.text.content;if(0<z.trim(n).length){var n=z.replace(n," ","_"),t=Ri.filter(this.processedAutocompleteCandidates,n,{maxResults:this.autocompleteMaxResults,key:"search"}),i=!(this.suggestions=[]);if(0<t.length){for(var l=0,r=t.length;l<r;){var s=l++;this.suggestions.push(t[s].original)}e&&this.suggestions.length<B2.FORCED_SUGGESTION_FULL_LIST_UNDER_COUNT&&(i=!0)}else e&&(i=!0);if(i){var i=this.suggestions;if(0!=i.length)if(0<i.length)i.splice(0,i.length);else for(var h=i;h.length<0;)h.push(null);for(var a=Object.create(null),l=0,r=this.processedAutocompleteCandidates.length;l<r;){var s=l++,o=this.processedAutocompleteCandidates[s].original,c=(this.suggestions.push(o),this.suggestionDeepScore(o,n));a[o]=c}this.suggestions.sort(function(e,n){e=a[e],n=a[n];return n<e?-1:e<n?1:0})}}else if(e){this.suggestions=[];for(l=0,r=this.processedAutocompleteCandidates.length;l<r;){s=l++;this.suggestions.push(this.processedAutocompleteCandidates[s].original)}}else this.suggestions=null;null==this.suggestions||0==this.suggestions.length?this.clearSuggestions():(null==this.suggestionsContainer&&(this.suggestionsContainer=new f0,this.suggestionsContainer.onLayout(this,$bind(this,this.layoutSuggestionsContainer)),(i=this.suggestionsContainer).flags|=16,(i=this.suggestionsContainer).set_viewWidth(0),i.set_viewHeight(0),this.suggestionsContainer.set_active(!0),this.suggestionsContainer.set_depth(100),te.get_context().view.add(this.suggestionsContainer)),null==this.suggestionsView&&(this.suggestionsView=new A2,this.suggestionsView.autoScrollToValue=!0,this.suggestionsView.onValueChange(this,$bind(this,this.suggestionsValueChange)),this.suggestionsView.onValueClick(this,$bind(this,this.suggestionsValueClick)),he.app.input.onKeyDown(this.suggestionsView,$bind(this,this.suggestionsKeyDown)),this.suggestionsContainer.add(this.suggestionsView)),L0.equal(this.suggestionsView.get_list(),this.suggestions)||this.suggestionsView.set_list(this.suggestions))},suggestionsKeyDown:function(e){var n,t=this;null!=this.suggestionsView&&null!=this.suggestions&&0!=this.suggestions.length&&(41==e.scanCode?(this.clearSuggestions(),this.focus()):this.get_focused()&&81==e.scanCode?null!=(n=this.suggestionsView.get_list())&&(null==this.suggestionsView.get_value()?0<n.length&&this.suggestionsView.set_value(n[0]):n.indexOf(this.suggestionsView.get_value())<n.length-1&&this.suggestionsView.set_value(n[n.indexOf(this.suggestionsView.get_value())+1])):this.get_focused()&&82==e.scanCode?null!=(n=this.suggestionsView.get_list())&&null!=this.suggestionsView.get_value()&&0<n.indexOf(this.suggestionsView.get_value())&&this.suggestionsView.set_value(n[n.indexOf(this.suggestionsView.get_value())-1]):this.get_focused()&&40==e.scanCode&&(null==this.suggestionsView.get_value()&&this.suggestionsView.set_value(this.suggestions[0]),he.app._oncePostFlushImmediate(function(){t.clearSuggestions(),he.app._oncePostFlushImmediate(function(){t.focus()},!0)},!0)))},suggestionsValueChange:function(e,n){null!=this.editText&&(this.editText.updateText(e),this.editText.selectText.set_selectionStart(e.length),this.editText.selectText.set_selectionEnd(e.length)),this.textView.set_content(e),this.setTextValue(this,e),this.focus()},suggestionsValueClick:function(e){this.clearSuggestions(),this.focus()},suggestionDeepScore:function(e,n){for(var t=0,i=(t+=Ri.score(e,n),n.lastIndexOf("_"));-1!=i;)n=n.substring(0,i),t+=Ri.score(e,n),i=n.lastIndexOf("_");return t},layoutSuggestionsContainer:function(){var e,n,t;null!=this.suggestionsView&&(e=this.suggestionsView,n=this.get_width(),t=this.suggestionsHeight(),e.set_width(n),e.set_height(t))},suggestionsHeight:function(){return Math.min(B2.ITEM_HEIGHT*(null!=this.suggestions?this.suggestions.length:0),B2.MAX_LIST_HEIGHT)},updateSuggestionsPosition:function(){if(null!=this.suggestionsContainer&&1!=(1&this.suggestionsContainer.flags)){var e=this.getScrollingLayout(),n=(this.visualToScreen(0,this.get_height(),B2._point),B2._point.x),t=B2._point.y;te.get_context().view.screenToVisual(n,t,B2._point),n=B2._point.x,t=B2._point.y;if(te.get_context().view.get_height()-t<=this.suggestionsHeight()?(this.visualToScreen(0,0-this.suggestionsHeight(),B2._point),n=B2._point.x,t=B2._point.y,te.get_context().view.screenToVisual(n,t,B2._point),n=B2._point.x,t=B2._point.y):0,this.clipSuggestions)if(null!=e)if(e.screenToVisual(0,0,B2._point),te.get_context().view.screenToVisual(B2._point.x,B2._point.y,B2._point),t+B2._point.y<0){var i=this.suggestionsContainer;if(i.clip!=e&&(i.clip=e,i.clipDirty=!0,null!=i.children))for(var l=0,r=i.children.length;l<r;){var s=l++;if((u=i.children[s]).clipDirty=!0,null!=u.children)for(var h=0,a=u.children.length;h<a;){var o=h++;u.children[o].set_clipDirty(!0)}}}else{var i=this.suggestionsContainer,c=null;if(i.clip!=c&&(i.clip=c,i.clipDirty=!0,null!=i.children))for(l=0,r=i.children.length;l<r;){s=l++;if((u=i.children[s]).clipDirty=!0,null!=u.children)for(h=0,a=u.children.length;h<a;){o=h++;u.children[o].set_clipDirty(!0)}}}else{i=this.suggestionsContainer,c=null;if(i.clip!=c&&(i.clip=c,i.clipDirty=!0,null!=i.children))for(l=0,r=i.children.length;l<r;){s=l++;if((u=i.children[s]).clipDirty=!0,null!=u.children)for(h=0,a=u.children.length;h<a;){o=h++;u.children[o].set_clipDirty(!0)}}}else{i=this.suggestionsContainer,c=null;if(i.clip!=c&&(i.clip=c,i.clipDirty=!0,null!=i.children))for(l=0,r=i.children.length;l<r;){var u,s=l++;if((u=i.children[s]).clipDirty=!0,null!=u.children)for(h=0,a=u.children.length;h<a;){o=h++;u.children[o].set_clipDirty(!0)}}}n==this.suggestionsContainer.x&&t==this.suggestionsContainer.y||(this.suggestionsContainer.layoutDirty=!0),(i=this.suggestionsContainer).set_x(n),i.set_y(t)}},updateThisFrameFlags:function(){this.editingThisFrame=null!=this.editText&&this.editText.get_editing(),this.suggestionsVisibleThisFrame=null!=this.suggestionsView&&this.suggestionsView.computedVisible},updateSuggestionsVisibility:function(){if(null!=this.suggestionsView&&pi.get_shared().get_focusedField()!=this){for(var e=he.app.screen.get_focusedVisual(),n=!1;null!=e;){if(e==this.suggestionsView){n=!0;break}e=e.parent}n||this.clearSuggestions()}},clearSuggestions:function(){null!=this.suggestionsView&&(this.suggestionsView.destroy(),this.suggestionsView=null),null!=this.suggestionsContainer&&(this.suggestionsContainer.destroy(),this.suggestionsContainer=null)},bindKeyBindings:function(){var n=this;this.set_keyBindings(new Mn),this.keyBindings.bind([Bn.CMD_OR_CTRL,Bn.KEY(97)],function(){var e;n.get_focused()&&((e=n.textView.text.component("selectText")).set_selectionStart(0),e.set_selectionEnd(n.textView.text.content.length))}),this.keyBindings.bind([Bn.CMD_OR_CTRL,Bn.KEY(32)],function(){n.get_focused()&&null!=n.autocompleteCandidates&&0<n.autocompleteCandidates.length&&n.updateAutocompleteSuggestions(!0)})},hitsSelfOrDerived:function(e,n){return!!this._hits(e,n,!1)||!(null==this.suggestionsView||!this.suggestionsView.computedVisible)&&this.suggestionsView._hits(e,n,!1)},usesScanCode:function(e){return!!z2.prototype.usesScanCode.call(this,e)||!!(this.editingThisFrame||null!=this.editText&&this.editText.get_editing())||!!((this.suggestionsVisibleThisFrame||null!=this.suggestionsView&&this.suggestionsView.computedVisible)&&(41==e||this.get_focused()&&81==e||this.get_focused()&&82==e||this.get_focused()&&40==e))},usesKeyCode:function(e){return!!z2.prototype.usesKeyCode.call(this,e)||!!(this.editingThisFrame||null!=this.editText&&this.editText.get_editing())||!!((this.suggestionsVisibleThisFrame||null!=this.suggestionsView&&this.suggestionsView.computedVisible)&&(27==e||this.get_focused()&&1073741905==e||this.get_focused()&&1073741906==e||this.get_focused()&&13==e))},unbindEvents:function(){z2.prototype.unbindEvents.call(this),this.offTextValueChange()},__class__:B2,__properties__:$extend(z2.prototype.__properties__,{set_keyBindings:"set_keyBindings",set_autocompleteCandidates:"set_autocompleteCandidates",set_textValue:"set_textValue",get_textValue:"get_textValue"})}),(E["elements.BiBorderedTriangle"]=C2).__name__="elements.BiBorderedTriangle",C2.__super__=ya,C2.prototype=$extend(ya.prototype,{set_width:function(e){return ya.prototype.set_width.call(this,e),this.contentDirty=!0,he.app.visualsContentDirty=!0,e},set_height:function(e){return ya.prototype.set_height.call(this,e),this.contentDirty=!0,he.app.visualsContentDirty=!0,e},innerColor:null,set_innerColor:function(e){var n;return this.innerColor!=e&&(n=this.colors[0]>>24&255,this.colors[0]=(0|e)-16777216&16777215|(255<(n=null==n?255:n)?255:n<0?0:n)<<24,n=this.colors[1]>>24&255,this.colors[1]=(0|e)-16777216&16777215|(255<(n=null==n?255:n)?255:n<0?0:n)<<24,n=this.colors[2]>>24&255,this.colors[2]=(0|e)-16777216&16777215|(255<(n=null==n?255:n)?255:n<0?0:n)<<24),e},innerAlpha:null,set_innerAlpha:function(e){var n,t,i,l,r,s,h,a;return this.innerAlpha!=e&&(n=Math.round(255*e),a=((s=0)|(s=(s=(s=s&65535|(255<(i=(t=this.colors[0])>>16&255)?255:i<0?0:i)<<16)&16711935|(255<(l=t>>8&255)?255:l<0?0:l)<<8)&16776960|(255<(r=255&t)?255:r<0?0:r)))-16777216,this.colors[0]=a=a&16777215|(255<(h=null==(h=n)?255:h)?255:h<0?0:h)<<24,t=this.colors[1],this.colors[1]=a=(a=(0|(s=(s=(s=(s=0)&65535|(255<(i=t>>16&255)?255:i<0?0:i)<<16)&16711935|(255<(l=t>>8&255)?255:l<0?0:l)<<8)&16776960|(255<(r=255&t)?255:r<0?0:r)))-16777216)&16777215|(255<(h=null==(h=n)?255:h)?255:h<0?0:h)<<24,t=this.colors[2],this.colors[2]=a=(a=(0|(s=(s=(s=(s=0)&65535|(255<(i=t>>16&255)?255:i<0?0:i)<<16)&16711935|(255<(l=t>>8&255)?255:l<0?0:l)<<8)&16776960|(255<(r=255&t)?255:r<0?0:r)))-16777216)&16777215|(255<(h=null==(h=n)?255:h)?255:h<0?0:h)<<24),e},borderSize:null,set_borderSize:function(e){return this.borderSize!=e&&(this.borderSize=e,this.contentDirty=!0,he.app.visualsContentDirty=!0),e},borderColor:null,set_borderColor:function(e){if(this.borderColor!=e){this.borderColor=e;{var n=this.colors[3],n=n>>24&255,t=(null==n&&(n=255),(0|e)-16777216);this.colors[3]=t&16777215|(255<n?255:n<0?0:n)<<24;n=this.colors[4]>>24&255}this.colors[4]=(0|e)-16777216&16777215|(255<(n=null==n?255:n)?255:n<0?0:n)<<24;n=this.colors[5]>>24&255;this.colors[5]=(0|e)-16777216&16777215|(255<(n=null==n?255:n)?255:n<0?0:n)<<24;n=this.colors[6]>>24&255;this.colors[6]=(0|e)-16777216&16777215|(255<(n=null==n?255:n)?255:n<0?0:n)<<24;n=this.colors[7]>>24&255;this.colors[7]=(0|e)-16777216&16777215|(255<(n=null==n?255:n)?255:n<0?0:n)<<24;n=this.colors[8]>>24&255;this.colors[8]=(0|e)-16777216&16777215|(255<(n=null==n?255:n)?255:n<0?0:n)<<24;n=this.colors[9]>>24&255;this.colors[9]=(0|e)-16777216&16777215|(255<(n=null==n?255:n)?255:n<0?0:n)<<24;n=this.colors[10]>>24&255;this.colors[10]=(0|e)-16777216&16777215|(255<(n=null==n?255:n)?255:n<0?0:n)<<24;n=this.colors[11]>>24&255;this.colors[11]=(0|e)-16777216&16777215|(255<(n=null==n?255:n)?255:n<0?0:n)<<24;n=this.colors[12]>>24&255;this.colors[12]=(0|e)-16777216&16777215|(255<(n=null==n?255:n)?255:n<0?0:n)<<24;n=this.colors[13]>>24&255;this.colors[13]=(0|e)-16777216&16777215|(255<(n=null==n?255:n)?255:n<0?0:n)<<24;n=this.colors[14]>>24&255;this.colors[14]=(0|e)-16777216&16777215|(255<(n=null==n?255:n)?255:n<0?0:n)<<24}return e},borderAlpha:null,set_borderAlpha:function(e){var n,t,i,l,r,s,h,a;return this.borderAlpha!=e&&(this.borderAlpha=e,n=Math.round(255*e),a=((s=0)|(s=(s=(s=s&65535|(255<(i=(t=this.colors[3])>>16&255)?255:i<0?0:i)<<16)&16711935|(255<(l=t>>8&255)?255:l<0?0:l)<<8)&16776960|(255<(r=255&t)?255:r<0?0:r)))-16777216,this.colors[3]=a=a&16777215|(255<(h=null==(h=n)?255:h)?255:h<0?0:h)<<24,t=this.colors[4],this.colors[4]=a=(a=(0|(s=(s=(s=(s=0)&65535|(255<(i=t>>16&255)?255:i<0?0:i)<<16)&16711935|(255<(l=t>>8&255)?255:l<0?0:l)<<8)&16776960|(255<(r=255&t)?255:r<0?0:r)))-16777216)&16777215|(255<(h=null==(h=n)?255:h)?255:h<0?0:h)<<24,t=this.colors[5],this.colors[5]=a=(a=(0|(s=(s=(s=(s=0)&65535|(255<(i=t>>16&255)?255:i<0?0:i)<<16)&16711935|(255<(l=t>>8&255)?255:l<0?0:l)<<8)&16776960|(255<(r=255&t)?255:r<0?0:r)))-16777216)&16777215|(255<(h=null==(h=n)?255:h)?255:h<0?0:h)<<24,t=this.colors[6],this.colors[6]=a=(a=(0|(s=(s=(s=(s=0)&65535|(255<(i=t>>16&255)?255:i<0?0:i)<<16)&16711935|(255<(l=t>>8&255)?255:l<0?0:l)<<8)&16776960|(255<(r=255&t)?255:r<0?0:r)))-16777216)&16777215|(255<(h=null==(h=n)?255:h)?255:h<0?0:h)<<24,t=this.colors[7],this.colors[7]=a=(a=(0|(s=(s=(s=(s=0)&65535|(255<(i=t>>16&255)?255:i<0?0:i)<<16)&16711935|(255<(l=t>>8&255)?255:l<0?0:l)<<8)&16776960|(255<(r=255&t)?255:r<0?0:r)))-16777216)&16777215|(255<(h=null==(h=n)?255:h)?255:h<0?0:h)<<24,t=this.colors[8],this.colors[8]=a=(a=(0|(s=(s=(s=(s=0)&65535|(255<(i=t>>16&255)?255:i<0?0:i)<<16)&16711935|(255<(l=t>>8&255)?255:l<0?0:l)<<8)&16776960|(255<(r=255&t)?255:r<0?0:r)))-16777216)&16777215|(255<(h=null==(h=n)?255:h)?255:h<0?0:h)<<24,t=this.colors[9],this.colors[9]=a=(a=(0|(s=(s=(s=(s=0)&65535|(255<(i=t>>16&255)?255:i<0?0:i)<<16)&16711935|(255<(l=t>>8&255)?255:l<0?0:l)<<8)&16776960|(255<(r=255&t)?255:r<0?0:r)))-16777216)&16777215|(255<(h=null==(h=n)?255:h)?255:h<0?0:h)<<24,t=this.colors[10],this.colors[10]=a=(a=(0|(s=(s=(s=(s=0)&65535|(255<(i=t>>16&255)?255:i<0?0:i)<<16)&16711935|(255<(l=t>>8&255)?255:l<0?0:l)<<8)&16776960|(255<(r=255&t)?255:r<0?0:r)))-16777216)&16777215|(255<(h=null==(h=n)?255:h)?255:h<0?0:h)<<24,t=this.colors[11],this.colors[11]=a=(a=(0|(s=(s=(s=(s=0)&65535|(255<(i=t>>16&255)?255:i<0?0:i)<<16)&16711935|(255<(l=t>>8&255)?255:l<0?0:l)<<8)&16776960|(255<(r=255&t)?255:r<0?0:r)))-16777216)&16777215|(255<(h=null==(h=n)?255:h)?255:h<0?0:h)<<24,t=this.colors[12],this.colors[12]=a=(a=(0|(s=(s=(s=(s=0)&65535|(255<(i=t>>16&255)?255:i<0?0:i)<<16)&16711935|(255<(l=t>>8&255)?255:l<0?0:l)<<8)&16776960|(255<(r=255&t)?255:r<0?0:r)))-16777216)&16777215|(255<(h=null==(h=n)?255:h)?255:h<0?0:h)<<24,t=this.colors[13],this.colors[13]=a=(a=(0|(s=(s=(s=(s=0)&65535|(255<(i=t>>16&255)?255:i<0?0:i)<<16)&16711935|(255<(l=t>>8&255)?255:l<0?0:l)<<8)&16776960|(255<(r=255&t)?255:r<0?0:r)))-16777216)&16777215|(255<(h=null==(h=n)?255:h)?255:h<0?0:h)<<24,t=this.colors[14],this.colors[14]=a=(a=(0|(s=(s=(s=(s=0)&65535|(255<(i=t>>16&255)?255:i<0?0:i)<<16)&16711935|(255<(l=t>>8&255)?255:l<0?0:l)<<8)&16776960|(255<(r=255&t)?255:r<0?0:r)))-16777216)&16777215|(255<(h=null==(h=n)?255:h)?255:h<0?0:h)<<24),e},computeContent:function(){ya.prototype.computeContent.call(this),this.vertices[0]=0,this.vertices[1]=this.get_height(),this.vertices[2]=.5*this.get_width(),this.vertices[3]=0,this.vertices[4]=this.get_width(),this.vertices[5]=this.get_height(),this.vertices[6]=-this.borderSize,this.vertices[7]=this.get_height(),this.vertices[8]=.5*this.get_width(),this.vertices[9]=-this.borderSize,this.vertices[10]=this.get_width()+this.borderSize,this.vertices[11]=this.get_height()},updateVertices:function(){this.vertices[0]=0,this.vertices[1]=this.get_height(),this.vertices[2]=.5*this.get_width(),this.vertices[3]=0,this.vertices[4]=this.get_width(),this.vertices[5]=this.get_height(),this.vertices[6]=-this.borderSize,this.vertices[7]=this.get_height(),this.vertices[8]=.5*this.get_width(),this.vertices[9]=-this.borderSize,this.vertices[10]=this.get_width()+this.borderSize,this.vertices[11]=this.get_height()},__class__:C2,__properties__:$extend(ya.prototype.__properties__,{set_borderAlpha:"set_borderAlpha",set_borderColor:"set_borderColor",set_borderSize:"set_borderSize",set_innerAlpha:"set_innerAlpha",set_innerColor:"set_innerColor"})}),(E["elements.BooleanFieldView"]=D2).__name__="elements.BooleanFieldView",D2.__super__=z2,D2.prototype=$extend(z2.prototype,{themeAutoruns:null,get_theme:function(){var e,n,t=this.unobservedTheme;return null!=U.current&&(e=U.current,null!=(n=this.themeAutoruns)||(n=U.getAutorunArray(),null!=(this.themeAutoruns=n)))&&e.bindToAutorunArray(n),t},set_theme:function(e){var n=this.unobservedTheme;return n!=(this.unobservedTheme=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitThemeChange(e,n),null!=(n=this.themeAutoruns))&&(this.themeAutoruns=null,U.invalidateAutorunArray(n)),e},invalidateTheme:function(){var e=this.unobservedTheme,e=(this.emitThemeChange(e,e),this.themeAutoruns);null!=e&&(this.themeAutoruns=null,U.invalidateAutorunArray(e))},unobservedTheme:null,__cbOnThemeChange:null,__cbOnceThemeChange:null,__cbOnOwnerUnbindThemeChange:null,__cbOnceOwnerUnbindThemeChange:null,emitThemeChange:function(e,n){var t=0;if(null!=this.__cbOnThemeChange&&(t+=this.__cbOnThemeChange.length),null!=this.__cbOnceThemeChange&&(t+=this.__cbOnceThemeChange.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnThemeChange)for(var s=0,h=this.__cbOnThemeChange.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnThemeChange[a],++r):--t}if(null!=this.__cbOnceThemeChange){for(var o=null,c=null,s=0,h=this.__cbOnceThemeChange.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceThemeChange[a],this.__cbOnceThemeChange[a]=null,u=this.__cbOnceOwnerUnbindThemeChange[a],(this.__cbOnceOwnerUnbindThemeChange[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindThemeChange[a]),c.push(this.__cbOnceThemeChange[a]))}this.__cbOnceOwnerUnbindThemeChange=o,this.__cbOnceThemeChange=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onThemeChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event themeChange because owner is destroyed!");var l=function(e){null!=t&&(i.offThemeChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindThemeChange&&(this.__cbOnOwnerUnbindThemeChange=[]),this.__cbOnOwnerUnbindThemeChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindThemeChange&&(this.__cbOnOwnerUnbindThemeChange=[]),this.__cbOnOwnerUnbindThemeChange.push(null);null==this.__cbOnThemeChange&&(this.__cbOnThemeChange=[]),this.__cbOnThemeChange.push(t)},onceThemeChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event themeChange because owner is destroyed!");var l=function(e){null!=t&&(i.offThemeChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindThemeChange&&(this.__cbOnceOwnerUnbindThemeChange=[]),this.__cbOnceOwnerUnbindThemeChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindThemeChange&&(this.__cbOnceOwnerUnbindThemeChange=[]),this.__cbOnceOwnerUnbindThemeChange.push(null);null==this.__cbOnceThemeChange&&(this.__cbOnceThemeChange=[]),this.__cbOnceThemeChange.push(t)},offThemeChange:function(e){if(null!=e){var n;null!=this.__cbOnThemeChange&&-1!=(n=this.__cbOnThemeChange.indexOf(e))&&(this.__cbOnThemeChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindThemeChange[n])&&r(),this.__cbOnOwnerUnbindThemeChange.splice(n,1)),null!=this.__cbOnceThemeChange&&-1!=(n=this.__cbOnceThemeChange.indexOf(e))&&(this.__cbOnceThemeChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindThemeChange[n])&&r(),this.__cbOnceOwnerUnbindThemeChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindThemeChange){for(var t=0,i=this.__cbOnOwnerUnbindThemeChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindThemeChange[l])&&r()}this.__cbOnOwnerUnbindThemeChange=null}if(null!=this.__cbOnceOwnerUnbindThemeChange){for(t=0,i=this.__cbOnceOwnerUnbindThemeChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindThemeChange[l])&&r()}this.__cbOnceOwnerUnbindThemeChange=null}this.__cbOnThemeChange=null,this.__cbOnceThemeChange=null}},listensThemeChange:function(){return null!=this.__cbOnThemeChange&&0<this.__cbOnThemeChange.length||null!=this.__cbOnceThemeChange&&0<this.__cbOnceThemeChange.length},switchContainer:null,switchSquare:null,setValue:function(e,n){},valueAutoruns:null,get_value:function(){var e,n,t=this.unobservedValue;return null!=U.current&&(e=U.current,null!=(n=this.valueAutoruns)||(n=U.getAutorunArray(),null!=(this.valueAutoruns=n)))&&e.bindToAutorunArray(n),t},set_value:function(e){var n=this.unobservedValue;return n!=(this.unobservedValue=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitValueChange(e,n),null!=(n=this.valueAutoruns))&&(this.valueAutoruns=null,U.invalidateAutorunArray(n)),e},invalidateValue:function(){var e=this.unobservedValue,e=(this.emitValueChange(e,e),this.valueAutoruns);null!=e&&(this.valueAutoruns=null,U.invalidateAutorunArray(e))},unobservedValue:null,__cbOnValueChange:null,__cbOnceValueChange:null,__cbOnOwnerUnbindValueChange:null,__cbOnceOwnerUnbindValueChange:null,emitValueChange:function(e,n){var t=0;if(null!=this.__cbOnValueChange&&(t+=this.__cbOnValueChange.length),null!=this.__cbOnceValueChange&&(t+=this.__cbOnceValueChange.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnValueChange)for(var s=0,h=this.__cbOnValueChange.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnValueChange[a],++r):--t}if(null!=this.__cbOnceValueChange){for(var o=null,c=null,s=0,h=this.__cbOnceValueChange.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceValueChange[a],this.__cbOnceValueChange[a]=null,u=this.__cbOnceOwnerUnbindValueChange[a],(this.__cbOnceOwnerUnbindValueChange[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindValueChange[a]),c.push(this.__cbOnceValueChange[a]))}this.__cbOnceOwnerUnbindValueChange=o,this.__cbOnceValueChange=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onValueChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event valueChange because owner is destroyed!");var l=function(e){null!=t&&(i.offValueChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindValueChange&&(this.__cbOnOwnerUnbindValueChange=[]),this.__cbOnOwnerUnbindValueChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindValueChange&&(this.__cbOnOwnerUnbindValueChange=[]),this.__cbOnOwnerUnbindValueChange.push(null);null==this.__cbOnValueChange&&(this.__cbOnValueChange=[]),this.__cbOnValueChange.push(t)},onceValueChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event valueChange because owner is destroyed!");var l=function(e){null!=t&&(i.offValueChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindValueChange&&(this.__cbOnceOwnerUnbindValueChange=[]),this.__cbOnceOwnerUnbindValueChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindValueChange&&(this.__cbOnceOwnerUnbindValueChange=[]),this.__cbOnceOwnerUnbindValueChange.push(null);null==this.__cbOnceValueChange&&(this.__cbOnceValueChange=[]),this.__cbOnceValueChange.push(t)},offValueChange:function(e){if(null!=e){var n;null!=this.__cbOnValueChange&&-1!=(n=this.__cbOnValueChange.indexOf(e))&&(this.__cbOnValueChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindValueChange[n])&&r(),this.__cbOnOwnerUnbindValueChange.splice(n,1)),null!=this.__cbOnceValueChange&&-1!=(n=this.__cbOnceValueChange.indexOf(e))&&(this.__cbOnceValueChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindValueChange[n])&&r(),this.__cbOnceOwnerUnbindValueChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindValueChange){for(var t=0,i=this.__cbOnOwnerUnbindValueChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindValueChange[l])&&r()}this.__cbOnOwnerUnbindValueChange=null}if(null!=this.__cbOnceOwnerUnbindValueChange){for(t=0,i=this.__cbOnceOwnerUnbindValueChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindValueChange[l])&&r()}this.__cbOnceOwnerUnbindValueChange=null}this.__cbOnValueChange=null,this.__cbOnceValueChange=null}},listensValueChange:function(){return null!=this.__cbOnValueChange&&0<this.__cbOnValueChange.length||null!=this.__cbOnceValueChange&&0<this.__cbOnceValueChange.length},inputStyleAutoruns:null,get_inputStyle:function(){var e,n,t=this.unobservedInputStyle;return null!=U.current&&(e=U.current,null!=(n=this.inputStyleAutoruns)||(n=U.getAutorunArray(),null!=(this.inputStyleAutoruns=n)))&&e.bindToAutorunArray(n),t},set_inputStyle:function(e){var n=this.unobservedInputStyle;return n!=(this.unobservedInputStyle=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitInputStyleChange(e,n),null!=(n=this.inputStyleAutoruns))&&(this.inputStyleAutoruns=null,U.invalidateAutorunArray(n)),e},invalidateInputStyle:function(){var e=this.unobservedInputStyle,e=(this.emitInputStyleChange(e,e),this.inputStyleAutoruns);null!=e&&(this.inputStyleAutoruns=null,U.invalidateAutorunArray(e))},unobservedInputStyle:null,__cbOnInputStyleChange:null,__cbOnceInputStyleChange:null,__cbOnOwnerUnbindInputStyleChange:null,__cbOnceOwnerUnbindInputStyleChange:null,emitInputStyleChange:function(e,n){var t=0;if(null!=this.__cbOnInputStyleChange&&(t+=this.__cbOnInputStyleChange.length),null!=this.__cbOnceInputStyleChange&&(t+=this.__cbOnceInputStyleChange.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnInputStyleChange)for(var s=0,h=this.__cbOnInputStyleChange.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnInputStyleChange[a],++r):--t}if(null!=this.__cbOnceInputStyleChange){for(var o=null,c=null,s=0,h=this.__cbOnceInputStyleChange.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceInputStyleChange[a],this.__cbOnceInputStyleChange[a]=null,u=this.__cbOnceOwnerUnbindInputStyleChange[a],(this.__cbOnceOwnerUnbindInputStyleChange[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindInputStyleChange[a]),c.push(this.__cbOnceInputStyleChange[a]))}this.__cbOnceOwnerUnbindInputStyleChange=o,this.__cbOnceInputStyleChange=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onInputStyleChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event inputStyleChange because owner is destroyed!");var l=function(e){null!=t&&(i.offInputStyleChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindInputStyleChange&&(this.__cbOnOwnerUnbindInputStyleChange=[]),this.__cbOnOwnerUnbindInputStyleChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindInputStyleChange&&(this.__cbOnOwnerUnbindInputStyleChange=[]),this.__cbOnOwnerUnbindInputStyleChange.push(null);null==this.__cbOnInputStyleChange&&(this.__cbOnInputStyleChange=[]),this.__cbOnInputStyleChange.push(t)},onceInputStyleChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event inputStyleChange because owner is destroyed!");var l=function(e){null!=t&&(i.offInputStyleChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindInputStyleChange&&(this.__cbOnceOwnerUnbindInputStyleChange=[]),this.__cbOnceOwnerUnbindInputStyleChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindInputStyleChange&&(this.__cbOnceOwnerUnbindInputStyleChange=[]),this.__cbOnceOwnerUnbindInputStyleChange.push(null);null==this.__cbOnceInputStyleChange&&(this.__cbOnceInputStyleChange=[]),this.__cbOnceInputStyleChange.push(t)},offInputStyleChange:function(e){if(null!=e){var n;null!=this.__cbOnInputStyleChange&&-1!=(n=this.__cbOnInputStyleChange.indexOf(e))&&(this.__cbOnInputStyleChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindInputStyleChange[n])&&r(),this.__cbOnOwnerUnbindInputStyleChange.splice(n,1)),null!=this.__cbOnceInputStyleChange&&-1!=(n=this.__cbOnceInputStyleChange.indexOf(e))&&(this.__cbOnceInputStyleChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindInputStyleChange[n])&&r(),this.__cbOnceOwnerUnbindInputStyleChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindInputStyleChange){for(var t=0,i=this.__cbOnOwnerUnbindInputStyleChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindInputStyleChange[l])&&r()}this.__cbOnOwnerUnbindInputStyleChange=null}if(null!=this.__cbOnceOwnerUnbindInputStyleChange){for(t=0,i=this.__cbOnceOwnerUnbindInputStyleChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindInputStyleChange[l])&&r()}this.__cbOnceOwnerUnbindInputStyleChange=null}this.__cbOnInputStyleChange=null,this.__cbOnceInputStyleChange=null}},listensInputStyleChange:function(){return null!=this.__cbOnInputStyleChange&&0<this.__cbOnInputStyleChange.length||null!=this.__cbOnceInputStyleChange&&0<this.__cbOnceInputStyleChange.length},disabledAutoruns:null,get_disabled:function(){var e,n,t=this.unobservedDisabled;return null!=U.current&&(e=U.current,null!=(n=this.disabledAutoruns)||(n=U.getAutorunArray(),null!=(this.disabledAutoruns=n)))&&e.bindToAutorunArray(n),t},set_disabled:function(e){var n=this.unobservedDisabled;return this.set_unobservedDisabled(e),n!=e&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitDisabledChange(e,n),null!=(n=this.disabledAutoruns))&&(this.disabledAutoruns=null,U.invalidateAutorunArray(n)),e},invalidateDisabled:function(){var e=this.unobservedDisabled,e=(this.emitDisabledChange(e,e),this.disabledAutoruns);null!=e&&(this.disabledAutoruns=null,U.invalidateAutorunArray(e))},unobservedDisabled:null,__cbOnDisabledChange:null,__cbOnceDisabledChange:null,__cbOnOwnerUnbindDisabledChange:null,__cbOnceOwnerUnbindDisabledChange:null,emitDisabledChange:function(e,n){var t=0;if(null!=this.__cbOnDisabledChange&&(t+=this.__cbOnDisabledChange.length),null!=this.__cbOnceDisabledChange&&(t+=this.__cbOnceDisabledChange.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnDisabledChange)for(var s=0,h=this.__cbOnDisabledChange.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnDisabledChange[a],++r):--t}if(null!=this.__cbOnceDisabledChange){for(var o=null,c=null,s=0,h=this.__cbOnceDisabledChange.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceDisabledChange[a],this.__cbOnceDisabledChange[a]=null,u=this.__cbOnceOwnerUnbindDisabledChange[a],(this.__cbOnceOwnerUnbindDisabledChange[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindDisabledChange[a]),c.push(this.__cbOnceDisabledChange[a]))}this.__cbOnceOwnerUnbindDisabledChange=o,this.__cbOnceDisabledChange=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onDisabledChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event disabledChange because owner is destroyed!");var l=function(e){null!=t&&(i.offDisabledChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindDisabledChange&&(this.__cbOnOwnerUnbindDisabledChange=[]),this.__cbOnOwnerUnbindDisabledChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindDisabledChange&&(this.__cbOnOwnerUnbindDisabledChange=[]),this.__cbOnOwnerUnbindDisabledChange.push(null);null==this.__cbOnDisabledChange&&(this.__cbOnDisabledChange=[]),this.__cbOnDisabledChange.push(t)},onceDisabledChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event disabledChange because owner is destroyed!");var l=function(e){null!=t&&(i.offDisabledChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindDisabledChange&&(this.__cbOnceOwnerUnbindDisabledChange=[]),this.__cbOnceOwnerUnbindDisabledChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindDisabledChange&&(this.__cbOnceOwnerUnbindDisabledChange=[]),this.__cbOnceOwnerUnbindDisabledChange.push(null);null==this.__cbOnceDisabledChange&&(this.__cbOnceDisabledChange=[]),this.__cbOnceDisabledChange.push(t)},offDisabledChange:function(e){if(null!=e){var n;null!=this.__cbOnDisabledChange&&-1!=(n=this.__cbOnDisabledChange.indexOf(e))&&(this.__cbOnDisabledChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindDisabledChange[n])&&r(),this.__cbOnOwnerUnbindDisabledChange.splice(n,1)),null!=this.__cbOnceDisabledChange&&-1!=(n=this.__cbOnceDisabledChange.indexOf(e))&&(this.__cbOnceDisabledChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindDisabledChange[n])&&r(),this.__cbOnceOwnerUnbindDisabledChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindDisabledChange){for(var t=0,i=this.__cbOnOwnerUnbindDisabledChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindDisabledChange[l])&&r()}this.__cbOnOwnerUnbindDisabledChange=null}if(null!=this.__cbOnceOwnerUnbindDisabledChange){for(t=0,i=this.__cbOnceOwnerUnbindDisabledChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindDisabledChange[l])&&r()}this.__cbOnceOwnerUnbindDisabledChange=null}this.__cbOnDisabledChange=null,this.__cbOnceDisabledChange=null}},listensDisabledChange:function(){return null!=this.__cbOnDisabledChange&&0<this.__cbOnDisabledChange.length||null!=this.__cbOnceDisabledChange&&0<this.__cbOnceDisabledChange.length},set_unobservedDisabled:function(e){return this.unobservedDisabled!=e&&(this.unobservedDisabled=e,this.set_touchable(!e),e)&&this.get_unobservedFocused()&&he.app.screen.set_focusedVisual(null),e},layoutSwitchContainer:function(){var e,n,t;this._lifecycleState<0||(this.get_value()?(n=this.switchSquare,e=this.switchContainer.get_width()-this.switchSquare.get_width()-this.switchContainer.paddingRight,t=this.switchContainer.paddingTop,n.set_x(e)):(n=this.switchSquare,t=this.switchContainer.paddingTop,n.set_x(this.switchContainer.paddingLeft)),n.set_y(t))},handleKeyDown:function(e){pi.get_shared().get_focusedField()==this&&(44==e.scanCode?this.toggleValue():40==e.scanCode?this.get_value()||(this.set_value(!0),this.setValue(this,!0)):42!=e.scanCode&&76!=e.scanCode||this.get_value()&&(this.set_value(!1),this.setValue(this,!1)))},toggleValue:function(){this.set_value(!this.get_value()),this.setValue(this,this.get_value())},updateStyle:function(){var e,n,t=this.get_theme();null==t&&(t=te.get_context().get_theme()),this.get_inputStyle()==wi.OVERLAY||this.get_inputStyle()==wi.MINIMAL?(e=this.switchContainer).flags|=16:((e=this.switchContainer).flags&=-17,this.switchContainer.color=t.get_darkBackgroundColor()),this.get_value()?((e=this.switchSquare).flags&=-17,n=this.get_disabled()?t.get_darkTextColor():t.get_mediumTextColor(),this.switchSquare.color=n):(e=this.switchSquare,n=this.get_inputStyle()==wi.OVERLAY,e.flags=n?16|e.flags:-17&e.flags,this.switchSquare.color=t.get_darkBackgroundColor()),n=this.get_inputStyle()==wi.MINIMAL?(0!=(e=this.switchContainer).borderSize&&(e.borderSize=0,e.updateBorder()),(e=this.switchContainer).flags|=16,1!=(e=this.switchSquare).borderSize&&(e.borderSize=1,e.updateBorder()),e=this.switchSquare,n=Ve.OUTSIDE,e.borderPosition!=n&&(e.borderPosition=n,0<e.borderSize||0<e.borderTopSize||0<e.borderBottomSize||0<e.borderLeftSize||0<e.borderRightSize)&&e.updateBorder(),e=this.switchSquare,t.get_darkBorderColor()):(1!=(e=this.switchContainer).borderSize&&(e.borderSize=1,e.updateBorder()),(e=this.switchContainer).flags&=-17,0!=(e=this.switchSquare).borderSize&&(e.borderSize=0,e.updateBorder()),this.get_focused()?(e=this.switchContainer,t.get_focusedFieldBorderColor()):this.get_disabled()?(e=this.switchContainer,t.get_mediumBorderColor()):(e=this.switchContainer,t.get_lightBorderColor())),e.borderColor!=n&&(e.borderColor=n,0<e.borderSize||0<e.borderTopSize||0<e.borderBottomSize||0<e.borderLeftSize||0<e.borderRightSize)&&e.updateBorder()},unbindEvents:function(){z2.prototype.unbindEvents.call(this),this.offThemeChange(),this.offValueChange(),this.offInputStyleChange(),this.offDisabledChange()},__class__:D2,__properties__:$extend(z2.prototype.__properties__,{set_unobservedDisabled:"set_unobservedDisabled",set_disabled:"set_disabled",get_disabled:"get_disabled",set_inputStyle:"set_inputStyle",get_inputStyle:"get_inputStyle",set_value:"set_value",get_value:"get_value",set_theme:"set_theme",get_theme:"get_theme"})}),(E["elements.Button"]=E2).__name__="elements.Button",E2.__interfaces__=[y2,s],E2.__super__=w1,E2.prototype=$extend(w1.prototype,{__cbOnObservedDirty:null,__cbOnceObservedDirty:null,__cbOnOwnerUnbindObservedDirty:null,__cbOnceOwnerUnbindObservedDirty:null,emitObservedDirty:function(e,n){var t=0;if(null!=this.__cbOnObservedDirty&&(t+=this.__cbOnObservedDirty.length),null!=this.__cbOnceObservedDirty&&(t+=this.__cbOnceObservedDirty.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnObservedDirty)for(var s=0,h=this.__cbOnObservedDirty.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnObservedDirty[a],++r):--t}if(null!=this.__cbOnceObservedDirty){for(var o=null,c=null,s=0,h=this.__cbOnceObservedDirty.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceObservedDirty[a],this.__cbOnceObservedDirty[a]=null,u=this.__cbOnceOwnerUnbindObservedDirty[a],(this.__cbOnceOwnerUnbindObservedDirty[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindObservedDirty[a]),c.push(this.__cbOnceObservedDirty[a]))}this.__cbOnceOwnerUnbindObservedDirty=o,this.__cbOnceObservedDirty=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onObservedDirty:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event observedDirty because owner is destroyed!");var l=function(e){null!=t&&(i.offObservedDirty(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push(null);null==this.__cbOnObservedDirty&&(this.__cbOnObservedDirty=[]),this.__cbOnObservedDirty.push(t)},onceObservedDirty:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event observedDirty because owner is destroyed!");var l=function(e){null!=t&&(i.offObservedDirty(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push(null);null==this.__cbOnceObservedDirty&&(this.__cbOnceObservedDirty=[]),this.__cbOnceObservedDirty.push(t)},offObservedDirty:function(e){if(null!=e){var n;null!=this.__cbOnObservedDirty&&-1!=(n=this.__cbOnObservedDirty.indexOf(e))&&(this.__cbOnObservedDirty.splice(n,1),null!=(r=this.__cbOnOwnerUnbindObservedDirty[n])&&r(),this.__cbOnOwnerUnbindObservedDirty.splice(n,1)),null!=this.__cbOnceObservedDirty&&-1!=(n=this.__cbOnceObservedDirty.indexOf(e))&&(this.__cbOnceObservedDirty.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindObservedDirty[n])&&r(),this.__cbOnceOwnerUnbindObservedDirty.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindObservedDirty){for(var t=0,i=this.__cbOnOwnerUnbindObservedDirty.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindObservedDirty[l])&&r()}this.__cbOnOwnerUnbindObservedDirty=null}if(null!=this.__cbOnceOwnerUnbindObservedDirty){for(t=0,i=this.__cbOnceOwnerUnbindObservedDirty.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindObservedDirty[l])&&r()}this.__cbOnceOwnerUnbindObservedDirty=null}this.__cbOnObservedDirty=null,this.__cbOnceObservedDirty=null}},listensObservedDirty:function(){return null!=this.__cbOnObservedDirty&&0<this.__cbOnObservedDirty.length||null!=this.__cbOnceObservedDirty&&0<this.__cbOnceObservedDirty.length},observedDirty:null,themeAutoruns:null,get_theme:function(){var e,n,t=this.unobservedTheme;return null!=U.current&&(e=U.current,null!=(n=this.themeAutoruns)||(n=U.getAutorunArray(),null!=(this.themeAutoruns=n)))&&e.bindToAutorunArray(n),t},set_theme:function(e){var n=this.unobservedTheme;return n!=(this.unobservedTheme=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitThemeChange(e,n),null!=(n=this.themeAutoruns))&&(this.themeAutoruns=null,U.invalidateAutorunArray(n)),e},invalidateTheme:function(){var e=this.unobservedTheme,e=(this.emitThemeChange(e,e),this.themeAutoruns);null!=e&&(this.themeAutoruns=null,U.invalidateAutorunArray(e))},unobservedTheme:null,__cbOnThemeChange:null,__cbOnceThemeChange:null,__cbOnOwnerUnbindThemeChange:null,__cbOnceOwnerUnbindThemeChange:null,emitThemeChange:function(e,n){var t=0;if(null!=this.__cbOnThemeChange&&(t+=this.__cbOnThemeChange.length),null!=this.__cbOnceThemeChange&&(t+=this.__cbOnceThemeChange.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnThemeChange)for(var s=0,h=this.__cbOnThemeChange.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnThemeChange[a],++r):--t}if(null!=this.__cbOnceThemeChange){for(var o=null,c=null,s=0,h=this.__cbOnceThemeChange.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceThemeChange[a],this.__cbOnceThemeChange[a]=null,u=this.__cbOnceOwnerUnbindThemeChange[a],(this.__cbOnceOwnerUnbindThemeChange[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindThemeChange[a]),c.push(this.__cbOnceThemeChange[a]))}this.__cbOnceOwnerUnbindThemeChange=o,this.__cbOnceThemeChange=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onThemeChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event themeChange because owner is destroyed!");var l=function(e){null!=t&&(i.offThemeChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindThemeChange&&(this.__cbOnOwnerUnbindThemeChange=[]),this.__cbOnOwnerUnbindThemeChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindThemeChange&&(this.__cbOnOwnerUnbindThemeChange=[]),this.__cbOnOwnerUnbindThemeChange.push(null);null==this.__cbOnThemeChange&&(this.__cbOnThemeChange=[]),this.__cbOnThemeChange.push(t)},onceThemeChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event themeChange because owner is destroyed!");var l=function(e){null!=t&&(i.offThemeChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindThemeChange&&(this.__cbOnceOwnerUnbindThemeChange=[]),this.__cbOnceOwnerUnbindThemeChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindThemeChange&&(this.__cbOnceOwnerUnbindThemeChange=[]),this.__cbOnceOwnerUnbindThemeChange.push(null);null==this.__cbOnceThemeChange&&(this.__cbOnceThemeChange=[]),this.__cbOnceThemeChange.push(t)},offThemeChange:function(e){if(null!=e){var n;null!=this.__cbOnThemeChange&&-1!=(n=this.__cbOnThemeChange.indexOf(e))&&(this.__cbOnThemeChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindThemeChange[n])&&r(),this.__cbOnOwnerUnbindThemeChange.splice(n,1)),null!=this.__cbOnceThemeChange&&-1!=(n=this.__cbOnceThemeChange.indexOf(e))&&(this.__cbOnceThemeChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindThemeChange[n])&&r(),this.__cbOnceOwnerUnbindThemeChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindThemeChange){for(var t=0,i=this.__cbOnOwnerUnbindThemeChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindThemeChange[l])&&r()}this.__cbOnOwnerUnbindThemeChange=null}if(null!=this.__cbOnceOwnerUnbindThemeChange){for(t=0,i=this.__cbOnceOwnerUnbindThemeChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindThemeChange[l])&&r()}this.__cbOnceOwnerUnbindThemeChange=null}this.__cbOnThemeChange=null,this.__cbOnceThemeChange=null}},listensThemeChange:function(){return null!=this.__cbOnThemeChange&&0<this.__cbOnThemeChange.length||null!=this.__cbOnceThemeChange&&0<this.__cbOnceThemeChange.length},click:null,set_click:function(e){return this.click==e?this.click:(null!=this.click&&this.click.destroy(),this.click=e,null!=this.click?(this.component("click",this.click,!0),this.click):(this.removeComponent("click"),null))},__cbOnClick:null,__cbOnceClick:null,__cbOnOwnerUnbindClick:null,__cbOnceOwnerUnbindClick:null,emitClick:function(){var e=0;if(null!=this.__cbOnClick&&(e+=this.__cbOnClick.length),null!=this.__cbOnceClick&&(e+=this.__cbOnceClick.length),0<e){var n=C.pool(e),t=n.get(),i=0;if(null!=this.__cbOnClick)for(var l=0,r=this.__cbOnClick.length;l<r;){var s=l++;!0?(t.vector[i]=this.__cbOnClick[s],++i):--e}if(null!=this.__cbOnceClick){for(var h=null,a=null,l=0,r=this.__cbOnceClick.length;l<r;){var o,s=l++;!0?(t.vector[i]=this.__cbOnceClick[s],this.__cbOnceClick[s]=null,o=this.__cbOnceOwnerUnbindClick[s],(this.__cbOnceOwnerUnbindClick[s]=null)!=o&&o(),++i):(--e,null==h&&(h=[],a=[],0),h.push(this.__cbOnceOwnerUnbindClick[s]),a.push(this.__cbOnceClick[s]))}this.__cbOnceOwnerUnbindClick=h,this.__cbOnceClick=a}for(l=0,r=e;l<r;){i=l++;(0,t.vector[i])()}n.release(t)}},onClick:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event click because owner is destroyed!");var l=function(e){null!=t&&(i.offClick(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindClick&&(this.__cbOnOwnerUnbindClick=[]),this.__cbOnOwnerUnbindClick.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindClick&&(this.__cbOnOwnerUnbindClick=[]),this.__cbOnOwnerUnbindClick.push(null);null==this.__cbOnClick&&(this.__cbOnClick=[]),this.__cbOnClick.push(t)},onceClick:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event click because owner is destroyed!");var l=function(e){null!=t&&(i.offClick(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindClick&&(this.__cbOnceOwnerUnbindClick=[]),this.__cbOnceOwnerUnbindClick.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindClick&&(this.__cbOnceOwnerUnbindClick=[]),this.__cbOnceOwnerUnbindClick.push(null);null==this.__cbOnceClick&&(this.__cbOnceClick=[]),this.__cbOnceClick.push(t)},offClick:function(e){if(null!=e){var n;null!=this.__cbOnClick&&-1!=(n=this.__cbOnClick.indexOf(e))&&(this.__cbOnClick.splice(n,1),null!=(r=this.__cbOnOwnerUnbindClick[n])&&r(),this.__cbOnOwnerUnbindClick.splice(n,1)),null!=this.__cbOnceClick&&-1!=(n=this.__cbOnceClick.indexOf(e))&&(this.__cbOnceClick.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindClick[n])&&r(),this.__cbOnceOwnerUnbindClick.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindClick){for(var t=0,i=this.__cbOnOwnerUnbindClick.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindClick[l])&&r()}this.__cbOnOwnerUnbindClick=null}if(null!=this.__cbOnceOwnerUnbindClick){for(t=0,i=this.__cbOnceOwnerUnbindClick.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindClick[l])&&r()}this.__cbOnceOwnerUnbindClick=null}this.__cbOnClick=null,this.__cbOnceClick=null}},listensClick:function(){return null!=this.__cbOnClick&&0<this.__cbOnClick.length||null!=this.__cbOnceClick&&0<this.__cbOnceClick.length},windowItem:null,get_pressed:function(){return this.click.get_pressed()},inputStyleAutoruns:null,get_inputStyle:function(){var e,n,t=this.unobservedInputStyle;return null!=U.current&&(e=U.current,null!=(n=this.inputStyleAutoruns)||(n=U.getAutorunArray(),null!=(this.inputStyleAutoruns=n)))&&e.bindToAutorunArray(n),t},set_inputStyle:function(e){var n=this.unobservedInputStyle;return n!=(this.unobservedInputStyle=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitInputStyleChange(e,n),null!=(n=this.inputStyleAutoruns))&&(this.inputStyleAutoruns=null,U.invalidateAutorunArray(n)),e},invalidateInputStyle:function(){var e=this.unobservedInputStyle,e=(this.emitInputStyleChange(e,e),this.inputStyleAutoruns);null!=e&&(this.inputStyleAutoruns=null,U.invalidateAutorunArray(e))},unobservedInputStyle:null,__cbOnInputStyleChange:null,__cbOnceInputStyleChange:null,__cbOnOwnerUnbindInputStyleChange:null,__cbOnceOwnerUnbindInputStyleChange:null,emitInputStyleChange:function(e,n){var t=0;if(null!=this.__cbOnInputStyleChange&&(t+=this.__cbOnInputStyleChange.length),null!=this.__cbOnceInputStyleChange&&(t+=this.__cbOnceInputStyleChange.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnInputStyleChange)for(var s=0,h=this.__cbOnInputStyleChange.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnInputStyleChange[a],++r):--t}if(null!=this.__cbOnceInputStyleChange){for(var o=null,c=null,s=0,h=this.__cbOnceInputStyleChange.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceInputStyleChange[a],this.__cbOnceInputStyleChange[a]=null,u=this.__cbOnceOwnerUnbindInputStyleChange[a],(this.__cbOnceOwnerUnbindInputStyleChange[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindInputStyleChange[a]),c.push(this.__cbOnceInputStyleChange[a]))}this.__cbOnceOwnerUnbindInputStyleChange=o,this.__cbOnceInputStyleChange=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onInputStyleChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event inputStyleChange because owner is destroyed!");var l=function(e){null!=t&&(i.offInputStyleChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindInputStyleChange&&(this.__cbOnOwnerUnbindInputStyleChange=[]),this.__cbOnOwnerUnbindInputStyleChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindInputStyleChange&&(this.__cbOnOwnerUnbindInputStyleChange=[]),this.__cbOnOwnerUnbindInputStyleChange.push(null);null==this.__cbOnInputStyleChange&&(this.__cbOnInputStyleChange=[]),this.__cbOnInputStyleChange.push(t)},onceInputStyleChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event inputStyleChange because owner is destroyed!");var l=function(e){null!=t&&(i.offInputStyleChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindInputStyleChange&&(this.__cbOnceOwnerUnbindInputStyleChange=[]),this.__cbOnceOwnerUnbindInputStyleChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindInputStyleChange&&(this.__cbOnceOwnerUnbindInputStyleChange=[]),this.__cbOnceOwnerUnbindInputStyleChange.push(null);null==this.__cbOnceInputStyleChange&&(this.__cbOnceInputStyleChange=[]),this.__cbOnceInputStyleChange.push(t)},offInputStyleChange:function(e){if(null!=e){var n;null!=this.__cbOnInputStyleChange&&-1!=(n=this.__cbOnInputStyleChange.indexOf(e))&&(this.__cbOnInputStyleChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindInputStyleChange[n])&&r(),this.__cbOnOwnerUnbindInputStyleChange.splice(n,1)),null!=this.__cbOnceInputStyleChange&&-1!=(n=this.__cbOnceInputStyleChange.indexOf(e))&&(this.__cbOnceInputStyleChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindInputStyleChange[n])&&r(),this.__cbOnceOwnerUnbindInputStyleChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindInputStyleChange){for(var t=0,i=this.__cbOnOwnerUnbindInputStyleChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindInputStyleChange[l])&&r()}this.__cbOnOwnerUnbindInputStyleChange=null}if(null!=this.__cbOnceOwnerUnbindInputStyleChange){for(t=0,i=this.__cbOnceOwnerUnbindInputStyleChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindInputStyleChange[l])&&r()}this.__cbOnceOwnerUnbindInputStyleChange=null}this.__cbOnInputStyleChange=null,this.__cbOnceInputStyleChange=null}},listensInputStyleChange:function(){return null!=this.__cbOnInputStyleChange&&0<this.__cbOnInputStyleChange.length||null!=this.__cbOnceInputStyleChange&&0<this.__cbOnceInputStyleChange.length},enabledAutoruns:null,get_enabled:function(){var e,n,t=this.unobservedEnabled;return null!=U.current&&(e=U.current,null!=(n=this.enabledAutoruns)||(n=U.getAutorunArray(),null!=(this.enabledAutoruns=n)))&&e.bindToAutorunArray(n),t},set_enabled:function(e){var n=this.unobservedEnabled;return this.set_unobservedEnabled(e),n!=e&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitEnabledChange(e,n),null!=(n=this.enabledAutoruns))&&(this.enabledAutoruns=null,U.invalidateAutorunArray(n)),e},invalidateEnabled:function(){var e=this.unobservedEnabled,e=(this.emitEnabledChange(e,e),this.enabledAutoruns);null!=e&&(this.enabledAutoruns=null,U.invalidateAutorunArray(e))},unobservedEnabled:null,__cbOnEnabledChange:null,__cbOnceEnabledChange:null,__cbOnOwnerUnbindEnabledChange:null,__cbOnceOwnerUnbindEnabledChange:null,emitEnabledChange:function(e,n){var t=0;if(null!=this.__cbOnEnabledChange&&(t+=this.__cbOnEnabledChange.length),null!=this.__cbOnceEnabledChange&&(t+=this.__cbOnceEnabledChange.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnEnabledChange)for(var s=0,h=this.__cbOnEnabledChange.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnEnabledChange[a],++r):--t}if(null!=this.__cbOnceEnabledChange){for(var o=null,c=null,s=0,h=this.__cbOnceEnabledChange.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceEnabledChange[a],this.__cbOnceEnabledChange[a]=null,u=this.__cbOnceOwnerUnbindEnabledChange[a],(this.__cbOnceOwnerUnbindEnabledChange[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindEnabledChange[a]),c.push(this.__cbOnceEnabledChange[a]))}this.__cbOnceOwnerUnbindEnabledChange=o,this.__cbOnceEnabledChange=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onEnabledChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event enabledChange because owner is destroyed!");var l=function(e){null!=t&&(i.offEnabledChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindEnabledChange&&(this.__cbOnOwnerUnbindEnabledChange=[]),this.__cbOnOwnerUnbindEnabledChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindEnabledChange&&(this.__cbOnOwnerUnbindEnabledChange=[]),this.__cbOnOwnerUnbindEnabledChange.push(null);null==this.__cbOnEnabledChange&&(this.__cbOnEnabledChange=[]),this.__cbOnEnabledChange.push(t)},onceEnabledChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event enabledChange because owner is destroyed!");var l=function(e){null!=t&&(i.offEnabledChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindEnabledChange&&(this.__cbOnceOwnerUnbindEnabledChange=[]),this.__cbOnceOwnerUnbindEnabledChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindEnabledChange&&(this.__cbOnceOwnerUnbindEnabledChange=[]),this.__cbOnceOwnerUnbindEnabledChange.push(null);null==this.__cbOnceEnabledChange&&(this.__cbOnceEnabledChange=[]),this.__cbOnceEnabledChange.push(t)},offEnabledChange:function(e){if(null!=e){var n;null!=this.__cbOnEnabledChange&&-1!=(n=this.__cbOnEnabledChange.indexOf(e))&&(this.__cbOnEnabledChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindEnabledChange[n])&&r(),this.__cbOnOwnerUnbindEnabledChange.splice(n,1)),null!=this.__cbOnceEnabledChange&&-1!=(n=this.__cbOnceEnabledChange.indexOf(e))&&(this.__cbOnceEnabledChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindEnabledChange[n])&&r(),this.__cbOnceOwnerUnbindEnabledChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindEnabledChange){for(var t=0,i=this.__cbOnOwnerUnbindEnabledChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindEnabledChange[l])&&r()}this.__cbOnOwnerUnbindEnabledChange=null}if(null!=this.__cbOnceOwnerUnbindEnabledChange){for(t=0,i=this.__cbOnceOwnerUnbindEnabledChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindEnabledChange[l])&&r()}this.__cbOnceOwnerUnbindEnabledChange=null}this.__cbOnEnabledChange=null,this.__cbOnceEnabledChange=null}},listensEnabledChange:function(){return null!=this.__cbOnEnabledChange&&0<this.__cbOnEnabledChange.length||null!=this.__cbOnceEnabledChange&&0<this.__cbOnceEnabledChange.length},set_unobservedEnabled:function(e){return this.unobservedEnabled!=e&&(this.unobservedEnabled=e,this.set_touchable(e),!e)&&this.get_unobservedFocused()&&he.app.screen.set_focusedVisual(null),this.get_disabled()},get_disabled:function(){return!this.get_enabled()},set_disabled:function(e){return this.set_enabled(!e)},willListenFocusedChange:function(){this.get_unobservedFocused()},get_unobservedFocused:function(){var n,t;return 0<=this._lifecycleState?null==this.computeAutorunFocused?(n=this,t=new U(null),this.computedOnceFocused=!0,(this.computeAutorunFocused=t).onRun=function(){var e=n.computeFocused();U.unobserve(),n.set_focused(e),U.reobserve()},t.onDestroy(this,function(e){n.computeAutorunFocused==t&&(n.computeAutorunFocused=null),n=t=null}),this.onDestroy(t,function(e){null!=t&&(t.destroy(),t=null),n=null}),t.run()):this.computeAutorunFocused.invalidated&&this.computeAutorunFocused.run():this.computedOnceFocused||(U.unobserve(),this.computedOnceFocused=!0,this.unobservedFocused=this.computeFocused(),U.reobserve()),this.unobservedFocused},focusedAutoruns:null,get_focused:function(){var e,n,t=this.get_unobservedFocused();return null!=U.current&&(e=U.current,null!=(n=this.focusedAutoruns)||(n=U.getAutorunArray(),null!=(this.focusedAutoruns=n)))&&e.bindToAutorunArray(n),t},set_focused:function(e){var n=this.get_unobservedFocused();return n!=(this.unobservedFocused=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitFocusedChange(e,n),null!=(n=this.focusedAutoruns))&&(this.focusedAutoruns=null,U.invalidateAutorunArray(n)),e},invalidateFocused:function(){var e=this.get_unobservedFocused(),e=(this.emitFocusedChange(e,e),this.focusedAutoruns);null!=e&&(this.focusedAutoruns=null,U.invalidateAutorunArray(e))},unobservedFocused:null,__cbOnFocusedChange:null,__cbOnceFocusedChange:null,__cbOnOwnerUnbindFocusedChange:null,__cbOnceOwnerUnbindFocusedChange:null,emitFocusedChange:function(e,n){var t=0;if(null!=this.__cbOnFocusedChange&&(t+=this.__cbOnFocusedChange.length),null!=this.__cbOnceFocusedChange&&(t+=this.__cbOnceFocusedChange.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnFocusedChange)for(var s=0,h=this.__cbOnFocusedChange.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnFocusedChange[a],++r):--t}if(null!=this.__cbOnceFocusedChange){for(var o=null,c=null,s=0,h=this.__cbOnceFocusedChange.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceFocusedChange[a],this.__cbOnceFocusedChange[a]=null,u=this.__cbOnceOwnerUnbindFocusedChange[a],(this.__cbOnceOwnerUnbindFocusedChange[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindFocusedChange[a]),c.push(this.__cbOnceFocusedChange[a]))}this.__cbOnceOwnerUnbindFocusedChange=o,this.__cbOnceFocusedChange=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onFocusedChange:function(n,t){var i=this;if(null==this.__cbOnFocusedChange&&null==this.__cbOnceFocusedChange&&this.willListenFocusedChange(),null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event focusedChange because owner is destroyed!");var l=function(e){null!=t&&(i.offFocusedChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindFocusedChange&&(this.__cbOnOwnerUnbindFocusedChange=[]),this.__cbOnOwnerUnbindFocusedChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindFocusedChange&&(this.__cbOnOwnerUnbindFocusedChange=[]),this.__cbOnOwnerUnbindFocusedChange.push(null);null==this.__cbOnFocusedChange&&(this.__cbOnFocusedChange=[]),this.__cbOnFocusedChange.push(t)},onceFocusedChange:function(n,t){var i=this;if(null==this.__cbOnFocusedChange&&null==this.__cbOnceFocusedChange&&this.willListenFocusedChange(),null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event focusedChange because owner is destroyed!");var l=function(e){null!=t&&(i.offFocusedChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindFocusedChange&&(this.__cbOnceOwnerUnbindFocusedChange=[]),this.__cbOnceOwnerUnbindFocusedChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindFocusedChange&&(this.__cbOnceOwnerUnbindFocusedChange=[]),this.__cbOnceOwnerUnbindFocusedChange.push(null);null==this.__cbOnceFocusedChange&&(this.__cbOnceFocusedChange=[]),this.__cbOnceFocusedChange.push(t)},offFocusedChange:function(e){if(null!=e){var n;null!=this.__cbOnFocusedChange&&-1!=(n=this.__cbOnFocusedChange.indexOf(e))&&(this.__cbOnFocusedChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindFocusedChange[n])&&r(),this.__cbOnOwnerUnbindFocusedChange.splice(n,1)),null!=this.__cbOnceFocusedChange&&-1!=(n=this.__cbOnceFocusedChange.indexOf(e))&&(this.__cbOnceFocusedChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindFocusedChange[n])&&r(),this.__cbOnceOwnerUnbindFocusedChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindFocusedChange){for(var t=0,i=this.__cbOnOwnerUnbindFocusedChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindFocusedChange[l])&&r()}this.__cbOnOwnerUnbindFocusedChange=null}if(null!=this.__cbOnceOwnerUnbindFocusedChange){for(t=0,i=this.__cbOnceOwnerUnbindFocusedChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindFocusedChange[l])&&r()}this.__cbOnceOwnerUnbindFocusedChange=null}this.__cbOnFocusedChange=null,this.__cbOnceFocusedChange=null}},listensFocusedChange:function(){return null!=this.__cbOnFocusedChange&&0<this.__cbOnFocusedChange.length||null!=this.__cbOnceFocusedChange&&0<this.__cbOnceFocusedChange.length},computeFocused:function(){var e=he.app.screen.get_focusedVisual(),e=(U.unobserve(),e==this||null!=e&&e.hasIndirectParent(this));return U.reobserve(),e},computeAutorunFocused:null,computedOnceFocused:null,hoverAutoruns:null,get_hover:function(){var e,n,t=this.unobservedHover;return null!=U.current&&(e=U.current,null!=(n=this.hoverAutoruns)||(n=U.getAutorunArray(),null!=(this.hoverAutoruns=n)))&&e.bindToAutorunArray(n),t},set_hover:function(e){var n=this.unobservedHover;return n!=(this.unobservedHover=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitHoverChange(e,n),null!=(n=this.hoverAutoruns))&&(this.hoverAutoruns=null,U.invalidateAutorunArray(n)),e},invalidateHover:function(){var e=this.unobservedHover,e=(this.emitHoverChange(e,e),this.hoverAutoruns);null!=e&&(this.hoverAutoruns=null,U.invalidateAutorunArray(e))},unobservedHover:null,__cbOnHoverChange:null,__cbOnceHoverChange:null,__cbOnOwnerUnbindHoverChange:null,__cbOnceOwnerUnbindHoverChange:null,emitHoverChange:function(e,n){var t=0;if(null!=this.__cbOnHoverChange&&(t+=this.__cbOnHoverChange.length),null!=this.__cbOnceHoverChange&&(t+=this.__cbOnceHoverChange.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnHoverChange)for(var s=0,h=this.__cbOnHoverChange.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnHoverChange[a],++r):--t}if(null!=this.__cbOnceHoverChange){for(var o=null,c=null,s=0,h=this.__cbOnceHoverChange.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceHoverChange[a],this.__cbOnceHoverChange[a]=null,u=this.__cbOnceOwnerUnbindHoverChange[a],(this.__cbOnceOwnerUnbindHoverChange[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindHoverChange[a]),c.push(this.__cbOnceHoverChange[a]))}this.__cbOnceOwnerUnbindHoverChange=o,this.__cbOnceHoverChange=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onHoverChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event hoverChange because owner is destroyed!");var l=function(e){null!=t&&(i.offHoverChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindHoverChange&&(this.__cbOnOwnerUnbindHoverChange=[]),this.__cbOnOwnerUnbindHoverChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindHoverChange&&(this.__cbOnOwnerUnbindHoverChange=[]),this.__cbOnOwnerUnbindHoverChange.push(null);null==this.__cbOnHoverChange&&(this.__cbOnHoverChange=[]),this.__cbOnHoverChange.push(t)},onceHoverChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event hoverChange because owner is destroyed!");var l=function(e){null!=t&&(i.offHoverChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindHoverChange&&(this.__cbOnceOwnerUnbindHoverChange=[]),this.__cbOnceOwnerUnbindHoverChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindHoverChange&&(this.__cbOnceOwnerUnbindHoverChange=[]),this.__cbOnceOwnerUnbindHoverChange.push(null);null==this.__cbOnceHoverChange&&(this.__cbOnceHoverChange=[]),this.__cbOnceHoverChange.push(t)},offHoverChange:function(e){if(null!=e){var n;null!=this.__cbOnHoverChange&&-1!=(n=this.__cbOnHoverChange.indexOf(e))&&(this.__cbOnHoverChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindHoverChange[n])&&r(),this.__cbOnOwnerUnbindHoverChange.splice(n,1)),null!=this.__cbOnceHoverChange&&-1!=(n=this.__cbOnceHoverChange.indexOf(e))&&(this.__cbOnceHoverChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindHoverChange[n])&&r(),this.__cbOnceOwnerUnbindHoverChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindHoverChange){for(var t=0,i=this.__cbOnOwnerUnbindHoverChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindHoverChange[l])&&r()}this.__cbOnOwnerUnbindHoverChange=null}if(null!=this.__cbOnceOwnerUnbindHoverChange){for(t=0,i=this.__cbOnceOwnerUnbindHoverChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindHoverChange[l])&&r()}this.__cbOnceOwnerUnbindHoverChange=null}this.__cbOnHoverChange=null,this.__cbOnceHoverChange=null}},listensHoverChange:function(){return null!=this.__cbOnHoverChange&&0<this.__cbOnHoverChange.length||null!=this.__cbOnceHoverChange&&0<this.__cbOnceHoverChange.length},enterPressedAutoruns:null,get_enterPressed:function(){var e,n,t=this.unobservedEnterPressed;return null!=U.current&&(e=U.current,null!=(n=this.enterPressedAutoruns)||(n=U.getAutorunArray(),null!=(this.enterPressedAutoruns=n)))&&e.bindToAutorunArray(n),t},set_enterPressed:function(e){var n=this.unobservedEnterPressed;return n!=(this.unobservedEnterPressed=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitEnterPressedChange(e,n),null!=(n=this.enterPressedAutoruns))&&(this.enterPressedAutoruns=null,U.invalidateAutorunArray(n)),e},invalidateEnterPressed:function(){var e=this.unobservedEnterPressed,e=(this.emitEnterPressedChange(e,e),this.enterPressedAutoruns);null!=e&&(this.enterPressedAutoruns=null,U.invalidateAutorunArray(e))},unobservedEnterPressed:null,__cbOnEnterPressedChange:null,__cbOnceEnterPressedChange:null,__cbOnOwnerUnbindEnterPressedChange:null,__cbOnceOwnerUnbindEnterPressedChange:null,emitEnterPressedChange:function(e,n){var t=0;if(null!=this.__cbOnEnterPressedChange&&(t+=this.__cbOnEnterPressedChange.length),null!=this.__cbOnceEnterPressedChange&&(t+=this.__cbOnceEnterPressedChange.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnEnterPressedChange)for(var s=0,h=this.__cbOnEnterPressedChange.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnEnterPressedChange[a],++r):--t}if(null!=this.__cbOnceEnterPressedChange){for(var o=null,c=null,s=0,h=this.__cbOnceEnterPressedChange.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceEnterPressedChange[a],this.__cbOnceEnterPressedChange[a]=null,u=this.__cbOnceOwnerUnbindEnterPressedChange[a],(this.__cbOnceOwnerUnbindEnterPressedChange[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindEnterPressedChange[a]),c.push(this.__cbOnceEnterPressedChange[a]))}this.__cbOnceOwnerUnbindEnterPressedChange=o,this.__cbOnceEnterPressedChange=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onEnterPressedChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event enterPressedChange because owner is destroyed!");var l=function(e){null!=t&&(i.offEnterPressedChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindEnterPressedChange&&(this.__cbOnOwnerUnbindEnterPressedChange=[]),this.__cbOnOwnerUnbindEnterPressedChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindEnterPressedChange&&(this.__cbOnOwnerUnbindEnterPressedChange=[]),this.__cbOnOwnerUnbindEnterPressedChange.push(null);null==this.__cbOnEnterPressedChange&&(this.__cbOnEnterPressedChange=[]),this.__cbOnEnterPressedChange.push(t)},onceEnterPressedChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event enterPressedChange because owner is destroyed!");var l=function(e){null!=t&&(i.offEnterPressedChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindEnterPressedChange&&(this.__cbOnceOwnerUnbindEnterPressedChange=[]),this.__cbOnceOwnerUnbindEnterPressedChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindEnterPressedChange&&(this.__cbOnceOwnerUnbindEnterPressedChange=[]),this.__cbOnceOwnerUnbindEnterPressedChange.push(null);null==this.__cbOnceEnterPressedChange&&(this.__cbOnceEnterPressedChange=[]),this.__cbOnceEnterPressedChange.push(t)},offEnterPressedChange:function(e){if(null!=e){var n;null!=this.__cbOnEnterPressedChange&&-1!=(n=this.__cbOnEnterPressedChange.indexOf(e))&&(this.__cbOnEnterPressedChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindEnterPressedChange[n])&&r(),this.__cbOnOwnerUnbindEnterPressedChange.splice(n,1)),null!=this.__cbOnceEnterPressedChange&&-1!=(n=this.__cbOnceEnterPressedChange.indexOf(e))&&(this.__cbOnceEnterPressedChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindEnterPressedChange[n])&&r(),this.__cbOnceOwnerUnbindEnterPressedChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindEnterPressedChange){for(var t=0,i=this.__cbOnOwnerUnbindEnterPressedChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindEnterPressedChange[l])&&r()}this.__cbOnOwnerUnbindEnterPressedChange=null}if(null!=this.__cbOnceOwnerUnbindEnterPressedChange){for(t=0,i=this.__cbOnceOwnerUnbindEnterPressedChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindEnterPressedChange[l])&&r()}this.__cbOnceOwnerUnbindEnterPressedChange=null}this.__cbOnEnterPressedChange=null,this.__cbOnceEnterPressedChange=null}},listensEnterPressedChange:function(){return null!=this.__cbOnEnterPressedChange&&0<this.__cbOnEnterPressedChange.length||null!=this.__cbOnceEnterPressedChange&&0<this.__cbOnceEnterPressedChange.length},handleKeyDown:function(e){40==e.scanCode&&this.get_focused()&&!this.get_enterPressed()&&(this.set_enterPressed(!0),this.emitClick())},handleKeyUp:function(e){40==e.scanCode&&this.set_enterPressed(!1)},updateStyle:function(){var e,n,t=this.get_theme(),i=(null==t&&(t=te.get_context().get_theme()),this.get_enabled()),l=this.get_focused(),r=this.click.get_pressed()||this.get_enterPressed();this.transform.ty=r&&i?1:0,this.transform.changedDirty=!0,this.set_font(t.get_mediumFont()),this.set_textColor(t.get_lightTextColor()),this.get_inputStyle()==wi.OVERLAY?(this.set_minHeight(25),1!=this.borderSize&&(this.borderSize=1,this.updateBorder()),e=Ve.INSIDE,this.borderPosition!=e&&(this.borderPosition=e,0<this.borderSize||0<this.borderTopSize||0<this.borderBottomSize||0<this.borderLeftSize||0<this.borderRightSize)&&this.updateBorder()):(this.set_minHeight(27),1!=this.borderSize&&(this.borderSize=1,this.updateBorder()),e=Ve.INSIDE,this.borderPosition!=e&&(this.borderPosition=e,0<this.borderSize||0<this.borderTopSize||0<this.borderBottomSize||0<this.borderLeftSize||0<this.borderRightSize)&&this.updateBorder(),this.flags&=-17,1!=this.borderAlpha&&(this.borderAlpha=1,null!=this.border)&&this.border.set_alpha(1)),this.get_inputStyle()==wi.OVERLAY?i?(this.text.set_alpha(1),r?(this.flags&=-17,this.color=16777215,this.set_alpha(.05),n=t.get_lightTextColor(),this.borderColor!=n&&(this.borderColor=n,0<this.borderSize||0<this.borderTopSize||0<this.borderBottomSize||0<this.borderLeftSize||0<this.borderRightSize)&&this.updateBorder(),.33!=this.borderAlpha&&(this.borderAlpha=.33,null!=this.border)&&this.border.set_alpha(.33)):l?(this.flags|=16,n=t.get_buttonFocusedBorderColor(),this.borderColor!=n&&(this.borderColor=n,0<this.borderSize||0<this.borderTopSize||0<this.borderBottomSize||0<this.borderLeftSize||0<this.borderRightSize)&&this.updateBorder(),1!=this.borderAlpha&&(this.borderAlpha=1,null!=this.border)&&this.border.set_alpha(1)):this.get_hover()?(this.flags&=-17,this.color=16777215,this.set_alpha(.025),n=t.get_lightTextColor(),this.borderColor!=n&&(this.borderColor=n,0<this.borderSize||0<this.borderTopSize||0<this.borderBottomSize||0<this.borderLeftSize||0<this.borderRightSize)&&this.updateBorder(),.25!=this.borderAlpha&&(this.borderAlpha=.25,null!=this.border)&&this.border.set_alpha(.25)):(n=t.get_lightTextColor(),this.borderColor!=n&&(this.borderColor=n,0<this.borderSize||0<this.borderTopSize||0<this.borderBottomSize||0<this.borderLeftSize||0<this.borderRightSize)&&this.updateBorder(),.2!=this.borderAlpha&&(this.borderAlpha=.2,null!=this.border)&&this.border.set_alpha(.2),this.flags|=16)):(.1!=this.borderAlpha&&(this.borderAlpha=.1,null!=this.border)&&this.border.set_alpha(.1),this.text.set_alpha(.5),this.flags|=16):i?(this.set_alpha(1),this.text.set_alpha(1),r?this.color=t.get_buttonPressedBackgroundColor():this.get_hover()?this.color=t.get_buttonOverBackgroundColor():this.color=t.get_buttonBackgroundColor(),n=r?t.get_buttonPressedBackgroundColor():l?t.get_buttonFocusedBorderColor():(this.get_hover(),t.get_lightBorderColor()),this.borderColor!=n&&(this.borderColor=n,0<this.borderSize||0<this.borderTopSize||0<this.borderBottomSize||0<this.borderLeftSize||0<this.borderRightSize)&&this.updateBorder(),1!=this.borderAlpha&&(this.borderAlpha=1,null!=this.border)&&this.border.set_alpha(1)):(this.set_alpha(.6),this.text.set_alpha(.5),this.color=t.get_buttonBackgroundColor(),n=t.get_lightBorderColor(),this.borderColor!=n&&(this.borderColor=n,0<this.borderSize||0<this.borderTopSize||0<this.borderBottomSize||0<this.borderLeftSize||0<this.borderRightSize)&&this.updateBorder(),.5!=this.borderAlpha&&(this.borderAlpha=.5,null!=this.border)&&this.border.set_alpha(.5))},focus:function(){he.app.screen.set_focusedVisual(this)},allowsTabFocus:function(){return this.get_enabled()},tabFocus:function(){this.focus()},escapeTabFocus:function(){he.app.screen.set_focusedVisual(null)},unbindEvents:function(){w1.prototype.unbindEvents.call(this),this.offObservedDirty(),this.offThemeChange(),this.offInputStyleChange(),this.offEnabledChange(),this.offFocusedChange(),this.offHoverChange(),this.offEnterPressedChange(),this.offClick()},__class__:E2,__properties__:$extend(w1.prototype.__properties__,{set_enterPressed:"set_enterPressed",get_enterPressed:"get_enterPressed",set_hover:"set_hover",get_hover:"get_hover",get_unobservedFocused:"get_unobservedFocused",set_focused:"set_focused",get_focused:"get_focused",set_disabled:"set_disabled",get_disabled:"get_disabled",set_unobservedEnabled:"set_unobservedEnabled",set_enabled:"set_enabled",get_enabled:"get_enabled",set_inputStyle:"set_inputStyle",get_inputStyle:"get_inputStyle",get_pressed:"get_pressed",set_click:"set_click",set_theme:"set_theme",get_theme:"get_theme"})}),function(){this.unobservedInputStyle=!1,this.inputStyleAutoruns=null,this.unobservedScrolling=!1,this.scrollingAutoruns=null,this.unobservedTheme=null,this.themeAutoruns=null,this.observedDirty=!1;var n=this;h0.call(this),this.filter=new on,this.filter.set_density(ee.app.screenDensity),this.add(this.filter),this.set_viewWidth(-60002),this.set_viewHeight(-60002),this.flags&=-17;(e=this.contentView).flags|=16;var e=this.contentView,t=Ve.OUTSIDE,t=(e.borderPosition!=t&&(e.borderPosition=t,0<e.borderSize||0<e.borderTopSize||0<e.borderBottomSize||0<e.borderLeftSize||0<e.borderRightSize)&&e.updateBorder(),Ve.INSIDE),i=(this.borderPosition!=t&&(this.borderPosition=t,0<this.borderSize||0<this.borderTopSize||0<this.borderBottomSize||0<this.borderLeftSize||0<this.borderRightSize)&&this.updateBorder(),this.scroller.allowPointerOutside=!1,new Ti);this.scroller.set_scrollbar(i),i.autorun(function(){var e=n.get_theme();U.unobserve(),i.set_theme(e)}),this.filter.set_textureFilter(wt.NEAREST),this.filter.content.add(this.scroller),this.scroller.dragEnabled=!1,this.contentView.onLayout(this,$bind(this,this.updateBorderDepth)),this.autorun($bind(this,this.updateStyle)),he.app.onUpdate(this,$bind(this,this.handleUpdate))}),bi=((E["elements.CellCollectionView"]=di).__name__="elements.CellCollectionView",di.__interfaces__=[s],di.__super__=h0,di.prototype=$extend(h0.prototype,{__cbOnObservedDirty:null,__cbOnceObservedDirty:null,__cbOnOwnerUnbindObservedDirty:null,__cbOnceOwnerUnbindObservedDirty:null,emitObservedDirty:function(e,n){var t=0;if(null!=this.__cbOnObservedDirty&&(t+=this.__cbOnObservedDirty.length),null!=this.__cbOnceObservedDirty&&(t+=this.__cbOnceObservedDirty.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnObservedDirty)for(var s=0,h=this.__cbOnObservedDirty.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnObservedDirty[a],++r):--t}if(null!=this.__cbOnceObservedDirty){for(var o=null,c=null,s=0,h=this.__cbOnceObservedDirty.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceObservedDirty[a],this.__cbOnceObservedDirty[a]=null,u=this.__cbOnceOwnerUnbindObservedDirty[a],(this.__cbOnceOwnerUnbindObservedDirty[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindObservedDirty[a]),c.push(this.__cbOnceObservedDirty[a]))}this.__cbOnceOwnerUnbindObservedDirty=o,this.__cbOnceObservedDirty=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onObservedDirty:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event observedDirty because owner is destroyed!");var l=function(e){null!=t&&(i.offObservedDirty(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push(null);null==this.__cbOnObservedDirty&&(this.__cbOnObservedDirty=[]),this.__cbOnObservedDirty.push(t)},onceObservedDirty:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event observedDirty because owner is destroyed!");var l=function(e){null!=t&&(i.offObservedDirty(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push(null);null==this.__cbOnceObservedDirty&&(this.__cbOnceObservedDirty=[]),this.__cbOnceObservedDirty.push(t)},offObservedDirty:function(e){if(null!=e){var n;null!=this.__cbOnObservedDirty&&-1!=(n=this.__cbOnObservedDirty.indexOf(e))&&(this.__cbOnObservedDirty.splice(n,1),null!=(r=this.__cbOnOwnerUnbindObservedDirty[n])&&r(),this.__cbOnOwnerUnbindObservedDirty.splice(n,1)),null!=this.__cbOnceObservedDirty&&-1!=(n=this.__cbOnceObservedDirty.indexOf(e))&&(this.__cbOnceObservedDirty.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindObservedDirty[n])&&r(),this.__cbOnceOwnerUnbindObservedDirty.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindObservedDirty){for(var t=0,i=this.__cbOnOwnerUnbindObservedDirty.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindObservedDirty[l])&&r()}this.__cbOnOwnerUnbindObservedDirty=null}if(null!=this.__cbOnceOwnerUnbindObservedDirty){for(t=0,i=this.__cbOnceOwnerUnbindObservedDirty.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindObservedDirty[l])&&r()}this.__cbOnceOwnerUnbindObservedDirty=null}this.__cbOnObservedDirty=null,this.__cbOnceObservedDirty=null}},listensObservedDirty:function(){return null!=this.__cbOnObservedDirty&&0<this.__cbOnObservedDirty.length||null!=this.__cbOnceObservedDirty&&0<this.__cbOnceObservedDirty.length},observedDirty:null,themeAutoruns:null,get_theme:function(){var e,n,t=this.unobservedTheme;return null!=U.current&&(e=U.current,null!=(n=this.themeAutoruns)||(n=U.getAutorunArray(),null!=(this.themeAutoruns=n)))&&e.bindToAutorunArray(n),t},set_theme:function(e){var n=this.unobservedTheme;return n!=(this.unobservedTheme=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitThemeChange(e,n),null!=(n=this.themeAutoruns))&&(this.themeAutoruns=null,U.invalidateAutorunArray(n)),e},invalidateTheme:function(){var e=this.unobservedTheme,e=(this.emitThemeChange(e,e),this.themeAutoruns);null!=e&&(this.themeAutoruns=null,U.invalidateAutorunArray(e))},unobservedTheme:null,__cbOnThemeChange:null,__cbOnceThemeChange:null,__cbOnOwnerUnbindThemeChange:null,__cbOnceOwnerUnbindThemeChange:null,emitThemeChange:function(e,n){var t=0;if(null!=this.__cbOnThemeChange&&(t+=this.__cbOnThemeChange.length),null!=this.__cbOnceThemeChange&&(t+=this.__cbOnceThemeChange.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnThemeChange)for(var s=0,h=this.__cbOnThemeChange.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnThemeChange[a],++r):--t}if(null!=this.__cbOnceThemeChange){for(var o=null,c=null,s=0,h=this.__cbOnceThemeChange.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceThemeChange[a],this.__cbOnceThemeChange[a]=null,u=this.__cbOnceOwnerUnbindThemeChange[a],(this.__cbOnceOwnerUnbindThemeChange[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindThemeChange[a]),c.push(this.__cbOnceThemeChange[a]))}this.__cbOnceOwnerUnbindThemeChange=o,this.__cbOnceThemeChange=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onThemeChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event themeChange because owner is destroyed!");var l=function(e){null!=t&&(i.offThemeChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindThemeChange&&(this.__cbOnOwnerUnbindThemeChange=[]),this.__cbOnOwnerUnbindThemeChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindThemeChange&&(this.__cbOnOwnerUnbindThemeChange=[]),this.__cbOnOwnerUnbindThemeChange.push(null);null==this.__cbOnThemeChange&&(this.__cbOnThemeChange=[]),this.__cbOnThemeChange.push(t)},onceThemeChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event themeChange because owner is destroyed!");var l=function(e){null!=t&&(i.offThemeChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindThemeChange&&(this.__cbOnceOwnerUnbindThemeChange=[]),this.__cbOnceOwnerUnbindThemeChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindThemeChange&&(this.__cbOnceOwnerUnbindThemeChange=[]),this.__cbOnceOwnerUnbindThemeChange.push(null);null==this.__cbOnceThemeChange&&(this.__cbOnceThemeChange=[]),this.__cbOnceThemeChange.push(t)},offThemeChange:function(e){if(null!=e){var n;null!=this.__cbOnThemeChange&&-1!=(n=this.__cbOnThemeChange.indexOf(e))&&(this.__cbOnThemeChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindThemeChange[n])&&r(),this.__cbOnOwnerUnbindThemeChange.splice(n,1)),null!=this.__cbOnceThemeChange&&-1!=(n=this.__cbOnceThemeChange.indexOf(e))&&(this.__cbOnceThemeChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindThemeChange[n])&&r(),this.__cbOnceOwnerUnbindThemeChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindThemeChange){for(var t=0,i=this.__cbOnOwnerUnbindThemeChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindThemeChange[l])&&r()}this.__cbOnOwnerUnbindThemeChange=null}if(null!=this.__cbOnceOwnerUnbindThemeChange){for(t=0,i=this.__cbOnceOwnerUnbindThemeChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindThemeChange[l])&&r()}this.__cbOnceOwnerUnbindThemeChange=null}this.__cbOnThemeChange=null,this.__cbOnceThemeChange=null}},listensThemeChange:function(){return null!=this.__cbOnThemeChange&&0<this.__cbOnThemeChange.length||null!=this.__cbOnceThemeChange&&0<this.__cbOnceThemeChange.length},scrollingAutoruns:null,get_scrolling:function(){var e,n,t=this.unobservedScrolling;return null!=U.current&&(e=U.current,null!=(n=this.scrollingAutoruns)||(n=U.getAutorunArray(),null!=(this.scrollingAutoruns=n)))&&e.bindToAutorunArray(n),t},set_scrolling:function(e){var n=this.unobservedScrolling;return n!=(this.unobservedScrolling=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitScrollingChange(e,n),null!=(n=this.scrollingAutoruns))&&(this.scrollingAutoruns=null,U.invalidateAutorunArray(n)),e},invalidateScrolling:function(){var e=this.unobservedScrolling,e=(this.emitScrollingChange(e,e),this.scrollingAutoruns);null!=e&&(this.scrollingAutoruns=null,U.invalidateAutorunArray(e))},unobservedScrolling:null,__cbOnScrollingChange:null,__cbOnceScrollingChange:null,__cbOnOwnerUnbindScrollingChange:null,__cbOnceOwnerUnbindScrollingChange:null,emitScrollingChange:function(e,n){var t=0;if(null!=this.__cbOnScrollingChange&&(t+=this.__cbOnScrollingChange.length),null!=this.__cbOnceScrollingChange&&(t+=this.__cbOnceScrollingChange.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnScrollingChange)for(var s=0,h=this.__cbOnScrollingChange.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnScrollingChange[a],++r):--t}if(null!=this.__cbOnceScrollingChange){for(var o=null,c=null,s=0,h=this.__cbOnceScrollingChange.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceScrollingChange[a],this.__cbOnceScrollingChange[a]=null,u=this.__cbOnceOwnerUnbindScrollingChange[a],(this.__cbOnceOwnerUnbindScrollingChange[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindScrollingChange[a]),c.push(this.__cbOnceScrollingChange[a]))}this.__cbOnceOwnerUnbindScrollingChange=o,this.__cbOnceScrollingChange=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onScrollingChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event scrollingChange because owner is destroyed!");var l=function(e){null!=t&&(i.offScrollingChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindScrollingChange&&(this.__cbOnOwnerUnbindScrollingChange=[]),this.__cbOnOwnerUnbindScrollingChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindScrollingChange&&(this.__cbOnOwnerUnbindScrollingChange=[]),this.__cbOnOwnerUnbindScrollingChange.push(null);null==this.__cbOnScrollingChange&&(this.__cbOnScrollingChange=[]),this.__cbOnScrollingChange.push(t)},onceScrollingChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event scrollingChange because owner is destroyed!");var l=function(e){null!=t&&(i.offScrollingChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindScrollingChange&&(this.__cbOnceOwnerUnbindScrollingChange=[]),this.__cbOnceOwnerUnbindScrollingChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindScrollingChange&&(this.__cbOnceOwnerUnbindScrollingChange=[]),this.__cbOnceOwnerUnbindScrollingChange.push(null);null==this.__cbOnceScrollingChange&&(this.__cbOnceScrollingChange=[]),this.__cbOnceScrollingChange.push(t)},offScrollingChange:function(e){if(null!=e){var n;null!=this.__cbOnScrollingChange&&-1!=(n=this.__cbOnScrollingChange.indexOf(e))&&(this.__cbOnScrollingChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindScrollingChange[n])&&r(),this.__cbOnOwnerUnbindScrollingChange.splice(n,1)),null!=this.__cbOnceScrollingChange&&-1!=(n=this.__cbOnceScrollingChange.indexOf(e))&&(this.__cbOnceScrollingChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindScrollingChange[n])&&r(),this.__cbOnceOwnerUnbindScrollingChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindScrollingChange){for(var t=0,i=this.__cbOnOwnerUnbindScrollingChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindScrollingChange[l])&&r()}this.__cbOnOwnerUnbindScrollingChange=null}if(null!=this.__cbOnceOwnerUnbindScrollingChange){for(t=0,i=this.__cbOnceOwnerUnbindScrollingChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindScrollingChange[l])&&r()}this.__cbOnceOwnerUnbindScrollingChange=null}this.__cbOnScrollingChange=null,this.__cbOnceScrollingChange=null}},listensScrollingChange:function(){return null!=this.__cbOnScrollingChange&&0<this.__cbOnScrollingChange.length||null!=this.__cbOnceScrollingChange&&0<this.__cbOnceScrollingChange.length},inputStyleAutoruns:null,get_inputStyle:function(){var e,n,t=this.unobservedInputStyle;return null!=U.current&&(e=U.current,null!=(n=this.inputStyleAutoruns)||(n=U.getAutorunArray(),null!=(this.inputStyleAutoruns=n)))&&e.bindToAutorunArray(n),t},set_inputStyle:function(e){var n=this.unobservedInputStyle;return n!=(this.unobservedInputStyle=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitInputStyleChange(e,n),null!=(n=this.inputStyleAutoruns))&&(this.inputStyleAutoruns=null,U.invalidateAutorunArray(n)),e},invalidateInputStyle:function(){var e=this.unobservedInputStyle,e=(this.emitInputStyleChange(e,e),this.inputStyleAutoruns);null!=e&&(this.inputStyleAutoruns=null,U.invalidateAutorunArray(e))},unobservedInputStyle:null,__cbOnInputStyleChange:null,__cbOnceInputStyleChange:null,__cbOnOwnerUnbindInputStyleChange:null,__cbOnceOwnerUnbindInputStyleChange:null,emitInputStyleChange:function(e,n){var t=0;if(null!=this.__cbOnInputStyleChange&&(t+=this.__cbOnInputStyleChange.length),null!=this.__cbOnceInputStyleChange&&(t+=this.__cbOnceInputStyleChange.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnInputStyleChange)for(var s=0,h=this.__cbOnInputStyleChange.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnInputStyleChange[a],++r):--t}if(null!=this.__cbOnceInputStyleChange){for(var o=null,c=null,s=0,h=this.__cbOnceInputStyleChange.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceInputStyleChange[a],this.__cbOnceInputStyleChange[a]=null,u=this.__cbOnceOwnerUnbindInputStyleChange[a],(this.__cbOnceOwnerUnbindInputStyleChange[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindInputStyleChange[a]),c.push(this.__cbOnceInputStyleChange[a]))}this.__cbOnceOwnerUnbindInputStyleChange=o,this.__cbOnceInputStyleChange=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onInputStyleChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event inputStyleChange because owner is destroyed!");var l=function(e){null!=t&&(i.offInputStyleChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindInputStyleChange&&(this.__cbOnOwnerUnbindInputStyleChange=[]),this.__cbOnOwnerUnbindInputStyleChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindInputStyleChange&&(this.__cbOnOwnerUnbindInputStyleChange=[]),this.__cbOnOwnerUnbindInputStyleChange.push(null);null==this.__cbOnInputStyleChange&&(this.__cbOnInputStyleChange=[]),this.__cbOnInputStyleChange.push(t)},onceInputStyleChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event inputStyleChange because owner is destroyed!");var l=function(e){null!=t&&(i.offInputStyleChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindInputStyleChange&&(this.__cbOnceOwnerUnbindInputStyleChange=[]),this.__cbOnceOwnerUnbindInputStyleChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindInputStyleChange&&(this.__cbOnceOwnerUnbindInputStyleChange=[]),this.__cbOnceOwnerUnbindInputStyleChange.push(null);null==this.__cbOnceInputStyleChange&&(this.__cbOnceInputStyleChange=[]),this.__cbOnceInputStyleChange.push(t)},offInputStyleChange:function(e){if(null!=e){var n;null!=this.__cbOnInputStyleChange&&-1!=(n=this.__cbOnInputStyleChange.indexOf(e))&&(this.__cbOnInputStyleChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindInputStyleChange[n])&&r(),this.__cbOnOwnerUnbindInputStyleChange.splice(n,1)),null!=this.__cbOnceInputStyleChange&&-1!=(n=this.__cbOnceInputStyleChange.indexOf(e))&&(this.__cbOnceInputStyleChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindInputStyleChange[n])&&r(),this.__cbOnceOwnerUnbindInputStyleChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindInputStyleChange){for(var t=0,i=this.__cbOnOwnerUnbindInputStyleChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindInputStyleChange[l])&&r()}this.__cbOnOwnerUnbindInputStyleChange=null}if(null!=this.__cbOnceOwnerUnbindInputStyleChange){for(t=0,i=this.__cbOnceOwnerUnbindInputStyleChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindInputStyleChange[l])&&r()}this.__cbOnceOwnerUnbindInputStyleChange=null}this.__cbOnInputStyleChange=null,this.__cbOnceInputStyleChange=null}},listensInputStyleChange:function(){return null!=this.__cbOnInputStyleChange&&0<this.__cbOnInputStyleChange.length||null!=this.__cbOnceInputStyleChange&&0<this.__cbOnceInputStyleChange.length},filter:null,handleUpdate:function(e){this.filter.set_density(ee.app.screenDensity),this.set_scrolling(this.scroller.get_status()!=nt.IDLE)},layout:function(){(e=this.filter).set_x(0),e.set_y(0);var e=this.filter,n=this.get_width(),t=this.get_height();if(e.set_width(n),e.set_height(t),null!=this.firstParentWithClass(et)){if(this.filter.set_enabled(!1),this.clip!=this&&((this.clip=this).clipDirty=!0,null!=this.children))for(var i=0,l=this.children.length;i<l;){var r=i++;if((o=this.children[r]).clipDirty=!0,null!=o.children)for(var s=0,h=o.children.length;s<h;){var a=s++;o.children[a].set_clipDirty(!0)}}}else{this.filter.set_enabled(!0);if(null!=this.clip&&(this.clip=null,this.clipDirty=!0,null!=this.children))for(i=0,l=this.children.length;i<l;){var o,r=i++;if((o=this.children[r]).clipDirty=!0,null!=o.children)for(s=0,h=o.children.length;s<h;){a=s++;o.children[a].set_clipDirty(!0)}}}h0.prototype.layout.call(this)},updateBorderDepth:function(){var e=this.contentView.children.length+10;this.borderDepth!=e&&(this.borderDepth=e,null!=this.border)&&this.border.set_depth(e)},updateStyle:function(){var e=this.get_theme(),n=(null==e&&(e=te.get_context().get_theme()),i=this.get_inputStyle()?(this.flags|=16,1!=(n=this.contentView).borderTopSize&&(n.borderTopSize=1,n.updateBorder()),1!=this.borderBottomSize&&(this.borderBottomSize=1,this.updateBorder()),1!=this.borderTopSize&&(this.borderTopSize=1,this.updateBorder()),e.get_lightBorderColor()):(this.flags&=-17,this.color=e.get_darkBackgroundColor(),0!=this.borderSize&&(this.borderSize=0,this.updateBorder()),1!=(n=this.contentView).borderTopSize&&(n.borderTopSize=1,n.updateBorder()),0!=this.borderBottomSize&&(this.borderBottomSize=0,this.updateBorder()),0!=this.borderTopSize&&(this.borderTopSize=0,this.updateBorder()),e.get_mediumBorderColor()),this.borderBottomColor!=i&&(this.borderBottomColor=i,0<this.borderSize||0<this.borderBottomSize)&&this.updateBorder(),this.contentView),t=e.get_mediumBorderColor(),n=(n.borderTopColor!=t&&(n.borderTopColor=t,0<n.borderSize||0<n.borderTopSize)&&n.updateBorder(),this.contentView),i=e.get_mediumBorderColor();n.borderBottomColor!=i&&(n.borderBottomColor=i,0<n.borderSize||0<n.borderBottomSize)&&n.updateBorder()},unbindEvents:function(){h0.prototype.unbindEvents.call(this),this.offObservedDirty(),this.offThemeChange(),this.offScrollingChange(),this.offInputStyleChange()},__class__:di,__properties__:$extend(h0.prototype.__properties__,{set_inputStyle:"set_inputStyle",get_inputStyle:"get_inputStyle",set_scrolling:"set_scrolling",get_scrolling:"get_scrolling",set_theme:"set_theme",get_theme:"get_theme"})}),function(){this.unobservedAppliedHoverItemIndex=-1,this.appliedHoverItemIndexAutoruns=null,this.unobservedHover=!1,this.hoverAutoruns=null,this.unobservedClonedForDragging=!1,this.clonedForDraggingAutoruns=null,this.dragOnItemIndex=-1,this.draggingCell=null,this.draggingCellDragY=0,this.dragStartScrollY=0,this.dragAutoScroll=0,this.dragTargetTy=0,this.iconsView=null,this.clearScrollDelay=null,this.unobservedDragging=!1,this.draggingAutoruns=null,this.unobservedHandleDuplicate=null,this.handleDuplicateAutoruns=null,this.unobservedHandleLock=null,this.handleLockAutoruns=null,this.unobservedHandleTrash=null,this.handleTrashAutoruns=null,this.unobservedKindIcon=null,this.kindIconAutoruns=null,this.unobservedLocked=!1,this.lockedAutoruns=null,this.unobservedDisplaysEmptyValue=!1,this.displaysEmptyValueAutoruns=null,this.unobservedInputStyle=!1,this.inputStyleAutoruns=null,this.unobservedCollectionView=null,this.collectionViewAutoruns=null,this.unobservedItemIndex=-1,this.itemIndexAutoruns=null,this.unobservedSubTitle=null,this.subTitleAutoruns=null,this.unobservedTitle=null,this.titleAutoruns=null,this.unobservedSelected=!1,this.selectedAutoruns=null,this.unobservedTheme=null,this.themeAutoruns=null,this.observedDirty=!1;var n=this,e=(Ab.call(this),this.columnLayout=new r0,this.columnLayout.set_align(En.CENTER),this.columnLayout.set_itemSpacing(1),this.columnLayout),t=(e.set_viewWidth(-60002),e.set_viewHeight(-60001),this.add(this.columnLayout),1!=this.borderBottomSize&&(this.borderBottomSize=1,this.updateBorder()),Ve.INSIDE);this.borderPosition!=t&&(this.borderPosition=t,0<this.borderSize||0<this.borderTopSize||0<this.borderBottomSize||0<this.borderLeftSize||0<this.borderRightSize)&&this.updateBorder(),2!=this.borderDepth&&(this.borderDepth=2,null!=this.border)&&this.border.set_depth(2),this.flags&=-17,this.titleTextView=new w1,this.titleTextView.set_align(_t.LEFT),this.titleTextView.set_pointSize(12),this.titleTextView.set_preRenderedSize(20),this.titleTextView.set_noFitWidth(!0),(e=this.titleTextView).set_viewWidth(-60002),e.set_viewHeight(-60001),this.titleTextView.onLayout(this,$bind(this,this.layoutTitle)),this.columnLayout.add(this.titleTextView),this.subTitleTextView=new w1,this.subTitleTextView.set_align(_t.LEFT),this.subTitleTextView.set_pointSize(11),this.subTitleTextView.set_preRenderedSize(20),this.subTitleTextView.set_noFitWidth(!0),this.subTitleTextView.set_paddingLeft(1),(e=this.subTitleTextView).set_viewWidth(-60002),e.set_viewHeight(-60001),this.subTitleTextView.text.component("italicText",new mi),this.subTitleTextView.onLayout(this,$bind(this,this.layoutSubTitle)),this.columnLayout.add(this.subTitleTextView),this.autorun($bind(this,this.updateTitle)),this.autorun($bind(this,this.updateSubTitle)),this.autorun($bind(this,this.updateStyle)),this.autorun($bind(this,this.updateIcons)),this.onPointerOver(this,function(e){n.set_hover(!0)}),this.onPointerOut(this,function(e){n.set_hover(!1)})}),gi=((E["elements.CellView"]=bi).__name__="elements.CellView",bi.__interfaces__=[s],bi.__super__=Ab,bi.prototype=$extend(Ab.prototype,{__cbOnObservedDirty:null,__cbOnceObservedDirty:null,__cbOnOwnerUnbindObservedDirty:null,__cbOnceOwnerUnbindObservedDirty:null,emitObservedDirty:function(e,n){var t=0;if(null!=this.__cbOnObservedDirty&&(t+=this.__cbOnObservedDirty.length),null!=this.__cbOnceObservedDirty&&(t+=this.__cbOnceObservedDirty.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnObservedDirty)for(var s=0,h=this.__cbOnObservedDirty.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnObservedDirty[a],++r):--t}if(null!=this.__cbOnceObservedDirty){for(var o=null,c=null,s=0,h=this.__cbOnceObservedDirty.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceObservedDirty[a],this.__cbOnceObservedDirty[a]=null,u=this.__cbOnceOwnerUnbindObservedDirty[a],(this.__cbOnceOwnerUnbindObservedDirty[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindObservedDirty[a]),c.push(this.__cbOnceObservedDirty[a]))}this.__cbOnceOwnerUnbindObservedDirty=o,this.__cbOnceObservedDirty=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onObservedDirty:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event observedDirty because owner is destroyed!");var l=function(e){null!=t&&(i.offObservedDirty(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push(null);null==this.__cbOnObservedDirty&&(this.__cbOnObservedDirty=[]),this.__cbOnObservedDirty.push(t)},onceObservedDirty:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event observedDirty because owner is destroyed!");var l=function(e){null!=t&&(i.offObservedDirty(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push(null);null==this.__cbOnceObservedDirty&&(this.__cbOnceObservedDirty=[]),this.__cbOnceObservedDirty.push(t)},offObservedDirty:function(e){if(null!=e){var n;null!=this.__cbOnObservedDirty&&-1!=(n=this.__cbOnObservedDirty.indexOf(e))&&(this.__cbOnObservedDirty.splice(n,1),null!=(r=this.__cbOnOwnerUnbindObservedDirty[n])&&r(),this.__cbOnOwnerUnbindObservedDirty.splice(n,1)),null!=this.__cbOnceObservedDirty&&-1!=(n=this.__cbOnceObservedDirty.indexOf(e))&&(this.__cbOnceObservedDirty.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindObservedDirty[n])&&r(),this.__cbOnceOwnerUnbindObservedDirty.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindObservedDirty){for(var t=0,i=this.__cbOnOwnerUnbindObservedDirty.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindObservedDirty[l])&&r()}this.__cbOnOwnerUnbindObservedDirty=null}if(null!=this.__cbOnceOwnerUnbindObservedDirty){for(t=0,i=this.__cbOnceOwnerUnbindObservedDirty.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindObservedDirty[l])&&r()}this.__cbOnceOwnerUnbindObservedDirty=null}this.__cbOnObservedDirty=null,this.__cbOnceObservedDirty=null}},listensObservedDirty:function(){return null!=this.__cbOnObservedDirty&&0<this.__cbOnObservedDirty.length||null!=this.__cbOnceObservedDirty&&0<this.__cbOnceObservedDirty.length},observedDirty:null,themeAutoruns:null,get_theme:function(){var e,n,t=this.unobservedTheme;return null!=U.current&&(e=U.current,null!=(n=this.themeAutoruns)||(n=U.getAutorunArray(),null!=(this.themeAutoruns=n)))&&e.bindToAutorunArray(n),t},set_theme:function(e){var n=this.unobservedTheme;return n!=(this.unobservedTheme=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitThemeChange(e,n),null!=(n=this.themeAutoruns))&&(this.themeAutoruns=null,U.invalidateAutorunArray(n)),e},invalidateTheme:function(){var e=this.unobservedTheme,e=(this.emitThemeChange(e,e),this.themeAutoruns);null!=e&&(this.themeAutoruns=null,U.invalidateAutorunArray(e))},unobservedTheme:null,__cbOnThemeChange:null,__cbOnceThemeChange:null,__cbOnOwnerUnbindThemeChange:null,__cbOnceOwnerUnbindThemeChange:null,emitThemeChange:function(e,n){var t=0;if(null!=this.__cbOnThemeChange&&(t+=this.__cbOnThemeChange.length),null!=this.__cbOnceThemeChange&&(t+=this.__cbOnceThemeChange.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnThemeChange)for(var s=0,h=this.__cbOnThemeChange.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnThemeChange[a],++r):--t}if(null!=this.__cbOnceThemeChange){for(var o=null,c=null,s=0,h=this.__cbOnceThemeChange.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceThemeChange[a],this.__cbOnceThemeChange[a]=null,u=this.__cbOnceOwnerUnbindThemeChange[a],(this.__cbOnceOwnerUnbindThemeChange[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindThemeChange[a]),c.push(this.__cbOnceThemeChange[a]))}this.__cbOnceOwnerUnbindThemeChange=o,this.__cbOnceThemeChange=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onThemeChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event themeChange because owner is destroyed!");var l=function(e){null!=t&&(i.offThemeChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindThemeChange&&(this.__cbOnOwnerUnbindThemeChange=[]),this.__cbOnOwnerUnbindThemeChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindThemeChange&&(this.__cbOnOwnerUnbindThemeChange=[]),this.__cbOnOwnerUnbindThemeChange.push(null);null==this.__cbOnThemeChange&&(this.__cbOnThemeChange=[]),this.__cbOnThemeChange.push(t)},onceThemeChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event themeChange because owner is destroyed!");var l=function(e){null!=t&&(i.offThemeChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindThemeChange&&(this.__cbOnceOwnerUnbindThemeChange=[]),this.__cbOnceOwnerUnbindThemeChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindThemeChange&&(this.__cbOnceOwnerUnbindThemeChange=[]),this.__cbOnceOwnerUnbindThemeChange.push(null);null==this.__cbOnceThemeChange&&(this.__cbOnceThemeChange=[]),this.__cbOnceThemeChange.push(t)},offThemeChange:function(e){if(null!=e){var n;null!=this.__cbOnThemeChange&&-1!=(n=this.__cbOnThemeChange.indexOf(e))&&(this.__cbOnThemeChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindThemeChange[n])&&r(),this.__cbOnOwnerUnbindThemeChange.splice(n,1)),null!=this.__cbOnceThemeChange&&-1!=(n=this.__cbOnceThemeChange.indexOf(e))&&(this.__cbOnceThemeChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindThemeChange[n])&&r(),this.__cbOnceOwnerUnbindThemeChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindThemeChange){for(var t=0,i=this.__cbOnOwnerUnbindThemeChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindThemeChange[l])&&r()}this.__cbOnOwnerUnbindThemeChange=null}if(null!=this.__cbOnceOwnerUnbindThemeChange){for(t=0,i=this.__cbOnceOwnerUnbindThemeChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindThemeChange[l])&&r()}this.__cbOnceOwnerUnbindThemeChange=null}this.__cbOnThemeChange=null,this.__cbOnceThemeChange=null}},listensThemeChange:function(){return null!=this.__cbOnThemeChange&&0<this.__cbOnThemeChange.length||null!=this.__cbOnceThemeChange&&0<this.__cbOnceThemeChange.length},selectedAutoruns:null,get_selected:function(){var e,n,t=this.unobservedSelected;return null!=U.current&&(e=U.current,null!=(n=this.selectedAutoruns)||(n=U.getAutorunArray(),null!=(this.selectedAutoruns=n)))&&e.bindToAutorunArray(n),t},set_selected:function(e){var n=this.unobservedSelected;return n!=(this.unobservedSelected=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitSelectedChange(e,n),null!=(n=this.selectedAutoruns))&&(this.selectedAutoruns=null,U.invalidateAutorunArray(n)),e},invalidateSelected:function(){var e=this.unobservedSelected,e=(this.emitSelectedChange(e,e),this.selectedAutoruns);null!=e&&(this.selectedAutoruns=null,U.invalidateAutorunArray(e))},unobservedSelected:null,__cbOnSelectedChange:null,__cbOnceSelectedChange:null,__cbOnOwnerUnbindSelectedChange:null,__cbOnceOwnerUnbindSelectedChange:null,emitSelectedChange:function(e,n){var t=0;if(null!=this.__cbOnSelectedChange&&(t+=this.__cbOnSelectedChange.length),null!=this.__cbOnceSelectedChange&&(t+=this.__cbOnceSelectedChange.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnSelectedChange)for(var s=0,h=this.__cbOnSelectedChange.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnSelectedChange[a],++r):--t}if(null!=this.__cbOnceSelectedChange){for(var o=null,c=null,s=0,h=this.__cbOnceSelectedChange.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceSelectedChange[a],this.__cbOnceSelectedChange[a]=null,u=this.__cbOnceOwnerUnbindSelectedChange[a],(this.__cbOnceOwnerUnbindSelectedChange[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindSelectedChange[a]),c.push(this.__cbOnceSelectedChange[a]))}this.__cbOnceOwnerUnbindSelectedChange=o,this.__cbOnceSelectedChange=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onSelectedChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event selectedChange because owner is destroyed!");var l=function(e){null!=t&&(i.offSelectedChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindSelectedChange&&(this.__cbOnOwnerUnbindSelectedChange=[]),this.__cbOnOwnerUnbindSelectedChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindSelectedChange&&(this.__cbOnOwnerUnbindSelectedChange=[]),this.__cbOnOwnerUnbindSelectedChange.push(null);null==this.__cbOnSelectedChange&&(this.__cbOnSelectedChange=[]),this.__cbOnSelectedChange.push(t)},onceSelectedChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event selectedChange because owner is destroyed!");var l=function(e){null!=t&&(i.offSelectedChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindSelectedChange&&(this.__cbOnceOwnerUnbindSelectedChange=[]),this.__cbOnceOwnerUnbindSelectedChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindSelectedChange&&(this.__cbOnceOwnerUnbindSelectedChange=[]),this.__cbOnceOwnerUnbindSelectedChange.push(null);null==this.__cbOnceSelectedChange&&(this.__cbOnceSelectedChange=[]),this.__cbOnceSelectedChange.push(t)},offSelectedChange:function(e){if(null!=e){var n;null!=this.__cbOnSelectedChange&&-1!=(n=this.__cbOnSelectedChange.indexOf(e))&&(this.__cbOnSelectedChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindSelectedChange[n])&&r(),this.__cbOnOwnerUnbindSelectedChange.splice(n,1)),null!=this.__cbOnceSelectedChange&&-1!=(n=this.__cbOnceSelectedChange.indexOf(e))&&(this.__cbOnceSelectedChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindSelectedChange[n])&&r(),this.__cbOnceOwnerUnbindSelectedChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindSelectedChange){for(var t=0,i=this.__cbOnOwnerUnbindSelectedChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindSelectedChange[l])&&r()}this.__cbOnOwnerUnbindSelectedChange=null}if(null!=this.__cbOnceOwnerUnbindSelectedChange){for(t=0,i=this.__cbOnceOwnerUnbindSelectedChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindSelectedChange[l])&&r()}this.__cbOnceOwnerUnbindSelectedChange=null}this.__cbOnSelectedChange=null,this.__cbOnceSelectedChange=null}},listensSelectedChange:function(){return null!=this.__cbOnSelectedChange&&0<this.__cbOnSelectedChange.length||null!=this.__cbOnceSelectedChange&&0<this.__cbOnceSelectedChange.length},titleAutoruns:null,get_title:function(){var e,n,t=this.unobservedTitle;return null!=U.current&&(e=U.current,null!=(n=this.titleAutoruns)||(n=U.getAutorunArray(),null!=(this.titleAutoruns=n)))&&e.bindToAutorunArray(n),t},set_title:function(e){var n=this.unobservedTitle;return n!=(this.unobservedTitle=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitTitleChange(e,n),null!=(n=this.titleAutoruns))&&(this.titleAutoruns=null,U.invalidateAutorunArray(n)),e},invalidateTitle:function(){var e=this.unobservedTitle,e=(this.emitTitleChange(e,e),this.titleAutoruns);null!=e&&(this.titleAutoruns=null,U.invalidateAutorunArray(e))},unobservedTitle:null,__cbOnTitleChange:null,__cbOnceTitleChange:null,__cbOnOwnerUnbindTitleChange:null,__cbOnceOwnerUnbindTitleChange:null,emitTitleChange:function(e,n){var t=0;if(null!=this.__cbOnTitleChange&&(t+=this.__cbOnTitleChange.length),null!=this.__cbOnceTitleChange&&(t+=this.__cbOnceTitleChange.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnTitleChange)for(var s=0,h=this.__cbOnTitleChange.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnTitleChange[a],++r):--t}if(null!=this.__cbOnceTitleChange){for(var o=null,c=null,s=0,h=this.__cbOnceTitleChange.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceTitleChange[a],this.__cbOnceTitleChange[a]=null,u=this.__cbOnceOwnerUnbindTitleChange[a],(this.__cbOnceOwnerUnbindTitleChange[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindTitleChange[a]),c.push(this.__cbOnceTitleChange[a]))}this.__cbOnceOwnerUnbindTitleChange=o,this.__cbOnceTitleChange=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onTitleChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event titleChange because owner is destroyed!");var l=function(e){null!=t&&(i.offTitleChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindTitleChange&&(this.__cbOnOwnerUnbindTitleChange=[]),this.__cbOnOwnerUnbindTitleChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindTitleChange&&(this.__cbOnOwnerUnbindTitleChange=[]),this.__cbOnOwnerUnbindTitleChange.push(null);null==this.__cbOnTitleChange&&(this.__cbOnTitleChange=[]),this.__cbOnTitleChange.push(t)},onceTitleChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event titleChange because owner is destroyed!");var l=function(e){null!=t&&(i.offTitleChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindTitleChange&&(this.__cbOnceOwnerUnbindTitleChange=[]),this.__cbOnceOwnerUnbindTitleChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindTitleChange&&(this.__cbOnceOwnerUnbindTitleChange=[]),this.__cbOnceOwnerUnbindTitleChange.push(null);null==this.__cbOnceTitleChange&&(this.__cbOnceTitleChange=[]),this.__cbOnceTitleChange.push(t)},offTitleChange:function(e){if(null!=e){var n;null!=this.__cbOnTitleChange&&-1!=(n=this.__cbOnTitleChange.indexOf(e))&&(this.__cbOnTitleChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindTitleChange[n])&&r(),this.__cbOnOwnerUnbindTitleChange.splice(n,1)),null!=this.__cbOnceTitleChange&&-1!=(n=this.__cbOnceTitleChange.indexOf(e))&&(this.__cbOnceTitleChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindTitleChange[n])&&r(),this.__cbOnceOwnerUnbindTitleChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindTitleChange){for(var t=0,i=this.__cbOnOwnerUnbindTitleChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindTitleChange[l])&&r()}this.__cbOnOwnerUnbindTitleChange=null}if(null!=this.__cbOnceOwnerUnbindTitleChange){for(t=0,i=this.__cbOnceOwnerUnbindTitleChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindTitleChange[l])&&r()}this.__cbOnceOwnerUnbindTitleChange=null}this.__cbOnTitleChange=null,this.__cbOnceTitleChange=null}},listensTitleChange:function(){return null!=this.__cbOnTitleChange&&0<this.__cbOnTitleChange.length||null!=this.__cbOnceTitleChange&&0<this.__cbOnceTitleChange.length},subTitleAutoruns:null,get_subTitle:function(){var e,n,t=this.unobservedSubTitle;return null!=U.current&&(e=U.current,null!=(n=this.subTitleAutoruns)||(n=U.getAutorunArray(),null!=(this.subTitleAutoruns=n)))&&e.bindToAutorunArray(n),t},set_subTitle:function(e){var n=this.unobservedSubTitle;return n!=(this.unobservedSubTitle=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitSubTitleChange(e,n),null!=(n=this.subTitleAutoruns))&&(this.subTitleAutoruns=null,U.invalidateAutorunArray(n)),e},invalidateSubTitle:function(){var e=this.unobservedSubTitle,e=(this.emitSubTitleChange(e,e),this.subTitleAutoruns);null!=e&&(this.subTitleAutoruns=null,U.invalidateAutorunArray(e))},unobservedSubTitle:null,__cbOnSubTitleChange:null,__cbOnceSubTitleChange:null,__cbOnOwnerUnbindSubTitleChange:null,__cbOnceOwnerUnbindSubTitleChange:null,emitSubTitleChange:function(e,n){var t=0;if(null!=this.__cbOnSubTitleChange&&(t+=this.__cbOnSubTitleChange.length),null!=this.__cbOnceSubTitleChange&&(t+=this.__cbOnceSubTitleChange.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnSubTitleChange)for(var s=0,h=this.__cbOnSubTitleChange.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnSubTitleChange[a],++r):--t}if(null!=this.__cbOnceSubTitleChange){for(var o=null,c=null,s=0,h=this.__cbOnceSubTitleChange.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceSubTitleChange[a],this.__cbOnceSubTitleChange[a]=null,u=this.__cbOnceOwnerUnbindSubTitleChange[a],(this.__cbOnceOwnerUnbindSubTitleChange[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindSubTitleChange[a]),c.push(this.__cbOnceSubTitleChange[a]))}this.__cbOnceOwnerUnbindSubTitleChange=o,this.__cbOnceSubTitleChange=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onSubTitleChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event subTitleChange because owner is destroyed!");var l=function(e){null!=t&&(i.offSubTitleChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindSubTitleChange&&(this.__cbOnOwnerUnbindSubTitleChange=[]),this.__cbOnOwnerUnbindSubTitleChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindSubTitleChange&&(this.__cbOnOwnerUnbindSubTitleChange=[]),this.__cbOnOwnerUnbindSubTitleChange.push(null);null==this.__cbOnSubTitleChange&&(this.__cbOnSubTitleChange=[]),this.__cbOnSubTitleChange.push(t)},onceSubTitleChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event subTitleChange because owner is destroyed!");var l=function(e){null!=t&&(i.offSubTitleChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindSubTitleChange&&(this.__cbOnceOwnerUnbindSubTitleChange=[]),this.__cbOnceOwnerUnbindSubTitleChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindSubTitleChange&&(this.__cbOnceOwnerUnbindSubTitleChange=[]),this.__cbOnceOwnerUnbindSubTitleChange.push(null);null==this.__cbOnceSubTitleChange&&(this.__cbOnceSubTitleChange=[]),this.__cbOnceSubTitleChange.push(t)},offSubTitleChange:function(e){if(null!=e){var n;null!=this.__cbOnSubTitleChange&&-1!=(n=this.__cbOnSubTitleChange.indexOf(e))&&(this.__cbOnSubTitleChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindSubTitleChange[n])&&r(),this.__cbOnOwnerUnbindSubTitleChange.splice(n,1)),null!=this.__cbOnceSubTitleChange&&-1!=(n=this.__cbOnceSubTitleChange.indexOf(e))&&(this.__cbOnceSubTitleChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindSubTitleChange[n])&&r(),this.__cbOnceOwnerUnbindSubTitleChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindSubTitleChange){for(var t=0,i=this.__cbOnOwnerUnbindSubTitleChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindSubTitleChange[l])&&r()}this.__cbOnOwnerUnbindSubTitleChange=null}if(null!=this.__cbOnceOwnerUnbindSubTitleChange){for(t=0,i=this.__cbOnceOwnerUnbindSubTitleChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindSubTitleChange[l])&&r()}this.__cbOnceOwnerUnbindSubTitleChange=null}this.__cbOnSubTitleChange=null,this.__cbOnceSubTitleChange=null}},listensSubTitleChange:function(){return null!=this.__cbOnSubTitleChange&&0<this.__cbOnSubTitleChange.length||null!=this.__cbOnceSubTitleChange&&0<this.__cbOnceSubTitleChange.length},itemIndexAutoruns:null,get_itemIndex:function(){var e,n,t=this.unobservedItemIndex;return null!=U.current&&(e=U.current,null!=(n=this.itemIndexAutoruns)||(n=U.getAutorunArray(),null!=(this.itemIndexAutoruns=n)))&&e.bindToAutorunArray(n),t},set_itemIndex:function(e){var n=this.unobservedItemIndex;return this.set_unobservedItemIndex(e),n!=e&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitItemIndexChange(e,n),null!=(n=this.itemIndexAutoruns))&&(this.itemIndexAutoruns=null,U.invalidateAutorunArray(n)),e},invalidateItemIndex:function(){var e=this.unobservedItemIndex,e=(this.emitItemIndexChange(e,e),this.itemIndexAutoruns);null!=e&&(this.itemIndexAutoruns=null,U.invalidateAutorunArray(e))},unobservedItemIndex:null,__cbOnItemIndexChange:null,__cbOnceItemIndexChange:null,__cbOnOwnerUnbindItemIndexChange:null,__cbOnceOwnerUnbindItemIndexChange:null,emitItemIndexChange:function(e,n){var t=0;if(null!=this.__cbOnItemIndexChange&&(t+=this.__cbOnItemIndexChange.length),null!=this.__cbOnceItemIndexChange&&(t+=this.__cbOnceItemIndexChange.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnItemIndexChange)for(var s=0,h=this.__cbOnItemIndexChange.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnItemIndexChange[a],++r):--t}if(null!=this.__cbOnceItemIndexChange){for(var o=null,c=null,s=0,h=this.__cbOnceItemIndexChange.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceItemIndexChange[a],this.__cbOnceItemIndexChange[a]=null,u=this.__cbOnceOwnerUnbindItemIndexChange[a],(this.__cbOnceOwnerUnbindItemIndexChange[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindItemIndexChange[a]),c.push(this.__cbOnceItemIndexChange[a]))}this.__cbOnceOwnerUnbindItemIndexChange=o,this.__cbOnceItemIndexChange=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onItemIndexChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event itemIndexChange because owner is destroyed!");var l=function(e){null!=t&&(i.offItemIndexChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindItemIndexChange&&(this.__cbOnOwnerUnbindItemIndexChange=[]),this.__cbOnOwnerUnbindItemIndexChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindItemIndexChange&&(this.__cbOnOwnerUnbindItemIndexChange=[]),this.__cbOnOwnerUnbindItemIndexChange.push(null);null==this.__cbOnItemIndexChange&&(this.__cbOnItemIndexChange=[]),this.__cbOnItemIndexChange.push(t)},onceItemIndexChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event itemIndexChange because owner is destroyed!");var l=function(e){null!=t&&(i.offItemIndexChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindItemIndexChange&&(this.__cbOnceOwnerUnbindItemIndexChange=[]),this.__cbOnceOwnerUnbindItemIndexChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindItemIndexChange&&(this.__cbOnceOwnerUnbindItemIndexChange=[]),this.__cbOnceOwnerUnbindItemIndexChange.push(null);null==this.__cbOnceItemIndexChange&&(this.__cbOnceItemIndexChange=[]),this.__cbOnceItemIndexChange.push(t)},offItemIndexChange:function(e){if(null!=e){var n;null!=this.__cbOnItemIndexChange&&-1!=(n=this.__cbOnItemIndexChange.indexOf(e))&&(this.__cbOnItemIndexChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindItemIndexChange[n])&&r(),this.__cbOnOwnerUnbindItemIndexChange.splice(n,1)),null!=this.__cbOnceItemIndexChange&&-1!=(n=this.__cbOnceItemIndexChange.indexOf(e))&&(this.__cbOnceItemIndexChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindItemIndexChange[n])&&r(),this.__cbOnceOwnerUnbindItemIndexChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindItemIndexChange){for(var t=0,i=this.__cbOnOwnerUnbindItemIndexChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindItemIndexChange[l])&&r()}this.__cbOnOwnerUnbindItemIndexChange=null}if(null!=this.__cbOnceOwnerUnbindItemIndexChange){for(t=0,i=this.__cbOnceOwnerUnbindItemIndexChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindItemIndexChange[l])&&r()}this.__cbOnceOwnerUnbindItemIndexChange=null}this.__cbOnItemIndexChange=null,this.__cbOnceItemIndexChange=null}},listensItemIndexChange:function(){return null!=this.__cbOnItemIndexChange&&0<this.__cbOnItemIndexChange.length||null!=this.__cbOnceItemIndexChange&&0<this.__cbOnceItemIndexChange.length},set_unobservedItemIndex:function(e){return this.unobservedItemIndex!=e&&(this.unobservedItemIndex=e,this.set_hover(!1)),e},collectionViewAutoruns:null,get_collectionView:function(){var e,n,t=this.unobservedCollectionView;return null!=U.current&&(e=U.current,null!=(n=this.collectionViewAutoruns)||(n=U.getAutorunArray(),null!=(this.collectionViewAutoruns=n)))&&e.bindToAutorunArray(n),t},set_collectionView:function(e){var n=this.unobservedCollectionView;return n!=(this.unobservedCollectionView=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitCollectionViewChange(e,n),null!=(n=this.collectionViewAutoruns))&&(this.collectionViewAutoruns=null,U.invalidateAutorunArray(n)),e},invalidateCollectionView:function(){var e=this.unobservedCollectionView,e=(this.emitCollectionViewChange(e,e),this.collectionViewAutoruns);null!=e&&(this.collectionViewAutoruns=null,U.invalidateAutorunArray(e))},unobservedCollectionView:null,__cbOnCollectionViewChange:null,__cbOnceCollectionViewChange:null,__cbOnOwnerUnbindCollectionViewChange:null,__cbOnceOwnerUnbindCollectionViewChange:null,emitCollectionViewChange:function(e,n){var t=0;if(null!=this.__cbOnCollectionViewChange&&(t+=this.__cbOnCollectionViewChange.length),null!=this.__cbOnceCollectionViewChange&&(t+=this.__cbOnceCollectionViewChange.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnCollectionViewChange)for(var s=0,h=this.__cbOnCollectionViewChange.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnCollectionViewChange[a],++r):--t}if(null!=this.__cbOnceCollectionViewChange){for(var o=null,c=null,s=0,h=this.__cbOnceCollectionViewChange.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceCollectionViewChange[a],this.__cbOnceCollectionViewChange[a]=null,u=this.__cbOnceOwnerUnbindCollectionViewChange[a],(this.__cbOnceOwnerUnbindCollectionViewChange[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindCollectionViewChange[a]),c.push(this.__cbOnceCollectionViewChange[a]))}this.__cbOnceOwnerUnbindCollectionViewChange=o,this.__cbOnceCollectionViewChange=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onCollectionViewChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event collectionViewChange because owner is destroyed!");var l=function(e){null!=t&&(i.offCollectionViewChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindCollectionViewChange&&(this.__cbOnOwnerUnbindCollectionViewChange=[]),this.__cbOnOwnerUnbindCollectionViewChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindCollectionViewChange&&(this.__cbOnOwnerUnbindCollectionViewChange=[]),this.__cbOnOwnerUnbindCollectionViewChange.push(null);null==this.__cbOnCollectionViewChange&&(this.__cbOnCollectionViewChange=[]),this.__cbOnCollectionViewChange.push(t)},onceCollectionViewChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event collectionViewChange because owner is destroyed!");var l=function(e){null!=t&&(i.offCollectionViewChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindCollectionViewChange&&(this.__cbOnceOwnerUnbindCollectionViewChange=[]),this.__cbOnceOwnerUnbindCollectionViewChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindCollectionViewChange&&(this.__cbOnceOwnerUnbindCollectionViewChange=[]),this.__cbOnceOwnerUnbindCollectionViewChange.push(null);null==this.__cbOnceCollectionViewChange&&(this.__cbOnceCollectionViewChange=[]),this.__cbOnceCollectionViewChange.push(t)},offCollectionViewChange:function(e){if(null!=e){var n;null!=this.__cbOnCollectionViewChange&&-1!=(n=this.__cbOnCollectionViewChange.indexOf(e))&&(this.__cbOnCollectionViewChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindCollectionViewChange[n])&&r(),this.__cbOnOwnerUnbindCollectionViewChange.splice(n,1)),null!=this.__cbOnceCollectionViewChange&&-1!=(n=this.__cbOnceCollectionViewChange.indexOf(e))&&(this.__cbOnceCollectionViewChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindCollectionViewChange[n])&&r(),this.__cbOnceOwnerUnbindCollectionViewChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindCollectionViewChange){for(var t=0,i=this.__cbOnOwnerUnbindCollectionViewChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindCollectionViewChange[l])&&r()}this.__cbOnOwnerUnbindCollectionViewChange=null}if(null!=this.__cbOnceOwnerUnbindCollectionViewChange){for(t=0,i=this.__cbOnceOwnerUnbindCollectionViewChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindCollectionViewChange[l])&&r()}this.__cbOnceOwnerUnbindCollectionViewChange=null}this.__cbOnCollectionViewChange=null,this.__cbOnceCollectionViewChange=null}},listensCollectionViewChange:function(){return null!=this.__cbOnCollectionViewChange&&0<this.__cbOnCollectionViewChange.length||null!=this.__cbOnceCollectionViewChange&&0<this.__cbOnceCollectionViewChange.length},inputStyleAutoruns:null,get_inputStyle:function(){var e,n,t=this.unobservedInputStyle;return null!=U.current&&(e=U.current,null!=(n=this.inputStyleAutoruns)||(n=U.getAutorunArray(),null!=(this.inputStyleAutoruns=n)))&&e.bindToAutorunArray(n),t},set_inputStyle:function(e){var n=this.unobservedInputStyle;return n!=(this.unobservedInputStyle=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitInputStyleChange(e,n),null!=(n=this.inputStyleAutoruns))&&(this.inputStyleAutoruns=null,U.invalidateAutorunArray(n)),e},invalidateInputStyle:function(){var e=this.unobservedInputStyle,e=(this.emitInputStyleChange(e,e),this.inputStyleAutoruns);null!=e&&(this.inputStyleAutoruns=null,U.invalidateAutorunArray(e))},unobservedInputStyle:null,__cbOnInputStyleChange:null,__cbOnceInputStyleChange:null,__cbOnOwnerUnbindInputStyleChange:null,__cbOnceOwnerUnbindInputStyleChange:null,emitInputStyleChange:function(e,n){var t=0;if(null!=this.__cbOnInputStyleChange&&(t+=this.__cbOnInputStyleChange.length),null!=this.__cbOnceInputStyleChange&&(t+=this.__cbOnceInputStyleChange.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnInputStyleChange)for(var s=0,h=this.__cbOnInputStyleChange.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnInputStyleChange[a],++r):--t}if(null!=this.__cbOnceInputStyleChange){for(var o=null,c=null,s=0,h=this.__cbOnceInputStyleChange.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceInputStyleChange[a],this.__cbOnceInputStyleChange[a]=null,u=this.__cbOnceOwnerUnbindInputStyleChange[a],(this.__cbOnceOwnerUnbindInputStyleChange[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindInputStyleChange[a]),c.push(this.__cbOnceInputStyleChange[a]))}this.__cbOnceOwnerUnbindInputStyleChange=o,this.__cbOnceInputStyleChange=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onInputStyleChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event inputStyleChange because owner is destroyed!");var l=function(e){null!=t&&(i.offInputStyleChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindInputStyleChange&&(this.__cbOnOwnerUnbindInputStyleChange=[]),this.__cbOnOwnerUnbindInputStyleChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindInputStyleChange&&(this.__cbOnOwnerUnbindInputStyleChange=[]),this.__cbOnOwnerUnbindInputStyleChange.push(null);null==this.__cbOnInputStyleChange&&(this.__cbOnInputStyleChange=[]),this.__cbOnInputStyleChange.push(t)},onceInputStyleChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event inputStyleChange because owner is destroyed!");var l=function(e){null!=t&&(i.offInputStyleChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindInputStyleChange&&(this.__cbOnceOwnerUnbindInputStyleChange=[]),this.__cbOnceOwnerUnbindInputStyleChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindInputStyleChange&&(this.__cbOnceOwnerUnbindInputStyleChange=[]),this.__cbOnceOwnerUnbindInputStyleChange.push(null);null==this.__cbOnceInputStyleChange&&(this.__cbOnceInputStyleChange=[]),this.__cbOnceInputStyleChange.push(t)},offInputStyleChange:function(e){if(null!=e){var n;null!=this.__cbOnInputStyleChange&&-1!=(n=this.__cbOnInputStyleChange.indexOf(e))&&(this.__cbOnInputStyleChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindInputStyleChange[n])&&r(),this.__cbOnOwnerUnbindInputStyleChange.splice(n,1)),null!=this.__cbOnceInputStyleChange&&-1!=(n=this.__cbOnceInputStyleChange.indexOf(e))&&(this.__cbOnceInputStyleChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindInputStyleChange[n])&&r(),this.__cbOnceOwnerUnbindInputStyleChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindInputStyleChange){for(var t=0,i=this.__cbOnOwnerUnbindInputStyleChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindInputStyleChange[l])&&r()}this.__cbOnOwnerUnbindInputStyleChange=null}if(null!=this.__cbOnceOwnerUnbindInputStyleChange){for(t=0,i=this.__cbOnceOwnerUnbindInputStyleChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindInputStyleChange[l])&&r()}this.__cbOnceOwnerUnbindInputStyleChange=null}this.__cbOnInputStyleChange=null,this.__cbOnceInputStyleChange=null}},listensInputStyleChange:function(){return null!=this.__cbOnInputStyleChange&&0<this.__cbOnInputStyleChange.length||null!=this.__cbOnceInputStyleChange&&0<this.__cbOnceInputStyleChange.length},displaysEmptyValueAutoruns:null,get_displaysEmptyValue:function(){var e,n,t=this.unobservedDisplaysEmptyValue;return null!=U.current&&(e=U.current,null!=(n=this.displaysEmptyValueAutoruns)||(n=U.getAutorunArray(),null!=(this.displaysEmptyValueAutoruns=n)))&&e.bindToAutorunArray(n),t},set_displaysEmptyValue:function(e){var n=this.unobservedDisplaysEmptyValue;return n!=(this.unobservedDisplaysEmptyValue=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitDisplaysEmptyValueChange(e,n),null!=(n=this.displaysEmptyValueAutoruns))&&(this.displaysEmptyValueAutoruns=null,U.invalidateAutorunArray(n)),e},invalidateDisplaysEmptyValue:function(){var e=this.unobservedDisplaysEmptyValue,e=(this.emitDisplaysEmptyValueChange(e,e),this.displaysEmptyValueAutoruns);null!=e&&(this.displaysEmptyValueAutoruns=null,U.invalidateAutorunArray(e))},unobservedDisplaysEmptyValue:null,__cbOnDisplaysEmptyValueChange:null,__cbOnceDisplaysEmptyValueChange:null,__cbOnOwnerUnbindDisplaysEmptyValueChange:null,__cbOnceOwnerUnbindDisplaysEmptyValueChange:null,emitDisplaysEmptyValueChange:function(e,n){var t=0;if(null!=this.__cbOnDisplaysEmptyValueChange&&(t+=this.__cbOnDisplaysEmptyValueChange.length),null!=this.__cbOnceDisplaysEmptyValueChange&&(t+=this.__cbOnceDisplaysEmptyValueChange.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnDisplaysEmptyValueChange)for(var s=0,h=this.__cbOnDisplaysEmptyValueChange.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnDisplaysEmptyValueChange[a],++r):--t}if(null!=this.__cbOnceDisplaysEmptyValueChange){for(var o=null,c=null,s=0,h=this.__cbOnceDisplaysEmptyValueChange.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceDisplaysEmptyValueChange[a],this.__cbOnceDisplaysEmptyValueChange[a]=null,u=this.__cbOnceOwnerUnbindDisplaysEmptyValueChange[a],(this.__cbOnceOwnerUnbindDisplaysEmptyValueChange[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindDisplaysEmptyValueChange[a]),c.push(this.__cbOnceDisplaysEmptyValueChange[a]))}this.__cbOnceOwnerUnbindDisplaysEmptyValueChange=o,this.__cbOnceDisplaysEmptyValueChange=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onDisplaysEmptyValueChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event displaysEmptyValueChange because owner is destroyed!");var l=function(e){null!=t&&(i.offDisplaysEmptyValueChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindDisplaysEmptyValueChange&&(this.__cbOnOwnerUnbindDisplaysEmptyValueChange=[]),this.__cbOnOwnerUnbindDisplaysEmptyValueChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindDisplaysEmptyValueChange&&(this.__cbOnOwnerUnbindDisplaysEmptyValueChange=[]),this.__cbOnOwnerUnbindDisplaysEmptyValueChange.push(null);null==this.__cbOnDisplaysEmptyValueChange&&(this.__cbOnDisplaysEmptyValueChange=[]),this.__cbOnDisplaysEmptyValueChange.push(t)},onceDisplaysEmptyValueChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event displaysEmptyValueChange because owner is destroyed!");var l=function(e){null!=t&&(i.offDisplaysEmptyValueChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindDisplaysEmptyValueChange&&(this.__cbOnceOwnerUnbindDisplaysEmptyValueChange=[]),this.__cbOnceOwnerUnbindDisplaysEmptyValueChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindDisplaysEmptyValueChange&&(this.__cbOnceOwnerUnbindDisplaysEmptyValueChange=[]),this.__cbOnceOwnerUnbindDisplaysEmptyValueChange.push(null);null==this.__cbOnceDisplaysEmptyValueChange&&(this.__cbOnceDisplaysEmptyValueChange=[]),this.__cbOnceDisplaysEmptyValueChange.push(t)},offDisplaysEmptyValueChange:function(e){if(null!=e){var n;null!=this.__cbOnDisplaysEmptyValueChange&&-1!=(n=this.__cbOnDisplaysEmptyValueChange.indexOf(e))&&(this.__cbOnDisplaysEmptyValueChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindDisplaysEmptyValueChange[n])&&r(),this.__cbOnOwnerUnbindDisplaysEmptyValueChange.splice(n,1)),null!=this.__cbOnceDisplaysEmptyValueChange&&-1!=(n=this.__cbOnceDisplaysEmptyValueChange.indexOf(e))&&(this.__cbOnceDisplaysEmptyValueChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindDisplaysEmptyValueChange[n])&&r(),this.__cbOnceOwnerUnbindDisplaysEmptyValueChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindDisplaysEmptyValueChange){for(var t=0,i=this.__cbOnOwnerUnbindDisplaysEmptyValueChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindDisplaysEmptyValueChange[l])&&r()}this.__cbOnOwnerUnbindDisplaysEmptyValueChange=null}if(null!=this.__cbOnceOwnerUnbindDisplaysEmptyValueChange){for(t=0,i=this.__cbOnceOwnerUnbindDisplaysEmptyValueChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindDisplaysEmptyValueChange[l])&&r()}this.__cbOnceOwnerUnbindDisplaysEmptyValueChange=null}this.__cbOnDisplaysEmptyValueChange=null,this.__cbOnceDisplaysEmptyValueChange=null}},listensDisplaysEmptyValueChange:function(){return null!=this.__cbOnDisplaysEmptyValueChange&&0<this.__cbOnDisplaysEmptyValueChange.length||null!=this.__cbOnceDisplaysEmptyValueChange&&0<this.__cbOnceDisplaysEmptyValueChange.length},lockedAutoruns:null,get_locked:function(){var e,n,t=this.unobservedLocked;return null!=U.current&&(e=U.current,null!=(n=this.lockedAutoruns)||(n=U.getAutorunArray(),null!=(this.lockedAutoruns=n)))&&e.bindToAutorunArray(n),t},set_locked:function(e){var n=this.unobservedLocked;return n!=(this.unobservedLocked=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitLockedChange(e,n),null!=(n=this.lockedAutoruns))&&(this.lockedAutoruns=null,U.invalidateAutorunArray(n)),e},invalidateLocked:function(){var e=this.unobservedLocked,e=(this.emitLockedChange(e,e),this.lockedAutoruns);null!=e&&(this.lockedAutoruns=null,U.invalidateAutorunArray(e))},unobservedLocked:null,__cbOnLockedChange:null,__cbOnceLockedChange:null,__cbOnOwnerUnbindLockedChange:null,__cbOnceOwnerUnbindLockedChange:null,emitLockedChange:function(e,n){var t=0;if(null!=this.__cbOnLockedChange&&(t+=this.__cbOnLockedChange.length),null!=this.__cbOnceLockedChange&&(t+=this.__cbOnceLockedChange.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnLockedChange)for(var s=0,h=this.__cbOnLockedChange.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnLockedChange[a],++r):--t}if(null!=this.__cbOnceLockedChange){for(var o=null,c=null,s=0,h=this.__cbOnceLockedChange.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceLockedChange[a],this.__cbOnceLockedChange[a]=null,u=this.__cbOnceOwnerUnbindLockedChange[a],(this.__cbOnceOwnerUnbindLockedChange[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindLockedChange[a]),c.push(this.__cbOnceLockedChange[a]))}this.__cbOnceOwnerUnbindLockedChange=o,this.__cbOnceLockedChange=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onLockedChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event lockedChange because owner is destroyed!");var l=function(e){null!=t&&(i.offLockedChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindLockedChange&&(this.__cbOnOwnerUnbindLockedChange=[]),this.__cbOnOwnerUnbindLockedChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindLockedChange&&(this.__cbOnOwnerUnbindLockedChange=[]),this.__cbOnOwnerUnbindLockedChange.push(null);null==this.__cbOnLockedChange&&(this.__cbOnLockedChange=[]),this.__cbOnLockedChange.push(t)},onceLockedChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event lockedChange because owner is destroyed!");var l=function(e){null!=t&&(i.offLockedChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindLockedChange&&(this.__cbOnceOwnerUnbindLockedChange=[]),this.__cbOnceOwnerUnbindLockedChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindLockedChange&&(this.__cbOnceOwnerUnbindLockedChange=[]),this.__cbOnceOwnerUnbindLockedChange.push(null);null==this.__cbOnceLockedChange&&(this.__cbOnceLockedChange=[]),this.__cbOnceLockedChange.push(t)},offLockedChange:function(e){if(null!=e){var n;null!=this.__cbOnLockedChange&&-1!=(n=this.__cbOnLockedChange.indexOf(e))&&(this.__cbOnLockedChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindLockedChange[n])&&r(),this.__cbOnOwnerUnbindLockedChange.splice(n,1)),null!=this.__cbOnceLockedChange&&-1!=(n=this.__cbOnceLockedChange.indexOf(e))&&(this.__cbOnceLockedChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindLockedChange[n])&&r(),this.__cbOnceOwnerUnbindLockedChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindLockedChange){for(var t=0,i=this.__cbOnOwnerUnbindLockedChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindLockedChange[l])&&r()}this.__cbOnOwnerUnbindLockedChange=null}if(null!=this.__cbOnceOwnerUnbindLockedChange){for(t=0,i=this.__cbOnceOwnerUnbindLockedChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindLockedChange[l])&&r()}this.__cbOnceOwnerUnbindLockedChange=null}this.__cbOnLockedChange=null,this.__cbOnceLockedChange=null}},listensLockedChange:function(){return null!=this.__cbOnLockedChange&&0<this.__cbOnLockedChange.length||null!=this.__cbOnceLockedChange&&0<this.__cbOnceLockedChange.length},kindIconAutoruns:null,get_kindIcon:function(){var e,n,t=this.unobservedKindIcon;return null!=U.current&&(e=U.current,null!=(n=this.kindIconAutoruns)||(n=U.getAutorunArray(),null!=(this.kindIconAutoruns=n)))&&e.bindToAutorunArray(n),t},set_kindIcon:function(e){var n=this.unobservedKindIcon;return n!=(this.unobservedKindIcon=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitKindIconChange(e,n),null!=(n=this.kindIconAutoruns))&&(this.kindIconAutoruns=null,U.invalidateAutorunArray(n)),e},invalidateKindIcon:function(){var e=this.unobservedKindIcon,e=(this.emitKindIconChange(e,e),this.kindIconAutoruns);null!=e&&(this.kindIconAutoruns=null,U.invalidateAutorunArray(e))},unobservedKindIcon:null,__cbOnKindIconChange:null,__cbOnceKindIconChange:null,__cbOnOwnerUnbindKindIconChange:null,__cbOnceOwnerUnbindKindIconChange:null,emitKindIconChange:function(e,n){var t=0;if(null!=this.__cbOnKindIconChange&&(t+=this.__cbOnKindIconChange.length),null!=this.__cbOnceKindIconChange&&(t+=this.__cbOnceKindIconChange.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnKindIconChange)for(var s=0,h=this.__cbOnKindIconChange.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnKindIconChange[a],++r):--t}if(null!=this.__cbOnceKindIconChange){for(var o=null,c=null,s=0,h=this.__cbOnceKindIconChange.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceKindIconChange[a],this.__cbOnceKindIconChange[a]=null,u=this.__cbOnceOwnerUnbindKindIconChange[a],(this.__cbOnceOwnerUnbindKindIconChange[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindKindIconChange[a]),c.push(this.__cbOnceKindIconChange[a]))}this.__cbOnceOwnerUnbindKindIconChange=o,this.__cbOnceKindIconChange=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onKindIconChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event kindIconChange because owner is destroyed!");var l=function(e){null!=t&&(i.offKindIconChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindKindIconChange&&(this.__cbOnOwnerUnbindKindIconChange=[]),this.__cbOnOwnerUnbindKindIconChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindKindIconChange&&(this.__cbOnOwnerUnbindKindIconChange=[]),this.__cbOnOwnerUnbindKindIconChange.push(null);null==this.__cbOnKindIconChange&&(this.__cbOnKindIconChange=[]),this.__cbOnKindIconChange.push(t)},onceKindIconChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event kindIconChange because owner is destroyed!");var l=function(e){null!=t&&(i.offKindIconChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindKindIconChange&&(this.__cbOnceOwnerUnbindKindIconChange=[]),this.__cbOnceOwnerUnbindKindIconChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindKindIconChange&&(this.__cbOnceOwnerUnbindKindIconChange=[]),this.__cbOnceOwnerUnbindKindIconChange.push(null);null==this.__cbOnceKindIconChange&&(this.__cbOnceKindIconChange=[]),this.__cbOnceKindIconChange.push(t)},offKindIconChange:function(e){if(null!=e){var n;null!=this.__cbOnKindIconChange&&-1!=(n=this.__cbOnKindIconChange.indexOf(e))&&(this.__cbOnKindIconChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindKindIconChange[n])&&r(),this.__cbOnOwnerUnbindKindIconChange.splice(n,1)),null!=this.__cbOnceKindIconChange&&-1!=(n=this.__cbOnceKindIconChange.indexOf(e))&&(this.__cbOnceKindIconChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindKindIconChange[n])&&r(),this.__cbOnceOwnerUnbindKindIconChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindKindIconChange){for(var t=0,i=this.__cbOnOwnerUnbindKindIconChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindKindIconChange[l])&&r()}this.__cbOnOwnerUnbindKindIconChange=null}if(null!=this.__cbOnceOwnerUnbindKindIconChange){for(t=0,i=this.__cbOnceOwnerUnbindKindIconChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindKindIconChange[l])&&r()}this.__cbOnceOwnerUnbindKindIconChange=null}this.__cbOnKindIconChange=null,this.__cbOnceKindIconChange=null}},listensKindIconChange:function(){return null!=this.__cbOnKindIconChange&&0<this.__cbOnKindIconChange.length||null!=this.__cbOnceKindIconChange&&0<this.__cbOnceKindIconChange.length},handleTrashAutoruns:null,get_handleTrash:function(){var e,n,t=this.unobservedHandleTrash;return null!=U.current&&(e=U.current,null!=(n=this.handleTrashAutoruns)||(n=U.getAutorunArray(),null!=(this.handleTrashAutoruns=n)))&&e.bindToAutorunArray(n),t},set_handleTrash:function(e){var n=this.unobservedHandleTrash;return this.unobservedHandleTrash=e,Bl.equalAny(n,e)||(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitHandleTrashChange(e,n),null!=(n=this.handleTrashAutoruns)&&(this.handleTrashAutoruns=null,U.invalidateAutorunArray(n))),e},invalidateHandleTrash:function(){var e=this.unobservedHandleTrash,e=(this.emitHandleTrashChange(e,e),this.handleTrashAutoruns);null!=e&&(this.handleTrashAutoruns=null,U.invalidateAutorunArray(e))},unobservedHandleTrash:null,__cbOnHandleTrashChange:null,__cbOnceHandleTrashChange:null,__cbOnOwnerUnbindHandleTrashChange:null,__cbOnceOwnerUnbindHandleTrashChange:null,emitHandleTrashChange:function(e,n){var t=0;if(null!=this.__cbOnHandleTrashChange&&(t+=this.__cbOnHandleTrashChange.length),null!=this.__cbOnceHandleTrashChange&&(t+=this.__cbOnceHandleTrashChange.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnHandleTrashChange)for(var s=0,h=this.__cbOnHandleTrashChange.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnHandleTrashChange[a],++r):--t}if(null!=this.__cbOnceHandleTrashChange){for(var o=null,c=null,s=0,h=this.__cbOnceHandleTrashChange.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceHandleTrashChange[a],this.__cbOnceHandleTrashChange[a]=null,u=this.__cbOnceOwnerUnbindHandleTrashChange[a],(this.__cbOnceOwnerUnbindHandleTrashChange[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindHandleTrashChange[a]),c.push(this.__cbOnceHandleTrashChange[a]))}this.__cbOnceOwnerUnbindHandleTrashChange=o,this.__cbOnceHandleTrashChange=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onHandleTrashChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event handleTrashChange because owner is destroyed!");var l=function(e){null!=t&&(i.offHandleTrashChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindHandleTrashChange&&(this.__cbOnOwnerUnbindHandleTrashChange=[]),this.__cbOnOwnerUnbindHandleTrashChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindHandleTrashChange&&(this.__cbOnOwnerUnbindHandleTrashChange=[]),this.__cbOnOwnerUnbindHandleTrashChange.push(null);null==this.__cbOnHandleTrashChange&&(this.__cbOnHandleTrashChange=[]),this.__cbOnHandleTrashChange.push(t)},onceHandleTrashChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event handleTrashChange because owner is destroyed!");var l=function(e){null!=t&&(i.offHandleTrashChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindHandleTrashChange&&(this.__cbOnceOwnerUnbindHandleTrashChange=[]),this.__cbOnceOwnerUnbindHandleTrashChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindHandleTrashChange&&(this.__cbOnceOwnerUnbindHandleTrashChange=[]),this.__cbOnceOwnerUnbindHandleTrashChange.push(null);null==this.__cbOnceHandleTrashChange&&(this.__cbOnceHandleTrashChange=[]),this.__cbOnceHandleTrashChange.push(t)},offHandleTrashChange:function(e){if(null!=e){var n;null!=this.__cbOnHandleTrashChange&&-1!=(n=this.__cbOnHandleTrashChange.indexOf(e))&&(this.__cbOnHandleTrashChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindHandleTrashChange[n])&&r(),this.__cbOnOwnerUnbindHandleTrashChange.splice(n,1)),null!=this.__cbOnceHandleTrashChange&&-1!=(n=this.__cbOnceHandleTrashChange.indexOf(e))&&(this.__cbOnceHandleTrashChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindHandleTrashChange[n])&&r(),this.__cbOnceOwnerUnbindHandleTrashChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindHandleTrashChange){for(var t=0,i=this.__cbOnOwnerUnbindHandleTrashChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindHandleTrashChange[l])&&r()}this.__cbOnOwnerUnbindHandleTrashChange=null}if(null!=this.__cbOnceOwnerUnbindHandleTrashChange){for(t=0,i=this.__cbOnceOwnerUnbindHandleTrashChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindHandleTrashChange[l])&&r()}this.__cbOnceOwnerUnbindHandleTrashChange=null}this.__cbOnHandleTrashChange=null,this.__cbOnceHandleTrashChange=null}},listensHandleTrashChange:function(){return null!=this.__cbOnHandleTrashChange&&0<this.__cbOnHandleTrashChange.length||null!=this.__cbOnceHandleTrashChange&&0<this.__cbOnceHandleTrashChange.length},handleLockAutoruns:null,get_handleLock:function(){var e,n,t=this.unobservedHandleLock;return null!=U.current&&(e=U.current,null!=(n=this.handleLockAutoruns)||(n=U.getAutorunArray(),null!=(this.handleLockAutoruns=n)))&&e.bindToAutorunArray(n),t},set_handleLock:function(e){var n=this.unobservedHandleLock;return this.unobservedHandleLock=e,Bl.equalAny(n,e)||(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitHandleLockChange(e,n),null!=(n=this.handleLockAutoruns)&&(this.handleLockAutoruns=null,U.invalidateAutorunArray(n))),e},invalidateHandleLock:function(){var e=this.unobservedHandleLock,e=(this.emitHandleLockChange(e,e),this.handleLockAutoruns);null!=e&&(this.handleLockAutoruns=null,U.invalidateAutorunArray(e))},unobservedHandleLock:null,__cbOnHandleLockChange:null,__cbOnceHandleLockChange:null,__cbOnOwnerUnbindHandleLockChange:null,__cbOnceOwnerUnbindHandleLockChange:null,emitHandleLockChange:function(e,n){var t=0;if(null!=this.__cbOnHandleLockChange&&(t+=this.__cbOnHandleLockChange.length),null!=this.__cbOnceHandleLockChange&&(t+=this.__cbOnceHandleLockChange.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnHandleLockChange)for(var s=0,h=this.__cbOnHandleLockChange.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnHandleLockChange[a],++r):--t}if(null!=this.__cbOnceHandleLockChange){for(var o=null,c=null,s=0,h=this.__cbOnceHandleLockChange.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceHandleLockChange[a],this.__cbOnceHandleLockChange[a]=null,u=this.__cbOnceOwnerUnbindHandleLockChange[a],(this.__cbOnceOwnerUnbindHandleLockChange[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindHandleLockChange[a]),c.push(this.__cbOnceHandleLockChange[a]))}this.__cbOnceOwnerUnbindHandleLockChange=o,this.__cbOnceHandleLockChange=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onHandleLockChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event handleLockChange because owner is destroyed!");var l=function(e){null!=t&&(i.offHandleLockChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindHandleLockChange&&(this.__cbOnOwnerUnbindHandleLockChange=[]),this.__cbOnOwnerUnbindHandleLockChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindHandleLockChange&&(this.__cbOnOwnerUnbindHandleLockChange=[]),this.__cbOnOwnerUnbindHandleLockChange.push(null);null==this.__cbOnHandleLockChange&&(this.__cbOnHandleLockChange=[]),this.__cbOnHandleLockChange.push(t)},onceHandleLockChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event handleLockChange because owner is destroyed!");var l=function(e){null!=t&&(i.offHandleLockChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindHandleLockChange&&(this.__cbOnceOwnerUnbindHandleLockChange=[]),this.__cbOnceOwnerUnbindHandleLockChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindHandleLockChange&&(this.__cbOnceOwnerUnbindHandleLockChange=[]),this.__cbOnceOwnerUnbindHandleLockChange.push(null);null==this.__cbOnceHandleLockChange&&(this.__cbOnceHandleLockChange=[]),this.__cbOnceHandleLockChange.push(t)},offHandleLockChange:function(e){if(null!=e){var n;null!=this.__cbOnHandleLockChange&&-1!=(n=this.__cbOnHandleLockChange.indexOf(e))&&(this.__cbOnHandleLockChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindHandleLockChange[n])&&r(),this.__cbOnOwnerUnbindHandleLockChange.splice(n,1)),null!=this.__cbOnceHandleLockChange&&-1!=(n=this.__cbOnceHandleLockChange.indexOf(e))&&(this.__cbOnceHandleLockChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindHandleLockChange[n])&&r(),this.__cbOnceOwnerUnbindHandleLockChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindHandleLockChange){for(var t=0,i=this.__cbOnOwnerUnbindHandleLockChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindHandleLockChange[l])&&r()}this.__cbOnOwnerUnbindHandleLockChange=null}if(null!=this.__cbOnceOwnerUnbindHandleLockChange){for(t=0,i=this.__cbOnceOwnerUnbindHandleLockChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindHandleLockChange[l])&&r()}this.__cbOnceOwnerUnbindHandleLockChange=null}this.__cbOnHandleLockChange=null,this.__cbOnceHandleLockChange=null}},listensHandleLockChange:function(){return null!=this.__cbOnHandleLockChange&&0<this.__cbOnHandleLockChange.length||null!=this.__cbOnceHandleLockChange&&0<this.__cbOnceHandleLockChange.length},handleDuplicateAutoruns:null,get_handleDuplicate:function(){var e,n,t=this.unobservedHandleDuplicate;return null!=U.current&&(e=U.current,null!=(n=this.handleDuplicateAutoruns)||(n=U.getAutorunArray(),null!=(this.handleDuplicateAutoruns=n)))&&e.bindToAutorunArray(n),t},set_handleDuplicate:function(e){var n=this.unobservedHandleDuplicate;return this.unobservedHandleDuplicate=e,Bl.equalAny(n,e)||(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitHandleDuplicateChange(e,n),null!=(n=this.handleDuplicateAutoruns)&&(this.handleDuplicateAutoruns=null,U.invalidateAutorunArray(n))),e},invalidateHandleDuplicate:function(){var e=this.unobservedHandleDuplicate,e=(this.emitHandleDuplicateChange(e,e),this.handleDuplicateAutoruns);null!=e&&(this.handleDuplicateAutoruns=null,U.invalidateAutorunArray(e))},unobservedHandleDuplicate:null,__cbOnHandleDuplicateChange:null,__cbOnceHandleDuplicateChange:null,__cbOnOwnerUnbindHandleDuplicateChange:null,__cbOnceOwnerUnbindHandleDuplicateChange:null,emitHandleDuplicateChange:function(e,n){var t=0;if(null!=this.__cbOnHandleDuplicateChange&&(t+=this.__cbOnHandleDuplicateChange.length),null!=this.__cbOnceHandleDuplicateChange&&(t+=this.__cbOnceHandleDuplicateChange.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnHandleDuplicateChange)for(var s=0,h=this.__cbOnHandleDuplicateChange.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnHandleDuplicateChange[a],++r):--t}if(null!=this.__cbOnceHandleDuplicateChange){for(var o=null,c=null,s=0,h=this.__cbOnceHandleDuplicateChange.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceHandleDuplicateChange[a],this.__cbOnceHandleDuplicateChange[a]=null,u=this.__cbOnceOwnerUnbindHandleDuplicateChange[a],(this.__cbOnceOwnerUnbindHandleDuplicateChange[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindHandleDuplicateChange[a]),c.push(this.__cbOnceHandleDuplicateChange[a]))}this.__cbOnceOwnerUnbindHandleDuplicateChange=o,this.__cbOnceHandleDuplicateChange=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onHandleDuplicateChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event handleDuplicateChange because owner is destroyed!");var l=function(e){null!=t&&(i.offHandleDuplicateChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindHandleDuplicateChange&&(this.__cbOnOwnerUnbindHandleDuplicateChange=[]),this.__cbOnOwnerUnbindHandleDuplicateChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindHandleDuplicateChange&&(this.__cbOnOwnerUnbindHandleDuplicateChange=[]),this.__cbOnOwnerUnbindHandleDuplicateChange.push(null);null==this.__cbOnHandleDuplicateChange&&(this.__cbOnHandleDuplicateChange=[]),this.__cbOnHandleDuplicateChange.push(t)},onceHandleDuplicateChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event handleDuplicateChange because owner is destroyed!");var l=function(e){null!=t&&(i.offHandleDuplicateChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindHandleDuplicateChange&&(this.__cbOnceOwnerUnbindHandleDuplicateChange=[]),this.__cbOnceOwnerUnbindHandleDuplicateChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindHandleDuplicateChange&&(this.__cbOnceOwnerUnbindHandleDuplicateChange=[]),this.__cbOnceOwnerUnbindHandleDuplicateChange.push(null);null==this.__cbOnceHandleDuplicateChange&&(this.__cbOnceHandleDuplicateChange=[]),this.__cbOnceHandleDuplicateChange.push(t)},offHandleDuplicateChange:function(e){if(null!=e){var n;null!=this.__cbOnHandleDuplicateChange&&-1!=(n=this.__cbOnHandleDuplicateChange.indexOf(e))&&(this.__cbOnHandleDuplicateChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindHandleDuplicateChange[n])&&r(),this.__cbOnOwnerUnbindHandleDuplicateChange.splice(n,1)),null!=this.__cbOnceHandleDuplicateChange&&-1!=(n=this.__cbOnceHandleDuplicateChange.indexOf(e))&&(this.__cbOnceHandleDuplicateChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindHandleDuplicateChange[n])&&r(),this.__cbOnceOwnerUnbindHandleDuplicateChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindHandleDuplicateChange){for(var t=0,i=this.__cbOnOwnerUnbindHandleDuplicateChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindHandleDuplicateChange[l])&&r()}this.__cbOnOwnerUnbindHandleDuplicateChange=null}if(null!=this.__cbOnceOwnerUnbindHandleDuplicateChange){for(t=0,i=this.__cbOnceOwnerUnbindHandleDuplicateChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindHandleDuplicateChange[l])&&r()}this.__cbOnceOwnerUnbindHandleDuplicateChange=null}this.__cbOnHandleDuplicateChange=null,this.__cbOnceHandleDuplicateChange=null}},listensHandleDuplicateChange:function(){return null!=this.__cbOnHandleDuplicateChange&&0<this.__cbOnHandleDuplicateChange.length||null!=this.__cbOnceHandleDuplicateChange&&0<this.__cbOnceHandleDuplicateChange.length},draggingAutoruns:null,get_dragging:function(){var e,n,t=this.unobservedDragging;return null!=U.current&&(e=U.current,null!=(n=this.draggingAutoruns)||(n=U.getAutorunArray(),null!=(this.draggingAutoruns=n)))&&e.bindToAutorunArray(n),t},set_dragging:function(e){var n=this.unobservedDragging;return n!=(this.unobservedDragging=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitDraggingChange(e,n),null!=(n=this.draggingAutoruns))&&(this.draggingAutoruns=null,U.invalidateAutorunArray(n)),e},invalidateDragging:function(){var e=this.unobservedDragging,e=(this.emitDraggingChange(e,e),this.draggingAutoruns);null!=e&&(this.draggingAutoruns=null,U.invalidateAutorunArray(e))},unobservedDragging:null,__cbOnDraggingChange:null,__cbOnceDraggingChange:null,__cbOnOwnerUnbindDraggingChange:null,__cbOnceOwnerUnbindDraggingChange:null,emitDraggingChange:function(e,n){var t=0;if(null!=this.__cbOnDraggingChange&&(t+=this.__cbOnDraggingChange.length),null!=this.__cbOnceDraggingChange&&(t+=this.__cbOnceDraggingChange.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnDraggingChange)for(var s=0,h=this.__cbOnDraggingChange.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnDraggingChange[a],++r):--t}if(null!=this.__cbOnceDraggingChange){for(var o=null,c=null,s=0,h=this.__cbOnceDraggingChange.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceDraggingChange[a],this.__cbOnceDraggingChange[a]=null,u=this.__cbOnceOwnerUnbindDraggingChange[a],(this.__cbOnceOwnerUnbindDraggingChange[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindDraggingChange[a]),c.push(this.__cbOnceDraggingChange[a]))}this.__cbOnceOwnerUnbindDraggingChange=o,this.__cbOnceDraggingChange=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onDraggingChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event draggingChange because owner is destroyed!");var l=function(e){null!=t&&(i.offDraggingChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindDraggingChange&&(this.__cbOnOwnerUnbindDraggingChange=[]),this.__cbOnOwnerUnbindDraggingChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindDraggingChange&&(this.__cbOnOwnerUnbindDraggingChange=[]),this.__cbOnOwnerUnbindDraggingChange.push(null);null==this.__cbOnDraggingChange&&(this.__cbOnDraggingChange=[]),this.__cbOnDraggingChange.push(t)},onceDraggingChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event draggingChange because owner is destroyed!");var l=function(e){null!=t&&(i.offDraggingChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindDraggingChange&&(this.__cbOnceOwnerUnbindDraggingChange=[]),this.__cbOnceOwnerUnbindDraggingChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindDraggingChange&&(this.__cbOnceOwnerUnbindDraggingChange=[]),this.__cbOnceOwnerUnbindDraggingChange.push(null);null==this.__cbOnceDraggingChange&&(this.__cbOnceDraggingChange=[]),this.__cbOnceDraggingChange.push(t)},offDraggingChange:function(e){if(null!=e){var n;null!=this.__cbOnDraggingChange&&-1!=(n=this.__cbOnDraggingChange.indexOf(e))&&(this.__cbOnDraggingChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindDraggingChange[n])&&r(),this.__cbOnOwnerUnbindDraggingChange.splice(n,1)),null!=this.__cbOnceDraggingChange&&-1!=(n=this.__cbOnceDraggingChange.indexOf(e))&&(this.__cbOnceDraggingChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindDraggingChange[n])&&r(),this.__cbOnceOwnerUnbindDraggingChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindDraggingChange){for(var t=0,i=this.__cbOnOwnerUnbindDraggingChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindDraggingChange[l])&&r()}this.__cbOnOwnerUnbindDraggingChange=null}if(null!=this.__cbOnceOwnerUnbindDraggingChange){for(t=0,i=this.__cbOnceOwnerUnbindDraggingChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindDraggingChange[l])&&r()}this.__cbOnceOwnerUnbindDraggingChange=null}this.__cbOnDraggingChange=null,this.__cbOnceDraggingChange=null}},listensDraggingChange:function(){return null!=this.__cbOnDraggingChange&&0<this.__cbOnDraggingChange.length||null!=this.__cbOnceDraggingChange&&0<this.__cbOnceDraggingChange.length},titleTextView:null,subTitleTextView:null,clearScrollDelay:null,columnLayout:null,iconsView:null,dragTargetTy:null,dragDrop:null,dragAutoScroll:null,dragStartScrollY:null,draggingCellDragY:null,draggingCell:null,dragOnItemIndex:null,clonedForDraggingAutoruns:null,get_clonedForDragging:function(){var e,n,t=this.unobservedClonedForDragging;return null!=U.current&&(e=U.current,null!=(n=this.clonedForDraggingAutoruns)||(n=U.getAutorunArray(),null!=(this.clonedForDraggingAutoruns=n)))&&e.bindToAutorunArray(n),t},set_clonedForDragging:function(e){var n=this.unobservedClonedForDragging;return n!=(this.unobservedClonedForDragging=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitClonedForDraggingChange(e,n),null!=(n=this.clonedForDraggingAutoruns))&&(this.clonedForDraggingAutoruns=null,U.invalidateAutorunArray(n)),e},invalidateClonedForDragging:function(){var e=this.unobservedClonedForDragging,e=(this.emitClonedForDraggingChange(e,e),this.clonedForDraggingAutoruns);null!=e&&(this.clonedForDraggingAutoruns=null,U.invalidateAutorunArray(e))},unobservedClonedForDragging:null,__cbOnClonedForDraggingChange:null,__cbOnceClonedForDraggingChange:null,__cbOnOwnerUnbindClonedForDraggingChange:null,__cbOnceOwnerUnbindClonedForDraggingChange:null,emitClonedForDraggingChange:function(e,n){var t=0;if(null!=this.__cbOnClonedForDraggingChange&&(t+=this.__cbOnClonedForDraggingChange.length),null!=this.__cbOnceClonedForDraggingChange&&(t+=this.__cbOnceClonedForDraggingChange.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnClonedForDraggingChange)for(var s=0,h=this.__cbOnClonedForDraggingChange.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnClonedForDraggingChange[a],++r):--t}if(null!=this.__cbOnceClonedForDraggingChange){for(var o=null,c=null,s=0,h=this.__cbOnceClonedForDraggingChange.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceClonedForDraggingChange[a],this.__cbOnceClonedForDraggingChange[a]=null,u=this.__cbOnceOwnerUnbindClonedForDraggingChange[a],(this.__cbOnceOwnerUnbindClonedForDraggingChange[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindClonedForDraggingChange[a]),c.push(this.__cbOnceClonedForDraggingChange[a]))}this.__cbOnceOwnerUnbindClonedForDraggingChange=o,this.__cbOnceClonedForDraggingChange=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onClonedForDraggingChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event clonedForDraggingChange because owner is destroyed!");var l=function(e){null!=t&&(i.offClonedForDraggingChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindClonedForDraggingChange&&(this.__cbOnOwnerUnbindClonedForDraggingChange=[]),this.__cbOnOwnerUnbindClonedForDraggingChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindClonedForDraggingChange&&(this.__cbOnOwnerUnbindClonedForDraggingChange=[]),this.__cbOnOwnerUnbindClonedForDraggingChange.push(null);null==this.__cbOnClonedForDraggingChange&&(this.__cbOnClonedForDraggingChange=[]),this.__cbOnClonedForDraggingChange.push(t)},onceClonedForDraggingChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event clonedForDraggingChange because owner is destroyed!");var l=function(e){null!=t&&(i.offClonedForDraggingChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindClonedForDraggingChange&&(this.__cbOnceOwnerUnbindClonedForDraggingChange=[]),this.__cbOnceOwnerUnbindClonedForDraggingChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindClonedForDraggingChange&&(this.__cbOnceOwnerUnbindClonedForDraggingChange=[]),this.__cbOnceOwnerUnbindClonedForDraggingChange.push(null);null==this.__cbOnceClonedForDraggingChange&&(this.__cbOnceClonedForDraggingChange=[]),this.__cbOnceClonedForDraggingChange.push(t)},offClonedForDraggingChange:function(e){if(null!=e){var n;null!=this.__cbOnClonedForDraggingChange&&-1!=(n=this.__cbOnClonedForDraggingChange.indexOf(e))&&(this.__cbOnClonedForDraggingChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindClonedForDraggingChange[n])&&r(),this.__cbOnOwnerUnbindClonedForDraggingChange.splice(n,1)),null!=this.__cbOnceClonedForDraggingChange&&-1!=(n=this.__cbOnceClonedForDraggingChange.indexOf(e))&&(this.__cbOnceClonedForDraggingChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindClonedForDraggingChange[n])&&r(),this.__cbOnceOwnerUnbindClonedForDraggingChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindClonedForDraggingChange){for(var t=0,i=this.__cbOnOwnerUnbindClonedForDraggingChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindClonedForDraggingChange[l])&&r()}this.__cbOnOwnerUnbindClonedForDraggingChange=null}if(null!=this.__cbOnceOwnerUnbindClonedForDraggingChange){for(t=0,i=this.__cbOnceOwnerUnbindClonedForDraggingChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindClonedForDraggingChange[l])&&r()}this.__cbOnceOwnerUnbindClonedForDraggingChange=null}this.__cbOnClonedForDraggingChange=null,this.__cbOnceClonedForDraggingChange=null}},listensClonedForDraggingChange:function(){return null!=this.__cbOnClonedForDraggingChange&&0<this.__cbOnClonedForDraggingChange.length||null!=this.__cbOnceClonedForDraggingChange&&0<this.__cbOnceClonedForDraggingChange.length},hoverAutoruns:null,get_hover:function(){var e,n,t=this.unobservedHover;return null!=U.current&&(e=U.current,null!=(n=this.hoverAutoruns)||(n=U.getAutorunArray(),null!=(this.hoverAutoruns=n)))&&e.bindToAutorunArray(n),t},set_hover:function(e){var n=this.unobservedHover;return n!=(this.unobservedHover=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitHoverChange(e,n),null!=(n=this.hoverAutoruns))&&(this.hoverAutoruns=null,U.invalidateAutorunArray(n)),e},invalidateHover:function(){var e=this.unobservedHover,e=(this.emitHoverChange(e,e),this.hoverAutoruns);null!=e&&(this.hoverAutoruns=null,U.invalidateAutorunArray(e))},unobservedHover:null,__cbOnHoverChange:null,__cbOnceHoverChange:null,__cbOnOwnerUnbindHoverChange:null,__cbOnceOwnerUnbindHoverChange:null,emitHoverChange:function(e,n){var t=0;if(null!=this.__cbOnHoverChange&&(t+=this.__cbOnHoverChange.length),null!=this.__cbOnceHoverChange&&(t+=this.__cbOnceHoverChange.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnHoverChange)for(var s=0,h=this.__cbOnHoverChange.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnHoverChange[a],++r):--t}if(null!=this.__cbOnceHoverChange){for(var o=null,c=null,s=0,h=this.__cbOnceHoverChange.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceHoverChange[a],this.__cbOnceHoverChange[a]=null,u=this.__cbOnceOwnerUnbindHoverChange[a],(this.__cbOnceOwnerUnbindHoverChange[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindHoverChange[a]),c.push(this.__cbOnceHoverChange[a]))}this.__cbOnceOwnerUnbindHoverChange=o,this.__cbOnceHoverChange=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onHoverChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event hoverChange because owner is destroyed!");var l=function(e){null!=t&&(i.offHoverChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindHoverChange&&(this.__cbOnOwnerUnbindHoverChange=[]),this.__cbOnOwnerUnbindHoverChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindHoverChange&&(this.__cbOnOwnerUnbindHoverChange=[]),this.__cbOnOwnerUnbindHoverChange.push(null);null==this.__cbOnHoverChange&&(this.__cbOnHoverChange=[]),this.__cbOnHoverChange.push(t)},onceHoverChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event hoverChange because owner is destroyed!");var l=function(e){null!=t&&(i.offHoverChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindHoverChange&&(this.__cbOnceOwnerUnbindHoverChange=[]),this.__cbOnceOwnerUnbindHoverChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindHoverChange&&(this.__cbOnceOwnerUnbindHoverChange=[]),this.__cbOnceOwnerUnbindHoverChange.push(null);null==this.__cbOnceHoverChange&&(this.__cbOnceHoverChange=[]),this.__cbOnceHoverChange.push(t)},offHoverChange:function(e){if(null!=e){var n;null!=this.__cbOnHoverChange&&-1!=(n=this.__cbOnHoverChange.indexOf(e))&&(this.__cbOnHoverChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindHoverChange[n])&&r(),this.__cbOnOwnerUnbindHoverChange.splice(n,1)),null!=this.__cbOnceHoverChange&&-1!=(n=this.__cbOnceHoverChange.indexOf(e))&&(this.__cbOnceHoverChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindHoverChange[n])&&r(),this.__cbOnceOwnerUnbindHoverChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindHoverChange){for(var t=0,i=this.__cbOnOwnerUnbindHoverChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindHoverChange[l])&&r()}this.__cbOnOwnerUnbindHoverChange=null}if(null!=this.__cbOnceOwnerUnbindHoverChange){for(t=0,i=this.__cbOnceOwnerUnbindHoverChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindHoverChange[l])&&r()}this.__cbOnceOwnerUnbindHoverChange=null}this.__cbOnHoverChange=null,this.__cbOnceHoverChange=null}},listensHoverChange:function(){return null!=this.__cbOnHoverChange&&0<this.__cbOnHoverChange.length||null!=this.__cbOnceHoverChange&&0<this.__cbOnceHoverChange.length},appliedHoverItemIndexAutoruns:null,get_appliedHoverItemIndex:function(){var e,n,t=this.unobservedAppliedHoverItemIndex;return null!=U.current&&(e=U.current,null!=(n=this.appliedHoverItemIndexAutoruns)||(n=U.getAutorunArray(),null!=(this.appliedHoverItemIndexAutoruns=n)))&&e.bindToAutorunArray(n),t},set_appliedHoverItemIndex:function(e){var n=this.unobservedAppliedHoverItemIndex;return n!=(this.unobservedAppliedHoverItemIndex=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitAppliedHoverItemIndexChange(e,n),null!=(n=this.appliedHoverItemIndexAutoruns))&&(this.appliedHoverItemIndexAutoruns=null,U.invalidateAutorunArray(n)),e},invalidateAppliedHoverItemIndex:function(){var e=this.unobservedAppliedHoverItemIndex,e=(this.emitAppliedHoverItemIndexChange(e,e),this.appliedHoverItemIndexAutoruns);null!=e&&(this.appliedHoverItemIndexAutoruns=null,U.invalidateAutorunArray(e))},unobservedAppliedHoverItemIndex:null,__cbOnAppliedHoverItemIndexChange:null,__cbOnceAppliedHoverItemIndexChange:null,__cbOnOwnerUnbindAppliedHoverItemIndexChange:null,__cbOnceOwnerUnbindAppliedHoverItemIndexChange:null,emitAppliedHoverItemIndexChange:function(e,n){var t=0;if(null!=this.__cbOnAppliedHoverItemIndexChange&&(t+=this.__cbOnAppliedHoverItemIndexChange.length),null!=this.__cbOnceAppliedHoverItemIndexChange&&(t+=this.__cbOnceAppliedHoverItemIndexChange.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnAppliedHoverItemIndexChange)for(var s=0,h=this.__cbOnAppliedHoverItemIndexChange.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnAppliedHoverItemIndexChange[a],++r):--t}if(null!=this.__cbOnceAppliedHoverItemIndexChange){for(var o=null,c=null,s=0,h=this.__cbOnceAppliedHoverItemIndexChange.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceAppliedHoverItemIndexChange[a],this.__cbOnceAppliedHoverItemIndexChange[a]=null,u=this.__cbOnceOwnerUnbindAppliedHoverItemIndexChange[a],(this.__cbOnceOwnerUnbindAppliedHoverItemIndexChange[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindAppliedHoverItemIndexChange[a]),c.push(this.__cbOnceAppliedHoverItemIndexChange[a]))}this.__cbOnceOwnerUnbindAppliedHoverItemIndexChange=o,this.__cbOnceAppliedHoverItemIndexChange=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onAppliedHoverItemIndexChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event appliedHoverItemIndexChange because owner is destroyed!");var l=function(e){null!=t&&(i.offAppliedHoverItemIndexChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindAppliedHoverItemIndexChange&&(this.__cbOnOwnerUnbindAppliedHoverItemIndexChange=[]),this.__cbOnOwnerUnbindAppliedHoverItemIndexChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindAppliedHoverItemIndexChange&&(this.__cbOnOwnerUnbindAppliedHoverItemIndexChange=[]),this.__cbOnOwnerUnbindAppliedHoverItemIndexChange.push(null);null==this.__cbOnAppliedHoverItemIndexChange&&(this.__cbOnAppliedHoverItemIndexChange=[]),this.__cbOnAppliedHoverItemIndexChange.push(t)},onceAppliedHoverItemIndexChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event appliedHoverItemIndexChange because owner is destroyed!");var l=function(e){null!=t&&(i.offAppliedHoverItemIndexChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindAppliedHoverItemIndexChange&&(this.__cbOnceOwnerUnbindAppliedHoverItemIndexChange=[]),this.__cbOnceOwnerUnbindAppliedHoverItemIndexChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindAppliedHoverItemIndexChange&&(this.__cbOnceOwnerUnbindAppliedHoverItemIndexChange=[]),this.__cbOnceOwnerUnbindAppliedHoverItemIndexChange.push(null);null==this.__cbOnceAppliedHoverItemIndexChange&&(this.__cbOnceAppliedHoverItemIndexChange=[]),this.__cbOnceAppliedHoverItemIndexChange.push(t)},offAppliedHoverItemIndexChange:function(e){if(null!=e){var n;null!=this.__cbOnAppliedHoverItemIndexChange&&-1!=(n=this.__cbOnAppliedHoverItemIndexChange.indexOf(e))&&(this.__cbOnAppliedHoverItemIndexChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindAppliedHoverItemIndexChange[n])&&r(),this.__cbOnOwnerUnbindAppliedHoverItemIndexChange.splice(n,1)),null!=this.__cbOnceAppliedHoverItemIndexChange&&-1!=(n=this.__cbOnceAppliedHoverItemIndexChange.indexOf(e))&&(this.__cbOnceAppliedHoverItemIndexChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindAppliedHoverItemIndexChange[n])&&r(),this.__cbOnceOwnerUnbindAppliedHoverItemIndexChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindAppliedHoverItemIndexChange){for(var t=0,i=this.__cbOnOwnerUnbindAppliedHoverItemIndexChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindAppliedHoverItemIndexChange[l])&&r()}this.__cbOnOwnerUnbindAppliedHoverItemIndexChange=null}if(null!=this.__cbOnceOwnerUnbindAppliedHoverItemIndexChange){for(t=0,i=this.__cbOnceOwnerUnbindAppliedHoverItemIndexChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindAppliedHoverItemIndexChange[l])&&r()}this.__cbOnceOwnerUnbindAppliedHoverItemIndexChange=null}this.__cbOnAppliedHoverItemIndexChange=null,this.__cbOnceAppliedHoverItemIndexChange=null}},listensAppliedHoverItemIndexChange:function(){return null!=this.__cbOnAppliedHoverItemIndexChange&&0<this.__cbOnAppliedHoverItemIndexChange.length||null!=this.__cbOnceAppliedHoverItemIndexChange&&0<this.__cbOnceAppliedHoverItemIndexChange.length},updateTitle:function(){var e=this.get_title();null!=e?(this.titleTextView.set_content(e),this.titleTextView.set_active(!0)):(this.titleTextView.set_content(""),this.titleTextView.set_active(!1))},updateSubTitle:function(){var e=this.get_subTitle();null!=e?(this.subTitleTextView.set_content(e),this.subTitleTextView.set_active(!0)):(this.subTitleTextView.set_content(""),this.subTitleTextView.set_active(!1))},layoutTitle:function(){this.titleTextView.text.clipText(0,0,this.get_width()-this.titleTextView.text.x-this.titleTextView.x,999999999)},layoutSubTitle:function(){this.subTitleTextView.text.clipText(0,0,this.get_width()-this.subTitleTextView.text.x-this.subTitleTextView.x,999999999)},updateIcons:function(){var n,t,i,l,r=this,e=null!=this.get_handleTrash(),s=null!=this.get_handleLock(),h=null!=this.get_handleDuplicate(),a=null!=this.get_kindIcon(),o=e||s||a;U.unobserve(),null!=this.iconsView&&this.iconsView.destroy(),o?(this.iconsView=new Ub,this.iconsView.set_paddingRight(8),(o=this.iconsView).set_viewWidth(-60002),o.set_viewHeight(-60002),this.iconsView.set_align(En.RIGHT),this.add(this.iconsView),a?(this.titleTextView.set_paddingLeft(22),this.subTitleTextView.set_paddingLeft(22),(n=new gi).set_icon(this.get_kindIcon()),n.set_viewWidth(25),n.set_viewHeight(-60002),n.set_pointSize(20),n.set_paddingLeft(2),n.autorun(function(){var e=r.get_theme();null==e&&(e=te.get_context().get_theme()),U.unobserve(),n.set_textColor(e.get_iconColor())}),this.columnLayout.add(n),this.iconsView.add(n),(o=new f0).flags|=16,o.set_viewWidth(-60002),o.set_viewHeight(-60002),this.iconsView.add(o)):(this.titleTextView.set_paddingLeft(0),this.subTitleTextView.set_paddingLeft(0)),h&&((t=new Oi).set_icon(59458),Pi.tooltip(t,"Duplicate"),t.set_viewWidth(21),t.set_viewHeight(-60002),t.set_pointSize(14),t.onClick(this,this.get_handleDuplicate()),t.autorun(function(){var e=r.get_theme();null==e&&(e=te.get_context().get_theme()),U.unobserve(),t.set_theme(e)}),this.iconsView.add(t)),s&&((i=new Oi).autorun(function(){i.set_icon(r.get_locked()?59415:59414),Pi.tooltip(i,r.get_locked()?"Unlock":"Lock")}),i.set_viewWidth(21),i.set_viewHeight(-60002),i.set_pointSize(14),i.onClick(this,this.get_handleLock()),i.autorun(function(){var e=r.get_theme();null==e&&(e=te.get_context().get_theme()),U.unobserve(),i.set_theme(e)}),this.iconsView.add(i)),e&&((l=new Oi).set_icon(59460),l.set_viewWidth(21),l.set_viewHeight(-60002),l.set_pointSize(14),Pi.tooltip(l,"Delete"),l.onClick(this,this.get_handleTrash()),l.autorun(function(){var e=r.get_theme();null==e&&(e=te.get_context().get_theme()),U.unobserve(),l.set_theme(e)}),this.iconsView.add(l))):(this.titleTextView.set_paddingLeft(0),this.subTitleTextView.set_paddingLeft(0)),U.reobserve()},updateStyle:function(){var e,n,t,i,l,r,s,h,a=this.get_theme(),o=(null==a&&(a=te.get_context().get_theme()),this.get_inputStyle()?this.columnLayout.padding(6,6):this.columnLayout.padding(8,8),this.get_selected());o?(this.flags&=-17,this.set_alpha(1),this.get_inputStyle()?(this.color=a.get_lightBackgroundColor(),0!=this.borderLeftSize&&(this.borderLeftSize=0,this.updateBorder()),0!=this.borderRightSize&&(this.borderRightSize=0,this.updateBorder())):(n=a.get_mediumBackgroundColor(),l=(((t=a.get_selectionBorderColor())>>16&255)-(n>>16&255))*(i=null==(i=.1)?.5:i)+(n>>16&255)|0,this.color=((0&65535|(255<l?255:l<0?0:l)<<16)&16711935|(255<(r=((t>>8&255)-(n>>8&255))*i+(n>>8&255)|0)?255:r<0?0:r)<<8)&16776960|(255<(s=((255&t)-(255&n))*i+(255&n)|0)?255:s<0?0:s),h=a.get_selectionBorderColor(),this.borderLeftColor!=h&&(this.borderLeftColor=h,0<this.borderSize||0<this.borderLeftSize)&&this.updateBorder(),h=a.get_selectionBorderColor(),this.borderRightColor!=h&&(this.borderRightColor=h,0<this.borderSize||0<this.borderRightSize)&&this.updateBorder(),h=a.get_selectionBorderColor(),this.borderTopColor!=h&&(this.borderTopColor=h,0<this.borderSize||0<this.borderTopSize)&&this.updateBorder(),h=a.get_selectionBorderColor(),this.borderBottomColor!=h&&(this.borderBottomColor=h,0<this.borderSize||0<this.borderBottomSize)&&this.updateBorder(),1!=this.borderLeftSize&&(this.borderLeftSize=1,this.updateBorder()),1!=this.borderRightSize&&(this.borderRightSize=1,this.updateBorder()),1!=this.borderTopSize&&(this.borderTopSize=1,this.updateBorder()))):this.get_locked()&&!this.get_inputStyle()?(this.set_alpha(1),this.flags&=-17,0!=this.borderLeftSize&&(this.borderLeftSize=0,this.updateBorder()),0!=this.borderRightSize&&(this.borderRightSize=0,this.updateBorder()),0!=this.borderTopSize&&(this.borderTopSize=0,this.updateBorder()),this.color=a.get_darkBackgroundColor()):(this.set_alpha(1),this.flags&=-17,0!=this.borderLeftSize&&(this.borderLeftSize=0,this.updateBorder()),0!=this.borderRightSize&&(this.borderRightSize=0,this.updateBorder()),0!=this.borderTopSize&&(this.borderTopSize=0,this.updateBorder()),null!=this.get_collectionView()&&this.get_collectionView().get_scrolling()?-1!=this.get_appliedHoverItemIndex()&&this.get_appliedHoverItemIndex()==this.get_itemIndex()?this.color=a.get_lightBackgroundColor():this.get_inputStyle()?this.color=a.get_darkBackgroundColor():this.color=a.get_mediumBackgroundColor():this.get_hover()?(this.set_appliedHoverItemIndex(this.get_itemIndex()),this.color=a.get_lightBackgroundColor()):(this.set_appliedHoverItemIndex(-1),this.get_inputStyle()?this.color=a.get_darkBackgroundColor():this.color=a.get_mediumBackgroundColor())),this.get_locked()?(e=this.titleTextView,n=a.get_lightTextColor(),l=(((t=this.color)>>16&255)-(n>>16&255))*(i=null==(i=.4)?.5:i)+(n>>16&255)|0,e.set_textColor(((0&65535|(255<l?255:l<0?0:l)<<16)&16711935|(255<(r=((t>>8&255)-(n>>8&255))*i+(n>>8&255)|0)?255:r<0?0:r)<<8)&16776960|(255<(s=((255&t)-(255&n))*i+(255&n)|0)?255:s<0?0:s)),e=this.subTitleTextView,n=a.get_darkTextColor(),l=(((t=this.color)>>16&255)-(n>>16&255))*(i=null==(i=.4)?.5:i)+(n>>16&255)|0,e.set_textColor(((0&65535|(255<l?255:l<0?0:l)<<16)&16711935|(255<(r=((t>>8&255)-(n>>8&255))*i+(n>>8&255)|0)?255:r<0?0:r)<<8)&16776960|(255<(s=((255&t)-(255&n))*i+(255&n)|0)?255:s<0?0:s))):(this.titleTextView.set_textColor(a.get_lightTextColor()),this.subTitleTextView.set_textColor(a.get_darkTextColor())),this.titleTextView.set_font(a.get_mediumFont()),this.subTitleTextView.set_font(a.get_mediumFont()),o||(h=a.get_mediumBorderColor(),this.borderBottomColor!=h&&(this.borderBottomColor=h,0<this.borderSize||0<this.borderBottomSize)&&this.updateBorder()),this.get_inputStyle()&&this.get_displaysEmptyValue()?(this.titleTextView.text.set_skewX(8),this.titleTextView.text.set_alpha(.8)):(this.titleTextView.text.set_skewX(0),this.titleTextView.text.set_alpha(1))},bindDragDrop:function(e,t){var n,i=this;null==bi._notVisibleTransform&&(bi._notVisibleTransform=new l,(n=bi._notVisibleTransform).tx+=-99999999,n.ty+=-99999999,n.changedDirty=!0),this.dragDrop=new fi(null,e,$bind(this,this.createDraggingVisual),$bind(this,this.releaseDraggingVisual)),this.component("dragDrop",this.dragDrop),this.dragDrop.onDraggingChange(this,function(e,n){n&&!e&&t(i.dragOnItemIndex),i.handleDragChange(e,n)}),this.dragDrop.autorun($bind(this,this.updateFromDrag))},unbindDragDrop:function(){null!=this.dragDrop&&(this.dragDrop.destroy(),this.dragDrop=null,this.set_dragging(!1))},cloneForDragDrop:function(){var e=new bi;return e.set_theme(this.get_theme()),e.set_selected(this.get_selected()),e.set_title(this.get_title()),e.set_subTitle(this.get_subTitle()),e.set_itemIndex(this.get_itemIndex()),e.set_inputStyle(this.get_inputStyle()),e.set_displaysEmptyValue(this.get_displaysEmptyValue()),e.set_kindIcon(this.get_kindIcon()),e.set_locked(this.get_locked()),e.set_handleTrash(this.get_handleTrash()),e.set_handleLock(this.get_handleLock()),e.set_handleDuplicate(this.get_handleDuplicate()),e.set_clonedForDragging(!0),e},createDraggingVisual:function(){var e=this.cloneForDragDrop(),n=(e.set_touchable(!1),e.set_depth(9999),this.get_width()),t=this.get_height(),n=(e.set_viewWidth(n),e.set_viewHeight(t),e.computeSize(this.get_width(),this.get_height(),0,!0),null!=e.computedSize&&(t=e.computedSize.computedHeight,e.set_width(e.computedSize.computedWidth),e.set_height(t)),this.y);return e.set_x(this.x),e.set_y(n),this.parent.add(e),e},releaseDraggingVisual:function(e){e.destroy()},firstEnabledParentScroller:function(){for(var e=this.firstParentWithClass(et);null!=e&&!e.scrollEnabled;)e=e.firstParentWithClass(et);return e},handleDragChange:function(e,n){if(e!=n)if(this.set_dragging(e),e){this.dragAutoScroll=0,this.draggingCellDragY=0,this.set_transform(bi._notVisibleTransform);n=this.firstEnabledParentScroller();null!=n&&(this.dragStartScrollY=-n.scrollTransform.ty),he.app.onUpdate(this.dragDrop,$bind(this,this.scrollFromDragIfNeeded))}else{this.dragAutoScroll=0,this.set_transform(null);for(var t=0,i=this.parent.children;t<i.length;){var l=i[t];++t,l!=this&&l instanceof bi&&mc.transition(l,null,0,function(e){Mt.set_transform(e,null)})}he.app.offUpdate($bind(this,this.scrollFromDragIfNeeded))}},updateFromDrag:function(){var e,n,t,i,l,r=this.dragDrop.get_dragging();this.draggingCellDragY=this.dragDrop.get_dragY(),U.unobserve(),r&&(r=0,null!=(e=this.firstEnabledParentScroller())&&(r=-e.scrollTransform.ty-this.dragStartScrollY),this.draggingCell=this.dragDrop.draggingVisual,t=this.draggingCell,n=this.y+this.draggingCellDragY+r,t.set_x(this.x),t.set_y(n),this.updateOtherCellsFromDrag(),e=this.firstEnabledParentScroller(),t=this.firstParentWithClass(et),null!=e)&&((null!=t?t:e)!=e?(e.visualToScreen(0,0,bi._point),n=bi._point.y,e.visualToScreen(0,e.get_height(),bi._point),t=bi._point.y,this.draggingCell.visualToScreen(0,0,bi._point),i=bi._point.y,this.draggingCell.visualToScreen(0,this.draggingCell.get_height(),bi._point),l=bi._point.y,this.dragAutoScroll=t<l?l-t:i<n?i-n:0):this.y+this.get_height()+this.draggingCellDragY+r>e.get_height()+-e.scrollTransform.ty?this.dragAutoScroll=this.y+this.get_height()+this.draggingCellDragY+r-(e.get_height()+-e.scrollTransform.ty):this.y+this.draggingCellDragY+r<-e.scrollTransform.ty?this.dragAutoScroll=this.y+this.draggingCellDragY+r- -e.scrollTransform.ty:this.dragAutoScroll=0),U.reobserve()},updateOtherCellsFromDrag:function(){var e=this.get_height();this.dragOnItemIndex=this.get_itemIndex();for(var n=0,t=this.parent.children;n<t.length;){var i,r,s=t[n];++n,s!=this&&s instanceof bi&&(null==(s=s).transform&&s.set_transform(new l),r=[i=s.dragTargetTy],this.get_itemIndex()>s.get_itemIndex()?this.draggingCell.y<s.y+.5*s.get_height()?(this.dragOnItemIndex>s.get_itemIndex()&&(this.dragOnItemIndex=s.get_itemIndex()),r[0]=e):r[0]=0:this.get_itemIndex()<s.get_itemIndex()&&this.draggingCell.y>s.y-.5*s.get_height()?(this.dragOnItemIndex<s.get_itemIndex()&&(this.dragOnItemIndex=s.get_itemIndex()),r[0]=-e):r[0]=0,r[0]!=i)&&(s.dragTargetTy=r[0],mc.transition(s,null,.1,function(n){return function(e){Mt.get_transform(e).ty=n[0],Mt.get_transform(e).changedDirty=!0}}(r)))}},scrollFromDragIfNeeded:function(e){var n,t;0!=this.dragAutoScroll&&null!=(t=this.firstEnabledParentScroller())&&(n=-t.scrollTransform.ty,e=-t.scrollTransform.ty+this.dragAutoScroll*e*10,t.scrollTransform.ty!=-e&&(t.scrollTransform.ty=-e,t.scrollTransform.changedDirty=!0),t.scrollToBounds(),-t.scrollTransform.ty!=n)&&(null!=this.draggingCell&&(e=-t.scrollTransform.ty-this.dragStartScrollY,n=this.draggingCell,t=this.y+this.draggingCellDragY+e,n.set_x(this.x),n.set_y(t)),this.updateOtherCellsFromDrag())},unbindEvents:function(){Ab.prototype.unbindEvents.call(this),this.offObservedDirty(),this.offThemeChange(),this.offSelectedChange(),this.offTitleChange(),this.offSubTitleChange(),this.offItemIndexChange(),this.offCollectionViewChange(),this.offInputStyleChange(),this.offDisplaysEmptyValueChange(),this.offLockedChange(),this.offKindIconChange(),this.offHandleTrashChange(),this.offHandleLockChange(),this.offHandleDuplicateChange(),this.offDraggingChange(),this.offClonedForDraggingChange(),this.offHoverChange(),this.offAppliedHoverItemIndexChange()},__class__:bi,__properties__:$extend(Ab.prototype.__properties__,{set_appliedHoverItemIndex:"set_appliedHoverItemIndex",get_appliedHoverItemIndex:"get_appliedHoverItemIndex",set_hover:"set_hover",get_hover:"get_hover",set_clonedForDragging:"set_clonedForDragging",get_clonedForDragging:"get_clonedForDragging",set_dragging:"set_dragging",get_dragging:"get_dragging",set_handleDuplicate:"set_handleDuplicate",get_handleDuplicate:"get_handleDuplicate",set_handleLock:"set_handleLock",get_handleLock:"get_handleLock",set_handleTrash:"set_handleTrash",get_handleTrash:"get_handleTrash",set_kindIcon:"set_kindIcon",get_kindIcon:"get_kindIcon",set_locked:"set_locked",get_locked:"get_locked",set_displaysEmptyValue:"set_displaysEmptyValue",get_displaysEmptyValue:"get_displaysEmptyValue",set_inputStyle:"set_inputStyle",get_inputStyle:"get_inputStyle",set_collectionView:"set_collectionView",get_collectionView:"get_collectionView",set_unobservedItemIndex:"set_unobservedItemIndex",set_itemIndex:"set_itemIndex",get_itemIndex:"get_itemIndex",set_subTitle:"set_subTitle",get_subTitle:"get_subTitle",set_title:"set_title",get_title:"get_title",set_selected:"set_selected",get_selected:"get_selected",set_theme:"set_theme",get_theme:"get_theme"})}),function(){this.unobservedIcon=59393,this.iconAutoruns=null,this.observedDirty=!1;var n=this;w1.call(this),this.set_anchorX(.5),this.set_anchorY(.5),this.set_align(_t.CENTER),this.set_verticalAlign(En.CENTER),this.set_pointSize(16),te.get_context().get_assets().ensureFont("font:entypo",null,null,function(e){n.set_font(e.get_font()),n.set_preRenderedSize(20),n.autorun($bind(n,n.updateContent))})}),Oi=((E["elements.EntypoIconView"]=gi).__name__="elements.EntypoIconView",gi.__interfaces__=[s],gi.__super__=w1,gi.prototype=$extend(w1.prototype,{__cbOnObservedDirty:null,__cbOnceObservedDirty:null,__cbOnOwnerUnbindObservedDirty:null,__cbOnceOwnerUnbindObservedDirty:null,emitObservedDirty:function(e,n){var t=0;if(null!=this.__cbOnObservedDirty&&(t+=this.__cbOnObservedDirty.length),null!=this.__cbOnceObservedDirty&&(t+=this.__cbOnceObservedDirty.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnObservedDirty)for(var s=0,h=this.__cbOnObservedDirty.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnObservedDirty[a],++r):--t}if(null!=this.__cbOnceObservedDirty){for(var o=null,c=null,s=0,h=this.__cbOnceObservedDirty.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceObservedDirty[a],this.__cbOnceObservedDirty[a]=null,u=this.__cbOnceOwnerUnbindObservedDirty[a],(this.__cbOnceOwnerUnbindObservedDirty[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindObservedDirty[a]),c.push(this.__cbOnceObservedDirty[a]))}this.__cbOnceOwnerUnbindObservedDirty=o,this.__cbOnceObservedDirty=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onObservedDirty:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event observedDirty because owner is destroyed!");var l=function(e){null!=t&&(i.offObservedDirty(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push(null);null==this.__cbOnObservedDirty&&(this.__cbOnObservedDirty=[]),this.__cbOnObservedDirty.push(t)},onceObservedDirty:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event observedDirty because owner is destroyed!");var l=function(e){null!=t&&(i.offObservedDirty(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push(null);null==this.__cbOnceObservedDirty&&(this.__cbOnceObservedDirty=[]),this.__cbOnceObservedDirty.push(t)},offObservedDirty:function(e){if(null!=e){var n;null!=this.__cbOnObservedDirty&&-1!=(n=this.__cbOnObservedDirty.indexOf(e))&&(this.__cbOnObservedDirty.splice(n,1),null!=(r=this.__cbOnOwnerUnbindObservedDirty[n])&&r(),this.__cbOnOwnerUnbindObservedDirty.splice(n,1)),null!=this.__cbOnceObservedDirty&&-1!=(n=this.__cbOnceObservedDirty.indexOf(e))&&(this.__cbOnceObservedDirty.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindObservedDirty[n])&&r(),this.__cbOnceOwnerUnbindObservedDirty.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindObservedDirty){for(var t=0,i=this.__cbOnOwnerUnbindObservedDirty.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindObservedDirty[l])&&r()}this.__cbOnOwnerUnbindObservedDirty=null}if(null!=this.__cbOnceOwnerUnbindObservedDirty){for(t=0,i=this.__cbOnceOwnerUnbindObservedDirty.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindObservedDirty[l])&&r()}this.__cbOnceOwnerUnbindObservedDirty=null}this.__cbOnObservedDirty=null,this.__cbOnceObservedDirty=null}},listensObservedDirty:function(){return null!=this.__cbOnObservedDirty&&0<this.__cbOnObservedDirty.length||null!=this.__cbOnceObservedDirty&&0<this.__cbOnceObservedDirty.length},observedDirty:null,iconAutoruns:null,get_icon:function(){var e,n,t=this.unobservedIcon;return null!=U.current&&(e=U.current,null!=(n=this.iconAutoruns)||(n=U.getAutorunArray(),null!=(this.iconAutoruns=n)))&&e.bindToAutorunArray(n),t},set_icon:function(e){var n=this.unobservedIcon;return n!=(this.unobservedIcon=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitIconChange(e,n),null!=(n=this.iconAutoruns))&&(this.iconAutoruns=null,U.invalidateAutorunArray(n)),e},invalidateIcon:function(){var e=this.unobservedIcon,e=(this.emitIconChange(e,e),this.iconAutoruns);null!=e&&(this.iconAutoruns=null,U.invalidateAutorunArray(e))},unobservedIcon:null,__cbOnIconChange:null,__cbOnceIconChange:null,__cbOnOwnerUnbindIconChange:null,__cbOnceOwnerUnbindIconChange:null,emitIconChange:function(e,n){var t=0;if(null!=this.__cbOnIconChange&&(t+=this.__cbOnIconChange.length),null!=this.__cbOnceIconChange&&(t+=this.__cbOnceIconChange.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnIconChange)for(var s=0,h=this.__cbOnIconChange.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnIconChange[a],++r):--t}if(null!=this.__cbOnceIconChange){for(var o=null,c=null,s=0,h=this.__cbOnceIconChange.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceIconChange[a],this.__cbOnceIconChange[a]=null,u=this.__cbOnceOwnerUnbindIconChange[a],(this.__cbOnceOwnerUnbindIconChange[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindIconChange[a]),c.push(this.__cbOnceIconChange[a]))}this.__cbOnceOwnerUnbindIconChange=o,this.__cbOnceIconChange=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onIconChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event iconChange because owner is destroyed!");var l=function(e){null!=t&&(i.offIconChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindIconChange&&(this.__cbOnOwnerUnbindIconChange=[]),this.__cbOnOwnerUnbindIconChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindIconChange&&(this.__cbOnOwnerUnbindIconChange=[]),this.__cbOnOwnerUnbindIconChange.push(null);null==this.__cbOnIconChange&&(this.__cbOnIconChange=[]),this.__cbOnIconChange.push(t)},onceIconChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event iconChange because owner is destroyed!");var l=function(e){null!=t&&(i.offIconChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindIconChange&&(this.__cbOnceOwnerUnbindIconChange=[]),this.__cbOnceOwnerUnbindIconChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindIconChange&&(this.__cbOnceOwnerUnbindIconChange=[]),this.__cbOnceOwnerUnbindIconChange.push(null);null==this.__cbOnceIconChange&&(this.__cbOnceIconChange=[]),this.__cbOnceIconChange.push(t)},offIconChange:function(e){if(null!=e){var n;null!=this.__cbOnIconChange&&-1!=(n=this.__cbOnIconChange.indexOf(e))&&(this.__cbOnIconChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindIconChange[n])&&r(),this.__cbOnOwnerUnbindIconChange.splice(n,1)),null!=this.__cbOnceIconChange&&-1!=(n=this.__cbOnceIconChange.indexOf(e))&&(this.__cbOnceIconChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindIconChange[n])&&r(),this.__cbOnceOwnerUnbindIconChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindIconChange){for(var t=0,i=this.__cbOnOwnerUnbindIconChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindIconChange[l])&&r()}this.__cbOnOwnerUnbindIconChange=null}if(null!=this.__cbOnceOwnerUnbindIconChange){for(t=0,i=this.__cbOnceOwnerUnbindIconChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindIconChange[l])&&r()}this.__cbOnceOwnerUnbindIconChange=null}this.__cbOnIconChange=null,this.__cbOnceIconChange=null}},listensIconChange:function(){return null!=this.__cbOnIconChange&&0<this.__cbOnIconChange.length||null!=this.__cbOnceIconChange&&0<this.__cbOnceIconChange.length},updateContent:function(){var e=this.get_icon();this.set_content(String.fromCodePoint(e))},unbindEvents:function(){w1.prototype.unbindEvents.call(this),this.offObservedDirty(),this.offIconChange()},__class__:gi,__properties__:$extend(w1.prototype.__properties__,{set_icon:"set_icon",get_icon:"get_icon"})}),function(){this.unobservedHoverStyle=!0,this.hoverStyleAutoruns=null,this.unobservedDisabled=!1,this.disabledAutoruns=null,this.unobservedHover=!1,this.hoverAutoruns=null,this.unobservedTheme=null,this.themeAutoruns=null;var n=this,e=(gi.call(this),this.set_transform(new l),new b0),e=(this.component("click",e),e.onClick(this,function(){n.emitClick()}),new Hb(function(e){n.emitLongPress()},e));this.component("longPress",e),this.onPointerDown(this,function(e){n.transform.ty=1,n.transform.changedDirty=!0}),this.onPointerUp(this,function(e){n.transform.ty=0,n.transform.changedDirty=!0}),this.onPointerOver(this,function(e){n.set_hover(!0)}),this.onPointerOut(this,function(e){n.set_hover(!1)}),this.autorun(function(){n.set_touchable(!n.get_disabled())}),this.autorun($bind(this,this.updateStyle))}),O=((E["elements.ClickableIconView"]=Oi).__name__="elements.ClickableIconView",Oi.__super__=gi,Oi.prototype=$extend(gi.prototype,{themeAutoruns:null,get_theme:function(){var e,n,t=this.unobservedTheme;return null!=U.current&&(e=U.current,null!=(n=this.themeAutoruns)||(n=U.getAutorunArray(),null!=(this.themeAutoruns=n)))&&e.bindToAutorunArray(n),t},set_theme:function(e){var n=this.unobservedTheme;return n!=(this.unobservedTheme=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitThemeChange(e,n),null!=(n=this.themeAutoruns))&&(this.themeAutoruns=null,U.invalidateAutorunArray(n)),e},invalidateTheme:function(){var e=this.unobservedTheme,e=(this.emitThemeChange(e,e),this.themeAutoruns);null!=e&&(this.themeAutoruns=null,U.invalidateAutorunArray(e))},unobservedTheme:null,__cbOnThemeChange:null,__cbOnceThemeChange:null,__cbOnOwnerUnbindThemeChange:null,__cbOnceOwnerUnbindThemeChange:null,emitThemeChange:function(e,n){var t=0;if(null!=this.__cbOnThemeChange&&(t+=this.__cbOnThemeChange.length),null!=this.__cbOnceThemeChange&&(t+=this.__cbOnceThemeChange.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnThemeChange)for(var s=0,h=this.__cbOnThemeChange.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnThemeChange[a],++r):--t}if(null!=this.__cbOnceThemeChange){for(var o=null,c=null,s=0,h=this.__cbOnceThemeChange.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceThemeChange[a],this.__cbOnceThemeChange[a]=null,u=this.__cbOnceOwnerUnbindThemeChange[a],(this.__cbOnceOwnerUnbindThemeChange[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindThemeChange[a]),c.push(this.__cbOnceThemeChange[a]))}this.__cbOnceOwnerUnbindThemeChange=o,this.__cbOnceThemeChange=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onThemeChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event themeChange because owner is destroyed!");var l=function(e){null!=t&&(i.offThemeChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindThemeChange&&(this.__cbOnOwnerUnbindThemeChange=[]),this.__cbOnOwnerUnbindThemeChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindThemeChange&&(this.__cbOnOwnerUnbindThemeChange=[]),this.__cbOnOwnerUnbindThemeChange.push(null);null==this.__cbOnThemeChange&&(this.__cbOnThemeChange=[]),this.__cbOnThemeChange.push(t)},onceThemeChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event themeChange because owner is destroyed!");var l=function(e){null!=t&&(i.offThemeChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindThemeChange&&(this.__cbOnceOwnerUnbindThemeChange=[]),this.__cbOnceOwnerUnbindThemeChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindThemeChange&&(this.__cbOnceOwnerUnbindThemeChange=[]),this.__cbOnceOwnerUnbindThemeChange.push(null);null==this.__cbOnceThemeChange&&(this.__cbOnceThemeChange=[]),this.__cbOnceThemeChange.push(t)},offThemeChange:function(e){if(null!=e){var n;null!=this.__cbOnThemeChange&&-1!=(n=this.__cbOnThemeChange.indexOf(e))&&(this.__cbOnThemeChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindThemeChange[n])&&r(),this.__cbOnOwnerUnbindThemeChange.splice(n,1)),null!=this.__cbOnceThemeChange&&-1!=(n=this.__cbOnceThemeChange.indexOf(e))&&(this.__cbOnceThemeChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindThemeChange[n])&&r(),this.__cbOnceOwnerUnbindThemeChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindThemeChange){for(var t=0,i=this.__cbOnOwnerUnbindThemeChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindThemeChange[l])&&r()}this.__cbOnOwnerUnbindThemeChange=null}if(null!=this.__cbOnceOwnerUnbindThemeChange){for(t=0,i=this.__cbOnceOwnerUnbindThemeChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindThemeChange[l])&&r()}this.__cbOnceOwnerUnbindThemeChange=null}this.__cbOnThemeChange=null,this.__cbOnceThemeChange=null}},listensThemeChange:function(){return null!=this.__cbOnThemeChange&&0<this.__cbOnThemeChange.length||null!=this.__cbOnceThemeChange&&0<this.__cbOnceThemeChange.length},hoverAutoruns:null,get_hover:function(){var e,n,t=this.unobservedHover;return null!=U.current&&(e=U.current,null!=(n=this.hoverAutoruns)||(n=U.getAutorunArray(),null!=(this.hoverAutoruns=n)))&&e.bindToAutorunArray(n),t},set_hover:function(e){var n=this.unobservedHover;return n!=(this.unobservedHover=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitHoverChange(e,n),null!=(n=this.hoverAutoruns))&&(this.hoverAutoruns=null,U.invalidateAutorunArray(n)),e},invalidateHover:function(){var e=this.unobservedHover,e=(this.emitHoverChange(e,e),this.hoverAutoruns);null!=e&&(this.hoverAutoruns=null,U.invalidateAutorunArray(e))},unobservedHover:null,__cbOnHoverChange:null,__cbOnceHoverChange:null,__cbOnOwnerUnbindHoverChange:null,__cbOnceOwnerUnbindHoverChange:null,emitHoverChange:function(e,n){var t=0;if(null!=this.__cbOnHoverChange&&(t+=this.__cbOnHoverChange.length),null!=this.__cbOnceHoverChange&&(t+=this.__cbOnceHoverChange.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnHoverChange)for(var s=0,h=this.__cbOnHoverChange.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnHoverChange[a],++r):--t}if(null!=this.__cbOnceHoverChange){for(var o=null,c=null,s=0,h=this.__cbOnceHoverChange.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceHoverChange[a],this.__cbOnceHoverChange[a]=null,u=this.__cbOnceOwnerUnbindHoverChange[a],(this.__cbOnceOwnerUnbindHoverChange[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindHoverChange[a]),c.push(this.__cbOnceHoverChange[a]))}this.__cbOnceOwnerUnbindHoverChange=o,this.__cbOnceHoverChange=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onHoverChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event hoverChange because owner is destroyed!");var l=function(e){null!=t&&(i.offHoverChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindHoverChange&&(this.__cbOnOwnerUnbindHoverChange=[]),this.__cbOnOwnerUnbindHoverChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindHoverChange&&(this.__cbOnOwnerUnbindHoverChange=[]),this.__cbOnOwnerUnbindHoverChange.push(null);null==this.__cbOnHoverChange&&(this.__cbOnHoverChange=[]),this.__cbOnHoverChange.push(t)},onceHoverChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event hoverChange because owner is destroyed!");var l=function(e){null!=t&&(i.offHoverChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindHoverChange&&(this.__cbOnceOwnerUnbindHoverChange=[]),this.__cbOnceOwnerUnbindHoverChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindHoverChange&&(this.__cbOnceOwnerUnbindHoverChange=[]),this.__cbOnceOwnerUnbindHoverChange.push(null);null==this.__cbOnceHoverChange&&(this.__cbOnceHoverChange=[]),this.__cbOnceHoverChange.push(t)},offHoverChange:function(e){if(null!=e){var n;null!=this.__cbOnHoverChange&&-1!=(n=this.__cbOnHoverChange.indexOf(e))&&(this.__cbOnHoverChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindHoverChange[n])&&r(),this.__cbOnOwnerUnbindHoverChange.splice(n,1)),null!=this.__cbOnceHoverChange&&-1!=(n=this.__cbOnceHoverChange.indexOf(e))&&(this.__cbOnceHoverChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindHoverChange[n])&&r(),this.__cbOnceOwnerUnbindHoverChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindHoverChange){for(var t=0,i=this.__cbOnOwnerUnbindHoverChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindHoverChange[l])&&r()}this.__cbOnOwnerUnbindHoverChange=null}if(null!=this.__cbOnceOwnerUnbindHoverChange){for(t=0,i=this.__cbOnceOwnerUnbindHoverChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindHoverChange[l])&&r()}this.__cbOnceOwnerUnbindHoverChange=null}this.__cbOnHoverChange=null,this.__cbOnceHoverChange=null}},listensHoverChange:function(){return null!=this.__cbOnHoverChange&&0<this.__cbOnHoverChange.length||null!=this.__cbOnceHoverChange&&0<this.__cbOnceHoverChange.length},disabledAutoruns:null,get_disabled:function(){var e,n,t=this.unobservedDisabled;return null!=U.current&&(e=U.current,null!=(n=this.disabledAutoruns)||(n=U.getAutorunArray(),null!=(this.disabledAutoruns=n)))&&e.bindToAutorunArray(n),t},set_disabled:function(e){var n=this.unobservedDisabled;return n!=(this.unobservedDisabled=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitDisabledChange(e,n),null!=(n=this.disabledAutoruns))&&(this.disabledAutoruns=null,U.invalidateAutorunArray(n)),e},invalidateDisabled:function(){var e=this.unobservedDisabled,e=(this.emitDisabledChange(e,e),this.disabledAutoruns);null!=e&&(this.disabledAutoruns=null,U.invalidateAutorunArray(e))},unobservedDisabled:null,__cbOnDisabledChange:null,__cbOnceDisabledChange:null,__cbOnOwnerUnbindDisabledChange:null,__cbOnceOwnerUnbindDisabledChange:null,emitDisabledChange:function(e,n){var t=0;if(null!=this.__cbOnDisabledChange&&(t+=this.__cbOnDisabledChange.length),null!=this.__cbOnceDisabledChange&&(t+=this.__cbOnceDisabledChange.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnDisabledChange)for(var s=0,h=this.__cbOnDisabledChange.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnDisabledChange[a],++r):--t}if(null!=this.__cbOnceDisabledChange){for(var o=null,c=null,s=0,h=this.__cbOnceDisabledChange.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceDisabledChange[a],this.__cbOnceDisabledChange[a]=null,u=this.__cbOnceOwnerUnbindDisabledChange[a],(this.__cbOnceOwnerUnbindDisabledChange[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindDisabledChange[a]),c.push(this.__cbOnceDisabledChange[a]))}this.__cbOnceOwnerUnbindDisabledChange=o,this.__cbOnceDisabledChange=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onDisabledChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event disabledChange because owner is destroyed!");var l=function(e){null!=t&&(i.offDisabledChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindDisabledChange&&(this.__cbOnOwnerUnbindDisabledChange=[]),this.__cbOnOwnerUnbindDisabledChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindDisabledChange&&(this.__cbOnOwnerUnbindDisabledChange=[]),this.__cbOnOwnerUnbindDisabledChange.push(null);null==this.__cbOnDisabledChange&&(this.__cbOnDisabledChange=[]),this.__cbOnDisabledChange.push(t)},onceDisabledChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event disabledChange because owner is destroyed!");var l=function(e){null!=t&&(i.offDisabledChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindDisabledChange&&(this.__cbOnceOwnerUnbindDisabledChange=[]),this.__cbOnceOwnerUnbindDisabledChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindDisabledChange&&(this.__cbOnceOwnerUnbindDisabledChange=[]),this.__cbOnceOwnerUnbindDisabledChange.push(null);null==this.__cbOnceDisabledChange&&(this.__cbOnceDisabledChange=[]),this.__cbOnceDisabledChange.push(t)},offDisabledChange:function(e){if(null!=e){var n;null!=this.__cbOnDisabledChange&&-1!=(n=this.__cbOnDisabledChange.indexOf(e))&&(this.__cbOnDisabledChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindDisabledChange[n])&&r(),this.__cbOnOwnerUnbindDisabledChange.splice(n,1)),null!=this.__cbOnceDisabledChange&&-1!=(n=this.__cbOnceDisabledChange.indexOf(e))&&(this.__cbOnceDisabledChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindDisabledChange[n])&&r(),this.__cbOnceOwnerUnbindDisabledChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindDisabledChange){for(var t=0,i=this.__cbOnOwnerUnbindDisabledChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindDisabledChange[l])&&r()}this.__cbOnOwnerUnbindDisabledChange=null}if(null!=this.__cbOnceOwnerUnbindDisabledChange){for(t=0,i=this.__cbOnceOwnerUnbindDisabledChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindDisabledChange[l])&&r()}this.__cbOnceOwnerUnbindDisabledChange=null}this.__cbOnDisabledChange=null,this.__cbOnceDisabledChange=null}},listensDisabledChange:function(){return null!=this.__cbOnDisabledChange&&0<this.__cbOnDisabledChange.length||null!=this.__cbOnceDisabledChange&&0<this.__cbOnceDisabledChange.length},hoverStyleAutoruns:null,get_hoverStyle:function(){var e,n,t=this.unobservedHoverStyle;return null!=U.current&&(e=U.current,null!=(n=this.hoverStyleAutoruns)||(n=U.getAutorunArray(),null!=(this.hoverStyleAutoruns=n)))&&e.bindToAutorunArray(n),t},set_hoverStyle:function(e){var n=this.unobservedHoverStyle;return n!=(this.unobservedHoverStyle=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitHoverStyleChange(e,n),null!=(n=this.hoverStyleAutoruns))&&(this.hoverStyleAutoruns=null,U.invalidateAutorunArray(n)),e},invalidateHoverStyle:function(){var e=this.unobservedHoverStyle,e=(this.emitHoverStyleChange(e,e),this.hoverStyleAutoruns);null!=e&&(this.hoverStyleAutoruns=null,U.invalidateAutorunArray(e))},unobservedHoverStyle:null,__cbOnHoverStyleChange:null,__cbOnceHoverStyleChange:null,__cbOnOwnerUnbindHoverStyleChange:null,__cbOnceOwnerUnbindHoverStyleChange:null,emitHoverStyleChange:function(e,n){var t=0;if(null!=this.__cbOnHoverStyleChange&&(t+=this.__cbOnHoverStyleChange.length),null!=this.__cbOnceHoverStyleChange&&(t+=this.__cbOnceHoverStyleChange.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnHoverStyleChange)for(var s=0,h=this.__cbOnHoverStyleChange.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnHoverStyleChange[a],++r):--t}if(null!=this.__cbOnceHoverStyleChange){for(var o=null,c=null,s=0,h=this.__cbOnceHoverStyleChange.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceHoverStyleChange[a],this.__cbOnceHoverStyleChange[a]=null,u=this.__cbOnceOwnerUnbindHoverStyleChange[a],(this.__cbOnceOwnerUnbindHoverStyleChange[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindHoverStyleChange[a]),c.push(this.__cbOnceHoverStyleChange[a]))}this.__cbOnceOwnerUnbindHoverStyleChange=o,this.__cbOnceHoverStyleChange=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onHoverStyleChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event hoverStyleChange because owner is destroyed!");var l=function(e){null!=t&&(i.offHoverStyleChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindHoverStyleChange&&(this.__cbOnOwnerUnbindHoverStyleChange=[]),this.__cbOnOwnerUnbindHoverStyleChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindHoverStyleChange&&(this.__cbOnOwnerUnbindHoverStyleChange=[]),this.__cbOnOwnerUnbindHoverStyleChange.push(null);null==this.__cbOnHoverStyleChange&&(this.__cbOnHoverStyleChange=[]),this.__cbOnHoverStyleChange.push(t)},onceHoverStyleChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event hoverStyleChange because owner is destroyed!");var l=function(e){null!=t&&(i.offHoverStyleChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindHoverStyleChange&&(this.__cbOnceOwnerUnbindHoverStyleChange=[]),this.__cbOnceOwnerUnbindHoverStyleChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindHoverStyleChange&&(this.__cbOnceOwnerUnbindHoverStyleChange=[]),this.__cbOnceOwnerUnbindHoverStyleChange.push(null);null==this.__cbOnceHoverStyleChange&&(this.__cbOnceHoverStyleChange=[]),this.__cbOnceHoverStyleChange.push(t)},offHoverStyleChange:function(e){if(null!=e){var n;null!=this.__cbOnHoverStyleChange&&-1!=(n=this.__cbOnHoverStyleChange.indexOf(e))&&(this.__cbOnHoverStyleChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindHoverStyleChange[n])&&r(),this.__cbOnOwnerUnbindHoverStyleChange.splice(n,1)),null!=this.__cbOnceHoverStyleChange&&-1!=(n=this.__cbOnceHoverStyleChange.indexOf(e))&&(this.__cbOnceHoverStyleChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindHoverStyleChange[n])&&r(),this.__cbOnceOwnerUnbindHoverStyleChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindHoverStyleChange){for(var t=0,i=this.__cbOnOwnerUnbindHoverStyleChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindHoverStyleChange[l])&&r()}this.__cbOnOwnerUnbindHoverStyleChange=null}if(null!=this.__cbOnceOwnerUnbindHoverStyleChange){for(t=0,i=this.__cbOnceOwnerUnbindHoverStyleChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindHoverStyleChange[l])&&r()}this.__cbOnceOwnerUnbindHoverStyleChange=null}this.__cbOnHoverStyleChange=null,this.__cbOnceHoverStyleChange=null}},listensHoverStyleChange:function(){return null!=this.__cbOnHoverStyleChange&&0<this.__cbOnHoverStyleChange.length||null!=this.__cbOnceHoverStyleChange&&0<this.__cbOnceHoverStyleChange.length},__cbOnClick:null,__cbOnceClick:null,__cbOnOwnerUnbindClick:null,__cbOnceOwnerUnbindClick:null,emitClick:function(){var e=0;if(null!=this.__cbOnClick&&(e+=this.__cbOnClick.length),null!=this.__cbOnceClick&&(e+=this.__cbOnceClick.length),0<e){var n=C.pool(e),t=n.get(),i=0;if(null!=this.__cbOnClick)for(var l=0,r=this.__cbOnClick.length;l<r;){var s=l++;!0?(t.vector[i]=this.__cbOnClick[s],++i):--e}if(null!=this.__cbOnceClick){for(var h=null,a=null,l=0,r=this.__cbOnceClick.length;l<r;){var o,s=l++;!0?(t.vector[i]=this.__cbOnceClick[s],this.__cbOnceClick[s]=null,o=this.__cbOnceOwnerUnbindClick[s],(this.__cbOnceOwnerUnbindClick[s]=null)!=o&&o(),++i):(--e,null==h&&(h=[],a=[],0),h.push(this.__cbOnceOwnerUnbindClick[s]),a.push(this.__cbOnceClick[s]))}this.__cbOnceOwnerUnbindClick=h,this.__cbOnceClick=a}for(l=0,r=e;l<r;){i=l++;(0,t.vector[i])()}n.release(t)}},onClick:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event click because owner is destroyed!");var l=function(e){null!=t&&(i.offClick(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindClick&&(this.__cbOnOwnerUnbindClick=[]),this.__cbOnOwnerUnbindClick.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindClick&&(this.__cbOnOwnerUnbindClick=[]),this.__cbOnOwnerUnbindClick.push(null);null==this.__cbOnClick&&(this.__cbOnClick=[]),this.__cbOnClick.push(t)},onceClick:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event click because owner is destroyed!");var l=function(e){null!=t&&(i.offClick(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindClick&&(this.__cbOnceOwnerUnbindClick=[]),this.__cbOnceOwnerUnbindClick.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindClick&&(this.__cbOnceOwnerUnbindClick=[]),this.__cbOnceOwnerUnbindClick.push(null);null==this.__cbOnceClick&&(this.__cbOnceClick=[]),this.__cbOnceClick.push(t)},offClick:function(e){if(null!=e){var n;null!=this.__cbOnClick&&-1!=(n=this.__cbOnClick.indexOf(e))&&(this.__cbOnClick.splice(n,1),null!=(r=this.__cbOnOwnerUnbindClick[n])&&r(),this.__cbOnOwnerUnbindClick.splice(n,1)),null!=this.__cbOnceClick&&-1!=(n=this.__cbOnceClick.indexOf(e))&&(this.__cbOnceClick.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindClick[n])&&r(),this.__cbOnceOwnerUnbindClick.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindClick){for(var t=0,i=this.__cbOnOwnerUnbindClick.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindClick[l])&&r()}this.__cbOnOwnerUnbindClick=null}if(null!=this.__cbOnceOwnerUnbindClick){for(t=0,i=this.__cbOnceOwnerUnbindClick.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindClick[l])&&r()}this.__cbOnceOwnerUnbindClick=null}this.__cbOnClick=null,this.__cbOnceClick=null}},listensClick:function(){return null!=this.__cbOnClick&&0<this.__cbOnClick.length||null!=this.__cbOnceClick&&0<this.__cbOnceClick.length},__cbOnLongPress:null,__cbOnceLongPress:null,__cbOnOwnerUnbindLongPress:null,__cbOnceOwnerUnbindLongPress:null,emitLongPress:function(){var e=0;if(null!=this.__cbOnLongPress&&(e+=this.__cbOnLongPress.length),null!=this.__cbOnceLongPress&&(e+=this.__cbOnceLongPress.length),0<e){var n=C.pool(e),t=n.get(),i=0;if(null!=this.__cbOnLongPress)for(var l=0,r=this.__cbOnLongPress.length;l<r;){var s=l++;!0?(t.vector[i]=this.__cbOnLongPress[s],++i):--e}if(null!=this.__cbOnceLongPress){for(var h=null,a=null,l=0,r=this.__cbOnceLongPress.length;l<r;){var o,s=l++;!0?(t.vector[i]=this.__cbOnceLongPress[s],this.__cbOnceLongPress[s]=null,o=this.__cbOnceOwnerUnbindLongPress[s],(this.__cbOnceOwnerUnbindLongPress[s]=null)!=o&&o(),++i):(--e,null==h&&(h=[],a=[],0),h.push(this.__cbOnceOwnerUnbindLongPress[s]),a.push(this.__cbOnceLongPress[s]))}this.__cbOnceOwnerUnbindLongPress=h,this.__cbOnceLongPress=a}for(l=0,r=e;l<r;){i=l++;(0,t.vector[i])()}n.release(t)}},onLongPress:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event longPress because owner is destroyed!");var l=function(e){null!=t&&(i.offLongPress(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindLongPress&&(this.__cbOnOwnerUnbindLongPress=[]),this.__cbOnOwnerUnbindLongPress.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindLongPress&&(this.__cbOnOwnerUnbindLongPress=[]),this.__cbOnOwnerUnbindLongPress.push(null);null==this.__cbOnLongPress&&(this.__cbOnLongPress=[]),this.__cbOnLongPress.push(t)},onceLongPress:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event longPress because owner is destroyed!");var l=function(e){null!=t&&(i.offLongPress(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindLongPress&&(this.__cbOnceOwnerUnbindLongPress=[]),this.__cbOnceOwnerUnbindLongPress.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindLongPress&&(this.__cbOnceOwnerUnbindLongPress=[]),this.__cbOnceOwnerUnbindLongPress.push(null);null==this.__cbOnceLongPress&&(this.__cbOnceLongPress=[]),this.__cbOnceLongPress.push(t)},offLongPress:function(e){if(null!=e){var n;null!=this.__cbOnLongPress&&-1!=(n=this.__cbOnLongPress.indexOf(e))&&(this.__cbOnLongPress.splice(n,1),null!=(r=this.__cbOnOwnerUnbindLongPress[n])&&r(),this.__cbOnOwnerUnbindLongPress.splice(n,1)),null!=this.__cbOnceLongPress&&-1!=(n=this.__cbOnceLongPress.indexOf(e))&&(this.__cbOnceLongPress.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindLongPress[n])&&r(),this.__cbOnceOwnerUnbindLongPress.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindLongPress){for(var t=0,i=this.__cbOnOwnerUnbindLongPress.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindLongPress[l])&&r()}this.__cbOnOwnerUnbindLongPress=null}if(null!=this.__cbOnceOwnerUnbindLongPress){for(t=0,i=this.__cbOnceOwnerUnbindLongPress.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindLongPress[l])&&r()}this.__cbOnceOwnerUnbindLongPress=null}this.__cbOnLongPress=null,this.__cbOnceLongPress=null}},listensLongPress:function(){return null!=this.__cbOnLongPress&&0<this.__cbOnLongPress.length||null!=this.__cbOnceLongPress&&0<this.__cbOnceLongPress.length},updateStyle:function(){var e,n,t,i,l,r,s=this.get_theme();null==s&&(s=te.get_context().get_theme()),e=this.get_hover()||!this.get_hoverStyle()?s.get_iconColor():(r=s.get_mediumBackgroundColor(),16776960&(16711935&(65535&0|(255<(i=(((n=s.get_iconColor())>>16&255)-(r>>16&255))*(t=null==(t=.7)?.5:t)+(r>>16&255)|0)?255:i<0?0:i)<<16)|(255<(l=((n>>8&255)-(r>>8&255))*t+(r>>8&255)|0)?255:l<0?0:l)<<8)|(255<(r=((255&n)-(255&r))*t+(255&r)|0)?255:r<0?0:r)),this.get_disabled()&&(e=((0&65535|(255<(i=(((n=s.get_darkBackgroundColor())>>16&255)-(e>>16&255))*(t=null==(t=.5)?.5:t)+(e>>16&255)|0)?255:i<0?0:i)<<16)&16711935|(255<(l=((n>>8&255)-(e>>8&255))*t+(e>>8&255)|0)?255:l<0?0:l)<<8)&16776960|(255<(r=((255&n)-(255&e))*t+(255&e)|0)?255:r<0?0:r)),this.set_textColor(e)},unbindEvents:function(){gi.prototype.unbindEvents.call(this),this.offClick(),this.offLongPress(),this.offThemeChange(),this.offHoverChange(),this.offDisabledChange(),this.offHoverStyleChange()},__class__:Oi,__properties__:$extend(gi.prototype.__properties__,{set_hoverStyle:"set_hoverStyle",get_hoverStyle:"get_hoverStyle",set_disabled:"set_disabled",get_disabled:"get_disabled",set_hover:"set_hover",get_hover:"get_hover",set_theme:"set_theme",get_theme:"get_theme"})}),(E["elements.ColorFieldView"]=L2).__name__="elements.ColorFieldView",L2.__super__=z2,L2.prototype=$extend(z2.prototype,{themeAutoruns:null,get_theme:function(){var e,n,t=this.unobservedTheme;return null!=U.current&&(e=U.current,null!=(n=this.themeAutoruns)||(n=U.getAutorunArray(),null!=(this.themeAutoruns=n)))&&e.bindToAutorunArray(n),t},set_theme:function(e){var n=this.unobservedTheme;return n!=(this.unobservedTheme=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitThemeChange(e,n),null!=(n=this.themeAutoruns))&&(this.themeAutoruns=null,U.invalidateAutorunArray(n)),e},invalidateTheme:function(){var e=this.unobservedTheme,e=(this.emitThemeChange(e,e),this.themeAutoruns);null!=e&&(this.themeAutoruns=null,U.invalidateAutorunArray(e))},unobservedTheme:null,__cbOnThemeChange:null,__cbOnceThemeChange:null,__cbOnOwnerUnbindThemeChange:null,__cbOnceOwnerUnbindThemeChange:null,emitThemeChange:function(e,n){var t=0;if(null!=this.__cbOnThemeChange&&(t+=this.__cbOnThemeChange.length),null!=this.__cbOnceThemeChange&&(t+=this.__cbOnceThemeChange.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnThemeChange)for(var s=0,h=this.__cbOnThemeChange.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnThemeChange[a],++r):--t}if(null!=this.__cbOnceThemeChange){for(var o=null,c=null,s=0,h=this.__cbOnceThemeChange.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceThemeChange[a],this.__cbOnceThemeChange[a]=null,u=this.__cbOnceOwnerUnbindThemeChange[a],(this.__cbOnceOwnerUnbindThemeChange[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindThemeChange[a]),c.push(this.__cbOnceThemeChange[a]))}this.__cbOnceOwnerUnbindThemeChange=o,this.__cbOnceThemeChange=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onThemeChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event themeChange because owner is destroyed!");var l=function(e){null!=t&&(i.offThemeChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindThemeChange&&(this.__cbOnOwnerUnbindThemeChange=[]),this.__cbOnOwnerUnbindThemeChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindThemeChange&&(this.__cbOnOwnerUnbindThemeChange=[]),this.__cbOnOwnerUnbindThemeChange.push(null);null==this.__cbOnThemeChange&&(this.__cbOnThemeChange=[]),this.__cbOnThemeChange.push(t)},onceThemeChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event themeChange because owner is destroyed!");var l=function(e){null!=t&&(i.offThemeChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindThemeChange&&(this.__cbOnceOwnerUnbindThemeChange=[]),this.__cbOnceOwnerUnbindThemeChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindThemeChange&&(this.__cbOnceOwnerUnbindThemeChange=[]),this.__cbOnceOwnerUnbindThemeChange.push(null);null==this.__cbOnceThemeChange&&(this.__cbOnceThemeChange=[]),this.__cbOnceThemeChange.push(t)},offThemeChange:function(e){if(null!=e){var n;null!=this.__cbOnThemeChange&&-1!=(n=this.__cbOnThemeChange.indexOf(e))&&(this.__cbOnThemeChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindThemeChange[n])&&r(),this.__cbOnOwnerUnbindThemeChange.splice(n,1)),null!=this.__cbOnceThemeChange&&-1!=(n=this.__cbOnceThemeChange.indexOf(e))&&(this.__cbOnceThemeChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindThemeChange[n])&&r(),this.__cbOnceOwnerUnbindThemeChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindThemeChange){for(var t=0,i=this.__cbOnOwnerUnbindThemeChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindThemeChange[l])&&r()}this.__cbOnOwnerUnbindThemeChange=null}if(null!=this.__cbOnceOwnerUnbindThemeChange){for(t=0,i=this.__cbOnceOwnerUnbindThemeChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindThemeChange[l])&&r()}this.__cbOnceOwnerUnbindThemeChange=null}this.__cbOnThemeChange=null,this.__cbOnceThemeChange=null}},listensThemeChange:function(){return null!=this.__cbOnThemeChange&&0<this.__cbOnThemeChange.length||null!=this.__cbOnceThemeChange&&0<this.__cbOnceThemeChange.length},setValue:function(e,n){this.set_value(n)},valueAutoruns:null,get_value:function(){var e,n,t=this.unobservedValue;return null!=U.current&&(e=U.current,null!=(n=this.valueAutoruns)||(n=U.getAutorunArray(),null!=(this.valueAutoruns=n)))&&e.bindToAutorunArray(n),t},set_value:function(e){var n=this.unobservedValue;return n!=(this.unobservedValue=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitValueChange(e,n),null!=(n=this.valueAutoruns))&&(this.valueAutoruns=null,U.invalidateAutorunArray(n)),e},invalidateValue:function(){var e=this.unobservedValue,e=(this.emitValueChange(e,e),this.valueAutoruns);null!=e&&(this.valueAutoruns=null,U.invalidateAutorunArray(e))},unobservedValue:null,__cbOnValueChange:null,__cbOnceValueChange:null,__cbOnOwnerUnbindValueChange:null,__cbOnceOwnerUnbindValueChange:null,emitValueChange:function(e,n){var t=0;if(null!=this.__cbOnValueChange&&(t+=this.__cbOnValueChange.length),null!=this.__cbOnceValueChange&&(t+=this.__cbOnceValueChange.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnValueChange)for(var s=0,h=this.__cbOnValueChange.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnValueChange[a],++r):--t}if(null!=this.__cbOnceValueChange){for(var o=null,c=null,s=0,h=this.__cbOnceValueChange.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceValueChange[a],this.__cbOnceValueChange[a]=null,u=this.__cbOnceOwnerUnbindValueChange[a],(this.__cbOnceOwnerUnbindValueChange[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindValueChange[a]),c.push(this.__cbOnceValueChange[a]))}this.__cbOnceOwnerUnbindValueChange=o,this.__cbOnceValueChange=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onValueChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event valueChange because owner is destroyed!");var l=function(e){null!=t&&(i.offValueChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindValueChange&&(this.__cbOnOwnerUnbindValueChange=[]),this.__cbOnOwnerUnbindValueChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindValueChange&&(this.__cbOnOwnerUnbindValueChange=[]),this.__cbOnOwnerUnbindValueChange.push(null);null==this.__cbOnValueChange&&(this.__cbOnValueChange=[]),this.__cbOnValueChange.push(t)},onceValueChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event valueChange because owner is destroyed!");var l=function(e){null!=t&&(i.offValueChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindValueChange&&(this.__cbOnceOwnerUnbindValueChange=[]),this.__cbOnceOwnerUnbindValueChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindValueChange&&(this.__cbOnceOwnerUnbindValueChange=[]),this.__cbOnceOwnerUnbindValueChange.push(null);null==this.__cbOnceValueChange&&(this.__cbOnceValueChange=[]),this.__cbOnceValueChange.push(t)},offValueChange:function(e){if(null!=e){var n;null!=this.__cbOnValueChange&&-1!=(n=this.__cbOnValueChange.indexOf(e))&&(this.__cbOnValueChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindValueChange[n])&&r(),this.__cbOnOwnerUnbindValueChange.splice(n,1)),null!=this.__cbOnceValueChange&&-1!=(n=this.__cbOnceValueChange.indexOf(e))&&(this.__cbOnceValueChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindValueChange[n])&&r(),this.__cbOnceOwnerUnbindValueChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindValueChange){for(var t=0,i=this.__cbOnOwnerUnbindValueChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindValueChange[l])&&r()}this.__cbOnOwnerUnbindValueChange=null}if(null!=this.__cbOnceOwnerUnbindValueChange){for(t=0,i=this.__cbOnceOwnerUnbindValueChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindValueChange[l])&&r()}this.__cbOnceOwnerUnbindValueChange=null}this.__cbOnValueChange=null,this.__cbOnceValueChange=null}},listensValueChange:function(){return null!=this.__cbOnValueChange&&0<this.__cbOnValueChange.length||null!=this.__cbOnceValueChange&&0<this.__cbOnceValueChange.length},disabledAutoruns:null,get_disabled:function(){var e,n,t=this.unobservedDisabled;return null!=U.current&&(e=U.current,null!=(n=this.disabledAutoruns)||(n=U.getAutorunArray(),null!=(this.disabledAutoruns=n)))&&e.bindToAutorunArray(n),t},set_disabled:function(e){var n=this.unobservedDisabled;return this.set_unobservedDisabled(e),n!=e&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitDisabledChange(e,n),null!=(n=this.disabledAutoruns))&&(this.disabledAutoruns=null,U.invalidateAutorunArray(n)),e},invalidateDisabled:function(){var e=this.unobservedDisabled,e=(this.emitDisabledChange(e,e),this.disabledAutoruns);null!=e&&(this.disabledAutoruns=null,U.invalidateAutorunArray(e))},unobservedDisabled:null,__cbOnDisabledChange:null,__cbOnceDisabledChange:null,__cbOnOwnerUnbindDisabledChange:null,__cbOnceOwnerUnbindDisabledChange:null,emitDisabledChange:function(e,n){var t=0;if(null!=this.__cbOnDisabledChange&&(t+=this.__cbOnDisabledChange.length),null!=this.__cbOnceDisabledChange&&(t+=this.__cbOnceDisabledChange.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnDisabledChange)for(var s=0,h=this.__cbOnDisabledChange.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnDisabledChange[a],++r):--t}if(null!=this.__cbOnceDisabledChange){for(var o=null,c=null,s=0,h=this.__cbOnceDisabledChange.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceDisabledChange[a],this.__cbOnceDisabledChange[a]=null,u=this.__cbOnceOwnerUnbindDisabledChange[a],(this.__cbOnceOwnerUnbindDisabledChange[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindDisabledChange[a]),c.push(this.__cbOnceDisabledChange[a]))}this.__cbOnceOwnerUnbindDisabledChange=o,this.__cbOnceDisabledChange=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onDisabledChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event disabledChange because owner is destroyed!");var l=function(e){null!=t&&(i.offDisabledChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindDisabledChange&&(this.__cbOnOwnerUnbindDisabledChange=[]),this.__cbOnOwnerUnbindDisabledChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindDisabledChange&&(this.__cbOnOwnerUnbindDisabledChange=[]),this.__cbOnOwnerUnbindDisabledChange.push(null);null==this.__cbOnDisabledChange&&(this.__cbOnDisabledChange=[]),this.__cbOnDisabledChange.push(t)},onceDisabledChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event disabledChange because owner is destroyed!");var l=function(e){null!=t&&(i.offDisabledChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindDisabledChange&&(this.__cbOnceOwnerUnbindDisabledChange=[]),this.__cbOnceOwnerUnbindDisabledChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindDisabledChange&&(this.__cbOnceOwnerUnbindDisabledChange=[]),this.__cbOnceOwnerUnbindDisabledChange.push(null);null==this.__cbOnceDisabledChange&&(this.__cbOnceDisabledChange=[]),this.__cbOnceDisabledChange.push(t)},offDisabledChange:function(e){if(null!=e){var n;null!=this.__cbOnDisabledChange&&-1!=(n=this.__cbOnDisabledChange.indexOf(e))&&(this.__cbOnDisabledChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindDisabledChange[n])&&r(),this.__cbOnOwnerUnbindDisabledChange.splice(n,1)),null!=this.__cbOnceDisabledChange&&-1!=(n=this.__cbOnceDisabledChange.indexOf(e))&&(this.__cbOnceDisabledChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindDisabledChange[n])&&r(),this.__cbOnceOwnerUnbindDisabledChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindDisabledChange){for(var t=0,i=this.__cbOnOwnerUnbindDisabledChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindDisabledChange[l])&&r()}this.__cbOnOwnerUnbindDisabledChange=null}if(null!=this.__cbOnceOwnerUnbindDisabledChange){for(t=0,i=this.__cbOnceOwnerUnbindDisabledChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindDisabledChange[l])&&r()}this.__cbOnceOwnerUnbindDisabledChange=null}this.__cbOnDisabledChange=null,this.__cbOnceDisabledChange=null}},listensDisabledChange:function(){return null!=this.__cbOnDisabledChange&&0<this.__cbOnDisabledChange.length||null!=this.__cbOnceDisabledChange&&0<this.__cbOnceDisabledChange.length},set_unobservedDisabled:function(e){return this.unobservedDisabled!=e&&(this.unobservedDisabled=e,this.set_touchable(!e),null!=this.editText&&this.editText.set_disabled(e),e)&&this.get_unobservedFocused()&&he.app.screen.set_focusedVisual(null),e},pickerVisibleAutoruns:null,get_pickerVisible:function(){var e,n,t=this.unobservedPickerVisible;return null!=U.current&&(e=U.current,null!=(n=this.pickerVisibleAutoruns)||(n=U.getAutorunArray(),null!=(this.pickerVisibleAutoruns=n)))&&e.bindToAutorunArray(n),t},set_pickerVisible:function(e){var n=this.unobservedPickerVisible;return n!=(this.unobservedPickerVisible=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitPickerVisibleChange(e,n),null!=(n=this.pickerVisibleAutoruns))&&(this.pickerVisibleAutoruns=null,U.invalidateAutorunArray(n)),e},invalidatePickerVisible:function(){var e=this.unobservedPickerVisible,e=(this.emitPickerVisibleChange(e,e),this.pickerVisibleAutoruns);null!=e&&(this.pickerVisibleAutoruns=null,U.invalidateAutorunArray(e))},unobservedPickerVisible:null,__cbOnPickerVisibleChange:null,__cbOncePickerVisibleChange:null,__cbOnOwnerUnbindPickerVisibleChange:null,__cbOnceOwnerUnbindPickerVisibleChange:null,emitPickerVisibleChange:function(e,n){var t=0;if(null!=this.__cbOnPickerVisibleChange&&(t+=this.__cbOnPickerVisibleChange.length),null!=this.__cbOncePickerVisibleChange&&(t+=this.__cbOncePickerVisibleChange.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnPickerVisibleChange)for(var s=0,h=this.__cbOnPickerVisibleChange.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnPickerVisibleChange[a],++r):--t}if(null!=this.__cbOncePickerVisibleChange){for(var o=null,c=null,s=0,h=this.__cbOncePickerVisibleChange.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOncePickerVisibleChange[a],this.__cbOncePickerVisibleChange[a]=null,u=this.__cbOnceOwnerUnbindPickerVisibleChange[a],(this.__cbOnceOwnerUnbindPickerVisibleChange[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindPickerVisibleChange[a]),c.push(this.__cbOncePickerVisibleChange[a]))}this.__cbOnceOwnerUnbindPickerVisibleChange=o,this.__cbOncePickerVisibleChange=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onPickerVisibleChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event pickerVisibleChange because owner is destroyed!");var l=function(e){null!=t&&(i.offPickerVisibleChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindPickerVisibleChange&&(this.__cbOnOwnerUnbindPickerVisibleChange=[]),this.__cbOnOwnerUnbindPickerVisibleChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindPickerVisibleChange&&(this.__cbOnOwnerUnbindPickerVisibleChange=[]),this.__cbOnOwnerUnbindPickerVisibleChange.push(null);null==this.__cbOnPickerVisibleChange&&(this.__cbOnPickerVisibleChange=[]),this.__cbOnPickerVisibleChange.push(t)},oncePickerVisibleChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event pickerVisibleChange because owner is destroyed!");var l=function(e){null!=t&&(i.offPickerVisibleChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindPickerVisibleChange&&(this.__cbOnceOwnerUnbindPickerVisibleChange=[]),this.__cbOnceOwnerUnbindPickerVisibleChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindPickerVisibleChange&&(this.__cbOnceOwnerUnbindPickerVisibleChange=[]),this.__cbOnceOwnerUnbindPickerVisibleChange.push(null);null==this.__cbOncePickerVisibleChange&&(this.__cbOncePickerVisibleChange=[]),this.__cbOncePickerVisibleChange.push(t)},offPickerVisibleChange:function(e){if(null!=e){var n;null!=this.__cbOnPickerVisibleChange&&-1!=(n=this.__cbOnPickerVisibleChange.indexOf(e))&&(this.__cbOnPickerVisibleChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindPickerVisibleChange[n])&&r(),this.__cbOnOwnerUnbindPickerVisibleChange.splice(n,1)),null!=this.__cbOncePickerVisibleChange&&-1!=(n=this.__cbOncePickerVisibleChange.indexOf(e))&&(this.__cbOncePickerVisibleChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindPickerVisibleChange[n])&&r(),this.__cbOnceOwnerUnbindPickerVisibleChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindPickerVisibleChange){for(var t=0,i=this.__cbOnOwnerUnbindPickerVisibleChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindPickerVisibleChange[l])&&r()}this.__cbOnOwnerUnbindPickerVisibleChange=null}if(null!=this.__cbOnceOwnerUnbindPickerVisibleChange){for(t=0,i=this.__cbOnceOwnerUnbindPickerVisibleChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindPickerVisibleChange[l])&&r()}this.__cbOnceOwnerUnbindPickerVisibleChange=null}this.__cbOnPickerVisibleChange=null,this.__cbOncePickerVisibleChange=null}},listensPickerVisibleChange:function(){return null!=this.__cbOnPickerVisibleChange&&0<this.__cbOnPickerVisibleChange.length||null!=this.__cbOncePickerVisibleChange&&0<this.__cbOncePickerVisibleChange.length},keyBindings:null,set_keyBindings:function(e){return this.keyBindings==e?this.keyBindings:(null!=this.keyBindings&&this.keyBindings.destroy(),this.keyBindings=e,null!=this.keyBindings?(this.component("keyBindings",this.keyBindings,!0),this.keyBindings):(this.removeComponent("keyBindings"),null))},container:null,textView:null,textPrefixView:null,editText:null,colorPreview:null,pickerContainer:null,pickerView:null,bubbleTriangle:null,bubbleTopBorderLeft:null,bubbleTopBorderRight:null,updatingFromPicker:null,editingThisFrame:null,focus:function(){z2.prototype.focus.call(this),this.get_focused()||this.editText.focus()},didLostFocus:function(){z2.prototype.didLostFocus.call(this),""==this.textView.text.content?(this.setValue(this,16777215),this.updateFromValue()):L2.RE_HEX_COLOR.match(this.textView.text.content)||this.updateFromValue()},layout:function(){z2.prototype.layout.call(this)},layoutContainer:function(){},updatePickerVisibility:function(){if(null!=this.pickerView&&this.get_pickerVisible()&&pi.get_shared().get_focusedField()!=this){for(var e=he.app.screen.get_focusedVisual(),n=!1;null!=e;){if(e==this.pickerView){n=!0;break}e=e.parent}n||this.set_pickerVisible(!1)}},updatePickerPosition:function(){if(1!=(1&this.pickerContainer.flags)){var e=this.getScrollingLayout(),n=(this.colorPreview.visualToScreen(.5*this.colorPreview.get_width(),.5*this.colorPreview.get_height(),L2._point),L2._point.x),t=L2._point.y;if(te.get_context().view.screenToVisual(n,t,L2._point),n=L2._point.x,t=L2._point.y,null!=this.pickerView)if(null!=e)if(e.screenToVisual(0,0,L2._point),te.get_context().view.screenToVisual(L2._point.x,L2._point.y,L2._point),t+L2._point.y<0){var i=this.pickerContainer;if(i.clip!=e&&(i.clip=e,i.clipDirty=!0,null!=i.children))for(var l=0,r=i.children.length;l<r;){var s=l++;if((u=i.children[s]).clipDirty=!0,null!=u.children)for(var h=0,a=u.children.length;h<a;){var o=h++;u.children[o].set_clipDirty(!0)}}}else{var i=this.pickerContainer,c=null;if(i.clip!=c&&(i.clip=c,i.clipDirty=!0,null!=i.children))for(l=0,r=i.children.length;l<r;){s=l++;if((u=i.children[s]).clipDirty=!0,null!=u.children)for(h=0,a=u.children.length;h<a;){o=h++;u.children[o].set_clipDirty(!0)}}}else{i=this.pickerContainer,c=null;if(i.clip!=c&&(i.clip=c,i.clipDirty=!0,null!=i.children))for(l=0,r=i.children.length;l<r;){s=l++;if((u=i.children[s]).clipDirty=!0,null!=u.children)for(h=0,a=u.children.length;h<a;){o=h++;u.children[o].set_clipDirty(!0)}}}else{i=this.pickerContainer,c=null;if(i.clip!=c&&(i.clip=c,i.clipDirty=!0,null!=i.children))for(l=0,r=i.children.length;l<r;){var u,s=l++;if((u=i.children[s]).clipDirty=!0,null!=u.children)for(h=0,a=u.children.length;h<a;){o=h++;u.children[o].set_clipDirty(!0)}}}n==this.pickerContainer.x&&t==this.pickerContainer.y||(this.pickerContainer.layoutDirty=!0),(i=this.pickerContainer).set_x(n),i.set_y(t)}},updateEditingThisFrame:function(){this.editingThisFrame=null!=this.editText&&this.editText.get_editing()},layoutPickerContainer:function(){var e,n,t;null!=this.pickerView&&(null==(e=!0)&&(e=!1),(t=this.pickerView).computedSize=t.persistedComputedSizeForContext(0,0,15),null==t.computedSize&&t.computeSize(0,0,15,!0),e&&null!=t.computedSize&&(e=t.computedSize.computedHeight,t.set_width(t.computedSize.computedWidth),t.set_height(e)),this.pickerView.visualToScreen(this.pickerView.get_width(),this.pickerView.get_height(),L2._point),te.get_context().view.screenToVisual(L2._point.x,L2._point.y,L2._point),this.pickerView.set_x(Math.max(Math.min(te.get_context().view.get_width()-this.pickerView.get_width()-9-this.pickerContainer.x,-.5*this.pickerView.get_width()),9-this.pickerContainer.x)),e=te.get_context().view.get_height()-this.pickerContainer.y-.5*this.colorPreview.get_height()-9-12,(t=this.bubbleTriangle).set_width(14),t.set_height(7),this.pickerView.get_height()<=e?(this.pickerView.set_y(.5*this.colorPreview.get_height()+12),t=this.bubbleTriangle,n=this.pickerView.y,t.set_x(0),t.set_y(n),this.bubbleTriangle.set_rotation(0),0!=(t=this.pickerView).borderTopSize&&(t.borderTopSize=0,t.updateBorder()),1!=(t=this.pickerView).borderBottomSize&&(t.borderBottomSize=1,t.updateBorder()),(t=this.bubbleTopBorderLeft).set_x(-1),t.set_y(-1),(t=this.bubbleTopBorderLeft).set_width(.5-this.pickerView.x-.5*this.bubbleTriangle.get_width()),t.set_height(1),(t=this.bubbleTopBorderRight).set_x(-this.pickerView.x+.5*this.bubbleTriangle.get_width()),t.set_y(-1)):(this.pickerView.set_y(-this.pickerView.get_height()-.5*this.colorPreview.get_height()-12),t=this.bubbleTriangle,n=this.pickerView.y+this.pickerView.get_height(),t.set_x(0),t.set_y(n),this.bubbleTriangle.set_rotation(180),1!=(t=this.pickerView).borderTopSize&&(t.borderTopSize=1,t.updateBorder()),0!=(t=this.pickerView).borderBottomSize&&(t.borderBottomSize=0,t.updateBorder()),t=this.bubbleTopBorderLeft,n=this.pickerView.get_height(),t.set_x(-1),t.set_y(n),(t=this.bubbleTopBorderLeft).set_width(.5-this.pickerView.x-.5*this.bubbleTriangle.get_width()),t.set_height(1),t=this.bubbleTopBorderRight,e=-this.pickerView.x+.5*this.bubbleTriangle.get_width(),n=this.pickerView.get_height(),t.set_x(e),t.set_y(n)),(t=this.bubbleTopBorderRight).set_width(1+this.pickerView.get_width()-.5*this.bubbleTriangle.get_width()+this.pickerView.x),t.set_height(1))},bindKeyBindings:function(){var n=this;this.set_keyBindings(new Mn),this.keyBindings.bind([Bn.CMD_OR_CTRL,Bn.KEY(97)],function(){var e;n.get_focused()&&((e=n.textView.text.component("selectText")).set_selectionStart(0),e.set_selectionEnd(n.textView.text.content.length))})},destroy:function(){this._lifecycleState<=-2||(this._lifecycleState=-2,this._lifecycleState=-1,z2.prototype.destroy.call(this),null!=this.pickerContainer&&(this.pickerContainer.destroy(),this.pickerContainer=null))},updateFromEditText:function(e){""!=e&&(z.startsWith(e,"#")&&(e=se.substr(e,1,null)),e=(e=8==(e=z.startsWith(e,"0x")?se.substr(e,2,null):e).length?se.substr(e,0,6):e).toUpperCase(),L2.RE_HEX_COLOR.match(e)&&this.setValue(this,I.fromString("0x"+e)),!L2.RE_HEX_COLOR_ANY_LENGTH.match(e)||6<e.length)&&this.updateFromValue()},handleStopEditText:function(){},updateFromValue:function(){var e=this.get_value(),n=(U.unobserve(),!1),n=((n=null==n?!0:n)?"0x":"")+z.hex(e>>16&255,2)+z.hex(e>>8&255,2)+z.hex(255&e,2);this.editText.updateText(n),this.textView.set_content(n),this.colorPreview.color=e,this.colorPreview.layoutDirty=!0,U.reobserve()},updateStyle:function(){var e,n,t=this.get_theme();null==t&&(t=te.get_context().get_theme()),null!=this.editText&&(this.editText.set_selectionColor(t.get_focusedFieldSelectionColor()),this.editText.set_textCursorColor(t.get_lightTextColor())),this.container.color=t.get_darkBackgroundColor(),this.textView.set_textColor(t.get_fieldTextColor()),this.textView.set_font(t.get_mediumFont()),this.textPrefixView.set_textColor(t.get_darkTextColor()),this.textPrefixView.set_font(t.get_mediumFont()),this.get_focused()||this.get_pickerVisible()?(1!=(e=this.container).borderSize&&(e.borderSize=1,e.updateBorder()),e=this.container,n=t.get_focusedFieldBorderColor(),e.borderColor!=n&&(e.borderColor=n,0<e.borderSize||0<e.borderTopSize||0<e.borderBottomSize||0<e.borderLeftSize||0<e.borderRightSize)&&e.updateBorder(),this.textView.set_textAlpha(1)):this.get_disabled()?(0!=(e=this.container).borderSize&&(e.borderSize=0,e.updateBorder()),this.textView.set_textAlpha(.5)):(1!=(e=this.container).borderSize&&(e.borderSize=1,e.updateBorder()),e=this.container,n=t.get_lightBorderColor(),e.borderColor!=n&&(e.borderColor=n,0<e.borderSize||0<e.borderTopSize||0<e.borderBottomSize||0<e.borderLeftSize||0<e.borderRightSize)&&e.updateBorder(),this.textView.set_textAlpha(1))},togglePickerVisible:function(){this.set_pickerVisible(!this.get_pickerVisible())},updatePickerContainer:function(){var _=this,e=this.get_pickerVisible(),n=this.get_value();U.unobserve(),e?(null==this.pickerView&&(this.pickerView=new O(this),this.pickerView.autorun(function(){var e=_.get_theme();U.unobserve(),_.pickerView.set_theme(e)}),this.pickerView.set_depth(10),this.pickerView.onColorValueChange(this.pickerView,function(e,n){_.updatingFromPicker++,_.setValue(_,e),he.app.onceUpdate(_,function(e){_.updatingFromPicker--})}),this.pickerContainer.add(this.pickerView),this.bubbleTopBorderLeft=new p,this.pickerView.add(this.bubbleTopBorderLeft),this.bubbleTopBorderRight=new p,this.pickerView.add(this.bubbleTopBorderRight),this.bubbleTriangle=new C2,(e=this.bubbleTriangle).set_anchorX(.5),e.set_anchorY(1),1.5!=(e=this.bubbleTriangle).borderSize&&(e.borderSize=1.5,e.contentDirty=!0,he.app.visualsContentDirty=!0),this.bubbleTriangle.autorun(function(){var e,n,t,i,l=_.get_theme(),r=(l=null==l?te.get_context().get_theme():l).get_overlayBorderColor(),s=l.get_overlayBorderAlpha(),h=_.bubbleTriangle,a=l.get_overlayBackgroundColor(),h=(h.innerColor!=a&&(c=(o=h.colors[0])>>24&255,h.colors[0]=u=(u=(0|a)-16777216)&16777215|(255<(c=null==c?255:c)?255:c<0?0:c)<<24,c=(o=h.colors[1])>>24&255,h.colors[1]=u=(u=(0|a)-16777216)&16777215|(255<(c=null==c?255:c)?255:c<0?0:c)<<24,c=(o=h.colors[2])>>24&255,h.colors[2]=u=(u=(0|a)-16777216)&16777215|(255<(c=null==c?255:c)?255:c<0?0:c)<<24),_.bubbleTriangle),a=l.get_overlayBackgroundAlpha();if(h.innerAlpha!=a&&(c=e=Math.round(255*a),u=(0|(((0&65535|(255<(n=(o=h.colors[0])>>16&255)?255:n<0?0:n)<<16)&16711935|(255<(t=o>>8&255)?255:t<0?0:t)<<8)&16776960|(255<(i=255&o)?255:i<0?0:i)))-16777216,h.colors[0]=u=u&16777215|(255<(c=null==c?255:c)?255:c<0?0:c)<<24,u=(0|(((0&65535|(255<(n=(o=h.colors[1])>>16&255)?255:n<0?0:n)<<16)&16711935|(255<(t=o>>8&255)?255:t<0?0:t)<<8)&16776960|(255<(i=255&o)?255:i<0?0:i)))-16777216,h.colors[1]=u=u&16777215|(255<(c=null==(c=e)?255:c)?255:c<0?0:c)<<24,u=(0|(((0&65535|(255<(n=(o=h.colors[2])>>16&255)?255:n<0?0:n)<<16)&16711935|(255<(t=o>>8&255)?255:t<0?0:t)<<8)&16776960|(255<(i=255&o)?255:i<0?0:i)))-16777216,h.colors[2]=u=u&16777215|(255<(c=null==(c=e)?255:c)?255:c<0?0:c)<<24),(h=_.bubbleTriangle).borderColor!=r){h.borderColor=r;{var o=h.colors[3],c=o>>24&255,u=(null==c&&(c=255),(0|r)-16777216);h.colors[3]=u=u&16777215|(255<c?255:c<0?0:c)<<24;var c=(o=h.colors[4])>>24&255,u=(0|r)-16777216}h.colors[4]=u=u&16777215|(255<(c=null==c?255:c)?255:c<0?0:c)<<24;var c=(o=h.colors[5])>>24&255,u=(0|r)-16777216;h.colors[5]=u=u&16777215|(255<(c=null==c?255:c)?255:c<0?0:c)<<24;var c=(o=h.colors[6])>>24&255,u=(0|r)-16777216;h.colors[6]=u=u&16777215|(255<(c=null==c?255:c)?255:c<0?0:c)<<24;var c=(o=h.colors[7])>>24&255,u=(0|r)-16777216;h.colors[7]=u=u&16777215|(255<(c=null==c?255:c)?255:c<0?0:c)<<24;var c=(o=h.colors[8])>>24&255,u=(0|r)-16777216;h.colors[8]=u=u&16777215|(255<(c=null==c?255:c)?255:c<0?0:c)<<24;var c=(o=h.colors[9])>>24&255,u=(0|r)-16777216;h.colors[9]=u=u&16777215|(255<(c=null==c?255:c)?255:c<0?0:c)<<24;var c=(o=h.colors[10])>>24&255,u=(0|r)-16777216;h.colors[10]=u=u&16777215|(255<(c=null==c?255:c)?255:c<0?0:c)<<24;var c=(o=h.colors[11])>>24&255,u=(0|r)-16777216;h.colors[11]=u=u&16777215|(255<(c=null==c?255:c)?255:c<0?0:c)<<24;var c=(o=h.colors[12])>>24&255,u=(0|r)-16777216;h.colors[12]=u=u&16777215|(255<(c=null==c?255:c)?255:c<0?0:c)<<24;var c=(o=h.colors[13])>>24&255,u=(0|r)-16777216;h.colors[13]=u=u&16777215|(255<(c=null==c?255:c)?255:c<0?0:c)<<24;var c=(o=h.colors[14])>>24&255,u=(0|r)-16777216;h.colors[14]=u=u&16777215|(255<(c=null==c?255:c)?255:c<0?0:c)<<24}(h=_.bubbleTriangle).borderAlpha!=s&&(h.borderAlpha=s,c=e=Math.round(255*s),u=(0|(((0&65535|(255<(n=(o=h.colors[3])>>16&255)?255:n<0?0:n)<<16)&16711935|(255<(t=o>>8&255)?255:t<0?0:t)<<8)&16776960|(255<(i=255&o)?255:i<0?0:i)))-16777216,h.colors[3]=u=u&16777215|(255<(c=null==c?255:c)?255:c<0?0:c)<<24,u=(0|(((0&65535|(255<(n=(o=h.colors[4])>>16&255)?255:n<0?0:n)<<16)&16711935|(255<(t=o>>8&255)?255:t<0?0:t)<<8)&16776960|(255<(i=255&o)?255:i<0?0:i)))-16777216,h.colors[4]=u=u&16777215|(255<(c=null==(c=e)?255:c)?255:c<0?0:c)<<24,u=(0|(((0&65535|(255<(n=(o=h.colors[5])>>16&255)?255:n<0?0:n)<<16)&16711935|(255<(t=o>>8&255)?255:t<0?0:t)<<8)&16776960|(255<(i=255&o)?255:i<0?0:i)))-16777216,h.colors[5]=u=u&16777215|(255<(c=null==(c=e)?255:c)?255:c<0?0:c)<<24,u=(0|(((0&65535|(255<(n=(o=h.colors[6])>>16&255)?255:n<0?0:n)<<16)&16711935|(255<(t=o>>8&255)?255:t<0?0:t)<<8)&16776960|(255<(i=255&o)?255:i<0?0:i)))-16777216,h.colors[6]=u=u&16777215|(255<(c=null==(c=e)?255:c)?255:c<0?0:c)<<24,u=(0|(((0&65535|(255<(n=(o=h.colors[7])>>16&255)?255:n<0?0:n)<<16)&16711935|(255<(t=o>>8&255)?255:t<0?0:t)<<8)&16776960|(255<(i=255&o)?255:i<0?0:i)))-16777216,h.colors[7]=u=u&16777215|(255<(c=null==(c=e)?255:c)?255:c<0?0:c)<<24,u=(0|(((0&65535|(255<(n=(o=h.colors[8])>>16&255)?255:n<0?0:n)<<16)&16711935|(255<(t=o>>8&255)?255:t<0?0:t)<<8)&16776960|(255<(i=255&o)?255:i<0?0:i)))-16777216,h.colors[8]=u=u&16777215|(255<(c=null==(c=e)?255:c)?255:c<0?0:c)<<24,u=(0|(((0&65535|(255<(n=(o=h.colors[9])>>16&255)?255:n<0?0:n)<<16)&16711935|(255<(t=o>>8&255)?255:t<0?0:t)<<8)&16776960|(255<(i=255&o)?255:i<0?0:i)))-16777216,h.colors[9]=u=u&16777215|(255<(c=null==(c=e)?255:c)?255:c<0?0:c)<<24,u=(0|(((0&65535|(255<(n=(o=h.colors[10])>>16&255)?255:n<0?0:n)<<16)&16711935|(255<(t=o>>8&255)?255:t<0?0:t)<<8)&16776960|(255<(i=255&o)?255:i<0?0:i)))-16777216,h.colors[10]=u=u&16777215|(255<(c=null==(c=e)?255:c)?255:c<0?0:c)<<24,u=(0|(((0&65535|(255<(n=(o=h.colors[11])>>16&255)?255:n<0?0:n)<<16)&16711935|(255<(t=o>>8&255)?255:t<0?0:t)<<8)&16776960|(255<(i=255&o)?255:i<0?0:i)))-16777216,h.colors[11]=u=u&16777215|(255<(c=null==(c=e)?255:c)?255:c<0?0:c)<<24,u=(0|(((0&65535|(255<(n=(o=h.colors[12])>>16&255)?255:n<0?0:n)<<16)&16711935|(255<(t=o>>8&255)?255:t<0?0:t)<<8)&16776960|(255<(i=255&o)?255:i<0?0:i)))-16777216,h.colors[12]=u=u&16777215|(255<(c=null==(c=e)?255:c)?255:c<0?0:c)<<24,u=(0|(((0&65535|(255<(n=(o=h.colors[13])>>16&255)?255:n<0?0:n)<<16)&16711935|(255<(t=o>>8&255)?255:t<0?0:t)<<8)&16776960|(255<(i=255&o)?255:i<0?0:i)))-16777216,h.colors[13]=u=u&16777215|(255<(c=null==(c=e)?255:c)?255:c<0?0:c)<<24,u=(0|(((0&65535|(255<(n=(o=h.colors[14])>>16&255)?255:n<0?0:n)<<16)&16711935|(255<(t=o>>8&255)?255:t<0?0:t)<<8)&16776960|(255<(i=255&o)?255:i<0?0:i)))-16777216,h.colors[14]=u=u&16777215|(255<(c=null==(c=e)?255:c)?255:c<0?0:c)<<24),_.bubbleTopBorderLeft.color=r,_.bubbleTopBorderLeft.set_alpha(s),_.bubbleTopBorderRight.color=r,_.bubbleTopBorderRight.set_alpha(s)}),this.pickerContainer.add(this.bubbleTriangle),this.pickerContainer.set_active(!0),this.updatePickerPosition()),0==this.updatingFromPicker&&this.pickerView.setColorFromRGB(n>>16&255,n>>8&255,255&n)):null!=this.pickerView&&(this.pickerView.destroy(),this.pickerView=null,this.bubbleTriangle.destroy(),this.bubbleTriangle=null,this.pickerContainer.set_active(!1)),U.reobserve()},hitsSelfOrDerived:function(e,n){return!!this._hits(e,n,!1)||!(!this.get_pickerVisible()||null==this.pickerView)&&this.pickerView._hits(e,n,!1)},usesScanCode:function(e){return!!z2.prototype.usesScanCode.call(this,e)||!!(this.editingThisFrame||null!=this.editText&&this.editText.get_editing())||!(!this.get_pickerVisible()||null==this.pickerView||41!=e&&40!=e)},usesKeyCode:function(e){return!!z2.prototype.usesKeyCode.call(this,e)||!!(this.editingThisFrame||null!=this.editText&&this.editText.get_editing())||!(!this.get_pickerVisible()||null==this.pickerView||27!=e&&13!=e)},unbindEvents:function(){z2.prototype.unbindEvents.call(this),this.offThemeChange(),this.offValueChange(),this.offDisabledChange(),this.offPickerVisibleChange()},__class__:L2,__properties__:$extend(z2.prototype.__properties__,{set_keyBindings:"set_keyBindings",set_pickerVisible:"set_pickerVisible",get_pickerVisible:"get_pickerVisible",set_unobservedDisabled:"set_unobservedDisabled",set_disabled:"set_disabled",get_disabled:"get_disabled",set_value:"set_value",get_value:"get_value",set_theme:"set_theme",get_theme:"get_theme"})}),(E["elements.ColorPickerHSBGradientView"]=M2).__name__="elements.ColorPickerHSBGradientView",M2.__super__=f0,M2.prototype=$extend(f0.prototype,{__cbOnUpdateColorFromPointer:null,__cbOnceUpdateColorFromPointer:null,__cbOnOwnerUnbindUpdateColorFromPointer:null,__cbOnceOwnerUnbindUpdateColorFromPointer:null,emitUpdateColorFromPointer:function(){var e=0;if(null!=this.__cbOnUpdateColorFromPointer&&(e+=this.__cbOnUpdateColorFromPointer.length),null!=this.__cbOnceUpdateColorFromPointer&&(e+=this.__cbOnceUpdateColorFromPointer.length),0<e){var n=C.pool(e),t=n.get(),i=0;if(null!=this.__cbOnUpdateColorFromPointer)for(var l=0,r=this.__cbOnUpdateColorFromPointer.length;l<r;){var s=l++;!0?(t.vector[i]=this.__cbOnUpdateColorFromPointer[s],++i):--e}if(null!=this.__cbOnceUpdateColorFromPointer){for(var h=null,a=null,l=0,r=this.__cbOnceUpdateColorFromPointer.length;l<r;){var o,s=l++;!0?(t.vector[i]=this.__cbOnceUpdateColorFromPointer[s],this.__cbOnceUpdateColorFromPointer[s]=null,o=this.__cbOnceOwnerUnbindUpdateColorFromPointer[s],(this.__cbOnceOwnerUnbindUpdateColorFromPointer[s]=null)!=o&&o(),++i):(--e,null==h&&(h=[],a=[],0),h.push(this.__cbOnceOwnerUnbindUpdateColorFromPointer[s]),a.push(this.__cbOnceUpdateColorFromPointer[s]))}this.__cbOnceOwnerUnbindUpdateColorFromPointer=h,this.__cbOnceUpdateColorFromPointer=a}for(l=0,r=e;l<r;){i=l++;(0,t.vector[i])()}n.release(t)}},onUpdateColorFromPointer:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event updateColorFromPointer because owner is destroyed!");var l=function(e){null!=t&&(i.offUpdateColorFromPointer(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindUpdateColorFromPointer&&(this.__cbOnOwnerUnbindUpdateColorFromPointer=[]),this.__cbOnOwnerUnbindUpdateColorFromPointer.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindUpdateColorFromPointer&&(this.__cbOnOwnerUnbindUpdateColorFromPointer=[]),this.__cbOnOwnerUnbindUpdateColorFromPointer.push(null);null==this.__cbOnUpdateColorFromPointer&&(this.__cbOnUpdateColorFromPointer=[]),this.__cbOnUpdateColorFromPointer.push(t)},onceUpdateColorFromPointer:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event updateColorFromPointer because owner is destroyed!");var l=function(e){null!=t&&(i.offUpdateColorFromPointer(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindUpdateColorFromPointer&&(this.__cbOnceOwnerUnbindUpdateColorFromPointer=[]),this.__cbOnceOwnerUnbindUpdateColorFromPointer.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindUpdateColorFromPointer&&(this.__cbOnceOwnerUnbindUpdateColorFromPointer=[]),this.__cbOnceOwnerUnbindUpdateColorFromPointer.push(null);null==this.__cbOnceUpdateColorFromPointer&&(this.__cbOnceUpdateColorFromPointer=[]),this.__cbOnceUpdateColorFromPointer.push(t)},offUpdateColorFromPointer:function(e){if(null!=e){var n;null!=this.__cbOnUpdateColorFromPointer&&-1!=(n=this.__cbOnUpdateColorFromPointer.indexOf(e))&&(this.__cbOnUpdateColorFromPointer.splice(n,1),null!=(r=this.__cbOnOwnerUnbindUpdateColorFromPointer[n])&&r(),this.__cbOnOwnerUnbindUpdateColorFromPointer.splice(n,1)),null!=this.__cbOnceUpdateColorFromPointer&&-1!=(n=this.__cbOnceUpdateColorFromPointer.indexOf(e))&&(this.__cbOnceUpdateColorFromPointer.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindUpdateColorFromPointer[n])&&r(),this.__cbOnceOwnerUnbindUpdateColorFromPointer.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindUpdateColorFromPointer){for(var t=0,i=this.__cbOnOwnerUnbindUpdateColorFromPointer.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindUpdateColorFromPointer[l])&&r()}this.__cbOnOwnerUnbindUpdateColorFromPointer=null}if(null!=this.__cbOnceOwnerUnbindUpdateColorFromPointer){for(t=0,i=this.__cbOnceOwnerUnbindUpdateColorFromPointer.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindUpdateColorFromPointer[l])&&r()}this.__cbOnceOwnerUnbindUpdateColorFromPointer=null}this.__cbOnUpdateColorFromPointer=null,this.__cbOnceUpdateColorFromPointer=null}},listensUpdateColorFromPointer:function(){return null!=this.__cbOnUpdateColorFromPointer&&0<this.__cbOnUpdateColorFromPointer.length||null!=this.__cbOnceUpdateColorFromPointer&&0<this.__cbOnceUpdateColorFromPointer.length},colorValue:null,set_colorValue:function(e){return this.colorValue!=e&&(this.colorValue=e,this.updateTintColor(),this.updatePointerFromColor()),e},movingSpectrum:null,blackGradient:null,tintGradient:null,colorPointer:null,targetPointerColor:null,pointerColorTween:null,movingPointer:null,savedPointerX:null,savedPointerY:null,filter:null,hue:null,updateTintColor:function(e){null!=e&&(this.hue=e);var n=0,t=1-Math.abs(0),i=.5-t/2,e=this.hue,l=t,t=(e%=360)/60,r=l*(1-Math.abs(t%2-1))+i;switch(l+=i,0|t){case 0:n=n&65535|(255<(s=Math.round(255*l))?255:s<0?0:s)<<16;var s=Math.round(255*r),s=(n=n&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*i)),n=n&16776960|(255<s?255:s<0?0:s);break;case 1:s=(n=n&65535|(255<(s=Math.round(255*r))?255:s<0?0:s)<<16,Math.round(255*l)),s=(n=n&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*i));n=n&16776960|(255<s?255:s<0?0:s);break;case 2:s=(n=n&65535|(255<(s=Math.round(255*i))?255:s<0?0:s)<<16,Math.round(255*l)),s=(n=n&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*r));n=n&16776960|(255<s?255:s<0?0:s);break;case 3:s=(n=n&65535|(255<(s=Math.round(255*i))?255:s<0?0:s)<<16,Math.round(255*r)),s=(n=n&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*l));n=n&16776960|(255<s?255:s<0?0:s);break;case 4:s=(n=n&65535|(255<(s=Math.round(255*r))?255:s<0?0:s)<<16,Math.round(255*i)),s=(n=n&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*l));n=n&16776960|(255<s?255:s<0?0:s);break;case 5:s=(n=n&65535|(255<(s=Math.round(255*l))?255:s<0?0:s)<<16,Math.round(255*i)),s=(n=n&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*r));n=n&16776960|(255<s?255:s<0?0:s)}e=n,s=(0|e)-16777216,this.tintGradient.colors[1]=s=s&16777215|-16777216,s=(0|e)-16777216;this.tintGradient.colors[2]=s=s&16777215|-16777216},savePointerPosition:function(){this.savedPointerX=this.colorPointer.x,this.savedPointerY=this.colorPointer.y},restorePointerPosition:function(){this.colorPointer.set_x(this.savedPointerX),this.colorPointer.set_y(this.savedPointerY)},getBrightnessFromPointer:function(){var e=1-this.colorPointer.y/this.get_height();return e=1<(e=e<0?0:e)?1:e},getSaturationFromPointer:function(){var e=this.colorPointer.x/this.get_width();return e=1<(e=e<0?0:e)?1:e},updatePointerFromColor:function(){var s,h=this,e=this.colorValue,n=Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255)),e=this.colorValue,t=(Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))-Math.min((e>>16&255)/255,Math.min((e>>8&255)/255,(255&e)/255)))/Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255)),i=this.colorPointer,t=this.get_width()*t,n=this.get_height()*(1-n),t=(i.set_x(t),i.set_y(n),16777215),e=this.colorValue,n=M2._tuple;null==n&&(n=[0,0,0]),I._hsluvTuple[0]=(e>>16&255)/255,I._hsluvTuple[1]=(e>>8&255)/255,I._hsluvTuple[2]=(255&e)/255,w.rgbToHsluv(I._hsluvTuple,n),n[1]*=.01,n[2]*=.01,.5<M2._tuple[2]&&(t=0),this.movingPointer||this.movingSpectrum?this.targetPointerColor!=t&&(this.targetPointerColor=t,null!=this.pointerColorTween&&(this.pointerColorTween.destroy(),this.pointerColorTween=null),s=this.colorPointer.borderColor,this.pointerColorTween=this.tween(null,.4,0,1,function(e,n){var t=h.colorPointer,i=h.targetPointerColor,l=((i>>16&255)-(s>>16&255))*(e=null==e?.5:e)+(s>>16&255)|0,r=((i>>8&255)-(s>>8&255))*e+(s>>8&255)|0,i=((255&i)-(255&s))*e+(255&s)|0,e=0;e=16776960&(e=16711935&(e=65535&e|(255<l?255:l<0?0:l)<<16)|(255<r?255:r<0?0:r)<<8)|(255<i?255:i<0?0:i);t.borderColor!=e&&(t.borderColor=e,t.autoComputeColors)&&t.computeColors()})):(this.targetPointerColor=t,i=this.colorPointer,e=this.targetPointerColor,i.borderColor!=e&&(i.borderColor=e,i.autoComputeColors)&&i.computeColors())},layout:function(){var e=this.filter,n=this.get_width(),t=this.get_height(),e=(e.set_width(n),e.set_height(t),this.blackGradient),n=this.get_width(),t=this.get_height(),e=(e.set_scaleX(n),e.set_scaleY(t),this.tintGradient),n=this.get_width(),t=this.get_height();e.set_scaleX(n),e.set_scaleY(t),this.updatePointerFromColor()},handlePointerDown:function(e){he.app.screen.onPointerMove(this,$bind(this,this.handlePointerMove)),this.updateColorFromTouchInfo(e),this.movingPointer=!0},handlePointerMove:function(e){this.updateColorFromTouchInfo(e)},handlePointerUp:function(e){he.app.screen.offPointerMove($bind(this,this.handlePointerMove)),this.updateColorFromTouchInfo(e),this.movingPointer=!1},updateColorFromTouchInfo:function(e){this.screenToVisual(e.x,e.y,M2._point);var e=1-M2._point.y/this.get_height(),n=(1<(e=e<0?0:e)&&(e=1),M2._point.x/this.get_width()),n=(this.set_colorValue(I.fromHSB(this.hue,n=1<(n=n<0?0:n)?1:n,e)),this.updatePointerFromColor(),this.emitUpdateColorFromPointer(),this.colorPointer),e=Math.max(0,Math.min(this.get_width(),M2._point.x)),t=Math.max(0,Math.min(this.get_height(),M2._point.y));n.set_x(e),n.set_y(t)},unbindEvents:function(){f0.prototype.unbindEvents.call(this),this.offUpdateColorFromPointer()},__class__:M2,__properties__:$extend(f0.prototype.__properties__,{set_colorValue:"set_colorValue"})}),(E["elements.ColorPickerHSBSpectrumView"]=N2).__name__="elements.ColorPickerHSBSpectrumView",N2.__interfaces__=[s],N2.__super__=f0,N2.prototype=$extend(f0.prototype,{__cbOnObservedDirty:null,__cbOnceObservedDirty:null,__cbOnOwnerUnbindObservedDirty:null,__cbOnceOwnerUnbindObservedDirty:null,emitObservedDirty:function(e,n){var t=0;if(null!=this.__cbOnObservedDirty&&(t+=this.__cbOnObservedDirty.length),null!=this.__cbOnceObservedDirty&&(t+=this.__cbOnceObservedDirty.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnObservedDirty)for(var s=0,h=this.__cbOnObservedDirty.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnObservedDirty[a],++r):--t}if(null!=this.__cbOnceObservedDirty){for(var o=null,c=null,s=0,h=this.__cbOnceObservedDirty.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceObservedDirty[a],this.__cbOnceObservedDirty[a]=null,u=this.__cbOnceOwnerUnbindObservedDirty[a],(this.__cbOnceOwnerUnbindObservedDirty[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindObservedDirty[a]),c.push(this.__cbOnceObservedDirty[a]))}this.__cbOnceOwnerUnbindObservedDirty=o,this.__cbOnceObservedDirty=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onObservedDirty:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event observedDirty because owner is destroyed!");var l=function(e){null!=t&&(i.offObservedDirty(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push(null);null==this.__cbOnObservedDirty&&(this.__cbOnObservedDirty=[]),this.__cbOnObservedDirty.push(t)},onceObservedDirty:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event observedDirty because owner is destroyed!");var l=function(e){null!=t&&(i.offObservedDirty(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push(null);null==this.__cbOnceObservedDirty&&(this.__cbOnceObservedDirty=[]),this.__cbOnceObservedDirty.push(t)},offObservedDirty:function(e){if(null!=e){var n;null!=this.__cbOnObservedDirty&&-1!=(n=this.__cbOnObservedDirty.indexOf(e))&&(this.__cbOnObservedDirty.splice(n,1),null!=(r=this.__cbOnOwnerUnbindObservedDirty[n])&&r(),this.__cbOnOwnerUnbindObservedDirty.splice(n,1)),null!=this.__cbOnceObservedDirty&&-1!=(n=this.__cbOnceObservedDirty.indexOf(e))&&(this.__cbOnceObservedDirty.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindObservedDirty[n])&&r(),this.__cbOnceOwnerUnbindObservedDirty.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindObservedDirty){for(var t=0,i=this.__cbOnOwnerUnbindObservedDirty.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindObservedDirty[l])&&r()}this.__cbOnOwnerUnbindObservedDirty=null}if(null!=this.__cbOnceOwnerUnbindObservedDirty){for(t=0,i=this.__cbOnceOwnerUnbindObservedDirty.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindObservedDirty[l])&&r()}this.__cbOnceOwnerUnbindObservedDirty=null}this.__cbOnObservedDirty=null,this.__cbOnceObservedDirty=null}},listensObservedDirty:function(){return null!=this.__cbOnObservedDirty&&0<this.__cbOnObservedDirty.length||null!=this.__cbOnceObservedDirty&&0<this.__cbOnceObservedDirty.length},observedDirty:null,__cbOnUpdateHueFromPointer:null,__cbOnceUpdateHueFromPointer:null,__cbOnOwnerUnbindUpdateHueFromPointer:null,__cbOnceOwnerUnbindUpdateHueFromPointer:null,emitUpdateHueFromPointer:function(){var e=0;if(null!=this.__cbOnUpdateHueFromPointer&&(e+=this.__cbOnUpdateHueFromPointer.length),null!=this.__cbOnceUpdateHueFromPointer&&(e+=this.__cbOnceUpdateHueFromPointer.length),0<e){var n=C.pool(e),t=n.get(),i=0;if(null!=this.__cbOnUpdateHueFromPointer)for(var l=0,r=this.__cbOnUpdateHueFromPointer.length;l<r;){var s=l++;!0?(t.vector[i]=this.__cbOnUpdateHueFromPointer[s],++i):--e}if(null!=this.__cbOnceUpdateHueFromPointer){for(var h=null,a=null,l=0,r=this.__cbOnceUpdateHueFromPointer.length;l<r;){var o,s=l++;!0?(t.vector[i]=this.__cbOnceUpdateHueFromPointer[s],this.__cbOnceUpdateHueFromPointer[s]=null,o=this.__cbOnceOwnerUnbindUpdateHueFromPointer[s],(this.__cbOnceOwnerUnbindUpdateHueFromPointer[s]=null)!=o&&o(),++i):(--e,null==h&&(h=[],a=[],0),h.push(this.__cbOnceOwnerUnbindUpdateHueFromPointer[s]),a.push(this.__cbOnceUpdateHueFromPointer[s]))}this.__cbOnceOwnerUnbindUpdateHueFromPointer=h,this.__cbOnceUpdateHueFromPointer=a}for(l=0,r=e;l<r;){i=l++;(0,t.vector[i])()}n.release(t)}},onUpdateHueFromPointer:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event updateHueFromPointer because owner is destroyed!");var l=function(e){null!=t&&(i.offUpdateHueFromPointer(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindUpdateHueFromPointer&&(this.__cbOnOwnerUnbindUpdateHueFromPointer=[]),this.__cbOnOwnerUnbindUpdateHueFromPointer.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindUpdateHueFromPointer&&(this.__cbOnOwnerUnbindUpdateHueFromPointer=[]),this.__cbOnOwnerUnbindUpdateHueFromPointer.push(null);null==this.__cbOnUpdateHueFromPointer&&(this.__cbOnUpdateHueFromPointer=[]),this.__cbOnUpdateHueFromPointer.push(t)},onceUpdateHueFromPointer:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event updateHueFromPointer because owner is destroyed!");var l=function(e){null!=t&&(i.offUpdateHueFromPointer(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindUpdateHueFromPointer&&(this.__cbOnceOwnerUnbindUpdateHueFromPointer=[]),this.__cbOnceOwnerUnbindUpdateHueFromPointer.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindUpdateHueFromPointer&&(this.__cbOnceOwnerUnbindUpdateHueFromPointer=[]),this.__cbOnceOwnerUnbindUpdateHueFromPointer.push(null);null==this.__cbOnceUpdateHueFromPointer&&(this.__cbOnceUpdateHueFromPointer=[]),this.__cbOnceUpdateHueFromPointer.push(t)},offUpdateHueFromPointer:function(e){if(null!=e){var n;null!=this.__cbOnUpdateHueFromPointer&&-1!=(n=this.__cbOnUpdateHueFromPointer.indexOf(e))&&(this.__cbOnUpdateHueFromPointer.splice(n,1),null!=(r=this.__cbOnOwnerUnbindUpdateHueFromPointer[n])&&r(),this.__cbOnOwnerUnbindUpdateHueFromPointer.splice(n,1)),null!=this.__cbOnceUpdateHueFromPointer&&-1!=(n=this.__cbOnceUpdateHueFromPointer.indexOf(e))&&(this.__cbOnceUpdateHueFromPointer.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindUpdateHueFromPointer[n])&&r(),this.__cbOnceOwnerUnbindUpdateHueFromPointer.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindUpdateHueFromPointer){for(var t=0,i=this.__cbOnOwnerUnbindUpdateHueFromPointer.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindUpdateHueFromPointer[l])&&r()}this.__cbOnOwnerUnbindUpdateHueFromPointer=null}if(null!=this.__cbOnceOwnerUnbindUpdateHueFromPointer){for(t=0,i=this.__cbOnceOwnerUnbindUpdateHueFromPointer.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindUpdateHueFromPointer[l])&&r()}this.__cbOnceOwnerUnbindUpdateHueFromPointer=null}this.__cbOnUpdateHueFromPointer=null,this.__cbOnceUpdateHueFromPointer=null}},listensUpdateHueFromPointer:function(){return null!=this.__cbOnUpdateHueFromPointer&&0<this.__cbOnUpdateHueFromPointer.length||null!=this.__cbOnceUpdateHueFromPointer&&0<this.__cbOnceUpdateHueFromPointer.length},movingPointerAutoruns:null,get_movingPointer:function(){var e,n,t=this.unobservedMovingPointer;return null!=U.current&&(e=U.current,null!=(n=this.movingPointerAutoruns)||(n=U.getAutorunArray(),null!=(this.movingPointerAutoruns=n)))&&e.bindToAutorunArray(n),t},set_movingPointer:function(e){var n=this.unobservedMovingPointer;return n!=(this.unobservedMovingPointer=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitMovingPointerChange(e,n),null!=(n=this.movingPointerAutoruns))&&(this.movingPointerAutoruns=null,U.invalidateAutorunArray(n)),e},invalidateMovingPointer:function(){var e=this.unobservedMovingPointer,e=(this.emitMovingPointerChange(e,e),this.movingPointerAutoruns);null!=e&&(this.movingPointerAutoruns=null,U.invalidateAutorunArray(e))},unobservedMovingPointer:null,__cbOnMovingPointerChange:null,__cbOnceMovingPointerChange:null,__cbOnOwnerUnbindMovingPointerChange:null,__cbOnceOwnerUnbindMovingPointerChange:null,emitMovingPointerChange:function(e,n){var t=0;if(null!=this.__cbOnMovingPointerChange&&(t+=this.__cbOnMovingPointerChange.length),null!=this.__cbOnceMovingPointerChange&&(t+=this.__cbOnceMovingPointerChange.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnMovingPointerChange)for(var s=0,h=this.__cbOnMovingPointerChange.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnMovingPointerChange[a],++r):--t}if(null!=this.__cbOnceMovingPointerChange){for(var o=null,c=null,s=0,h=this.__cbOnceMovingPointerChange.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceMovingPointerChange[a],this.__cbOnceMovingPointerChange[a]=null,u=this.__cbOnceOwnerUnbindMovingPointerChange[a],(this.__cbOnceOwnerUnbindMovingPointerChange[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindMovingPointerChange[a]),c.push(this.__cbOnceMovingPointerChange[a]))}this.__cbOnceOwnerUnbindMovingPointerChange=o,this.__cbOnceMovingPointerChange=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onMovingPointerChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event movingPointerChange because owner is destroyed!");var l=function(e){null!=t&&(i.offMovingPointerChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindMovingPointerChange&&(this.__cbOnOwnerUnbindMovingPointerChange=[]),this.__cbOnOwnerUnbindMovingPointerChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindMovingPointerChange&&(this.__cbOnOwnerUnbindMovingPointerChange=[]),this.__cbOnOwnerUnbindMovingPointerChange.push(null);null==this.__cbOnMovingPointerChange&&(this.__cbOnMovingPointerChange=[]),this.__cbOnMovingPointerChange.push(t)},onceMovingPointerChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event movingPointerChange because owner is destroyed!");var l=function(e){null!=t&&(i.offMovingPointerChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindMovingPointerChange&&(this.__cbOnceOwnerUnbindMovingPointerChange=[]),this.__cbOnceOwnerUnbindMovingPointerChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindMovingPointerChange&&(this.__cbOnceOwnerUnbindMovingPointerChange=[]),this.__cbOnceOwnerUnbindMovingPointerChange.push(null);null==this.__cbOnceMovingPointerChange&&(this.__cbOnceMovingPointerChange=[]),this.__cbOnceMovingPointerChange.push(t)},offMovingPointerChange:function(e){if(null!=e){var n;null!=this.__cbOnMovingPointerChange&&-1!=(n=this.__cbOnMovingPointerChange.indexOf(e))&&(this.__cbOnMovingPointerChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindMovingPointerChange[n])&&r(),this.__cbOnOwnerUnbindMovingPointerChange.splice(n,1)),null!=this.__cbOnceMovingPointerChange&&-1!=(n=this.__cbOnceMovingPointerChange.indexOf(e))&&(this.__cbOnceMovingPointerChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindMovingPointerChange[n])&&r(),this.__cbOnceOwnerUnbindMovingPointerChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindMovingPointerChange){for(var t=0,i=this.__cbOnOwnerUnbindMovingPointerChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindMovingPointerChange[l])&&r()}this.__cbOnOwnerUnbindMovingPointerChange=null}if(null!=this.__cbOnceOwnerUnbindMovingPointerChange){for(t=0,i=this.__cbOnceOwnerUnbindMovingPointerChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindMovingPointerChange[l])&&r()}this.__cbOnceOwnerUnbindMovingPointerChange=null}this.__cbOnMovingPointerChange=null,this.__cbOnceMovingPointerChange=null}},listensMovingPointerChange:function(){return null!=this.__cbOnMovingPointerChange&&0<this.__cbOnMovingPointerChange.length||null!=this.__cbOnceMovingPointerChange&&0<this.__cbOnceMovingPointerChange.length},spectrum:null,huePointer:null,hue:null,set_hue:function(e){return this.hue!=e&&(this.hue=e,this.updatePointerFromHue()),e},initSpectrum:function(){this.spectrum=new ya,this.spectrum.colorMapping=2,this.spectrum.set_depth(1),this.add(this.spectrum),this.spectrum.vertices=[0,0,1,0];for(var e=this.spectrum.vertices,n=this.spectrum.indices,t=this.spectrum.colors,i=this.colorWithHue(0),l=(t.push(i),t.push(i),0),r=N2.PRECISION;l<r;){var s=l++,i=(e.push(0),e.push(1+s),e.push(1),e.push(1+s),this.colorWithHue(360-360*(1+s)/N2.PRECISION));t.push(i),t.push(i),n.push(2*s),n.push(2*s+1),n.push(2*s+2),n.push(2*s+1),n.push(2*s+2),n.push(2*s+3)}},updatePointerFromHue:function(){var e=this.huePointer,n=.5*this.get_width(),t=this.get_height()*(1-this.hue/360);e.set_x(n),e.set_y(t)},layout:function(){var e=this.spectrum,n=this.get_width(),t=this.get_height()/N2.PRECISION;e.set_scaleX(n),e.set_scaleY(t),(e=this.huePointer).set_width(this.get_width()),e.set_height(0),this.updatePointerFromHue()},colorWithHue:function(e){e=(0|I.fromHSB(e,1,1))-16777216;return e&16777215|-16777216},handlePointerDown:function(e){he.app.screen.onPointerMove(this,$bind(this,this.handlePointerMove)),this.updateHueFromTouchInfo(e)},handlePointerMove:function(e){this.set_movingPointer(!0),this.updateHueFromTouchInfo(e)},handlePointerUp:function(e){he.app.screen.offPointerMove($bind(this,this.handlePointerMove)),this.set_movingPointer(!1),this.updateHueFromTouchInfo(e)},updateHueFromTouchInfo:function(e){this.screenToVisual(e.x,e.y,N2._point),this.set_hue(Math.round(360*(1-Math.max(0,Math.min(N2._point.y/this.get_height(),1))))),this.updatePointerFromHue(),this.emitUpdateHueFromPointer()},unbindEvents:function(){f0.prototype.unbindEvents.call(this),this.offObservedDirty(),this.offMovingPointerChange(),this.offUpdateHueFromPointer()},__class__:N2,__properties__:$extend(f0.prototype.__properties__,{set_hue:"set_hue",set_movingPointer:"set_movingPointer",get_movingPointer:"get_movingPointer"})}),(E["elements.ColorPickerHSLuvGradientView"]=O2).__name__="elements.ColorPickerHSLuvGradientView",O2.__super__=f0,O2.prototype=$extend(f0.prototype,{__cbOnUpdateColorFromPointer:null,__cbOnceUpdateColorFromPointer:null,__cbOnOwnerUnbindUpdateColorFromPointer:null,__cbOnceOwnerUnbindUpdateColorFromPointer:null,emitUpdateColorFromPointer:function(){var e=0;if(null!=this.__cbOnUpdateColorFromPointer&&(e+=this.__cbOnUpdateColorFromPointer.length),null!=this.__cbOnceUpdateColorFromPointer&&(e+=this.__cbOnceUpdateColorFromPointer.length),0<e){var n=C.pool(e),t=n.get(),i=0;if(null!=this.__cbOnUpdateColorFromPointer)for(var l=0,r=this.__cbOnUpdateColorFromPointer.length;l<r;){var s=l++;!0?(t.vector[i]=this.__cbOnUpdateColorFromPointer[s],++i):--e}if(null!=this.__cbOnceUpdateColorFromPointer){for(var h=null,a=null,l=0,r=this.__cbOnceUpdateColorFromPointer.length;l<r;){var o,s=l++;!0?(t.vector[i]=this.__cbOnceUpdateColorFromPointer[s],this.__cbOnceUpdateColorFromPointer[s]=null,o=this.__cbOnceOwnerUnbindUpdateColorFromPointer[s],(this.__cbOnceOwnerUnbindUpdateColorFromPointer[s]=null)!=o&&o(),++i):(--e,null==h&&(h=[],a=[],0),h.push(this.__cbOnceOwnerUnbindUpdateColorFromPointer[s]),a.push(this.__cbOnceUpdateColorFromPointer[s]))}this.__cbOnceOwnerUnbindUpdateColorFromPointer=h,this.__cbOnceUpdateColorFromPointer=a}for(l=0,r=e;l<r;){i=l++;(0,t.vector[i])()}n.release(t)}},onUpdateColorFromPointer:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event updateColorFromPointer because owner is destroyed!");var l=function(e){null!=t&&(i.offUpdateColorFromPointer(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindUpdateColorFromPointer&&(this.__cbOnOwnerUnbindUpdateColorFromPointer=[]),this.__cbOnOwnerUnbindUpdateColorFromPointer.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindUpdateColorFromPointer&&(this.__cbOnOwnerUnbindUpdateColorFromPointer=[]),this.__cbOnOwnerUnbindUpdateColorFromPointer.push(null);null==this.__cbOnUpdateColorFromPointer&&(this.__cbOnUpdateColorFromPointer=[]),this.__cbOnUpdateColorFromPointer.push(t)},onceUpdateColorFromPointer:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event updateColorFromPointer because owner is destroyed!");var l=function(e){null!=t&&(i.offUpdateColorFromPointer(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindUpdateColorFromPointer&&(this.__cbOnceOwnerUnbindUpdateColorFromPointer=[]),this.__cbOnceOwnerUnbindUpdateColorFromPointer.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindUpdateColorFromPointer&&(this.__cbOnceOwnerUnbindUpdateColorFromPointer=[]),this.__cbOnceOwnerUnbindUpdateColorFromPointer.push(null);null==this.__cbOnceUpdateColorFromPointer&&(this.__cbOnceUpdateColorFromPointer=[]),this.__cbOnceUpdateColorFromPointer.push(t)},offUpdateColorFromPointer:function(e){if(null!=e){var n;null!=this.__cbOnUpdateColorFromPointer&&-1!=(n=this.__cbOnUpdateColorFromPointer.indexOf(e))&&(this.__cbOnUpdateColorFromPointer.splice(n,1),null!=(r=this.__cbOnOwnerUnbindUpdateColorFromPointer[n])&&r(),this.__cbOnOwnerUnbindUpdateColorFromPointer.splice(n,1)),null!=this.__cbOnceUpdateColorFromPointer&&-1!=(n=this.__cbOnceUpdateColorFromPointer.indexOf(e))&&(this.__cbOnceUpdateColorFromPointer.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindUpdateColorFromPointer[n])&&r(),this.__cbOnceOwnerUnbindUpdateColorFromPointer.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindUpdateColorFromPointer){for(var t=0,i=this.__cbOnOwnerUnbindUpdateColorFromPointer.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindUpdateColorFromPointer[l])&&r()}this.__cbOnOwnerUnbindUpdateColorFromPointer=null}if(null!=this.__cbOnceOwnerUnbindUpdateColorFromPointer){for(t=0,i=this.__cbOnceOwnerUnbindUpdateColorFromPointer.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindUpdateColorFromPointer[l])&&r()}this.__cbOnceOwnerUnbindUpdateColorFromPointer=null}this.__cbOnUpdateColorFromPointer=null,this.__cbOnceUpdateColorFromPointer=null}},listensUpdateColorFromPointer:function(){return null!=this.__cbOnUpdateColorFromPointer&&0<this.__cbOnUpdateColorFromPointer.length||null!=this.__cbOnceUpdateColorFromPointer&&0<this.__cbOnceUpdateColorFromPointer.length},colorValue:null,set_colorValue:function(e){return this.colorValue!=e&&(this.colorValue=e,this.updateGradientColors(),this.updatePointerFromColor()),e},movingSpectrum:null,gradient:null,colorPointer:null,targetPointerColor:null,pointerColorTween:null,movingPointer:null,savedPointerX:null,savedPointerY:null,filter:null,lightness:null,updateGradientColors:function(e){null!=e&&(this.lightness=e);for(var n=this.gradient.colors,t=0,i=0,l=O2.PRECISION_X;i<l;)for(var r=i++,s=(n[t]=this.colorWithHueAndSaturation(360*r/O2.PRECISION_X,1),n[++t]=this.colorWithHueAndSaturation(360*(1+r)/O2.PRECISION_X,1),++t,0),h=O2.PRECISION_Y;s<h;){var a=s++;n[t]=this.colorWithHueAndSaturation(360*r/O2.PRECISION_X,1-(1+a)/O2.PRECISION_Y),n[++t]=this.colorWithHueAndSaturation(360*(1+r)/O2.PRECISION_X,1-(1+a)/O2.PRECISION_Y),++t}},savePointerPosition:function(){this.savedPointerX=this.colorPointer.x,this.savedPointerY=this.colorPointer.y},restorePointerPosition:function(){this.colorPointer.set_x(this.savedPointerX),this.colorPointer.set_y(this.savedPointerY)},getSaturationFromPointer:function(){var e=1-this.colorPointer.y/this.get_height();return e=1<(e=e<0?0:e)?1:e},getHueFromPointer:function(){var e=this.colorPointer.x/this.get_width();return 1<(e=e<0?0:e)&&(e=1),e*=360},colorWithHueAndSaturation:function(e,n){var t=this.lightness,i=0;if(I._hsluvTuple[0]=e,I._hsluvTuple[1]=100*n,I._hsluvTuple[2]=100*t,.001<t){w.hsluvToRgb(I._hsluvTuple,I._hsluvResult);var l=I._hsluvResult[0];l<0&&(l=0);i=i&65535|(255<(r=Math.round(255*l))?255:r<0?0:r)<<16,(l=I._hsluvResult[1])<0&&(l=0);var r=Math.round(255*l),r=(i=i&16711935|(255<r?255:r<0?0:r)<<8,(l=I._hsluvResult[2])<0&&(l=0),Math.round(255*l)),i=i&16776960|(255<r?255:r<0?0:r)}else{var l=(1-Math.abs(2*t-1))*n,s=t-l/2,n=e,h=l,t=(n%=360)/60,a=h*(1-Math.abs(t%2-1))+s;switch(h+=s,0|t){case 0:r=(i=i&65535|(255<(r=Math.round(255*h))?255:r<0?0:r)<<16,Math.round(255*a)),r=(i=i&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*s));i=i&16776960|(255<r?255:r<0?0:r);break;case 1:r=(i=i&65535|(255<(r=Math.round(255*a))?255:r<0?0:r)<<16,Math.round(255*h)),r=(i=i&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*s));i=i&16776960|(255<r?255:r<0?0:r);break;case 2:r=(i=i&65535|(255<(r=Math.round(255*s))?255:r<0?0:r)<<16,Math.round(255*h)),r=(i=i&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*a));i=i&16776960|(255<r?255:r<0?0:r);break;case 3:r=(i=i&65535|(255<(r=Math.round(255*s))?255:r<0?0:r)<<16,Math.round(255*a)),r=(i=i&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*h));i=i&16776960|(255<r?255:r<0?0:r);break;case 4:r=(i=i&65535|(255<(r=Math.round(255*a))?255:r<0?0:r)<<16,Math.round(255*s)),r=(i=i&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*h));i=i&16776960|(255<r?255:r<0?0:r);break;case 5:r=(i=i&65535|(255<(r=Math.round(255*h))?255:r<0?0:r)<<16,Math.round(255*s)),r=(i=i&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*a));i=i&16776960|(255<r?255:r<0?0:r)}}return r=(r=(0|i)-16777216)&16777215|-16777216},updatePointerFromColor:function(){var s,h=this,e=this.colorValue,n=O2._tuple,e=(null==n&&(n=[0,0,0]),I._hsluvTuple[0]=(e>>16&255)/255,I._hsluvTuple[1]=(e>>8&255)/255,I._hsluvTuple[2]=(255&e)/255,w.rgbToHsluv(I._hsluvTuple,n),n[1]*=.01,n[2]*=.01,O2._tuple[0]/360),n=O2._tuple[1],t=this.colorPointer,e=this.get_width()*e,n=this.get_height()*(1-n),e=(t.set_x(e),t.set_y(n),16777215);.5<this.lightness&&(e=0),this.targetPointerColor=e,this.movingSpectrum?this.targetPointerColor!=e&&(this.targetPointerColor=e,null!=this.pointerColorTween&&(this.pointerColorTween.destroy(),this.pointerColorTween=null),s=this.colorPointer.borderColor,this.pointerColorTween=this.tween(null,.4,0,1,function(e,n){var t=h.colorPointer,i=h.targetPointerColor,l=((i>>16&255)-(s>>16&255))*(e=null==e?.5:e)+(s>>16&255)|0,r=((i>>8&255)-(s>>8&255))*e+(s>>8&255)|0,i=((255&i)-(255&s))*e+(255&s)|0,e=0;e=16776960&(e=16711935&(e=65535&e|(255<l?255:l<0?0:l)<<16)|(255<r?255:r<0?0:r)<<8)|(255<i?255:i<0?0:i);t.borderColor!=e&&(t.borderColor=e,t.autoComputeColors)&&t.computeColors()})):(this.targetPointerColor=e,t=this.colorPointer,n=this.targetPointerColor,t.borderColor!=n&&(t.borderColor=n,t.autoComputeColors)&&t.computeColors())},layout:function(){var e=this.filter,n=this.get_width(),t=this.get_height(),e=(e.set_width(n),e.set_height(t),this.gradient),n=this.get_width()/O2.PRECISION_X,t=this.get_height()/O2.PRECISION_Y;e.set_scaleX(n),e.set_scaleY(t),this.updatePointerFromColor()},handlePointerDown:function(e){he.app.screen.onPointerMove(this,$bind(this,this.handlePointerMove)),this.updateColorFromTouchInfo(e),this.movingPointer=!0},handlePointerMove:function(e){this.updateColorFromTouchInfo(e)},handlePointerUp:function(e){he.app.screen.offPointerMove($bind(this,this.handlePointerMove)),this.updateColorFromTouchInfo(e),this.movingPointer=!1},updateColorFromTouchInfo:function(e){this.screenToVisual(e.x,e.y,O2._point);var e=1-O2._point.y/this.get_height(),n=(1<(e=e<0?0:e)&&(e=1),O2._point.x/this.get_width()),t=(1<(n=n<0?0:n)&&(n=1),this.lightness),i=0;if(I._hsluvTuple[0]=n*=360,I._hsluvTuple[1]=100*e,I._hsluvTuple[2]=100*t,.001<t){w.hsluvToRgb(I._hsluvTuple,I._hsluvResult);var l=I._hsluvResult[0];l<0&&(l=0);i=i&65535|(255<(r=Math.round(255*l))?255:r<0?0:r)<<16,(l=I._hsluvResult[1])<0&&(l=0);var r=Math.round(255*l),r=(i=i&16711935|(255<r?255:r<0?0:r)<<8,(l=I._hsluvResult[2])<0&&(l=0),Math.round(255*l)),i=i&16776960|(255<r?255:r<0?0:r)}else{var l=(1-Math.abs(2*t-1))*e,s=t-l/2,e=n,h=l,t=(e%=360)/60,a=h*(1-Math.abs(t%2-1))+s;switch(h+=s,0|t){case 0:r=(i=i&65535|(255<(r=Math.round(255*h))?255:r<0?0:r)<<16,Math.round(255*a)),r=(i=i&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*s));i=i&16776960|(255<r?255:r<0?0:r);break;case 1:r=(i=i&65535|(255<(r=Math.round(255*a))?255:r<0?0:r)<<16,Math.round(255*h)),r=(i=i&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*s));i=i&16776960|(255<r?255:r<0?0:r);break;case 2:r=(i=i&65535|(255<(r=Math.round(255*s))?255:r<0?0:r)<<16,Math.round(255*h)),r=(i=i&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*a));i=i&16776960|(255<r?255:r<0?0:r);break;case 3:r=(i=i&65535|(255<(r=Math.round(255*s))?255:r<0?0:r)<<16,Math.round(255*a)),r=(i=i&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*h));i=i&16776960|(255<r?255:r<0?0:r);break;case 4:r=(i=i&65535|(255<(r=Math.round(255*a))?255:r<0?0:r)<<16,Math.round(255*s)),r=(i=i&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*h));i=i&16776960|(255<r?255:r<0?0:r);break;case 5:r=(i=i&65535|(255<(r=Math.round(255*h))?255:r<0?0:r)<<16,Math.round(255*s)),r=(i=i&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*a));i=i&16776960|(255<r?255:r<0?0:r)}}this.set_colorValue(i);n=this.colorPointer,l=Math.max(0,Math.min(this.get_width(),O2._point.x)),e=Math.max(0,Math.min(this.get_height(),O2._point.y));n.set_x(l),n.set_y(e),this.emitUpdateColorFromPointer()},unbindEvents:function(){f0.prototype.unbindEvents.call(this),this.offUpdateColorFromPointer()},__class__:O2,__properties__:$extend(f0.prototype.__properties__,{set_colorValue:"set_colorValue"})}),(E["elements.ColorPickerHSLuvSpectrumView"]=P2).__name__="elements.ColorPickerHSLuvSpectrumView",P2.__interfaces__=[s],P2.__super__=f0,P2.prototype=$extend(f0.prototype,{__cbOnObservedDirty:null,__cbOnceObservedDirty:null,__cbOnOwnerUnbindObservedDirty:null,__cbOnceOwnerUnbindObservedDirty:null,emitObservedDirty:function(e,n){var t=0;if(null!=this.__cbOnObservedDirty&&(t+=this.__cbOnObservedDirty.length),null!=this.__cbOnceObservedDirty&&(t+=this.__cbOnceObservedDirty.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnObservedDirty)for(var s=0,h=this.__cbOnObservedDirty.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnObservedDirty[a],++r):--t}if(null!=this.__cbOnceObservedDirty){for(var o=null,c=null,s=0,h=this.__cbOnceObservedDirty.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceObservedDirty[a],this.__cbOnceObservedDirty[a]=null,u=this.__cbOnceOwnerUnbindObservedDirty[a],(this.__cbOnceOwnerUnbindObservedDirty[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindObservedDirty[a]),c.push(this.__cbOnceObservedDirty[a]))}this.__cbOnceOwnerUnbindObservedDirty=o,this.__cbOnceObservedDirty=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onObservedDirty:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event observedDirty because owner is destroyed!");var l=function(e){null!=t&&(i.offObservedDirty(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push(null);null==this.__cbOnObservedDirty&&(this.__cbOnObservedDirty=[]),this.__cbOnObservedDirty.push(t)},onceObservedDirty:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event observedDirty because owner is destroyed!");var l=function(e){null!=t&&(i.offObservedDirty(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push(null);null==this.__cbOnceObservedDirty&&(this.__cbOnceObservedDirty=[]),this.__cbOnceObservedDirty.push(t)},offObservedDirty:function(e){if(null!=e){var n;null!=this.__cbOnObservedDirty&&-1!=(n=this.__cbOnObservedDirty.indexOf(e))&&(this.__cbOnObservedDirty.splice(n,1),null!=(r=this.__cbOnOwnerUnbindObservedDirty[n])&&r(),this.__cbOnOwnerUnbindObservedDirty.splice(n,1)),null!=this.__cbOnceObservedDirty&&-1!=(n=this.__cbOnceObservedDirty.indexOf(e))&&(this.__cbOnceObservedDirty.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindObservedDirty[n])&&r(),this.__cbOnceOwnerUnbindObservedDirty.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindObservedDirty){for(var t=0,i=this.__cbOnOwnerUnbindObservedDirty.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindObservedDirty[l])&&r()}this.__cbOnOwnerUnbindObservedDirty=null}if(null!=this.__cbOnceOwnerUnbindObservedDirty){for(t=0,i=this.__cbOnceOwnerUnbindObservedDirty.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindObservedDirty[l])&&r()}this.__cbOnceOwnerUnbindObservedDirty=null}this.__cbOnObservedDirty=null,this.__cbOnceObservedDirty=null}},listensObservedDirty:function(){return null!=this.__cbOnObservedDirty&&0<this.__cbOnObservedDirty.length||null!=this.__cbOnceObservedDirty&&0<this.__cbOnceObservedDirty.length},observedDirty:null,__cbOnUpdateHueFromPointer:null,__cbOnceUpdateHueFromPointer:null,__cbOnOwnerUnbindUpdateHueFromPointer:null,__cbOnceOwnerUnbindUpdateHueFromPointer:null,emitUpdateHueFromPointer:function(){var e=0;if(null!=this.__cbOnUpdateHueFromPointer&&(e+=this.__cbOnUpdateHueFromPointer.length),null!=this.__cbOnceUpdateHueFromPointer&&(e+=this.__cbOnceUpdateHueFromPointer.length),0<e){var n=C.pool(e),t=n.get(),i=0;if(null!=this.__cbOnUpdateHueFromPointer)for(var l=0,r=this.__cbOnUpdateHueFromPointer.length;l<r;){var s=l++;!0?(t.vector[i]=this.__cbOnUpdateHueFromPointer[s],++i):--e}if(null!=this.__cbOnceUpdateHueFromPointer){for(var h=null,a=null,l=0,r=this.__cbOnceUpdateHueFromPointer.length;l<r;){var o,s=l++;!0?(t.vector[i]=this.__cbOnceUpdateHueFromPointer[s],this.__cbOnceUpdateHueFromPointer[s]=null,o=this.__cbOnceOwnerUnbindUpdateHueFromPointer[s],(this.__cbOnceOwnerUnbindUpdateHueFromPointer[s]=null)!=o&&o(),++i):(--e,null==h&&(h=[],a=[],0),h.push(this.__cbOnceOwnerUnbindUpdateHueFromPointer[s]),a.push(this.__cbOnceUpdateHueFromPointer[s]))}this.__cbOnceOwnerUnbindUpdateHueFromPointer=h,this.__cbOnceUpdateHueFromPointer=a}for(l=0,r=e;l<r;){i=l++;(0,t.vector[i])()}n.release(t)}},onUpdateHueFromPointer:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event updateHueFromPointer because owner is destroyed!");var l=function(e){null!=t&&(i.offUpdateHueFromPointer(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindUpdateHueFromPointer&&(this.__cbOnOwnerUnbindUpdateHueFromPointer=[]),this.__cbOnOwnerUnbindUpdateHueFromPointer.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindUpdateHueFromPointer&&(this.__cbOnOwnerUnbindUpdateHueFromPointer=[]),this.__cbOnOwnerUnbindUpdateHueFromPointer.push(null);null==this.__cbOnUpdateHueFromPointer&&(this.__cbOnUpdateHueFromPointer=[]),this.__cbOnUpdateHueFromPointer.push(t)},onceUpdateHueFromPointer:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event updateHueFromPointer because owner is destroyed!");var l=function(e){null!=t&&(i.offUpdateHueFromPointer(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindUpdateHueFromPointer&&(this.__cbOnceOwnerUnbindUpdateHueFromPointer=[]),this.__cbOnceOwnerUnbindUpdateHueFromPointer.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindUpdateHueFromPointer&&(this.__cbOnceOwnerUnbindUpdateHueFromPointer=[]),this.__cbOnceOwnerUnbindUpdateHueFromPointer.push(null);null==this.__cbOnceUpdateHueFromPointer&&(this.__cbOnceUpdateHueFromPointer=[]),this.__cbOnceUpdateHueFromPointer.push(t)},offUpdateHueFromPointer:function(e){if(null!=e){var n;null!=this.__cbOnUpdateHueFromPointer&&-1!=(n=this.__cbOnUpdateHueFromPointer.indexOf(e))&&(this.__cbOnUpdateHueFromPointer.splice(n,1),null!=(r=this.__cbOnOwnerUnbindUpdateHueFromPointer[n])&&r(),this.__cbOnOwnerUnbindUpdateHueFromPointer.splice(n,1)),null!=this.__cbOnceUpdateHueFromPointer&&-1!=(n=this.__cbOnceUpdateHueFromPointer.indexOf(e))&&(this.__cbOnceUpdateHueFromPointer.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindUpdateHueFromPointer[n])&&r(),this.__cbOnceOwnerUnbindUpdateHueFromPointer.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindUpdateHueFromPointer){for(var t=0,i=this.__cbOnOwnerUnbindUpdateHueFromPointer.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindUpdateHueFromPointer[l])&&r()}this.__cbOnOwnerUnbindUpdateHueFromPointer=null}if(null!=this.__cbOnceOwnerUnbindUpdateHueFromPointer){for(t=0,i=this.__cbOnceOwnerUnbindUpdateHueFromPointer.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindUpdateHueFromPointer[l])&&r()}this.__cbOnceOwnerUnbindUpdateHueFromPointer=null}this.__cbOnUpdateHueFromPointer=null,this.__cbOnceUpdateHueFromPointer=null}},listensUpdateHueFromPointer:function(){return null!=this.__cbOnUpdateHueFromPointer&&0<this.__cbOnUpdateHueFromPointer.length||null!=this.__cbOnceUpdateHueFromPointer&&0<this.__cbOnceUpdateHueFromPointer.length},movingPointerAutoruns:null,get_movingPointer:function(){var e,n,t=this.unobservedMovingPointer;return null!=U.current&&(e=U.current,null!=(n=this.movingPointerAutoruns)||(n=U.getAutorunArray(),null!=(this.movingPointerAutoruns=n)))&&e.bindToAutorunArray(n),t},set_movingPointer:function(e){var n=this.unobservedMovingPointer;return n!=(this.unobservedMovingPointer=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitMovingPointerChange(e,n),null!=(n=this.movingPointerAutoruns))&&(this.movingPointerAutoruns=null,U.invalidateAutorunArray(n)),e},invalidateMovingPointer:function(){var e=this.unobservedMovingPointer,e=(this.emitMovingPointerChange(e,e),this.movingPointerAutoruns);null!=e&&(this.movingPointerAutoruns=null,U.invalidateAutorunArray(e))},unobservedMovingPointer:null,__cbOnMovingPointerChange:null,__cbOnceMovingPointerChange:null,__cbOnOwnerUnbindMovingPointerChange:null,__cbOnceOwnerUnbindMovingPointerChange:null,emitMovingPointerChange:function(e,n){var t=0;if(null!=this.__cbOnMovingPointerChange&&(t+=this.__cbOnMovingPointerChange.length),null!=this.__cbOnceMovingPointerChange&&(t+=this.__cbOnceMovingPointerChange.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnMovingPointerChange)for(var s=0,h=this.__cbOnMovingPointerChange.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnMovingPointerChange[a],++r):--t}if(null!=this.__cbOnceMovingPointerChange){for(var o=null,c=null,s=0,h=this.__cbOnceMovingPointerChange.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceMovingPointerChange[a],this.__cbOnceMovingPointerChange[a]=null,u=this.__cbOnceOwnerUnbindMovingPointerChange[a],(this.__cbOnceOwnerUnbindMovingPointerChange[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindMovingPointerChange[a]),c.push(this.__cbOnceMovingPointerChange[a]))}this.__cbOnceOwnerUnbindMovingPointerChange=o,this.__cbOnceMovingPointerChange=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onMovingPointerChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event movingPointerChange because owner is destroyed!");var l=function(e){null!=t&&(i.offMovingPointerChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindMovingPointerChange&&(this.__cbOnOwnerUnbindMovingPointerChange=[]),this.__cbOnOwnerUnbindMovingPointerChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindMovingPointerChange&&(this.__cbOnOwnerUnbindMovingPointerChange=[]),this.__cbOnOwnerUnbindMovingPointerChange.push(null);null==this.__cbOnMovingPointerChange&&(this.__cbOnMovingPointerChange=[]),this.__cbOnMovingPointerChange.push(t)},onceMovingPointerChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event movingPointerChange because owner is destroyed!");var l=function(e){null!=t&&(i.offMovingPointerChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindMovingPointerChange&&(this.__cbOnceOwnerUnbindMovingPointerChange=[]),this.__cbOnceOwnerUnbindMovingPointerChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindMovingPointerChange&&(this.__cbOnceOwnerUnbindMovingPointerChange=[]),this.__cbOnceOwnerUnbindMovingPointerChange.push(null);null==this.__cbOnceMovingPointerChange&&(this.__cbOnceMovingPointerChange=[]),this.__cbOnceMovingPointerChange.push(t)},offMovingPointerChange:function(e){if(null!=e){var n;null!=this.__cbOnMovingPointerChange&&-1!=(n=this.__cbOnMovingPointerChange.indexOf(e))&&(this.__cbOnMovingPointerChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindMovingPointerChange[n])&&r(),this.__cbOnOwnerUnbindMovingPointerChange.splice(n,1)),null!=this.__cbOnceMovingPointerChange&&-1!=(n=this.__cbOnceMovingPointerChange.indexOf(e))&&(this.__cbOnceMovingPointerChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindMovingPointerChange[n])&&r(),this.__cbOnceOwnerUnbindMovingPointerChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindMovingPointerChange){for(var t=0,i=this.__cbOnOwnerUnbindMovingPointerChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindMovingPointerChange[l])&&r()}this.__cbOnOwnerUnbindMovingPointerChange=null}if(null!=this.__cbOnceOwnerUnbindMovingPointerChange){for(t=0,i=this.__cbOnceOwnerUnbindMovingPointerChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindMovingPointerChange[l])&&r()}this.__cbOnceOwnerUnbindMovingPointerChange=null}this.__cbOnMovingPointerChange=null,this.__cbOnceMovingPointerChange=null}},listensMovingPointerChange:function(){return null!=this.__cbOnMovingPointerChange&&0<this.__cbOnMovingPointerChange.length||null!=this.__cbOnceMovingPointerChange&&0<this.__cbOnceMovingPointerChange.length},spectrum:null,lightnessPointer:null,lightness:null,set_lightness:function(e){return this.lightness!=e&&(this.lightness=e,this.updatePointerFromLightness()),e},hue:null,set_hue:function(e){return this.hue!=e&&(this.hue=e,this.set_spectrumColorsDirty(!0)),e},saturation:null,set_saturation:function(e){return this.saturation!=e&&(this.saturation=e,this.set_spectrumColorsDirty(!0)),e},spectrumColorsDirty:null,set_spectrumColorsDirty:function(e){return e?this.spectrumColorsDirty||(this.spectrumColorsDirty=!0,he.app._onceImmediate($bind(this,this.updateSpectrumColors))):this.spectrumColorsDirty=!1,e},initSpectrum:function(){this.spectrum=new ya,this.spectrum.colorMapping=2,this.spectrum.set_depth(1),this.add(this.spectrum),this.spectrum.vertices=[0,0,1,0];for(var e=this.spectrum.vertices,n=this.spectrum.indices,t=0,i=P2.PRECISION;t<i;){var l=t++;e.push(0),e.push(1+l),e.push(1),e.push(1+l),n.push(2*l),n.push(2*l+1),n.push(2*l+2),n.push(2*l+1),n.push(2*l+2),n.push(2*l+3)}this.updateSpectrumColors()},updateSpectrumColors:function(){this.set_spectrumColorsDirty(!1);for(var e=this.spectrum.colors,n=this.colorWithLightness(1),t=0,i=(e[t]=n,e[++t]=n,++t,0),l=P2.PRECISION;i<l;){var r=i++,n=this.colorWithLightness(1-(1+r)/P2.PRECISION);e[t]=n,e[++t]=n,++t}},updatePointerFromLightness:function(){var e=this.lightnessPointer,n=.5*this.get_width(),t=this.get_height()*(1-this.lightness);e.set_x(n),e.set_y(t)},layout:function(){var e=this.spectrum,n=this.get_width(),t=this.get_height()/P2.PRECISION;e.set_scaleX(n),e.set_scaleY(t),(e=this.lightnessPointer).set_width(this.get_width()),e.set_height(0),this.updatePointerFromLightness()},colorWithLightness:function(e){var n=this.hue,t=this.saturation,i=0;if(I._hsluvTuple[0]=n,I._hsluvTuple[1]=100*t,I._hsluvTuple[2]=100*e,.001<e){w.hsluvToRgb(I._hsluvTuple,I._hsluvResult);var l=I._hsluvResult[0];l<0&&(l=0);i=i&65535|(255<(r=Math.round(255*l))?255:r<0?0:r)<<16,(l=I._hsluvResult[1])<0&&(l=0);var r=Math.round(255*l),r=(i=i&16711935|(255<r?255:r<0?0:r)<<8,(l=I._hsluvResult[2])<0&&(l=0),Math.round(255*l)),i=i&16776960|(255<r?255:r<0?0:r)}else{var l=(1-Math.abs(2*e-1))*t,s=e-l/2,t=n,h=l,e=(t%=360)/60,a=h*(1-Math.abs(e%2-1))+s;switch(h+=s,0|e){case 0:r=(i=i&65535|(255<(r=Math.round(255*h))?255:r<0?0:r)<<16,Math.round(255*a)),r=(i=i&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*s));i=i&16776960|(255<r?255:r<0?0:r);break;case 1:r=(i=i&65535|(255<(r=Math.round(255*a))?255:r<0?0:r)<<16,Math.round(255*h)),r=(i=i&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*s));i=i&16776960|(255<r?255:r<0?0:r);break;case 2:r=(i=i&65535|(255<(r=Math.round(255*s))?255:r<0?0:r)<<16,Math.round(255*h)),r=(i=i&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*a));i=i&16776960|(255<r?255:r<0?0:r);break;case 3:r=(i=i&65535|(255<(r=Math.round(255*s))?255:r<0?0:r)<<16,Math.round(255*a)),r=(i=i&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*h));i=i&16776960|(255<r?255:r<0?0:r);break;case 4:r=(i=i&65535|(255<(r=Math.round(255*a))?255:r<0?0:r)<<16,Math.round(255*s)),r=(i=i&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*h));i=i&16776960|(255<r?255:r<0?0:r);break;case 5:r=(i=i&65535|(255<(r=Math.round(255*h))?255:r<0?0:r)<<16,Math.round(255*s)),r=(i=i&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*a));i=i&16776960|(255<r?255:r<0?0:r)}}return r=(r=(0|i)-16777216)&16777215|-16777216},handlePointerDown:function(e){he.app.screen.onPointerMove(this,$bind(this,this.handlePointerMove)),this.updateHueFromTouchInfo(e)},handlePointerMove:function(e){this.set_movingPointer(!0),this.updateHueFromTouchInfo(e)},handlePointerUp:function(e){he.app.screen.offPointerMove($bind(this,this.handlePointerMove)),this.set_movingPointer(!1),this.updateHueFromTouchInfo(e)},updateHueFromTouchInfo:function(e){this.screenToVisual(e.x,e.y,P2._point),this.set_lightness(1-Math.max(0,Math.min(P2._point.y/this.get_height(),1))),this.updatePointerFromLightness(),this.emitUpdateHueFromPointer()},unbindEvents:function(){f0.prototype.unbindEvents.call(this),this.offObservedDirty(),this.offMovingPointerChange(),this.offUpdateHueFromPointer()},__class__:P2,__properties__:$extend(f0.prototype.__properties__,{set_spectrumColorsDirty:"set_spectrumColorsDirty",set_saturation:"set_saturation",set_hue:"set_hue",set_lightness:"set_lightness",set_movingPointer:"set_movingPointer",get_movingPointer:"get_movingPointer"})}),(E["elements.ColorPickerPaletteColorView"]=Q2).__name__="elements.ColorPickerPaletteColorView",Q2.__interfaces__=[s],Q2.__super__=f0,Q2.prototype=$extend(f0.prototype,{__cbOnObservedDirty:null,__cbOnceObservedDirty:null,__cbOnOwnerUnbindObservedDirty:null,__cbOnceOwnerUnbindObservedDirty:null,emitObservedDirty:function(e,n){var t=0;if(null!=this.__cbOnObservedDirty&&(t+=this.__cbOnObservedDirty.length),null!=this.__cbOnceObservedDirty&&(t+=this.__cbOnceObservedDirty.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnObservedDirty)for(var s=0,h=this.__cbOnObservedDirty.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnObservedDirty[a],++r):--t}if(null!=this.__cbOnceObservedDirty){for(var o=null,c=null,s=0,h=this.__cbOnceObservedDirty.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceObservedDirty[a],this.__cbOnceObservedDirty[a]=null,u=this.__cbOnceOwnerUnbindObservedDirty[a],(this.__cbOnceOwnerUnbindObservedDirty[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindObservedDirty[a]),c.push(this.__cbOnceObservedDirty[a]))}this.__cbOnceOwnerUnbindObservedDirty=o,this.__cbOnceObservedDirty=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onObservedDirty:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event observedDirty because owner is destroyed!");var l=function(e){null!=t&&(i.offObservedDirty(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push(null);null==this.__cbOnObservedDirty&&(this.__cbOnObservedDirty=[]),this.__cbOnObservedDirty.push(t)},onceObservedDirty:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event observedDirty because owner is destroyed!");var l=function(e){null!=t&&(i.offObservedDirty(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push(null);null==this.__cbOnceObservedDirty&&(this.__cbOnceObservedDirty=[]),this.__cbOnceObservedDirty.push(t)},offObservedDirty:function(e){if(null!=e){var n;null!=this.__cbOnObservedDirty&&-1!=(n=this.__cbOnObservedDirty.indexOf(e))&&(this.__cbOnObservedDirty.splice(n,1),null!=(r=this.__cbOnOwnerUnbindObservedDirty[n])&&r(),this.__cbOnOwnerUnbindObservedDirty.splice(n,1)),null!=this.__cbOnceObservedDirty&&-1!=(n=this.__cbOnceObservedDirty.indexOf(e))&&(this.__cbOnceObservedDirty.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindObservedDirty[n])&&r(),this.__cbOnceOwnerUnbindObservedDirty.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindObservedDirty){for(var t=0,i=this.__cbOnOwnerUnbindObservedDirty.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindObservedDirty[l])&&r()}this.__cbOnOwnerUnbindObservedDirty=null}if(null!=this.__cbOnceOwnerUnbindObservedDirty){for(t=0,i=this.__cbOnceOwnerUnbindObservedDirty.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindObservedDirty[l])&&r()}this.__cbOnceOwnerUnbindObservedDirty=null}this.__cbOnObservedDirty=null,this.__cbOnceObservedDirty=null}},listensObservedDirty:function(){return null!=this.__cbOnObservedDirty&&0<this.__cbOnObservedDirty.length||null!=this.__cbOnceObservedDirty&&0<this.__cbOnceObservedDirty.length},observedDirty:null,click:null,set_click:function(e){return this.click==e?this.click:(null!=this.click&&this.click.destroy(),this.click=e,null!=this.click?(this.component("click",this.click,!0),this.click):(this.removeComponent("click"),null))},longPress:null,set_longPress:function(e){return this.longPress==e?this.longPress:(null!=this.longPress&&this.longPress.destroy(),this.longPress=e,null!=this.longPress?(this.component("longPress",this.longPress,!0),this.longPress):(this.removeComponent("longPress"),null))},dragDrop:null,set_dragDrop:function(e){return this.dragDrop==e?this.dragDrop:(null!=this.dragDrop&&this.dragDrop.destroy(),this.dragDrop=e,null!=this.dragDrop?(this.component("dragDrop",this.dragDrop,!0),this.dragDrop):(this.removeComponent("dragDrop"),null))},__cbOnClick:null,__cbOnceClick:null,__cbOnOwnerUnbindClick:null,__cbOnceOwnerUnbindClick:null,emitClick:function(e){var n=0;if(null!=this.__cbOnClick&&(n+=this.__cbOnClick.length),null!=this.__cbOnceClick&&(n+=this.__cbOnceClick.length),0<n){var t=C.pool(n),i=t.get(),l=0;if(null!=this.__cbOnClick)for(var r=0,s=this.__cbOnClick.length;r<s;){var h=r++;!0?(i.vector[l]=this.__cbOnClick[h],++l):--n}if(null!=this.__cbOnceClick){for(var a=null,o=null,r=0,s=this.__cbOnceClick.length;r<s;){var c,h=r++;!0?(i.vector[l]=this.__cbOnceClick[h],this.__cbOnceClick[h]=null,c=this.__cbOnceOwnerUnbindClick[h],(this.__cbOnceOwnerUnbindClick[h]=null)!=c&&c(),++l):(--n,null==a&&(a=[],o=[],0),a.push(this.__cbOnceOwnerUnbindClick[h]),o.push(this.__cbOnceClick[h]))}this.__cbOnceOwnerUnbindClick=a,this.__cbOnceClick=o}for(r=0,s=n;r<s;){l=r++;(0,i.vector[l])(e)}t.release(i)}},onClick:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event click because owner is destroyed!");var l=function(e){null!=t&&(i.offClick(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindClick&&(this.__cbOnOwnerUnbindClick=[]),this.__cbOnOwnerUnbindClick.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindClick&&(this.__cbOnOwnerUnbindClick=[]),this.__cbOnOwnerUnbindClick.push(null);null==this.__cbOnClick&&(this.__cbOnClick=[]),this.__cbOnClick.push(t)},onceClick:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event click because owner is destroyed!");var l=function(e){null!=t&&(i.offClick(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindClick&&(this.__cbOnceOwnerUnbindClick=[]),this.__cbOnceOwnerUnbindClick.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindClick&&(this.__cbOnceOwnerUnbindClick=[]),this.__cbOnceOwnerUnbindClick.push(null);null==this.__cbOnceClick&&(this.__cbOnceClick=[]),this.__cbOnceClick.push(t)},offClick:function(e){if(null!=e){var n;null!=this.__cbOnClick&&-1!=(n=this.__cbOnClick.indexOf(e))&&(this.__cbOnClick.splice(n,1),null!=(r=this.__cbOnOwnerUnbindClick[n])&&r(),this.__cbOnOwnerUnbindClick.splice(n,1)),null!=this.__cbOnceClick&&-1!=(n=this.__cbOnceClick.indexOf(e))&&(this.__cbOnceClick.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindClick[n])&&r(),this.__cbOnceOwnerUnbindClick.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindClick){for(var t=0,i=this.__cbOnOwnerUnbindClick.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindClick[l])&&r()}this.__cbOnOwnerUnbindClick=null}if(null!=this.__cbOnceOwnerUnbindClick){for(t=0,i=this.__cbOnceOwnerUnbindClick.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindClick[l])&&r()}this.__cbOnceOwnerUnbindClick=null}this.__cbOnClick=null,this.__cbOnceClick=null}},listensClick:function(){return null!=this.__cbOnClick&&0<this.__cbOnClick.length||null!=this.__cbOnceClick&&0<this.__cbOnceClick.length},__cbOnDrop:null,__cbOnceDrop:null,__cbOnOwnerUnbindDrop:null,__cbOnceOwnerUnbindDrop:null,emitDrop:function(e){var n=0;if(null!=this.__cbOnDrop&&(n+=this.__cbOnDrop.length),null!=this.__cbOnceDrop&&(n+=this.__cbOnceDrop.length),0<n){var t=C.pool(n),i=t.get(),l=0;if(null!=this.__cbOnDrop)for(var r=0,s=this.__cbOnDrop.length;r<s;){var h=r++;!0?(i.vector[l]=this.__cbOnDrop[h],++l):--n}if(null!=this.__cbOnceDrop){for(var a=null,o=null,r=0,s=this.__cbOnceDrop.length;r<s;){var c,h=r++;!0?(i.vector[l]=this.__cbOnceDrop[h],this.__cbOnceDrop[h]=null,c=this.__cbOnceOwnerUnbindDrop[h],(this.__cbOnceOwnerUnbindDrop[h]=null)!=c&&c(),++l):(--n,null==a&&(a=[],o=[],0),a.push(this.__cbOnceOwnerUnbindDrop[h]),o.push(this.__cbOnceDrop[h]))}this.__cbOnceOwnerUnbindDrop=a,this.__cbOnceDrop=o}for(r=0,s=n;r<s;){l=r++;(0,i.vector[l])(e)}t.release(i)}},onDrop:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event drop because owner is destroyed!");var l=function(e){null!=t&&(i.offDrop(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindDrop&&(this.__cbOnOwnerUnbindDrop=[]),this.__cbOnOwnerUnbindDrop.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindDrop&&(this.__cbOnOwnerUnbindDrop=[]),this.__cbOnOwnerUnbindDrop.push(null);null==this.__cbOnDrop&&(this.__cbOnDrop=[]),this.__cbOnDrop.push(t)},onceDrop:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event drop because owner is destroyed!");var l=function(e){null!=t&&(i.offDrop(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindDrop&&(this.__cbOnceOwnerUnbindDrop=[]),this.__cbOnceOwnerUnbindDrop.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindDrop&&(this.__cbOnceOwnerUnbindDrop=[]),this.__cbOnceOwnerUnbindDrop.push(null);null==this.__cbOnceDrop&&(this.__cbOnceDrop=[]),this.__cbOnceDrop.push(t)},offDrop:function(e){if(null!=e){var n;null!=this.__cbOnDrop&&-1!=(n=this.__cbOnDrop.indexOf(e))&&(this.__cbOnDrop.splice(n,1),null!=(r=this.__cbOnOwnerUnbindDrop[n])&&r(),this.__cbOnOwnerUnbindDrop.splice(n,1)),null!=this.__cbOnceDrop&&-1!=(n=this.__cbOnceDrop.indexOf(e))&&(this.__cbOnceDrop.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindDrop[n])&&r(),this.__cbOnceOwnerUnbindDrop.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindDrop){for(var t=0,i=this.__cbOnOwnerUnbindDrop.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindDrop[l])&&r()}this.__cbOnOwnerUnbindDrop=null}if(null!=this.__cbOnceOwnerUnbindDrop){for(t=0,i=this.__cbOnceOwnerUnbindDrop.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindDrop[l])&&r()}this.__cbOnceOwnerUnbindDrop=null}this.__cbOnDrop=null,this.__cbOnceDrop=null}},listensDrop:function(){return null!=this.__cbOnDrop&&0<this.__cbOnDrop.length||null!=this.__cbOnceDrop&&0<this.__cbOnceDrop.length},__cbOnLongPress:null,__cbOnceLongPress:null,__cbOnOwnerUnbindLongPress:null,__cbOnceOwnerUnbindLongPress:null,emitLongPress:function(e,n){var t=0;if(null!=this.__cbOnLongPress&&(t+=this.__cbOnLongPress.length),null!=this.__cbOnceLongPress&&(t+=this.__cbOnceLongPress.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnLongPress)for(var s=0,h=this.__cbOnLongPress.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnLongPress[a],++r):--t}if(null!=this.__cbOnceLongPress){for(var o=null,c=null,s=0,h=this.__cbOnceLongPress.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceLongPress[a],this.__cbOnceLongPress[a]=null,u=this.__cbOnceOwnerUnbindLongPress[a],(this.__cbOnceOwnerUnbindLongPress[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindLongPress[a]),c.push(this.__cbOnceLongPress[a]))}this.__cbOnceOwnerUnbindLongPress=o,this.__cbOnceLongPress=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onLongPress:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event longPress because owner is destroyed!");var l=function(e){null!=t&&(i.offLongPress(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindLongPress&&(this.__cbOnOwnerUnbindLongPress=[]),this.__cbOnOwnerUnbindLongPress.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindLongPress&&(this.__cbOnOwnerUnbindLongPress=[]),this.__cbOnOwnerUnbindLongPress.push(null);null==this.__cbOnLongPress&&(this.__cbOnLongPress=[]),this.__cbOnLongPress.push(t)},onceLongPress:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event longPress because owner is destroyed!");var l=function(e){null!=t&&(i.offLongPress(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindLongPress&&(this.__cbOnceOwnerUnbindLongPress=[]),this.__cbOnceOwnerUnbindLongPress.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindLongPress&&(this.__cbOnceOwnerUnbindLongPress=[]),this.__cbOnceOwnerUnbindLongPress.push(null);null==this.__cbOnceLongPress&&(this.__cbOnceLongPress=[]),this.__cbOnceLongPress.push(t)},offLongPress:function(e){if(null!=e){var n;null!=this.__cbOnLongPress&&-1!=(n=this.__cbOnLongPress.indexOf(e))&&(this.__cbOnLongPress.splice(n,1),null!=(r=this.__cbOnOwnerUnbindLongPress[n])&&r(),this.__cbOnOwnerUnbindLongPress.splice(n,1)),null!=this.__cbOnceLongPress&&-1!=(n=this.__cbOnceLongPress.indexOf(e))&&(this.__cbOnceLongPress.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindLongPress[n])&&r(),this.__cbOnceOwnerUnbindLongPress.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindLongPress){for(var t=0,i=this.__cbOnOwnerUnbindLongPress.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindLongPress[l])&&r()}this.__cbOnOwnerUnbindLongPress=null}if(null!=this.__cbOnceOwnerUnbindLongPress){for(t=0,i=this.__cbOnceOwnerUnbindLongPress.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindLongPress[l])&&r()}this.__cbOnceOwnerUnbindLongPress=null}this.__cbOnLongPress=null,this.__cbOnceLongPress=null}},listensLongPress:function(){return null!=this.__cbOnLongPress&&0<this.__cbOnLongPress.length||null!=this.__cbOnceLongPress&&0<this.__cbOnceLongPress.length},get_dragging:function(){return this.dragDrop.get_dragging()},colorValue:null,set_colorValue:function(e){return this.colorValue!=e&&(this.colorValue=e,this.color=e),e},updateStyle:function(){this.dragDrop.get_dragging()?(this.transform.tx=this.dragDrop.get_dragX(),this.transform.ty=this.dragDrop.get_dragY()):this.click.get_pressed()?(this.transform.tx=0,this.transform.ty=1):(this.transform.tx=0,this.transform.ty=0),this.transform.changedDirty=!0},bindDraggingDepth:function(){var e=this,n=this.computedDepth;he.app.onBeginSortVisuals(this,function(){n=e.computedDepth,e.dragDrop.get_dragging()&&(e.computedDepth=9999999)}),he.app.onFinishSortVisuals(this,function(){e.computedDepth=n})},getDraggingVisual:function(){return this},releaseDraggingVisual:function(e){},handleDraggingChange:function(e,n){n&&!e&&this.emitDrop(this)},toString:function(){var e;return"ColorPickerPaletteColorView("+(null==this.colorValue?"null":-1==(e=this.colorValue)?"NONE":"0x"+z.hex(e>>16&255,2)+z.hex(e>>8&255,2)+z.hex(255&e,2))+")"},unbindEvents:function(){f0.prototype.unbindEvents.call(this),this.offObservedDirty(),this.offClick(),this.offDrop(),this.offLongPress()},__class__:Q2,__properties__:$extend(f0.prototype.__properties__,{set_colorValue:"set_colorValue",get_dragging:"get_dragging",set_dragDrop:"set_dragDrop",set_longPress:"set_longPress",set_click:"set_click"})}),(E["elements.RelatedToFieldView"]=R2).__name__="elements.RelatedToFieldView",R2.__isInterface__=!0,R2.prototype={relatedFieldView:null,__class__:R2},function(e){this.unobservedPaletteColorPreviews=[],this.paletteColorPreviewsAutoruns=null,this.lastDraggingColorPreview=null,this.lastDraggingColorDropIndex=-1,this.hslFieldsLocked=0,this.updatingColor=0,this.hslLightnessFieldValue="0",this.hslSaturationFieldValue="0",this.hslHueFieldValue="0",this.rgbBlueFieldValue="255",this.rgbGreenFieldValue="255",this.rgbRedFieldValue="255",this.unobservedPaletteHeight=0,this.paletteHeightAutoruns=null,this.computedOnceDraggingColorDropIndex=!1,this.draggingColorDropIndexAutoruns=null,this.computedOnceDraggingColorPreview=!1,this.draggingColorPreviewAutoruns=null,this.unobservedColorValue=16777215,this.colorValueAutoruns=null,this.unobservedTheme=null,this.themeAutoruns=null,this.observedDirty=!1;var t=this,e=(Ab.call(this),this.colorFieldView=e,this.padding(O.PADDING),this.flags&=-17,1!=this.borderTopSize&&(this.borderTopSize=1,this.updateBorder()),1!=this.borderRightSize&&(this.borderRightSize=1,this.updateBorder()),1!=this.borderBottomSize&&(this.borderBottomSize=1,this.updateBorder()),1!=this.borderLeftSize&&(this.borderLeftSize=1,this.updateBorder()),Ve.OUTSIDE),e=(this.borderPosition!=e&&(this.borderPosition=e,0<this.borderSize||0<this.borderTopSize||0<this.borderBottomSize||0<this.borderLeftSize||0<this.borderRightSize)&&this.updateBorder(),this.set_roundTranslation(1),this.onPointerDown(this,function(e){}),this.onPointerOver(this,function(e){}),this.onPointerOut(this,function(e){}),this.component(null,new Si),this.hsbGradientView=new M2,this.hsbGradientView);e.set_viewWidth(O.GRADIENT_SIZE),e.set_viewHeight(O.GRADIENT_SIZE),this.hsbGradientView.onUpdateColorFromPointer(this,function(){t.setColorFromHSB(t.hsbGradientView.hue,t.hsbGradientView.getSaturationFromPointer(),t.hsbGradientView.getBrightnessFromPointer())}),this.add(this.hsbGradientView),this.hsluvGradientView=new O2,(e=this.hsluvGradientView).set_viewWidth(O.GRADIENT_SIZE),e.set_viewHeight(O.GRADIENT_SIZE),this.hsluvGradientView.onUpdateColorFromPointer(this,function(){t.setColorFromHSLuv(t.hsluvGradientView.getHueFromPointer(),t.hsluvGradientView.getSaturationFromPointer(),t.hsluvGradientView.lightness)}),this.add(this.hsluvGradientView),this.hsbSpectrumView=new N2,(e=this.hsbSpectrumView).set_viewWidth(O.SPECTRUM_WIDTH),e.set_viewHeight(O.GRADIENT_SIZE),(e=this.hsbSpectrumView).set_offsetX(this.hsbGradientView.viewWidth+O.PADDING),e.set_offsetY(0),this.hsbSpectrumView.onMovingPointerChange(this,function(e,n){t.hsbGradientView.movingSpectrum=e}),this.hsbSpectrumView.onUpdateHueFromPointer(this,function(){t.hsbGradientView.savePointerPosition(),t.hsbGradientView.updateTintColor(t.hsbSpectrumView.hue),t.setColorFromHSB(t.hsbGradientView.hue,t.hsbGradientView.getSaturationFromPointer(),t.hsbGradientView.getBrightnessFromPointer()),t.hsbGradientView.restorePointerPosition()}),this.add(this.hsbSpectrumView),this.hsluvSpectrumView=new P2,(e=this.hsluvSpectrumView).set_viewWidth(O.SPECTRUM_WIDTH),e.set_viewHeight(O.GRADIENT_SIZE);(e=this.hsluvSpectrumView).set_offsetX(this.hsluvGradientView.viewWidth+O.PADDING),e.set_offsetY(0),this.hsluvSpectrumView.onMovingPointerChange(this,function(e,n){t.hsluvGradientView.movingSpectrum=e}),this.hsluvSpectrumView.onUpdateHueFromPointer(this,function(){t.hsluvGradientView.savePointerPosition(),t.hsluvGradientView.updateGradientColors(t.hsluvSpectrumView.lightness),t.setColorFromHSLuv(t.hsluvGradientView.getHueFromPointer(),t.hsluvGradientView.getSaturationFromPointer(),t.hsluvGradientView.lightness),t.hsluvGradientView.restorePointerPosition()}),this.add(this.hsluvSpectrumView);var e=this.hsbGradientView.viewWidth+this.hsbSpectrumView.viewWidth+2*O.PADDING,n=(this.initRGBFields(e),e+=O.FIELD_ROW_WIDTH+O.PADDING,this.initHSLFields(e)),e=this.hsbGradientView.viewWidth+this.hsbSpectrumView.viewWidth+2*O.PADDING;this.initPaletteUI(e,n),this.autorun($bind(this,this.updateStyle)),this.autorun($bind(this,this.updateColorPreviews)),this.autorun($bind(this,this.updateSize)),this.autorun($bind(this,this.updateFromColorDrop))}),te=((E["elements.ColorPickerView"]=O).__name__="elements.ColorPickerView",O.__interfaces__=[R2,s],O.__super__=Ab,O.prototype=$extend(Ab.prototype,{__cbOnObservedDirty:null,__cbOnceObservedDirty:null,__cbOnOwnerUnbindObservedDirty:null,__cbOnceOwnerUnbindObservedDirty:null,emitObservedDirty:function(e,n){var t=0;if(null!=this.__cbOnObservedDirty&&(t+=this.__cbOnObservedDirty.length),null!=this.__cbOnceObservedDirty&&(t+=this.__cbOnceObservedDirty.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnObservedDirty)for(var s=0,h=this.__cbOnObservedDirty.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnObservedDirty[a],++r):--t}if(null!=this.__cbOnceObservedDirty){for(var o=null,c=null,s=0,h=this.__cbOnceObservedDirty.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceObservedDirty[a],this.__cbOnceObservedDirty[a]=null,u=this.__cbOnceOwnerUnbindObservedDirty[a],(this.__cbOnceOwnerUnbindObservedDirty[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindObservedDirty[a]),c.push(this.__cbOnceObservedDirty[a]))}this.__cbOnceOwnerUnbindObservedDirty=o,this.__cbOnceObservedDirty=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onObservedDirty:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event observedDirty because owner is destroyed!");var l=function(e){null!=t&&(i.offObservedDirty(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push(null);null==this.__cbOnObservedDirty&&(this.__cbOnObservedDirty=[]),this.__cbOnObservedDirty.push(t)},onceObservedDirty:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event observedDirty because owner is destroyed!");var l=function(e){null!=t&&(i.offObservedDirty(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push(null);null==this.__cbOnceObservedDirty&&(this.__cbOnceObservedDirty=[]),this.__cbOnceObservedDirty.push(t)},offObservedDirty:function(e){if(null!=e){var n;null!=this.__cbOnObservedDirty&&-1!=(n=this.__cbOnObservedDirty.indexOf(e))&&(this.__cbOnObservedDirty.splice(n,1),null!=(r=this.__cbOnOwnerUnbindObservedDirty[n])&&r(),this.__cbOnOwnerUnbindObservedDirty.splice(n,1)),null!=this.__cbOnceObservedDirty&&-1!=(n=this.__cbOnceObservedDirty.indexOf(e))&&(this.__cbOnceObservedDirty.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindObservedDirty[n])&&r(),this.__cbOnceOwnerUnbindObservedDirty.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindObservedDirty){for(var t=0,i=this.__cbOnOwnerUnbindObservedDirty.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindObservedDirty[l])&&r()}this.__cbOnOwnerUnbindObservedDirty=null}if(null!=this.__cbOnceOwnerUnbindObservedDirty){for(t=0,i=this.__cbOnceOwnerUnbindObservedDirty.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindObservedDirty[l])&&r()}this.__cbOnceOwnerUnbindObservedDirty=null}this.__cbOnObservedDirty=null,this.__cbOnceObservedDirty=null}},listensObservedDirty:function(){return null!=this.__cbOnObservedDirty&&0<this.__cbOnObservedDirty.length||null!=this.__cbOnceObservedDirty&&0<this.__cbOnceObservedDirty.length},observedDirty:null,themeAutoruns:null,get_theme:function(){var e,n,t=this.unobservedTheme;return null!=U.current&&(e=U.current,null!=(n=this.themeAutoruns)||(n=U.getAutorunArray(),null!=(this.themeAutoruns=n)))&&e.bindToAutorunArray(n),t},set_theme:function(e){var n=this.unobservedTheme;return n!=(this.unobservedTheme=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitThemeChange(e,n),null!=(n=this.themeAutoruns))&&(this.themeAutoruns=null,U.invalidateAutorunArray(n)),e},invalidateTheme:function(){var e=this.unobservedTheme,e=(this.emitThemeChange(e,e),this.themeAutoruns);null!=e&&(this.themeAutoruns=null,U.invalidateAutorunArray(e))},unobservedTheme:null,__cbOnThemeChange:null,__cbOnceThemeChange:null,__cbOnOwnerUnbindThemeChange:null,__cbOnceOwnerUnbindThemeChange:null,emitThemeChange:function(e,n){var t=0;if(null!=this.__cbOnThemeChange&&(t+=this.__cbOnThemeChange.length),null!=this.__cbOnceThemeChange&&(t+=this.__cbOnceThemeChange.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnThemeChange)for(var s=0,h=this.__cbOnThemeChange.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnThemeChange[a],++r):--t}if(null!=this.__cbOnceThemeChange){for(var o=null,c=null,s=0,h=this.__cbOnceThemeChange.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceThemeChange[a],this.__cbOnceThemeChange[a]=null,u=this.__cbOnceOwnerUnbindThemeChange[a],(this.__cbOnceOwnerUnbindThemeChange[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindThemeChange[a]),c.push(this.__cbOnceThemeChange[a]))}this.__cbOnceOwnerUnbindThemeChange=o,this.__cbOnceThemeChange=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onThemeChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event themeChange because owner is destroyed!");var l=function(e){null!=t&&(i.offThemeChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindThemeChange&&(this.__cbOnOwnerUnbindThemeChange=[]),this.__cbOnOwnerUnbindThemeChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindThemeChange&&(this.__cbOnOwnerUnbindThemeChange=[]),this.__cbOnOwnerUnbindThemeChange.push(null);null==this.__cbOnThemeChange&&(this.__cbOnThemeChange=[]),this.__cbOnThemeChange.push(t)},onceThemeChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event themeChange because owner is destroyed!");var l=function(e){null!=t&&(i.offThemeChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindThemeChange&&(this.__cbOnceOwnerUnbindThemeChange=[]),this.__cbOnceOwnerUnbindThemeChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindThemeChange&&(this.__cbOnceOwnerUnbindThemeChange=[]),this.__cbOnceOwnerUnbindThemeChange.push(null);null==this.__cbOnceThemeChange&&(this.__cbOnceThemeChange=[]),this.__cbOnceThemeChange.push(t)},offThemeChange:function(e){if(null!=e){var n;null!=this.__cbOnThemeChange&&-1!=(n=this.__cbOnThemeChange.indexOf(e))&&(this.__cbOnThemeChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindThemeChange[n])&&r(),this.__cbOnOwnerUnbindThemeChange.splice(n,1)),null!=this.__cbOnceThemeChange&&-1!=(n=this.__cbOnceThemeChange.indexOf(e))&&(this.__cbOnceThemeChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindThemeChange[n])&&r(),this.__cbOnceOwnerUnbindThemeChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindThemeChange){for(var t=0,i=this.__cbOnOwnerUnbindThemeChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindThemeChange[l])&&r()}this.__cbOnOwnerUnbindThemeChange=null}if(null!=this.__cbOnceOwnerUnbindThemeChange){for(t=0,i=this.__cbOnceOwnerUnbindThemeChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindThemeChange[l])&&r()}this.__cbOnceOwnerUnbindThemeChange=null}this.__cbOnThemeChange=null,this.__cbOnceThemeChange=null}},listensThemeChange:function(){return null!=this.__cbOnThemeChange&&0<this.__cbOnThemeChange.length||null!=this.__cbOnceThemeChange&&0<this.__cbOnceThemeChange.length},colorValueAutoruns:null,get_colorValue:function(){var e,n,t=this.unobservedColorValue;return null!=U.current&&(e=U.current,null!=(n=this.colorValueAutoruns)||(n=U.getAutorunArray(),null!=(this.colorValueAutoruns=n)))&&e.bindToAutorunArray(n),t},set_colorValue:function(e){var n=this.unobservedColorValue;return n!=(this.unobservedColorValue=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitColorValueChange(e,n),null!=(n=this.colorValueAutoruns))&&(this.colorValueAutoruns=null,U.invalidateAutorunArray(n)),e},invalidateColorValue:function(){var e=this.unobservedColorValue,e=(this.emitColorValueChange(e,e),this.colorValueAutoruns);null!=e&&(this.colorValueAutoruns=null,U.invalidateAutorunArray(e))},unobservedColorValue:null,__cbOnColorValueChange:null,__cbOnceColorValueChange:null,__cbOnOwnerUnbindColorValueChange:null,__cbOnceOwnerUnbindColorValueChange:null,emitColorValueChange:function(e,n){var t=0;if(null!=this.__cbOnColorValueChange&&(t+=this.__cbOnColorValueChange.length),null!=this.__cbOnceColorValueChange&&(t+=this.__cbOnceColorValueChange.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnColorValueChange)for(var s=0,h=this.__cbOnColorValueChange.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnColorValueChange[a],++r):--t}if(null!=this.__cbOnceColorValueChange){for(var o=null,c=null,s=0,h=this.__cbOnceColorValueChange.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceColorValueChange[a],this.__cbOnceColorValueChange[a]=null,u=this.__cbOnceOwnerUnbindColorValueChange[a],(this.__cbOnceOwnerUnbindColorValueChange[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindColorValueChange[a]),c.push(this.__cbOnceColorValueChange[a]))}this.__cbOnceOwnerUnbindColorValueChange=o,this.__cbOnceColorValueChange=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onColorValueChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event colorValueChange because owner is destroyed!");var l=function(e){null!=t&&(i.offColorValueChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindColorValueChange&&(this.__cbOnOwnerUnbindColorValueChange=[]),this.__cbOnOwnerUnbindColorValueChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindColorValueChange&&(this.__cbOnOwnerUnbindColorValueChange=[]),this.__cbOnOwnerUnbindColorValueChange.push(null);null==this.__cbOnColorValueChange&&(this.__cbOnColorValueChange=[]),this.__cbOnColorValueChange.push(t)},onceColorValueChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event colorValueChange because owner is destroyed!");var l=function(e){null!=t&&(i.offColorValueChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindColorValueChange&&(this.__cbOnceOwnerUnbindColorValueChange=[]),this.__cbOnceOwnerUnbindColorValueChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindColorValueChange&&(this.__cbOnceOwnerUnbindColorValueChange=[]),this.__cbOnceOwnerUnbindColorValueChange.push(null);null==this.__cbOnceColorValueChange&&(this.__cbOnceColorValueChange=[]),this.__cbOnceColorValueChange.push(t)},offColorValueChange:function(e){if(null!=e){var n;null!=this.__cbOnColorValueChange&&-1!=(n=this.__cbOnColorValueChange.indexOf(e))&&(this.__cbOnColorValueChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindColorValueChange[n])&&r(),this.__cbOnOwnerUnbindColorValueChange.splice(n,1)),null!=this.__cbOnceColorValueChange&&-1!=(n=this.__cbOnceColorValueChange.indexOf(e))&&(this.__cbOnceColorValueChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindColorValueChange[n])&&r(),this.__cbOnceOwnerUnbindColorValueChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindColorValueChange){for(var t=0,i=this.__cbOnOwnerUnbindColorValueChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindColorValueChange[l])&&r()}this.__cbOnOwnerUnbindColorValueChange=null}if(null!=this.__cbOnceOwnerUnbindColorValueChange){for(t=0,i=this.__cbOnceOwnerUnbindColorValueChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindColorValueChange[l])&&r()}this.__cbOnceOwnerUnbindColorValueChange=null}this.__cbOnColorValueChange=null,this.__cbOnceColorValueChange=null}},listensColorValueChange:function(){return null!=this.__cbOnColorValueChange&&0<this.__cbOnColorValueChange.length||null!=this.__cbOnceColorValueChange&&0<this.__cbOnceColorValueChange.length},willListenDraggingColorPreviewChange:function(){this.get_unobservedDraggingColorPreview()},get_unobservedDraggingColorPreview:function(){var n,t;return 0<=this._lifecycleState?null==this.computeAutorunDraggingColorPreview?(n=this,t=new U(null),this.computedOnceDraggingColorPreview=!0,(this.computeAutorunDraggingColorPreview=t).onRun=function(){var e=n.computeDraggingColorPreview();U.unobserve(),n.set_draggingColorPreview(e),U.reobserve()},t.onDestroy(this,function(e){n.computeAutorunDraggingColorPreview==t&&(n.computeAutorunDraggingColorPreview=null),n=t=null}),this.onDestroy(t,function(e){null!=t&&(t.destroy(),t=null),n=null}),t.run()):this.computeAutorunDraggingColorPreview.invalidated&&this.computeAutorunDraggingColorPreview.run():this.computedOnceDraggingColorPreview||(U.unobserve(),this.computedOnceDraggingColorPreview=!0,this.unobservedDraggingColorPreview=this.computeDraggingColorPreview(),U.reobserve()),this.unobservedDraggingColorPreview},draggingColorPreviewAutoruns:null,get_draggingColorPreview:function(){var e,n,t=this.get_unobservedDraggingColorPreview();return null!=U.current&&(e=U.current,null!=(n=this.draggingColorPreviewAutoruns)||(n=U.getAutorunArray(),null!=(this.draggingColorPreviewAutoruns=n)))&&e.bindToAutorunArray(n),t},set_draggingColorPreview:function(e){var n=this.get_unobservedDraggingColorPreview();return n!=(this.unobservedDraggingColorPreview=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitDraggingColorPreviewChange(e,n),null!=(n=this.draggingColorPreviewAutoruns))&&(this.draggingColorPreviewAutoruns=null,U.invalidateAutorunArray(n)),e},invalidateDraggingColorPreview:function(){var e=this.get_unobservedDraggingColorPreview(),e=(this.emitDraggingColorPreviewChange(e,e),this.draggingColorPreviewAutoruns);null!=e&&(this.draggingColorPreviewAutoruns=null,U.invalidateAutorunArray(e))},unobservedDraggingColorPreview:null,__cbOnDraggingColorPreviewChange:null,__cbOnceDraggingColorPreviewChange:null,__cbOnOwnerUnbindDraggingColorPreviewChange:null,__cbOnceOwnerUnbindDraggingColorPreviewChange:null,emitDraggingColorPreviewChange:function(e,n){var t=0;if(null!=this.__cbOnDraggingColorPreviewChange&&(t+=this.__cbOnDraggingColorPreviewChange.length),null!=this.__cbOnceDraggingColorPreviewChange&&(t+=this.__cbOnceDraggingColorPreviewChange.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnDraggingColorPreviewChange)for(var s=0,h=this.__cbOnDraggingColorPreviewChange.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnDraggingColorPreviewChange[a],++r):--t}if(null!=this.__cbOnceDraggingColorPreviewChange){for(var o=null,c=null,s=0,h=this.__cbOnceDraggingColorPreviewChange.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceDraggingColorPreviewChange[a],this.__cbOnceDraggingColorPreviewChange[a]=null,u=this.__cbOnceOwnerUnbindDraggingColorPreviewChange[a],(this.__cbOnceOwnerUnbindDraggingColorPreviewChange[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindDraggingColorPreviewChange[a]),c.push(this.__cbOnceDraggingColorPreviewChange[a]))}this.__cbOnceOwnerUnbindDraggingColorPreviewChange=o,this.__cbOnceDraggingColorPreviewChange=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onDraggingColorPreviewChange:function(n,t){var i=this;if(null==this.__cbOnDraggingColorPreviewChange&&null==this.__cbOnceDraggingColorPreviewChange&&this.willListenDraggingColorPreviewChange(),null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event draggingColorPreviewChange because owner is destroyed!");var l=function(e){null!=t&&(i.offDraggingColorPreviewChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindDraggingColorPreviewChange&&(this.__cbOnOwnerUnbindDraggingColorPreviewChange=[]),this.__cbOnOwnerUnbindDraggingColorPreviewChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindDraggingColorPreviewChange&&(this.__cbOnOwnerUnbindDraggingColorPreviewChange=[]),this.__cbOnOwnerUnbindDraggingColorPreviewChange.push(null);null==this.__cbOnDraggingColorPreviewChange&&(this.__cbOnDraggingColorPreviewChange=[]),this.__cbOnDraggingColorPreviewChange.push(t)},onceDraggingColorPreviewChange:function(n,t){var i=this;if(null==this.__cbOnDraggingColorPreviewChange&&null==this.__cbOnceDraggingColorPreviewChange&&this.willListenDraggingColorPreviewChange(),null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event draggingColorPreviewChange because owner is destroyed!");var l=function(e){null!=t&&(i.offDraggingColorPreviewChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindDraggingColorPreviewChange&&(this.__cbOnceOwnerUnbindDraggingColorPreviewChange=[]),this.__cbOnceOwnerUnbindDraggingColorPreviewChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindDraggingColorPreviewChange&&(this.__cbOnceOwnerUnbindDraggingColorPreviewChange=[]),this.__cbOnceOwnerUnbindDraggingColorPreviewChange.push(null);null==this.__cbOnceDraggingColorPreviewChange&&(this.__cbOnceDraggingColorPreviewChange=[]),this.__cbOnceDraggingColorPreviewChange.push(t)},offDraggingColorPreviewChange:function(e){if(null!=e){var n;null!=this.__cbOnDraggingColorPreviewChange&&-1!=(n=this.__cbOnDraggingColorPreviewChange.indexOf(e))&&(this.__cbOnDraggingColorPreviewChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindDraggingColorPreviewChange[n])&&r(),this.__cbOnOwnerUnbindDraggingColorPreviewChange.splice(n,1)),null!=this.__cbOnceDraggingColorPreviewChange&&-1!=(n=this.__cbOnceDraggingColorPreviewChange.indexOf(e))&&(this.__cbOnceDraggingColorPreviewChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindDraggingColorPreviewChange[n])&&r(),this.__cbOnceOwnerUnbindDraggingColorPreviewChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindDraggingColorPreviewChange){for(var t=0,i=this.__cbOnOwnerUnbindDraggingColorPreviewChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindDraggingColorPreviewChange[l])&&r()}this.__cbOnOwnerUnbindDraggingColorPreviewChange=null}if(null!=this.__cbOnceOwnerUnbindDraggingColorPreviewChange){for(t=0,i=this.__cbOnceOwnerUnbindDraggingColorPreviewChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindDraggingColorPreviewChange[l])&&r()}this.__cbOnceOwnerUnbindDraggingColorPreviewChange=null}this.__cbOnDraggingColorPreviewChange=null,this.__cbOnceDraggingColorPreviewChange=null}},listensDraggingColorPreviewChange:function(){return null!=this.__cbOnDraggingColorPreviewChange&&0<this.__cbOnDraggingColorPreviewChange.length||null!=this.__cbOnceDraggingColorPreviewChange&&0<this.__cbOnceDraggingColorPreviewChange.length},computeDraggingColorPreview:function(){var e=this.get_paletteColorPreviews();if(null!=e)for(var n=0,t=e.length;n<t;){var i=e[n++];if(i.dragDrop.get_dragging())return i}return null},computeAutorunDraggingColorPreview:null,computedOnceDraggingColorPreview:null,willListenDraggingColorDropIndexChange:function(){this.get_unobservedDraggingColorDropIndex()},get_unobservedDraggingColorDropIndex:function(){var n,t;return 0<=this._lifecycleState?null==this.computeAutorunDraggingColorDropIndex?(n=this,t=new U(null),this.computedOnceDraggingColorDropIndex=!0,(this.computeAutorunDraggingColorDropIndex=t).onRun=function(){var e=n.computeDraggingColorDropIndex();U.unobserve(),n.set_draggingColorDropIndex(e),U.reobserve()},t.onDestroy(this,function(e){n.computeAutorunDraggingColorDropIndex==t&&(n.computeAutorunDraggingColorDropIndex=null),n=t=null}),this.onDestroy(t,function(e){null!=t&&(t.destroy(),t=null),n=null}),t.run()):this.computeAutorunDraggingColorDropIndex.invalidated&&this.computeAutorunDraggingColorDropIndex.run():this.computedOnceDraggingColorDropIndex||(U.unobserve(),this.computedOnceDraggingColorDropIndex=!0,this.unobservedDraggingColorDropIndex=this.computeDraggingColorDropIndex(),U.reobserve()),this.unobservedDraggingColorDropIndex},draggingColorDropIndexAutoruns:null,get_draggingColorDropIndex:function(){var e,n,t=this.get_unobservedDraggingColorDropIndex();return null!=U.current&&(e=U.current,null!=(n=this.draggingColorDropIndexAutoruns)||(n=U.getAutorunArray(),null!=(this.draggingColorDropIndexAutoruns=n)))&&e.bindToAutorunArray(n),t},set_draggingColorDropIndex:function(e){var n=this.get_unobservedDraggingColorDropIndex();return n!=(this.unobservedDraggingColorDropIndex=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitDraggingColorDropIndexChange(e,n),null!=(n=this.draggingColorDropIndexAutoruns))&&(this.draggingColorDropIndexAutoruns=null,U.invalidateAutorunArray(n)),e},invalidateDraggingColorDropIndex:function(){var e=this.get_unobservedDraggingColorDropIndex(),e=(this.emitDraggingColorDropIndexChange(e,e),this.draggingColorDropIndexAutoruns);null!=e&&(this.draggingColorDropIndexAutoruns=null,U.invalidateAutorunArray(e))},unobservedDraggingColorDropIndex:null,__cbOnDraggingColorDropIndexChange:null,__cbOnceDraggingColorDropIndexChange:null,__cbOnOwnerUnbindDraggingColorDropIndexChange:null,__cbOnceOwnerUnbindDraggingColorDropIndexChange:null,emitDraggingColorDropIndexChange:function(e,n){var t=0;if(null!=this.__cbOnDraggingColorDropIndexChange&&(t+=this.__cbOnDraggingColorDropIndexChange.length),null!=this.__cbOnceDraggingColorDropIndexChange&&(t+=this.__cbOnceDraggingColorDropIndexChange.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnDraggingColorDropIndexChange)for(var s=0,h=this.__cbOnDraggingColorDropIndexChange.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnDraggingColorDropIndexChange[a],++r):--t}if(null!=this.__cbOnceDraggingColorDropIndexChange){for(var o=null,c=null,s=0,h=this.__cbOnceDraggingColorDropIndexChange.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceDraggingColorDropIndexChange[a],this.__cbOnceDraggingColorDropIndexChange[a]=null,u=this.__cbOnceOwnerUnbindDraggingColorDropIndexChange[a],(this.__cbOnceOwnerUnbindDraggingColorDropIndexChange[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindDraggingColorDropIndexChange[a]),c.push(this.__cbOnceDraggingColorDropIndexChange[a]))}this.__cbOnceOwnerUnbindDraggingColorDropIndexChange=o,this.__cbOnceDraggingColorDropIndexChange=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onDraggingColorDropIndexChange:function(n,t){var i=this;if(null==this.__cbOnDraggingColorDropIndexChange&&null==this.__cbOnceDraggingColorDropIndexChange&&this.willListenDraggingColorDropIndexChange(),null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event draggingColorDropIndexChange because owner is destroyed!");var l=function(e){null!=t&&(i.offDraggingColorDropIndexChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindDraggingColorDropIndexChange&&(this.__cbOnOwnerUnbindDraggingColorDropIndexChange=[]),this.__cbOnOwnerUnbindDraggingColorDropIndexChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindDraggingColorDropIndexChange&&(this.__cbOnOwnerUnbindDraggingColorDropIndexChange=[]),this.__cbOnOwnerUnbindDraggingColorDropIndexChange.push(null);null==this.__cbOnDraggingColorDropIndexChange&&(this.__cbOnDraggingColorDropIndexChange=[]),this.__cbOnDraggingColorDropIndexChange.push(t)},onceDraggingColorDropIndexChange:function(n,t){var i=this;if(null==this.__cbOnDraggingColorDropIndexChange&&null==this.__cbOnceDraggingColorDropIndexChange&&this.willListenDraggingColorDropIndexChange(),null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event draggingColorDropIndexChange because owner is destroyed!");var l=function(e){null!=t&&(i.offDraggingColorDropIndexChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindDraggingColorDropIndexChange&&(this.__cbOnceOwnerUnbindDraggingColorDropIndexChange=[]),this.__cbOnceOwnerUnbindDraggingColorDropIndexChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindDraggingColorDropIndexChange&&(this.__cbOnceOwnerUnbindDraggingColorDropIndexChange=[]),this.__cbOnceOwnerUnbindDraggingColorDropIndexChange.push(null);null==this.__cbOnceDraggingColorDropIndexChange&&(this.__cbOnceDraggingColorDropIndexChange=[]),this.__cbOnceDraggingColorDropIndexChange.push(t)},offDraggingColorDropIndexChange:function(e){if(null!=e){var n;null!=this.__cbOnDraggingColorDropIndexChange&&-1!=(n=this.__cbOnDraggingColorDropIndexChange.indexOf(e))&&(this.__cbOnDraggingColorDropIndexChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindDraggingColorDropIndexChange[n])&&r(),this.__cbOnOwnerUnbindDraggingColorDropIndexChange.splice(n,1)),null!=this.__cbOnceDraggingColorDropIndexChange&&-1!=(n=this.__cbOnceDraggingColorDropIndexChange.indexOf(e))&&(this.__cbOnceDraggingColorDropIndexChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindDraggingColorDropIndexChange[n])&&r(),this.__cbOnceOwnerUnbindDraggingColorDropIndexChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindDraggingColorDropIndexChange){for(var t=0,i=this.__cbOnOwnerUnbindDraggingColorDropIndexChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindDraggingColorDropIndexChange[l])&&r()}this.__cbOnOwnerUnbindDraggingColorDropIndexChange=null}if(null!=this.__cbOnceOwnerUnbindDraggingColorDropIndexChange){for(t=0,i=this.__cbOnceOwnerUnbindDraggingColorDropIndexChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindDraggingColorDropIndexChange[l])&&r()}this.__cbOnceOwnerUnbindDraggingColorDropIndexChange=null}this.__cbOnDraggingColorDropIndexChange=null,this.__cbOnceDraggingColorDropIndexChange=null}},listensDraggingColorDropIndexChange:function(){return null!=this.__cbOnDraggingColorDropIndexChange&&0<this.__cbOnDraggingColorDropIndexChange.length||null!=this.__cbOnceDraggingColorDropIndexChange&&0<this.__cbOnceDraggingColorDropIndexChange.length},computeDraggingColorDropIndex:function(){var e=this.get_draggingColorPreview(),n=te.get_context().user.get_paletteColors();if(null==e||0==n.length)return-1;for(var t=e.offsetX+e.dragDrop.get_dragX(),i=e.offsetY+e.dragDrop.get_dragY(),l=-1,r=999999999,s=this.getColorPickerWidth()-2*O.PADDING,h=-(O.PALETTE_COLOR_SIZE+O.PALETTE_COLOR_GAP),a=O.PADDING+O.GRADIENT_SIZE,o=0,c=n.length;o<c;){var u=o++,_=((h+=O.PALETTE_COLOR_SIZE+O.PALETTE_COLOR_GAP)+O.PALETTE_COLOR_SIZE>s&&(h=0,a+=O.PALETTE_COLOR_SIZE+O.PALETTE_COLOR_GAP),h+.5*O.PALETTE_COLOR_SIZE-(t+.5*O.PALETTE_COLOR_SIZE)),d=a+.5*O.PALETTE_COLOR_SIZE-(i+.5*O.PALETTE_COLOR_SIZE),_=Math.sqrt(_*_+d*d);_<r&&(l=u,r=_)}return l},computeAutorunDraggingColorDropIndex:null,computedOnceDraggingColorDropIndex:null,paletteHeightAutoruns:null,get_paletteHeight:function(){var e,n,t=this.unobservedPaletteHeight;return null!=U.current&&(e=U.current,null!=(n=this.paletteHeightAutoruns)||(n=U.getAutorunArray(),null!=(this.paletteHeightAutoruns=n)))&&e.bindToAutorunArray(n),t},set_paletteHeight:function(e){var n=this.unobservedPaletteHeight;return n!=(this.unobservedPaletteHeight=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitPaletteHeightChange(e,n),null!=(n=this.paletteHeightAutoruns))&&(this.paletteHeightAutoruns=null,U.invalidateAutorunArray(n)),e},invalidatePaletteHeight:function(){var e=this.unobservedPaletteHeight,e=(this.emitPaletteHeightChange(e,e),this.paletteHeightAutoruns);null!=e&&(this.paletteHeightAutoruns=null,U.invalidateAutorunArray(e))},unobservedPaletteHeight:null,__cbOnPaletteHeightChange:null,__cbOncePaletteHeightChange:null,__cbOnOwnerUnbindPaletteHeightChange:null,__cbOnceOwnerUnbindPaletteHeightChange:null,emitPaletteHeightChange:function(e,n){var t=0;if(null!=this.__cbOnPaletteHeightChange&&(t+=this.__cbOnPaletteHeightChange.length),null!=this.__cbOncePaletteHeightChange&&(t+=this.__cbOncePaletteHeightChange.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnPaletteHeightChange)for(var s=0,h=this.__cbOnPaletteHeightChange.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnPaletteHeightChange[a],++r):--t}if(null!=this.__cbOncePaletteHeightChange){for(var o=null,c=null,s=0,h=this.__cbOncePaletteHeightChange.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOncePaletteHeightChange[a],this.__cbOncePaletteHeightChange[a]=null,u=this.__cbOnceOwnerUnbindPaletteHeightChange[a],(this.__cbOnceOwnerUnbindPaletteHeightChange[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindPaletteHeightChange[a]),c.push(this.__cbOncePaletteHeightChange[a]))}this.__cbOnceOwnerUnbindPaletteHeightChange=o,this.__cbOncePaletteHeightChange=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onPaletteHeightChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event paletteHeightChange because owner is destroyed!");var l=function(e){null!=t&&(i.offPaletteHeightChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindPaletteHeightChange&&(this.__cbOnOwnerUnbindPaletteHeightChange=[]),this.__cbOnOwnerUnbindPaletteHeightChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindPaletteHeightChange&&(this.__cbOnOwnerUnbindPaletteHeightChange=[]),this.__cbOnOwnerUnbindPaletteHeightChange.push(null);null==this.__cbOnPaletteHeightChange&&(this.__cbOnPaletteHeightChange=[]),this.__cbOnPaletteHeightChange.push(t)},oncePaletteHeightChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event paletteHeightChange because owner is destroyed!");var l=function(e){null!=t&&(i.offPaletteHeightChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindPaletteHeightChange&&(this.__cbOnceOwnerUnbindPaletteHeightChange=[]),this.__cbOnceOwnerUnbindPaletteHeightChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindPaletteHeightChange&&(this.__cbOnceOwnerUnbindPaletteHeightChange=[]),this.__cbOnceOwnerUnbindPaletteHeightChange.push(null);null==this.__cbOncePaletteHeightChange&&(this.__cbOncePaletteHeightChange=[]),this.__cbOncePaletteHeightChange.push(t)},offPaletteHeightChange:function(e){if(null!=e){var n;null!=this.__cbOnPaletteHeightChange&&-1!=(n=this.__cbOnPaletteHeightChange.indexOf(e))&&(this.__cbOnPaletteHeightChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindPaletteHeightChange[n])&&r(),this.__cbOnOwnerUnbindPaletteHeightChange.splice(n,1)),null!=this.__cbOncePaletteHeightChange&&-1!=(n=this.__cbOncePaletteHeightChange.indexOf(e))&&(this.__cbOncePaletteHeightChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindPaletteHeightChange[n])&&r(),this.__cbOnceOwnerUnbindPaletteHeightChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindPaletteHeightChange){for(var t=0,i=this.__cbOnOwnerUnbindPaletteHeightChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindPaletteHeightChange[l])&&r()}this.__cbOnOwnerUnbindPaletteHeightChange=null}if(null!=this.__cbOnceOwnerUnbindPaletteHeightChange){for(t=0,i=this.__cbOnceOwnerUnbindPaletteHeightChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindPaletteHeightChange[l])&&r()}this.__cbOnceOwnerUnbindPaletteHeightChange=null}this.__cbOnPaletteHeightChange=null,this.__cbOncePaletteHeightChange=null}},listensPaletteHeightChange:function(){return null!=this.__cbOnPaletteHeightChange&&0<this.__cbOnPaletteHeightChange.length||null!=this.__cbOncePaletteHeightChange&&0<this.__cbOncePaletteHeightChange.length},get_hsluv:function(){return te.get_context().user.get_colorPickerHsluv()},set_hsluv:function(e){return te.get_context().user.set_colorPickerHsluv(e)},get_paletteColors:function(){return te.get_context().user.get_paletteColors()},set_paletteColors:function(e){return te.get_context().user.set_paletteColors(e)},hsbGradientView:null,hsbSpectrumView:null,hsluvGradientView:null,hsluvSpectrumView:null,rgbRedField:null,rgbGreenField:null,rgbBlueField:null,rgbRedFieldValue:null,rgbGreenFieldValue:null,rgbBlueFieldValue:null,rgbLabel:null,hslHueField:null,hslSaturationField:null,hslLightnessField:null,hslHueFieldValue:null,hslSaturationFieldValue:null,hslLightnessFieldValue:null,hslLabel:null,updatingColor:null,hslFieldsLocked:null,paletteAddButton:null,colorModeButton:null,lastDraggingColorDropIndex:null,lastDraggingColorPreview:null,paletteColorPreviewsAutoruns:null,get_paletteColorPreviews:function(){var e,n,t=this.unobservedPaletteColorPreviews;return null!=U.current&&(e=U.current,null!=(n=this.paletteColorPreviewsAutoruns)||(n=U.getAutorunArray(),null!=(this.paletteColorPreviewsAutoruns=n)))&&e.bindToAutorunArray(n),t},set_paletteColorPreviews:function(e){var n=this.unobservedPaletteColorPreviews;return this.unobservedPaletteColorPreviews=e,Bl.equalAny(n,e)||(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitPaletteColorPreviewsChange(e,n),null!=(n=this.paletteColorPreviewsAutoruns)&&(this.paletteColorPreviewsAutoruns=null,U.invalidateAutorunArray(n))),e},invalidatePaletteColorPreviews:function(){var e=this.unobservedPaletteColorPreviews,e=(this.emitPaletteColorPreviewsChange(e,e),this.paletteColorPreviewsAutoruns);null!=e&&(this.paletteColorPreviewsAutoruns=null,U.invalidateAutorunArray(e))},unobservedPaletteColorPreviews:null,__cbOnPaletteColorPreviewsChange:null,__cbOncePaletteColorPreviewsChange:null,__cbOnOwnerUnbindPaletteColorPreviewsChange:null,__cbOnceOwnerUnbindPaletteColorPreviewsChange:null,emitPaletteColorPreviewsChange:function(e,n){var t=0;if(null!=this.__cbOnPaletteColorPreviewsChange&&(t+=this.__cbOnPaletteColorPreviewsChange.length),null!=this.__cbOncePaletteColorPreviewsChange&&(t+=this.__cbOncePaletteColorPreviewsChange.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnPaletteColorPreviewsChange)for(var s=0,h=this.__cbOnPaletteColorPreviewsChange.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnPaletteColorPreviewsChange[a],++r):--t}if(null!=this.__cbOncePaletteColorPreviewsChange){for(var o=null,c=null,s=0,h=this.__cbOncePaletteColorPreviewsChange.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOncePaletteColorPreviewsChange[a],this.__cbOncePaletteColorPreviewsChange[a]=null,u=this.__cbOnceOwnerUnbindPaletteColorPreviewsChange[a],(this.__cbOnceOwnerUnbindPaletteColorPreviewsChange[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindPaletteColorPreviewsChange[a]),c.push(this.__cbOncePaletteColorPreviewsChange[a]))}this.__cbOnceOwnerUnbindPaletteColorPreviewsChange=o,this.__cbOncePaletteColorPreviewsChange=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onPaletteColorPreviewsChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event paletteColorPreviewsChange because owner is destroyed!");var l=function(e){null!=t&&(i.offPaletteColorPreviewsChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindPaletteColorPreviewsChange&&(this.__cbOnOwnerUnbindPaletteColorPreviewsChange=[]),this.__cbOnOwnerUnbindPaletteColorPreviewsChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindPaletteColorPreviewsChange&&(this.__cbOnOwnerUnbindPaletteColorPreviewsChange=[]),this.__cbOnOwnerUnbindPaletteColorPreviewsChange.push(null);null==this.__cbOnPaletteColorPreviewsChange&&(this.__cbOnPaletteColorPreviewsChange=[]),this.__cbOnPaletteColorPreviewsChange.push(t)},oncePaletteColorPreviewsChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event paletteColorPreviewsChange because owner is destroyed!");var l=function(e){null!=t&&(i.offPaletteColorPreviewsChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindPaletteColorPreviewsChange&&(this.__cbOnceOwnerUnbindPaletteColorPreviewsChange=[]),this.__cbOnceOwnerUnbindPaletteColorPreviewsChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindPaletteColorPreviewsChange&&(this.__cbOnceOwnerUnbindPaletteColorPreviewsChange=[]),this.__cbOnceOwnerUnbindPaletteColorPreviewsChange.push(null);null==this.__cbOncePaletteColorPreviewsChange&&(this.__cbOncePaletteColorPreviewsChange=[]),this.__cbOncePaletteColorPreviewsChange.push(t)},offPaletteColorPreviewsChange:function(e){if(null!=e){var n;null!=this.__cbOnPaletteColorPreviewsChange&&-1!=(n=this.__cbOnPaletteColorPreviewsChange.indexOf(e))&&(this.__cbOnPaletteColorPreviewsChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindPaletteColorPreviewsChange[n])&&r(),this.__cbOnOwnerUnbindPaletteColorPreviewsChange.splice(n,1)),null!=this.__cbOncePaletteColorPreviewsChange&&-1!=(n=this.__cbOncePaletteColorPreviewsChange.indexOf(e))&&(this.__cbOncePaletteColorPreviewsChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindPaletteColorPreviewsChange[n])&&r(),this.__cbOnceOwnerUnbindPaletteColorPreviewsChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindPaletteColorPreviewsChange){for(var t=0,i=this.__cbOnOwnerUnbindPaletteColorPreviewsChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindPaletteColorPreviewsChange[l])&&r()}this.__cbOnOwnerUnbindPaletteColorPreviewsChange=null}if(null!=this.__cbOnceOwnerUnbindPaletteColorPreviewsChange){for(t=0,i=this.__cbOnceOwnerUnbindPaletteColorPreviewsChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindPaletteColorPreviewsChange[l])&&r()}this.__cbOnceOwnerUnbindPaletteColorPreviewsChange=null}this.__cbOnPaletteColorPreviewsChange=null,this.__cbOncePaletteColorPreviewsChange=null}},listensPaletteColorPreviewsChange:function(){return null!=this.__cbOnPaletteColorPreviewsChange&&0<this.__cbOnPaletteColorPreviewsChange.length||null!=this.__cbOncePaletteColorPreviewsChange&&0<this.__cbOncePaletteColorPreviewsChange.length},colorFieldView:null,getColorPickerWidth:function(){return O.GRADIENT_SIZE+2*O.FIELD_ROW_WIDTH+O.SPECTRUM_WIDTH+5*O.PADDING},updateSize:function(){var e=this.getColorPickerWidth(),n=O.GRADIENT_SIZE+2*O.PADDING,t=this.get_paletteHeight();U.unobserve(),0<t&&(n+=O.PADDING+t),this.set_viewWidth(e),this.set_viewHeight(n),U.reobserve()},initRGBFields:function(e){this.rgbLabel=new w1,this.rgbLabel.set_align(_t.CENTER),this.rgbLabel.set_verticalAlign(En.CENTER),this.rgbLabel.set_pointSize(12),this.rgbLabel.set_preRenderedSize(20),this.rgbLabel.set_content("RGB"),(n=this.rgbLabel).set_offsetX(e),n.set_offsetY(0);(n=this.rgbLabel).set_viewWidth(O.FIELD_ROW_WIDTH),n.set_viewHeight(12),this.add(this.rgbLabel),this.rgbRedField=this.createTextField($bind(this,this.setColorFromRGBFields),0,256);var n=this.rgbRedField,t=this.rgbLabel.offsetY+this.rgbLabel.viewHeight+O.PADDING-1,n=(n.set_offsetX(e),n.set_offsetY(t),this.add(this.rgbRedField),this.rgbGreenField=this.createTextField($bind(this,this.setColorFromRGBFields),0,256),this.rgbGreenField),t=this.rgbRedField.offsetY+O.FIELD_ADVANCE+O.FIELD_Y_GAP,n=(n.set_offsetX(e),n.set_offsetY(t),this.add(this.rgbGreenField),this.rgbBlueField=this.createTextField($bind(this,this.setColorFromRGBFields),0,256),this.rgbBlueField),t=this.rgbGreenField.offsetY+O.FIELD_ADVANCE+O.FIELD_Y_GAP;return n.set_offsetX(e),n.set_offsetY(t),this.add(this.rgbBlueField),this.rgbBlueField.offsetY+O.FIELD_ADVANCE+O.PADDING},initHSLFields:function(e){var n=this;this.hslLabel=new w1,this.hslLabel.set_align(_t.CENTER),this.hslLabel.set_verticalAlign(En.CENTER),this.hslLabel.set_pointSize(12),this.hslLabel.set_preRenderedSize(20),(t=this.hslLabel).set_offsetX(e),t.set_offsetY(0);(t=this.hslLabel).set_viewWidth(O.FIELD_ROW_WIDTH),t.set_viewHeight(12),this.add(this.hslLabel),this.hslLabel.autorun(function(){var e=te.get_context().user.get_colorPickerHsluv();U.unobserve(),e?(n.hslLabel.set_content("HSLuv"),n.hsbGradientView.set_active(!1),n.hsbSpectrumView.set_active(!1),n.hsluvGradientView.set_active(!0),n.hsluvSpectrumView.set_active(!0)):(n.hslLabel.set_content("HSL"),n.hsbGradientView.set_active(!0),n.hsbSpectrumView.set_active(!0),n.hsluvGradientView.set_active(!1),n.hsluvSpectrumView.set_active(!1))}),this.hslHueField=this.createTextField($bind(this,this.setColorFromHSLFieldHue),0,360);var t=this.hslHueField,i=this.hslLabel.offsetY+this.hslLabel.viewHeight+O.PADDING-1,t=(t.set_offsetX(e),t.set_offsetY(i),this.add(this.hslHueField),this.hslSaturationField=this.createTextField($bind(this,this.setColorFromHSLFieldSaturation),0,100),this.hslSaturationField),i=this.hslHueField.offsetY+O.FIELD_ADVANCE+O.FIELD_Y_GAP,t=(t.set_offsetX(e),t.set_offsetY(i),this.add(this.hslSaturationField),this.hslLightnessField=this.createTextField($bind(this,this.setColorFromHSLFieldLightness),0,100),this.hslLightnessField),i=this.hslSaturationField.offsetY+O.FIELD_ADVANCE+O.FIELD_Y_GAP;return t.set_offsetX(e),t.set_offsetY(i),this.add(this.hslLightnessField),this.hslLightnessField.offsetY+O.FIELD_ADVANCE+O.PADDING},initPaletteUI:function(e,n){var t=this,i=(this.colorModeButton=new E2,this.colorModeButton.set_content("Color mode"),this.colorModeButton.set_inputStyle(wi.OVERLAY),this.colorModeButton.set_viewWidth(2*O.FIELD_ROW_WIDTH+O.PADDING),this.colorModeButton);i.set_offsetX(e),i.set_offsetY(n),this.colorModeButton.onClick(this,$bind(this,this.switchColorMode)),this.colorModeButton.autorun(function(){var e=t.get_theme();null==e&&(e=te.get_context().get_theme()),U.unobserve(),t.colorModeButton.set_theme(e)}),this.add(this.colorModeButton),n+=O.BUTTON_ADVANCE+O.PADDING,this.paletteAddButton=new E2,this.paletteAddButton.set_inputStyle(wi.OVERLAY),this.paletteAddButton.set_viewWidth(2*O.FIELD_ROW_WIDTH+O.PADDING),(i=this.paletteAddButton).set_offsetX(e),i.set_offsetY(n),this.paletteAddButton.onClick(this,function(){var e=te.get_context().user.get_paletteColors().indexOf(t.get_colorValue());-1!=e?te.get_context().user.removePaletteColor(e):t.saveColor()}),this.paletteAddButton.autorun(function(){var e=t.get_theme();null==e&&(e=te.get_context().get_theme()),U.unobserve(),t.paletteAddButton.set_theme(e)}),this.paletteAddButton.autorun(function(){var e=-1!=te.get_context().user.get_paletteColors().indexOf(t.get_colorValue());U.unobserve(),e?t.paletteAddButton.set_content("Delete color"):t.paletteAddButton.set_content("Save color")}),this.add(this.paletteAddButton)},layout:function(){Ab.prototype.layout.call(this)},setColorFromRGB:function(e,n,t){var i=this,l=(this.updatingColor++,0);this.set_colorValue(((l&65535|(255<e?255:e<0?0:e)<<16)&16711935|(255<n?255:n<0?0:n)<<8)&16776960|(255<t?255:t<0?0:t)),this.updateRGBFields(this.get_colorValue()),this.updateHSLFields(this.get_colorValue()),this.updateGradientAndSpectrum(this.get_colorValue()),he.app.onceUpdate(this,function(e){i.updatingColor--})},setColorFromHSL:function(e,n,t){var i=this,l=(this.updatingColor++,0),r=(1-Math.abs(2*t-1))*n,s=t-r/2,h=e,a=r,r=(h%=360)/60,o=a*(1-Math.abs(r%2-1))+s;switch(a+=s,0|r){case 0:l=l&65535|(255<(c=Math.round(255*a))?255:c<0?0:c)<<16;var c=Math.round(255*o),c=(l=l&16711935|(255<c?255:c<0?0:c)<<8,Math.round(255*s)),l=l&16776960|(255<c?255:c<0?0:c);break;case 1:c=(l=l&65535|(255<(c=Math.round(255*o))?255:c<0?0:c)<<16,Math.round(255*a)),c=(l=l&16711935|(255<c?255:c<0?0:c)<<8,Math.round(255*s));l=l&16776960|(255<c?255:c<0?0:c);break;case 2:c=(l=l&65535|(255<(c=Math.round(255*s))?255:c<0?0:c)<<16,Math.round(255*a)),c=(l=l&16711935|(255<c?255:c<0?0:c)<<8,Math.round(255*o));l=l&16776960|(255<c?255:c<0?0:c);break;case 3:c=(l=l&65535|(255<(c=Math.round(255*s))?255:c<0?0:c)<<16,Math.round(255*o)),c=(l=l&16711935|(255<c?255:c<0?0:c)<<8,Math.round(255*a));l=l&16776960|(255<c?255:c<0?0:c);break;case 4:c=(l=l&65535|(255<(c=Math.round(255*o))?255:c<0?0:c)<<16,Math.round(255*s)),c=(l=l&16711935|(255<c?255:c<0?0:c)<<8,Math.round(255*a));l=l&16776960|(255<c?255:c<0?0:c);break;case 5:c=(l=l&65535|(255<(c=Math.round(255*a))?255:c<0?0:c)<<16,Math.round(255*s)),c=(l=l&16711935|(255<c?255:c<0?0:c)<<8,Math.round(255*o));l=l&16776960|(255<c?255:c<0?0:c)}this.set_colorValue(l),this.updateRGBFields(this.get_colorValue()),this.updateHSLFields(this.get_colorValue(),e,n,t),this.updateGradientAndSpectrum(this.get_colorValue(),e,n,t),he.app.onceUpdate(this,function(e){i.updatingColor--})},setColorFromHSB:function(e,n,t){var i=this;this.updatingColor++,this.set_colorValue(I.fromHSB(e,n,t)),this.updateRGBFields(this.get_colorValue()),this.updateHSLFields(this.get_colorValue(),e),this.updateGradientAndSpectrum(this.get_colorValue(),e),he.app.onceUpdate(this,function(e){i.updatingColor--})},setColorFromHSLuv:function(e,n,t){var i=this,l=(this.updatingColor++,0);if(I._hsluvTuple[0]=e,I._hsluvTuple[1]=100*n,I._hsluvTuple[2]=100*t,.001<t){w.hsluvToRgb(I._hsluvTuple,I._hsluvResult);var r=I._hsluvResult[0];r<0&&(r=0);l=l&65535|(255<(s=Math.round(255*r))?255:s<0?0:s)<<16,(r=I._hsluvResult[1])<0&&(r=0);var s=Math.round(255*r),s=(l=l&16711935|(255<s?255:s<0?0:s)<<8,(r=I._hsluvResult[2])<0&&(r=0),Math.round(255*r)),l=l&16776960|(255<s?255:s<0?0:s)}else{var r=(1-Math.abs(2*t-1))*n,h=t-r/2,a=e,o=r,r=(a%=360)/60,c=o*(1-Math.abs(r%2-1))+h;switch(o+=h,0|r){case 0:s=(l=l&65535|(255<(s=Math.round(255*o))?255:s<0?0:s)<<16,Math.round(255*c)),s=(l=l&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*h));l=l&16776960|(255<s?255:s<0?0:s);break;case 1:s=(l=l&65535|(255<(s=Math.round(255*c))?255:s<0?0:s)<<16,Math.round(255*o)),s=(l=l&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*h));l=l&16776960|(255<s?255:s<0?0:s);break;case 2:s=(l=l&65535|(255<(s=Math.round(255*h))?255:s<0?0:s)<<16,Math.round(255*o)),s=(l=l&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*c));l=l&16776960|(255<s?255:s<0?0:s);break;case 3:s=(l=l&65535|(255<(s=Math.round(255*h))?255:s<0?0:s)<<16,Math.round(255*c)),s=(l=l&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*o));l=l&16776960|(255<s?255:s<0?0:s);break;case 4:s=(l=l&65535|(255<(s=Math.round(255*c))?255:s<0?0:s)<<16,Math.round(255*h)),s=(l=l&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*o));l=l&16776960|(255<s?255:s<0?0:s);break;case 5:s=(l=l&65535|(255<(s=Math.round(255*o))?255:s<0?0:s)<<16,Math.round(255*h)),s=(l=l&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*c));l=l&16776960|(255<s?255:s<0?0:s)}}this.set_colorValue(l),this.updateRGBFields(this.get_colorValue()),this.updateHSLFields(this.get_colorValue(),e,n,t),this.updateGradientAndSpectrum(this.get_colorValue(),e,n,t),he.app.onceUpdate(this,function(e){i.updatingColor--})},updateRGBFields:function(e){this.rgbRedField.setTextValue(this.rgbRedField,""+(e>>16&255)),this.rgbGreenField.setTextValue(this.rgbGreenField,""+(e>>8&255)),this.rgbBlueField.setTextValue(this.rgbBlueField,""+(255&e))},updateHSLFields:function(e,n,t,i){var l;0<this.hslFieldsLocked||(te.get_context().user.get_colorPickerHsluv()?(null==(l=O._tuple)&&(l=[0,0,0]),I._hsluvTuple[0]=(e>>16&255)/255,I._hsluvTuple[1]=(e>>8&255)/255,I._hsluvTuple[2]=(255&e)/255,w.rgbToHsluv(I._hsluvTuple,l),l[1]*=.01,l[2]*=.01,null==n&&(n=O._tuple[0]),null==t&&(t=O._tuple[1]),null==i&&(i=O._tuple[2])):(null==n&&(n=I.get_hue(e)),null==t&&(t=(Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))-Math.min((e>>16&255)/255,Math.min((e>>8&255)/255,(255&e)/255)))/Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))),null==i&&(i=(Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))+Math.min((e>>16&255)/255,Math.min((e>>8&255)/255,(255&e)/255)))/2)),this.hslHueField.setTextValue(this.hslHueField,""+Math.round(n)),this.hslSaturationField.setTextValue(this.hslSaturationField,""+Math.round(1e3*t)/10),this.hslLightnessField.setTextValue(this.hslLightnessField,""+Math.round(1e3*i)/10))},updateGradientAndSpectrum:function(e,n,t,i){var l;te.get_context().user.get_colorPickerHsluv()?(null==(l=O._tuple)&&(l=[0,0,0]),I._hsluvTuple[0]=(e>>16&255)/255,I._hsluvTuple[1]=(e>>8&255)/255,I._hsluvTuple[2]=(255&e)/255,w.rgbToHsluv(I._hsluvTuple,l),l[1]*=.01,l[2]*=.01,null==n&&(n=O._tuple[0]),null==t&&(t=O._tuple[1]),null==i&&(i=O._tuple[2]),this.hsluvGradientView.set_colorValue(e),this.hsluvGradientView.updateGradientColors(i),this.hsbGradientView.set_colorValue(e),this.hsbGradientView.updateTintColor(I.get_hue(e)),this.hsluvSpectrumView.set_lightness(i),this.hsluvSpectrumView.set_hue(n),this.hsbSpectrumView.set_hue(I.get_hue(e))):(null==n&&(n=I.get_hue(e)),null==t&&(t=(Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))-Math.min((e>>16&255)/255,Math.min((e>>8&255)/255,(255&e)/255)))/Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))),null==i&&(i=(Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))+Math.min((e>>16&255)/255,Math.min((e>>8&255)/255,(255&e)/255)))/2),null==(l=O._tuple)&&(l=[0,0,0]),I._hsluvTuple[0]=(e>>16&255)/255,I._hsluvTuple[1]=(e>>8&255)/255,I._hsluvTuple[2]=(255&e)/255,w.rgbToHsluv(I._hsluvTuple,l),l[1]*=.01,l[2]*=.01,this.hsbGradientView.set_colorValue(e),this.hsbGradientView.updateTintColor(n),this.hsluvGradientView.set_colorValue(e),this.hsluvGradientView.updateGradientColors(O._tuple[2]),this.hsbSpectrumView.set_hue(n),this.hsluvSpectrumView.set_hue(O._tuple[0]),this.hsluvSpectrumView.set_lightness(O._tuple[2]))},setColorFromRGBFields:function(){this.rgbRedField.get_textValue()==this.rgbRedFieldValue&&this.rgbGreenField.get_textValue()==this.rgbGreenFieldValue&&this.rgbBlueField.get_textValue()==this.rgbBlueFieldValue||(this.rgbRedFieldValue=this.rgbRedField.get_textValue(),this.rgbGreenFieldValue=this.rgbGreenField.get_textValue(),this.rgbBlueFieldValue=this.rgbBlueField.get_textValue(),0<this.updatingColor)||this.setColorFromRGB(X.parseInt(this.rgbRedField.get_textValue()),X.parseInt(this.rgbGreenField.get_textValue()),X.parseInt(this.rgbBlueField.get_textValue()))},setColorFromHSLFieldHue:function(){var e,n,t=this;this.hslHueField.get_textValue()==this.hslHueFieldValue||(this.hslHueFieldValue=this.hslHueField.get_textValue(),0<this.updatingColor)||(this.hslFieldsLocked++,e=parseFloat(this.hslHueField.get_textValue()),n=.01*parseFloat(this.hslSaturationField.get_textValue()),te.get_context().user.get_colorPickerHsluv()?this.setColorFromHSLuv(e,n,this.hsluvGradientView.lightness):(this.hsbGradientView.savePointerPosition(),this.hsbGradientView.updateTintColor(e),this.setColorFromHSB(this.hsbGradientView.hue,this.hsbGradientView.getSaturationFromPointer(),this.hsbGradientView.getBrightnessFromPointer()),this.hsbGradientView.restorePointerPosition()),he.app.onceUpdate(this,function(e){t.hslFieldsLocked--}))},setColorFromHSLFieldSaturation:function(){var e,n,t,i=this;this.hslSaturationField.get_textValue()==this.hslSaturationFieldValue||(this.hslSaturationFieldValue=this.hslSaturationField.get_textValue(),0<this.updatingColor)||(this.hslFieldsLocked++,e=parseFloat(this.hslHueField.get_textValue()),n=.01*parseFloat(this.hslSaturationField.get_textValue()),t=.01*parseFloat(this.hslLightnessField.get_textValue()),te.get_context().user.get_colorPickerHsluv()?this.setColorFromHSLuv(e,n,this.hsluvGradientView.lightness):this.setColorFromHSL(this.hsbGradientView.hue,n,t),he.app.onceUpdate(this,function(e){i.hslFieldsLocked--}))},setColorFromHSLFieldLightness:function(){var e,n,t=this;this.hslLightnessField.get_textValue()==this.hslLightnessFieldValue||(this.hslLightnessFieldValue=this.hslLightnessField.get_textValue(),0<this.updatingColor)||(this.hslFieldsLocked++,e=.01*parseFloat(this.hslSaturationField.get_textValue()),n=.01*parseFloat(this.hslLightnessField.get_textValue()),te.get_context().user.get_colorPickerHsluv()?(this.hsluvGradientView.savePointerPosition(),this.hsluvGradientView.updateGradientColors(n),this.setColorFromHSLuv(this.hsluvGradientView.getHueFromPointer(),this.hsluvGradientView.getSaturationFromPointer(),this.hsluvGradientView.lightness),this.hsluvGradientView.restorePointerPosition()):this.setColorFromHSL(this.hsbGradientView.hue,e,n),he.app.onceUpdate(this,function(e){t.hslFieldsLocked--}))},createTextField:function(t,i,l){null==l&&(l=100),null==i&&(i=0);var n=this,r=new Ai(ki.NUMERIC);return r.set_textAlign(_t.CENTER),r.set_inputStyle(wi.OVERLAY),r.set_textValue("0"),r.set_viewWidth(O.FIELD_ROW_WIDTH),r.autorun(function(){var e=n.get_theme();null==e&&(e=te.get_context().get_theme()),U.unobserve(),r.set_theme(e)}),r.setTextValue=function(e,n){null!=t&&he.app._oncePostFlushImmediate(t,!0),Di.setTextValueToInt(e,n,i,l)},r.setEmptyValue=function(e){var n=0;l<(n=n<i?i:n)&&(n=l),r.set_textValue(""+n),null!=t&&t()},r},updateStyle:function(){var e=this.get_theme(),n=(e=null==e?te.get_context().get_theme():e).get_overlayBorderColor(),n=(this.borderColor!=n&&(this.borderColor=n,0<this.borderSize||0<this.borderTopSize||0<this.borderBottomSize||0<this.borderLeftSize||0<this.borderRightSize)&&this.updateBorder(),e.get_overlayBorderAlpha());this.borderAlpha!=n&&(this.borderAlpha=n,null!=this.border)&&this.border.set_alpha(n),this.color=e.get_overlayBackgroundColor(),this.set_alpha(e.get_overlayBackgroundAlpha()),this.rgbLabel.set_textColor(e.get_lightTextColor()),this.rgbLabel.set_font(e.get_mediumFont()),this.hslLabel.set_textColor(e.get_lightTextColor()),this.hslLabel.set_font(e.get_mediumFont())},saveColor:function(){te.get_context().user.addPaletteColor(this.get_colorValue())},switchColorMode:function(){var e=!te.get_context().user.get_colorPickerHsluv();te.get_context().user.set_colorPickerHsluv(e),this.setColorFromRGB(this.get_colorValue()>>16&255,this.get_colorValue()>>8&255,255&this.get_colorValue())},updateColorPreviews:function(){for(var e=te.get_context().user.get_paletteColors(),n=this.get_draggingColorPreview(),t=this.get_draggingColorDropIndex(),i=(U.unobserve(),!1);this.get_paletteColorPreviews().length>e.length;)this.get_paletteColorPreviews().pop().destroy(),i=!0;for(;this.get_paletteColorPreviews().length<e.length;){var l=this.createColorPreview();this.add(l),this.get_paletteColorPreviews().push(l),i=!0}var r=-1;if(null!=n&&(r=this.get_paletteColorPreviews().indexOf(n)),0<e.length){for(var s=this.getColorPickerWidth()-2*O.PADDING,h=-(O.PALETTE_COLOR_SIZE+O.PALETTE_COLOR_GAP),a=O.PADDING+O.GRADIENT_SIZE,o=0,c=e.length;o<c;){var u=o++,_=((h+=O.PALETTE_COLOR_SIZE+O.PALETTE_COLOR_GAP)+O.PALETTE_COLOR_SIZE>s&&(h=0,a+=O.PALETTE_COLOR_SIZE+O.PALETTE_COLOR_GAP),u),u=(-1!=t&&(r<=u&&u<=t?++_:u<=r&&t<u&&--_),this.get_paletteColorPreviews()[_]);null!=u&&(u.set_colorValue(e[_]),_=0,null!=n&&n!=u&&u.offsetY==a&&(_=.1),mc.transition(u,null,_,function(e){Mt.offset(e,h,a)}))}this.set_paletteHeight(a+O.PALETTE_COLOR_SIZE-O.GRADIENT_SIZE-O.PADDING)}else this.set_paletteHeight(0);i&&this.invalidatePaletteColorPreviews(),U.reobserve()},updateFromColorDrop:function(){var e=this.get_draggingColorDropIndex(),e=(-1!=e&&(this.lastDraggingColorDropIndex=e),this.get_draggingColorPreview());null!=e&&(this.lastDraggingColorPreview=e)},createColorPreview:function(){var e=new Q2;return e.onClick(this,$bind(this,this.handlePaletteColorClick)),e.onDrop(this,$bind(this,this.handlePaletteColorDrop)),e.onLongPress(this,$bind(this,this.handlePaletteColorLongPress)),e},handlePaletteColorClick:function(e){e=e.colorValue;this.setColorFromRGB(e>>16&255,e>>8&255,255&e)},handlePaletteColorDrop:function(e){var n=this.get_paletteColorPreviews().indexOf(this.get_draggingColorPreview());te.get_context().user.movePaletteColor(n,this.lastDraggingColorDropIndex)},handlePaletteColorLongPress:function(e,n){e=this.get_paletteColorPreviews().indexOf(e);-1!=e&&te.get_context().user.removePaletteColor(e)},relatedFieldView:function(){return this.colorFieldView},unbindEvents:function(){Ab.prototype.unbindEvents.call(this),this.offObservedDirty(),this.offThemeChange(),this.offColorValueChange(),this.offDraggingColorPreviewChange(),this.offDraggingColorDropIndexChange(),this.offPaletteHeightChange(),this.offPaletteColorPreviewsChange()},__class__:O,__properties__:$extend(Ab.prototype.__properties__,{set_paletteColorPreviews:"set_paletteColorPreviews",get_paletteColorPreviews:"get_paletteColorPreviews",set_paletteColors:"set_paletteColors",get_paletteColors:"get_paletteColors",set_hsluv:"set_hsluv",get_hsluv:"get_hsluv",set_paletteHeight:"set_paletteHeight",get_paletteHeight:"get_paletteHeight",get_unobservedDraggingColorDropIndex:"get_unobservedDraggingColorDropIndex",set_draggingColorDropIndex:"set_draggingColorDropIndex",get_draggingColorDropIndex:"get_draggingColorDropIndex",get_unobservedDraggingColorPreview:"get_unobservedDraggingColorPreview",set_draggingColorPreview:"set_draggingColorPreview",get_draggingColorPreview:"get_draggingColorPreview",set_colorValue:"set_colorValue",get_colorValue:"get_colorValue",set_theme:"set_theme",get_theme:"get_theme"})}),function(){this.assets=null,this.focusedWindow=null,this.view=null,this.user=new Fi,this.unobservedTheme=new Ii,this.themeAutoruns=null,this.observedDirty=!1,j.call(this),Il.loadFromKey(this.user,"elements-context",!0),Il.autoSaveAsKey(this.user,"elements-context")}),fi=((E["elements.Context"]=te).__name__="elements.Context",te.__interfaces__=[s],te.__properties__={set_context:"set_context",get_context:"get_context"},te.get_context=function(){return te.lazyContext&&(te.lazyContext=!1,te.context=new te),te.context},te.set_context=function(e){return te.context=e},te.__super__=j,te.prototype=$extend(j.prototype,{__cbOnObservedDirty:null,__cbOnceObservedDirty:null,__cbOnOwnerUnbindObservedDirty:null,__cbOnceOwnerUnbindObservedDirty:null,emitObservedDirty:function(e,n){var t=0;if(null!=this.__cbOnObservedDirty&&(t+=this.__cbOnObservedDirty.length),null!=this.__cbOnceObservedDirty&&(t+=this.__cbOnceObservedDirty.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnObservedDirty)for(var s=0,h=this.__cbOnObservedDirty.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnObservedDirty[a],++r):--t}if(null!=this.__cbOnceObservedDirty){for(var o=null,c=null,s=0,h=this.__cbOnceObservedDirty.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceObservedDirty[a],this.__cbOnceObservedDirty[a]=null,u=this.__cbOnceOwnerUnbindObservedDirty[a],(this.__cbOnceOwnerUnbindObservedDirty[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindObservedDirty[a]),c.push(this.__cbOnceObservedDirty[a]))}this.__cbOnceOwnerUnbindObservedDirty=o,this.__cbOnceObservedDirty=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onObservedDirty:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event observedDirty because owner is destroyed!");var l=function(e){null!=t&&(i.offObservedDirty(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push(null);null==this.__cbOnObservedDirty&&(this.__cbOnObservedDirty=[]),this.__cbOnObservedDirty.push(t)},onceObservedDirty:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event observedDirty because owner is destroyed!");var l=function(e){null!=t&&(i.offObservedDirty(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push(null);null==this.__cbOnceObservedDirty&&(this.__cbOnceObservedDirty=[]),this.__cbOnceObservedDirty.push(t)},offObservedDirty:function(e){if(null!=e){var n;null!=this.__cbOnObservedDirty&&-1!=(n=this.__cbOnObservedDirty.indexOf(e))&&(this.__cbOnObservedDirty.splice(n,1),null!=(r=this.__cbOnOwnerUnbindObservedDirty[n])&&r(),this.__cbOnOwnerUnbindObservedDirty.splice(n,1)),null!=this.__cbOnceObservedDirty&&-1!=(n=this.__cbOnceObservedDirty.indexOf(e))&&(this.__cbOnceObservedDirty.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindObservedDirty[n])&&r(),this.__cbOnceOwnerUnbindObservedDirty.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindObservedDirty){for(var t=0,i=this.__cbOnOwnerUnbindObservedDirty.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindObservedDirty[l])&&r()}this.__cbOnOwnerUnbindObservedDirty=null}if(null!=this.__cbOnceOwnerUnbindObservedDirty){for(t=0,i=this.__cbOnceOwnerUnbindObservedDirty.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindObservedDirty[l])&&r()}this.__cbOnceOwnerUnbindObservedDirty=null}this.__cbOnObservedDirty=null,this.__cbOnceObservedDirty=null}},listensObservedDirty:function(){return null!=this.__cbOnObservedDirty&&0<this.__cbOnObservedDirty.length||null!=this.__cbOnceObservedDirty&&0<this.__cbOnceObservedDirty.length},observedDirty:null,themeAutoruns:null,get_theme:function(){var e,n,t=this.unobservedTheme;return null!=U.current&&(e=U.current,null!=(n=this.themeAutoruns)||(n=U.getAutorunArray(),null!=(this.themeAutoruns=n)))&&e.bindToAutorunArray(n),t},set_theme:function(e){var n=this.unobservedTheme;return n!=(this.unobservedTheme=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitThemeChange(e,n),null!=(n=this.themeAutoruns))&&(this.themeAutoruns=null,U.invalidateAutorunArray(n)),e},invalidateTheme:function(){var e=this.unobservedTheme,e=(this.emitThemeChange(e,e),this.themeAutoruns);null!=e&&(this.themeAutoruns=null,U.invalidateAutorunArray(e))},unobservedTheme:null,__cbOnThemeChange:null,__cbOnceThemeChange:null,__cbOnOwnerUnbindThemeChange:null,__cbOnceOwnerUnbindThemeChange:null,emitThemeChange:function(e,n){var t=0;if(null!=this.__cbOnThemeChange&&(t+=this.__cbOnThemeChange.length),null!=this.__cbOnceThemeChange&&(t+=this.__cbOnceThemeChange.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnThemeChange)for(var s=0,h=this.__cbOnThemeChange.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnThemeChange[a],++r):--t}if(null!=this.__cbOnceThemeChange){for(var o=null,c=null,s=0,h=this.__cbOnceThemeChange.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceThemeChange[a],this.__cbOnceThemeChange[a]=null,u=this.__cbOnceOwnerUnbindThemeChange[a],(this.__cbOnceOwnerUnbindThemeChange[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindThemeChange[a]),c.push(this.__cbOnceThemeChange[a]))}this.__cbOnceOwnerUnbindThemeChange=o,this.__cbOnceThemeChange=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onThemeChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event themeChange because owner is destroyed!");var l=function(e){null!=t&&(i.offThemeChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindThemeChange&&(this.__cbOnOwnerUnbindThemeChange=[]),this.__cbOnOwnerUnbindThemeChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindThemeChange&&(this.__cbOnOwnerUnbindThemeChange=[]),this.__cbOnOwnerUnbindThemeChange.push(null);null==this.__cbOnThemeChange&&(this.__cbOnThemeChange=[]),this.__cbOnThemeChange.push(t)},onceThemeChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event themeChange because owner is destroyed!");var l=function(e){null!=t&&(i.offThemeChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindThemeChange&&(this.__cbOnceOwnerUnbindThemeChange=[]),this.__cbOnceOwnerUnbindThemeChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindThemeChange&&(this.__cbOnceOwnerUnbindThemeChange=[]),this.__cbOnceOwnerUnbindThemeChange.push(null);null==this.__cbOnceThemeChange&&(this.__cbOnceThemeChange=[]),this.__cbOnceThemeChange.push(t)},offThemeChange:function(e){if(null!=e){var n;null!=this.__cbOnThemeChange&&-1!=(n=this.__cbOnThemeChange.indexOf(e))&&(this.__cbOnThemeChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindThemeChange[n])&&r(),this.__cbOnOwnerUnbindThemeChange.splice(n,1)),null!=this.__cbOnceThemeChange&&-1!=(n=this.__cbOnceThemeChange.indexOf(e))&&(this.__cbOnceThemeChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindThemeChange[n])&&r(),this.__cbOnceOwnerUnbindThemeChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindThemeChange){for(var t=0,i=this.__cbOnOwnerUnbindThemeChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindThemeChange[l])&&r()}this.__cbOnOwnerUnbindThemeChange=null}if(null!=this.__cbOnceOwnerUnbindThemeChange){for(t=0,i=this.__cbOnceOwnerUnbindThemeChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindThemeChange[l])&&r()}this.__cbOnceOwnerUnbindThemeChange=null}this.__cbOnThemeChange=null,this.__cbOnceThemeChange=null}},listensThemeChange:function(){return null!=this.__cbOnThemeChange&&0<this.__cbOnThemeChange.length||null!=this.__cbOnceThemeChange&&0<this.__cbOnceThemeChange.length},user:null,get_windowsData:function(){return this.user.get_windowsData()},view:null,focusedWindow:null,assets:null,get_assets:function(){return null==this.assets&&(this.assets=new fe),this.assets},addWindowData:function(e){this.user.get_windowsData().h[e.id]=e;e=this.user;1!=e.dirty&&(e.dirty=!0,e.emitModelDirty(e))},unbindEvents:function(){j.prototype.unbindEvents.call(this),this.offObservedDirty(),this.offThemeChange()},__class__:te,__properties__:$extend(j.prototype.__properties__,{get_assets:"get_assets",get_windowsData:"get_windowsData",set_theme:"set_theme",get_theme:"get_theme"})}),(E["elements.CrossX"]=V2).__name__="elements.CrossX",V2.__super__=o,V2.prototype=$extend(o.prototype,{quad0:null,quad1:null,thickness:null,set_thickness:function(e){return this.thickness!=e&&(this.thickness=e,this.contentDirty=!0,he.app.visualsContentDirty=!0),e},internalScale:null,set_internalScale:function(e){return this.internalScale!=e&&(this.internalScale=e,this.contentDirty=!0,he.app.visualsContentDirty=!0),e},color:null,set_color:function(e){return this.color!=e&&(this.color=e,this.quad0.color=e,this.quad1.color=e),e},set_width:function(e){return this.get_width()!=e&&(o.prototype.set_width.call(this,e),this.contentDirty=!0,he.app.visualsContentDirty=!0),e},set_height:function(e){return this.get_height()!=e&&(o.prototype.set_height.call(this,e),this.contentDirty=!0,he.app.visualsContentDirty=!0),e},computeContent:function(){this.contentDirty=!1;var e=this.quad0,n=.5*this.get_width(),t=.5*this.get_height(),e=(e.set_x(n),e.set_y(t),this.quad0),n=.7*this.get_width(),i=this.thickness,e=(e.set_width(n),e.set_height(i),this.quad0),l=this.internalScale,e=(e.set_scaleX(l),e.set_scaleY(l),this.quad1),t=this.quad0.y,e=(e.set_x(this.quad0.x),e.set_y(t),this.quad1),n=this.quad0.get_width(),i=this.quad0.get_height(),e=(e.set_width(n),e.set_height(i),this.quad1),l=this.internalScale;e.set_scaleX(l),e.set_scaleY(l)},__class__:V2,__properties__:$extend(o.prototype.__properties__,{set_color:"set_color",set_internalScale:"set_internalScale",set_thickness:"set_thickness"})}),function(e,n,t,i){null==e&&(e=4),this.initializerName=null,this.isPointerDown=!1,this.pointerDragStartY=0,this.pointerDragStartX=0,this.pointerDownY=0,this.pointerDownX=0,this.visualDragStartY=0,this.visualDragStartX=0,this.draggingVisual=null,this.releaseDraggingVisual=null,this.getDraggingVisual=null,this.unobservedDragY=0,this.dragYAutoruns=null,this.unobservedDragX=0,this.dragXAutoruns=null,this.unobservedDragging=!1,this.draggingAutoruns=null,this.observedDirty=!1,j.call(this),this.click=n,this.threshold=e,this.getDraggingVisual=t,this.releaseDraggingVisual=i}),pi=((E["elements.DragDrop"]=fi).__name__="elements.DragDrop",fi.__interfaces__=[s,a0],fi.__super__=j,fi.prototype=$extend(j.prototype,{__cbOnObservedDirty:null,__cbOnceObservedDirty:null,__cbOnOwnerUnbindObservedDirty:null,__cbOnceOwnerUnbindObservedDirty:null,emitObservedDirty:function(e,n){var t=0;if(null!=this.__cbOnObservedDirty&&(t+=this.__cbOnObservedDirty.length),null!=this.__cbOnceObservedDirty&&(t+=this.__cbOnceObservedDirty.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnObservedDirty)for(var s=0,h=this.__cbOnObservedDirty.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnObservedDirty[a],++r):--t}if(null!=this.__cbOnceObservedDirty){for(var o=null,c=null,s=0,h=this.__cbOnceObservedDirty.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceObservedDirty[a],this.__cbOnceObservedDirty[a]=null,u=this.__cbOnceOwnerUnbindObservedDirty[a],(this.__cbOnceOwnerUnbindObservedDirty[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindObservedDirty[a]),c.push(this.__cbOnceObservedDirty[a]))}this.__cbOnceOwnerUnbindObservedDirty=o,this.__cbOnceObservedDirty=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onObservedDirty:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event observedDirty because owner is destroyed!");var l=function(e){null!=t&&(i.offObservedDirty(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push(null);null==this.__cbOnObservedDirty&&(this.__cbOnObservedDirty=[]),this.__cbOnObservedDirty.push(t)},onceObservedDirty:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event observedDirty because owner is destroyed!");var l=function(e){null!=t&&(i.offObservedDirty(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push(null);null==this.__cbOnceObservedDirty&&(this.__cbOnceObservedDirty=[]),this.__cbOnceObservedDirty.push(t)},offObservedDirty:function(e){if(null!=e){var n;null!=this.__cbOnObservedDirty&&-1!=(n=this.__cbOnObservedDirty.indexOf(e))&&(this.__cbOnObservedDirty.splice(n,1),null!=(r=this.__cbOnOwnerUnbindObservedDirty[n])&&r(),this.__cbOnOwnerUnbindObservedDirty.splice(n,1)),null!=this.__cbOnceObservedDirty&&-1!=(n=this.__cbOnceObservedDirty.indexOf(e))&&(this.__cbOnceObservedDirty.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindObservedDirty[n])&&r(),this.__cbOnceOwnerUnbindObservedDirty.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindObservedDirty){for(var t=0,i=this.__cbOnOwnerUnbindObservedDirty.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindObservedDirty[l])&&r()}this.__cbOnOwnerUnbindObservedDirty=null}if(null!=this.__cbOnceOwnerUnbindObservedDirty){for(t=0,i=this.__cbOnceOwnerUnbindObservedDirty.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindObservedDirty[l])&&r()}this.__cbOnceOwnerUnbindObservedDirty=null}this.__cbOnObservedDirty=null,this.__cbOnceObservedDirty=null}},listensObservedDirty:function(){return null!=this.__cbOnObservedDirty&&0<this.__cbOnObservedDirty.length||null!=this.__cbOnceObservedDirty&&0<this.__cbOnceObservedDirty.length},observedDirty:null,draggingAutoruns:null,get_dragging:function(){var e,n,t=this.unobservedDragging;return null!=U.current&&(e=U.current,null!=(n=this.draggingAutoruns)||(n=U.getAutorunArray(),null!=(this.draggingAutoruns=n)))&&e.bindToAutorunArray(n),t},set_dragging:function(e){var n=this.unobservedDragging;return n!=(this.unobservedDragging=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitDraggingChange(e,n),null!=(n=this.draggingAutoruns))&&(this.draggingAutoruns=null,U.invalidateAutorunArray(n)),e},invalidateDragging:function(){var e=this.unobservedDragging,e=(this.emitDraggingChange(e,e),this.draggingAutoruns);null!=e&&(this.draggingAutoruns=null,U.invalidateAutorunArray(e))},unobservedDragging:null,__cbOnDraggingChange:null,__cbOnceDraggingChange:null,__cbOnOwnerUnbindDraggingChange:null,__cbOnceOwnerUnbindDraggingChange:null,emitDraggingChange:function(e,n){var t=0;if(null!=this.__cbOnDraggingChange&&(t+=this.__cbOnDraggingChange.length),null!=this.__cbOnceDraggingChange&&(t+=this.__cbOnceDraggingChange.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnDraggingChange)for(var s=0,h=this.__cbOnDraggingChange.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnDraggingChange[a],++r):--t}if(null!=this.__cbOnceDraggingChange){for(var o=null,c=null,s=0,h=this.__cbOnceDraggingChange.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceDraggingChange[a],this.__cbOnceDraggingChange[a]=null,u=this.__cbOnceOwnerUnbindDraggingChange[a],(this.__cbOnceOwnerUnbindDraggingChange[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindDraggingChange[a]),c.push(this.__cbOnceDraggingChange[a]))}this.__cbOnceOwnerUnbindDraggingChange=o,this.__cbOnceDraggingChange=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onDraggingChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event draggingChange because owner is destroyed!");var l=function(e){null!=t&&(i.offDraggingChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindDraggingChange&&(this.__cbOnOwnerUnbindDraggingChange=[]),this.__cbOnOwnerUnbindDraggingChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindDraggingChange&&(this.__cbOnOwnerUnbindDraggingChange=[]),this.__cbOnOwnerUnbindDraggingChange.push(null);null==this.__cbOnDraggingChange&&(this.__cbOnDraggingChange=[]),this.__cbOnDraggingChange.push(t)},onceDraggingChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event draggingChange because owner is destroyed!");var l=function(e){null!=t&&(i.offDraggingChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindDraggingChange&&(this.__cbOnceOwnerUnbindDraggingChange=[]),this.__cbOnceOwnerUnbindDraggingChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindDraggingChange&&(this.__cbOnceOwnerUnbindDraggingChange=[]),this.__cbOnceOwnerUnbindDraggingChange.push(null);null==this.__cbOnceDraggingChange&&(this.__cbOnceDraggingChange=[]),this.__cbOnceDraggingChange.push(t)},offDraggingChange:function(e){if(null!=e){var n;null!=this.__cbOnDraggingChange&&-1!=(n=this.__cbOnDraggingChange.indexOf(e))&&(this.__cbOnDraggingChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindDraggingChange[n])&&r(),this.__cbOnOwnerUnbindDraggingChange.splice(n,1)),null!=this.__cbOnceDraggingChange&&-1!=(n=this.__cbOnceDraggingChange.indexOf(e))&&(this.__cbOnceDraggingChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindDraggingChange[n])&&r(),this.__cbOnceOwnerUnbindDraggingChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindDraggingChange){for(var t=0,i=this.__cbOnOwnerUnbindDraggingChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindDraggingChange[l])&&r()}this.__cbOnOwnerUnbindDraggingChange=null}if(null!=this.__cbOnceOwnerUnbindDraggingChange){for(t=0,i=this.__cbOnceOwnerUnbindDraggingChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindDraggingChange[l])&&r()}this.__cbOnceOwnerUnbindDraggingChange=null}this.__cbOnDraggingChange=null,this.__cbOnceDraggingChange=null}},listensDraggingChange:function(){return null!=this.__cbOnDraggingChange&&0<this.__cbOnDraggingChange.length||null!=this.__cbOnceDraggingChange&&0<this.__cbOnceDraggingChange.length},dragXAutoruns:null,get_dragX:function(){var e,n,t=this.unobservedDragX;return null!=U.current&&(e=U.current,null!=(n=this.dragXAutoruns)||(n=U.getAutorunArray(),null!=(this.dragXAutoruns=n)))&&e.bindToAutorunArray(n),t},set_dragX:function(e){var n=this.unobservedDragX;return n!=(this.unobservedDragX=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitDragXChange(e,n),null!=(n=this.dragXAutoruns))&&(this.dragXAutoruns=null,U.invalidateAutorunArray(n)),e},invalidateDragX:function(){var e=this.unobservedDragX,e=(this.emitDragXChange(e,e),this.dragXAutoruns);null!=e&&(this.dragXAutoruns=null,U.invalidateAutorunArray(e))},unobservedDragX:null,__cbOnDragXChange:null,__cbOnceDragXChange:null,__cbOnOwnerUnbindDragXChange:null,__cbOnceOwnerUnbindDragXChange:null,emitDragXChange:function(e,n){var t=0;if(null!=this.__cbOnDragXChange&&(t+=this.__cbOnDragXChange.length),null!=this.__cbOnceDragXChange&&(t+=this.__cbOnceDragXChange.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnDragXChange)for(var s=0,h=this.__cbOnDragXChange.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnDragXChange[a],++r):--t}if(null!=this.__cbOnceDragXChange){for(var o=null,c=null,s=0,h=this.__cbOnceDragXChange.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceDragXChange[a],this.__cbOnceDragXChange[a]=null,u=this.__cbOnceOwnerUnbindDragXChange[a],(this.__cbOnceOwnerUnbindDragXChange[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindDragXChange[a]),c.push(this.__cbOnceDragXChange[a]))}this.__cbOnceOwnerUnbindDragXChange=o,this.__cbOnceDragXChange=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onDragXChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event dragXChange because owner is destroyed!");var l=function(e){null!=t&&(i.offDragXChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindDragXChange&&(this.__cbOnOwnerUnbindDragXChange=[]),this.__cbOnOwnerUnbindDragXChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindDragXChange&&(this.__cbOnOwnerUnbindDragXChange=[]),this.__cbOnOwnerUnbindDragXChange.push(null);null==this.__cbOnDragXChange&&(this.__cbOnDragXChange=[]),this.__cbOnDragXChange.push(t)},onceDragXChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event dragXChange because owner is destroyed!");var l=function(e){null!=t&&(i.offDragXChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindDragXChange&&(this.__cbOnceOwnerUnbindDragXChange=[]),this.__cbOnceOwnerUnbindDragXChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindDragXChange&&(this.__cbOnceOwnerUnbindDragXChange=[]),this.__cbOnceOwnerUnbindDragXChange.push(null);null==this.__cbOnceDragXChange&&(this.__cbOnceDragXChange=[]),this.__cbOnceDragXChange.push(t)},offDragXChange:function(e){if(null!=e){var n;null!=this.__cbOnDragXChange&&-1!=(n=this.__cbOnDragXChange.indexOf(e))&&(this.__cbOnDragXChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindDragXChange[n])&&r(),this.__cbOnOwnerUnbindDragXChange.splice(n,1)),null!=this.__cbOnceDragXChange&&-1!=(n=this.__cbOnceDragXChange.indexOf(e))&&(this.__cbOnceDragXChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindDragXChange[n])&&r(),this.__cbOnceOwnerUnbindDragXChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindDragXChange){for(var t=0,i=this.__cbOnOwnerUnbindDragXChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindDragXChange[l])&&r()}this.__cbOnOwnerUnbindDragXChange=null}if(null!=this.__cbOnceOwnerUnbindDragXChange){for(t=0,i=this.__cbOnceOwnerUnbindDragXChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindDragXChange[l])&&r()}this.__cbOnceOwnerUnbindDragXChange=null}this.__cbOnDragXChange=null,this.__cbOnceDragXChange=null}},listensDragXChange:function(){return null!=this.__cbOnDragXChange&&0<this.__cbOnDragXChange.length||null!=this.__cbOnceDragXChange&&0<this.__cbOnceDragXChange.length},dragYAutoruns:null,get_dragY:function(){var e,n,t=this.unobservedDragY;return null!=U.current&&(e=U.current,null!=(n=this.dragYAutoruns)||(n=U.getAutorunArray(),null!=(this.dragYAutoruns=n)))&&e.bindToAutorunArray(n),t},set_dragY:function(e){var n=this.unobservedDragY;return n!=(this.unobservedDragY=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitDragYChange(e,n),null!=(n=this.dragYAutoruns))&&(this.dragYAutoruns=null,U.invalidateAutorunArray(n)),e},invalidateDragY:function(){var e=this.unobservedDragY,e=(this.emitDragYChange(e,e),this.dragYAutoruns);null!=e&&(this.dragYAutoruns=null,U.invalidateAutorunArray(e))},unobservedDragY:null,__cbOnDragYChange:null,__cbOnceDragYChange:null,__cbOnOwnerUnbindDragYChange:null,__cbOnceOwnerUnbindDragYChange:null,emitDragYChange:function(e,n){var t=0;if(null!=this.__cbOnDragYChange&&(t+=this.__cbOnDragYChange.length),null!=this.__cbOnceDragYChange&&(t+=this.__cbOnceDragYChange.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnDragYChange)for(var s=0,h=this.__cbOnDragYChange.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnDragYChange[a],++r):--t}if(null!=this.__cbOnceDragYChange){for(var o=null,c=null,s=0,h=this.__cbOnceDragYChange.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceDragYChange[a],this.__cbOnceDragYChange[a]=null,u=this.__cbOnceOwnerUnbindDragYChange[a],(this.__cbOnceOwnerUnbindDragYChange[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindDragYChange[a]),c.push(this.__cbOnceDragYChange[a]))}this.__cbOnceOwnerUnbindDragYChange=o,this.__cbOnceDragYChange=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onDragYChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event dragYChange because owner is destroyed!");var l=function(e){null!=t&&(i.offDragYChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindDragYChange&&(this.__cbOnOwnerUnbindDragYChange=[]),this.__cbOnOwnerUnbindDragYChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindDragYChange&&(this.__cbOnOwnerUnbindDragYChange=[]),this.__cbOnOwnerUnbindDragYChange.push(null);null==this.__cbOnDragYChange&&(this.__cbOnDragYChange=[]),this.__cbOnDragYChange.push(t)},onceDragYChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event dragYChange because owner is destroyed!");var l=function(e){null!=t&&(i.offDragYChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindDragYChange&&(this.__cbOnceOwnerUnbindDragYChange=[]),this.__cbOnceOwnerUnbindDragYChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindDragYChange&&(this.__cbOnceOwnerUnbindDragYChange=[]),this.__cbOnceOwnerUnbindDragYChange.push(null);null==this.__cbOnceDragYChange&&(this.__cbOnceDragYChange=[]),this.__cbOnceDragYChange.push(t)},offDragYChange:function(e){if(null!=e){var n;null!=this.__cbOnDragYChange&&-1!=(n=this.__cbOnDragYChange.indexOf(e))&&(this.__cbOnDragYChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindDragYChange[n])&&r(),this.__cbOnOwnerUnbindDragYChange.splice(n,1)),null!=this.__cbOnceDragYChange&&-1!=(n=this.__cbOnceDragYChange.indexOf(e))&&(this.__cbOnceDragYChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindDragYChange[n])&&r(),this.__cbOnceOwnerUnbindDragYChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindDragYChange){for(var t=0,i=this.__cbOnOwnerUnbindDragYChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindDragYChange[l])&&r()}this.__cbOnOwnerUnbindDragYChange=null}if(null!=this.__cbOnceOwnerUnbindDragYChange){for(t=0,i=this.__cbOnceOwnerUnbindDragYChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindDragYChange[l])&&r()}this.__cbOnceOwnerUnbindDragYChange=null}this.__cbOnDragYChange=null,this.__cbOnceDragYChange=null}},listensDragYChange:function(){return null!=this.__cbOnDragYChange&&0<this.__cbOnDragYChange.length||null!=this.__cbOnceDragYChange&&0<this.__cbOnceDragYChange.length},click:null,getDraggingVisual:null,releaseDraggingVisual:null,threshold:null,draggingVisual:null,entity:null,visualDragStartX:null,visualDragStartY:null,pointerDownX:null,pointerDownY:null,pointerDragStartX:null,pointerDragStartY:null,isPointerDown:null,bindAsComponent:function(){this.entity.onPointerDown(this,$bind(this,this.handlePointerDown))},drag:function(e,n){var t;null==e&&(e=he.app.screen.pointerX),null==n&&(n=he.app.screen.pointerY),this.get_dragging()?he.app.logger.warning("Already dragging!",{fileName:"../../../../ceramic/plugins/elements/runtime/src/elements/DragDrop.hx",lineNumber:183,className:"elements.DragDrop",methodName:"drag"}):(this.set_dragging(!0),null!=this.click&&this.click.cancel(),this.isPointerDown||(null!=(t=he.app.screen.get_focusedVisual())?t:he.app.screen).oncePointerUp(this,$bind(this,this.handlePointerUp)),this.draggingVisual=this.getDraggingVisual(),this.visualDragStartX=fi._point.x,this.visualDragStartY=fi._point.y,this.pointerDragStartX=e,this.pointerDragStartY=n,this.set_dragX(0),this.set_dragY(0))},handlePointerDown:function(e){this.isPointerDown=!0,this.pointerDownX=e.x,this.pointerDownY=e.y,he.app.screen.onPointerMove(this,$bind(this,this.handlePointerMove)),this.entity.oncePointerUp(this,$bind(this,this.handlePointerUp))},handlePointerMove:function(e){this.get_dragging()?this.updateDrag(e.x,e.y):(Math.abs(e.x-this.pointerDownX)>this.threshold||Math.abs(e.y-this.pointerDownY)>this.threshold)&&(this.drag(this.pointerDownX,this.pointerDownY),this.updateDrag(e.x,e.y))},handlePointerUp:function(e){he.app.screen.offPointerMove($bind(this,this.handlePointerMove)),this.get_dragging()&&this.set_dragging(!1),null!=this.draggingVisual&&(null!=this.releaseDraggingVisual?this.releaseDraggingVisual(this.draggingVisual):this.draggingVisual=null)},updateDrag:function(e,n){var t,i;null!=this.draggingVisual.parent?(this.draggingVisual.parent.screenToVisual(this.pointerDragStartX,this.pointerDragStartY,fi._point),t=fi._point.x,i=fi._point.y,this.draggingVisual.parent.screenToVisual(e,n,fi._point),this.set_dragX(fi._point.x-t),this.set_dragY(fi._point.y-i)):(this.set_dragX(e-this.pointerDragStartX),this.set_dragY(n-this.pointerDragStartY))},unbindEvents:function(){j.prototype.unbindEvents.call(this),this.offObservedDirty(),this.offDraggingChange(),this.offDragXChange(),this.offDragYChange()},setEntity:function(e){this.entity=e instanceof o?e:null},getEntity:function(){return this.entity},initializerName:null,__class__:fi,__properties__:$extend(j.prototype.__properties__,{set_dragY:"set_dragY",get_dragY:"get_dragY",set_dragX:"set_dragX",get_dragX:"get_dragX",set_dragging:"set_dragging",get_dragging:"get_dragging"})}),(E["elements.EnumAbstractInfo"]=Y2).__name__="elements.EnumAbstractInfo",Y2.prototype={enumFields:null,enumValues:null,getEnumFields:function(){return this.enumFields},getEnumFieldFromValue:function(e){return null==e||(e=this.enumValues.indexOf(e))<0?null:this.enumFields[e]},createEnumValue:function(e){return null==e||(e=this.enumFields.indexOf(e))<0?null:this.enumValues[e]},__class__:Y2},function(){this.unobservedFocusedFieldThisFrame=null,this.focusedFieldThisFrameAutoruns=null,this.unobservedFocusedField=null,this.focusedFieldAutoruns=null,this.observedDirty=!1,Zb.call(this),this.set_earlyUpdateOrder(50),this.set_focusedFieldThisFrame(this.get_focusedField()),this.onFocusedFieldChange(this,$bind(this,this.handleFocusedFieldChange))}),re=((E["elements.FieldSystem"]=pi).__name__="elements.FieldSystem",pi.__interfaces__=[s],pi.__properties__={set_shared:"set_shared",get_shared:"get_shared"},pi.get_shared=function(){return pi.lazyShared&&(pi.lazyShared=!1,pi.shared=new pi),pi.shared},pi.set_shared=function(e){return pi.shared=e},pi.__super__=Zb,pi.prototype=$extend(Zb.prototype,{__cbOnObservedDirty:null,__cbOnceObservedDirty:null,__cbOnOwnerUnbindObservedDirty:null,__cbOnceOwnerUnbindObservedDirty:null,emitObservedDirty:function(e,n){var t=0;if(null!=this.__cbOnObservedDirty&&(t+=this.__cbOnObservedDirty.length),null!=this.__cbOnceObservedDirty&&(t+=this.__cbOnceObservedDirty.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnObservedDirty)for(var s=0,h=this.__cbOnObservedDirty.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnObservedDirty[a],++r):--t}if(null!=this.__cbOnceObservedDirty){for(var o=null,c=null,s=0,h=this.__cbOnceObservedDirty.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceObservedDirty[a],this.__cbOnceObservedDirty[a]=null,u=this.__cbOnceOwnerUnbindObservedDirty[a],(this.__cbOnceOwnerUnbindObservedDirty[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindObservedDirty[a]),c.push(this.__cbOnceObservedDirty[a]))}this.__cbOnceOwnerUnbindObservedDirty=o,this.__cbOnceObservedDirty=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onObservedDirty:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event observedDirty because owner is destroyed!");var l=function(e){null!=t&&(i.offObservedDirty(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push(null);null==this.__cbOnObservedDirty&&(this.__cbOnObservedDirty=[]),this.__cbOnObservedDirty.push(t)},onceObservedDirty:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event observedDirty because owner is destroyed!");var l=function(e){null!=t&&(i.offObservedDirty(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push(null);null==this.__cbOnceObservedDirty&&(this.__cbOnceObservedDirty=[]),this.__cbOnceObservedDirty.push(t)},offObservedDirty:function(e){if(null!=e){var n;null!=this.__cbOnObservedDirty&&-1!=(n=this.__cbOnObservedDirty.indexOf(e))&&(this.__cbOnObservedDirty.splice(n,1),null!=(r=this.__cbOnOwnerUnbindObservedDirty[n])&&r(),this.__cbOnOwnerUnbindObservedDirty.splice(n,1)),null!=this.__cbOnceObservedDirty&&-1!=(n=this.__cbOnceObservedDirty.indexOf(e))&&(this.__cbOnceObservedDirty.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindObservedDirty[n])&&r(),this.__cbOnceOwnerUnbindObservedDirty.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindObservedDirty){for(var t=0,i=this.__cbOnOwnerUnbindObservedDirty.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindObservedDirty[l])&&r()}this.__cbOnOwnerUnbindObservedDirty=null}if(null!=this.__cbOnceOwnerUnbindObservedDirty){for(t=0,i=this.__cbOnceOwnerUnbindObservedDirty.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindObservedDirty[l])&&r()}this.__cbOnceOwnerUnbindObservedDirty=null}this.__cbOnObservedDirty=null,this.__cbOnceObservedDirty=null}},listensObservedDirty:function(){return null!=this.__cbOnObservedDirty&&0<this.__cbOnObservedDirty.length||null!=this.__cbOnceObservedDirty&&0<this.__cbOnceObservedDirty.length},observedDirty:null,focusedFieldAutoruns:null,get_focusedField:function(){var e,n,t=this.unobservedFocusedField;return null!=U.current&&(e=U.current,null!=(n=this.focusedFieldAutoruns)||(n=U.getAutorunArray(),null!=(this.focusedFieldAutoruns=n)))&&e.bindToAutorunArray(n),t},set_focusedField:function(e){var n=this.unobservedFocusedField;return n!=(this.unobservedFocusedField=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitFocusedFieldChange(e,n),null!=(n=this.focusedFieldAutoruns))&&(this.focusedFieldAutoruns=null,U.invalidateAutorunArray(n)),e},invalidateFocusedField:function(){var e=this.unobservedFocusedField,e=(this.emitFocusedFieldChange(e,e),this.focusedFieldAutoruns);null!=e&&(this.focusedFieldAutoruns=null,U.invalidateAutorunArray(e))},unobservedFocusedField:null,__cbOnFocusedFieldChange:null,__cbOnceFocusedFieldChange:null,__cbOnOwnerUnbindFocusedFieldChange:null,__cbOnceOwnerUnbindFocusedFieldChange:null,emitFocusedFieldChange:function(e,n){var t=0;if(null!=this.__cbOnFocusedFieldChange&&(t+=this.__cbOnFocusedFieldChange.length),null!=this.__cbOnceFocusedFieldChange&&(t+=this.__cbOnceFocusedFieldChange.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnFocusedFieldChange)for(var s=0,h=this.__cbOnFocusedFieldChange.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnFocusedFieldChange[a],++r):--t}if(null!=this.__cbOnceFocusedFieldChange){for(var o=null,c=null,s=0,h=this.__cbOnceFocusedFieldChange.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceFocusedFieldChange[a],this.__cbOnceFocusedFieldChange[a]=null,u=this.__cbOnceOwnerUnbindFocusedFieldChange[a],(this.__cbOnceOwnerUnbindFocusedFieldChange[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindFocusedFieldChange[a]),c.push(this.__cbOnceFocusedFieldChange[a]))}this.__cbOnceOwnerUnbindFocusedFieldChange=o,this.__cbOnceFocusedFieldChange=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onFocusedFieldChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event focusedFieldChange because owner is destroyed!");var l=function(e){null!=t&&(i.offFocusedFieldChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindFocusedFieldChange&&(this.__cbOnOwnerUnbindFocusedFieldChange=[]),this.__cbOnOwnerUnbindFocusedFieldChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindFocusedFieldChange&&(this.__cbOnOwnerUnbindFocusedFieldChange=[]),this.__cbOnOwnerUnbindFocusedFieldChange.push(null);null==this.__cbOnFocusedFieldChange&&(this.__cbOnFocusedFieldChange=[]),this.__cbOnFocusedFieldChange.push(t)},onceFocusedFieldChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event focusedFieldChange because owner is destroyed!");var l=function(e){null!=t&&(i.offFocusedFieldChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindFocusedFieldChange&&(this.__cbOnceOwnerUnbindFocusedFieldChange=[]),this.__cbOnceOwnerUnbindFocusedFieldChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindFocusedFieldChange&&(this.__cbOnceOwnerUnbindFocusedFieldChange=[]),this.__cbOnceOwnerUnbindFocusedFieldChange.push(null);null==this.__cbOnceFocusedFieldChange&&(this.__cbOnceFocusedFieldChange=[]),this.__cbOnceFocusedFieldChange.push(t)},offFocusedFieldChange:function(e){if(null!=e){var n;null!=this.__cbOnFocusedFieldChange&&-1!=(n=this.__cbOnFocusedFieldChange.indexOf(e))&&(this.__cbOnFocusedFieldChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindFocusedFieldChange[n])&&r(),this.__cbOnOwnerUnbindFocusedFieldChange.splice(n,1)),null!=this.__cbOnceFocusedFieldChange&&-1!=(n=this.__cbOnceFocusedFieldChange.indexOf(e))&&(this.__cbOnceFocusedFieldChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindFocusedFieldChange[n])&&r(),this.__cbOnceOwnerUnbindFocusedFieldChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindFocusedFieldChange){for(var t=0,i=this.__cbOnOwnerUnbindFocusedFieldChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindFocusedFieldChange[l])&&r()}this.__cbOnOwnerUnbindFocusedFieldChange=null}if(null!=this.__cbOnceOwnerUnbindFocusedFieldChange){for(t=0,i=this.__cbOnceOwnerUnbindFocusedFieldChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindFocusedFieldChange[l])&&r()}this.__cbOnceOwnerUnbindFocusedFieldChange=null}this.__cbOnFocusedFieldChange=null,this.__cbOnceFocusedFieldChange=null}},listensFocusedFieldChange:function(){return null!=this.__cbOnFocusedFieldChange&&0<this.__cbOnFocusedFieldChange.length||null!=this.__cbOnceFocusedFieldChange&&0<this.__cbOnceFocusedFieldChange.length},focusedFieldThisFrameAutoruns:null,get_focusedFieldThisFrame:function(){var e,n,t=this.unobservedFocusedFieldThisFrame;return null!=U.current&&(e=U.current,null!=(n=this.focusedFieldThisFrameAutoruns)||(n=U.getAutorunArray(),null!=(this.focusedFieldThisFrameAutoruns=n)))&&e.bindToAutorunArray(n),t},set_focusedFieldThisFrame:function(e){var n=this.unobservedFocusedFieldThisFrame;return n!=(this.unobservedFocusedFieldThisFrame=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitFocusedFieldThisFrameChange(e,n),null!=(n=this.focusedFieldThisFrameAutoruns))&&(this.focusedFieldThisFrameAutoruns=null,U.invalidateAutorunArray(n)),e},invalidateFocusedFieldThisFrame:function(){var e=this.unobservedFocusedFieldThisFrame,e=(this.emitFocusedFieldThisFrameChange(e,e),this.focusedFieldThisFrameAutoruns);null!=e&&(this.focusedFieldThisFrameAutoruns=null,U.invalidateAutorunArray(e))},unobservedFocusedFieldThisFrame:null,__cbOnFocusedFieldThisFrameChange:null,__cbOnceFocusedFieldThisFrameChange:null,__cbOnOwnerUnbindFocusedFieldThisFrameChange:null,__cbOnceOwnerUnbindFocusedFieldThisFrameChange:null,emitFocusedFieldThisFrameChange:function(e,n){var t=0;if(null!=this.__cbOnFocusedFieldThisFrameChange&&(t+=this.__cbOnFocusedFieldThisFrameChange.length),null!=this.__cbOnceFocusedFieldThisFrameChange&&(t+=this.__cbOnceFocusedFieldThisFrameChange.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnFocusedFieldThisFrameChange)for(var s=0,h=this.__cbOnFocusedFieldThisFrameChange.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnFocusedFieldThisFrameChange[a],++r):--t}if(null!=this.__cbOnceFocusedFieldThisFrameChange){for(var o=null,c=null,s=0,h=this.__cbOnceFocusedFieldThisFrameChange.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceFocusedFieldThisFrameChange[a],this.__cbOnceFocusedFieldThisFrameChange[a]=null,u=this.__cbOnceOwnerUnbindFocusedFieldThisFrameChange[a],(this.__cbOnceOwnerUnbindFocusedFieldThisFrameChange[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindFocusedFieldThisFrameChange[a]),c.push(this.__cbOnceFocusedFieldThisFrameChange[a]))}this.__cbOnceOwnerUnbindFocusedFieldThisFrameChange=o,this.__cbOnceFocusedFieldThisFrameChange=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onFocusedFieldThisFrameChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event focusedFieldThisFrameChange because owner is destroyed!");var l=function(e){null!=t&&(i.offFocusedFieldThisFrameChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindFocusedFieldThisFrameChange&&(this.__cbOnOwnerUnbindFocusedFieldThisFrameChange=[]),this.__cbOnOwnerUnbindFocusedFieldThisFrameChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindFocusedFieldThisFrameChange&&(this.__cbOnOwnerUnbindFocusedFieldThisFrameChange=[]),this.__cbOnOwnerUnbindFocusedFieldThisFrameChange.push(null);null==this.__cbOnFocusedFieldThisFrameChange&&(this.__cbOnFocusedFieldThisFrameChange=[]),this.__cbOnFocusedFieldThisFrameChange.push(t)},onceFocusedFieldThisFrameChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event focusedFieldThisFrameChange because owner is destroyed!");var l=function(e){null!=t&&(i.offFocusedFieldThisFrameChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindFocusedFieldThisFrameChange&&(this.__cbOnceOwnerUnbindFocusedFieldThisFrameChange=[]),this.__cbOnceOwnerUnbindFocusedFieldThisFrameChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindFocusedFieldThisFrameChange&&(this.__cbOnceOwnerUnbindFocusedFieldThisFrameChange=[]),this.__cbOnceOwnerUnbindFocusedFieldThisFrameChange.push(null);null==this.__cbOnceFocusedFieldThisFrameChange&&(this.__cbOnceFocusedFieldThisFrameChange=[]),this.__cbOnceFocusedFieldThisFrameChange.push(t)},offFocusedFieldThisFrameChange:function(e){if(null!=e){var n;null!=this.__cbOnFocusedFieldThisFrameChange&&-1!=(n=this.__cbOnFocusedFieldThisFrameChange.indexOf(e))&&(this.__cbOnFocusedFieldThisFrameChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindFocusedFieldThisFrameChange[n])&&r(),this.__cbOnOwnerUnbindFocusedFieldThisFrameChange.splice(n,1)),null!=this.__cbOnceFocusedFieldThisFrameChange&&-1!=(n=this.__cbOnceFocusedFieldThisFrameChange.indexOf(e))&&(this.__cbOnceFocusedFieldThisFrameChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindFocusedFieldThisFrameChange[n])&&r(),this.__cbOnceOwnerUnbindFocusedFieldThisFrameChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindFocusedFieldThisFrameChange){for(var t=0,i=this.__cbOnOwnerUnbindFocusedFieldThisFrameChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindFocusedFieldThisFrameChange[l])&&r()}this.__cbOnOwnerUnbindFocusedFieldThisFrameChange=null}if(null!=this.__cbOnceOwnerUnbindFocusedFieldThisFrameChange){for(t=0,i=this.__cbOnceOwnerUnbindFocusedFieldThisFrameChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindFocusedFieldThisFrameChange[l])&&r()}this.__cbOnceOwnerUnbindFocusedFieldThisFrameChange=null}this.__cbOnFocusedFieldThisFrameChange=null,this.__cbOnceFocusedFieldThisFrameChange=null}},listensFocusedFieldThisFrameChange:function(){return null!=this.__cbOnFocusedFieldThisFrameChange&&0<this.__cbOnFocusedFieldThisFrameChange.length||null!=this.__cbOnceFocusedFieldThisFrameChange&&0<this.__cbOnceFocusedFieldThisFrameChange.length},handleFocusedFieldChange:function(e,n){null!=e?this.set_focusedFieldThisFrame(e):he.app.onceFinishDraw(this,$bind(this,this.updateFocusedFieldThisFrame))},updateFocusedFieldThisFrame:function(){this.set_focusedFieldThisFrame(this.get_focusedField())},earlyUpdate:function(e){this.updateFocusedField()},updateFocusedField:function(){for(var e=he.app.screen.get_focusedVisual(),n=(U.unobserve(),null),t=e;null!=t;){if(t instanceof z2){n=t;break}if(Ul.__implements(t,R2)){var i=t.relatedFieldView();if(null!=i){n=i;break}}t=t.parent}e=this.get_focusedField();this.set_focusedField(n),e!=n&&e instanceof z2&&e.didLostFocus(),U.reobserve()},unbindEvents:function(){Zb.prototype.unbindEvents.call(this),this.offObservedDirty(),this.offFocusedFieldChange(),this.offFocusedFieldThisFrameChange()},__class__:pi,__properties__:$extend(Zb.prototype.__properties__,{set_focusedFieldThisFrame:"set_focusedFieldThisFrame",get_focusedFieldThisFrame:"get_focusedFieldThisFrame",set_focusedField:"set_focusedField",get_focusedField:"get_focusedField"})}),(E["elements.FormLayout"]=$2).__name__="elements.FormLayout",$2.__interfaces__=[s],$2.__super__=r0,$2.prototype=$extend(r0.prototype,{__cbOnObservedDirty:null,__cbOnceObservedDirty:null,__cbOnOwnerUnbindObservedDirty:null,__cbOnceOwnerUnbindObservedDirty:null,emitObservedDirty:function(e,n){var t=0;if(null!=this.__cbOnObservedDirty&&(t+=this.__cbOnObservedDirty.length),null!=this.__cbOnceObservedDirty&&(t+=this.__cbOnceObservedDirty.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnObservedDirty)for(var s=0,h=this.__cbOnObservedDirty.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnObservedDirty[a],++r):--t}if(null!=this.__cbOnceObservedDirty){for(var o=null,c=null,s=0,h=this.__cbOnceObservedDirty.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceObservedDirty[a],this.__cbOnceObservedDirty[a]=null,u=this.__cbOnceOwnerUnbindObservedDirty[a],(this.__cbOnceOwnerUnbindObservedDirty[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindObservedDirty[a]),c.push(this.__cbOnceObservedDirty[a]))}this.__cbOnceOwnerUnbindObservedDirty=o,this.__cbOnceObservedDirty=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onObservedDirty:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event observedDirty because owner is destroyed!");var l=function(e){null!=t&&(i.offObservedDirty(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push(null);null==this.__cbOnObservedDirty&&(this.__cbOnObservedDirty=[]),this.__cbOnObservedDirty.push(t)},onceObservedDirty:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event observedDirty because owner is destroyed!");var l=function(e){null!=t&&(i.offObservedDirty(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push(null);null==this.__cbOnceObservedDirty&&(this.__cbOnceObservedDirty=[]),this.__cbOnceObservedDirty.push(t)},offObservedDirty:function(e){if(null!=e){var n;null!=this.__cbOnObservedDirty&&-1!=(n=this.__cbOnObservedDirty.indexOf(e))&&(this.__cbOnObservedDirty.splice(n,1),null!=(r=this.__cbOnOwnerUnbindObservedDirty[n])&&r(),this.__cbOnOwnerUnbindObservedDirty.splice(n,1)),null!=this.__cbOnceObservedDirty&&-1!=(n=this.__cbOnceObservedDirty.indexOf(e))&&(this.__cbOnceObservedDirty.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindObservedDirty[n])&&r(),this.__cbOnceOwnerUnbindObservedDirty.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindObservedDirty){for(var t=0,i=this.__cbOnOwnerUnbindObservedDirty.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindObservedDirty[l])&&r()}this.__cbOnOwnerUnbindObservedDirty=null}if(null!=this.__cbOnceOwnerUnbindObservedDirty){for(t=0,i=this.__cbOnceOwnerUnbindObservedDirty.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindObservedDirty[l])&&r()}this.__cbOnceOwnerUnbindObservedDirty=null}this.__cbOnObservedDirty=null,this.__cbOnceObservedDirty=null}},listensObservedDirty:function(){return null!=this.__cbOnObservedDirty&&0<this.__cbOnObservedDirty.length||null!=this.__cbOnceObservedDirty&&0<this.__cbOnceObservedDirty.length},observedDirty:null,themeAutoruns:null,get_theme:function(){var e,n,t=this.unobservedTheme;return null!=U.current&&(e=U.current,null!=(n=this.themeAutoruns)||(n=U.getAutorunArray(),null!=(this.themeAutoruns=n)))&&e.bindToAutorunArray(n),t},set_theme:function(e){var n=this.unobservedTheme;return n!=(this.unobservedTheme=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitThemeChange(e,n),null!=(n=this.themeAutoruns))&&(this.themeAutoruns=null,U.invalidateAutorunArray(n)),e},invalidateTheme:function(){var e=this.unobservedTheme,e=(this.emitThemeChange(e,e),this.themeAutoruns);null!=e&&(this.themeAutoruns=null,U.invalidateAutorunArray(e))},unobservedTheme:null,__cbOnThemeChange:null,__cbOnceThemeChange:null,__cbOnOwnerUnbindThemeChange:null,__cbOnceOwnerUnbindThemeChange:null,emitThemeChange:function(e,n){var t=0;if(null!=this.__cbOnThemeChange&&(t+=this.__cbOnThemeChange.length),null!=this.__cbOnceThemeChange&&(t+=this.__cbOnceThemeChange.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnThemeChange)for(var s=0,h=this.__cbOnThemeChange.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnThemeChange[a],++r):--t}if(null!=this.__cbOnceThemeChange){for(var o=null,c=null,s=0,h=this.__cbOnceThemeChange.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceThemeChange[a],this.__cbOnceThemeChange[a]=null,u=this.__cbOnceOwnerUnbindThemeChange[a],(this.__cbOnceOwnerUnbindThemeChange[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindThemeChange[a]),c.push(this.__cbOnceThemeChange[a]))}this.__cbOnceOwnerUnbindThemeChange=o,this.__cbOnceThemeChange=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onThemeChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event themeChange because owner is destroyed!");var l=function(e){null!=t&&(i.offThemeChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindThemeChange&&(this.__cbOnOwnerUnbindThemeChange=[]),this.__cbOnOwnerUnbindThemeChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindThemeChange&&(this.__cbOnOwnerUnbindThemeChange=[]),this.__cbOnOwnerUnbindThemeChange.push(null);null==this.__cbOnThemeChange&&(this.__cbOnThemeChange=[]),this.__cbOnThemeChange.push(t)},onceThemeChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event themeChange because owner is destroyed!");var l=function(e){null!=t&&(i.offThemeChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindThemeChange&&(this.__cbOnceOwnerUnbindThemeChange=[]),this.__cbOnceOwnerUnbindThemeChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindThemeChange&&(this.__cbOnceOwnerUnbindThemeChange=[]),this.__cbOnceOwnerUnbindThemeChange.push(null);null==this.__cbOnceThemeChange&&(this.__cbOnceThemeChange=[]),this.__cbOnceThemeChange.push(t)},offThemeChange:function(e){if(null!=e){var n;null!=this.__cbOnThemeChange&&-1!=(n=this.__cbOnThemeChange.indexOf(e))&&(this.__cbOnThemeChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindThemeChange[n])&&r(),this.__cbOnOwnerUnbindThemeChange.splice(n,1)),null!=this.__cbOnceThemeChange&&-1!=(n=this.__cbOnceThemeChange.indexOf(e))&&(this.__cbOnceThemeChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindThemeChange[n])&&r(),this.__cbOnceOwnerUnbindThemeChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindThemeChange){for(var t=0,i=this.__cbOnOwnerUnbindThemeChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindThemeChange[l])&&r()}this.__cbOnOwnerUnbindThemeChange=null}if(null!=this.__cbOnceOwnerUnbindThemeChange){for(t=0,i=this.__cbOnceOwnerUnbindThemeChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindThemeChange[l])&&r()}this.__cbOnceOwnerUnbindThemeChange=null}this.__cbOnThemeChange=null,this.__cbOnceThemeChange=null}},listensThemeChange:function(){return null!=this.__cbOnThemeChange&&0<this.__cbOnThemeChange.length||null!=this.__cbOnceThemeChange&&0<this.__cbOnceThemeChange.length},tabFocus:null,set_tabFocus:function(e){return this.tabFocus==e?this.tabFocus:(null!=this.tabFocus&&this.tabFocus.destroy(),this.tabFocus=e,null!=this.tabFocus?(this.component("tabFocus",this.tabFocus,!0),this.tabFocus):(this.removeComponent("tabFocus"),null))},backgroundTop:null,backgrounds:null,backgroundBottom:null,destroy:function(){if(!(this._lifecycleState<=-2)){if(this._lifecycleState=-2,null!=this.backgrounds)for(var e=this.backgrounds,n=(this.backgrounds=null,0),t=e.length;n<t;){var i=e[n++];null!=i&&i.destroy()}null!=this.backgroundTop&&(this.backgroundTop.destroy(),this.backgroundTop=null),null!=this.backgroundBottom&&(this.backgroundBottom.destroy(),this.backgroundBottom=null),this._lifecycleState=-1,r0.prototype.destroy.call(this)}},layout:function(){r0.prototype.layout.call(this),this.computeBackgrounds(),null!=this.backgroundTop&&((e=this.backgroundTop).set_x(0),e.set_y(0),e=this.backgroundTop,n=this.get_width(),t=this.paddingTop-Math.floor(.5*this.itemSpacing),e.set_width(n),e.set_height(t));var e,n,t,i=this.backgroundTop.y+this.backgroundTop.get_height();if(null!=this.subviews&&0<this.subviews.length)for(var l=0,r=this.subviews.length;l<r;){var s=l++,h=this.subviews[s],s=this.backgrounds[s],a=h.y+h.get_height()*h.anchorY-Math.floor(.5*this.itemSpacing),o=h.get_height()+this.itemSpacing;null!=s&&(s.set_x(h.x+h.get_width()*h.anchorX-this.paddingLeft),s.set_y(a),s.set_width(this.get_width()),s.set_height(o)),i=a+o}null!=this.backgroundBottom&&((e=this.backgroundBottom).set_x(0),e.set_y(i),e=this.backgroundBottom,n=this.get_width(),t=this.get_height()-i,e.set_width(n),e.set_height(t))},computeBackgrounds:function(){var e=this.get_theme();if((e=null==e?te.get_context().get_theme():e).get_backgroundInFormLayout()){var n=e.get_windowBackgroundColor(),t=e.get_windowBackgroundAlpha();if(U.unobserve(),null==this.backgroundTop&&(this.backgroundTop=new p,this.backgroundTop.set_depth(.5),this.add(this.backgroundTop)),null!=this.subviews&&0<this.subviews.length){null==this.backgrounds&&(this.backgrounds=[]);for(var i=null,l=0,r=this.subviews.length;l<r;){var s=l++,h=this.subviews[s],a=(U.reobserve(),i=K.getProperty(h,"theme"),U.unobserve(),null==i&&(i=e),U.reobserve(),n=i.get_windowBackgroundColor(),t=i.get_windowBackgroundAlpha(),U.unobserve(),0==s&&(this.backgroundTop.color=n,this.backgroundTop.set_alpha(t)),K.field(h,"renderWindowBackground"));null==a||0==a.apply(h,$2.EMPTY_ARRAY)?(null==(c=this.backgrounds[s])?((c=new p).set_depth(.5),this.add(c),this.backgrounds[s]=c):c.set_active(!0),c.color=n,c.set_alpha(t)):this.backgrounds.length==s&&this.backgrounds.push(null)}}else this.backgroundTop.color=n,this.backgroundTop.set_alpha(t);null==this.backgroundBottom&&(this.backgroundBottom=new p,this.backgroundBottom.set_depth(.5),this.add(this.backgroundBottom)),this.backgroundBottom.color=n,this.backgroundBottom.set_alpha(t),this.layoutDirty=!0}else U.unobserve(),null!=this.backgroundTop&&this.backgroundTop.set_active(!1),null!=this.backgroundBottom&&this.backgroundBottom.set_active(!1);if(null!=this.backgrounds){var o=null!=this.subviews?this.subviews.length:0;if(0<o)for(l=o,r=this.backgrounds.length;l<r;){var c,s=l++;null!=(c=this.backgrounds[s])&&c.set_active(!1)}}},updateStyle:function(){var e=this.get_theme();null==e&&(e=te.get_context().get_theme()),this.color=e.get_mediumBackgroundColor(),this.set_itemSpacing(e.get_formItemSpacing()),this.padding(e.get_formPadding())},unbindEvents:function(){r0.prototype.unbindEvents.call(this),this.offObservedDirty(),this.offThemeChange()},__class__:$2,__properties__:$extend(r0.prototype.__properties__,{set_tabFocus:"set_tabFocus",set_theme:"set_theme",get_theme:"get_theme"})}),function(){}),Ci=((E["elements.Im"]=re).__name__="elements.Im",re.__properties__={get_current:"get_current",get_currentTheme:"get_currentTheme",get_defaultTheme:"get_defaultTheme"},re.initIfNeeded=function(){null==te.get_context().view&&vi.get_shared().createView(),null==re._imTheme&&(re._imTheme=new Ii),null==re._theme&&(re._theme=re._imTheme)},re.extractId=function(e){return e},re.extractTitle=function(e){return e},re.beginFrame=function(){if(re.initIfNeeded(),re._shouldSkipRender=!1,re._imTheme.set_backgroundInFormLayout(!0),re._usedWindowKeys.h=Object.create(null),re._numUsedWindows=0,re._assets=null,re._theme=re._imTheme,re._themeTint=-1,re._themeAltTint=-1,re._themeBackgroundColor=-1,re._themeTextColor=-1,null!=re._themePool)for(var e=0,n=re._themePool.length;e<n;){var t=e++;re._themePool[t]._used=!1}for(;0<re._beginFrameCallbacks.length;)re._beginFrameCallbacks.pop()();for(e=0,n=re._pointerBaseHandleOccurences.length;e<n;){t=e++;re._pointerBaseHandleOccurences[t]=0}for(var i=re._assetUses.h,l=i,r=Object.keys(i),s=r.length,h=0;h<s;){var a,o=u=r[h++],c=l[u];0<c?re._assetUses.h[o]=0:--c<-60?(a=re._assetUses,Object.prototype.hasOwnProperty.call(a.h,o)&&delete a.h[o],null!=(a=(null!=re._assets?re._assets:te.get_context().get_assets()).asset(o,null,null))&&a.destroy()):re._assetUses.h[o]=c}for(l=i=te.get_context().user.get_windowsData().h,s=(r=Object.keys(i)).length,h=0;h<s;){var u;u=r[h++];l[u].beginFrame()}},re.updateWindowsDepth=function(){for(var e=re._orderedWindows.length,n=0,t=e;n<t;){var i=n++;re._orderedWindowsIterated[i]=re._orderedWindows[i]}for(var l=!1,n=0,t=e;n<t;){i=n++;if(null!=(r=re._orderedWindowsIterated[i]).overlay){l=!0;break}}if(l)for(n=0,t=e-1;n<t;){var i=n++,r=re._orderedWindowsIterated[i];(re._orderedWindowsIterated[i]=null)!=r.overlay&&null==re._orderedWindows[e-1].overlay&&(se.remove(re._orderedWindows,r),re._orderedWindows.push(r))}else for(n=0,t=e-1;n<t;){i=n++,r=re._orderedWindowsIterated[i];(re._orderedWindowsIterated[i]=null)==he.app.screen.get_focusedVisual()||he.app.screen.get_focusedVisual()!=r&&!he.app.screen.get_focusedVisual().hasIndirectParent(r)||(se.remove(re._orderedWindows,r),re._orderedWindows.push(r))}for(var s=1,n=0,t=e;n<t;){i=n++;null!=(r=re._orderedWindows[i]).overlay&&r.overlay.set_depth(s++),r.set_depth(s++)}},re.displayPendingDialogIfNeeded=function(){if(0<re._pendingDialogs.length){for(var e=null,n=0,t=re._pendingDialogs.length;n<t;){var i=n++,l=re._pendingDialogs[i];if(!l.canceled&&-1==l.chosenIndex){e=l;break}}if(null!=e){for(var r=re._displayedPendingDialog!=e,s=-1,h=!1,a=(re._displayedPendingDialog=e).width,a=re._begin("Im.pendingDialog",e.title,a=null==a?200:a,-60001,{fileName:"../../../../ceramic/plugins/elements/runtime/src/elements/Im.hx",lineNumber:416,className:"elements.Im",methodName:"displayPendingDialogIfNeeded"}),o=(re.position(.5*ee.app.screenWidth,.5*ee.app.screenHeight,.5,.5),re.overlay()&&e.cancelable&&(h=!0),re.expanded(),re.titleAlign(_t.CENTER),e.cancelable&&re.closable()&&(h=!0),re.textAlign(_t.CENTER),e.message),n=(null!=o&&re.text(o),null!=e.promptPointer&&2==(2&re.editText(null,e.promptPointer,!1,e.promptPlaceholder,null,!0))&&(s=0),2==e.choices.length&&re.beginRow(),0),t=e.choices.length;n<t;){var i=n++,c=e.choices[i];re._button(c,!0)&&(s=i)}2==e.choices.length&&re.endRow(),re.end(),-1!=s?(e.callback(s,e.choices[s]),e.chosenIndex=s,e.async&&(se.remove(re._pendingDialogs,e),e.destroy())):h?(e.canceled=!0,e.async&&(se.remove(re._pendingDialogs,e),e.destroy())):te.get_context().focusedWindow==a&&!r||he.app.screen.set_focusedVisual(a)}}},re.endFrame=function(){for(;0<re._changeChecks.length;)re._changeChecks.pop();re.displayPendingDialogIfNeeded(),re.updateWindowsDepth();for(var e=te.get_context().user.get_windowsData().h,n=e,t=Object.keys(e),i=t.length,l=0;l<i;){var r=t[l++];n[r].endFrame()}0<re._numUsedWindows&&Bt.get_shared().onceEndLateUpdate(vi.get_shared(),function(e){re._shouldSkipRender||vi.get_shared().requestRender()})},re.depth=function(e){null==te.get_context().view&&vi.get_shared().createView(),te.get_context().view.set_depth(e)},re.get=function(e){e=re.extractId(e),e=te.get_context().user.get_windowsData().h[e];return null!=e?e.window:null},re.hits=function(e,n){for(var t=te.get_context().user.get_windowsData().h,i=t,l=Object.keys(t),r=l.length,s=0;s<r;){var h=l[s++],h=i[h].window;if(null!=h&&h._hits(e,n,!1))return!0}t=pi.get_shared().get_focusedField();return null!=t&&t.hitsSelfOrDerived(e,n)},re.usesScanCode=function(e){var n,t=pi.get_shared().get_focusedFieldThisFrame();return!(null==t||!t.usesScanCode(e))||!(null==(n=pi.get_shared().get_focusedField())||n==t||!n.usesScanCode(e))},re.usesKeyCode=function(e){var n,t=pi.get_shared().get_focusedFieldThisFrame();return!(null==t||!t.usesKeyCode(e))||!(null==(n=pi.get_shared().get_focusedField())||n==t||!n.usesKeyCode(e))},re.usesCmdOrCtrl=function(){return!!(re.usesScanCode(227)||re.usesScanCode(231)||re.usesScanCode(224))||re.usesScanCode(228)},re.usesShift=function(){return!!re.usesScanCode(225)||re.usesScanCode(229)},re._begin=function(e,n,t,i,l){null==i&&(i=-60001),null==t&&(t=200);null==te.get_context().view&&vi.get_shared().createView(),re.pointSize(),re.preRenderedSize(),re.bold(!1);var r=re.extractId(e),s=re._usedWindowKeys,l=re._posInfosToString(l),s=(s.h[r]=l,re._numUsedWindows++,null!=n?n:re.extractTitle(e)),h=te.get_context().user.get_windowsData().h[r],a=null!=h?h.window:null;if(null==h){(h=new Li).id=r,null!=a&&(h.set_x(a.x),h.set_y(a.y));do{for(var o=!1,c=te.get_context().user.get_windowsData().h,u=c,_=Object.keys(c),d=_.length,b=0;b<d;){var g=u[_[b++]];h.get_y()==g.get_y()&&(o=!0,h.set_y(h.get_y()+21),h.set_x(h.get_x()+4))}}while(o);te.get_context().addWindowData(h)}return null==a&&(a=new Ei,re._orderedWindows.push(a),a.onDestroy(null,function(e){se.remove(re._orderedWindows,e)}),a.id=r,re._shouldSkipRender=!0,a.set_active(!1),l=h.get_x(),n=h.get_y(),a.set_x(l),a.set_y(n),a.set_viewHeight(-60001),a.onHeaderDoubleClick(a,function(){h.collapsible&&h.set_expanded(!h.get_expanded())}),a.onExpandCollapseClick(a,function(){h.collapsible&&h.set_expanded(!h.get_expanded())}),a.onClose(a,function(){h.closable&&(h.justClosed=!0)}),te.get_context().view.add(a),h.window=a,h.justClosed=!1,re._beginFrameCallbacks.push(function(){null!=a&&0<=a._lifecycleState&&a.set_active(!0)})),a.x<0&&a.set_x(0),a.x+a.get_width()>te.get_context().view.get_width()&&a.set_x(te.get_context().view.get_width()-a.get_width()),a.y<0&&a.set_y(0),a.y+Ei.HEADER_HEIGHT>te.get_context().view.get_height()&&a.set_y(te.get_context().view.get_height()-Ei.HEADER_HEIGHT),h.set_x(a.x),h.set_y(a.y),a.set_viewWidth(t),a.set_viewHeight(-60001),a.set_title(s),h.used=!0,h.closable=!1,h.movable=!0,h.collapsible=!0,h.set_header(!0),h.set_scrollbar(0),h.scrollable&&(h.didScrollWithHeight<-1?h.didScrollWithHeight++:-1<h.didScrollWithHeight&&null!=a&&a.get_height()>h.didScrollWithHeight?h.didScrollWithHeight=-2:null!=a&&(e=Math.max(h.didScrollWithHeight,a.get_height()),h.didScrollWithHeight=Math.round(e))),h.titleAlign=_t.LEFT,h.overlay=!1,h.overlayTheme=null,h.set_width(t),h.set_height(i),h.targetX=-999999999,h.targetY=-999999999,h.targetAnchorX=-999999999,h.targetAnchorY=-999999999,h.theme=re._theme,null!=a&&a.set_theme(re._theme),re._currentWindowData=h,a},re._beginTabs=function(e){var n,t,i=re._currentWindowData,l=Vi.get(),i=(l.theme=re._theme,l.disabled=re._fieldsDisabled,l.kind=15,l.string0=e(),l.string1=l.string0,l.intArray0=[],l.stringArray0=[],l.stringArray1=[],l.anyArray0=[],l.any0=e,i.addItem(l),!1);return l.isSameItem(l.previous)&&(n=l.previous.string0,(t=l.previous.string1)!=n)&&(i=!0,l.string0=t,e(l.string1=t,null==t)),re._currentTabBarItem.push(l),i},re.endTabs=function(){re._currentTabBarItem[re._currentTabBarItem.length-1];re._currentTabBarItem.pop()},re._tab=function(e,n){var t=re.extractId(e),n=null!=n?n:re.extractTitle(e),e=re._currentTabBarItem[re._currentTabBarItem.length-1];return e.intArray0.push(re._fieldsDisabled?1:0),e.stringArray0.push(t),e.stringArray1.push(n),e.anyArray0.push(re._theme),1==e.stringArray0.length&&null==(n=e.any0)()&&(n(n=t,null==n),e.string0=n,e.string1=n),t==e.string0},re.beginRow=function(){re._currentRowIndex++,re._inRow=!0,re._flex=1},re.endRow=function(){re._inRow=!1,re._flex=1},re.beginChangeCheck=function(){re._changeChecks.push(!1)},re.endChangeCheck=function(){return re._changeChecks.pop()},re._markChanged=function(){for(var e=0,n=re._changeChecks.length;e<n;){var t=e++;re._changeChecks[t]=!0}},re.labelPosition=function(e){re._labelPosition=e=null==e?1:e},re.labelWidth=function(e){re._labelWidth=e=null==e?-49965:e},re.textAlign=function(e){null==e&&(e=_t.LEFT),re._textAlign=e},re.disabled=function(e){re._fieldsDisabled=e},re.flex=function(e){re._flex=e},re.bold=function(e){re._bold=e},re._updateTheme=function(){re.initIfNeeded(),null==re._themePool&&(re._themePool=[]);for(var e=null,n=0,t=re._themePool.length;n<t;){var i=n++;if((l=re._themePool[i])._tint==re._themeTint&&l._altTint==re._themeAltTint&&l._backgroundColor==re._themeBackgroundColor&&l._textColor==re._themeTextColor||l._clonedIndex==re._themeClonedIndex){l._used=!0,e=l;break}}if(null==e)for(n=0,t=re._themePool.length;n<t;){var l,r,i=n++;if(!(l=re._themePool[i])._used){l._used=!0,l._tint==re._themeTint&&l._altTint==re._themeAltTint&&l._backgroundColor==re._themeBackgroundColor&&l._textColor==re._themeTextColor&&l._clonedIndex==re._themeClonedIndex||((null!=(r=re._explicitTheme)?r:re._imTheme).clone(l),re._themeClonedIndex=l._clonedIndex,-1!=re._themeTint&&l.applyTint(null,re._themeTint),l._tint=re._themeTint,-1!=re._themeAltTint&&l.applyAltTint(null,re._themeAltTint),l._altTint=re._themeAltTint,-1!=re._themeBackgroundColor&&l.applyBackgroundColor(re._themeBackgroundColor),l._backgroundColor=re._themeBackgroundColor,-1!=re._themeTextColor&&l.applyTextColor(re._themeTextColor),l._textColor=re._themeTextColor),e=l;break}}null==e&&((l=new Ii)._used=!0,(null!=(r=re._explicitTheme)?r:re._imTheme).clone(l),re._themeClonedIndex=l._clonedIndex,-1!=re._themeTint&&l.applyTint(null,re._themeTint),l._tint=re._themeTint,-1!=re._themeAltTint&&l.applyAltTint(null,re._themeAltTint),l._altTint=re._themeAltTint,-1!=re._themeBackgroundColor&&l.applyBackgroundColor(re._themeBackgroundColor),l._backgroundColor=re._themeBackgroundColor,-1!=re._themeTextColor&&l.applyTextColor(re._themeTextColor),l._textColor=re._themeTextColor,e=l),re._themeInternal(e)},re.assets=function(e){re._assets=e},re.get_defaultTheme=function(){return re.initIfNeeded(),re._imTheme},re.get_currentTheme=function(){return re.initIfNeeded(),re._theme},re.get_current=function(){return re.initIfNeeded(),re._currentWindowData},re.theme=function(e){re.initIfNeeded(),null==(re._explicitTheme=e)&&(e=re._imTheme),re._theme=e,re._theme.set_backgroundInFormLayout(!0)},re._themeInternal=function(e){re.initIfNeeded(),null==e&&(e=re._imTheme),re._theme=e,re._theme.set_backgroundInFormLayout(!0)},re.position=function(e,n,t,i,l){null==i&&(i=0),null==t&&(t=0);var r=re._currentWindowData;r.targetX=(l=null==l?!0:l)?Math.round(e):e,r.targetY=l?Math.round(n):n,r.targetAnchorX=t,r.targetAnchorY=i,r.movable=!1},re.scrollbar=function(e){var n=re._currentWindowData;n.set_scrollbar(e),n.movable=!1},re.focus=function(){var e=re._currentWindowData;null!=e&&null!=e.window&&he.app.screen.set_focusedVisual(e.window)},re.expanded=function(){var e=re._currentWindowData;e.collapsible=!1,e.set_expanded(!0)},re.header=function(e){re._currentWindowData.set_header(e)},re.overlay=function(){var e=re._currentWindowData;return e.overlay=!0,e.overlayTheme=re._theme,!!e.overlayClicked&&!(e.overlayClicked=!1)},re.titleAlign=function(e){re._currentWindowData.titleAlign=e},re.closable=function(e){var n=re._currentWindowData;return n.closable=!0,!!n.justClosed&&(n.justClosed=!1,null!=e&&e(!1),re._markChanged(),!0)},re._list=function(e,n,t,i,l,r,s,h){null==h&&(h=!1),null==s&&(s=!1),null==r&&(r=!1),null==l&&(l=!1),null==e&&(e=-1);var a,o=re._currentWindowData,c=Vi.get(),u=(c.theme=re._theme,c.flex=re._flex,c.disabled=re._fieldsDisabled,c.kind=14,c.int0=i(),c.int1=c.int0,0);return l&&(u=l?1|u:-2&u),r&&(u=r?2|u:-3&u),s&&(u=s?4|u:-5&u),h&&(u=h?8|u:-9&u),c.int2=u=n?n?16|u:-17&u:u,c.float0=e,c.labelPosition=re._labelPosition,c.labelWidth=re._labelWidth,c.any0=t(),c.any1=c.any0,c.row=re._inRow?re._currentRowIndex:-1,o.addItem(c),c.isSameItem(c.previous)?(l=c.previous.int0,(r=c.previous.int1)!=l&&(c.int0=r,i(c.int1=r)),s=c.previous.any0,(h=c.previous.any1)!=s&&(c.any0=h,t(c.any1=h,null==h)),(a=c.previous).any0==a.any1&&a.int0==a.int1||re._markChanged()):(a=c).any0==a.any1&&a.int0==a.int1||re._markChanged(),a},re._select=function(e,n,t,i){var l=re._currentWindowData,r=Vi.get();if(r.theme=re._theme,r.flex=re._flex,r.disabled=re._fieldsDisabled,r.kind=1,r.int0=n(),r.int1=r.int0,r.labelPosition=re._labelPosition,r.labelWidth=re._labelWidth,r.string2=e,r.stringArray0=t,r.string1=i,r.row=re._inRow?re._currentRowIndex:-1,l.addItem(r),r.isSameItem(r.previous)){e=r.previous.int0,t=r.previous.int1;if(t!=e)return r.int0=t,n(r.int1=t),re._markChanged(),!0}return!1},re._selectEnum=function(e,n,t,i,l){var r=n(null,!1),s=null;if(null==i)if(t instanceof Y2)i=(_=t).enumFields,s=null==r||(d=_.enumValues.indexOf(r))<0?null:_.enumFields[d];else{for(var h=t.__constructs__,a=new Array(h.length),o=0,c=h.length;o<c;){var u=o++;a[u]=h[u]._hx_name}i=a,s=null!=r?""+X.string(r):null}d=s;var _,d,b,g=i.indexOf(d),r=!1;return re._select(e,function(e){return null!=e?g=e:g},i,l)&&(null==(b=i[g])&&null!=b||(s=b),r=!0,re._markChanged()),(e=r)&&(t instanceof Y2?n(b=(_=t).createEnumValue(s),null==b):n(b=-1!=(d=null!=s?i.indexOf(s):-1)?B.createEnum(t,i[d],[]):null,null==b)),e},re._check=function(e,n,t){var i,l=re._currentWindowData,r=Vi.get(),t=(r.theme=re._theme,r.flex=re._flex,r.disabled=re._fieldsDisabled,r.kind=9,r.int0=n()?1:0,r.int1=r.int0,r.labelPosition=re._labelPosition,r.labelWidth=t?re._labelWidth:-60002,r.string2=e,r.row=re._inRow?re._currentRowIndex:-1,l.addItem(r),0!=r.int0),e=!1,l=(r.isSameItem(r.previous)&&(l=r.previous.int0,(i=r.previous.int1)!=l)&&(e=!0,t=0!=i,r.int0=i,n(0!=(r.int1=i)),re._markChanged()),0);return t&&(l=t?1|l:-2&l),l=e?e?2|l:-3&l:l},re.editColor=function(e,n){var t=re._currentWindowData,i=Vi.get();if(i.theme=re._theme,i.flex=re._flex,i.disabled=re._fieldsDisabled,i.kind=5,i.int0=n(),i.int1=i.int0,i.labelPosition=re._labelPosition,i.labelWidth=re._labelWidth,i.string2=e,i.row=re._inRow?re._currentRowIndex:-1,t.addItem(i),i.isSameItem(i.previous)){e=i.previous.int0,t=i.previous.int1;if(t!=e)return i.int0=t,n(i.int1=t),re._markChanged(),!0}return!1},re.editText=function(e,n,t,i,l,r,s){null==s&&(s=!0),null==r&&(r=!1),null==t&&(t=!1);var h,a=re._currentWindowData,o=Vi.get();return o.theme=re._theme,o.flex=re._flex,o.disabled=re._fieldsDisabled,o.kind=2,o.string0=n(),null==o.string0&&(o.string0=""),o.string1=o.string0,o.labelPosition=re._labelPosition,o.labelWidth=re._labelWidth,o.bool0=t,o.bool2=r,o.string2=e,o.string3=i,o.stringArray0=l,o.bool4=s,o.row=re._inRow?re._currentRowIndex:-1,a.addItem(o),o.isSameItem(o.previous)?(t=o.previous.string0,r=o.previous.string1,e=o.previous.bool1,i=o.previous.bool3,r!=t?(o.string0=r,n(o.string1=r,null==r),re._markChanged(),h=0,h|=1):h=0,e&&(h=e?2|h:-3&h),i?i?4|h:-5&h:h):0},re.editInt=function(e,n,t,i,l){null==l&&(l=2147483647),null==i&&(i=-2147483647);var r=re._currentWindowData,s=Vi.get();if(s.theme=re._theme,s.flex=re._flex,s.disabled=re._fieldsDisabled,s.kind=4,s.int0=n(),s.int1=s.int0,s.float3=i,s.float4=l,s.labelPosition=re._labelPosition,s.labelWidth=re._labelWidth,s.string2=e,s.string3=t,s.row=re._inRow?re._currentRowIndex:-1,r.addItem(s),s.isSameItem(s.previous)){i=s.previous.int0,l=s.previous.int1;if(l!=i)return s.int0=l,n(s.int1=l),re._markChanged(),!0}return!1},re.editFloat=function(e,n,t,i,l,r){null==r&&(r=1e3),null==l&&(l=2147483647),null==i&&(i=-2147483647);var s=re._currentWindowData,h=Vi.get();if(h.theme=re._theme,h.flex=re._flex,h.disabled=re._fieldsDisabled,h.kind=3,h.float0=n(),h.float1=h.float0,h.float3=i,h.float4=l,h.int0=r,h.labelPosition=re._labelPosition,h.labelWidth=re._labelWidth,h.string2=e,h.string3=t,h.row=re._inRow?re._currentRowIndex:-1,s.addItem(h),h.isSameItem(h.previous)){i=h.previous.float0,l=h.previous.float1;if(l!=i)return h.float0=l,n(h.float1=l),re._markChanged(),!0}return!1},re.slideInt=function(e,n,t,i){var l=re._currentWindowData,r=Vi.get();if(r.theme=re._theme,r.flex=re._flex,r.disabled=re._fieldsDisabled,r.kind=7,r.int0=n(),r.int1=r.int0,r.float3=t,r.float4=i,r.labelPosition=re._labelPosition,r.labelWidth=re._labelWidth,r.string2=e,r.row=re._inRow?re._currentRowIndex:-1,l.addItem(r),r.isSameItem(r.previous)){t=r.previous.int0,i=r.previous.int1;if(i!=t)return r.int0=i,n(r.int1=i),re._markChanged(),!0}return!1},re.slideFloat=function(e,n,t,i,l){null==l&&(l=1e3);var r=re._currentWindowData,s=Vi.get();if(s.theme=re._theme,s.flex=re._flex,s.disabled=re._fieldsDisabled,s.kind=6,s.float0=n(),s.float1=s.float0,s.float3=t,s.float4=i,s.int0=l,s.labelPosition=re._labelPosition,s.labelWidth=re._labelWidth,s.string2=e,s.row=re._inRow?re._currentRowIndex:-1,r.addItem(s),s.isSameItem(s.previous)){t=s.previous.float0,i=s.previous.float1;if(i!=t)return s.float0=i,n(s.float1=i),re._markChanged(),!0}return!1},re.visual=function(e,n,t,i,l){null==l&&(l=!0),null==i&&(i=!1),null==t&&(t=!1);var r=re._currentWindowData,s=Vi.get();s.theme=re._theme,s.flex=re._flex,s.disabled=re._fieldsDisabled,s.kind=11,s.bool0=t,s.bool1=l,s.int0=0,s.visual=n,s.string2=e,s.labelPosition=re._labelPosition,s.labelWidth=i?re._labelWidth:-60002,s.row=re._inRow?re._currentRowIndex:-1,r.addItem(s)},re._imageWithTile=function(e,n,t,i,l){return re._image(e,null,n,-1,-1,-1,-1,t,i,l)},re._imageWithAsset=function(e,n,t,i,l,r,s,h,a){z.startsWith(n,"image:")||(n="image:"+n);var o=0,o=(Object.prototype.hasOwnProperty.call(re._assetUses.h,n)&&(o=re._assetUses.h[n])<0&&(o=0),re._assetUses.h[n]=o+1,null!=re._assets?re._assets:te.get_context().get_assets()),c=o.texture(n);return null==c&&null==o.asset(n,null,null)&&(o.addImage(n),o.load(null,{fileName:"../../../../ceramic/plugins/elements/runtime/src/elements/Im.hx",lineNumber:2426,className:"elements.Im",methodName:"_imageWithAsset"})),re._image(e,c,null,t,i,l,r,s,h,a)},re._image=function(e,n,t,i,l,r,s,h,a,o){var c=re._currentWindowData,u=Vi.get(),h=(u.theme=re._theme,u.flex=re._flex,u.disabled=re._fieldsDisabled,u.kind=11,u.bool0=h,u.int0=1,u.string2=e,u.labelPosition=re._labelPosition,u.labelWidth=a?re._labelWidth:-60002,u.row=re._inRow?re._currentRowIndex:-1,c.addItem(u),null);return null==(h=null!=u.previous&&u.int0==u.previous.int0?u.previous.visual:h)&&c.unobservedExpanded&&(h=new p).set_active(!1),null!=h&&(null!=t?(h.set_tile(t),null!=o&&t.texture.set_filter(o)):(h._texture!=n&&h._set_texture(n),null!=n&&null!=o&&n.set_filter(o),null==n?(h.set_width(0),h.set_height(0)):0<=i&&0<=l&&0<=r&&0<=s&&(e=n.width,a=n.height,c=Math.round(l*a),t=Math.round(r*e),o=Math.round(s*a),h.frameX=Math.round(i*e),h.frameY=c,h.frameWidth!=t&&-1!=(h.frameWidth=t)&&h.set_width(t),h.frameHeight!=o)&&-1!=(h.frameHeight=o)&&h.set_height(o))),u.visual=h},re.debugVisual=function(e,n,t){null==t&&(t=!1),null==n&&(n=!1);var i,l,r=re._currentWindowData,s=Vi.get(),n=(s.theme=re._theme,s.flex=re._flex,s.disabled=re._fieldsDisabled,s.kind=11,s.bool0=n,s.int0=1e3,s.string2=e,s.labelPosition=re._labelPosition,s.labelWidth=t?re._labelWidth:-60002,s.row=re._inRow?re._currentRowIndex:-1,r.addItem(s),null);return null==(n=null!=s.previous&&s.int0==s.previous.int0?s.previous.visual:n)&&r.unobservedExpanded&&((n=new p).color=65280,i=20+Math.round(600*Math.random()),l=20+Math.round(600*Math.random()),n.set_width(i),n.set_height(l)),null!=n&&he.app.frame%60==0&&(i=20+Math.round(600*Math.random()),l=20+Math.round(600*Math.random()),n.set_width(i),n.set_height(l)),s.visual=n},re.margin=function(){re.initIfNeeded(),re.space(-re._theme.get_formItemSpacing()/2)},re.space=function(e){null==e&&(e=-60001);var n=re._currentWindowData,t=Vi.get();t.theme=re._theme,t.flex=re._flex,t.kind=12,t.float0=e,t.row=re._inRow?re._currentRowIndex:-1,n.addItem(t)},re.separator=function(e){null==e&&(e=7);var n=re._currentWindowData,t=Vi.get();t.theme=re._theme,t.flex=re._flex,t.kind=13,t.float0=e,t.row=re._inRow?re._currentRowIndex:-1,n.addItem(t)},re._button=function(e,n){var t=re._currentWindowData,i=Vi.get();if((i.theme=re._theme,i.flex=re._flex,i.disabled=re._fieldsDisabled,i.kind=8,i.int0=0,i.int1=0,i.labelWidth=re._labelWidth,i.string0=e,i.bool0=n,i.row=re._inRow?re._currentRowIndex:-1,t.addItem(i),n&&i.isSameItem(i.previous))&&1==i.previous.int1)return re._markChanged(),!0;return!1},re.pointSize=function(e){re._pointSize=e=null==e?12:e},re.preRenderedSize=function(e){re._preRenderedSize=e=null==e?-1:e},re.text=function(e,n){var t,i=re._currentWindowData,l=Vi.get();if(l.theme=re._theme,l.flex=re._flex,l.disabled=re._fieldsDisabled,l.kind=10,l.string0=e,l.string1=l.string0,null==n)switch(re._textAlign._hx_index){case 0:t=0;break;case 1:t=1;break;case 2:t=2}else switch(n._hx_index){case 0:t=0;break;case 1:t=1;break;case 2:t=2}l.int0=t,l.row=re._inRow?re._currentRowIndex:-1,l.bool0=re._bold,l.int2=re._pointSize,0<re._preRenderedSize?l.int3=re._preRenderedSize:l.int3=5*Math.ceil((re._pointSize+7.9)/5),i.addItem(l)},re.end=function(){var s=re._currentWindowData,h=null!=s?s.window:null,e=null!=s?s.items:null;if(null==h||1==(1&h.flags)){if(null!=e)for(var n=0,t=s.itemIndex;n<t;)null!=(T=e[I=n++]).visual&&(null!=T.visual.parent&&T.visual.parent.remove(T.visual),null==h&&11==T.kind&&0<T.int0&&null!=T.visual?(T.visual.destroy(),T.visual=null):T.visual.set_active(!1));null!=h&&-999999999!=s.targetX&&Bt.get_shared().onceEndLateUpdate(h,function(e){s.set_x(s.targetX-s.targetAnchorX*h.get_width()),s.set_y(s.targetY-s.targetAnchorY*h.get_height()),h.set_x(s.get_x()),h.set_y(s.get_y())})}else{if(h.set_closable(s.closable),h.movable=s.movable,h.set_collapsible(s.collapsible),h.set_titleAlign(s.titleAlign),h.set_header(s.get_header()),s.get_expanded()){var i,l,r,a,o,c=s.form,u=s.filler,_=!1;if(-60001!=s.get_height())switch(s.get_scrollbar()){case-1:i=!1;break;case 0:i=s.computedContentHeight>s.get_height();break;case 1:i=s.computedContentHeight>s.get_height()||0<=s.didScrollWithHeight;break;case 2:case 3:i=!0}else i=!1;if(s.scrollable=i,null!=h.get_contentView())if(h.get_contentView()instanceof xi){var d,b=h.get_contentView();if(i){var g=s.get_height();b.set_viewWidth(-60002),b.set_viewHeight(g)}else{if(null!=(d=b.layoutView).parent&&d.parent.remove(d),h.set_contentView(d),d.set_paddingRight(0),_=!0,null==(y=c.subviews))return;for(n=0,t=y.length;n<t;)1!=(1&(x=y[I=n++]).flags)&&x.set_visible(!0)}}else i&&(_=!0,(d=h.get_contentView()).set_paddingRight(12),(b=new xi(d,!0)).set_theme(s.theme),b.checkChildrenOfView=c,(a=new Ti).set_active(!1),a.inset(2,1,1,2),b.scroller.set_scrollbar(a),b.flags|=16,g=s.get_height(),b.set_viewWidth(-60002),b.set_viewHeight(g),(l=new p).id="scrollbar-bg",l.flags&=-17,o=b.get_width()-12,l.set_x(o),l.set_y(0),g=b.get_height(),l.set_width(12),l.set_height(g),l.set_alpha(s.theme.get_windowBackgroundAlpha()),l.color=s.theme.get_windowBackgroundColor(),b.onResize(l,function(e,n){l.set_x(e-12),l.set_y(0),l.set_width(12),l.set_height(n)}),b.add(l),h.set_contentView(b));null==h.get_contentView()&&(_=!0,(c=new $2).set_viewWidth(-60001),c.set_viewHeight(-60001),c.flags|=16,s.form=c,(d=new r0).flags|=16,d.set_viewWidth(-60001),d.set_viewHeight(-60001),d.add(c),(u=new f0).set_viewWidth(-60002),u.set_viewHeight(0),u.flags&=-17,d.add(u),s.filler=u,i?(d.set_paddingRight(12),(b=new xi(d,!0)).set_theme(s.theme),b.checkChildrenOfView=c,(a=new Ti).set_active(!1),a.inset(2,1,1,2),b.scroller.set_scrollbar(a),b.flags|=16,g=s.get_height(),b.set_viewWidth(-60002),b.set_viewHeight(g),(r=new p).id="scrollbar-bg",r.flags&=-17,o=b.get_width()-12,r.set_x(o),r.set_y(0),g=b.get_height(),r.set_width(12),r.set_height(g),r.set_alpha(s.theme.get_windowBackgroundAlpha()),r.color=s.theme.get_windowBackgroundColor(),b.onResize(r,function(e,n){r.set_x(e-12),r.set_y(0),r.set_width(12),r.set_height(n)}),b.add(r),h.set_contentView(b)):h.set_contentView(d)),null!=c&&(c.tabFocus.focusRoot=h,c.set_theme(s.theme)),null!=u&&(u.set_alpha(s.theme.get_windowBackgroundAlpha()),u.color=s.theme.get_windowBackgroundColor()),null!=h.get_contentView()&&h.get_contentView()instanceof xi&&null!=(a=h.get_contentView().childWithId("scrollbar-bg"))&&((o=a).set_alpha(s.theme.get_windowBackgroundAlpha()),o.color=s.theme.get_windowBackgroundColor());e=s.items;if(!_)for(n=0,t=s.itemIndex;n<t;)if(null==(T=e[I=n++]).previous||!T.isSameItem(T.previous)){_=!0;break}if(!_){var O=0;if(null!=(P=c.subviews))for(n=0,t=P.length;n<t;)if((x=P[I=n++])instanceof Ci){var f=(A=x).subviews;if(null!=f)for(var C=0,v=f.length;C<v;){var w=C++;++O}}else++O;O!=s.itemIndex&&(_=!0)}if(_){for(var m=null!=c.subviews?[].concat(c.subviews):[],y=[],U=[],D=-1,n=0,t=m.length;n<t;)if((x=m[I=n++])instanceof Ci){if(null!=(P=(A=x).subviews))for(C=0,v=P.length;C<v;){w=C++;y.push(P[w])}A.removeAllViews(),U.push(A)}else y.push(x);c.removeAllViews();for(n=0,t=s.itemIndex;n<t;){var T=e[I=n++],x=y[I],S=null!=T.previous&&T.isSameItem(T.previous),A=(null!=x&&S||null!=x&&(x instanceof Bi&&x.set_visual(null),x.destroy(),x=null),x=T.updateView(x),null);0<=T.row&&(D<T.row?(null==(A=U[++D])&&(A=new Ci,(U[D]=A).set_viewWidth(-60002),A.set_viewHeight(-60001)),c.add(A)):A=U[T.row]),(null!=A?A:c).add(x)}for(;s.itemIndex<y.length;)y.pop().destroy();for(;D+1<U.length;)U.pop().destroy()}else for(var y=c.subviews,k=0,I=0;I<s.itemIndex;){var P,x=y[k];if(x instanceof Ci){if(null!=(P=(A=x).subviews))for(n=0,t=P.length;n<t;){var F=P[w=n++];(T=e[I]).updateView(F),++I}}else e[I].updateView(x),++I;++k}}else{b=h.get_contentView();if(null!=b&&(h.set_contentView(null),b.destroy(),s.form=null,s.filler=null),null!=e)for(var I,n=0,t=s.itemIndex;n<t;)null!=(T=e[I=n++]).visual&&(null!=T.visual.parent&&T.visual.parent.remove(T.visual),11==T.kind&&0<T.int0&&null!=T.visual?(T.visual.destroy(),T.visual=null):T.visual.set_active(!1));null!=h&&-999999999!=s.targetX&&Bt.get_shared().onceEndLateUpdate(h,function(e){s.set_x(s.targetX-s.targetAnchorX*h.get_width()),s.set_y(s.targetY-s.targetAnchorY*h.get_height()),h.set_x(s.get_x()),h.set_y(s.get_y())})}s.overlay?(null==h.overlay&&(h.overlay=new p,h.overlay.onPointerDown(null,function(e){s.overlayClicked=!0}),te.get_context().view.add(h.overlay)),u=null!=(d=s.overlayTheme)?d:te.get_context().get_theme(),h.overlay.color=u.get_overlayBackgroundColor(),h.overlay.set_alpha(u.get_overlayBackgroundAlpha()),(a=h.overlay).set_x(0),a.set_y(0),a=h.overlay,g=ee.app.screenHeight,a.set_width(ee.app.screenWidth),a.set_height(g)):(s.overlayClicked=!1,null!=h.overlay&&(h.overlay.destroy(),h.overlay=null)),-999999999!=s.targetX&&Bt.get_shared().onceEndLateUpdate(h,function(e){s.set_x(s.targetX-s.targetAnchorX*h.get_width()),s.set_y(s.targetY-s.targetAnchorY*h.get_height()),h.set_x(s.get_x()),h.set_y(s.get_y())}),Bt.get_shared().onceEndLateUpdate(h,function(e){var n,t,i,l,r;null!=h.get_contentView()&&0<s.get_height()&&(h.get_contentView()instanceof xi?(n=h.get_contentView(),s.computedContentHeight=n.contentView.get_height(),2==s.get_scrollbar()||0==s.get_scrollbar()||1==s.get_scrollbar()&&s.didScrollWithHeight<0?(t=s.computedContentHeight>s.get_height(),null!=(i=n.scroller.scrollbar)&&(t?re._shouldSkipRender=1==(1&i.flags):i.set_active(!1),he.app.onceUpdate(i,function(e){i.set_active(t)}))):(3==s.get_scrollbar()||1==s.get_scrollbar()&&0<=s.didScrollWithHeight)&&null!=(l=n.scroller.scrollbar)&&1==(1&l.flags)&&(re._shouldSkipRender=1==(1&l.flags),he.app.onceUpdate(l,function(e){(3==s.get_scrollbar()||1==s.get_scrollbar()&&0<=s.didScrollWithHeight)&&l.set_active(!0)}))):(s.computedContentHeight=h.get_contentView().get_height(),(0==s.get_scrollbar()||1==s.get_scrollbar())&&s.computedContentHeight>s.get_height()&&((r=h.get_contentView()).set_visible(!1),re._shouldSkipRender=!0,he.app.onceUpdate(r,function(e){r.set_visible(!0)}))),null!=s.filler)&&null!=s.form&&s.filler.set_viewHeight(Math.max(0,s.get_height()-s.form.get_height()))})}for(re._currentWindowData=null,re._currentRowIndex=-1,re._inRow=!1,re._textAlign=_t.LEFT,re._labelWidth=-49965,re._labelPosition=1;0<re._currentTabBarItem.length;)re._currentTabBarItem.pop()},re.focusedWindow=function(){return te.get_context().focusedWindow},re.allow=function(e){-1==re._allowedOwners.indexOf(e)&&(re._allowedOwners.push(e),e.onDestroy(null,re._allowedOwnerDestroyed))},re.filter=function(e){-1!=re._allowedOwners.indexOf(e)&&(se.remove(re._allowedOwners,e),0<=e._lifecycleState)&&e.offDestroy(re._allowedOwnerDestroyed)},re._allowedOwnerDestroyed=function(e){se.remove(re._allowedOwners,e)},re.filterEventOwner=function(e){var n=!1;return null!=te.get_context().focusedWindow?null!=e&&(n=re._filterEventOwner(e)):n=!0,n},re._filterEventOwner=function(e){var n=te.get_context().view;if(n==e)return!0;if(e instanceof o&&e.hasIndirectParent(n))return!0;if(e instanceof et){var t=e;if(null!=t.content&&(t.content==n||t.content.hasIndirectParent(n)))return!0}if(Ul.__implements(e,a0))for(var i=e.getEntity(),l=0;null!=i&&l<10;){if(i instanceof o)if(i.hasIndirectParent(n))return!0;if(-1!=re._allowedOwners.indexOf(i))return!0;i=Ul.__implements(i,a0)?i.getEntity():null,++l}if(e instanceof xb){var t=e.bindings;if(null!=t){if(null!=(i=t.getEntity())){if(i instanceof o)if(i.hasIndirectParent(n))return!0;if(-1!=re._allowedOwners.indexOf(i))return!0}if(1!=re._allowedOwners.indexOf(t))return!0}}return-1!=re._allowedOwners.indexOf(e)||(t=Ul.getClass(e).__name__,!!z.startsWith(t,"elements."))},re._confirm=function(e,n,t,i,l,r,s,h,a,o){null==h&&(h=-60001),null==s&&(s=300),null==i&&(i=!1),re.initIfNeeded(),null==l&&(l=re.YES),null==r&&(r=re.NO);var c=null;if(null!=e){e=re.extractId(e);for(var u=0,_=re._pendingDialogs.length;u<_;){var d=u++,d=re._pendingDialogs[d];if(d.key==e){c=d;break}}}null==c?(c=new Ui(e,n,t,null,null,null,[l,r],i,s,h,a,function(e,n){var t;-1!=c.chosenIndex||c.canceled||(c.chosenIndex=e,null!=o&&(t=o,o=null,t(0==e)))}),he.app.input.onKeyDown(c,function(e){-1!=c.chosenIndex||c.canceled||c.cancelable&&41==e.scanCode&&(c.canceled=!0,null!=o&&(e=o,o=null,e(!1)),c.async)&&(se.remove(re._pendingDialogs,c),c.destroy())}),re._pendingDialogs.push(c)):(c.title=n,c.message=t,c.choices[0]=l,c.choices[1]=r,c.cancelable=i,c.width=s,c.height=h);a=c.canceled?-2:c.chosenIndex;return c.async||-1==a||(se.remove(re._pendingDialogs,c),c.destroy()),a},re._info=function(e,n,t,i,l,r,s,h,a){null==s&&(s=-60001),null==r&&(r=300),null==i&&(i=!1),re.initIfNeeded(),null==l&&(l=re.OK);var o=null;if(null!=e){e=re.extractId(e);for(var c=0,u=re._pendingDialogs.length;c<u;){var _=c++,_=re._pendingDialogs[_];if(_.key==e){o=_;break}}}null==o?(o=new Ui(e,n,t,null,null,null,[l],i,r,s,h,function(e,n){-1!=o.chosenIndex||o.canceled||(o.chosenIndex=e,null!=a&&(e=a,a=null,e()))}),he.app.input.onKeyDown(o,function(e){-1!=o.chosenIndex||o.canceled||o.cancelable&&41==e.scanCode&&(o.canceled=!0,a=null,o.async)&&(se.remove(re._pendingDialogs,o),o.destroy())}),re._pendingDialogs.push(o)):(o.title=n,o.message=t,o.choices[0]=l,o.cancelable=i,o.width=r,o.height=s);h=o.canceled?-2:o.chosenIndex;return o.async||-1==h||(se.remove(re._pendingDialogs,o),o.destroy()),h},re._prompt=function(e,n,t,i,l,r,s,h,a,o,c,u){null==o&&(o=-60001),null==a&&(a=300),null==r&&(r=!1),re.initIfNeeded(),null==s&&(s=re.OK);var _=null;if(null!=e){e=re.extractId(e);for(var d=0,b=re._pendingDialogs.length;d<b;){var g=d++,g=re._pendingDialogs[g];if(g.key==e){_=g;break}}}null==_?(_=new Ui(e,n,t,!0,i,l,r&&null!=h?[s,h]:[s],r,a,o,c,function(e,n){-1!=_.chosenIndex||_.canceled||(_.chosenIndex=e,null!=u&&(e=u,u=null,e(_.promptPointer())))}),he.app.input.onKeyDown(_,function(e){-1!=_.chosenIndex||_.canceled||_.cancelable&&41==e.scanCode&&(_.canceled=!0,u=null,_.async)&&(se.remove(re._pendingDialogs,_),_.destroy())}),re._pendingDialogs.push(_)):(_.title=n,_.message=t,_.promptPlaceholder=l,null!=i&&(_.promptPointer=i),c=!0,null!=h?2==_.choices.length&&_.choices[0]==s&&_.choices[1]==h||(c=!1):1==_.choices.length&&_.choices[0]==s||(c=!1),c||(_.choices=[s,h]),_.cancelable=r,_.width=a,_.height=o);n=_.canceled?-2:_.chosenIndex;return _.async||-1==n||(se.remove(re._pendingDialogs,_),_.destroy()),n},re._choice=function(e,n,t,i,l,r,s,h,a){null==s&&(s=-60001),null==r&&(r=300),null==i&&(i=!1),re.initIfNeeded(),-60001==s&&8<=l.length&&(s=400);var o=null;if(null!=e){e=re.extractId(e);for(var c=0,u=re._pendingDialogs.length;c<u;){var _=c++,_=re._pendingDialogs[_];if(_.key==e){o=_;break}}}null==o?(o=new Ui(e,n,t,null,null,null,h?[].concat(l):l,i,r,s,h,function(e,n){var t;-1!=o.chosenIndex||o.canceled||(o.chosenIndex=e,null!=a&&(t=a,a=null,t(e,n)))}),he.app.input.onKeyDown(o,function(e){-1!=o.chosenIndex||o.canceled||o.cancelable&&41==e.scanCode&&(o.canceled=!0,a=null,o.async)&&(se.remove(re._pendingDialogs,o),o.destroy())}),re._pendingDialogs.push(o)):(o.title=n,o.message=t,o.choices=l,o.cancelable=i,o.width=r,o.height=s);h=o.canceled?-2:o.chosenIndex;return o.async||-1==h||(se.remove(re._pendingDialogs,o),o.destroy()),h},re._posInfosToString=function(e){return null==e?"?":e.fileName+":"+e.lineNumber},re.handle=function(e){var n,t,i;return null!=e?(e=e.fileName+":"+e.lineNumber,Object.prototype.hasOwnProperty.call(re._pointerBaseHandles.h,e)?(i=re._pointerBaseHandles.h[e],n=re._pointerBaseHandleOccurences[i],re._pointerBaseHandleOccurences[i]=n+1):(i=re._pointerBaseHandleOccurences.length,re._pointerBaseHandleOccurences.push(n=1),re._pointerBaseHandles.h[e]=i),i=e+":"+n,Object.prototype.hasOwnProperty.call(re._pointerHandles.h,i)?t=re._pointerHandles.h[i]:(t=re._nextPointerHandle++,re._pointerHandles.h[i]=t),t):-1},re.setIntAtHandle=function(e,n){return re._intPointerValues.set(e,n),n},re.intAtHandle=function(e){e=re._intPointerValues.intMap.h[0|e];return null!=e?e:0},re.setColorAtHandle=function(e,n){return re._intPointerValues.set(e,n),n},re.colorAtHandle=function(e){return re._intPointerValues.intMap.h.hasOwnProperty(0|e)?null!=(e=re._intPointerValues.intMap.h[0|e])?e:0:16777215},re.setFloatAtHandle=function(e,n){return re._floatPointerValues.set(e,n),n},re.floatAtHandle=function(e){e=re._floatPointerValues.intMap.h[0|e];return null!=e?e:0},re.setBoolAtHandle=function(e,n){return re._boolPointerValues.set(e,n?1:0),n},re.boolAtHandle=function(e){e=re._boolPointerValues.intMap.h[0|e];return 0!=(null!=e?e:0)},re.setStringAtHandle=function(e,n){return re._stringPointerValues.set(e,n),n},re.stringAtHandle=function(e){return re._stringPointerValues.get(e)},re.setArrayAtHandle=function(e,n){return re._arrayPointerValues.set(e,n),n},re.arrayAtHandle=function(e){return re._arrayPointerValues.get(e)},re.readInt=function(e){return e()},re.writeInt=function(e,n){e(n)},re.readFloat=function(e){return e()},re.writeFloat=function(e,n){e(n)},re.readString=function(e){return e()},re.writeString=function(e,n){e(n,null==n)},re.readArray=function(e){return e()},re.writeArray=function(e,n){e(n,null==n)},re.readEnumValue=function(e){return e(null,!1)},re.writeEnumValue=function(e,n){e(n,null==n)},re.readBool=function(e){return e()},re.writeBool=function(e,n){e(n)},function(){Ub.call(this),this.set_itemSpacing(6)}),vi=((E["elements.ImRowLayout"]=Ci).__name__="elements.ImRowLayout",Ci.__super__=Ub,Ci.prototype=$extend(Ub.prototype,{__class__:Ci}),function(){this.makeFilterActive=-2,this.view=null,this.filter=null,Zb.call(this),this.set_earlyUpdateOrder(100),this.set_lateUpdateOrder(6e3)}),wi=((E["elements.ImSystem"]=vi).__name__="elements.ImSystem",vi.__properties__={set_shared:"set_shared",get_shared:"get_shared"},vi.get_shared=function(){return vi.lazyShared&&(vi.lazyShared=!1,vi.shared=new vi),vi.shared},vi.set_shared=function(e){return vi.shared=e},vi.__super__=Zb,vi.prototype=$extend(Zb.prototype,{filter:null,view:null,makeFilterActive:null,createView:function(){var i=this;this.filter=new on,this.filter.set_textureFilter(wt.NEAREST),this.filter.bindToNativeScreenSize(),this.filter.set_depth(1e3),this.filter.set_density(ee.app.screenDensity),this.filter.set_enabled(!0),this.filter.set_autoRender(!1),this.view=new f0;(e=this.view).flags|=16,this.view.set_depth(1e3),this.view.onLayout(this,$bind(this,this._layoutWindows)),te.get_context().view=this.view,he.app.screen.onFocusedVisualChange(this,$bind(this,this.handleFocusedVisualChange)),this.filter.content.add(this.view);var e=this.view,n=this.filter.get_width(),t=this.filter.get_height();e.set_width(n),e.set_height(t),this.filter.onResize(this,function(e,n){var t=i.view;t.set_width(e),t.set_height(n)})},requestRender:function(){null!=this.filter&&null!=this.filter.get_renderTexture()&&(this.filter.get_renderTexture().renderDirty=!0)},handleFocusedVisualChange:function(e,n){var t,i,l=null;null!=e&&(e instanceof Ei?l=e:(null!=(t=e.firstParentWithClass(Ei))||(i=null)!=(i=e instanceof O?e:e.firstParentWithClass(O))&&null!=i.colorFieldView&&null!=(t=i.colorFieldView.firstParentWithClass(Ei)))&&(l=t)),te.get_context().focusedWindow=l},earlyUpdate:function(e){var n,t,i;null!=this.view&&(n=this.view,t=this.filter.get_width(),i=this.filter.get_height(),n.set_width(t),n.set_height(i),this.filter.set_density(ee.app.screenDensity)),re.beginFrame()},lateUpdate:function(e){re.endFrame(),null!=this.filter&&(0<re._numUsedWindows?this.makeFilterActive<2&&this.makeFilterActive++:(-2<this.makeFilterActive&&this.makeFilterActive--,-2<this.makeFilterActive&&null!=this.filter.get_renderTexture()&&(this.filter.get_renderTexture().renderDirty=!0)),-1==this.makeFilterActive?(this.filter.set_neverEmpty(!1),this.filter.set_active(!1)):2==this.makeFilterActive&&(this.filter.set_neverEmpty(!0),this.filter.set_active(!0)))},_layoutWindows:function(){var e=te.get_context().view.subviews;if(null!=e)for(var n=0,t=e.length;n<t;){var i,l=e[n++];l instanceof Ei&&(null==(i=!0)&&(i=!1),l.computedSize=l.persistedComputedSizeForContext(0,0,15),null==l.computedSize&&l.computeSize(0,0,15,!0),i)&&null!=l.computedSize&&(i=l.computedSize.computedHeight,l.set_width(l.computedSize.computedWidth),l.set_height(i))}},__class__:vi}),Oe["elements.InputStyle"]={__ename__:"elements.InputStyle",__constructs__:null,DEFAULT:{_hx_name:"DEFAULT",_hx_index:0,__enum__:"elements.InputStyle",toString:c},OVERLAY:{_hx_name:"OVERLAY",_hx_index:1,__enum__:"elements.InputStyle",toString:c},MINIMAL:{_hx_name:"MINIMAL",_hx_index:2,__enum__:"elements.InputStyle",toString:c}}),mi=(wi.__constructs__=[wi.DEFAULT,wi.OVERLAY,wi.MINIMAL],function(){this.initializerName=null,this.skewX=10,j.call(this)}),yi=((E["elements.ItalicText"]=mi).__name__="elements.ItalicText",mi.__interfaces__=[a0],mi.__super__=j,mi.prototype=$extend(j.prototype,{entity:null,skewX:null,set_skewX:function(e){return this.skewX!=e&&null!=this.entity&&this.applyItalicTransform(),e},bindAsComponent:function(){this.entity.onGlyphQuadsChange(this,$bind(this,this.applyItalicTransform))},applyItalicTransform:function(){if(null!=this.entity.glyphQuads)for(var e=0,n=this.entity.glyphQuads.length;e<n;){var t=e++;this.entity.glyphQuads[t].set_skewX(this.skewX)}},setEntity:function(e){e instanceof ut?this.entity=e:this.entity=null},getEntity:function(){return this.entity},initializerName:null,__class__:mi,__properties__:$extend(j.prototype.__properties__,{set_skewX:"set_skewX"})}),(E["elements.LabelView"]=fd).__name__="elements.LabelView",fd.__interfaces__=[s],fd.__super__=w1,fd.prototype=$extend(w1.prototype,{__cbOnObservedDirty:null,__cbOnceObservedDirty:null,__cbOnOwnerUnbindObservedDirty:null,__cbOnceOwnerUnbindObservedDirty:null,emitObservedDirty:function(e,n){var t=0;if(null!=this.__cbOnObservedDirty&&(t+=this.__cbOnObservedDirty.length),null!=this.__cbOnceObservedDirty&&(t+=this.__cbOnceObservedDirty.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnObservedDirty)for(var s=0,h=this.__cbOnObservedDirty.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnObservedDirty[a],++r):--t}if(null!=this.__cbOnceObservedDirty){for(var o=null,c=null,s=0,h=this.__cbOnceObservedDirty.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceObservedDirty[a],this.__cbOnceObservedDirty[a]=null,u=this.__cbOnceOwnerUnbindObservedDirty[a],(this.__cbOnceOwnerUnbindObservedDirty[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindObservedDirty[a]),c.push(this.__cbOnceObservedDirty[a]))}this.__cbOnceOwnerUnbindObservedDirty=o,this.__cbOnceObservedDirty=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onObservedDirty:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event observedDirty because owner is destroyed!");var l=function(e){null!=t&&(i.offObservedDirty(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push(null);null==this.__cbOnObservedDirty&&(this.__cbOnObservedDirty=[]),this.__cbOnObservedDirty.push(t)},onceObservedDirty:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event observedDirty because owner is destroyed!");var l=function(e){null!=t&&(i.offObservedDirty(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push(null);null==this.__cbOnceObservedDirty&&(this.__cbOnceObservedDirty=[]),this.__cbOnceObservedDirty.push(t)},offObservedDirty:function(e){if(null!=e){var n;null!=this.__cbOnObservedDirty&&-1!=(n=this.__cbOnObservedDirty.indexOf(e))&&(this.__cbOnObservedDirty.splice(n,1),null!=(r=this.__cbOnOwnerUnbindObservedDirty[n])&&r(),this.__cbOnOwnerUnbindObservedDirty.splice(n,1)),null!=this.__cbOnceObservedDirty&&-1!=(n=this.__cbOnceObservedDirty.indexOf(e))&&(this.__cbOnceObservedDirty.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindObservedDirty[n])&&r(),this.__cbOnceOwnerUnbindObservedDirty.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindObservedDirty){for(var t=0,i=this.__cbOnOwnerUnbindObservedDirty.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindObservedDirty[l])&&r()}this.__cbOnOwnerUnbindObservedDirty=null}if(null!=this.__cbOnceOwnerUnbindObservedDirty){for(t=0,i=this.__cbOnceOwnerUnbindObservedDirty.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindObservedDirty[l])&&r()}this.__cbOnceOwnerUnbindObservedDirty=null}this.__cbOnObservedDirty=null,this.__cbOnceObservedDirty=null}},listensObservedDirty:function(){return null!=this.__cbOnObservedDirty&&0<this.__cbOnObservedDirty.length||null!=this.__cbOnceObservedDirty&&0<this.__cbOnceObservedDirty.length},observedDirty:null,themeAutoruns:null,get_theme:function(){var e,n,t=this.unobservedTheme;return null!=U.current&&(e=U.current,null!=(n=this.themeAutoruns)||(n=U.getAutorunArray(),null!=(this.themeAutoruns=n)))&&e.bindToAutorunArray(n),t},set_theme:function(e){var n=this.unobservedTheme;return n!=(this.unobservedTheme=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitThemeChange(e,n),null!=(n=this.themeAutoruns))&&(this.themeAutoruns=null,U.invalidateAutorunArray(n)),e},invalidateTheme:function(){var e=this.unobservedTheme,e=(this.emitThemeChange(e,e),this.themeAutoruns);null!=e&&(this.themeAutoruns=null,U.invalidateAutorunArray(e))},unobservedTheme:null,__cbOnThemeChange:null,__cbOnceThemeChange:null,__cbOnOwnerUnbindThemeChange:null,__cbOnceOwnerUnbindThemeChange:null,emitThemeChange:function(e,n){var t=0;if(null!=this.__cbOnThemeChange&&(t+=this.__cbOnThemeChange.length),null!=this.__cbOnceThemeChange&&(t+=this.__cbOnceThemeChange.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnThemeChange)for(var s=0,h=this.__cbOnThemeChange.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnThemeChange[a],++r):--t}if(null!=this.__cbOnceThemeChange){for(var o=null,c=null,s=0,h=this.__cbOnceThemeChange.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceThemeChange[a],this.__cbOnceThemeChange[a]=null,u=this.__cbOnceOwnerUnbindThemeChange[a],(this.__cbOnceOwnerUnbindThemeChange[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindThemeChange[a]),c.push(this.__cbOnceThemeChange[a]))}this.__cbOnceOwnerUnbindThemeChange=o,this.__cbOnceThemeChange=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onThemeChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event themeChange because owner is destroyed!");var l=function(e){null!=t&&(i.offThemeChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindThemeChange&&(this.__cbOnOwnerUnbindThemeChange=[]),this.__cbOnOwnerUnbindThemeChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindThemeChange&&(this.__cbOnOwnerUnbindThemeChange=[]),this.__cbOnOwnerUnbindThemeChange.push(null);null==this.__cbOnThemeChange&&(this.__cbOnThemeChange=[]),this.__cbOnThemeChange.push(t)},onceThemeChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event themeChange because owner is destroyed!");var l=function(e){null!=t&&(i.offThemeChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindThemeChange&&(this.__cbOnceOwnerUnbindThemeChange=[]),this.__cbOnceOwnerUnbindThemeChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindThemeChange&&(this.__cbOnceOwnerUnbindThemeChange=[]),this.__cbOnceOwnerUnbindThemeChange.push(null);null==this.__cbOnceThemeChange&&(this.__cbOnceThemeChange=[]),this.__cbOnceThemeChange.push(t)},offThemeChange:function(e){if(null!=e){var n;null!=this.__cbOnThemeChange&&-1!=(n=this.__cbOnThemeChange.indexOf(e))&&(this.__cbOnThemeChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindThemeChange[n])&&r(),this.__cbOnOwnerUnbindThemeChange.splice(n,1)),null!=this.__cbOnceThemeChange&&-1!=(n=this.__cbOnceThemeChange.indexOf(e))&&(this.__cbOnceThemeChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindThemeChange[n])&&r(),this.__cbOnceOwnerUnbindThemeChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindThemeChange){for(var t=0,i=this.__cbOnOwnerUnbindThemeChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindThemeChange[l])&&r()}this.__cbOnOwnerUnbindThemeChange=null}if(null!=this.__cbOnceOwnerUnbindThemeChange){for(t=0,i=this.__cbOnceOwnerUnbindThemeChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindThemeChange[l])&&r()}this.__cbOnceOwnerUnbindThemeChange=null}this.__cbOnThemeChange=null,this.__cbOnceThemeChange=null}},listensThemeChange:function(){return null!=this.__cbOnThemeChange&&0<this.__cbOnThemeChange.length||null!=this.__cbOnceThemeChange&&0<this.__cbOnceThemeChange.length},boldAutoruns:null,get_bold:function(){var e,n,t=this.unobservedBold;return null!=U.current&&(e=U.current,null!=(n=this.boldAutoruns)||(n=U.getAutorunArray(),null!=(this.boldAutoruns=n)))&&e.bindToAutorunArray(n),t},set_bold:function(e){var n=this.unobservedBold;return n!=(this.unobservedBold=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitBoldChange(e,n),null!=(n=this.boldAutoruns))&&(this.boldAutoruns=null,U.invalidateAutorunArray(n)),e},invalidateBold:function(){var e=this.unobservedBold,e=(this.emitBoldChange(e,e),this.boldAutoruns);null!=e&&(this.boldAutoruns=null,U.invalidateAutorunArray(e))},unobservedBold:null,__cbOnBoldChange:null,__cbOnceBoldChange:null,__cbOnOwnerUnbindBoldChange:null,__cbOnceOwnerUnbindBoldChange:null,emitBoldChange:function(e,n){var t=0;if(null!=this.__cbOnBoldChange&&(t+=this.__cbOnBoldChange.length),null!=this.__cbOnceBoldChange&&(t+=this.__cbOnceBoldChange.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnBoldChange)for(var s=0,h=this.__cbOnBoldChange.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnBoldChange[a],++r):--t}if(null!=this.__cbOnceBoldChange){for(var o=null,c=null,s=0,h=this.__cbOnceBoldChange.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceBoldChange[a],this.__cbOnceBoldChange[a]=null,u=this.__cbOnceOwnerUnbindBoldChange[a],(this.__cbOnceOwnerUnbindBoldChange[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindBoldChange[a]),c.push(this.__cbOnceBoldChange[a]))}this.__cbOnceOwnerUnbindBoldChange=o,this.__cbOnceBoldChange=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onBoldChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event boldChange because owner is destroyed!");var l=function(e){null!=t&&(i.offBoldChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindBoldChange&&(this.__cbOnOwnerUnbindBoldChange=[]),this.__cbOnOwnerUnbindBoldChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindBoldChange&&(this.__cbOnOwnerUnbindBoldChange=[]),this.__cbOnOwnerUnbindBoldChange.push(null);null==this.__cbOnBoldChange&&(this.__cbOnBoldChange=[]),this.__cbOnBoldChange.push(t)},onceBoldChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event boldChange because owner is destroyed!");var l=function(e){null!=t&&(i.offBoldChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindBoldChange&&(this.__cbOnceOwnerUnbindBoldChange=[]),this.__cbOnceOwnerUnbindBoldChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindBoldChange&&(this.__cbOnceOwnerUnbindBoldChange=[]),this.__cbOnceOwnerUnbindBoldChange.push(null);null==this.__cbOnceBoldChange&&(this.__cbOnceBoldChange=[]),this.__cbOnceBoldChange.push(t)},offBoldChange:function(e){if(null!=e){var n;null!=this.__cbOnBoldChange&&-1!=(n=this.__cbOnBoldChange.indexOf(e))&&(this.__cbOnBoldChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindBoldChange[n])&&r(),this.__cbOnOwnerUnbindBoldChange.splice(n,1)),null!=this.__cbOnceBoldChange&&-1!=(n=this.__cbOnceBoldChange.indexOf(e))&&(this.__cbOnceBoldChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindBoldChange[n])&&r(),this.__cbOnceOwnerUnbindBoldChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindBoldChange){for(var t=0,i=this.__cbOnOwnerUnbindBoldChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindBoldChange[l])&&r()}this.__cbOnOwnerUnbindBoldChange=null}if(null!=this.__cbOnceOwnerUnbindBoldChange){for(t=0,i=this.__cbOnceOwnerUnbindBoldChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindBoldChange[l])&&r()}this.__cbOnceOwnerUnbindBoldChange=null}this.__cbOnBoldChange=null,this.__cbOnceBoldChange=null}},listensBoldChange:function(){return null!=this.__cbOnBoldChange&&0<this.__cbOnBoldChange.length||null!=this.__cbOnceBoldChange&&0<this.__cbOnceBoldChange.length},disabledAutoruns:null,get_disabled:function(){var e,n,t=this.unobservedDisabled;return null!=U.current&&(e=U.current,null!=(n=this.disabledAutoruns)||(n=U.getAutorunArray(),null!=(this.disabledAutoruns=n)))&&e.bindToAutorunArray(n),t},set_disabled:function(e){var n=this.unobservedDisabled;return n!=(this.unobservedDisabled=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitDisabledChange(e,n),null!=(n=this.disabledAutoruns))&&(this.disabledAutoruns=null,U.invalidateAutorunArray(n)),e},invalidateDisabled:function(){var e=this.unobservedDisabled,e=(this.emitDisabledChange(e,e),this.disabledAutoruns);null!=e&&(this.disabledAutoruns=null,U.invalidateAutorunArray(e))},unobservedDisabled:null,__cbOnDisabledChange:null,__cbOnceDisabledChange:null,__cbOnOwnerUnbindDisabledChange:null,__cbOnceOwnerUnbindDisabledChange:null,emitDisabledChange:function(e,n){var t=0;if(null!=this.__cbOnDisabledChange&&(t+=this.__cbOnDisabledChange.length),null!=this.__cbOnceDisabledChange&&(t+=this.__cbOnceDisabledChange.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnDisabledChange)for(var s=0,h=this.__cbOnDisabledChange.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnDisabledChange[a],++r):--t}if(null!=this.__cbOnceDisabledChange){for(var o=null,c=null,s=0,h=this.__cbOnceDisabledChange.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceDisabledChange[a],this.__cbOnceDisabledChange[a]=null,u=this.__cbOnceOwnerUnbindDisabledChange[a],(this.__cbOnceOwnerUnbindDisabledChange[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindDisabledChange[a]),c.push(this.__cbOnceDisabledChange[a]))}this.__cbOnceOwnerUnbindDisabledChange=o,this.__cbOnceDisabledChange=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onDisabledChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event disabledChange because owner is destroyed!");var l=function(e){null!=t&&(i.offDisabledChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindDisabledChange&&(this.__cbOnOwnerUnbindDisabledChange=[]),this.__cbOnOwnerUnbindDisabledChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindDisabledChange&&(this.__cbOnOwnerUnbindDisabledChange=[]),this.__cbOnOwnerUnbindDisabledChange.push(null);null==this.__cbOnDisabledChange&&(this.__cbOnDisabledChange=[]),this.__cbOnDisabledChange.push(t)},onceDisabledChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event disabledChange because owner is destroyed!");var l=function(e){null!=t&&(i.offDisabledChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindDisabledChange&&(this.__cbOnceOwnerUnbindDisabledChange=[]),this.__cbOnceOwnerUnbindDisabledChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindDisabledChange&&(this.__cbOnceOwnerUnbindDisabledChange=[]),this.__cbOnceOwnerUnbindDisabledChange.push(null);null==this.__cbOnceDisabledChange&&(this.__cbOnceDisabledChange=[]),this.__cbOnceDisabledChange.push(t)},offDisabledChange:function(e){if(null!=e){var n;null!=this.__cbOnDisabledChange&&-1!=(n=this.__cbOnDisabledChange.indexOf(e))&&(this.__cbOnDisabledChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindDisabledChange[n])&&r(),this.__cbOnOwnerUnbindDisabledChange.splice(n,1)),null!=this.__cbOnceDisabledChange&&-1!=(n=this.__cbOnceDisabledChange.indexOf(e))&&(this.__cbOnceDisabledChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindDisabledChange[n])&&r(),this.__cbOnceOwnerUnbindDisabledChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindDisabledChange){for(var t=0,i=this.__cbOnOwnerUnbindDisabledChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindDisabledChange[l])&&r()}this.__cbOnOwnerUnbindDisabledChange=null}if(null!=this.__cbOnceOwnerUnbindDisabledChange){for(t=0,i=this.__cbOnceOwnerUnbindDisabledChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindDisabledChange[l])&&r()}this.__cbOnceOwnerUnbindDisabledChange=null}this.__cbOnDisabledChange=null,this.__cbOnceDisabledChange=null}},listensDisabledChange:function(){return null!=this.__cbOnDisabledChange&&0<this.__cbOnDisabledChange.length||null!=this.__cbOnceDisabledChange&&0<this.__cbOnceDisabledChange.length},updateStyle:function(){var e=this.get_theme();null==e&&(e=te.get_context().get_theme()),this.get_disabled()?this.set_textColor(e.get_darkTextColor()):this.set_textColor(e.get_lightTextColor()),this.set_font(this.get_bold()?e.get_boldFont():e.get_mediumFont())},unbindEvents:function(){w1.prototype.unbindEvents.call(this),this.offObservedDirty(),this.offThemeChange(),this.offBoldChange(),this.offDisabledChange()},__class__:fd,__properties__:$extend(w1.prototype.__properties__,{set_disabled:"set_disabled",get_disabled:"get_disabled",set_bold:"set_bold",get_bold:"get_bold",set_theme:"set_theme",get_theme:"get_theme"})}),(E["elements.LabeledView"]=gd).__name__="elements.LabeledView",gd.__interfaces__=[s],gd.__super__=Ub,gd.prototype=$extend(Ub.prototype,{__cbOnObservedDirty:null,__cbOnceObservedDirty:null,__cbOnOwnerUnbindObservedDirty:null,__cbOnceOwnerUnbindObservedDirty:null,emitObservedDirty:function(e,n){var t=0;if(null!=this.__cbOnObservedDirty&&(t+=this.__cbOnObservedDirty.length),null!=this.__cbOnceObservedDirty&&(t+=this.__cbOnceObservedDirty.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnObservedDirty)for(var s=0,h=this.__cbOnObservedDirty.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnObservedDirty[a],++r):--t}if(null!=this.__cbOnceObservedDirty){for(var o=null,c=null,s=0,h=this.__cbOnceObservedDirty.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceObservedDirty[a],this.__cbOnceObservedDirty[a]=null,u=this.__cbOnceOwnerUnbindObservedDirty[a],(this.__cbOnceOwnerUnbindObservedDirty[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindObservedDirty[a]),c.push(this.__cbOnceObservedDirty[a]))}this.__cbOnceOwnerUnbindObservedDirty=o,this.__cbOnceObservedDirty=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onObservedDirty:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event observedDirty because owner is destroyed!");var l=function(e){null!=t&&(i.offObservedDirty(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push(null);null==this.__cbOnObservedDirty&&(this.__cbOnObservedDirty=[]),this.__cbOnObservedDirty.push(t)},onceObservedDirty:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event observedDirty because owner is destroyed!");var l=function(e){null!=t&&(i.offObservedDirty(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push(null);null==this.__cbOnceObservedDirty&&(this.__cbOnceObservedDirty=[]),this.__cbOnceObservedDirty.push(t)},offObservedDirty:function(e){if(null!=e){var n;null!=this.__cbOnObservedDirty&&-1!=(n=this.__cbOnObservedDirty.indexOf(e))&&(this.__cbOnObservedDirty.splice(n,1),null!=(r=this.__cbOnOwnerUnbindObservedDirty[n])&&r(),this.__cbOnOwnerUnbindObservedDirty.splice(n,1)),null!=this.__cbOnceObservedDirty&&-1!=(n=this.__cbOnceObservedDirty.indexOf(e))&&(this.__cbOnceObservedDirty.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindObservedDirty[n])&&r(),this.__cbOnceOwnerUnbindObservedDirty.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindObservedDirty){for(var t=0,i=this.__cbOnOwnerUnbindObservedDirty.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindObservedDirty[l])&&r()}this.__cbOnOwnerUnbindObservedDirty=null}if(null!=this.__cbOnceOwnerUnbindObservedDirty){for(t=0,i=this.__cbOnceOwnerUnbindObservedDirty.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindObservedDirty[l])&&r()}this.__cbOnceOwnerUnbindObservedDirty=null}this.__cbOnObservedDirty=null,this.__cbOnceObservedDirty=null}},listensObservedDirty:function(){return null!=this.__cbOnObservedDirty&&0<this.__cbOnObservedDirty.length||null!=this.__cbOnceObservedDirty&&0<this.__cbOnceObservedDirty.length},observedDirty:null,themeAutoruns:null,get_theme:function(){var e,n,t=this.unobservedTheme;return null!=U.current&&(e=U.current,null!=(n=this.themeAutoruns)||(n=U.getAutorunArray(),null!=(this.themeAutoruns=n)))&&e.bindToAutorunArray(n),t},set_theme:function(e){var n=this.unobservedTheme;return n!=(this.unobservedTheme=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitThemeChange(e,n),null!=(n=this.themeAutoruns))&&(this.themeAutoruns=null,U.invalidateAutorunArray(n)),e},invalidateTheme:function(){var e=this.unobservedTheme,e=(this.emitThemeChange(e,e),this.themeAutoruns);null!=e&&(this.themeAutoruns=null,U.invalidateAutorunArray(e))},unobservedTheme:null,__cbOnThemeChange:null,__cbOnceThemeChange:null,__cbOnOwnerUnbindThemeChange:null,__cbOnceOwnerUnbindThemeChange:null,emitThemeChange:function(e,n){var t=0;if(null!=this.__cbOnThemeChange&&(t+=this.__cbOnThemeChange.length),null!=this.__cbOnceThemeChange&&(t+=this.__cbOnceThemeChange.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnThemeChange)for(var s=0,h=this.__cbOnThemeChange.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnThemeChange[a],++r):--t}if(null!=this.__cbOnceThemeChange){for(var o=null,c=null,s=0,h=this.__cbOnceThemeChange.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceThemeChange[a],this.__cbOnceThemeChange[a]=null,u=this.__cbOnceOwnerUnbindThemeChange[a],(this.__cbOnceOwnerUnbindThemeChange[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindThemeChange[a]),c.push(this.__cbOnceThemeChange[a]))}this.__cbOnceOwnerUnbindThemeChange=o,this.__cbOnceThemeChange=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onThemeChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event themeChange because owner is destroyed!");var l=function(e){null!=t&&(i.offThemeChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindThemeChange&&(this.__cbOnOwnerUnbindThemeChange=[]),this.__cbOnOwnerUnbindThemeChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindThemeChange&&(this.__cbOnOwnerUnbindThemeChange=[]),this.__cbOnOwnerUnbindThemeChange.push(null);null==this.__cbOnThemeChange&&(this.__cbOnThemeChange=[]),this.__cbOnThemeChange.push(t)},onceThemeChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event themeChange because owner is destroyed!");var l=function(e){null!=t&&(i.offThemeChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindThemeChange&&(this.__cbOnceOwnerUnbindThemeChange=[]),this.__cbOnceOwnerUnbindThemeChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindThemeChange&&(this.__cbOnceOwnerUnbindThemeChange=[]),this.__cbOnceOwnerUnbindThemeChange.push(null);null==this.__cbOnceThemeChange&&(this.__cbOnceThemeChange=[]),this.__cbOnceThemeChange.push(t)},offThemeChange:function(e){if(null!=e){var n;null!=this.__cbOnThemeChange&&-1!=(n=this.__cbOnThemeChange.indexOf(e))&&(this.__cbOnThemeChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindThemeChange[n])&&r(),this.__cbOnOwnerUnbindThemeChange.splice(n,1)),null!=this.__cbOnceThemeChange&&-1!=(n=this.__cbOnceThemeChange.indexOf(e))&&(this.__cbOnceThemeChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindThemeChange[n])&&r(),this.__cbOnceOwnerUnbindThemeChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindThemeChange){for(var t=0,i=this.__cbOnOwnerUnbindThemeChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindThemeChange[l])&&r()}this.__cbOnOwnerUnbindThemeChange=null}if(null!=this.__cbOnceOwnerUnbindThemeChange){for(t=0,i=this.__cbOnceOwnerUnbindThemeChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindThemeChange[l])&&r()}this.__cbOnceOwnerUnbindThemeChange=null}this.__cbOnThemeChange=null,this.__cbOnceThemeChange=null}},listensThemeChange:function(){return null!=this.__cbOnThemeChange&&0<this.__cbOnThemeChange.length||null!=this.__cbOnceThemeChange&&0<this.__cbOnceThemeChange.length},labelAutoruns:null,get_label:function(){var e,n,t=this.unobservedLabel;return null!=U.current&&(e=U.current,null!=(n=this.labelAutoruns)||(n=U.getAutorunArray(),null!=(this.labelAutoruns=n)))&&e.bindToAutorunArray(n),t},set_label:function(e){var n=this.unobservedLabel;return n!=(this.unobservedLabel=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitLabelChange(e,n),null!=(n=this.labelAutoruns))&&(this.labelAutoruns=null,U.invalidateAutorunArray(n)),e},invalidateLabel:function(){var e=this.unobservedLabel,e=(this.emitLabelChange(e,e),this.labelAutoruns);null!=e&&(this.labelAutoruns=null,U.invalidateAutorunArray(e))},unobservedLabel:null,__cbOnLabelChange:null,__cbOnceLabelChange:null,__cbOnOwnerUnbindLabelChange:null,__cbOnceOwnerUnbindLabelChange:null,emitLabelChange:function(e,n){var t=0;if(null!=this.__cbOnLabelChange&&(t+=this.__cbOnLabelChange.length),null!=this.__cbOnceLabelChange&&(t+=this.__cbOnceLabelChange.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnLabelChange)for(var s=0,h=this.__cbOnLabelChange.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnLabelChange[a],++r):--t}if(null!=this.__cbOnceLabelChange){for(var o=null,c=null,s=0,h=this.__cbOnceLabelChange.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceLabelChange[a],this.__cbOnceLabelChange[a]=null,u=this.__cbOnceOwnerUnbindLabelChange[a],(this.__cbOnceOwnerUnbindLabelChange[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindLabelChange[a]),c.push(this.__cbOnceLabelChange[a]))}this.__cbOnceOwnerUnbindLabelChange=o,this.__cbOnceLabelChange=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onLabelChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event labelChange because owner is destroyed!");var l=function(e){null!=t&&(i.offLabelChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindLabelChange&&(this.__cbOnOwnerUnbindLabelChange=[]),this.__cbOnOwnerUnbindLabelChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindLabelChange&&(this.__cbOnOwnerUnbindLabelChange=[]),this.__cbOnOwnerUnbindLabelChange.push(null);null==this.__cbOnLabelChange&&(this.__cbOnLabelChange=[]),this.__cbOnLabelChange.push(t)},onceLabelChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event labelChange because owner is destroyed!");var l=function(e){null!=t&&(i.offLabelChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindLabelChange&&(this.__cbOnceOwnerUnbindLabelChange=[]),this.__cbOnceOwnerUnbindLabelChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindLabelChange&&(this.__cbOnceOwnerUnbindLabelChange=[]),this.__cbOnceOwnerUnbindLabelChange.push(null);null==this.__cbOnceLabelChange&&(this.__cbOnceLabelChange=[]),this.__cbOnceLabelChange.push(t)},offLabelChange:function(e){if(null!=e){var n;null!=this.__cbOnLabelChange&&-1!=(n=this.__cbOnLabelChange.indexOf(e))&&(this.__cbOnLabelChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindLabelChange[n])&&r(),this.__cbOnOwnerUnbindLabelChange.splice(n,1)),null!=this.__cbOnceLabelChange&&-1!=(n=this.__cbOnceLabelChange.indexOf(e))&&(this.__cbOnceLabelChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindLabelChange[n])&&r(),this.__cbOnceOwnerUnbindLabelChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindLabelChange){for(var t=0,i=this.__cbOnOwnerUnbindLabelChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindLabelChange[l])&&r()}this.__cbOnOwnerUnbindLabelChange=null}if(null!=this.__cbOnceOwnerUnbindLabelChange){for(t=0,i=this.__cbOnceOwnerUnbindLabelChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindLabelChange[l])&&r()}this.__cbOnceOwnerUnbindLabelChange=null}this.__cbOnLabelChange=null,this.__cbOnceLabelChange=null}},listensLabelChange:function(){return null!=this.__cbOnLabelChange&&0<this.__cbOnLabelChange.length||null!=this.__cbOnceLabelChange&&0<this.__cbOnceLabelChange.length},disabledAutoruns:null,get_disabled:function(){var e,n,t=this.unobservedDisabled;return null!=U.current&&(e=U.current,null!=(n=this.disabledAutoruns)||(n=U.getAutorunArray(),null!=(this.disabledAutoruns=n)))&&e.bindToAutorunArray(n),t},set_disabled:function(e){var n=this.unobservedDisabled;return n!=(this.unobservedDisabled=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitDisabledChange(e,n),null!=(n=this.disabledAutoruns))&&(this.disabledAutoruns=null,U.invalidateAutorunArray(n)),e},invalidateDisabled:function(){var e=this.unobservedDisabled,e=(this.emitDisabledChange(e,e),this.disabledAutoruns);null!=e&&(this.disabledAutoruns=null,U.invalidateAutorunArray(e))},unobservedDisabled:null,__cbOnDisabledChange:null,__cbOnceDisabledChange:null,__cbOnOwnerUnbindDisabledChange:null,__cbOnceOwnerUnbindDisabledChange:null,emitDisabledChange:function(e,n){var t=0;if(null!=this.__cbOnDisabledChange&&(t+=this.__cbOnDisabledChange.length),null!=this.__cbOnceDisabledChange&&(t+=this.__cbOnceDisabledChange.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnDisabledChange)for(var s=0,h=this.__cbOnDisabledChange.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnDisabledChange[a],++r):--t}if(null!=this.__cbOnceDisabledChange){for(var o=null,c=null,s=0,h=this.__cbOnceDisabledChange.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceDisabledChange[a],this.__cbOnceDisabledChange[a]=null,u=this.__cbOnceOwnerUnbindDisabledChange[a],(this.__cbOnceOwnerUnbindDisabledChange[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindDisabledChange[a]),c.push(this.__cbOnceDisabledChange[a]))}this.__cbOnceOwnerUnbindDisabledChange=o,this.__cbOnceDisabledChange=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onDisabledChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event disabledChange because owner is destroyed!");var l=function(e){null!=t&&(i.offDisabledChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindDisabledChange&&(this.__cbOnOwnerUnbindDisabledChange=[]),this.__cbOnOwnerUnbindDisabledChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindDisabledChange&&(this.__cbOnOwnerUnbindDisabledChange=[]),this.__cbOnOwnerUnbindDisabledChange.push(null);null==this.__cbOnDisabledChange&&(this.__cbOnDisabledChange=[]),this.__cbOnDisabledChange.push(t)},onceDisabledChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event disabledChange because owner is destroyed!");var l=function(e){null!=t&&(i.offDisabledChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindDisabledChange&&(this.__cbOnceOwnerUnbindDisabledChange=[]),this.__cbOnceOwnerUnbindDisabledChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindDisabledChange&&(this.__cbOnceOwnerUnbindDisabledChange=[]),this.__cbOnceOwnerUnbindDisabledChange.push(null);null==this.__cbOnceDisabledChange&&(this.__cbOnceDisabledChange=[]),this.__cbOnceDisabledChange.push(t)},offDisabledChange:function(e){if(null!=e){var n;null!=this.__cbOnDisabledChange&&-1!=(n=this.__cbOnDisabledChange.indexOf(e))&&(this.__cbOnDisabledChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindDisabledChange[n])&&r(),this.__cbOnOwnerUnbindDisabledChange.splice(n,1)),null!=this.__cbOnceDisabledChange&&-1!=(n=this.__cbOnceDisabledChange.indexOf(e))&&(this.__cbOnceDisabledChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindDisabledChange[n])&&r(),this.__cbOnceOwnerUnbindDisabledChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindDisabledChange){for(var t=0,i=this.__cbOnOwnerUnbindDisabledChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindDisabledChange[l])&&r()}this.__cbOnOwnerUnbindDisabledChange=null}if(null!=this.__cbOnceOwnerUnbindDisabledChange){for(t=0,i=this.__cbOnceOwnerUnbindDisabledChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindDisabledChange[l])&&r()}this.__cbOnceOwnerUnbindDisabledChange=null}this.__cbOnDisabledChange=null,this.__cbOnceDisabledChange=null}},listensDisabledChange:function(){return null!=this.__cbOnDisabledChange&&0<this.__cbOnDisabledChange.length||null!=this.__cbOnceDisabledChange&&0<this.__cbOnceDisabledChange.length},containerView:null,useContainer:null,view:null,set_view:function(e){return this.view!=e&&(null!=this.view&&this.view.destroy(),null!=(this.view=e)&&((this.useContainer?this.containerView:this).add(e),this.invalidateDisabled()),this.remove(this.labelText),this.add(this.labelText)),e},labelPosition:null,set_labelPosition:function(e){if(this.labelPosition!=e)switch(this.labelPosition=e){case 0:this.remove(this.labelText),this.remove(this.useContainer?this.containerView:this.view),this.add(this.labelText),this.add(this.useContainer?this.containerView:this.view),null!=this.containerView&&this.containerView.set_align(En.LEFT),this.labelText.set_align(_t.RIGHT);break;case 1:this.remove(this.labelText),this.add(this.labelText),null!=this.containerView&&this.containerView.set_align(En.RIGHT),this.labelText.set_align(_t.LEFT)}return e},labelWidth:null,set_labelWidth:function(e){return this.labelWidth!=e&&(this.labelWidth=e,this.labelText.set_viewWidth(e)),e},get_labelViewWidth:function(){return this.labelText.viewWidth},set_labelViewWidth:function(e){return this.labelText.set_viewWidth(e)},labelText:null,handleLabelClick:function(){this.get_disabled()||this.view instanceof z2&&this.view.focus()},updateLabel:function(){this.labelText.set_content(this.get_label())},updateDisabled:function(){var e,n=this.view;U.unobserve(),null!=n?(e=!1,U.reobserve(),K.getProperty(n,"disabled")&&(e=!0),U.unobserve(),this.set_disabled(e)):this.set_disabled(!1),U.reobserve()},updateStyle:function(){var e=this.get_theme();null==e&&(e=te.get_context().get_theme()),this.get_disabled()?this.labelText.set_textColor(e.get_darkTextColor()):this.labelText.set_textColor(e.get_lightTextColor()),this.labelText.set_font(e.get_mediumFont())},unbindEvents:function(){Ub.prototype.unbindEvents.call(this),this.offObservedDirty(),this.offThemeChange(),this.offLabelChange(),this.offDisabledChange()},__class__:gd,__properties__:$extend(Ub.prototype.__properties__,{set_labelViewWidth:"set_labelViewWidth",get_labelViewWidth:"get_labelViewWidth",set_labelWidth:"set_labelWidth",set_labelPosition:"set_labelPosition",set_view:"set_view",set_disabled:"set_disabled",get_disabled:"get_disabled",set_label:"set_label",get_label:"get_label",set_theme:"set_theme",get_theme:"get_theme"})}),(E["elements.ListView"]=id).__name__="elements.ListView",id.__interfaces__=[s],id.__super__=f0,id.prototype=$extend(f0.prototype,{__cbOnObservedDirty:null,__cbOnceObservedDirty:null,__cbOnOwnerUnbindObservedDirty:null,__cbOnceOwnerUnbindObservedDirty:null,emitObservedDirty:function(e,n){var t=0;if(null!=this.__cbOnObservedDirty&&(t+=this.__cbOnObservedDirty.length),null!=this.__cbOnceObservedDirty&&(t+=this.__cbOnceObservedDirty.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnObservedDirty)for(var s=0,h=this.__cbOnObservedDirty.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnObservedDirty[a],++r):--t}if(null!=this.__cbOnceObservedDirty){for(var o=null,c=null,s=0,h=this.__cbOnceObservedDirty.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceObservedDirty[a],this.__cbOnceObservedDirty[a]=null,u=this.__cbOnceOwnerUnbindObservedDirty[a],(this.__cbOnceOwnerUnbindObservedDirty[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindObservedDirty[a]),c.push(this.__cbOnceObservedDirty[a]))}this.__cbOnceOwnerUnbindObservedDirty=o,this.__cbOnceObservedDirty=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onObservedDirty:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event observedDirty because owner is destroyed!");var l=function(e){null!=t&&(i.offObservedDirty(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push(null);null==this.__cbOnObservedDirty&&(this.__cbOnObservedDirty=[]),this.__cbOnObservedDirty.push(t)},onceObservedDirty:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event observedDirty because owner is destroyed!");var l=function(e){null!=t&&(i.offObservedDirty(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push(null);null==this.__cbOnceObservedDirty&&(this.__cbOnceObservedDirty=[]),this.__cbOnceObservedDirty.push(t)},offObservedDirty:function(e){if(null!=e){var n;null!=this.__cbOnObservedDirty&&-1!=(n=this.__cbOnObservedDirty.indexOf(e))&&(this.__cbOnObservedDirty.splice(n,1),null!=(r=this.__cbOnOwnerUnbindObservedDirty[n])&&r(),this.__cbOnOwnerUnbindObservedDirty.splice(n,1)),null!=this.__cbOnceObservedDirty&&-1!=(n=this.__cbOnceObservedDirty.indexOf(e))&&(this.__cbOnceObservedDirty.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindObservedDirty[n])&&r(),this.__cbOnceOwnerUnbindObservedDirty.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindObservedDirty){for(var t=0,i=this.__cbOnOwnerUnbindObservedDirty.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindObservedDirty[l])&&r()}this.__cbOnOwnerUnbindObservedDirty=null}if(null!=this.__cbOnceOwnerUnbindObservedDirty){for(t=0,i=this.__cbOnceOwnerUnbindObservedDirty.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindObservedDirty[l])&&r()}this.__cbOnceOwnerUnbindObservedDirty=null}this.__cbOnObservedDirty=null,this.__cbOnceObservedDirty=null}},listensObservedDirty:function(){return null!=this.__cbOnObservedDirty&&0<this.__cbOnObservedDirty.length||null!=this.__cbOnceObservedDirty&&0<this.__cbOnceObservedDirty.length},observedDirty:null,__cbOnMoveItemAboveItem:null,__cbOnceMoveItemAboveItem:null,__cbOnOwnerUnbindMoveItemAboveItem:null,__cbOnceOwnerUnbindMoveItemAboveItem:null,emitMoveItemAboveItem:function(e,n){var t=0;if(null!=this.__cbOnMoveItemAboveItem&&(t+=this.__cbOnMoveItemAboveItem.length),null!=this.__cbOnceMoveItemAboveItem&&(t+=this.__cbOnceMoveItemAboveItem.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnMoveItemAboveItem)for(var s=0,h=this.__cbOnMoveItemAboveItem.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnMoveItemAboveItem[a],++r):--t}if(null!=this.__cbOnceMoveItemAboveItem){for(var o=null,c=null,s=0,h=this.__cbOnceMoveItemAboveItem.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceMoveItemAboveItem[a],this.__cbOnceMoveItemAboveItem[a]=null,u=this.__cbOnceOwnerUnbindMoveItemAboveItem[a],(this.__cbOnceOwnerUnbindMoveItemAboveItem[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindMoveItemAboveItem[a]),c.push(this.__cbOnceMoveItemAboveItem[a]))}this.__cbOnceOwnerUnbindMoveItemAboveItem=o,this.__cbOnceMoveItemAboveItem=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onMoveItemAboveItem:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event moveItemAboveItem because owner is destroyed!");var l=function(e){null!=t&&(i.offMoveItemAboveItem(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindMoveItemAboveItem&&(this.__cbOnOwnerUnbindMoveItemAboveItem=[]),this.__cbOnOwnerUnbindMoveItemAboveItem.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindMoveItemAboveItem&&(this.__cbOnOwnerUnbindMoveItemAboveItem=[]),this.__cbOnOwnerUnbindMoveItemAboveItem.push(null);null==this.__cbOnMoveItemAboveItem&&(this.__cbOnMoveItemAboveItem=[]),this.__cbOnMoveItemAboveItem.push(t)},onceMoveItemAboveItem:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event moveItemAboveItem because owner is destroyed!");var l=function(e){null!=t&&(i.offMoveItemAboveItem(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindMoveItemAboveItem&&(this.__cbOnceOwnerUnbindMoveItemAboveItem=[]),this.__cbOnceOwnerUnbindMoveItemAboveItem.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindMoveItemAboveItem&&(this.__cbOnceOwnerUnbindMoveItemAboveItem=[]),this.__cbOnceOwnerUnbindMoveItemAboveItem.push(null);null==this.__cbOnceMoveItemAboveItem&&(this.__cbOnceMoveItemAboveItem=[]),this.__cbOnceMoveItemAboveItem.push(t)},offMoveItemAboveItem:function(e){if(null!=e){var n;null!=this.__cbOnMoveItemAboveItem&&-1!=(n=this.__cbOnMoveItemAboveItem.indexOf(e))&&(this.__cbOnMoveItemAboveItem.splice(n,1),null!=(r=this.__cbOnOwnerUnbindMoveItemAboveItem[n])&&r(),this.__cbOnOwnerUnbindMoveItemAboveItem.splice(n,1)),null!=this.__cbOnceMoveItemAboveItem&&-1!=(n=this.__cbOnceMoveItemAboveItem.indexOf(e))&&(this.__cbOnceMoveItemAboveItem.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindMoveItemAboveItem[n])&&r(),this.__cbOnceOwnerUnbindMoveItemAboveItem.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindMoveItemAboveItem){for(var t=0,i=this.__cbOnOwnerUnbindMoveItemAboveItem.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindMoveItemAboveItem[l])&&r()}this.__cbOnOwnerUnbindMoveItemAboveItem=null}if(null!=this.__cbOnceOwnerUnbindMoveItemAboveItem){for(t=0,i=this.__cbOnceOwnerUnbindMoveItemAboveItem.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindMoveItemAboveItem[l])&&r()}this.__cbOnceOwnerUnbindMoveItemAboveItem=null}this.__cbOnMoveItemAboveItem=null,this.__cbOnceMoveItemAboveItem=null}},listensMoveItemAboveItem:function(){return null!=this.__cbOnMoveItemAboveItem&&0<this.__cbOnMoveItemAboveItem.length||null!=this.__cbOnceMoveItemAboveItem&&0<this.__cbOnceMoveItemAboveItem.length},__cbOnMoveItemBelowItem:null,__cbOnceMoveItemBelowItem:null,__cbOnOwnerUnbindMoveItemBelowItem:null,__cbOnceOwnerUnbindMoveItemBelowItem:null,emitMoveItemBelowItem:function(e,n){var t=0;if(null!=this.__cbOnMoveItemBelowItem&&(t+=this.__cbOnMoveItemBelowItem.length),null!=this.__cbOnceMoveItemBelowItem&&(t+=this.__cbOnceMoveItemBelowItem.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnMoveItemBelowItem)for(var s=0,h=this.__cbOnMoveItemBelowItem.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnMoveItemBelowItem[a],++r):--t}if(null!=this.__cbOnceMoveItemBelowItem){for(var o=null,c=null,s=0,h=this.__cbOnceMoveItemBelowItem.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceMoveItemBelowItem[a],this.__cbOnceMoveItemBelowItem[a]=null,u=this.__cbOnceOwnerUnbindMoveItemBelowItem[a],(this.__cbOnceOwnerUnbindMoveItemBelowItem[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindMoveItemBelowItem[a]),c.push(this.__cbOnceMoveItemBelowItem[a]))}this.__cbOnceOwnerUnbindMoveItemBelowItem=o,this.__cbOnceMoveItemBelowItem=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onMoveItemBelowItem:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event moveItemBelowItem because owner is destroyed!");var l=function(e){null!=t&&(i.offMoveItemBelowItem(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindMoveItemBelowItem&&(this.__cbOnOwnerUnbindMoveItemBelowItem=[]),this.__cbOnOwnerUnbindMoveItemBelowItem.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindMoveItemBelowItem&&(this.__cbOnOwnerUnbindMoveItemBelowItem=[]),this.__cbOnOwnerUnbindMoveItemBelowItem.push(null);null==this.__cbOnMoveItemBelowItem&&(this.__cbOnMoveItemBelowItem=[]),this.__cbOnMoveItemBelowItem.push(t)},onceMoveItemBelowItem:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event moveItemBelowItem because owner is destroyed!");var l=function(e){null!=t&&(i.offMoveItemBelowItem(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindMoveItemBelowItem&&(this.__cbOnceOwnerUnbindMoveItemBelowItem=[]),this.__cbOnceOwnerUnbindMoveItemBelowItem.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindMoveItemBelowItem&&(this.__cbOnceOwnerUnbindMoveItemBelowItem=[]),this.__cbOnceOwnerUnbindMoveItemBelowItem.push(null);null==this.__cbOnceMoveItemBelowItem&&(this.__cbOnceMoveItemBelowItem=[]),this.__cbOnceMoveItemBelowItem.push(t)},offMoveItemBelowItem:function(e){if(null!=e){var n;null!=this.__cbOnMoveItemBelowItem&&-1!=(n=this.__cbOnMoveItemBelowItem.indexOf(e))&&(this.__cbOnMoveItemBelowItem.splice(n,1),null!=(r=this.__cbOnOwnerUnbindMoveItemBelowItem[n])&&r(),this.__cbOnOwnerUnbindMoveItemBelowItem.splice(n,1)),null!=this.__cbOnceMoveItemBelowItem&&-1!=(n=this.__cbOnceMoveItemBelowItem.indexOf(e))&&(this.__cbOnceMoveItemBelowItem.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindMoveItemBelowItem[n])&&r(),this.__cbOnceOwnerUnbindMoveItemBelowItem.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindMoveItemBelowItem){for(var t=0,i=this.__cbOnOwnerUnbindMoveItemBelowItem.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindMoveItemBelowItem[l])&&r()}this.__cbOnOwnerUnbindMoveItemBelowItem=null}if(null!=this.__cbOnceOwnerUnbindMoveItemBelowItem){for(t=0,i=this.__cbOnceOwnerUnbindMoveItemBelowItem.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindMoveItemBelowItem[l])&&r()}this.__cbOnceOwnerUnbindMoveItemBelowItem=null}this.__cbOnMoveItemBelowItem=null,this.__cbOnceMoveItemBelowItem=null}},listensMoveItemBelowItem:function(){return null!=this.__cbOnMoveItemBelowItem&&0<this.__cbOnMoveItemBelowItem.length||null!=this.__cbOnceMoveItemBelowItem&&0<this.__cbOnceMoveItemBelowItem.length},__cbOnTrashItem:null,__cbOnceTrashItem:null,__cbOnOwnerUnbindTrashItem:null,__cbOnceOwnerUnbindTrashItem:null,emitTrashItem:function(e){var n=0;if(null!=this.__cbOnTrashItem&&(n+=this.__cbOnTrashItem.length),null!=this.__cbOnceTrashItem&&(n+=this.__cbOnceTrashItem.length),0<n){var t=C.pool(n),i=t.get(),l=0;if(null!=this.__cbOnTrashItem)for(var r=0,s=this.__cbOnTrashItem.length;r<s;){var h=r++;!0?(i.vector[l]=this.__cbOnTrashItem[h],++l):--n}if(null!=this.__cbOnceTrashItem){for(var a=null,o=null,r=0,s=this.__cbOnceTrashItem.length;r<s;){var c,h=r++;!0?(i.vector[l]=this.__cbOnceTrashItem[h],this.__cbOnceTrashItem[h]=null,c=this.__cbOnceOwnerUnbindTrashItem[h],(this.__cbOnceOwnerUnbindTrashItem[h]=null)!=c&&c(),++l):(--n,null==a&&(a=[],o=[],0),a.push(this.__cbOnceOwnerUnbindTrashItem[h]),o.push(this.__cbOnceTrashItem[h]))}this.__cbOnceOwnerUnbindTrashItem=a,this.__cbOnceTrashItem=o}for(r=0,s=n;r<s;){l=r++;(0,i.vector[l])(e)}t.release(i)}},onTrashItem:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event trashItem because owner is destroyed!");var l=function(e){null!=t&&(i.offTrashItem(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindTrashItem&&(this.__cbOnOwnerUnbindTrashItem=[]),this.__cbOnOwnerUnbindTrashItem.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindTrashItem&&(this.__cbOnOwnerUnbindTrashItem=[]),this.__cbOnOwnerUnbindTrashItem.push(null);null==this.__cbOnTrashItem&&(this.__cbOnTrashItem=[]),this.__cbOnTrashItem.push(t)},onceTrashItem:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event trashItem because owner is destroyed!");var l=function(e){null!=t&&(i.offTrashItem(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindTrashItem&&(this.__cbOnceOwnerUnbindTrashItem=[]),this.__cbOnceOwnerUnbindTrashItem.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindTrashItem&&(this.__cbOnceOwnerUnbindTrashItem=[]),this.__cbOnceOwnerUnbindTrashItem.push(null);null==this.__cbOnceTrashItem&&(this.__cbOnceTrashItem=[]),this.__cbOnceTrashItem.push(t)},offTrashItem:function(e){if(null!=e){var n;null!=this.__cbOnTrashItem&&-1!=(n=this.__cbOnTrashItem.indexOf(e))&&(this.__cbOnTrashItem.splice(n,1),null!=(r=this.__cbOnOwnerUnbindTrashItem[n])&&r(),this.__cbOnOwnerUnbindTrashItem.splice(n,1)),null!=this.__cbOnceTrashItem&&-1!=(n=this.__cbOnceTrashItem.indexOf(e))&&(this.__cbOnceTrashItem.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindTrashItem[n])&&r(),this.__cbOnceOwnerUnbindTrashItem.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindTrashItem){for(var t=0,i=this.__cbOnOwnerUnbindTrashItem.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindTrashItem[l])&&r()}this.__cbOnOwnerUnbindTrashItem=null}if(null!=this.__cbOnceOwnerUnbindTrashItem){for(t=0,i=this.__cbOnceOwnerUnbindTrashItem.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindTrashItem[l])&&r()}this.__cbOnceOwnerUnbindTrashItem=null}this.__cbOnTrashItem=null,this.__cbOnceTrashItem=null}},listensTrashItem:function(){return null!=this.__cbOnTrashItem&&0<this.__cbOnTrashItem.length||null!=this.__cbOnceTrashItem&&0<this.__cbOnceTrashItem.length},__cbOnLockItem:null,__cbOnceLockItem:null,__cbOnOwnerUnbindLockItem:null,__cbOnceOwnerUnbindLockItem:null,emitLockItem:function(e){var n=0;if(null!=this.__cbOnLockItem&&(n+=this.__cbOnLockItem.length),null!=this.__cbOnceLockItem&&(n+=this.__cbOnceLockItem.length),0<n){var t=C.pool(n),i=t.get(),l=0;if(null!=this.__cbOnLockItem)for(var r=0,s=this.__cbOnLockItem.length;r<s;){var h=r++;!0?(i.vector[l]=this.__cbOnLockItem[h],++l):--n}if(null!=this.__cbOnceLockItem){for(var a=null,o=null,r=0,s=this.__cbOnceLockItem.length;r<s;){var c,h=r++;!0?(i.vector[l]=this.__cbOnceLockItem[h],this.__cbOnceLockItem[h]=null,c=this.__cbOnceOwnerUnbindLockItem[h],(this.__cbOnceOwnerUnbindLockItem[h]=null)!=c&&c(),++l):(--n,null==a&&(a=[],o=[],0),a.push(this.__cbOnceOwnerUnbindLockItem[h]),o.push(this.__cbOnceLockItem[h]))}this.__cbOnceOwnerUnbindLockItem=a,this.__cbOnceLockItem=o}for(r=0,s=n;r<s;){l=r++;(0,i.vector[l])(e)}t.release(i),i=null}this.didEmitLockItem(e)},onLockItem:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event lockItem because owner is destroyed!");var l=function(e){null!=t&&(i.offLockItem(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindLockItem&&(this.__cbOnOwnerUnbindLockItem=[]),this.__cbOnOwnerUnbindLockItem.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindLockItem&&(this.__cbOnOwnerUnbindLockItem=[]),this.__cbOnOwnerUnbindLockItem.push(null);null==this.__cbOnLockItem&&(this.__cbOnLockItem=[]),this.__cbOnLockItem.push(t)},onceLockItem:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event lockItem because owner is destroyed!");var l=function(e){null!=t&&(i.offLockItem(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindLockItem&&(this.__cbOnceOwnerUnbindLockItem=[]),this.__cbOnceOwnerUnbindLockItem.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindLockItem&&(this.__cbOnceOwnerUnbindLockItem=[]),this.__cbOnceOwnerUnbindLockItem.push(null);null==this.__cbOnceLockItem&&(this.__cbOnceLockItem=[]),this.__cbOnceLockItem.push(t)},offLockItem:function(e){if(null!=e){var n;null!=this.__cbOnLockItem&&-1!=(n=this.__cbOnLockItem.indexOf(e))&&(this.__cbOnLockItem.splice(n,1),null!=(r=this.__cbOnOwnerUnbindLockItem[n])&&r(),this.__cbOnOwnerUnbindLockItem.splice(n,1)),null!=this.__cbOnceLockItem&&-1!=(n=this.__cbOnceLockItem.indexOf(e))&&(this.__cbOnceLockItem.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindLockItem[n])&&r(),this.__cbOnceOwnerUnbindLockItem.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindLockItem){for(var t=0,i=this.__cbOnOwnerUnbindLockItem.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindLockItem[l])&&r()}this.__cbOnOwnerUnbindLockItem=null}if(null!=this.__cbOnceOwnerUnbindLockItem){for(t=0,i=this.__cbOnceOwnerUnbindLockItem.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindLockItem[l])&&r()}this.__cbOnceOwnerUnbindLockItem=null}this.__cbOnLockItem=null,this.__cbOnceLockItem=null}},listensLockItem:function(){return null!=this.__cbOnLockItem&&0<this.__cbOnLockItem.length||null!=this.__cbOnceLockItem&&0<this.__cbOnceLockItem.length},__cbOnUnlockItem:null,__cbOnceUnlockItem:null,__cbOnOwnerUnbindUnlockItem:null,__cbOnceOwnerUnbindUnlockItem:null,emitUnlockItem:function(e){var n=0;if(null!=this.__cbOnUnlockItem&&(n+=this.__cbOnUnlockItem.length),null!=this.__cbOnceUnlockItem&&(n+=this.__cbOnceUnlockItem.length),0<n){var t=C.pool(n),i=t.get(),l=0;if(null!=this.__cbOnUnlockItem)for(var r=0,s=this.__cbOnUnlockItem.length;r<s;){var h=r++;!0?(i.vector[l]=this.__cbOnUnlockItem[h],++l):--n}if(null!=this.__cbOnceUnlockItem){for(var a=null,o=null,r=0,s=this.__cbOnceUnlockItem.length;r<s;){var c,h=r++;!0?(i.vector[l]=this.__cbOnceUnlockItem[h],this.__cbOnceUnlockItem[h]=null,c=this.__cbOnceOwnerUnbindUnlockItem[h],(this.__cbOnceOwnerUnbindUnlockItem[h]=null)!=c&&c(),++l):(--n,null==a&&(a=[],o=[],0),a.push(this.__cbOnceOwnerUnbindUnlockItem[h]),o.push(this.__cbOnceUnlockItem[h]))}this.__cbOnceOwnerUnbindUnlockItem=a,this.__cbOnceUnlockItem=o}for(r=0,s=n;r<s;){l=r++;(0,i.vector[l])(e)}t.release(i),i=null}this.didEmitUnlockItem(e)},onUnlockItem:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event unlockItem because owner is destroyed!");var l=function(e){null!=t&&(i.offUnlockItem(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindUnlockItem&&(this.__cbOnOwnerUnbindUnlockItem=[]),this.__cbOnOwnerUnbindUnlockItem.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindUnlockItem&&(this.__cbOnOwnerUnbindUnlockItem=[]),this.__cbOnOwnerUnbindUnlockItem.push(null);null==this.__cbOnUnlockItem&&(this.__cbOnUnlockItem=[]),this.__cbOnUnlockItem.push(t)},onceUnlockItem:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event unlockItem because owner is destroyed!");var l=function(e){null!=t&&(i.offUnlockItem(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindUnlockItem&&(this.__cbOnceOwnerUnbindUnlockItem=[]),this.__cbOnceOwnerUnbindUnlockItem.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindUnlockItem&&(this.__cbOnceOwnerUnbindUnlockItem=[]),this.__cbOnceOwnerUnbindUnlockItem.push(null);null==this.__cbOnceUnlockItem&&(this.__cbOnceUnlockItem=[]),this.__cbOnceUnlockItem.push(t)},offUnlockItem:function(e){if(null!=e){var n;null!=this.__cbOnUnlockItem&&-1!=(n=this.__cbOnUnlockItem.indexOf(e))&&(this.__cbOnUnlockItem.splice(n,1),null!=(r=this.__cbOnOwnerUnbindUnlockItem[n])&&r(),this.__cbOnOwnerUnbindUnlockItem.splice(n,1)),null!=this.__cbOnceUnlockItem&&-1!=(n=this.__cbOnceUnlockItem.indexOf(e))&&(this.__cbOnceUnlockItem.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindUnlockItem[n])&&r(),this.__cbOnceOwnerUnbindUnlockItem.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindUnlockItem){for(var t=0,i=this.__cbOnOwnerUnbindUnlockItem.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindUnlockItem[l])&&r()}this.__cbOnOwnerUnbindUnlockItem=null}if(null!=this.__cbOnceOwnerUnbindUnlockItem){for(t=0,i=this.__cbOnceOwnerUnbindUnlockItem.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindUnlockItem[l])&&r()}this.__cbOnceOwnerUnbindUnlockItem=null}this.__cbOnUnlockItem=null,this.__cbOnceUnlockItem=null}},listensUnlockItem:function(){return null!=this.__cbOnUnlockItem&&0<this.__cbOnUnlockItem.length||null!=this.__cbOnceUnlockItem&&0<this.__cbOnceUnlockItem.length},__cbOnDuplicateItem:null,__cbOnceDuplicateItem:null,__cbOnOwnerUnbindDuplicateItem:null,__cbOnceOwnerUnbindDuplicateItem:null,emitDuplicateItem:function(e){var n=0;if(null!=this.__cbOnDuplicateItem&&(n+=this.__cbOnDuplicateItem.length),null!=this.__cbOnceDuplicateItem&&(n+=this.__cbOnceDuplicateItem.length),0<n){var t=C.pool(n),i=t.get(),l=0;if(null!=this.__cbOnDuplicateItem)for(var r=0,s=this.__cbOnDuplicateItem.length;r<s;){var h=r++;!0?(i.vector[l]=this.__cbOnDuplicateItem[h],++l):--n}if(null!=this.__cbOnceDuplicateItem){for(var a=null,o=null,r=0,s=this.__cbOnceDuplicateItem.length;r<s;){var c,h=r++;!0?(i.vector[l]=this.__cbOnceDuplicateItem[h],this.__cbOnceDuplicateItem[h]=null,c=this.__cbOnceOwnerUnbindDuplicateItem[h],(this.__cbOnceOwnerUnbindDuplicateItem[h]=null)!=c&&c(),++l):(--n,null==a&&(a=[],o=[],0),a.push(this.__cbOnceOwnerUnbindDuplicateItem[h]),o.push(this.__cbOnceDuplicateItem[h]))}this.__cbOnceOwnerUnbindDuplicateItem=a,this.__cbOnceDuplicateItem=o}for(r=0,s=n;r<s;){l=r++;(0,i.vector[l])(e)}t.release(i)}},onDuplicateItem:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event duplicateItem because owner is destroyed!");var l=function(e){null!=t&&(i.offDuplicateItem(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindDuplicateItem&&(this.__cbOnOwnerUnbindDuplicateItem=[]),this.__cbOnOwnerUnbindDuplicateItem.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindDuplicateItem&&(this.__cbOnOwnerUnbindDuplicateItem=[]),this.__cbOnOwnerUnbindDuplicateItem.push(null);null==this.__cbOnDuplicateItem&&(this.__cbOnDuplicateItem=[]),this.__cbOnDuplicateItem.push(t)},onceDuplicateItem:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event duplicateItem because owner is destroyed!");var l=function(e){null!=t&&(i.offDuplicateItem(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindDuplicateItem&&(this.__cbOnceOwnerUnbindDuplicateItem=[]),this.__cbOnceOwnerUnbindDuplicateItem.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindDuplicateItem&&(this.__cbOnceOwnerUnbindDuplicateItem=[]),this.__cbOnceOwnerUnbindDuplicateItem.push(null);null==this.__cbOnceDuplicateItem&&(this.__cbOnceDuplicateItem=[]),this.__cbOnceDuplicateItem.push(t)},offDuplicateItem:function(e){if(null!=e){var n;null!=this.__cbOnDuplicateItem&&-1!=(n=this.__cbOnDuplicateItem.indexOf(e))&&(this.__cbOnDuplicateItem.splice(n,1),null!=(r=this.__cbOnOwnerUnbindDuplicateItem[n])&&r(),this.__cbOnOwnerUnbindDuplicateItem.splice(n,1)),null!=this.__cbOnceDuplicateItem&&-1!=(n=this.__cbOnceDuplicateItem.indexOf(e))&&(this.__cbOnceDuplicateItem.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindDuplicateItem[n])&&r(),this.__cbOnceOwnerUnbindDuplicateItem.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindDuplicateItem){for(var t=0,i=this.__cbOnOwnerUnbindDuplicateItem.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindDuplicateItem[l])&&r()}this.__cbOnOwnerUnbindDuplicateItem=null}if(null!=this.__cbOnceOwnerUnbindDuplicateItem){for(t=0,i=this.__cbOnceOwnerUnbindDuplicateItem.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindDuplicateItem[l])&&r()}this.__cbOnceOwnerUnbindDuplicateItem=null}this.__cbOnDuplicateItem=null,this.__cbOnceDuplicateItem=null}},listensDuplicateItem:function(){return null!=this.__cbOnDuplicateItem&&0<this.__cbOnDuplicateItem.length||null!=this.__cbOnceDuplicateItem&&0<this.__cbOnceDuplicateItem.length},collectionView:null,dataSource:null,set_dataSource:function(e){return this.dataSource=e,this.collectionView.set_dataSource(e),e},themeAutoruns:null,get_theme:function(){var e,n,t=this.unobservedTheme;return null!=U.current&&(e=U.current,null!=(n=this.themeAutoruns)||(n=U.getAutorunArray(),null!=(this.themeAutoruns=n)))&&e.bindToAutorunArray(n),t},set_theme:function(e){var n=this.unobservedTheme;return n!=(this.unobservedTheme=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitThemeChange(e,n),null!=(n=this.themeAutoruns))&&(this.themeAutoruns=null,U.invalidateAutorunArray(n)),e},invalidateTheme:function(){var e=this.unobservedTheme,e=(this.emitThemeChange(e,e),this.themeAutoruns);null!=e&&(this.themeAutoruns=null,U.invalidateAutorunArray(e))},unobservedTheme:null,__cbOnThemeChange:null,__cbOnceThemeChange:null,__cbOnOwnerUnbindThemeChange:null,__cbOnceOwnerUnbindThemeChange:null,emitThemeChange:function(e,n){var t=0;if(null!=this.__cbOnThemeChange&&(t+=this.__cbOnThemeChange.length),null!=this.__cbOnceThemeChange&&(t+=this.__cbOnceThemeChange.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnThemeChange)for(var s=0,h=this.__cbOnThemeChange.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnThemeChange[a],++r):--t}if(null!=this.__cbOnceThemeChange){for(var o=null,c=null,s=0,h=this.__cbOnceThemeChange.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceThemeChange[a],this.__cbOnceThemeChange[a]=null,u=this.__cbOnceOwnerUnbindThemeChange[a],(this.__cbOnceOwnerUnbindThemeChange[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindThemeChange[a]),c.push(this.__cbOnceThemeChange[a]))}this.__cbOnceOwnerUnbindThemeChange=o,this.__cbOnceThemeChange=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onThemeChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event themeChange because owner is destroyed!");var l=function(e){null!=t&&(i.offThemeChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindThemeChange&&(this.__cbOnOwnerUnbindThemeChange=[]),this.__cbOnOwnerUnbindThemeChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindThemeChange&&(this.__cbOnOwnerUnbindThemeChange=[]),this.__cbOnOwnerUnbindThemeChange.push(null);null==this.__cbOnThemeChange&&(this.__cbOnThemeChange=[]),this.__cbOnThemeChange.push(t)},onceThemeChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event themeChange because owner is destroyed!");var l=function(e){null!=t&&(i.offThemeChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindThemeChange&&(this.__cbOnceOwnerUnbindThemeChange=[]),this.__cbOnceOwnerUnbindThemeChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindThemeChange&&(this.__cbOnceOwnerUnbindThemeChange=[]),this.__cbOnceOwnerUnbindThemeChange.push(null);null==this.__cbOnceThemeChange&&(this.__cbOnceThemeChange=[]),this.__cbOnceThemeChange.push(t)},offThemeChange:function(e){if(null!=e){var n;null!=this.__cbOnThemeChange&&-1!=(n=this.__cbOnThemeChange.indexOf(e))&&(this.__cbOnThemeChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindThemeChange[n])&&r(),this.__cbOnOwnerUnbindThemeChange.splice(n,1)),null!=this.__cbOnceThemeChange&&-1!=(n=this.__cbOnceThemeChange.indexOf(e))&&(this.__cbOnceThemeChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindThemeChange[n])&&r(),this.__cbOnceOwnerUnbindThemeChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindThemeChange){for(var t=0,i=this.__cbOnOwnerUnbindThemeChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindThemeChange[l])&&r()}this.__cbOnOwnerUnbindThemeChange=null}if(null!=this.__cbOnceOwnerUnbindThemeChange){for(t=0,i=this.__cbOnceOwnerUnbindThemeChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindThemeChange[l])&&r()}this.__cbOnceOwnerUnbindThemeChange=null}this.__cbOnThemeChange=null,this.__cbOnceThemeChange=null}},listensThemeChange:function(){return null!=this.__cbOnThemeChange&&0<this.__cbOnThemeChange.length||null!=this.__cbOnceThemeChange&&0<this.__cbOnceThemeChange.length},itemsAutoruns:null,get_items:function(){var e,n,t=this.unobservedItems;return null!=U.current&&(e=U.current,null!=(n=this.itemsAutoruns)||(n=U.getAutorunArray(),null!=(this.itemsAutoruns=n)))&&e.bindToAutorunArray(n),t},set_items:function(e){var n=this.unobservedItems;return this.unobservedItems=e,Bl.equalAny(n,e)||(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitItemsChange(e,n),null!=(n=this.itemsAutoruns)&&(this.itemsAutoruns=null,U.invalidateAutorunArray(n))),e},invalidateItems:function(){var e=this.unobservedItems,e=(this.emitItemsChange(e,e),this.itemsAutoruns);null!=e&&(this.itemsAutoruns=null,U.invalidateAutorunArray(e))},unobservedItems:null,__cbOnItemsChange:null,__cbOnceItemsChange:null,__cbOnOwnerUnbindItemsChange:null,__cbOnceOwnerUnbindItemsChange:null,emitItemsChange:function(e,n){var t=0;if(null!=this.__cbOnItemsChange&&(t+=this.__cbOnItemsChange.length),null!=this.__cbOnceItemsChange&&(t+=this.__cbOnceItemsChange.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnItemsChange)for(var s=0,h=this.__cbOnItemsChange.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnItemsChange[a],++r):--t}if(null!=this.__cbOnceItemsChange){for(var o=null,c=null,s=0,h=this.__cbOnceItemsChange.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceItemsChange[a],this.__cbOnceItemsChange[a]=null,u=this.__cbOnceOwnerUnbindItemsChange[a],(this.__cbOnceOwnerUnbindItemsChange[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindItemsChange[a]),c.push(this.__cbOnceItemsChange[a]))}this.__cbOnceOwnerUnbindItemsChange=o,this.__cbOnceItemsChange=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onItemsChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event itemsChange because owner is destroyed!");var l=function(e){null!=t&&(i.offItemsChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindItemsChange&&(this.__cbOnOwnerUnbindItemsChange=[]),this.__cbOnOwnerUnbindItemsChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindItemsChange&&(this.__cbOnOwnerUnbindItemsChange=[]),this.__cbOnOwnerUnbindItemsChange.push(null);null==this.__cbOnItemsChange&&(this.__cbOnItemsChange=[]),this.__cbOnItemsChange.push(t)},onceItemsChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event itemsChange because owner is destroyed!");var l=function(e){null!=t&&(i.offItemsChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindItemsChange&&(this.__cbOnceOwnerUnbindItemsChange=[]),this.__cbOnceOwnerUnbindItemsChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindItemsChange&&(this.__cbOnceOwnerUnbindItemsChange=[]),this.__cbOnceOwnerUnbindItemsChange.push(null);null==this.__cbOnceItemsChange&&(this.__cbOnceItemsChange=[]),this.__cbOnceItemsChange.push(t)},offItemsChange:function(e){if(null!=e){var n;null!=this.__cbOnItemsChange&&-1!=(n=this.__cbOnItemsChange.indexOf(e))&&(this.__cbOnItemsChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindItemsChange[n])&&r(),this.__cbOnOwnerUnbindItemsChange.splice(n,1)),null!=this.__cbOnceItemsChange&&-1!=(n=this.__cbOnceItemsChange.indexOf(e))&&(this.__cbOnceItemsChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindItemsChange[n])&&r(),this.__cbOnceOwnerUnbindItemsChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindItemsChange){for(var t=0,i=this.__cbOnOwnerUnbindItemsChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindItemsChange[l])&&r()}this.__cbOnOwnerUnbindItemsChange=null}if(null!=this.__cbOnceOwnerUnbindItemsChange){for(t=0,i=this.__cbOnceOwnerUnbindItemsChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindItemsChange[l])&&r()}this.__cbOnceOwnerUnbindItemsChange=null}this.__cbOnItemsChange=null,this.__cbOnceItemsChange=null}},listensItemsChange:function(){return null!=this.__cbOnItemsChange&&0<this.__cbOnItemsChange.length||null!=this.__cbOnceItemsChange&&0<this.__cbOnceItemsChange.length},selectedIndexAutoruns:null,get_selectedIndex:function(){var e,n,t=this.unobservedSelectedIndex;return null!=U.current&&(e=U.current,null!=(n=this.selectedIndexAutoruns)||(n=U.getAutorunArray(),null!=(this.selectedIndexAutoruns=n)))&&e.bindToAutorunArray(n),t},set_selectedIndex:function(e){var n=this.unobservedSelectedIndex;return n!=(this.unobservedSelectedIndex=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitSelectedIndexChange(e,n),null!=(n=this.selectedIndexAutoruns))&&(this.selectedIndexAutoruns=null,U.invalidateAutorunArray(n)),e},invalidateSelectedIndex:function(){var e=this.unobservedSelectedIndex,e=(this.emitSelectedIndexChange(e,e),this.selectedIndexAutoruns);null!=e&&(this.selectedIndexAutoruns=null,U.invalidateAutorunArray(e))},unobservedSelectedIndex:null,__cbOnSelectedIndexChange:null,__cbOnceSelectedIndexChange:null,__cbOnOwnerUnbindSelectedIndexChange:null,__cbOnceOwnerUnbindSelectedIndexChange:null,emitSelectedIndexChange:function(e,n){var t=0;if(null!=this.__cbOnSelectedIndexChange&&(t+=this.__cbOnSelectedIndexChange.length),null!=this.__cbOnceSelectedIndexChange&&(t+=this.__cbOnceSelectedIndexChange.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnSelectedIndexChange)for(var s=0,h=this.__cbOnSelectedIndexChange.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnSelectedIndexChange[a],++r):--t}if(null!=this.__cbOnceSelectedIndexChange){for(var o=null,c=null,s=0,h=this.__cbOnceSelectedIndexChange.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceSelectedIndexChange[a],this.__cbOnceSelectedIndexChange[a]=null,u=this.__cbOnceOwnerUnbindSelectedIndexChange[a],(this.__cbOnceOwnerUnbindSelectedIndexChange[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindSelectedIndexChange[a]),c.push(this.__cbOnceSelectedIndexChange[a]))}this.__cbOnceOwnerUnbindSelectedIndexChange=o,this.__cbOnceSelectedIndexChange=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onSelectedIndexChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event selectedIndexChange because owner is destroyed!");var l=function(e){null!=t&&(i.offSelectedIndexChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindSelectedIndexChange&&(this.__cbOnOwnerUnbindSelectedIndexChange=[]),this.__cbOnOwnerUnbindSelectedIndexChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindSelectedIndexChange&&(this.__cbOnOwnerUnbindSelectedIndexChange=[]),this.__cbOnOwnerUnbindSelectedIndexChange.push(null);null==this.__cbOnSelectedIndexChange&&(this.__cbOnSelectedIndexChange=[]),this.__cbOnSelectedIndexChange.push(t)},onceSelectedIndexChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event selectedIndexChange because owner is destroyed!");var l=function(e){null!=t&&(i.offSelectedIndexChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindSelectedIndexChange&&(this.__cbOnceOwnerUnbindSelectedIndexChange=[]),this.__cbOnceOwnerUnbindSelectedIndexChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindSelectedIndexChange&&(this.__cbOnceOwnerUnbindSelectedIndexChange=[]),this.__cbOnceOwnerUnbindSelectedIndexChange.push(null);null==this.__cbOnceSelectedIndexChange&&(this.__cbOnceSelectedIndexChange=[]),this.__cbOnceSelectedIndexChange.push(t)},offSelectedIndexChange:function(e){if(null!=e){var n;null!=this.__cbOnSelectedIndexChange&&-1!=(n=this.__cbOnSelectedIndexChange.indexOf(e))&&(this.__cbOnSelectedIndexChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindSelectedIndexChange[n])&&r(),this.__cbOnOwnerUnbindSelectedIndexChange.splice(n,1)),null!=this.__cbOnceSelectedIndexChange&&-1!=(n=this.__cbOnceSelectedIndexChange.indexOf(e))&&(this.__cbOnceSelectedIndexChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindSelectedIndexChange[n])&&r(),this.__cbOnceOwnerUnbindSelectedIndexChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindSelectedIndexChange){for(var t=0,i=this.__cbOnOwnerUnbindSelectedIndexChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindSelectedIndexChange[l])&&r()}this.__cbOnOwnerUnbindSelectedIndexChange=null}if(null!=this.__cbOnceOwnerUnbindSelectedIndexChange){for(t=0,i=this.__cbOnceOwnerUnbindSelectedIndexChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindSelectedIndexChange[l])&&r()}this.__cbOnceOwnerUnbindSelectedIndexChange=null}this.__cbOnSelectedIndexChange=null,this.__cbOnceSelectedIndexChange=null}},listensSelectedIndexChange:function(){return null!=this.__cbOnSelectedIndexChange&&0<this.__cbOnSelectedIndexChange.length||null!=this.__cbOnceSelectedIndexChange&&0<this.__cbOnceSelectedIndexChange.length},trashableAutoruns:null,get_trashable:function(){var e,n,t=this.unobservedTrashable;return null!=U.current&&(e=U.current,null!=(n=this.trashableAutoruns)||(n=U.getAutorunArray(),null!=(this.trashableAutoruns=n)))&&e.bindToAutorunArray(n),t},set_trashable:function(e){var n=this.unobservedTrashable;return n!=(this.unobservedTrashable=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitTrashableChange(e,n),null!=(n=this.trashableAutoruns))&&(this.trashableAutoruns=null,U.invalidateAutorunArray(n)),e},invalidateTrashable:function(){var e=this.unobservedTrashable,e=(this.emitTrashableChange(e,e),this.trashableAutoruns);null!=e&&(this.trashableAutoruns=null,U.invalidateAutorunArray(e))},unobservedTrashable:null,__cbOnTrashableChange:null,__cbOnceTrashableChange:null,__cbOnOwnerUnbindTrashableChange:null,__cbOnceOwnerUnbindTrashableChange:null,emitTrashableChange:function(e,n){var t=0;if(null!=this.__cbOnTrashableChange&&(t+=this.__cbOnTrashableChange.length),null!=this.__cbOnceTrashableChange&&(t+=this.__cbOnceTrashableChange.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnTrashableChange)for(var s=0,h=this.__cbOnTrashableChange.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnTrashableChange[a],++r):--t}if(null!=this.__cbOnceTrashableChange){for(var o=null,c=null,s=0,h=this.__cbOnceTrashableChange.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceTrashableChange[a],this.__cbOnceTrashableChange[a]=null,u=this.__cbOnceOwnerUnbindTrashableChange[a],(this.__cbOnceOwnerUnbindTrashableChange[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindTrashableChange[a]),c.push(this.__cbOnceTrashableChange[a]))}this.__cbOnceOwnerUnbindTrashableChange=o,this.__cbOnceTrashableChange=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onTrashableChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event trashableChange because owner is destroyed!");var l=function(e){null!=t&&(i.offTrashableChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindTrashableChange&&(this.__cbOnOwnerUnbindTrashableChange=[]),this.__cbOnOwnerUnbindTrashableChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindTrashableChange&&(this.__cbOnOwnerUnbindTrashableChange=[]),this.__cbOnOwnerUnbindTrashableChange.push(null);null==this.__cbOnTrashableChange&&(this.__cbOnTrashableChange=[]),this.__cbOnTrashableChange.push(t)},onceTrashableChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event trashableChange because owner is destroyed!");var l=function(e){null!=t&&(i.offTrashableChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindTrashableChange&&(this.__cbOnceOwnerUnbindTrashableChange=[]),this.__cbOnceOwnerUnbindTrashableChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindTrashableChange&&(this.__cbOnceOwnerUnbindTrashableChange=[]),this.__cbOnceOwnerUnbindTrashableChange.push(null);null==this.__cbOnceTrashableChange&&(this.__cbOnceTrashableChange=[]),this.__cbOnceTrashableChange.push(t)},offTrashableChange:function(e){if(null!=e){var n;null!=this.__cbOnTrashableChange&&-1!=(n=this.__cbOnTrashableChange.indexOf(e))&&(this.__cbOnTrashableChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindTrashableChange[n])&&r(),this.__cbOnOwnerUnbindTrashableChange.splice(n,1)),null!=this.__cbOnceTrashableChange&&-1!=(n=this.__cbOnceTrashableChange.indexOf(e))&&(this.__cbOnceTrashableChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindTrashableChange[n])&&r(),this.__cbOnceOwnerUnbindTrashableChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindTrashableChange){for(var t=0,i=this.__cbOnOwnerUnbindTrashableChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindTrashableChange[l])&&r()}this.__cbOnOwnerUnbindTrashableChange=null}if(null!=this.__cbOnceOwnerUnbindTrashableChange){for(t=0,i=this.__cbOnceOwnerUnbindTrashableChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindTrashableChange[l])&&r()}this.__cbOnceOwnerUnbindTrashableChange=null}this.__cbOnTrashableChange=null,this.__cbOnceTrashableChange=null}},listensTrashableChange:function(){return null!=this.__cbOnTrashableChange&&0<this.__cbOnTrashableChange.length||null!=this.__cbOnceTrashableChange&&0<this.__cbOnceTrashableChange.length},lockableAutoruns:null,get_lockable:function(){var e,n,t=this.unobservedLockable;return null!=U.current&&(e=U.current,null!=(n=this.lockableAutoruns)||(n=U.getAutorunArray(),null!=(this.lockableAutoruns=n)))&&e.bindToAutorunArray(n),t},set_lockable:function(e){var n=this.unobservedLockable;return n!=(this.unobservedLockable=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitLockableChange(e,n),null!=(n=this.lockableAutoruns))&&(this.lockableAutoruns=null,U.invalidateAutorunArray(n)),e},invalidateLockable:function(){var e=this.unobservedLockable,e=(this.emitLockableChange(e,e),this.lockableAutoruns);null!=e&&(this.lockableAutoruns=null,U.invalidateAutorunArray(e))},unobservedLockable:null,__cbOnLockableChange:null,__cbOnceLockableChange:null,__cbOnOwnerUnbindLockableChange:null,__cbOnceOwnerUnbindLockableChange:null,emitLockableChange:function(e,n){var t=0;if(null!=this.__cbOnLockableChange&&(t+=this.__cbOnLockableChange.length),null!=this.__cbOnceLockableChange&&(t+=this.__cbOnceLockableChange.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnLockableChange)for(var s=0,h=this.__cbOnLockableChange.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnLockableChange[a],++r):--t}if(null!=this.__cbOnceLockableChange){for(var o=null,c=null,s=0,h=this.__cbOnceLockableChange.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceLockableChange[a],this.__cbOnceLockableChange[a]=null,u=this.__cbOnceOwnerUnbindLockableChange[a],(this.__cbOnceOwnerUnbindLockableChange[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindLockableChange[a]),c.push(this.__cbOnceLockableChange[a]))}this.__cbOnceOwnerUnbindLockableChange=o,this.__cbOnceLockableChange=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onLockableChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event lockableChange because owner is destroyed!");var l=function(e){null!=t&&(i.offLockableChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindLockableChange&&(this.__cbOnOwnerUnbindLockableChange=[]),this.__cbOnOwnerUnbindLockableChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindLockableChange&&(this.__cbOnOwnerUnbindLockableChange=[]),this.__cbOnOwnerUnbindLockableChange.push(null);null==this.__cbOnLockableChange&&(this.__cbOnLockableChange=[]),this.__cbOnLockableChange.push(t)},onceLockableChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event lockableChange because owner is destroyed!");var l=function(e){null!=t&&(i.offLockableChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindLockableChange&&(this.__cbOnceOwnerUnbindLockableChange=[]),this.__cbOnceOwnerUnbindLockableChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindLockableChange&&(this.__cbOnceOwnerUnbindLockableChange=[]),this.__cbOnceOwnerUnbindLockableChange.push(null);null==this.__cbOnceLockableChange&&(this.__cbOnceLockableChange=[]),this.__cbOnceLockableChange.push(t)},offLockableChange:function(e){if(null!=e){var n;null!=this.__cbOnLockableChange&&-1!=(n=this.__cbOnLockableChange.indexOf(e))&&(this.__cbOnLockableChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindLockableChange[n])&&r(),this.__cbOnOwnerUnbindLockableChange.splice(n,1)),null!=this.__cbOnceLockableChange&&-1!=(n=this.__cbOnceLockableChange.indexOf(e))&&(this.__cbOnceLockableChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindLockableChange[n])&&r(),this.__cbOnceOwnerUnbindLockableChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindLockableChange){for(var t=0,i=this.__cbOnOwnerUnbindLockableChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindLockableChange[l])&&r()}this.__cbOnOwnerUnbindLockableChange=null}if(null!=this.__cbOnceOwnerUnbindLockableChange){for(t=0,i=this.__cbOnceOwnerUnbindLockableChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindLockableChange[l])&&r()}this.__cbOnceOwnerUnbindLockableChange=null}this.__cbOnLockableChange=null,this.__cbOnceLockableChange=null}},listensLockableChange:function(){return null!=this.__cbOnLockableChange&&0<this.__cbOnLockableChange.length||null!=this.__cbOnceLockableChange&&0<this.__cbOnceLockableChange.length},duplicableAutoruns:null,get_duplicable:function(){var e,n,t=this.unobservedDuplicable;return null!=U.current&&(e=U.current,null!=(n=this.duplicableAutoruns)||(n=U.getAutorunArray(),null!=(this.duplicableAutoruns=n)))&&e.bindToAutorunArray(n),t},set_duplicable:function(e){var n=this.unobservedDuplicable;return n!=(this.unobservedDuplicable=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitDuplicableChange(e,n),null!=(n=this.duplicableAutoruns))&&(this.duplicableAutoruns=null,U.invalidateAutorunArray(n)),e},invalidateDuplicable:function(){var e=this.unobservedDuplicable,e=(this.emitDuplicableChange(e,e),this.duplicableAutoruns);null!=e&&(this.duplicableAutoruns=null,U.invalidateAutorunArray(e))},unobservedDuplicable:null,__cbOnDuplicableChange:null,__cbOnceDuplicableChange:null,__cbOnOwnerUnbindDuplicableChange:null,__cbOnceOwnerUnbindDuplicableChange:null,emitDuplicableChange:function(e,n){var t=0;if(null!=this.__cbOnDuplicableChange&&(t+=this.__cbOnDuplicableChange.length),null!=this.__cbOnceDuplicableChange&&(t+=this.__cbOnceDuplicableChange.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnDuplicableChange)for(var s=0,h=this.__cbOnDuplicableChange.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnDuplicableChange[a],++r):--t}if(null!=this.__cbOnceDuplicableChange){for(var o=null,c=null,s=0,h=this.__cbOnceDuplicableChange.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceDuplicableChange[a],this.__cbOnceDuplicableChange[a]=null,u=this.__cbOnceOwnerUnbindDuplicableChange[a],(this.__cbOnceOwnerUnbindDuplicableChange[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindDuplicableChange[a]),c.push(this.__cbOnceDuplicableChange[a]))}this.__cbOnceOwnerUnbindDuplicableChange=o,this.__cbOnceDuplicableChange=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onDuplicableChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event duplicableChange because owner is destroyed!");var l=function(e){null!=t&&(i.offDuplicableChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindDuplicableChange&&(this.__cbOnOwnerUnbindDuplicableChange=[]),this.__cbOnOwnerUnbindDuplicableChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindDuplicableChange&&(this.__cbOnOwnerUnbindDuplicableChange=[]),this.__cbOnOwnerUnbindDuplicableChange.push(null);null==this.__cbOnDuplicableChange&&(this.__cbOnDuplicableChange=[]),this.__cbOnDuplicableChange.push(t)},onceDuplicableChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event duplicableChange because owner is destroyed!");var l=function(e){null!=t&&(i.offDuplicableChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindDuplicableChange&&(this.__cbOnceOwnerUnbindDuplicableChange=[]),this.__cbOnceOwnerUnbindDuplicableChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindDuplicableChange&&(this.__cbOnceOwnerUnbindDuplicableChange=[]),this.__cbOnceOwnerUnbindDuplicableChange.push(null);null==this.__cbOnceDuplicableChange&&(this.__cbOnceDuplicableChange=[]),this.__cbOnceDuplicableChange.push(t)},offDuplicableChange:function(e){if(null!=e){var n;null!=this.__cbOnDuplicableChange&&-1!=(n=this.__cbOnDuplicableChange.indexOf(e))&&(this.__cbOnDuplicableChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindDuplicableChange[n])&&r(),this.__cbOnOwnerUnbindDuplicableChange.splice(n,1)),null!=this.__cbOnceDuplicableChange&&-1!=(n=this.__cbOnceDuplicableChange.indexOf(e))&&(this.__cbOnceDuplicableChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindDuplicableChange[n])&&r(),this.__cbOnceOwnerUnbindDuplicableChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindDuplicableChange){for(var t=0,i=this.__cbOnOwnerUnbindDuplicableChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindDuplicableChange[l])&&r()}this.__cbOnOwnerUnbindDuplicableChange=null}if(null!=this.__cbOnceOwnerUnbindDuplicableChange){for(t=0,i=this.__cbOnceOwnerUnbindDuplicableChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindDuplicableChange[l])&&r()}this.__cbOnceOwnerUnbindDuplicableChange=null}this.__cbOnDuplicableChange=null,this.__cbOnceDuplicableChange=null}},listensDuplicableChange:function(){return null!=this.__cbOnDuplicableChange&&0<this.__cbOnDuplicableChange.length||null!=this.__cbOnceDuplicableChange&&0<this.__cbOnceDuplicableChange.length},sortableAutoruns:null,get_sortable:function(){var e,n,t=this.unobservedSortable;return null!=U.current&&(e=U.current,null!=(n=this.sortableAutoruns)||(n=U.getAutorunArray(),null!=(this.sortableAutoruns=n)))&&e.bindToAutorunArray(n),t},set_sortable:function(e){var n=this.unobservedSortable;return n!=(this.unobservedSortable=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitSortableChange(e,n),null!=(n=this.sortableAutoruns))&&(this.sortableAutoruns=null,U.invalidateAutorunArray(n)),e},invalidateSortable:function(){var e=this.unobservedSortable,e=(this.emitSortableChange(e,e),this.sortableAutoruns);null!=e&&(this.sortableAutoruns=null,U.invalidateAutorunArray(e))},unobservedSortable:null,__cbOnSortableChange:null,__cbOnceSortableChange:null,__cbOnOwnerUnbindSortableChange:null,__cbOnceOwnerUnbindSortableChange:null,emitSortableChange:function(e,n){var t=0;if(null!=this.__cbOnSortableChange&&(t+=this.__cbOnSortableChange.length),null!=this.__cbOnceSortableChange&&(t+=this.__cbOnceSortableChange.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnSortableChange)for(var s=0,h=this.__cbOnSortableChange.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnSortableChange[a],++r):--t}if(null!=this.__cbOnceSortableChange){for(var o=null,c=null,s=0,h=this.__cbOnceSortableChange.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceSortableChange[a],this.__cbOnceSortableChange[a]=null,u=this.__cbOnceOwnerUnbindSortableChange[a],(this.__cbOnceOwnerUnbindSortableChange[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindSortableChange[a]),c.push(this.__cbOnceSortableChange[a]))}this.__cbOnceOwnerUnbindSortableChange=o,this.__cbOnceSortableChange=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onSortableChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event sortableChange because owner is destroyed!");var l=function(e){null!=t&&(i.offSortableChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindSortableChange&&(this.__cbOnOwnerUnbindSortableChange=[]),this.__cbOnOwnerUnbindSortableChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindSortableChange&&(this.__cbOnOwnerUnbindSortableChange=[]),this.__cbOnOwnerUnbindSortableChange.push(null);null==this.__cbOnSortableChange&&(this.__cbOnSortableChange=[]),this.__cbOnSortableChange.push(t)},onceSortableChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event sortableChange because owner is destroyed!");var l=function(e){null!=t&&(i.offSortableChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindSortableChange&&(this.__cbOnceOwnerUnbindSortableChange=[]),this.__cbOnceOwnerUnbindSortableChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindSortableChange&&(this.__cbOnceOwnerUnbindSortableChange=[]),this.__cbOnceOwnerUnbindSortableChange.push(null);null==this.__cbOnceSortableChange&&(this.__cbOnceSortableChange=[]),this.__cbOnceSortableChange.push(t)},offSortableChange:function(e){if(null!=e){var n;null!=this.__cbOnSortableChange&&-1!=(n=this.__cbOnSortableChange.indexOf(e))&&(this.__cbOnSortableChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindSortableChange[n])&&r(),this.__cbOnOwnerUnbindSortableChange.splice(n,1)),null!=this.__cbOnceSortableChange&&-1!=(n=this.__cbOnceSortableChange.indexOf(e))&&(this.__cbOnceSortableChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindSortableChange[n])&&r(),this.__cbOnceOwnerUnbindSortableChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindSortableChange){for(var t=0,i=this.__cbOnOwnerUnbindSortableChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindSortableChange[l])&&r()}this.__cbOnOwnerUnbindSortableChange=null}if(null!=this.__cbOnceOwnerUnbindSortableChange){for(t=0,i=this.__cbOnceOwnerUnbindSortableChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindSortableChange[l])&&r()}this.__cbOnceOwnerUnbindSortableChange=null}this.__cbOnSortableChange=null,this.__cbOnceSortableChange=null}},listensSortableChange:function(){return null!=this.__cbOnSortableChange&&0<this.__cbOnSortableChange.length||null!=this.__cbOnceSortableChange&&0<this.__cbOnceSortableChange.length},smallItemsAutoruns:null,get_smallItems:function(){var e,n,t=this.unobservedSmallItems;return null!=U.current&&(e=U.current,null!=(n=this.smallItemsAutoruns)||(n=U.getAutorunArray(),null!=(this.smallItemsAutoruns=n)))&&e.bindToAutorunArray(n),t},set_smallItems:function(e){var n=this.unobservedSmallItems;return n!=(this.unobservedSmallItems=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitSmallItemsChange(e,n),null!=(n=this.smallItemsAutoruns))&&(this.smallItemsAutoruns=null,U.invalidateAutorunArray(n)),e},invalidateSmallItems:function(){var e=this.unobservedSmallItems,e=(this.emitSmallItemsChange(e,e),this.smallItemsAutoruns);null!=e&&(this.smallItemsAutoruns=null,U.invalidateAutorunArray(e))},unobservedSmallItems:null,__cbOnSmallItemsChange:null,__cbOnceSmallItemsChange:null,__cbOnOwnerUnbindSmallItemsChange:null,__cbOnceOwnerUnbindSmallItemsChange:null,emitSmallItemsChange:function(e,n){var t=0;if(null!=this.__cbOnSmallItemsChange&&(t+=this.__cbOnSmallItemsChange.length),null!=this.__cbOnceSmallItemsChange&&(t+=this.__cbOnceSmallItemsChange.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnSmallItemsChange)for(var s=0,h=this.__cbOnSmallItemsChange.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnSmallItemsChange[a],++r):--t}if(null!=this.__cbOnceSmallItemsChange){for(var o=null,c=null,s=0,h=this.__cbOnceSmallItemsChange.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceSmallItemsChange[a],this.__cbOnceSmallItemsChange[a]=null,u=this.__cbOnceOwnerUnbindSmallItemsChange[a],(this.__cbOnceOwnerUnbindSmallItemsChange[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindSmallItemsChange[a]),c.push(this.__cbOnceSmallItemsChange[a]))}this.__cbOnceOwnerUnbindSmallItemsChange=o,this.__cbOnceSmallItemsChange=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onSmallItemsChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event smallItemsChange because owner is destroyed!");var l=function(e){null!=t&&(i.offSmallItemsChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindSmallItemsChange&&(this.__cbOnOwnerUnbindSmallItemsChange=[]),this.__cbOnOwnerUnbindSmallItemsChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindSmallItemsChange&&(this.__cbOnOwnerUnbindSmallItemsChange=[]),this.__cbOnOwnerUnbindSmallItemsChange.push(null);null==this.__cbOnSmallItemsChange&&(this.__cbOnSmallItemsChange=[]),this.__cbOnSmallItemsChange.push(t)},onceSmallItemsChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event smallItemsChange because owner is destroyed!");var l=function(e){null!=t&&(i.offSmallItemsChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindSmallItemsChange&&(this.__cbOnceOwnerUnbindSmallItemsChange=[]),this.__cbOnceOwnerUnbindSmallItemsChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindSmallItemsChange&&(this.__cbOnceOwnerUnbindSmallItemsChange=[]),this.__cbOnceOwnerUnbindSmallItemsChange.push(null);null==this.__cbOnceSmallItemsChange&&(this.__cbOnceSmallItemsChange=[]),this.__cbOnceSmallItemsChange.push(t)},offSmallItemsChange:function(e){if(null!=e){var n;null!=this.__cbOnSmallItemsChange&&-1!=(n=this.__cbOnSmallItemsChange.indexOf(e))&&(this.__cbOnSmallItemsChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindSmallItemsChange[n])&&r(),this.__cbOnOwnerUnbindSmallItemsChange.splice(n,1)),null!=this.__cbOnceSmallItemsChange&&-1!=(n=this.__cbOnceSmallItemsChange.indexOf(e))&&(this.__cbOnceSmallItemsChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindSmallItemsChange[n])&&r(),this.__cbOnceOwnerUnbindSmallItemsChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindSmallItemsChange){for(var t=0,i=this.__cbOnOwnerUnbindSmallItemsChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindSmallItemsChange[l])&&r()}this.__cbOnOwnerUnbindSmallItemsChange=null}if(null!=this.__cbOnceOwnerUnbindSmallItemsChange){for(t=0,i=this.__cbOnceOwnerUnbindSmallItemsChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindSmallItemsChange[l])&&r()}this.__cbOnceOwnerUnbindSmallItemsChange=null}this.__cbOnSmallItemsChange=null,this.__cbOnceSmallItemsChange=null}},listensSmallItemsChange:function(){return null!=this.__cbOnSmallItemsChange&&0<this.__cbOnSmallItemsChange.length||null!=this.__cbOnceSmallItemsChange&&0<this.__cbOnceSmallItemsChange.length},scrollEnabledAutoruns:null,get_scrollEnabled:function(){var e,n,t=this.unobservedScrollEnabled;return null!=U.current&&(e=U.current,null!=(n=this.scrollEnabledAutoruns)||(n=U.getAutorunArray(),null!=(this.scrollEnabledAutoruns=n)))&&e.bindToAutorunArray(n),t},set_scrollEnabled:function(e){var n=this.unobservedScrollEnabled;return n!=(this.unobservedScrollEnabled=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitScrollEnabledChange(e,n),null!=(n=this.scrollEnabledAutoruns))&&(this.scrollEnabledAutoruns=null,U.invalidateAutorunArray(n)),e},invalidateScrollEnabled:function(){var e=this.unobservedScrollEnabled,e=(this.emitScrollEnabledChange(e,e),this.scrollEnabledAutoruns);null!=e&&(this.scrollEnabledAutoruns=null,U.invalidateAutorunArray(e))},unobservedScrollEnabled:null,__cbOnScrollEnabledChange:null,__cbOnceScrollEnabledChange:null,__cbOnOwnerUnbindScrollEnabledChange:null,__cbOnceOwnerUnbindScrollEnabledChange:null,emitScrollEnabledChange:function(e,n){var t=0;if(null!=this.__cbOnScrollEnabledChange&&(t+=this.__cbOnScrollEnabledChange.length),null!=this.__cbOnceScrollEnabledChange&&(t+=this.__cbOnceScrollEnabledChange.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnScrollEnabledChange)for(var s=0,h=this.__cbOnScrollEnabledChange.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnScrollEnabledChange[a],++r):--t}if(null!=this.__cbOnceScrollEnabledChange){for(var o=null,c=null,s=0,h=this.__cbOnceScrollEnabledChange.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceScrollEnabledChange[a],this.__cbOnceScrollEnabledChange[a]=null,u=this.__cbOnceOwnerUnbindScrollEnabledChange[a],(this.__cbOnceOwnerUnbindScrollEnabledChange[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindScrollEnabledChange[a]),c.push(this.__cbOnceScrollEnabledChange[a]))}this.__cbOnceOwnerUnbindScrollEnabledChange=o,this.__cbOnceScrollEnabledChange=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onScrollEnabledChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event scrollEnabledChange because owner is destroyed!");var l=function(e){null!=t&&(i.offScrollEnabledChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindScrollEnabledChange&&(this.__cbOnOwnerUnbindScrollEnabledChange=[]),this.__cbOnOwnerUnbindScrollEnabledChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindScrollEnabledChange&&(this.__cbOnOwnerUnbindScrollEnabledChange=[]),this.__cbOnOwnerUnbindScrollEnabledChange.push(null);null==this.__cbOnScrollEnabledChange&&(this.__cbOnScrollEnabledChange=[]),this.__cbOnScrollEnabledChange.push(t)},onceScrollEnabledChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event scrollEnabledChange because owner is destroyed!");var l=function(e){null!=t&&(i.offScrollEnabledChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindScrollEnabledChange&&(this.__cbOnceOwnerUnbindScrollEnabledChange=[]),this.__cbOnceOwnerUnbindScrollEnabledChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindScrollEnabledChange&&(this.__cbOnceOwnerUnbindScrollEnabledChange=[]),this.__cbOnceOwnerUnbindScrollEnabledChange.push(null);null==this.__cbOnceScrollEnabledChange&&(this.__cbOnceScrollEnabledChange=[]),this.__cbOnceScrollEnabledChange.push(t)},offScrollEnabledChange:function(e){if(null!=e){var n;null!=this.__cbOnScrollEnabledChange&&-1!=(n=this.__cbOnScrollEnabledChange.indexOf(e))&&(this.__cbOnScrollEnabledChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindScrollEnabledChange[n])&&r(),this.__cbOnOwnerUnbindScrollEnabledChange.splice(n,1)),null!=this.__cbOnceScrollEnabledChange&&-1!=(n=this.__cbOnceScrollEnabledChange.indexOf(e))&&(this.__cbOnceScrollEnabledChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindScrollEnabledChange[n])&&r(),this.__cbOnceOwnerUnbindScrollEnabledChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindScrollEnabledChange){for(var t=0,i=this.__cbOnOwnerUnbindScrollEnabledChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindScrollEnabledChange[l])&&r()}this.__cbOnOwnerUnbindScrollEnabledChange=null}if(null!=this.__cbOnceOwnerUnbindScrollEnabledChange){for(t=0,i=this.__cbOnceOwnerUnbindScrollEnabledChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindScrollEnabledChange[l])&&r()}this.__cbOnceOwnerUnbindScrollEnabledChange=null}this.__cbOnScrollEnabledChange=null,this.__cbOnceScrollEnabledChange=null}},listensScrollEnabledChange:function(){return null!=this.__cbOnScrollEnabledChange&&0<this.__cbOnScrollEnabledChange.length||null!=this.__cbOnceScrollEnabledChange&&0<this.__cbOnceScrollEnabledChange.length},windowItem:null,autoCheckLocked:null,updateFromScrollEnabled:function(){var e=this.get_scrollEnabled(),n=(U.unobserve(),this.collectionView.scroller);n.set_scrollEnabled(e),n.scrollbar.set_active(e)},updateFromItems:function(){var e=this;this.get_items(),this.get_smallItems(),this.get_scrollEnabled();U.unobserve(),this.collectionView.reloadData(),this.collectionView.onceLayout(this,function(){e.collectionView.scroller.scrollToBounds()}),this.collectionView.layoutDirty=!0,U.reobserve()},layout:function(){f0.prototype.layout.call(this);var e=this.collectionView,n=this.get_width(),t=this.get_height();e.set_width(n),e.set_height(t)},checkLockedIfNeeded:function(e){this.autoCheckLocked&&this.checkLocked()},didEmitLockItem:function(e){this.checkLocked()},didEmitUnlockItem:function(e){this.checkLocked()},checkLocked:function(){var e=this.get_items();if(null!=e)for(var n=this.collectionView.frames,t=0,i=n.length;t<i;){var l,r=t++,s=n[r].view,h=e[r];null!=h&&null!=s&&0<=s._lifecycleState&&s instanceof bi&&(s=s,l=!1,"string"!=typeof h&&1==K.getProperty(h,"locked")&&(l=!0),s.set_locked(l),l)&&r==this.get_selectedIndex()&&this.set_selectedIndex(-1)}},unbindEvents:function(){f0.prototype.unbindEvents.call(this),this.offObservedDirty(),this.offThemeChange(),this.offItemsChange(),this.offSelectedIndexChange(),this.offTrashableChange(),this.offLockableChange(),this.offDuplicableChange(),this.offSortableChange(),this.offSmallItemsChange(),this.offScrollEnabledChange(),this.offMoveItemAboveItem(),this.offMoveItemBelowItem(),this.offTrashItem(),this.offLockItem(),this.offUnlockItem(),this.offDuplicateItem()},__class__:id,__properties__:$extend(f0.prototype.__properties__,{set_scrollEnabled:"set_scrollEnabled",get_scrollEnabled:"get_scrollEnabled",set_smallItems:"set_smallItems",get_smallItems:"get_smallItems",set_sortable:"set_sortable",get_sortable:"get_sortable",set_duplicable:"set_duplicable",get_duplicable:"get_duplicable",set_lockable:"set_lockable",get_lockable:"get_lockable",set_trashable:"set_trashable",get_trashable:"get_trashable",set_selectedIndex:"set_selectedIndex",get_selectedIndex:"get_selectedIndex",set_items:"set_items",get_items:"get_items",set_theme:"set_theme",get_theme:"get_theme",set_dataSource:"set_dataSource"})}),function(e){this.listView=e}),Ui=((E["elements.ListViewDataSource"]=yi).__name__="elements.ListViewDataSource",yi.__interfaces__=[i0],yi.prototype={listView:null,collectionViewSize:function(e){return null!=this.listView.get_items()?this.listView.get_items().length:0},collectionViewItemFrameAtIndex:function(e,n,t){t.width=e.get_width()-(this.listView.get_scrollEnabled()?12:0),t.height=this.listView.get_smallItems()?id.CELL_HEIGHT_SMALL:id.CELL_HEIGHT_LARGE},collectionViewReleaseItemAtIndex:function(e,n,t){return!0},collectionViewItemAtIndex:function(e,n,t){var i=null;return null!=t?(i=t).set_itemIndex(n):((i=new bi).set_itemIndex(n),i.set_collectionView(e),this.bindCellView(i)),i},bindCellView:function(t){var i=this,n=(t.autorun(function(){var e=i.listView.get_items(),e=null!=e?e[t.get_itemIndex()]:null;null!=e&&("string"==typeof e?(t.set_title(e),t.set_subTitle(null),t.set_locked(!1)):(t.set_title(K.getProperty(e,"title")),t.set_subTitle(i.listView.get_smallItems()?null:K.getProperty(e,"subTitle")),t.set_locked(1==K.getProperty(e,"locked"))),t.set_selected(t.get_itemIndex()==i.listView.get_selectedIndex()))}),t.autorun(function(){var e=i.listView.get_theme();U.unobserve(),t.set_theme(e)}),new b0);t.component("click",n),n.onClick(t,function(){t.get_locked()||(i.listView.get_selectedIndex()!=t.get_itemIndex()?i.listView.set_selectedIndex(t.get_itemIndex()):i.listView.set_selectedIndex(-1))}),t.autorun(function(){var e=i.listView.get_sortable();U.unobserve(),e?t.bindDragDrop(n,function(e){var n;e!=t.get_itemIndex()&&null!=(null!=(n=i.listView.get_items())?n[t.get_itemIndex()]:null)&&null!=(null!=n?n[e]:null)&&(e>t.get_itemIndex()?i.listView.emitMoveItemAboveItem(t.get_itemIndex(),e):i.listView.emitMoveItemBelowItem(t.get_itemIndex(),e))}):t.unbindDragDrop(),U.reobserve()}),t.autorun(function(){var e=i.listView.get_trashable();U.unobserve(),e?t.set_handleTrash(function(){var e=i.listView.get_items();null!=(null!=e?e[t.get_itemIndex()]:null)&&i.listView.emitTrashItem(t.get_itemIndex())}):t.set_handleTrash(null),U.reobserve()}),t.autorun(function(){var e=i.listView.get_lockable();U.unobserve(),e?t.set_handleLock(function(){var e,n=i.listView.get_items(),n=null!=n?n[t.get_itemIndex()]:null;null!=n&&"string"!=typeof n&&(e=1!=n.locked,(n.locked=e)?i.listView.emitLockItem(t.get_itemIndex()):i.listView.emitUnlockItem(t.get_itemIndex()))}):t.set_handleLock(null),U.reobserve()}),t.autorun(function(){var e=i.listView.get_duplicable();U.unobserve(),e?t.set_handleDuplicate(function(){var e=i.listView.get_items();null!=(null!=e?e[t.get_itemIndex()]:null)&&i.listView.emitDuplicateItem(t.get_itemIndex())}):t.set_handleDuplicate(null),U.reobserve()}),t.onDraggingChange(this.listView,$bind(this,this.handleCellDraggingChange)),t.onDestroy(this.listView,$bind(this,this.handleCellDestroy))},handleCellDraggingChange:function(e,n){this.updateItemsBehaviorFromDragging()},handleCellDestroy:function(e){this.updateItemsBehaviorFromDragging()},updateItemsBehaviorFromDragging:function(){for(var e=this.listView.collectionView.frames,n=!1,t=0,i=e.length;t<i;){var l=e[t++].view;if(null!=l&&0<=l._lifecycleState&&l instanceof bi)if(l.get_dragging()){n=!0;break}}this.listView.collectionView.set_itemsBehavior(n?3:1)},__class__:yi},(E["tracker.Serializable"]=kd).__name__="tracker.Serializable",kd.__isInterface__=!0,kd.prototype={_serializeId:null,willSerialize:null,didDeserialize:null,__class__:kd},(E["tracker.Model"]=ld).__name__="tracker.Model",ld.__interfaces__=[kd,s],ld.__super__=j,ld.prototype=$extend(j.prototype,{__cbOnObservedDirty:null,__cbOnceObservedDirty:null,__cbOnOwnerUnbindObservedDirty:null,__cbOnceOwnerUnbindObservedDirty:null,emitObservedDirty:function(e,n){var t=0;if(null!=this.__cbOnObservedDirty&&(t+=this.__cbOnObservedDirty.length),null!=this.__cbOnceObservedDirty&&(t+=this.__cbOnceObservedDirty.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnObservedDirty)for(var s=0,h=this.__cbOnObservedDirty.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnObservedDirty[a],++r):--t}if(null!=this.__cbOnceObservedDirty){for(var o=null,c=null,s=0,h=this.__cbOnceObservedDirty.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceObservedDirty[a],this.__cbOnceObservedDirty[a]=null,u=this.__cbOnceOwnerUnbindObservedDirty[a],(this.__cbOnceOwnerUnbindObservedDirty[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindObservedDirty[a]),c.push(this.__cbOnceObservedDirty[a]))}this.__cbOnceOwnerUnbindObservedDirty=o,this.__cbOnceObservedDirty=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onObservedDirty:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event observedDirty because owner is destroyed!");var l=function(e){null!=t&&(i.offObservedDirty(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push(null);null==this.__cbOnObservedDirty&&(this.__cbOnObservedDirty=[]),this.__cbOnObservedDirty.push(t)},onceObservedDirty:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event observedDirty because owner is destroyed!");var l=function(e){null!=t&&(i.offObservedDirty(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push(null);null==this.__cbOnceObservedDirty&&(this.__cbOnceObservedDirty=[]),this.__cbOnceObservedDirty.push(t)},offObservedDirty:function(e){if(null!=e){var n;null!=this.__cbOnObservedDirty&&-1!=(n=this.__cbOnObservedDirty.indexOf(e))&&(this.__cbOnObservedDirty.splice(n,1),null!=(r=this.__cbOnOwnerUnbindObservedDirty[n])&&r(),this.__cbOnOwnerUnbindObservedDirty.splice(n,1)),null!=this.__cbOnceObservedDirty&&-1!=(n=this.__cbOnceObservedDirty.indexOf(e))&&(this.__cbOnceObservedDirty.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindObservedDirty[n])&&r(),this.__cbOnceOwnerUnbindObservedDirty.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindObservedDirty){for(var t=0,i=this.__cbOnOwnerUnbindObservedDirty.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindObservedDirty[l])&&r()}this.__cbOnOwnerUnbindObservedDirty=null}if(null!=this.__cbOnceOwnerUnbindObservedDirty){for(t=0,i=this.__cbOnceOwnerUnbindObservedDirty.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindObservedDirty[l])&&r()}this.__cbOnceOwnerUnbindObservedDirty=null}this.__cbOnObservedDirty=null,this.__cbOnceObservedDirty=null}},listensObservedDirty:function(){return null!=this.__cbOnObservedDirty&&0<this.__cbOnObservedDirty.length||null!=this.__cbOnceObservedDirty&&0<this.__cbOnceObservedDirty.length},observedDirty:null,__cbOnModelDirty:null,__cbOnceModelDirty:null,__cbOnOwnerUnbindModelDirty:null,__cbOnceOwnerUnbindModelDirty:null,emitModelDirty:function(e){var n=0;if(null!=this.__cbOnModelDirty&&(n+=this.__cbOnModelDirty.length),null!=this.__cbOnceModelDirty&&(n+=this.__cbOnceModelDirty.length),0<n){var t=C.pool(n),i=t.get(),l=0;if(null!=this.__cbOnModelDirty)for(var r=0,s=this.__cbOnModelDirty.length;r<s;){var h=r++;!0?(i.vector[l]=this.__cbOnModelDirty[h],++l):--n}if(null!=this.__cbOnceModelDirty){for(var a=null,o=null,r=0,s=this.__cbOnceModelDirty.length;r<s;){var c,h=r++;!0?(i.vector[l]=this.__cbOnceModelDirty[h],this.__cbOnceModelDirty[h]=null,c=this.__cbOnceOwnerUnbindModelDirty[h],(this.__cbOnceOwnerUnbindModelDirty[h]=null)!=c&&c(),++l):(--n,null==a&&(a=[],o=[],0),a.push(this.__cbOnceOwnerUnbindModelDirty[h]),o.push(this.__cbOnceModelDirty[h]))}this.__cbOnceOwnerUnbindModelDirty=a,this.__cbOnceModelDirty=o}for(r=0,s=n;r<s;){l=r++;(0,i.vector[l])(e)}t.release(i)}},onModelDirty:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event modelDirty because owner is destroyed!");var l=function(e){null!=t&&(i.offModelDirty(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindModelDirty&&(this.__cbOnOwnerUnbindModelDirty=[]),this.__cbOnOwnerUnbindModelDirty.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindModelDirty&&(this.__cbOnOwnerUnbindModelDirty=[]),this.__cbOnOwnerUnbindModelDirty.push(null);null==this.__cbOnModelDirty&&(this.__cbOnModelDirty=[]),this.__cbOnModelDirty.push(t)},onceModelDirty:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event modelDirty because owner is destroyed!");var l=function(e){null!=t&&(i.offModelDirty(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindModelDirty&&(this.__cbOnceOwnerUnbindModelDirty=[]),this.__cbOnceOwnerUnbindModelDirty.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindModelDirty&&(this.__cbOnceOwnerUnbindModelDirty=[]),this.__cbOnceOwnerUnbindModelDirty.push(null);null==this.__cbOnceModelDirty&&(this.__cbOnceModelDirty=[]),this.__cbOnceModelDirty.push(t)},offModelDirty:function(e){if(null!=e){var n;null!=this.__cbOnModelDirty&&-1!=(n=this.__cbOnModelDirty.indexOf(e))&&(this.__cbOnModelDirty.splice(n,1),null!=(r=this.__cbOnOwnerUnbindModelDirty[n])&&r(),this.__cbOnOwnerUnbindModelDirty.splice(n,1)),null!=this.__cbOnceModelDirty&&-1!=(n=this.__cbOnceModelDirty.indexOf(e))&&(this.__cbOnceModelDirty.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindModelDirty[n])&&r(),this.__cbOnceOwnerUnbindModelDirty.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindModelDirty){for(var t=0,i=this.__cbOnOwnerUnbindModelDirty.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindModelDirty[l])&&r()}this.__cbOnOwnerUnbindModelDirty=null}if(null!=this.__cbOnceOwnerUnbindModelDirty){for(t=0,i=this.__cbOnceOwnerUnbindModelDirty.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindModelDirty[l])&&r()}this.__cbOnceOwnerUnbindModelDirty=null}this.__cbOnModelDirty=null,this.__cbOnceModelDirty=null}},listensModelDirty:function(){return null!=this.__cbOnModelDirty&&0<this.__cbOnModelDirty.length||null!=this.__cbOnceModelDirty&&0<this.__cbOnceModelDirty.length},serializer:null,set_serializer:function(e){return this.serializer==e?this.serializer:(null!=this.serializer&&this.serializer.destroy(),this.serializer=e,null!=this.serializer?(this.component("serializer",this.serializer,!0),this.serializer):(this.removeComponent("serializer"),null))},sharer:null,set_sharer:function(e){return this.sharer==e?this.sharer:(null!=this.sharer&&this.sharer.destroy(),this.sharer=e,null!=this.sharer?(this.component("sharer",this.sharer,!0),this.sharer):(this.removeComponent("sharer"),null))},dirty:null,set_dirty:function(e){return e!=this.dirty&&(this.dirty=e)&&this.emitModelDirty(this),e},willSerialize:function(){},didDeserialize:function(){},serializeShouldDestroy:function(){return!0},hxSerialize:function(e){e.serialize(_e.serializeValue(this))},hxUnserialize:function(e){_e.deserializeValue(e.unserialize(),this)},_default_dirty:function(){return!1},_serializeId:null,__cbOnSerialize:null,__cbOnceSerialize:null,__cbOnOwnerUnbindSerialize:null,__cbOnceOwnerUnbindSerialize:null,emitSerialize:function(){var e=0;if(null!=this.__cbOnSerialize&&(e+=this.__cbOnSerialize.length),null!=this.__cbOnceSerialize&&(e+=this.__cbOnceSerialize.length),0<e){var n=C.pool(e),t=n.get(),i=0;if(null!=this.__cbOnSerialize)for(var l=0,r=this.__cbOnSerialize.length;l<r;){var s=l++;!0?(t.vector[i]=this.__cbOnSerialize[s],++i):--e}if(null!=this.__cbOnceSerialize){for(var h=null,a=null,l=0,r=this.__cbOnceSerialize.length;l<r;){var o,s=l++;!0?(t.vector[i]=this.__cbOnceSerialize[s],this.__cbOnceSerialize[s]=null,o=this.__cbOnceOwnerUnbindSerialize[s],(this.__cbOnceOwnerUnbindSerialize[s]=null)!=o&&o(),++i):(--e,null==h&&(h=[],a=[],0),h.push(this.__cbOnceOwnerUnbindSerialize[s]),a.push(this.__cbOnceSerialize[s]))}this.__cbOnceOwnerUnbindSerialize=h,this.__cbOnceSerialize=a}for(l=0,r=e;l<r;){i=l++;(0,t.vector[i])()}n.release(t)}},onSerialize:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event serialize because owner is destroyed!");var l=function(e){null!=t&&(i.offSerialize(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindSerialize&&(this.__cbOnOwnerUnbindSerialize=[]),this.__cbOnOwnerUnbindSerialize.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindSerialize&&(this.__cbOnOwnerUnbindSerialize=[]),this.__cbOnOwnerUnbindSerialize.push(null);null==this.__cbOnSerialize&&(this.__cbOnSerialize=[]),this.__cbOnSerialize.push(t)},onceSerialize:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event serialize because owner is destroyed!");var l=function(e){null!=t&&(i.offSerialize(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindSerialize&&(this.__cbOnceOwnerUnbindSerialize=[]),this.__cbOnceOwnerUnbindSerialize.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindSerialize&&(this.__cbOnceOwnerUnbindSerialize=[]),this.__cbOnceOwnerUnbindSerialize.push(null);null==this.__cbOnceSerialize&&(this.__cbOnceSerialize=[]),this.__cbOnceSerialize.push(t)},offSerialize:function(e){if(null!=e){var n;null!=this.__cbOnSerialize&&-1!=(n=this.__cbOnSerialize.indexOf(e))&&(this.__cbOnSerialize.splice(n,1),null!=(r=this.__cbOnOwnerUnbindSerialize[n])&&r(),this.__cbOnOwnerUnbindSerialize.splice(n,1)),null!=this.__cbOnceSerialize&&-1!=(n=this.__cbOnceSerialize.indexOf(e))&&(this.__cbOnceSerialize.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindSerialize[n])&&r(),this.__cbOnceOwnerUnbindSerialize.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindSerialize){for(var t=0,i=this.__cbOnOwnerUnbindSerialize.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindSerialize[l])&&r()}this.__cbOnOwnerUnbindSerialize=null}if(null!=this.__cbOnceOwnerUnbindSerialize){for(t=0,i=this.__cbOnceOwnerUnbindSerialize.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindSerialize[l])&&r()}this.__cbOnceOwnerUnbindSerialize=null}this.__cbOnSerialize=null,this.__cbOnceSerialize=null}},listensSerialize:function(){return null!=this.__cbOnSerialize&&0<this.__cbOnSerialize.length||null!=this.__cbOnceSerialize&&0<this.__cbOnceSerialize.length},unbindEvents:function(){j.prototype.unbindEvents.call(this),this.offSerialize(),this.offDeserialize(),this.offObservedDirty(),this.offModelDirty()},__cbOnDeserialize:null,__cbOnceDeserialize:null,__cbOnOwnerUnbindDeserialize:null,__cbOnceOwnerUnbindDeserialize:null,emitDeserialize:function(){var e=0;if(null!=this.__cbOnDeserialize&&(e+=this.__cbOnDeserialize.length),null!=this.__cbOnceDeserialize&&(e+=this.__cbOnceDeserialize.length),0<e){var n=C.pool(e),t=n.get(),i=0;if(null!=this.__cbOnDeserialize)for(var l=0,r=this.__cbOnDeserialize.length;l<r;){var s=l++;!0?(t.vector[i]=this.__cbOnDeserialize[s],++i):--e}if(null!=this.__cbOnceDeserialize){for(var h=null,a=null,l=0,r=this.__cbOnceDeserialize.length;l<r;){var o,s=l++;!0?(t.vector[i]=this.__cbOnceDeserialize[s],this.__cbOnceDeserialize[s]=null,o=this.__cbOnceOwnerUnbindDeserialize[s],(this.__cbOnceOwnerUnbindDeserialize[s]=null)!=o&&o(),++i):(--e,null==h&&(h=[],a=[],0),h.push(this.__cbOnceOwnerUnbindDeserialize[s]),a.push(this.__cbOnceDeserialize[s]))}this.__cbOnceOwnerUnbindDeserialize=h,this.__cbOnceDeserialize=a}for(l=0,r=e;l<r;){i=l++;(0,t.vector[i])()}n.release(t)}},onDeserialize:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event deserialize because owner is destroyed!");var l=function(e){null!=t&&(i.offDeserialize(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindDeserialize&&(this.__cbOnOwnerUnbindDeserialize=[]),this.__cbOnOwnerUnbindDeserialize.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindDeserialize&&(this.__cbOnOwnerUnbindDeserialize=[]),this.__cbOnOwnerUnbindDeserialize.push(null);null==this.__cbOnDeserialize&&(this.__cbOnDeserialize=[]),this.__cbOnDeserialize.push(t)},onceDeserialize:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event deserialize because owner is destroyed!");var l=function(e){null!=t&&(i.offDeserialize(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindDeserialize&&(this.__cbOnceOwnerUnbindDeserialize=[]),this.__cbOnceOwnerUnbindDeserialize.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindDeserialize&&(this.__cbOnceOwnerUnbindDeserialize=[]),this.__cbOnceOwnerUnbindDeserialize.push(null);null==this.__cbOnceDeserialize&&(this.__cbOnceDeserialize=[]),this.__cbOnceDeserialize.push(t)},offDeserialize:function(e){if(null!=e){var n;null!=this.__cbOnDeserialize&&-1!=(n=this.__cbOnDeserialize.indexOf(e))&&(this.__cbOnDeserialize.splice(n,1),null!=(r=this.__cbOnOwnerUnbindDeserialize[n])&&r(),this.__cbOnOwnerUnbindDeserialize.splice(n,1)),null!=this.__cbOnceDeserialize&&-1!=(n=this.__cbOnceDeserialize.indexOf(e))&&(this.__cbOnceDeserialize.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindDeserialize[n])&&r(),this.__cbOnceOwnerUnbindDeserialize.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindDeserialize){for(var t=0,i=this.__cbOnOwnerUnbindDeserialize.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindDeserialize[l])&&r()}this.__cbOnOwnerUnbindDeserialize=null}if(null!=this.__cbOnceOwnerUnbindDeserialize){for(t=0,i=this.__cbOnceOwnerUnbindDeserialize.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindDeserialize[l])&&r()}this.__cbOnceOwnerUnbindDeserialize=null}this.__cbOnDeserialize=null,this.__cbOnceDeserialize=null}},listensDeserialize:function(){return null!=this.__cbOnDeserialize&&0<this.__cbOnDeserialize.length||null!=this.__cbOnceDeserialize&&0<this.__cbOnceDeserialize.length},__class__:ld,__properties__:$extend(j.prototype.__properties__,{set_dirty:"set_dirty",set_sharer:"set_sharer",set_serializer:"set_serializer"})}),function(e,n,t,i,l,r,s,h,a,o,c,u){null==o&&(o=-1),null==a&&(a=-1),null==h&&(h=!1),null==i&&(i=!1),this.canceled=!1,this.chosenIndex=-1;var _=this;ld.call(this),this.key=e,this.title=n,this.message=t,i&&(null==l&&(this._promptValue="",l=function(e,n){return null!=e||n?_._promptValue=e:_._promptValue}),this.promptPointer=l,this.promptPlaceholder=r),this.choices=s,this.async=c,this.callback=u,this.cancelable=h,this.width=a,this.height=o}),Di=((E["elements.PendingDialog"]=Ui).__name__="elements.PendingDialog",Ui.__super__=ld,Ui.prototype=$extend(ld.prototype,{chosenIndex:null,canceled:null,promptPointer:null,promptPlaceholder:null,key:null,title:null,message:null,choices:null,cancelable:null,width:null,height:null,async:null,callback:null,_promptValue:null,destroy:function(){this._lifecycleState<=-2||(this._lifecycleState=-2,this.title=null,this.message=null,this.choices=null,this.callback=null,this._lifecycleState=-1,ld.prototype.destroy.call(this))},_default_chosenIndex:function(){return-1},_default_canceled:function(){return!1},__class__:Ui}),(E["elements.TextUtils"]=od).__name__="elements.TextUtils",od.toFieldLabel=function(e){for(var n="",t=0,i=e.length;t<i;){var l=t++,r=e.charAt(l);0==l?n+=X.string(r.toUpperCase()):r.toUpperCase()==r?n=n+" "+(null==r?"null":""+r):n+=null==r?"null":""+r}return n},od.compareStrings=function(e,n){return(e=e.toUpperCase())<(n=n.toUpperCase())?-1:n<e?1:0},od.compareStringFirstEntries=function(e,n){e=e[0],n=n[0];return(e=e.toUpperCase())<(n=n.toUpperCase())?-1:n<e?1:0},od.upperCaseToCamelCase=function(e,n,t){for(var i="",l=e.length,r=0,s=n=null==n?!0:n;r<l;){var h=e.charAt(r);"_"==h?s=!0:s?(s=!1,0<r&&null!=t&&(i+=null==t?"null":""+t),i+=X.string(h.toUpperCase())):i+=X.string(h.toLowerCase()),++r}return i},od.getPrefix=function(e){for(od.RE_PREFIXED.match(e)&&(e=od.RE_PREFIXED.matched(1));0<e.length&&"_"==e.charAt(e.length-1);)e=e.substring(0,e.length-1);return e},od.uppercasePrefixFromClass=function(e){for(var e=e.split("."),n=e[e.length-1],n=Pt.camelCaseToUpperCase(n);0<n.length&&"_"==n.charAt(n.length-1);)n=n.substring(0,n.length-1);return n},od.slugifyUpperCase=function(e){return e=e.replace(od.RE_SPACES.r,"_"),e=st.encode(e,od._slugUpperCase)},od.sanitizeToIdentifier=function(e){return e=(e=e.replace(od.RE_NUMERIC_PREFIX.r,"")).replace(od.RE_SPACES.r,"_"),e=st.encode(e,new k1(!1,null,"_"))},function(){}),Ti=((E["elements.SanitizeTextField"]=Di).__name__="elements.SanitizeTextField",Di.setTextValueToInt=function(e,n,t,i){var l=z.trim(n);""!=l&&"-"!=l?null!=(n=X.parseInt(n))&&!isNaN(n)&&isFinite(n)&&(e.setValue(e,n=i<(n=n<t?t:n)?i:n),e.set_textValue(""+n)):e.set_textValue(l),e.invalidateTextValue()},Di.setEmptyToInt=function(e,n,t){var i=0;return e.set_textValue(""+(i=t<(i=i<n?n:i)?t:i)),i},Di.setTextValueToFloat=function(e,n,t,i,l,r){var s,h,a,o=z.trim(n);""!=o&&"-"!=o?(a=(a=(s="-"==(h=(n=z.replace(n,",",".")).charAt(0))||"+"==h)?n.substring(1):n).replace(Di.RE_NON_DIGIT_OR_DOT.r,"0"),s=n=s?h+a:a,h=null,-1!=(a=n.indexOf("."))&&(s=n.substring(0,a),h="."+z.replace(n.substring(a+1),".","0")),null!=(a=parseFloat(n))&&!isNaN(a)&&isFinite(a)&&(i<(a=a<t?t:a)&&(a=i),1==l?a=Math.round(a):1<l&&(a=Math.round(a*l)/l),e.setValue(e,a),r?e.set_textValue(""+a):e.set_textValue(s+(null!=h?h:"")))):e.set_textValue(o),e.invalidateTextValue()},Di.setEmptyToFloat=function(e,n,t,i){var l=0;return t<(l=l<n?n:l)&&(l=t),1==i?l=Math.round(l):1<i&&(l=Math.round(l*i)/i),e.set_textValue(""+l),l},Di.setTextValueToEmptyFloat=function(e){e.set_textValue("0"),e.invalidateTextValue()},Di.applyFloatOrIntOperationsIfNeeded=function(e,n,t,i,l,r){var s,h,a,o=n.indexOf("+"),c=n.indexOf("-"),u=n.indexOf("*"),_=n.indexOf("/");return 0<o?(s=z.trim(se.substr(n,0,o)),h=z.trim(se.substr(n,o+1,null)),a=parseFloat(s)+parseFloat(h),isNaN(a)?l?Di.setTextValueToInt(e,s,0|t,0|i):Di.setTextValueToFloat(e,s,t,i,r,!0):l?Di.setTextValueToInt(e,""+a,0|t,0|i):Di.setTextValueToFloat(e,""+a,t,i,r,!0),!0):0<c?(s=z.trim(se.substr(n,0,c)),h=z.trim(se.substr(n,c+1,null)),a=parseFloat(s)-parseFloat(h),isNaN(a)?l?Di.setTextValueToInt(e,s,0|t,0|i):Di.setTextValueToFloat(e,s,t,i,r,!0):l?Di.setTextValueToInt(e,""+a,0|t,0|i):Di.setTextValueToFloat(e,""+a,t,i,r,!0),!0):0<u?(s=z.trim(se.substr(n,0,u)),h=z.trim(se.substr(n,u+1,null)),a=parseFloat(s)*parseFloat(h),isNaN(a)?l?Di.setTextValueToInt(e,s,0|t,0|i):Di.setTextValueToFloat(e,s,t,i,r,!0):l?Di.setTextValueToInt(e,""+a,0|t,0|i):Di.setTextValueToFloat(e,""+a,t,i,r,!0),!0):0<_&&(s=z.trim(se.substr(n,0,_)),h=z.trim(se.substr(n,_+1,null)),a=parseFloat(s)/parseFloat(h),isNaN(a)?l?Di.setTextValueToInt(e,s,0|t,0|i):Di.setTextValueToFloat(e,s,t,i,r,!0):l?Di.setTextValueToInt(e,""+a,0|t,0|i):Di.setTextValueToFloat(e,""+a,t,i,r,!0),!0)},function(){this.insetBottom=1,this.insetTop=1,this.insetRight=1,this.insetLeft=1,this.unobservedPressed=!1,this.pressedAutoruns=null,this.unobservedHover=!1,this.hoverAutoruns=null,this.unobservedTheme=null,this.themeAutoruns=null,this.observedDirty=!1;var n=this,e=(o.call(this),this.quad=new p,this.quad),t=this.insetTop;e.set_x(this.insetLeft),e.set_y(t),this.add(this.quad),this.onPointerDown(this,function(e){n.set_pressed(!0)}),this.onPointerUp(this,function(e){n.set_pressed(!1)}),this.onPointerOver(this,function(e){n.set_hover(!0)}),this.onPointerOut(this,function(e){n.set_hover(!1)}),this.autorun($bind(this,this.updateStyle)),this.set_width(12),this.set_height(12)}),xi=((E["elements.Scrollbar"]=Ti).__name__="elements.Scrollbar",Ti.__interfaces__=[s],Ti.__super__=o,Ti.prototype=$extend(o.prototype,{__cbOnObservedDirty:null,__cbOnceObservedDirty:null,__cbOnOwnerUnbindObservedDirty:null,__cbOnceOwnerUnbindObservedDirty:null,emitObservedDirty:function(e,n){var t=0;if(null!=this.__cbOnObservedDirty&&(t+=this.__cbOnObservedDirty.length),null!=this.__cbOnceObservedDirty&&(t+=this.__cbOnceObservedDirty.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnObservedDirty)for(var s=0,h=this.__cbOnObservedDirty.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnObservedDirty[a],++r):--t}if(null!=this.__cbOnceObservedDirty){for(var o=null,c=null,s=0,h=this.__cbOnceObservedDirty.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceObservedDirty[a],this.__cbOnceObservedDirty[a]=null,u=this.__cbOnceOwnerUnbindObservedDirty[a],(this.__cbOnceOwnerUnbindObservedDirty[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindObservedDirty[a]),c.push(this.__cbOnceObservedDirty[a]))}this.__cbOnceOwnerUnbindObservedDirty=o,this.__cbOnceObservedDirty=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onObservedDirty:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event observedDirty because owner is destroyed!");var l=function(e){null!=t&&(i.offObservedDirty(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push(null);null==this.__cbOnObservedDirty&&(this.__cbOnObservedDirty=[]),this.__cbOnObservedDirty.push(t)},onceObservedDirty:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event observedDirty because owner is destroyed!");var l=function(e){null!=t&&(i.offObservedDirty(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push(null);null==this.__cbOnceObservedDirty&&(this.__cbOnceObservedDirty=[]),this.__cbOnceObservedDirty.push(t)},offObservedDirty:function(e){if(null!=e){var n;null!=this.__cbOnObservedDirty&&-1!=(n=this.__cbOnObservedDirty.indexOf(e))&&(this.__cbOnObservedDirty.splice(n,1),null!=(r=this.__cbOnOwnerUnbindObservedDirty[n])&&r(),this.__cbOnOwnerUnbindObservedDirty.splice(n,1)),null!=this.__cbOnceObservedDirty&&-1!=(n=this.__cbOnceObservedDirty.indexOf(e))&&(this.__cbOnceObservedDirty.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindObservedDirty[n])&&r(),this.__cbOnceOwnerUnbindObservedDirty.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindObservedDirty){for(var t=0,i=this.__cbOnOwnerUnbindObservedDirty.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindObservedDirty[l])&&r()}this.__cbOnOwnerUnbindObservedDirty=null}if(null!=this.__cbOnceOwnerUnbindObservedDirty){for(t=0,i=this.__cbOnceOwnerUnbindObservedDirty.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindObservedDirty[l])&&r()}this.__cbOnceOwnerUnbindObservedDirty=null}this.__cbOnObservedDirty=null,this.__cbOnceObservedDirty=null}},listensObservedDirty:function(){return null!=this.__cbOnObservedDirty&&0<this.__cbOnObservedDirty.length||null!=this.__cbOnceObservedDirty&&0<this.__cbOnceObservedDirty.length},observedDirty:null,themeAutoruns:null,get_theme:function(){var e,n,t=this.unobservedTheme;return null!=U.current&&(e=U.current,null!=(n=this.themeAutoruns)||(n=U.getAutorunArray(),null!=(this.themeAutoruns=n)))&&e.bindToAutorunArray(n),t},set_theme:function(e){var n=this.unobservedTheme;return n!=(this.unobservedTheme=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitThemeChange(e,n),null!=(n=this.themeAutoruns))&&(this.themeAutoruns=null,U.invalidateAutorunArray(n)),e},invalidateTheme:function(){var e=this.unobservedTheme,e=(this.emitThemeChange(e,e),this.themeAutoruns);null!=e&&(this.themeAutoruns=null,U.invalidateAutorunArray(e))},unobservedTheme:null,__cbOnThemeChange:null,__cbOnceThemeChange:null,__cbOnOwnerUnbindThemeChange:null,__cbOnceOwnerUnbindThemeChange:null,emitThemeChange:function(e,n){var t=0;if(null!=this.__cbOnThemeChange&&(t+=this.__cbOnThemeChange.length),null!=this.__cbOnceThemeChange&&(t+=this.__cbOnceThemeChange.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnThemeChange)for(var s=0,h=this.__cbOnThemeChange.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnThemeChange[a],++r):--t}if(null!=this.__cbOnceThemeChange){for(var o=null,c=null,s=0,h=this.__cbOnceThemeChange.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceThemeChange[a],this.__cbOnceThemeChange[a]=null,u=this.__cbOnceOwnerUnbindThemeChange[a],(this.__cbOnceOwnerUnbindThemeChange[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindThemeChange[a]),c.push(this.__cbOnceThemeChange[a]))}this.__cbOnceOwnerUnbindThemeChange=o,this.__cbOnceThemeChange=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onThemeChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event themeChange because owner is destroyed!");var l=function(e){null!=t&&(i.offThemeChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindThemeChange&&(this.__cbOnOwnerUnbindThemeChange=[]),this.__cbOnOwnerUnbindThemeChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindThemeChange&&(this.__cbOnOwnerUnbindThemeChange=[]),this.__cbOnOwnerUnbindThemeChange.push(null);null==this.__cbOnThemeChange&&(this.__cbOnThemeChange=[]),this.__cbOnThemeChange.push(t)},onceThemeChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event themeChange because owner is destroyed!");var l=function(e){null!=t&&(i.offThemeChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindThemeChange&&(this.__cbOnceOwnerUnbindThemeChange=[]),this.__cbOnceOwnerUnbindThemeChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindThemeChange&&(this.__cbOnceOwnerUnbindThemeChange=[]),this.__cbOnceOwnerUnbindThemeChange.push(null);null==this.__cbOnceThemeChange&&(this.__cbOnceThemeChange=[]),this.__cbOnceThemeChange.push(t)},offThemeChange:function(e){if(null!=e){var n;null!=this.__cbOnThemeChange&&-1!=(n=this.__cbOnThemeChange.indexOf(e))&&(this.__cbOnThemeChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindThemeChange[n])&&r(),this.__cbOnOwnerUnbindThemeChange.splice(n,1)),null!=this.__cbOnceThemeChange&&-1!=(n=this.__cbOnceThemeChange.indexOf(e))&&(this.__cbOnceThemeChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindThemeChange[n])&&r(),this.__cbOnceOwnerUnbindThemeChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindThemeChange){for(var t=0,i=this.__cbOnOwnerUnbindThemeChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindThemeChange[l])&&r()}this.__cbOnOwnerUnbindThemeChange=null}if(null!=this.__cbOnceOwnerUnbindThemeChange){for(t=0,i=this.__cbOnceOwnerUnbindThemeChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindThemeChange[l])&&r()}this.__cbOnceOwnerUnbindThemeChange=null}this.__cbOnThemeChange=null,this.__cbOnceThemeChange=null}},listensThemeChange:function(){return null!=this.__cbOnThemeChange&&0<this.__cbOnThemeChange.length||null!=this.__cbOnceThemeChange&&0<this.__cbOnceThemeChange.length},hoverAutoruns:null,get_hover:function(){var e,n,t=this.unobservedHover;return null!=U.current&&(e=U.current,null!=(n=this.hoverAutoruns)||(n=U.getAutorunArray(),null!=(this.hoverAutoruns=n)))&&e.bindToAutorunArray(n),t},set_hover:function(e){var n=this.unobservedHover;return n!=(this.unobservedHover=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitHoverChange(e,n),null!=(n=this.hoverAutoruns))&&(this.hoverAutoruns=null,U.invalidateAutorunArray(n)),e},invalidateHover:function(){var e=this.unobservedHover,e=(this.emitHoverChange(e,e),this.hoverAutoruns);null!=e&&(this.hoverAutoruns=null,U.invalidateAutorunArray(e))},unobservedHover:null,__cbOnHoverChange:null,__cbOnceHoverChange:null,__cbOnOwnerUnbindHoverChange:null,__cbOnceOwnerUnbindHoverChange:null,emitHoverChange:function(e,n){var t=0;if(null!=this.__cbOnHoverChange&&(t+=this.__cbOnHoverChange.length),null!=this.__cbOnceHoverChange&&(t+=this.__cbOnceHoverChange.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnHoverChange)for(var s=0,h=this.__cbOnHoverChange.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnHoverChange[a],++r):--t}if(null!=this.__cbOnceHoverChange){for(var o=null,c=null,s=0,h=this.__cbOnceHoverChange.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceHoverChange[a],this.__cbOnceHoverChange[a]=null,u=this.__cbOnceOwnerUnbindHoverChange[a],(this.__cbOnceOwnerUnbindHoverChange[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindHoverChange[a]),c.push(this.__cbOnceHoverChange[a]))}this.__cbOnceOwnerUnbindHoverChange=o,this.__cbOnceHoverChange=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onHoverChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event hoverChange because owner is destroyed!");var l=function(e){null!=t&&(i.offHoverChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindHoverChange&&(this.__cbOnOwnerUnbindHoverChange=[]),this.__cbOnOwnerUnbindHoverChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindHoverChange&&(this.__cbOnOwnerUnbindHoverChange=[]),this.__cbOnOwnerUnbindHoverChange.push(null);null==this.__cbOnHoverChange&&(this.__cbOnHoverChange=[]),this.__cbOnHoverChange.push(t)},onceHoverChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event hoverChange because owner is destroyed!");var l=function(e){null!=t&&(i.offHoverChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindHoverChange&&(this.__cbOnceOwnerUnbindHoverChange=[]),this.__cbOnceOwnerUnbindHoverChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindHoverChange&&(this.__cbOnceOwnerUnbindHoverChange=[]),this.__cbOnceOwnerUnbindHoverChange.push(null);null==this.__cbOnceHoverChange&&(this.__cbOnceHoverChange=[]),this.__cbOnceHoverChange.push(t)},offHoverChange:function(e){if(null!=e){var n;null!=this.__cbOnHoverChange&&-1!=(n=this.__cbOnHoverChange.indexOf(e))&&(this.__cbOnHoverChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindHoverChange[n])&&r(),this.__cbOnOwnerUnbindHoverChange.splice(n,1)),null!=this.__cbOnceHoverChange&&-1!=(n=this.__cbOnceHoverChange.indexOf(e))&&(this.__cbOnceHoverChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindHoverChange[n])&&r(),this.__cbOnceOwnerUnbindHoverChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindHoverChange){for(var t=0,i=this.__cbOnOwnerUnbindHoverChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindHoverChange[l])&&r()}this.__cbOnOwnerUnbindHoverChange=null}if(null!=this.__cbOnceOwnerUnbindHoverChange){for(t=0,i=this.__cbOnceOwnerUnbindHoverChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindHoverChange[l])&&r()}this.__cbOnceOwnerUnbindHoverChange=null}this.__cbOnHoverChange=null,this.__cbOnceHoverChange=null}},listensHoverChange:function(){return null!=this.__cbOnHoverChange&&0<this.__cbOnHoverChange.length||null!=this.__cbOnceHoverChange&&0<this.__cbOnceHoverChange.length},pressedAutoruns:null,get_pressed:function(){var e,n,t=this.unobservedPressed;return null!=U.current&&(e=U.current,null!=(n=this.pressedAutoruns)||(n=U.getAutorunArray(),null!=(this.pressedAutoruns=n)))&&e.bindToAutorunArray(n),t},set_pressed:function(e){var n=this.unobservedPressed;return n!=(this.unobservedPressed=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitPressedChange(e,n),null!=(n=this.pressedAutoruns))&&(this.pressedAutoruns=null,U.invalidateAutorunArray(n)),e},invalidatePressed:function(){var e=this.unobservedPressed,e=(this.emitPressedChange(e,e),this.pressedAutoruns);null!=e&&(this.pressedAutoruns=null,U.invalidateAutorunArray(e))},unobservedPressed:null,__cbOnPressedChange:null,__cbOncePressedChange:null,__cbOnOwnerUnbindPressedChange:null,__cbOnceOwnerUnbindPressedChange:null,emitPressedChange:function(e,n){var t=0;if(null!=this.__cbOnPressedChange&&(t+=this.__cbOnPressedChange.length),null!=this.__cbOncePressedChange&&(t+=this.__cbOncePressedChange.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnPressedChange)for(var s=0,h=this.__cbOnPressedChange.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnPressedChange[a],++r):--t}if(null!=this.__cbOncePressedChange){for(var o=null,c=null,s=0,h=this.__cbOncePressedChange.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOncePressedChange[a],this.__cbOncePressedChange[a]=null,u=this.__cbOnceOwnerUnbindPressedChange[a],(this.__cbOnceOwnerUnbindPressedChange[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindPressedChange[a]),c.push(this.__cbOncePressedChange[a]))}this.__cbOnceOwnerUnbindPressedChange=o,this.__cbOncePressedChange=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onPressedChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event pressedChange because owner is destroyed!");var l=function(e){null!=t&&(i.offPressedChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindPressedChange&&(this.__cbOnOwnerUnbindPressedChange=[]),this.__cbOnOwnerUnbindPressedChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindPressedChange&&(this.__cbOnOwnerUnbindPressedChange=[]),this.__cbOnOwnerUnbindPressedChange.push(null);null==this.__cbOnPressedChange&&(this.__cbOnPressedChange=[]),this.__cbOnPressedChange.push(t)},oncePressedChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event pressedChange because owner is destroyed!");var l=function(e){null!=t&&(i.offPressedChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindPressedChange&&(this.__cbOnceOwnerUnbindPressedChange=[]),this.__cbOnceOwnerUnbindPressedChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindPressedChange&&(this.__cbOnceOwnerUnbindPressedChange=[]),this.__cbOnceOwnerUnbindPressedChange.push(null);null==this.__cbOncePressedChange&&(this.__cbOncePressedChange=[]),this.__cbOncePressedChange.push(t)},offPressedChange:function(e){if(null!=e){var n;null!=this.__cbOnPressedChange&&-1!=(n=this.__cbOnPressedChange.indexOf(e))&&(this.__cbOnPressedChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindPressedChange[n])&&r(),this.__cbOnOwnerUnbindPressedChange.splice(n,1)),null!=this.__cbOncePressedChange&&-1!=(n=this.__cbOncePressedChange.indexOf(e))&&(this.__cbOncePressedChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindPressedChange[n])&&r(),this.__cbOnceOwnerUnbindPressedChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindPressedChange){for(var t=0,i=this.__cbOnOwnerUnbindPressedChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindPressedChange[l])&&r()}this.__cbOnOwnerUnbindPressedChange=null}if(null!=this.__cbOnceOwnerUnbindPressedChange){for(t=0,i=this.__cbOnceOwnerUnbindPressedChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindPressedChange[l])&&r()}this.__cbOnceOwnerUnbindPressedChange=null}this.__cbOnPressedChange=null,this.__cbOncePressedChange=null}},listensPressedChange:function(){return null!=this.__cbOnPressedChange&&0<this.__cbOnPressedChange.length||null!=this.__cbOncePressedChange&&0<this.__cbOncePressedChange.length},insetLeft:null,insetRight:null,insetTop:null,insetBottom:null,quad:null,set_width:function(e){return o.prototype.set_width.call(this,e),this.quad.set_width(e-this.insetLeft-this.insetRight),e},set_height:function(e){return o.prototype.set_height.call(this,e),this.quad.set_height(e-this.insetTop-this.insetBottom),e},inset:function(e,n,t,i){this.insetTop=e,this.insetRight=n,this.insetBottom=t,this.insetLeft=i,this.quad.set_width(this.get_width()-i-n),this.quad.set_height(this.get_height()-e-t)},updateStyle:function(){var e,n,t,i,l,r,s=this.get_theme();null==s&&(s=te.get_context().get_theme()),this.get_pressed()?(e=s.get_lightBackgroundColor(),i=(((n=s.get_darkTextColor())>>16&255)-(e>>16&255))*(t=null==(t=.5)?.5:t)+(e>>16&255)|0,this.quad.color=((0&65535|(255<i?255:i<0?0:i)<<16)&16711935|(255<(l=((n>>8&255)-(e>>8&255))*t+(e>>8&255)|0)?255:l<0?0:l)<<8)&16776960|(255<(r=((255&n)-(255&e))*t+(255&e)|0)?255:r<0?0:r)):this.get_hover()?(e=s.get_lightBackgroundColor(),i=(((n=s.get_darkTextColor())>>16&255)-(e>>16&255))*(t=null==(t=.25)?.5:t)+(e>>16&255)|0,this.quad.color=((0&65535|(255<i?255:i<0?0:i)<<16)&16711935|(255<(l=((n>>8&255)-(e>>8&255))*t+(e>>8&255)|0)?255:l<0?0:l)<<8)&16776960|(255<(r=((255&n)-(255&e))*t+(255&e)|0)?255:r<0?0:r)):this.quad.color=s.get_lightBackgroundColor()},unbindEvents:function(){o.prototype.unbindEvents.call(this),this.offObservedDirty(),this.offThemeChange(),this.offHoverChange(),this.offPressedChange()},__class__:Ti,__properties__:$extend(o.prototype.__properties__,{set_pressed:"set_pressed",get_pressed:"get_pressed",set_hover:"set_hover",get_hover:"get_hover",set_theme:"set_theme",get_theme:"get_theme"})}),function(e,n){null==n&&(n=!1),this.checkChildrenOfView=null,this.unobservedTheme=null,this.themeAutoruns=null,this.observedDirty=!1,g0.call(this),this.filter=new on,this.filter.set_density(ee.app.screenDensity),this.add(this.filter),this.layoutView=e,this.contentView.add(e),this.set_viewWidth(-60002),this.set_viewHeight(-60002),this.flags|=16;e=this.contentView;e.flags|=16,this.scroller.allowPointerOutside=!1,this.scroller.bounceMinDuration=0,this.scroller.bounceDurationFactor=0,this.filter.content.add(this.scroller),n&&(1!=(e=this.contentView).borderTopSize&&(e.borderTopSize=1,e.updateBorder()),e=this.contentView,n=Ve.OUTSIDE,e.borderPosition!=n&&(e.borderPosition=n,0<e.borderSize||0<e.borderTopSize||0<e.borderBottomSize||0<e.borderLeftSize||0<e.borderRightSize)&&e.updateBorder(),1!=this.borderBottomSize&&(this.borderBottomSize=1,this.updateBorder()),n=Ve.INSIDE,this.borderPosition!=n)&&(this.borderPosition=n,0<this.borderSize||0<this.borderTopSize||0<this.borderBottomSize||0<this.borderLeftSize||0<this.borderRightSize)&&this.updateBorder(),this.scroller.dragEnabled=!1,this.autorun($bind(this,this.updateStyle)),he.app.onPostUpdate(this,$bind(this,this.handlePostUpdate))}),Si=((E["elements.ScrollingLayout"]=xi).__name__="elements.ScrollingLayout",xi.__interfaces__=[s],xi.__super__=g0,xi.prototype=$extend(g0.prototype,{__cbOnObservedDirty:null,__cbOnceObservedDirty:null,__cbOnOwnerUnbindObservedDirty:null,__cbOnceOwnerUnbindObservedDirty:null,emitObservedDirty:function(e,n){var t=0;if(null!=this.__cbOnObservedDirty&&(t+=this.__cbOnObservedDirty.length),null!=this.__cbOnceObservedDirty&&(t+=this.__cbOnceObservedDirty.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnObservedDirty)for(var s=0,h=this.__cbOnObservedDirty.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnObservedDirty[a],++r):--t}if(null!=this.__cbOnceObservedDirty){for(var o=null,c=null,s=0,h=this.__cbOnceObservedDirty.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceObservedDirty[a],this.__cbOnceObservedDirty[a]=null,u=this.__cbOnceOwnerUnbindObservedDirty[a],(this.__cbOnceOwnerUnbindObservedDirty[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindObservedDirty[a]),c.push(this.__cbOnceObservedDirty[a]))}this.__cbOnceOwnerUnbindObservedDirty=o,this.__cbOnceObservedDirty=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onObservedDirty:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event observedDirty because owner is destroyed!");var l=function(e){null!=t&&(i.offObservedDirty(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push(null);null==this.__cbOnObservedDirty&&(this.__cbOnObservedDirty=[]),this.__cbOnObservedDirty.push(t)},onceObservedDirty:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event observedDirty because owner is destroyed!");var l=function(e){null!=t&&(i.offObservedDirty(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push(null);null==this.__cbOnceObservedDirty&&(this.__cbOnceObservedDirty=[]),this.__cbOnceObservedDirty.push(t)},offObservedDirty:function(e){if(null!=e){var n;null!=this.__cbOnObservedDirty&&-1!=(n=this.__cbOnObservedDirty.indexOf(e))&&(this.__cbOnObservedDirty.splice(n,1),null!=(r=this.__cbOnOwnerUnbindObservedDirty[n])&&r(),this.__cbOnOwnerUnbindObservedDirty.splice(n,1)),null!=this.__cbOnceObservedDirty&&-1!=(n=this.__cbOnceObservedDirty.indexOf(e))&&(this.__cbOnceObservedDirty.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindObservedDirty[n])&&r(),this.__cbOnceOwnerUnbindObservedDirty.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindObservedDirty){for(var t=0,i=this.__cbOnOwnerUnbindObservedDirty.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindObservedDirty[l])&&r()}this.__cbOnOwnerUnbindObservedDirty=null}if(null!=this.__cbOnceOwnerUnbindObservedDirty){for(t=0,i=this.__cbOnceOwnerUnbindObservedDirty.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindObservedDirty[l])&&r()}this.__cbOnceOwnerUnbindObservedDirty=null}this.__cbOnObservedDirty=null,this.__cbOnceObservedDirty=null}},listensObservedDirty:function(){return null!=this.__cbOnObservedDirty&&0<this.__cbOnObservedDirty.length||null!=this.__cbOnceObservedDirty&&0<this.__cbOnceObservedDirty.length},observedDirty:null,themeAutoruns:null,get_theme:function(){var e,n,t=this.unobservedTheme;return null!=U.current&&(e=U.current,null!=(n=this.themeAutoruns)||(n=U.getAutorunArray(),null!=(this.themeAutoruns=n)))&&e.bindToAutorunArray(n),t},set_theme:function(e){var n=this.unobservedTheme;return n!=(this.unobservedTheme=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitThemeChange(e,n),null!=(n=this.themeAutoruns))&&(this.themeAutoruns=null,U.invalidateAutorunArray(n)),e},invalidateTheme:function(){var e=this.unobservedTheme,e=(this.emitThemeChange(e,e),this.themeAutoruns);null!=e&&(this.themeAutoruns=null,U.invalidateAutorunArray(e))},unobservedTheme:null,__cbOnThemeChange:null,__cbOnceThemeChange:null,__cbOnOwnerUnbindThemeChange:null,__cbOnceOwnerUnbindThemeChange:null,emitThemeChange:function(e,n){var t=0;if(null!=this.__cbOnThemeChange&&(t+=this.__cbOnThemeChange.length),null!=this.__cbOnceThemeChange&&(t+=this.__cbOnceThemeChange.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnThemeChange)for(var s=0,h=this.__cbOnThemeChange.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnThemeChange[a],++r):--t}if(null!=this.__cbOnceThemeChange){for(var o=null,c=null,s=0,h=this.__cbOnceThemeChange.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceThemeChange[a],this.__cbOnceThemeChange[a]=null,u=this.__cbOnceOwnerUnbindThemeChange[a],(this.__cbOnceOwnerUnbindThemeChange[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindThemeChange[a]),c.push(this.__cbOnceThemeChange[a]))}this.__cbOnceOwnerUnbindThemeChange=o,this.__cbOnceThemeChange=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onThemeChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event themeChange because owner is destroyed!");var l=function(e){null!=t&&(i.offThemeChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindThemeChange&&(this.__cbOnOwnerUnbindThemeChange=[]),this.__cbOnOwnerUnbindThemeChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindThemeChange&&(this.__cbOnOwnerUnbindThemeChange=[]),this.__cbOnOwnerUnbindThemeChange.push(null);null==this.__cbOnThemeChange&&(this.__cbOnThemeChange=[]),this.__cbOnThemeChange.push(t)},onceThemeChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event themeChange because owner is destroyed!");var l=function(e){null!=t&&(i.offThemeChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindThemeChange&&(this.__cbOnceOwnerUnbindThemeChange=[]),this.__cbOnceOwnerUnbindThemeChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindThemeChange&&(this.__cbOnceOwnerUnbindThemeChange=[]),this.__cbOnceOwnerUnbindThemeChange.push(null);null==this.__cbOnceThemeChange&&(this.__cbOnceThemeChange=[]),this.__cbOnceThemeChange.push(t)},offThemeChange:function(e){if(null!=e){var n;null!=this.__cbOnThemeChange&&-1!=(n=this.__cbOnThemeChange.indexOf(e))&&(this.__cbOnThemeChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindThemeChange[n])&&r(),this.__cbOnOwnerUnbindThemeChange.splice(n,1)),null!=this.__cbOnceThemeChange&&-1!=(n=this.__cbOnceThemeChange.indexOf(e))&&(this.__cbOnceThemeChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindThemeChange[n])&&r(),this.__cbOnceOwnerUnbindThemeChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindThemeChange){for(var t=0,i=this.__cbOnOwnerUnbindThemeChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindThemeChange[l])&&r()}this.__cbOnOwnerUnbindThemeChange=null}if(null!=this.__cbOnceOwnerUnbindThemeChange){for(t=0,i=this.__cbOnceOwnerUnbindThemeChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindThemeChange[l])&&r()}this.__cbOnceOwnerUnbindThemeChange=null}this.__cbOnThemeChange=null,this.__cbOnceThemeChange=null}},listensThemeChange:function(){return null!=this.__cbOnThemeChange&&0<this.__cbOnThemeChange.length||null!=this.__cbOnceThemeChange&&0<this.__cbOnceThemeChange.length},layoutView:null,checkChildrenOfView:null,filter:null,layout:function(){(e=this.filter).set_x(0),e.set_y(0);var e=this.filter,n=this.get_width(),t=this.get_height();e.set_width(n),e.set_height(t);(e=this.scroller).set_x(0),e.set_y(0);var i,e=this.scroller,n=this.get_width(),t=this.get_height(),l=(e.set_width(n),e.set_height(t),this.layoutView),e=(this.scroller.direction==Jn.VERTICAL?(l.computeSize(this.get_width(),this.get_height(),4,!0),n=l.computedSize.computedWidth,t=Math.max(l.computedSize.computedHeight,this.get_height()),l.set_width(n),l.set_height(t),l.computedSize.computedHeight- -this.scroller.scrollTransform.ty<this.get_height()&&(e=this.scroller,i=l.computedSize.computedHeight-this.get_height(),e.scrollTransform.ty!=-i)&&(e.scrollTransform.ty=-i,e.scrollTransform.changedDirty=!0)):(l.computeSize(this.get_width(),this.get_height(),1,!0),n=Math.max(l.computedSize.computedWidth,this.get_width()),t=l.computedSize.computedHeight,l.set_width(n),l.set_height(t),l.computedSize.computedWidth- -this.scroller.scrollTransform.tx<this.get_width()&&(e=this.scroller,i=l.computedSize.computedWidth-this.get_width(),e.scrollTransform.tx!=-i)&&(e.scrollTransform.tx=-i,e.scrollTransform.changedDirty=!0)),this.contentView),n=l.get_width(),t=l.get_height();e.set_width(n),e.set_height(t),this.scroller.scrollToBounds()},handlePostUpdate:function(e){if(this.filter.set_density(ee.app.screenDensity),null!=this.checkChildrenOfView)if(this.checkChildrenOfView._lifecycleState<0)this.checkChildrenOfView=null;else{var n=this.checkChildrenOfView.subviews;if(null!=n)for(var t=0,i=n.length;t<i;){var l,r=n[t++];1!=(1&r.flags)&&((l=r.y)+r.get_height()<-this.scroller.scrollTransform.ty||l>this.get_height()+-this.scroller.scrollTransform.ty?r.set_visible(!1):r.set_visible(!0))}}},updateStyle:function(){var e=this.get_theme(),e=(e=null==e?te.get_context().get_theme():e).get_windowBorderAlpha();this.borderAlpha!=e&&(this.borderAlpha=e,null!=this.border)&&this.border.set_alpha(e)},unbindEvents:function(){g0.prototype.unbindEvents.call(this),this.offObservedDirty(),this.offThemeChange()},__class__:xi,__properties__:$extend(g0.prototype.__properties__,{set_theme:"set_theme",get_theme:"get_theme"})}),(E["elements.SelectFieldView"]=sd).__name__="elements.SelectFieldView",sd.__super__=z2,sd.prototype=$extend(z2.prototype,{themeAutoruns:null,get_theme:function(){var e,n,t=this.unobservedTheme;return null!=U.current&&(e=U.current,null!=(n=this.themeAutoruns)||(n=U.getAutorunArray(),null!=(this.themeAutoruns=n)))&&e.bindToAutorunArray(n),t},set_theme:function(e){var n=this.unobservedTheme;return n!=(this.unobservedTheme=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitThemeChange(e,n),null!=(n=this.themeAutoruns))&&(this.themeAutoruns=null,U.invalidateAutorunArray(n)),e},invalidateTheme:function(){var e=this.unobservedTheme,e=(this.emitThemeChange(e,e),this.themeAutoruns);null!=e&&(this.themeAutoruns=null,U.invalidateAutorunArray(e))},unobservedTheme:null,__cbOnThemeChange:null,__cbOnceThemeChange:null,__cbOnOwnerUnbindThemeChange:null,__cbOnceOwnerUnbindThemeChange:null,emitThemeChange:function(e,n){var t=0;if(null!=this.__cbOnThemeChange&&(t+=this.__cbOnThemeChange.length),null!=this.__cbOnceThemeChange&&(t+=this.__cbOnceThemeChange.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnThemeChange)for(var s=0,h=this.__cbOnThemeChange.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnThemeChange[a],++r):--t}if(null!=this.__cbOnceThemeChange){for(var o=null,c=null,s=0,h=this.__cbOnceThemeChange.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceThemeChange[a],this.__cbOnceThemeChange[a]=null,u=this.__cbOnceOwnerUnbindThemeChange[a],(this.__cbOnceOwnerUnbindThemeChange[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindThemeChange[a]),c.push(this.__cbOnceThemeChange[a]))}this.__cbOnceOwnerUnbindThemeChange=o,this.__cbOnceThemeChange=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onThemeChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event themeChange because owner is destroyed!");var l=function(e){null!=t&&(i.offThemeChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindThemeChange&&(this.__cbOnOwnerUnbindThemeChange=[]),this.__cbOnOwnerUnbindThemeChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindThemeChange&&(this.__cbOnOwnerUnbindThemeChange=[]),this.__cbOnOwnerUnbindThemeChange.push(null);null==this.__cbOnThemeChange&&(this.__cbOnThemeChange=[]),this.__cbOnThemeChange.push(t)},onceThemeChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event themeChange because owner is destroyed!");var l=function(e){null!=t&&(i.offThemeChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindThemeChange&&(this.__cbOnceOwnerUnbindThemeChange=[]),this.__cbOnceOwnerUnbindThemeChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindThemeChange&&(this.__cbOnceOwnerUnbindThemeChange=[]),this.__cbOnceOwnerUnbindThemeChange.push(null);null==this.__cbOnceThemeChange&&(this.__cbOnceThemeChange=[]),this.__cbOnceThemeChange.push(t)},offThemeChange:function(e){if(null!=e){var n;null!=this.__cbOnThemeChange&&-1!=(n=this.__cbOnThemeChange.indexOf(e))&&(this.__cbOnThemeChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindThemeChange[n])&&r(),this.__cbOnOwnerUnbindThemeChange.splice(n,1)),null!=this.__cbOnceThemeChange&&-1!=(n=this.__cbOnceThemeChange.indexOf(e))&&(this.__cbOnceThemeChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindThemeChange[n])&&r(),this.__cbOnceOwnerUnbindThemeChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindThemeChange){for(var t=0,i=this.__cbOnOwnerUnbindThemeChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindThemeChange[l])&&r()}this.__cbOnOwnerUnbindThemeChange=null}if(null!=this.__cbOnceOwnerUnbindThemeChange){for(t=0,i=this.__cbOnceOwnerUnbindThemeChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindThemeChange[l])&&r()}this.__cbOnceOwnerUnbindThemeChange=null}this.__cbOnThemeChange=null,this.__cbOnceThemeChange=null}},listensThemeChange:function(){return null!=this.__cbOnThemeChange&&0<this.__cbOnThemeChange.length||null!=this.__cbOnceThemeChange&&0<this.__cbOnceThemeChange.length},setValue:function(e,n){},valueAutoruns:null,get_value:function(){var e,n,t=this.unobservedValue;return null!=U.current&&(e=U.current,null!=(n=this.valueAutoruns)||(n=U.getAutorunArray(),null!=(this.valueAutoruns=n)))&&e.bindToAutorunArray(n),t},set_value:function(e){var n=this.unobservedValue;return n!=(this.unobservedValue=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitValueChange(e,n),null!=(n=this.valueAutoruns))&&(this.valueAutoruns=null,U.invalidateAutorunArray(n)),e},invalidateValue:function(){var e=this.unobservedValue,e=(this.emitValueChange(e,e),this.valueAutoruns);null!=e&&(this.valueAutoruns=null,U.invalidateAutorunArray(e))},unobservedValue:null,__cbOnValueChange:null,__cbOnceValueChange:null,__cbOnOwnerUnbindValueChange:null,__cbOnceOwnerUnbindValueChange:null,emitValueChange:function(e,n){var t=0;if(null!=this.__cbOnValueChange&&(t+=this.__cbOnValueChange.length),null!=this.__cbOnceValueChange&&(t+=this.__cbOnceValueChange.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnValueChange)for(var s=0,h=this.__cbOnValueChange.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnValueChange[a],++r):--t}if(null!=this.__cbOnceValueChange){for(var o=null,c=null,s=0,h=this.__cbOnceValueChange.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceValueChange[a],this.__cbOnceValueChange[a]=null,u=this.__cbOnceOwnerUnbindValueChange[a],(this.__cbOnceOwnerUnbindValueChange[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindValueChange[a]),c.push(this.__cbOnceValueChange[a]))}this.__cbOnceOwnerUnbindValueChange=o,this.__cbOnceValueChange=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onValueChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event valueChange because owner is destroyed!");var l=function(e){null!=t&&(i.offValueChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindValueChange&&(this.__cbOnOwnerUnbindValueChange=[]),this.__cbOnOwnerUnbindValueChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindValueChange&&(this.__cbOnOwnerUnbindValueChange=[]),this.__cbOnOwnerUnbindValueChange.push(null);null==this.__cbOnValueChange&&(this.__cbOnValueChange=[]),this.__cbOnValueChange.push(t)},onceValueChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event valueChange because owner is destroyed!");var l=function(e){null!=t&&(i.offValueChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindValueChange&&(this.__cbOnceOwnerUnbindValueChange=[]),this.__cbOnceOwnerUnbindValueChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindValueChange&&(this.__cbOnceOwnerUnbindValueChange=[]),this.__cbOnceOwnerUnbindValueChange.push(null);null==this.__cbOnceValueChange&&(this.__cbOnceValueChange=[]),this.__cbOnceValueChange.push(t)},offValueChange:function(e){if(null!=e){var n;null!=this.__cbOnValueChange&&-1!=(n=this.__cbOnValueChange.indexOf(e))&&(this.__cbOnValueChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindValueChange[n])&&r(),this.__cbOnOwnerUnbindValueChange.splice(n,1)),null!=this.__cbOnceValueChange&&-1!=(n=this.__cbOnceValueChange.indexOf(e))&&(this.__cbOnceValueChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindValueChange[n])&&r(),this.__cbOnceOwnerUnbindValueChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindValueChange){for(var t=0,i=this.__cbOnOwnerUnbindValueChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindValueChange[l])&&r()}this.__cbOnOwnerUnbindValueChange=null}if(null!=this.__cbOnceOwnerUnbindValueChange){for(t=0,i=this.__cbOnceOwnerUnbindValueChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindValueChange[l])&&r()}this.__cbOnceOwnerUnbindValueChange=null}this.__cbOnValueChange=null,this.__cbOnceValueChange=null}},listensValueChange:function(){return null!=this.__cbOnValueChange&&0<this.__cbOnValueChange.length||null!=this.__cbOnceValueChange&&0<this.__cbOnceValueChange.length},listAutoruns:null,get_list:function(){var e,n,t=this.unobservedList;return null!=U.current&&(e=U.current,null!=(n=this.listAutoruns)||(n=U.getAutorunArray(),null!=(this.listAutoruns=n)))&&e.bindToAutorunArray(n),t},set_list:function(e){var n=this.unobservedList;return this.unobservedList=e,Bl.equalAny(n,e)||(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitListChange(e,n),null!=(n=this.listAutoruns)&&(this.listAutoruns=null,U.invalidateAutorunArray(n))),e},invalidateList:function(){var e=this.unobservedList,e=(this.emitListChange(e,e),this.listAutoruns);null!=e&&(this.listAutoruns=null,U.invalidateAutorunArray(e))},unobservedList:null,__cbOnListChange:null,__cbOnceListChange:null,__cbOnOwnerUnbindListChange:null,__cbOnceOwnerUnbindListChange:null,emitListChange:function(e,n){var t=0;if(null!=this.__cbOnListChange&&(t+=this.__cbOnListChange.length),null!=this.__cbOnceListChange&&(t+=this.__cbOnceListChange.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnListChange)for(var s=0,h=this.__cbOnListChange.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnListChange[a],++r):--t}if(null!=this.__cbOnceListChange){for(var o=null,c=null,s=0,h=this.__cbOnceListChange.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceListChange[a],this.__cbOnceListChange[a]=null,u=this.__cbOnceOwnerUnbindListChange[a],(this.__cbOnceOwnerUnbindListChange[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindListChange[a]),c.push(this.__cbOnceListChange[a]))}this.__cbOnceOwnerUnbindListChange=o,this.__cbOnceListChange=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onListChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event listChange because owner is destroyed!");var l=function(e){null!=t&&(i.offListChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindListChange&&(this.__cbOnOwnerUnbindListChange=[]),this.__cbOnOwnerUnbindListChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindListChange&&(this.__cbOnOwnerUnbindListChange=[]),this.__cbOnOwnerUnbindListChange.push(null);null==this.__cbOnListChange&&(this.__cbOnListChange=[]),this.__cbOnListChange.push(t)},onceListChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event listChange because owner is destroyed!");var l=function(e){null!=t&&(i.offListChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindListChange&&(this.__cbOnceOwnerUnbindListChange=[]),this.__cbOnceOwnerUnbindListChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindListChange&&(this.__cbOnceOwnerUnbindListChange=[]),this.__cbOnceOwnerUnbindListChange.push(null);null==this.__cbOnceListChange&&(this.__cbOnceListChange=[]),this.__cbOnceListChange.push(t)},offListChange:function(e){if(null!=e){var n;null!=this.__cbOnListChange&&-1!=(n=this.__cbOnListChange.indexOf(e))&&(this.__cbOnListChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindListChange[n])&&r(),this.__cbOnOwnerUnbindListChange.splice(n,1)),null!=this.__cbOnceListChange&&-1!=(n=this.__cbOnceListChange.indexOf(e))&&(this.__cbOnceListChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindListChange[n])&&r(),this.__cbOnceOwnerUnbindListChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindListChange){for(var t=0,i=this.__cbOnOwnerUnbindListChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindListChange[l])&&r()}this.__cbOnOwnerUnbindListChange=null}if(null!=this.__cbOnceOwnerUnbindListChange){for(t=0,i=this.__cbOnceOwnerUnbindListChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindListChange[l])&&r()}this.__cbOnceOwnerUnbindListChange=null}this.__cbOnListChange=null,this.__cbOnceListChange=null}},listensListChange:function(){return null!=this.__cbOnListChange&&0<this.__cbOnListChange.length||null!=this.__cbOnceListChange&&0<this.__cbOnceListChange.length},nullValueTextAutoruns:null,get_nullValueText:function(){var e,n,t=this.unobservedNullValueText;return null!=U.current&&(e=U.current,null!=(n=this.nullValueTextAutoruns)||(n=U.getAutorunArray(),null!=(this.nullValueTextAutoruns=n)))&&e.bindToAutorunArray(n),t},set_nullValueText:function(e){var n=this.unobservedNullValueText;return n!=(this.unobservedNullValueText=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitNullValueTextChange(e,n),null!=(n=this.nullValueTextAutoruns))&&(this.nullValueTextAutoruns=null,U.invalidateAutorunArray(n)),e},invalidateNullValueText:function(){var e=this.unobservedNullValueText,e=(this.emitNullValueTextChange(e,e),this.nullValueTextAutoruns);null!=e&&(this.nullValueTextAutoruns=null,U.invalidateAutorunArray(e))},unobservedNullValueText:null,__cbOnNullValueTextChange:null,__cbOnceNullValueTextChange:null,__cbOnOwnerUnbindNullValueTextChange:null,__cbOnceOwnerUnbindNullValueTextChange:null,emitNullValueTextChange:function(e,n){var t=0;if(null!=this.__cbOnNullValueTextChange&&(t+=this.__cbOnNullValueTextChange.length),null!=this.__cbOnceNullValueTextChange&&(t+=this.__cbOnceNullValueTextChange.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnNullValueTextChange)for(var s=0,h=this.__cbOnNullValueTextChange.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnNullValueTextChange[a],++r):--t}if(null!=this.__cbOnceNullValueTextChange){for(var o=null,c=null,s=0,h=this.__cbOnceNullValueTextChange.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceNullValueTextChange[a],this.__cbOnceNullValueTextChange[a]=null,u=this.__cbOnceOwnerUnbindNullValueTextChange[a],(this.__cbOnceOwnerUnbindNullValueTextChange[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindNullValueTextChange[a]),c.push(this.__cbOnceNullValueTextChange[a]))}this.__cbOnceOwnerUnbindNullValueTextChange=o,this.__cbOnceNullValueTextChange=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onNullValueTextChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event nullValueTextChange because owner is destroyed!");var l=function(e){null!=t&&(i.offNullValueTextChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindNullValueTextChange&&(this.__cbOnOwnerUnbindNullValueTextChange=[]),this.__cbOnOwnerUnbindNullValueTextChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindNullValueTextChange&&(this.__cbOnOwnerUnbindNullValueTextChange=[]),this.__cbOnOwnerUnbindNullValueTextChange.push(null);null==this.__cbOnNullValueTextChange&&(this.__cbOnNullValueTextChange=[]),this.__cbOnNullValueTextChange.push(t)},onceNullValueTextChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event nullValueTextChange because owner is destroyed!");var l=function(e){null!=t&&(i.offNullValueTextChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindNullValueTextChange&&(this.__cbOnceOwnerUnbindNullValueTextChange=[]),this.__cbOnceOwnerUnbindNullValueTextChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindNullValueTextChange&&(this.__cbOnceOwnerUnbindNullValueTextChange=[]),this.__cbOnceOwnerUnbindNullValueTextChange.push(null);null==this.__cbOnceNullValueTextChange&&(this.__cbOnceNullValueTextChange=[]),this.__cbOnceNullValueTextChange.push(t)},offNullValueTextChange:function(e){if(null!=e){var n;null!=this.__cbOnNullValueTextChange&&-1!=(n=this.__cbOnNullValueTextChange.indexOf(e))&&(this.__cbOnNullValueTextChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindNullValueTextChange[n])&&r(),this.__cbOnOwnerUnbindNullValueTextChange.splice(n,1)),null!=this.__cbOnceNullValueTextChange&&-1!=(n=this.__cbOnceNullValueTextChange.indexOf(e))&&(this.__cbOnceNullValueTextChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindNullValueTextChange[n])&&r(),this.__cbOnceOwnerUnbindNullValueTextChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindNullValueTextChange){for(var t=0,i=this.__cbOnOwnerUnbindNullValueTextChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindNullValueTextChange[l])&&r()}this.__cbOnOwnerUnbindNullValueTextChange=null}if(null!=this.__cbOnceOwnerUnbindNullValueTextChange){for(t=0,i=this.__cbOnceOwnerUnbindNullValueTextChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindNullValueTextChange[l])&&r()}this.__cbOnceOwnerUnbindNullValueTextChange=null}this.__cbOnNullValueTextChange=null,this.__cbOnceNullValueTextChange=null}},listensNullValueTextChange:function(){return null!=this.__cbOnNullValueTextChange&&0<this.__cbOnNullValueTextChange.length||null!=this.__cbOnceNullValueTextChange&&0<this.__cbOnceNullValueTextChange.length},inputStyleAutoruns:null,get_inputStyle:function(){var e,n,t=this.unobservedInputStyle;return null!=U.current&&(e=U.current,null!=(n=this.inputStyleAutoruns)||(n=U.getAutorunArray(),null!=(this.inputStyleAutoruns=n)))&&e.bindToAutorunArray(n),t},set_inputStyle:function(e){var n=this.unobservedInputStyle;return n!=(this.unobservedInputStyle=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitInputStyleChange(e,n),null!=(n=this.inputStyleAutoruns))&&(this.inputStyleAutoruns=null,U.invalidateAutorunArray(n)),e},invalidateInputStyle:function(){var e=this.unobservedInputStyle,e=(this.emitInputStyleChange(e,e),this.inputStyleAutoruns);null!=e&&(this.inputStyleAutoruns=null,U.invalidateAutorunArray(e))},unobservedInputStyle:null,__cbOnInputStyleChange:null,__cbOnceInputStyleChange:null,__cbOnOwnerUnbindInputStyleChange:null,__cbOnceOwnerUnbindInputStyleChange:null,emitInputStyleChange:function(e,n){var t=0;if(null!=this.__cbOnInputStyleChange&&(t+=this.__cbOnInputStyleChange.length),null!=this.__cbOnceInputStyleChange&&(t+=this.__cbOnceInputStyleChange.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnInputStyleChange)for(var s=0,h=this.__cbOnInputStyleChange.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnInputStyleChange[a],++r):--t}if(null!=this.__cbOnceInputStyleChange){for(var o=null,c=null,s=0,h=this.__cbOnceInputStyleChange.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceInputStyleChange[a],this.__cbOnceInputStyleChange[a]=null,u=this.__cbOnceOwnerUnbindInputStyleChange[a],(this.__cbOnceOwnerUnbindInputStyleChange[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindInputStyleChange[a]),c.push(this.__cbOnceInputStyleChange[a]))}this.__cbOnceOwnerUnbindInputStyleChange=o,this.__cbOnceInputStyleChange=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onInputStyleChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event inputStyleChange because owner is destroyed!");var l=function(e){null!=t&&(i.offInputStyleChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindInputStyleChange&&(this.__cbOnOwnerUnbindInputStyleChange=[]),this.__cbOnOwnerUnbindInputStyleChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindInputStyleChange&&(this.__cbOnOwnerUnbindInputStyleChange=[]),this.__cbOnOwnerUnbindInputStyleChange.push(null);null==this.__cbOnInputStyleChange&&(this.__cbOnInputStyleChange=[]),this.__cbOnInputStyleChange.push(t)},onceInputStyleChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event inputStyleChange because owner is destroyed!");var l=function(e){null!=t&&(i.offInputStyleChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindInputStyleChange&&(this.__cbOnceOwnerUnbindInputStyleChange=[]),this.__cbOnceOwnerUnbindInputStyleChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindInputStyleChange&&(this.__cbOnceOwnerUnbindInputStyleChange=[]),this.__cbOnceOwnerUnbindInputStyleChange.push(null);null==this.__cbOnceInputStyleChange&&(this.__cbOnceInputStyleChange=[]),this.__cbOnceInputStyleChange.push(t)},offInputStyleChange:function(e){if(null!=e){var n;null!=this.__cbOnInputStyleChange&&-1!=(n=this.__cbOnInputStyleChange.indexOf(e))&&(this.__cbOnInputStyleChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindInputStyleChange[n])&&r(),this.__cbOnOwnerUnbindInputStyleChange.splice(n,1)),null!=this.__cbOnceInputStyleChange&&-1!=(n=this.__cbOnceInputStyleChange.indexOf(e))&&(this.__cbOnceInputStyleChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindInputStyleChange[n])&&r(),this.__cbOnceOwnerUnbindInputStyleChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindInputStyleChange){for(var t=0,i=this.__cbOnOwnerUnbindInputStyleChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindInputStyleChange[l])&&r()}this.__cbOnOwnerUnbindInputStyleChange=null}if(null!=this.__cbOnceOwnerUnbindInputStyleChange){for(t=0,i=this.__cbOnceOwnerUnbindInputStyleChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindInputStyleChange[l])&&r()}this.__cbOnceOwnerUnbindInputStyleChange=null}this.__cbOnInputStyleChange=null,this.__cbOnceInputStyleChange=null}},listensInputStyleChange:function(){return null!=this.__cbOnInputStyleChange&&0<this.__cbOnInputStyleChange.length||null!=this.__cbOnceInputStyleChange&&0<this.__cbOnceInputStyleChange.length},clipList:null,listVisibleAutoruns:null,get_listVisible:function(){var e,n,t=this.unobservedListVisible;return null!=U.current&&(e=U.current,null!=(n=this.listVisibleAutoruns)||(n=U.getAutorunArray(),null!=(this.listVisibleAutoruns=n)))&&e.bindToAutorunArray(n),t},set_listVisible:function(e){var n=this.unobservedListVisible;return n!=(this.unobservedListVisible=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitListVisibleChange(e,n),null!=(n=this.listVisibleAutoruns))&&(this.listVisibleAutoruns=null,U.invalidateAutorunArray(n)),e},invalidateListVisible:function(){var e=this.unobservedListVisible,e=(this.emitListVisibleChange(e,e),this.listVisibleAutoruns);null!=e&&(this.listVisibleAutoruns=null,U.invalidateAutorunArray(e))},unobservedListVisible:null,__cbOnListVisibleChange:null,__cbOnceListVisibleChange:null,__cbOnOwnerUnbindListVisibleChange:null,__cbOnceOwnerUnbindListVisibleChange:null,emitListVisibleChange:function(e,n){var t=0;if(null!=this.__cbOnListVisibleChange&&(t+=this.__cbOnListVisibleChange.length),null!=this.__cbOnceListVisibleChange&&(t+=this.__cbOnceListVisibleChange.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnListVisibleChange)for(var s=0,h=this.__cbOnListVisibleChange.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnListVisibleChange[a],++r):--t}if(null!=this.__cbOnceListVisibleChange){for(var o=null,c=null,s=0,h=this.__cbOnceListVisibleChange.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceListVisibleChange[a],this.__cbOnceListVisibleChange[a]=null,u=this.__cbOnceOwnerUnbindListVisibleChange[a],(this.__cbOnceOwnerUnbindListVisibleChange[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindListVisibleChange[a]),c.push(this.__cbOnceListVisibleChange[a]))}this.__cbOnceOwnerUnbindListVisibleChange=o,this.__cbOnceListVisibleChange=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onListVisibleChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event listVisibleChange because owner is destroyed!");var l=function(e){null!=t&&(i.offListVisibleChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindListVisibleChange&&(this.__cbOnOwnerUnbindListVisibleChange=[]),this.__cbOnOwnerUnbindListVisibleChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindListVisibleChange&&(this.__cbOnOwnerUnbindListVisibleChange=[]),this.__cbOnOwnerUnbindListVisibleChange.push(null);null==this.__cbOnListVisibleChange&&(this.__cbOnListVisibleChange=[]),this.__cbOnListVisibleChange.push(t)},onceListVisibleChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event listVisibleChange because owner is destroyed!");var l=function(e){null!=t&&(i.offListVisibleChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindListVisibleChange&&(this.__cbOnceOwnerUnbindListVisibleChange=[]),this.__cbOnceOwnerUnbindListVisibleChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindListVisibleChange&&(this.__cbOnceOwnerUnbindListVisibleChange=[]),this.__cbOnceOwnerUnbindListVisibleChange.push(null);null==this.__cbOnceListVisibleChange&&(this.__cbOnceListVisibleChange=[]),this.__cbOnceListVisibleChange.push(t)},offListVisibleChange:function(e){if(null!=e){var n;null!=this.__cbOnListVisibleChange&&-1!=(n=this.__cbOnListVisibleChange.indexOf(e))&&(this.__cbOnListVisibleChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindListVisibleChange[n])&&r(),this.__cbOnOwnerUnbindListVisibleChange.splice(n,1)),null!=this.__cbOnceListVisibleChange&&-1!=(n=this.__cbOnceListVisibleChange.indexOf(e))&&(this.__cbOnceListVisibleChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindListVisibleChange[n])&&r(),this.__cbOnceOwnerUnbindListVisibleChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindListVisibleChange){for(var t=0,i=this.__cbOnOwnerUnbindListVisibleChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindListVisibleChange[l])&&r()}this.__cbOnOwnerUnbindListVisibleChange=null}if(null!=this.__cbOnceOwnerUnbindListVisibleChange){for(t=0,i=this.__cbOnceOwnerUnbindListVisibleChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindListVisibleChange[l])&&r()}this.__cbOnceOwnerUnbindListVisibleChange=null}this.__cbOnListVisibleChange=null,this.__cbOnceListVisibleChange=null}},listensListVisibleChange:function(){return null!=this.__cbOnListVisibleChange&&0<this.__cbOnListVisibleChange.length||null!=this.__cbOnceListVisibleChange&&0<this.__cbOnceListVisibleChange.length},container:null,textView:null,listView:null,listContainer:null,tip:null,listIsAbove:null,listVisibleThisFrame:null,focus:function(){z2.prototype.focus.call(this)},didLostFocus:function(){z2.prototype.didLostFocus.call(this)},layout:function(){z2.prototype.layout.call(this)},layoutContainer:function(){null!=this.textView&&this.textView.text.clipText(0,0,this.container.get_width()-this.textView.text.x-this.textView.x-this.container.paddingRight-20,999999999)},layoutListContainer:function(){var e,n,t;null!=this.listView&&(e=this.listView,n=this.container.get_width(),t=this.listHeight(),e.set_width(n),e.set_height(t))},listHeight:function(){return Math.min(sd.ITEM_HEIGHT*(this.get_list().length+(null!=this.get_nullValueText()?1:0)),sd.MAX_LIST_HEIGHT)},destroy:function(){this._lifecycleState<=-2||(this._lifecycleState=-2,this._lifecycleState=-1,z2.prototype.destroy.call(this),null!=this.listContainer&&(this.listContainer.destroy(),this.listContainer=null))},updateFromValue:function(){var e,n=this.get_value(),t=this.get_nullValueText();U.unobserve(),null!=n?(e=z.replace(z.trim(n),"\n"," "),this.textView.set_content(e)):this.textView.set_content(null!=t?t:""),this.setValue(this,n),U.reobserve()},updateStyle:function(){var e,n=this.get_theme();null==n&&(n=te.get_context().get_theme()),this.container.color=n.get_darkBackgroundColor(),this.textView.set_font(n.get_mediumFont()),null==this.get_value()?(this.textView.set_textColor(n.get_mediumTextColor()),this.textView.text.set_skewX(8)):(this.textView.set_textColor(n.get_fieldTextColor()),this.textView.text.set_skewX(0)),n=this.get_focused()&&this.get_inputStyle()!=wi.MINIMAL?(this.tip.set_color(n.get_lightTextColor()),e=this.container,n.get_focusedFieldBorderColor()):(this.tip.set_color(n.get_lighterBorderColor()),e=this.container,n.get_lightBorderColor()),e.borderColor!=n&&(e.borderColor=n,0<e.borderSize||0<e.borderTopSize||0<e.borderBottomSize||0<e.borderLeftSize||0<e.borderRightSize)&&e.updateBorder()},updateListVisibility:function(){if(null!=this.listView&&this.get_listVisible()&&pi.get_shared().get_focusedField()!=this){for(var e=he.app.screen.get_focusedVisual(),n=!1;null!=e;){if(e==this.listView){n=!0;break}e=e.parent}n||this.set_listVisible(!1)}},updateListPosition:function(){if(1!=(1&this.listContainer.flags)){var e=this.getScrollingLayout(),n=(this.container.visualToScreen(0,0,sd._point),sd._point.x),t=sd._point.y;if(te.get_context().view.screenToVisual(n,t,sd._point),n=sd._point.x,t=sd._point.y,te.get_context().view.get_height()-t<=this.listHeight()?(this.listIsAbove=!0,this.container.visualToScreen(0,this.container.get_height()-this.listHeight(),sd._point),n=sd._point.x,t=sd._point.y,te.get_context().view.screenToVisual(n,t,sd._point),n=sd._point.x,t=sd._point.y):this.listIsAbove=!1,this.get_listVisible())if(this.clipList&&null!=e)if(e.screenToVisual(0,0,sd._point),te.get_context().view.screenToVisual(sd._point.x,sd._point.y,sd._point),t+sd._point.y<0){var i=this.listContainer;if(i.clip!=e&&(i.clip=e,i.clipDirty=!0,null!=i.children))for(var l=0,r=i.children.length;l<r;){var s=l++;if((u=i.children[s]).clipDirty=!0,null!=u.children)for(var h=0,a=u.children.length;h<a;){var o=h++;u.children[o].set_clipDirty(!0)}}}else{var i=this.listContainer,c=null;if(i.clip!=c&&(i.clip=c,i.clipDirty=!0,null!=i.children))for(l=0,r=i.children.length;l<r;){s=l++;if((u=i.children[s]).clipDirty=!0,null!=u.children)for(h=0,a=u.children.length;h<a;){o=h++;u.children[o].set_clipDirty(!0)}}}else{i=this.listContainer,c=null;if(i.clip!=c&&(i.clip=c,i.clipDirty=!0,null!=i.children))for(l=0,r=i.children.length;l<r;){s=l++;if((u=i.children[s]).clipDirty=!0,null!=u.children)for(h=0,a=u.children.length;h<a;){o=h++;u.children[o].set_clipDirty(!0)}}}else{i=this.listContainer,c=null;if(i.clip!=c&&(i.clip=c,i.clipDirty=!0,null!=i.children))for(l=0,r=i.children.length;l<r;){var u,s=l++;if((u=i.children[s]).clipDirty=!0,null!=u.children)for(h=0,a=u.children.length;h<a;){o=h++;u.children[o].set_clipDirty(!0)}}}n==this.listContainer.x&&t==this.listContainer.y||(this.listContainer.layoutDirty=!0),(i=this.listContainer).set_x(n),i.set_y(t)}},updateListVisibleThisFrame:function(){this.listVisibleThisFrame=null!=this.listView&&this.listView.computedVisible},toggleListVisible:function(){this.set_listVisible(!this.get_listVisible())},updateListContainer:function(){var t=this,e=this.get_listVisible();this.get_value();U.unobserve(),e?null==this.listView&&(this.listView=new A2,this.listView.autorun(function(){var e=t.get_theme();U.unobserve(),t.listView.set_theme(e)}),this.listView.set_depth(10),this.listView.set_value(this.get_value()),this.listView.set_list(this.get_list()),this.listView.set_nullValueText(this.get_nullValueText()),this.listContainer.add(this.listView),this.listView.onValueChange(this,function(e,n){t.set_value(e),t.set_listVisible(!1),t.focus()}),this.listContainer.set_active(!0),this.updateListPosition(),this.listView.scrollToValue(this.listIsAbove?2:0),he.app._oncePostFlushImmediate(function(){t._lifecycleState<0||null==t.listView||(t.listView.scrollToValue(t.listIsAbove?2:0),he.app.onceUpdate(t.listView,function(e){t.listView.scrollToValue(t.listIsAbove?2:0)}))},!0)):null!=this.listView&&(this.listView.destroy(),this.listView=null,this.listContainer.set_active(!1)),U.reobserve()},hitsSelfOrDerived:function(e,n){return!!this._hits(e,n,!1)||!(null==this.listView||!this.listView.computedVisible)&&this.listView._hits(e,n,!1)},usesScanCode:function(e){return!!z2.prototype.usesScanCode.call(this,e)||!(!(this.listVisibleThisFrame||null!=this.listView&&this.listView.computedVisible)||41!=e&&(!this.get_focused()||81!=e)&&!(this.get_focused()&&82==e||this.get_focused()&&40==e||this.get_focused()&&44==e||this.get_focused()&&42==e))},usesKeyCode:function(e){return!!z2.prototype.usesKeyCode.call(this,e)||!(!(this.listVisibleThisFrame||null!=this.listView&&this.listView.computedVisible)||27!=e&&(!this.get_focused()||1073741905!=e)&&!(this.get_focused()&&1073741906==e||this.get_focused()&&13==e||this.get_focused()&&32==e||this.get_focused()&&8==e))},unbindEvents:function(){z2.prototype.unbindEvents.call(this),this.offThemeChange(),this.offValueChange(),this.offListChange(),this.offNullValueTextChange(),this.offInputStyleChange(),this.offListVisibleChange()},__class__:sd,__properties__:$extend(z2.prototype.__properties__,{set_listVisible:"set_listVisible",get_listVisible:"get_listVisible",set_inputStyle:"set_inputStyle",get_inputStyle:"get_inputStyle",set_nullValueText:"set_nullValueText",get_nullValueText:"get_nullValueText",set_list:"set_list",get_list:"get_list",set_value:"set_value",get_value:"get_value",set_theme:"set_theme",get_theme:"get_theme"})}),(E["elements.Separator"]=td).__name__="elements.Separator",td.__interfaces__=[s],td.__super__=f0,td.prototype=$extend(f0.prototype,{__cbOnObservedDirty:null,__cbOnceObservedDirty:null,__cbOnOwnerUnbindObservedDirty:null,__cbOnceOwnerUnbindObservedDirty:null,emitObservedDirty:function(e,n){var t=0;if(null!=this.__cbOnObservedDirty&&(t+=this.__cbOnObservedDirty.length),null!=this.__cbOnceObservedDirty&&(t+=this.__cbOnceObservedDirty.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnObservedDirty)for(var s=0,h=this.__cbOnObservedDirty.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnObservedDirty[a],++r):--t}if(null!=this.__cbOnceObservedDirty){for(var o=null,c=null,s=0,h=this.__cbOnceObservedDirty.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceObservedDirty[a],this.__cbOnceObservedDirty[a]=null,u=this.__cbOnceOwnerUnbindObservedDirty[a],(this.__cbOnceOwnerUnbindObservedDirty[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindObservedDirty[a]),c.push(this.__cbOnceObservedDirty[a]))}this.__cbOnceOwnerUnbindObservedDirty=o,this.__cbOnceObservedDirty=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onObservedDirty:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event observedDirty because owner is destroyed!");var l=function(e){null!=t&&(i.offObservedDirty(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push(null);null==this.__cbOnObservedDirty&&(this.__cbOnObservedDirty=[]),this.__cbOnObservedDirty.push(t)},onceObservedDirty:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event observedDirty because owner is destroyed!");var l=function(e){null!=t&&(i.offObservedDirty(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push(null);null==this.__cbOnceObservedDirty&&(this.__cbOnceObservedDirty=[]),this.__cbOnceObservedDirty.push(t)},offObservedDirty:function(e){if(null!=e){var n;null!=this.__cbOnObservedDirty&&-1!=(n=this.__cbOnObservedDirty.indexOf(e))&&(this.__cbOnObservedDirty.splice(n,1),null!=(r=this.__cbOnOwnerUnbindObservedDirty[n])&&r(),this.__cbOnOwnerUnbindObservedDirty.splice(n,1)),null!=this.__cbOnceObservedDirty&&-1!=(n=this.__cbOnceObservedDirty.indexOf(e))&&(this.__cbOnceObservedDirty.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindObservedDirty[n])&&r(),this.__cbOnceOwnerUnbindObservedDirty.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindObservedDirty){for(var t=0,i=this.__cbOnOwnerUnbindObservedDirty.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindObservedDirty[l])&&r()}this.__cbOnOwnerUnbindObservedDirty=null}if(null!=this.__cbOnceOwnerUnbindObservedDirty){for(t=0,i=this.__cbOnceOwnerUnbindObservedDirty.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindObservedDirty[l])&&r()}this.__cbOnceOwnerUnbindObservedDirty=null}this.__cbOnObservedDirty=null,this.__cbOnceObservedDirty=null}},listensObservedDirty:function(){return null!=this.__cbOnObservedDirty&&0<this.__cbOnObservedDirty.length||null!=this.__cbOnceObservedDirty&&0<this.__cbOnceObservedDirty.length},observedDirty:null,themeAutoruns:null,get_theme:function(){var e,n,t=this.unobservedTheme;return null!=U.current&&(e=U.current,null!=(n=this.themeAutoruns)||(n=U.getAutorunArray(),null!=(this.themeAutoruns=n)))&&e.bindToAutorunArray(n),t},set_theme:function(e){var n=this.unobservedTheme;return n!=(this.unobservedTheme=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitThemeChange(e,n),null!=(n=this.themeAutoruns))&&(this.themeAutoruns=null,U.invalidateAutorunArray(n)),e},invalidateTheme:function(){var e=this.unobservedTheme,e=(this.emitThemeChange(e,e),this.themeAutoruns);null!=e&&(this.themeAutoruns=null,U.invalidateAutorunArray(e))},unobservedTheme:null,__cbOnThemeChange:null,__cbOnceThemeChange:null,__cbOnOwnerUnbindThemeChange:null,__cbOnceOwnerUnbindThemeChange:null,emitThemeChange:function(e,n){var t=0;if(null!=this.__cbOnThemeChange&&(t+=this.__cbOnThemeChange.length),null!=this.__cbOnceThemeChange&&(t+=this.__cbOnceThemeChange.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnThemeChange)for(var s=0,h=this.__cbOnThemeChange.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnThemeChange[a],++r):--t}if(null!=this.__cbOnceThemeChange){for(var o=null,c=null,s=0,h=this.__cbOnceThemeChange.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceThemeChange[a],this.__cbOnceThemeChange[a]=null,u=this.__cbOnceOwnerUnbindThemeChange[a],(this.__cbOnceOwnerUnbindThemeChange[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindThemeChange[a]),c.push(this.__cbOnceThemeChange[a]))}this.__cbOnceOwnerUnbindThemeChange=o,this.__cbOnceThemeChange=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onThemeChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event themeChange because owner is destroyed!");var l=function(e){null!=t&&(i.offThemeChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindThemeChange&&(this.__cbOnOwnerUnbindThemeChange=[]),this.__cbOnOwnerUnbindThemeChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindThemeChange&&(this.__cbOnOwnerUnbindThemeChange=[]),this.__cbOnOwnerUnbindThemeChange.push(null);null==this.__cbOnThemeChange&&(this.__cbOnThemeChange=[]),this.__cbOnThemeChange.push(t)},onceThemeChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event themeChange because owner is destroyed!");var l=function(e){null!=t&&(i.offThemeChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindThemeChange&&(this.__cbOnceOwnerUnbindThemeChange=[]),this.__cbOnceOwnerUnbindThemeChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindThemeChange&&(this.__cbOnceOwnerUnbindThemeChange=[]),this.__cbOnceOwnerUnbindThemeChange.push(null);null==this.__cbOnceThemeChange&&(this.__cbOnceThemeChange=[]),this.__cbOnceThemeChange.push(t)},offThemeChange:function(e){if(null!=e){var n;null!=this.__cbOnThemeChange&&-1!=(n=this.__cbOnThemeChange.indexOf(e))&&(this.__cbOnThemeChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindThemeChange[n])&&r(),this.__cbOnOwnerUnbindThemeChange.splice(n,1)),null!=this.__cbOnceThemeChange&&-1!=(n=this.__cbOnceThemeChange.indexOf(e))&&(this.__cbOnceThemeChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindThemeChange[n])&&r(),this.__cbOnceOwnerUnbindThemeChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindThemeChange){for(var t=0,i=this.__cbOnOwnerUnbindThemeChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindThemeChange[l])&&r()}this.__cbOnOwnerUnbindThemeChange=null}if(null!=this.__cbOnceOwnerUnbindThemeChange){for(t=0,i=this.__cbOnceOwnerUnbindThemeChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindThemeChange[l])&&r()}this.__cbOnceOwnerUnbindThemeChange=null}this.__cbOnThemeChange=null,this.__cbOnceThemeChange=null}},listensThemeChange:function(){return null!=this.__cbOnThemeChange&&0<this.__cbOnThemeChange.length||null!=this.__cbOnceThemeChange&&0<this.__cbOnceThemeChange.length},thickness:null,set_thickness:function(e){return this.thickness!=e&&(this.thickness=e,this.layoutDirty=!0),e},quad:null,layout:function(){var e=this.quad,n=.5*this.get_height(),e=(e.set_x(0),e.set_y(n),this.quad),n=this.get_width(),t=this.thickness;e.set_width(n),e.set_height(t)},updateStyle:function(){var e=this.get_theme();null==e&&(e=te.get_context().get_theme()),this.quad.color=e.get_mediumBorderColor()},unbindEvents:function(){f0.prototype.unbindEvents.call(this),this.offObservedDirty(),this.offThemeChange()},__class__:td,__properties__:$extend(f0.prototype.__properties__,{set_thickness:"set_thickness",set_theme:"set_theme",get_theme:"get_theme"})}),(E["elements.SliderFieldView"]=ud).__name__="elements.SliderFieldView",ud.__super__=B2,ud.prototype=$extend(B2.prototype,{themeAutoruns:null,get_theme:function(){var e,n,t=this.unobservedTheme;return null!=U.current&&(e=U.current,null!=(n=this.themeAutoruns)||(n=U.getAutorunArray(),null!=(this.themeAutoruns=n)))&&e.bindToAutorunArray(n),t},set_theme:function(e){var n=this.unobservedTheme;return n!=(this.unobservedTheme=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitThemeChange(e,n),null!=(n=this.themeAutoruns))&&(this.themeAutoruns=null,U.invalidateAutorunArray(n)),e},invalidateTheme:function(){var e=this.unobservedTheme,e=(this.emitThemeChange(e,e),this.themeAutoruns);null!=e&&(this.themeAutoruns=null,U.invalidateAutorunArray(e))},unobservedTheme:null,__cbOnThemeChange:null,__cbOnceThemeChange:null,__cbOnOwnerUnbindThemeChange:null,__cbOnceOwnerUnbindThemeChange:null,emitThemeChange:function(e,n){var t=0;if(null!=this.__cbOnThemeChange&&(t+=this.__cbOnThemeChange.length),null!=this.__cbOnceThemeChange&&(t+=this.__cbOnceThemeChange.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnThemeChange)for(var s=0,h=this.__cbOnThemeChange.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnThemeChange[a],++r):--t}if(null!=this.__cbOnceThemeChange){for(var o=null,c=null,s=0,h=this.__cbOnceThemeChange.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceThemeChange[a],this.__cbOnceThemeChange[a]=null,u=this.__cbOnceOwnerUnbindThemeChange[a],(this.__cbOnceOwnerUnbindThemeChange[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindThemeChange[a]),c.push(this.__cbOnceThemeChange[a]))}this.__cbOnceOwnerUnbindThemeChange=o,this.__cbOnceThemeChange=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onThemeChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event themeChange because owner is destroyed!");var l=function(e){null!=t&&(i.offThemeChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindThemeChange&&(this.__cbOnOwnerUnbindThemeChange=[]),this.__cbOnOwnerUnbindThemeChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindThemeChange&&(this.__cbOnOwnerUnbindThemeChange=[]),this.__cbOnOwnerUnbindThemeChange.push(null);null==this.__cbOnThemeChange&&(this.__cbOnThemeChange=[]),this.__cbOnThemeChange.push(t)},onceThemeChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event themeChange because owner is destroyed!");var l=function(e){null!=t&&(i.offThemeChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindThemeChange&&(this.__cbOnceOwnerUnbindThemeChange=[]),this.__cbOnceOwnerUnbindThemeChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindThemeChange&&(this.__cbOnceOwnerUnbindThemeChange=[]),this.__cbOnceOwnerUnbindThemeChange.push(null);null==this.__cbOnceThemeChange&&(this.__cbOnceThemeChange=[]),this.__cbOnceThemeChange.push(t)},offThemeChange:function(e){if(null!=e){var n;null!=this.__cbOnThemeChange&&-1!=(n=this.__cbOnThemeChange.indexOf(e))&&(this.__cbOnThemeChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindThemeChange[n])&&r(),this.__cbOnOwnerUnbindThemeChange.splice(n,1)),null!=this.__cbOnceThemeChange&&-1!=(n=this.__cbOnceThemeChange.indexOf(e))&&(this.__cbOnceThemeChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindThemeChange[n])&&r(),this.__cbOnceOwnerUnbindThemeChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindThemeChange){for(var t=0,i=this.__cbOnOwnerUnbindThemeChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindThemeChange[l])&&r()}this.__cbOnOwnerUnbindThemeChange=null}if(null!=this.__cbOnceOwnerUnbindThemeChange){for(t=0,i=this.__cbOnceOwnerUnbindThemeChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindThemeChange[l])&&r()}this.__cbOnceOwnerUnbindThemeChange=null}this.__cbOnThemeChange=null,this.__cbOnceThemeChange=null}},listensThemeChange:function(){return null!=this.__cbOnThemeChange&&0<this.__cbOnThemeChange.length||null!=this.__cbOnceThemeChange&&0<this.__cbOnceThemeChange.length},valueAutoruns:null,get_value:function(){var e,n,t=this.unobservedValue;return null!=U.current&&(e=U.current,null!=(n=this.valueAutoruns)||(n=U.getAutorunArray(),null!=(this.valueAutoruns=n)))&&e.bindToAutorunArray(n),t},set_value:function(e){var n=this.unobservedValue;return n!=(this.unobservedValue=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitValueChange(e,n),null!=(n=this.valueAutoruns))&&(this.valueAutoruns=null,U.invalidateAutorunArray(n)),e},invalidateValue:function(){var e=this.unobservedValue,e=(this.emitValueChange(e,e),this.valueAutoruns);null!=e&&(this.valueAutoruns=null,U.invalidateAutorunArray(e))},unobservedValue:null,__cbOnValueChange:null,__cbOnceValueChange:null,__cbOnOwnerUnbindValueChange:null,__cbOnceOwnerUnbindValueChange:null,emitValueChange:function(e,n){var t=0;if(null!=this.__cbOnValueChange&&(t+=this.__cbOnValueChange.length),null!=this.__cbOnceValueChange&&(t+=this.__cbOnceValueChange.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnValueChange)for(var s=0,h=this.__cbOnValueChange.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnValueChange[a],++r):--t}if(null!=this.__cbOnceValueChange){for(var o=null,c=null,s=0,h=this.__cbOnceValueChange.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceValueChange[a],this.__cbOnceValueChange[a]=null,u=this.__cbOnceOwnerUnbindValueChange[a],(this.__cbOnceOwnerUnbindValueChange[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindValueChange[a]),c.push(this.__cbOnceValueChange[a]))}this.__cbOnceOwnerUnbindValueChange=o,this.__cbOnceValueChange=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onValueChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event valueChange because owner is destroyed!");var l=function(e){null!=t&&(i.offValueChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindValueChange&&(this.__cbOnOwnerUnbindValueChange=[]),this.__cbOnOwnerUnbindValueChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindValueChange&&(this.__cbOnOwnerUnbindValueChange=[]),this.__cbOnOwnerUnbindValueChange.push(null);null==this.__cbOnValueChange&&(this.__cbOnValueChange=[]),this.__cbOnValueChange.push(t)},onceValueChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event valueChange because owner is destroyed!");var l=function(e){null!=t&&(i.offValueChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindValueChange&&(this.__cbOnceOwnerUnbindValueChange=[]),this.__cbOnceOwnerUnbindValueChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindValueChange&&(this.__cbOnceOwnerUnbindValueChange=[]),this.__cbOnceOwnerUnbindValueChange.push(null);null==this.__cbOnceValueChange&&(this.__cbOnceValueChange=[]),this.__cbOnceValueChange.push(t)},offValueChange:function(e){if(null!=e){var n;null!=this.__cbOnValueChange&&-1!=(n=this.__cbOnValueChange.indexOf(e))&&(this.__cbOnValueChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindValueChange[n])&&r(),this.__cbOnOwnerUnbindValueChange.splice(n,1)),null!=this.__cbOnceValueChange&&-1!=(n=this.__cbOnceValueChange.indexOf(e))&&(this.__cbOnceValueChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindValueChange[n])&&r(),this.__cbOnceOwnerUnbindValueChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindValueChange){for(var t=0,i=this.__cbOnOwnerUnbindValueChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindValueChange[l])&&r()}this.__cbOnOwnerUnbindValueChange=null}if(null!=this.__cbOnceOwnerUnbindValueChange){for(t=0,i=this.__cbOnceOwnerUnbindValueChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindValueChange[l])&&r()}this.__cbOnceOwnerUnbindValueChange=null}this.__cbOnValueChange=null,this.__cbOnceValueChange=null}},listensValueChange:function(){return null!=this.__cbOnValueChange&&0<this.__cbOnValueChange.length||null!=this.__cbOnceValueChange&&0<this.__cbOnceValueChange.length},minValueAutoruns:null,get_minValue:function(){var e,n,t=this.unobservedMinValue;return null!=U.current&&(e=U.current,null!=(n=this.minValueAutoruns)||(n=U.getAutorunArray(),null!=(this.minValueAutoruns=n)))&&e.bindToAutorunArray(n),t},set_minValue:function(e){var n=this.unobservedMinValue;return n!=(this.unobservedMinValue=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitMinValueChange(e,n),null!=(n=this.minValueAutoruns))&&(this.minValueAutoruns=null,U.invalidateAutorunArray(n)),e},invalidateMinValue:function(){var e=this.unobservedMinValue,e=(this.emitMinValueChange(e,e),this.minValueAutoruns);null!=e&&(this.minValueAutoruns=null,U.invalidateAutorunArray(e))},unobservedMinValue:null,__cbOnMinValueChange:null,__cbOnceMinValueChange:null,__cbOnOwnerUnbindMinValueChange:null,__cbOnceOwnerUnbindMinValueChange:null,emitMinValueChange:function(e,n){var t=0;if(null!=this.__cbOnMinValueChange&&(t+=this.__cbOnMinValueChange.length),null!=this.__cbOnceMinValueChange&&(t+=this.__cbOnceMinValueChange.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnMinValueChange)for(var s=0,h=this.__cbOnMinValueChange.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnMinValueChange[a],++r):--t}if(null!=this.__cbOnceMinValueChange){for(var o=null,c=null,s=0,h=this.__cbOnceMinValueChange.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceMinValueChange[a],this.__cbOnceMinValueChange[a]=null,u=this.__cbOnceOwnerUnbindMinValueChange[a],(this.__cbOnceOwnerUnbindMinValueChange[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindMinValueChange[a]),c.push(this.__cbOnceMinValueChange[a]))}this.__cbOnceOwnerUnbindMinValueChange=o,this.__cbOnceMinValueChange=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onMinValueChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event minValueChange because owner is destroyed!");var l=function(e){null!=t&&(i.offMinValueChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindMinValueChange&&(this.__cbOnOwnerUnbindMinValueChange=[]),this.__cbOnOwnerUnbindMinValueChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindMinValueChange&&(this.__cbOnOwnerUnbindMinValueChange=[]),this.__cbOnOwnerUnbindMinValueChange.push(null);null==this.__cbOnMinValueChange&&(this.__cbOnMinValueChange=[]),this.__cbOnMinValueChange.push(t)},onceMinValueChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event minValueChange because owner is destroyed!");var l=function(e){null!=t&&(i.offMinValueChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindMinValueChange&&(this.__cbOnceOwnerUnbindMinValueChange=[]),this.__cbOnceOwnerUnbindMinValueChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindMinValueChange&&(this.__cbOnceOwnerUnbindMinValueChange=[]),this.__cbOnceOwnerUnbindMinValueChange.push(null);null==this.__cbOnceMinValueChange&&(this.__cbOnceMinValueChange=[]),this.__cbOnceMinValueChange.push(t)},offMinValueChange:function(e){if(null!=e){var n;null!=this.__cbOnMinValueChange&&-1!=(n=this.__cbOnMinValueChange.indexOf(e))&&(this.__cbOnMinValueChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindMinValueChange[n])&&r(),this.__cbOnOwnerUnbindMinValueChange.splice(n,1)),null!=this.__cbOnceMinValueChange&&-1!=(n=this.__cbOnceMinValueChange.indexOf(e))&&(this.__cbOnceMinValueChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindMinValueChange[n])&&r(),this.__cbOnceOwnerUnbindMinValueChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindMinValueChange){for(var t=0,i=this.__cbOnOwnerUnbindMinValueChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindMinValueChange[l])&&r()}this.__cbOnOwnerUnbindMinValueChange=null}if(null!=this.__cbOnceOwnerUnbindMinValueChange){for(t=0,i=this.__cbOnceOwnerUnbindMinValueChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindMinValueChange[l])&&r()}this.__cbOnceOwnerUnbindMinValueChange=null}this.__cbOnMinValueChange=null,this.__cbOnceMinValueChange=null}},listensMinValueChange:function(){return null!=this.__cbOnMinValueChange&&0<this.__cbOnMinValueChange.length||null!=this.__cbOnceMinValueChange&&0<this.__cbOnceMinValueChange.length},maxValueAutoruns:null,get_maxValue:function(){var e,n,t=this.unobservedMaxValue;return null!=U.current&&(e=U.current,null!=(n=this.maxValueAutoruns)||(n=U.getAutorunArray(),null!=(this.maxValueAutoruns=n)))&&e.bindToAutorunArray(n),t},set_maxValue:function(e){var n=this.unobservedMaxValue;return n!=(this.unobservedMaxValue=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitMaxValueChange(e,n),null!=(n=this.maxValueAutoruns))&&(this.maxValueAutoruns=null,U.invalidateAutorunArray(n)),e},invalidateMaxValue:function(){var e=this.unobservedMaxValue,e=(this.emitMaxValueChange(e,e),this.maxValueAutoruns);null!=e&&(this.maxValueAutoruns=null,U.invalidateAutorunArray(e))},unobservedMaxValue:null,__cbOnMaxValueChange:null,__cbOnceMaxValueChange:null,__cbOnOwnerUnbindMaxValueChange:null,__cbOnceOwnerUnbindMaxValueChange:null,emitMaxValueChange:function(e,n){var t=0;if(null!=this.__cbOnMaxValueChange&&(t+=this.__cbOnMaxValueChange.length),null!=this.__cbOnceMaxValueChange&&(t+=this.__cbOnceMaxValueChange.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnMaxValueChange)for(var s=0,h=this.__cbOnMaxValueChange.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnMaxValueChange[a],++r):--t}if(null!=this.__cbOnceMaxValueChange){for(var o=null,c=null,s=0,h=this.__cbOnceMaxValueChange.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceMaxValueChange[a],this.__cbOnceMaxValueChange[a]=null,u=this.__cbOnceOwnerUnbindMaxValueChange[a],(this.__cbOnceOwnerUnbindMaxValueChange[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindMaxValueChange[a]),c.push(this.__cbOnceMaxValueChange[a]))}this.__cbOnceOwnerUnbindMaxValueChange=o,this.__cbOnceMaxValueChange=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onMaxValueChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event maxValueChange because owner is destroyed!");var l=function(e){null!=t&&(i.offMaxValueChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindMaxValueChange&&(this.__cbOnOwnerUnbindMaxValueChange=[]),this.__cbOnOwnerUnbindMaxValueChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindMaxValueChange&&(this.__cbOnOwnerUnbindMaxValueChange=[]),this.__cbOnOwnerUnbindMaxValueChange.push(null);null==this.__cbOnMaxValueChange&&(this.__cbOnMaxValueChange=[]),this.__cbOnMaxValueChange.push(t)},onceMaxValueChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event maxValueChange because owner is destroyed!");var l=function(e){null!=t&&(i.offMaxValueChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindMaxValueChange&&(this.__cbOnceOwnerUnbindMaxValueChange=[]),this.__cbOnceOwnerUnbindMaxValueChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindMaxValueChange&&(this.__cbOnceOwnerUnbindMaxValueChange=[]),this.__cbOnceOwnerUnbindMaxValueChange.push(null);null==this.__cbOnceMaxValueChange&&(this.__cbOnceMaxValueChange=[]),this.__cbOnceMaxValueChange.push(t)},offMaxValueChange:function(e){if(null!=e){var n;null!=this.__cbOnMaxValueChange&&-1!=(n=this.__cbOnMaxValueChange.indexOf(e))&&(this.__cbOnMaxValueChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindMaxValueChange[n])&&r(),this.__cbOnOwnerUnbindMaxValueChange.splice(n,1)),null!=this.__cbOnceMaxValueChange&&-1!=(n=this.__cbOnceMaxValueChange.indexOf(e))&&(this.__cbOnceMaxValueChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindMaxValueChange[n])&&r(),this.__cbOnceOwnerUnbindMaxValueChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindMaxValueChange){for(var t=0,i=this.__cbOnOwnerUnbindMaxValueChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindMaxValueChange[l])&&r()}this.__cbOnOwnerUnbindMaxValueChange=null}if(null!=this.__cbOnceOwnerUnbindMaxValueChange){for(t=0,i=this.__cbOnceOwnerUnbindMaxValueChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindMaxValueChange[l])&&r()}this.__cbOnceOwnerUnbindMaxValueChange=null}this.__cbOnMaxValueChange=null,this.__cbOnceMaxValueChange=null}},listensMaxValueChange:function(){return null!=this.__cbOnMaxValueChange&&0<this.__cbOnMaxValueChange.length||null!=this.__cbOnceMaxValueChange&&0<this.__cbOnceMaxValueChange.length},enabledTextInputAutoruns:null,get_enabledTextInput:function(){var e,n,t=this.unobservedEnabledTextInput;return null!=U.current&&(e=U.current,null!=(n=this.enabledTextInputAutoruns)||(n=U.getAutorunArray(),null!=(this.enabledTextInputAutoruns=n)))&&e.bindToAutorunArray(n),t},set_enabledTextInput:function(e){var n=this.unobservedEnabledTextInput;return n!=(this.unobservedEnabledTextInput=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitEnabledTextInputChange(e,n),null!=(n=this.enabledTextInputAutoruns))&&(this.enabledTextInputAutoruns=null,U.invalidateAutorunArray(n)),e},invalidateEnabledTextInput:function(){var e=this.unobservedEnabledTextInput,e=(this.emitEnabledTextInputChange(e,e),this.enabledTextInputAutoruns);null!=e&&(this.enabledTextInputAutoruns=null,U.invalidateAutorunArray(e))},unobservedEnabledTextInput:null,__cbOnEnabledTextInputChange:null,__cbOnceEnabledTextInputChange:null,__cbOnOwnerUnbindEnabledTextInputChange:null,__cbOnceOwnerUnbindEnabledTextInputChange:null,emitEnabledTextInputChange:function(e,n){var t=0;if(null!=this.__cbOnEnabledTextInputChange&&(t+=this.__cbOnEnabledTextInputChange.length),null!=this.__cbOnceEnabledTextInputChange&&(t+=this.__cbOnceEnabledTextInputChange.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnEnabledTextInputChange)for(var s=0,h=this.__cbOnEnabledTextInputChange.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnEnabledTextInputChange[a],++r):--t}if(null!=this.__cbOnceEnabledTextInputChange){for(var o=null,c=null,s=0,h=this.__cbOnceEnabledTextInputChange.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceEnabledTextInputChange[a],this.__cbOnceEnabledTextInputChange[a]=null,u=this.__cbOnceOwnerUnbindEnabledTextInputChange[a],(this.__cbOnceOwnerUnbindEnabledTextInputChange[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindEnabledTextInputChange[a]),c.push(this.__cbOnceEnabledTextInputChange[a]))}this.__cbOnceOwnerUnbindEnabledTextInputChange=o,this.__cbOnceEnabledTextInputChange=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onEnabledTextInputChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event enabledTextInputChange because owner is destroyed!");var l=function(e){null!=t&&(i.offEnabledTextInputChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindEnabledTextInputChange&&(this.__cbOnOwnerUnbindEnabledTextInputChange=[]),this.__cbOnOwnerUnbindEnabledTextInputChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindEnabledTextInputChange&&(this.__cbOnOwnerUnbindEnabledTextInputChange=[]),this.__cbOnOwnerUnbindEnabledTextInputChange.push(null);null==this.__cbOnEnabledTextInputChange&&(this.__cbOnEnabledTextInputChange=[]),this.__cbOnEnabledTextInputChange.push(t)},onceEnabledTextInputChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event enabledTextInputChange because owner is destroyed!");var l=function(e){null!=t&&(i.offEnabledTextInputChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindEnabledTextInputChange&&(this.__cbOnceOwnerUnbindEnabledTextInputChange=[]),this.__cbOnceOwnerUnbindEnabledTextInputChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindEnabledTextInputChange&&(this.__cbOnceOwnerUnbindEnabledTextInputChange=[]),this.__cbOnceOwnerUnbindEnabledTextInputChange.push(null);null==this.__cbOnceEnabledTextInputChange&&(this.__cbOnceEnabledTextInputChange=[]),this.__cbOnceEnabledTextInputChange.push(t)},offEnabledTextInputChange:function(e){if(null!=e){var n;null!=this.__cbOnEnabledTextInputChange&&-1!=(n=this.__cbOnEnabledTextInputChange.indexOf(e))&&(this.__cbOnEnabledTextInputChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindEnabledTextInputChange[n])&&r(),this.__cbOnOwnerUnbindEnabledTextInputChange.splice(n,1)),null!=this.__cbOnceEnabledTextInputChange&&-1!=(n=this.__cbOnceEnabledTextInputChange.indexOf(e))&&(this.__cbOnceEnabledTextInputChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindEnabledTextInputChange[n])&&r(),this.__cbOnceOwnerUnbindEnabledTextInputChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindEnabledTextInputChange){for(var t=0,i=this.__cbOnOwnerUnbindEnabledTextInputChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindEnabledTextInputChange[l])&&r()}this.__cbOnOwnerUnbindEnabledTextInputChange=null}if(null!=this.__cbOnceOwnerUnbindEnabledTextInputChange){for(t=0,i=this.__cbOnceOwnerUnbindEnabledTextInputChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindEnabledTextInputChange[l])&&r()}this.__cbOnceOwnerUnbindEnabledTextInputChange=null}this.__cbOnEnabledTextInputChange=null,this.__cbOnceEnabledTextInputChange=null}},listensEnabledTextInputChange:function(){return null!=this.__cbOnEnabledTextInputChange&&0<this.__cbOnEnabledTextInputChange.length||null!=this.__cbOnceEnabledTextInputChange&&0<this.__cbOnceEnabledTextInputChange.length},inputStyleAutoruns:null,get_inputStyle:function(){var e,n,t=this.unobservedInputStyle;return null!=U.current&&(e=U.current,null!=(n=this.inputStyleAutoruns)||(n=U.getAutorunArray(),null!=(this.inputStyleAutoruns=n)))&&e.bindToAutorunArray(n),t},set_inputStyle:function(e){var n=this.unobservedInputStyle;return n!=(this.unobservedInputStyle=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitInputStyleChange(e,n),null!=(n=this.inputStyleAutoruns))&&(this.inputStyleAutoruns=null,U.invalidateAutorunArray(n)),e},invalidateInputStyle:function(){var e=this.unobservedInputStyle,e=(this.emitInputStyleChange(e,e),this.inputStyleAutoruns);null!=e&&(this.inputStyleAutoruns=null,U.invalidateAutorunArray(e))},unobservedInputStyle:null,__cbOnInputStyleChange:null,__cbOnceInputStyleChange:null,__cbOnOwnerUnbindInputStyleChange:null,__cbOnceOwnerUnbindInputStyleChange:null,emitInputStyleChange:function(e,n){var t=0;if(null!=this.__cbOnInputStyleChange&&(t+=this.__cbOnInputStyleChange.length),null!=this.__cbOnceInputStyleChange&&(t+=this.__cbOnceInputStyleChange.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnInputStyleChange)for(var s=0,h=this.__cbOnInputStyleChange.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnInputStyleChange[a],++r):--t}if(null!=this.__cbOnceInputStyleChange){for(var o=null,c=null,s=0,h=this.__cbOnceInputStyleChange.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceInputStyleChange[a],this.__cbOnceInputStyleChange[a]=null,u=this.__cbOnceOwnerUnbindInputStyleChange[a],(this.__cbOnceOwnerUnbindInputStyleChange[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindInputStyleChange[a]),c.push(this.__cbOnceInputStyleChange[a]))}this.__cbOnceOwnerUnbindInputStyleChange=o,this.__cbOnceInputStyleChange=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onInputStyleChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event inputStyleChange because owner is destroyed!");var l=function(e){null!=t&&(i.offInputStyleChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindInputStyleChange&&(this.__cbOnOwnerUnbindInputStyleChange=[]),this.__cbOnOwnerUnbindInputStyleChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindInputStyleChange&&(this.__cbOnOwnerUnbindInputStyleChange=[]),this.__cbOnOwnerUnbindInputStyleChange.push(null);null==this.__cbOnInputStyleChange&&(this.__cbOnInputStyleChange=[]),this.__cbOnInputStyleChange.push(t)},onceInputStyleChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event inputStyleChange because owner is destroyed!");var l=function(e){null!=t&&(i.offInputStyleChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindInputStyleChange&&(this.__cbOnceOwnerUnbindInputStyleChange=[]),this.__cbOnceOwnerUnbindInputStyleChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindInputStyleChange&&(this.__cbOnceOwnerUnbindInputStyleChange=[]),this.__cbOnceOwnerUnbindInputStyleChange.push(null);null==this.__cbOnceInputStyleChange&&(this.__cbOnceInputStyleChange=[]),this.__cbOnceInputStyleChange.push(t)},offInputStyleChange:function(e){if(null!=e){var n;null!=this.__cbOnInputStyleChange&&-1!=(n=this.__cbOnInputStyleChange.indexOf(e))&&(this.__cbOnInputStyleChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindInputStyleChange[n])&&r(),this.__cbOnOwnerUnbindInputStyleChange.splice(n,1)),null!=this.__cbOnceInputStyleChange&&-1!=(n=this.__cbOnceInputStyleChange.indexOf(e))&&(this.__cbOnceInputStyleChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindInputStyleChange[n])&&r(),this.__cbOnceOwnerUnbindInputStyleChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindInputStyleChange){for(var t=0,i=this.__cbOnOwnerUnbindInputStyleChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindInputStyleChange[l])&&r()}this.__cbOnOwnerUnbindInputStyleChange=null}if(null!=this.__cbOnceOwnerUnbindInputStyleChange){for(t=0,i=this.__cbOnceOwnerUnbindInputStyleChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindInputStyleChange[l])&&r()}this.__cbOnceOwnerUnbindInputStyleChange=null}this.__cbOnInputStyleChange=null,this.__cbOnceInputStyleChange=null}},listensInputStyleChange:function(){return null!=this.__cbOnInputStyleChange&&0<this.__cbOnInputStyleChange.length||null!=this.__cbOnceInputStyleChange&&0<this.__cbOnceInputStyleChange.length},disabledAutoruns:null,get_disabled:function(){var e,n,t=this.unobservedDisabled;return null!=U.current&&(e=U.current,null!=(n=this.disabledAutoruns)||(n=U.getAutorunArray(),null!=(this.disabledAutoruns=n)))&&e.bindToAutorunArray(n),t},set_disabled:function(e){var n=this.unobservedDisabled;return this.set_unobservedDisabled(e),n!=e&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitDisabledChange(e,n),null!=(n=this.disabledAutoruns))&&(this.disabledAutoruns=null,U.invalidateAutorunArray(n)),e},invalidateDisabled:function(){var e=this.unobservedDisabled,e=(this.emitDisabledChange(e,e),this.disabledAutoruns);null!=e&&(this.disabledAutoruns=null,U.invalidateAutorunArray(e))},unobservedDisabled:null,__cbOnDisabledChange:null,__cbOnceDisabledChange:null,__cbOnOwnerUnbindDisabledChange:null,__cbOnceOwnerUnbindDisabledChange:null,emitDisabledChange:function(e,n){var t=0;if(null!=this.__cbOnDisabledChange&&(t+=this.__cbOnDisabledChange.length),null!=this.__cbOnceDisabledChange&&(t+=this.__cbOnceDisabledChange.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnDisabledChange)for(var s=0,h=this.__cbOnDisabledChange.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnDisabledChange[a],++r):--t}if(null!=this.__cbOnceDisabledChange){for(var o=null,c=null,s=0,h=this.__cbOnceDisabledChange.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceDisabledChange[a],this.__cbOnceDisabledChange[a]=null,u=this.__cbOnceOwnerUnbindDisabledChange[a],(this.__cbOnceOwnerUnbindDisabledChange[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindDisabledChange[a]),c.push(this.__cbOnceDisabledChange[a]))}this.__cbOnceOwnerUnbindDisabledChange=o,this.__cbOnceDisabledChange=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onDisabledChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event disabledChange because owner is destroyed!");var l=function(e){null!=t&&(i.offDisabledChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindDisabledChange&&(this.__cbOnOwnerUnbindDisabledChange=[]),this.__cbOnOwnerUnbindDisabledChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindDisabledChange&&(this.__cbOnOwnerUnbindDisabledChange=[]),this.__cbOnOwnerUnbindDisabledChange.push(null);null==this.__cbOnDisabledChange&&(this.__cbOnDisabledChange=[]),this.__cbOnDisabledChange.push(t)},onceDisabledChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event disabledChange because owner is destroyed!");var l=function(e){null!=t&&(i.offDisabledChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindDisabledChange&&(this.__cbOnceOwnerUnbindDisabledChange=[]),this.__cbOnceOwnerUnbindDisabledChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindDisabledChange&&(this.__cbOnceOwnerUnbindDisabledChange=[]),this.__cbOnceOwnerUnbindDisabledChange.push(null);null==this.__cbOnceDisabledChange&&(this.__cbOnceDisabledChange=[]),this.__cbOnceDisabledChange.push(t)},offDisabledChange:function(e){if(null!=e){var n;null!=this.__cbOnDisabledChange&&-1!=(n=this.__cbOnDisabledChange.indexOf(e))&&(this.__cbOnDisabledChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindDisabledChange[n])&&r(),this.__cbOnOwnerUnbindDisabledChange.splice(n,1)),null!=this.__cbOnceDisabledChange&&-1!=(n=this.__cbOnceDisabledChange.indexOf(e))&&(this.__cbOnceDisabledChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindDisabledChange[n])&&r(),this.__cbOnceOwnerUnbindDisabledChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindDisabledChange){for(var t=0,i=this.__cbOnOwnerUnbindDisabledChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindDisabledChange[l])&&r()}this.__cbOnOwnerUnbindDisabledChange=null}if(null!=this.__cbOnceOwnerUnbindDisabledChange){for(t=0,i=this.__cbOnceOwnerUnbindDisabledChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindDisabledChange[l])&&r()}this.__cbOnceOwnerUnbindDisabledChange=null}this.__cbOnDisabledChange=null,this.__cbOnceDisabledChange=null}},listensDisabledChange:function(){return null!=this.__cbOnDisabledChange&&0<this.__cbOnDisabledChange.length||null!=this.__cbOnceDisabledChange&&0<this.__cbOnceDisabledChange.length},set_unobservedDisabled:function(e){return this.unobservedDisabled!=e&&(this.unobservedDisabled=e,this.set_touchable(!e),null!=this.editText&&this.editText.set_disabled(e),e)&&this.get_unobservedFocused()&&he.app.screen.set_focusedVisual(null),e},round:null,sliderContainer:null,sliderSquare:null,focus:function(){B2.prototype.focus.call(this),this.get_focused()||this.editText.focus()},didLostFocus:function(){var e;B2.prototype.didLostFocus.call(this),""==this.textView.text.content||"-"==this.textView.text.content?((e=(e=0)<this.get_minValue()?this.get_minValue():e)>this.get_maxValue()&&(e=this.get_maxValue()),e=this.applyRound(e),this.setValue(this,e),this.updateFromValue()):z.endsWith(this.textView.text.content,".")&&this.updateFromValue(),he.app.screen.offPointerMove($bind(this,this.handleSliderMove)),he.app.screen.offPointerUp($bind(this,this.handleSliderUp))},clipText:function(e,n){var t=this.textView.text;t.set_clipTextX(0),t.set_clipTextY(0),t.set_clipTextWidth(e-6),t.set_clipTextHeight(this.get_height())},layout:function(){B2.prototype.layout.call(this)},layoutSliderContainer:function(){var e=this.sliderContainer.paddingLeft,n=this.sliderContainer.get_width()-this.sliderSquare.get_width()-this.sliderContainer.paddingRight,t=this.get_value(),i=((t=t<this.get_minValue()?this.get_minValue():t)>this.get_maxValue()&&(t=this.get_maxValue()),this.sliderSquare),n=e+(n-e)*(t-this.get_minValue())/(this.get_maxValue()-this.get_minValue()),e=this.sliderContainer.paddingTop;i.set_x(n),i.set_y(e)},handleStopEditText:function(){!this.get_focused()||null==he.app.screen.get_focusedVisual()||he.app.screen.get_focusedVisual().hasIndirectParent(this)&&!he.app.screen.get_focusedVisual().hasIndirectParent(this.textView)||he.app.screen.set_focusedVisual(null)},updateFromValue:function(){var e=this.get_value(),e=(U.unobserve(),""+e);null!=this.editText&&this.editText.updateText(e),this.get_textValue()!=e&&this.set_textValue(e),this.textView.set_content(e),this.sliderContainer.layoutDirty=!0,U.reobserve()},updateStyle:function(){var e,n,t=this.get_theme();null==t&&(t=te.get_context().get_theme()),null!=this.editText&&(this.editText.set_selectionColor(t.get_focusedFieldSelectionColor()),this.editText.set_textCursorColor(t.get_lightTextColor())),this.get_inputStyle()==wi.MINIMAL?(this.flags|=16,0!=this.borderSize&&(this.borderSize=0,this.updateBorder())):(this.flags&=-17,this.color=t.get_darkBackgroundColor(),1!=this.borderSize&&(this.borderSize=1,this.updateBorder())),this.textView.set_textColor(t.get_fieldTextColor()),this.textView.set_font(t.get_mediumFont()),this.get_inputStyle()==wi.MINIMAL?(this.sliderSquare.color=t.get_darkTextColor(),this.sliderContainer.color=t.get_mediumBackgroundColor(),1!=(n=this.sliderContainer).borderSize&&(n.borderSize=1,n.updateBorder()),n=this.sliderContainer,e=Ve.INSIDE,n.borderPosition!=e&&(n.borderPosition=e,0<n.borderSize||0<n.borderTopSize||0<n.borderBottomSize||0<n.borderLeftSize||0<n.borderRightSize)&&n.updateBorder(),0!=(n=this.sliderContainer).borderDepth&&(n.borderDepth=0,null!=n.border)&&n.border.set_depth(0),n=this.sliderContainer,e=t.get_darkBorderColor(),n.borderColor!=e&&(n.borderColor=e,0<n.borderSize||0<n.borderTopSize||0<n.borderBottomSize||0<n.borderLeftSize||0<n.borderRightSize)&&n.updateBorder()):this.get_disabled()?(this.sliderSquare.color=t.get_darkerTextColor(),this.sliderContainer.color=t.get_darkBackgroundColor(),e=t.get_mediumBorderColor(),this.borderColor!=e&&(this.borderColor=e,0<this.borderSize||0<this.borderTopSize||0<this.borderBottomSize||0<this.borderLeftSize||0<this.borderRightSize)&&this.updateBorder(),0!=(n=this.sliderContainer).borderSize&&(n.borderSize=0,n.updateBorder()),this.textView.set_textAlpha(.5)):(e=this.get_focused()?(this.sliderSquare.color=t.get_mediumTextColor(),this.sliderContainer.color=t.get_lightBackgroundColor(),t.get_focusedFieldBorderColor()):(this.sliderSquare.color=t.get_darkTextColor(),this.sliderContainer.color=t.get_mediumBackgroundColor(),t.get_lightBorderColor()),this.borderColor!=e&&(this.borderColor=e,0<this.borderSize||0<this.borderTopSize||0<this.borderBottomSize||0<this.borderLeftSize||0<this.borderRightSize)&&this.updateBorder(),0!=(n=this.sliderContainer).borderSize&&(n.borderSize=0,n.updateBorder()),this.textView.set_textAlpha(1))},applyRound:function(e){return 1==this.round?e=Math.round(e):1<this.round&&(e=Math.round(e*this.round)/this.round),e},handleSliderDown:function(e){this.sliderContainer.screenToVisual(e.x,e.y,ud._point),this.setValueFromSliderX(ud._point.x),he.app.screen.onPointerMove(this,$bind(this,this.handleSliderMove)),he.app.screen.oncePointerUp(this,$bind(this,this.handleSliderUp))},handleSliderMove:function(e){this.sliderContainer.screenToVisual(e.x,e.y,ud._point),this.setValueFromSliderX(ud._point.x)},handleSliderUp:function(e){he.app.screen.offPointerMove($bind(this,this.handleSliderMove)),he.app.screen.offPointerUp($bind(this,this.handleSliderUp))},setValueFromSliderX:function(e){var n=this.sliderContainer.paddingLeft+.5*this.sliderSquare.get_width(),t=this.sliderContainer.paddingRight+.5*this.sliderSquare.get_width(),e=this.get_minValue()+(this.get_maxValue()-this.get_minValue())*(e-n)/(this.sliderContainer.get_width()-n-t);(e=e<this.get_minValue()?this.get_minValue():e)>this.get_maxValue()&&(e=this.get_maxValue()),e=this.applyRound(e),this.setValue(this,e),this.updateFromValue()},unbindEvents:function(){B2.prototype.unbindEvents.call(this),this.offThemeChange(),this.offValueChange(),this.offMinValueChange(),this.offMaxValueChange(),this.offEnabledTextInputChange(),this.offInputStyleChange(),this.offDisabledChange()},__class__:ud,__properties__:$extend(B2.prototype.__properties__,{set_unobservedDisabled:"set_unobservedDisabled",set_disabled:"set_disabled",get_disabled:"get_disabled",set_inputStyle:"set_inputStyle",get_inputStyle:"get_inputStyle",set_enabledTextInput:"set_enabledTextInput",get_enabledTextInput:"get_enabledTextInput",set_maxValue:"set_maxValue",get_maxValue:"get_maxValue",set_minValue:"set_minValue",get_minValue:"get_minValue",set_value:"set_value",get_value:"get_value",set_theme:"set_theme",get_theme:"get_theme"})}),function(){this.initializerName=null,this.findingWithFocused=null,this.rightShiftPressed=!1,this.leftShiftPressed=!1,this.focusRoot=null,j.call(this)}),Ai=((E["elements.TabFocus"]=Si).__name__="elements.TabFocus",Si.__interfaces__=[a0],Si.__super__=j,Si.prototype=$extend(j.prototype,{entity:null,focusRoot:null,leftShiftPressed:null,rightShiftPressed:null,findingWithFocused:null,bindAsComponent:function(){he.app.input.onKeyDown(this,$bind(this,this.handleKeyDown)),he.app.input.onKeyUp(this,$bind(this,this.handleKeyUp))},handleKeyDown:function(e){var n;null!=he.app.screen.get_focusedVisual()&&(he.app.screen.get_focusedVisual()==this.entity||he.app.screen.get_focusedVisual().hasIndirectParent(this.entity)||null!=this.focusRoot&&(he.app.screen.get_focusedVisual()==this.focusRoot||he.app.screen.get_focusedVisual().hasIndirectParent(this.focusRoot)))&&(43==e.scanCode?this.leftShiftPressed||this.rightShiftPressed?this.focusPrevField():this.focusNextField():41==e.scanCode&&null!=(n=this.findCurrentFocusable())&&(n.escapeTabFocus(),null!=this.focusRoot)&&n!=this.findCurrentFocusable()&&he.app.screen.set_focusedVisual(this.focusRoot)),225==e.scanCode?this.leftShiftPressed=!0:229==e.scanCode&&(this.rightShiftPressed=!0)},handleKeyUp:function(e){225==e.scanCode?this.leftShiftPressed=!1:229==e.scanCode&&(this.rightShiftPressed=!1)},focusNextField:function(){this.findingWithFocused=he.app.screen.get_focusedVisual();var e=this.findNextFocusable(this.entity);(null!=e||null!=he.app.screen.get_focusedVisual()&&(this.findingWithFocused=null)!=(e=this.findNextFocusable(this.entity)))&&e.tabFocus(),this.findingWithFocused=null},focusPrevField:function(){this.findingWithFocused=he.app.screen.get_focusedVisual();var e=this.findPrevFocusable(this.entity);(null!=e||null!=he.app.screen.get_focusedVisual()&&(this.findingWithFocused=null)!=(e=this.findPrevFocusable(this.entity)))&&e.tabFocus(),this.findingWithFocused=null},findNextFocusable:function(e){if(null!=e&&null!=e.children)for(var n=0,t=e.children.length;n<t;){var i=n++,i=e.children[i];if(null!=this.findingWithFocused)if(i==this.findingWithFocused)this.findingWithFocused=null;else{var l=this.findNextFocusable(i);if(null!=l&&l.allowsTabFocus())return l}else{if(Ul.__implements(i,y2))return i;l=this.findNextFocusable(i);if(null!=l&&l.allowsTabFocus())return l}}return null},findPrevFocusable:function(e){if(null!=e&&null!=e.children)for(var n=e.children.length-1;0<=n;){var t=e.children[n];if(null!=this.findingWithFocused)if(t==this.findingWithFocused)this.findingWithFocused=null;else{var i=this.findPrevFocusable(t);if(null!=i&&i.allowsTabFocus())return i}else{if(Ul.__implements(t,y2))return t;i=this.findPrevFocusable(t);if(null!=i&&i.allowsTabFocus())return i}--n}return null},findCurrentFocusable:function(){var e=he.app.screen.get_focusedVisual();return null!=e?Ul.__implements(e=e,y2)?e:e.firstParentWithClass(y2):null},setEntity:function(e){this.entity=e instanceof o?e:null},getEntity:function(){return this.entity},initializerName:null,__class__:Si}),(E["elements.TabsLayout"]=wd).__name__="elements.TabsLayout",wd.__interfaces__=[s],wd.__super__=Ub,wd.prototype=$extend(Ub.prototype,{__cbOnObservedDirty:null,__cbOnceObservedDirty:null,__cbOnOwnerUnbindObservedDirty:null,__cbOnceOwnerUnbindObservedDirty:null,emitObservedDirty:function(e,n){var t=0;if(null!=this.__cbOnObservedDirty&&(t+=this.__cbOnObservedDirty.length),null!=this.__cbOnceObservedDirty&&(t+=this.__cbOnceObservedDirty.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnObservedDirty)for(var s=0,h=this.__cbOnObservedDirty.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnObservedDirty[a],++r):--t}if(null!=this.__cbOnceObservedDirty){for(var o=null,c=null,s=0,h=this.__cbOnceObservedDirty.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceObservedDirty[a],this.__cbOnceObservedDirty[a]=null,u=this.__cbOnceOwnerUnbindObservedDirty[a],(this.__cbOnceOwnerUnbindObservedDirty[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindObservedDirty[a]),c.push(this.__cbOnceObservedDirty[a]))}this.__cbOnceOwnerUnbindObservedDirty=o,this.__cbOnceObservedDirty=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onObservedDirty:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event observedDirty because owner is destroyed!");var l=function(e){null!=t&&(i.offObservedDirty(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push(null);null==this.__cbOnObservedDirty&&(this.__cbOnObservedDirty=[]),this.__cbOnObservedDirty.push(t)},onceObservedDirty:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event observedDirty because owner is destroyed!");var l=function(e){null!=t&&(i.offObservedDirty(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push(null);null==this.__cbOnceObservedDirty&&(this.__cbOnceObservedDirty=[]),this.__cbOnceObservedDirty.push(t)},offObservedDirty:function(e){if(null!=e){var n;null!=this.__cbOnObservedDirty&&-1!=(n=this.__cbOnObservedDirty.indexOf(e))&&(this.__cbOnObservedDirty.splice(n,1),null!=(r=this.__cbOnOwnerUnbindObservedDirty[n])&&r(),this.__cbOnOwnerUnbindObservedDirty.splice(n,1)),null!=this.__cbOnceObservedDirty&&-1!=(n=this.__cbOnceObservedDirty.indexOf(e))&&(this.__cbOnceObservedDirty.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindObservedDirty[n])&&r(),this.__cbOnceOwnerUnbindObservedDirty.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindObservedDirty){for(var t=0,i=this.__cbOnOwnerUnbindObservedDirty.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindObservedDirty[l])&&r()}this.__cbOnOwnerUnbindObservedDirty=null}if(null!=this.__cbOnceOwnerUnbindObservedDirty){for(t=0,i=this.__cbOnceOwnerUnbindObservedDirty.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindObservedDirty[l])&&r()}this.__cbOnceOwnerUnbindObservedDirty=null}this.__cbOnObservedDirty=null,this.__cbOnceObservedDirty=null}},listensObservedDirty:function(){return null!=this.__cbOnObservedDirty&&0<this.__cbOnObservedDirty.length||null!=this.__cbOnceObservedDirty&&0<this.__cbOnceObservedDirty.length},observedDirty:null,themeAutoruns:null,get_theme:function(){var e,n,t=this.unobservedTheme;return null!=U.current&&(e=U.current,null!=(n=this.themeAutoruns)||(n=U.getAutorunArray(),null!=(this.themeAutoruns=n)))&&e.bindToAutorunArray(n),t},set_theme:function(e){var n=this.unobservedTheme;return n!=(this.unobservedTheme=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitThemeChange(e,n),null!=(n=this.themeAutoruns))&&(this.themeAutoruns=null,U.invalidateAutorunArray(n)),e},invalidateTheme:function(){var e=this.unobservedTheme,e=(this.emitThemeChange(e,e),this.themeAutoruns);null!=e&&(this.themeAutoruns=null,U.invalidateAutorunArray(e))},unobservedTheme:null,__cbOnThemeChange:null,__cbOnceThemeChange:null,__cbOnOwnerUnbindThemeChange:null,__cbOnceOwnerUnbindThemeChange:null,emitThemeChange:function(e,n){var t=0;if(null!=this.__cbOnThemeChange&&(t+=this.__cbOnThemeChange.length),null!=this.__cbOnceThemeChange&&(t+=this.__cbOnceThemeChange.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnThemeChange)for(var s=0,h=this.__cbOnThemeChange.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnThemeChange[a],++r):--t}if(null!=this.__cbOnceThemeChange){for(var o=null,c=null,s=0,h=this.__cbOnceThemeChange.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceThemeChange[a],this.__cbOnceThemeChange[a]=null,u=this.__cbOnceOwnerUnbindThemeChange[a],(this.__cbOnceOwnerUnbindThemeChange[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindThemeChange[a]),c.push(this.__cbOnceThemeChange[a]))}this.__cbOnceOwnerUnbindThemeChange=o,this.__cbOnceThemeChange=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onThemeChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event themeChange because owner is destroyed!");var l=function(e){null!=t&&(i.offThemeChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindThemeChange&&(this.__cbOnOwnerUnbindThemeChange=[]),this.__cbOnOwnerUnbindThemeChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindThemeChange&&(this.__cbOnOwnerUnbindThemeChange=[]),this.__cbOnOwnerUnbindThemeChange.push(null);null==this.__cbOnThemeChange&&(this.__cbOnThemeChange=[]),this.__cbOnThemeChange.push(t)},onceThemeChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event themeChange because owner is destroyed!");var l=function(e){null!=t&&(i.offThemeChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindThemeChange&&(this.__cbOnceOwnerUnbindThemeChange=[]),this.__cbOnceOwnerUnbindThemeChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindThemeChange&&(this.__cbOnceOwnerUnbindThemeChange=[]),this.__cbOnceOwnerUnbindThemeChange.push(null);null==this.__cbOnceThemeChange&&(this.__cbOnceThemeChange=[]),this.__cbOnceThemeChange.push(t)},offThemeChange:function(e){if(null!=e){var n;null!=this.__cbOnThemeChange&&-1!=(n=this.__cbOnThemeChange.indexOf(e))&&(this.__cbOnThemeChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindThemeChange[n])&&r(),this.__cbOnOwnerUnbindThemeChange.splice(n,1)),null!=this.__cbOnceThemeChange&&-1!=(n=this.__cbOnceThemeChange.indexOf(e))&&(this.__cbOnceThemeChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindThemeChange[n])&&r(),this.__cbOnceOwnerUnbindThemeChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindThemeChange){for(var t=0,i=this.__cbOnOwnerUnbindThemeChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindThemeChange[l])&&r()}this.__cbOnOwnerUnbindThemeChange=null}if(null!=this.__cbOnceOwnerUnbindThemeChange){for(t=0,i=this.__cbOnceOwnerUnbindThemeChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindThemeChange[l])&&r()}this.__cbOnceOwnerUnbindThemeChange=null}this.__cbOnThemeChange=null,this.__cbOnceThemeChange=null}},listensThemeChange:function(){return null!=this.__cbOnThemeChange&&0<this.__cbOnThemeChange.length||null!=this.__cbOnceThemeChange&&0<this.__cbOnceThemeChange.length},marginX:null,set_marginX:function(e){return this.marginX!=e&&(this.marginX=e,this.layoutDirty=!0),e},marginY:null,set_marginY:function(e){return this.marginY!=e&&(this.marginY=e,this.layoutDirty=!0),e},windowItem:null,selectedIndexAutoruns:null,get_selectedIndex:function(){var e,n,t=this.unobservedSelectedIndex;return null!=U.current&&(e=U.current,null!=(n=this.selectedIndexAutoruns)||(n=U.getAutorunArray(),null!=(this.selectedIndexAutoruns=n)))&&e.bindToAutorunArray(n),t},set_selectedIndex:function(e){var n=this.unobservedSelectedIndex;return n!=(this.unobservedSelectedIndex=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitSelectedIndexChange(e,n),null!=(n=this.selectedIndexAutoruns))&&(this.selectedIndexAutoruns=null,U.invalidateAutorunArray(n)),e},invalidateSelectedIndex:function(){var e=this.unobservedSelectedIndex,e=(this.emitSelectedIndexChange(e,e),this.selectedIndexAutoruns);null!=e&&(this.selectedIndexAutoruns=null,U.invalidateAutorunArray(e))},unobservedSelectedIndex:null,__cbOnSelectedIndexChange:null,__cbOnceSelectedIndexChange:null,__cbOnOwnerUnbindSelectedIndexChange:null,__cbOnceOwnerUnbindSelectedIndexChange:null,emitSelectedIndexChange:function(e,n){var t=0;if(null!=this.__cbOnSelectedIndexChange&&(t+=this.__cbOnSelectedIndexChange.length),null!=this.__cbOnceSelectedIndexChange&&(t+=this.__cbOnceSelectedIndexChange.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnSelectedIndexChange)for(var s=0,h=this.__cbOnSelectedIndexChange.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnSelectedIndexChange[a],++r):--t}if(null!=this.__cbOnceSelectedIndexChange){for(var o=null,c=null,s=0,h=this.__cbOnceSelectedIndexChange.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceSelectedIndexChange[a],this.__cbOnceSelectedIndexChange[a]=null,u=this.__cbOnceOwnerUnbindSelectedIndexChange[a],(this.__cbOnceOwnerUnbindSelectedIndexChange[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindSelectedIndexChange[a]),c.push(this.__cbOnceSelectedIndexChange[a]))}this.__cbOnceOwnerUnbindSelectedIndexChange=o,this.__cbOnceSelectedIndexChange=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onSelectedIndexChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event selectedIndexChange because owner is destroyed!");var l=function(e){null!=t&&(i.offSelectedIndexChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindSelectedIndexChange&&(this.__cbOnOwnerUnbindSelectedIndexChange=[]),this.__cbOnOwnerUnbindSelectedIndexChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindSelectedIndexChange&&(this.__cbOnOwnerUnbindSelectedIndexChange=[]),this.__cbOnOwnerUnbindSelectedIndexChange.push(null);null==this.__cbOnSelectedIndexChange&&(this.__cbOnSelectedIndexChange=[]),this.__cbOnSelectedIndexChange.push(t)},onceSelectedIndexChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event selectedIndexChange because owner is destroyed!");var l=function(e){null!=t&&(i.offSelectedIndexChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindSelectedIndexChange&&(this.__cbOnceOwnerUnbindSelectedIndexChange=[]),this.__cbOnceOwnerUnbindSelectedIndexChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindSelectedIndexChange&&(this.__cbOnceOwnerUnbindSelectedIndexChange=[]),this.__cbOnceOwnerUnbindSelectedIndexChange.push(null);null==this.__cbOnceSelectedIndexChange&&(this.__cbOnceSelectedIndexChange=[]),this.__cbOnceSelectedIndexChange.push(t)},offSelectedIndexChange:function(e){if(null!=e){var n;null!=this.__cbOnSelectedIndexChange&&-1!=(n=this.__cbOnSelectedIndexChange.indexOf(e))&&(this.__cbOnSelectedIndexChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindSelectedIndexChange[n])&&r(),this.__cbOnOwnerUnbindSelectedIndexChange.splice(n,1)),null!=this.__cbOnceSelectedIndexChange&&-1!=(n=this.__cbOnceSelectedIndexChange.indexOf(e))&&(this.__cbOnceSelectedIndexChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindSelectedIndexChange[n])&&r(),this.__cbOnceOwnerUnbindSelectedIndexChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindSelectedIndexChange){for(var t=0,i=this.__cbOnOwnerUnbindSelectedIndexChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindSelectedIndexChange[l])&&r()}this.__cbOnOwnerUnbindSelectedIndexChange=null}if(null!=this.__cbOnceOwnerUnbindSelectedIndexChange){for(t=0,i=this.__cbOnceOwnerUnbindSelectedIndexChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindSelectedIndexChange[l])&&r()}this.__cbOnceOwnerUnbindSelectedIndexChange=null}this.__cbOnSelectedIndexChange=null,this.__cbOnceSelectedIndexChange=null}},listensSelectedIndexChange:function(){return null!=this.__cbOnSelectedIndexChange&&0<this.__cbOnSelectedIndexChange.length||null!=this.__cbOnceSelectedIndexChange&&0<this.__cbOnceSelectedIndexChange.length},tabsAutoruns:null,get_tabs:function(){var e,n,t=this.unobservedTabs;return null!=U.current&&(e=U.current,null!=(n=this.tabsAutoruns)||(n=U.getAutorunArray(),null!=(this.tabsAutoruns=n)))&&e.bindToAutorunArray(n),t},set_tabs:function(e){var n=this.unobservedTabs;return this.unobservedTabs=e,Bl.equalAny(n,e)||(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitTabsChange(e,n),null!=(n=this.tabsAutoruns)&&(this.tabsAutoruns=null,U.invalidateAutorunArray(n))),e},invalidateTabs:function(){var e=this.unobservedTabs,e=(this.emitTabsChange(e,e),this.tabsAutoruns);null!=e&&(this.tabsAutoruns=null,U.invalidateAutorunArray(e))},unobservedTabs:null,__cbOnTabsChange:null,__cbOnceTabsChange:null,__cbOnOwnerUnbindTabsChange:null,__cbOnceOwnerUnbindTabsChange:null,emitTabsChange:function(e,n){var t=0;if(null!=this.__cbOnTabsChange&&(t+=this.__cbOnTabsChange.length),null!=this.__cbOnceTabsChange&&(t+=this.__cbOnceTabsChange.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnTabsChange)for(var s=0,h=this.__cbOnTabsChange.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnTabsChange[a],++r):--t}if(null!=this.__cbOnceTabsChange){for(var o=null,c=null,s=0,h=this.__cbOnceTabsChange.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceTabsChange[a],this.__cbOnceTabsChange[a]=null,u=this.__cbOnceOwnerUnbindTabsChange[a],(this.__cbOnceOwnerUnbindTabsChange[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindTabsChange[a]),c.push(this.__cbOnceTabsChange[a]))}this.__cbOnceOwnerUnbindTabsChange=o,this.__cbOnceTabsChange=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onTabsChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event tabsChange because owner is destroyed!");var l=function(e){null!=t&&(i.offTabsChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindTabsChange&&(this.__cbOnOwnerUnbindTabsChange=[]),this.__cbOnOwnerUnbindTabsChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindTabsChange&&(this.__cbOnOwnerUnbindTabsChange=[]),this.__cbOnOwnerUnbindTabsChange.push(null);null==this.__cbOnTabsChange&&(this.__cbOnTabsChange=[]),this.__cbOnTabsChange.push(t)},onceTabsChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event tabsChange because owner is destroyed!");var l=function(e){null!=t&&(i.offTabsChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindTabsChange&&(this.__cbOnceOwnerUnbindTabsChange=[]),this.__cbOnceOwnerUnbindTabsChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindTabsChange&&(this.__cbOnceOwnerUnbindTabsChange=[]),this.__cbOnceOwnerUnbindTabsChange.push(null);null==this.__cbOnceTabsChange&&(this.__cbOnceTabsChange=[]),this.__cbOnceTabsChange.push(t)},offTabsChange:function(e){if(null!=e){var n;null!=this.__cbOnTabsChange&&-1!=(n=this.__cbOnTabsChange.indexOf(e))&&(this.__cbOnTabsChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindTabsChange[n])&&r(),this.__cbOnOwnerUnbindTabsChange.splice(n,1)),null!=this.__cbOnceTabsChange&&-1!=(n=this.__cbOnceTabsChange.indexOf(e))&&(this.__cbOnceTabsChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindTabsChange[n])&&r(),this.__cbOnceOwnerUnbindTabsChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindTabsChange){for(var t=0,i=this.__cbOnOwnerUnbindTabsChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindTabsChange[l])&&r()}this.__cbOnOwnerUnbindTabsChange=null}if(null!=this.__cbOnceOwnerUnbindTabsChange){for(t=0,i=this.__cbOnceOwnerUnbindTabsChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindTabsChange[l])&&r()}this.__cbOnceOwnerUnbindTabsChange=null}this.__cbOnTabsChange=null,this.__cbOnceTabsChange=null}},listensTabsChange:function(){return null!=this.__cbOnTabsChange&&0<this.__cbOnTabsChange.length||null!=this.__cbOnceTabsChange&&0<this.__cbOnceTabsChange.length},tabStatesAutoruns:null,get_tabStates:function(){var e,n,t=this.unobservedTabStates;return null!=U.current&&(e=U.current,null!=(n=this.tabStatesAutoruns)||(n=U.getAutorunArray(),null!=(this.tabStatesAutoruns=n)))&&e.bindToAutorunArray(n),t},set_tabStates:function(e){var n=this.unobservedTabStates;return this.unobservedTabStates=e,Bl.equalAny(n,e)||(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitTabStatesChange(e,n),null!=(n=this.tabStatesAutoruns)&&(this.tabStatesAutoruns=null,U.invalidateAutorunArray(n))),e},invalidateTabStates:function(){var e=this.unobservedTabStates,e=(this.emitTabStatesChange(e,e),this.tabStatesAutoruns);null!=e&&(this.tabStatesAutoruns=null,U.invalidateAutorunArray(e))},unobservedTabStates:null,__cbOnTabStatesChange:null,__cbOnceTabStatesChange:null,__cbOnOwnerUnbindTabStatesChange:null,__cbOnceOwnerUnbindTabStatesChange:null,emitTabStatesChange:function(e,n){var t=0;if(null!=this.__cbOnTabStatesChange&&(t+=this.__cbOnTabStatesChange.length),null!=this.__cbOnceTabStatesChange&&(t+=this.__cbOnceTabStatesChange.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnTabStatesChange)for(var s=0,h=this.__cbOnTabStatesChange.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnTabStatesChange[a],++r):--t}if(null!=this.__cbOnceTabStatesChange){for(var o=null,c=null,s=0,h=this.__cbOnceTabStatesChange.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceTabStatesChange[a],this.__cbOnceTabStatesChange[a]=null,u=this.__cbOnceOwnerUnbindTabStatesChange[a],(this.__cbOnceOwnerUnbindTabStatesChange[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindTabStatesChange[a]),c.push(this.__cbOnceTabStatesChange[a]))}this.__cbOnceOwnerUnbindTabStatesChange=o,this.__cbOnceTabStatesChange=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onTabStatesChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event tabStatesChange because owner is destroyed!");var l=function(e){null!=t&&(i.offTabStatesChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindTabStatesChange&&(this.__cbOnOwnerUnbindTabStatesChange=[]),this.__cbOnOwnerUnbindTabStatesChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindTabStatesChange&&(this.__cbOnOwnerUnbindTabStatesChange=[]),this.__cbOnOwnerUnbindTabStatesChange.push(null);null==this.__cbOnTabStatesChange&&(this.__cbOnTabStatesChange=[]),this.__cbOnTabStatesChange.push(t)},onceTabStatesChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event tabStatesChange because owner is destroyed!");var l=function(e){null!=t&&(i.offTabStatesChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindTabStatesChange&&(this.__cbOnceOwnerUnbindTabStatesChange=[]),this.__cbOnceOwnerUnbindTabStatesChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindTabStatesChange&&(this.__cbOnceOwnerUnbindTabStatesChange=[]),this.__cbOnceOwnerUnbindTabStatesChange.push(null);null==this.__cbOnceTabStatesChange&&(this.__cbOnceTabStatesChange=[]),this.__cbOnceTabStatesChange.push(t)},offTabStatesChange:function(e){if(null!=e){var n;null!=this.__cbOnTabStatesChange&&-1!=(n=this.__cbOnTabStatesChange.indexOf(e))&&(this.__cbOnTabStatesChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindTabStatesChange[n])&&r(),this.__cbOnOwnerUnbindTabStatesChange.splice(n,1)),null!=this.__cbOnceTabStatesChange&&-1!=(n=this.__cbOnceTabStatesChange.indexOf(e))&&(this.__cbOnceTabStatesChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindTabStatesChange[n])&&r(),this.__cbOnceOwnerUnbindTabStatesChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindTabStatesChange){for(var t=0,i=this.__cbOnOwnerUnbindTabStatesChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindTabStatesChange[l])&&r()}this.__cbOnOwnerUnbindTabStatesChange=null}if(null!=this.__cbOnceOwnerUnbindTabStatesChange){for(t=0,i=this.__cbOnceOwnerUnbindTabStatesChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindTabStatesChange[l])&&r()}this.__cbOnceOwnerUnbindTabStatesChange=null}this.__cbOnTabStatesChange=null,this.__cbOnceTabStatesChange=null}},listensTabStatesChange:function(){return null!=this.__cbOnTabStatesChange&&0<this.__cbOnTabStatesChange.length||null!=this.__cbOnceTabStatesChange&&0<this.__cbOnceTabStatesChange.length},tabThemesAutoruns:null,get_tabThemes:function(){var e,n,t=this.unobservedTabThemes;return null!=U.current&&(e=U.current,null!=(n=this.tabThemesAutoruns)||(n=U.getAutorunArray(),null!=(this.tabThemesAutoruns=n)))&&e.bindToAutorunArray(n),t},set_tabThemes:function(e){var n=this.unobservedTabThemes;return this.unobservedTabThemes=e,Bl.equalAny(n,e)||(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitTabThemesChange(e,n),null!=(n=this.tabThemesAutoruns)&&(this.tabThemesAutoruns=null,U.invalidateAutorunArray(n))),e},invalidateTabThemes:function(){var e=this.unobservedTabThemes,e=(this.emitTabThemesChange(e,e),this.tabThemesAutoruns);null!=e&&(this.tabThemesAutoruns=null,U.invalidateAutorunArray(e))},unobservedTabThemes:null,__cbOnTabThemesChange:null,__cbOnceTabThemesChange:null,__cbOnOwnerUnbindTabThemesChange:null,__cbOnceOwnerUnbindTabThemesChange:null,emitTabThemesChange:function(e,n){var t=0;if(null!=this.__cbOnTabThemesChange&&(t+=this.__cbOnTabThemesChange.length),null!=this.__cbOnceTabThemesChange&&(t+=this.__cbOnceTabThemesChange.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnTabThemesChange)for(var s=0,h=this.__cbOnTabThemesChange.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnTabThemesChange[a],++r):--t}if(null!=this.__cbOnceTabThemesChange){for(var o=null,c=null,s=0,h=this.__cbOnceTabThemesChange.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceTabThemesChange[a],this.__cbOnceTabThemesChange[a]=null,u=this.__cbOnceOwnerUnbindTabThemesChange[a],(this.__cbOnceOwnerUnbindTabThemesChange[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindTabThemesChange[a]),c.push(this.__cbOnceTabThemesChange[a]))}this.__cbOnceOwnerUnbindTabThemesChange=o,this.__cbOnceTabThemesChange=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onTabThemesChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event tabThemesChange because owner is destroyed!");var l=function(e){null!=t&&(i.offTabThemesChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindTabThemesChange&&(this.__cbOnOwnerUnbindTabThemesChange=[]),this.__cbOnOwnerUnbindTabThemesChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindTabThemesChange&&(this.__cbOnOwnerUnbindTabThemesChange=[]),this.__cbOnOwnerUnbindTabThemesChange.push(null);null==this.__cbOnTabThemesChange&&(this.__cbOnTabThemesChange=[]),this.__cbOnTabThemesChange.push(t)},onceTabThemesChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event tabThemesChange because owner is destroyed!");var l=function(e){null!=t&&(i.offTabThemesChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindTabThemesChange&&(this.__cbOnceOwnerUnbindTabThemesChange=[]),this.__cbOnceOwnerUnbindTabThemesChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindTabThemesChange&&(this.__cbOnceOwnerUnbindTabThemesChange=[]),this.__cbOnceOwnerUnbindTabThemesChange.push(null);null==this.__cbOnceTabThemesChange&&(this.__cbOnceTabThemesChange=[]),this.__cbOnceTabThemesChange.push(t)},offTabThemesChange:function(e){if(null!=e){var n;null!=this.__cbOnTabThemesChange&&-1!=(n=this.__cbOnTabThemesChange.indexOf(e))&&(this.__cbOnTabThemesChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindTabThemesChange[n])&&r(),this.__cbOnOwnerUnbindTabThemesChange.splice(n,1)),null!=this.__cbOnceTabThemesChange&&-1!=(n=this.__cbOnceTabThemesChange.indexOf(e))&&(this.__cbOnceTabThemesChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindTabThemesChange[n])&&r(),this.__cbOnceOwnerUnbindTabThemesChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindTabThemesChange){for(var t=0,i=this.__cbOnOwnerUnbindTabThemesChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindTabThemesChange[l])&&r()}this.__cbOnOwnerUnbindTabThemesChange=null}if(null!=this.__cbOnceOwnerUnbindTabThemesChange){for(t=0,i=this.__cbOnceOwnerUnbindTabThemesChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindTabThemesChange[l])&&r()}this.__cbOnceOwnerUnbindTabThemesChange=null}this.__cbOnTabThemesChange=null,this.__cbOnceTabThemesChange=null}},listensTabThemesChange:function(){return null!=this.__cbOnTabThemesChange&&0<this.__cbOnTabThemesChange.length||null!=this.__cbOnceTabThemesChange&&0<this.__cbOnceTabThemesChange.length},tabViewsAutoruns:null,get_tabViews:function(){var e,n,t=this.unobservedTabViews;return null!=U.current&&(e=U.current,null!=(n=this.tabViewsAutoruns)||(n=U.getAutorunArray(),null!=(this.tabViewsAutoruns=n)))&&e.bindToAutorunArray(n),t},set_tabViews:function(e){var n=this.unobservedTabViews;return this.unobservedTabViews=e,Bl.equalAny(n,e)||(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitTabViewsChange(e,n),null!=(n=this.tabViewsAutoruns)&&(this.tabViewsAutoruns=null,U.invalidateAutorunArray(n))),e},invalidateTabViews:function(){var e=this.unobservedTabViews,e=(this.emitTabViewsChange(e,e),this.tabViewsAutoruns);null!=e&&(this.tabViewsAutoruns=null,U.invalidateAutorunArray(e))},unobservedTabViews:null,__cbOnTabViewsChange:null,__cbOnceTabViewsChange:null,__cbOnOwnerUnbindTabViewsChange:null,__cbOnceOwnerUnbindTabViewsChange:null,emitTabViewsChange:function(e,n){var t=0;if(null!=this.__cbOnTabViewsChange&&(t+=this.__cbOnTabViewsChange.length),null!=this.__cbOnceTabViewsChange&&(t+=this.__cbOnceTabViewsChange.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnTabViewsChange)for(var s=0,h=this.__cbOnTabViewsChange.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnTabViewsChange[a],++r):--t}if(null!=this.__cbOnceTabViewsChange){for(var o=null,c=null,s=0,h=this.__cbOnceTabViewsChange.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceTabViewsChange[a],this.__cbOnceTabViewsChange[a]=null,u=this.__cbOnceOwnerUnbindTabViewsChange[a],(this.__cbOnceOwnerUnbindTabViewsChange[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindTabViewsChange[a]),c.push(this.__cbOnceTabViewsChange[a]))}this.__cbOnceOwnerUnbindTabViewsChange=o,this.__cbOnceTabViewsChange=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onTabViewsChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event tabViewsChange because owner is destroyed!");var l=function(e){null!=t&&(i.offTabViewsChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindTabViewsChange&&(this.__cbOnOwnerUnbindTabViewsChange=[]),this.__cbOnOwnerUnbindTabViewsChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindTabViewsChange&&(this.__cbOnOwnerUnbindTabViewsChange=[]),this.__cbOnOwnerUnbindTabViewsChange.push(null);null==this.__cbOnTabViewsChange&&(this.__cbOnTabViewsChange=[]),this.__cbOnTabViewsChange.push(t)},onceTabViewsChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event tabViewsChange because owner is destroyed!");var l=function(e){null!=t&&(i.offTabViewsChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindTabViewsChange&&(this.__cbOnceOwnerUnbindTabViewsChange=[]),this.__cbOnceOwnerUnbindTabViewsChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindTabViewsChange&&(this.__cbOnceOwnerUnbindTabViewsChange=[]),this.__cbOnceOwnerUnbindTabViewsChange.push(null);null==this.__cbOnceTabViewsChange&&(this.__cbOnceTabViewsChange=[]),this.__cbOnceTabViewsChange.push(t)},offTabViewsChange:function(e){if(null!=e){var n;null!=this.__cbOnTabViewsChange&&-1!=(n=this.__cbOnTabViewsChange.indexOf(e))&&(this.__cbOnTabViewsChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindTabViewsChange[n])&&r(),this.__cbOnOwnerUnbindTabViewsChange.splice(n,1)),null!=this.__cbOnceTabViewsChange&&-1!=(n=this.__cbOnceTabViewsChange.indexOf(e))&&(this.__cbOnceTabViewsChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindTabViewsChange[n])&&r(),this.__cbOnceOwnerUnbindTabViewsChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindTabViewsChange){for(var t=0,i=this.__cbOnOwnerUnbindTabViewsChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindTabViewsChange[l])&&r()}this.__cbOnOwnerUnbindTabViewsChange=null}if(null!=this.__cbOnceOwnerUnbindTabViewsChange){for(t=0,i=this.__cbOnceOwnerUnbindTabViewsChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindTabViewsChange[l])&&r()}this.__cbOnceOwnerUnbindTabViewsChange=null}this.__cbOnTabViewsChange=null,this.__cbOnceTabViewsChange=null}},listensTabViewsChange:function(){return null!=this.__cbOnTabViewsChange&&0<this.__cbOnTabViewsChange.length||null!=this.__cbOnceTabViewsChange&&0<this.__cbOnceTabViewsChange.length},hoverIndexAutoruns:null,get_hoverIndex:function(){var e,n,t=this.unobservedHoverIndex;return null!=U.current&&(e=U.current,null!=(n=this.hoverIndexAutoruns)||(n=U.getAutorunArray(),null!=(this.hoverIndexAutoruns=n)))&&e.bindToAutorunArray(n),t},set_hoverIndex:function(e){var n=this.unobservedHoverIndex;return n!=(this.unobservedHoverIndex=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitHoverIndexChange(e,n),null!=(n=this.hoverIndexAutoruns))&&(this.hoverIndexAutoruns=null,U.invalidateAutorunArray(n)),e},invalidateHoverIndex:function(){var e=this.unobservedHoverIndex,e=(this.emitHoverIndexChange(e,e),this.hoverIndexAutoruns);null!=e&&(this.hoverIndexAutoruns=null,U.invalidateAutorunArray(e))},unobservedHoverIndex:null,__cbOnHoverIndexChange:null,__cbOnceHoverIndexChange:null,__cbOnOwnerUnbindHoverIndexChange:null,__cbOnceOwnerUnbindHoverIndexChange:null,emitHoverIndexChange:function(e,n){var t=0;if(null!=this.__cbOnHoverIndexChange&&(t+=this.__cbOnHoverIndexChange.length),null!=this.__cbOnceHoverIndexChange&&(t+=this.__cbOnceHoverIndexChange.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnHoverIndexChange)for(var s=0,h=this.__cbOnHoverIndexChange.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnHoverIndexChange[a],++r):--t}if(null!=this.__cbOnceHoverIndexChange){for(var o=null,c=null,s=0,h=this.__cbOnceHoverIndexChange.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceHoverIndexChange[a],this.__cbOnceHoverIndexChange[a]=null,u=this.__cbOnceOwnerUnbindHoverIndexChange[a],(this.__cbOnceOwnerUnbindHoverIndexChange[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindHoverIndexChange[a]),c.push(this.__cbOnceHoverIndexChange[a]))}this.__cbOnceOwnerUnbindHoverIndexChange=o,this.__cbOnceHoverIndexChange=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onHoverIndexChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event hoverIndexChange because owner is destroyed!");var l=function(e){null!=t&&(i.offHoverIndexChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindHoverIndexChange&&(this.__cbOnOwnerUnbindHoverIndexChange=[]),this.__cbOnOwnerUnbindHoverIndexChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindHoverIndexChange&&(this.__cbOnOwnerUnbindHoverIndexChange=[]),this.__cbOnOwnerUnbindHoverIndexChange.push(null);null==this.__cbOnHoverIndexChange&&(this.__cbOnHoverIndexChange=[]),this.__cbOnHoverIndexChange.push(t)},onceHoverIndexChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event hoverIndexChange because owner is destroyed!");var l=function(e){null!=t&&(i.offHoverIndexChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindHoverIndexChange&&(this.__cbOnceOwnerUnbindHoverIndexChange=[]),this.__cbOnceOwnerUnbindHoverIndexChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindHoverIndexChange&&(this.__cbOnceOwnerUnbindHoverIndexChange=[]),this.__cbOnceOwnerUnbindHoverIndexChange.push(null);null==this.__cbOnceHoverIndexChange&&(this.__cbOnceHoverIndexChange=[]),this.__cbOnceHoverIndexChange.push(t)},offHoverIndexChange:function(e){if(null!=e){var n;null!=this.__cbOnHoverIndexChange&&-1!=(n=this.__cbOnHoverIndexChange.indexOf(e))&&(this.__cbOnHoverIndexChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindHoverIndexChange[n])&&r(),this.__cbOnOwnerUnbindHoverIndexChange.splice(n,1)),null!=this.__cbOnceHoverIndexChange&&-1!=(n=this.__cbOnceHoverIndexChange.indexOf(e))&&(this.__cbOnceHoverIndexChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindHoverIndexChange[n])&&r(),this.__cbOnceOwnerUnbindHoverIndexChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindHoverIndexChange){for(var t=0,i=this.__cbOnOwnerUnbindHoverIndexChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindHoverIndexChange[l])&&r()}this.__cbOnOwnerUnbindHoverIndexChange=null}if(null!=this.__cbOnceOwnerUnbindHoverIndexChange){for(t=0,i=this.__cbOnceOwnerUnbindHoverIndexChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindHoverIndexChange[l])&&r()}this.__cbOnceOwnerUnbindHoverIndexChange=null}this.__cbOnHoverIndexChange=null,this.__cbOnceHoverIndexChange=null}},listensHoverIndexChange:function(){return null!=this.__cbOnHoverIndexChange&&0<this.__cbOnHoverIndexChange.length||null!=this.__cbOnceHoverIndexChange&&0<this.__cbOnceHoverIndexChange.length},appliedTabs:null,beforeBorder:null,afterBorder:null,beforeSelectedBackground:null,afterSelectedBackground:null,topBackground:null,bottomBackground:null,updateTabs:function(){for(var e=this.get_tabs(),n=(U.unobserve(),this.get_tabViews()),t=!1,i=0,l=e.length;i<l;){var r=i++,s=e[r],h=n[r];null==h&&((h=new w1).set_content(s),h.set_pointSize(12),h.set_preRenderedSize(20),h.set_align(_t.CENTER),h.set_verticalAlign(En.CENTER),h.set_viewHeight(-60002),h.padding(0,10),h.set_depth(1),n.push(h),this.add(h),t=!0,this.initTabView(r,h))}for(;n.length>e.length;){t=!0;n.pop().destroy()}t&&this.set_tabViews([].concat(n)),U.reobserve()},renderWindowBackground:function(){return!0},initTabView:function(n,e){var t=this;e.onPointerOver(this,function(e){t.set_hoverIndex(n)}),e.onPointerOut(this,function(e){t.get_hoverIndex()==n&&t.set_hoverIndex(-1)}),e.onPointerDown(this,function(e){t.set_selectedIndex(n)}),e.autorun(function(){e.set_touchable(1!=t.get_tabStates()[n])})},layout:function(){if(Ub.prototype.layout.call(this),0<=this.get_selectedIndex()&&null!=this.get_tabViews()&&0<this.get_tabViews().length){(i=this.get_tabViews()[this.get_selectedIndex()]).set_depth(this.get_tabViews().length);for(var e=this.get_selectedIndex()-1,n=i.depth-1;0<=e;)this.get_tabViews()[e].set_depth(n),--e,--n;e=this.get_selectedIndex()+1;for(n=i.depth-1;e<this.get_tabViews().length;)this.get_tabViews()[e].set_depth(n),++e,--n}else if(null!=this.get_tabViews()&&0<this.get_tabViews().length)for(e=this.get_tabViews().length-1,n=1;0<=e;)this.get_tabViews()[e].set_depth(n),--e,++n;var t,i,l,r,s,h,a;0<=this.get_selectedIndex()&&this.get_tabViews().length>this.get_selectedIndex()?(i=this.get_tabViews()[this.get_selectedIndex()],this.beforeBorder.set_active(!0),s=this.beforeBorder,l=-this.marginX,r=this.get_height()-1,s.set_x(l),s.set_y(r),(s=this.beforeBorder).set_width(this.marginX+i.x),s.set_height(1)):0<this.marginX?(this.beforeBorder.set_active(!0),s=this.beforeBorder,l=-this.marginX,r=this.get_height()-1,s.set_x(l),s.set_y(r),(s=this.beforeBorder).set_width(this.marginX),s.set_height(1)):this.beforeBorder.set_active(!1),0<=this.get_selectedIndex()&&this.get_selectedIndex()<=this.get_tabViews().length-1?(i=this.get_tabViews()[this.get_selectedIndex()],this.afterBorder.set_active(!0),s=this.afterBorder,l=i.x+i.get_width(),r=this.get_height()-1,s.set_x(l),s.set_y(r),(s=this.afterBorder).set_width(this.marginX+this.get_width()-i.x-i.get_width())):(t=null!=(t=0<this.get_tabViews().length?this.get_tabViews()[this.get_tabViews().length-1]:null)?t.x+t.get_width():0,this.afterBorder.set_active(!0),s=this.afterBorder,r=this.get_height()-1,s.set_x(t),s.set_y(r),(s=this.afterBorder).set_width(this.marginX+this.get_width()-t)),s.set_height(1),0<=this.get_selectedIndex()&&null!=this.get_tabViews()&&0<this.get_tabViews().length?(i=this.get_tabViews()[this.get_selectedIndex()],null!=this.beforeSelectedBackground&&((s=this.beforeSelectedBackground).set_x(-this.marginX),s.set_y(0),s=this.beforeSelectedBackground,h=this.marginX+i.x,a=this.get_height(),s.set_width(h),s.set_height(a)),null!=this.afterSelectedBackground&&((s=this.afterSelectedBackground).set_x(i.x+i.get_width()),s.set_y(0),s=this.afterSelectedBackground,h=this.marginX+this.get_width()-i.x-i.get_width(),a=this.get_height(),s.set_width(h),s.set_height(a))):(null!=this.beforeSelectedBackground&&((s=this.beforeSelectedBackground).set_x(-this.marginX),s.set_y(0),s=this.beforeSelectedBackground,h=2*this.marginX+this.get_width(),a=this.get_height(),s.set_width(h),s.set_height(a)),null!=this.afterSelectedBackground&&((s=this.afterSelectedBackground).set_x(0),s.set_y(0),(s=this.afterSelectedBackground).set_width(0),s.set_height(0))),null!=this.topBackground&&(s=this.topBackground,r=-this.marginY,s.set_x(-this.marginX),s.set_y(r),s=this.topBackground,h=2*this.marginX+this.get_width(),a=this.marginY,s.set_width(h),s.set_height(a)),null!=this.bottomBackground&&(s=this.bottomBackground,l=-this.marginX,r=this.get_height(),s.set_x(l),s.set_y(r),s=this.bottomBackground,h=2*this.marginX+this.get_width(),a=this.marginY,s.set_width(h),s.set_height(a))},updateStyle:function(){var e=this.get_theme(),n=e=null==e?te.get_context().get_theme():e,t=this.get_selectedIndex(),i=this.get_hoverIndex(),l=e.get_backgroundInFormLayout();if(null!=this.get_tabViews())for(var r=0,s=this.get_tabViews().length;r<s;){var h=r++,a=this.get_tabViews()[h],o=this.get_tabThemes()[h],c=(null==o&&(o=e),1==this.get_tabStates()[h]),u=(1!=a.borderLeftSize&&(a.borderLeftSize=1,a.updateBorder()),1!=a.borderRightSize&&(a.borderRightSize=1,a.updateBorder()),1!=a.borderTopSize&&(a.borderTopSize=1,a.updateBorder()),0!=a.borderBottomSize&&(a.borderBottomSize=0,a.updateBorder()),Ve.INSIDE),u=(a.borderPosition!=u&&(a.borderPosition=u,0<a.borderSize||0<a.borderTopSize||0<a.borderBottomSize||0<a.borderLeftSize||0<a.borderRightSize)&&a.updateBorder(),o.get_tabsBorderColor());a.borderColor!=u&&(a.borderColor=u,0<a.borderSize||0<a.borderTopSize||0<a.borderBottomSize||0<a.borderLeftSize||0<a.borderRightSize)&&a.updateBorder(),h==t?(a.set_textColor(o.get_lightTextColor()),a.set_textAlpha(1),1!=a.borderAlpha&&(a.borderAlpha=1,null!=a.border)&&a.border.set_alpha(1),e.get_backgroundInFormLayout()?(a.flags&=-17,a.set_alpha(o.get_windowBackgroundAlpha()),a.color=o.get_windowBackgroundColor()):(a.flags|=16,a.set_alpha(1)),n=o):c||h!=i?(c?(a.set_textColor(o.get_darkTextColor()),a.set_textAlpha(o.get_disabledTabTextAlpha()),u=o.get_disabledTabBorderAlpha(),a.borderAlpha!=u&&(a.borderAlpha=u,null!=a.border)&&a.border.set_alpha(u)):(a.set_textColor(o.get_darkTextColor()),a.set_textAlpha(1),1!=a.borderAlpha&&(a.borderAlpha=1,null!=a.border)&&a.border.set_alpha(1)),a.flags&=-17,a.set_alpha(o.get_tabsBackgroundAlpha()),a.color=o.get_tabsBackgroundColor()):(a.set_textColor(o.get_mediumTextColor()),a.set_textAlpha(1),1!=a.borderAlpha&&(a.borderAlpha=1,null!=a.border)&&a.border.set_alpha(1),a.flags&=-17,a.set_alpha(o.get_tabsHoverBackgroundAlpha()),a.color=o.get_tabsHoverBackgroundColor())}this.beforeBorder.color=n.get_tabsBorderColor(),this.afterBorder.color=n.get_tabsBorderColor(),l?(U.unobserve(),null==this.beforeSelectedBackground&&(this.beforeSelectedBackground=new p,this.beforeSelectedBackground.set_depth(.5),this.add(this.beforeSelectedBackground)),null==this.afterSelectedBackground&&(this.afterSelectedBackground=new p,this.afterSelectedBackground.set_depth(.5),this.add(this.afterSelectedBackground)),null==this.topBackground&&(this.topBackground=new p,this.topBackground.set_depth(.5),this.add(this.topBackground)),null==this.bottomBackground&&(this.bottomBackground=new p,this.bottomBackground.set_depth(.5),this.add(this.bottomBackground)),U.reobserve(),this.beforeSelectedBackground.set_alpha(e.get_windowBackgroundAlpha()),this.beforeSelectedBackground.color=e.get_windowBackgroundColor(),this.afterSelectedBackground.set_alpha(e.get_windowBackgroundAlpha()),this.afterSelectedBackground.color=e.get_windowBackgroundColor(),this.topBackground.set_alpha(e.get_windowBackgroundAlpha()),this.topBackground.color=e.get_windowBackgroundColor(),this.bottomBackground.set_alpha(n.get_windowBackgroundAlpha()),this.bottomBackground.color=n.get_windowBackgroundColor()):(U.unobserve(),null!=this.beforeSelectedBackground&&(this.beforeSelectedBackground.destroy(),this.beforeSelectedBackground=null),null!=this.afterSelectedBackground&&(this.afterSelectedBackground.destroy(),this.afterSelectedBackground=null),null!=this.topBackground&&(this.topBackground.destroy(),this.topBackground=null),null!=this.bottomBackground&&(this.bottomBackground.destroy(),this.bottomBackground=null),U.reobserve())},unbindEvents:function(){Ub.prototype.unbindEvents.call(this),this.offObservedDirty(),this.offThemeChange(),this.offSelectedIndexChange(),this.offTabsChange(),this.offTabStatesChange(),this.offTabThemesChange(),this.offTabViewsChange(),this.offHoverIndexChange()},__class__:wd,__properties__:$extend(Ub.prototype.__properties__,{set_hoverIndex:"set_hoverIndex",get_hoverIndex:"get_hoverIndex",set_tabViews:"set_tabViews",get_tabViews:"get_tabViews",set_tabThemes:"set_tabThemes",get_tabThemes:"get_tabThemes",set_tabStates:"set_tabStates",get_tabStates:"get_tabStates",set_tabs:"set_tabs",get_tabs:"get_tabs",set_selectedIndex:"set_selectedIndex",get_selectedIndex:"get_selectedIndex",set_marginY:"set_marginY",set_marginX:"set_marginX",set_theme:"set_theme",get_theme:"get_theme"})}),function(e){null==e&&(e=ki.TEXT),this.unobservedDisabled=!1,this.disabledAutoruns=null,this.unobservedTextAlign=_t.LEFT,this.textAlignAutoruns=null,this.unobservedInputStyle=wi.DEFAULT,this.inputStyleAutoruns=null,this.unobservedPlaceholder="",this.placeholderAutoruns=null,this.multiline=!1,this.unobservedTheme=null,this.themeAutoruns=null;var t=this,e=(B2.call(this),this.kind=null!=e?e:ki.TEXT,this.padding(6,6,6,6),this.layers=new Ab,this.layers);e.set_viewWidth(-60002),e.set_viewHeight(-60001),this.add(this.layers),this.textView=new w1,this.textView.set_minHeight(15),(e=this.textView).set_viewWidth(-60002),e.set_viewHeight(-60001),this.textView.set_verticalAlign(En.CENTER),this.textView.onResize(this,$bind(this,this.clipText)),this.autorun(function(){t.textView.set_align(t.get_textAlign())}),this.textView.set_pointSize(12),this.textView.set_preRenderedSize(20),this.textView.set_maxLineDiff(-1),this.layers.add(this.textView),this.placeholderView=new w1,this.placeholderView.set_minHeight(15);(e=this.placeholderView).set_viewWidth(-60002),e.set_viewHeight(-60001),this.placeholderView.set_verticalAlign(En.CENTER),this.placeholderView.set_skewX(10),this.placeholderView.set_offsetX(1),this.autorun(function(){t.placeholderView.set_align(t.get_textAlign())}),this.placeholderView.set_pointSize(12),this.placeholderView.set_preRenderedSize(20),this.placeholderView.set_maxLineDiff(-1),this.layers.add(this.placeholderView);e=this.get_theme();null==e&&(e=te.get_context().get_theme()),this.editText=new K0(e.get_focusedFieldSelectionColor(),e.get_lightTextColor()),this.editText.set_container(this),this.textView.text.component("editText",this.editText),this.editText.onUpdate(this,$bind(this,this.updateFromEditText)),this.editText.onStop(this,$bind(this,this.handleStopEditText)),this.editText.onSubmit(this,$bind(this,this.handleEditTextSubmit)),this.autorun($bind(this,this.updateStyle)),this.autorun($bind(this,this.updateFromTextValue)),this.autorun($bind(this,this.updatePlaceholder)),null!=this.editText&&this.onDisabledChange(this,function(e,n){t.editText.set_disabled(e)}),this.bindKeyBindings()}),ki=((E["elements.TextFieldView"]=Ai).__name__="elements.TextFieldView",Ai.__super__=B2,Ai.prototype=$extend(B2.prototype,{themeAutoruns:null,get_theme:function(){var e,n,t=this.unobservedTheme;return null!=U.current&&(e=U.current,null!=(n=this.themeAutoruns)||(n=U.getAutorunArray(),null!=(this.themeAutoruns=n)))&&e.bindToAutorunArray(n),t},set_theme:function(e){var n=this.unobservedTheme;return n!=(this.unobservedTheme=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitThemeChange(e,n),null!=(n=this.themeAutoruns))&&(this.themeAutoruns=null,U.invalidateAutorunArray(n)),e},invalidateTheme:function(){var e=this.unobservedTheme,e=(this.emitThemeChange(e,e),this.themeAutoruns);null!=e&&(this.themeAutoruns=null,U.invalidateAutorunArray(e))},unobservedTheme:null,__cbOnThemeChange:null,__cbOnceThemeChange:null,__cbOnOwnerUnbindThemeChange:null,__cbOnceOwnerUnbindThemeChange:null,emitThemeChange:function(e,n){var t=0;if(null!=this.__cbOnThemeChange&&(t+=this.__cbOnThemeChange.length),null!=this.__cbOnceThemeChange&&(t+=this.__cbOnceThemeChange.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnThemeChange)for(var s=0,h=this.__cbOnThemeChange.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnThemeChange[a],++r):--t}if(null!=this.__cbOnceThemeChange){for(var o=null,c=null,s=0,h=this.__cbOnceThemeChange.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceThemeChange[a],this.__cbOnceThemeChange[a]=null,u=this.__cbOnceOwnerUnbindThemeChange[a],(this.__cbOnceOwnerUnbindThemeChange[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindThemeChange[a]),c.push(this.__cbOnceThemeChange[a]))}this.__cbOnceOwnerUnbindThemeChange=o,this.__cbOnceThemeChange=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onThemeChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event themeChange because owner is destroyed!");var l=function(e){null!=t&&(i.offThemeChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindThemeChange&&(this.__cbOnOwnerUnbindThemeChange=[]),this.__cbOnOwnerUnbindThemeChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindThemeChange&&(this.__cbOnOwnerUnbindThemeChange=[]),this.__cbOnOwnerUnbindThemeChange.push(null);null==this.__cbOnThemeChange&&(this.__cbOnThemeChange=[]),this.__cbOnThemeChange.push(t)},onceThemeChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event themeChange because owner is destroyed!");var l=function(e){null!=t&&(i.offThemeChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindThemeChange&&(this.__cbOnceOwnerUnbindThemeChange=[]),this.__cbOnceOwnerUnbindThemeChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindThemeChange&&(this.__cbOnceOwnerUnbindThemeChange=[]),this.__cbOnceOwnerUnbindThemeChange.push(null);null==this.__cbOnceThemeChange&&(this.__cbOnceThemeChange=[]),this.__cbOnceThemeChange.push(t)},offThemeChange:function(e){if(null!=e){var n;null!=this.__cbOnThemeChange&&-1!=(n=this.__cbOnThemeChange.indexOf(e))&&(this.__cbOnThemeChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindThemeChange[n])&&r(),this.__cbOnOwnerUnbindThemeChange.splice(n,1)),null!=this.__cbOnceThemeChange&&-1!=(n=this.__cbOnceThemeChange.indexOf(e))&&(this.__cbOnceThemeChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindThemeChange[n])&&r(),this.__cbOnceOwnerUnbindThemeChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindThemeChange){for(var t=0,i=this.__cbOnOwnerUnbindThemeChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindThemeChange[l])&&r()}this.__cbOnOwnerUnbindThemeChange=null}if(null!=this.__cbOnceOwnerUnbindThemeChange){for(t=0,i=this.__cbOnceOwnerUnbindThemeChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindThemeChange[l])&&r()}this.__cbOnceOwnerUnbindThemeChange=null}this.__cbOnThemeChange=null,this.__cbOnceThemeChange=null}},listensThemeChange:function(){return null!=this.__cbOnThemeChange&&0<this.__cbOnThemeChange.length||null!=this.__cbOnceThemeChange&&0<this.__cbOnceThemeChange.length},didLostFocus:function(){B2.prototype.didLostFocus.call(this),(""==this.get_textValue()||this.kind==ki.NUMERIC&&"-"==this.get_textValue())&&this.setEmptyValue(this)},multiline:null,set_multiline:function(e){return this.multiline=e,null!=this.editText&&(this.editText.multiline=e),e},placeholderAutoruns:null,get_placeholder:function(){var e,n,t=this.unobservedPlaceholder;return null!=U.current&&(e=U.current,null!=(n=this.placeholderAutoruns)||(n=U.getAutorunArray(),null!=(this.placeholderAutoruns=n)))&&e.bindToAutorunArray(n),t},set_placeholder:function(e){var n=this.unobservedPlaceholder;return n!=(this.unobservedPlaceholder=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitPlaceholderChange(e,n),null!=(n=this.placeholderAutoruns))&&(this.placeholderAutoruns=null,U.invalidateAutorunArray(n)),e},invalidatePlaceholder:function(){var e=this.unobservedPlaceholder,e=(this.emitPlaceholderChange(e,e),this.placeholderAutoruns);null!=e&&(this.placeholderAutoruns=null,U.invalidateAutorunArray(e))},unobservedPlaceholder:null,__cbOnPlaceholderChange:null,__cbOncePlaceholderChange:null,__cbOnOwnerUnbindPlaceholderChange:null,__cbOnceOwnerUnbindPlaceholderChange:null,emitPlaceholderChange:function(e,n){var t=0;if(null!=this.__cbOnPlaceholderChange&&(t+=this.__cbOnPlaceholderChange.length),null!=this.__cbOncePlaceholderChange&&(t+=this.__cbOncePlaceholderChange.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnPlaceholderChange)for(var s=0,h=this.__cbOnPlaceholderChange.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnPlaceholderChange[a],++r):--t}if(null!=this.__cbOncePlaceholderChange){for(var o=null,c=null,s=0,h=this.__cbOncePlaceholderChange.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOncePlaceholderChange[a],this.__cbOncePlaceholderChange[a]=null,u=this.__cbOnceOwnerUnbindPlaceholderChange[a],(this.__cbOnceOwnerUnbindPlaceholderChange[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindPlaceholderChange[a]),c.push(this.__cbOncePlaceholderChange[a]))}this.__cbOnceOwnerUnbindPlaceholderChange=o,this.__cbOncePlaceholderChange=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onPlaceholderChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event placeholderChange because owner is destroyed!");var l=function(e){null!=t&&(i.offPlaceholderChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindPlaceholderChange&&(this.__cbOnOwnerUnbindPlaceholderChange=[]),this.__cbOnOwnerUnbindPlaceholderChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindPlaceholderChange&&(this.__cbOnOwnerUnbindPlaceholderChange=[]),this.__cbOnOwnerUnbindPlaceholderChange.push(null);null==this.__cbOnPlaceholderChange&&(this.__cbOnPlaceholderChange=[]),this.__cbOnPlaceholderChange.push(t)},oncePlaceholderChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event placeholderChange because owner is destroyed!");var l=function(e){null!=t&&(i.offPlaceholderChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindPlaceholderChange&&(this.__cbOnceOwnerUnbindPlaceholderChange=[]),this.__cbOnceOwnerUnbindPlaceholderChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindPlaceholderChange&&(this.__cbOnceOwnerUnbindPlaceholderChange=[]),this.__cbOnceOwnerUnbindPlaceholderChange.push(null);null==this.__cbOncePlaceholderChange&&(this.__cbOncePlaceholderChange=[]),this.__cbOncePlaceholderChange.push(t)},offPlaceholderChange:function(e){if(null!=e){var n;null!=this.__cbOnPlaceholderChange&&-1!=(n=this.__cbOnPlaceholderChange.indexOf(e))&&(this.__cbOnPlaceholderChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindPlaceholderChange[n])&&r(),this.__cbOnOwnerUnbindPlaceholderChange.splice(n,1)),null!=this.__cbOncePlaceholderChange&&-1!=(n=this.__cbOncePlaceholderChange.indexOf(e))&&(this.__cbOncePlaceholderChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindPlaceholderChange[n])&&r(),this.__cbOnceOwnerUnbindPlaceholderChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindPlaceholderChange){for(var t=0,i=this.__cbOnOwnerUnbindPlaceholderChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindPlaceholderChange[l])&&r()}this.__cbOnOwnerUnbindPlaceholderChange=null}if(null!=this.__cbOnceOwnerUnbindPlaceholderChange){for(t=0,i=this.__cbOnceOwnerUnbindPlaceholderChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindPlaceholderChange[l])&&r()}this.__cbOnceOwnerUnbindPlaceholderChange=null}this.__cbOnPlaceholderChange=null,this.__cbOncePlaceholderChange=null}},listensPlaceholderChange:function(){return null!=this.__cbOnPlaceholderChange&&0<this.__cbOnPlaceholderChange.length||null!=this.__cbOncePlaceholderChange&&0<this.__cbOncePlaceholderChange.length},inputStyleAutoruns:null,get_inputStyle:function(){var e,n,t=this.unobservedInputStyle;return null!=U.current&&(e=U.current,null!=(n=this.inputStyleAutoruns)||(n=U.getAutorunArray(),null!=(this.inputStyleAutoruns=n)))&&e.bindToAutorunArray(n),t},set_inputStyle:function(e){var n=this.unobservedInputStyle;return n!=(this.unobservedInputStyle=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitInputStyleChange(e,n),null!=(n=this.inputStyleAutoruns))&&(this.inputStyleAutoruns=null,U.invalidateAutorunArray(n)),e},invalidateInputStyle:function(){var e=this.unobservedInputStyle,e=(this.emitInputStyleChange(e,e),this.inputStyleAutoruns);null!=e&&(this.inputStyleAutoruns=null,U.invalidateAutorunArray(e))},unobservedInputStyle:null,__cbOnInputStyleChange:null,__cbOnceInputStyleChange:null,__cbOnOwnerUnbindInputStyleChange:null,__cbOnceOwnerUnbindInputStyleChange:null,emitInputStyleChange:function(e,n){var t=0;if(null!=this.__cbOnInputStyleChange&&(t+=this.__cbOnInputStyleChange.length),null!=this.__cbOnceInputStyleChange&&(t+=this.__cbOnceInputStyleChange.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnInputStyleChange)for(var s=0,h=this.__cbOnInputStyleChange.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnInputStyleChange[a],++r):--t}if(null!=this.__cbOnceInputStyleChange){for(var o=null,c=null,s=0,h=this.__cbOnceInputStyleChange.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceInputStyleChange[a],this.__cbOnceInputStyleChange[a]=null,u=this.__cbOnceOwnerUnbindInputStyleChange[a],(this.__cbOnceOwnerUnbindInputStyleChange[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindInputStyleChange[a]),c.push(this.__cbOnceInputStyleChange[a]))}this.__cbOnceOwnerUnbindInputStyleChange=o,this.__cbOnceInputStyleChange=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onInputStyleChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event inputStyleChange because owner is destroyed!");var l=function(e){null!=t&&(i.offInputStyleChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindInputStyleChange&&(this.__cbOnOwnerUnbindInputStyleChange=[]),this.__cbOnOwnerUnbindInputStyleChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindInputStyleChange&&(this.__cbOnOwnerUnbindInputStyleChange=[]),this.__cbOnOwnerUnbindInputStyleChange.push(null);null==this.__cbOnInputStyleChange&&(this.__cbOnInputStyleChange=[]),this.__cbOnInputStyleChange.push(t)},onceInputStyleChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event inputStyleChange because owner is destroyed!");var l=function(e){null!=t&&(i.offInputStyleChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindInputStyleChange&&(this.__cbOnceOwnerUnbindInputStyleChange=[]),this.__cbOnceOwnerUnbindInputStyleChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindInputStyleChange&&(this.__cbOnceOwnerUnbindInputStyleChange=[]),this.__cbOnceOwnerUnbindInputStyleChange.push(null);null==this.__cbOnceInputStyleChange&&(this.__cbOnceInputStyleChange=[]),this.__cbOnceInputStyleChange.push(t)},offInputStyleChange:function(e){if(null!=e){var n;null!=this.__cbOnInputStyleChange&&-1!=(n=this.__cbOnInputStyleChange.indexOf(e))&&(this.__cbOnInputStyleChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindInputStyleChange[n])&&r(),this.__cbOnOwnerUnbindInputStyleChange.splice(n,1)),null!=this.__cbOnceInputStyleChange&&-1!=(n=this.__cbOnceInputStyleChange.indexOf(e))&&(this.__cbOnceInputStyleChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindInputStyleChange[n])&&r(),this.__cbOnceOwnerUnbindInputStyleChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindInputStyleChange){for(var t=0,i=this.__cbOnOwnerUnbindInputStyleChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindInputStyleChange[l])&&r()}this.__cbOnOwnerUnbindInputStyleChange=null}if(null!=this.__cbOnceOwnerUnbindInputStyleChange){for(t=0,i=this.__cbOnceOwnerUnbindInputStyleChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindInputStyleChange[l])&&r()}this.__cbOnceOwnerUnbindInputStyleChange=null}this.__cbOnInputStyleChange=null,this.__cbOnceInputStyleChange=null}},listensInputStyleChange:function(){return null!=this.__cbOnInputStyleChange&&0<this.__cbOnInputStyleChange.length||null!=this.__cbOnceInputStyleChange&&0<this.__cbOnceInputStyleChange.length},textAlignAutoruns:null,get_textAlign:function(){var e,n,t=this.unobservedTextAlign;return null!=U.current&&(e=U.current,null!=(n=this.textAlignAutoruns)||(n=U.getAutorunArray(),null!=(this.textAlignAutoruns=n)))&&e.bindToAutorunArray(n),t},set_textAlign:function(e){var n=this.unobservedTextAlign;return n!=(this.unobservedTextAlign=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitTextAlignChange(e,n),null!=(n=this.textAlignAutoruns))&&(this.textAlignAutoruns=null,U.invalidateAutorunArray(n)),e},invalidateTextAlign:function(){var e=this.unobservedTextAlign,e=(this.emitTextAlignChange(e,e),this.textAlignAutoruns);null!=e&&(this.textAlignAutoruns=null,U.invalidateAutorunArray(e))},unobservedTextAlign:null,__cbOnTextAlignChange:null,__cbOnceTextAlignChange:null,__cbOnOwnerUnbindTextAlignChange:null,__cbOnceOwnerUnbindTextAlignChange:null,emitTextAlignChange:function(e,n){var t=0;if(null!=this.__cbOnTextAlignChange&&(t+=this.__cbOnTextAlignChange.length),null!=this.__cbOnceTextAlignChange&&(t+=this.__cbOnceTextAlignChange.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnTextAlignChange)for(var s=0,h=this.__cbOnTextAlignChange.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnTextAlignChange[a],++r):--t}if(null!=this.__cbOnceTextAlignChange){for(var o=null,c=null,s=0,h=this.__cbOnceTextAlignChange.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceTextAlignChange[a],this.__cbOnceTextAlignChange[a]=null,u=this.__cbOnceOwnerUnbindTextAlignChange[a],(this.__cbOnceOwnerUnbindTextAlignChange[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindTextAlignChange[a]),c.push(this.__cbOnceTextAlignChange[a]))}this.__cbOnceOwnerUnbindTextAlignChange=o,this.__cbOnceTextAlignChange=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onTextAlignChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event textAlignChange because owner is destroyed!");var l=function(e){null!=t&&(i.offTextAlignChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindTextAlignChange&&(this.__cbOnOwnerUnbindTextAlignChange=[]),this.__cbOnOwnerUnbindTextAlignChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindTextAlignChange&&(this.__cbOnOwnerUnbindTextAlignChange=[]),this.__cbOnOwnerUnbindTextAlignChange.push(null);null==this.__cbOnTextAlignChange&&(this.__cbOnTextAlignChange=[]),this.__cbOnTextAlignChange.push(t)},onceTextAlignChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event textAlignChange because owner is destroyed!");var l=function(e){null!=t&&(i.offTextAlignChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindTextAlignChange&&(this.__cbOnceOwnerUnbindTextAlignChange=[]),this.__cbOnceOwnerUnbindTextAlignChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindTextAlignChange&&(this.__cbOnceOwnerUnbindTextAlignChange=[]),this.__cbOnceOwnerUnbindTextAlignChange.push(null);null==this.__cbOnceTextAlignChange&&(this.__cbOnceTextAlignChange=[]),this.__cbOnceTextAlignChange.push(t)},offTextAlignChange:function(e){if(null!=e){var n;null!=this.__cbOnTextAlignChange&&-1!=(n=this.__cbOnTextAlignChange.indexOf(e))&&(this.__cbOnTextAlignChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindTextAlignChange[n])&&r(),this.__cbOnOwnerUnbindTextAlignChange.splice(n,1)),null!=this.__cbOnceTextAlignChange&&-1!=(n=this.__cbOnceTextAlignChange.indexOf(e))&&(this.__cbOnceTextAlignChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindTextAlignChange[n])&&r(),this.__cbOnceOwnerUnbindTextAlignChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindTextAlignChange){for(var t=0,i=this.__cbOnOwnerUnbindTextAlignChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindTextAlignChange[l])&&r()}this.__cbOnOwnerUnbindTextAlignChange=null}if(null!=this.__cbOnceOwnerUnbindTextAlignChange){for(t=0,i=this.__cbOnceOwnerUnbindTextAlignChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindTextAlignChange[l])&&r()}this.__cbOnceOwnerUnbindTextAlignChange=null}this.__cbOnTextAlignChange=null,this.__cbOnceTextAlignChange=null}},listensTextAlignChange:function(){return null!=this.__cbOnTextAlignChange&&0<this.__cbOnTextAlignChange.length||null!=this.__cbOnceTextAlignChange&&0<this.__cbOnceTextAlignChange.length},disabledAutoruns:null,get_disabled:function(){var e,n,t=this.unobservedDisabled;return null!=U.current&&(e=U.current,null!=(n=this.disabledAutoruns)||(n=U.getAutorunArray(),null!=(this.disabledAutoruns=n)))&&e.bindToAutorunArray(n),t},set_disabled:function(e){var n=this.unobservedDisabled;return n!=(this.unobservedDisabled=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitDisabledChange(e,n),null!=(n=this.disabledAutoruns))&&(this.disabledAutoruns=null,U.invalidateAutorunArray(n)),e},invalidateDisabled:function(){var e=this.unobservedDisabled,e=(this.emitDisabledChange(e,e),this.disabledAutoruns);null!=e&&(this.disabledAutoruns=null,U.invalidateAutorunArray(e))},unobservedDisabled:null,__cbOnDisabledChange:null,__cbOnceDisabledChange:null,__cbOnOwnerUnbindDisabledChange:null,__cbOnceOwnerUnbindDisabledChange:null,emitDisabledChange:function(e,n){var t=0;if(null!=this.__cbOnDisabledChange&&(t+=this.__cbOnDisabledChange.length),null!=this.__cbOnceDisabledChange&&(t+=this.__cbOnceDisabledChange.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnDisabledChange)for(var s=0,h=this.__cbOnDisabledChange.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnDisabledChange[a],++r):--t}if(null!=this.__cbOnceDisabledChange){for(var o=null,c=null,s=0,h=this.__cbOnceDisabledChange.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceDisabledChange[a],this.__cbOnceDisabledChange[a]=null,u=this.__cbOnceOwnerUnbindDisabledChange[a],(this.__cbOnceOwnerUnbindDisabledChange[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindDisabledChange[a]),c.push(this.__cbOnceDisabledChange[a]))}this.__cbOnceOwnerUnbindDisabledChange=o,this.__cbOnceDisabledChange=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onDisabledChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event disabledChange because owner is destroyed!");var l=function(e){null!=t&&(i.offDisabledChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindDisabledChange&&(this.__cbOnOwnerUnbindDisabledChange=[]),this.__cbOnOwnerUnbindDisabledChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindDisabledChange&&(this.__cbOnOwnerUnbindDisabledChange=[]),this.__cbOnOwnerUnbindDisabledChange.push(null);null==this.__cbOnDisabledChange&&(this.__cbOnDisabledChange=[]),this.__cbOnDisabledChange.push(t)},onceDisabledChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event disabledChange because owner is destroyed!");var l=function(e){null!=t&&(i.offDisabledChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindDisabledChange&&(this.__cbOnceOwnerUnbindDisabledChange=[]),this.__cbOnceOwnerUnbindDisabledChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindDisabledChange&&(this.__cbOnceOwnerUnbindDisabledChange=[]),this.__cbOnceOwnerUnbindDisabledChange.push(null);null==this.__cbOnceDisabledChange&&(this.__cbOnceDisabledChange=[]),this.__cbOnceDisabledChange.push(t)},offDisabledChange:function(e){if(null!=e){var n;null!=this.__cbOnDisabledChange&&-1!=(n=this.__cbOnDisabledChange.indexOf(e))&&(this.__cbOnDisabledChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindDisabledChange[n])&&r(),this.__cbOnOwnerUnbindDisabledChange.splice(n,1)),null!=this.__cbOnceDisabledChange&&-1!=(n=this.__cbOnceDisabledChange.indexOf(e))&&(this.__cbOnceDisabledChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindDisabledChange[n])&&r(),this.__cbOnceOwnerUnbindDisabledChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindDisabledChange){for(var t=0,i=this.__cbOnOwnerUnbindDisabledChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindDisabledChange[l])&&r()}this.__cbOnOwnerUnbindDisabledChange=null}if(null!=this.__cbOnceOwnerUnbindDisabledChange){for(t=0,i=this.__cbOnceOwnerUnbindDisabledChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindDisabledChange[l])&&r()}this.__cbOnceOwnerUnbindDisabledChange=null}this.__cbOnDisabledChange=null,this.__cbOnceDisabledChange=null}},listensDisabledChange:function(){return null!=this.__cbOnDisabledChange&&0<this.__cbOnDisabledChange.length||null!=this.__cbOnceDisabledChange&&0<this.__cbOnceDisabledChange.length},layers:null,placeholderView:null,kind:null,focus:function(){B2.prototype.focus.call(this),this.get_disabled()||null!=this.editText&&this.editText.focus()},layout:function(){B2.prototype.layout.call(this)},clipText:function(e,n){var t=this.textView.text;t.set_clipTextX(0),t.set_clipTextY(0),t.set_clipTextWidth(e+2),t.set_clipTextHeight(this.get_height())},handleStopEditText:function(){!this.get_focused()||null!=this.suggestions&&0!=this.suggestions.length||he.app.screen.set_focusedVisual(null)},updatePlaceholder:function(){var e=this.get_textValue(),n=this.get_placeholder(),t=this.get_focused(),i=this.get_disabled();U.unobserve(),this.placeholderView.set_content(null!=n?n:""),this.placeholderView.set_visible(""==e&&(!t||i)),U.reobserve()},updateStyle:function(){var e,n,t=this.get_theme();null==t&&(t=te.get_context().get_theme()),null!=this.editText&&(this.editText.set_selectionColor(t.get_focusedFieldSelectionColor()),this.editText.set_textCursorColor(t.get_lightTextColor())),this.get_inputStyle()==wi.OVERLAY?(this.color=16777215,this.set_alpha(.1),0!=this.borderSize&&(this.borderSize=0,this.updateBorder()),e=Ve.INSIDE,this.borderPosition!=e&&(this.borderPosition=e,0<this.borderSize||0<this.borderTopSize||0<this.borderBottomSize||0<this.borderLeftSize||0<this.borderRightSize)&&this.updateBorder(),this.flags&=-17,this.textView.set_textColor(t.get_fieldTextColor()),this.textView.set_font(t.get_mediumFont()),this.placeholderView.set_textColor(t.get_fieldPlaceholderColor()),this.placeholderView.set_font(t.get_mediumFont())):(this.color=t.get_darkBackgroundColor(),this.set_alpha(1),1!=this.borderSize&&(this.borderSize=1,this.updateBorder()),e=Ve.INSIDE,this.borderPosition!=e&&(this.borderPosition=e,0<this.borderSize||0<this.borderTopSize||0<this.borderBottomSize||0<this.borderLeftSize||0<this.borderRightSize)&&this.updateBorder(),this.flags&=-17,this.textView.set_textColor(t.get_fieldTextColor()),this.textView.set_font(t.get_mediumFont()),this.placeholderView.set_textColor(t.get_fieldPlaceholderColor()),this.placeholderView.set_font(t.get_mediumFont()),this.get_disabled()?(n=t.get_mediumBorderColor(),this.borderColor!=n&&(this.borderColor=n,0<this.borderSize||0<this.borderTopSize||0<this.borderBottomSize||0<this.borderLeftSize||0<this.borderRightSize)&&this.updateBorder(),this.textView.text.set_alpha(.5)):(this.textView.text.set_alpha(1),n=this.get_focused()?t.get_focusedFieldBorderColor():t.get_lightBorderColor(),this.borderColor!=n&&(this.borderColor=n,0<this.borderSize||0<this.borderTopSize||0<this.borderBottomSize||0<this.borderLeftSize||0<this.borderRightSize)&&this.updateBorder()))},unbindEvents:function(){B2.prototype.unbindEvents.call(this),this.offThemeChange(),this.offPlaceholderChange(),this.offInputStyleChange(),this.offTextAlignChange(),this.offDisabledChange()},__class__:Ai,__properties__:$extend(B2.prototype.__properties__,{set_disabled:"set_disabled",get_disabled:"get_disabled",set_textAlign:"set_textAlign",get_textAlign:"get_textAlign",set_inputStyle:"set_inputStyle",get_inputStyle:"get_inputStyle",set_placeholder:"set_placeholder",get_placeholder:"get_placeholder",set_multiline:"set_multiline",set_theme:"set_theme",get_theme:"get_theme"})}),Oe["elements.TextFieldKind"]={__ename__:"elements.TextFieldKind",__constructs__:null,TEXT:{_hx_name:"TEXT",_hx_index:0,__enum__:"elements.TextFieldKind",toString:c},NUMERIC:{_hx_name:"NUMERIC",_hx_index:1,__enum__:"elements.TextFieldKind",toString:c}}),Ii=(ki.__constructs__=[ki.TEXT,ki.NUMERIC],function(){this._clonedIndex=-1,this._index=Ii._nextIndex=(Ii._nextIndex+1)%999999999,this._used=!1,this._textColor=-1,this._backgroundColor=-1,this._altTint=-1,this._tint=-1,this.unobservedWindowBorderAlpha=1,this.windowBorderAlphaAutoruns=null,this.unobservedWindowBorderColor=6513507,this.windowBorderColorAutoruns=null,this.unobservedWindowBackgroundAlpha=.925,this.windowBackgroundAlphaAutoruns=null,this.unobservedWindowBackgroundColor=1842204,this.windowBackgroundColorAutoruns=null,this.unobservedDisabledTabBorderAlpha=.5,this.disabledTabBorderAlphaAutoruns=null,this.unobservedDisabledTabTextAlpha=.5,this.disabledTabTextAlphaAutoruns=null,this.unobservedTabsBorderColor=6513507,this.tabsBorderColorAutoruns=null,this.unobservedTabsHoverBackgroundAlpha=.2,this.tabsHoverBackgroundAlphaAutoruns=null,this.unobservedTabsHoverBackgroundColor=8947848,this.tabsHoverBackgroundColorAutoruns=null,this.unobservedTabsBackgroundAlpha=.1,this.tabsBackgroundAlphaAutoruns=null,this.unobservedTabsBackgroundColor=8947848,this.tabsBackgroundColorAutoruns=null,this.unobservedButtonFocusedBorderColor=4692203,this.buttonFocusedBorderColorAutoruns=null,this.unobservedButtonPressedBackgroundColor=4692203,this.buttonPressedBackgroundColorAutoruns=null,this.unobservedButtonOverBackgroundColor=5921370,this.buttonOverBackgroundColorAutoruns=null,this.unobservedButtonBackgroundColor=5329233,this.buttonBackgroundColorAutoruns=null,this.unobservedOverlayBorderAlpha=1,this.overlayBorderAlphaAutoruns=null,this.unobservedOverlayBorderColor=6513507,this.overlayBorderColorAutoruns=null,this.unobservedOverlayBackgroundAlpha=.925,this.overlayBackgroundAlphaAutoruns=null,this.unobservedOverlayBackgroundColor=1842204,this.overlayBackgroundColorAutoruns=null,this.unobservedFocusedFieldBorderColor=4428512,this.focusedFieldBorderColorAutoruns=null,this.unobservedFocusedFieldSelectionColor=3175366,this.focusedFieldSelectionColorAutoruns=null,this.unobservedTabsMarginY=6,this.tabsMarginYAutoruns=null,this.unobservedFormPadding=6,this.formPaddingAutoruns=null,this.unobservedFormItemSpacing=6,this.formItemSpacingAutoruns=null,this.unobservedHighlightPendingColor=16666932,this.highlightPendingColorAutoruns=null,this.unobservedHighlightColor=4428512,this.highlightColorAutoruns=null,this.unobservedSelectionBorderColor=4428512,this.selectionBorderColorAutoruns=null,this.unobservedDarkerBackgroundColor=2631720,this.darkerBackgroundColorAutoruns=null,this.unobservedDarkBackgroundColor=4342338,this.darkBackgroundColorAutoruns=null,this.unobservedMediumBackgroundColor=4868682,this.mediumBackgroundColorAutoruns=null,this.unobservedLightBackgroundColor=5197647,this.lightBackgroundColorAutoruns=null,this.unobservedDarkBorderColor=3684408,this.darkBorderColorAutoruns=null,this.unobservedMediumBorderColor=4605510,this.mediumBorderColorAutoruns=null,this.unobservedLightBorderColor=6513507,this.lightBorderColorAutoruns=null,this.unobservedLighterBorderColor=10066329,this.lighterBorderColorAutoruns=null,this.unobservedCustomBoldFont=null,this.customBoldFontAutoruns=null,this.unobservedCustomMediumFont=null,this.customMediumFontAutoruns=null,this.unobservedIconColor=16777215,this.iconColorAutoruns=null,this.unobservedDarkerTextColor=5592405,this.darkerTextColorAutoruns=null,this.unobservedDarkTextColor=8947848,this.darkTextColorAutoruns=null,this.unobservedMediumTextColor=13421772,this.mediumTextColorAutoruns=null,this.unobservedLightTextColor=15987699,this.lightTextColorAutoruns=null,this.unobservedFieldPlaceholderColor=8947848,this.fieldPlaceholderColorAutoruns=null,this.unobservedFieldTextColor=16777215,this.fieldTextColorAutoruns=null,this.unobservedBackgroundInFormLayout=!1,this.backgroundInFormLayoutAutoruns=null,ld.call(this)}),Pi=((E["elements.Theme"]=Ii).__name__="elements.Theme",Ii.__super__=ld,Ii.prototype=$extend(ld.prototype,{backgroundInFormLayoutAutoruns:null,get_backgroundInFormLayout:function(){var e,n,t=this.unobservedBackgroundInFormLayout;return null!=U.current&&(e=U.current,null!=(n=this.backgroundInFormLayoutAutoruns)||(n=U.getAutorunArray(),null!=(this.backgroundInFormLayoutAutoruns=n)))&&e.bindToAutorunArray(n),t},set_backgroundInFormLayout:function(e){var n=this.unobservedBackgroundInFormLayout;return n!=(this.unobservedBackgroundInFormLayout=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!0)),this.emitBackgroundInFormLayoutChange(e,n),null!=(n=this.backgroundInFormLayoutAutoruns))&&(this.backgroundInFormLayoutAutoruns=null,U.invalidateAutorunArray(n)),e},invalidateBackgroundInFormLayout:function(){var e=this.unobservedBackgroundInFormLayout,e=(this.emitBackgroundInFormLayoutChange(e,e),this.backgroundInFormLayoutAutoruns);null!=e&&(this.backgroundInFormLayoutAutoruns=null,U.invalidateAutorunArray(e))},unobservedBackgroundInFormLayout:null,__cbOnBackgroundInFormLayoutChange:null,__cbOnceBackgroundInFormLayoutChange:null,__cbOnOwnerUnbindBackgroundInFormLayoutChange:null,__cbOnceOwnerUnbindBackgroundInFormLayoutChange:null,emitBackgroundInFormLayoutChange:function(e,n){var t=0;if(null!=this.__cbOnBackgroundInFormLayoutChange&&(t+=this.__cbOnBackgroundInFormLayoutChange.length),null!=this.__cbOnceBackgroundInFormLayoutChange&&(t+=this.__cbOnceBackgroundInFormLayoutChange.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnBackgroundInFormLayoutChange)for(var s=0,h=this.__cbOnBackgroundInFormLayoutChange.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnBackgroundInFormLayoutChange[a],++r):--t}if(null!=this.__cbOnceBackgroundInFormLayoutChange){for(var o=null,c=null,s=0,h=this.__cbOnceBackgroundInFormLayoutChange.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceBackgroundInFormLayoutChange[a],this.__cbOnceBackgroundInFormLayoutChange[a]=null,u=this.__cbOnceOwnerUnbindBackgroundInFormLayoutChange[a],(this.__cbOnceOwnerUnbindBackgroundInFormLayoutChange[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindBackgroundInFormLayoutChange[a]),c.push(this.__cbOnceBackgroundInFormLayoutChange[a]))}this.__cbOnceOwnerUnbindBackgroundInFormLayoutChange=o,this.__cbOnceBackgroundInFormLayoutChange=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onBackgroundInFormLayoutChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event backgroundInFormLayoutChange because owner is destroyed!");var l=function(e){null!=t&&(i.offBackgroundInFormLayoutChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindBackgroundInFormLayoutChange&&(this.__cbOnOwnerUnbindBackgroundInFormLayoutChange=[]),this.__cbOnOwnerUnbindBackgroundInFormLayoutChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindBackgroundInFormLayoutChange&&(this.__cbOnOwnerUnbindBackgroundInFormLayoutChange=[]),this.__cbOnOwnerUnbindBackgroundInFormLayoutChange.push(null);null==this.__cbOnBackgroundInFormLayoutChange&&(this.__cbOnBackgroundInFormLayoutChange=[]),this.__cbOnBackgroundInFormLayoutChange.push(t)},onceBackgroundInFormLayoutChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event backgroundInFormLayoutChange because owner is destroyed!");var l=function(e){null!=t&&(i.offBackgroundInFormLayoutChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindBackgroundInFormLayoutChange&&(this.__cbOnceOwnerUnbindBackgroundInFormLayoutChange=[]),this.__cbOnceOwnerUnbindBackgroundInFormLayoutChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindBackgroundInFormLayoutChange&&(this.__cbOnceOwnerUnbindBackgroundInFormLayoutChange=[]),this.__cbOnceOwnerUnbindBackgroundInFormLayoutChange.push(null);null==this.__cbOnceBackgroundInFormLayoutChange&&(this.__cbOnceBackgroundInFormLayoutChange=[]),this.__cbOnceBackgroundInFormLayoutChange.push(t)},offBackgroundInFormLayoutChange:function(e){if(null!=e){var n;null!=this.__cbOnBackgroundInFormLayoutChange&&-1!=(n=this.__cbOnBackgroundInFormLayoutChange.indexOf(e))&&(this.__cbOnBackgroundInFormLayoutChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindBackgroundInFormLayoutChange[n])&&r(),this.__cbOnOwnerUnbindBackgroundInFormLayoutChange.splice(n,1)),null!=this.__cbOnceBackgroundInFormLayoutChange&&-1!=(n=this.__cbOnceBackgroundInFormLayoutChange.indexOf(e))&&(this.__cbOnceBackgroundInFormLayoutChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindBackgroundInFormLayoutChange[n])&&r(),this.__cbOnceOwnerUnbindBackgroundInFormLayoutChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindBackgroundInFormLayoutChange){for(var t=0,i=this.__cbOnOwnerUnbindBackgroundInFormLayoutChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindBackgroundInFormLayoutChange[l])&&r()}this.__cbOnOwnerUnbindBackgroundInFormLayoutChange=null}if(null!=this.__cbOnceOwnerUnbindBackgroundInFormLayoutChange){for(t=0,i=this.__cbOnceOwnerUnbindBackgroundInFormLayoutChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindBackgroundInFormLayoutChange[l])&&r()}this.__cbOnceOwnerUnbindBackgroundInFormLayoutChange=null}this.__cbOnBackgroundInFormLayoutChange=null,this.__cbOnceBackgroundInFormLayoutChange=null}},listensBackgroundInFormLayoutChange:function(){return null!=this.__cbOnBackgroundInFormLayoutChange&&0<this.__cbOnBackgroundInFormLayoutChange.length||null!=this.__cbOnceBackgroundInFormLayoutChange&&0<this.__cbOnceBackgroundInFormLayoutChange.length},fieldTextColorAutoruns:null,get_fieldTextColor:function(){var e,n,t=this.unobservedFieldTextColor;return null!=U.current&&(e=U.current,null!=(n=this.fieldTextColorAutoruns)||(n=U.getAutorunArray(),null!=(this.fieldTextColorAutoruns=n)))&&e.bindToAutorunArray(n),t},set_fieldTextColor:function(e){var n=this.unobservedFieldTextColor;return n!=(this.unobservedFieldTextColor=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!0)),this.emitFieldTextColorChange(e,n),null!=(n=this.fieldTextColorAutoruns))&&(this.fieldTextColorAutoruns=null,U.invalidateAutorunArray(n)),e},invalidateFieldTextColor:function(){var e=this.unobservedFieldTextColor,e=(this.emitFieldTextColorChange(e,e),this.fieldTextColorAutoruns);null!=e&&(this.fieldTextColorAutoruns=null,U.invalidateAutorunArray(e))},unobservedFieldTextColor:null,__cbOnFieldTextColorChange:null,__cbOnceFieldTextColorChange:null,__cbOnOwnerUnbindFieldTextColorChange:null,__cbOnceOwnerUnbindFieldTextColorChange:null,emitFieldTextColorChange:function(e,n){var t=0;if(null!=this.__cbOnFieldTextColorChange&&(t+=this.__cbOnFieldTextColorChange.length),null!=this.__cbOnceFieldTextColorChange&&(t+=this.__cbOnceFieldTextColorChange.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnFieldTextColorChange)for(var s=0,h=this.__cbOnFieldTextColorChange.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnFieldTextColorChange[a],++r):--t}if(null!=this.__cbOnceFieldTextColorChange){for(var o=null,c=null,s=0,h=this.__cbOnceFieldTextColorChange.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceFieldTextColorChange[a],this.__cbOnceFieldTextColorChange[a]=null,u=this.__cbOnceOwnerUnbindFieldTextColorChange[a],(this.__cbOnceOwnerUnbindFieldTextColorChange[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindFieldTextColorChange[a]),c.push(this.__cbOnceFieldTextColorChange[a]))}this.__cbOnceOwnerUnbindFieldTextColorChange=o,this.__cbOnceFieldTextColorChange=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onFieldTextColorChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event fieldTextColorChange because owner is destroyed!");var l=function(e){null!=t&&(i.offFieldTextColorChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindFieldTextColorChange&&(this.__cbOnOwnerUnbindFieldTextColorChange=[]),this.__cbOnOwnerUnbindFieldTextColorChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindFieldTextColorChange&&(this.__cbOnOwnerUnbindFieldTextColorChange=[]),this.__cbOnOwnerUnbindFieldTextColorChange.push(null);null==this.__cbOnFieldTextColorChange&&(this.__cbOnFieldTextColorChange=[]),this.__cbOnFieldTextColorChange.push(t)},onceFieldTextColorChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event fieldTextColorChange because owner is destroyed!");var l=function(e){null!=t&&(i.offFieldTextColorChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindFieldTextColorChange&&(this.__cbOnceOwnerUnbindFieldTextColorChange=[]),this.__cbOnceOwnerUnbindFieldTextColorChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindFieldTextColorChange&&(this.__cbOnceOwnerUnbindFieldTextColorChange=[]),this.__cbOnceOwnerUnbindFieldTextColorChange.push(null);null==this.__cbOnceFieldTextColorChange&&(this.__cbOnceFieldTextColorChange=[]),this.__cbOnceFieldTextColorChange.push(t)},offFieldTextColorChange:function(e){if(null!=e){var n;null!=this.__cbOnFieldTextColorChange&&-1!=(n=this.__cbOnFieldTextColorChange.indexOf(e))&&(this.__cbOnFieldTextColorChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindFieldTextColorChange[n])&&r(),this.__cbOnOwnerUnbindFieldTextColorChange.splice(n,1)),null!=this.__cbOnceFieldTextColorChange&&-1!=(n=this.__cbOnceFieldTextColorChange.indexOf(e))&&(this.__cbOnceFieldTextColorChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindFieldTextColorChange[n])&&r(),this.__cbOnceOwnerUnbindFieldTextColorChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindFieldTextColorChange){for(var t=0,i=this.__cbOnOwnerUnbindFieldTextColorChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindFieldTextColorChange[l])&&r()}this.__cbOnOwnerUnbindFieldTextColorChange=null}if(null!=this.__cbOnceOwnerUnbindFieldTextColorChange){for(t=0,i=this.__cbOnceOwnerUnbindFieldTextColorChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindFieldTextColorChange[l])&&r()}this.__cbOnceOwnerUnbindFieldTextColorChange=null}this.__cbOnFieldTextColorChange=null,this.__cbOnceFieldTextColorChange=null}},listensFieldTextColorChange:function(){return null!=this.__cbOnFieldTextColorChange&&0<this.__cbOnFieldTextColorChange.length||null!=this.__cbOnceFieldTextColorChange&&0<this.__cbOnceFieldTextColorChange.length},fieldPlaceholderColorAutoruns:null,get_fieldPlaceholderColor:function(){var e,n,t=this.unobservedFieldPlaceholderColor;return null!=U.current&&(e=U.current,null!=(n=this.fieldPlaceholderColorAutoruns)||(n=U.getAutorunArray(),null!=(this.fieldPlaceholderColorAutoruns=n)))&&e.bindToAutorunArray(n),t},set_fieldPlaceholderColor:function(e){var n=this.unobservedFieldPlaceholderColor;return n!=(this.unobservedFieldPlaceholderColor=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!0)),this.emitFieldPlaceholderColorChange(e,n),null!=(n=this.fieldPlaceholderColorAutoruns))&&(this.fieldPlaceholderColorAutoruns=null,U.invalidateAutorunArray(n)),e},invalidateFieldPlaceholderColor:function(){var e=this.unobservedFieldPlaceholderColor,e=(this.emitFieldPlaceholderColorChange(e,e),this.fieldPlaceholderColorAutoruns);null!=e&&(this.fieldPlaceholderColorAutoruns=null,U.invalidateAutorunArray(e))},unobservedFieldPlaceholderColor:null,__cbOnFieldPlaceholderColorChange:null,__cbOnceFieldPlaceholderColorChange:null,__cbOnOwnerUnbindFieldPlaceholderColorChange:null,__cbOnceOwnerUnbindFieldPlaceholderColorChange:null,emitFieldPlaceholderColorChange:function(e,n){var t=0;if(null!=this.__cbOnFieldPlaceholderColorChange&&(t+=this.__cbOnFieldPlaceholderColorChange.length),null!=this.__cbOnceFieldPlaceholderColorChange&&(t+=this.__cbOnceFieldPlaceholderColorChange.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnFieldPlaceholderColorChange)for(var s=0,h=this.__cbOnFieldPlaceholderColorChange.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnFieldPlaceholderColorChange[a],++r):--t}if(null!=this.__cbOnceFieldPlaceholderColorChange){for(var o=null,c=null,s=0,h=this.__cbOnceFieldPlaceholderColorChange.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceFieldPlaceholderColorChange[a],this.__cbOnceFieldPlaceholderColorChange[a]=null,u=this.__cbOnceOwnerUnbindFieldPlaceholderColorChange[a],(this.__cbOnceOwnerUnbindFieldPlaceholderColorChange[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindFieldPlaceholderColorChange[a]),c.push(this.__cbOnceFieldPlaceholderColorChange[a]))}this.__cbOnceOwnerUnbindFieldPlaceholderColorChange=o,this.__cbOnceFieldPlaceholderColorChange=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onFieldPlaceholderColorChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event fieldPlaceholderColorChange because owner is destroyed!");var l=function(e){null!=t&&(i.offFieldPlaceholderColorChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindFieldPlaceholderColorChange&&(this.__cbOnOwnerUnbindFieldPlaceholderColorChange=[]),this.__cbOnOwnerUnbindFieldPlaceholderColorChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindFieldPlaceholderColorChange&&(this.__cbOnOwnerUnbindFieldPlaceholderColorChange=[]),this.__cbOnOwnerUnbindFieldPlaceholderColorChange.push(null);null==this.__cbOnFieldPlaceholderColorChange&&(this.__cbOnFieldPlaceholderColorChange=[]),this.__cbOnFieldPlaceholderColorChange.push(t)},onceFieldPlaceholderColorChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event fieldPlaceholderColorChange because owner is destroyed!");var l=function(e){null!=t&&(i.offFieldPlaceholderColorChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindFieldPlaceholderColorChange&&(this.__cbOnceOwnerUnbindFieldPlaceholderColorChange=[]),this.__cbOnceOwnerUnbindFieldPlaceholderColorChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindFieldPlaceholderColorChange&&(this.__cbOnceOwnerUnbindFieldPlaceholderColorChange=[]),this.__cbOnceOwnerUnbindFieldPlaceholderColorChange.push(null);null==this.__cbOnceFieldPlaceholderColorChange&&(this.__cbOnceFieldPlaceholderColorChange=[]),this.__cbOnceFieldPlaceholderColorChange.push(t)},offFieldPlaceholderColorChange:function(e){if(null!=e){var n;null!=this.__cbOnFieldPlaceholderColorChange&&-1!=(n=this.__cbOnFieldPlaceholderColorChange.indexOf(e))&&(this.__cbOnFieldPlaceholderColorChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindFieldPlaceholderColorChange[n])&&r(),this.__cbOnOwnerUnbindFieldPlaceholderColorChange.splice(n,1)),null!=this.__cbOnceFieldPlaceholderColorChange&&-1!=(n=this.__cbOnceFieldPlaceholderColorChange.indexOf(e))&&(this.__cbOnceFieldPlaceholderColorChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindFieldPlaceholderColorChange[n])&&r(),this.__cbOnceOwnerUnbindFieldPlaceholderColorChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindFieldPlaceholderColorChange){for(var t=0,i=this.__cbOnOwnerUnbindFieldPlaceholderColorChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindFieldPlaceholderColorChange[l])&&r()}this.__cbOnOwnerUnbindFieldPlaceholderColorChange=null}if(null!=this.__cbOnceOwnerUnbindFieldPlaceholderColorChange){for(t=0,i=this.__cbOnceOwnerUnbindFieldPlaceholderColorChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindFieldPlaceholderColorChange[l])&&r()}this.__cbOnceOwnerUnbindFieldPlaceholderColorChange=null}this.__cbOnFieldPlaceholderColorChange=null,this.__cbOnceFieldPlaceholderColorChange=null}},listensFieldPlaceholderColorChange:function(){return null!=this.__cbOnFieldPlaceholderColorChange&&0<this.__cbOnFieldPlaceholderColorChange.length||null!=this.__cbOnceFieldPlaceholderColorChange&&0<this.__cbOnceFieldPlaceholderColorChange.length},lightTextColorAutoruns:null,get_lightTextColor:function(){var e,n,t=this.unobservedLightTextColor;return null!=U.current&&(e=U.current,null!=(n=this.lightTextColorAutoruns)||(n=U.getAutorunArray(),null!=(this.lightTextColorAutoruns=n)))&&e.bindToAutorunArray(n),t},set_lightTextColor:function(e){var n=this.unobservedLightTextColor;return n!=(this.unobservedLightTextColor=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!0)),this.emitLightTextColorChange(e,n),null!=(n=this.lightTextColorAutoruns))&&(this.lightTextColorAutoruns=null,U.invalidateAutorunArray(n)),e},invalidateLightTextColor:function(){var e=this.unobservedLightTextColor,e=(this.emitLightTextColorChange(e,e),this.lightTextColorAutoruns);null!=e&&(this.lightTextColorAutoruns=null,U.invalidateAutorunArray(e))},unobservedLightTextColor:null,__cbOnLightTextColorChange:null,__cbOnceLightTextColorChange:null,__cbOnOwnerUnbindLightTextColorChange:null,__cbOnceOwnerUnbindLightTextColorChange:null,emitLightTextColorChange:function(e,n){var t=0;if(null!=this.__cbOnLightTextColorChange&&(t+=this.__cbOnLightTextColorChange.length),null!=this.__cbOnceLightTextColorChange&&(t+=this.__cbOnceLightTextColorChange.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnLightTextColorChange)for(var s=0,h=this.__cbOnLightTextColorChange.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnLightTextColorChange[a],++r):--t}if(null!=this.__cbOnceLightTextColorChange){for(var o=null,c=null,s=0,h=this.__cbOnceLightTextColorChange.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceLightTextColorChange[a],this.__cbOnceLightTextColorChange[a]=null,u=this.__cbOnceOwnerUnbindLightTextColorChange[a],(this.__cbOnceOwnerUnbindLightTextColorChange[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindLightTextColorChange[a]),c.push(this.__cbOnceLightTextColorChange[a]))}this.__cbOnceOwnerUnbindLightTextColorChange=o,this.__cbOnceLightTextColorChange=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onLightTextColorChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event lightTextColorChange because owner is destroyed!");var l=function(e){null!=t&&(i.offLightTextColorChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindLightTextColorChange&&(this.__cbOnOwnerUnbindLightTextColorChange=[]),this.__cbOnOwnerUnbindLightTextColorChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindLightTextColorChange&&(this.__cbOnOwnerUnbindLightTextColorChange=[]),this.__cbOnOwnerUnbindLightTextColorChange.push(null);null==this.__cbOnLightTextColorChange&&(this.__cbOnLightTextColorChange=[]),this.__cbOnLightTextColorChange.push(t)},onceLightTextColorChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event lightTextColorChange because owner is destroyed!");var l=function(e){null!=t&&(i.offLightTextColorChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindLightTextColorChange&&(this.__cbOnceOwnerUnbindLightTextColorChange=[]),this.__cbOnceOwnerUnbindLightTextColorChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindLightTextColorChange&&(this.__cbOnceOwnerUnbindLightTextColorChange=[]),this.__cbOnceOwnerUnbindLightTextColorChange.push(null);null==this.__cbOnceLightTextColorChange&&(this.__cbOnceLightTextColorChange=[]),this.__cbOnceLightTextColorChange.push(t)},offLightTextColorChange:function(e){if(null!=e){var n;null!=this.__cbOnLightTextColorChange&&-1!=(n=this.__cbOnLightTextColorChange.indexOf(e))&&(this.__cbOnLightTextColorChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindLightTextColorChange[n])&&r(),this.__cbOnOwnerUnbindLightTextColorChange.splice(n,1)),null!=this.__cbOnceLightTextColorChange&&-1!=(n=this.__cbOnceLightTextColorChange.indexOf(e))&&(this.__cbOnceLightTextColorChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindLightTextColorChange[n])&&r(),this.__cbOnceOwnerUnbindLightTextColorChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindLightTextColorChange){for(var t=0,i=this.__cbOnOwnerUnbindLightTextColorChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindLightTextColorChange[l])&&r()}this.__cbOnOwnerUnbindLightTextColorChange=null}if(null!=this.__cbOnceOwnerUnbindLightTextColorChange){for(t=0,i=this.__cbOnceOwnerUnbindLightTextColorChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindLightTextColorChange[l])&&r()}this.__cbOnceOwnerUnbindLightTextColorChange=null}this.__cbOnLightTextColorChange=null,this.__cbOnceLightTextColorChange=null}},listensLightTextColorChange:function(){return null!=this.__cbOnLightTextColorChange&&0<this.__cbOnLightTextColorChange.length||null!=this.__cbOnceLightTextColorChange&&0<this.__cbOnceLightTextColorChange.length},mediumTextColorAutoruns:null,get_mediumTextColor:function(){var e,n,t=this.unobservedMediumTextColor;return null!=U.current&&(e=U.current,null!=(n=this.mediumTextColorAutoruns)||(n=U.getAutorunArray(),null!=(this.mediumTextColorAutoruns=n)))&&e.bindToAutorunArray(n),t},set_mediumTextColor:function(e){var n=this.unobservedMediumTextColor;return n!=(this.unobservedMediumTextColor=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!0)),this.emitMediumTextColorChange(e,n),null!=(n=this.mediumTextColorAutoruns))&&(this.mediumTextColorAutoruns=null,U.invalidateAutorunArray(n)),e},invalidateMediumTextColor:function(){var e=this.unobservedMediumTextColor,e=(this.emitMediumTextColorChange(e,e),this.mediumTextColorAutoruns);null!=e&&(this.mediumTextColorAutoruns=null,U.invalidateAutorunArray(e))},unobservedMediumTextColor:null,__cbOnMediumTextColorChange:null,__cbOnceMediumTextColorChange:null,__cbOnOwnerUnbindMediumTextColorChange:null,__cbOnceOwnerUnbindMediumTextColorChange:null,emitMediumTextColorChange:function(e,n){var t=0;if(null!=this.__cbOnMediumTextColorChange&&(t+=this.__cbOnMediumTextColorChange.length),null!=this.__cbOnceMediumTextColorChange&&(t+=this.__cbOnceMediumTextColorChange.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnMediumTextColorChange)for(var s=0,h=this.__cbOnMediumTextColorChange.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnMediumTextColorChange[a],++r):--t}if(null!=this.__cbOnceMediumTextColorChange){for(var o=null,c=null,s=0,h=this.__cbOnceMediumTextColorChange.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceMediumTextColorChange[a],this.__cbOnceMediumTextColorChange[a]=null,u=this.__cbOnceOwnerUnbindMediumTextColorChange[a],(this.__cbOnceOwnerUnbindMediumTextColorChange[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindMediumTextColorChange[a]),c.push(this.__cbOnceMediumTextColorChange[a]))}this.__cbOnceOwnerUnbindMediumTextColorChange=o,this.__cbOnceMediumTextColorChange=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onMediumTextColorChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event mediumTextColorChange because owner is destroyed!");var l=function(e){null!=t&&(i.offMediumTextColorChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindMediumTextColorChange&&(this.__cbOnOwnerUnbindMediumTextColorChange=[]),this.__cbOnOwnerUnbindMediumTextColorChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindMediumTextColorChange&&(this.__cbOnOwnerUnbindMediumTextColorChange=[]),this.__cbOnOwnerUnbindMediumTextColorChange.push(null);null==this.__cbOnMediumTextColorChange&&(this.__cbOnMediumTextColorChange=[]),this.__cbOnMediumTextColorChange.push(t)},onceMediumTextColorChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event mediumTextColorChange because owner is destroyed!");var l=function(e){null!=t&&(i.offMediumTextColorChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindMediumTextColorChange&&(this.__cbOnceOwnerUnbindMediumTextColorChange=[]),this.__cbOnceOwnerUnbindMediumTextColorChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindMediumTextColorChange&&(this.__cbOnceOwnerUnbindMediumTextColorChange=[]),this.__cbOnceOwnerUnbindMediumTextColorChange.push(null);null==this.__cbOnceMediumTextColorChange&&(this.__cbOnceMediumTextColorChange=[]),this.__cbOnceMediumTextColorChange.push(t)},offMediumTextColorChange:function(e){if(null!=e){var n;null!=this.__cbOnMediumTextColorChange&&-1!=(n=this.__cbOnMediumTextColorChange.indexOf(e))&&(this.__cbOnMediumTextColorChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindMediumTextColorChange[n])&&r(),this.__cbOnOwnerUnbindMediumTextColorChange.splice(n,1)),null!=this.__cbOnceMediumTextColorChange&&-1!=(n=this.__cbOnceMediumTextColorChange.indexOf(e))&&(this.__cbOnceMediumTextColorChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindMediumTextColorChange[n])&&r(),this.__cbOnceOwnerUnbindMediumTextColorChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindMediumTextColorChange){for(var t=0,i=this.__cbOnOwnerUnbindMediumTextColorChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindMediumTextColorChange[l])&&r()}this.__cbOnOwnerUnbindMediumTextColorChange=null}if(null!=this.__cbOnceOwnerUnbindMediumTextColorChange){for(t=0,i=this.__cbOnceOwnerUnbindMediumTextColorChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindMediumTextColorChange[l])&&r()}this.__cbOnceOwnerUnbindMediumTextColorChange=null}this.__cbOnMediumTextColorChange=null,this.__cbOnceMediumTextColorChange=null}},listensMediumTextColorChange:function(){return null!=this.__cbOnMediumTextColorChange&&0<this.__cbOnMediumTextColorChange.length||null!=this.__cbOnceMediumTextColorChange&&0<this.__cbOnceMediumTextColorChange.length},darkTextColorAutoruns:null,get_darkTextColor:function(){var e,n,t=this.unobservedDarkTextColor;return null!=U.current&&(e=U.current,null!=(n=this.darkTextColorAutoruns)||(n=U.getAutorunArray(),null!=(this.darkTextColorAutoruns=n)))&&e.bindToAutorunArray(n),t},set_darkTextColor:function(e){var n=this.unobservedDarkTextColor;return n!=(this.unobservedDarkTextColor=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!0)),this.emitDarkTextColorChange(e,n),null!=(n=this.darkTextColorAutoruns))&&(this.darkTextColorAutoruns=null,U.invalidateAutorunArray(n)),e},invalidateDarkTextColor:function(){var e=this.unobservedDarkTextColor,e=(this.emitDarkTextColorChange(e,e),this.darkTextColorAutoruns);null!=e&&(this.darkTextColorAutoruns=null,U.invalidateAutorunArray(e))},unobservedDarkTextColor:null,__cbOnDarkTextColorChange:null,__cbOnceDarkTextColorChange:null,__cbOnOwnerUnbindDarkTextColorChange:null,__cbOnceOwnerUnbindDarkTextColorChange:null,emitDarkTextColorChange:function(e,n){var t=0;if(null!=this.__cbOnDarkTextColorChange&&(t+=this.__cbOnDarkTextColorChange.length),null!=this.__cbOnceDarkTextColorChange&&(t+=this.__cbOnceDarkTextColorChange.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnDarkTextColorChange)for(var s=0,h=this.__cbOnDarkTextColorChange.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnDarkTextColorChange[a],++r):--t}if(null!=this.__cbOnceDarkTextColorChange){for(var o=null,c=null,s=0,h=this.__cbOnceDarkTextColorChange.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceDarkTextColorChange[a],this.__cbOnceDarkTextColorChange[a]=null,u=this.__cbOnceOwnerUnbindDarkTextColorChange[a],(this.__cbOnceOwnerUnbindDarkTextColorChange[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindDarkTextColorChange[a]),c.push(this.__cbOnceDarkTextColorChange[a]))}this.__cbOnceOwnerUnbindDarkTextColorChange=o,this.__cbOnceDarkTextColorChange=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onDarkTextColorChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event darkTextColorChange because owner is destroyed!");var l=function(e){null!=t&&(i.offDarkTextColorChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindDarkTextColorChange&&(this.__cbOnOwnerUnbindDarkTextColorChange=[]),this.__cbOnOwnerUnbindDarkTextColorChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindDarkTextColorChange&&(this.__cbOnOwnerUnbindDarkTextColorChange=[]),this.__cbOnOwnerUnbindDarkTextColorChange.push(null);null==this.__cbOnDarkTextColorChange&&(this.__cbOnDarkTextColorChange=[]),this.__cbOnDarkTextColorChange.push(t)},onceDarkTextColorChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event darkTextColorChange because owner is destroyed!");var l=function(e){null!=t&&(i.offDarkTextColorChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindDarkTextColorChange&&(this.__cbOnceOwnerUnbindDarkTextColorChange=[]),this.__cbOnceOwnerUnbindDarkTextColorChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindDarkTextColorChange&&(this.__cbOnceOwnerUnbindDarkTextColorChange=[]),this.__cbOnceOwnerUnbindDarkTextColorChange.push(null);null==this.__cbOnceDarkTextColorChange&&(this.__cbOnceDarkTextColorChange=[]),this.__cbOnceDarkTextColorChange.push(t)},offDarkTextColorChange:function(e){if(null!=e){var n;null!=this.__cbOnDarkTextColorChange&&-1!=(n=this.__cbOnDarkTextColorChange.indexOf(e))&&(this.__cbOnDarkTextColorChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindDarkTextColorChange[n])&&r(),this.__cbOnOwnerUnbindDarkTextColorChange.splice(n,1)),null!=this.__cbOnceDarkTextColorChange&&-1!=(n=this.__cbOnceDarkTextColorChange.indexOf(e))&&(this.__cbOnceDarkTextColorChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindDarkTextColorChange[n])&&r(),this.__cbOnceOwnerUnbindDarkTextColorChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindDarkTextColorChange){for(var t=0,i=this.__cbOnOwnerUnbindDarkTextColorChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindDarkTextColorChange[l])&&r()}this.__cbOnOwnerUnbindDarkTextColorChange=null}if(null!=this.__cbOnceOwnerUnbindDarkTextColorChange){for(t=0,i=this.__cbOnceOwnerUnbindDarkTextColorChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindDarkTextColorChange[l])&&r()}this.__cbOnceOwnerUnbindDarkTextColorChange=null}this.__cbOnDarkTextColorChange=null,this.__cbOnceDarkTextColorChange=null}},listensDarkTextColorChange:function(){return null!=this.__cbOnDarkTextColorChange&&0<this.__cbOnDarkTextColorChange.length||null!=this.__cbOnceDarkTextColorChange&&0<this.__cbOnceDarkTextColorChange.length},darkerTextColorAutoruns:null,get_darkerTextColor:function(){var e,n,t=this.unobservedDarkerTextColor;return null!=U.current&&(e=U.current,null!=(n=this.darkerTextColorAutoruns)||(n=U.getAutorunArray(),null!=(this.darkerTextColorAutoruns=n)))&&e.bindToAutorunArray(n),t},set_darkerTextColor:function(e){var n=this.unobservedDarkerTextColor;return n!=(this.unobservedDarkerTextColor=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!0)),this.emitDarkerTextColorChange(e,n),null!=(n=this.darkerTextColorAutoruns))&&(this.darkerTextColorAutoruns=null,U.invalidateAutorunArray(n)),e},invalidateDarkerTextColor:function(){var e=this.unobservedDarkerTextColor,e=(this.emitDarkerTextColorChange(e,e),this.darkerTextColorAutoruns);null!=e&&(this.darkerTextColorAutoruns=null,U.invalidateAutorunArray(e))},unobservedDarkerTextColor:null,__cbOnDarkerTextColorChange:null,__cbOnceDarkerTextColorChange:null,__cbOnOwnerUnbindDarkerTextColorChange:null,__cbOnceOwnerUnbindDarkerTextColorChange:null,emitDarkerTextColorChange:function(e,n){var t=0;if(null!=this.__cbOnDarkerTextColorChange&&(t+=this.__cbOnDarkerTextColorChange.length),null!=this.__cbOnceDarkerTextColorChange&&(t+=this.__cbOnceDarkerTextColorChange.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnDarkerTextColorChange)for(var s=0,h=this.__cbOnDarkerTextColorChange.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnDarkerTextColorChange[a],++r):--t}if(null!=this.__cbOnceDarkerTextColorChange){for(var o=null,c=null,s=0,h=this.__cbOnceDarkerTextColorChange.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceDarkerTextColorChange[a],this.__cbOnceDarkerTextColorChange[a]=null,u=this.__cbOnceOwnerUnbindDarkerTextColorChange[a],(this.__cbOnceOwnerUnbindDarkerTextColorChange[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindDarkerTextColorChange[a]),c.push(this.__cbOnceDarkerTextColorChange[a]))}this.__cbOnceOwnerUnbindDarkerTextColorChange=o,this.__cbOnceDarkerTextColorChange=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onDarkerTextColorChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event darkerTextColorChange because owner is destroyed!");var l=function(e){null!=t&&(i.offDarkerTextColorChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindDarkerTextColorChange&&(this.__cbOnOwnerUnbindDarkerTextColorChange=[]),this.__cbOnOwnerUnbindDarkerTextColorChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindDarkerTextColorChange&&(this.__cbOnOwnerUnbindDarkerTextColorChange=[]),this.__cbOnOwnerUnbindDarkerTextColorChange.push(null);null==this.__cbOnDarkerTextColorChange&&(this.__cbOnDarkerTextColorChange=[]),this.__cbOnDarkerTextColorChange.push(t)},onceDarkerTextColorChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event darkerTextColorChange because owner is destroyed!");var l=function(e){null!=t&&(i.offDarkerTextColorChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindDarkerTextColorChange&&(this.__cbOnceOwnerUnbindDarkerTextColorChange=[]),this.__cbOnceOwnerUnbindDarkerTextColorChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindDarkerTextColorChange&&(this.__cbOnceOwnerUnbindDarkerTextColorChange=[]),this.__cbOnceOwnerUnbindDarkerTextColorChange.push(null);null==this.__cbOnceDarkerTextColorChange&&(this.__cbOnceDarkerTextColorChange=[]),this.__cbOnceDarkerTextColorChange.push(t)},offDarkerTextColorChange:function(e){if(null!=e){var n;null!=this.__cbOnDarkerTextColorChange&&-1!=(n=this.__cbOnDarkerTextColorChange.indexOf(e))&&(this.__cbOnDarkerTextColorChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindDarkerTextColorChange[n])&&r(),this.__cbOnOwnerUnbindDarkerTextColorChange.splice(n,1)),null!=this.__cbOnceDarkerTextColorChange&&-1!=(n=this.__cbOnceDarkerTextColorChange.indexOf(e))&&(this.__cbOnceDarkerTextColorChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindDarkerTextColorChange[n])&&r(),this.__cbOnceOwnerUnbindDarkerTextColorChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindDarkerTextColorChange){for(var t=0,i=this.__cbOnOwnerUnbindDarkerTextColorChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindDarkerTextColorChange[l])&&r()}this.__cbOnOwnerUnbindDarkerTextColorChange=null}if(null!=this.__cbOnceOwnerUnbindDarkerTextColorChange){for(t=0,i=this.__cbOnceOwnerUnbindDarkerTextColorChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindDarkerTextColorChange[l])&&r()}this.__cbOnceOwnerUnbindDarkerTextColorChange=null}this.__cbOnDarkerTextColorChange=null,this.__cbOnceDarkerTextColorChange=null}},listensDarkerTextColorChange:function(){return null!=this.__cbOnDarkerTextColorChange&&0<this.__cbOnDarkerTextColorChange.length||null!=this.__cbOnceDarkerTextColorChange&&0<this.__cbOnceDarkerTextColorChange.length},iconColorAutoruns:null,get_iconColor:function(){var e,n,t=this.unobservedIconColor;return null!=U.current&&(e=U.current,null!=(n=this.iconColorAutoruns)||(n=U.getAutorunArray(),null!=(this.iconColorAutoruns=n)))&&e.bindToAutorunArray(n),t},set_iconColor:function(e){var n=this.unobservedIconColor;return n!=(this.unobservedIconColor=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!0)),this.emitIconColorChange(e,n),null!=(n=this.iconColorAutoruns))&&(this.iconColorAutoruns=null,U.invalidateAutorunArray(n)),e},invalidateIconColor:function(){var e=this.unobservedIconColor,e=(this.emitIconColorChange(e,e),this.iconColorAutoruns);null!=e&&(this.iconColorAutoruns=null,U.invalidateAutorunArray(e))},unobservedIconColor:null,__cbOnIconColorChange:null,__cbOnceIconColorChange:null,__cbOnOwnerUnbindIconColorChange:null,__cbOnceOwnerUnbindIconColorChange:null,emitIconColorChange:function(e,n){var t=0;if(null!=this.__cbOnIconColorChange&&(t+=this.__cbOnIconColorChange.length),null!=this.__cbOnceIconColorChange&&(t+=this.__cbOnceIconColorChange.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnIconColorChange)for(var s=0,h=this.__cbOnIconColorChange.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnIconColorChange[a],++r):--t}if(null!=this.__cbOnceIconColorChange){for(var o=null,c=null,s=0,h=this.__cbOnceIconColorChange.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceIconColorChange[a],this.__cbOnceIconColorChange[a]=null,u=this.__cbOnceOwnerUnbindIconColorChange[a],(this.__cbOnceOwnerUnbindIconColorChange[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindIconColorChange[a]),c.push(this.__cbOnceIconColorChange[a]))}this.__cbOnceOwnerUnbindIconColorChange=o,this.__cbOnceIconColorChange=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onIconColorChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event iconColorChange because owner is destroyed!");var l=function(e){null!=t&&(i.offIconColorChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindIconColorChange&&(this.__cbOnOwnerUnbindIconColorChange=[]),this.__cbOnOwnerUnbindIconColorChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindIconColorChange&&(this.__cbOnOwnerUnbindIconColorChange=[]),this.__cbOnOwnerUnbindIconColorChange.push(null);null==this.__cbOnIconColorChange&&(this.__cbOnIconColorChange=[]),this.__cbOnIconColorChange.push(t)},onceIconColorChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event iconColorChange because owner is destroyed!");var l=function(e){null!=t&&(i.offIconColorChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindIconColorChange&&(this.__cbOnceOwnerUnbindIconColorChange=[]),this.__cbOnceOwnerUnbindIconColorChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindIconColorChange&&(this.__cbOnceOwnerUnbindIconColorChange=[]),this.__cbOnceOwnerUnbindIconColorChange.push(null);null==this.__cbOnceIconColorChange&&(this.__cbOnceIconColorChange=[]),this.__cbOnceIconColorChange.push(t)},offIconColorChange:function(e){if(null!=e){var n;null!=this.__cbOnIconColorChange&&-1!=(n=this.__cbOnIconColorChange.indexOf(e))&&(this.__cbOnIconColorChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindIconColorChange[n])&&r(),this.__cbOnOwnerUnbindIconColorChange.splice(n,1)),null!=this.__cbOnceIconColorChange&&-1!=(n=this.__cbOnceIconColorChange.indexOf(e))&&(this.__cbOnceIconColorChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindIconColorChange[n])&&r(),this.__cbOnceOwnerUnbindIconColorChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindIconColorChange){for(var t=0,i=this.__cbOnOwnerUnbindIconColorChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindIconColorChange[l])&&r()}this.__cbOnOwnerUnbindIconColorChange=null}if(null!=this.__cbOnceOwnerUnbindIconColorChange){for(t=0,i=this.__cbOnceOwnerUnbindIconColorChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindIconColorChange[l])&&r()}this.__cbOnceOwnerUnbindIconColorChange=null}this.__cbOnIconColorChange=null,this.__cbOnceIconColorChange=null}},listensIconColorChange:function(){return null!=this.__cbOnIconColorChange&&0<this.__cbOnIconColorChange.length||null!=this.__cbOnceIconColorChange&&0<this.__cbOnceIconColorChange.length},customMediumFontAutoruns:null,get_customMediumFont:function(){var e,n,t=this.unobservedCustomMediumFont;return null!=U.current&&(e=U.current,null!=(n=this.customMediumFontAutoruns)||(n=U.getAutorunArray(),null!=(this.customMediumFontAutoruns=n)))&&e.bindToAutorunArray(n),t},set_customMediumFont:function(e){var n=this.unobservedCustomMediumFont;return n!=(this.unobservedCustomMediumFont=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!0)),this.emitCustomMediumFontChange(e,n),null!=(n=this.customMediumFontAutoruns))&&(this.customMediumFontAutoruns=null,U.invalidateAutorunArray(n)),e},invalidateCustomMediumFont:function(){var e=this.unobservedCustomMediumFont,e=(this.emitCustomMediumFontChange(e,e),this.customMediumFontAutoruns);null!=e&&(this.customMediumFontAutoruns=null,U.invalidateAutorunArray(e))},unobservedCustomMediumFont:null,__cbOnCustomMediumFontChange:null,__cbOnceCustomMediumFontChange:null,__cbOnOwnerUnbindCustomMediumFontChange:null,__cbOnceOwnerUnbindCustomMediumFontChange:null,emitCustomMediumFontChange:function(e,n){var t=0;if(null!=this.__cbOnCustomMediumFontChange&&(t+=this.__cbOnCustomMediumFontChange.length),null!=this.__cbOnceCustomMediumFontChange&&(t+=this.__cbOnceCustomMediumFontChange.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnCustomMediumFontChange)for(var s=0,h=this.__cbOnCustomMediumFontChange.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnCustomMediumFontChange[a],++r):--t}if(null!=this.__cbOnceCustomMediumFontChange){for(var o=null,c=null,s=0,h=this.__cbOnceCustomMediumFontChange.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceCustomMediumFontChange[a],this.__cbOnceCustomMediumFontChange[a]=null,u=this.__cbOnceOwnerUnbindCustomMediumFontChange[a],(this.__cbOnceOwnerUnbindCustomMediumFontChange[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindCustomMediumFontChange[a]),c.push(this.__cbOnceCustomMediumFontChange[a]))}this.__cbOnceOwnerUnbindCustomMediumFontChange=o,this.__cbOnceCustomMediumFontChange=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onCustomMediumFontChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event customMediumFontChange because owner is destroyed!");var l=function(e){null!=t&&(i.offCustomMediumFontChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindCustomMediumFontChange&&(this.__cbOnOwnerUnbindCustomMediumFontChange=[]),this.__cbOnOwnerUnbindCustomMediumFontChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindCustomMediumFontChange&&(this.__cbOnOwnerUnbindCustomMediumFontChange=[]),this.__cbOnOwnerUnbindCustomMediumFontChange.push(null);null==this.__cbOnCustomMediumFontChange&&(this.__cbOnCustomMediumFontChange=[]),this.__cbOnCustomMediumFontChange.push(t)},onceCustomMediumFontChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event customMediumFontChange because owner is destroyed!");var l=function(e){null!=t&&(i.offCustomMediumFontChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindCustomMediumFontChange&&(this.__cbOnceOwnerUnbindCustomMediumFontChange=[]),this.__cbOnceOwnerUnbindCustomMediumFontChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindCustomMediumFontChange&&(this.__cbOnceOwnerUnbindCustomMediumFontChange=[]),this.__cbOnceOwnerUnbindCustomMediumFontChange.push(null);null==this.__cbOnceCustomMediumFontChange&&(this.__cbOnceCustomMediumFontChange=[]),this.__cbOnceCustomMediumFontChange.push(t)},offCustomMediumFontChange:function(e){if(null!=e){var n;null!=this.__cbOnCustomMediumFontChange&&-1!=(n=this.__cbOnCustomMediumFontChange.indexOf(e))&&(this.__cbOnCustomMediumFontChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindCustomMediumFontChange[n])&&r(),this.__cbOnOwnerUnbindCustomMediumFontChange.splice(n,1)),null!=this.__cbOnceCustomMediumFontChange&&-1!=(n=this.__cbOnceCustomMediumFontChange.indexOf(e))&&(this.__cbOnceCustomMediumFontChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindCustomMediumFontChange[n])&&r(),this.__cbOnceOwnerUnbindCustomMediumFontChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindCustomMediumFontChange){for(var t=0,i=this.__cbOnOwnerUnbindCustomMediumFontChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindCustomMediumFontChange[l])&&r()}this.__cbOnOwnerUnbindCustomMediumFontChange=null}if(null!=this.__cbOnceOwnerUnbindCustomMediumFontChange){for(t=0,i=this.__cbOnceOwnerUnbindCustomMediumFontChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindCustomMediumFontChange[l])&&r()}this.__cbOnceOwnerUnbindCustomMediumFontChange=null}this.__cbOnCustomMediumFontChange=null,this.__cbOnceCustomMediumFontChange=null}},listensCustomMediumFontChange:function(){return null!=this.__cbOnCustomMediumFontChange&&0<this.__cbOnCustomMediumFontChange.length||null!=this.__cbOnceCustomMediumFontChange&&0<this.__cbOnceCustomMediumFontChange.length},get_mediumFont:function(){var e=this.get_customMediumFont();return null!=e?e:he.app.assets.font(he.app.settings.defaultFont)},customBoldFontAutoruns:null,get_customBoldFont:function(){var e,n,t=this.unobservedCustomBoldFont;return null!=U.current&&(e=U.current,null!=(n=this.customBoldFontAutoruns)||(n=U.getAutorunArray(),null!=(this.customBoldFontAutoruns=n)))&&e.bindToAutorunArray(n),t},set_customBoldFont:function(e){var n=this.unobservedCustomBoldFont;return n!=(this.unobservedCustomBoldFont=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!0)),this.emitCustomBoldFontChange(e,n),null!=(n=this.customBoldFontAutoruns))&&(this.customBoldFontAutoruns=null,U.invalidateAutorunArray(n)),e},invalidateCustomBoldFont:function(){var e=this.unobservedCustomBoldFont,e=(this.emitCustomBoldFontChange(e,e),this.customBoldFontAutoruns);null!=e&&(this.customBoldFontAutoruns=null,U.invalidateAutorunArray(e))},unobservedCustomBoldFont:null,__cbOnCustomBoldFontChange:null,__cbOnceCustomBoldFontChange:null,__cbOnOwnerUnbindCustomBoldFontChange:null,__cbOnceOwnerUnbindCustomBoldFontChange:null,emitCustomBoldFontChange:function(e,n){var t=0;if(null!=this.__cbOnCustomBoldFontChange&&(t+=this.__cbOnCustomBoldFontChange.length),null!=this.__cbOnceCustomBoldFontChange&&(t+=this.__cbOnceCustomBoldFontChange.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnCustomBoldFontChange)for(var s=0,h=this.__cbOnCustomBoldFontChange.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnCustomBoldFontChange[a],++r):--t}if(null!=this.__cbOnceCustomBoldFontChange){for(var o=null,c=null,s=0,h=this.__cbOnceCustomBoldFontChange.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceCustomBoldFontChange[a],this.__cbOnceCustomBoldFontChange[a]=null,u=this.__cbOnceOwnerUnbindCustomBoldFontChange[a],(this.__cbOnceOwnerUnbindCustomBoldFontChange[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindCustomBoldFontChange[a]),c.push(this.__cbOnceCustomBoldFontChange[a]))}this.__cbOnceOwnerUnbindCustomBoldFontChange=o,this.__cbOnceCustomBoldFontChange=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onCustomBoldFontChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event customBoldFontChange because owner is destroyed!");var l=function(e){null!=t&&(i.offCustomBoldFontChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindCustomBoldFontChange&&(this.__cbOnOwnerUnbindCustomBoldFontChange=[]),this.__cbOnOwnerUnbindCustomBoldFontChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindCustomBoldFontChange&&(this.__cbOnOwnerUnbindCustomBoldFontChange=[]),this.__cbOnOwnerUnbindCustomBoldFontChange.push(null);null==this.__cbOnCustomBoldFontChange&&(this.__cbOnCustomBoldFontChange=[]),this.__cbOnCustomBoldFontChange.push(t)},onceCustomBoldFontChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event customBoldFontChange because owner is destroyed!");var l=function(e){null!=t&&(i.offCustomBoldFontChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindCustomBoldFontChange&&(this.__cbOnceOwnerUnbindCustomBoldFontChange=[]),this.__cbOnceOwnerUnbindCustomBoldFontChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindCustomBoldFontChange&&(this.__cbOnceOwnerUnbindCustomBoldFontChange=[]),this.__cbOnceOwnerUnbindCustomBoldFontChange.push(null);null==this.__cbOnceCustomBoldFontChange&&(this.__cbOnceCustomBoldFontChange=[]),this.__cbOnceCustomBoldFontChange.push(t)},offCustomBoldFontChange:function(e){if(null!=e){var n;null!=this.__cbOnCustomBoldFontChange&&-1!=(n=this.__cbOnCustomBoldFontChange.indexOf(e))&&(this.__cbOnCustomBoldFontChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindCustomBoldFontChange[n])&&r(),this.__cbOnOwnerUnbindCustomBoldFontChange.splice(n,1)),null!=this.__cbOnceCustomBoldFontChange&&-1!=(n=this.__cbOnceCustomBoldFontChange.indexOf(e))&&(this.__cbOnceCustomBoldFontChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindCustomBoldFontChange[n])&&r(),this.__cbOnceOwnerUnbindCustomBoldFontChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindCustomBoldFontChange){for(var t=0,i=this.__cbOnOwnerUnbindCustomBoldFontChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindCustomBoldFontChange[l])&&r()}this.__cbOnOwnerUnbindCustomBoldFontChange=null}if(null!=this.__cbOnceOwnerUnbindCustomBoldFontChange){for(t=0,i=this.__cbOnceOwnerUnbindCustomBoldFontChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindCustomBoldFontChange[l])&&r()}this.__cbOnceOwnerUnbindCustomBoldFontChange=null}this.__cbOnCustomBoldFontChange=null,this.__cbOnceCustomBoldFontChange=null}},listensCustomBoldFontChange:function(){return null!=this.__cbOnCustomBoldFontChange&&0<this.__cbOnCustomBoldFontChange.length||null!=this.__cbOnceCustomBoldFontChange&&0<this.__cbOnceCustomBoldFontChange.length},get_boldFont:function(){var e=this.get_customBoldFont();return null!=e?e:he.app.assets.font(he.app.settings.defaultFont)},lighterBorderColorAutoruns:null,get_lighterBorderColor:function(){var e,n,t=this.unobservedLighterBorderColor;return null!=U.current&&(e=U.current,null!=(n=this.lighterBorderColorAutoruns)||(n=U.getAutorunArray(),null!=(this.lighterBorderColorAutoruns=n)))&&e.bindToAutorunArray(n),t},set_lighterBorderColor:function(e){var n=this.unobservedLighterBorderColor;return n!=(this.unobservedLighterBorderColor=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!0)),this.emitLighterBorderColorChange(e,n),null!=(n=this.lighterBorderColorAutoruns))&&(this.lighterBorderColorAutoruns=null,U.invalidateAutorunArray(n)),e},invalidateLighterBorderColor:function(){var e=this.unobservedLighterBorderColor,e=(this.emitLighterBorderColorChange(e,e),this.lighterBorderColorAutoruns);null!=e&&(this.lighterBorderColorAutoruns=null,U.invalidateAutorunArray(e))},unobservedLighterBorderColor:null,__cbOnLighterBorderColorChange:null,__cbOnceLighterBorderColorChange:null,__cbOnOwnerUnbindLighterBorderColorChange:null,__cbOnceOwnerUnbindLighterBorderColorChange:null,emitLighterBorderColorChange:function(e,n){var t=0;if(null!=this.__cbOnLighterBorderColorChange&&(t+=this.__cbOnLighterBorderColorChange.length),null!=this.__cbOnceLighterBorderColorChange&&(t+=this.__cbOnceLighterBorderColorChange.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnLighterBorderColorChange)for(var s=0,h=this.__cbOnLighterBorderColorChange.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnLighterBorderColorChange[a],++r):--t}if(null!=this.__cbOnceLighterBorderColorChange){for(var o=null,c=null,s=0,h=this.__cbOnceLighterBorderColorChange.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceLighterBorderColorChange[a],this.__cbOnceLighterBorderColorChange[a]=null,u=this.__cbOnceOwnerUnbindLighterBorderColorChange[a],(this.__cbOnceOwnerUnbindLighterBorderColorChange[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindLighterBorderColorChange[a]),c.push(this.__cbOnceLighterBorderColorChange[a]))}this.__cbOnceOwnerUnbindLighterBorderColorChange=o,this.__cbOnceLighterBorderColorChange=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onLighterBorderColorChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event lighterBorderColorChange because owner is destroyed!");var l=function(e){null!=t&&(i.offLighterBorderColorChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindLighterBorderColorChange&&(this.__cbOnOwnerUnbindLighterBorderColorChange=[]),this.__cbOnOwnerUnbindLighterBorderColorChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindLighterBorderColorChange&&(this.__cbOnOwnerUnbindLighterBorderColorChange=[]),this.__cbOnOwnerUnbindLighterBorderColorChange.push(null);null==this.__cbOnLighterBorderColorChange&&(this.__cbOnLighterBorderColorChange=[]),this.__cbOnLighterBorderColorChange.push(t)},onceLighterBorderColorChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event lighterBorderColorChange because owner is destroyed!");var l=function(e){null!=t&&(i.offLighterBorderColorChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindLighterBorderColorChange&&(this.__cbOnceOwnerUnbindLighterBorderColorChange=[]),this.__cbOnceOwnerUnbindLighterBorderColorChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindLighterBorderColorChange&&(this.__cbOnceOwnerUnbindLighterBorderColorChange=[]),this.__cbOnceOwnerUnbindLighterBorderColorChange.push(null);null==this.__cbOnceLighterBorderColorChange&&(this.__cbOnceLighterBorderColorChange=[]),this.__cbOnceLighterBorderColorChange.push(t)},offLighterBorderColorChange:function(e){if(null!=e){var n;null!=this.__cbOnLighterBorderColorChange&&-1!=(n=this.__cbOnLighterBorderColorChange.indexOf(e))&&(this.__cbOnLighterBorderColorChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindLighterBorderColorChange[n])&&r(),this.__cbOnOwnerUnbindLighterBorderColorChange.splice(n,1)),null!=this.__cbOnceLighterBorderColorChange&&-1!=(n=this.__cbOnceLighterBorderColorChange.indexOf(e))&&(this.__cbOnceLighterBorderColorChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindLighterBorderColorChange[n])&&r(),this.__cbOnceOwnerUnbindLighterBorderColorChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindLighterBorderColorChange){for(var t=0,i=this.__cbOnOwnerUnbindLighterBorderColorChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindLighterBorderColorChange[l])&&r()}this.__cbOnOwnerUnbindLighterBorderColorChange=null}if(null!=this.__cbOnceOwnerUnbindLighterBorderColorChange){for(t=0,i=this.__cbOnceOwnerUnbindLighterBorderColorChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindLighterBorderColorChange[l])&&r()}this.__cbOnceOwnerUnbindLighterBorderColorChange=null}this.__cbOnLighterBorderColorChange=null,this.__cbOnceLighterBorderColorChange=null}},listensLighterBorderColorChange:function(){return null!=this.__cbOnLighterBorderColorChange&&0<this.__cbOnLighterBorderColorChange.length||null!=this.__cbOnceLighterBorderColorChange&&0<this.__cbOnceLighterBorderColorChange.length},lightBorderColorAutoruns:null,get_lightBorderColor:function(){var e,n,t=this.unobservedLightBorderColor;return null!=U.current&&(e=U.current,null!=(n=this.lightBorderColorAutoruns)||(n=U.getAutorunArray(),null!=(this.lightBorderColorAutoruns=n)))&&e.bindToAutorunArray(n),t},set_lightBorderColor:function(e){var n=this.unobservedLightBorderColor;return n!=(this.unobservedLightBorderColor=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!0)),this.emitLightBorderColorChange(e,n),null!=(n=this.lightBorderColorAutoruns))&&(this.lightBorderColorAutoruns=null,U.invalidateAutorunArray(n)),e},invalidateLightBorderColor:function(){var e=this.unobservedLightBorderColor,e=(this.emitLightBorderColorChange(e,e),this.lightBorderColorAutoruns);null!=e&&(this.lightBorderColorAutoruns=null,U.invalidateAutorunArray(e))},unobservedLightBorderColor:null,__cbOnLightBorderColorChange:null,__cbOnceLightBorderColorChange:null,__cbOnOwnerUnbindLightBorderColorChange:null,__cbOnceOwnerUnbindLightBorderColorChange:null,emitLightBorderColorChange:function(e,n){var t=0;if(null!=this.__cbOnLightBorderColorChange&&(t+=this.__cbOnLightBorderColorChange.length),null!=this.__cbOnceLightBorderColorChange&&(t+=this.__cbOnceLightBorderColorChange.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnLightBorderColorChange)for(var s=0,h=this.__cbOnLightBorderColorChange.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnLightBorderColorChange[a],++r):--t}if(null!=this.__cbOnceLightBorderColorChange){for(var o=null,c=null,s=0,h=this.__cbOnceLightBorderColorChange.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceLightBorderColorChange[a],this.__cbOnceLightBorderColorChange[a]=null,u=this.__cbOnceOwnerUnbindLightBorderColorChange[a],(this.__cbOnceOwnerUnbindLightBorderColorChange[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindLightBorderColorChange[a]),c.push(this.__cbOnceLightBorderColorChange[a]))}this.__cbOnceOwnerUnbindLightBorderColorChange=o,this.__cbOnceLightBorderColorChange=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onLightBorderColorChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event lightBorderColorChange because owner is destroyed!");var l=function(e){null!=t&&(i.offLightBorderColorChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindLightBorderColorChange&&(this.__cbOnOwnerUnbindLightBorderColorChange=[]),this.__cbOnOwnerUnbindLightBorderColorChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindLightBorderColorChange&&(this.__cbOnOwnerUnbindLightBorderColorChange=[]),this.__cbOnOwnerUnbindLightBorderColorChange.push(null);null==this.__cbOnLightBorderColorChange&&(this.__cbOnLightBorderColorChange=[]),this.__cbOnLightBorderColorChange.push(t)},onceLightBorderColorChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event lightBorderColorChange because owner is destroyed!");var l=function(e){null!=t&&(i.offLightBorderColorChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindLightBorderColorChange&&(this.__cbOnceOwnerUnbindLightBorderColorChange=[]),this.__cbOnceOwnerUnbindLightBorderColorChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindLightBorderColorChange&&(this.__cbOnceOwnerUnbindLightBorderColorChange=[]),this.__cbOnceOwnerUnbindLightBorderColorChange.push(null);null==this.__cbOnceLightBorderColorChange&&(this.__cbOnceLightBorderColorChange=[]),this.__cbOnceLightBorderColorChange.push(t)},offLightBorderColorChange:function(e){if(null!=e){var n;null!=this.__cbOnLightBorderColorChange&&-1!=(n=this.__cbOnLightBorderColorChange.indexOf(e))&&(this.__cbOnLightBorderColorChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindLightBorderColorChange[n])&&r(),this.__cbOnOwnerUnbindLightBorderColorChange.splice(n,1)),null!=this.__cbOnceLightBorderColorChange&&-1!=(n=this.__cbOnceLightBorderColorChange.indexOf(e))&&(this.__cbOnceLightBorderColorChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindLightBorderColorChange[n])&&r(),this.__cbOnceOwnerUnbindLightBorderColorChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindLightBorderColorChange){for(var t=0,i=this.__cbOnOwnerUnbindLightBorderColorChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindLightBorderColorChange[l])&&r()}this.__cbOnOwnerUnbindLightBorderColorChange=null}if(null!=this.__cbOnceOwnerUnbindLightBorderColorChange){for(t=0,i=this.__cbOnceOwnerUnbindLightBorderColorChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindLightBorderColorChange[l])&&r()}this.__cbOnceOwnerUnbindLightBorderColorChange=null}this.__cbOnLightBorderColorChange=null,this.__cbOnceLightBorderColorChange=null}},listensLightBorderColorChange:function(){return null!=this.__cbOnLightBorderColorChange&&0<this.__cbOnLightBorderColorChange.length||null!=this.__cbOnceLightBorderColorChange&&0<this.__cbOnceLightBorderColorChange.length},mediumBorderColorAutoruns:null,get_mediumBorderColor:function(){var e,n,t=this.unobservedMediumBorderColor;return null!=U.current&&(e=U.current,null!=(n=this.mediumBorderColorAutoruns)||(n=U.getAutorunArray(),null!=(this.mediumBorderColorAutoruns=n)))&&e.bindToAutorunArray(n),t},set_mediumBorderColor:function(e){var n=this.unobservedMediumBorderColor;return n!=(this.unobservedMediumBorderColor=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!0)),this.emitMediumBorderColorChange(e,n),null!=(n=this.mediumBorderColorAutoruns))&&(this.mediumBorderColorAutoruns=null,U.invalidateAutorunArray(n)),e},invalidateMediumBorderColor:function(){var e=this.unobservedMediumBorderColor,e=(this.emitMediumBorderColorChange(e,e),this.mediumBorderColorAutoruns);null!=e&&(this.mediumBorderColorAutoruns=null,U.invalidateAutorunArray(e))},unobservedMediumBorderColor:null,__cbOnMediumBorderColorChange:null,__cbOnceMediumBorderColorChange:null,__cbOnOwnerUnbindMediumBorderColorChange:null,__cbOnceOwnerUnbindMediumBorderColorChange:null,emitMediumBorderColorChange:function(e,n){var t=0;if(null!=this.__cbOnMediumBorderColorChange&&(t+=this.__cbOnMediumBorderColorChange.length),null!=this.__cbOnceMediumBorderColorChange&&(t+=this.__cbOnceMediumBorderColorChange.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnMediumBorderColorChange)for(var s=0,h=this.__cbOnMediumBorderColorChange.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnMediumBorderColorChange[a],++r):--t}if(null!=this.__cbOnceMediumBorderColorChange){for(var o=null,c=null,s=0,h=this.__cbOnceMediumBorderColorChange.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceMediumBorderColorChange[a],this.__cbOnceMediumBorderColorChange[a]=null,u=this.__cbOnceOwnerUnbindMediumBorderColorChange[a],(this.__cbOnceOwnerUnbindMediumBorderColorChange[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindMediumBorderColorChange[a]),c.push(this.__cbOnceMediumBorderColorChange[a]))}this.__cbOnceOwnerUnbindMediumBorderColorChange=o,this.__cbOnceMediumBorderColorChange=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onMediumBorderColorChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event mediumBorderColorChange because owner is destroyed!");var l=function(e){null!=t&&(i.offMediumBorderColorChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindMediumBorderColorChange&&(this.__cbOnOwnerUnbindMediumBorderColorChange=[]),this.__cbOnOwnerUnbindMediumBorderColorChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindMediumBorderColorChange&&(this.__cbOnOwnerUnbindMediumBorderColorChange=[]),this.__cbOnOwnerUnbindMediumBorderColorChange.push(null);null==this.__cbOnMediumBorderColorChange&&(this.__cbOnMediumBorderColorChange=[]),this.__cbOnMediumBorderColorChange.push(t)},onceMediumBorderColorChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event mediumBorderColorChange because owner is destroyed!");var l=function(e){null!=t&&(i.offMediumBorderColorChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindMediumBorderColorChange&&(this.__cbOnceOwnerUnbindMediumBorderColorChange=[]),this.__cbOnceOwnerUnbindMediumBorderColorChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindMediumBorderColorChange&&(this.__cbOnceOwnerUnbindMediumBorderColorChange=[]),this.__cbOnceOwnerUnbindMediumBorderColorChange.push(null);null==this.__cbOnceMediumBorderColorChange&&(this.__cbOnceMediumBorderColorChange=[]),this.__cbOnceMediumBorderColorChange.push(t)},offMediumBorderColorChange:function(e){if(null!=e){var n;null!=this.__cbOnMediumBorderColorChange&&-1!=(n=this.__cbOnMediumBorderColorChange.indexOf(e))&&(this.__cbOnMediumBorderColorChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindMediumBorderColorChange[n])&&r(),this.__cbOnOwnerUnbindMediumBorderColorChange.splice(n,1)),null!=this.__cbOnceMediumBorderColorChange&&-1!=(n=this.__cbOnceMediumBorderColorChange.indexOf(e))&&(this.__cbOnceMediumBorderColorChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindMediumBorderColorChange[n])&&r(),this.__cbOnceOwnerUnbindMediumBorderColorChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindMediumBorderColorChange){for(var t=0,i=this.__cbOnOwnerUnbindMediumBorderColorChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindMediumBorderColorChange[l])&&r()}this.__cbOnOwnerUnbindMediumBorderColorChange=null}if(null!=this.__cbOnceOwnerUnbindMediumBorderColorChange){for(t=0,i=this.__cbOnceOwnerUnbindMediumBorderColorChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindMediumBorderColorChange[l])&&r()}this.__cbOnceOwnerUnbindMediumBorderColorChange=null}this.__cbOnMediumBorderColorChange=null,this.__cbOnceMediumBorderColorChange=null}},listensMediumBorderColorChange:function(){return null!=this.__cbOnMediumBorderColorChange&&0<this.__cbOnMediumBorderColorChange.length||null!=this.__cbOnceMediumBorderColorChange&&0<this.__cbOnceMediumBorderColorChange.length},darkBorderColorAutoruns:null,get_darkBorderColor:function(){var e,n,t=this.unobservedDarkBorderColor;return null!=U.current&&(e=U.current,null!=(n=this.darkBorderColorAutoruns)||(n=U.getAutorunArray(),null!=(this.darkBorderColorAutoruns=n)))&&e.bindToAutorunArray(n),t},set_darkBorderColor:function(e){var n=this.unobservedDarkBorderColor;return n!=(this.unobservedDarkBorderColor=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!0)),this.emitDarkBorderColorChange(e,n),null!=(n=this.darkBorderColorAutoruns))&&(this.darkBorderColorAutoruns=null,U.invalidateAutorunArray(n)),e},invalidateDarkBorderColor:function(){var e=this.unobservedDarkBorderColor,e=(this.emitDarkBorderColorChange(e,e),this.darkBorderColorAutoruns);null!=e&&(this.darkBorderColorAutoruns=null,U.invalidateAutorunArray(e))},unobservedDarkBorderColor:null,__cbOnDarkBorderColorChange:null,__cbOnceDarkBorderColorChange:null,__cbOnOwnerUnbindDarkBorderColorChange:null,__cbOnceOwnerUnbindDarkBorderColorChange:null,emitDarkBorderColorChange:function(e,n){var t=0;if(null!=this.__cbOnDarkBorderColorChange&&(t+=this.__cbOnDarkBorderColorChange.length),null!=this.__cbOnceDarkBorderColorChange&&(t+=this.__cbOnceDarkBorderColorChange.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnDarkBorderColorChange)for(var s=0,h=this.__cbOnDarkBorderColorChange.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnDarkBorderColorChange[a],++r):--t}if(null!=this.__cbOnceDarkBorderColorChange){for(var o=null,c=null,s=0,h=this.__cbOnceDarkBorderColorChange.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceDarkBorderColorChange[a],this.__cbOnceDarkBorderColorChange[a]=null,u=this.__cbOnceOwnerUnbindDarkBorderColorChange[a],(this.__cbOnceOwnerUnbindDarkBorderColorChange[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindDarkBorderColorChange[a]),c.push(this.__cbOnceDarkBorderColorChange[a]))}this.__cbOnceOwnerUnbindDarkBorderColorChange=o,this.__cbOnceDarkBorderColorChange=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onDarkBorderColorChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event darkBorderColorChange because owner is destroyed!");var l=function(e){null!=t&&(i.offDarkBorderColorChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindDarkBorderColorChange&&(this.__cbOnOwnerUnbindDarkBorderColorChange=[]),this.__cbOnOwnerUnbindDarkBorderColorChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindDarkBorderColorChange&&(this.__cbOnOwnerUnbindDarkBorderColorChange=[]),this.__cbOnOwnerUnbindDarkBorderColorChange.push(null);null==this.__cbOnDarkBorderColorChange&&(this.__cbOnDarkBorderColorChange=[]),this.__cbOnDarkBorderColorChange.push(t)},onceDarkBorderColorChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event darkBorderColorChange because owner is destroyed!");var l=function(e){null!=t&&(i.offDarkBorderColorChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindDarkBorderColorChange&&(this.__cbOnceOwnerUnbindDarkBorderColorChange=[]),this.__cbOnceOwnerUnbindDarkBorderColorChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindDarkBorderColorChange&&(this.__cbOnceOwnerUnbindDarkBorderColorChange=[]),this.__cbOnceOwnerUnbindDarkBorderColorChange.push(null);null==this.__cbOnceDarkBorderColorChange&&(this.__cbOnceDarkBorderColorChange=[]),this.__cbOnceDarkBorderColorChange.push(t)},offDarkBorderColorChange:function(e){if(null!=e){var n;null!=this.__cbOnDarkBorderColorChange&&-1!=(n=this.__cbOnDarkBorderColorChange.indexOf(e))&&(this.__cbOnDarkBorderColorChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindDarkBorderColorChange[n])&&r(),this.__cbOnOwnerUnbindDarkBorderColorChange.splice(n,1)),null!=this.__cbOnceDarkBorderColorChange&&-1!=(n=this.__cbOnceDarkBorderColorChange.indexOf(e))&&(this.__cbOnceDarkBorderColorChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindDarkBorderColorChange[n])&&r(),this.__cbOnceOwnerUnbindDarkBorderColorChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindDarkBorderColorChange){for(var t=0,i=this.__cbOnOwnerUnbindDarkBorderColorChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindDarkBorderColorChange[l])&&r()}this.__cbOnOwnerUnbindDarkBorderColorChange=null}if(null!=this.__cbOnceOwnerUnbindDarkBorderColorChange){for(t=0,i=this.__cbOnceOwnerUnbindDarkBorderColorChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindDarkBorderColorChange[l])&&r()}this.__cbOnceOwnerUnbindDarkBorderColorChange=null}this.__cbOnDarkBorderColorChange=null,this.__cbOnceDarkBorderColorChange=null}},listensDarkBorderColorChange:function(){return null!=this.__cbOnDarkBorderColorChange&&0<this.__cbOnDarkBorderColorChange.length||null!=this.__cbOnceDarkBorderColorChange&&0<this.__cbOnceDarkBorderColorChange.length},lightBackgroundColorAutoruns:null,get_lightBackgroundColor:function(){var e,n,t=this.unobservedLightBackgroundColor;return null!=U.current&&(e=U.current,null!=(n=this.lightBackgroundColorAutoruns)||(n=U.getAutorunArray(),null!=(this.lightBackgroundColorAutoruns=n)))&&e.bindToAutorunArray(n),t},set_lightBackgroundColor:function(e){var n=this.unobservedLightBackgroundColor;return n!=(this.unobservedLightBackgroundColor=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!0)),this.emitLightBackgroundColorChange(e,n),null!=(n=this.lightBackgroundColorAutoruns))&&(this.lightBackgroundColorAutoruns=null,U.invalidateAutorunArray(n)),e},invalidateLightBackgroundColor:function(){var e=this.unobservedLightBackgroundColor,e=(this.emitLightBackgroundColorChange(e,e),this.lightBackgroundColorAutoruns);null!=e&&(this.lightBackgroundColorAutoruns=null,U.invalidateAutorunArray(e))},unobservedLightBackgroundColor:null,__cbOnLightBackgroundColorChange:null,__cbOnceLightBackgroundColorChange:null,__cbOnOwnerUnbindLightBackgroundColorChange:null,__cbOnceOwnerUnbindLightBackgroundColorChange:null,emitLightBackgroundColorChange:function(e,n){var t=0;if(null!=this.__cbOnLightBackgroundColorChange&&(t+=this.__cbOnLightBackgroundColorChange.length),null!=this.__cbOnceLightBackgroundColorChange&&(t+=this.__cbOnceLightBackgroundColorChange.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnLightBackgroundColorChange)for(var s=0,h=this.__cbOnLightBackgroundColorChange.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnLightBackgroundColorChange[a],++r):--t}if(null!=this.__cbOnceLightBackgroundColorChange){for(var o=null,c=null,s=0,h=this.__cbOnceLightBackgroundColorChange.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceLightBackgroundColorChange[a],this.__cbOnceLightBackgroundColorChange[a]=null,u=this.__cbOnceOwnerUnbindLightBackgroundColorChange[a],(this.__cbOnceOwnerUnbindLightBackgroundColorChange[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindLightBackgroundColorChange[a]),c.push(this.__cbOnceLightBackgroundColorChange[a]))}this.__cbOnceOwnerUnbindLightBackgroundColorChange=o,this.__cbOnceLightBackgroundColorChange=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onLightBackgroundColorChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event lightBackgroundColorChange because owner is destroyed!");var l=function(e){null!=t&&(i.offLightBackgroundColorChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindLightBackgroundColorChange&&(this.__cbOnOwnerUnbindLightBackgroundColorChange=[]),this.__cbOnOwnerUnbindLightBackgroundColorChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindLightBackgroundColorChange&&(this.__cbOnOwnerUnbindLightBackgroundColorChange=[]),this.__cbOnOwnerUnbindLightBackgroundColorChange.push(null);null==this.__cbOnLightBackgroundColorChange&&(this.__cbOnLightBackgroundColorChange=[]),this.__cbOnLightBackgroundColorChange.push(t)},onceLightBackgroundColorChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event lightBackgroundColorChange because owner is destroyed!");var l=function(e){null!=t&&(i.offLightBackgroundColorChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindLightBackgroundColorChange&&(this.__cbOnceOwnerUnbindLightBackgroundColorChange=[]),this.__cbOnceOwnerUnbindLightBackgroundColorChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindLightBackgroundColorChange&&(this.__cbOnceOwnerUnbindLightBackgroundColorChange=[]),this.__cbOnceOwnerUnbindLightBackgroundColorChange.push(null);null==this.__cbOnceLightBackgroundColorChange&&(this.__cbOnceLightBackgroundColorChange=[]),this.__cbOnceLightBackgroundColorChange.push(t)},offLightBackgroundColorChange:function(e){if(null!=e){var n;null!=this.__cbOnLightBackgroundColorChange&&-1!=(n=this.__cbOnLightBackgroundColorChange.indexOf(e))&&(this.__cbOnLightBackgroundColorChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindLightBackgroundColorChange[n])&&r(),this.__cbOnOwnerUnbindLightBackgroundColorChange.splice(n,1)),null!=this.__cbOnceLightBackgroundColorChange&&-1!=(n=this.__cbOnceLightBackgroundColorChange.indexOf(e))&&(this.__cbOnceLightBackgroundColorChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindLightBackgroundColorChange[n])&&r(),this.__cbOnceOwnerUnbindLightBackgroundColorChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindLightBackgroundColorChange){for(var t=0,i=this.__cbOnOwnerUnbindLightBackgroundColorChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindLightBackgroundColorChange[l])&&r()}this.__cbOnOwnerUnbindLightBackgroundColorChange=null}if(null!=this.__cbOnceOwnerUnbindLightBackgroundColorChange){for(t=0,i=this.__cbOnceOwnerUnbindLightBackgroundColorChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindLightBackgroundColorChange[l])&&r()}this.__cbOnceOwnerUnbindLightBackgroundColorChange=null}this.__cbOnLightBackgroundColorChange=null,this.__cbOnceLightBackgroundColorChange=null}},listensLightBackgroundColorChange:function(){return null!=this.__cbOnLightBackgroundColorChange&&0<this.__cbOnLightBackgroundColorChange.length||null!=this.__cbOnceLightBackgroundColorChange&&0<this.__cbOnceLightBackgroundColorChange.length},mediumBackgroundColorAutoruns:null,get_mediumBackgroundColor:function(){var e,n,t=this.unobservedMediumBackgroundColor;return null!=U.current&&(e=U.current,null!=(n=this.mediumBackgroundColorAutoruns)||(n=U.getAutorunArray(),null!=(this.mediumBackgroundColorAutoruns=n)))&&e.bindToAutorunArray(n),t},set_mediumBackgroundColor:function(e){var n=this.unobservedMediumBackgroundColor;return n!=(this.unobservedMediumBackgroundColor=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!0)),this.emitMediumBackgroundColorChange(e,n),null!=(n=this.mediumBackgroundColorAutoruns))&&(this.mediumBackgroundColorAutoruns=null,U.invalidateAutorunArray(n)),e},invalidateMediumBackgroundColor:function(){var e=this.unobservedMediumBackgroundColor,e=(this.emitMediumBackgroundColorChange(e,e),this.mediumBackgroundColorAutoruns);null!=e&&(this.mediumBackgroundColorAutoruns=null,U.invalidateAutorunArray(e))},unobservedMediumBackgroundColor:null,__cbOnMediumBackgroundColorChange:null,__cbOnceMediumBackgroundColorChange:null,__cbOnOwnerUnbindMediumBackgroundColorChange:null,__cbOnceOwnerUnbindMediumBackgroundColorChange:null,emitMediumBackgroundColorChange:function(e,n){var t=0;if(null!=this.__cbOnMediumBackgroundColorChange&&(t+=this.__cbOnMediumBackgroundColorChange.length),null!=this.__cbOnceMediumBackgroundColorChange&&(t+=this.__cbOnceMediumBackgroundColorChange.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnMediumBackgroundColorChange)for(var s=0,h=this.__cbOnMediumBackgroundColorChange.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnMediumBackgroundColorChange[a],++r):--t}if(null!=this.__cbOnceMediumBackgroundColorChange){for(var o=null,c=null,s=0,h=this.__cbOnceMediumBackgroundColorChange.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceMediumBackgroundColorChange[a],this.__cbOnceMediumBackgroundColorChange[a]=null,u=this.__cbOnceOwnerUnbindMediumBackgroundColorChange[a],(this.__cbOnceOwnerUnbindMediumBackgroundColorChange[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindMediumBackgroundColorChange[a]),c.push(this.__cbOnceMediumBackgroundColorChange[a]))}this.__cbOnceOwnerUnbindMediumBackgroundColorChange=o,this.__cbOnceMediumBackgroundColorChange=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onMediumBackgroundColorChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event mediumBackgroundColorChange because owner is destroyed!");var l=function(e){null!=t&&(i.offMediumBackgroundColorChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindMediumBackgroundColorChange&&(this.__cbOnOwnerUnbindMediumBackgroundColorChange=[]),this.__cbOnOwnerUnbindMediumBackgroundColorChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindMediumBackgroundColorChange&&(this.__cbOnOwnerUnbindMediumBackgroundColorChange=[]),this.__cbOnOwnerUnbindMediumBackgroundColorChange.push(null);null==this.__cbOnMediumBackgroundColorChange&&(this.__cbOnMediumBackgroundColorChange=[]),this.__cbOnMediumBackgroundColorChange.push(t)},onceMediumBackgroundColorChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event mediumBackgroundColorChange because owner is destroyed!");var l=function(e){null!=t&&(i.offMediumBackgroundColorChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindMediumBackgroundColorChange&&(this.__cbOnceOwnerUnbindMediumBackgroundColorChange=[]),this.__cbOnceOwnerUnbindMediumBackgroundColorChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindMediumBackgroundColorChange&&(this.__cbOnceOwnerUnbindMediumBackgroundColorChange=[]),this.__cbOnceOwnerUnbindMediumBackgroundColorChange.push(null);null==this.__cbOnceMediumBackgroundColorChange&&(this.__cbOnceMediumBackgroundColorChange=[]),this.__cbOnceMediumBackgroundColorChange.push(t)},offMediumBackgroundColorChange:function(e){if(null!=e){var n;null!=this.__cbOnMediumBackgroundColorChange&&-1!=(n=this.__cbOnMediumBackgroundColorChange.indexOf(e))&&(this.__cbOnMediumBackgroundColorChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindMediumBackgroundColorChange[n])&&r(),this.__cbOnOwnerUnbindMediumBackgroundColorChange.splice(n,1)),null!=this.__cbOnceMediumBackgroundColorChange&&-1!=(n=this.__cbOnceMediumBackgroundColorChange.indexOf(e))&&(this.__cbOnceMediumBackgroundColorChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindMediumBackgroundColorChange[n])&&r(),this.__cbOnceOwnerUnbindMediumBackgroundColorChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindMediumBackgroundColorChange){for(var t=0,i=this.__cbOnOwnerUnbindMediumBackgroundColorChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindMediumBackgroundColorChange[l])&&r()}this.__cbOnOwnerUnbindMediumBackgroundColorChange=null}if(null!=this.__cbOnceOwnerUnbindMediumBackgroundColorChange){for(t=0,i=this.__cbOnceOwnerUnbindMediumBackgroundColorChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindMediumBackgroundColorChange[l])&&r()}this.__cbOnceOwnerUnbindMediumBackgroundColorChange=null}this.__cbOnMediumBackgroundColorChange=null,this.__cbOnceMediumBackgroundColorChange=null}},listensMediumBackgroundColorChange:function(){return null!=this.__cbOnMediumBackgroundColorChange&&0<this.__cbOnMediumBackgroundColorChange.length||null!=this.__cbOnceMediumBackgroundColorChange&&0<this.__cbOnceMediumBackgroundColorChange.length},darkBackgroundColorAutoruns:null,get_darkBackgroundColor:function(){var e,n,t=this.unobservedDarkBackgroundColor;return null!=U.current&&(e=U.current,null!=(n=this.darkBackgroundColorAutoruns)||(n=U.getAutorunArray(),null!=(this.darkBackgroundColorAutoruns=n)))&&e.bindToAutorunArray(n),t},set_darkBackgroundColor:function(e){var n=this.unobservedDarkBackgroundColor;return n!=(this.unobservedDarkBackgroundColor=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!0)),this.emitDarkBackgroundColorChange(e,n),null!=(n=this.darkBackgroundColorAutoruns))&&(this.darkBackgroundColorAutoruns=null,U.invalidateAutorunArray(n)),e},invalidateDarkBackgroundColor:function(){var e=this.unobservedDarkBackgroundColor,e=(this.emitDarkBackgroundColorChange(e,e),this.darkBackgroundColorAutoruns);null!=e&&(this.darkBackgroundColorAutoruns=null,U.invalidateAutorunArray(e))},unobservedDarkBackgroundColor:null,__cbOnDarkBackgroundColorChange:null,__cbOnceDarkBackgroundColorChange:null,__cbOnOwnerUnbindDarkBackgroundColorChange:null,__cbOnceOwnerUnbindDarkBackgroundColorChange:null,emitDarkBackgroundColorChange:function(e,n){var t=0;if(null!=this.__cbOnDarkBackgroundColorChange&&(t+=this.__cbOnDarkBackgroundColorChange.length),null!=this.__cbOnceDarkBackgroundColorChange&&(t+=this.__cbOnceDarkBackgroundColorChange.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnDarkBackgroundColorChange)for(var s=0,h=this.__cbOnDarkBackgroundColorChange.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnDarkBackgroundColorChange[a],++r):--t}if(null!=this.__cbOnceDarkBackgroundColorChange){for(var o=null,c=null,s=0,h=this.__cbOnceDarkBackgroundColorChange.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceDarkBackgroundColorChange[a],this.__cbOnceDarkBackgroundColorChange[a]=null,u=this.__cbOnceOwnerUnbindDarkBackgroundColorChange[a],(this.__cbOnceOwnerUnbindDarkBackgroundColorChange[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindDarkBackgroundColorChange[a]),c.push(this.__cbOnceDarkBackgroundColorChange[a]))}this.__cbOnceOwnerUnbindDarkBackgroundColorChange=o,this.__cbOnceDarkBackgroundColorChange=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onDarkBackgroundColorChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event darkBackgroundColorChange because owner is destroyed!");var l=function(e){null!=t&&(i.offDarkBackgroundColorChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindDarkBackgroundColorChange&&(this.__cbOnOwnerUnbindDarkBackgroundColorChange=[]),this.__cbOnOwnerUnbindDarkBackgroundColorChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindDarkBackgroundColorChange&&(this.__cbOnOwnerUnbindDarkBackgroundColorChange=[]),this.__cbOnOwnerUnbindDarkBackgroundColorChange.push(null);null==this.__cbOnDarkBackgroundColorChange&&(this.__cbOnDarkBackgroundColorChange=[]),this.__cbOnDarkBackgroundColorChange.push(t)},onceDarkBackgroundColorChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event darkBackgroundColorChange because owner is destroyed!");var l=function(e){null!=t&&(i.offDarkBackgroundColorChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindDarkBackgroundColorChange&&(this.__cbOnceOwnerUnbindDarkBackgroundColorChange=[]),this.__cbOnceOwnerUnbindDarkBackgroundColorChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindDarkBackgroundColorChange&&(this.__cbOnceOwnerUnbindDarkBackgroundColorChange=[]),this.__cbOnceOwnerUnbindDarkBackgroundColorChange.push(null);null==this.__cbOnceDarkBackgroundColorChange&&(this.__cbOnceDarkBackgroundColorChange=[]),this.__cbOnceDarkBackgroundColorChange.push(t)},offDarkBackgroundColorChange:function(e){if(null!=e){var n;null!=this.__cbOnDarkBackgroundColorChange&&-1!=(n=this.__cbOnDarkBackgroundColorChange.indexOf(e))&&(this.__cbOnDarkBackgroundColorChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindDarkBackgroundColorChange[n])&&r(),this.__cbOnOwnerUnbindDarkBackgroundColorChange.splice(n,1)),null!=this.__cbOnceDarkBackgroundColorChange&&-1!=(n=this.__cbOnceDarkBackgroundColorChange.indexOf(e))&&(this.__cbOnceDarkBackgroundColorChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindDarkBackgroundColorChange[n])&&r(),this.__cbOnceOwnerUnbindDarkBackgroundColorChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindDarkBackgroundColorChange){for(var t=0,i=this.__cbOnOwnerUnbindDarkBackgroundColorChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindDarkBackgroundColorChange[l])&&r()}this.__cbOnOwnerUnbindDarkBackgroundColorChange=null}if(null!=this.__cbOnceOwnerUnbindDarkBackgroundColorChange){for(t=0,i=this.__cbOnceOwnerUnbindDarkBackgroundColorChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindDarkBackgroundColorChange[l])&&r()}this.__cbOnceOwnerUnbindDarkBackgroundColorChange=null}this.__cbOnDarkBackgroundColorChange=null,this.__cbOnceDarkBackgroundColorChange=null}},listensDarkBackgroundColorChange:function(){return null!=this.__cbOnDarkBackgroundColorChange&&0<this.__cbOnDarkBackgroundColorChange.length||null!=this.__cbOnceDarkBackgroundColorChange&&0<this.__cbOnceDarkBackgroundColorChange.length},darkerBackgroundColorAutoruns:null,get_darkerBackgroundColor:function(){var e,n,t=this.unobservedDarkerBackgroundColor;return null!=U.current&&(e=U.current,null!=(n=this.darkerBackgroundColorAutoruns)||(n=U.getAutorunArray(),null!=(this.darkerBackgroundColorAutoruns=n)))&&e.bindToAutorunArray(n),t},set_darkerBackgroundColor:function(e){var n=this.unobservedDarkerBackgroundColor;return n!=(this.unobservedDarkerBackgroundColor=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!0)),this.emitDarkerBackgroundColorChange(e,n),null!=(n=this.darkerBackgroundColorAutoruns))&&(this.darkerBackgroundColorAutoruns=null,U.invalidateAutorunArray(n)),e},invalidateDarkerBackgroundColor:function(){var e=this.unobservedDarkerBackgroundColor,e=(this.emitDarkerBackgroundColorChange(e,e),this.darkerBackgroundColorAutoruns);null!=e&&(this.darkerBackgroundColorAutoruns=null,U.invalidateAutorunArray(e))},unobservedDarkerBackgroundColor:null,__cbOnDarkerBackgroundColorChange:null,__cbOnceDarkerBackgroundColorChange:null,__cbOnOwnerUnbindDarkerBackgroundColorChange:null,__cbOnceOwnerUnbindDarkerBackgroundColorChange:null,emitDarkerBackgroundColorChange:function(e,n){var t=0;if(null!=this.__cbOnDarkerBackgroundColorChange&&(t+=this.__cbOnDarkerBackgroundColorChange.length),null!=this.__cbOnceDarkerBackgroundColorChange&&(t+=this.__cbOnceDarkerBackgroundColorChange.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnDarkerBackgroundColorChange)for(var s=0,h=this.__cbOnDarkerBackgroundColorChange.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnDarkerBackgroundColorChange[a],++r):--t}if(null!=this.__cbOnceDarkerBackgroundColorChange){for(var o=null,c=null,s=0,h=this.__cbOnceDarkerBackgroundColorChange.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceDarkerBackgroundColorChange[a],this.__cbOnceDarkerBackgroundColorChange[a]=null,u=this.__cbOnceOwnerUnbindDarkerBackgroundColorChange[a],(this.__cbOnceOwnerUnbindDarkerBackgroundColorChange[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindDarkerBackgroundColorChange[a]),c.push(this.__cbOnceDarkerBackgroundColorChange[a]))}this.__cbOnceOwnerUnbindDarkerBackgroundColorChange=o,this.__cbOnceDarkerBackgroundColorChange=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onDarkerBackgroundColorChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event darkerBackgroundColorChange because owner is destroyed!");var l=function(e){null!=t&&(i.offDarkerBackgroundColorChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindDarkerBackgroundColorChange&&(this.__cbOnOwnerUnbindDarkerBackgroundColorChange=[]),this.__cbOnOwnerUnbindDarkerBackgroundColorChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindDarkerBackgroundColorChange&&(this.__cbOnOwnerUnbindDarkerBackgroundColorChange=[]),this.__cbOnOwnerUnbindDarkerBackgroundColorChange.push(null);null==this.__cbOnDarkerBackgroundColorChange&&(this.__cbOnDarkerBackgroundColorChange=[]),this.__cbOnDarkerBackgroundColorChange.push(t)},onceDarkerBackgroundColorChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event darkerBackgroundColorChange because owner is destroyed!");var l=function(e){null!=t&&(i.offDarkerBackgroundColorChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindDarkerBackgroundColorChange&&(this.__cbOnceOwnerUnbindDarkerBackgroundColorChange=[]),this.__cbOnceOwnerUnbindDarkerBackgroundColorChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindDarkerBackgroundColorChange&&(this.__cbOnceOwnerUnbindDarkerBackgroundColorChange=[]),this.__cbOnceOwnerUnbindDarkerBackgroundColorChange.push(null);null==this.__cbOnceDarkerBackgroundColorChange&&(this.__cbOnceDarkerBackgroundColorChange=[]),this.__cbOnceDarkerBackgroundColorChange.push(t)},offDarkerBackgroundColorChange:function(e){if(null!=e){var n;null!=this.__cbOnDarkerBackgroundColorChange&&-1!=(n=this.__cbOnDarkerBackgroundColorChange.indexOf(e))&&(this.__cbOnDarkerBackgroundColorChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindDarkerBackgroundColorChange[n])&&r(),this.__cbOnOwnerUnbindDarkerBackgroundColorChange.splice(n,1)),null!=this.__cbOnceDarkerBackgroundColorChange&&-1!=(n=this.__cbOnceDarkerBackgroundColorChange.indexOf(e))&&(this.__cbOnceDarkerBackgroundColorChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindDarkerBackgroundColorChange[n])&&r(),this.__cbOnceOwnerUnbindDarkerBackgroundColorChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindDarkerBackgroundColorChange){for(var t=0,i=this.__cbOnOwnerUnbindDarkerBackgroundColorChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindDarkerBackgroundColorChange[l])&&r()}this.__cbOnOwnerUnbindDarkerBackgroundColorChange=null}if(null!=this.__cbOnceOwnerUnbindDarkerBackgroundColorChange){for(t=0,i=this.__cbOnceOwnerUnbindDarkerBackgroundColorChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindDarkerBackgroundColorChange[l])&&r()}this.__cbOnceOwnerUnbindDarkerBackgroundColorChange=null}this.__cbOnDarkerBackgroundColorChange=null,this.__cbOnceDarkerBackgroundColorChange=null}},listensDarkerBackgroundColorChange:function(){return null!=this.__cbOnDarkerBackgroundColorChange&&0<this.__cbOnDarkerBackgroundColorChange.length||null!=this.__cbOnceDarkerBackgroundColorChange&&0<this.__cbOnceDarkerBackgroundColorChange.length},selectionBorderColorAutoruns:null,get_selectionBorderColor:function(){var e,n,t=this.unobservedSelectionBorderColor;return null!=U.current&&(e=U.current,null!=(n=this.selectionBorderColorAutoruns)||(n=U.getAutorunArray(),null!=(this.selectionBorderColorAutoruns=n)))&&e.bindToAutorunArray(n),t},set_selectionBorderColor:function(e){var n=this.unobservedSelectionBorderColor;return n!=(this.unobservedSelectionBorderColor=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!0)),this.emitSelectionBorderColorChange(e,n),null!=(n=this.selectionBorderColorAutoruns))&&(this.selectionBorderColorAutoruns=null,U.invalidateAutorunArray(n)),e},invalidateSelectionBorderColor:function(){var e=this.unobservedSelectionBorderColor,e=(this.emitSelectionBorderColorChange(e,e),this.selectionBorderColorAutoruns);null!=e&&(this.selectionBorderColorAutoruns=null,U.invalidateAutorunArray(e))},unobservedSelectionBorderColor:null,__cbOnSelectionBorderColorChange:null,__cbOnceSelectionBorderColorChange:null,__cbOnOwnerUnbindSelectionBorderColorChange:null,__cbOnceOwnerUnbindSelectionBorderColorChange:null,emitSelectionBorderColorChange:function(e,n){var t=0;if(null!=this.__cbOnSelectionBorderColorChange&&(t+=this.__cbOnSelectionBorderColorChange.length),null!=this.__cbOnceSelectionBorderColorChange&&(t+=this.__cbOnceSelectionBorderColorChange.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnSelectionBorderColorChange)for(var s=0,h=this.__cbOnSelectionBorderColorChange.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnSelectionBorderColorChange[a],++r):--t}if(null!=this.__cbOnceSelectionBorderColorChange){for(var o=null,c=null,s=0,h=this.__cbOnceSelectionBorderColorChange.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceSelectionBorderColorChange[a],this.__cbOnceSelectionBorderColorChange[a]=null,u=this.__cbOnceOwnerUnbindSelectionBorderColorChange[a],(this.__cbOnceOwnerUnbindSelectionBorderColorChange[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindSelectionBorderColorChange[a]),c.push(this.__cbOnceSelectionBorderColorChange[a]))}this.__cbOnceOwnerUnbindSelectionBorderColorChange=o,this.__cbOnceSelectionBorderColorChange=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onSelectionBorderColorChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event selectionBorderColorChange because owner is destroyed!");var l=function(e){null!=t&&(i.offSelectionBorderColorChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindSelectionBorderColorChange&&(this.__cbOnOwnerUnbindSelectionBorderColorChange=[]),this.__cbOnOwnerUnbindSelectionBorderColorChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindSelectionBorderColorChange&&(this.__cbOnOwnerUnbindSelectionBorderColorChange=[]),this.__cbOnOwnerUnbindSelectionBorderColorChange.push(null);null==this.__cbOnSelectionBorderColorChange&&(this.__cbOnSelectionBorderColorChange=[]),this.__cbOnSelectionBorderColorChange.push(t)},onceSelectionBorderColorChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event selectionBorderColorChange because owner is destroyed!");var l=function(e){null!=t&&(i.offSelectionBorderColorChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindSelectionBorderColorChange&&(this.__cbOnceOwnerUnbindSelectionBorderColorChange=[]),this.__cbOnceOwnerUnbindSelectionBorderColorChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindSelectionBorderColorChange&&(this.__cbOnceOwnerUnbindSelectionBorderColorChange=[]),this.__cbOnceOwnerUnbindSelectionBorderColorChange.push(null);null==this.__cbOnceSelectionBorderColorChange&&(this.__cbOnceSelectionBorderColorChange=[]),this.__cbOnceSelectionBorderColorChange.push(t)},offSelectionBorderColorChange:function(e){if(null!=e){var n;null!=this.__cbOnSelectionBorderColorChange&&-1!=(n=this.__cbOnSelectionBorderColorChange.indexOf(e))&&(this.__cbOnSelectionBorderColorChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindSelectionBorderColorChange[n])&&r(),this.__cbOnOwnerUnbindSelectionBorderColorChange.splice(n,1)),null!=this.__cbOnceSelectionBorderColorChange&&-1!=(n=this.__cbOnceSelectionBorderColorChange.indexOf(e))&&(this.__cbOnceSelectionBorderColorChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindSelectionBorderColorChange[n])&&r(),this.__cbOnceOwnerUnbindSelectionBorderColorChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindSelectionBorderColorChange){for(var t=0,i=this.__cbOnOwnerUnbindSelectionBorderColorChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindSelectionBorderColorChange[l])&&r()}this.__cbOnOwnerUnbindSelectionBorderColorChange=null}if(null!=this.__cbOnceOwnerUnbindSelectionBorderColorChange){for(t=0,i=this.__cbOnceOwnerUnbindSelectionBorderColorChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindSelectionBorderColorChange[l])&&r()}this.__cbOnceOwnerUnbindSelectionBorderColorChange=null}this.__cbOnSelectionBorderColorChange=null,this.__cbOnceSelectionBorderColorChange=null}},listensSelectionBorderColorChange:function(){return null!=this.__cbOnSelectionBorderColorChange&&0<this.__cbOnSelectionBorderColorChange.length||null!=this.__cbOnceSelectionBorderColorChange&&0<this.__cbOnceSelectionBorderColorChange.length},highlightColorAutoruns:null,get_highlightColor:function(){var e,n,t=this.unobservedHighlightColor;return null!=U.current&&(e=U.current,null!=(n=this.highlightColorAutoruns)||(n=U.getAutorunArray(),null!=(this.highlightColorAutoruns=n)))&&e.bindToAutorunArray(n),t},set_highlightColor:function(e){var n=this.unobservedHighlightColor;return n!=(this.unobservedHighlightColor=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!0)),this.emitHighlightColorChange(e,n),null!=(n=this.highlightColorAutoruns))&&(this.highlightColorAutoruns=null,U.invalidateAutorunArray(n)),e},invalidateHighlightColor:function(){var e=this.unobservedHighlightColor,e=(this.emitHighlightColorChange(e,e),this.highlightColorAutoruns);null!=e&&(this.highlightColorAutoruns=null,U.invalidateAutorunArray(e))},unobservedHighlightColor:null,__cbOnHighlightColorChange:null,__cbOnceHighlightColorChange:null,__cbOnOwnerUnbindHighlightColorChange:null,__cbOnceOwnerUnbindHighlightColorChange:null,emitHighlightColorChange:function(e,n){var t=0;if(null!=this.__cbOnHighlightColorChange&&(t+=this.__cbOnHighlightColorChange.length),null!=this.__cbOnceHighlightColorChange&&(t+=this.__cbOnceHighlightColorChange.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnHighlightColorChange)for(var s=0,h=this.__cbOnHighlightColorChange.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnHighlightColorChange[a],++r):--t}if(null!=this.__cbOnceHighlightColorChange){for(var o=null,c=null,s=0,h=this.__cbOnceHighlightColorChange.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceHighlightColorChange[a],this.__cbOnceHighlightColorChange[a]=null,u=this.__cbOnceOwnerUnbindHighlightColorChange[a],(this.__cbOnceOwnerUnbindHighlightColorChange[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindHighlightColorChange[a]),c.push(this.__cbOnceHighlightColorChange[a]))}this.__cbOnceOwnerUnbindHighlightColorChange=o,this.__cbOnceHighlightColorChange=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onHighlightColorChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event highlightColorChange because owner is destroyed!");var l=function(e){null!=t&&(i.offHighlightColorChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindHighlightColorChange&&(this.__cbOnOwnerUnbindHighlightColorChange=[]),this.__cbOnOwnerUnbindHighlightColorChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindHighlightColorChange&&(this.__cbOnOwnerUnbindHighlightColorChange=[]),this.__cbOnOwnerUnbindHighlightColorChange.push(null);null==this.__cbOnHighlightColorChange&&(this.__cbOnHighlightColorChange=[]),this.__cbOnHighlightColorChange.push(t)},onceHighlightColorChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event highlightColorChange because owner is destroyed!");var l=function(e){null!=t&&(i.offHighlightColorChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindHighlightColorChange&&(this.__cbOnceOwnerUnbindHighlightColorChange=[]),this.__cbOnceOwnerUnbindHighlightColorChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindHighlightColorChange&&(this.__cbOnceOwnerUnbindHighlightColorChange=[]),this.__cbOnceOwnerUnbindHighlightColorChange.push(null);null==this.__cbOnceHighlightColorChange&&(this.__cbOnceHighlightColorChange=[]),this.__cbOnceHighlightColorChange.push(t)},offHighlightColorChange:function(e){if(null!=e){var n;null!=this.__cbOnHighlightColorChange&&-1!=(n=this.__cbOnHighlightColorChange.indexOf(e))&&(this.__cbOnHighlightColorChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindHighlightColorChange[n])&&r(),this.__cbOnOwnerUnbindHighlightColorChange.splice(n,1)),null!=this.__cbOnceHighlightColorChange&&-1!=(n=this.__cbOnceHighlightColorChange.indexOf(e))&&(this.__cbOnceHighlightColorChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindHighlightColorChange[n])&&r(),this.__cbOnceOwnerUnbindHighlightColorChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindHighlightColorChange){for(var t=0,i=this.__cbOnOwnerUnbindHighlightColorChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindHighlightColorChange[l])&&r()}this.__cbOnOwnerUnbindHighlightColorChange=null}if(null!=this.__cbOnceOwnerUnbindHighlightColorChange){for(t=0,i=this.__cbOnceOwnerUnbindHighlightColorChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindHighlightColorChange[l])&&r()}this.__cbOnceOwnerUnbindHighlightColorChange=null}this.__cbOnHighlightColorChange=null,this.__cbOnceHighlightColorChange=null}},listensHighlightColorChange:function(){return null!=this.__cbOnHighlightColorChange&&0<this.__cbOnHighlightColorChange.length||null!=this.__cbOnceHighlightColorChange&&0<this.__cbOnceHighlightColorChange.length},highlightPendingColorAutoruns:null,get_highlightPendingColor:function(){var e,n,t=this.unobservedHighlightPendingColor;return null!=U.current&&(e=U.current,null!=(n=this.highlightPendingColorAutoruns)||(n=U.getAutorunArray(),null!=(this.highlightPendingColorAutoruns=n)))&&e.bindToAutorunArray(n),t},set_highlightPendingColor:function(e){var n=this.unobservedHighlightPendingColor;return n!=(this.unobservedHighlightPendingColor=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!0)),this.emitHighlightPendingColorChange(e,n),null!=(n=this.highlightPendingColorAutoruns))&&(this.highlightPendingColorAutoruns=null,U.invalidateAutorunArray(n)),e},invalidateHighlightPendingColor:function(){var e=this.unobservedHighlightPendingColor,e=(this.emitHighlightPendingColorChange(e,e),this.highlightPendingColorAutoruns);null!=e&&(this.highlightPendingColorAutoruns=null,U.invalidateAutorunArray(e))},unobservedHighlightPendingColor:null,__cbOnHighlightPendingColorChange:null,__cbOnceHighlightPendingColorChange:null,__cbOnOwnerUnbindHighlightPendingColorChange:null,__cbOnceOwnerUnbindHighlightPendingColorChange:null,emitHighlightPendingColorChange:function(e,n){var t=0;if(null!=this.__cbOnHighlightPendingColorChange&&(t+=this.__cbOnHighlightPendingColorChange.length),null!=this.__cbOnceHighlightPendingColorChange&&(t+=this.__cbOnceHighlightPendingColorChange.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnHighlightPendingColorChange)for(var s=0,h=this.__cbOnHighlightPendingColorChange.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnHighlightPendingColorChange[a],++r):--t}if(null!=this.__cbOnceHighlightPendingColorChange){for(var o=null,c=null,s=0,h=this.__cbOnceHighlightPendingColorChange.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceHighlightPendingColorChange[a],this.__cbOnceHighlightPendingColorChange[a]=null,u=this.__cbOnceOwnerUnbindHighlightPendingColorChange[a],(this.__cbOnceOwnerUnbindHighlightPendingColorChange[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindHighlightPendingColorChange[a]),c.push(this.__cbOnceHighlightPendingColorChange[a]))}this.__cbOnceOwnerUnbindHighlightPendingColorChange=o,this.__cbOnceHighlightPendingColorChange=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onHighlightPendingColorChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event highlightPendingColorChange because owner is destroyed!");var l=function(e){null!=t&&(i.offHighlightPendingColorChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindHighlightPendingColorChange&&(this.__cbOnOwnerUnbindHighlightPendingColorChange=[]),this.__cbOnOwnerUnbindHighlightPendingColorChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindHighlightPendingColorChange&&(this.__cbOnOwnerUnbindHighlightPendingColorChange=[]),this.__cbOnOwnerUnbindHighlightPendingColorChange.push(null);null==this.__cbOnHighlightPendingColorChange&&(this.__cbOnHighlightPendingColorChange=[]),this.__cbOnHighlightPendingColorChange.push(t)},onceHighlightPendingColorChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event highlightPendingColorChange because owner is destroyed!");var l=function(e){null!=t&&(i.offHighlightPendingColorChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindHighlightPendingColorChange&&(this.__cbOnceOwnerUnbindHighlightPendingColorChange=[]),this.__cbOnceOwnerUnbindHighlightPendingColorChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindHighlightPendingColorChange&&(this.__cbOnceOwnerUnbindHighlightPendingColorChange=[]),this.__cbOnceOwnerUnbindHighlightPendingColorChange.push(null);null==this.__cbOnceHighlightPendingColorChange&&(this.__cbOnceHighlightPendingColorChange=[]),this.__cbOnceHighlightPendingColorChange.push(t)},offHighlightPendingColorChange:function(e){if(null!=e){var n;null!=this.__cbOnHighlightPendingColorChange&&-1!=(n=this.__cbOnHighlightPendingColorChange.indexOf(e))&&(this.__cbOnHighlightPendingColorChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindHighlightPendingColorChange[n])&&r(),this.__cbOnOwnerUnbindHighlightPendingColorChange.splice(n,1)),null!=this.__cbOnceHighlightPendingColorChange&&-1!=(n=this.__cbOnceHighlightPendingColorChange.indexOf(e))&&(this.__cbOnceHighlightPendingColorChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindHighlightPendingColorChange[n])&&r(),this.__cbOnceOwnerUnbindHighlightPendingColorChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindHighlightPendingColorChange){for(var t=0,i=this.__cbOnOwnerUnbindHighlightPendingColorChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindHighlightPendingColorChange[l])&&r()}this.__cbOnOwnerUnbindHighlightPendingColorChange=null}if(null!=this.__cbOnceOwnerUnbindHighlightPendingColorChange){for(t=0,i=this.__cbOnceOwnerUnbindHighlightPendingColorChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindHighlightPendingColorChange[l])&&r()}this.__cbOnceOwnerUnbindHighlightPendingColorChange=null}this.__cbOnHighlightPendingColorChange=null,this.__cbOnceHighlightPendingColorChange=null}},listensHighlightPendingColorChange:function(){return null!=this.__cbOnHighlightPendingColorChange&&0<this.__cbOnHighlightPendingColorChange.length||null!=this.__cbOnceHighlightPendingColorChange&&0<this.__cbOnceHighlightPendingColorChange.length},formItemSpacingAutoruns:null,get_formItemSpacing:function(){var e,n,t=this.unobservedFormItemSpacing;return null!=U.current&&(e=U.current,null!=(n=this.formItemSpacingAutoruns)||(n=U.getAutorunArray(),null!=(this.formItemSpacingAutoruns=n)))&&e.bindToAutorunArray(n),t},set_formItemSpacing:function(e){var n=this.unobservedFormItemSpacing;return n!=(this.unobservedFormItemSpacing=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!0)),this.emitFormItemSpacingChange(e,n),null!=(n=this.formItemSpacingAutoruns))&&(this.formItemSpacingAutoruns=null,U.invalidateAutorunArray(n)),e},invalidateFormItemSpacing:function(){var e=this.unobservedFormItemSpacing,e=(this.emitFormItemSpacingChange(e,e),this.formItemSpacingAutoruns);null!=e&&(this.formItemSpacingAutoruns=null,U.invalidateAutorunArray(e))},unobservedFormItemSpacing:null,__cbOnFormItemSpacingChange:null,__cbOnceFormItemSpacingChange:null,__cbOnOwnerUnbindFormItemSpacingChange:null,__cbOnceOwnerUnbindFormItemSpacingChange:null,emitFormItemSpacingChange:function(e,n){var t=0;if(null!=this.__cbOnFormItemSpacingChange&&(t+=this.__cbOnFormItemSpacingChange.length),null!=this.__cbOnceFormItemSpacingChange&&(t+=this.__cbOnceFormItemSpacingChange.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnFormItemSpacingChange)for(var s=0,h=this.__cbOnFormItemSpacingChange.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnFormItemSpacingChange[a],++r):--t}if(null!=this.__cbOnceFormItemSpacingChange){for(var o=null,c=null,s=0,h=this.__cbOnceFormItemSpacingChange.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceFormItemSpacingChange[a],this.__cbOnceFormItemSpacingChange[a]=null,u=this.__cbOnceOwnerUnbindFormItemSpacingChange[a],(this.__cbOnceOwnerUnbindFormItemSpacingChange[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindFormItemSpacingChange[a]),c.push(this.__cbOnceFormItemSpacingChange[a]))}this.__cbOnceOwnerUnbindFormItemSpacingChange=o,this.__cbOnceFormItemSpacingChange=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onFormItemSpacingChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event formItemSpacingChange because owner is destroyed!");var l=function(e){null!=t&&(i.offFormItemSpacingChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindFormItemSpacingChange&&(this.__cbOnOwnerUnbindFormItemSpacingChange=[]),this.__cbOnOwnerUnbindFormItemSpacingChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindFormItemSpacingChange&&(this.__cbOnOwnerUnbindFormItemSpacingChange=[]),this.__cbOnOwnerUnbindFormItemSpacingChange.push(null);null==this.__cbOnFormItemSpacingChange&&(this.__cbOnFormItemSpacingChange=[]),this.__cbOnFormItemSpacingChange.push(t)},onceFormItemSpacingChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event formItemSpacingChange because owner is destroyed!");var l=function(e){null!=t&&(i.offFormItemSpacingChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindFormItemSpacingChange&&(this.__cbOnceOwnerUnbindFormItemSpacingChange=[]),this.__cbOnceOwnerUnbindFormItemSpacingChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindFormItemSpacingChange&&(this.__cbOnceOwnerUnbindFormItemSpacingChange=[]),this.__cbOnceOwnerUnbindFormItemSpacingChange.push(null);null==this.__cbOnceFormItemSpacingChange&&(this.__cbOnceFormItemSpacingChange=[]),this.__cbOnceFormItemSpacingChange.push(t)},offFormItemSpacingChange:function(e){if(null!=e){var n;null!=this.__cbOnFormItemSpacingChange&&-1!=(n=this.__cbOnFormItemSpacingChange.indexOf(e))&&(this.__cbOnFormItemSpacingChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindFormItemSpacingChange[n])&&r(),this.__cbOnOwnerUnbindFormItemSpacingChange.splice(n,1)),null!=this.__cbOnceFormItemSpacingChange&&-1!=(n=this.__cbOnceFormItemSpacingChange.indexOf(e))&&(this.__cbOnceFormItemSpacingChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindFormItemSpacingChange[n])&&r(),this.__cbOnceOwnerUnbindFormItemSpacingChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindFormItemSpacingChange){for(var t=0,i=this.__cbOnOwnerUnbindFormItemSpacingChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindFormItemSpacingChange[l])&&r()}this.__cbOnOwnerUnbindFormItemSpacingChange=null}if(null!=this.__cbOnceOwnerUnbindFormItemSpacingChange){for(t=0,i=this.__cbOnceOwnerUnbindFormItemSpacingChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindFormItemSpacingChange[l])&&r()}this.__cbOnceOwnerUnbindFormItemSpacingChange=null}this.__cbOnFormItemSpacingChange=null,this.__cbOnceFormItemSpacingChange=null}},listensFormItemSpacingChange:function(){return null!=this.__cbOnFormItemSpacingChange&&0<this.__cbOnFormItemSpacingChange.length||null!=this.__cbOnceFormItemSpacingChange&&0<this.__cbOnceFormItemSpacingChange.length},formPaddingAutoruns:null,get_formPadding:function(){var e,n,t=this.unobservedFormPadding;return null!=U.current&&(e=U.current,null!=(n=this.formPaddingAutoruns)||(n=U.getAutorunArray(),null!=(this.formPaddingAutoruns=n)))&&e.bindToAutorunArray(n),t},set_formPadding:function(e){var n=this.unobservedFormPadding;return n!=(this.unobservedFormPadding=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!0)),this.emitFormPaddingChange(e,n),null!=(n=this.formPaddingAutoruns))&&(this.formPaddingAutoruns=null,U.invalidateAutorunArray(n)),e},invalidateFormPadding:function(){var e=this.unobservedFormPadding,e=(this.emitFormPaddingChange(e,e),this.formPaddingAutoruns);null!=e&&(this.formPaddingAutoruns=null,U.invalidateAutorunArray(e))},unobservedFormPadding:null,__cbOnFormPaddingChange:null,__cbOnceFormPaddingChange:null,__cbOnOwnerUnbindFormPaddingChange:null,__cbOnceOwnerUnbindFormPaddingChange:null,emitFormPaddingChange:function(e,n){var t=0;if(null!=this.__cbOnFormPaddingChange&&(t+=this.__cbOnFormPaddingChange.length),null!=this.__cbOnceFormPaddingChange&&(t+=this.__cbOnceFormPaddingChange.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnFormPaddingChange)for(var s=0,h=this.__cbOnFormPaddingChange.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnFormPaddingChange[a],++r):--t}if(null!=this.__cbOnceFormPaddingChange){for(var o=null,c=null,s=0,h=this.__cbOnceFormPaddingChange.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceFormPaddingChange[a],this.__cbOnceFormPaddingChange[a]=null,u=this.__cbOnceOwnerUnbindFormPaddingChange[a],(this.__cbOnceOwnerUnbindFormPaddingChange[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindFormPaddingChange[a]),c.push(this.__cbOnceFormPaddingChange[a]))}this.__cbOnceOwnerUnbindFormPaddingChange=o,this.__cbOnceFormPaddingChange=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onFormPaddingChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event formPaddingChange because owner is destroyed!");var l=function(e){null!=t&&(i.offFormPaddingChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindFormPaddingChange&&(this.__cbOnOwnerUnbindFormPaddingChange=[]),this.__cbOnOwnerUnbindFormPaddingChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindFormPaddingChange&&(this.__cbOnOwnerUnbindFormPaddingChange=[]),this.__cbOnOwnerUnbindFormPaddingChange.push(null);null==this.__cbOnFormPaddingChange&&(this.__cbOnFormPaddingChange=[]),this.__cbOnFormPaddingChange.push(t)},onceFormPaddingChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event formPaddingChange because owner is destroyed!");var l=function(e){null!=t&&(i.offFormPaddingChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindFormPaddingChange&&(this.__cbOnceOwnerUnbindFormPaddingChange=[]),this.__cbOnceOwnerUnbindFormPaddingChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindFormPaddingChange&&(this.__cbOnceOwnerUnbindFormPaddingChange=[]),this.__cbOnceOwnerUnbindFormPaddingChange.push(null);null==this.__cbOnceFormPaddingChange&&(this.__cbOnceFormPaddingChange=[]),this.__cbOnceFormPaddingChange.push(t)},offFormPaddingChange:function(e){if(null!=e){var n;null!=this.__cbOnFormPaddingChange&&-1!=(n=this.__cbOnFormPaddingChange.indexOf(e))&&(this.__cbOnFormPaddingChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindFormPaddingChange[n])&&r(),this.__cbOnOwnerUnbindFormPaddingChange.splice(n,1)),null!=this.__cbOnceFormPaddingChange&&-1!=(n=this.__cbOnceFormPaddingChange.indexOf(e))&&(this.__cbOnceFormPaddingChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindFormPaddingChange[n])&&r(),this.__cbOnceOwnerUnbindFormPaddingChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindFormPaddingChange){for(var t=0,i=this.__cbOnOwnerUnbindFormPaddingChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindFormPaddingChange[l])&&r()}this.__cbOnOwnerUnbindFormPaddingChange=null}if(null!=this.__cbOnceOwnerUnbindFormPaddingChange){for(t=0,i=this.__cbOnceOwnerUnbindFormPaddingChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindFormPaddingChange[l])&&r()}this.__cbOnceOwnerUnbindFormPaddingChange=null}this.__cbOnFormPaddingChange=null,this.__cbOnceFormPaddingChange=null}},listensFormPaddingChange:function(){return null!=this.__cbOnFormPaddingChange&&0<this.__cbOnFormPaddingChange.length||null!=this.__cbOnceFormPaddingChange&&0<this.__cbOnceFormPaddingChange.length},tabsMarginYAutoruns:null,get_tabsMarginY:function(){var e,n,t=this.unobservedTabsMarginY;return null!=U.current&&(e=U.current,null!=(n=this.tabsMarginYAutoruns)||(n=U.getAutorunArray(),null!=(this.tabsMarginYAutoruns=n)))&&e.bindToAutorunArray(n),t},set_tabsMarginY:function(e){var n=this.unobservedTabsMarginY;return n!=(this.unobservedTabsMarginY=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!0)),this.emitTabsMarginYChange(e,n),null!=(n=this.tabsMarginYAutoruns))&&(this.tabsMarginYAutoruns=null,U.invalidateAutorunArray(n)),e},invalidateTabsMarginY:function(){var e=this.unobservedTabsMarginY,e=(this.emitTabsMarginYChange(e,e),this.tabsMarginYAutoruns);null!=e&&(this.tabsMarginYAutoruns=null,U.invalidateAutorunArray(e))},unobservedTabsMarginY:null,__cbOnTabsMarginYChange:null,__cbOnceTabsMarginYChange:null,__cbOnOwnerUnbindTabsMarginYChange:null,__cbOnceOwnerUnbindTabsMarginYChange:null,emitTabsMarginYChange:function(e,n){var t=0;if(null!=this.__cbOnTabsMarginYChange&&(t+=this.__cbOnTabsMarginYChange.length),null!=this.__cbOnceTabsMarginYChange&&(t+=this.__cbOnceTabsMarginYChange.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnTabsMarginYChange)for(var s=0,h=this.__cbOnTabsMarginYChange.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnTabsMarginYChange[a],++r):--t}if(null!=this.__cbOnceTabsMarginYChange){for(var o=null,c=null,s=0,h=this.__cbOnceTabsMarginYChange.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceTabsMarginYChange[a],this.__cbOnceTabsMarginYChange[a]=null,u=this.__cbOnceOwnerUnbindTabsMarginYChange[a],(this.__cbOnceOwnerUnbindTabsMarginYChange[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindTabsMarginYChange[a]),c.push(this.__cbOnceTabsMarginYChange[a]))}this.__cbOnceOwnerUnbindTabsMarginYChange=o,this.__cbOnceTabsMarginYChange=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onTabsMarginYChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event tabsMarginYChange because owner is destroyed!");var l=function(e){null!=t&&(i.offTabsMarginYChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindTabsMarginYChange&&(this.__cbOnOwnerUnbindTabsMarginYChange=[]),this.__cbOnOwnerUnbindTabsMarginYChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindTabsMarginYChange&&(this.__cbOnOwnerUnbindTabsMarginYChange=[]),this.__cbOnOwnerUnbindTabsMarginYChange.push(null);null==this.__cbOnTabsMarginYChange&&(this.__cbOnTabsMarginYChange=[]),this.__cbOnTabsMarginYChange.push(t)},onceTabsMarginYChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event tabsMarginYChange because owner is destroyed!");var l=function(e){null!=t&&(i.offTabsMarginYChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindTabsMarginYChange&&(this.__cbOnceOwnerUnbindTabsMarginYChange=[]),this.__cbOnceOwnerUnbindTabsMarginYChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindTabsMarginYChange&&(this.__cbOnceOwnerUnbindTabsMarginYChange=[]),this.__cbOnceOwnerUnbindTabsMarginYChange.push(null);null==this.__cbOnceTabsMarginYChange&&(this.__cbOnceTabsMarginYChange=[]),this.__cbOnceTabsMarginYChange.push(t)},offTabsMarginYChange:function(e){if(null!=e){var n;null!=this.__cbOnTabsMarginYChange&&-1!=(n=this.__cbOnTabsMarginYChange.indexOf(e))&&(this.__cbOnTabsMarginYChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindTabsMarginYChange[n])&&r(),this.__cbOnOwnerUnbindTabsMarginYChange.splice(n,1)),null!=this.__cbOnceTabsMarginYChange&&-1!=(n=this.__cbOnceTabsMarginYChange.indexOf(e))&&(this.__cbOnceTabsMarginYChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindTabsMarginYChange[n])&&r(),this.__cbOnceOwnerUnbindTabsMarginYChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindTabsMarginYChange){for(var t=0,i=this.__cbOnOwnerUnbindTabsMarginYChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindTabsMarginYChange[l])&&r()}this.__cbOnOwnerUnbindTabsMarginYChange=null}if(null!=this.__cbOnceOwnerUnbindTabsMarginYChange){for(t=0,i=this.__cbOnceOwnerUnbindTabsMarginYChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindTabsMarginYChange[l])&&r()}this.__cbOnceOwnerUnbindTabsMarginYChange=null}this.__cbOnTabsMarginYChange=null,this.__cbOnceTabsMarginYChange=null}},listensTabsMarginYChange:function(){return null!=this.__cbOnTabsMarginYChange&&0<this.__cbOnTabsMarginYChange.length||null!=this.__cbOnceTabsMarginYChange&&0<this.__cbOnceTabsMarginYChange.length},focusedFieldSelectionColorAutoruns:null,get_focusedFieldSelectionColor:function(){var e,n,t=this.unobservedFocusedFieldSelectionColor;return null!=U.current&&(e=U.current,null!=(n=this.focusedFieldSelectionColorAutoruns)||(n=U.getAutorunArray(),null!=(this.focusedFieldSelectionColorAutoruns=n)))&&e.bindToAutorunArray(n),t},set_focusedFieldSelectionColor:function(e){var n=this.unobservedFocusedFieldSelectionColor;return n!=(this.unobservedFocusedFieldSelectionColor=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!0)),this.emitFocusedFieldSelectionColorChange(e,n),null!=(n=this.focusedFieldSelectionColorAutoruns))&&(this.focusedFieldSelectionColorAutoruns=null,U.invalidateAutorunArray(n)),e},invalidateFocusedFieldSelectionColor:function(){var e=this.unobservedFocusedFieldSelectionColor,e=(this.emitFocusedFieldSelectionColorChange(e,e),this.focusedFieldSelectionColorAutoruns);null!=e&&(this.focusedFieldSelectionColorAutoruns=null,U.invalidateAutorunArray(e))},unobservedFocusedFieldSelectionColor:null,__cbOnFocusedFieldSelectionColorChange:null,__cbOnceFocusedFieldSelectionColorChange:null,__cbOnOwnerUnbindFocusedFieldSelectionColorChange:null,__cbOnceOwnerUnbindFocusedFieldSelectionColorChange:null,emitFocusedFieldSelectionColorChange:function(e,n){var t=0;if(null!=this.__cbOnFocusedFieldSelectionColorChange&&(t+=this.__cbOnFocusedFieldSelectionColorChange.length),null!=this.__cbOnceFocusedFieldSelectionColorChange&&(t+=this.__cbOnceFocusedFieldSelectionColorChange.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnFocusedFieldSelectionColorChange)for(var s=0,h=this.__cbOnFocusedFieldSelectionColorChange.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnFocusedFieldSelectionColorChange[a],++r):--t}if(null!=this.__cbOnceFocusedFieldSelectionColorChange){for(var o=null,c=null,s=0,h=this.__cbOnceFocusedFieldSelectionColorChange.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceFocusedFieldSelectionColorChange[a],this.__cbOnceFocusedFieldSelectionColorChange[a]=null,u=this.__cbOnceOwnerUnbindFocusedFieldSelectionColorChange[a],(this.__cbOnceOwnerUnbindFocusedFieldSelectionColorChange[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindFocusedFieldSelectionColorChange[a]),c.push(this.__cbOnceFocusedFieldSelectionColorChange[a]))}this.__cbOnceOwnerUnbindFocusedFieldSelectionColorChange=o,this.__cbOnceFocusedFieldSelectionColorChange=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onFocusedFieldSelectionColorChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event focusedFieldSelectionColorChange because owner is destroyed!");var l=function(e){null!=t&&(i.offFocusedFieldSelectionColorChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindFocusedFieldSelectionColorChange&&(this.__cbOnOwnerUnbindFocusedFieldSelectionColorChange=[]),this.__cbOnOwnerUnbindFocusedFieldSelectionColorChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindFocusedFieldSelectionColorChange&&(this.__cbOnOwnerUnbindFocusedFieldSelectionColorChange=[]),this.__cbOnOwnerUnbindFocusedFieldSelectionColorChange.push(null);null==this.__cbOnFocusedFieldSelectionColorChange&&(this.__cbOnFocusedFieldSelectionColorChange=[]),this.__cbOnFocusedFieldSelectionColorChange.push(t)},onceFocusedFieldSelectionColorChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event focusedFieldSelectionColorChange because owner is destroyed!");var l=function(e){null!=t&&(i.offFocusedFieldSelectionColorChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindFocusedFieldSelectionColorChange&&(this.__cbOnceOwnerUnbindFocusedFieldSelectionColorChange=[]),this.__cbOnceOwnerUnbindFocusedFieldSelectionColorChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindFocusedFieldSelectionColorChange&&(this.__cbOnceOwnerUnbindFocusedFieldSelectionColorChange=[]),this.__cbOnceOwnerUnbindFocusedFieldSelectionColorChange.push(null);null==this.__cbOnceFocusedFieldSelectionColorChange&&(this.__cbOnceFocusedFieldSelectionColorChange=[]),this.__cbOnceFocusedFieldSelectionColorChange.push(t)},offFocusedFieldSelectionColorChange:function(e){if(null!=e){var n;null!=this.__cbOnFocusedFieldSelectionColorChange&&-1!=(n=this.__cbOnFocusedFieldSelectionColorChange.indexOf(e))&&(this.__cbOnFocusedFieldSelectionColorChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindFocusedFieldSelectionColorChange[n])&&r(),this.__cbOnOwnerUnbindFocusedFieldSelectionColorChange.splice(n,1)),null!=this.__cbOnceFocusedFieldSelectionColorChange&&-1!=(n=this.__cbOnceFocusedFieldSelectionColorChange.indexOf(e))&&(this.__cbOnceFocusedFieldSelectionColorChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindFocusedFieldSelectionColorChange[n])&&r(),this.__cbOnceOwnerUnbindFocusedFieldSelectionColorChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindFocusedFieldSelectionColorChange){for(var t=0,i=this.__cbOnOwnerUnbindFocusedFieldSelectionColorChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindFocusedFieldSelectionColorChange[l])&&r()}this.__cbOnOwnerUnbindFocusedFieldSelectionColorChange=null}if(null!=this.__cbOnceOwnerUnbindFocusedFieldSelectionColorChange){for(t=0,i=this.__cbOnceOwnerUnbindFocusedFieldSelectionColorChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindFocusedFieldSelectionColorChange[l])&&r()}this.__cbOnceOwnerUnbindFocusedFieldSelectionColorChange=null}this.__cbOnFocusedFieldSelectionColorChange=null,this.__cbOnceFocusedFieldSelectionColorChange=null}},listensFocusedFieldSelectionColorChange:function(){return null!=this.__cbOnFocusedFieldSelectionColorChange&&0<this.__cbOnFocusedFieldSelectionColorChange.length||null!=this.__cbOnceFocusedFieldSelectionColorChange&&0<this.__cbOnceFocusedFieldSelectionColorChange.length},focusedFieldBorderColorAutoruns:null,get_focusedFieldBorderColor:function(){var e,n,t=this.unobservedFocusedFieldBorderColor;return null!=U.current&&(e=U.current,null!=(n=this.focusedFieldBorderColorAutoruns)||(n=U.getAutorunArray(),null!=(this.focusedFieldBorderColorAutoruns=n)))&&e.bindToAutorunArray(n),t},set_focusedFieldBorderColor:function(e){var n=this.unobservedFocusedFieldBorderColor;return n!=(this.unobservedFocusedFieldBorderColor=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!0)),this.emitFocusedFieldBorderColorChange(e,n),null!=(n=this.focusedFieldBorderColorAutoruns))&&(this.focusedFieldBorderColorAutoruns=null,U.invalidateAutorunArray(n)),e},invalidateFocusedFieldBorderColor:function(){var e=this.unobservedFocusedFieldBorderColor,e=(this.emitFocusedFieldBorderColorChange(e,e),this.focusedFieldBorderColorAutoruns);null!=e&&(this.focusedFieldBorderColorAutoruns=null,U.invalidateAutorunArray(e))},unobservedFocusedFieldBorderColor:null,__cbOnFocusedFieldBorderColorChange:null,__cbOnceFocusedFieldBorderColorChange:null,__cbOnOwnerUnbindFocusedFieldBorderColorChange:null,__cbOnceOwnerUnbindFocusedFieldBorderColorChange:null,emitFocusedFieldBorderColorChange:function(e,n){var t=0;if(null!=this.__cbOnFocusedFieldBorderColorChange&&(t+=this.__cbOnFocusedFieldBorderColorChange.length),null!=this.__cbOnceFocusedFieldBorderColorChange&&(t+=this.__cbOnceFocusedFieldBorderColorChange.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnFocusedFieldBorderColorChange)for(var s=0,h=this.__cbOnFocusedFieldBorderColorChange.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnFocusedFieldBorderColorChange[a],++r):--t}if(null!=this.__cbOnceFocusedFieldBorderColorChange){for(var o=null,c=null,s=0,h=this.__cbOnceFocusedFieldBorderColorChange.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceFocusedFieldBorderColorChange[a],this.__cbOnceFocusedFieldBorderColorChange[a]=null,u=this.__cbOnceOwnerUnbindFocusedFieldBorderColorChange[a],(this.__cbOnceOwnerUnbindFocusedFieldBorderColorChange[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindFocusedFieldBorderColorChange[a]),c.push(this.__cbOnceFocusedFieldBorderColorChange[a]))}this.__cbOnceOwnerUnbindFocusedFieldBorderColorChange=o,this.__cbOnceFocusedFieldBorderColorChange=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onFocusedFieldBorderColorChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event focusedFieldBorderColorChange because owner is destroyed!");var l=function(e){null!=t&&(i.offFocusedFieldBorderColorChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindFocusedFieldBorderColorChange&&(this.__cbOnOwnerUnbindFocusedFieldBorderColorChange=[]),this.__cbOnOwnerUnbindFocusedFieldBorderColorChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindFocusedFieldBorderColorChange&&(this.__cbOnOwnerUnbindFocusedFieldBorderColorChange=[]),this.__cbOnOwnerUnbindFocusedFieldBorderColorChange.push(null);null==this.__cbOnFocusedFieldBorderColorChange&&(this.__cbOnFocusedFieldBorderColorChange=[]),this.__cbOnFocusedFieldBorderColorChange.push(t)},onceFocusedFieldBorderColorChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event focusedFieldBorderColorChange because owner is destroyed!");var l=function(e){null!=t&&(i.offFocusedFieldBorderColorChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindFocusedFieldBorderColorChange&&(this.__cbOnceOwnerUnbindFocusedFieldBorderColorChange=[]),this.__cbOnceOwnerUnbindFocusedFieldBorderColorChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindFocusedFieldBorderColorChange&&(this.__cbOnceOwnerUnbindFocusedFieldBorderColorChange=[]),this.__cbOnceOwnerUnbindFocusedFieldBorderColorChange.push(null);null==this.__cbOnceFocusedFieldBorderColorChange&&(this.__cbOnceFocusedFieldBorderColorChange=[]),this.__cbOnceFocusedFieldBorderColorChange.push(t)},offFocusedFieldBorderColorChange:function(e){if(null!=e){var n;null!=this.__cbOnFocusedFieldBorderColorChange&&-1!=(n=this.__cbOnFocusedFieldBorderColorChange.indexOf(e))&&(this.__cbOnFocusedFieldBorderColorChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindFocusedFieldBorderColorChange[n])&&r(),this.__cbOnOwnerUnbindFocusedFieldBorderColorChange.splice(n,1)),null!=this.__cbOnceFocusedFieldBorderColorChange&&-1!=(n=this.__cbOnceFocusedFieldBorderColorChange.indexOf(e))&&(this.__cbOnceFocusedFieldBorderColorChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindFocusedFieldBorderColorChange[n])&&r(),this.__cbOnceOwnerUnbindFocusedFieldBorderColorChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindFocusedFieldBorderColorChange){for(var t=0,i=this.__cbOnOwnerUnbindFocusedFieldBorderColorChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindFocusedFieldBorderColorChange[l])&&r()}this.__cbOnOwnerUnbindFocusedFieldBorderColorChange=null}if(null!=this.__cbOnceOwnerUnbindFocusedFieldBorderColorChange){for(t=0,i=this.__cbOnceOwnerUnbindFocusedFieldBorderColorChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindFocusedFieldBorderColorChange[l])&&r()}this.__cbOnceOwnerUnbindFocusedFieldBorderColorChange=null}this.__cbOnFocusedFieldBorderColorChange=null,this.__cbOnceFocusedFieldBorderColorChange=null}},listensFocusedFieldBorderColorChange:function(){return null!=this.__cbOnFocusedFieldBorderColorChange&&0<this.__cbOnFocusedFieldBorderColorChange.length||null!=this.__cbOnceFocusedFieldBorderColorChange&&0<this.__cbOnceFocusedFieldBorderColorChange.length},overlayBackgroundColorAutoruns:null,get_overlayBackgroundColor:function(){var e,n,t=this.unobservedOverlayBackgroundColor;return null!=U.current&&(e=U.current,null!=(n=this.overlayBackgroundColorAutoruns)||(n=U.getAutorunArray(),null!=(this.overlayBackgroundColorAutoruns=n)))&&e.bindToAutorunArray(n),t},set_overlayBackgroundColor:function(e){var n=this.unobservedOverlayBackgroundColor;return n!=(this.unobservedOverlayBackgroundColor=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!0)),this.emitOverlayBackgroundColorChange(e,n),null!=(n=this.overlayBackgroundColorAutoruns))&&(this.overlayBackgroundColorAutoruns=null,U.invalidateAutorunArray(n)),e},invalidateOverlayBackgroundColor:function(){var e=this.unobservedOverlayBackgroundColor,e=(this.emitOverlayBackgroundColorChange(e,e),this.overlayBackgroundColorAutoruns);null!=e&&(this.overlayBackgroundColorAutoruns=null,U.invalidateAutorunArray(e))},unobservedOverlayBackgroundColor:null,__cbOnOverlayBackgroundColorChange:null,__cbOnceOverlayBackgroundColorChange:null,__cbOnOwnerUnbindOverlayBackgroundColorChange:null,__cbOnceOwnerUnbindOverlayBackgroundColorChange:null,emitOverlayBackgroundColorChange:function(e,n){var t=0;if(null!=this.__cbOnOverlayBackgroundColorChange&&(t+=this.__cbOnOverlayBackgroundColorChange.length),null!=this.__cbOnceOverlayBackgroundColorChange&&(t+=this.__cbOnceOverlayBackgroundColorChange.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnOverlayBackgroundColorChange)for(var s=0,h=this.__cbOnOverlayBackgroundColorChange.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnOverlayBackgroundColorChange[a],++r):--t}if(null!=this.__cbOnceOverlayBackgroundColorChange){for(var o=null,c=null,s=0,h=this.__cbOnceOverlayBackgroundColorChange.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceOverlayBackgroundColorChange[a],this.__cbOnceOverlayBackgroundColorChange[a]=null,u=this.__cbOnceOwnerUnbindOverlayBackgroundColorChange[a],(this.__cbOnceOwnerUnbindOverlayBackgroundColorChange[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindOverlayBackgroundColorChange[a]),c.push(this.__cbOnceOverlayBackgroundColorChange[a]))}this.__cbOnceOwnerUnbindOverlayBackgroundColorChange=o,this.__cbOnceOverlayBackgroundColorChange=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onOverlayBackgroundColorChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event overlayBackgroundColorChange because owner is destroyed!");var l=function(e){null!=t&&(i.offOverlayBackgroundColorChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindOverlayBackgroundColorChange&&(this.__cbOnOwnerUnbindOverlayBackgroundColorChange=[]),this.__cbOnOwnerUnbindOverlayBackgroundColorChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindOverlayBackgroundColorChange&&(this.__cbOnOwnerUnbindOverlayBackgroundColorChange=[]),this.__cbOnOwnerUnbindOverlayBackgroundColorChange.push(null);null==this.__cbOnOverlayBackgroundColorChange&&(this.__cbOnOverlayBackgroundColorChange=[]),this.__cbOnOverlayBackgroundColorChange.push(t)},onceOverlayBackgroundColorChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event overlayBackgroundColorChange because owner is destroyed!");var l=function(e){null!=t&&(i.offOverlayBackgroundColorChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindOverlayBackgroundColorChange&&(this.__cbOnceOwnerUnbindOverlayBackgroundColorChange=[]),this.__cbOnceOwnerUnbindOverlayBackgroundColorChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindOverlayBackgroundColorChange&&(this.__cbOnceOwnerUnbindOverlayBackgroundColorChange=[]),this.__cbOnceOwnerUnbindOverlayBackgroundColorChange.push(null);null==this.__cbOnceOverlayBackgroundColorChange&&(this.__cbOnceOverlayBackgroundColorChange=[]),this.__cbOnceOverlayBackgroundColorChange.push(t)},offOverlayBackgroundColorChange:function(e){if(null!=e){var n;null!=this.__cbOnOverlayBackgroundColorChange&&-1!=(n=this.__cbOnOverlayBackgroundColorChange.indexOf(e))&&(this.__cbOnOverlayBackgroundColorChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindOverlayBackgroundColorChange[n])&&r(),this.__cbOnOwnerUnbindOverlayBackgroundColorChange.splice(n,1)),null!=this.__cbOnceOverlayBackgroundColorChange&&-1!=(n=this.__cbOnceOverlayBackgroundColorChange.indexOf(e))&&(this.__cbOnceOverlayBackgroundColorChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindOverlayBackgroundColorChange[n])&&r(),this.__cbOnceOwnerUnbindOverlayBackgroundColorChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindOverlayBackgroundColorChange){for(var t=0,i=this.__cbOnOwnerUnbindOverlayBackgroundColorChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindOverlayBackgroundColorChange[l])&&r()}this.__cbOnOwnerUnbindOverlayBackgroundColorChange=null}if(null!=this.__cbOnceOwnerUnbindOverlayBackgroundColorChange){for(t=0,i=this.__cbOnceOwnerUnbindOverlayBackgroundColorChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindOverlayBackgroundColorChange[l])&&r()}this.__cbOnceOwnerUnbindOverlayBackgroundColorChange=null}this.__cbOnOverlayBackgroundColorChange=null,this.__cbOnceOverlayBackgroundColorChange=null}},listensOverlayBackgroundColorChange:function(){return null!=this.__cbOnOverlayBackgroundColorChange&&0<this.__cbOnOverlayBackgroundColorChange.length||null!=this.__cbOnceOverlayBackgroundColorChange&&0<this.__cbOnceOverlayBackgroundColorChange.length},overlayBackgroundAlphaAutoruns:null,get_overlayBackgroundAlpha:function(){var e,n,t=this.unobservedOverlayBackgroundAlpha;return null!=U.current&&(e=U.current,null!=(n=this.overlayBackgroundAlphaAutoruns)||(n=U.getAutorunArray(),null!=(this.overlayBackgroundAlphaAutoruns=n)))&&e.bindToAutorunArray(n),t},set_overlayBackgroundAlpha:function(e){var n=this.unobservedOverlayBackgroundAlpha;return n!=(this.unobservedOverlayBackgroundAlpha=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!0)),this.emitOverlayBackgroundAlphaChange(e,n),null!=(n=this.overlayBackgroundAlphaAutoruns))&&(this.overlayBackgroundAlphaAutoruns=null,U.invalidateAutorunArray(n)),e},invalidateOverlayBackgroundAlpha:function(){var e=this.unobservedOverlayBackgroundAlpha,e=(this.emitOverlayBackgroundAlphaChange(e,e),this.overlayBackgroundAlphaAutoruns);null!=e&&(this.overlayBackgroundAlphaAutoruns=null,U.invalidateAutorunArray(e))},unobservedOverlayBackgroundAlpha:null,__cbOnOverlayBackgroundAlphaChange:null,__cbOnceOverlayBackgroundAlphaChange:null,__cbOnOwnerUnbindOverlayBackgroundAlphaChange:null,__cbOnceOwnerUnbindOverlayBackgroundAlphaChange:null,emitOverlayBackgroundAlphaChange:function(e,n){var t=0;if(null!=this.__cbOnOverlayBackgroundAlphaChange&&(t+=this.__cbOnOverlayBackgroundAlphaChange.length),null!=this.__cbOnceOverlayBackgroundAlphaChange&&(t+=this.__cbOnceOverlayBackgroundAlphaChange.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnOverlayBackgroundAlphaChange)for(var s=0,h=this.__cbOnOverlayBackgroundAlphaChange.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnOverlayBackgroundAlphaChange[a],++r):--t}if(null!=this.__cbOnceOverlayBackgroundAlphaChange){for(var o=null,c=null,s=0,h=this.__cbOnceOverlayBackgroundAlphaChange.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceOverlayBackgroundAlphaChange[a],this.__cbOnceOverlayBackgroundAlphaChange[a]=null,u=this.__cbOnceOwnerUnbindOverlayBackgroundAlphaChange[a],(this.__cbOnceOwnerUnbindOverlayBackgroundAlphaChange[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindOverlayBackgroundAlphaChange[a]),c.push(this.__cbOnceOverlayBackgroundAlphaChange[a]))}this.__cbOnceOwnerUnbindOverlayBackgroundAlphaChange=o,this.__cbOnceOverlayBackgroundAlphaChange=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onOverlayBackgroundAlphaChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event overlayBackgroundAlphaChange because owner is destroyed!");var l=function(e){null!=t&&(i.offOverlayBackgroundAlphaChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindOverlayBackgroundAlphaChange&&(this.__cbOnOwnerUnbindOverlayBackgroundAlphaChange=[]),this.__cbOnOwnerUnbindOverlayBackgroundAlphaChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindOverlayBackgroundAlphaChange&&(this.__cbOnOwnerUnbindOverlayBackgroundAlphaChange=[]),this.__cbOnOwnerUnbindOverlayBackgroundAlphaChange.push(null);null==this.__cbOnOverlayBackgroundAlphaChange&&(this.__cbOnOverlayBackgroundAlphaChange=[]),this.__cbOnOverlayBackgroundAlphaChange.push(t)},onceOverlayBackgroundAlphaChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event overlayBackgroundAlphaChange because owner is destroyed!");var l=function(e){null!=t&&(i.offOverlayBackgroundAlphaChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindOverlayBackgroundAlphaChange&&(this.__cbOnceOwnerUnbindOverlayBackgroundAlphaChange=[]),this.__cbOnceOwnerUnbindOverlayBackgroundAlphaChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindOverlayBackgroundAlphaChange&&(this.__cbOnceOwnerUnbindOverlayBackgroundAlphaChange=[]),this.__cbOnceOwnerUnbindOverlayBackgroundAlphaChange.push(null);null==this.__cbOnceOverlayBackgroundAlphaChange&&(this.__cbOnceOverlayBackgroundAlphaChange=[]),this.__cbOnceOverlayBackgroundAlphaChange.push(t)},offOverlayBackgroundAlphaChange:function(e){if(null!=e){var n;null!=this.__cbOnOverlayBackgroundAlphaChange&&-1!=(n=this.__cbOnOverlayBackgroundAlphaChange.indexOf(e))&&(this.__cbOnOverlayBackgroundAlphaChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindOverlayBackgroundAlphaChange[n])&&r(),this.__cbOnOwnerUnbindOverlayBackgroundAlphaChange.splice(n,1)),null!=this.__cbOnceOverlayBackgroundAlphaChange&&-1!=(n=this.__cbOnceOverlayBackgroundAlphaChange.indexOf(e))&&(this.__cbOnceOverlayBackgroundAlphaChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindOverlayBackgroundAlphaChange[n])&&r(),this.__cbOnceOwnerUnbindOverlayBackgroundAlphaChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindOverlayBackgroundAlphaChange){for(var t=0,i=this.__cbOnOwnerUnbindOverlayBackgroundAlphaChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindOverlayBackgroundAlphaChange[l])&&r()}this.__cbOnOwnerUnbindOverlayBackgroundAlphaChange=null}if(null!=this.__cbOnceOwnerUnbindOverlayBackgroundAlphaChange){for(t=0,i=this.__cbOnceOwnerUnbindOverlayBackgroundAlphaChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindOverlayBackgroundAlphaChange[l])&&r()}this.__cbOnceOwnerUnbindOverlayBackgroundAlphaChange=null}this.__cbOnOverlayBackgroundAlphaChange=null,this.__cbOnceOverlayBackgroundAlphaChange=null}},listensOverlayBackgroundAlphaChange:function(){return null!=this.__cbOnOverlayBackgroundAlphaChange&&0<this.__cbOnOverlayBackgroundAlphaChange.length||null!=this.__cbOnceOverlayBackgroundAlphaChange&&0<this.__cbOnceOverlayBackgroundAlphaChange.length},overlayBorderColorAutoruns:null,get_overlayBorderColor:function(){var e,n,t=this.unobservedOverlayBorderColor;return null!=U.current&&(e=U.current,null!=(n=this.overlayBorderColorAutoruns)||(n=U.getAutorunArray(),null!=(this.overlayBorderColorAutoruns=n)))&&e.bindToAutorunArray(n),t},set_overlayBorderColor:function(e){var n=this.unobservedOverlayBorderColor;return n!=(this.unobservedOverlayBorderColor=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!0)),this.emitOverlayBorderColorChange(e,n),null!=(n=this.overlayBorderColorAutoruns))&&(this.overlayBorderColorAutoruns=null,U.invalidateAutorunArray(n)),e},invalidateOverlayBorderColor:function(){var e=this.unobservedOverlayBorderColor,e=(this.emitOverlayBorderColorChange(e,e),this.overlayBorderColorAutoruns);null!=e&&(this.overlayBorderColorAutoruns=null,U.invalidateAutorunArray(e))},unobservedOverlayBorderColor:null,__cbOnOverlayBorderColorChange:null,__cbOnceOverlayBorderColorChange:null,__cbOnOwnerUnbindOverlayBorderColorChange:null,__cbOnceOwnerUnbindOverlayBorderColorChange:null,emitOverlayBorderColorChange:function(e,n){var t=0;if(null!=this.__cbOnOverlayBorderColorChange&&(t+=this.__cbOnOverlayBorderColorChange.length),null!=this.__cbOnceOverlayBorderColorChange&&(t+=this.__cbOnceOverlayBorderColorChange.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnOverlayBorderColorChange)for(var s=0,h=this.__cbOnOverlayBorderColorChange.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnOverlayBorderColorChange[a],++r):--t}if(null!=this.__cbOnceOverlayBorderColorChange){for(var o=null,c=null,s=0,h=this.__cbOnceOverlayBorderColorChange.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceOverlayBorderColorChange[a],this.__cbOnceOverlayBorderColorChange[a]=null,u=this.__cbOnceOwnerUnbindOverlayBorderColorChange[a],(this.__cbOnceOwnerUnbindOverlayBorderColorChange[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindOverlayBorderColorChange[a]),c.push(this.__cbOnceOverlayBorderColorChange[a]))}this.__cbOnceOwnerUnbindOverlayBorderColorChange=o,this.__cbOnceOverlayBorderColorChange=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onOverlayBorderColorChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event overlayBorderColorChange because owner is destroyed!");var l=function(e){null!=t&&(i.offOverlayBorderColorChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindOverlayBorderColorChange&&(this.__cbOnOwnerUnbindOverlayBorderColorChange=[]),this.__cbOnOwnerUnbindOverlayBorderColorChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindOverlayBorderColorChange&&(this.__cbOnOwnerUnbindOverlayBorderColorChange=[]),this.__cbOnOwnerUnbindOverlayBorderColorChange.push(null);null==this.__cbOnOverlayBorderColorChange&&(this.__cbOnOverlayBorderColorChange=[]),this.__cbOnOverlayBorderColorChange.push(t)},onceOverlayBorderColorChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event overlayBorderColorChange because owner is destroyed!");var l=function(e){null!=t&&(i.offOverlayBorderColorChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindOverlayBorderColorChange&&(this.__cbOnceOwnerUnbindOverlayBorderColorChange=[]),this.__cbOnceOwnerUnbindOverlayBorderColorChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindOverlayBorderColorChange&&(this.__cbOnceOwnerUnbindOverlayBorderColorChange=[]),this.__cbOnceOwnerUnbindOverlayBorderColorChange.push(null);null==this.__cbOnceOverlayBorderColorChange&&(this.__cbOnceOverlayBorderColorChange=[]),this.__cbOnceOverlayBorderColorChange.push(t)},offOverlayBorderColorChange:function(e){if(null!=e){var n;null!=this.__cbOnOverlayBorderColorChange&&-1!=(n=this.__cbOnOverlayBorderColorChange.indexOf(e))&&(this.__cbOnOverlayBorderColorChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindOverlayBorderColorChange[n])&&r(),this.__cbOnOwnerUnbindOverlayBorderColorChange.splice(n,1)),null!=this.__cbOnceOverlayBorderColorChange&&-1!=(n=this.__cbOnceOverlayBorderColorChange.indexOf(e))&&(this.__cbOnceOverlayBorderColorChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindOverlayBorderColorChange[n])&&r(),this.__cbOnceOwnerUnbindOverlayBorderColorChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindOverlayBorderColorChange){for(var t=0,i=this.__cbOnOwnerUnbindOverlayBorderColorChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindOverlayBorderColorChange[l])&&r()}this.__cbOnOwnerUnbindOverlayBorderColorChange=null}if(null!=this.__cbOnceOwnerUnbindOverlayBorderColorChange){for(t=0,i=this.__cbOnceOwnerUnbindOverlayBorderColorChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindOverlayBorderColorChange[l])&&r()}this.__cbOnceOwnerUnbindOverlayBorderColorChange=null}this.__cbOnOverlayBorderColorChange=null,this.__cbOnceOverlayBorderColorChange=null}},listensOverlayBorderColorChange:function(){return null!=this.__cbOnOverlayBorderColorChange&&0<this.__cbOnOverlayBorderColorChange.length||null!=this.__cbOnceOverlayBorderColorChange&&0<this.__cbOnceOverlayBorderColorChange.length},overlayBorderAlphaAutoruns:null,get_overlayBorderAlpha:function(){var e,n,t=this.unobservedOverlayBorderAlpha;return null!=U.current&&(e=U.current,null!=(n=this.overlayBorderAlphaAutoruns)||(n=U.getAutorunArray(),null!=(this.overlayBorderAlphaAutoruns=n)))&&e.bindToAutorunArray(n),t},set_overlayBorderAlpha:function(e){var n=this.unobservedOverlayBorderAlpha;return n!=(this.unobservedOverlayBorderAlpha=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!0)),this.emitOverlayBorderAlphaChange(e,n),null!=(n=this.overlayBorderAlphaAutoruns))&&(this.overlayBorderAlphaAutoruns=null,U.invalidateAutorunArray(n)),e},invalidateOverlayBorderAlpha:function(){var e=this.unobservedOverlayBorderAlpha,e=(this.emitOverlayBorderAlphaChange(e,e),this.overlayBorderAlphaAutoruns);null!=e&&(this.overlayBorderAlphaAutoruns=null,U.invalidateAutorunArray(e))},unobservedOverlayBorderAlpha:null,__cbOnOverlayBorderAlphaChange:null,__cbOnceOverlayBorderAlphaChange:null,__cbOnOwnerUnbindOverlayBorderAlphaChange:null,__cbOnceOwnerUnbindOverlayBorderAlphaChange:null,emitOverlayBorderAlphaChange:function(e,n){var t=0;if(null!=this.__cbOnOverlayBorderAlphaChange&&(t+=this.__cbOnOverlayBorderAlphaChange.length),null!=this.__cbOnceOverlayBorderAlphaChange&&(t+=this.__cbOnceOverlayBorderAlphaChange.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnOverlayBorderAlphaChange)for(var s=0,h=this.__cbOnOverlayBorderAlphaChange.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnOverlayBorderAlphaChange[a],++r):--t}if(null!=this.__cbOnceOverlayBorderAlphaChange){for(var o=null,c=null,s=0,h=this.__cbOnceOverlayBorderAlphaChange.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceOverlayBorderAlphaChange[a],this.__cbOnceOverlayBorderAlphaChange[a]=null,u=this.__cbOnceOwnerUnbindOverlayBorderAlphaChange[a],(this.__cbOnceOwnerUnbindOverlayBorderAlphaChange[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindOverlayBorderAlphaChange[a]),c.push(this.__cbOnceOverlayBorderAlphaChange[a]))}this.__cbOnceOwnerUnbindOverlayBorderAlphaChange=o,this.__cbOnceOverlayBorderAlphaChange=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onOverlayBorderAlphaChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event overlayBorderAlphaChange because owner is destroyed!");var l=function(e){null!=t&&(i.offOverlayBorderAlphaChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindOverlayBorderAlphaChange&&(this.__cbOnOwnerUnbindOverlayBorderAlphaChange=[]),this.__cbOnOwnerUnbindOverlayBorderAlphaChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindOverlayBorderAlphaChange&&(this.__cbOnOwnerUnbindOverlayBorderAlphaChange=[]),this.__cbOnOwnerUnbindOverlayBorderAlphaChange.push(null);null==this.__cbOnOverlayBorderAlphaChange&&(this.__cbOnOverlayBorderAlphaChange=[]),this.__cbOnOverlayBorderAlphaChange.push(t)},onceOverlayBorderAlphaChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event overlayBorderAlphaChange because owner is destroyed!");var l=function(e){null!=t&&(i.offOverlayBorderAlphaChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindOverlayBorderAlphaChange&&(this.__cbOnceOwnerUnbindOverlayBorderAlphaChange=[]),this.__cbOnceOwnerUnbindOverlayBorderAlphaChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindOverlayBorderAlphaChange&&(this.__cbOnceOwnerUnbindOverlayBorderAlphaChange=[]),this.__cbOnceOwnerUnbindOverlayBorderAlphaChange.push(null);null==this.__cbOnceOverlayBorderAlphaChange&&(this.__cbOnceOverlayBorderAlphaChange=[]),this.__cbOnceOverlayBorderAlphaChange.push(t)},offOverlayBorderAlphaChange:function(e){if(null!=e){var n;null!=this.__cbOnOverlayBorderAlphaChange&&-1!=(n=this.__cbOnOverlayBorderAlphaChange.indexOf(e))&&(this.__cbOnOverlayBorderAlphaChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindOverlayBorderAlphaChange[n])&&r(),this.__cbOnOwnerUnbindOverlayBorderAlphaChange.splice(n,1)),null!=this.__cbOnceOverlayBorderAlphaChange&&-1!=(n=this.__cbOnceOverlayBorderAlphaChange.indexOf(e))&&(this.__cbOnceOverlayBorderAlphaChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindOverlayBorderAlphaChange[n])&&r(),this.__cbOnceOwnerUnbindOverlayBorderAlphaChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindOverlayBorderAlphaChange){for(var t=0,i=this.__cbOnOwnerUnbindOverlayBorderAlphaChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindOverlayBorderAlphaChange[l])&&r()}this.__cbOnOwnerUnbindOverlayBorderAlphaChange=null}if(null!=this.__cbOnceOwnerUnbindOverlayBorderAlphaChange){for(t=0,i=this.__cbOnceOwnerUnbindOverlayBorderAlphaChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindOverlayBorderAlphaChange[l])&&r()}this.__cbOnceOwnerUnbindOverlayBorderAlphaChange=null}this.__cbOnOverlayBorderAlphaChange=null,this.__cbOnceOverlayBorderAlphaChange=null}},listensOverlayBorderAlphaChange:function(){return null!=this.__cbOnOverlayBorderAlphaChange&&0<this.__cbOnOverlayBorderAlphaChange.length||null!=this.__cbOnceOverlayBorderAlphaChange&&0<this.__cbOnceOverlayBorderAlphaChange.length},buttonBackgroundColorAutoruns:null,get_buttonBackgroundColor:function(){var e,n,t=this.unobservedButtonBackgroundColor;return null!=U.current&&(e=U.current,null!=(n=this.buttonBackgroundColorAutoruns)||(n=U.getAutorunArray(),null!=(this.buttonBackgroundColorAutoruns=n)))&&e.bindToAutorunArray(n),t},set_buttonBackgroundColor:function(e){var n=this.unobservedButtonBackgroundColor;return n!=(this.unobservedButtonBackgroundColor=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!0)),this.emitButtonBackgroundColorChange(e,n),null!=(n=this.buttonBackgroundColorAutoruns))&&(this.buttonBackgroundColorAutoruns=null,U.invalidateAutorunArray(n)),e},invalidateButtonBackgroundColor:function(){var e=this.unobservedButtonBackgroundColor,e=(this.emitButtonBackgroundColorChange(e,e),this.buttonBackgroundColorAutoruns);null!=e&&(this.buttonBackgroundColorAutoruns=null,U.invalidateAutorunArray(e))},unobservedButtonBackgroundColor:null,__cbOnButtonBackgroundColorChange:null,__cbOnceButtonBackgroundColorChange:null,__cbOnOwnerUnbindButtonBackgroundColorChange:null,__cbOnceOwnerUnbindButtonBackgroundColorChange:null,emitButtonBackgroundColorChange:function(e,n){var t=0;if(null!=this.__cbOnButtonBackgroundColorChange&&(t+=this.__cbOnButtonBackgroundColorChange.length),null!=this.__cbOnceButtonBackgroundColorChange&&(t+=this.__cbOnceButtonBackgroundColorChange.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnButtonBackgroundColorChange)for(var s=0,h=this.__cbOnButtonBackgroundColorChange.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnButtonBackgroundColorChange[a],++r):--t}if(null!=this.__cbOnceButtonBackgroundColorChange){for(var o=null,c=null,s=0,h=this.__cbOnceButtonBackgroundColorChange.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceButtonBackgroundColorChange[a],this.__cbOnceButtonBackgroundColorChange[a]=null,u=this.__cbOnceOwnerUnbindButtonBackgroundColorChange[a],(this.__cbOnceOwnerUnbindButtonBackgroundColorChange[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindButtonBackgroundColorChange[a]),c.push(this.__cbOnceButtonBackgroundColorChange[a]))}this.__cbOnceOwnerUnbindButtonBackgroundColorChange=o,this.__cbOnceButtonBackgroundColorChange=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onButtonBackgroundColorChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event buttonBackgroundColorChange because owner is destroyed!");var l=function(e){null!=t&&(i.offButtonBackgroundColorChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindButtonBackgroundColorChange&&(this.__cbOnOwnerUnbindButtonBackgroundColorChange=[]),this.__cbOnOwnerUnbindButtonBackgroundColorChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindButtonBackgroundColorChange&&(this.__cbOnOwnerUnbindButtonBackgroundColorChange=[]),this.__cbOnOwnerUnbindButtonBackgroundColorChange.push(null);null==this.__cbOnButtonBackgroundColorChange&&(this.__cbOnButtonBackgroundColorChange=[]),this.__cbOnButtonBackgroundColorChange.push(t)},onceButtonBackgroundColorChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event buttonBackgroundColorChange because owner is destroyed!");var l=function(e){null!=t&&(i.offButtonBackgroundColorChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindButtonBackgroundColorChange&&(this.__cbOnceOwnerUnbindButtonBackgroundColorChange=[]),this.__cbOnceOwnerUnbindButtonBackgroundColorChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindButtonBackgroundColorChange&&(this.__cbOnceOwnerUnbindButtonBackgroundColorChange=[]),this.__cbOnceOwnerUnbindButtonBackgroundColorChange.push(null);null==this.__cbOnceButtonBackgroundColorChange&&(this.__cbOnceButtonBackgroundColorChange=[]),this.__cbOnceButtonBackgroundColorChange.push(t)},offButtonBackgroundColorChange:function(e){if(null!=e){var n;null!=this.__cbOnButtonBackgroundColorChange&&-1!=(n=this.__cbOnButtonBackgroundColorChange.indexOf(e))&&(this.__cbOnButtonBackgroundColorChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindButtonBackgroundColorChange[n])&&r(),this.__cbOnOwnerUnbindButtonBackgroundColorChange.splice(n,1)),null!=this.__cbOnceButtonBackgroundColorChange&&-1!=(n=this.__cbOnceButtonBackgroundColorChange.indexOf(e))&&(this.__cbOnceButtonBackgroundColorChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindButtonBackgroundColorChange[n])&&r(),this.__cbOnceOwnerUnbindButtonBackgroundColorChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindButtonBackgroundColorChange){for(var t=0,i=this.__cbOnOwnerUnbindButtonBackgroundColorChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindButtonBackgroundColorChange[l])&&r()}this.__cbOnOwnerUnbindButtonBackgroundColorChange=null}if(null!=this.__cbOnceOwnerUnbindButtonBackgroundColorChange){for(t=0,i=this.__cbOnceOwnerUnbindButtonBackgroundColorChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindButtonBackgroundColorChange[l])&&r()}this.__cbOnceOwnerUnbindButtonBackgroundColorChange=null}this.__cbOnButtonBackgroundColorChange=null,this.__cbOnceButtonBackgroundColorChange=null}},listensButtonBackgroundColorChange:function(){return null!=this.__cbOnButtonBackgroundColorChange&&0<this.__cbOnButtonBackgroundColorChange.length||null!=this.__cbOnceButtonBackgroundColorChange&&0<this.__cbOnceButtonBackgroundColorChange.length},buttonOverBackgroundColorAutoruns:null,get_buttonOverBackgroundColor:function(){var e,n,t=this.unobservedButtonOverBackgroundColor;return null!=U.current&&(e=U.current,null!=(n=this.buttonOverBackgroundColorAutoruns)||(n=U.getAutorunArray(),null!=(this.buttonOverBackgroundColorAutoruns=n)))&&e.bindToAutorunArray(n),t},set_buttonOverBackgroundColor:function(e){var n=this.unobservedButtonOverBackgroundColor;return n!=(this.unobservedButtonOverBackgroundColor=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!0)),this.emitButtonOverBackgroundColorChange(e,n),null!=(n=this.buttonOverBackgroundColorAutoruns))&&(this.buttonOverBackgroundColorAutoruns=null,U.invalidateAutorunArray(n)),e},invalidateButtonOverBackgroundColor:function(){var e=this.unobservedButtonOverBackgroundColor,e=(this.emitButtonOverBackgroundColorChange(e,e),this.buttonOverBackgroundColorAutoruns);null!=e&&(this.buttonOverBackgroundColorAutoruns=null,U.invalidateAutorunArray(e))},unobservedButtonOverBackgroundColor:null,__cbOnButtonOverBackgroundColorChange:null,__cbOnceButtonOverBackgroundColorChange:null,__cbOnOwnerUnbindButtonOverBackgroundColorChange:null,__cbOnceOwnerUnbindButtonOverBackgroundColorChange:null,emitButtonOverBackgroundColorChange:function(e,n){var t=0;if(null!=this.__cbOnButtonOverBackgroundColorChange&&(t+=this.__cbOnButtonOverBackgroundColorChange.length),null!=this.__cbOnceButtonOverBackgroundColorChange&&(t+=this.__cbOnceButtonOverBackgroundColorChange.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnButtonOverBackgroundColorChange)for(var s=0,h=this.__cbOnButtonOverBackgroundColorChange.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnButtonOverBackgroundColorChange[a],++r):--t}if(null!=this.__cbOnceButtonOverBackgroundColorChange){for(var o=null,c=null,s=0,h=this.__cbOnceButtonOverBackgroundColorChange.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceButtonOverBackgroundColorChange[a],this.__cbOnceButtonOverBackgroundColorChange[a]=null,u=this.__cbOnceOwnerUnbindButtonOverBackgroundColorChange[a],(this.__cbOnceOwnerUnbindButtonOverBackgroundColorChange[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindButtonOverBackgroundColorChange[a]),c.push(this.__cbOnceButtonOverBackgroundColorChange[a]))}this.__cbOnceOwnerUnbindButtonOverBackgroundColorChange=o,this.__cbOnceButtonOverBackgroundColorChange=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onButtonOverBackgroundColorChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event buttonOverBackgroundColorChange because owner is destroyed!");var l=function(e){null!=t&&(i.offButtonOverBackgroundColorChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindButtonOverBackgroundColorChange&&(this.__cbOnOwnerUnbindButtonOverBackgroundColorChange=[]),this.__cbOnOwnerUnbindButtonOverBackgroundColorChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindButtonOverBackgroundColorChange&&(this.__cbOnOwnerUnbindButtonOverBackgroundColorChange=[]),this.__cbOnOwnerUnbindButtonOverBackgroundColorChange.push(null);null==this.__cbOnButtonOverBackgroundColorChange&&(this.__cbOnButtonOverBackgroundColorChange=[]),this.__cbOnButtonOverBackgroundColorChange.push(t)},onceButtonOverBackgroundColorChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event buttonOverBackgroundColorChange because owner is destroyed!");var l=function(e){null!=t&&(i.offButtonOverBackgroundColorChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindButtonOverBackgroundColorChange&&(this.__cbOnceOwnerUnbindButtonOverBackgroundColorChange=[]),this.__cbOnceOwnerUnbindButtonOverBackgroundColorChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindButtonOverBackgroundColorChange&&(this.__cbOnceOwnerUnbindButtonOverBackgroundColorChange=[]),this.__cbOnceOwnerUnbindButtonOverBackgroundColorChange.push(null);null==this.__cbOnceButtonOverBackgroundColorChange&&(this.__cbOnceButtonOverBackgroundColorChange=[]),this.__cbOnceButtonOverBackgroundColorChange.push(t)},offButtonOverBackgroundColorChange:function(e){if(null!=e){var n;null!=this.__cbOnButtonOverBackgroundColorChange&&-1!=(n=this.__cbOnButtonOverBackgroundColorChange.indexOf(e))&&(this.__cbOnButtonOverBackgroundColorChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindButtonOverBackgroundColorChange[n])&&r(),this.__cbOnOwnerUnbindButtonOverBackgroundColorChange.splice(n,1)),null!=this.__cbOnceButtonOverBackgroundColorChange&&-1!=(n=this.__cbOnceButtonOverBackgroundColorChange.indexOf(e))&&(this.__cbOnceButtonOverBackgroundColorChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindButtonOverBackgroundColorChange[n])&&r(),this.__cbOnceOwnerUnbindButtonOverBackgroundColorChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindButtonOverBackgroundColorChange){for(var t=0,i=this.__cbOnOwnerUnbindButtonOverBackgroundColorChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindButtonOverBackgroundColorChange[l])&&r()}this.__cbOnOwnerUnbindButtonOverBackgroundColorChange=null}if(null!=this.__cbOnceOwnerUnbindButtonOverBackgroundColorChange){for(t=0,i=this.__cbOnceOwnerUnbindButtonOverBackgroundColorChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindButtonOverBackgroundColorChange[l])&&r()}this.__cbOnceOwnerUnbindButtonOverBackgroundColorChange=null}this.__cbOnButtonOverBackgroundColorChange=null,this.__cbOnceButtonOverBackgroundColorChange=null}},listensButtonOverBackgroundColorChange:function(){return null!=this.__cbOnButtonOverBackgroundColorChange&&0<this.__cbOnButtonOverBackgroundColorChange.length||null!=this.__cbOnceButtonOverBackgroundColorChange&&0<this.__cbOnceButtonOverBackgroundColorChange.length},buttonPressedBackgroundColorAutoruns:null,get_buttonPressedBackgroundColor:function(){var e,n,t=this.unobservedButtonPressedBackgroundColor;return null!=U.current&&(e=U.current,null!=(n=this.buttonPressedBackgroundColorAutoruns)||(n=U.getAutorunArray(),null!=(this.buttonPressedBackgroundColorAutoruns=n)))&&e.bindToAutorunArray(n),t},set_buttonPressedBackgroundColor:function(e){var n=this.unobservedButtonPressedBackgroundColor;return n!=(this.unobservedButtonPressedBackgroundColor=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!0)),this.emitButtonPressedBackgroundColorChange(e,n),null!=(n=this.buttonPressedBackgroundColorAutoruns))&&(this.buttonPressedBackgroundColorAutoruns=null,U.invalidateAutorunArray(n)),e},invalidateButtonPressedBackgroundColor:function(){var e=this.unobservedButtonPressedBackgroundColor,e=(this.emitButtonPressedBackgroundColorChange(e,e),this.buttonPressedBackgroundColorAutoruns);null!=e&&(this.buttonPressedBackgroundColorAutoruns=null,U.invalidateAutorunArray(e))},unobservedButtonPressedBackgroundColor:null,__cbOnButtonPressedBackgroundColorChange:null,__cbOnceButtonPressedBackgroundColorChange:null,__cbOnOwnerUnbindButtonPressedBackgroundColorChange:null,__cbOnceOwnerUnbindButtonPressedBackgroundColorChange:null,emitButtonPressedBackgroundColorChange:function(e,n){var t=0;if(null!=this.__cbOnButtonPressedBackgroundColorChange&&(t+=this.__cbOnButtonPressedBackgroundColorChange.length),null!=this.__cbOnceButtonPressedBackgroundColorChange&&(t+=this.__cbOnceButtonPressedBackgroundColorChange.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnButtonPressedBackgroundColorChange)for(var s=0,h=this.__cbOnButtonPressedBackgroundColorChange.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnButtonPressedBackgroundColorChange[a],++r):--t}if(null!=this.__cbOnceButtonPressedBackgroundColorChange){for(var o=null,c=null,s=0,h=this.__cbOnceButtonPressedBackgroundColorChange.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceButtonPressedBackgroundColorChange[a],this.__cbOnceButtonPressedBackgroundColorChange[a]=null,u=this.__cbOnceOwnerUnbindButtonPressedBackgroundColorChange[a],(this.__cbOnceOwnerUnbindButtonPressedBackgroundColorChange[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindButtonPressedBackgroundColorChange[a]),c.push(this.__cbOnceButtonPressedBackgroundColorChange[a]))}this.__cbOnceOwnerUnbindButtonPressedBackgroundColorChange=o,this.__cbOnceButtonPressedBackgroundColorChange=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onButtonPressedBackgroundColorChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event buttonPressedBackgroundColorChange because owner is destroyed!");var l=function(e){null!=t&&(i.offButtonPressedBackgroundColorChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindButtonPressedBackgroundColorChange&&(this.__cbOnOwnerUnbindButtonPressedBackgroundColorChange=[]),this.__cbOnOwnerUnbindButtonPressedBackgroundColorChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindButtonPressedBackgroundColorChange&&(this.__cbOnOwnerUnbindButtonPressedBackgroundColorChange=[]),this.__cbOnOwnerUnbindButtonPressedBackgroundColorChange.push(null);null==this.__cbOnButtonPressedBackgroundColorChange&&(this.__cbOnButtonPressedBackgroundColorChange=[]),this.__cbOnButtonPressedBackgroundColorChange.push(t)},onceButtonPressedBackgroundColorChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event buttonPressedBackgroundColorChange because owner is destroyed!");var l=function(e){null!=t&&(i.offButtonPressedBackgroundColorChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindButtonPressedBackgroundColorChange&&(this.__cbOnceOwnerUnbindButtonPressedBackgroundColorChange=[]),this.__cbOnceOwnerUnbindButtonPressedBackgroundColorChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindButtonPressedBackgroundColorChange&&(this.__cbOnceOwnerUnbindButtonPressedBackgroundColorChange=[]),this.__cbOnceOwnerUnbindButtonPressedBackgroundColorChange.push(null);null==this.__cbOnceButtonPressedBackgroundColorChange&&(this.__cbOnceButtonPressedBackgroundColorChange=[]),this.__cbOnceButtonPressedBackgroundColorChange.push(t)},offButtonPressedBackgroundColorChange:function(e){if(null!=e){var n;null!=this.__cbOnButtonPressedBackgroundColorChange&&-1!=(n=this.__cbOnButtonPressedBackgroundColorChange.indexOf(e))&&(this.__cbOnButtonPressedBackgroundColorChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindButtonPressedBackgroundColorChange[n])&&r(),this.__cbOnOwnerUnbindButtonPressedBackgroundColorChange.splice(n,1)),null!=this.__cbOnceButtonPressedBackgroundColorChange&&-1!=(n=this.__cbOnceButtonPressedBackgroundColorChange.indexOf(e))&&(this.__cbOnceButtonPressedBackgroundColorChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindButtonPressedBackgroundColorChange[n])&&r(),this.__cbOnceOwnerUnbindButtonPressedBackgroundColorChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindButtonPressedBackgroundColorChange){for(var t=0,i=this.__cbOnOwnerUnbindButtonPressedBackgroundColorChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindButtonPressedBackgroundColorChange[l])&&r()}this.__cbOnOwnerUnbindButtonPressedBackgroundColorChange=null}if(null!=this.__cbOnceOwnerUnbindButtonPressedBackgroundColorChange){for(t=0,i=this.__cbOnceOwnerUnbindButtonPressedBackgroundColorChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindButtonPressedBackgroundColorChange[l])&&r()}this.__cbOnceOwnerUnbindButtonPressedBackgroundColorChange=null}this.__cbOnButtonPressedBackgroundColorChange=null,this.__cbOnceButtonPressedBackgroundColorChange=null}},listensButtonPressedBackgroundColorChange:function(){return null!=this.__cbOnButtonPressedBackgroundColorChange&&0<this.__cbOnButtonPressedBackgroundColorChange.length||null!=this.__cbOnceButtonPressedBackgroundColorChange&&0<this.__cbOnceButtonPressedBackgroundColorChange.length},buttonFocusedBorderColorAutoruns:null,get_buttonFocusedBorderColor:function(){var e,n,t=this.unobservedButtonFocusedBorderColor;return null!=U.current&&(e=U.current,null!=(n=this.buttonFocusedBorderColorAutoruns)||(n=U.getAutorunArray(),null!=(this.buttonFocusedBorderColorAutoruns=n)))&&e.bindToAutorunArray(n),t},set_buttonFocusedBorderColor:function(e){var n=this.unobservedButtonFocusedBorderColor;return n!=(this.unobservedButtonFocusedBorderColor=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!0)),this.emitButtonFocusedBorderColorChange(e,n),null!=(n=this.buttonFocusedBorderColorAutoruns))&&(this.buttonFocusedBorderColorAutoruns=null,U.invalidateAutorunArray(n)),e},invalidateButtonFocusedBorderColor:function(){var e=this.unobservedButtonFocusedBorderColor,e=(this.emitButtonFocusedBorderColorChange(e,e),this.buttonFocusedBorderColorAutoruns);null!=e&&(this.buttonFocusedBorderColorAutoruns=null,U.invalidateAutorunArray(e))},unobservedButtonFocusedBorderColor:null,__cbOnButtonFocusedBorderColorChange:null,__cbOnceButtonFocusedBorderColorChange:null,__cbOnOwnerUnbindButtonFocusedBorderColorChange:null,__cbOnceOwnerUnbindButtonFocusedBorderColorChange:null,emitButtonFocusedBorderColorChange:function(e,n){var t=0;if(null!=this.__cbOnButtonFocusedBorderColorChange&&(t+=this.__cbOnButtonFocusedBorderColorChange.length),null!=this.__cbOnceButtonFocusedBorderColorChange&&(t+=this.__cbOnceButtonFocusedBorderColorChange.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnButtonFocusedBorderColorChange)for(var s=0,h=this.__cbOnButtonFocusedBorderColorChange.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnButtonFocusedBorderColorChange[a],++r):--t}if(null!=this.__cbOnceButtonFocusedBorderColorChange){for(var o=null,c=null,s=0,h=this.__cbOnceButtonFocusedBorderColorChange.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceButtonFocusedBorderColorChange[a],this.__cbOnceButtonFocusedBorderColorChange[a]=null,u=this.__cbOnceOwnerUnbindButtonFocusedBorderColorChange[a],(this.__cbOnceOwnerUnbindButtonFocusedBorderColorChange[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindButtonFocusedBorderColorChange[a]),c.push(this.__cbOnceButtonFocusedBorderColorChange[a]))}this.__cbOnceOwnerUnbindButtonFocusedBorderColorChange=o,this.__cbOnceButtonFocusedBorderColorChange=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onButtonFocusedBorderColorChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event buttonFocusedBorderColorChange because owner is destroyed!");var l=function(e){null!=t&&(i.offButtonFocusedBorderColorChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindButtonFocusedBorderColorChange&&(this.__cbOnOwnerUnbindButtonFocusedBorderColorChange=[]),this.__cbOnOwnerUnbindButtonFocusedBorderColorChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindButtonFocusedBorderColorChange&&(this.__cbOnOwnerUnbindButtonFocusedBorderColorChange=[]),this.__cbOnOwnerUnbindButtonFocusedBorderColorChange.push(null);null==this.__cbOnButtonFocusedBorderColorChange&&(this.__cbOnButtonFocusedBorderColorChange=[]),this.__cbOnButtonFocusedBorderColorChange.push(t)},onceButtonFocusedBorderColorChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event buttonFocusedBorderColorChange because owner is destroyed!");var l=function(e){null!=t&&(i.offButtonFocusedBorderColorChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindButtonFocusedBorderColorChange&&(this.__cbOnceOwnerUnbindButtonFocusedBorderColorChange=[]),this.__cbOnceOwnerUnbindButtonFocusedBorderColorChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindButtonFocusedBorderColorChange&&(this.__cbOnceOwnerUnbindButtonFocusedBorderColorChange=[]),this.__cbOnceOwnerUnbindButtonFocusedBorderColorChange.push(null);null==this.__cbOnceButtonFocusedBorderColorChange&&(this.__cbOnceButtonFocusedBorderColorChange=[]),this.__cbOnceButtonFocusedBorderColorChange.push(t)},offButtonFocusedBorderColorChange:function(e){if(null!=e){var n;null!=this.__cbOnButtonFocusedBorderColorChange&&-1!=(n=this.__cbOnButtonFocusedBorderColorChange.indexOf(e))&&(this.__cbOnButtonFocusedBorderColorChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindButtonFocusedBorderColorChange[n])&&r(),this.__cbOnOwnerUnbindButtonFocusedBorderColorChange.splice(n,1)),null!=this.__cbOnceButtonFocusedBorderColorChange&&-1!=(n=this.__cbOnceButtonFocusedBorderColorChange.indexOf(e))&&(this.__cbOnceButtonFocusedBorderColorChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindButtonFocusedBorderColorChange[n])&&r(),this.__cbOnceOwnerUnbindButtonFocusedBorderColorChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindButtonFocusedBorderColorChange){for(var t=0,i=this.__cbOnOwnerUnbindButtonFocusedBorderColorChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindButtonFocusedBorderColorChange[l])&&r()}this.__cbOnOwnerUnbindButtonFocusedBorderColorChange=null}if(null!=this.__cbOnceOwnerUnbindButtonFocusedBorderColorChange){for(t=0,i=this.__cbOnceOwnerUnbindButtonFocusedBorderColorChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindButtonFocusedBorderColorChange[l])&&r()}this.__cbOnceOwnerUnbindButtonFocusedBorderColorChange=null}this.__cbOnButtonFocusedBorderColorChange=null,this.__cbOnceButtonFocusedBorderColorChange=null}},listensButtonFocusedBorderColorChange:function(){return null!=this.__cbOnButtonFocusedBorderColorChange&&0<this.__cbOnButtonFocusedBorderColorChange.length||null!=this.__cbOnceButtonFocusedBorderColorChange&&0<this.__cbOnceButtonFocusedBorderColorChange.length},tabsBackgroundColorAutoruns:null,get_tabsBackgroundColor:function(){var e,n,t=this.unobservedTabsBackgroundColor;return null!=U.current&&(e=U.current,null!=(n=this.tabsBackgroundColorAutoruns)||(n=U.getAutorunArray(),null!=(this.tabsBackgroundColorAutoruns=n)))&&e.bindToAutorunArray(n),t},set_tabsBackgroundColor:function(e){var n=this.unobservedTabsBackgroundColor;return n!=(this.unobservedTabsBackgroundColor=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!0)),this.emitTabsBackgroundColorChange(e,n),null!=(n=this.tabsBackgroundColorAutoruns))&&(this.tabsBackgroundColorAutoruns=null,U.invalidateAutorunArray(n)),e},invalidateTabsBackgroundColor:function(){var e=this.unobservedTabsBackgroundColor,e=(this.emitTabsBackgroundColorChange(e,e),this.tabsBackgroundColorAutoruns);null!=e&&(this.tabsBackgroundColorAutoruns=null,U.invalidateAutorunArray(e))},unobservedTabsBackgroundColor:null,__cbOnTabsBackgroundColorChange:null,__cbOnceTabsBackgroundColorChange:null,__cbOnOwnerUnbindTabsBackgroundColorChange:null,__cbOnceOwnerUnbindTabsBackgroundColorChange:null,emitTabsBackgroundColorChange:function(e,n){var t=0;if(null!=this.__cbOnTabsBackgroundColorChange&&(t+=this.__cbOnTabsBackgroundColorChange.length),null!=this.__cbOnceTabsBackgroundColorChange&&(t+=this.__cbOnceTabsBackgroundColorChange.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnTabsBackgroundColorChange)for(var s=0,h=this.__cbOnTabsBackgroundColorChange.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnTabsBackgroundColorChange[a],++r):--t}if(null!=this.__cbOnceTabsBackgroundColorChange){for(var o=null,c=null,s=0,h=this.__cbOnceTabsBackgroundColorChange.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceTabsBackgroundColorChange[a],this.__cbOnceTabsBackgroundColorChange[a]=null,u=this.__cbOnceOwnerUnbindTabsBackgroundColorChange[a],(this.__cbOnceOwnerUnbindTabsBackgroundColorChange[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindTabsBackgroundColorChange[a]),c.push(this.__cbOnceTabsBackgroundColorChange[a]))}this.__cbOnceOwnerUnbindTabsBackgroundColorChange=o,this.__cbOnceTabsBackgroundColorChange=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onTabsBackgroundColorChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event tabsBackgroundColorChange because owner is destroyed!");var l=function(e){null!=t&&(i.offTabsBackgroundColorChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindTabsBackgroundColorChange&&(this.__cbOnOwnerUnbindTabsBackgroundColorChange=[]),this.__cbOnOwnerUnbindTabsBackgroundColorChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindTabsBackgroundColorChange&&(this.__cbOnOwnerUnbindTabsBackgroundColorChange=[]),this.__cbOnOwnerUnbindTabsBackgroundColorChange.push(null);null==this.__cbOnTabsBackgroundColorChange&&(this.__cbOnTabsBackgroundColorChange=[]),this.__cbOnTabsBackgroundColorChange.push(t)},onceTabsBackgroundColorChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event tabsBackgroundColorChange because owner is destroyed!");var l=function(e){null!=t&&(i.offTabsBackgroundColorChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindTabsBackgroundColorChange&&(this.__cbOnceOwnerUnbindTabsBackgroundColorChange=[]),this.__cbOnceOwnerUnbindTabsBackgroundColorChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindTabsBackgroundColorChange&&(this.__cbOnceOwnerUnbindTabsBackgroundColorChange=[]),this.__cbOnceOwnerUnbindTabsBackgroundColorChange.push(null);null==this.__cbOnceTabsBackgroundColorChange&&(this.__cbOnceTabsBackgroundColorChange=[]),this.__cbOnceTabsBackgroundColorChange.push(t)},offTabsBackgroundColorChange:function(e){if(null!=e){var n;null!=this.__cbOnTabsBackgroundColorChange&&-1!=(n=this.__cbOnTabsBackgroundColorChange.indexOf(e))&&(this.__cbOnTabsBackgroundColorChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindTabsBackgroundColorChange[n])&&r(),this.__cbOnOwnerUnbindTabsBackgroundColorChange.splice(n,1)),null!=this.__cbOnceTabsBackgroundColorChange&&-1!=(n=this.__cbOnceTabsBackgroundColorChange.indexOf(e))&&(this.__cbOnceTabsBackgroundColorChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindTabsBackgroundColorChange[n])&&r(),this.__cbOnceOwnerUnbindTabsBackgroundColorChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindTabsBackgroundColorChange){for(var t=0,i=this.__cbOnOwnerUnbindTabsBackgroundColorChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindTabsBackgroundColorChange[l])&&r()}this.__cbOnOwnerUnbindTabsBackgroundColorChange=null}if(null!=this.__cbOnceOwnerUnbindTabsBackgroundColorChange){for(t=0,i=this.__cbOnceOwnerUnbindTabsBackgroundColorChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindTabsBackgroundColorChange[l])&&r()}this.__cbOnceOwnerUnbindTabsBackgroundColorChange=null}this.__cbOnTabsBackgroundColorChange=null,this.__cbOnceTabsBackgroundColorChange=null}},listensTabsBackgroundColorChange:function(){return null!=this.__cbOnTabsBackgroundColorChange&&0<this.__cbOnTabsBackgroundColorChange.length||null!=this.__cbOnceTabsBackgroundColorChange&&0<this.__cbOnceTabsBackgroundColorChange.length},tabsBackgroundAlphaAutoruns:null,get_tabsBackgroundAlpha:function(){var e,n,t=this.unobservedTabsBackgroundAlpha;return null!=U.current&&(e=U.current,null!=(n=this.tabsBackgroundAlphaAutoruns)||(n=U.getAutorunArray(),null!=(this.tabsBackgroundAlphaAutoruns=n)))&&e.bindToAutorunArray(n),t},set_tabsBackgroundAlpha:function(e){var n=this.unobservedTabsBackgroundAlpha;return n!=(this.unobservedTabsBackgroundAlpha=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!0)),this.emitTabsBackgroundAlphaChange(e,n),null!=(n=this.tabsBackgroundAlphaAutoruns))&&(this.tabsBackgroundAlphaAutoruns=null,U.invalidateAutorunArray(n)),e},invalidateTabsBackgroundAlpha:function(){var e=this.unobservedTabsBackgroundAlpha,e=(this.emitTabsBackgroundAlphaChange(e,e),this.tabsBackgroundAlphaAutoruns);null!=e&&(this.tabsBackgroundAlphaAutoruns=null,U.invalidateAutorunArray(e))},unobservedTabsBackgroundAlpha:null,__cbOnTabsBackgroundAlphaChange:null,__cbOnceTabsBackgroundAlphaChange:null,__cbOnOwnerUnbindTabsBackgroundAlphaChange:null,__cbOnceOwnerUnbindTabsBackgroundAlphaChange:null,emitTabsBackgroundAlphaChange:function(e,n){var t=0;if(null!=this.__cbOnTabsBackgroundAlphaChange&&(t+=this.__cbOnTabsBackgroundAlphaChange.length),null!=this.__cbOnceTabsBackgroundAlphaChange&&(t+=this.__cbOnceTabsBackgroundAlphaChange.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnTabsBackgroundAlphaChange)for(var s=0,h=this.__cbOnTabsBackgroundAlphaChange.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnTabsBackgroundAlphaChange[a],++r):--t}if(null!=this.__cbOnceTabsBackgroundAlphaChange){for(var o=null,c=null,s=0,h=this.__cbOnceTabsBackgroundAlphaChange.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceTabsBackgroundAlphaChange[a],this.__cbOnceTabsBackgroundAlphaChange[a]=null,u=this.__cbOnceOwnerUnbindTabsBackgroundAlphaChange[a],(this.__cbOnceOwnerUnbindTabsBackgroundAlphaChange[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindTabsBackgroundAlphaChange[a]),c.push(this.__cbOnceTabsBackgroundAlphaChange[a]))}this.__cbOnceOwnerUnbindTabsBackgroundAlphaChange=o,this.__cbOnceTabsBackgroundAlphaChange=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onTabsBackgroundAlphaChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event tabsBackgroundAlphaChange because owner is destroyed!");var l=function(e){null!=t&&(i.offTabsBackgroundAlphaChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindTabsBackgroundAlphaChange&&(this.__cbOnOwnerUnbindTabsBackgroundAlphaChange=[]),this.__cbOnOwnerUnbindTabsBackgroundAlphaChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindTabsBackgroundAlphaChange&&(this.__cbOnOwnerUnbindTabsBackgroundAlphaChange=[]),this.__cbOnOwnerUnbindTabsBackgroundAlphaChange.push(null);null==this.__cbOnTabsBackgroundAlphaChange&&(this.__cbOnTabsBackgroundAlphaChange=[]),this.__cbOnTabsBackgroundAlphaChange.push(t)},onceTabsBackgroundAlphaChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event tabsBackgroundAlphaChange because owner is destroyed!");var l=function(e){null!=t&&(i.offTabsBackgroundAlphaChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindTabsBackgroundAlphaChange&&(this.__cbOnceOwnerUnbindTabsBackgroundAlphaChange=[]),this.__cbOnceOwnerUnbindTabsBackgroundAlphaChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindTabsBackgroundAlphaChange&&(this.__cbOnceOwnerUnbindTabsBackgroundAlphaChange=[]),this.__cbOnceOwnerUnbindTabsBackgroundAlphaChange.push(null);null==this.__cbOnceTabsBackgroundAlphaChange&&(this.__cbOnceTabsBackgroundAlphaChange=[]),this.__cbOnceTabsBackgroundAlphaChange.push(t)},offTabsBackgroundAlphaChange:function(e){if(null!=e){var n;null!=this.__cbOnTabsBackgroundAlphaChange&&-1!=(n=this.__cbOnTabsBackgroundAlphaChange.indexOf(e))&&(this.__cbOnTabsBackgroundAlphaChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindTabsBackgroundAlphaChange[n])&&r(),this.__cbOnOwnerUnbindTabsBackgroundAlphaChange.splice(n,1)),null!=this.__cbOnceTabsBackgroundAlphaChange&&-1!=(n=this.__cbOnceTabsBackgroundAlphaChange.indexOf(e))&&(this.__cbOnceTabsBackgroundAlphaChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindTabsBackgroundAlphaChange[n])&&r(),this.__cbOnceOwnerUnbindTabsBackgroundAlphaChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindTabsBackgroundAlphaChange){for(var t=0,i=this.__cbOnOwnerUnbindTabsBackgroundAlphaChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindTabsBackgroundAlphaChange[l])&&r()}this.__cbOnOwnerUnbindTabsBackgroundAlphaChange=null}if(null!=this.__cbOnceOwnerUnbindTabsBackgroundAlphaChange){for(t=0,i=this.__cbOnceOwnerUnbindTabsBackgroundAlphaChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindTabsBackgroundAlphaChange[l])&&r()}this.__cbOnceOwnerUnbindTabsBackgroundAlphaChange=null}this.__cbOnTabsBackgroundAlphaChange=null,this.__cbOnceTabsBackgroundAlphaChange=null}},listensTabsBackgroundAlphaChange:function(){return null!=this.__cbOnTabsBackgroundAlphaChange&&0<this.__cbOnTabsBackgroundAlphaChange.length||null!=this.__cbOnceTabsBackgroundAlphaChange&&0<this.__cbOnceTabsBackgroundAlphaChange.length},tabsHoverBackgroundColorAutoruns:null,get_tabsHoverBackgroundColor:function(){var e,n,t=this.unobservedTabsHoverBackgroundColor;return null!=U.current&&(e=U.current,null!=(n=this.tabsHoverBackgroundColorAutoruns)||(n=U.getAutorunArray(),null!=(this.tabsHoverBackgroundColorAutoruns=n)))&&e.bindToAutorunArray(n),t},set_tabsHoverBackgroundColor:function(e){var n=this.unobservedTabsHoverBackgroundColor;return n!=(this.unobservedTabsHoverBackgroundColor=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!0)),this.emitTabsHoverBackgroundColorChange(e,n),null!=(n=this.tabsHoverBackgroundColorAutoruns))&&(this.tabsHoverBackgroundColorAutoruns=null,U.invalidateAutorunArray(n)),e},invalidateTabsHoverBackgroundColor:function(){var e=this.unobservedTabsHoverBackgroundColor,e=(this.emitTabsHoverBackgroundColorChange(e,e),this.tabsHoverBackgroundColorAutoruns);null!=e&&(this.tabsHoverBackgroundColorAutoruns=null,U.invalidateAutorunArray(e))},unobservedTabsHoverBackgroundColor:null,__cbOnTabsHoverBackgroundColorChange:null,__cbOnceTabsHoverBackgroundColorChange:null,__cbOnOwnerUnbindTabsHoverBackgroundColorChange:null,__cbOnceOwnerUnbindTabsHoverBackgroundColorChange:null,emitTabsHoverBackgroundColorChange:function(e,n){var t=0;if(null!=this.__cbOnTabsHoverBackgroundColorChange&&(t+=this.__cbOnTabsHoverBackgroundColorChange.length),null!=this.__cbOnceTabsHoverBackgroundColorChange&&(t+=this.__cbOnceTabsHoverBackgroundColorChange.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnTabsHoverBackgroundColorChange)for(var s=0,h=this.__cbOnTabsHoverBackgroundColorChange.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnTabsHoverBackgroundColorChange[a],++r):--t}if(null!=this.__cbOnceTabsHoverBackgroundColorChange){for(var o=null,c=null,s=0,h=this.__cbOnceTabsHoverBackgroundColorChange.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceTabsHoverBackgroundColorChange[a],this.__cbOnceTabsHoverBackgroundColorChange[a]=null,u=this.__cbOnceOwnerUnbindTabsHoverBackgroundColorChange[a],(this.__cbOnceOwnerUnbindTabsHoverBackgroundColorChange[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindTabsHoverBackgroundColorChange[a]),c.push(this.__cbOnceTabsHoverBackgroundColorChange[a]))}this.__cbOnceOwnerUnbindTabsHoverBackgroundColorChange=o,this.__cbOnceTabsHoverBackgroundColorChange=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onTabsHoverBackgroundColorChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event tabsHoverBackgroundColorChange because owner is destroyed!");var l=function(e){null!=t&&(i.offTabsHoverBackgroundColorChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindTabsHoverBackgroundColorChange&&(this.__cbOnOwnerUnbindTabsHoverBackgroundColorChange=[]),this.__cbOnOwnerUnbindTabsHoverBackgroundColorChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindTabsHoverBackgroundColorChange&&(this.__cbOnOwnerUnbindTabsHoverBackgroundColorChange=[]),this.__cbOnOwnerUnbindTabsHoverBackgroundColorChange.push(null);null==this.__cbOnTabsHoverBackgroundColorChange&&(this.__cbOnTabsHoverBackgroundColorChange=[]),this.__cbOnTabsHoverBackgroundColorChange.push(t)},onceTabsHoverBackgroundColorChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event tabsHoverBackgroundColorChange because owner is destroyed!");var l=function(e){null!=t&&(i.offTabsHoverBackgroundColorChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindTabsHoverBackgroundColorChange&&(this.__cbOnceOwnerUnbindTabsHoverBackgroundColorChange=[]),this.__cbOnceOwnerUnbindTabsHoverBackgroundColorChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindTabsHoverBackgroundColorChange&&(this.__cbOnceOwnerUnbindTabsHoverBackgroundColorChange=[]),this.__cbOnceOwnerUnbindTabsHoverBackgroundColorChange.push(null);null==this.__cbOnceTabsHoverBackgroundColorChange&&(this.__cbOnceTabsHoverBackgroundColorChange=[]),this.__cbOnceTabsHoverBackgroundColorChange.push(t)},offTabsHoverBackgroundColorChange:function(e){if(null!=e){var n;null!=this.__cbOnTabsHoverBackgroundColorChange&&-1!=(n=this.__cbOnTabsHoverBackgroundColorChange.indexOf(e))&&(this.__cbOnTabsHoverBackgroundColorChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindTabsHoverBackgroundColorChange[n])&&r(),this.__cbOnOwnerUnbindTabsHoverBackgroundColorChange.splice(n,1)),null!=this.__cbOnceTabsHoverBackgroundColorChange&&-1!=(n=this.__cbOnceTabsHoverBackgroundColorChange.indexOf(e))&&(this.__cbOnceTabsHoverBackgroundColorChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindTabsHoverBackgroundColorChange[n])&&r(),this.__cbOnceOwnerUnbindTabsHoverBackgroundColorChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindTabsHoverBackgroundColorChange){for(var t=0,i=this.__cbOnOwnerUnbindTabsHoverBackgroundColorChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindTabsHoverBackgroundColorChange[l])&&r()}this.__cbOnOwnerUnbindTabsHoverBackgroundColorChange=null}if(null!=this.__cbOnceOwnerUnbindTabsHoverBackgroundColorChange){for(t=0,i=this.__cbOnceOwnerUnbindTabsHoverBackgroundColorChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindTabsHoverBackgroundColorChange[l])&&r()}this.__cbOnceOwnerUnbindTabsHoverBackgroundColorChange=null}this.__cbOnTabsHoverBackgroundColorChange=null,this.__cbOnceTabsHoverBackgroundColorChange=null}},listensTabsHoverBackgroundColorChange:function(){return null!=this.__cbOnTabsHoverBackgroundColorChange&&0<this.__cbOnTabsHoverBackgroundColorChange.length||null!=this.__cbOnceTabsHoverBackgroundColorChange&&0<this.__cbOnceTabsHoverBackgroundColorChange.length},tabsHoverBackgroundAlphaAutoruns:null,get_tabsHoverBackgroundAlpha:function(){var e,n,t=this.unobservedTabsHoverBackgroundAlpha;return null!=U.current&&(e=U.current,null!=(n=this.tabsHoverBackgroundAlphaAutoruns)||(n=U.getAutorunArray(),null!=(this.tabsHoverBackgroundAlphaAutoruns=n)))&&e.bindToAutorunArray(n),t},set_tabsHoverBackgroundAlpha:function(e){var n=this.unobservedTabsHoverBackgroundAlpha;return n!=(this.unobservedTabsHoverBackgroundAlpha=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!0)),this.emitTabsHoverBackgroundAlphaChange(e,n),null!=(n=this.tabsHoverBackgroundAlphaAutoruns))&&(this.tabsHoverBackgroundAlphaAutoruns=null,U.invalidateAutorunArray(n)),e},invalidateTabsHoverBackgroundAlpha:function(){var e=this.unobservedTabsHoverBackgroundAlpha,e=(this.emitTabsHoverBackgroundAlphaChange(e,e),this.tabsHoverBackgroundAlphaAutoruns);null!=e&&(this.tabsHoverBackgroundAlphaAutoruns=null,U.invalidateAutorunArray(e))},unobservedTabsHoverBackgroundAlpha:null,__cbOnTabsHoverBackgroundAlphaChange:null,__cbOnceTabsHoverBackgroundAlphaChange:null,__cbOnOwnerUnbindTabsHoverBackgroundAlphaChange:null,__cbOnceOwnerUnbindTabsHoverBackgroundAlphaChange:null,emitTabsHoverBackgroundAlphaChange:function(e,n){var t=0;if(null!=this.__cbOnTabsHoverBackgroundAlphaChange&&(t+=this.__cbOnTabsHoverBackgroundAlphaChange.length),null!=this.__cbOnceTabsHoverBackgroundAlphaChange&&(t+=this.__cbOnceTabsHoverBackgroundAlphaChange.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnTabsHoverBackgroundAlphaChange)for(var s=0,h=this.__cbOnTabsHoverBackgroundAlphaChange.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnTabsHoverBackgroundAlphaChange[a],++r):--t}if(null!=this.__cbOnceTabsHoverBackgroundAlphaChange){for(var o=null,c=null,s=0,h=this.__cbOnceTabsHoverBackgroundAlphaChange.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceTabsHoverBackgroundAlphaChange[a],this.__cbOnceTabsHoverBackgroundAlphaChange[a]=null,u=this.__cbOnceOwnerUnbindTabsHoverBackgroundAlphaChange[a],(this.__cbOnceOwnerUnbindTabsHoverBackgroundAlphaChange[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindTabsHoverBackgroundAlphaChange[a]),c.push(this.__cbOnceTabsHoverBackgroundAlphaChange[a]))}this.__cbOnceOwnerUnbindTabsHoverBackgroundAlphaChange=o,this.__cbOnceTabsHoverBackgroundAlphaChange=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onTabsHoverBackgroundAlphaChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event tabsHoverBackgroundAlphaChange because owner is destroyed!");var l=function(e){null!=t&&(i.offTabsHoverBackgroundAlphaChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindTabsHoverBackgroundAlphaChange&&(this.__cbOnOwnerUnbindTabsHoverBackgroundAlphaChange=[]),this.__cbOnOwnerUnbindTabsHoverBackgroundAlphaChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindTabsHoverBackgroundAlphaChange&&(this.__cbOnOwnerUnbindTabsHoverBackgroundAlphaChange=[]),this.__cbOnOwnerUnbindTabsHoverBackgroundAlphaChange.push(null);null==this.__cbOnTabsHoverBackgroundAlphaChange&&(this.__cbOnTabsHoverBackgroundAlphaChange=[]),this.__cbOnTabsHoverBackgroundAlphaChange.push(t)},onceTabsHoverBackgroundAlphaChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event tabsHoverBackgroundAlphaChange because owner is destroyed!");var l=function(e){null!=t&&(i.offTabsHoverBackgroundAlphaChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindTabsHoverBackgroundAlphaChange&&(this.__cbOnceOwnerUnbindTabsHoverBackgroundAlphaChange=[]),this.__cbOnceOwnerUnbindTabsHoverBackgroundAlphaChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindTabsHoverBackgroundAlphaChange&&(this.__cbOnceOwnerUnbindTabsHoverBackgroundAlphaChange=[]),this.__cbOnceOwnerUnbindTabsHoverBackgroundAlphaChange.push(null);null==this.__cbOnceTabsHoverBackgroundAlphaChange&&(this.__cbOnceTabsHoverBackgroundAlphaChange=[]),this.__cbOnceTabsHoverBackgroundAlphaChange.push(t)},offTabsHoverBackgroundAlphaChange:function(e){if(null!=e){var n;null!=this.__cbOnTabsHoverBackgroundAlphaChange&&-1!=(n=this.__cbOnTabsHoverBackgroundAlphaChange.indexOf(e))&&(this.__cbOnTabsHoverBackgroundAlphaChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindTabsHoverBackgroundAlphaChange[n])&&r(),this.__cbOnOwnerUnbindTabsHoverBackgroundAlphaChange.splice(n,1)),null!=this.__cbOnceTabsHoverBackgroundAlphaChange&&-1!=(n=this.__cbOnceTabsHoverBackgroundAlphaChange.indexOf(e))&&(this.__cbOnceTabsHoverBackgroundAlphaChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindTabsHoverBackgroundAlphaChange[n])&&r(),this.__cbOnceOwnerUnbindTabsHoverBackgroundAlphaChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindTabsHoverBackgroundAlphaChange){for(var t=0,i=this.__cbOnOwnerUnbindTabsHoverBackgroundAlphaChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindTabsHoverBackgroundAlphaChange[l])&&r()}this.__cbOnOwnerUnbindTabsHoverBackgroundAlphaChange=null}if(null!=this.__cbOnceOwnerUnbindTabsHoverBackgroundAlphaChange){for(t=0,i=this.__cbOnceOwnerUnbindTabsHoverBackgroundAlphaChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindTabsHoverBackgroundAlphaChange[l])&&r()}this.__cbOnceOwnerUnbindTabsHoverBackgroundAlphaChange=null}this.__cbOnTabsHoverBackgroundAlphaChange=null,this.__cbOnceTabsHoverBackgroundAlphaChange=null}},listensTabsHoverBackgroundAlphaChange:function(){return null!=this.__cbOnTabsHoverBackgroundAlphaChange&&0<this.__cbOnTabsHoverBackgroundAlphaChange.length||null!=this.__cbOnceTabsHoverBackgroundAlphaChange&&0<this.__cbOnceTabsHoverBackgroundAlphaChange.length},tabsBorderColorAutoruns:null,get_tabsBorderColor:function(){var e,n,t=this.unobservedTabsBorderColor;return null!=U.current&&(e=U.current,null!=(n=this.tabsBorderColorAutoruns)||(n=U.getAutorunArray(),null!=(this.tabsBorderColorAutoruns=n)))&&e.bindToAutorunArray(n),t},set_tabsBorderColor:function(e){var n=this.unobservedTabsBorderColor;return n!=(this.unobservedTabsBorderColor=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!0)),this.emitTabsBorderColorChange(e,n),null!=(n=this.tabsBorderColorAutoruns))&&(this.tabsBorderColorAutoruns=null,U.invalidateAutorunArray(n)),e},invalidateTabsBorderColor:function(){var e=this.unobservedTabsBorderColor,e=(this.emitTabsBorderColorChange(e,e),this.tabsBorderColorAutoruns);null!=e&&(this.tabsBorderColorAutoruns=null,U.invalidateAutorunArray(e))},unobservedTabsBorderColor:null,__cbOnTabsBorderColorChange:null,__cbOnceTabsBorderColorChange:null,__cbOnOwnerUnbindTabsBorderColorChange:null,__cbOnceOwnerUnbindTabsBorderColorChange:null,emitTabsBorderColorChange:function(e,n){var t=0;if(null!=this.__cbOnTabsBorderColorChange&&(t+=this.__cbOnTabsBorderColorChange.length),null!=this.__cbOnceTabsBorderColorChange&&(t+=this.__cbOnceTabsBorderColorChange.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnTabsBorderColorChange)for(var s=0,h=this.__cbOnTabsBorderColorChange.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnTabsBorderColorChange[a],++r):--t}if(null!=this.__cbOnceTabsBorderColorChange){for(var o=null,c=null,s=0,h=this.__cbOnceTabsBorderColorChange.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceTabsBorderColorChange[a],this.__cbOnceTabsBorderColorChange[a]=null,u=this.__cbOnceOwnerUnbindTabsBorderColorChange[a],(this.__cbOnceOwnerUnbindTabsBorderColorChange[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindTabsBorderColorChange[a]),c.push(this.__cbOnceTabsBorderColorChange[a]))}this.__cbOnceOwnerUnbindTabsBorderColorChange=o,this.__cbOnceTabsBorderColorChange=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onTabsBorderColorChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event tabsBorderColorChange because owner is destroyed!");var l=function(e){null!=t&&(i.offTabsBorderColorChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindTabsBorderColorChange&&(this.__cbOnOwnerUnbindTabsBorderColorChange=[]),this.__cbOnOwnerUnbindTabsBorderColorChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindTabsBorderColorChange&&(this.__cbOnOwnerUnbindTabsBorderColorChange=[]),this.__cbOnOwnerUnbindTabsBorderColorChange.push(null);null==this.__cbOnTabsBorderColorChange&&(this.__cbOnTabsBorderColorChange=[]),this.__cbOnTabsBorderColorChange.push(t)},onceTabsBorderColorChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event tabsBorderColorChange because owner is destroyed!");var l=function(e){null!=t&&(i.offTabsBorderColorChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindTabsBorderColorChange&&(this.__cbOnceOwnerUnbindTabsBorderColorChange=[]),this.__cbOnceOwnerUnbindTabsBorderColorChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindTabsBorderColorChange&&(this.__cbOnceOwnerUnbindTabsBorderColorChange=[]),this.__cbOnceOwnerUnbindTabsBorderColorChange.push(null);null==this.__cbOnceTabsBorderColorChange&&(this.__cbOnceTabsBorderColorChange=[]),this.__cbOnceTabsBorderColorChange.push(t)},offTabsBorderColorChange:function(e){if(null!=e){var n;null!=this.__cbOnTabsBorderColorChange&&-1!=(n=this.__cbOnTabsBorderColorChange.indexOf(e))&&(this.__cbOnTabsBorderColorChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindTabsBorderColorChange[n])&&r(),this.__cbOnOwnerUnbindTabsBorderColorChange.splice(n,1)),null!=this.__cbOnceTabsBorderColorChange&&-1!=(n=this.__cbOnceTabsBorderColorChange.indexOf(e))&&(this.__cbOnceTabsBorderColorChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindTabsBorderColorChange[n])&&r(),this.__cbOnceOwnerUnbindTabsBorderColorChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindTabsBorderColorChange){for(var t=0,i=this.__cbOnOwnerUnbindTabsBorderColorChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindTabsBorderColorChange[l])&&r()}this.__cbOnOwnerUnbindTabsBorderColorChange=null}if(null!=this.__cbOnceOwnerUnbindTabsBorderColorChange){for(t=0,i=this.__cbOnceOwnerUnbindTabsBorderColorChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindTabsBorderColorChange[l])&&r()}this.__cbOnceOwnerUnbindTabsBorderColorChange=null}this.__cbOnTabsBorderColorChange=null,this.__cbOnceTabsBorderColorChange=null}},listensTabsBorderColorChange:function(){return null!=this.__cbOnTabsBorderColorChange&&0<this.__cbOnTabsBorderColorChange.length||null!=this.__cbOnceTabsBorderColorChange&&0<this.__cbOnceTabsBorderColorChange.length},disabledTabTextAlphaAutoruns:null,get_disabledTabTextAlpha:function(){var e,n,t=this.unobservedDisabledTabTextAlpha;return null!=U.current&&(e=U.current,null!=(n=this.disabledTabTextAlphaAutoruns)||(n=U.getAutorunArray(),null!=(this.disabledTabTextAlphaAutoruns=n)))&&e.bindToAutorunArray(n),t},set_disabledTabTextAlpha:function(e){var n=this.unobservedDisabledTabTextAlpha;return n!=(this.unobservedDisabledTabTextAlpha=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!0)),this.emitDisabledTabTextAlphaChange(e,n),null!=(n=this.disabledTabTextAlphaAutoruns))&&(this.disabledTabTextAlphaAutoruns=null,U.invalidateAutorunArray(n)),e},invalidateDisabledTabTextAlpha:function(){var e=this.unobservedDisabledTabTextAlpha,e=(this.emitDisabledTabTextAlphaChange(e,e),this.disabledTabTextAlphaAutoruns);null!=e&&(this.disabledTabTextAlphaAutoruns=null,U.invalidateAutorunArray(e))},unobservedDisabledTabTextAlpha:null,__cbOnDisabledTabTextAlphaChange:null,__cbOnceDisabledTabTextAlphaChange:null,__cbOnOwnerUnbindDisabledTabTextAlphaChange:null,__cbOnceOwnerUnbindDisabledTabTextAlphaChange:null,emitDisabledTabTextAlphaChange:function(e,n){var t=0;if(null!=this.__cbOnDisabledTabTextAlphaChange&&(t+=this.__cbOnDisabledTabTextAlphaChange.length),null!=this.__cbOnceDisabledTabTextAlphaChange&&(t+=this.__cbOnceDisabledTabTextAlphaChange.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnDisabledTabTextAlphaChange)for(var s=0,h=this.__cbOnDisabledTabTextAlphaChange.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnDisabledTabTextAlphaChange[a],++r):--t}if(null!=this.__cbOnceDisabledTabTextAlphaChange){for(var o=null,c=null,s=0,h=this.__cbOnceDisabledTabTextAlphaChange.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceDisabledTabTextAlphaChange[a],this.__cbOnceDisabledTabTextAlphaChange[a]=null,u=this.__cbOnceOwnerUnbindDisabledTabTextAlphaChange[a],(this.__cbOnceOwnerUnbindDisabledTabTextAlphaChange[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindDisabledTabTextAlphaChange[a]),c.push(this.__cbOnceDisabledTabTextAlphaChange[a]))}this.__cbOnceOwnerUnbindDisabledTabTextAlphaChange=o,this.__cbOnceDisabledTabTextAlphaChange=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onDisabledTabTextAlphaChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event disabledTabTextAlphaChange because owner is destroyed!");var l=function(e){null!=t&&(i.offDisabledTabTextAlphaChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindDisabledTabTextAlphaChange&&(this.__cbOnOwnerUnbindDisabledTabTextAlphaChange=[]),this.__cbOnOwnerUnbindDisabledTabTextAlphaChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindDisabledTabTextAlphaChange&&(this.__cbOnOwnerUnbindDisabledTabTextAlphaChange=[]),this.__cbOnOwnerUnbindDisabledTabTextAlphaChange.push(null);null==this.__cbOnDisabledTabTextAlphaChange&&(this.__cbOnDisabledTabTextAlphaChange=[]),this.__cbOnDisabledTabTextAlphaChange.push(t)},onceDisabledTabTextAlphaChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event disabledTabTextAlphaChange because owner is destroyed!");var l=function(e){null!=t&&(i.offDisabledTabTextAlphaChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindDisabledTabTextAlphaChange&&(this.__cbOnceOwnerUnbindDisabledTabTextAlphaChange=[]),this.__cbOnceOwnerUnbindDisabledTabTextAlphaChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindDisabledTabTextAlphaChange&&(this.__cbOnceOwnerUnbindDisabledTabTextAlphaChange=[]),this.__cbOnceOwnerUnbindDisabledTabTextAlphaChange.push(null);null==this.__cbOnceDisabledTabTextAlphaChange&&(this.__cbOnceDisabledTabTextAlphaChange=[]),this.__cbOnceDisabledTabTextAlphaChange.push(t)},offDisabledTabTextAlphaChange:function(e){if(null!=e){var n;null!=this.__cbOnDisabledTabTextAlphaChange&&-1!=(n=this.__cbOnDisabledTabTextAlphaChange.indexOf(e))&&(this.__cbOnDisabledTabTextAlphaChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindDisabledTabTextAlphaChange[n])&&r(),this.__cbOnOwnerUnbindDisabledTabTextAlphaChange.splice(n,1)),null!=this.__cbOnceDisabledTabTextAlphaChange&&-1!=(n=this.__cbOnceDisabledTabTextAlphaChange.indexOf(e))&&(this.__cbOnceDisabledTabTextAlphaChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindDisabledTabTextAlphaChange[n])&&r(),this.__cbOnceOwnerUnbindDisabledTabTextAlphaChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindDisabledTabTextAlphaChange){for(var t=0,i=this.__cbOnOwnerUnbindDisabledTabTextAlphaChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindDisabledTabTextAlphaChange[l])&&r()}this.__cbOnOwnerUnbindDisabledTabTextAlphaChange=null}if(null!=this.__cbOnceOwnerUnbindDisabledTabTextAlphaChange){for(t=0,i=this.__cbOnceOwnerUnbindDisabledTabTextAlphaChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindDisabledTabTextAlphaChange[l])&&r()}this.__cbOnceOwnerUnbindDisabledTabTextAlphaChange=null}this.__cbOnDisabledTabTextAlphaChange=null,this.__cbOnceDisabledTabTextAlphaChange=null}},listensDisabledTabTextAlphaChange:function(){return null!=this.__cbOnDisabledTabTextAlphaChange&&0<this.__cbOnDisabledTabTextAlphaChange.length||null!=this.__cbOnceDisabledTabTextAlphaChange&&0<this.__cbOnceDisabledTabTextAlphaChange.length},disabledTabBorderAlphaAutoruns:null,get_disabledTabBorderAlpha:function(){var e,n,t=this.unobservedDisabledTabBorderAlpha;return null!=U.current&&(e=U.current,null!=(n=this.disabledTabBorderAlphaAutoruns)||(n=U.getAutorunArray(),null!=(this.disabledTabBorderAlphaAutoruns=n)))&&e.bindToAutorunArray(n),t},set_disabledTabBorderAlpha:function(e){var n=this.unobservedDisabledTabBorderAlpha;return n!=(this.unobservedDisabledTabBorderAlpha=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!0)),this.emitDisabledTabBorderAlphaChange(e,n),null!=(n=this.disabledTabBorderAlphaAutoruns))&&(this.disabledTabBorderAlphaAutoruns=null,U.invalidateAutorunArray(n)),e},invalidateDisabledTabBorderAlpha:function(){var e=this.unobservedDisabledTabBorderAlpha,e=(this.emitDisabledTabBorderAlphaChange(e,e),this.disabledTabBorderAlphaAutoruns);null!=e&&(this.disabledTabBorderAlphaAutoruns=null,U.invalidateAutorunArray(e))},unobservedDisabledTabBorderAlpha:null,__cbOnDisabledTabBorderAlphaChange:null,__cbOnceDisabledTabBorderAlphaChange:null,__cbOnOwnerUnbindDisabledTabBorderAlphaChange:null,__cbOnceOwnerUnbindDisabledTabBorderAlphaChange:null,emitDisabledTabBorderAlphaChange:function(e,n){var t=0;if(null!=this.__cbOnDisabledTabBorderAlphaChange&&(t+=this.__cbOnDisabledTabBorderAlphaChange.length),null!=this.__cbOnceDisabledTabBorderAlphaChange&&(t+=this.__cbOnceDisabledTabBorderAlphaChange.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnDisabledTabBorderAlphaChange)for(var s=0,h=this.__cbOnDisabledTabBorderAlphaChange.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnDisabledTabBorderAlphaChange[a],++r):--t}if(null!=this.__cbOnceDisabledTabBorderAlphaChange){for(var o=null,c=null,s=0,h=this.__cbOnceDisabledTabBorderAlphaChange.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceDisabledTabBorderAlphaChange[a],this.__cbOnceDisabledTabBorderAlphaChange[a]=null,u=this.__cbOnceOwnerUnbindDisabledTabBorderAlphaChange[a],(this.__cbOnceOwnerUnbindDisabledTabBorderAlphaChange[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindDisabledTabBorderAlphaChange[a]),c.push(this.__cbOnceDisabledTabBorderAlphaChange[a]))}this.__cbOnceOwnerUnbindDisabledTabBorderAlphaChange=o,this.__cbOnceDisabledTabBorderAlphaChange=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onDisabledTabBorderAlphaChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event disabledTabBorderAlphaChange because owner is destroyed!");var l=function(e){null!=t&&(i.offDisabledTabBorderAlphaChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindDisabledTabBorderAlphaChange&&(this.__cbOnOwnerUnbindDisabledTabBorderAlphaChange=[]),this.__cbOnOwnerUnbindDisabledTabBorderAlphaChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindDisabledTabBorderAlphaChange&&(this.__cbOnOwnerUnbindDisabledTabBorderAlphaChange=[]),this.__cbOnOwnerUnbindDisabledTabBorderAlphaChange.push(null);null==this.__cbOnDisabledTabBorderAlphaChange&&(this.__cbOnDisabledTabBorderAlphaChange=[]),this.__cbOnDisabledTabBorderAlphaChange.push(t)},onceDisabledTabBorderAlphaChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event disabledTabBorderAlphaChange because owner is destroyed!");var l=function(e){null!=t&&(i.offDisabledTabBorderAlphaChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindDisabledTabBorderAlphaChange&&(this.__cbOnceOwnerUnbindDisabledTabBorderAlphaChange=[]),this.__cbOnceOwnerUnbindDisabledTabBorderAlphaChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindDisabledTabBorderAlphaChange&&(this.__cbOnceOwnerUnbindDisabledTabBorderAlphaChange=[]),this.__cbOnceOwnerUnbindDisabledTabBorderAlphaChange.push(null);null==this.__cbOnceDisabledTabBorderAlphaChange&&(this.__cbOnceDisabledTabBorderAlphaChange=[]),this.__cbOnceDisabledTabBorderAlphaChange.push(t)},offDisabledTabBorderAlphaChange:function(e){if(null!=e){var n;null!=this.__cbOnDisabledTabBorderAlphaChange&&-1!=(n=this.__cbOnDisabledTabBorderAlphaChange.indexOf(e))&&(this.__cbOnDisabledTabBorderAlphaChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindDisabledTabBorderAlphaChange[n])&&r(),this.__cbOnOwnerUnbindDisabledTabBorderAlphaChange.splice(n,1)),null!=this.__cbOnceDisabledTabBorderAlphaChange&&-1!=(n=this.__cbOnceDisabledTabBorderAlphaChange.indexOf(e))&&(this.__cbOnceDisabledTabBorderAlphaChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindDisabledTabBorderAlphaChange[n])&&r(),this.__cbOnceOwnerUnbindDisabledTabBorderAlphaChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindDisabledTabBorderAlphaChange){for(var t=0,i=this.__cbOnOwnerUnbindDisabledTabBorderAlphaChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindDisabledTabBorderAlphaChange[l])&&r()}this.__cbOnOwnerUnbindDisabledTabBorderAlphaChange=null}if(null!=this.__cbOnceOwnerUnbindDisabledTabBorderAlphaChange){for(t=0,i=this.__cbOnceOwnerUnbindDisabledTabBorderAlphaChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindDisabledTabBorderAlphaChange[l])&&r()}this.__cbOnceOwnerUnbindDisabledTabBorderAlphaChange=null}this.__cbOnDisabledTabBorderAlphaChange=null,this.__cbOnceDisabledTabBorderAlphaChange=null}},listensDisabledTabBorderAlphaChange:function(){return null!=this.__cbOnDisabledTabBorderAlphaChange&&0<this.__cbOnDisabledTabBorderAlphaChange.length||null!=this.__cbOnceDisabledTabBorderAlphaChange&&0<this.__cbOnceDisabledTabBorderAlphaChange.length},windowBackgroundColorAutoruns:null,get_windowBackgroundColor:function(){var e,n,t=this.unobservedWindowBackgroundColor;return null!=U.current&&(e=U.current,null!=(n=this.windowBackgroundColorAutoruns)||(n=U.getAutorunArray(),null!=(this.windowBackgroundColorAutoruns=n)))&&e.bindToAutorunArray(n),t},set_windowBackgroundColor:function(e){var n=this.unobservedWindowBackgroundColor;return n!=(this.unobservedWindowBackgroundColor=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!0)),this.emitWindowBackgroundColorChange(e,n),null!=(n=this.windowBackgroundColorAutoruns))&&(this.windowBackgroundColorAutoruns=null,U.invalidateAutorunArray(n)),e},invalidateWindowBackgroundColor:function(){var e=this.unobservedWindowBackgroundColor,e=(this.emitWindowBackgroundColorChange(e,e),this.windowBackgroundColorAutoruns);null!=e&&(this.windowBackgroundColorAutoruns=null,U.invalidateAutorunArray(e))},unobservedWindowBackgroundColor:null,__cbOnWindowBackgroundColorChange:null,__cbOnceWindowBackgroundColorChange:null,__cbOnOwnerUnbindWindowBackgroundColorChange:null,__cbOnceOwnerUnbindWindowBackgroundColorChange:null,emitWindowBackgroundColorChange:function(e,n){var t=0;if(null!=this.__cbOnWindowBackgroundColorChange&&(t+=this.__cbOnWindowBackgroundColorChange.length),null!=this.__cbOnceWindowBackgroundColorChange&&(t+=this.__cbOnceWindowBackgroundColorChange.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnWindowBackgroundColorChange)for(var s=0,h=this.__cbOnWindowBackgroundColorChange.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnWindowBackgroundColorChange[a],++r):--t}if(null!=this.__cbOnceWindowBackgroundColorChange){for(var o=null,c=null,s=0,h=this.__cbOnceWindowBackgroundColorChange.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceWindowBackgroundColorChange[a],this.__cbOnceWindowBackgroundColorChange[a]=null,u=this.__cbOnceOwnerUnbindWindowBackgroundColorChange[a],(this.__cbOnceOwnerUnbindWindowBackgroundColorChange[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindWindowBackgroundColorChange[a]),c.push(this.__cbOnceWindowBackgroundColorChange[a]))}this.__cbOnceOwnerUnbindWindowBackgroundColorChange=o,this.__cbOnceWindowBackgroundColorChange=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onWindowBackgroundColorChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event windowBackgroundColorChange because owner is destroyed!");var l=function(e){null!=t&&(i.offWindowBackgroundColorChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindWindowBackgroundColorChange&&(this.__cbOnOwnerUnbindWindowBackgroundColorChange=[]),this.__cbOnOwnerUnbindWindowBackgroundColorChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindWindowBackgroundColorChange&&(this.__cbOnOwnerUnbindWindowBackgroundColorChange=[]),this.__cbOnOwnerUnbindWindowBackgroundColorChange.push(null);null==this.__cbOnWindowBackgroundColorChange&&(this.__cbOnWindowBackgroundColorChange=[]),this.__cbOnWindowBackgroundColorChange.push(t)},onceWindowBackgroundColorChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event windowBackgroundColorChange because owner is destroyed!");var l=function(e){null!=t&&(i.offWindowBackgroundColorChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindWindowBackgroundColorChange&&(this.__cbOnceOwnerUnbindWindowBackgroundColorChange=[]),this.__cbOnceOwnerUnbindWindowBackgroundColorChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindWindowBackgroundColorChange&&(this.__cbOnceOwnerUnbindWindowBackgroundColorChange=[]),this.__cbOnceOwnerUnbindWindowBackgroundColorChange.push(null);null==this.__cbOnceWindowBackgroundColorChange&&(this.__cbOnceWindowBackgroundColorChange=[]),this.__cbOnceWindowBackgroundColorChange.push(t)},offWindowBackgroundColorChange:function(e){if(null!=e){var n;null!=this.__cbOnWindowBackgroundColorChange&&-1!=(n=this.__cbOnWindowBackgroundColorChange.indexOf(e))&&(this.__cbOnWindowBackgroundColorChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindWindowBackgroundColorChange[n])&&r(),this.__cbOnOwnerUnbindWindowBackgroundColorChange.splice(n,1)),null!=this.__cbOnceWindowBackgroundColorChange&&-1!=(n=this.__cbOnceWindowBackgroundColorChange.indexOf(e))&&(this.__cbOnceWindowBackgroundColorChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindWindowBackgroundColorChange[n])&&r(),this.__cbOnceOwnerUnbindWindowBackgroundColorChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindWindowBackgroundColorChange){for(var t=0,i=this.__cbOnOwnerUnbindWindowBackgroundColorChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindWindowBackgroundColorChange[l])&&r()}this.__cbOnOwnerUnbindWindowBackgroundColorChange=null}if(null!=this.__cbOnceOwnerUnbindWindowBackgroundColorChange){for(t=0,i=this.__cbOnceOwnerUnbindWindowBackgroundColorChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindWindowBackgroundColorChange[l])&&r()}this.__cbOnceOwnerUnbindWindowBackgroundColorChange=null}this.__cbOnWindowBackgroundColorChange=null,this.__cbOnceWindowBackgroundColorChange=null}},listensWindowBackgroundColorChange:function(){return null!=this.__cbOnWindowBackgroundColorChange&&0<this.__cbOnWindowBackgroundColorChange.length||null!=this.__cbOnceWindowBackgroundColorChange&&0<this.__cbOnceWindowBackgroundColorChange.length},windowBackgroundAlphaAutoruns:null,get_windowBackgroundAlpha:function(){var e,n,t=this.unobservedWindowBackgroundAlpha;return null!=U.current&&(e=U.current,null!=(n=this.windowBackgroundAlphaAutoruns)||(n=U.getAutorunArray(),null!=(this.windowBackgroundAlphaAutoruns=n)))&&e.bindToAutorunArray(n),t},set_windowBackgroundAlpha:function(e){var n=this.unobservedWindowBackgroundAlpha;return n!=(this.unobservedWindowBackgroundAlpha=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!0)),this.emitWindowBackgroundAlphaChange(e,n),null!=(n=this.windowBackgroundAlphaAutoruns))&&(this.windowBackgroundAlphaAutoruns=null,U.invalidateAutorunArray(n)),e},invalidateWindowBackgroundAlpha:function(){var e=this.unobservedWindowBackgroundAlpha,e=(this.emitWindowBackgroundAlphaChange(e,e),this.windowBackgroundAlphaAutoruns);null!=e&&(this.windowBackgroundAlphaAutoruns=null,U.invalidateAutorunArray(e))},unobservedWindowBackgroundAlpha:null,__cbOnWindowBackgroundAlphaChange:null,__cbOnceWindowBackgroundAlphaChange:null,__cbOnOwnerUnbindWindowBackgroundAlphaChange:null,__cbOnceOwnerUnbindWindowBackgroundAlphaChange:null,emitWindowBackgroundAlphaChange:function(e,n){var t=0;if(null!=this.__cbOnWindowBackgroundAlphaChange&&(t+=this.__cbOnWindowBackgroundAlphaChange.length),null!=this.__cbOnceWindowBackgroundAlphaChange&&(t+=this.__cbOnceWindowBackgroundAlphaChange.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnWindowBackgroundAlphaChange)for(var s=0,h=this.__cbOnWindowBackgroundAlphaChange.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnWindowBackgroundAlphaChange[a],++r):--t}if(null!=this.__cbOnceWindowBackgroundAlphaChange){for(var o=null,c=null,s=0,h=this.__cbOnceWindowBackgroundAlphaChange.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceWindowBackgroundAlphaChange[a],this.__cbOnceWindowBackgroundAlphaChange[a]=null,u=this.__cbOnceOwnerUnbindWindowBackgroundAlphaChange[a],(this.__cbOnceOwnerUnbindWindowBackgroundAlphaChange[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindWindowBackgroundAlphaChange[a]),c.push(this.__cbOnceWindowBackgroundAlphaChange[a]))}this.__cbOnceOwnerUnbindWindowBackgroundAlphaChange=o,this.__cbOnceWindowBackgroundAlphaChange=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onWindowBackgroundAlphaChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event windowBackgroundAlphaChange because owner is destroyed!");var l=function(e){null!=t&&(i.offWindowBackgroundAlphaChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindWindowBackgroundAlphaChange&&(this.__cbOnOwnerUnbindWindowBackgroundAlphaChange=[]),this.__cbOnOwnerUnbindWindowBackgroundAlphaChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindWindowBackgroundAlphaChange&&(this.__cbOnOwnerUnbindWindowBackgroundAlphaChange=[]),this.__cbOnOwnerUnbindWindowBackgroundAlphaChange.push(null);null==this.__cbOnWindowBackgroundAlphaChange&&(this.__cbOnWindowBackgroundAlphaChange=[]),this.__cbOnWindowBackgroundAlphaChange.push(t)},onceWindowBackgroundAlphaChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event windowBackgroundAlphaChange because owner is destroyed!");var l=function(e){null!=t&&(i.offWindowBackgroundAlphaChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindWindowBackgroundAlphaChange&&(this.__cbOnceOwnerUnbindWindowBackgroundAlphaChange=[]),this.__cbOnceOwnerUnbindWindowBackgroundAlphaChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindWindowBackgroundAlphaChange&&(this.__cbOnceOwnerUnbindWindowBackgroundAlphaChange=[]),this.__cbOnceOwnerUnbindWindowBackgroundAlphaChange.push(null);null==this.__cbOnceWindowBackgroundAlphaChange&&(this.__cbOnceWindowBackgroundAlphaChange=[]),this.__cbOnceWindowBackgroundAlphaChange.push(t)},offWindowBackgroundAlphaChange:function(e){if(null!=e){var n;null!=this.__cbOnWindowBackgroundAlphaChange&&-1!=(n=this.__cbOnWindowBackgroundAlphaChange.indexOf(e))&&(this.__cbOnWindowBackgroundAlphaChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindWindowBackgroundAlphaChange[n])&&r(),this.__cbOnOwnerUnbindWindowBackgroundAlphaChange.splice(n,1)),null!=this.__cbOnceWindowBackgroundAlphaChange&&-1!=(n=this.__cbOnceWindowBackgroundAlphaChange.indexOf(e))&&(this.__cbOnceWindowBackgroundAlphaChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindWindowBackgroundAlphaChange[n])&&r(),this.__cbOnceOwnerUnbindWindowBackgroundAlphaChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindWindowBackgroundAlphaChange){for(var t=0,i=this.__cbOnOwnerUnbindWindowBackgroundAlphaChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindWindowBackgroundAlphaChange[l])&&r()}this.__cbOnOwnerUnbindWindowBackgroundAlphaChange=null}if(null!=this.__cbOnceOwnerUnbindWindowBackgroundAlphaChange){for(t=0,i=this.__cbOnceOwnerUnbindWindowBackgroundAlphaChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindWindowBackgroundAlphaChange[l])&&r()}this.__cbOnceOwnerUnbindWindowBackgroundAlphaChange=null}this.__cbOnWindowBackgroundAlphaChange=null,this.__cbOnceWindowBackgroundAlphaChange=null}},listensWindowBackgroundAlphaChange:function(){return null!=this.__cbOnWindowBackgroundAlphaChange&&0<this.__cbOnWindowBackgroundAlphaChange.length||null!=this.__cbOnceWindowBackgroundAlphaChange&&0<this.__cbOnceWindowBackgroundAlphaChange.length},windowBorderColorAutoruns:null,get_windowBorderColor:function(){var e,n,t=this.unobservedWindowBorderColor;return null!=U.current&&(e=U.current,null!=(n=this.windowBorderColorAutoruns)||(n=U.getAutorunArray(),null!=(this.windowBorderColorAutoruns=n)))&&e.bindToAutorunArray(n),t},set_windowBorderColor:function(e){var n=this.unobservedWindowBorderColor;return n!=(this.unobservedWindowBorderColor=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!0)),this.emitWindowBorderColorChange(e,n),null!=(n=this.windowBorderColorAutoruns))&&(this.windowBorderColorAutoruns=null,U.invalidateAutorunArray(n)),e},invalidateWindowBorderColor:function(){var e=this.unobservedWindowBorderColor,e=(this.emitWindowBorderColorChange(e,e),this.windowBorderColorAutoruns);null!=e&&(this.windowBorderColorAutoruns=null,U.invalidateAutorunArray(e))},unobservedWindowBorderColor:null,__cbOnWindowBorderColorChange:null,__cbOnceWindowBorderColorChange:null,__cbOnOwnerUnbindWindowBorderColorChange:null,__cbOnceOwnerUnbindWindowBorderColorChange:null,emitWindowBorderColorChange:function(e,n){var t=0;if(null!=this.__cbOnWindowBorderColorChange&&(t+=this.__cbOnWindowBorderColorChange.length),null!=this.__cbOnceWindowBorderColorChange&&(t+=this.__cbOnceWindowBorderColorChange.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnWindowBorderColorChange)for(var s=0,h=this.__cbOnWindowBorderColorChange.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnWindowBorderColorChange[a],++r):--t}if(null!=this.__cbOnceWindowBorderColorChange){for(var o=null,c=null,s=0,h=this.__cbOnceWindowBorderColorChange.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceWindowBorderColorChange[a],this.__cbOnceWindowBorderColorChange[a]=null,u=this.__cbOnceOwnerUnbindWindowBorderColorChange[a],(this.__cbOnceOwnerUnbindWindowBorderColorChange[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindWindowBorderColorChange[a]),c.push(this.__cbOnceWindowBorderColorChange[a]))}this.__cbOnceOwnerUnbindWindowBorderColorChange=o,this.__cbOnceWindowBorderColorChange=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onWindowBorderColorChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event windowBorderColorChange because owner is destroyed!");var l=function(e){null!=t&&(i.offWindowBorderColorChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindWindowBorderColorChange&&(this.__cbOnOwnerUnbindWindowBorderColorChange=[]),this.__cbOnOwnerUnbindWindowBorderColorChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindWindowBorderColorChange&&(this.__cbOnOwnerUnbindWindowBorderColorChange=[]),this.__cbOnOwnerUnbindWindowBorderColorChange.push(null);null==this.__cbOnWindowBorderColorChange&&(this.__cbOnWindowBorderColorChange=[]),this.__cbOnWindowBorderColorChange.push(t)},onceWindowBorderColorChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event windowBorderColorChange because owner is destroyed!");var l=function(e){null!=t&&(i.offWindowBorderColorChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindWindowBorderColorChange&&(this.__cbOnceOwnerUnbindWindowBorderColorChange=[]),this.__cbOnceOwnerUnbindWindowBorderColorChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindWindowBorderColorChange&&(this.__cbOnceOwnerUnbindWindowBorderColorChange=[]),this.__cbOnceOwnerUnbindWindowBorderColorChange.push(null);null==this.__cbOnceWindowBorderColorChange&&(this.__cbOnceWindowBorderColorChange=[]),this.__cbOnceWindowBorderColorChange.push(t)},offWindowBorderColorChange:function(e){if(null!=e){var n;null!=this.__cbOnWindowBorderColorChange&&-1!=(n=this.__cbOnWindowBorderColorChange.indexOf(e))&&(this.__cbOnWindowBorderColorChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindWindowBorderColorChange[n])&&r(),this.__cbOnOwnerUnbindWindowBorderColorChange.splice(n,1)),null!=this.__cbOnceWindowBorderColorChange&&-1!=(n=this.__cbOnceWindowBorderColorChange.indexOf(e))&&(this.__cbOnceWindowBorderColorChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindWindowBorderColorChange[n])&&r(),this.__cbOnceOwnerUnbindWindowBorderColorChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindWindowBorderColorChange){for(var t=0,i=this.__cbOnOwnerUnbindWindowBorderColorChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindWindowBorderColorChange[l])&&r()}this.__cbOnOwnerUnbindWindowBorderColorChange=null}if(null!=this.__cbOnceOwnerUnbindWindowBorderColorChange){for(t=0,i=this.__cbOnceOwnerUnbindWindowBorderColorChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindWindowBorderColorChange[l])&&r()}this.__cbOnceOwnerUnbindWindowBorderColorChange=null}this.__cbOnWindowBorderColorChange=null,this.__cbOnceWindowBorderColorChange=null}},listensWindowBorderColorChange:function(){return null!=this.__cbOnWindowBorderColorChange&&0<this.__cbOnWindowBorderColorChange.length||null!=this.__cbOnceWindowBorderColorChange&&0<this.__cbOnceWindowBorderColorChange.length},windowBorderAlphaAutoruns:null,get_windowBorderAlpha:function(){var e,n,t=this.unobservedWindowBorderAlpha;return null!=U.current&&(e=U.current,null!=(n=this.windowBorderAlphaAutoruns)||(n=U.getAutorunArray(),null!=(this.windowBorderAlphaAutoruns=n)))&&e.bindToAutorunArray(n),t},set_windowBorderAlpha:function(e){var n=this.unobservedWindowBorderAlpha;return n!=(this.unobservedWindowBorderAlpha=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!0)),this.emitWindowBorderAlphaChange(e,n),null!=(n=this.windowBorderAlphaAutoruns))&&(this.windowBorderAlphaAutoruns=null,U.invalidateAutorunArray(n)),e},invalidateWindowBorderAlpha:function(){var e=this.unobservedWindowBorderAlpha,e=(this.emitWindowBorderAlphaChange(e,e),this.windowBorderAlphaAutoruns);null!=e&&(this.windowBorderAlphaAutoruns=null,U.invalidateAutorunArray(e))},unobservedWindowBorderAlpha:null,__cbOnWindowBorderAlphaChange:null,__cbOnceWindowBorderAlphaChange:null,__cbOnOwnerUnbindWindowBorderAlphaChange:null,__cbOnceOwnerUnbindWindowBorderAlphaChange:null,emitWindowBorderAlphaChange:function(e,n){var t=0;if(null!=this.__cbOnWindowBorderAlphaChange&&(t+=this.__cbOnWindowBorderAlphaChange.length),null!=this.__cbOnceWindowBorderAlphaChange&&(t+=this.__cbOnceWindowBorderAlphaChange.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnWindowBorderAlphaChange)for(var s=0,h=this.__cbOnWindowBorderAlphaChange.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnWindowBorderAlphaChange[a],++r):--t}if(null!=this.__cbOnceWindowBorderAlphaChange){for(var o=null,c=null,s=0,h=this.__cbOnceWindowBorderAlphaChange.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceWindowBorderAlphaChange[a],this.__cbOnceWindowBorderAlphaChange[a]=null,u=this.__cbOnceOwnerUnbindWindowBorderAlphaChange[a],(this.__cbOnceOwnerUnbindWindowBorderAlphaChange[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindWindowBorderAlphaChange[a]),c.push(this.__cbOnceWindowBorderAlphaChange[a]))}this.__cbOnceOwnerUnbindWindowBorderAlphaChange=o,this.__cbOnceWindowBorderAlphaChange=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onWindowBorderAlphaChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event windowBorderAlphaChange because owner is destroyed!");var l=function(e){null!=t&&(i.offWindowBorderAlphaChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindWindowBorderAlphaChange&&(this.__cbOnOwnerUnbindWindowBorderAlphaChange=[]),this.__cbOnOwnerUnbindWindowBorderAlphaChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindWindowBorderAlphaChange&&(this.__cbOnOwnerUnbindWindowBorderAlphaChange=[]),this.__cbOnOwnerUnbindWindowBorderAlphaChange.push(null);null==this.__cbOnWindowBorderAlphaChange&&(this.__cbOnWindowBorderAlphaChange=[]),this.__cbOnWindowBorderAlphaChange.push(t)},onceWindowBorderAlphaChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event windowBorderAlphaChange because owner is destroyed!");var l=function(e){null!=t&&(i.offWindowBorderAlphaChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindWindowBorderAlphaChange&&(this.__cbOnceOwnerUnbindWindowBorderAlphaChange=[]),this.__cbOnceOwnerUnbindWindowBorderAlphaChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindWindowBorderAlphaChange&&(this.__cbOnceOwnerUnbindWindowBorderAlphaChange=[]),this.__cbOnceOwnerUnbindWindowBorderAlphaChange.push(null);null==this.__cbOnceWindowBorderAlphaChange&&(this.__cbOnceWindowBorderAlphaChange=[]),this.__cbOnceWindowBorderAlphaChange.push(t)},offWindowBorderAlphaChange:function(e){if(null!=e){var n;null!=this.__cbOnWindowBorderAlphaChange&&-1!=(n=this.__cbOnWindowBorderAlphaChange.indexOf(e))&&(this.__cbOnWindowBorderAlphaChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindWindowBorderAlphaChange[n])&&r(),this.__cbOnOwnerUnbindWindowBorderAlphaChange.splice(n,1)),null!=this.__cbOnceWindowBorderAlphaChange&&-1!=(n=this.__cbOnceWindowBorderAlphaChange.indexOf(e))&&(this.__cbOnceWindowBorderAlphaChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindWindowBorderAlphaChange[n])&&r(),this.__cbOnceOwnerUnbindWindowBorderAlphaChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindWindowBorderAlphaChange){for(var t=0,i=this.__cbOnOwnerUnbindWindowBorderAlphaChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindWindowBorderAlphaChange[l])&&r()}this.__cbOnOwnerUnbindWindowBorderAlphaChange=null}if(null!=this.__cbOnceOwnerUnbindWindowBorderAlphaChange){for(t=0,i=this.__cbOnceOwnerUnbindWindowBorderAlphaChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindWindowBorderAlphaChange[l])&&r()}this.__cbOnceOwnerUnbindWindowBorderAlphaChange=null}this.__cbOnWindowBorderAlphaChange=null,this.__cbOnceWindowBorderAlphaChange=null}},listensWindowBorderAlphaChange:function(){return null!=this.__cbOnWindowBorderAlphaChange&&0<this.__cbOnWindowBorderAlphaChange.length||null!=this.__cbOnceWindowBorderAlphaChange&&0<this.__cbOnceWindowBorderAlphaChange.length},clone:function(e){return(e=null==e?new Ii:e).set_backgroundInFormLayout(this.get_backgroundInFormLayout()),e.set_fieldTextColor(this.get_fieldTextColor()),e.set_fieldPlaceholderColor(this.get_fieldPlaceholderColor()),e.set_lightTextColor(this.get_lightTextColor()),e.set_mediumTextColor(this.get_mediumTextColor()),e.set_darkTextColor(this.get_darkTextColor()),e.set_darkerTextColor(this.get_darkerTextColor()),e.set_iconColor(this.get_iconColor()),e.set_customMediumFont(this.get_customMediumFont()),e.set_lighterBorderColor(this.get_lighterBorderColor()),e.set_lightBorderColor(this.get_lightBorderColor()),e.set_mediumBorderColor(this.get_mediumBorderColor()),e.set_darkBorderColor(this.get_darkBorderColor()),e.set_lightBackgroundColor(this.get_lightBackgroundColor()),e.set_mediumBackgroundColor(this.get_mediumBackgroundColor()),e.set_darkBackgroundColor(this.get_darkBackgroundColor()),e.set_darkerBackgroundColor(this.get_darkerBackgroundColor()),e.set_selectionBorderColor(this.get_selectionBorderColor()),e.set_highlightColor(this.get_highlightColor()),e.set_highlightPendingColor(this.get_highlightPendingColor()),e.set_formItemSpacing(this.get_formItemSpacing()),e.set_formPadding(this.get_formPadding()),e.set_tabsMarginY(this.get_tabsMarginY()),e.set_focusedFieldSelectionColor(this.get_focusedFieldSelectionColor()),e.set_focusedFieldBorderColor(this.get_focusedFieldBorderColor()),e.set_overlayBackgroundColor(this.get_overlayBackgroundColor()),e.set_overlayBackgroundAlpha(this.get_overlayBackgroundAlpha()),e.set_overlayBorderColor(this.get_overlayBorderColor()),e.set_overlayBorderAlpha(this.get_overlayBorderAlpha()),e.set_buttonBackgroundColor(this.get_buttonBackgroundColor()),e.set_buttonOverBackgroundColor(this.get_buttonOverBackgroundColor()),e.set_buttonPressedBackgroundColor(this.get_buttonPressedBackgroundColor()),e.set_buttonFocusedBorderColor(this.get_buttonFocusedBorderColor()),e.set_tabsBackgroundColor(this.get_tabsBackgroundColor()),e.set_tabsBackgroundAlpha(this.get_tabsBackgroundAlpha()),e.set_tabsHoverBackgroundColor(this.get_tabsHoverBackgroundColor()),e.set_tabsHoverBackgroundAlpha(this.get_tabsHoverBackgroundAlpha()),e.set_tabsBorderColor(this.get_tabsBorderColor()),e.set_windowBackgroundColor(this.get_windowBackgroundColor()),e.set_windowBackgroundAlpha(this.get_windowBackgroundAlpha()),e.set_windowBorderColor(this.get_windowBorderColor()),e.set_windowBorderAlpha(this.get_windowBorderAlpha()),e._clonedIndex=this._index,e},applyTint:function(e,n){null==e&&(e=te.get_context().get_theme());var t=I.get_hueHSLuv(n),i=I.get_saturationHSLuv(n),n=I.get_lightnessHSLuv(n),l=Math.max(0,Math.min(1,.5*(2*I.get_lightnessHSLuv(e.get_fieldTextColor())+n-.5))),r=0;if(I._hsluvTuple[0]=t,I._hsluvTuple[1]=100*i,I._hsluvTuple[2]=100*l,.001<l){w.hsluvToRgb(I._hsluvTuple,I._hsluvResult),(u=I._hsluvResult[0])<0&&(u=0);r=r&65535|(255<(s=Math.round(255*u))?255:s<0?0:s)<<16,(u=I._hsluvResult[1])<0&&(u=0);var s=Math.round(255*u),s=(r=r&16711935|(255<s?255:s<0?0:s)<<8,(u=I._hsluvResult[2])<0&&(u=0),Math.round(255*u));r=r&16776960|(255<s?255:s<0?0:s)}else{var h=l-(_=(1-Math.abs(2*l-1))*i)/2,a=t,o=(a%=360)/60,c=(d=_)*(1-Math.abs(o%2-1))+h;switch(d+=h,0|o){case 0:s=(r=r&65535|(255<(s=Math.round(255*d))?255:s<0?0:s)<<16,Math.round(255*c)),s=(r=r&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*h));r=r&16776960|(255<s?255:s<0?0:s);break;case 1:s=(r=r&65535|(255<(s=Math.round(255*c))?255:s<0?0:s)<<16,Math.round(255*d)),s=(r=r&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*h));r=r&16776960|(255<s?255:s<0?0:s);break;case 2:s=(r=r&65535|(255<(s=Math.round(255*h))?255:s<0?0:s)<<16,Math.round(255*d)),s=(r=r&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*c));r=r&16776960|(255<s?255:s<0?0:s);break;case 3:s=(r=r&65535|(255<(s=Math.round(255*h))?255:s<0?0:s)<<16,Math.round(255*c)),s=(r=r&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*d));r=r&16776960|(255<s?255:s<0?0:s);break;case 4:s=(r=r&65535|(255<(s=Math.round(255*c))?255:s<0?0:s)<<16,Math.round(255*h)),s=(r=r&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*d));r=r&16776960|(255<s?255:s<0?0:s);break;case 5:s=(r=r&65535|(255<(s=Math.round(255*d))?255:s<0?0:s)<<16,Math.round(255*h)),s=(r=r&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*c));r=r&16776960|(255<s?255:s<0?0:s)}}this.set_fieldTextColor(r);l=Math.max(0,Math.min(1,.5*(2*I.get_lightnessHSLuv(e.get_fieldPlaceholderColor())+n-.5))),r=0;if(I._hsluvTuple[0]=t,I._hsluvTuple[1]=100*i,I._hsluvTuple[2]=100*l,.001<l){w.hsluvToRgb(I._hsluvTuple,I._hsluvResult),(u=I._hsluvResult[0])<0&&(u=0);s=(r=r&65535|(255<(s=Math.round(255*u))?255:s<0?0:s)<<16,(u=I._hsluvResult[1])<0&&(u=0),Math.round(255*u)),s=(r=r&16711935|(255<s?255:s<0?0:s)<<8,(u=I._hsluvResult[2])<0&&(u=0),Math.round(255*u));r=r&16776960|(255<s?255:s<0?0:s)}else{h=l-(_=(1-Math.abs(2*l-1))*i)/2,a=t,o=(a%=360)/60,c=(d=_)*(1-Math.abs(o%2-1))+h;switch(d+=h,0|o){case 0:s=(r=r&65535|(255<(s=Math.round(255*d))?255:s<0?0:s)<<16,Math.round(255*c)),s=(r=r&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*h));r=r&16776960|(255<s?255:s<0?0:s);break;case 1:s=(r=r&65535|(255<(s=Math.round(255*c))?255:s<0?0:s)<<16,Math.round(255*d)),s=(r=r&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*h));r=r&16776960|(255<s?255:s<0?0:s);break;case 2:s=(r=r&65535|(255<(s=Math.round(255*h))?255:s<0?0:s)<<16,Math.round(255*d)),s=(r=r&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*c));r=r&16776960|(255<s?255:s<0?0:s);break;case 3:s=(r=r&65535|(255<(s=Math.round(255*h))?255:s<0?0:s)<<16,Math.round(255*c)),s=(r=r&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*d));r=r&16776960|(255<s?255:s<0?0:s);break;case 4:s=(r=r&65535|(255<(s=Math.round(255*c))?255:s<0?0:s)<<16,Math.round(255*h)),s=(r=r&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*d));r=r&16776960|(255<s?255:s<0?0:s);break;case 5:s=(r=r&65535|(255<(s=Math.round(255*d))?255:s<0?0:s)<<16,Math.round(255*h)),s=(r=r&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*c));r=r&16776960|(255<s?255:s<0?0:s)}}this.set_fieldPlaceholderColor(r);l=Math.max(0,Math.min(1,.5*(2*I.get_lightnessHSLuv(e.get_lightTextColor())+n-.5))),r=0;if(I._hsluvTuple[0]=t,I._hsluvTuple[1]=100*i,I._hsluvTuple[2]=100*l,.001<l){w.hsluvToRgb(I._hsluvTuple,I._hsluvResult),(u=I._hsluvResult[0])<0&&(u=0);s=(r=r&65535|(255<(s=Math.round(255*u))?255:s<0?0:s)<<16,(u=I._hsluvResult[1])<0&&(u=0),Math.round(255*u)),s=(r=r&16711935|(255<s?255:s<0?0:s)<<8,(u=I._hsluvResult[2])<0&&(u=0),Math.round(255*u));r=r&16776960|(255<s?255:s<0?0:s)}else{h=l-(_=(1-Math.abs(2*l-1))*i)/2,a=t,o=(a%=360)/60,c=(d=_)*(1-Math.abs(o%2-1))+h;switch(d+=h,0|o){case 0:s=(r=r&65535|(255<(s=Math.round(255*d))?255:s<0?0:s)<<16,Math.round(255*c)),s=(r=r&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*h));r=r&16776960|(255<s?255:s<0?0:s);break;case 1:s=(r=r&65535|(255<(s=Math.round(255*c))?255:s<0?0:s)<<16,Math.round(255*d)),s=(r=r&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*h));r=r&16776960|(255<s?255:s<0?0:s);break;case 2:s=(r=r&65535|(255<(s=Math.round(255*h))?255:s<0?0:s)<<16,Math.round(255*d)),s=(r=r&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*c));r=r&16776960|(255<s?255:s<0?0:s);break;case 3:s=(r=r&65535|(255<(s=Math.round(255*h))?255:s<0?0:s)<<16,Math.round(255*c)),s=(r=r&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*d));r=r&16776960|(255<s?255:s<0?0:s);break;case 4:s=(r=r&65535|(255<(s=Math.round(255*c))?255:s<0?0:s)<<16,Math.round(255*h)),s=(r=r&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*d));r=r&16776960|(255<s?255:s<0?0:s);break;case 5:s=(r=r&65535|(255<(s=Math.round(255*d))?255:s<0?0:s)<<16,Math.round(255*h)),s=(r=r&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*c));r=r&16776960|(255<s?255:s<0?0:s)}}this.set_lightTextColor(r);l=Math.max(0,Math.min(1,.5*(2*I.get_lightnessHSLuv(e.get_mediumTextColor())+n-.5))),r=0;if(I._hsluvTuple[0]=t,I._hsluvTuple[1]=100*i,I._hsluvTuple[2]=100*l,.001<l){w.hsluvToRgb(I._hsluvTuple,I._hsluvResult),(u=I._hsluvResult[0])<0&&(u=0);s=(r=r&65535|(255<(s=Math.round(255*u))?255:s<0?0:s)<<16,(u=I._hsluvResult[1])<0&&(u=0),Math.round(255*u)),s=(r=r&16711935|(255<s?255:s<0?0:s)<<8,(u=I._hsluvResult[2])<0&&(u=0),Math.round(255*u));r=r&16776960|(255<s?255:s<0?0:s)}else{h=l-(_=(1-Math.abs(2*l-1))*i)/2,a=t,o=(a%=360)/60,c=(d=_)*(1-Math.abs(o%2-1))+h;switch(d+=h,0|o){case 0:s=(r=r&65535|(255<(s=Math.round(255*d))?255:s<0?0:s)<<16,Math.round(255*c)),s=(r=r&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*h));r=r&16776960|(255<s?255:s<0?0:s);break;case 1:s=(r=r&65535|(255<(s=Math.round(255*c))?255:s<0?0:s)<<16,Math.round(255*d)),s=(r=r&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*h));r=r&16776960|(255<s?255:s<0?0:s);break;case 2:s=(r=r&65535|(255<(s=Math.round(255*h))?255:s<0?0:s)<<16,Math.round(255*d)),s=(r=r&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*c));r=r&16776960|(255<s?255:s<0?0:s);break;case 3:s=(r=r&65535|(255<(s=Math.round(255*h))?255:s<0?0:s)<<16,Math.round(255*c)),s=(r=r&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*d));r=r&16776960|(255<s?255:s<0?0:s);break;case 4:s=(r=r&65535|(255<(s=Math.round(255*c))?255:s<0?0:s)<<16,Math.round(255*h)),s=(r=r&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*d));r=r&16776960|(255<s?255:s<0?0:s);break;case 5:s=(r=r&65535|(255<(s=Math.round(255*d))?255:s<0?0:s)<<16,Math.round(255*h)),s=(r=r&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*c));r=r&16776960|(255<s?255:s<0?0:s)}}this.set_mediumTextColor(r);l=Math.max(0,Math.min(1,.5*(2*I.get_lightnessHSLuv(e.get_darkTextColor())+n-.5))),r=0;if(I._hsluvTuple[0]=t,I._hsluvTuple[1]=100*i,I._hsluvTuple[2]=100*l,.001<l){w.hsluvToRgb(I._hsluvTuple,I._hsluvResult),(u=I._hsluvResult[0])<0&&(u=0);s=(r=r&65535|(255<(s=Math.round(255*u))?255:s<0?0:s)<<16,(u=I._hsluvResult[1])<0&&(u=0),Math.round(255*u)),s=(r=r&16711935|(255<s?255:s<0?0:s)<<8,(u=I._hsluvResult[2])<0&&(u=0),Math.round(255*u));r=r&16776960|(255<s?255:s<0?0:s)}else{h=l-(_=(1-Math.abs(2*l-1))*i)/2,a=t,o=(a%=360)/60,c=(d=_)*(1-Math.abs(o%2-1))+h;switch(d+=h,0|o){case 0:s=(r=r&65535|(255<(s=Math.round(255*d))?255:s<0?0:s)<<16,Math.round(255*c)),s=(r=r&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*h));r=r&16776960|(255<s?255:s<0?0:s);break;case 1:s=(r=r&65535|(255<(s=Math.round(255*c))?255:s<0?0:s)<<16,Math.round(255*d)),s=(r=r&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*h));r=r&16776960|(255<s?255:s<0?0:s);break;case 2:s=(r=r&65535|(255<(s=Math.round(255*h))?255:s<0?0:s)<<16,Math.round(255*d)),s=(r=r&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*c));r=r&16776960|(255<s?255:s<0?0:s);break;case 3:s=(r=r&65535|(255<(s=Math.round(255*h))?255:s<0?0:s)<<16,Math.round(255*c)),s=(r=r&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*d));r=r&16776960|(255<s?255:s<0?0:s);break;case 4:s=(r=r&65535|(255<(s=Math.round(255*c))?255:s<0?0:s)<<16,Math.round(255*h)),s=(r=r&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*d));r=r&16776960|(255<s?255:s<0?0:s);break;case 5:s=(r=r&65535|(255<(s=Math.round(255*d))?255:s<0?0:s)<<16,Math.round(255*h)),s=(r=r&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*c));r=r&16776960|(255<s?255:s<0?0:s)}}this.set_darkTextColor(r);l=Math.max(0,Math.min(1,.5*(2*I.get_lightnessHSLuv(e.get_darkerTextColor())+n-.5))),r=0;if(I._hsluvTuple[0]=t,I._hsluvTuple[1]=100*i,I._hsluvTuple[2]=100*l,.001<l){w.hsluvToRgb(I._hsluvTuple,I._hsluvResult),(u=I._hsluvResult[0])<0&&(u=0);s=(r=r&65535|(255<(s=Math.round(255*u))?255:s<0?0:s)<<16,(u=I._hsluvResult[1])<0&&(u=0),Math.round(255*u)),s=(r=r&16711935|(255<s?255:s<0?0:s)<<8,(u=I._hsluvResult[2])<0&&(u=0),Math.round(255*u));r=r&16776960|(255<s?255:s<0?0:s)}else{h=l-(_=(1-Math.abs(2*l-1))*i)/2,a=t,o=(a%=360)/60,c=(d=_)*(1-Math.abs(o%2-1))+h;switch(d+=h,0|o){case 0:s=(r=r&65535|(255<(s=Math.round(255*d))?255:s<0?0:s)<<16,Math.round(255*c)),s=(r=r&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*h));r=r&16776960|(255<s?255:s<0?0:s);break;case 1:s=(r=r&65535|(255<(s=Math.round(255*c))?255:s<0?0:s)<<16,Math.round(255*d)),s=(r=r&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*h));r=r&16776960|(255<s?255:s<0?0:s);break;case 2:s=(r=r&65535|(255<(s=Math.round(255*h))?255:s<0?0:s)<<16,Math.round(255*d)),s=(r=r&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*c));r=r&16776960|(255<s?255:s<0?0:s);break;case 3:s=(r=r&65535|(255<(s=Math.round(255*h))?255:s<0?0:s)<<16,Math.round(255*c)),s=(r=r&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*d));r=r&16776960|(255<s?255:s<0?0:s);break;case 4:s=(r=r&65535|(255<(s=Math.round(255*c))?255:s<0?0:s)<<16,Math.round(255*h)),s=(r=r&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*d));r=r&16776960|(255<s?255:s<0?0:s);break;case 5:s=(r=r&65535|(255<(s=Math.round(255*d))?255:s<0?0:s)<<16,Math.round(255*h)),s=(r=r&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*c));r=r&16776960|(255<s?255:s<0?0:s)}}this.set_darkerTextColor(r);l=Math.max(0,Math.min(1,.5*(2*I.get_lightnessHSLuv(e.get_iconColor())+n-.5))),r=0;if(I._hsluvTuple[0]=t,I._hsluvTuple[1]=100*i,I._hsluvTuple[2]=100*l,.001<l){w.hsluvToRgb(I._hsluvTuple,I._hsluvResult),(u=I._hsluvResult[0])<0&&(u=0);s=(r=r&65535|(255<(s=Math.round(255*u))?255:s<0?0:s)<<16,(u=I._hsluvResult[1])<0&&(u=0),Math.round(255*u)),s=(r=r&16711935|(255<s?255:s<0?0:s)<<8,(u=I._hsluvResult[2])<0&&(u=0),Math.round(255*u));r=r&16776960|(255<s?255:s<0?0:s)}else{h=l-(_=(1-Math.abs(2*l-1))*i)/2,a=t,o=(a%=360)/60,c=(d=_)*(1-Math.abs(o%2-1))+h;switch(d+=h,0|o){case 0:s=(r=r&65535|(255<(s=Math.round(255*d))?255:s<0?0:s)<<16,Math.round(255*c)),s=(r=r&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*h));r=r&16776960|(255<s?255:s<0?0:s);break;case 1:s=(r=r&65535|(255<(s=Math.round(255*c))?255:s<0?0:s)<<16,Math.round(255*d)),s=(r=r&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*h));r=r&16776960|(255<s?255:s<0?0:s);break;case 2:s=(r=r&65535|(255<(s=Math.round(255*h))?255:s<0?0:s)<<16,Math.round(255*d)),s=(r=r&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*c));r=r&16776960|(255<s?255:s<0?0:s);break;case 3:s=(r=r&65535|(255<(s=Math.round(255*h))?255:s<0?0:s)<<16,Math.round(255*c)),s=(r=r&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*d));r=r&16776960|(255<s?255:s<0?0:s);break;case 4:s=(r=r&65535|(255<(s=Math.round(255*c))?255:s<0?0:s)<<16,Math.round(255*h)),s=(r=r&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*d));r=r&16776960|(255<s?255:s<0?0:s);break;case 5:s=(r=r&65535|(255<(s=Math.round(255*d))?255:s<0?0:s)<<16,Math.round(255*h)),s=(r=r&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*c));r=r&16776960|(255<s?255:s<0?0:s)}}this.set_iconColor(r);l=Math.max(0,Math.min(1,.5*(2*I.get_lightnessHSLuv(e.get_lighterBorderColor())+n-.5))),r=0;if(I._hsluvTuple[0]=t,I._hsluvTuple[1]=100*i,I._hsluvTuple[2]=100*l,.001<l){w.hsluvToRgb(I._hsluvTuple,I._hsluvResult),(u=I._hsluvResult[0])<0&&(u=0);s=(r=r&65535|(255<(s=Math.round(255*u))?255:s<0?0:s)<<16,(u=I._hsluvResult[1])<0&&(u=0),Math.round(255*u)),s=(r=r&16711935|(255<s?255:s<0?0:s)<<8,(u=I._hsluvResult[2])<0&&(u=0),Math.round(255*u));r=r&16776960|(255<s?255:s<0?0:s)}else{h=l-(_=(1-Math.abs(2*l-1))*i)/2,a=t,o=(a%=360)/60,c=(d=_)*(1-Math.abs(o%2-1))+h;switch(d+=h,0|o){case 0:s=(r=r&65535|(255<(s=Math.round(255*d))?255:s<0?0:s)<<16,Math.round(255*c)),s=(r=r&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*h));r=r&16776960|(255<s?255:s<0?0:s);break;case 1:s=(r=r&65535|(255<(s=Math.round(255*c))?255:s<0?0:s)<<16,Math.round(255*d)),s=(r=r&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*h));r=r&16776960|(255<s?255:s<0?0:s);break;case 2:s=(r=r&65535|(255<(s=Math.round(255*h))?255:s<0?0:s)<<16,Math.round(255*d)),s=(r=r&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*c));r=r&16776960|(255<s?255:s<0?0:s);break;case 3:s=(r=r&65535|(255<(s=Math.round(255*h))?255:s<0?0:s)<<16,Math.round(255*c)),s=(r=r&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*d));r=r&16776960|(255<s?255:s<0?0:s);break;case 4:s=(r=r&65535|(255<(s=Math.round(255*c))?255:s<0?0:s)<<16,Math.round(255*h)),s=(r=r&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*d));r=r&16776960|(255<s?255:s<0?0:s);break;case 5:s=(r=r&65535|(255<(s=Math.round(255*d))?255:s<0?0:s)<<16,Math.round(255*h)),s=(r=r&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*c));r=r&16776960|(255<s?255:s<0?0:s)}}this.set_lighterBorderColor(r);l=Math.max(0,Math.min(1,.5*(2*I.get_lightnessHSLuv(e.get_lightBorderColor())+n-.5))),r=0;if(I._hsluvTuple[0]=t,I._hsluvTuple[1]=100*i,I._hsluvTuple[2]=100*l,.001<l){w.hsluvToRgb(I._hsluvTuple,I._hsluvResult),(u=I._hsluvResult[0])<0&&(u=0);s=(r=r&65535|(255<(s=Math.round(255*u))?255:s<0?0:s)<<16,(u=I._hsluvResult[1])<0&&(u=0),Math.round(255*u)),s=(r=r&16711935|(255<s?255:s<0?0:s)<<8,(u=I._hsluvResult[2])<0&&(u=0),Math.round(255*u));r=r&16776960|(255<s?255:s<0?0:s)}else{h=l-(_=(1-Math.abs(2*l-1))*i)/2,a=t,o=(a%=360)/60,c=(d=_)*(1-Math.abs(o%2-1))+h;switch(d+=h,0|o){case 0:s=(r=r&65535|(255<(s=Math.round(255*d))?255:s<0?0:s)<<16,Math.round(255*c)),s=(r=r&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*h));r=r&16776960|(255<s?255:s<0?0:s);break;case 1:s=(r=r&65535|(255<(s=Math.round(255*c))?255:s<0?0:s)<<16,Math.round(255*d)),s=(r=r&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*h));r=r&16776960|(255<s?255:s<0?0:s);break;case 2:s=(r=r&65535|(255<(s=Math.round(255*h))?255:s<0?0:s)<<16,Math.round(255*d)),s=(r=r&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*c));r=r&16776960|(255<s?255:s<0?0:s);break;case 3:s=(r=r&65535|(255<(s=Math.round(255*h))?255:s<0?0:s)<<16,Math.round(255*c)),s=(r=r&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*d));r=r&16776960|(255<s?255:s<0?0:s);break;case 4:s=(r=r&65535|(255<(s=Math.round(255*c))?255:s<0?0:s)<<16,Math.round(255*h)),s=(r=r&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*d));r=r&16776960|(255<s?255:s<0?0:s);break;case 5:s=(r=r&65535|(255<(s=Math.round(255*d))?255:s<0?0:s)<<16,Math.round(255*h)),s=(r=r&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*c));r=r&16776960|(255<s?255:s<0?0:s)}}this.set_lightBorderColor(r);l=Math.max(0,Math.min(1,.5*(2*I.get_lightnessHSLuv(e.get_mediumBorderColor())+n-.5))),r=0;if(I._hsluvTuple[0]=t,I._hsluvTuple[1]=100*i,I._hsluvTuple[2]=100*l,.001<l){w.hsluvToRgb(I._hsluvTuple,I._hsluvResult),(u=I._hsluvResult[0])<0&&(u=0);s=(r=r&65535|(255<(s=Math.round(255*u))?255:s<0?0:s)<<16,(u=I._hsluvResult[1])<0&&(u=0),Math.round(255*u)),s=(r=r&16711935|(255<s?255:s<0?0:s)<<8,(u=I._hsluvResult[2])<0&&(u=0),Math.round(255*u));r=r&16776960|(255<s?255:s<0?0:s)}else{h=l-(_=(1-Math.abs(2*l-1))*i)/2,a=t,o=(a%=360)/60,c=(d=_)*(1-Math.abs(o%2-1))+h;switch(d+=h,0|o){case 0:s=(r=r&65535|(255<(s=Math.round(255*d))?255:s<0?0:s)<<16,Math.round(255*c)),s=(r=r&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*h));r=r&16776960|(255<s?255:s<0?0:s);break;case 1:s=(r=r&65535|(255<(s=Math.round(255*c))?255:s<0?0:s)<<16,Math.round(255*d)),s=(r=r&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*h));r=r&16776960|(255<s?255:s<0?0:s);break;case 2:s=(r=r&65535|(255<(s=Math.round(255*h))?255:s<0?0:s)<<16,Math.round(255*d)),s=(r=r&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*c));r=r&16776960|(255<s?255:s<0?0:s);break;case 3:s=(r=r&65535|(255<(s=Math.round(255*h))?255:s<0?0:s)<<16,Math.round(255*c)),s=(r=r&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*d));r=r&16776960|(255<s?255:s<0?0:s);break;case 4:s=(r=r&65535|(255<(s=Math.round(255*c))?255:s<0?0:s)<<16,Math.round(255*h)),s=(r=r&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*d));r=r&16776960|(255<s?255:s<0?0:s);break;case 5:s=(r=r&65535|(255<(s=Math.round(255*d))?255:s<0?0:s)<<16,Math.round(255*h)),s=(r=r&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*c));r=r&16776960|(255<s?255:s<0?0:s)}}this.set_mediumBorderColor(r);l=Math.max(0,Math.min(1,.5*(2*I.get_lightnessHSLuv(e.get_darkBorderColor())+n-.5))),r=0;if(I._hsluvTuple[0]=t,I._hsluvTuple[1]=100*i,I._hsluvTuple[2]=100*l,.001<l){w.hsluvToRgb(I._hsluvTuple,I._hsluvResult),(u=I._hsluvResult[0])<0&&(u=0);s=(r=r&65535|(255<(s=Math.round(255*u))?255:s<0?0:s)<<16,(u=I._hsluvResult[1])<0&&(u=0),Math.round(255*u)),s=(r=r&16711935|(255<s?255:s<0?0:s)<<8,(u=I._hsluvResult[2])<0&&(u=0),Math.round(255*u));r=r&16776960|(255<s?255:s<0?0:s)}else{h=l-(_=(1-Math.abs(2*l-1))*i)/2,a=t,o=(a%=360)/60,c=(d=_)*(1-Math.abs(o%2-1))+h;switch(d+=h,0|o){case 0:s=(r=r&65535|(255<(s=Math.round(255*d))?255:s<0?0:s)<<16,Math.round(255*c)),s=(r=r&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*h));r=r&16776960|(255<s?255:s<0?0:s);break;case 1:s=(r=r&65535|(255<(s=Math.round(255*c))?255:s<0?0:s)<<16,Math.round(255*d)),s=(r=r&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*h));r=r&16776960|(255<s?255:s<0?0:s);break;case 2:s=(r=r&65535|(255<(s=Math.round(255*h))?255:s<0?0:s)<<16,Math.round(255*d)),s=(r=r&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*c));r=r&16776960|(255<s?255:s<0?0:s);break;case 3:s=(r=r&65535|(255<(s=Math.round(255*h))?255:s<0?0:s)<<16,Math.round(255*c)),s=(r=r&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*d));r=r&16776960|(255<s?255:s<0?0:s);break;case 4:s=(r=r&65535|(255<(s=Math.round(255*c))?255:s<0?0:s)<<16,Math.round(255*h)),s=(r=r&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*d));r=r&16776960|(255<s?255:s<0?0:s);break;case 5:s=(r=r&65535|(255<(s=Math.round(255*d))?255:s<0?0:s)<<16,Math.round(255*h)),s=(r=r&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*c));r=r&16776960|(255<s?255:s<0?0:s)}}this.set_darkBorderColor(r);l=Math.max(0,Math.min(1,.5*(2*I.get_lightnessHSLuv(e.get_lightBackgroundColor())+n-.5))),r=0;if(I._hsluvTuple[0]=t,I._hsluvTuple[1]=100*i,I._hsluvTuple[2]=100*l,.001<l){w.hsluvToRgb(I._hsluvTuple,I._hsluvResult),(u=I._hsluvResult[0])<0&&(u=0);s=(r=r&65535|(255<(s=Math.round(255*u))?255:s<0?0:s)<<16,(u=I._hsluvResult[1])<0&&(u=0),Math.round(255*u)),s=(r=r&16711935|(255<s?255:s<0?0:s)<<8,(u=I._hsluvResult[2])<0&&(u=0),Math.round(255*u));r=r&16776960|(255<s?255:s<0?0:s)}else{h=l-(_=(1-Math.abs(2*l-1))*i)/2,a=t,o=(a%=360)/60,c=(d=_)*(1-Math.abs(o%2-1))+h;switch(d+=h,0|o){case 0:s=(r=r&65535|(255<(s=Math.round(255*d))?255:s<0?0:s)<<16,Math.round(255*c)),s=(r=r&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*h));r=r&16776960|(255<s?255:s<0?0:s);break;case 1:s=(r=r&65535|(255<(s=Math.round(255*c))?255:s<0?0:s)<<16,Math.round(255*d)),s=(r=r&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*h));r=r&16776960|(255<s?255:s<0?0:s);break;case 2:s=(r=r&65535|(255<(s=Math.round(255*h))?255:s<0?0:s)<<16,Math.round(255*d)),s=(r=r&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*c));r=r&16776960|(255<s?255:s<0?0:s);break;case 3:s=(r=r&65535|(255<(s=Math.round(255*h))?255:s<0?0:s)<<16,Math.round(255*c)),s=(r=r&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*d));r=r&16776960|(255<s?255:s<0?0:s);break;case 4:s=(r=r&65535|(255<(s=Math.round(255*c))?255:s<0?0:s)<<16,Math.round(255*h)),s=(r=r&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*d));r=r&16776960|(255<s?255:s<0?0:s);break;case 5:s=(r=r&65535|(255<(s=Math.round(255*d))?255:s<0?0:s)<<16,Math.round(255*h)),s=(r=r&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*c));r=r&16776960|(255<s?255:s<0?0:s)}}this.set_lightBackgroundColor(r);l=Math.max(0,Math.min(1,.5*(2*I.get_lightnessHSLuv(e.get_mediumBackgroundColor())+n-.5))),r=0;if(I._hsluvTuple[0]=t,I._hsluvTuple[1]=100*i,I._hsluvTuple[2]=100*l,.001<l){w.hsluvToRgb(I._hsluvTuple,I._hsluvResult),(u=I._hsluvResult[0])<0&&(u=0);s=(r=r&65535|(255<(s=Math.round(255*u))?255:s<0?0:s)<<16,(u=I._hsluvResult[1])<0&&(u=0),Math.round(255*u)),s=(r=r&16711935|(255<s?255:s<0?0:s)<<8,(u=I._hsluvResult[2])<0&&(u=0),Math.round(255*u));r=r&16776960|(255<s?255:s<0?0:s)}else{h=l-(_=(1-Math.abs(2*l-1))*i)/2,a=t,o=(a%=360)/60,c=(d=_)*(1-Math.abs(o%2-1))+h;switch(d+=h,0|o){case 0:s=(r=r&65535|(255<(s=Math.round(255*d))?255:s<0?0:s)<<16,Math.round(255*c)),s=(r=r&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*h));r=r&16776960|(255<s?255:s<0?0:s);break;case 1:s=(r=r&65535|(255<(s=Math.round(255*c))?255:s<0?0:s)<<16,Math.round(255*d)),s=(r=r&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*h));r=r&16776960|(255<s?255:s<0?0:s);break;case 2:s=(r=r&65535|(255<(s=Math.round(255*h))?255:s<0?0:s)<<16,Math.round(255*d)),s=(r=r&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*c));r=r&16776960|(255<s?255:s<0?0:s);break;case 3:s=(r=r&65535|(255<(s=Math.round(255*h))?255:s<0?0:s)<<16,Math.round(255*c)),s=(r=r&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*d));r=r&16776960|(255<s?255:s<0?0:s);break;case 4:s=(r=r&65535|(255<(s=Math.round(255*c))?255:s<0?0:s)<<16,Math.round(255*h)),s=(r=r&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*d));r=r&16776960|(255<s?255:s<0?0:s);break;case 5:s=(r=r&65535|(255<(s=Math.round(255*d))?255:s<0?0:s)<<16,Math.round(255*h)),s=(r=r&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*c));r=r&16776960|(255<s?255:s<0?0:s)}}this.set_mediumBackgroundColor(r);l=Math.max(0,Math.min(1,.5*(2*I.get_lightnessHSLuv(e.get_darkBackgroundColor())+n-.5))),r=0;if(I._hsluvTuple[0]=t,I._hsluvTuple[1]=100*i,I._hsluvTuple[2]=100*l,.001<l){w.hsluvToRgb(I._hsluvTuple,I._hsluvResult),(u=I._hsluvResult[0])<0&&(u=0);s=(r=r&65535|(255<(s=Math.round(255*u))?255:s<0?0:s)<<16,(u=I._hsluvResult[1])<0&&(u=0),Math.round(255*u)),s=(r=r&16711935|(255<s?255:s<0?0:s)<<8,(u=I._hsluvResult[2])<0&&(u=0),Math.round(255*u));r=r&16776960|(255<s?255:s<0?0:s)}else{h=l-(_=(1-Math.abs(2*l-1))*i)/2,a=t,o=(a%=360)/60,c=(d=_)*(1-Math.abs(o%2-1))+h;switch(d+=h,0|o){case 0:s=(r=r&65535|(255<(s=Math.round(255*d))?255:s<0?0:s)<<16,Math.round(255*c)),s=(r=r&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*h));r=r&16776960|(255<s?255:s<0?0:s);break;case 1:s=(r=r&65535|(255<(s=Math.round(255*c))?255:s<0?0:s)<<16,Math.round(255*d)),s=(r=r&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*h));r=r&16776960|(255<s?255:s<0?0:s);break;case 2:s=(r=r&65535|(255<(s=Math.round(255*h))?255:s<0?0:s)<<16,Math.round(255*d)),s=(r=r&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*c));r=r&16776960|(255<s?255:s<0?0:s);break;case 3:s=(r=r&65535|(255<(s=Math.round(255*h))?255:s<0?0:s)<<16,Math.round(255*c)),s=(r=r&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*d));r=r&16776960|(255<s?255:s<0?0:s);break;case 4:s=(r=r&65535|(255<(s=Math.round(255*c))?255:s<0?0:s)<<16,Math.round(255*h)),s=(r=r&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*d));r=r&16776960|(255<s?255:s<0?0:s);break;case 5:s=(r=r&65535|(255<(s=Math.round(255*d))?255:s<0?0:s)<<16,Math.round(255*h)),s=(r=r&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*c));r=r&16776960|(255<s?255:s<0?0:s)}}this.set_darkBackgroundColor(r);l=Math.max(0,Math.min(1,.5*(2*I.get_lightnessHSLuv(e.get_darkerBackgroundColor())+n-.5))),r=0;if(I._hsluvTuple[0]=t,I._hsluvTuple[1]=100*i,I._hsluvTuple[2]=100*l,.001<l){w.hsluvToRgb(I._hsluvTuple,I._hsluvResult),(u=I._hsluvResult[0])<0&&(u=0);s=(r=r&65535|(255<(s=Math.round(255*u))?255:s<0?0:s)<<16,(u=I._hsluvResult[1])<0&&(u=0),Math.round(255*u)),s=(r=r&16711935|(255<s?255:s<0?0:s)<<8,(u=I._hsluvResult[2])<0&&(u=0),Math.round(255*u));r=r&16776960|(255<s?255:s<0?0:s)}else{h=l-(_=(1-Math.abs(2*l-1))*i)/2,a=t,o=(a%=360)/60,c=(d=_)*(1-Math.abs(o%2-1))+h;switch(d+=h,0|o){case 0:s=(r=r&65535|(255<(s=Math.round(255*d))?255:s<0?0:s)<<16,Math.round(255*c)),s=(r=r&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*h));r=r&16776960|(255<s?255:s<0?0:s);break;case 1:s=(r=r&65535|(255<(s=Math.round(255*c))?255:s<0?0:s)<<16,Math.round(255*d)),s=(r=r&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*h));r=r&16776960|(255<s?255:s<0?0:s);break;case 2:s=(r=r&65535|(255<(s=Math.round(255*h))?255:s<0?0:s)<<16,Math.round(255*d)),s=(r=r&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*c));r=r&16776960|(255<s?255:s<0?0:s);break;case 3:s=(r=r&65535|(255<(s=Math.round(255*h))?255:s<0?0:s)<<16,Math.round(255*c)),s=(r=r&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*d));r=r&16776960|(255<s?255:s<0?0:s);break;case 4:s=(r=r&65535|(255<(s=Math.round(255*c))?255:s<0?0:s)<<16,Math.round(255*h)),s=(r=r&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*d));r=r&16776960|(255<s?255:s<0?0:s);break;case 5:s=(r=r&65535|(255<(s=Math.round(255*d))?255:s<0?0:s)<<16,Math.round(255*h)),s=(r=r&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*c));r=r&16776960|(255<s?255:s<0?0:s)}}this.set_darkerBackgroundColor(r);l=Math.max(0,Math.min(1,.5*(2*I.get_lightnessHSLuv(e.get_overlayBackgroundColor())+n-.5))),r=0;if(I._hsluvTuple[0]=t,I._hsluvTuple[1]=100*i,I._hsluvTuple[2]=100*l,.001<l){w.hsluvToRgb(I._hsluvTuple,I._hsluvResult),(u=I._hsluvResult[0])<0&&(u=0);s=(r=r&65535|(255<(s=Math.round(255*u))?255:s<0?0:s)<<16,(u=I._hsluvResult[1])<0&&(u=0),Math.round(255*u)),s=(r=r&16711935|(255<s?255:s<0?0:s)<<8,(u=I._hsluvResult[2])<0&&(u=0),Math.round(255*u));r=r&16776960|(255<s?255:s<0?0:s)}else{h=l-(_=(1-Math.abs(2*l-1))*i)/2,a=t,o=(a%=360)/60,c=(d=_)*(1-Math.abs(o%2-1))+h;switch(d+=h,0|o){case 0:s=(r=r&65535|(255<(s=Math.round(255*d))?255:s<0?0:s)<<16,Math.round(255*c)),s=(r=r&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*h));r=r&16776960|(255<s?255:s<0?0:s);break;case 1:s=(r=r&65535|(255<(s=Math.round(255*c))?255:s<0?0:s)<<16,Math.round(255*d)),s=(r=r&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*h));r=r&16776960|(255<s?255:s<0?0:s);break;case 2:s=(r=r&65535|(255<(s=Math.round(255*h))?255:s<0?0:s)<<16,Math.round(255*d)),s=(r=r&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*c));r=r&16776960|(255<s?255:s<0?0:s);break;case 3:s=(r=r&65535|(255<(s=Math.round(255*h))?255:s<0?0:s)<<16,Math.round(255*c)),s=(r=r&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*d));r=r&16776960|(255<s?255:s<0?0:s);break;case 4:s=(r=r&65535|(255<(s=Math.round(255*c))?255:s<0?0:s)<<16,Math.round(255*h)),s=(r=r&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*d));r=r&16776960|(255<s?255:s<0?0:s);break;case 5:s=(r=r&65535|(255<(s=Math.round(255*d))?255:s<0?0:s)<<16,Math.round(255*h)),s=(r=r&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*c));r=r&16776960|(255<s?255:s<0?0:s)}}this.set_overlayBackgroundColor(r);l=Math.max(0,Math.min(1,.5*(2*I.get_lightnessHSLuv(e.get_overlayBorderColor())+n-.5))),r=0;if(I._hsluvTuple[0]=t,I._hsluvTuple[1]=100*i,I._hsluvTuple[2]=100*l,.001<l){w.hsluvToRgb(I._hsluvTuple,I._hsluvResult),(u=I._hsluvResult[0])<0&&(u=0);s=(r=r&65535|(255<(s=Math.round(255*u))?255:s<0?0:s)<<16,(u=I._hsluvResult[1])<0&&(u=0),Math.round(255*u)),s=(r=r&16711935|(255<s?255:s<0?0:s)<<8,(u=I._hsluvResult[2])<0&&(u=0),Math.round(255*u));r=r&16776960|(255<s?255:s<0?0:s)}else{h=l-(_=(1-Math.abs(2*l-1))*i)/2,a=t,o=(a%=360)/60,c=(d=_)*(1-Math.abs(o%2-1))+h;switch(d+=h,0|o){case 0:s=(r=r&65535|(255<(s=Math.round(255*d))?255:s<0?0:s)<<16,Math.round(255*c)),s=(r=r&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*h));r=r&16776960|(255<s?255:s<0?0:s);break;case 1:s=(r=r&65535|(255<(s=Math.round(255*c))?255:s<0?0:s)<<16,Math.round(255*d)),s=(r=r&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*h));r=r&16776960|(255<s?255:s<0?0:s);break;case 2:s=(r=r&65535|(255<(s=Math.round(255*h))?255:s<0?0:s)<<16,Math.round(255*d)),s=(r=r&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*c));r=r&16776960|(255<s?255:s<0?0:s);break;case 3:s=(r=r&65535|(255<(s=Math.round(255*h))?255:s<0?0:s)<<16,Math.round(255*c)),s=(r=r&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*d));r=r&16776960|(255<s?255:s<0?0:s);break;case 4:s=(r=r&65535|(255<(s=Math.round(255*c))?255:s<0?0:s)<<16,Math.round(255*h)),s=(r=r&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*d));r=r&16776960|(255<s?255:s<0?0:s);break;case 5:s=(r=r&65535|(255<(s=Math.round(255*d))?255:s<0?0:s)<<16,Math.round(255*h)),s=(r=r&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*c));r=r&16776960|(255<s?255:s<0?0:s)}}this.set_overlayBorderColor(r);l=Math.max(0,Math.min(1,.5*(2*I.get_lightnessHSLuv(e.get_buttonBackgroundColor())+n-.5))),r=0;if(I._hsluvTuple[0]=t,I._hsluvTuple[1]=100*i,I._hsluvTuple[2]=100*l,.001<l){w.hsluvToRgb(I._hsluvTuple,I._hsluvResult),(u=I._hsluvResult[0])<0&&(u=0);s=(r=r&65535|(255<(s=Math.round(255*u))?255:s<0?0:s)<<16,(u=I._hsluvResult[1])<0&&(u=0),Math.round(255*u)),s=(r=r&16711935|(255<s?255:s<0?0:s)<<8,(u=I._hsluvResult[2])<0&&(u=0),Math.round(255*u));r=r&16776960|(255<s?255:s<0?0:s)}else{h=l-(_=(1-Math.abs(2*l-1))*i)/2,a=t,o=(a%=360)/60,c=(d=_)*(1-Math.abs(o%2-1))+h;switch(d+=h,0|o){case 0:s=(r=r&65535|(255<(s=Math.round(255*d))?255:s<0?0:s)<<16,Math.round(255*c)),s=(r=r&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*h));r=r&16776960|(255<s?255:s<0?0:s);break;case 1:s=(r=r&65535|(255<(s=Math.round(255*c))?255:s<0?0:s)<<16,Math.round(255*d)),s=(r=r&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*h));r=r&16776960|(255<s?255:s<0?0:s);break;case 2:s=(r=r&65535|(255<(s=Math.round(255*h))?255:s<0?0:s)<<16,Math.round(255*d)),s=(r=r&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*c));r=r&16776960|(255<s?255:s<0?0:s);break;case 3:s=(r=r&65535|(255<(s=Math.round(255*h))?255:s<0?0:s)<<16,Math.round(255*c)),s=(r=r&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*d));r=r&16776960|(255<s?255:s<0?0:s);break;case 4:s=(r=r&65535|(255<(s=Math.round(255*c))?255:s<0?0:s)<<16,Math.round(255*h)),s=(r=r&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*d));r=r&16776960|(255<s?255:s<0?0:s);break;case 5:s=(r=r&65535|(255<(s=Math.round(255*d))?255:s<0?0:s)<<16,Math.round(255*h)),s=(r=r&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*c));r=r&16776960|(255<s?255:s<0?0:s)}}this.set_buttonBackgroundColor(r);l=Math.max(0,Math.min(1,.5*(2*I.get_lightnessHSLuv(e.get_buttonOverBackgroundColor())+n-.5))),r=0;if(I._hsluvTuple[0]=t,I._hsluvTuple[1]=100*i,I._hsluvTuple[2]=100*l,.001<l){w.hsluvToRgb(I._hsluvTuple,I._hsluvResult),(u=I._hsluvResult[0])<0&&(u=0);s=(r=r&65535|(255<(s=Math.round(255*u))?255:s<0?0:s)<<16,(u=I._hsluvResult[1])<0&&(u=0),Math.round(255*u)),s=(r=r&16711935|(255<s?255:s<0?0:s)<<8,(u=I._hsluvResult[2])<0&&(u=0),Math.round(255*u));r=r&16776960|(255<s?255:s<0?0:s)}else{h=l-(_=(1-Math.abs(2*l-1))*i)/2,a=t,o=(a%=360)/60,c=(d=_)*(1-Math.abs(o%2-1))+h;switch(d+=h,0|o){case 0:s=(r=r&65535|(255<(s=Math.round(255*d))?255:s<0?0:s)<<16,Math.round(255*c)),s=(r=r&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*h));r=r&16776960|(255<s?255:s<0?0:s);break;case 1:s=(r=r&65535|(255<(s=Math.round(255*c))?255:s<0?0:s)<<16,Math.round(255*d)),s=(r=r&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*h));r=r&16776960|(255<s?255:s<0?0:s);break;case 2:s=(r=r&65535|(255<(s=Math.round(255*h))?255:s<0?0:s)<<16,Math.round(255*d)),s=(r=r&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*c));r=r&16776960|(255<s?255:s<0?0:s);break;case 3:s=(r=r&65535|(255<(s=Math.round(255*h))?255:s<0?0:s)<<16,Math.round(255*c)),s=(r=r&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*d));r=r&16776960|(255<s?255:s<0?0:s);break;case 4:s=(r=r&65535|(255<(s=Math.round(255*c))?255:s<0?0:s)<<16,Math.round(255*h)),s=(r=r&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*d));r=r&16776960|(255<s?255:s<0?0:s);break;case 5:s=(r=r&65535|(255<(s=Math.round(255*d))?255:s<0?0:s)<<16,Math.round(255*h)),s=(r=r&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*c));r=r&16776960|(255<s?255:s<0?0:s)}}this.set_buttonOverBackgroundColor(r);l=Math.max(0,Math.min(1,.5*(2*I.get_lightnessHSLuv(e.get_buttonPressedBackgroundColor())+n-.5))),r=0;if(I._hsluvTuple[0]=t,I._hsluvTuple[1]=100*i,I._hsluvTuple[2]=100*l,.001<l){w.hsluvToRgb(I._hsluvTuple,I._hsluvResult),(u=I._hsluvResult[0])<0&&(u=0);s=(r=r&65535|(255<(s=Math.round(255*u))?255:s<0?0:s)<<16,(u=I._hsluvResult[1])<0&&(u=0),Math.round(255*u)),s=(r=r&16711935|(255<s?255:s<0?0:s)<<8,(u=I._hsluvResult[2])<0&&(u=0),Math.round(255*u));r=r&16776960|(255<s?255:s<0?0:s)}else{h=l-(_=(1-Math.abs(2*l-1))*i)/2,a=t,o=(a%=360)/60,c=(d=_)*(1-Math.abs(o%2-1))+h;switch(d+=h,0|o){case 0:s=(r=r&65535|(255<(s=Math.round(255*d))?255:s<0?0:s)<<16,Math.round(255*c)),s=(r=r&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*h));r=r&16776960|(255<s?255:s<0?0:s);break;case 1:s=(r=r&65535|(255<(s=Math.round(255*c))?255:s<0?0:s)<<16,Math.round(255*d)),s=(r=r&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*h));r=r&16776960|(255<s?255:s<0?0:s);break;case 2:s=(r=r&65535|(255<(s=Math.round(255*h))?255:s<0?0:s)<<16,Math.round(255*d)),s=(r=r&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*c));r=r&16776960|(255<s?255:s<0?0:s);break;case 3:s=(r=r&65535|(255<(s=Math.round(255*h))?255:s<0?0:s)<<16,Math.round(255*c)),s=(r=r&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*d));r=r&16776960|(255<s?255:s<0?0:s);break;case 4:s=(r=r&65535|(255<(s=Math.round(255*c))?255:s<0?0:s)<<16,Math.round(255*h)),s=(r=r&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*d));r=r&16776960|(255<s?255:s<0?0:s);break;case 5:s=(r=r&65535|(255<(s=Math.round(255*d))?255:s<0?0:s)<<16,Math.round(255*h)),s=(r=r&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*c));r=r&16776960|(255<s?255:s<0?0:s)}}this.set_buttonPressedBackgroundColor(r);l=Math.max(0,Math.min(1,.5*(2*I.get_lightnessHSLuv(e.get_tabsBackgroundColor())+n-.5))),r=0;if(I._hsluvTuple[0]=t,I._hsluvTuple[1]=100*i,I._hsluvTuple[2]=100*l,.001<l){w.hsluvToRgb(I._hsluvTuple,I._hsluvResult),(u=I._hsluvResult[0])<0&&(u=0);s=(r=r&65535|(255<(s=Math.round(255*u))?255:s<0?0:s)<<16,(u=I._hsluvResult[1])<0&&(u=0),Math.round(255*u)),s=(r=r&16711935|(255<s?255:s<0?0:s)<<8,(u=I._hsluvResult[2])<0&&(u=0),Math.round(255*u));r=r&16776960|(255<s?255:s<0?0:s)}else{h=l-(_=(1-Math.abs(2*l-1))*i)/2,a=t,o=(a%=360)/60,c=(d=_)*(1-Math.abs(o%2-1))+h;switch(d+=h,0|o){case 0:s=(r=r&65535|(255<(s=Math.round(255*d))?255:s<0?0:s)<<16,Math.round(255*c)),s=(r=r&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*h));r=r&16776960|(255<s?255:s<0?0:s);break;case 1:s=(r=r&65535|(255<(s=Math.round(255*c))?255:s<0?0:s)<<16,Math.round(255*d)),s=(r=r&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*h));r=r&16776960|(255<s?255:s<0?0:s);break;case 2:s=(r=r&65535|(255<(s=Math.round(255*h))?255:s<0?0:s)<<16,Math.round(255*d)),s=(r=r&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*c));r=r&16776960|(255<s?255:s<0?0:s);break;case 3:s=(r=r&65535|(255<(s=Math.round(255*h))?255:s<0?0:s)<<16,Math.round(255*c)),s=(r=r&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*d));r=r&16776960|(255<s?255:s<0?0:s);break;case 4:s=(r=r&65535|(255<(s=Math.round(255*c))?255:s<0?0:s)<<16,Math.round(255*h)),s=(r=r&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*d));r=r&16776960|(255<s?255:s<0?0:s);break;case 5:s=(r=r&65535|(255<(s=Math.round(255*d))?255:s<0?0:s)<<16,Math.round(255*h)),s=(r=r&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*c));r=r&16776960|(255<s?255:s<0?0:s)}}this.set_tabsBackgroundColor(r);l=Math.max(0,Math.min(1,.5*(2*I.get_lightnessHSLuv(e.get_tabsHoverBackgroundColor())+n-.5))),r=0;if(I._hsluvTuple[0]=t,I._hsluvTuple[1]=100*i,I._hsluvTuple[2]=100*l,.001<l){w.hsluvToRgb(I._hsluvTuple,I._hsluvResult),(u=I._hsluvResult[0])<0&&(u=0);s=(r=r&65535|(255<(s=Math.round(255*u))?255:s<0?0:s)<<16,(u=I._hsluvResult[1])<0&&(u=0),Math.round(255*u)),s=(r=r&16711935|(255<s?255:s<0?0:s)<<8,(u=I._hsluvResult[2])<0&&(u=0),Math.round(255*u));r=r&16776960|(255<s?255:s<0?0:s)}else{h=l-(_=(1-Math.abs(2*l-1))*i)/2,a=t,o=(a%=360)/60,c=(d=_)*(1-Math.abs(o%2-1))+h;switch(d+=h,0|o){case 0:s=(r=r&65535|(255<(s=Math.round(255*d))?255:s<0?0:s)<<16,Math.round(255*c)),s=(r=r&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*h));r=r&16776960|(255<s?255:s<0?0:s);break;case 1:s=(r=r&65535|(255<(s=Math.round(255*c))?255:s<0?0:s)<<16,Math.round(255*d)),s=(r=r&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*h));r=r&16776960|(255<s?255:s<0?0:s);break;case 2:s=(r=r&65535|(255<(s=Math.round(255*h))?255:s<0?0:s)<<16,Math.round(255*d)),s=(r=r&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*c));r=r&16776960|(255<s?255:s<0?0:s);break;case 3:s=(r=r&65535|(255<(s=Math.round(255*h))?255:s<0?0:s)<<16,Math.round(255*c)),s=(r=r&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*d));r=r&16776960|(255<s?255:s<0?0:s);break;case 4:s=(r=r&65535|(255<(s=Math.round(255*c))?255:s<0?0:s)<<16,Math.round(255*h)),s=(r=r&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*d));r=r&16776960|(255<s?255:s<0?0:s);break;case 5:s=(r=r&65535|(255<(s=Math.round(255*d))?255:s<0?0:s)<<16,Math.round(255*h)),s=(r=r&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*c));r=r&16776960|(255<s?255:s<0?0:s)}}this.set_tabsHoverBackgroundColor(r);l=Math.max(0,Math.min(1,.5*(2*I.get_lightnessHSLuv(e.get_tabsBorderColor())+n-.5))),r=0;if(I._hsluvTuple[0]=t,I._hsluvTuple[1]=100*i,I._hsluvTuple[2]=100*l,.001<l){w.hsluvToRgb(I._hsluvTuple,I._hsluvResult),(u=I._hsluvResult[0])<0&&(u=0);s=(r=r&65535|(255<(s=Math.round(255*u))?255:s<0?0:s)<<16,(u=I._hsluvResult[1])<0&&(u=0),Math.round(255*u)),s=(r=r&16711935|(255<s?255:s<0?0:s)<<8,(u=I._hsluvResult[2])<0&&(u=0),Math.round(255*u));r=r&16776960|(255<s?255:s<0?0:s)}else{h=l-(_=(1-Math.abs(2*l-1))*i)/2,a=t,o=(a%=360)/60,c=(d=_)*(1-Math.abs(o%2-1))+h;switch(d+=h,0|o){case 0:s=(r=r&65535|(255<(s=Math.round(255*d))?255:s<0?0:s)<<16,Math.round(255*c)),s=(r=r&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*h));r=r&16776960|(255<s?255:s<0?0:s);break;case 1:s=(r=r&65535|(255<(s=Math.round(255*c))?255:s<0?0:s)<<16,Math.round(255*d)),s=(r=r&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*h));r=r&16776960|(255<s?255:s<0?0:s);break;case 2:s=(r=r&65535|(255<(s=Math.round(255*h))?255:s<0?0:s)<<16,Math.round(255*d)),s=(r=r&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*c));r=r&16776960|(255<s?255:s<0?0:s);break;case 3:s=(r=r&65535|(255<(s=Math.round(255*h))?255:s<0?0:s)<<16,Math.round(255*c)),s=(r=r&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*d));r=r&16776960|(255<s?255:s<0?0:s);break;case 4:s=(r=r&65535|(255<(s=Math.round(255*c))?255:s<0?0:s)<<16,Math.round(255*h)),s=(r=r&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*d));r=r&16776960|(255<s?255:s<0?0:s);break;case 5:s=(r=r&65535|(255<(s=Math.round(255*d))?255:s<0?0:s)<<16,Math.round(255*h)),s=(r=r&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*c));r=r&16776960|(255<s?255:s<0?0:s)}}this.set_tabsBorderColor(r);l=Math.max(0,Math.min(1,.5*(2*I.get_lightnessHSLuv(e.get_windowBackgroundColor())+n-.5))),r=0;if(I._hsluvTuple[0]=t,I._hsluvTuple[1]=100*i,I._hsluvTuple[2]=100*l,.001<l){w.hsluvToRgb(I._hsluvTuple,I._hsluvResult),(u=I._hsluvResult[0])<0&&(u=0);s=(r=r&65535|(255<(s=Math.round(255*u))?255:s<0?0:s)<<16,(u=I._hsluvResult[1])<0&&(u=0),Math.round(255*u)),s=(r=r&16711935|(255<s?255:s<0?0:s)<<8,(u=I._hsluvResult[2])<0&&(u=0),Math.round(255*u));r=r&16776960|(255<s?255:s<0?0:s)}else{h=l-(_=(1-Math.abs(2*l-1))*i)/2,a=t,o=(a%=360)/60,c=(d=_)*(1-Math.abs(o%2-1))+h;switch(d+=h,0|o){case 0:s=(r=r&65535|(255<(s=Math.round(255*d))?255:s<0?0:s)<<16,Math.round(255*c)),s=(r=r&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*h));r=r&16776960|(255<s?255:s<0?0:s);break;case 1:s=(r=r&65535|(255<(s=Math.round(255*c))?255:s<0?0:s)<<16,Math.round(255*d)),s=(r=r&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*h));r=r&16776960|(255<s?255:s<0?0:s);break;case 2:s=(r=r&65535|(255<(s=Math.round(255*h))?255:s<0?0:s)<<16,Math.round(255*d)),s=(r=r&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*c));r=r&16776960|(255<s?255:s<0?0:s);break;case 3:s=(r=r&65535|(255<(s=Math.round(255*h))?255:s<0?0:s)<<16,Math.round(255*c)),s=(r=r&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*d));r=r&16776960|(255<s?255:s<0?0:s);break;case 4:s=(r=r&65535|(255<(s=Math.round(255*c))?255:s<0?0:s)<<16,Math.round(255*h)),s=(r=r&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*d));r=r&16776960|(255<s?255:s<0?0:s);break;case 5:s=(r=r&65535|(255<(s=Math.round(255*d))?255:s<0?0:s)<<16,Math.round(255*h)),s=(r=r&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*c));r=r&16776960|(255<s?255:s<0?0:s)}}this.set_windowBackgroundColor(r);var u,l=Math.max(0,Math.min(1,.5*(2*I.get_lightnessHSLuv(e.get_windowBorderColor())+n-.5))),r=0;if(I._hsluvTuple[0]=t,I._hsluvTuple[1]=100*i,I._hsluvTuple[2]=100*l,.001<l){w.hsluvToRgb(I._hsluvTuple,I._hsluvResult),(u=I._hsluvResult[0])<0&&(u=0);s=(r=r&65535|(255<(s=Math.round(255*u))?255:s<0?0:s)<<16,(u=I._hsluvResult[1])<0&&(u=0),Math.round(255*u)),s=(r=r&16711935|(255<s?255:s<0?0:s)<<8,(u=I._hsluvResult[2])<0&&(u=0),Math.round(255*u));r=r&16776960|(255<s?255:s<0?0:s)}else{var _,d,h=l-(_=(1-Math.abs(2*l-1))*i)/2,a=t,o=(a%=360)/60,c=(d=_)*(1-Math.abs(o%2-1))+h;switch(d+=h,0|o){case 0:s=(r=r&65535|(255<(s=Math.round(255*d))?255:s<0?0:s)<<16,Math.round(255*c)),s=(r=r&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*h));r=r&16776960|(255<s?255:s<0?0:s);break;case 1:s=(r=r&65535|(255<(s=Math.round(255*c))?255:s<0?0:s)<<16,Math.round(255*d)),s=(r=r&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*h));r=r&16776960|(255<s?255:s<0?0:s);break;case 2:s=(r=r&65535|(255<(s=Math.round(255*h))?255:s<0?0:s)<<16,Math.round(255*d)),s=(r=r&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*c));r=r&16776960|(255<s?255:s<0?0:s);break;case 3:s=(r=r&65535|(255<(s=Math.round(255*h))?255:s<0?0:s)<<16,Math.round(255*c)),s=(r=r&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*d));r=r&16776960|(255<s?255:s<0?0:s);break;case 4:s=(r=r&65535|(255<(s=Math.round(255*c))?255:s<0?0:s)<<16,Math.round(255*h)),s=(r=r&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*d));r=r&16776960|(255<s?255:s<0?0:s);break;case 5:s=(r=r&65535|(255<(s=Math.round(255*d))?255:s<0?0:s)<<16,Math.round(255*h)),s=(r=r&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*c));r=r&16776960|(255<s?255:s<0?0:s)}}this.set_windowBorderColor(r)},applyAltTint:function(e,n){null==e&&(e=te.get_context().get_theme());var t=I.get_hueHSLuv(n),i=I.get_saturationHSLuv(n),n=I.get_lightnessHSLuv(n),l=Math.max(0,Math.min(1,.5*(2*I.get_lightnessHSLuv(e.get_selectionBorderColor())+n-.5))),r=0;if(I._hsluvTuple[0]=t,I._hsluvTuple[1]=100*i,I._hsluvTuple[2]=100*l,.001<l){w.hsluvToRgb(I._hsluvTuple,I._hsluvResult),(u=I._hsluvResult[0])<0&&(u=0);r=r&65535|(255<(s=Math.round(255*u))?255:s<0?0:s)<<16,(u=I._hsluvResult[1])<0&&(u=0);var s=Math.round(255*u),s=(r=r&16711935|(255<s?255:s<0?0:s)<<8,(u=I._hsluvResult[2])<0&&(u=0),Math.round(255*u));r=r&16776960|(255<s?255:s<0?0:s)}else{var h=l-(_=(1-Math.abs(2*l-1))*i)/2,a=t,o=(a%=360)/60,c=(d=_)*(1-Math.abs(o%2-1))+h;switch(d+=h,0|o){case 0:s=(r=r&65535|(255<(s=Math.round(255*d))?255:s<0?0:s)<<16,Math.round(255*c)),s=(r=r&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*h));r=r&16776960|(255<s?255:s<0?0:s);break;case 1:s=(r=r&65535|(255<(s=Math.round(255*c))?255:s<0?0:s)<<16,Math.round(255*d)),s=(r=r&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*h));r=r&16776960|(255<s?255:s<0?0:s);break;case 2:s=(r=r&65535|(255<(s=Math.round(255*h))?255:s<0?0:s)<<16,Math.round(255*d)),s=(r=r&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*c));r=r&16776960|(255<s?255:s<0?0:s);break;case 3:s=(r=r&65535|(255<(s=Math.round(255*h))?255:s<0?0:s)<<16,Math.round(255*c)),s=(r=r&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*d));r=r&16776960|(255<s?255:s<0?0:s);break;case 4:s=(r=r&65535|(255<(s=Math.round(255*c))?255:s<0?0:s)<<16,Math.round(255*h)),s=(r=r&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*d));r=r&16776960|(255<s?255:s<0?0:s);break;case 5:s=(r=r&65535|(255<(s=Math.round(255*d))?255:s<0?0:s)<<16,Math.round(255*h)),s=(r=r&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*c));r=r&16776960|(255<s?255:s<0?0:s)}}this.set_selectionBorderColor(r);l=Math.max(0,Math.min(1,.5*(2*I.get_lightnessHSLuv(e.get_highlightColor())+n-.5))),r=0;if(I._hsluvTuple[0]=t,I._hsluvTuple[1]=100*i,I._hsluvTuple[2]=100*l,.001<l){w.hsluvToRgb(I._hsluvTuple,I._hsluvResult),(u=I._hsluvResult[0])<0&&(u=0);s=(r=r&65535|(255<(s=Math.round(255*u))?255:s<0?0:s)<<16,(u=I._hsluvResult[1])<0&&(u=0),Math.round(255*u)),s=(r=r&16711935|(255<s?255:s<0?0:s)<<8,(u=I._hsluvResult[2])<0&&(u=0),Math.round(255*u));r=r&16776960|(255<s?255:s<0?0:s)}else{h=l-(_=(1-Math.abs(2*l-1))*i)/2,a=t,o=(a%=360)/60,c=(d=_)*(1-Math.abs(o%2-1))+h;switch(d+=h,0|o){case 0:s=(r=r&65535|(255<(s=Math.round(255*d))?255:s<0?0:s)<<16,Math.round(255*c)),s=(r=r&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*h));r=r&16776960|(255<s?255:s<0?0:s);break;case 1:s=(r=r&65535|(255<(s=Math.round(255*c))?255:s<0?0:s)<<16,Math.round(255*d)),s=(r=r&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*h));r=r&16776960|(255<s?255:s<0?0:s);break;case 2:s=(r=r&65535|(255<(s=Math.round(255*h))?255:s<0?0:s)<<16,Math.round(255*d)),s=(r=r&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*c));r=r&16776960|(255<s?255:s<0?0:s);break;case 3:s=(r=r&65535|(255<(s=Math.round(255*h))?255:s<0?0:s)<<16,Math.round(255*c)),s=(r=r&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*d));r=r&16776960|(255<s?255:s<0?0:s);break;case 4:s=(r=r&65535|(255<(s=Math.round(255*c))?255:s<0?0:s)<<16,Math.round(255*h)),s=(r=r&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*d));r=r&16776960|(255<s?255:s<0?0:s);break;case 5:s=(r=r&65535|(255<(s=Math.round(255*d))?255:s<0?0:s)<<16,Math.round(255*h)),s=(r=r&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*c));r=r&16776960|(255<s?255:s<0?0:s)}}this.set_highlightColor(r);l=Math.max(0,Math.min(1,.5*(2*I.get_lightnessHSLuv(e.get_highlightPendingColor())+n-.5))),r=0;if(I._hsluvTuple[0]=t,I._hsluvTuple[1]=100*i,I._hsluvTuple[2]=100*l,.001<l){w.hsluvToRgb(I._hsluvTuple,I._hsluvResult),(u=I._hsluvResult[0])<0&&(u=0);s=(r=r&65535|(255<(s=Math.round(255*u))?255:s<0?0:s)<<16,(u=I._hsluvResult[1])<0&&(u=0),Math.round(255*u)),s=(r=r&16711935|(255<s?255:s<0?0:s)<<8,(u=I._hsluvResult[2])<0&&(u=0),Math.round(255*u));r=r&16776960|(255<s?255:s<0?0:s)}else{h=l-(_=(1-Math.abs(2*l-1))*i)/2,a=t,o=(a%=360)/60,c=(d=_)*(1-Math.abs(o%2-1))+h;switch(d+=h,0|o){case 0:s=(r=r&65535|(255<(s=Math.round(255*d))?255:s<0?0:s)<<16,Math.round(255*c)),s=(r=r&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*h));r=r&16776960|(255<s?255:s<0?0:s);break;case 1:s=(r=r&65535|(255<(s=Math.round(255*c))?255:s<0?0:s)<<16,Math.round(255*d)),s=(r=r&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*h));r=r&16776960|(255<s?255:s<0?0:s);break;case 2:s=(r=r&65535|(255<(s=Math.round(255*h))?255:s<0?0:s)<<16,Math.round(255*d)),s=(r=r&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*c));r=r&16776960|(255<s?255:s<0?0:s);break;case 3:s=(r=r&65535|(255<(s=Math.round(255*h))?255:s<0?0:s)<<16,Math.round(255*c)),s=(r=r&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*d));r=r&16776960|(255<s?255:s<0?0:s);break;case 4:s=(r=r&65535|(255<(s=Math.round(255*c))?255:s<0?0:s)<<16,Math.round(255*h)),s=(r=r&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*d));r=r&16776960|(255<s?255:s<0?0:s);break;case 5:s=(r=r&65535|(255<(s=Math.round(255*d))?255:s<0?0:s)<<16,Math.round(255*h)),s=(r=r&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*c));r=r&16776960|(255<s?255:s<0?0:s)}}this.set_highlightPendingColor(r);l=Math.max(0,Math.min(1,.5*(2*I.get_lightnessHSLuv(e.get_focusedFieldSelectionColor())+n-.5))),r=0;if(I._hsluvTuple[0]=t,I._hsluvTuple[1]=100*i,I._hsluvTuple[2]=100*l,.001<l){w.hsluvToRgb(I._hsluvTuple,I._hsluvResult),(u=I._hsluvResult[0])<0&&(u=0);s=(r=r&65535|(255<(s=Math.round(255*u))?255:s<0?0:s)<<16,(u=I._hsluvResult[1])<0&&(u=0),Math.round(255*u)),s=(r=r&16711935|(255<s?255:s<0?0:s)<<8,(u=I._hsluvResult[2])<0&&(u=0),Math.round(255*u));r=r&16776960|(255<s?255:s<0?0:s)}else{h=l-(_=(1-Math.abs(2*l-1))*i)/2,a=t,o=(a%=360)/60,c=(d=_)*(1-Math.abs(o%2-1))+h;switch(d+=h,0|o){case 0:s=(r=r&65535|(255<(s=Math.round(255*d))?255:s<0?0:s)<<16,Math.round(255*c)),s=(r=r&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*h));r=r&16776960|(255<s?255:s<0?0:s);break;case 1:s=(r=r&65535|(255<(s=Math.round(255*c))?255:s<0?0:s)<<16,Math.round(255*d)),s=(r=r&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*h));r=r&16776960|(255<s?255:s<0?0:s);break;case 2:s=(r=r&65535|(255<(s=Math.round(255*h))?255:s<0?0:s)<<16,Math.round(255*d)),s=(r=r&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*c));r=r&16776960|(255<s?255:s<0?0:s);break;case 3:s=(r=r&65535|(255<(s=Math.round(255*h))?255:s<0?0:s)<<16,Math.round(255*c)),s=(r=r&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*d));r=r&16776960|(255<s?255:s<0?0:s);break;case 4:s=(r=r&65535|(255<(s=Math.round(255*c))?255:s<0?0:s)<<16,Math.round(255*h)),s=(r=r&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*d));r=r&16776960|(255<s?255:s<0?0:s);break;case 5:s=(r=r&65535|(255<(s=Math.round(255*d))?255:s<0?0:s)<<16,Math.round(255*h)),s=(r=r&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*c));r=r&16776960|(255<s?255:s<0?0:s)}}this.set_focusedFieldSelectionColor(r);l=Math.max(0,Math.min(1,.5*(2*I.get_lightnessHSLuv(e.get_focusedFieldBorderColor())+n-.5))),r=0;if(I._hsluvTuple[0]=t,I._hsluvTuple[1]=100*i,I._hsluvTuple[2]=100*l,.001<l){w.hsluvToRgb(I._hsluvTuple,I._hsluvResult),(u=I._hsluvResult[0])<0&&(u=0);s=(r=r&65535|(255<(s=Math.round(255*u))?255:s<0?0:s)<<16,(u=I._hsluvResult[1])<0&&(u=0),Math.round(255*u)),s=(r=r&16711935|(255<s?255:s<0?0:s)<<8,(u=I._hsluvResult[2])<0&&(u=0),Math.round(255*u));r=r&16776960|(255<s?255:s<0?0:s)}else{h=l-(_=(1-Math.abs(2*l-1))*i)/2,a=t,o=(a%=360)/60,c=(d=_)*(1-Math.abs(o%2-1))+h;switch(d+=h,0|o){case 0:s=(r=r&65535|(255<(s=Math.round(255*d))?255:s<0?0:s)<<16,Math.round(255*c)),s=(r=r&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*h));r=r&16776960|(255<s?255:s<0?0:s);break;case 1:s=(r=r&65535|(255<(s=Math.round(255*c))?255:s<0?0:s)<<16,Math.round(255*d)),s=(r=r&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*h));r=r&16776960|(255<s?255:s<0?0:s);break;case 2:s=(r=r&65535|(255<(s=Math.round(255*h))?255:s<0?0:s)<<16,Math.round(255*d)),s=(r=r&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*c));r=r&16776960|(255<s?255:s<0?0:s);break;case 3:s=(r=r&65535|(255<(s=Math.round(255*h))?255:s<0?0:s)<<16,Math.round(255*c)),s=(r=r&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*d));r=r&16776960|(255<s?255:s<0?0:s);break;case 4:s=(r=r&65535|(255<(s=Math.round(255*c))?255:s<0?0:s)<<16,Math.round(255*h)),s=(r=r&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*d));r=r&16776960|(255<s?255:s<0?0:s);break;case 5:s=(r=r&65535|(255<(s=Math.round(255*d))?255:s<0?0:s)<<16,Math.round(255*h)),s=(r=r&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*c));r=r&16776960|(255<s?255:s<0?0:s)}}this.set_focusedFieldBorderColor(r);var u,l=Math.max(0,Math.min(1,.5*(2*I.get_lightnessHSLuv(e.get_buttonFocusedBorderColor())+n-.5))),r=0;if(I._hsluvTuple[0]=t,I._hsluvTuple[1]=100*i,I._hsluvTuple[2]=100*l,.001<l){w.hsluvToRgb(I._hsluvTuple,I._hsluvResult),(u=I._hsluvResult[0])<0&&(u=0);s=(r=r&65535|(255<(s=Math.round(255*u))?255:s<0?0:s)<<16,(u=I._hsluvResult[1])<0&&(u=0),Math.round(255*u)),s=(r=r&16711935|(255<s?255:s<0?0:s)<<8,(u=I._hsluvResult[2])<0&&(u=0),Math.round(255*u));r=r&16776960|(255<s?255:s<0?0:s)}else{var _,d,h=l-(_=(1-Math.abs(2*l-1))*i)/2,a=t,o=(a%=360)/60,c=(d=_)*(1-Math.abs(o%2-1))+h;switch(d+=h,0|o){case 0:s=(r=r&65535|(255<(s=Math.round(255*d))?255:s<0?0:s)<<16,Math.round(255*c)),s=(r=r&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*h));r=r&16776960|(255<s?255:s<0?0:s);break;case 1:s=(r=r&65535|(255<(s=Math.round(255*c))?255:s<0?0:s)<<16,Math.round(255*d)),s=(r=r&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*h));r=r&16776960|(255<s?255:s<0?0:s);break;case 2:s=(r=r&65535|(255<(s=Math.round(255*h))?255:s<0?0:s)<<16,Math.round(255*d)),s=(r=r&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*c));r=r&16776960|(255<s?255:s<0?0:s);break;case 3:s=(r=r&65535|(255<(s=Math.round(255*h))?255:s<0?0:s)<<16,Math.round(255*c)),s=(r=r&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*d));r=r&16776960|(255<s?255:s<0?0:s);break;case 4:s=(r=r&65535|(255<(s=Math.round(255*c))?255:s<0?0:s)<<16,Math.round(255*h)),s=(r=r&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*d));r=r&16776960|(255<s?255:s<0?0:s);break;case 5:s=(r=r&65535|(255<(s=Math.round(255*d))?255:s<0?0:s)<<16,Math.round(255*h)),s=(r=r&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*c));r=r&16776960|(255<s?255:s<0?0:s)}}this.set_buttonFocusedBorderColor(r)},applyBackgroundColor:function(e){this.set_tabsBackgroundColor(e),this.set_windowBackgroundColor(e)},applyTextColor:function(e){this.set_lightTextColor(e),this.set_mediumTextColor(e),this.set_darkTextColor(e),this.set_darkerTextColor(e)},_tint:null,_altTint:null,_backgroundColor:null,_textColor:null,_used:null,_index:null,_clonedIndex:null,unbindEvents:function(){ld.prototype.unbindEvents.call(this),this.offBackgroundInFormLayoutChange(),this.offFieldTextColorChange(),this.offFieldPlaceholderColorChange(),this.offLightTextColorChange(),this.offMediumTextColorChange(),this.offDarkTextColorChange(),this.offDarkerTextColorChange(),this.offIconColorChange(),this.offCustomMediumFontChange(),this.offCustomBoldFontChange(),this.offLighterBorderColorChange(),this.offLightBorderColorChange(),this.offMediumBorderColorChange(),this.offDarkBorderColorChange(),this.offLightBackgroundColorChange(),this.offMediumBackgroundColorChange(),this.offDarkBackgroundColorChange(),this.offDarkerBackgroundColorChange(),this.offSelectionBorderColorChange(),this.offHighlightColorChange(),this.offHighlightPendingColorChange(),this.offFormItemSpacingChange(),this.offFormPaddingChange(),this.offTabsMarginYChange(),this.offFocusedFieldSelectionColorChange(),this.offFocusedFieldBorderColorChange(),this.offOverlayBackgroundColorChange(),this.offOverlayBackgroundAlphaChange(),this.offOverlayBorderColorChange(),this.offOverlayBorderAlphaChange(),this.offButtonBackgroundColorChange(),this.offButtonOverBackgroundColorChange(),this.offButtonPressedBackgroundColorChange(),this.offButtonFocusedBorderColorChange(),this.offTabsBackgroundColorChange(),this.offTabsBackgroundAlphaChange(),this.offTabsHoverBackgroundColorChange(),this.offTabsHoverBackgroundAlphaChange(),this.offTabsBorderColorChange(),this.offDisabledTabTextAlphaChange(),this.offDisabledTabBorderAlphaChange(),this.offWindowBackgroundColorChange(),this.offWindowBackgroundAlphaChange(),this.offWindowBorderColorChange(),this.offWindowBorderAlphaChange()},_default_backgroundInFormLayoutAutoruns:function(){return null},_default_backgroundInFormLayout:function(){return!1},_default_fieldTextColorAutoruns:function(){return null},_default_fieldTextColor:function(){return 16777215},_default_fieldPlaceholderColorAutoruns:function(){return null},_default_fieldPlaceholderColor:function(){return 8947848},_default_lightTextColorAutoruns:function(){return null},_default_lightTextColor:function(){return 15987699},_default_mediumTextColorAutoruns:function(){return null},_default_mediumTextColor:function(){return 13421772},_default_darkTextColorAutoruns:function(){return null},_default_darkTextColor:function(){return 8947848},_default_darkerTextColorAutoruns:function(){return null},_default_darkerTextColor:function(){return 5592405},_default_iconColorAutoruns:function(){return null},_default_iconColor:function(){return 16777215},_default_customMediumFontAutoruns:function(){return null},_default_customMediumFont:function(){return null},_default_customBoldFontAutoruns:function(){return null},_default_customBoldFont:function(){return null},_default_lighterBorderColorAutoruns:function(){return null},_default_lighterBorderColor:function(){return 10066329},_default_lightBorderColorAutoruns:function(){return null},_default_lightBorderColor:function(){return 6513507},_default_mediumBorderColorAutoruns:function(){return null},_default_mediumBorderColor:function(){return 4605510},_default_darkBorderColorAutoruns:function(){return null},_default_darkBorderColor:function(){return 3684408},_default_lightBackgroundColorAutoruns:function(){return null},_default_lightBackgroundColor:function(){return 5197647},_default_mediumBackgroundColorAutoruns:function(){return null},_default_mediumBackgroundColor:function(){return 4868682},_default_darkBackgroundColorAutoruns:function(){return null},_default_darkBackgroundColor:function(){return 4342338},_default_darkerBackgroundColorAutoruns:function(){return null},_default_darkerBackgroundColor:function(){return 2631720},_default_selectionBorderColorAutoruns:function(){return null},_default_selectionBorderColor:function(){return 4428512},_default_highlightColorAutoruns:function(){return null},_default_highlightColor:function(){return 4428512},_default_highlightPendingColorAutoruns:function(){return null},_default_highlightPendingColor:function(){return 16666932},_default_formItemSpacingAutoruns:function(){return null},_default_formItemSpacing:function(){return 6},_default_formPaddingAutoruns:function(){return null},_default_formPadding:function(){return 6},_default_tabsMarginYAutoruns:function(){return null},_default_tabsMarginY:function(){return 6},_default_focusedFieldSelectionColorAutoruns:function(){return null},_default_focusedFieldSelectionColor:function(){return 3175366},_default_focusedFieldBorderColorAutoruns:function(){return null},_default_focusedFieldBorderColor:function(){return 4428512},_default_overlayBackgroundColorAutoruns:function(){return null},_default_overlayBackgroundColor:function(){return 1842204},_default_overlayBackgroundAlphaAutoruns:function(){return null},_default_overlayBackgroundAlpha:function(){return.925},_default_overlayBorderColorAutoruns:function(){return null},_default_overlayBorderColor:function(){return 6513507},_default_overlayBorderAlphaAutoruns:function(){return null},_default_overlayBorderAlpha:function(){return 1},_default_buttonBackgroundColorAutoruns:function(){return null},_default_buttonBackgroundColor:function(){return 5329233},_default_buttonOverBackgroundColorAutoruns:function(){return null},_default_buttonOverBackgroundColor:function(){return 5921370},_default_buttonPressedBackgroundColorAutoruns:function(){return null},_default_buttonPressedBackgroundColor:function(){return 4692203},_default_buttonFocusedBorderColorAutoruns:function(){return null},_default_buttonFocusedBorderColor:function(){return 4692203},_default_tabsBackgroundColorAutoruns:function(){return null},_default_tabsBackgroundColor:function(){return 8947848},_default_tabsBackgroundAlphaAutoruns:function(){return null},_default_tabsBackgroundAlpha:function(){return.1},_default_tabsHoverBackgroundColorAutoruns:function(){return null},_default_tabsHoverBackgroundColor:function(){return 8947848},_default_tabsHoverBackgroundAlphaAutoruns:function(){return null},_default_tabsHoverBackgroundAlpha:function(){return.2},_default_tabsBorderColorAutoruns:function(){return null},_default_tabsBorderColor:function(){return 6513507},_default_disabledTabTextAlphaAutoruns:function(){return null},_default_disabledTabTextAlpha:function(){return.5},_default_disabledTabBorderAlphaAutoruns:function(){return null},_default_disabledTabBorderAlpha:function(){return.5},_default_windowBackgroundColorAutoruns:function(){return null},_default_windowBackgroundColor:function(){return 1842204},_default_windowBackgroundAlphaAutoruns:function(){return null},_default_windowBackgroundAlpha:function(){return.925},_default_windowBorderColorAutoruns:function(){return null},_default_windowBorderColor:function(){return 6513507},_default_windowBorderAlphaAutoruns:function(){return null},_default_windowBorderAlpha:function(){return 1},_default__tint:function(){return-1},_default__altTint:function(){return-1},_default__backgroundColor:function(){return-1},_default__textColor:function(){return-1},_default__used:function(){return!1},_default__index:function(){return Ii._nextIndex=(Ii._nextIndex+1)%999999999},_default__clonedIndex:function(){return-1},__class__:Ii,__properties__:$extend(ld.prototype.__properties__,{set_windowBorderAlpha:"set_windowBorderAlpha",get_windowBorderAlpha:"get_windowBorderAlpha",set_windowBorderColor:"set_windowBorderColor",get_windowBorderColor:"get_windowBorderColor",set_windowBackgroundAlpha:"set_windowBackgroundAlpha",get_windowBackgroundAlpha:"get_windowBackgroundAlpha",set_windowBackgroundColor:"set_windowBackgroundColor",get_windowBackgroundColor:"get_windowBackgroundColor",set_disabledTabBorderAlpha:"set_disabledTabBorderAlpha",get_disabledTabBorderAlpha:"get_disabledTabBorderAlpha",set_disabledTabTextAlpha:"set_disabledTabTextAlpha",get_disabledTabTextAlpha:"get_disabledTabTextAlpha",set_tabsBorderColor:"set_tabsBorderColor",get_tabsBorderColor:"get_tabsBorderColor",set_tabsHoverBackgroundAlpha:"set_tabsHoverBackgroundAlpha",get_tabsHoverBackgroundAlpha:"get_tabsHoverBackgroundAlpha",set_tabsHoverBackgroundColor:"set_tabsHoverBackgroundColor",get_tabsHoverBackgroundColor:"get_tabsHoverBackgroundColor",set_tabsBackgroundAlpha:"set_tabsBackgroundAlpha",get_tabsBackgroundAlpha:"get_tabsBackgroundAlpha",set_tabsBackgroundColor:"set_tabsBackgroundColor",get_tabsBackgroundColor:"get_tabsBackgroundColor",set_buttonFocusedBorderColor:"set_buttonFocusedBorderColor",get_buttonFocusedBorderColor:"get_buttonFocusedBorderColor",set_buttonPressedBackgroundColor:"set_buttonPressedBackgroundColor",get_buttonPressedBackgroundColor:"get_buttonPressedBackgroundColor",set_buttonOverBackgroundColor:"set_buttonOverBackgroundColor",get_buttonOverBackgroundColor:"get_buttonOverBackgroundColor",set_buttonBackgroundColor:"set_buttonBackgroundColor",get_buttonBackgroundColor:"get_buttonBackgroundColor",set_overlayBorderAlpha:"set_overlayBorderAlpha",get_overlayBorderAlpha:"get_overlayBorderAlpha",set_overlayBorderColor:"set_overlayBorderColor",get_overlayBorderColor:"get_overlayBorderColor",set_overlayBackgroundAlpha:"set_overlayBackgroundAlpha",get_overlayBackgroundAlpha:"get_overlayBackgroundAlpha",set_overlayBackgroundColor:"set_overlayBackgroundColor",get_overlayBackgroundColor:"get_overlayBackgroundColor",set_focusedFieldBorderColor:"set_focusedFieldBorderColor",get_focusedFieldBorderColor:"get_focusedFieldBorderColor",set_focusedFieldSelectionColor:"set_focusedFieldSelectionColor",get_focusedFieldSelectionColor:"get_focusedFieldSelectionColor",set_tabsMarginY:"set_tabsMarginY",get_tabsMarginY:"get_tabsMarginY",set_formPadding:"set_formPadding",get_formPadding:"get_formPadding",set_formItemSpacing:"set_formItemSpacing",get_formItemSpacing:"get_formItemSpacing",set_highlightPendingColor:"set_highlightPendingColor",get_highlightPendingColor:"get_highlightPendingColor",set_highlightColor:"set_highlightColor",get_highlightColor:"get_highlightColor",set_selectionBorderColor:"set_selectionBorderColor",get_selectionBorderColor:"get_selectionBorderColor",set_darkerBackgroundColor:"set_darkerBackgroundColor",get_darkerBackgroundColor:"get_darkerBackgroundColor",set_darkBackgroundColor:"set_darkBackgroundColor",get_darkBackgroundColor:"get_darkBackgroundColor",set_mediumBackgroundColor:"set_mediumBackgroundColor",get_mediumBackgroundColor:"get_mediumBackgroundColor",set_lightBackgroundColor:"set_lightBackgroundColor",get_lightBackgroundColor:"get_lightBackgroundColor",set_darkBorderColor:"set_darkBorderColor",get_darkBorderColor:"get_darkBorderColor",set_mediumBorderColor:"set_mediumBorderColor",get_mediumBorderColor:"get_mediumBorderColor",set_lightBorderColor:"set_lightBorderColor",get_lightBorderColor:"get_lightBorderColor",set_lighterBorderColor:"set_lighterBorderColor",get_lighterBorderColor:"get_lighterBorderColor",get_boldFont:"get_boldFont",set_customBoldFont:"set_customBoldFont",get_customBoldFont:"get_customBoldFont",get_mediumFont:"get_mediumFont",set_customMediumFont:"set_customMediumFont",get_customMediumFont:"get_customMediumFont",set_iconColor:"set_iconColor",get_iconColor:"get_iconColor",set_darkerTextColor:"set_darkerTextColor",get_darkerTextColor:"get_darkerTextColor",set_darkTextColor:"set_darkTextColor",get_darkTextColor:"get_darkTextColor",set_mediumTextColor:"set_mediumTextColor",get_mediumTextColor:"get_mediumTextColor",set_lightTextColor:"set_lightTextColor",get_lightTextColor:"get_lightTextColor",set_fieldPlaceholderColor:"set_fieldPlaceholderColor",get_fieldPlaceholderColor:"get_fieldPlaceholderColor",set_fieldTextColor:"set_fieldTextColor",get_fieldTextColor:"get_fieldTextColor",set_backgroundInFormLayout:"set_backgroundInFormLayout",get_backgroundInFormLayout:"get_backgroundInFormLayout"})}),function(e){this.initializerName=null,this.contentAutoruns=null,this.unobservedTheme=null,this.themeAutoruns=null,this.observedDirty=!1,o.call(this),this.set_content(e),this.set_depth(21),te.get_context().view.add(this),this.set_anchorX(0),this.set_anchorY(.5),this.bubble=new p,this.bubble.set_depth(1),this.add(this.bubble),this.bubbleTriangle=new cc,this.bubbleTriangle.set_depth(1),this.add(this.bubbleTriangle),this.text=new ut,this.text.set_fitWidth(100),this.text.set_depth(2),this.text.set_preRenderedSize(20),this.text.set_pointSize(11),this.text.set_align(_t.CENTER),this.add(this.text),this.autorun($bind(this,this.updateTextContent)),this.autorun($bind(this,this.updateStyle))}),Fi=((E["elements.Tooltip"]=Pi).__name__="elements.Tooltip",Pi.__interfaces__=[s,a0],Pi.tooltip=function(e,n){var t;null==n?e.removeComponent("tooltip"):null==(t=e.component("tooltip"))?(t=new Pi(n),e.component("tooltip",t)):t.set_content(n)},Pi.__super__=o,Pi.prototype=$extend(o.prototype,{__cbOnObservedDirty:null,__cbOnceObservedDirty:null,__cbOnOwnerUnbindObservedDirty:null,__cbOnceOwnerUnbindObservedDirty:null,emitObservedDirty:function(e,n){var t=0;if(null!=this.__cbOnObservedDirty&&(t+=this.__cbOnObservedDirty.length),null!=this.__cbOnceObservedDirty&&(t+=this.__cbOnceObservedDirty.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnObservedDirty)for(var s=0,h=this.__cbOnObservedDirty.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnObservedDirty[a],++r):--t}if(null!=this.__cbOnceObservedDirty){for(var o=null,c=null,s=0,h=this.__cbOnceObservedDirty.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceObservedDirty[a],this.__cbOnceObservedDirty[a]=null,u=this.__cbOnceOwnerUnbindObservedDirty[a],(this.__cbOnceOwnerUnbindObservedDirty[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindObservedDirty[a]),c.push(this.__cbOnceObservedDirty[a]))}this.__cbOnceOwnerUnbindObservedDirty=o,this.__cbOnceObservedDirty=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onObservedDirty:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event observedDirty because owner is destroyed!");var l=function(e){null!=t&&(i.offObservedDirty(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push(null);null==this.__cbOnObservedDirty&&(this.__cbOnObservedDirty=[]),this.__cbOnObservedDirty.push(t)},onceObservedDirty:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event observedDirty because owner is destroyed!");var l=function(e){null!=t&&(i.offObservedDirty(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push(null);null==this.__cbOnceObservedDirty&&(this.__cbOnceObservedDirty=[]),this.__cbOnceObservedDirty.push(t)},offObservedDirty:function(e){if(null!=e){var n;null!=this.__cbOnObservedDirty&&-1!=(n=this.__cbOnObservedDirty.indexOf(e))&&(this.__cbOnObservedDirty.splice(n,1),null!=(r=this.__cbOnOwnerUnbindObservedDirty[n])&&r(),this.__cbOnOwnerUnbindObservedDirty.splice(n,1)),null!=this.__cbOnceObservedDirty&&-1!=(n=this.__cbOnceObservedDirty.indexOf(e))&&(this.__cbOnceObservedDirty.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindObservedDirty[n])&&r(),this.__cbOnceOwnerUnbindObservedDirty.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindObservedDirty){for(var t=0,i=this.__cbOnOwnerUnbindObservedDirty.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindObservedDirty[l])&&r()}this.__cbOnOwnerUnbindObservedDirty=null}if(null!=this.__cbOnceOwnerUnbindObservedDirty){for(t=0,i=this.__cbOnceOwnerUnbindObservedDirty.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindObservedDirty[l])&&r()}this.__cbOnceOwnerUnbindObservedDirty=null}this.__cbOnObservedDirty=null,this.__cbOnceObservedDirty=null}},listensObservedDirty:function(){return null!=this.__cbOnObservedDirty&&0<this.__cbOnObservedDirty.length||null!=this.__cbOnceObservedDirty&&0<this.__cbOnceObservedDirty.length},observedDirty:null,themeAutoruns:null,get_theme:function(){var e,n,t=this.unobservedTheme;return null!=U.current&&(e=U.current,null!=(n=this.themeAutoruns)||(n=U.getAutorunArray(),null!=(this.themeAutoruns=n)))&&e.bindToAutorunArray(n),t},set_theme:function(e){var n=this.unobservedTheme;return n!=(this.unobservedTheme=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitThemeChange(e,n),null!=(n=this.themeAutoruns))&&(this.themeAutoruns=null,U.invalidateAutorunArray(n)),e},invalidateTheme:function(){var e=this.unobservedTheme,e=(this.emitThemeChange(e,e),this.themeAutoruns);null!=e&&(this.themeAutoruns=null,U.invalidateAutorunArray(e))},unobservedTheme:null,__cbOnThemeChange:null,__cbOnceThemeChange:null,__cbOnOwnerUnbindThemeChange:null,__cbOnceOwnerUnbindThemeChange:null,emitThemeChange:function(e,n){var t=0;if(null!=this.__cbOnThemeChange&&(t+=this.__cbOnThemeChange.length),null!=this.__cbOnceThemeChange&&(t+=this.__cbOnceThemeChange.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnThemeChange)for(var s=0,h=this.__cbOnThemeChange.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnThemeChange[a],++r):--t}if(null!=this.__cbOnceThemeChange){for(var o=null,c=null,s=0,h=this.__cbOnceThemeChange.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceThemeChange[a],this.__cbOnceThemeChange[a]=null,u=this.__cbOnceOwnerUnbindThemeChange[a],(this.__cbOnceOwnerUnbindThemeChange[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindThemeChange[a]),c.push(this.__cbOnceThemeChange[a]))}this.__cbOnceOwnerUnbindThemeChange=o,this.__cbOnceThemeChange=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onThemeChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event themeChange because owner is destroyed!");var l=function(e){null!=t&&(i.offThemeChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindThemeChange&&(this.__cbOnOwnerUnbindThemeChange=[]),this.__cbOnOwnerUnbindThemeChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindThemeChange&&(this.__cbOnOwnerUnbindThemeChange=[]),this.__cbOnOwnerUnbindThemeChange.push(null);null==this.__cbOnThemeChange&&(this.__cbOnThemeChange=[]),this.__cbOnThemeChange.push(t)},onceThemeChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event themeChange because owner is destroyed!");var l=function(e){null!=t&&(i.offThemeChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindThemeChange&&(this.__cbOnceOwnerUnbindThemeChange=[]),this.__cbOnceOwnerUnbindThemeChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindThemeChange&&(this.__cbOnceOwnerUnbindThemeChange=[]),this.__cbOnceOwnerUnbindThemeChange.push(null);null==this.__cbOnceThemeChange&&(this.__cbOnceThemeChange=[]),this.__cbOnceThemeChange.push(t)},offThemeChange:function(e){if(null!=e){var n;null!=this.__cbOnThemeChange&&-1!=(n=this.__cbOnThemeChange.indexOf(e))&&(this.__cbOnThemeChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindThemeChange[n])&&r(),this.__cbOnOwnerUnbindThemeChange.splice(n,1)),null!=this.__cbOnceThemeChange&&-1!=(n=this.__cbOnceThemeChange.indexOf(e))&&(this.__cbOnceThemeChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindThemeChange[n])&&r(),this.__cbOnceOwnerUnbindThemeChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindThemeChange){for(var t=0,i=this.__cbOnOwnerUnbindThemeChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindThemeChange[l])&&r()}this.__cbOnOwnerUnbindThemeChange=null}if(null!=this.__cbOnceOwnerUnbindThemeChange){for(t=0,i=this.__cbOnceOwnerUnbindThemeChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindThemeChange[l])&&r()}this.__cbOnceOwnerUnbindThemeChange=null}this.__cbOnThemeChange=null,this.__cbOnceThemeChange=null}},listensThemeChange:function(){return null!=this.__cbOnThemeChange&&0<this.__cbOnThemeChange.length||null!=this.__cbOnceThemeChange&&0<this.__cbOnceThemeChange.length},contentAutoruns:null,get_content:function(){var e,n,t=this.unobservedContent;return null!=U.current&&(e=U.current,null!=(n=this.contentAutoruns)||(n=U.getAutorunArray(),null!=(this.contentAutoruns=n)))&&e.bindToAutorunArray(n),t},set_content:function(e){var n=this.unobservedContent;return n!=(this.unobservedContent=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitContentChange(e,n),null!=(n=this.contentAutoruns))&&(this.contentAutoruns=null,U.invalidateAutorunArray(n)),e},invalidateContent:function(){var e=this.unobservedContent,e=(this.emitContentChange(e,e),this.contentAutoruns);null!=e&&(this.contentAutoruns=null,U.invalidateAutorunArray(e))},unobservedContent:null,__cbOnContentChange:null,__cbOnceContentChange:null,__cbOnOwnerUnbindContentChange:null,__cbOnceOwnerUnbindContentChange:null,emitContentChange:function(e,n){var t=0;if(null!=this.__cbOnContentChange&&(t+=this.__cbOnContentChange.length),null!=this.__cbOnceContentChange&&(t+=this.__cbOnceContentChange.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnContentChange)for(var s=0,h=this.__cbOnContentChange.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnContentChange[a],++r):--t}if(null!=this.__cbOnceContentChange){for(var o=null,c=null,s=0,h=this.__cbOnceContentChange.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceContentChange[a],this.__cbOnceContentChange[a]=null,u=this.__cbOnceOwnerUnbindContentChange[a],(this.__cbOnceOwnerUnbindContentChange[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindContentChange[a]),c.push(this.__cbOnceContentChange[a]))}this.__cbOnceOwnerUnbindContentChange=o,this.__cbOnceContentChange=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onContentChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event contentChange because owner is destroyed!");var l=function(e){null!=t&&(i.offContentChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindContentChange&&(this.__cbOnOwnerUnbindContentChange=[]),this.__cbOnOwnerUnbindContentChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindContentChange&&(this.__cbOnOwnerUnbindContentChange=[]),this.__cbOnOwnerUnbindContentChange.push(null);null==this.__cbOnContentChange&&(this.__cbOnContentChange=[]),this.__cbOnContentChange.push(t)},onceContentChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event contentChange because owner is destroyed!");var l=function(e){null!=t&&(i.offContentChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindContentChange&&(this.__cbOnceOwnerUnbindContentChange=[]),this.__cbOnceOwnerUnbindContentChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindContentChange&&(this.__cbOnceOwnerUnbindContentChange=[]),this.__cbOnceOwnerUnbindContentChange.push(null);null==this.__cbOnceContentChange&&(this.__cbOnceContentChange=[]),this.__cbOnceContentChange.push(t)},offContentChange:function(e){if(null!=e){var n;null!=this.__cbOnContentChange&&-1!=(n=this.__cbOnContentChange.indexOf(e))&&(this.__cbOnContentChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindContentChange[n])&&r(),this.__cbOnOwnerUnbindContentChange.splice(n,1)),null!=this.__cbOnceContentChange&&-1!=(n=this.__cbOnceContentChange.indexOf(e))&&(this.__cbOnceContentChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindContentChange[n])&&r(),this.__cbOnceOwnerUnbindContentChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindContentChange){for(var t=0,i=this.__cbOnOwnerUnbindContentChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindContentChange[l])&&r()}this.__cbOnOwnerUnbindContentChange=null}if(null!=this.__cbOnceOwnerUnbindContentChange){for(t=0,i=this.__cbOnceOwnerUnbindContentChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindContentChange[l])&&r()}this.__cbOnceOwnerUnbindContentChange=null}this.__cbOnContentChange=null,this.__cbOnceContentChange=null}},listensContentChange:function(){return null!=this.__cbOnContentChange&&0<this.__cbOnContentChange.length||null!=this.__cbOnceContentChange&&0<this.__cbOnceContentChange.length},entity:null,text:null,bubble:null,bubbleTriangle:null,bindAsComponent:function(){var t=this;this.set_active(!1),this.entity.onPointerOver(this,function(e){var n;0<he.app.screen._numPointerDown||(t.set_active(!0),t.entity.visualToScreen(.5*t.entity.get_width(),.5*t.entity.get_height(),Pi._point),null!=t.parent&&t.parent.screenToVisual(Pi._point.x,Pi._point.y,Pi._point),n=24+Pi._point.y,t.set_x(Pi._point.x),t.set_y(n))}),this.entity.onPointerOut(this,function(e){t.set_active(!1)})},updateTextContent:function(){this.text.set_content(this.get_content());var e=.5*-(this.text.get_width()+12),n=((i=this.text).set_x(6+e),i.set_y(11),this.text.get_width()+12),t=this.text.get_height()+12,i=(this.set_width(n),this.set_height(t),this.bubble),n=this.get_width(),t=this.get_height();i.set_width(n),i.set_height(t),(i=this.bubble).set_x(e),i.set_y(5),(i=this.bubbleTriangle).set_anchorX(.5),i.set_anchorY(1),(i=this.bubbleTriangle).set_width(8),i.set_height(5),(i=this.bubbleTriangle).set_x(0),i.set_y(5)},updateStyle:function(){var e=this.get_theme();null==e&&(e=te.get_context().get_theme()),this.text.set_color(e.get_lightTextColor()),this.text.set_font(e.get_mediumFont()),this.bubble.color=e.get_overlayBackgroundColor(),this.bubble.set_alpha(e.get_overlayBackgroundAlpha()),this.bubbleTriangle.set_color(this.bubble.color),this.bubbleTriangle.set_alpha(this.bubble.alpha)},unbindEvents:function(){o.prototype.unbindEvents.call(this),this.offObservedDirty(),this.offThemeChange(),this.offContentChange()},setEntity:function(e){this.entity=e instanceof o?e:null},getEntity:function(){return this.entity},initializerName:null,__class__:Pi,__properties__:$extend(o.prototype.__properties__,{set_content:"set_content",get_content:"get_content",set_theme:"set_theme",get_theme:"get_theme"})}),function(){this.unobservedPaletteColors=[],this.paletteColorsAutoruns=null,this.unobservedColorPickerHsluv=!1,this.colorPickerHsluvAutoruns=null,this.unobservedWindowsData=new ue,this.windowsDataAutoruns=null,ld.call(this)}),Bi=((E["elements.UserData"]=Fi).__name__="elements.UserData",Fi.__super__=ld,Fi.prototype=$extend(ld.prototype,{windowsDataAutoruns:null,get_windowsData:function(){var e,n,t=this.unobservedWindowsData;return null!=U.current&&(e=U.current,null!=(n=this.windowsDataAutoruns)||(n=U.getAutorunArray(),null!=(this.windowsDataAutoruns=n)))&&e.bindToAutorunArray(n),t},set_windowsData:function(e){var n=this.unobservedWindowsData;return this.unobservedWindowsData=e,Bl.equalAny(n,e)||(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!0)),this.emitWindowsDataChange(e,n),null!=(n=this.windowsDataAutoruns)&&(this.windowsDataAutoruns=null,U.invalidateAutorunArray(n))),e},invalidateWindowsData:function(){var e=this.unobservedWindowsData,e=(this.emitWindowsDataChange(e,e),this.windowsDataAutoruns);null!=e&&(this.windowsDataAutoruns=null,U.invalidateAutorunArray(e))},unobservedWindowsData:null,__cbOnWindowsDataChange:null,__cbOnceWindowsDataChange:null,__cbOnOwnerUnbindWindowsDataChange:null,__cbOnceOwnerUnbindWindowsDataChange:null,emitWindowsDataChange:function(e,n){var t=0;if(null!=this.__cbOnWindowsDataChange&&(t+=this.__cbOnWindowsDataChange.length),null!=this.__cbOnceWindowsDataChange&&(t+=this.__cbOnceWindowsDataChange.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnWindowsDataChange)for(var s=0,h=this.__cbOnWindowsDataChange.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnWindowsDataChange[a],++r):--t}if(null!=this.__cbOnceWindowsDataChange){for(var o=null,c=null,s=0,h=this.__cbOnceWindowsDataChange.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceWindowsDataChange[a],this.__cbOnceWindowsDataChange[a]=null,u=this.__cbOnceOwnerUnbindWindowsDataChange[a],(this.__cbOnceOwnerUnbindWindowsDataChange[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindWindowsDataChange[a]),c.push(this.__cbOnceWindowsDataChange[a]))}this.__cbOnceOwnerUnbindWindowsDataChange=o,this.__cbOnceWindowsDataChange=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onWindowsDataChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event windowsDataChange because owner is destroyed!");var l=function(e){null!=t&&(i.offWindowsDataChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindWindowsDataChange&&(this.__cbOnOwnerUnbindWindowsDataChange=[]),this.__cbOnOwnerUnbindWindowsDataChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindWindowsDataChange&&(this.__cbOnOwnerUnbindWindowsDataChange=[]),this.__cbOnOwnerUnbindWindowsDataChange.push(null);null==this.__cbOnWindowsDataChange&&(this.__cbOnWindowsDataChange=[]),this.__cbOnWindowsDataChange.push(t)},onceWindowsDataChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event windowsDataChange because owner is destroyed!");var l=function(e){null!=t&&(i.offWindowsDataChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindWindowsDataChange&&(this.__cbOnceOwnerUnbindWindowsDataChange=[]),this.__cbOnceOwnerUnbindWindowsDataChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindWindowsDataChange&&(this.__cbOnceOwnerUnbindWindowsDataChange=[]),this.__cbOnceOwnerUnbindWindowsDataChange.push(null);null==this.__cbOnceWindowsDataChange&&(this.__cbOnceWindowsDataChange=[]),this.__cbOnceWindowsDataChange.push(t)},offWindowsDataChange:function(e){if(null!=e){var n;null!=this.__cbOnWindowsDataChange&&-1!=(n=this.__cbOnWindowsDataChange.indexOf(e))&&(this.__cbOnWindowsDataChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindWindowsDataChange[n])&&r(),this.__cbOnOwnerUnbindWindowsDataChange.splice(n,1)),null!=this.__cbOnceWindowsDataChange&&-1!=(n=this.__cbOnceWindowsDataChange.indexOf(e))&&(this.__cbOnceWindowsDataChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindWindowsDataChange[n])&&r(),this.__cbOnceOwnerUnbindWindowsDataChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindWindowsDataChange){for(var t=0,i=this.__cbOnOwnerUnbindWindowsDataChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindWindowsDataChange[l])&&r()}this.__cbOnOwnerUnbindWindowsDataChange=null}if(null!=this.__cbOnceOwnerUnbindWindowsDataChange){for(t=0,i=this.__cbOnceOwnerUnbindWindowsDataChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindWindowsDataChange[l])&&r()}this.__cbOnceOwnerUnbindWindowsDataChange=null}this.__cbOnWindowsDataChange=null,this.__cbOnceWindowsDataChange=null}},listensWindowsDataChange:function(){return null!=this.__cbOnWindowsDataChange&&0<this.__cbOnWindowsDataChange.length||null!=this.__cbOnceWindowsDataChange&&0<this.__cbOnceWindowsDataChange.length},colorPickerHsluvAutoruns:null,get_colorPickerHsluv:function(){var e,n,t=this.unobservedColorPickerHsluv;return null!=U.current&&(e=U.current,null!=(n=this.colorPickerHsluvAutoruns)||(n=U.getAutorunArray(),null!=(this.colorPickerHsluvAutoruns=n)))&&e.bindToAutorunArray(n),t},set_colorPickerHsluv:function(e){var n=this.unobservedColorPickerHsluv;return n!=(this.unobservedColorPickerHsluv=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!0)),this.emitColorPickerHsluvChange(e,n),null!=(n=this.colorPickerHsluvAutoruns))&&(this.colorPickerHsluvAutoruns=null,U.invalidateAutorunArray(n)),e},invalidateColorPickerHsluv:function(){var e=this.unobservedColorPickerHsluv,e=(this.emitColorPickerHsluvChange(e,e),this.colorPickerHsluvAutoruns);null!=e&&(this.colorPickerHsluvAutoruns=null,U.invalidateAutorunArray(e))},unobservedColorPickerHsluv:null,__cbOnColorPickerHsluvChange:null,__cbOnceColorPickerHsluvChange:null,__cbOnOwnerUnbindColorPickerHsluvChange:null,__cbOnceOwnerUnbindColorPickerHsluvChange:null,emitColorPickerHsluvChange:function(e,n){var t=0;if(null!=this.__cbOnColorPickerHsluvChange&&(t+=this.__cbOnColorPickerHsluvChange.length),null!=this.__cbOnceColorPickerHsluvChange&&(t+=this.__cbOnceColorPickerHsluvChange.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnColorPickerHsluvChange)for(var s=0,h=this.__cbOnColorPickerHsluvChange.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnColorPickerHsluvChange[a],++r):--t}if(null!=this.__cbOnceColorPickerHsluvChange){for(var o=null,c=null,s=0,h=this.__cbOnceColorPickerHsluvChange.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceColorPickerHsluvChange[a],this.__cbOnceColorPickerHsluvChange[a]=null,u=this.__cbOnceOwnerUnbindColorPickerHsluvChange[a],(this.__cbOnceOwnerUnbindColorPickerHsluvChange[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindColorPickerHsluvChange[a]),c.push(this.__cbOnceColorPickerHsluvChange[a]))}this.__cbOnceOwnerUnbindColorPickerHsluvChange=o,this.__cbOnceColorPickerHsluvChange=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onColorPickerHsluvChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event colorPickerHsluvChange because owner is destroyed!");var l=function(e){null!=t&&(i.offColorPickerHsluvChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindColorPickerHsluvChange&&(this.__cbOnOwnerUnbindColorPickerHsluvChange=[]),this.__cbOnOwnerUnbindColorPickerHsluvChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindColorPickerHsluvChange&&(this.__cbOnOwnerUnbindColorPickerHsluvChange=[]),this.__cbOnOwnerUnbindColorPickerHsluvChange.push(null);null==this.__cbOnColorPickerHsluvChange&&(this.__cbOnColorPickerHsluvChange=[]),this.__cbOnColorPickerHsluvChange.push(t)},onceColorPickerHsluvChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event colorPickerHsluvChange because owner is destroyed!");var l=function(e){null!=t&&(i.offColorPickerHsluvChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindColorPickerHsluvChange&&(this.__cbOnceOwnerUnbindColorPickerHsluvChange=[]),this.__cbOnceOwnerUnbindColorPickerHsluvChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindColorPickerHsluvChange&&(this.__cbOnceOwnerUnbindColorPickerHsluvChange=[]),this.__cbOnceOwnerUnbindColorPickerHsluvChange.push(null);null==this.__cbOnceColorPickerHsluvChange&&(this.__cbOnceColorPickerHsluvChange=[]),this.__cbOnceColorPickerHsluvChange.push(t)},offColorPickerHsluvChange:function(e){if(null!=e){var n;null!=this.__cbOnColorPickerHsluvChange&&-1!=(n=this.__cbOnColorPickerHsluvChange.indexOf(e))&&(this.__cbOnColorPickerHsluvChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindColorPickerHsluvChange[n])&&r(),this.__cbOnOwnerUnbindColorPickerHsluvChange.splice(n,1)),null!=this.__cbOnceColorPickerHsluvChange&&-1!=(n=this.__cbOnceColorPickerHsluvChange.indexOf(e))&&(this.__cbOnceColorPickerHsluvChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindColorPickerHsluvChange[n])&&r(),this.__cbOnceOwnerUnbindColorPickerHsluvChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindColorPickerHsluvChange){for(var t=0,i=this.__cbOnOwnerUnbindColorPickerHsluvChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindColorPickerHsluvChange[l])&&r()}this.__cbOnOwnerUnbindColorPickerHsluvChange=null}if(null!=this.__cbOnceOwnerUnbindColorPickerHsluvChange){for(t=0,i=this.__cbOnceOwnerUnbindColorPickerHsluvChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindColorPickerHsluvChange[l])&&r()}this.__cbOnceOwnerUnbindColorPickerHsluvChange=null}this.__cbOnColorPickerHsluvChange=null,this.__cbOnceColorPickerHsluvChange=null}},listensColorPickerHsluvChange:function(){return null!=this.__cbOnColorPickerHsluvChange&&0<this.__cbOnColorPickerHsluvChange.length||null!=this.__cbOnceColorPickerHsluvChange&&0<this.__cbOnceColorPickerHsluvChange.length},paletteColorsAutoruns:null,get_paletteColors:function(){var e,n,t=this.unobservedPaletteColors;return null!=U.current&&(e=U.current,null!=(n=this.paletteColorsAutoruns)||(n=U.getAutorunArray(),null!=(this.paletteColorsAutoruns=n)))&&e.bindToAutorunArray(n),t},set_paletteColors:function(e){var n=this.unobservedPaletteColors;return this.unobservedPaletteColors=e,Bl.equalAny(n,e)||(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!0)),this.emitPaletteColorsChange(e,n),null!=(n=this.paletteColorsAutoruns)&&(this.paletteColorsAutoruns=null,U.invalidateAutorunArray(n))),e},invalidatePaletteColors:function(){var e=this.unobservedPaletteColors,e=(this.emitPaletteColorsChange(e,e),this.paletteColorsAutoruns);null!=e&&(this.paletteColorsAutoruns=null,U.invalidateAutorunArray(e))},unobservedPaletteColors:null,__cbOnPaletteColorsChange:null,__cbOncePaletteColorsChange:null,__cbOnOwnerUnbindPaletteColorsChange:null,__cbOnceOwnerUnbindPaletteColorsChange:null,emitPaletteColorsChange:function(e,n){var t=0;if(null!=this.__cbOnPaletteColorsChange&&(t+=this.__cbOnPaletteColorsChange.length),null!=this.__cbOncePaletteColorsChange&&(t+=this.__cbOncePaletteColorsChange.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnPaletteColorsChange)for(var s=0,h=this.__cbOnPaletteColorsChange.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnPaletteColorsChange[a],++r):--t}if(null!=this.__cbOncePaletteColorsChange){for(var o=null,c=null,s=0,h=this.__cbOncePaletteColorsChange.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOncePaletteColorsChange[a],this.__cbOncePaletteColorsChange[a]=null,u=this.__cbOnceOwnerUnbindPaletteColorsChange[a],(this.__cbOnceOwnerUnbindPaletteColorsChange[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindPaletteColorsChange[a]),c.push(this.__cbOncePaletteColorsChange[a]))}this.__cbOnceOwnerUnbindPaletteColorsChange=o,this.__cbOncePaletteColorsChange=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onPaletteColorsChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event paletteColorsChange because owner is destroyed!");var l=function(e){null!=t&&(i.offPaletteColorsChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindPaletteColorsChange&&(this.__cbOnOwnerUnbindPaletteColorsChange=[]),this.__cbOnOwnerUnbindPaletteColorsChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindPaletteColorsChange&&(this.__cbOnOwnerUnbindPaletteColorsChange=[]),this.__cbOnOwnerUnbindPaletteColorsChange.push(null);null==this.__cbOnPaletteColorsChange&&(this.__cbOnPaletteColorsChange=[]),this.__cbOnPaletteColorsChange.push(t)},oncePaletteColorsChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event paletteColorsChange because owner is destroyed!");var l=function(e){null!=t&&(i.offPaletteColorsChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindPaletteColorsChange&&(this.__cbOnceOwnerUnbindPaletteColorsChange=[]),this.__cbOnceOwnerUnbindPaletteColorsChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindPaletteColorsChange&&(this.__cbOnceOwnerUnbindPaletteColorsChange=[]),this.__cbOnceOwnerUnbindPaletteColorsChange.push(null);null==this.__cbOncePaletteColorsChange&&(this.__cbOncePaletteColorsChange=[]),this.__cbOncePaletteColorsChange.push(t)},offPaletteColorsChange:function(e){if(null!=e){var n;null!=this.__cbOnPaletteColorsChange&&-1!=(n=this.__cbOnPaletteColorsChange.indexOf(e))&&(this.__cbOnPaletteColorsChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindPaletteColorsChange[n])&&r(),this.__cbOnOwnerUnbindPaletteColorsChange.splice(n,1)),null!=this.__cbOncePaletteColorsChange&&-1!=(n=this.__cbOncePaletteColorsChange.indexOf(e))&&(this.__cbOncePaletteColorsChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindPaletteColorsChange[n])&&r(),this.__cbOnceOwnerUnbindPaletteColorsChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindPaletteColorsChange){for(var t=0,i=this.__cbOnOwnerUnbindPaletteColorsChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindPaletteColorsChange[l])&&r()}this.__cbOnOwnerUnbindPaletteColorsChange=null}if(null!=this.__cbOnceOwnerUnbindPaletteColorsChange){for(t=0,i=this.__cbOnceOwnerUnbindPaletteColorsChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindPaletteColorsChange[l])&&r()}this.__cbOnceOwnerUnbindPaletteColorsChange=null}this.__cbOnPaletteColorsChange=null,this.__cbOncePaletteColorsChange=null}},listensPaletteColorsChange:function(){return null!=this.__cbOnPaletteColorsChange&&0<this.__cbOnPaletteColorsChange.length||null!=this.__cbOncePaletteColorsChange&&0<this.__cbOncePaletteColorsChange.length},addPaletteColor:function(e,n){null==n&&(n=!0);var t=this.get_paletteColors();if(n)for(var i=0,l=t.length;i<l;)if(e==t[i++])return void he.app.logger.warning("Cannot add color "+(null==e?"null":-1==e?"NONE":"0x"+z.hex(e>>16&255,2)+z.hex(e>>8&255,2)+z.hex(255&e,2))+" in palette because it already exists. Ignoring.",{fileName:"../../../../ceramic/plugins/elements/runtime/src/elements/UserData.hx",lineNumber:124,className:"elements.UserData",methodName:"addPaletteColor"});n=[].concat(t);n.push(e),this.set_paletteColors(n)},movePaletteColor:function(e,n){var t=[].concat(this.get_paletteColors()),i=t[e];t.splice(e,1),t.splice(n,0,i),this.set_paletteColors(t)},removePaletteColor:function(e){var n=[].concat(this.get_paletteColors());n.splice(e,1),this.set_paletteColors(n)},unbindEvents:function(){ld.prototype.unbindEvents.call(this),this.offWindowsDataChange(),this.offColorPickerHsluvChange(),this.offPaletteColorsChange()},_default_windowsDataAutoruns:function(){return null},_default_windowsData:function(){return new ue},_default_colorPickerHsluvAutoruns:function(){return null},_default_colorPickerHsluv:function(){return!1},_default_paletteColorsAutoruns:function(){return null},_default_paletteColors:function(){return[]},__class__:Fi,__properties__:$extend(ld.prototype.__properties__,{set_paletteColors:"set_paletteColors",get_paletteColors:"get_paletteColors",set_colorPickerHsluv:"set_colorPickerHsluv",get_colorPickerHsluv:"get_colorPickerHsluv",set_windowsData:"set_windowsData",get_windowsData:"get_windowsData"})}),function(){this.computedVisualScale=1,this.unobservedVisual=null,this.visualAutoruns=null,this.unobservedScaling=Mi.FIT,this.scalingAutoruns=null,this.unobservedVisualScale=1,this.visualScaleAutoruns=null,this.unobservedContentAlign=En.CENTER,this.contentAlignAutoruns=null,this.filter=null,this.destroyFilterOnRemove=!0,this.destroyVisualOnRemove=!0,this.observedDirty=!1,f0.call(this),this.autorun($bind(this,this.updateVisualScale))}),Mi=((E["elements.VisualContainerView"]=Bi).__name__="elements.VisualContainerView",Bi.__interfaces__=[s],Bi.__super__=f0,Bi.prototype=$extend(f0.prototype,{__cbOnObservedDirty:null,__cbOnceObservedDirty:null,__cbOnOwnerUnbindObservedDirty:null,__cbOnceOwnerUnbindObservedDirty:null,emitObservedDirty:function(e,n){var t=0;if(null!=this.__cbOnObservedDirty&&(t+=this.__cbOnObservedDirty.length),null!=this.__cbOnceObservedDirty&&(t+=this.__cbOnceObservedDirty.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnObservedDirty)for(var s=0,h=this.__cbOnObservedDirty.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnObservedDirty[a],++r):--t}if(null!=this.__cbOnceObservedDirty){for(var o=null,c=null,s=0,h=this.__cbOnceObservedDirty.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceObservedDirty[a],this.__cbOnceObservedDirty[a]=null,u=this.__cbOnceOwnerUnbindObservedDirty[a],(this.__cbOnceOwnerUnbindObservedDirty[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindObservedDirty[a]),c.push(this.__cbOnceObservedDirty[a]))}this.__cbOnceOwnerUnbindObservedDirty=o,this.__cbOnceObservedDirty=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onObservedDirty:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event observedDirty because owner is destroyed!");var l=function(e){null!=t&&(i.offObservedDirty(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push(null);null==this.__cbOnObservedDirty&&(this.__cbOnObservedDirty=[]),this.__cbOnObservedDirty.push(t)},onceObservedDirty:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event observedDirty because owner is destroyed!");var l=function(e){null!=t&&(i.offObservedDirty(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push(null);null==this.__cbOnceObservedDirty&&(this.__cbOnceObservedDirty=[]),this.__cbOnceObservedDirty.push(t)},offObservedDirty:function(e){if(null!=e){var n;null!=this.__cbOnObservedDirty&&-1!=(n=this.__cbOnObservedDirty.indexOf(e))&&(this.__cbOnObservedDirty.splice(n,1),null!=(r=this.__cbOnOwnerUnbindObservedDirty[n])&&r(),this.__cbOnOwnerUnbindObservedDirty.splice(n,1)),null!=this.__cbOnceObservedDirty&&-1!=(n=this.__cbOnceObservedDirty.indexOf(e))&&(this.__cbOnceObservedDirty.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindObservedDirty[n])&&r(),this.__cbOnceOwnerUnbindObservedDirty.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindObservedDirty){for(var t=0,i=this.__cbOnOwnerUnbindObservedDirty.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindObservedDirty[l])&&r()}this.__cbOnOwnerUnbindObservedDirty=null}if(null!=this.__cbOnceOwnerUnbindObservedDirty){for(t=0,i=this.__cbOnceOwnerUnbindObservedDirty.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindObservedDirty[l])&&r()}this.__cbOnceOwnerUnbindObservedDirty=null}this.__cbOnObservedDirty=null,this.__cbOnceObservedDirty=null}},listensObservedDirty:function(){return null!=this.__cbOnObservedDirty&&0<this.__cbOnObservedDirty.length||null!=this.__cbOnceObservedDirty&&0<this.__cbOnceObservedDirty.length},observedDirty:null,destroyVisualOnRemove:null,destroyFilterOnRemove:null,filter:null,set_filter:function(e){var n,t;return this.filter!=e&&(n=this.get_visual(),null!=this.filter&&(t=e.content,null!=n&&n.parent==t&&t.remove(n),this.destroyFilterOnRemove?this.filter.destroy():this.filter.parent==this&&this.remove(this.filter),this.filter=null),null!=(this.filter=e)?(t=e.content,null!=n&&n.parent!=t&&t.add(n),this.add(e)):null!=n&&n.parent!=this&&this.add(n),this.layoutDirty=!0),e},contentAlignAutoruns:null,get_contentAlign:function(){var e,n,t=this.unobservedContentAlign;return null!=U.current&&(e=U.current,null!=(n=this.contentAlignAutoruns)||(n=U.getAutorunArray(),null!=(this.contentAlignAutoruns=n)))&&e.bindToAutorunArray(n),t},set_contentAlign:function(e){var n=this.unobservedContentAlign;return n!=(this.unobservedContentAlign=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitContentAlignChange(e,n),null!=(n=this.contentAlignAutoruns))&&(this.contentAlignAutoruns=null,U.invalidateAutorunArray(n)),e},invalidateContentAlign:function(){var e=this.unobservedContentAlign,e=(this.emitContentAlignChange(e,e),this.contentAlignAutoruns);null!=e&&(this.contentAlignAutoruns=null,U.invalidateAutorunArray(e))},unobservedContentAlign:null,__cbOnContentAlignChange:null,__cbOnceContentAlignChange:null,__cbOnOwnerUnbindContentAlignChange:null,__cbOnceOwnerUnbindContentAlignChange:null,emitContentAlignChange:function(e,n){var t=0;if(null!=this.__cbOnContentAlignChange&&(t+=this.__cbOnContentAlignChange.length),null!=this.__cbOnceContentAlignChange&&(t+=this.__cbOnceContentAlignChange.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnContentAlignChange)for(var s=0,h=this.__cbOnContentAlignChange.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnContentAlignChange[a],++r):--t}if(null!=this.__cbOnceContentAlignChange){for(var o=null,c=null,s=0,h=this.__cbOnceContentAlignChange.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceContentAlignChange[a],this.__cbOnceContentAlignChange[a]=null,u=this.__cbOnceOwnerUnbindContentAlignChange[a],(this.__cbOnceOwnerUnbindContentAlignChange[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindContentAlignChange[a]),c.push(this.__cbOnceContentAlignChange[a]))}this.__cbOnceOwnerUnbindContentAlignChange=o,this.__cbOnceContentAlignChange=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onContentAlignChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event contentAlignChange because owner is destroyed!");var l=function(e){null!=t&&(i.offContentAlignChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindContentAlignChange&&(this.__cbOnOwnerUnbindContentAlignChange=[]),this.__cbOnOwnerUnbindContentAlignChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindContentAlignChange&&(this.__cbOnOwnerUnbindContentAlignChange=[]),this.__cbOnOwnerUnbindContentAlignChange.push(null);null==this.__cbOnContentAlignChange&&(this.__cbOnContentAlignChange=[]),this.__cbOnContentAlignChange.push(t)},onceContentAlignChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event contentAlignChange because owner is destroyed!");var l=function(e){null!=t&&(i.offContentAlignChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindContentAlignChange&&(this.__cbOnceOwnerUnbindContentAlignChange=[]),this.__cbOnceOwnerUnbindContentAlignChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindContentAlignChange&&(this.__cbOnceOwnerUnbindContentAlignChange=[]),this.__cbOnceOwnerUnbindContentAlignChange.push(null);null==this.__cbOnceContentAlignChange&&(this.__cbOnceContentAlignChange=[]),this.__cbOnceContentAlignChange.push(t)},offContentAlignChange:function(e){if(null!=e){var n;null!=this.__cbOnContentAlignChange&&-1!=(n=this.__cbOnContentAlignChange.indexOf(e))&&(this.__cbOnContentAlignChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindContentAlignChange[n])&&r(),this.__cbOnOwnerUnbindContentAlignChange.splice(n,1)),null!=this.__cbOnceContentAlignChange&&-1!=(n=this.__cbOnceContentAlignChange.indexOf(e))&&(this.__cbOnceContentAlignChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindContentAlignChange[n])&&r(),this.__cbOnceOwnerUnbindContentAlignChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindContentAlignChange){for(var t=0,i=this.__cbOnOwnerUnbindContentAlignChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindContentAlignChange[l])&&r()}this.__cbOnOwnerUnbindContentAlignChange=null}if(null!=this.__cbOnceOwnerUnbindContentAlignChange){for(t=0,i=this.__cbOnceOwnerUnbindContentAlignChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindContentAlignChange[l])&&r()}this.__cbOnceOwnerUnbindContentAlignChange=null}this.__cbOnContentAlignChange=null,this.__cbOnceContentAlignChange=null}},listensContentAlignChange:function(){return null!=this.__cbOnContentAlignChange&&0<this.__cbOnContentAlignChange.length||null!=this.__cbOnceContentAlignChange&&0<this.__cbOnceContentAlignChange.length},visualScaleAutoruns:null,get_visualScale:function(){var e,n,t=this.unobservedVisualScale;return null!=U.current&&(e=U.current,null!=(n=this.visualScaleAutoruns)||(n=U.getAutorunArray(),null!=(this.visualScaleAutoruns=n)))&&e.bindToAutorunArray(n),t},set_visualScale:function(e){var n=this.unobservedVisualScale;return n!=(this.unobservedVisualScale=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitVisualScaleChange(e,n),null!=(n=this.visualScaleAutoruns))&&(this.visualScaleAutoruns=null,U.invalidateAutorunArray(n)),e},invalidateVisualScale:function(){var e=this.unobservedVisualScale,e=(this.emitVisualScaleChange(e,e),this.visualScaleAutoruns);null!=e&&(this.visualScaleAutoruns=null,U.invalidateAutorunArray(e))},unobservedVisualScale:null,__cbOnVisualScaleChange:null,__cbOnceVisualScaleChange:null,__cbOnOwnerUnbindVisualScaleChange:null,__cbOnceOwnerUnbindVisualScaleChange:null,emitVisualScaleChange:function(e,n){var t=0;if(null!=this.__cbOnVisualScaleChange&&(t+=this.__cbOnVisualScaleChange.length),null!=this.__cbOnceVisualScaleChange&&(t+=this.__cbOnceVisualScaleChange.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnVisualScaleChange)for(var s=0,h=this.__cbOnVisualScaleChange.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnVisualScaleChange[a],++r):--t}if(null!=this.__cbOnceVisualScaleChange){for(var o=null,c=null,s=0,h=this.__cbOnceVisualScaleChange.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceVisualScaleChange[a],this.__cbOnceVisualScaleChange[a]=null,u=this.__cbOnceOwnerUnbindVisualScaleChange[a],(this.__cbOnceOwnerUnbindVisualScaleChange[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindVisualScaleChange[a]),c.push(this.__cbOnceVisualScaleChange[a]))}this.__cbOnceOwnerUnbindVisualScaleChange=o,this.__cbOnceVisualScaleChange=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onVisualScaleChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event visualScaleChange because owner is destroyed!");var l=function(e){null!=t&&(i.offVisualScaleChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindVisualScaleChange&&(this.__cbOnOwnerUnbindVisualScaleChange=[]),this.__cbOnOwnerUnbindVisualScaleChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindVisualScaleChange&&(this.__cbOnOwnerUnbindVisualScaleChange=[]),this.__cbOnOwnerUnbindVisualScaleChange.push(null);null==this.__cbOnVisualScaleChange&&(this.__cbOnVisualScaleChange=[]),this.__cbOnVisualScaleChange.push(t)},onceVisualScaleChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event visualScaleChange because owner is destroyed!");var l=function(e){null!=t&&(i.offVisualScaleChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindVisualScaleChange&&(this.__cbOnceOwnerUnbindVisualScaleChange=[]),this.__cbOnceOwnerUnbindVisualScaleChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindVisualScaleChange&&(this.__cbOnceOwnerUnbindVisualScaleChange=[]),this.__cbOnceOwnerUnbindVisualScaleChange.push(null);null==this.__cbOnceVisualScaleChange&&(this.__cbOnceVisualScaleChange=[]),this.__cbOnceVisualScaleChange.push(t)},offVisualScaleChange:function(e){if(null!=e){var n;null!=this.__cbOnVisualScaleChange&&-1!=(n=this.__cbOnVisualScaleChange.indexOf(e))&&(this.__cbOnVisualScaleChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindVisualScaleChange[n])&&r(),this.__cbOnOwnerUnbindVisualScaleChange.splice(n,1)),null!=this.__cbOnceVisualScaleChange&&-1!=(n=this.__cbOnceVisualScaleChange.indexOf(e))&&(this.__cbOnceVisualScaleChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindVisualScaleChange[n])&&r(),this.__cbOnceOwnerUnbindVisualScaleChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindVisualScaleChange){for(var t=0,i=this.__cbOnOwnerUnbindVisualScaleChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindVisualScaleChange[l])&&r()}this.__cbOnOwnerUnbindVisualScaleChange=null}if(null!=this.__cbOnceOwnerUnbindVisualScaleChange){for(t=0,i=this.__cbOnceOwnerUnbindVisualScaleChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindVisualScaleChange[l])&&r()}this.__cbOnceOwnerUnbindVisualScaleChange=null}this.__cbOnVisualScaleChange=null,this.__cbOnceVisualScaleChange=null}},listensVisualScaleChange:function(){return null!=this.__cbOnVisualScaleChange&&0<this.__cbOnVisualScaleChange.length||null!=this.__cbOnceVisualScaleChange&&0<this.__cbOnceVisualScaleChange.length},scalingAutoruns:null,get_scaling:function(){var e,n,t=this.unobservedScaling;return null!=U.current&&(e=U.current,null!=(n=this.scalingAutoruns)||(n=U.getAutorunArray(),null!=(this.scalingAutoruns=n)))&&e.bindToAutorunArray(n),t},set_scaling:function(e){var n=this.unobservedScaling;return n!=(this.unobservedScaling=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitScalingChange(e,n),null!=(n=this.scalingAutoruns))&&(this.scalingAutoruns=null,U.invalidateAutorunArray(n)),e},invalidateScaling:function(){var e=this.unobservedScaling,e=(this.emitScalingChange(e,e),this.scalingAutoruns);null!=e&&(this.scalingAutoruns=null,U.invalidateAutorunArray(e))},unobservedScaling:null,__cbOnScalingChange:null,__cbOnceScalingChange:null,__cbOnOwnerUnbindScalingChange:null,__cbOnceOwnerUnbindScalingChange:null,emitScalingChange:function(e,n){var t=0;if(null!=this.__cbOnScalingChange&&(t+=this.__cbOnScalingChange.length),null!=this.__cbOnceScalingChange&&(t+=this.__cbOnceScalingChange.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnScalingChange)for(var s=0,h=this.__cbOnScalingChange.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnScalingChange[a],++r):--t}if(null!=this.__cbOnceScalingChange){for(var o=null,c=null,s=0,h=this.__cbOnceScalingChange.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceScalingChange[a],this.__cbOnceScalingChange[a]=null,u=this.__cbOnceOwnerUnbindScalingChange[a],(this.__cbOnceOwnerUnbindScalingChange[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindScalingChange[a]),c.push(this.__cbOnceScalingChange[a]))}this.__cbOnceOwnerUnbindScalingChange=o,this.__cbOnceScalingChange=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onScalingChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event scalingChange because owner is destroyed!");var l=function(e){null!=t&&(i.offScalingChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindScalingChange&&(this.__cbOnOwnerUnbindScalingChange=[]),this.__cbOnOwnerUnbindScalingChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindScalingChange&&(this.__cbOnOwnerUnbindScalingChange=[]),this.__cbOnOwnerUnbindScalingChange.push(null);null==this.__cbOnScalingChange&&(this.__cbOnScalingChange=[]),this.__cbOnScalingChange.push(t)},onceScalingChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event scalingChange because owner is destroyed!");var l=function(e){null!=t&&(i.offScalingChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindScalingChange&&(this.__cbOnceOwnerUnbindScalingChange=[]),this.__cbOnceOwnerUnbindScalingChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindScalingChange&&(this.__cbOnceOwnerUnbindScalingChange=[]),this.__cbOnceOwnerUnbindScalingChange.push(null);null==this.__cbOnceScalingChange&&(this.__cbOnceScalingChange=[]),this.__cbOnceScalingChange.push(t)},offScalingChange:function(e){if(null!=e){var n;null!=this.__cbOnScalingChange&&-1!=(n=this.__cbOnScalingChange.indexOf(e))&&(this.__cbOnScalingChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindScalingChange[n])&&r(),this.__cbOnOwnerUnbindScalingChange.splice(n,1)),null!=this.__cbOnceScalingChange&&-1!=(n=this.__cbOnceScalingChange.indexOf(e))&&(this.__cbOnceScalingChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindScalingChange[n])&&r(),this.__cbOnceOwnerUnbindScalingChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindScalingChange){for(var t=0,i=this.__cbOnOwnerUnbindScalingChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindScalingChange[l])&&r()}this.__cbOnOwnerUnbindScalingChange=null}if(null!=this.__cbOnceOwnerUnbindScalingChange){for(t=0,i=this.__cbOnceOwnerUnbindScalingChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindScalingChange[l])&&r()}this.__cbOnceOwnerUnbindScalingChange=null}this.__cbOnScalingChange=null,this.__cbOnceScalingChange=null}},listensScalingChange:function(){return null!=this.__cbOnScalingChange&&0<this.__cbOnScalingChange.length||null!=this.__cbOnceScalingChange&&0<this.__cbOnceScalingChange.length},visualAutoruns:null,get_visual:function(){var e,n,t=this.unobservedVisual;return null!=U.current&&(e=U.current,null!=(n=this.visualAutoruns)||(n=U.getAutorunArray(),null!=(this.visualAutoruns=n)))&&e.bindToAutorunArray(n),t},set_visual:function(e){var n=this.unobservedVisual;return this.set_unobservedVisual(e),n!=e&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitVisualChange(e,n),null!=(n=this.visualAutoruns))&&(this.visualAutoruns=null,U.invalidateAutorunArray(n)),e},invalidateVisual:function(){var e=this.unobservedVisual,e=(this.emitVisualChange(e,e),this.visualAutoruns);null!=e&&(this.visualAutoruns=null,U.invalidateAutorunArray(e))},unobservedVisual:null,__cbOnVisualChange:null,__cbOnceVisualChange:null,__cbOnOwnerUnbindVisualChange:null,__cbOnceOwnerUnbindVisualChange:null,emitVisualChange:function(e,n){var t=0;if(null!=this.__cbOnVisualChange&&(t+=this.__cbOnVisualChange.length),null!=this.__cbOnceVisualChange&&(t+=this.__cbOnceVisualChange.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnVisualChange)for(var s=0,h=this.__cbOnVisualChange.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnVisualChange[a],++r):--t}if(null!=this.__cbOnceVisualChange){for(var o=null,c=null,s=0,h=this.__cbOnceVisualChange.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceVisualChange[a],this.__cbOnceVisualChange[a]=null,u=this.__cbOnceOwnerUnbindVisualChange[a],(this.__cbOnceOwnerUnbindVisualChange[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindVisualChange[a]),c.push(this.__cbOnceVisualChange[a]))}this.__cbOnceOwnerUnbindVisualChange=o,this.__cbOnceVisualChange=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onVisualChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event visualChange because owner is destroyed!");var l=function(e){null!=t&&(i.offVisualChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindVisualChange&&(this.__cbOnOwnerUnbindVisualChange=[]),this.__cbOnOwnerUnbindVisualChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindVisualChange&&(this.__cbOnOwnerUnbindVisualChange=[]),this.__cbOnOwnerUnbindVisualChange.push(null);null==this.__cbOnVisualChange&&(this.__cbOnVisualChange=[]),this.__cbOnVisualChange.push(t)},onceVisualChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event visualChange because owner is destroyed!");var l=function(e){null!=t&&(i.offVisualChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindVisualChange&&(this.__cbOnceOwnerUnbindVisualChange=[]),this.__cbOnceOwnerUnbindVisualChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindVisualChange&&(this.__cbOnceOwnerUnbindVisualChange=[]),this.__cbOnceOwnerUnbindVisualChange.push(null);null==this.__cbOnceVisualChange&&(this.__cbOnceVisualChange=[]),this.__cbOnceVisualChange.push(t)},offVisualChange:function(e){if(null!=e){var n;null!=this.__cbOnVisualChange&&-1!=(n=this.__cbOnVisualChange.indexOf(e))&&(this.__cbOnVisualChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindVisualChange[n])&&r(),this.__cbOnOwnerUnbindVisualChange.splice(n,1)),null!=this.__cbOnceVisualChange&&-1!=(n=this.__cbOnceVisualChange.indexOf(e))&&(this.__cbOnceVisualChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindVisualChange[n])&&r(),this.__cbOnceOwnerUnbindVisualChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindVisualChange){for(var t=0,i=this.__cbOnOwnerUnbindVisualChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindVisualChange[l])&&r()}this.__cbOnOwnerUnbindVisualChange=null}if(null!=this.__cbOnceOwnerUnbindVisualChange){for(t=0,i=this.__cbOnceOwnerUnbindVisualChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindVisualChange[l])&&r()}this.__cbOnceOwnerUnbindVisualChange=null}this.__cbOnVisualChange=null,this.__cbOnceVisualChange=null}},listensVisualChange:function(){return null!=this.__cbOnVisualChange&&0<this.__cbOnVisualChange.length||null!=this.__cbOnceVisualChange&&0<this.__cbOnceVisualChange.length},set_unobservedVisual:function(e){var n;return(this.unobservedVisual!=e||null!=e&&e.parent!=this)&&(null!=(n=this.unobservedVisual)&&n!=e&&(n.parent==this||null!=this.filter&&n.parent==this.filter.content)&&(n.parent.remove(n),this.destroyVisualOnRemove?n.destroy():n.set_active(!1)),this.unobservedVisual=e),null!=e&&(n=null!=this.filter?this.filter.content:this,e.parent!=n&&(n.add(e),this.layoutDirty=!0),e.set_active(!0)),e},computedVisualScale:null,clear:function(){this.set_visual(null),f0.prototype.clear.call(this)},updateVisualScale:function(){var e,n=this.get_scaling(),t=this.get_visualScale();switch(n._hx_index){case 0:e=t;break;case 1:e=this.computedVisualScale;break;case 2:e=1}var i=this.get_visual();U.unobserve(),null!=i&&n!=Mi.FILL&&(i.set_scaleX(e),i.set_scaleY(e)),U.reobserve()},computeSize:function(e,n,t,i){f0.prototype.computeSize.call(this,e,n,t,i),null!=this.get_visual()?this.computedVisualScale=this.computeSizeWithIntrinsicBounds(e,n,t,i,this.get_visual().get_width(),this.get_visual().get_height()):this.computedVisualScale=1,this.updateVisualScale()},layout:function(){var e,n,t,i=this.get_width()-this.paddingLeft-this.paddingRight,l=this.get_height()-this.paddingTop-this.paddingBottom;null!=this.filter&&((t=this.filter).set_x(0),t.set_y(0),t=this.filter,n=this.get_width(),e=this.get_height(),t.set_width(n),t.set_height(e)),null!=this.get_visual()&&((t=this.get_visual()).set_anchorX(.5),t.set_anchorY(.5),t=this.get_visual(),n=this.paddingTop+.5*l,t.set_x(this.paddingLeft+.5*i),t.set_y(n),e=this.get_visual().get_width(),n=this.get_visual().get_height(),0<e)&&0<n&&2==this.get_scaling()._hx_index&&((t=this.get_visual()).set_scaleX(i/e),t.set_scaleY(l/n))},unbindEvents:function(){f0.prototype.unbindEvents.call(this),this.offObservedDirty(),this.offContentAlignChange(),this.offVisualScaleChange(),this.offScalingChange(),this.offVisualChange()},__class__:Bi,__properties__:$extend(f0.prototype.__properties__,{set_unobservedVisual:"set_unobservedVisual",set_visual:"set_visual",get_visual:"get_visual",set_scaling:"set_scaling",get_scaling:"get_scaling",set_visualScale:"set_visualScale",get_visualScale:"get_visualScale",set_contentAlign:"set_contentAlign",get_contentAlign:"get_contentAlign",set_filter:"set_filter"})}),Oe["elements.VisualContainerViewScaling"]={__ename__:"elements.VisualContainerViewScaling",__constructs__:null,CUSTOM:{_hx_name:"CUSTOM",_hx_index:0,__enum__:"elements.VisualContainerViewScaling",toString:c},FIT:{_hx_name:"FIT",_hx_index:1,__enum__:"elements.VisualContainerViewScaling",toString:c},FILL:{_hx_name:"FILL",_hx_index:2,__enum__:"elements.VisualContainerViewScaling",toString:c}}),Ei=(Mi.__constructs__=[Mi.CUSTOM,Mi.FIT,Mi.FILL],function(){this.dragging=!1,this.dragPointerStartY=0,this.dragPointerStartX=0,this.windowPosStartY=0,this.windowPosStartX=0,this.overlay=null,this.movable=!0,this.computedOnceScrolls=!1,this.scrollsAutoruns=null,this.unobservedTitleAlign=_t.LEFT,this.titleAlignAutoruns=null,this.unobservedHeader=!0,this.headerAutoruns=null,this.unobservedCollapsible=!0,this.collapsibleAutoruns=null,this.unobservedClosable=!1,this.closableAutoruns=null,this.unobservedTitle=null,this.titleAutoruns=null,this.unobservedContentView=null,this.contentViewAutoruns=null,this.unobservedTheme=null,this.themeAutoruns=null,this.observedDirty=!1,r0.call(this),10!=this.borderDepth&&(this.borderDepth=10,null!=this.border)&&this.border.set_depth(10);{var e=Ve.INSIDE,e,e;this.borderPosition!=e&&(this.borderPosition=e,0<this.borderSize||0<this.borderTopSize||0<this.borderBottomSize||0<this.borderLeftSize||0<this.borderRightSize)&&this.updateBorder(),1!=this.borderSize&&(this.borderSize=1,this.updateBorder()),this.set_x(Ei.DEFAULT_X),this.set_y(Ei.DEFAULT_Y),this.headerView=new Ub,(e=this.headerView).flags&=-17,(e=this.headerView).set_viewWidth(-49900),e.set_viewHeight(Ei.HEADER_HEIGHT),this.headerView.onPointerDown(this,$bind(this,this.headerDown)),this.headerViewDoubleClick=new G0,this.headerViewDoubleClick.onDoubleClick(this,$bind(this,this.emitHeaderDoubleClick)),this.headerView.component("doubleClick",this.headerViewDoubleClick),this.add(this.headerView),this.expandView=new f0;var e,n=((e=this.expandView).flags|=16,.5*Ei.HEADER_HEIGHT),t=.4*Ei.HEADER_HEIGHT;this.expandTriangle=new za}(e=this.expandTriangle).set_anchorX(.5),e.set_anchorY(.5),(e=this.expandTriangle).set_width(n),e.set_height(t),(e=this.expandTriangle).set_x(.5*Ei.HEADER_HEIGHT),e.set_y(.5*Ei.HEADER_HEIGHT),this.expandTriangle.set_rotation(90),this.expandView.add(this.expandTriangle),(e=this.expandView).set_viewWidth(Ei.HEADER_HEIGHT),e.set_viewHeight(Ei.HEADER_HEIGHT),this.expandCollapseClick=new b0,this.expandCollapseClick.onClick(this,$bind(this,this.emitExpandCollapseClick)),this.expandView.component("click",this.expandCollapseClick),this.headerView.add(this.expandView),this.titleView=new w1,this.titleView.set_verticalAlign(En.CENTER),this.titleView.set_pointSize(Ei.TITLE_TEXT_SIZE),this.titleView.set_preRenderedSize(Ei.FONT_PRE_RENDERED_SIZE),(e=this.titleView).set_viewWidth(-60002),e.set_viewHeight(-60002),this.titleView.set_align(this.get_titleAlign()),this.titleView.set_content(""),this.titleView.set_paddingLeft(5),this.headerView.add(this.titleView),this.closeView=new f0;(e=this.closeView).flags|=16;this.closeCross=new V2,(e=this.closeCross).set_anchorX(.5),e.set_anchorY(.5),(e=this.closeCross).set_width(14),e.set_height(14),(e=this.closeCross).set_x(.5*Ei.HEADER_HEIGHT),e.set_y(.5*Ei.HEADER_HEIGHT),this.closeView.add(this.closeCross),(e=this.closeView).set_viewWidth(Ei.HEADER_HEIGHT),e.set_viewHeight(Ei.HEADER_HEIGHT),this.closeClick=new b0,this.closeClick.onClick(this,$bind(this,this.emitClose)),this.closeView.component("click",this.closeClick),this.closeView.set_active(this.get_closable()),this.headerView.add(this.closeView),this.bodyView=new r0,(e=this.bodyView).set_viewWidth(-49900),e.set_viewHeight(0),this.add(this.bodyView),this.onContentViewChange(this,$bind(this,this.contentViewChange)),this.onTitleChange(this,$bind(this,this.titleChange)),this.onTitleAlignChange(this,$bind(this,this.titleAlignChange)),this.onClosableChange(this,$bind(this,this.closableChange)),this.onCollapsibleChange(this,$bind(this,this.collapsibleChange)),this.onHeaderChange(this,$bind(this,this.headerChange)),this.autorun($bind(this,this.updateStyle)),this.onPointerDown(this,function(e){}),this.onPointerOver(this,function(e){})}),Li=((E["elements.Window"]=Ei).__name__="elements.Window",Ei.__interfaces__=[s],Ei.__super__=r0,Ei.prototype=$extend(r0.prototype,{__cbOnObservedDirty:null,__cbOnceObservedDirty:null,__cbOnOwnerUnbindObservedDirty:null,__cbOnceOwnerUnbindObservedDirty:null,emitObservedDirty:function(e,n){var t=0;if(null!=this.__cbOnObservedDirty&&(t+=this.__cbOnObservedDirty.length),null!=this.__cbOnceObservedDirty&&(t+=this.__cbOnceObservedDirty.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnObservedDirty)for(var s=0,h=this.__cbOnObservedDirty.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnObservedDirty[a],++r):--t}if(null!=this.__cbOnceObservedDirty){for(var o=null,c=null,s=0,h=this.__cbOnceObservedDirty.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceObservedDirty[a],this.__cbOnceObservedDirty[a]=null,u=this.__cbOnceOwnerUnbindObservedDirty[a],(this.__cbOnceOwnerUnbindObservedDirty[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindObservedDirty[a]),c.push(this.__cbOnceObservedDirty[a]))}this.__cbOnceOwnerUnbindObservedDirty=o,this.__cbOnceObservedDirty=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onObservedDirty:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event observedDirty because owner is destroyed!");var l=function(e){null!=t&&(i.offObservedDirty(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push(null);null==this.__cbOnObservedDirty&&(this.__cbOnObservedDirty=[]),this.__cbOnObservedDirty.push(t)},onceObservedDirty:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event observedDirty because owner is destroyed!");var l=function(e){null!=t&&(i.offObservedDirty(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push(null);null==this.__cbOnceObservedDirty&&(this.__cbOnceObservedDirty=[]),this.__cbOnceObservedDirty.push(t)},offObservedDirty:function(e){if(null!=e){var n;null!=this.__cbOnObservedDirty&&-1!=(n=this.__cbOnObservedDirty.indexOf(e))&&(this.__cbOnObservedDirty.splice(n,1),null!=(r=this.__cbOnOwnerUnbindObservedDirty[n])&&r(),this.__cbOnOwnerUnbindObservedDirty.splice(n,1)),null!=this.__cbOnceObservedDirty&&-1!=(n=this.__cbOnceObservedDirty.indexOf(e))&&(this.__cbOnceObservedDirty.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindObservedDirty[n])&&r(),this.__cbOnceOwnerUnbindObservedDirty.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindObservedDirty){for(var t=0,i=this.__cbOnOwnerUnbindObservedDirty.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindObservedDirty[l])&&r()}this.__cbOnOwnerUnbindObservedDirty=null}if(null!=this.__cbOnceOwnerUnbindObservedDirty){for(t=0,i=this.__cbOnceOwnerUnbindObservedDirty.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindObservedDirty[l])&&r()}this.__cbOnceOwnerUnbindObservedDirty=null}this.__cbOnObservedDirty=null,this.__cbOnceObservedDirty=null}},listensObservedDirty:function(){return null!=this.__cbOnObservedDirty&&0<this.__cbOnObservedDirty.length||null!=this.__cbOnceObservedDirty&&0<this.__cbOnceObservedDirty.length},observedDirty:null,themeAutoruns:null,get_theme:function(){var e,n,t=this.unobservedTheme;return null!=U.current&&(e=U.current,null!=(n=this.themeAutoruns)||(n=U.getAutorunArray(),null!=(this.themeAutoruns=n)))&&e.bindToAutorunArray(n),t},set_theme:function(e){var n=this.unobservedTheme;return n!=(this.unobservedTheme=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitThemeChange(e,n),null!=(n=this.themeAutoruns))&&(this.themeAutoruns=null,U.invalidateAutorunArray(n)),e},invalidateTheme:function(){var e=this.unobservedTheme,e=(this.emitThemeChange(e,e),this.themeAutoruns);null!=e&&(this.themeAutoruns=null,U.invalidateAutorunArray(e))},unobservedTheme:null,__cbOnThemeChange:null,__cbOnceThemeChange:null,__cbOnOwnerUnbindThemeChange:null,__cbOnceOwnerUnbindThemeChange:null,emitThemeChange:function(e,n){var t=0;if(null!=this.__cbOnThemeChange&&(t+=this.__cbOnThemeChange.length),null!=this.__cbOnceThemeChange&&(t+=this.__cbOnceThemeChange.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnThemeChange)for(var s=0,h=this.__cbOnThemeChange.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnThemeChange[a],++r):--t}if(null!=this.__cbOnceThemeChange){for(var o=null,c=null,s=0,h=this.__cbOnceThemeChange.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceThemeChange[a],this.__cbOnceThemeChange[a]=null,u=this.__cbOnceOwnerUnbindThemeChange[a],(this.__cbOnceOwnerUnbindThemeChange[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindThemeChange[a]),c.push(this.__cbOnceThemeChange[a]))}this.__cbOnceOwnerUnbindThemeChange=o,this.__cbOnceThemeChange=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onThemeChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event themeChange because owner is destroyed!");var l=function(e){null!=t&&(i.offThemeChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindThemeChange&&(this.__cbOnOwnerUnbindThemeChange=[]),this.__cbOnOwnerUnbindThemeChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindThemeChange&&(this.__cbOnOwnerUnbindThemeChange=[]),this.__cbOnOwnerUnbindThemeChange.push(null);null==this.__cbOnThemeChange&&(this.__cbOnThemeChange=[]),this.__cbOnThemeChange.push(t)},onceThemeChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event themeChange because owner is destroyed!");var l=function(e){null!=t&&(i.offThemeChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindThemeChange&&(this.__cbOnceOwnerUnbindThemeChange=[]),this.__cbOnceOwnerUnbindThemeChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindThemeChange&&(this.__cbOnceOwnerUnbindThemeChange=[]),this.__cbOnceOwnerUnbindThemeChange.push(null);null==this.__cbOnceThemeChange&&(this.__cbOnceThemeChange=[]),this.__cbOnceThemeChange.push(t)},offThemeChange:function(e){if(null!=e){var n;null!=this.__cbOnThemeChange&&-1!=(n=this.__cbOnThemeChange.indexOf(e))&&(this.__cbOnThemeChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindThemeChange[n])&&r(),this.__cbOnOwnerUnbindThemeChange.splice(n,1)),null!=this.__cbOnceThemeChange&&-1!=(n=this.__cbOnceThemeChange.indexOf(e))&&(this.__cbOnceThemeChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindThemeChange[n])&&r(),this.__cbOnceOwnerUnbindThemeChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindThemeChange){for(var t=0,i=this.__cbOnOwnerUnbindThemeChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindThemeChange[l])&&r()}this.__cbOnOwnerUnbindThemeChange=null}if(null!=this.__cbOnceOwnerUnbindThemeChange){for(t=0,i=this.__cbOnceOwnerUnbindThemeChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindThemeChange[l])&&r()}this.__cbOnceOwnerUnbindThemeChange=null}this.__cbOnThemeChange=null,this.__cbOnceThemeChange=null}},listensThemeChange:function(){return null!=this.__cbOnThemeChange&&0<this.__cbOnThemeChange.length||null!=this.__cbOnceThemeChange&&0<this.__cbOnceThemeChange.length},contentViewAutoruns:null,get_contentView:function(){var e,n,t=this.unobservedContentView;return null!=U.current&&(e=U.current,null!=(n=this.contentViewAutoruns)||(n=U.getAutorunArray(),null!=(this.contentViewAutoruns=n)))&&e.bindToAutorunArray(n),t},set_contentView:function(e){var n=this.unobservedContentView;return n!=(this.unobservedContentView=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitContentViewChange(e,n),null!=(n=this.contentViewAutoruns))&&(this.contentViewAutoruns=null,U.invalidateAutorunArray(n)),e},invalidateContentView:function(){var e=this.unobservedContentView,e=(this.emitContentViewChange(e,e),this.contentViewAutoruns);null!=e&&(this.contentViewAutoruns=null,U.invalidateAutorunArray(e))},unobservedContentView:null,__cbOnContentViewChange:null,__cbOnceContentViewChange:null,__cbOnOwnerUnbindContentViewChange:null,__cbOnceOwnerUnbindContentViewChange:null,emitContentViewChange:function(e,n){var t=0;if(null!=this.__cbOnContentViewChange&&(t+=this.__cbOnContentViewChange.length),null!=this.__cbOnceContentViewChange&&(t+=this.__cbOnceContentViewChange.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnContentViewChange)for(var s=0,h=this.__cbOnContentViewChange.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnContentViewChange[a],++r):--t}if(null!=this.__cbOnceContentViewChange){for(var o=null,c=null,s=0,h=this.__cbOnceContentViewChange.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceContentViewChange[a],this.__cbOnceContentViewChange[a]=null,u=this.__cbOnceOwnerUnbindContentViewChange[a],(this.__cbOnceOwnerUnbindContentViewChange[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindContentViewChange[a]),c.push(this.__cbOnceContentViewChange[a]))}this.__cbOnceOwnerUnbindContentViewChange=o,this.__cbOnceContentViewChange=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onContentViewChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event contentViewChange because owner is destroyed!");var l=function(e){null!=t&&(i.offContentViewChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindContentViewChange&&(this.__cbOnOwnerUnbindContentViewChange=[]),this.__cbOnOwnerUnbindContentViewChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindContentViewChange&&(this.__cbOnOwnerUnbindContentViewChange=[]),this.__cbOnOwnerUnbindContentViewChange.push(null);null==this.__cbOnContentViewChange&&(this.__cbOnContentViewChange=[]),this.__cbOnContentViewChange.push(t)},onceContentViewChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event contentViewChange because owner is destroyed!");var l=function(e){null!=t&&(i.offContentViewChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindContentViewChange&&(this.__cbOnceOwnerUnbindContentViewChange=[]),this.__cbOnceOwnerUnbindContentViewChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindContentViewChange&&(this.__cbOnceOwnerUnbindContentViewChange=[]),this.__cbOnceOwnerUnbindContentViewChange.push(null);null==this.__cbOnceContentViewChange&&(this.__cbOnceContentViewChange=[]),this.__cbOnceContentViewChange.push(t)},offContentViewChange:function(e){if(null!=e){var n;null!=this.__cbOnContentViewChange&&-1!=(n=this.__cbOnContentViewChange.indexOf(e))&&(this.__cbOnContentViewChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindContentViewChange[n])&&r(),this.__cbOnOwnerUnbindContentViewChange.splice(n,1)),null!=this.__cbOnceContentViewChange&&-1!=(n=this.__cbOnceContentViewChange.indexOf(e))&&(this.__cbOnceContentViewChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindContentViewChange[n])&&r(),this.__cbOnceOwnerUnbindContentViewChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindContentViewChange){for(var t=0,i=this.__cbOnOwnerUnbindContentViewChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindContentViewChange[l])&&r()}this.__cbOnOwnerUnbindContentViewChange=null}if(null!=this.__cbOnceOwnerUnbindContentViewChange){for(t=0,i=this.__cbOnceOwnerUnbindContentViewChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindContentViewChange[l])&&r()}this.__cbOnceOwnerUnbindContentViewChange=null}this.__cbOnContentViewChange=null,this.__cbOnceContentViewChange=null}},listensContentViewChange:function(){return null!=this.__cbOnContentViewChange&&0<this.__cbOnContentViewChange.length||null!=this.__cbOnceContentViewChange&&0<this.__cbOnceContentViewChange.length},titleAutoruns:null,get_title:function(){var e,n,t=this.unobservedTitle;return null!=U.current&&(e=U.current,null!=(n=this.titleAutoruns)||(n=U.getAutorunArray(),null!=(this.titleAutoruns=n)))&&e.bindToAutorunArray(n),t},set_title:function(e){var n=this.unobservedTitle;return n!=(this.unobservedTitle=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitTitleChange(e,n),null!=(n=this.titleAutoruns))&&(this.titleAutoruns=null,U.invalidateAutorunArray(n)),e},invalidateTitle:function(){var e=this.unobservedTitle,e=(this.emitTitleChange(e,e),this.titleAutoruns);null!=e&&(this.titleAutoruns=null,U.invalidateAutorunArray(e))},unobservedTitle:null,__cbOnTitleChange:null,__cbOnceTitleChange:null,__cbOnOwnerUnbindTitleChange:null,__cbOnceOwnerUnbindTitleChange:null,emitTitleChange:function(e,n){var t=0;if(null!=this.__cbOnTitleChange&&(t+=this.__cbOnTitleChange.length),null!=this.__cbOnceTitleChange&&(t+=this.__cbOnceTitleChange.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnTitleChange)for(var s=0,h=this.__cbOnTitleChange.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnTitleChange[a],++r):--t}if(null!=this.__cbOnceTitleChange){for(var o=null,c=null,s=0,h=this.__cbOnceTitleChange.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceTitleChange[a],this.__cbOnceTitleChange[a]=null,u=this.__cbOnceOwnerUnbindTitleChange[a],(this.__cbOnceOwnerUnbindTitleChange[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindTitleChange[a]),c.push(this.__cbOnceTitleChange[a]))}this.__cbOnceOwnerUnbindTitleChange=o,this.__cbOnceTitleChange=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onTitleChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event titleChange because owner is destroyed!");var l=function(e){null!=t&&(i.offTitleChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindTitleChange&&(this.__cbOnOwnerUnbindTitleChange=[]),this.__cbOnOwnerUnbindTitleChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindTitleChange&&(this.__cbOnOwnerUnbindTitleChange=[]),this.__cbOnOwnerUnbindTitleChange.push(null);null==this.__cbOnTitleChange&&(this.__cbOnTitleChange=[]),this.__cbOnTitleChange.push(t)},onceTitleChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event titleChange because owner is destroyed!");var l=function(e){null!=t&&(i.offTitleChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindTitleChange&&(this.__cbOnceOwnerUnbindTitleChange=[]),this.__cbOnceOwnerUnbindTitleChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindTitleChange&&(this.__cbOnceOwnerUnbindTitleChange=[]),this.__cbOnceOwnerUnbindTitleChange.push(null);null==this.__cbOnceTitleChange&&(this.__cbOnceTitleChange=[]),this.__cbOnceTitleChange.push(t)},offTitleChange:function(e){if(null!=e){var n;null!=this.__cbOnTitleChange&&-1!=(n=this.__cbOnTitleChange.indexOf(e))&&(this.__cbOnTitleChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindTitleChange[n])&&r(),this.__cbOnOwnerUnbindTitleChange.splice(n,1)),null!=this.__cbOnceTitleChange&&-1!=(n=this.__cbOnceTitleChange.indexOf(e))&&(this.__cbOnceTitleChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindTitleChange[n])&&r(),this.__cbOnceOwnerUnbindTitleChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindTitleChange){for(var t=0,i=this.__cbOnOwnerUnbindTitleChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindTitleChange[l])&&r()}this.__cbOnOwnerUnbindTitleChange=null}if(null!=this.__cbOnceOwnerUnbindTitleChange){for(t=0,i=this.__cbOnceOwnerUnbindTitleChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindTitleChange[l])&&r()}this.__cbOnceOwnerUnbindTitleChange=null}this.__cbOnTitleChange=null,this.__cbOnceTitleChange=null}},listensTitleChange:function(){return null!=this.__cbOnTitleChange&&0<this.__cbOnTitleChange.length||null!=this.__cbOnceTitleChange&&0<this.__cbOnceTitleChange.length},closableAutoruns:null,get_closable:function(){var e,n,t=this.unobservedClosable;return null!=U.current&&(e=U.current,null!=(n=this.closableAutoruns)||(n=U.getAutorunArray(),null!=(this.closableAutoruns=n)))&&e.bindToAutorunArray(n),t},set_closable:function(e){var n=this.unobservedClosable;return n!=(this.unobservedClosable=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitClosableChange(e,n),null!=(n=this.closableAutoruns))&&(this.closableAutoruns=null,U.invalidateAutorunArray(n)),e},invalidateClosable:function(){var e=this.unobservedClosable,e=(this.emitClosableChange(e,e),this.closableAutoruns);null!=e&&(this.closableAutoruns=null,U.invalidateAutorunArray(e))},unobservedClosable:null,__cbOnClosableChange:null,__cbOnceClosableChange:null,__cbOnOwnerUnbindClosableChange:null,__cbOnceOwnerUnbindClosableChange:null,emitClosableChange:function(e,n){var t=0;if(null!=this.__cbOnClosableChange&&(t+=this.__cbOnClosableChange.length),null!=this.__cbOnceClosableChange&&(t+=this.__cbOnceClosableChange.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnClosableChange)for(var s=0,h=this.__cbOnClosableChange.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnClosableChange[a],++r):--t}if(null!=this.__cbOnceClosableChange){for(var o=null,c=null,s=0,h=this.__cbOnceClosableChange.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceClosableChange[a],this.__cbOnceClosableChange[a]=null,u=this.__cbOnceOwnerUnbindClosableChange[a],(this.__cbOnceOwnerUnbindClosableChange[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindClosableChange[a]),c.push(this.__cbOnceClosableChange[a]))}this.__cbOnceOwnerUnbindClosableChange=o,this.__cbOnceClosableChange=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onClosableChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event closableChange because owner is destroyed!");var l=function(e){null!=t&&(i.offClosableChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindClosableChange&&(this.__cbOnOwnerUnbindClosableChange=[]),this.__cbOnOwnerUnbindClosableChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindClosableChange&&(this.__cbOnOwnerUnbindClosableChange=[]),this.__cbOnOwnerUnbindClosableChange.push(null);null==this.__cbOnClosableChange&&(this.__cbOnClosableChange=[]),this.__cbOnClosableChange.push(t)},onceClosableChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event closableChange because owner is destroyed!");var l=function(e){null!=t&&(i.offClosableChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindClosableChange&&(this.__cbOnceOwnerUnbindClosableChange=[]),this.__cbOnceOwnerUnbindClosableChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindClosableChange&&(this.__cbOnceOwnerUnbindClosableChange=[]),this.__cbOnceOwnerUnbindClosableChange.push(null);null==this.__cbOnceClosableChange&&(this.__cbOnceClosableChange=[]),this.__cbOnceClosableChange.push(t)},offClosableChange:function(e){if(null!=e){var n;null!=this.__cbOnClosableChange&&-1!=(n=this.__cbOnClosableChange.indexOf(e))&&(this.__cbOnClosableChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindClosableChange[n])&&r(),this.__cbOnOwnerUnbindClosableChange.splice(n,1)),null!=this.__cbOnceClosableChange&&-1!=(n=this.__cbOnceClosableChange.indexOf(e))&&(this.__cbOnceClosableChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindClosableChange[n])&&r(),this.__cbOnceOwnerUnbindClosableChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindClosableChange){for(var t=0,i=this.__cbOnOwnerUnbindClosableChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindClosableChange[l])&&r()}this.__cbOnOwnerUnbindClosableChange=null}if(null!=this.__cbOnceOwnerUnbindClosableChange){for(t=0,i=this.__cbOnceOwnerUnbindClosableChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindClosableChange[l])&&r()}this.__cbOnceOwnerUnbindClosableChange=null}this.__cbOnClosableChange=null,this.__cbOnceClosableChange=null}},listensClosableChange:function(){return null!=this.__cbOnClosableChange&&0<this.__cbOnClosableChange.length||null!=this.__cbOnceClosableChange&&0<this.__cbOnceClosableChange.length},collapsibleAutoruns:null,get_collapsible:function(){var e,n,t=this.unobservedCollapsible;return null!=U.current&&(e=U.current,null!=(n=this.collapsibleAutoruns)||(n=U.getAutorunArray(),null!=(this.collapsibleAutoruns=n)))&&e.bindToAutorunArray(n),t},set_collapsible:function(e){var n=this.unobservedCollapsible;return n!=(this.unobservedCollapsible=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitCollapsibleChange(e,n),null!=(n=this.collapsibleAutoruns))&&(this.collapsibleAutoruns=null,U.invalidateAutorunArray(n)),e},invalidateCollapsible:function(){var e=this.unobservedCollapsible,e=(this.emitCollapsibleChange(e,e),this.collapsibleAutoruns);null!=e&&(this.collapsibleAutoruns=null,U.invalidateAutorunArray(e))},unobservedCollapsible:null,__cbOnCollapsibleChange:null,__cbOnceCollapsibleChange:null,__cbOnOwnerUnbindCollapsibleChange:null,__cbOnceOwnerUnbindCollapsibleChange:null,emitCollapsibleChange:function(e,n){var t=0;if(null!=this.__cbOnCollapsibleChange&&(t+=this.__cbOnCollapsibleChange.length),null!=this.__cbOnceCollapsibleChange&&(t+=this.__cbOnceCollapsibleChange.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnCollapsibleChange)for(var s=0,h=this.__cbOnCollapsibleChange.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnCollapsibleChange[a],++r):--t}if(null!=this.__cbOnceCollapsibleChange){for(var o=null,c=null,s=0,h=this.__cbOnceCollapsibleChange.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceCollapsibleChange[a],this.__cbOnceCollapsibleChange[a]=null,u=this.__cbOnceOwnerUnbindCollapsibleChange[a],(this.__cbOnceOwnerUnbindCollapsibleChange[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindCollapsibleChange[a]),c.push(this.__cbOnceCollapsibleChange[a]))}this.__cbOnceOwnerUnbindCollapsibleChange=o,this.__cbOnceCollapsibleChange=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onCollapsibleChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event collapsibleChange because owner is destroyed!");var l=function(e){null!=t&&(i.offCollapsibleChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindCollapsibleChange&&(this.__cbOnOwnerUnbindCollapsibleChange=[]),this.__cbOnOwnerUnbindCollapsibleChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindCollapsibleChange&&(this.__cbOnOwnerUnbindCollapsibleChange=[]),this.__cbOnOwnerUnbindCollapsibleChange.push(null);null==this.__cbOnCollapsibleChange&&(this.__cbOnCollapsibleChange=[]),this.__cbOnCollapsibleChange.push(t)},onceCollapsibleChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event collapsibleChange because owner is destroyed!");var l=function(e){null!=t&&(i.offCollapsibleChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindCollapsibleChange&&(this.__cbOnceOwnerUnbindCollapsibleChange=[]),this.__cbOnceOwnerUnbindCollapsibleChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindCollapsibleChange&&(this.__cbOnceOwnerUnbindCollapsibleChange=[]),this.__cbOnceOwnerUnbindCollapsibleChange.push(null);null==this.__cbOnceCollapsibleChange&&(this.__cbOnceCollapsibleChange=[]),this.__cbOnceCollapsibleChange.push(t)},offCollapsibleChange:function(e){if(null!=e){var n;null!=this.__cbOnCollapsibleChange&&-1!=(n=this.__cbOnCollapsibleChange.indexOf(e))&&(this.__cbOnCollapsibleChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindCollapsibleChange[n])&&r(),this.__cbOnOwnerUnbindCollapsibleChange.splice(n,1)),null!=this.__cbOnceCollapsibleChange&&-1!=(n=this.__cbOnceCollapsibleChange.indexOf(e))&&(this.__cbOnceCollapsibleChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindCollapsibleChange[n])&&r(),this.__cbOnceOwnerUnbindCollapsibleChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindCollapsibleChange){for(var t=0,i=this.__cbOnOwnerUnbindCollapsibleChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindCollapsibleChange[l])&&r()}this.__cbOnOwnerUnbindCollapsibleChange=null}if(null!=this.__cbOnceOwnerUnbindCollapsibleChange){for(t=0,i=this.__cbOnceOwnerUnbindCollapsibleChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindCollapsibleChange[l])&&r()}this.__cbOnceOwnerUnbindCollapsibleChange=null}this.__cbOnCollapsibleChange=null,this.__cbOnceCollapsibleChange=null}},listensCollapsibleChange:function(){return null!=this.__cbOnCollapsibleChange&&0<this.__cbOnCollapsibleChange.length||null!=this.__cbOnceCollapsibleChange&&0<this.__cbOnceCollapsibleChange.length},headerAutoruns:null,get_header:function(){var e,n,t=this.unobservedHeader;return null!=U.current&&(e=U.current,null!=(n=this.headerAutoruns)||(n=U.getAutorunArray(),null!=(this.headerAutoruns=n)))&&e.bindToAutorunArray(n),t},set_header:function(e){var n=this.unobservedHeader;return n!=(this.unobservedHeader=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitHeaderChange(e,n),null!=(n=this.headerAutoruns))&&(this.headerAutoruns=null,U.invalidateAutorunArray(n)),e},invalidateHeader:function(){var e=this.unobservedHeader,e=(this.emitHeaderChange(e,e),this.headerAutoruns);null!=e&&(this.headerAutoruns=null,U.invalidateAutorunArray(e))},unobservedHeader:null,__cbOnHeaderChange:null,__cbOnceHeaderChange:null,__cbOnOwnerUnbindHeaderChange:null,__cbOnceOwnerUnbindHeaderChange:null,emitHeaderChange:function(e,n){var t=0;if(null!=this.__cbOnHeaderChange&&(t+=this.__cbOnHeaderChange.length),null!=this.__cbOnceHeaderChange&&(t+=this.__cbOnceHeaderChange.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnHeaderChange)for(var s=0,h=this.__cbOnHeaderChange.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnHeaderChange[a],++r):--t}if(null!=this.__cbOnceHeaderChange){for(var o=null,c=null,s=0,h=this.__cbOnceHeaderChange.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceHeaderChange[a],this.__cbOnceHeaderChange[a]=null,u=this.__cbOnceOwnerUnbindHeaderChange[a],(this.__cbOnceOwnerUnbindHeaderChange[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindHeaderChange[a]),c.push(this.__cbOnceHeaderChange[a]))}this.__cbOnceOwnerUnbindHeaderChange=o,this.__cbOnceHeaderChange=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onHeaderChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event headerChange because owner is destroyed!");var l=function(e){null!=t&&(i.offHeaderChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindHeaderChange&&(this.__cbOnOwnerUnbindHeaderChange=[]),this.__cbOnOwnerUnbindHeaderChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindHeaderChange&&(this.__cbOnOwnerUnbindHeaderChange=[]),this.__cbOnOwnerUnbindHeaderChange.push(null);null==this.__cbOnHeaderChange&&(this.__cbOnHeaderChange=[]),this.__cbOnHeaderChange.push(t)},onceHeaderChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event headerChange because owner is destroyed!");var l=function(e){null!=t&&(i.offHeaderChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindHeaderChange&&(this.__cbOnceOwnerUnbindHeaderChange=[]),this.__cbOnceOwnerUnbindHeaderChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindHeaderChange&&(this.__cbOnceOwnerUnbindHeaderChange=[]),this.__cbOnceOwnerUnbindHeaderChange.push(null);null==this.__cbOnceHeaderChange&&(this.__cbOnceHeaderChange=[]),this.__cbOnceHeaderChange.push(t)},offHeaderChange:function(e){if(null!=e){var n;null!=this.__cbOnHeaderChange&&-1!=(n=this.__cbOnHeaderChange.indexOf(e))&&(this.__cbOnHeaderChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindHeaderChange[n])&&r(),this.__cbOnOwnerUnbindHeaderChange.splice(n,1)),null!=this.__cbOnceHeaderChange&&-1!=(n=this.__cbOnceHeaderChange.indexOf(e))&&(this.__cbOnceHeaderChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindHeaderChange[n])&&r(),this.__cbOnceOwnerUnbindHeaderChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindHeaderChange){for(var t=0,i=this.__cbOnOwnerUnbindHeaderChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindHeaderChange[l])&&r()}this.__cbOnOwnerUnbindHeaderChange=null}if(null!=this.__cbOnceOwnerUnbindHeaderChange){for(t=0,i=this.__cbOnceOwnerUnbindHeaderChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindHeaderChange[l])&&r()}this.__cbOnceOwnerUnbindHeaderChange=null}this.__cbOnHeaderChange=null,this.__cbOnceHeaderChange=null}},listensHeaderChange:function(){return null!=this.__cbOnHeaderChange&&0<this.__cbOnHeaderChange.length||null!=this.__cbOnceHeaderChange&&0<this.__cbOnceHeaderChange.length},titleAlignAutoruns:null,get_titleAlign:function(){var e,n,t=this.unobservedTitleAlign;return null!=U.current&&(e=U.current,null!=(n=this.titleAlignAutoruns)||(n=U.getAutorunArray(),null!=(this.titleAlignAutoruns=n)))&&e.bindToAutorunArray(n),t},set_titleAlign:function(e){var n=this.unobservedTitleAlign;return n!=(this.unobservedTitleAlign=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitTitleAlignChange(e,n),null!=(n=this.titleAlignAutoruns))&&(this.titleAlignAutoruns=null,U.invalidateAutorunArray(n)),e},invalidateTitleAlign:function(){var e=this.unobservedTitleAlign,e=(this.emitTitleAlignChange(e,e),this.titleAlignAutoruns);null!=e&&(this.titleAlignAutoruns=null,U.invalidateAutorunArray(e))},unobservedTitleAlign:null,__cbOnTitleAlignChange:null,__cbOnceTitleAlignChange:null,__cbOnOwnerUnbindTitleAlignChange:null,__cbOnceOwnerUnbindTitleAlignChange:null,emitTitleAlignChange:function(e,n){var t=0;if(null!=this.__cbOnTitleAlignChange&&(t+=this.__cbOnTitleAlignChange.length),null!=this.__cbOnceTitleAlignChange&&(t+=this.__cbOnceTitleAlignChange.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnTitleAlignChange)for(var s=0,h=this.__cbOnTitleAlignChange.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnTitleAlignChange[a],++r):--t}if(null!=this.__cbOnceTitleAlignChange){for(var o=null,c=null,s=0,h=this.__cbOnceTitleAlignChange.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceTitleAlignChange[a],this.__cbOnceTitleAlignChange[a]=null,u=this.__cbOnceOwnerUnbindTitleAlignChange[a],(this.__cbOnceOwnerUnbindTitleAlignChange[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindTitleAlignChange[a]),c.push(this.__cbOnceTitleAlignChange[a]))}this.__cbOnceOwnerUnbindTitleAlignChange=o,this.__cbOnceTitleAlignChange=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onTitleAlignChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event titleAlignChange because owner is destroyed!");var l=function(e){null!=t&&(i.offTitleAlignChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindTitleAlignChange&&(this.__cbOnOwnerUnbindTitleAlignChange=[]),this.__cbOnOwnerUnbindTitleAlignChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindTitleAlignChange&&(this.__cbOnOwnerUnbindTitleAlignChange=[]),this.__cbOnOwnerUnbindTitleAlignChange.push(null);null==this.__cbOnTitleAlignChange&&(this.__cbOnTitleAlignChange=[]),this.__cbOnTitleAlignChange.push(t)},onceTitleAlignChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event titleAlignChange because owner is destroyed!");var l=function(e){null!=t&&(i.offTitleAlignChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindTitleAlignChange&&(this.__cbOnceOwnerUnbindTitleAlignChange=[]),this.__cbOnceOwnerUnbindTitleAlignChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindTitleAlignChange&&(this.__cbOnceOwnerUnbindTitleAlignChange=[]),this.__cbOnceOwnerUnbindTitleAlignChange.push(null);null==this.__cbOnceTitleAlignChange&&(this.__cbOnceTitleAlignChange=[]),this.__cbOnceTitleAlignChange.push(t)},offTitleAlignChange:function(e){if(null!=e){var n;null!=this.__cbOnTitleAlignChange&&-1!=(n=this.__cbOnTitleAlignChange.indexOf(e))&&(this.__cbOnTitleAlignChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindTitleAlignChange[n])&&r(),this.__cbOnOwnerUnbindTitleAlignChange.splice(n,1)),null!=this.__cbOnceTitleAlignChange&&-1!=(n=this.__cbOnceTitleAlignChange.indexOf(e))&&(this.__cbOnceTitleAlignChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindTitleAlignChange[n])&&r(),this.__cbOnceOwnerUnbindTitleAlignChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindTitleAlignChange){for(var t=0,i=this.__cbOnOwnerUnbindTitleAlignChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindTitleAlignChange[l])&&r()}this.__cbOnOwnerUnbindTitleAlignChange=null}if(null!=this.__cbOnceOwnerUnbindTitleAlignChange){for(t=0,i=this.__cbOnceOwnerUnbindTitleAlignChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindTitleAlignChange[l])&&r()}this.__cbOnceOwnerUnbindTitleAlignChange=null}this.__cbOnTitleAlignChange=null,this.__cbOnceTitleAlignChange=null}},listensTitleAlignChange:function(){return null!=this.__cbOnTitleAlignChange&&0<this.__cbOnTitleAlignChange.length||null!=this.__cbOnceTitleAlignChange&&0<this.__cbOnceTitleAlignChange.length},willListenScrollsChange:function(){this.get_unobservedScrolls()},get_unobservedScrolls:function(){var n,t;return 0<=this._lifecycleState?null==this.computeAutorunScrolls?(n=this,t=new U(null),this.computedOnceScrolls=!0,(this.computeAutorunScrolls=t).onRun=function(){var e=n.computeScrolls();U.unobserve(),n.set_scrolls(e),U.reobserve()},t.onDestroy(this,function(e){n.computeAutorunScrolls==t&&(n.computeAutorunScrolls=null),n=t=null}),this.onDestroy(t,function(e){null!=t&&(t.destroy(),t=null),n=null}),t.run()):this.computeAutorunScrolls.invalidated&&this.computeAutorunScrolls.run():this.computedOnceScrolls||(U.unobserve(),this.computedOnceScrolls=!0,this.unobservedScrolls=this.computeScrolls(),U.reobserve()),this.unobservedScrolls},scrollsAutoruns:null,get_scrolls:function(){var e,n,t=this.get_unobservedScrolls();return null!=U.current&&(e=U.current,null!=(n=this.scrollsAutoruns)||(n=U.getAutorunArray(),null!=(this.scrollsAutoruns=n)))&&e.bindToAutorunArray(n),t},set_scrolls:function(e){var n=this.get_unobservedScrolls();return n!=(this.unobservedScrolls=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitScrollsChange(e,n),null!=(n=this.scrollsAutoruns))&&(this.scrollsAutoruns=null,U.invalidateAutorunArray(n)),e},invalidateScrolls:function(){var e=this.get_unobservedScrolls(),e=(this.emitScrollsChange(e,e),this.scrollsAutoruns);null!=e&&(this.scrollsAutoruns=null,U.invalidateAutorunArray(e))},unobservedScrolls:null,__cbOnScrollsChange:null,__cbOnceScrollsChange:null,__cbOnOwnerUnbindScrollsChange:null,__cbOnceOwnerUnbindScrollsChange:null,emitScrollsChange:function(e,n){var t=0;if(null!=this.__cbOnScrollsChange&&(t+=this.__cbOnScrollsChange.length),null!=this.__cbOnceScrollsChange&&(t+=this.__cbOnceScrollsChange.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnScrollsChange)for(var s=0,h=this.__cbOnScrollsChange.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnScrollsChange[a],++r):--t}if(null!=this.__cbOnceScrollsChange){for(var o=null,c=null,s=0,h=this.__cbOnceScrollsChange.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceScrollsChange[a],this.__cbOnceScrollsChange[a]=null,u=this.__cbOnceOwnerUnbindScrollsChange[a],(this.__cbOnceOwnerUnbindScrollsChange[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindScrollsChange[a]),c.push(this.__cbOnceScrollsChange[a]))}this.__cbOnceOwnerUnbindScrollsChange=o,this.__cbOnceScrollsChange=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onScrollsChange:function(n,t){var i=this;if(null==this.__cbOnScrollsChange&&null==this.__cbOnceScrollsChange&&this.willListenScrollsChange(),null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event scrollsChange because owner is destroyed!");var l=function(e){null!=t&&(i.offScrollsChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindScrollsChange&&(this.__cbOnOwnerUnbindScrollsChange=[]),this.__cbOnOwnerUnbindScrollsChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindScrollsChange&&(this.__cbOnOwnerUnbindScrollsChange=[]),this.__cbOnOwnerUnbindScrollsChange.push(null);null==this.__cbOnScrollsChange&&(this.__cbOnScrollsChange=[]),this.__cbOnScrollsChange.push(t)},onceScrollsChange:function(n,t){var i=this;if(null==this.__cbOnScrollsChange&&null==this.__cbOnceScrollsChange&&this.willListenScrollsChange(),null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event scrollsChange because owner is destroyed!");var l=function(e){null!=t&&(i.offScrollsChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindScrollsChange&&(this.__cbOnceOwnerUnbindScrollsChange=[]),this.__cbOnceOwnerUnbindScrollsChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindScrollsChange&&(this.__cbOnceOwnerUnbindScrollsChange=[]),this.__cbOnceOwnerUnbindScrollsChange.push(null);null==this.__cbOnceScrollsChange&&(this.__cbOnceScrollsChange=[]),this.__cbOnceScrollsChange.push(t)},offScrollsChange:function(e){if(null!=e){var n;null!=this.__cbOnScrollsChange&&-1!=(n=this.__cbOnScrollsChange.indexOf(e))&&(this.__cbOnScrollsChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindScrollsChange[n])&&r(),this.__cbOnOwnerUnbindScrollsChange.splice(n,1)),null!=this.__cbOnceScrollsChange&&-1!=(n=this.__cbOnceScrollsChange.indexOf(e))&&(this.__cbOnceScrollsChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindScrollsChange[n])&&r(),this.__cbOnceOwnerUnbindScrollsChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindScrollsChange){for(var t=0,i=this.__cbOnOwnerUnbindScrollsChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindScrollsChange[l])&&r()}this.__cbOnOwnerUnbindScrollsChange=null}if(null!=this.__cbOnceOwnerUnbindScrollsChange){for(t=0,i=this.__cbOnceOwnerUnbindScrollsChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindScrollsChange[l])&&r()}this.__cbOnceOwnerUnbindScrollsChange=null}this.__cbOnScrollsChange=null,this.__cbOnceScrollsChange=null}},listensScrollsChange:function(){return null!=this.__cbOnScrollsChange&&0<this.__cbOnScrollsChange.length||null!=this.__cbOnceScrollsChange&&0<this.__cbOnceScrollsChange.length},computeScrolls:function(){var e=this.get_contentView();return null!=e&&e instanceof g0},computeAutorunScrolls:null,computedOnceScrolls:null,movable:null,overlay:null,__cbOnExpandCollapseClick:null,__cbOnceExpandCollapseClick:null,__cbOnOwnerUnbindExpandCollapseClick:null,__cbOnceOwnerUnbindExpandCollapseClick:null,emitExpandCollapseClick:function(){var e=0;if(null!=this.__cbOnExpandCollapseClick&&(e+=this.__cbOnExpandCollapseClick.length),null!=this.__cbOnceExpandCollapseClick&&(e+=this.__cbOnceExpandCollapseClick.length),0<e){var n=C.pool(e),t=n.get(),i=0;if(null!=this.__cbOnExpandCollapseClick)for(var l=0,r=this.__cbOnExpandCollapseClick.length;l<r;){var s=l++;!0?(t.vector[i]=this.__cbOnExpandCollapseClick[s],++i):--e}if(null!=this.__cbOnceExpandCollapseClick){for(var h=null,a=null,l=0,r=this.__cbOnceExpandCollapseClick.length;l<r;){var o,s=l++;!0?(t.vector[i]=this.__cbOnceExpandCollapseClick[s],this.__cbOnceExpandCollapseClick[s]=null,o=this.__cbOnceOwnerUnbindExpandCollapseClick[s],(this.__cbOnceOwnerUnbindExpandCollapseClick[s]=null)!=o&&o(),++i):(--e,null==h&&(h=[],a=[],0),h.push(this.__cbOnceOwnerUnbindExpandCollapseClick[s]),a.push(this.__cbOnceExpandCollapseClick[s]))}this.__cbOnceOwnerUnbindExpandCollapseClick=h,this.__cbOnceExpandCollapseClick=a}for(l=0,r=e;l<r;){i=l++;(0,t.vector[i])()}n.release(t)}},onExpandCollapseClick:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event expandCollapseClick because owner is destroyed!");var l=function(e){null!=t&&(i.offExpandCollapseClick(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindExpandCollapseClick&&(this.__cbOnOwnerUnbindExpandCollapseClick=[]),this.__cbOnOwnerUnbindExpandCollapseClick.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindExpandCollapseClick&&(this.__cbOnOwnerUnbindExpandCollapseClick=[]),this.__cbOnOwnerUnbindExpandCollapseClick.push(null);null==this.__cbOnExpandCollapseClick&&(this.__cbOnExpandCollapseClick=[]),this.__cbOnExpandCollapseClick.push(t)},onceExpandCollapseClick:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event expandCollapseClick because owner is destroyed!");var l=function(e){null!=t&&(i.offExpandCollapseClick(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindExpandCollapseClick&&(this.__cbOnceOwnerUnbindExpandCollapseClick=[]),this.__cbOnceOwnerUnbindExpandCollapseClick.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindExpandCollapseClick&&(this.__cbOnceOwnerUnbindExpandCollapseClick=[]),this.__cbOnceOwnerUnbindExpandCollapseClick.push(null);null==this.__cbOnceExpandCollapseClick&&(this.__cbOnceExpandCollapseClick=[]),this.__cbOnceExpandCollapseClick.push(t)},offExpandCollapseClick:function(e){if(null!=e){var n;null!=this.__cbOnExpandCollapseClick&&-1!=(n=this.__cbOnExpandCollapseClick.indexOf(e))&&(this.__cbOnExpandCollapseClick.splice(n,1),null!=(r=this.__cbOnOwnerUnbindExpandCollapseClick[n])&&r(),this.__cbOnOwnerUnbindExpandCollapseClick.splice(n,1)),null!=this.__cbOnceExpandCollapseClick&&-1!=(n=this.__cbOnceExpandCollapseClick.indexOf(e))&&(this.__cbOnceExpandCollapseClick.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindExpandCollapseClick[n])&&r(),this.__cbOnceOwnerUnbindExpandCollapseClick.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindExpandCollapseClick){for(var t=0,i=this.__cbOnOwnerUnbindExpandCollapseClick.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindExpandCollapseClick[l])&&r()}this.__cbOnOwnerUnbindExpandCollapseClick=null}if(null!=this.__cbOnceOwnerUnbindExpandCollapseClick){for(t=0,i=this.__cbOnceOwnerUnbindExpandCollapseClick.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindExpandCollapseClick[l])&&r()}this.__cbOnceOwnerUnbindExpandCollapseClick=null}this.__cbOnExpandCollapseClick=null,this.__cbOnceExpandCollapseClick=null}},listensExpandCollapseClick:function(){return null!=this.__cbOnExpandCollapseClick&&0<this.__cbOnExpandCollapseClick.length||null!=this.__cbOnceExpandCollapseClick&&0<this.__cbOnceExpandCollapseClick.length},__cbOnHeaderDoubleClick:null,__cbOnceHeaderDoubleClick:null,__cbOnOwnerUnbindHeaderDoubleClick:null,__cbOnceOwnerUnbindHeaderDoubleClick:null,emitHeaderDoubleClick:function(){var e=0;if(null!=this.__cbOnHeaderDoubleClick&&(e+=this.__cbOnHeaderDoubleClick.length),null!=this.__cbOnceHeaderDoubleClick&&(e+=this.__cbOnceHeaderDoubleClick.length),0<e){var n=C.pool(e),t=n.get(),i=0;if(null!=this.__cbOnHeaderDoubleClick)for(var l=0,r=this.__cbOnHeaderDoubleClick.length;l<r;){var s=l++;!0?(t.vector[i]=this.__cbOnHeaderDoubleClick[s],++i):--e}if(null!=this.__cbOnceHeaderDoubleClick){for(var h=null,a=null,l=0,r=this.__cbOnceHeaderDoubleClick.length;l<r;){var o,s=l++;!0?(t.vector[i]=this.__cbOnceHeaderDoubleClick[s],this.__cbOnceHeaderDoubleClick[s]=null,o=this.__cbOnceOwnerUnbindHeaderDoubleClick[s],(this.__cbOnceOwnerUnbindHeaderDoubleClick[s]=null)!=o&&o(),++i):(--e,null==h&&(h=[],a=[],0),h.push(this.__cbOnceOwnerUnbindHeaderDoubleClick[s]),a.push(this.__cbOnceHeaderDoubleClick[s]))}this.__cbOnceOwnerUnbindHeaderDoubleClick=h,this.__cbOnceHeaderDoubleClick=a}for(l=0,r=e;l<r;){i=l++;(0,t.vector[i])()}n.release(t)}},onHeaderDoubleClick:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event headerDoubleClick because owner is destroyed!");var l=function(e){null!=t&&(i.offHeaderDoubleClick(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindHeaderDoubleClick&&(this.__cbOnOwnerUnbindHeaderDoubleClick=[]),this.__cbOnOwnerUnbindHeaderDoubleClick.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindHeaderDoubleClick&&(this.__cbOnOwnerUnbindHeaderDoubleClick=[]),this.__cbOnOwnerUnbindHeaderDoubleClick.push(null);null==this.__cbOnHeaderDoubleClick&&(this.__cbOnHeaderDoubleClick=[]),this.__cbOnHeaderDoubleClick.push(t)},onceHeaderDoubleClick:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event headerDoubleClick because owner is destroyed!");var l=function(e){null!=t&&(i.offHeaderDoubleClick(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindHeaderDoubleClick&&(this.__cbOnceOwnerUnbindHeaderDoubleClick=[]),this.__cbOnceOwnerUnbindHeaderDoubleClick.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindHeaderDoubleClick&&(this.__cbOnceOwnerUnbindHeaderDoubleClick=[]),this.__cbOnceOwnerUnbindHeaderDoubleClick.push(null);null==this.__cbOnceHeaderDoubleClick&&(this.__cbOnceHeaderDoubleClick=[]),this.__cbOnceHeaderDoubleClick.push(t)},offHeaderDoubleClick:function(e){if(null!=e){var n;null!=this.__cbOnHeaderDoubleClick&&-1!=(n=this.__cbOnHeaderDoubleClick.indexOf(e))&&(this.__cbOnHeaderDoubleClick.splice(n,1),null!=(r=this.__cbOnOwnerUnbindHeaderDoubleClick[n])&&r(),this.__cbOnOwnerUnbindHeaderDoubleClick.splice(n,1)),null!=this.__cbOnceHeaderDoubleClick&&-1!=(n=this.__cbOnceHeaderDoubleClick.indexOf(e))&&(this.__cbOnceHeaderDoubleClick.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindHeaderDoubleClick[n])&&r(),this.__cbOnceOwnerUnbindHeaderDoubleClick.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindHeaderDoubleClick){for(var t=0,i=this.__cbOnOwnerUnbindHeaderDoubleClick.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindHeaderDoubleClick[l])&&r()}this.__cbOnOwnerUnbindHeaderDoubleClick=null}if(null!=this.__cbOnceOwnerUnbindHeaderDoubleClick){for(t=0,i=this.__cbOnceOwnerUnbindHeaderDoubleClick.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindHeaderDoubleClick[l])&&r()}this.__cbOnceOwnerUnbindHeaderDoubleClick=null}this.__cbOnHeaderDoubleClick=null,this.__cbOnceHeaderDoubleClick=null}},listensHeaderDoubleClick:function(){return null!=this.__cbOnHeaderDoubleClick&&0<this.__cbOnHeaderDoubleClick.length||null!=this.__cbOnceHeaderDoubleClick&&0<this.__cbOnceHeaderDoubleClick.length},__cbOnClose:null,__cbOnceClose:null,__cbOnOwnerUnbindClose:null,__cbOnceOwnerUnbindClose:null,emitClose:function(){var e=0;if(null!=this.__cbOnClose&&(e+=this.__cbOnClose.length),null!=this.__cbOnceClose&&(e+=this.__cbOnceClose.length),0<e){var n=C.pool(e),t=n.get(),i=0;if(null!=this.__cbOnClose)for(var l=0,r=this.__cbOnClose.length;l<r;){var s=l++;!0?(t.vector[i]=this.__cbOnClose[s],++i):--e}if(null!=this.__cbOnceClose){for(var h=null,a=null,l=0,r=this.__cbOnceClose.length;l<r;){var o,s=l++;!0?(t.vector[i]=this.__cbOnceClose[s],this.__cbOnceClose[s]=null,o=this.__cbOnceOwnerUnbindClose[s],(this.__cbOnceOwnerUnbindClose[s]=null)!=o&&o(),++i):(--e,null==h&&(h=[],a=[],0),h.push(this.__cbOnceOwnerUnbindClose[s]),a.push(this.__cbOnceClose[s]))}this.__cbOnceOwnerUnbindClose=h,this.__cbOnceClose=a}for(l=0,r=e;l<r;){i=l++;(0,t.vector[i])()}n.release(t)}},onClose:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event close because owner is destroyed!");var l=function(e){null!=t&&(i.offClose(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindClose&&(this.__cbOnOwnerUnbindClose=[]),this.__cbOnOwnerUnbindClose.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindClose&&(this.__cbOnOwnerUnbindClose=[]),this.__cbOnOwnerUnbindClose.push(null);null==this.__cbOnClose&&(this.__cbOnClose=[]),this.__cbOnClose.push(t)},onceClose:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event close because owner is destroyed!");var l=function(e){null!=t&&(i.offClose(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindClose&&(this.__cbOnceOwnerUnbindClose=[]),this.__cbOnceOwnerUnbindClose.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindClose&&(this.__cbOnceOwnerUnbindClose=[]),this.__cbOnceOwnerUnbindClose.push(null);null==this.__cbOnceClose&&(this.__cbOnceClose=[]),this.__cbOnceClose.push(t)},offClose:function(e){if(null!=e){var n;null!=this.__cbOnClose&&-1!=(n=this.__cbOnClose.indexOf(e))&&(this.__cbOnClose.splice(n,1),null!=(r=this.__cbOnOwnerUnbindClose[n])&&r(),this.__cbOnOwnerUnbindClose.splice(n,1)),null!=this.__cbOnceClose&&-1!=(n=this.__cbOnceClose.indexOf(e))&&(this.__cbOnceClose.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindClose[n])&&r(),this.__cbOnceOwnerUnbindClose.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindClose){for(var t=0,i=this.__cbOnOwnerUnbindClose.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindClose[l])&&r()}this.__cbOnOwnerUnbindClose=null}if(null!=this.__cbOnceOwnerUnbindClose){for(t=0,i=this.__cbOnceOwnerUnbindClose.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindClose[l])&&r()}this.__cbOnceOwnerUnbindClose=null}this.__cbOnClose=null,this.__cbOnceClose=null}},listensClose:function(){return null!=this.__cbOnClose&&0<this.__cbOnClose.length||null!=this.__cbOnceClose&&0<this.__cbOnceClose.length},headerView:null,expandCollapseClick:null,headerViewDoubleClick:null,closeClick:null,bodyView:null,titleView:null,expandView:null,expandTriangle:null,closeView:null,closeCross:null,destroy:function(){this._lifecycleState<=-2||(this._lifecycleState=-2,null!=this.overlay&&(this.overlay.destroy(),this.overlay=null),this._lifecycleState=-1,r0.prototype.destroy.call(this))},windowPosStartX:null,windowPosStartY:null,dragPointerStartX:null,dragPointerStartY:null,dragging:null,headerDown:function(e){this.movable&&(this.windowPosStartX=this.x,this.windowPosStartY=this.y,te.get_context().view.screenToVisual(e.x,e.y,Ei._point),this.dragPointerStartX=Ei._point.x,this.dragPointerStartY=Ei._point.y,he.app.screen.onPointerMove(this,$bind(this,this.headerMove)),he.app.screen.oncePointerUp(this,$bind(this,this.headerUp)))},headerMove:function(e){var n;this.movable?(te.get_context().view.screenToVisual(e.x,e.y,Ei._point),e=Ei._point.x-this.dragPointerStartX,n=Ei._point.y-this.dragPointerStartY,this.dragging||(e>Ei.DRAG_THRESHOLD||-e>Ei.DRAG_THRESHOLD||n>Ei.DRAG_THRESHOLD||-n>Ei.DRAG_THRESHOLD)&&(this.dragging=!0,this.headerViewDoubleClick.cancel(),this.expandCollapseClick.cancel()),this.dragging&&(n=Math.round(this.windowPosStartY+n),this.set_x(Math.round(this.windowPosStartX+e)),this.set_y(n))):this.dragging&&(this.dragging=!1)},headerUp:function(e){this.dragging=!1,he.app.screen.offPointerMove($bind(this,this.headerMove))},contentViewChange:function(e,n){n!=e&&(null==n||null!=e&&n.hasIndirectParent(e)||n.destroy(),null!=(n=e)?(this.bodyView.add(e),this.expandTriangle.set_rotation(180)):this.expandTriangle.set_rotation(90))},titleChange:function(e,n){e!=n&&(null!=e?this.titleView.set_content(e):this.titleView.set_content(""))},titleAlignChange:function(e,n){this.titleView.set_align(e),this.get_closable()?this.titleView.set_paddingRight(e==_t.CENTER?.5*-this.closeView.viewWidth:0):this.titleView.set_paddingRight(e==_t.RIGHT?5:0),this.get_collapsible()?this.titleView.set_paddingLeft(e==_t.CENTER?.5*-this.expandView.viewWidth:0):this.titleView.set_paddingLeft(e==_t.LEFT?5:0)},closableChange:function(e,n){e?(this.closeView.set_active(!0),this.titleView.set_paddingRight(this.get_titleAlign()==_t.CENTER?.5*-this.closeView.viewWidth:0)):(this.closeView.set_active(!1),this.titleView.set_paddingRight(this.get_titleAlign()==_t.RIGHT?5:0))},collapsibleChange:function(e,n){e?(this.expandView.set_active(!0),this.titleView.set_paddingLeft(this.get_titleAlign()==_t.CENTER?.5*-this.expandView.viewWidth:0)):(this.expandView.set_active(!1),this.titleView.set_paddingLeft(this.get_titleAlign()==_t.LEFT?5:0))},headerChange:function(e,n){e!=n&&null!=this.headerView&&this.headerView.set_active(e)},updateStyle:function(){var e=this.get_theme(),n=(null==e&&(e=te.get_context().get_theme()),this.headerView.color=e.get_mediumBackgroundColor(),e.get_backgroundInFormLayout()?(this.bodyView.flags|=16,this.bodyView.set_alpha(1)):(this.bodyView.flags&=-17,this.bodyView.color=e.get_windowBackgroundColor(),this.bodyView.set_alpha(e.get_windowBackgroundAlpha())),this.expandTriangle.set_color(e.get_lightTextColor()),this.titleView.set_textColor(e.get_lightTextColor()),e.get_windowBorderColor()),n=(this.borderColor!=n&&(this.borderColor=n,0<this.borderSize||0<this.borderTopSize||0<this.borderBottomSize||0<this.borderLeftSize||0<this.borderRightSize)&&this.updateBorder(),e.get_windowBorderAlpha());this.borderAlpha!=n&&(this.borderAlpha=n,null!=this.border)&&this.border.set_alpha(n),this.titleView.set_font(e.get_mediumFont())},unbindEvents:function(){r0.prototype.unbindEvents.call(this),this.offObservedDirty(),this.offThemeChange(),this.offContentViewChange(),this.offTitleChange(),this.offClosableChange(),this.offCollapsibleChange(),this.offHeaderChange(),this.offTitleAlignChange(),this.offScrollsChange(),this.offExpandCollapseClick(),this.offHeaderDoubleClick(),this.offClose()},__class__:Ei,__properties__:$extend(r0.prototype.__properties__,{get_unobservedScrolls:"get_unobservedScrolls",set_scrolls:"set_scrolls",get_scrolls:"get_scrolls",set_titleAlign:"set_titleAlign",get_titleAlign:"get_titleAlign",set_header:"set_header",get_header:"get_header",set_collapsible:"set_collapsible",get_collapsible:"get_collapsible",set_closable:"set_closable",get_closable:"get_closable",set_title:"set_title",get_title:"get_title",set_contentView:"set_contentView",get_contentView:"get_contentView",set_theme:"set_theme",get_theme:"get_theme"})}),function(){this.window=null,this.targetAnchorY=-999999999,this.targetAnchorX=-999999999,this.targetY=-999999999,this.targetX=-999999999,this.titleAlign=_t.LEFT,this.overlayClicked=!1,this.overlayTheme=null,this.overlay=!1,this.collapsible=!0,this.movable=!1,this.closable=!1,this.justClosed=!1,this.used=!0,this.didScrollWithHeight=-1,this.scrollable=!1,this.filler=null,this.form=null,this.theme=null,this.items=[],this.itemIndex=0,this.computedContentHeight=0,this.unobservedScrollbar=0,this.scrollbarAutoruns=null,this.unobservedHeader=!0,this.headerAutoruns=null,this.unobservedExpanded=!0,this.expandedAutoruns=null,this.unobservedHeight=50,this.heightAutoruns=null,this.unobservedWidth=50,this.widthAutoruns=null,this.unobservedY=50,this.yAutoruns=null,this.unobservedX=50,this.xAutoruns=null,ld.call(this)}),Vi=((E["elements.WindowData"]=Li).__name__="elements.WindowData",Li.__super__=ld,Li.prototype=$extend(ld.prototype,{xAutoruns:null,get_x:function(){var e,n,t=this.unobservedX;return null!=U.current&&(e=U.current,null!=(n=this.xAutoruns)||(n=U.getAutorunArray(),null!=(this.xAutoruns=n)))&&e.bindToAutorunArray(n),t},set_x:function(e){var n=this.unobservedX;return n!=(this.unobservedX=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!0)),this.emitXChange(e,n),null!=(n=this.xAutoruns))&&(this.xAutoruns=null,U.invalidateAutorunArray(n)),e},invalidateX:function(){var e=this.unobservedX,e=(this.emitXChange(e,e),this.xAutoruns);null!=e&&(this.xAutoruns=null,U.invalidateAutorunArray(e))},unobservedX:null,__cbOnXChange:null,__cbOnceXChange:null,__cbOnOwnerUnbindXChange:null,__cbOnceOwnerUnbindXChange:null,emitXChange:function(e,n){var t=0;if(null!=this.__cbOnXChange&&(t+=this.__cbOnXChange.length),null!=this.__cbOnceXChange&&(t+=this.__cbOnceXChange.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnXChange)for(var s=0,h=this.__cbOnXChange.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnXChange[a],++r):--t}if(null!=this.__cbOnceXChange){for(var o=null,c=null,s=0,h=this.__cbOnceXChange.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceXChange[a],this.__cbOnceXChange[a]=null,u=this.__cbOnceOwnerUnbindXChange[a],(this.__cbOnceOwnerUnbindXChange[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindXChange[a]),c.push(this.__cbOnceXChange[a]))}this.__cbOnceOwnerUnbindXChange=o,this.__cbOnceXChange=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onXChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event xChange because owner is destroyed!");var l=function(e){null!=t&&(i.offXChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindXChange&&(this.__cbOnOwnerUnbindXChange=[]),this.__cbOnOwnerUnbindXChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindXChange&&(this.__cbOnOwnerUnbindXChange=[]),this.__cbOnOwnerUnbindXChange.push(null);null==this.__cbOnXChange&&(this.__cbOnXChange=[]),this.__cbOnXChange.push(t)},onceXChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event xChange because owner is destroyed!");var l=function(e){null!=t&&(i.offXChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindXChange&&(this.__cbOnceOwnerUnbindXChange=[]),this.__cbOnceOwnerUnbindXChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindXChange&&(this.__cbOnceOwnerUnbindXChange=[]),this.__cbOnceOwnerUnbindXChange.push(null);null==this.__cbOnceXChange&&(this.__cbOnceXChange=[]),this.__cbOnceXChange.push(t)},offXChange:function(e){if(null!=e){var n;null!=this.__cbOnXChange&&-1!=(n=this.__cbOnXChange.indexOf(e))&&(this.__cbOnXChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindXChange[n])&&r(),this.__cbOnOwnerUnbindXChange.splice(n,1)),null!=this.__cbOnceXChange&&-1!=(n=this.__cbOnceXChange.indexOf(e))&&(this.__cbOnceXChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindXChange[n])&&r(),this.__cbOnceOwnerUnbindXChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindXChange){for(var t=0,i=this.__cbOnOwnerUnbindXChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindXChange[l])&&r()}this.__cbOnOwnerUnbindXChange=null}if(null!=this.__cbOnceOwnerUnbindXChange){for(t=0,i=this.__cbOnceOwnerUnbindXChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindXChange[l])&&r()}this.__cbOnceOwnerUnbindXChange=null}this.__cbOnXChange=null,this.__cbOnceXChange=null}},listensXChange:function(){return null!=this.__cbOnXChange&&0<this.__cbOnXChange.length||null!=this.__cbOnceXChange&&0<this.__cbOnceXChange.length},yAutoruns:null,get_y:function(){var e,n,t=this.unobservedY;return null!=U.current&&(e=U.current,null!=(n=this.yAutoruns)||(n=U.getAutorunArray(),null!=(this.yAutoruns=n)))&&e.bindToAutorunArray(n),t},set_y:function(e){var n=this.unobservedY;return n!=(this.unobservedY=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!0)),this.emitYChange(e,n),null!=(n=this.yAutoruns))&&(this.yAutoruns=null,U.invalidateAutorunArray(n)),e},invalidateY:function(){var e=this.unobservedY,e=(this.emitYChange(e,e),this.yAutoruns);null!=e&&(this.yAutoruns=null,U.invalidateAutorunArray(e))},unobservedY:null,__cbOnYChange:null,__cbOnceYChange:null,__cbOnOwnerUnbindYChange:null,__cbOnceOwnerUnbindYChange:null,emitYChange:function(e,n){var t=0;if(null!=this.__cbOnYChange&&(t+=this.__cbOnYChange.length),null!=this.__cbOnceYChange&&(t+=this.__cbOnceYChange.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnYChange)for(var s=0,h=this.__cbOnYChange.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnYChange[a],++r):--t}if(null!=this.__cbOnceYChange){for(var o=null,c=null,s=0,h=this.__cbOnceYChange.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceYChange[a],this.__cbOnceYChange[a]=null,u=this.__cbOnceOwnerUnbindYChange[a],(this.__cbOnceOwnerUnbindYChange[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindYChange[a]),c.push(this.__cbOnceYChange[a]))}this.__cbOnceOwnerUnbindYChange=o,this.__cbOnceYChange=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onYChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event yChange because owner is destroyed!");var l=function(e){null!=t&&(i.offYChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindYChange&&(this.__cbOnOwnerUnbindYChange=[]),this.__cbOnOwnerUnbindYChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindYChange&&(this.__cbOnOwnerUnbindYChange=[]),this.__cbOnOwnerUnbindYChange.push(null);null==this.__cbOnYChange&&(this.__cbOnYChange=[]),this.__cbOnYChange.push(t)},onceYChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event yChange because owner is destroyed!");var l=function(e){null!=t&&(i.offYChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindYChange&&(this.__cbOnceOwnerUnbindYChange=[]),this.__cbOnceOwnerUnbindYChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindYChange&&(this.__cbOnceOwnerUnbindYChange=[]),this.__cbOnceOwnerUnbindYChange.push(null);null==this.__cbOnceYChange&&(this.__cbOnceYChange=[]),this.__cbOnceYChange.push(t)},offYChange:function(e){if(null!=e){var n;null!=this.__cbOnYChange&&-1!=(n=this.__cbOnYChange.indexOf(e))&&(this.__cbOnYChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindYChange[n])&&r(),this.__cbOnOwnerUnbindYChange.splice(n,1)),null!=this.__cbOnceYChange&&-1!=(n=this.__cbOnceYChange.indexOf(e))&&(this.__cbOnceYChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindYChange[n])&&r(),this.__cbOnceOwnerUnbindYChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindYChange){for(var t=0,i=this.__cbOnOwnerUnbindYChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindYChange[l])&&r()}this.__cbOnOwnerUnbindYChange=null}if(null!=this.__cbOnceOwnerUnbindYChange){for(t=0,i=this.__cbOnceOwnerUnbindYChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindYChange[l])&&r()}this.__cbOnceOwnerUnbindYChange=null}this.__cbOnYChange=null,this.__cbOnceYChange=null}},listensYChange:function(){return null!=this.__cbOnYChange&&0<this.__cbOnYChange.length||null!=this.__cbOnceYChange&&0<this.__cbOnceYChange.length},widthAutoruns:null,get_width:function(){var e,n,t=this.unobservedWidth;return null!=U.current&&(e=U.current,null!=(n=this.widthAutoruns)||(n=U.getAutorunArray(),null!=(this.widthAutoruns=n)))&&e.bindToAutorunArray(n),t},set_width:function(e){var n=this.unobservedWidth;return n!=(this.unobservedWidth=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!0)),this.emitWidthChange(e,n),null!=(n=this.widthAutoruns))&&(this.widthAutoruns=null,U.invalidateAutorunArray(n)),e},invalidateWidth:function(){var e=this.unobservedWidth,e=(this.emitWidthChange(e,e),this.widthAutoruns);null!=e&&(this.widthAutoruns=null,U.invalidateAutorunArray(e))},unobservedWidth:null,__cbOnWidthChange:null,__cbOnceWidthChange:null,__cbOnOwnerUnbindWidthChange:null,__cbOnceOwnerUnbindWidthChange:null,emitWidthChange:function(e,n){var t=0;if(null!=this.__cbOnWidthChange&&(t+=this.__cbOnWidthChange.length),null!=this.__cbOnceWidthChange&&(t+=this.__cbOnceWidthChange.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnWidthChange)for(var s=0,h=this.__cbOnWidthChange.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnWidthChange[a],++r):--t}if(null!=this.__cbOnceWidthChange){for(var o=null,c=null,s=0,h=this.__cbOnceWidthChange.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceWidthChange[a],this.__cbOnceWidthChange[a]=null,u=this.__cbOnceOwnerUnbindWidthChange[a],(this.__cbOnceOwnerUnbindWidthChange[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindWidthChange[a]),c.push(this.__cbOnceWidthChange[a]))}this.__cbOnceOwnerUnbindWidthChange=o,this.__cbOnceWidthChange=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onWidthChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event widthChange because owner is destroyed!");var l=function(e){null!=t&&(i.offWidthChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindWidthChange&&(this.__cbOnOwnerUnbindWidthChange=[]),this.__cbOnOwnerUnbindWidthChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindWidthChange&&(this.__cbOnOwnerUnbindWidthChange=[]),this.__cbOnOwnerUnbindWidthChange.push(null);null==this.__cbOnWidthChange&&(this.__cbOnWidthChange=[]),this.__cbOnWidthChange.push(t)},onceWidthChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event widthChange because owner is destroyed!");var l=function(e){null!=t&&(i.offWidthChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindWidthChange&&(this.__cbOnceOwnerUnbindWidthChange=[]),this.__cbOnceOwnerUnbindWidthChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindWidthChange&&(this.__cbOnceOwnerUnbindWidthChange=[]),this.__cbOnceOwnerUnbindWidthChange.push(null);null==this.__cbOnceWidthChange&&(this.__cbOnceWidthChange=[]),this.__cbOnceWidthChange.push(t)},offWidthChange:function(e){if(null!=e){var n;null!=this.__cbOnWidthChange&&-1!=(n=this.__cbOnWidthChange.indexOf(e))&&(this.__cbOnWidthChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindWidthChange[n])&&r(),this.__cbOnOwnerUnbindWidthChange.splice(n,1)),null!=this.__cbOnceWidthChange&&-1!=(n=this.__cbOnceWidthChange.indexOf(e))&&(this.__cbOnceWidthChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindWidthChange[n])&&r(),this.__cbOnceOwnerUnbindWidthChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindWidthChange){for(var t=0,i=this.__cbOnOwnerUnbindWidthChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindWidthChange[l])&&r()}this.__cbOnOwnerUnbindWidthChange=null}if(null!=this.__cbOnceOwnerUnbindWidthChange){for(t=0,i=this.__cbOnceOwnerUnbindWidthChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindWidthChange[l])&&r()}this.__cbOnceOwnerUnbindWidthChange=null}this.__cbOnWidthChange=null,this.__cbOnceWidthChange=null}},listensWidthChange:function(){return null!=this.__cbOnWidthChange&&0<this.__cbOnWidthChange.length||null!=this.__cbOnceWidthChange&&0<this.__cbOnceWidthChange.length},heightAutoruns:null,get_height:function(){var e,n,t=this.unobservedHeight;return null!=U.current&&(e=U.current,null!=(n=this.heightAutoruns)||(n=U.getAutorunArray(),null!=(this.heightAutoruns=n)))&&e.bindToAutorunArray(n),t},set_height:function(e){var n=this.unobservedHeight;return n!=(this.unobservedHeight=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!0)),this.emitHeightChange(e,n),null!=(n=this.heightAutoruns))&&(this.heightAutoruns=null,U.invalidateAutorunArray(n)),e},invalidateHeight:function(){var e=this.unobservedHeight,e=(this.emitHeightChange(e,e),this.heightAutoruns);null!=e&&(this.heightAutoruns=null,U.invalidateAutorunArray(e))},unobservedHeight:null,__cbOnHeightChange:null,__cbOnceHeightChange:null,__cbOnOwnerUnbindHeightChange:null,__cbOnceOwnerUnbindHeightChange:null,emitHeightChange:function(e,n){var t=0;if(null!=this.__cbOnHeightChange&&(t+=this.__cbOnHeightChange.length),null!=this.__cbOnceHeightChange&&(t+=this.__cbOnceHeightChange.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnHeightChange)for(var s=0,h=this.__cbOnHeightChange.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnHeightChange[a],++r):--t}if(null!=this.__cbOnceHeightChange){for(var o=null,c=null,s=0,h=this.__cbOnceHeightChange.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceHeightChange[a],this.__cbOnceHeightChange[a]=null,u=this.__cbOnceOwnerUnbindHeightChange[a],(this.__cbOnceOwnerUnbindHeightChange[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindHeightChange[a]),c.push(this.__cbOnceHeightChange[a]))}this.__cbOnceOwnerUnbindHeightChange=o,this.__cbOnceHeightChange=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onHeightChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event heightChange because owner is destroyed!");var l=function(e){null!=t&&(i.offHeightChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindHeightChange&&(this.__cbOnOwnerUnbindHeightChange=[]),this.__cbOnOwnerUnbindHeightChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindHeightChange&&(this.__cbOnOwnerUnbindHeightChange=[]),this.__cbOnOwnerUnbindHeightChange.push(null);null==this.__cbOnHeightChange&&(this.__cbOnHeightChange=[]),this.__cbOnHeightChange.push(t)},onceHeightChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event heightChange because owner is destroyed!");var l=function(e){null!=t&&(i.offHeightChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindHeightChange&&(this.__cbOnceOwnerUnbindHeightChange=[]),this.__cbOnceOwnerUnbindHeightChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindHeightChange&&(this.__cbOnceOwnerUnbindHeightChange=[]),this.__cbOnceOwnerUnbindHeightChange.push(null);null==this.__cbOnceHeightChange&&(this.__cbOnceHeightChange=[]),this.__cbOnceHeightChange.push(t)},offHeightChange:function(e){if(null!=e){var n;null!=this.__cbOnHeightChange&&-1!=(n=this.__cbOnHeightChange.indexOf(e))&&(this.__cbOnHeightChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindHeightChange[n])&&r(),this.__cbOnOwnerUnbindHeightChange.splice(n,1)),null!=this.__cbOnceHeightChange&&-1!=(n=this.__cbOnceHeightChange.indexOf(e))&&(this.__cbOnceHeightChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindHeightChange[n])&&r(),this.__cbOnceOwnerUnbindHeightChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindHeightChange){for(var t=0,i=this.__cbOnOwnerUnbindHeightChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindHeightChange[l])&&r()}this.__cbOnOwnerUnbindHeightChange=null}if(null!=this.__cbOnceOwnerUnbindHeightChange){for(t=0,i=this.__cbOnceOwnerUnbindHeightChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindHeightChange[l])&&r()}this.__cbOnceOwnerUnbindHeightChange=null}this.__cbOnHeightChange=null,this.__cbOnceHeightChange=null}},listensHeightChange:function(){return null!=this.__cbOnHeightChange&&0<this.__cbOnHeightChange.length||null!=this.__cbOnceHeightChange&&0<this.__cbOnceHeightChange.length},expandedAutoruns:null,get_expanded:function(){var e,n,t=this.unobservedExpanded;return null!=U.current&&(e=U.current,null!=(n=this.expandedAutoruns)||(n=U.getAutorunArray(),null!=(this.expandedAutoruns=n)))&&e.bindToAutorunArray(n),t},set_expanded:function(e){var n=this.unobservedExpanded;return n!=(this.unobservedExpanded=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!0)),this.emitExpandedChange(e,n),null!=(n=this.expandedAutoruns))&&(this.expandedAutoruns=null,U.invalidateAutorunArray(n)),e},invalidateExpanded:function(){var e=this.unobservedExpanded,e=(this.emitExpandedChange(e,e),this.expandedAutoruns);null!=e&&(this.expandedAutoruns=null,U.invalidateAutorunArray(e))},unobservedExpanded:null,__cbOnExpandedChange:null,__cbOnceExpandedChange:null,__cbOnOwnerUnbindExpandedChange:null,__cbOnceOwnerUnbindExpandedChange:null,emitExpandedChange:function(e,n){var t=0;if(null!=this.__cbOnExpandedChange&&(t+=this.__cbOnExpandedChange.length),null!=this.__cbOnceExpandedChange&&(t+=this.__cbOnceExpandedChange.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnExpandedChange)for(var s=0,h=this.__cbOnExpandedChange.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnExpandedChange[a],++r):--t}if(null!=this.__cbOnceExpandedChange){for(var o=null,c=null,s=0,h=this.__cbOnceExpandedChange.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceExpandedChange[a],this.__cbOnceExpandedChange[a]=null,u=this.__cbOnceOwnerUnbindExpandedChange[a],(this.__cbOnceOwnerUnbindExpandedChange[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindExpandedChange[a]),c.push(this.__cbOnceExpandedChange[a]))}this.__cbOnceOwnerUnbindExpandedChange=o,this.__cbOnceExpandedChange=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onExpandedChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event expandedChange because owner is destroyed!");var l=function(e){null!=t&&(i.offExpandedChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindExpandedChange&&(this.__cbOnOwnerUnbindExpandedChange=[]),this.__cbOnOwnerUnbindExpandedChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindExpandedChange&&(this.__cbOnOwnerUnbindExpandedChange=[]),this.__cbOnOwnerUnbindExpandedChange.push(null);null==this.__cbOnExpandedChange&&(this.__cbOnExpandedChange=[]),this.__cbOnExpandedChange.push(t)},onceExpandedChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event expandedChange because owner is destroyed!");var l=function(e){null!=t&&(i.offExpandedChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindExpandedChange&&(this.__cbOnceOwnerUnbindExpandedChange=[]),this.__cbOnceOwnerUnbindExpandedChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindExpandedChange&&(this.__cbOnceOwnerUnbindExpandedChange=[]),this.__cbOnceOwnerUnbindExpandedChange.push(null);null==this.__cbOnceExpandedChange&&(this.__cbOnceExpandedChange=[]),this.__cbOnceExpandedChange.push(t)},offExpandedChange:function(e){if(null!=e){var n;null!=this.__cbOnExpandedChange&&-1!=(n=this.__cbOnExpandedChange.indexOf(e))&&(this.__cbOnExpandedChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindExpandedChange[n])&&r(),this.__cbOnOwnerUnbindExpandedChange.splice(n,1)),null!=this.__cbOnceExpandedChange&&-1!=(n=this.__cbOnceExpandedChange.indexOf(e))&&(this.__cbOnceExpandedChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindExpandedChange[n])&&r(),this.__cbOnceOwnerUnbindExpandedChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindExpandedChange){for(var t=0,i=this.__cbOnOwnerUnbindExpandedChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindExpandedChange[l])&&r()}this.__cbOnOwnerUnbindExpandedChange=null}if(null!=this.__cbOnceOwnerUnbindExpandedChange){for(t=0,i=this.__cbOnceOwnerUnbindExpandedChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindExpandedChange[l])&&r()}this.__cbOnceOwnerUnbindExpandedChange=null}this.__cbOnExpandedChange=null,this.__cbOnceExpandedChange=null}},listensExpandedChange:function(){return null!=this.__cbOnExpandedChange&&0<this.__cbOnExpandedChange.length||null!=this.__cbOnceExpandedChange&&0<this.__cbOnceExpandedChange.length},headerAutoruns:null,get_header:function(){var e,n,t=this.unobservedHeader;return null!=U.current&&(e=U.current,null!=(n=this.headerAutoruns)||(n=U.getAutorunArray(),null!=(this.headerAutoruns=n)))&&e.bindToAutorunArray(n),t},set_header:function(e){var n=this.unobservedHeader;return n!=(this.unobservedHeader=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!0)),this.emitHeaderChange(e,n),null!=(n=this.headerAutoruns))&&(this.headerAutoruns=null,U.invalidateAutorunArray(n)),e},invalidateHeader:function(){var e=this.unobservedHeader,e=(this.emitHeaderChange(e,e),this.headerAutoruns);null!=e&&(this.headerAutoruns=null,U.invalidateAutorunArray(e))},unobservedHeader:null,__cbOnHeaderChange:null,__cbOnceHeaderChange:null,__cbOnOwnerUnbindHeaderChange:null,__cbOnceOwnerUnbindHeaderChange:null,emitHeaderChange:function(e,n){var t=0;if(null!=this.__cbOnHeaderChange&&(t+=this.__cbOnHeaderChange.length),null!=this.__cbOnceHeaderChange&&(t+=this.__cbOnceHeaderChange.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnHeaderChange)for(var s=0,h=this.__cbOnHeaderChange.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnHeaderChange[a],++r):--t}if(null!=this.__cbOnceHeaderChange){for(var o=null,c=null,s=0,h=this.__cbOnceHeaderChange.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceHeaderChange[a],this.__cbOnceHeaderChange[a]=null,u=this.__cbOnceOwnerUnbindHeaderChange[a],(this.__cbOnceOwnerUnbindHeaderChange[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindHeaderChange[a]),c.push(this.__cbOnceHeaderChange[a]))}this.__cbOnceOwnerUnbindHeaderChange=o,this.__cbOnceHeaderChange=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onHeaderChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event headerChange because owner is destroyed!");var l=function(e){null!=t&&(i.offHeaderChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindHeaderChange&&(this.__cbOnOwnerUnbindHeaderChange=[]),this.__cbOnOwnerUnbindHeaderChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindHeaderChange&&(this.__cbOnOwnerUnbindHeaderChange=[]),this.__cbOnOwnerUnbindHeaderChange.push(null);null==this.__cbOnHeaderChange&&(this.__cbOnHeaderChange=[]),this.__cbOnHeaderChange.push(t)},onceHeaderChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event headerChange because owner is destroyed!");var l=function(e){null!=t&&(i.offHeaderChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindHeaderChange&&(this.__cbOnceOwnerUnbindHeaderChange=[]),this.__cbOnceOwnerUnbindHeaderChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindHeaderChange&&(this.__cbOnceOwnerUnbindHeaderChange=[]),this.__cbOnceOwnerUnbindHeaderChange.push(null);null==this.__cbOnceHeaderChange&&(this.__cbOnceHeaderChange=[]),this.__cbOnceHeaderChange.push(t)},offHeaderChange:function(e){if(null!=e){var n;null!=this.__cbOnHeaderChange&&-1!=(n=this.__cbOnHeaderChange.indexOf(e))&&(this.__cbOnHeaderChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindHeaderChange[n])&&r(),this.__cbOnOwnerUnbindHeaderChange.splice(n,1)),null!=this.__cbOnceHeaderChange&&-1!=(n=this.__cbOnceHeaderChange.indexOf(e))&&(this.__cbOnceHeaderChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindHeaderChange[n])&&r(),this.__cbOnceOwnerUnbindHeaderChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindHeaderChange){for(var t=0,i=this.__cbOnOwnerUnbindHeaderChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindHeaderChange[l])&&r()}this.__cbOnOwnerUnbindHeaderChange=null}if(null!=this.__cbOnceOwnerUnbindHeaderChange){for(t=0,i=this.__cbOnceOwnerUnbindHeaderChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindHeaderChange[l])&&r()}this.__cbOnceOwnerUnbindHeaderChange=null}this.__cbOnHeaderChange=null,this.__cbOnceHeaderChange=null}},listensHeaderChange:function(){return null!=this.__cbOnHeaderChange&&0<this.__cbOnHeaderChange.length||null!=this.__cbOnceHeaderChange&&0<this.__cbOnceHeaderChange.length},scrollbarAutoruns:null,get_scrollbar:function(){var e,n,t=this.unobservedScrollbar;return null!=U.current&&(e=U.current,null!=(n=this.scrollbarAutoruns)||(n=U.getAutorunArray(),null!=(this.scrollbarAutoruns=n)))&&e.bindToAutorunArray(n),t},set_scrollbar:function(e){var n=this.unobservedScrollbar;return n!=(this.unobservedScrollbar=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!0)),this.emitScrollbarChange(e,n),null!=(n=this.scrollbarAutoruns))&&(this.scrollbarAutoruns=null,U.invalidateAutorunArray(n)),e},invalidateScrollbar:function(){var e=this.unobservedScrollbar,e=(this.emitScrollbarChange(e,e),this.scrollbarAutoruns);null!=e&&(this.scrollbarAutoruns=null,U.invalidateAutorunArray(e))},unobservedScrollbar:null,__cbOnScrollbarChange:null,__cbOnceScrollbarChange:null,__cbOnOwnerUnbindScrollbarChange:null,__cbOnceOwnerUnbindScrollbarChange:null,emitScrollbarChange:function(e,n){var t=0;if(null!=this.__cbOnScrollbarChange&&(t+=this.__cbOnScrollbarChange.length),null!=this.__cbOnceScrollbarChange&&(t+=this.__cbOnceScrollbarChange.length),0<t){var i=C.pool(t),l=i.get(),r=0;if(null!=this.__cbOnScrollbarChange)for(var s=0,h=this.__cbOnScrollbarChange.length;s<h;){var a=s++;!0?(l.vector[r]=this.__cbOnScrollbarChange[a],++r):--t}if(null!=this.__cbOnceScrollbarChange){for(var o=null,c=null,s=0,h=this.__cbOnceScrollbarChange.length;s<h;){var u,a=s++;!0?(l.vector[r]=this.__cbOnceScrollbarChange[a],this.__cbOnceScrollbarChange[a]=null,u=this.__cbOnceOwnerUnbindScrollbarChange[a],(this.__cbOnceOwnerUnbindScrollbarChange[a]=null)!=u&&u(),++r):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindScrollbarChange[a]),c.push(this.__cbOnceScrollbarChange[a]))}this.__cbOnceOwnerUnbindScrollbarChange=o,this.__cbOnceScrollbarChange=c}for(s=0,h=t;s<h;){r=s++;(0,l.vector[r])(e,n)}i.release(l)}},onScrollbarChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event scrollbarChange because owner is destroyed!");var l=function(e){null!=t&&(i.offScrollbarChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindScrollbarChange&&(this.__cbOnOwnerUnbindScrollbarChange=[]),this.__cbOnOwnerUnbindScrollbarChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindScrollbarChange&&(this.__cbOnOwnerUnbindScrollbarChange=[]),this.__cbOnOwnerUnbindScrollbarChange.push(null);null==this.__cbOnScrollbarChange&&(this.__cbOnScrollbarChange=[]),this.__cbOnScrollbarChange.push(t)},onceScrollbarChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event scrollbarChange because owner is destroyed!");var l=function(e){null!=t&&(i.offScrollbarChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindScrollbarChange&&(this.__cbOnceOwnerUnbindScrollbarChange=[]),this.__cbOnceOwnerUnbindScrollbarChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindScrollbarChange&&(this.__cbOnceOwnerUnbindScrollbarChange=[]),this.__cbOnceOwnerUnbindScrollbarChange.push(null);null==this.__cbOnceScrollbarChange&&(this.__cbOnceScrollbarChange=[]),this.__cbOnceScrollbarChange.push(t)},offScrollbarChange:function(e){if(null!=e){var n;null!=this.__cbOnScrollbarChange&&-1!=(n=this.__cbOnScrollbarChange.indexOf(e))&&(this.__cbOnScrollbarChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindScrollbarChange[n])&&r(),this.__cbOnOwnerUnbindScrollbarChange.splice(n,1)),null!=this.__cbOnceScrollbarChange&&-1!=(n=this.__cbOnceScrollbarChange.indexOf(e))&&(this.__cbOnceScrollbarChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindScrollbarChange[n])&&r(),this.__cbOnceOwnerUnbindScrollbarChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindScrollbarChange){for(var t=0,i=this.__cbOnOwnerUnbindScrollbarChange.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindScrollbarChange[l])&&r()}this.__cbOnOwnerUnbindScrollbarChange=null}if(null!=this.__cbOnceOwnerUnbindScrollbarChange){for(t=0,i=this.__cbOnceOwnerUnbindScrollbarChange.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindScrollbarChange[l])&&r()}this.__cbOnceOwnerUnbindScrollbarChange=null}this.__cbOnScrollbarChange=null,this.__cbOnceScrollbarChange=null}},listensScrollbarChange:function(){return null!=this.__cbOnScrollbarChange&&0<this.__cbOnScrollbarChange.length||null!=this.__cbOnceScrollbarChange&&0<this.__cbOnceScrollbarChange.length},computedContentHeight:null,itemIndex:null,items:null,get_numItems:function(){return this.itemIndex},theme:null,form:null,filler:null,scrollable:null,didScrollWithHeight:null,used:null,justClosed:null,closable:null,movable:null,collapsible:null,overlay:null,overlayTheme:null,overlayClicked:null,titleAlign:null,targetX:null,targetY:null,targetAnchorX:null,targetAnchorY:null,window:null,beginFrame:function(){this.used=!1;this.itemIndex;this.itemIndex=0},endFrame:function(){this.used?null!=this.window&&(this.set_x(this.window.x),this.set_y(this.window.y)):null!=this.window&&(e=this.window,this.window=null,e.destroy());for(var e,n=this.itemIndex,t=this.items.length;n<t;){var i=n++,l=this.items[i];null!=l&&(11==l.kind&&0<l.int0&&null!=l.visual&&(l.visual.destroy(),l.visual=null),this.items[i]=null,l.recycle())}},addItem:function(e){var n=this.items[this.itemIndex];null!=n&&null!=n.previous&&(n.previous.recycle(),n.previous=null),e.previous=n,this.items[this.itemIndex]=e,this.itemIndex++},unbindEvents:function(){ld.prototype.unbindEvents.call(this),this.offXChange(),this.offYChange(),this.offWidthChange(),this.offHeightChange(),this.offExpandedChange(),this.offHeaderChange(),this.offScrollbarChange()},_default_xAutoruns:function(){return null},_default_x:function(){return 50},_default_yAutoruns:function(){return null},_default_y:function(){return 50},_default_widthAutoruns:function(){return null},_default_width:function(){return 50},_default_heightAutoruns:function(){return null},_default_height:function(){return 50},_default_expandedAutoruns:function(){return null},_default_expanded:function(){return!0},_default_headerAutoruns:function(){return null},_default_header:function(){return!0},_default_scrollbarAutoruns:function(){return null},_default_scrollbar:function(){return 0},_default_computedContentHeight:function(){return 0},_default_itemIndex:function(){return 0},_default_items:function(){return[]},_default_theme:function(){return null},_default_form:function(){return null},_default_filler:function(){return null},_default_scrollable:function(){return!1},_default_didScrollWithHeight:function(){return-1},_default_used:function(){return!0},_default_justClosed:function(){return!1},_default_closable:function(){return!1},_default_movable:function(){return!1},_default_collapsible:function(){return!0},_default_overlay:function(){return!1},_default_overlayTheme:function(){return null},_default_overlayClicked:function(){return!1},_default_titleAlign:function(){return _t.LEFT},_default_targetX:function(){return-999999999},_default_targetY:function(){return-999999999},_default_targetAnchorX:function(){return-999999999},_default_targetAnchorY:function(){return-999999999},_default_window:function(){return null},__class__:Li,__properties__:$extend(ld.prototype.__properties__,{get_numItems:"get_numItems",set_scrollbar:"set_scrollbar",get_scrollbar:"get_scrollbar",set_header:"set_header",get_header:"get_header",set_expanded:"set_expanded",get_expanded:"get_expanded",set_height:"set_height",get_height:"get_height",set_width:"set_width",get_width:"get_width",set_y:"set_y",get_y:"get_y",set_x:"set_x",get_x:"get_x"})}),function(){this.row=-1,this.anyArray0=null,this.stringArray1=null,this.stringArray0=null,this.intArray0=null,this.visual=null,this.any5=null,this.any4=null,this.any3=null,this.any2=null,this.any1=null,this.any0=null,this.string4=null,this.string3=null,this.string2=null,this.string1=null,this.string0=null,this.bool4=!1,this.bool3=!1,this.bool2=!1,this.bool1=!1,this.bool0=!1,this.float4=0,this.float3=0,this.labelWidth=0,this.float1=0,this.float0=0,this.flex=1,this.disabled=!1,this.labelPosition=0,this.int3=0,this.int2=0,this.int1=0,this.int0=0,this.theme=null,this.previous=null,this.kind=0}),Ri=((E["elements.WindowItem"]=Vi).__name__="elements.WindowItem",Vi.get=function(){var e=Vi.pool,e=0<e.availableItems.length?e.availableItems.pop():null;return e=null==e?new Vi:e},Vi._selectSetIntValue=function(e,n){var t=e.windowItem,e=e.get_list().indexOf(n);t.int1=e},Vi._editColorSetValue=function(e,n){e.set_value(n),e.windowItem.int1=n},Vi._editTextSetValue=function(e,n){e.windowItem.string1=n},Vi._editTextSubmit=function(e){e.windowItem.bool1=!0},Vi._editTextBlur=function(e){e.windowItem.bool3=!0},Vi._editFloatSetTextValue=function(e,n){var t,i;Vi._editFloatOrIntOperations(e,n)||(t=(i=e.windowItem).float4,i=i.int0,Di.setTextValueToFloat(e,n,-999999999,t,i,!1))},Vi._editFloatSetEmptyValue=function(e){var n=e.windowItem,t=n.float3,i=n.float4,l=n.int0;n.float1=Di.setEmptyToFloat(e,t,i,l)},Vi._editFloatSetValue=function(e,n){var e=e.windowItem,t=e.float3,i=e.float4;t<=n&&n<=i&&(e.float1=n)},Vi._editFloatFinishEditing=function(e){var n=e.windowItem,t=n.float3,i=n.float4,n=n.int0;Di.applyFloatOrIntOperationsIfNeeded(e,e.get_textValue(),t,i,!1,n)||Di.setTextValueToFloat(e,e.get_textValue(),t,i,n,!0)},Vi._editIntSetTextValue=function(e,n){var t;Vi._editFloatOrIntOperations(e,n)||(t=0|e.windowItem.float4,Di.setTextValueToInt(e,n,-999999999,t))},Vi._editIntSetEmptyValue=function(e){var n=e.windowItem,t=0|n.float3,i=0|n.float4;n.int1=Di.setEmptyToInt(e,t,i)},Vi._editIntSetValue=function(e,n){var e=e.windowItem,t=e.float3,i=e.float4;t<=n&&n<=i&&(e.int1=n)},Vi._editIntFinishEditing=function(e){var n=e.windowItem,t=0|n.float3,n=0|n.float4;Di.applyFloatOrIntOperationsIfNeeded(e,e.get_textValue(),t,n,!0,0)||Di.setTextValueToInt(e,e.get_textValue(),t,n)},Vi._editFloatOrIntOperations=function(e,n){var t=n.indexOf("+"),i=n.indexOf("-"),l=n.indexOf("*"),r=n.indexOf("/");return 0<t&&!(0<i||0<l||0<r)||0<i&&!(0<t||0<l||0<r)||0<l&&!(0<t||0<i||0<r)?(e.set_textValue(z.trim(n)),n!=e.get_textValue()&&e.invalidateTextValue(),!0):0<r&&!(0<t||0<l||0<i||(e.set_textValue(z.trim(n)),n!=e.get_textValue()&&e.invalidateTextValue(),0))},Vi._slideFloatSetValue=function(e,n){var t=e.windowItem,i=t.float3,l=t.float4;i<=n&&n<=l&&(t.float1=n,e.get_value(),e.set_value(n))},Vi._slideIntSetValue=function(e,n){var t=e.windowItem,i=t.float3,l=t.float4,r=Math.round(n);i<=n&&n<=l&&(t.int1=0|r,e.get_value(),e.set_value(n))},Vi.prototype={kind:null,previous:null,theme:null,int0:null,int1:null,int2:null,int3:null,labelPosition:null,disabled:null,flex:null,float0:null,float1:null,labelWidth:null,float3:null,float4:null,bool0:null,bool1:null,bool2:null,bool3:null,bool4:null,string0:null,string1:null,string2:null,string3:null,string4:null,any0:null,any1:null,any2:null,any3:null,any4:null,any5:null,visual:null,intArray0:null,stringArray0:null,stringArray1:null,anyArray0:null,row:null,hasManagedVisual:function(){return 11==this.kind&&0<this.int0&&null!=this.visual},isSameItem:function(e){if(null==e)return!1;if(e.kind!=this.kind)return!1;if(e.row!=this.row)return!1;switch(this.kind){case 0:return!1;case 1:return!(!(null!=e.string2&&null!=this.string2||null==e.string2&&null==this.string2)||e.stringArray0!=this.stringArray0&&!L0._arrayEqual(e.stringArray0,this.stringArray0));case 2:case 3:case 4:case 5:case 6:case 7:return null!=e.string2&&null!=this.string2||null==e.string2&&null==this.string2;case 8:return!0;case 9:return null!=e.string2&&null!=this.string2||null==e.string2&&null==this.string2;case 10:return!0;case 11:return(null!=e.string2&&null!=this.string2||null==e.string2&&null==this.string2)&&e.visual==this.visual;case 12:case 13:return!0;case 14:return null!=e.string2&&null!=this.string2||null==e.string2&&null==this.string2;case 15:return!0}},isSimilarLabel:function(e){return null!=e.string2&&null!=this.string2||null==e.string2&&null==this.string2},updateView:function(e){switch(this.kind){case 0:break;case 1:e=this.createOrUpdateSelectField(e);break;case 2:case 3:case 4:e=this.createOrUpdateEditTextField(e);break;case 5:e=this.createOrUpdateColorField(e);break;case 6:case 7:e=this.createOrUpdateSliderField(e);break;case 8:e=this.createOrUpdateButton(e);break;case 9:e=this.createOrUpdateBooleanField(e);break;case 10:e=this.createOrUpdateText(e);break;case 11:e=this.createOrUpdateVisualContainer(e);break;case 12:e=this.createOrUpdateSpace(e);break;case 13:e=this.createOrUpdateSeparator(e);break;case 14:e=this.createOrUpdateList(e);break;case 15:e=this.createOrUpdateTabs(e)}var n;return null!=e&&(n=this.flex,e.flex!=n)&&(e.flex=n,e.layoutDirty=!0),e},recycle:function(){this.kind=0,this.previous=null,this.int0=0,this.int1=0,this.int2=0,this.int3=0,this.labelPosition=0,this.disabled=!1,this.theme=null,this.flex=1,this.float0=0,this.float1=0,this.labelWidth=0,this.float3=0,this.float4=0,this.bool0=!1,this.bool1=!1,this.bool2=!1,this.bool3=!1,this.bool4=!1,this.string0=null,this.string1=null,this.string2=null,this.string3=null,this.string4=null,this.any0=null,this.any1=null,this.any2=null,this.any3=null,this.any4=null,this.any5=null,this.intArray0=null,this.stringArray0=null,this.stringArray1=null,(this.anyArray0=null)!=this.visual&&null==this.visual.parent&&this.visual.set_active(!1),this.visual=null,this.row=-1,Vi.pool.recycle(this)},createOrUpdateSpace:function(e){return null==e&&((e=new f0).flags|=16),e.set_viewHeight(this.float0),e.set_viewWidth(-60002),e},createOrUpdateSeparator:function(e){e=null!=e?e:new td;return e.set_theme(this.theme),e.set_viewHeight(this.float0),e.set_viewWidth(-60002),e},createOrUpdateVisualContainer:function(e){var n=null,t=null,i=!1;if(null!=this.string2)switch(null==(t=null!=e?e:null)?(i=!0,n=new Bi,t=new gd(n)):n=t.view,t.set_label(this.string2),t.set_labelPosition(this.labelPosition),t.set_labelWidth(this.labelWidth),t.labelPosition){case 0:n.set_contentAlign(En.LEFT);break;case 1:n.set_contentAlign(En.RIGHT)}else null==(n=null!=e?e:null)&&(i=!0,n=new Bi),n.set_contentAlign(En.CENTER);i&&(n.flags|=16,n.destroyVisualOnRemove=!1),this.visual.set_active(!0),n.set_visual(this.visual),this.bool1?(null==n.filter&&n.set_filter(new on),n.filter.set_density(ee.app.screenDensity)):null!=n.filter&&n.set_filter(null);e=this.bool0;return null!=t&&t.set_viewWidth(-60002),e?n.set_viewWidth(-60002):n.set_viewWidth(this.visual.get_width()),null!=t?t:n},createOrUpdateSelectField:function(e){var n=null,t=null,i=!1;if(null!=this.string2)switch(null==(t=null!=e?e:null)?(i=!0,n=new sd,t=new gd(n)):n=t.view,t.set_label(this.string2),t.set_labelPosition(this.labelPosition),t.set_labelWidth(this.labelWidth),t.set_theme(this.theme),t.labelPosition){case 0:n.set_align(En.LEFT);break;case 1:n.set_align(En.RIGHT)}else null==(n=null!=e?e:null)&&(i=!0,n=new sd);n.windowItem=this,n.set_list(this.stringArray0),n.set_nullValueText(this.string1),n.set_theme(this.theme),i&&(n.setValue=Vi._selectSetIntValue);e=this.stringArray0[this.int0];return e!=n.get_value()&&n.set_value(e),null!=t&&t.set_viewWidth(-60002),n.set_viewWidth(-60002),null!=t?t:n},createOrUpdateBooleanField:function(e){var t=null,n=null,i=!1;return null!=this.string2?(null==(n=null!=e?e:null)?(i=!0,t=new D2,n=new gd(t)):t=n.view,t.set_viewWidth(-60001),n.set_label(this.string2),n.set_labelPosition(this.labelPosition),n.set_labelWidth(this.labelWidth),n.set_theme(this.theme)):null==(t=null!=e?e:null)&&(i=!0,t=new D2),t.windowItem=this,t.set_theme(this.theme),(t.get_value()?1:0)!=this.int0&&t.set_value(0!=this.int0),i&&t.onValueChange(null,function(e,n){t.windowItem.int1=e?1:0}),t.set_disabled(this.disabled),(null!=n?n:t).set_viewWidth(-60002),null!=n?n:t},createOrUpdateColorField:function(e){var n=null,t=null,i=!1,e=(null!=this.string2?(null==(t=null!=e?e:null)?(i=!0,n=new L2,t=new gd(n)):n=t.view,t.set_label(this.string2),t.set_labelPosition(this.labelPosition),t.set_labelWidth(this.labelWidth),t.set_theme(this.theme)):null==(n=null!=e?e:null)&&(i=!0,n=new L2),n.windowItem);return n.windowItem=this,n.set_theme(this.theme),i&&(n.setValue=Vi._editColorSetValue),!i&&e.int1==this.int0||n.set_value(this.int0),n.set_disabled(this.disabled),null!=t&&t.set_viewWidth(-60002),n.set_viewWidth(-60002),null!=t?t:n},createOrUpdateEditTextField:function(e){this.kind,n=ki.TEXT;var n,t=null,i=null,l=!1,e=(null!=this.string2?(null==(i=null!=e?e:null)?(l=!0,t=new Ai(n),i=new gd(t)):t=i.view,i.set_label(this.string2),i.set_labelPosition(this.labelPosition),i.set_labelWidth(this.labelWidth),i.set_theme(this.theme)):null==(t=null!=e?e:null)&&(l=!0,t=new Ai(n)),t.windowItem);return t.windowItem=this,t.set_theme(this.theme),2==this.kind?(l&&(t.setValue=Vi._editTextSetValue,t.submit=Vi._editTextSubmit,t.onFocusedChange(null,function(e,n){n&&!e&&Vi._editTextBlur(t)}),this.bool2)&&re._beginFrameCallbacks.push(function(){0<=t._lifecycleState&&t.focus()}),this.string0!=t.get_textValue()&&t.set_textValue(this.string0),t.set_multiline(this.bool0),t.set_placeholder(this.string3),t.set_autocompleteCandidates(this.stringArray0),t.autocompleteOnFocus=this.bool4):3==this.kind?(l&&(t.setTextValue=Vi._editFloatSetTextValue,t.setEmptyValue=Vi._editFloatSetEmptyValue,t.setValue=Vi._editFloatSetValue,t.onFocusedChange(null,function(e,n){e||Vi._editFloatFinishEditing(t)})),!l&&e.float1==this.float0||t.set_textValue(""+this.float0),t.set_placeholder(this.string3)):4==this.kind&&(l&&(t.setTextValue=Vi._editIntSetTextValue,t.setEmptyValue=Vi._editIntSetEmptyValue,t.setValue=Vi._editIntSetValue,t.onFocusedChange(null,function(e,n){e||Vi._editIntFinishEditing(t)})),!l&&e.int1==this.int0||t.set_textValue(""+this.int0),t.set_placeholder(this.string3)),t.set_disabled(this.disabled),null!=i&&i.set_viewWidth(-60002),t.set_viewWidth(-60002),null!=i?i:t},createOrUpdateSliderField:function(e){var t=null,n=null,i=!1,e=(null!=this.string2?(null==(n=null!=e?e:null)?(i=!0,t=new ud,n=new gd(t)):t=n.view,n.set_label(this.string2),n.set_labelPosition(this.labelPosition),n.set_labelWidth(this.labelWidth),n.set_theme(this.theme)):null==(t=null!=e?e:null)&&(i=!0,t=new ud),t.windowItem);return t.windowItem=this,t.set_theme(this.theme),6==this.kind?(t.set_minValue(this.float3),t.set_maxValue(this.float4),t.round=this.int0,i&&(t.setTextValue=Vi._editFloatSetTextValue,t.setEmptyValue=Vi._editFloatSetEmptyValue,t.setValue=Vi._slideFloatSetValue,t.onFocusedChange(null,function(e,n){e||Vi._editFloatFinishEditing(t)})),!i&&e.float1==this.float0||t.set_value(this.float0)):7==this.kind&&(t.set_minValue(this.float3),t.set_maxValue(this.float4),t.round=1,i&&(t.setTextValue=Vi._editIntSetTextValue,t.setEmptyValue=Vi._editIntSetEmptyValue,t.setValue=Vi._slideIntSetValue,t.onFocusedChange(null,function(e,n){e||Vi._editIntFinishEditing(t)})),!i&&e.int1==this.int0||t.set_value(this.int0)),t.set_disabled(this.disabled),null!=n&&n.set_viewWidth(-60002),t.set_viewWidth(-60002),null!=n?n:t},createOrUpdateText:function(e){var n,e=null!=e?e:null;switch((e=null==e?new fd:e).text.content!=this.string0&&e.set_content(this.string0),this.int0){case 1:n=_t.RIGHT;break;case 2:n=_t.CENTER;break;default:n=_t.LEFT}return e.set_align(n),e.set_disabled(this.disabled),e.set_viewWidth(-60002),e.set_theme(this.theme),e.set_bold(this.bool0),e.set_pointSize(this.int2),e.set_preRenderedSize(this.int3),e},createOrUpdateButton:function(e){var n=null!=e?e:null,e=!1;return null==n&&(e=!0,n=new E2),n.text.content!=this.string0&&n.set_content(this.string0),n.get_enabled()!=this.bool0&&n.set_enabled(this.bool0),n.windowItem=this,e&&n.onClick(null,function(){var e=n.windowItem;null!=e&&e._buttonClick()}),n.set_disabled(this.disabled),n.set_viewWidth(-60002),n.set_theme(this.theme),n},_buttonClick:function(){this.int1=1},createOrUpdateList:function(e){var c=null!=e?e:null,e=!1,n=(null==c&&(e=!0,c=new id(this.any0)),this.int2);c.set_sortable(1==(1&n)),c.set_lockable(2==(2&n)),c.set_trashable(4==(4&n)),c.set_duplicable(8==(8&n));return c.set_smallItems(16==(16&n)),c.set_items(this.any0),c.windowItem=this,c.set_selectedIndex(this.int0),c.set_theme(this.theme),e&&(c.onSelectedIndexChange(null,function(e,n){var t=c.windowItem;null!=t&&(t.int1=e)}),c.onMoveItemAboveItem(null,function(e,n){for(var t=c.get_items(),i=[],l=c.get_selectedIndex(),r=l,s=0,h=t.length;s<h;){var a=s++;a!=e&&(l==a&&(r=i.length),i.push(t[a]),a==n)&&(l==e&&(r=i.length),i.push(t[e]))}c.set_selectedIndex(r),c.set_items(i);var o=c.windowItem;null!=o&&(o.any1=i)}),c.onMoveItemBelowItem(null,function(e,n){for(var t=c.get_items(),i=[],l=c.get_selectedIndex(),r=l,s=0,h=t.length;s<h;){var a=s++;a!=e&&(a==n&&(l==e&&(r=i.length),i.push(t[e])),l==a&&(r=i.length),i.push(t[a]))}c.set_selectedIndex(r),c.set_items(i);var o=c.windowItem;null!=o&&(o.any1=i)}),c.onTrashItem(null,function(e){for(var n=c.get_items(),t=n[e],i=[],l=c.get_selectedIndex(),r=l,s=(l==e?r=-1:e<l&&--r,0),h=n.length;s<h;){var a=s++;a!=e&&i.push(n[a])}c.set_selectedIndex(r),c.set_items(i);l=c.windowItem;null!=l&&(l.any1=i,null==(r=l.any2)&&(l.any2=r=[]),r.push(t))}),c.onLockItem(null,function(e){for(var n=c.get_items(),t=n[e],i=[],l=0,r=n.length;l<r;){var s=l++;s!=e&&i.push(n[s])}var h,a=c.windowItem;null!=a&&(null==(h=a.any3)&&(a.any3=h=[]),h.push(t))}),c.onUnlockItem(null,function(e){for(var n=c.get_items(),t=n[e],i=[],l=0,r=n.length;l<r;){var s=l++;s!=e&&i.push(n[s])}var h,a=c.windowItem;null!=a&&(null==(h=a.any4)&&(a.any4=h=[]),h.push(t))}),c.onDuplicateItem(null,function(e){var n,e=c.get_items()[e],t=c.windowItem;null!=t&&(null==(n=t.any5)&&(t.any5=n=[]),n.push(e))})),c.set_viewWidth(-60002),0<this.float0?(c.set_viewHeight(this.float0),c.set_scrollEnabled(!0)):(n=c.get_smallItems()?id.CELL_HEIGHT_SMALL:id.CELL_HEIGHT_LARGE,c.set_viewHeight(c.get_items().length*n),c.set_scrollEnabled(!1)),c},createOrUpdateTabs:function(e){var i=null!=e?e:null,e=!1;return null==i&&(e=!0,i=new wd),i.windowItem=this,L0.equal(i.get_tabs(),this.stringArray1)||i.set_tabs(this.stringArray1),L0.equal(i.get_tabStates(),this.intArray0)||i.set_tabStates(this.intArray0),L0.equal(i.get_tabThemes(),this.anyArray0)||i.set_tabThemes(this.anyArray0),i.set_selectedIndex(this.stringArray0.indexOf(this.string0)),i.set_marginX(this.theme.get_formPadding()),i.set_marginY(this.theme.get_tabsMarginY()),e&&i.onSelectedIndexChange(null,function(e,n){var t=i.windowItem;null!=t&&(t.string1=0<=e?t.stringArray0[e]:null)}),i.set_viewWidth(-60002),i.set_theme(this.theme),i},__class__:Vi},(E["fuzzaldrin.Filter"]=Hd).__name__="fuzzaldrin.Filter",Hd.pluckCandidates=function(e){return e.candidate},Hd.sortCandidates=function(e,n){return n.score>e.score?1:n.score<e.score?-1:0},Hd.filter=function(e,n,t,i){var l=null!=i?i.key:null,i=null!=i&&null!=i.maxResults?i.maxResults:-1;if(null!=n&&0<n.length){for(var r=[],s=0,h=e.length;s<h;){var a,o=e[u=s++],c=null!=l?K.getProperty(o,l):o;null!=c&&0!=c.length&&(a=Ni.score(c,n),0<(a=t?a:Ni.basenameScore(c,n,a)))&&r.push({candidate:o,score:a})}r.sort(Hd.sortCandidates);for(var u,_=Hd.pluckCandidates,d=new Array(r.length),s=0,h=r.length;s<h;)d[u=s++]=_(r[u]);e=d}return e=-1!=i?e.slice(0,i):e},function(){}),Hi=((E["fuzzaldrin.Fuzzaldrin"]=Ri).__name__="fuzzaldrin.Fuzzaldrin",Ri.filter=function(e,n,t){var i=!1;return null!=n&&0<n.length&&(i=-1!=n.indexOf(Ri.PATH_SEPARATOR),n=n.replace(Ri.RE_SPACE.r,"")),Hd.filter(e,n,i,t)},Ri.score=function(e,n){var t,i;return null==e||0==e.length||null==n||0==n.length?0:e==n?2:(t=-1!=n.indexOf(Ri.PATH_SEPARATOR),n=n.replace(Ri.RE_SPACE.r,""),i=Ni.score(e,n),t?i:Ni.basenameScore(e,n,i))},Ri.sortMatches=function(e,n){return n<e?1:e<n?-1:0},Ri.prototype={match:function(e,n){if(null==e||0==e.length)return[];if(null==n||0==n.length)return[];if(e==n){for(var t=[],i=0,l=e.length;i<l;){var r=i++;t.push(r)}return t}var s=-1!=n.indexOf(Ri.PATH_SEPARATOR),h=(n=n.replace(Ri.RE_SPACE.r,""),Hi.match(e,n));if(!s){s=Hi.basenameMatch(e,n);(h=h.concat(s)).sort(Ri.sortMatches);for(var a=-1,o=0;o<h.length;)0!=o&&a==h[o]?h.splice(o,1):(a=h[o],++o)}return h},__class__:Ri},function(){}),Ni=((E["fuzzaldrin.Matcher"]=Hi).__name__="fuzzaldrin.Matcher",Hi.basenameMatch=function(e,n){for(var t=e.length-1;e.charAt(t)==Ri.PATH_SEPARATOR;)--t;for(var i=t,l=null;0<=t;)e.charAt(t)==Ri.PATH_SEPARATOR?null==l&&(l=e.substring(t+1,i+1)):0==t&&(i<e.length-1?null==l&&(l=e.substring(0,i+1)):null==l&&(l=e)),--t;return Hi.match(l,n,e.length-l.length)},Hi.match=function(e,n,t){if(null==t&&(t=0),e==n){for(var i=[],l=t,r=t+e.length;l<r;){var s=l++;i.push(s)}return i}for(var h=n.length,a=e.length,o=0,c=0,u=[];o<h;){var _=n.charAt(o++),d=e.indexOf(_.toLowerCase()),_=e.indexOf(_.toUpperCase()),b=0|Math.min(d,_);if(-1==(c=b=-1==b?0|Math.max(d,_):b))return[];u.push(t+c),t+=c+1,e=e.substring(c+1,a)}return u},function(){}),Wi=((E["fuzzaldrin.Scorer"]=Ni).__name__="fuzzaldrin.Scorer",Ni.basenameScore=function(e,n,t){for(var i=e.length-1;e.charAt(i)==Ri.PATH_SEPARATOR;)--i;for(var l=0,r=i,s=null;0<=i;)e.charAt(i)==Ri.PATH_SEPARATOR?(++l,null==s&&(s=e.substring(i+1,r+1))):0==i&&(r<e.length-1?null==s&&(s=e.substring(0,r+1)):null==s&&(s=e)),--i;return s==e?t*=2:null!=s&&0<s.length&&(t+=Ni.score(s,n)),t*=.01*Math.max(1,10-(l+1))},Ni.score=function(e,n){if(e==n)return 1;if(Ni.queryIsLastPathSegment(e,n))return 1;for(var t=0,i=n.length,l=e.length,r=0,s=0;r<i;){var h=n.charAt(r++),a=e.indexOf(h.toLowerCase()),o=e.indexOf(h.toUpperCase()),c=0|Math.min(a,o);if(-1==(s=c=-1==c?0|Math.max(a,o):c))return 0;a=.1;e.charAt(s)==h&&(a+=.1),0==s||e.charAt(s-1)==Ri.PATH_SEPARATOR?a+=.8:"-"!=(o=e.charAt(s-1))&&"_"!=o&&" "!=o||(a+=.7),e=e.substring(s+1,l),t+=a}var u=t/i;return(i/l*u+u)/2},Ni.queryIsLastPathSegment=function(e,n){return e.charAt(e.length-n.length-1)==Ri.PATH_SEPARATOR&&e.lastIndexOf(n)==e.length-n.length},Oe["haxe.StackItem"]={__ename__:"haxe.StackItem",__constructs__:null,CFunction:{_hx_name:"CFunction",_hx_index:0,__enum__:"haxe.StackItem",toString:c},Module:((x=function(e){return{_hx_index:1,m:e,__enum__:"haxe.StackItem",toString:c}})._hx_name="Module",x.__params__=["m"],x),FilePos:((x=function(e,n,t,i){return{_hx_index:2,s:e,file:n,line:t,column:i,__enum__:"haxe.StackItem",toString:c}})._hx_name="FilePos",x.__params__=["s","file","line","column"],x),Method:((x=function(e,n){return{_hx_index:3,classname:e,method:n,__enum__:"haxe.StackItem",toString:c}})._hx_name="Method",x.__params__=["classname","method"],x),LocalFunction:((x=function(e){return{_hx_index:4,v:e,__enum__:"haxe.StackItem",toString:c}})._hx_name="LocalFunction",x.__params__=["v"],x)}),zi=(Wi.__constructs__=[Wi.CFunction,Wi.Module,Wi.FilePos,Wi.Method,Wi.LocalFunction],{}),oe=(zi.callStack=function(){return Yi.toHaxe(Yi.callStack())},zi.exceptionStack=function(e){null==e&&(e=!1);var n=Yi.toHaxe(Yi.exceptionStack());return e?n:zi.subtract(n,zi.callStack())},zi.subtract=function(e,n){for(var t=-1,i=-1;++i<e.length;){for(var l=0,r=n.length;l<r;){var s=l++;if(zi.equalItems(e[i],n[s])){if(t<0&&(t=i),++i>=e.length)break}else t=-1}if(0<=t)break}return 0<=t?e.slice(0,t):e},zi.equalItems=function(e,n){if(null==e)return null==n;switch(e._hx_index){case 0:return null!=n&&0==n._hx_index;case 1:return null!=n&&1==n._hx_index&&(t=n.m,e.m==t);case 2:var t,i,l,r;return null!=n&&2==n._hx_index&&(t=n.s,h=n.file,o=n.line,i=n.column,l=e.column,a=e.line,s=e.file,r=e.s,s==h)&&a==o&&l==i&&zi.equalItems(r,t);case 3:var s,h,a;return null!=n&&3==n._hx_index&&(s=n.classname,h=n.method,a=e.method,e.classname==s)&&a==h;case 4:var o;return null!=n&&4==n._hx_index&&(o=n.v,e.v==o)}},(E["haxe.IMap"]=Nd).__name__="haxe.IMap",Nd.__isInterface__=!0,Nd.prototype={get:null,keys:null,iterator:null,keyValueIterator:null,__class__:Nd},function(e,n,t){Error.call(this,e),this.message=e,this.__previousException=n,this.__nativeException=null!=t?t:this,this.__skipStack=0;e=Error.prepareStackTrace;if(Error.prepareStackTrace=function(e){return e.stack},t instanceof Error)this.stack=t.stack;else{n=null;if(Error.captureStackTrace)Error.captureStackTrace(this,oe),n=this;else if(void 0===(n=new Error).stack){try{throw n}catch(e){}this.__skipStack++}this.stack=n.stack}Error.prepareStackTrace=e}),Gi=((E["haxe.Exception"]=oe).__name__="haxe.Exception",oe.caught=function(e){return e instanceof oe?e:e instanceof Error?new oe(e.message,null,e):new $i(e,null,e)},oe.thrown=function(e){return e instanceof oe?e.get_native():e instanceof Error?e:((e=new $i(e)).__skipStack++,e)},oe.__super__=Error,oe.prototype=$extend(Error.prototype,{__skipStack:null,__nativeException:null,__previousException:null,unwrap:function(){return this.__nativeException},__shiftStack:function(){this.__skipStack++},get_native:function(){return this.__nativeException},get_stack:function(){var e,n=this.__exceptionStack;return null==n?(e=Yi.toHaxe(Yi.normalize(this.stack),this.__skipStack),this.setProperty("__exceptionStack",e),e):n},setProperty:function(n,t){try{Object.defineProperty(this,n,{value:t})}catch(e){this[n]=t}},__class__:oe,__properties__:{get_native:"get_native",get_stack:"get_stack"}}),function(){}),Yi=((E["haxe.Log"]=Gi).__name__="haxe.Log",Gi.formatOutput=function(e,n){var t=X.string(e);if(null==n)return t;var i=n.fileName+":"+n.lineNumber;if(null!=n.customParams)for(var l=0,r=n.customParams;l<r.length;){e=r[l];++l,t+=", "+X.string(e)}return i+": "+t},Gi.trace=function(e,n){e=Gi.formatOutput(e,n);"undefined"!=typeof console&&null!=console.log&&console.log(e)},function(){}),Ki=((E["haxe.NativeStackTrace"]=Yi).__name__="haxe.NativeStackTrace",Yi.saveStack=function(e){Yi.lastError=e},Yi.callStack=function(){var e=new Error(""),n=Yi.tryHaxeStack(e);if(void 0===n){try{throw e}catch(e){}n=e.stack}return Yi.normalize(n,2)},Yi.exceptionStack=function(){return Yi.normalize(Yi.tryHaxeStack(Yi.lastError))},Yi.toHaxe=function(e,n){if(null==n&&(n=0),null==e)return[];if("string"!=typeof e)return 0<n&&Array.isArray(e)?e.slice(n):e;for(var t=e.split("\n"),i=("Error"==t[0]&&t.shift(),[]),l=0,r=t.length;l<r;){var s,h,a,o,c,u=l++;u<n||(null!=(c=(u=t[u]).match(/^    at ([$A-Za-z0-9_. ]+) \(([^)]+):([0-9]+):([0-9]+)\)$/))?("$hxClasses"==(s=c[1].split("."))[0]&&s.shift(),h=s.pop(),a=c[2],o=X.parseInt(c[3]),c=X.parseInt(c[4]),i.push(Wi.FilePos("Anonymous function"==h?Wi.LocalFunction():"Global code"==h?null:Wi.Method(s.join("."),h),a,o,c))):i.push(Wi.Module(z.trim(u))))}return i},Yi.tryHaxeStack=function(e){var n;return null==e?[]:(n=Error.prepareStackTrace,Error.prepareStackTrace=Yi.prepareHxStackTrace,e=e.stack,Error.prepareStackTrace=n,e)},Yi.prepareHxStackTrace=function(e,n){for(var t=[],i=0;i<n.length;){var l=n[i],r=(++i,null),s=(l=null!=Yi.wrapCallSite?Yi.wrapCallSite(l):l).getFunctionName(),h=(null!=s&&(r=0<=(a=s.lastIndexOf("."))?(h=s.substring(0,a),a=s.substring(a+1),Wi.Method(h,a)):Wi.Method(null,s)),l.getFileName()),a=null==h?-1:h.indexOf("file:");null!=Yi.wrapCallSite&&0<a&&(h=h.substring(a+6)),t.push(Wi.FilePos(r,h,l.getLineNumber(),l.getColumnNumber()))}return t},Yi.normalize=function(e,n){if(null==n&&(n=0),Array.isArray(e)&&0<n)return e.slice(n);if("string"!=typeof e)return e;switch(e.substring(0,6)){case"Error\n":case"Error:":++n}return Yi.skipLines(e,n)},Yi.skipLines=function(e,n,t){return null==t&&(t=0),0<n?(t=e.indexOf("\n",t))<0?"":Yi.skipLines(e,--n,t+1):e.substring(t)},function(){this.buf=new y,this.cache=[],this.useCache=Ki.USE_CACHE,this.useEnumIndex=Ki.USE_ENUM_INDEX,this.shash=new ue,this.scount=0}),Xi=((E["haxe.Serializer"]=Ki).__name__="haxe.Serializer",Ki.prototype={buf:null,cache:null,shash:null,scount:null,useCache:null,useEnumIndex:null,toString:function(){return this.buf.b},serializeString:function(e){var n=this.shash.h[e];null!=n?(this.buf.b+="R",this.buf.b+=null==n?"null":""+n):(this.shash.h[e]=this.scount++,this.buf.b+="y",e=encodeURIComponent(e),this.buf.b+=X.string(e.length),this.buf.b+=":",this.buf.b+=null==e?"null":""+e)},serializeRef:function(e){for(var n=typeof e,t=0,i=this.cache.length;t<i;){var l=t++,r=this.cache[l];if(typeof r==n&&r==e)return this.buf.b+="r",this.buf.b+=null==l?"null":""+l,!0}return this.cache.push(e),!1},serializeFields:function(e){for(var n=0,t=K.fields(e);n<t.length;){var i=t[n];++n,this.serializeString(i),this.serialize(K.field(e,i))}this.buf.b+="g"},serialize:function(e){switch((U=B.typeof(e))._hx_index){case 0:this.buf.b+="n";break;case 1:0==(n=e)?this.buf.b+="z":(this.buf.b+="i",this.buf.b+=null==n?"null":""+n);break;case 2:var n=e;isNaN(n)?this.buf.b+="k":isFinite(n)?(this.buf.b+="d",this.buf.b+=null==n?"null":""+n):this.buf.b+=n<0?"m":"p";break;case 3:this.buf.b+=e?"t":"f";break;case 4:if(Ul.__instanceof(e,Rl)){var t=e.__name__;this.buf.b+="A",this.serializeString(t)}else if(Ul.__instanceof(e,Hl))this.buf.b+="B",this.serializeString(e.__ename__);else{if(this.useCache&&this.serializeRef(e))return;this.buf.b+="o",this.serializeFields(e)}break;case 5:throw oe.thrown("Cannot serialize function");case 6:var i=U.c;if(i==String)this.serializeString(e);else if(!this.useCache||!this.serializeRef(e))switch(i){case Array:var l=0;this.buf.b+="a";for(var r=0,s=e.length;r<s;)null==e[_=r++]?++l:(0<l&&(1==l?this.buf.b+="n":(this.buf.b+="u",this.buf.b+=null==l?"null":""+l),l=0),this.serialize(e[_]));0<l&&(1==l?this.buf.b+="n":(this.buf.b+="u",this.buf.b+=null==l?"null":""+l)),this.buf.b+="h";break;case Date:var h=e;this.buf.b+="v",this.buf.b+=X.string(h.getTime());break;case qi:this.buf.b+="q";for(var a=(n=e).keys();a.hasNext();){var o=a.next();this.buf.b+=":",this.buf.b+=null==o?"null":""+o,this.serialize(n.h[o])}this.buf.b+="h";break;case Zi:this.buf.b+="l";for(var c=(n=e).h;null!=c;){var u=c.item,c=c.next,_=u;this.serialize(_)}this.buf.b+="h";break;case el:this.buf.b+="M";for(a=(n=e).keys();a.hasNext();){var o=a.next(),d=K.field(o,"__id__");K.deleteField(o,"__id__"),this.serialize(o),o.__id__=d,this.serialize(n.h[o.__id__])}this.buf.b+="h";break;case ue:this.buf.b+="b";for(var h=(n=e).h,b=Object.keys(h),g=b.length,O=0;O<g;){a=b[O++];this.serializeString(a),this.serialize(n.h[a])}this.buf.b+="h";break;case rl:var n=e,_=(this.buf.b+="s",this.buf.b+=X.string(Math.ceil(8*n.length/6)),this.buf.b+=":",0),f=n.length-2;if(null==(p=Ki.BASE64_CODES)){for(var p=new Array(Ki.BASE64.length),r=0,s=Ki.BASE64.length;r<s;){var C=r++;p[C]=se.cca(Ki.BASE64,C)}Ki.BASE64_CODES=p}for(;_<f;){var v=n.b[_++],w=n.b[_++],m=n.b[_++];this.buf.b+=String.fromCodePoint(p[v>>2]),this.buf.b+=String.fromCodePoint(p[63&(v<<4|w>>4)]),this.buf.b+=String.fromCodePoint(p[63&(w<<2|m>>6)]),this.buf.b+=String.fromCodePoint(p[63&m])}_==f?(v=n.b[_++],w=n.b[_++],this.buf.b+=String.fromCodePoint(p[v>>2]),this.buf.b+=String.fromCodePoint(p[63&(v<<4|w>>4)]),this.buf.b+=String.fromCodePoint(p[w<<2&63])):_==1+f&&(v=n.b[_++],this.buf.b+=String.fromCodePoint(p[v>>2]),this.buf.b+=String.fromCodePoint(p[v<<4&63]));break;default:this.useCache&&this.cache.pop(),null!=e.hxSerialize?(this.buf.b+="C",this.serializeString(i.__name__),this.useCache&&this.cache.push(e),e.hxSerialize(this),this.buf.b+="g"):(this.buf.b+="c",this.serializeString(i.__name__),this.useCache&&this.cache.push(e),this.serializeFields(e))}break;case 7:t=U.e;if(this.useCache){if(this.serializeRef(e))return;this.cache.pop()}this.buf.b+=X.string(this.useEnumIndex?"j":"w"),this.serializeString(t.__ename__),this.useEnumIndex?(this.buf.b+=":",this.buf.b+=X.string(e._hx_index)):this.serializeString(Oe[(t=e).__enum__].__constructs__[e._hx_index]._hx_name),this.buf.b+=":";for(var y=B.enumParameters(e),U=(this.buf.b+=X.string(y.length),0);U<y.length;){var D=y[U];++U,this.serialize(D)}this.useCache&&this.cache.push(e);break;default:throw oe.thrown("Cannot serialize "+X.string(e))}},__class__:Ki},(E["haxe._Unserializer.DefaultResolver"]=Sd).__name__="haxe._Unserializer.DefaultResolver",Sd.prototype={resolveClass:function(e){return E[e]},resolveEnum:function(e){return Oe[e]},__class__:Sd},function(e){this.buf=e,this.length=this.buf.length,this.pos=0,this.scache=[],this.cache=[];e=Xi.DEFAULT_RESOLVER;null==e&&(e=new Sd,Xi.DEFAULT_RESOLVER=e),this.resolver=e}),$i=((E["haxe.Unserializer"]=Xi).__name__="haxe.Unserializer",Xi.initCodes=function(){for(var e=[],n=0,t=Xi.BASE64.length;n<t;){var i=n++;e[Xi.BASE64.charCodeAt(i)]=i}return e},Xi.prototype={buf:null,pos:null,length:null,cache:null,scache:null,resolver:null,readDigits:function(){for(var e=0,n=!1,t=this.pos;;){var i=this.buf.charCodeAt(this.pos);if(i!=i)break;if(45==i){if(this.pos!=t)break;n=!0}else{if(i<48||57<i)break;e=10*e+(i-48)}this.pos++}return n&&(e*=-1),e},readFloat:function(){for(var e=this.pos;;){var n=this.buf.charCodeAt(this.pos);if(n!=n)break;if(!(43<=n&&n<58||101==n||69==n))break;this.pos++}return parseFloat(se.substr(this.buf,e,this.pos-e))},unserializeObject:function(e){for(;;){if(this.pos>=this.length)throw oe.thrown("Invalid object");if(103==this.buf.charCodeAt(this.pos))break;var n=this.unserialize();if("string"!=typeof n)throw oe.thrown("Invalid object key");var t=this.unserialize();e[n]=t}this.pos++},unserializeEnum:function(e,n){if(58!=this.buf.charCodeAt(this.pos++))throw oe.thrown("Invalid enum format");var t=this.readDigits();if(0==t)return B.createEnum(e,n);for(var i=[];0<t--;)i.push(this.unserialize());return B.createEnum(e,n,i)},unserialize:function(){switch(this.buf.charCodeAt(this.pos++)){case 65:var e=this.unserialize();if(null==(h=this.resolver.resolveClass(e)))throw oe.thrown("Class not found "+e);return h;case 66:e=this.unserialize();if(null==(d=this.resolver.resolveEnum(e)))throw oe.thrown("Enum not found "+e);return d;case 67:e=this.unserialize();if(null==(h=this.resolver.resolveClass(e)))throw oe.thrown("Class not found "+e);var n=Object.create(h.prototype);if(this.cache.push(n),n.hxUnserialize(this),103!=this.buf.charCodeAt(this.pos++))throw oe.thrown("Invalid custom data");return n;case 77:for(var t=new el,i=(this.cache.push(t),this.buf);104!=this.buf.charCodeAt(this.pos);){var l=this.unserialize();t.set(l,this.unserialize())}return this.pos++,t;case 82:if((f=this.readDigits())<0||f>=this.scache.length)throw oe.thrown("Invalid string reference");return this.scache[f];case 97:var i=this.buf,r=[];for(this.cache.push(r);;){if(104==(g=this.buf.charCodeAt(this.pos))){this.pos++;break}117==g?(this.pos++,f=this.readDigits(),r[r.length+f-1]=null):r.push(this.unserialize())}return r;case 98:for(t=new ue,i=(this.cache.push(t),this.buf);104!=this.buf.charCodeAt(this.pos);){var l=this.unserialize(),s=this.unserialize();t.h[l]=s}return this.pos++,t;case 99:var e=this.unserialize();if(null==(h=this.resolver.resolveClass(e)))throw oe.thrown("Class not found "+e);n=Object.create(h.prototype);return this.cache.push(n),this.unserializeObject(n),n;case 100:return this.readFloat();case 102:return!1;case 105:return this.readDigits();case 106:e=this.unserialize();if(null==(S=this.resolver.resolveEnum(e)))throw oe.thrown("Enum not found "+e);this.pos++;for(var h=this.readDigits(),a=S.__constructs__,o=new Array(a.length),c=0,u=a.length;c<u;)o[O=c++]=a[O]._hx_name;var _=o[h];if(null==_)throw oe.thrown("Unknown enum index "+e+"@"+h);var d=this.unserializeEnum(S,_);return this.cache.push(d),d;case 107:return NaN;case 108:for(var b=new Zi,i=(this.cache.push(b),this.buf);104!=this.buf.charCodeAt(this.pos);)b.add(this.unserialize());return this.pos++,b;case 109:return-1/0;case 110:return null;case 111:n={};return this.cache.push(n),this.unserializeObject(n),n;case 112:return 1/0;case 113:for(var t=new qi,i=(this.cache.push(t),this.buf),g=this.buf.charCodeAt(this.pos++);58==g;){var O=this.readDigits(),s=this.unserialize();t.h[O]=s,g=this.buf.charCodeAt(this.pos++)}if(104!=g)throw oe.thrown("Invalid IntMap format");return t;case 114:var f;if((f=this.readDigits())<0||f>=this.cache.length)throw oe.thrown("Invalid reference");return this.cache[f];case 115:var p=this.readDigits(),i=this.buf;if(58!=this.buf.charCodeAt(this.pos++)||this.length-this.pos<p)throw oe.thrown("Invalid bytes length");var C=Xi.CODES;null==C&&(C=Xi.initCodes(),Xi.CODES=C);for(var h=3&p,v=(O=this.pos)+(p-h),w=new rl(new ArrayBuffer(3*(p>>2)+(2<=h?h-1:0))),m=0;O<v;){var y=C[i.charCodeAt(O++)],U=C[i.charCodeAt(O++)],D=(w.b[m++]=y<<2|U>>4,C[i.charCodeAt(O++)]),T=(w.b[m++]=U<<4|D>>2,C[i.charCodeAt(O++)]);w.b[m++]=D<<6|T}return 2<=h&&(y=C[i.charCodeAt(O++)],U=C[i.charCodeAt(O++)],w.b[m++]=y<<2|U>>4,3==h)&&(D=C[i.charCodeAt(O++)],w.b[m++]=U<<4|D>>2),this.pos+=p,this.cache.push(w),w;case 116:return!0;case 118:var x;return 48<=this.buf.charCodeAt(this.pos)&&this.buf.charCodeAt(this.pos)<=57&&48<=this.buf.charCodeAt(this.pos+1)&&this.buf.charCodeAt(this.pos+1)<=57&&48<=this.buf.charCodeAt(this.pos+2)&&this.buf.charCodeAt(this.pos+2)<=57&&48<=this.buf.charCodeAt(this.pos+3)&&this.buf.charCodeAt(this.pos+3)<=57&&45==this.buf.charCodeAt(this.pos+4)?(x=se.strDate(se.substr(this.buf,this.pos,19)),this.pos+=19):x=new Date(this.readFloat()),this.cache.push(x),x;case 119:var S,e=this.unserialize();if(null==(S=this.resolver.resolveEnum(e)))throw oe.thrown("Enum not found "+e);d=this.unserializeEnum(S,this.unserialize());return this.cache.push(d),d;case 120:throw oe.thrown(this.unserialize());case 121:p=this.readDigits();if(58!=this.buf.charCodeAt(this.pos++)||this.length-this.pos<p)throw oe.thrown("Invalid string length");l=se.substr(this.buf,this.pos,p);return this.pos+=p,l=decodeURIComponent(l.split("+").join(" ")),this.scache.push(l),l;case 122:return 0}throw this.pos--,oe.thrown("Invalid char "+this.buf.charAt(this.pos)+" at position "+this.pos)},__class__:Xi},function(e,n,t){oe.call(this,String(e),n,t),this.value=e,this.__skipStack++}),ji=((E["haxe.ValueException"]=$i).__name__="haxe.ValueException",$i.__super__=oe,$i.prototype=$extend(oe.prototype,{value:null,unwrap:function(){return this.value},__class__:$i}),function(){}),Qi=((E["haxe.crypto.Md5"]=ji).__name__="haxe.crypto.Md5",ji.encode=function(e){var n=new ji,e=n.doEncode(ji.str2blks(e));return n.hex(e)},ji.str2blks=function(e){for(var n=rl.ofString(e),e=1+(n.length+8>>6),t=[],i=0,l=16*e;i<l;)t[r=i++]=0;for(var r=0,s=n.length,h=8*s;r<s;)t[r>>2]|=n.b[r]<<(h+r)%4*8,++r;t[r>>2]|=128<<(h+r)%4*8;e=16*e-2;return t[e]=255&h,t[e]|=(h>>>8&255)<<8,t[e]|=(h>>>16&255)<<16,t[e]|=(h>>>24&255)<<24,t},ji.prototype={bitOR:function(e,n){return(e>>>1|n>>>1)<<1|(1&e|1&n)},bitXOR:function(e,n){return(e>>>1^n>>>1)<<1|1&e^1&n},bitAND:function(e,n){return(e>>>1&n>>>1)<<1|1&e&n},addme:function(e,n){var t=(65535&e)+(65535&n);return(e>>16)+(n>>16)+(t>>16)<<16|65535&t},hex:function(e){for(var n="",t="0123456789abcdef",i=0;i<e.length;){var l=e[i];++i,n=(n=(n=(n+=t.charAt(l>>4&15)+t.charAt(15&l))+(t.charAt(l>>12&15)+t.charAt(l>>8&15)))+(t.charAt(l>>20&15)+t.charAt(l>>16&15)))+(t.charAt(l>>28&15)+t.charAt(l>>24&15))}return n},rol:function(e,n){return e<<n|e>>>32-n},cmn:function(e,n,t,i,l,r){return this.addme(this.rol(this.addme(this.addme(n,e),this.addme(i,r)),l),t)},ff:function(e,n,t,i,l,r,s){return this.cmn(this.bitOR(this.bitAND(n,t),this.bitAND(~n,i)),e,n,l,r,s)},gg:function(e,n,t,i,l,r,s){return this.cmn(this.bitOR(this.bitAND(n,i),this.bitAND(t,~i)),e,n,l,r,s)},hh:function(e,n,t,i,l,r,s){return this.cmn(this.bitXOR(this.bitXOR(n,t),i),e,n,l,r,s)},ii:function(e,n,t,i,l,r,s){return this.cmn(this.bitXOR(t,this.bitOR(n,~i)),e,n,l,r,s)},doEncode:function(e){for(var n=1732584193,t=-271733879,i=-1732584194,l=271733878,r=0;r<e.length;){var s=n,h=t,a=i,o=l,n=this.ff(n,t,i,l,e[r],7,-680876936),l=this.ff(l,n,t,i,e[r+1],12,-389564586),i=this.ff(i,l,n,t,e[r+2],17,606105819),t=this.ff(t,i,l,n,e[r+3],22,-1044525330);n=this.ff(n,t,i,l,e[r+4],7,-176418897),l=this.ff(l,n,t,i,e[r+5],12,1200080426),i=this.ff(i,l,n,t,e[r+6],17,-1473231341),t=this.ff(t,i,l,n,e[r+7],22,-45705983),n=this.ff(n,t,i,l,e[r+8],7,1770035416),l=this.ff(l,n,t,i,e[r+9],12,-1958414417),i=this.ff(i,l,n,t,e[r+10],17,-42063),t=this.ff(t,i,l,n,e[r+11],22,-1990404162),n=this.ff(n,t,i,l,e[r+12],7,1804603682),l=this.ff(l,n,t,i,e[r+13],12,-40341101),i=this.ff(i,l,n,t,e[r+14],17,-1502002290),t=this.ff(t,i,l,n,e[r+15],22,1236535329),n=this.gg(n,t,i,l,e[r+1],5,-165796510),l=this.gg(l,n,t,i,e[r+6],9,-1069501632),i=this.gg(i,l,n,t,e[r+11],14,643717713),t=this.gg(t,i,l,n,e[r],20,-373897302),n=this.gg(n,t,i,l,e[r+5],5,-701558691),l=this.gg(l,n,t,i,e[r+10],9,38016083),i=this.gg(i,l,n,t,e[r+15],14,-660478335),t=this.gg(t,i,l,n,e[r+4],20,-405537848),n=this.gg(n,t,i,l,e[r+9],5,568446438),l=this.gg(l,n,t,i,e[r+14],9,-1019803690),i=this.gg(i,l,n,t,e[r+3],14,-187363961),t=this.gg(t,i,l,n,e[r+8],20,1163531501),n=this.gg(n,t,i,l,e[r+13],5,-1444681467),l=this.gg(l,n,t,i,e[r+2],9,-51403784),i=this.gg(i,l,n,t,e[r+7],14,1735328473),t=this.gg(t,i,l,n,e[r+12],20,-1926607734),n=this.hh(n,t,i,l,e[r+5],4,-378558),l=this.hh(l,n,t,i,e[r+8],11,-2022574463),i=this.hh(i,l,n,t,e[r+11],16,1839030562),t=this.hh(t,i,l,n,e[r+14],23,-35309556),n=this.hh(n,t,i,l,e[r+1],4,-1530992060),l=this.hh(l,n,t,i,e[r+4],11,1272893353),i=this.hh(i,l,n,t,e[r+7],16,-155497632),t=this.hh(t,i,l,n,e[r+10],23,-1094730640),n=this.hh(n,t,i,l,e[r+13],4,681279174),l=this.hh(l,n,t,i,e[r],11,-358537222),i=this.hh(i,l,n,t,e[r+3],16,-722521979),t=this.hh(t,i,l,n,e[r+6],23,76029189),n=this.hh(n,t,i,l,e[r+9],4,-640364487),l=this.hh(l,n,t,i,e[r+12],11,-421815835),i=this.hh(i,l,n,t,e[r+15],16,530742520),t=this.hh(t,i,l,n,e[r+2],23,-995338651),n=this.ii(n,t,i,l,e[r],6,-198630844),l=this.ii(l,n,t,i,e[r+7],10,1126891415),i=this.ii(i,l,n,t,e[r+14],15,-1416354905),t=this.ii(t,i,l,n,e[r+5],21,-57434055),n=this.ii(n,t,i,l,e[r+12],6,1700485571),l=this.ii(l,n,t,i,e[r+3],10,-1894986606),i=this.ii(i,l,n,t,e[r+10],15,-1051523),t=this.ii(t,i,l,n,e[r+1],21,-2054922799),n=this.ii(n,t,i,l,e[r+8],6,1873313359),l=this.ii(l,n,t,i,e[r+15],10,-30611744),i=this.ii(i,l,n,t,e[r+6],15,-1560198380),t=this.ii(t,i,l,n,e[r+13],21,1309151649),n=this.ii(n,t,i,l,e[r+4],6,-145523070),l=this.ii(l,n,t,i,e[r+11],10,-1120210379),i=this.ii(i,l,n,t,e[r+2],15,718787259),t=this.ii(t,i,l,n,e[r+9],21,-343485551),n=this.addme(n,s),t=this.addme(t,h),i=this.addme(i,a),l=this.addme(l,o),r+=16}return[n,t,i,l]},__class__:ji},function(){}),qi=((E["haxe.ds.ArraySort"]=Qi).__name__="haxe.ds.ArraySort",Qi.sort=function(e,n){Qi.rec(e,n,0,e.length)},Qi.rec=function(e,n,t,i){var l=t+i>>1;if(i-t<12){if(!(i<=t))for(var r=t+1,s=i;r<s;)for(var h=r++;t<h&&n(e[h],e[h-1])<0;)Qi.swap(e,h-1,h),--h}else Qi.rec(e,n,t,l),Qi.rec(e,n,l,i),Qi.doMerge(e,n,t,l,i,l-t,i-l)},Qi.doMerge=function(e,n,t,i,l,r,s){var h,a,o,c;0!=r&&0!=s&&(r+s==2?n(e[i],e[t])<0&&Qi.swap(e,i,t):(s<r?c=(a=Qi.lower(e,n,i,l,h=t+(o=r>>1)))-i:o=(h=Qi.upper(e,n,t,i,a=i+(c=s>>1)))-t,Qi.rotate(e,n,h,i,a),Qi.doMerge(e,n,t,h,i=h+c,o,c),Qi.doMerge(e,n,i,a,l,r-o,s-c)))},Qi.rotate=function(e,n,t,i,l){if(t!=i&&i!=l)for(var r=Qi.gcd(l-t,i-t);0!=r--;){for(var s=e[t+r],h=i-t,a=t+r,o=t+r+h;o!=t+r;)e[a]=e[o],h<l-(a=o)?o+=h:o=t+(h-(l-o));e[a]=s}},Qi.gcd=function(e,n){for(;0!=n;){var t=e%n;e=n,n=t}return e},Qi.upper=function(e,n,t,i,l){for(var r,s,h=i-t;0<h;)h=n(e[l],e[s=t+(r=h>>1)])<0?r:(t=s+1,h-r-1);return t},Qi.lower=function(e,n,t,i,l){for(var r,s,h=i-t;0<h;)h=n(e[s=t+(r=h>>1)],e[l])<0?(t=s+1,h-r-1):r;return t},Qi.swap=function(e,n,t){var i=e[n];e[n]=e[t],e[t]=i},function(){this.h={}}),Zi=((E["haxe.ds.IntMap"]=qi).__name__="haxe.ds.IntMap",qi.__interfaces__=[Nd],qi.prototype={h:null,get:function(e){return this.h[e]},remove:function(e){return!!this.h.hasOwnProperty(e)&&(delete this.h[e],!0)},keys:function(){var e,n=[];for(e in this.h)this.h.hasOwnProperty(e)&&n.push(+e);return new al(n)},iterator:function(){return{ref:this.h,it:this.keys(),hasNext:function(){return this.it.hasNext()},next:function(){var e=this.it.next();return this.ref[e]}}},keyValueIterator:function(){return new ol(this)},copy:function(){for(var e=new qi,n=this.keys();n.hasNext();){var t=n.next();e.h[t]=this.h[t]}return e},__class__:qi},function(){this.length=0}),Ji=((E["haxe.ds.List"]=Zi).__name__="haxe.ds.List",Zi.prototype={h:null,q:null,length:null,add:function(e){e=new Ji(e,null);null==this.h?this.h=e:this.q.next=e,this.q=e,this.length++},__class__:Zi},function(e,n){this.item=e,this.next=n}),el=((E["haxe.ds._List.ListNode"]=Ji).__name__="haxe.ds._List.ListNode",Ji.prototype={item:null,next:null,__class__:Ji},function(){this.h={__keys__:{}}}),ue=((E["haxe.ds.ObjectMap"]=el).__name__="haxe.ds.ObjectMap",el.__interfaces__=[Nd],el.prototype={h:null,set:function(e,n){var t=e.__id__;null==t&&(t=e.__id__=be.$haxeUID++),this.h[t]=n,this.h.__keys__[t]=e},get:function(e){return this.h[e.__id__]},keys:function(){var e,n=[];for(e in this.h.__keys__)this.h.hasOwnProperty(e)&&n.push(this.h.__keys__[e]);return new al(n)},iterator:function(){return{ref:this.h,it:this.keys(),hasNext:function(){return this.it.hasNext()},next:function(){var e=this.it.next();return this.ref[e.__id__]}}},keyValueIterator:function(){return new ol(this)},__class__:el},function(){this.h=Object.create(null)}),nl=((E["haxe.ds.StringMap"]=ue).__name__="haxe.ds.StringMap",ue.__interfaces__=[Nd],ue.prototype={h:null,get:function(e){return this.h[e]},keys:function(){return new nl(this.h)},iterator:function(){return new tl(this.h)},keyValueIterator:function(){return new il(this.h)},__class__:ue},function(e){this.h=e,this.keys=Object.keys(e),this.length=this.keys.length,this.current=0}),tl=((E["haxe.ds._StringMap.StringMapKeyIterator"]=nl).__name__="haxe.ds._StringMap.StringMapKeyIterator",nl.prototype={h:null,keys:null,length:null,current:null,hasNext:function(){return this.current<this.length},next:function(){return this.keys[this.current++]},__class__:nl},function(e){this.h=e,this.keys=Object.keys(e),this.length=this.keys.length,this.current=0}),il=((E["haxe.ds._StringMap.StringMapValueIterator"]=tl).__name__="haxe.ds._StringMap.StringMapValueIterator",tl.prototype={h:null,keys:null,length:null,current:null,hasNext:function(){return this.current<this.length},next:function(){return this.h[this.keys[this.current++]]},__class__:tl},function(e){this.h=e,this.keys=Object.keys(e),this.length=this.keys.length,this.current=0}),ll=((E["haxe.ds._StringMap.StringMapKeyValueIterator"]=il).__name__="haxe.ds._StringMap.StringMapKeyValueIterator",il.prototype={h:null,keys:null,length:null,current:null,hasNext:function(){return this.current<this.length},next:function(){var e=this.keys[this.current++];return{key:e,value:this.h[e]}},__class__:il},{}),rl=(ll.blit=function(e,n,t,i,l){if(e==t){if(n<i)for(var r=n+l,s=i+l,h=0,a=l;h<a;){h++;--r,e[--s]=e[r]}else if(i<n)for(r=n,s=i,h=0,a=l;h<a;){h++;e[s]=e[r],++r,++s}}else for(h=0,a=l;h<a;)t[i+(r=h++)]=e[n+r]},function(e){this.length=e.byteLength,this.b=new Uint8Array(e),(this.b.bufferValue=e).hxBytes=this,e.bytes=this.b}),sl=((E["haxe.io.Bytes"]=rl).__name__="haxe.io.Bytes",rl.ofString=function(e,n){if(n==sl.RawNative){for(var t=new Uint8Array(e.length<<1),i=0,l=e.length;i<l;){var r=i++,s=e.charCodeAt(r);t[r<<1]=255&s,t[r<<1|1]=s>>8}return new rl(t.buffer)}for(var h=[],r=0;r<e.length;)(s=55296<=(s=e.charCodeAt(r++))&&s<=56319?s-55232<<10|1023&e.charCodeAt(r++):s)<=127?h.push(s):(s<=2047?h.push(192|s>>6):(s<=65535?h.push(224|s>>12):(h.push(240|s>>18),h.push(128|s>>12&63)),h.push(128|s>>6&63)),h.push(128|63&s));return new rl(new Uint8Array(h).buffer)},rl.prototype={length:null,b:null,getString:function(e,n,t){if(e<0||n<0||e+n>this.length)throw oe.thrown(hl.OutsideBounds);null==t&&(t=sl.UTF8);var i="",l=this.b,r=e,s=e+n;switch(t._hx_index){case 0:for(var h,a;r<s;)if((o=l[r++])<128){if(0==o)break;i+=String.fromCodePoint(o)}else o<224?(h=(63&o)<<6|127&l[r++],i+=String.fromCodePoint(h)):o<240?(h=(31&o)<<12|(127&l[r++])<<6|127&l[r++],i+=String.fromCodePoint(h)):(a=(15&o)<<18|(127&l[r++])<<12|(127&l[r++])<<6|127&l[r++],i+=String.fromCodePoint(a));break;case 1:for(;r<s;){var o=l[r++]|l[r++]<<8;i+=String.fromCodePoint(o)}}return i},toString:function(){return this.getString(0,this.length)},__class__:rl},Oe["haxe.io.Encoding"]={__ename__:"haxe.io.Encoding",__constructs__:null,UTF8:{_hx_name:"UTF8",_hx_index:0,__enum__:"haxe.io.Encoding",toString:c},RawNative:{_hx_name:"RawNative",_hx_index:1,__enum__:"haxe.io.Encoding",toString:c}}),hl=(sl.__constructs__=[sl.UTF8,sl.RawNative],Oe["haxe.io.Error"]={__ename__:"haxe.io.Error",__constructs__:null,Blocked:{_hx_name:"Blocked",_hx_index:0,__enum__:"haxe.io.Error",toString:c},Overflow:{_hx_name:"Overflow",_hx_index:1,__enum__:"haxe.io.Error",toString:c},OutsideBounds:{_hx_name:"OutsideBounds",_hx_index:2,__enum__:"haxe.io.Error",toString:c},Custom:((x=function(e){return{_hx_index:3,e:e,__enum__:"haxe.io.Error",toString:c}})._hx_name="Custom",x.__params__=["e"],x)}),al=(hl.__constructs__=[hl.Blocked,hl.Overflow,hl.OutsideBounds,hl.Custom],function(e){this.current=0,this.array=e}),ol=((E["haxe.iterators.ArrayIterator"]=al).__name__="haxe.iterators.ArrayIterator",al.prototype={array:null,current:null,hasNext:function(){return this.current<this.array.length},next:function(){return this.array[this.current++]},__class__:al},function(e){this.map=e,this.keys=e.keys()}),cl=((E["haxe.iterators.MapKeyValueIterator"]=ol).__name__="haxe.iterators.MapKeyValueIterator",ol.prototype={map:null,keys:null,hasNext:function(){return this.keys.hasNext()},next:function(){var e=this.keys.next();return{value:this.map.get(e),key:e}},__class__:ol},Oe["haxe.rtti.CType"]={__ename__:"haxe.rtti.CType",__constructs__:null,CUnknown:{_hx_name:"CUnknown",_hx_index:0,__enum__:"haxe.rtti.CType",toString:c},CEnum:((x=function(e,n){return{_hx_index:1,name:e,params:n,__enum__:"haxe.rtti.CType",toString:c}})._hx_name="CEnum",x.__params__=["name","params"],x),CClass:((x=function(e,n){return{_hx_index:2,name:e,params:n,__enum__:"haxe.rtti.CType",toString:c}})._hx_name="CClass",x.__params__=["name","params"],x),CTypedef:((x=function(e,n){return{_hx_index:3,name:e,params:n,__enum__:"haxe.rtti.CType",toString:c}})._hx_name="CTypedef",x.__params__=["name","params"],x),CFunction:((x=function(e,n){return{_hx_index:4,args:e,ret:n,__enum__:"haxe.rtti.CType",toString:c}})._hx_name="CFunction",x.__params__=["args","ret"],x),CAnonymous:((x=function(e){return{_hx_index:5,fields:e,__enum__:"haxe.rtti.CType",toString:c}})._hx_name="CAnonymous",x.__params__=["fields"],x),CDynamic:((x=function(e){return{_hx_index:6,t:e,__enum__:"haxe.rtti.CType",toString:c}})._hx_name="CDynamic",x.__params__=["t"],x),CAbstract:((x=function(e,n){return{_hx_index:7,name:e,params:n,__enum__:"haxe.rtti.CType",toString:c}})._hx_name="CAbstract",x.__params__=["name","params"],x)}),ul=(cl.__constructs__=[cl.CUnknown,cl.CEnum,cl.CClass,cl.CTypedef,cl.CFunction,cl.CAnonymous,cl.CDynamic,cl.CAbstract],Oe["haxe.rtti.Rights"]={__ename__:"haxe.rtti.Rights",__constructs__:null,RNormal:{_hx_name:"RNormal",_hx_index:0,__enum__:"haxe.rtti.Rights",toString:c},RNo:{_hx_name:"RNo",_hx_index:1,__enum__:"haxe.rtti.Rights",toString:c},RCall:((x=function(e){return{_hx_index:2,m:e,__enum__:"haxe.rtti.Rights",toString:c}})._hx_name="RCall",x.__params__=["m"],x),RMethod:{_hx_name:"RMethod",_hx_index:3,__enum__:"haxe.rtti.Rights",toString:c},RDynamic:{_hx_name:"RDynamic",_hx_index:4,__enum__:"haxe.rtti.Rights",toString:c},RInline:{_hx_name:"RInline",_hx_index:5,__enum__:"haxe.rtti.Rights",toString:c}}),_l=(ul.__constructs__=[ul.RNormal,ul.RNo,ul.RCall,ul.RMethod,ul.RDynamic,ul.RInline],Oe["haxe.rtti.TypeTree"]={__ename__:"haxe.rtti.TypeTree",__constructs__:null,TPackage:((x=function(e,n,t){return{_hx_index:0,name:e,full:n,subs:t,__enum__:"haxe.rtti.TypeTree",toString:c}})._hx_name="TPackage",x.__params__=["name","full","subs"],x),TClassdecl:((x=function(e){return{_hx_index:1,c:e,__enum__:"haxe.rtti.TypeTree",toString:c}})._hx_name="TClassdecl",x.__params__=["c"],x),TEnumdecl:((x=function(e){return{_hx_index:2,e:e,__enum__:"haxe.rtti.TypeTree",toString:c}})._hx_name="TEnumdecl",x.__params__=["e"],x),TTypedecl:((x=function(e){return{_hx_index:3,t:e,__enum__:"haxe.rtti.TypeTree",toString:c}})._hx_name="TTypedecl",x.__params__=["t"],x),TAbstractdecl:((x=function(e){return{_hx_index:4,a:e,__enum__:"haxe.rtti.TypeTree",toString:c}})._hx_name="TAbstractdecl",x.__params__=["a"],x)}),dl=(_l.__constructs__=[_l.TPackage,_l.TClassdecl,_l.TEnumdecl,_l.TTypedecl,_l.TAbstractdecl],function(){}),bl=((E["haxe.rtti.Meta"]=dl).__name__="haxe.rtti.Meta",dl.getMeta=function(e){return e.__meta__},dl.getFields=function(e){e=dl.getMeta(e);return null==e||null==e.fields?{}:e.fields},function(){}),gl=((E["haxe.rtti.Rtti"]=bl).__name__="haxe.rtti.Rtti",bl.getRtti=function(e){var n=K.field(e,"__rtti");if(null==n)throw oe.thrown("Class "+e.__name__+" has no RTTI information, consider adding @:rtti");n=D.parse(n).firstElement(),n=(new gl).processElement(n);if(1==n._hx_index)return e=n.c;throw oe.thrown("Enum mismatch: expected TClassDecl but found "+X.string(n))},function(){this.root=[]}),Ol=((E["haxe.rtti.XmlParser"]=gl).__name__="haxe.rtti.XmlParser",gl.prototype={root:null,curplatform:null,mkPath:function(e){return e},mkTypeParams:function(e){e=e.split(":");return""==e[0]?[]:e},mkRights:function(e){switch(e){case"dynamic":return ul.RDynamic;case"inline":return ul.RInline;case"method":return ul.RMethod;case"null":return ul.RNo;default:return ul.RCall(e)}},xerror:function(e){var n;if(e.nodeType==D.Document)n="Document";else{if(e.nodeType!=D.Element)throw oe.thrown("Bad node type, expected Element but found "+(null==e.nodeType?"null":A.toString(e.nodeType)));n=e.nodeName}throw oe.thrown("Invalid "+n)},processElement:function(e){if(e.nodeType!=D.Document&&e.nodeType!=D.Element)throw oe.thrown("Invalid nodeType "+(null==e.nodeType?"null":A.toString(e.nodeType)));var n,t=e;if(t.nodeType==D.Document)n="Document";else{if(t.nodeType!=D.Element)throw oe.thrown("Bad node type, expected Element but found "+(null==t.nodeType?"null":A.toString(t.nodeType)));n=t.nodeName}switch(n){case"abstract":return _l.TAbstractdecl(this.xabstract(t));case"class":return _l.TClassdecl(this.xclass(t));case"enum":return _l.TEnumdecl(this.xenum(t));case"typedef":return _l.TTypedecl(this.xtypedef(t));default:return this.xerror(t)}},xmeta:function(e){for(var n=[],t=0,i=vl.resolve(e,"m");t<i.length;){for(var l=i[t],r=(++t,[]),s=0,h=vl.resolve(l,"e");s<h.length;){var a=h[s];++s,r.push(wl.get_innerHTML(a))}n.push({name:fl.resolve(l,"n"),params:r})}return n},xoverloads:function(e){for(var n=[],t=e.elements();t.hasNext();){var i=t.next();n.push(this.xclassfield(i))}return n},xpath:function(e){for(var n=this.mkPath(fl.resolve(e,"path")),t=[],i=e.elements();i.hasNext();){var l=i.next();t.push(this.xtype(l))}return{path:n,params:t}},xclass:function(e){for(var n=null,t=null,i=null,l=[],r=[],s=[],h=[],a=e.exists("interface"),o=e.elements();o.hasNext();){var c,u=o.next();if(u.nodeType==D.Document)c="Document";else{if(u.nodeType!=D.Element)throw oe.thrown("Bad node type, expected Element but found "+(null==u.nodeType?"null":A.toString(u.nodeType)));c=u.nodeName}switch(c){case"extends":a?l.push(this.xpath(u)):n=this.xpath(u);break;case"haxe_doc":t=wl.get_innerData(u);break;case"haxe_dynamic":var _=u.firstElement();if(_.nodeType!=D.Document&&_.nodeType!=D.Element)throw oe.thrown("Invalid nodeType "+(null==_.nodeType?"null":A.toString(_.nodeType)));i=this.xtype(_);break;case"implements":l.push(this.xpath(u));break;case"meta":h=this.xmeta(u);break;default:(u.exists("static")?s:r).push(this.xclassfield(u))}}return{file:pl.resolve(e,"file")?fl.resolve(e,"file"):null,path:this.mkPath(fl.resolve(e,"path")),module:pl.resolve(e,"module")?this.mkPath(fl.resolve(e,"module")):null,doc:t,isPrivate:e.exists("private"),isExtern:e.exists("extern"),isFinal:e.exists("final"),isInterface:a,params:this.mkTypeParams(fl.resolve(e,"params")),superClass:n,interfaces:l,fields:r,statics:s,tdynamic:i,platforms:this.defplat(),meta:h}},xclassfield:function(e,n){null==n&&(n=!1);for(var t,i=e.elements(),l=this.xtype(i.next()),r=null,s=[],h=null,a=i;a.hasNext();){var o,c=a.next();if(c.nodeType==D.Document)o="Document";else{if(c.nodeType!=D.Element)throw oe.thrown("Bad node type, expected Element but found "+(null==c.nodeType?"null":A.toString(c.nodeType)));o=c.nodeName}switch(o){case"haxe_doc":r=wl.get_innerData(c);break;case"meta":s=this.xmeta(c);break;case"overloads":h=this.xoverloads(c);break;default:this.xerror(c)}}if(e.nodeType==D.Document)t="Document";else{if(e.nodeType!=D.Element)throw oe.thrown("Bad node type, expected Element but found "+(null==e.nodeType?"null":A.toString(e.nodeType)));t=e.nodeName}return{name:t,type:l,isPublic:e.exists("public")||n,isFinal:e.exists("final"),isOverride:e.exists("override"),line:pl.resolve(e,"line")?X.parseInt(fl.resolve(e,"line")):null,doc:r,get:pl.resolve(e,"get")?this.mkRights(fl.resolve(e,"get")):ul.RNormal,set:pl.resolve(e,"set")?this.mkRights(fl.resolve(e,"set")):ul.RNormal,params:pl.resolve(e,"params")?this.mkTypeParams(fl.resolve(e,"params")):[],platforms:this.defplat(),meta:s,overloads:h,expr:pl.resolve(e,"expr")?fl.resolve(e,"expr"):null}},xenum:function(e){for(var n=[],t=null,i=[],l=e.elements();l.hasNext();){var r,s,h=l.next();if(h.nodeType==D.Document)r="Document";else{if(h.nodeType!=D.Element)throw oe.thrown("Bad node type, expected Element but found "+(null==h.nodeType?"null":A.toString(h.nodeType)));r=h.nodeName}if("haxe_doc"==r)t=wl.get_innerData(h);else{if(h.nodeType==D.Document)s="Document";else{if(h.nodeType!=D.Element)throw oe.thrown("Bad node type, expected Element but found "+(null==h.nodeType?"null":A.toString(h.nodeType)));s=h.nodeName}"meta"==s?i=this.xmeta(h):n.push(this.xenumfield(h))}}return{file:pl.resolve(e,"file")?fl.resolve(e,"file"):null,path:this.mkPath(fl.resolve(e,"path")),module:pl.resolve(e,"module")?this.mkPath(fl.resolve(e,"module")):null,doc:t,isPrivate:e.exists("private"),isExtern:e.exists("extern"),params:this.mkTypeParams(fl.resolve(e,"params")),constructors:n,platforms:this.defplat(),meta:i}},xenumfield:function(e){var n,t,i=null,l=e.elementsNamed("haxe_doc"),l=l.hasNext()?l.next():null,r=Cl.resolve(e,"meta")?this.xmeta(Ol.resolve(e,"meta")):[];if(pl.resolve(e,"a"))for(var s=fl.resolve(e,"a").split(":"),h=e.elements(),i=[],a=0;a<s.length;){var o=s[a],c=(++a,!1);"?"==o.charAt(0)&&(c=!0,o=se.substr(o,1,null)),i.push({name:o,opt:c,t:this.xtype(h.next())})}if(e.nodeType==D.Document)n="Document";else{if(e.nodeType!=D.Element)throw oe.thrown("Bad node type, expected Element but found "+(null==e.nodeType?"null":A.toString(e.nodeType)));n=e.nodeName}if(null==l)t=null;else{if(l.nodeType!=D.Document&&l.nodeType!=D.Element)throw oe.thrown("Invalid nodeType "+(null==l.nodeType?"null":A.toString(l.nodeType)));t=wl.get_innerData(l)}return{name:n,args:i,doc:t,meta:r,platforms:this.defplat()}},xabstract:function(e){for(var n=null,t=null,i=null,l=[],r=[],s=[],h=e.elements();h.hasNext();){var a,o=h.next();if(o.nodeType==D.Document)a="Document";else{if(o.nodeType!=D.Element)throw oe.thrown("Bad node type, expected Element but found "+(null==o.nodeType?"null":A.toString(o.nodeType)));a=o.nodeName}switch(a){case"from":for(var c=o.elements();c.hasNext();){var u=c.next(),_=u.firstElement();if(_.nodeType!=D.Document&&_.nodeType!=D.Element)throw oe.thrown("Invalid nodeType "+(null==_.nodeType?"null":A.toString(_.nodeType)));s.push({t:this.xtype(_),field:pl.resolve(u,"field")?fl.resolve(u,"field"):null})}break;case"haxe_doc":n=wl.get_innerData(o);break;case"impl":t=this.xclass(Ol.resolve(o,"class"));break;case"meta":l=this.xmeta(o);break;case"this":var d=o.firstElement();if(d.nodeType!=D.Document&&d.nodeType!=D.Element)throw oe.thrown("Invalid nodeType "+(null==d.nodeType?"null":A.toString(d.nodeType)));i=this.xtype(d);break;case"to":for(var b=o.elements();b.hasNext();){var g=b.next(),O=g.firstElement();if(O.nodeType!=D.Document&&O.nodeType!=D.Element)throw oe.thrown("Invalid nodeType "+(null==O.nodeType?"null":A.toString(O.nodeType)));r.push({t:this.xtype(O),field:pl.resolve(g,"field")?fl.resolve(g,"field"):null})}break;default:this.xerror(o)}}return{file:pl.resolve(e,"file")?fl.resolve(e,"file"):null,path:this.mkPath(fl.resolve(e,"path")),module:pl.resolve(e,"module")?this.mkPath(fl.resolve(e,"module")):null,doc:n,isPrivate:e.exists("private"),params:this.mkTypeParams(fl.resolve(e,"params")),platforms:this.defplat(),meta:l,athis:i,to:r,from:s,impl:t}},xtypedef:function(e){for(var n=null,t=null,i=[],l=e.elements();l.hasNext();){var r,s,h=l.next();if(h.nodeType==D.Document)r="Document";else{if(h.nodeType!=D.Element)throw oe.thrown("Bad node type, expected Element but found "+(null==h.nodeType?"null":A.toString(h.nodeType)));r=h.nodeName}if("haxe_doc"==r)n=wl.get_innerData(h);else{if(h.nodeType==D.Document)s="Document";else{if(h.nodeType!=D.Element)throw oe.thrown("Bad node type, expected Element but found "+(null==h.nodeType?"null":A.toString(h.nodeType)));s=h.nodeName}"meta"==s?i=this.xmeta(h):t=this.xtype(h)}}var a=new ue;return null!=this.curplatform&&(a.h[this.curplatform]=t),{file:pl.resolve(e,"file")?fl.resolve(e,"file"):null,path:this.mkPath(fl.resolve(e,"path")),module:pl.resolve(e,"module")?this.mkPath(fl.resolve(e,"module")):null,doc:n,isPrivate:e.exists("private"),params:this.mkTypeParams(fl.resolve(e,"params")),type:t,types:a,platforms:this.defplat(),meta:i}},xtype:function(e){var n;if(e.nodeType==D.Document)n="Document";else{if(e.nodeType!=D.Element)throw oe.thrown("Bad node type, expected Element but found "+(null==e.nodeType?"null":A.toString(e.nodeType)));n=e.nodeName}switch(n){case"a":for(var t=[],i=e.elements();i.hasNext();){var l=i.next(),l=this.xclassfield(l,!0);l.platforms=[],t.push(l)}return cl.CAnonymous(t);case"c":return cl.CClass(this.mkPath(fl.resolve(e,"path")),this.xtypeparams(e));case"d":var r=null,s=e.firstElement();if(null!=s){if(s.nodeType!=D.Document&&s.nodeType!=D.Element)throw oe.thrown("Invalid nodeType "+(null==s.nodeType?"null":A.toString(s.nodeType)));r=this.xtype(s)}return cl.CDynamic(r);case"e":return cl.CEnum(this.mkPath(fl.resolve(e,"path")),this.xtypeparams(e));case"f":for(var h=[],a=0,o=fl.resolve(e,"a").split(":"),c=pl.resolve(e,"v")?new al(fl.resolve(e,"v").split(":")):null,u=e.elements();u.hasNext();){var _=u.next(),d=!1,b=a<o.length?o[a++]:null,g=("?"==(b=null==b?"":b).charAt(0)&&(d=!0,b=se.substr(b,1,null)),null==c||c.current>=c.array.length?null:c.array[c.current++]);h.push({name:b,opt:d,t:this.xtype(_),value:""==g?null:g})}s=h[h.length-1];return se.remove(h,s),cl.CFunction(h,s.t);case"t":return cl.CTypedef(this.mkPath(fl.resolve(e,"path")),this.xtypeparams(e));case"unknown":return cl.CUnknown;case"x":return cl.CAbstract(this.mkPath(fl.resolve(e,"path")),this.xtypeparams(e));default:return this.xerror(e)}},xtypeparams:function(e){for(var n=[],t=e.elements();t.hasNext();){var i=t.next();n.push(this.xtype(i))}return n},defplat:function(){var e=[];return null!=this.curplatform&&e.push(this.curplatform),e},__class__:gl},{}),fl=(Ol.resolve=function(e,n){var t,i=e.elementsNamed(n).next();if(null==i){if(e.nodeType==D.Document)t="Document";else{if(e.nodeType!=D.Element)throw oe.thrown("Bad node type, expected Element but found "+(null==e.nodeType?"null":A.toString(e.nodeType)));t=e.nodeName}throw oe.thrown(t+" is missing element "+n)}if(i.nodeType!=D.Document&&i.nodeType!=D.Element)throw oe.thrown("Invalid nodeType "+(null==i.nodeType?"null":A.toString(i.nodeType)));return i},{}),pl=(fl.resolve=function(e,n){if(e.nodeType==D.Document)throw oe.thrown("Cannot access document attribute "+n);var t=e.get(n);if(null!=t)return t;if(e.nodeType!=D.Element)throw oe.thrown("Bad node type, expected Element but found "+(null==e.nodeType?"null":A.toString(e.nodeType)));throw oe.thrown(e.nodeName+" is missing attribute "+n)},{}),Cl=(pl.resolve=function(e,n){if(e.nodeType==D.Document)throw oe.thrown("Cannot access document attribute "+n);return e.exists(n)},{}),vl=(Cl.resolve=function(e,n){return e.elementsNamed(n).hasNext()},{}),wl=(vl.resolve=function(e,n){for(var t=[],i=e.elementsNamed(n);i.hasNext();){var l=i.next();if(l.nodeType!=D.Document&&l.nodeType!=D.Element)throw oe.thrown("Invalid nodeType "+(null==l.nodeType?"null":A.toString(l.nodeType)));t.push(l)}return t},{}),ml=(wl.__properties__={get_innerHTML:"get_innerHTML",get_innerData:"get_innerData"},wl.get_innerData=function(e){if(e.nodeType!=D.Document&&e.nodeType!=D.Element)throw oe.thrown("Bad node type, expected Element or Document but found "+(null==e.nodeType?"null":A.toString(e.nodeType)));var n=0,t=e.children;if(t.length<=0){if(e.nodeType==D.Document)r="Document";else{if(e.nodeType!=D.Element)throw oe.thrown("Bad node type, expected Element but found "+(null==e.nodeType?"null":A.toString(e.nodeType)));r=e.nodeName}throw oe.thrown(r+" does not have data")}var i=t[n++];if(1<t.length){var l=t[n++];if(i.nodeType==D.PCData&&l.nodeType==D.CData){if(i.nodeType==D.Document||i.nodeType==D.Element)throw oe.thrown("Bad node type, unexpected "+(null==i.nodeType?"null":A.toString(i.nodeType)));r=""==z.trim(i.nodeValue)}else r=!1;if(r){if(t.length<=2){if(l.nodeType==D.Document||l.nodeType==D.Element)throw oe.thrown("Bad node type, unexpected "+(null==l.nodeType?"null":A.toString(l.nodeType)));return l.nodeValue}var r,n=t[+n];if(n.nodeType==D.PCData){if(n.nodeType==D.Document||n.nodeType==D.Element)throw oe.thrown("Bad node type, unexpected "+(null==n.nodeType?"null":A.toString(n.nodeType)));r=""==z.trim(n.nodeValue)}else r=!1;if(r&&t.length<=3){if(l.nodeType==D.Document||l.nodeType==D.Element)throw oe.thrown("Bad node type, unexpected "+(null==l.nodeType?"null":A.toString(l.nodeType)));return l.nodeValue}}if(e.nodeType==D.Document)r="Document";else{if(e.nodeType!=D.Element)throw oe.thrown("Bad node type, expected Element but found "+(null==e.nodeType?"null":A.toString(e.nodeType)));r=e.nodeName}throw oe.thrown(r+" does not only have data")}if(i.nodeType!=D.PCData&&i.nodeType!=D.CData){if(e.nodeType==D.Document)r="Document";else{if(e.nodeType!=D.Element)throw oe.thrown("Bad node type, expected Element but found "+(null==e.nodeType?"null":A.toString(e.nodeType)));r=e.nodeName}throw oe.thrown(r+" does not have data")}if(i.nodeType==D.Document||i.nodeType==D.Element)throw oe.thrown("Bad node type, unexpected "+(null==i.nodeType?"null":A.toString(i.nodeType)));return i.nodeValue},wl.get_innerHTML=function(e){var n="";if(e.nodeType!=D.Document&&e.nodeType!=D.Element)throw oe.thrown("Bad node type, expected Element or Document but found "+(null==e.nodeType?"null":A.toString(e.nodeType)));for(var t=0,i=e.children;t<i.length;){var l=i[t++];n+=X.string(yl.print(l))}return n},(E["haxe.xml.XmlParserException"]=v3).__name__="haxe.xml.XmlParserException",v3.prototype={message:null,lineNumber:null,positionAtLine:null,position:null,xml:null,toString:function(){return Ul.getClass(this).__name__+": "+this.message+" at line "+this.lineNumber+" char "+this.positionAtLine},__class__:v3},function(){}),yl=((E["haxe.xml.Parser"]=ml).__name__="haxe.xml.Parser",ml.parse=function(e,n){null==n&&(n=!1);var t=D.createDocument();return ml.doParse(e,n,0,t),t},ml.doParse=function(e,n,t,i){null==t&&(t=0);for(var l=null,r=1,s=1,h=null,a=0,o=0,c=0,u=new y,_=1,d=-1;t<e.length;){var b,g,O,f,p=e.charCodeAt(t);switch(r){case 0:switch(p){case 9:case 10:case 13:case 32:break;default:r=s;continue}break;case 1:if(60!=p){a=t,r=13;continue}r=0,s=2;break;case 2:switch(p){case 33:if(91==e.charCodeAt(t+1)){if(t+=2,"CDATA["!=se.substr(e,t,6).toUpperCase())throw oe.thrown(new v3("Expected <![CDATA[",e,t));r=17,a=(t+=5)+1}else if(68==e.charCodeAt(t+1)||100==e.charCodeAt(t+1)){if("OCTYPE"!=se.substr(e,t+2,6).toUpperCase())throw oe.thrown(new v3("Expected <!DOCTYPE",e,t));r=16,a=(t+=8)+1}else{if(45!=e.charCodeAt(t+1)||45!=e.charCodeAt(t+2))throw oe.thrown(new v3("Expected \x3c!--",e,t));r=15,a=(t+=2)+1}break;case 47:if(null==i)throw oe.thrown(new v3("Expected node name",e,t));a=t+1,r=0,s=10;break;case 63:r=14,a=t;break;default:r=3,a=t;continue}break;case 3:if(97<=p&&p<=122||65<=p&&p<=90||48<=p&&p<=57||58==p||46==p||95==p||45==p)break;if(t==a)throw oe.thrown(new v3("Expected node name",e,t));l=D.createElement(se.substr(e,a,t-a)),i.addChild(l),++o,r=0,s=4;continue;case 4:switch(p){case 47:r=11;break;case 62:r=9;break;default:r=5,a=t;continue}break;case 5:if(97<=p&&p<=122||65<=p&&p<=90||48<=p&&p<=57||58==p||46==p||95==p||45==p)break;if(a==t)throw oe.thrown(new v3("Expected attribute name",e,t));h=se.substr(e,a,t-a);if(l.exists(h))throw oe.thrown(new v3("Duplicate attribute ["+h+"]",e,t));r=0,s=6;continue;case 6:if(61!=p)throw oe.thrown(new v3("Expected =",e,t));r=0,s=7;break;case 7:switch(p){case 34:case 39:u=new y,r=8,a=t+1,d=p;break;default:throw oe.thrown(new v3('Expected "',e,t))}break;case 8:switch(p){case 38:var C=t-a;u.b+=null==C?se.substr(e,a,null):se.substr(e,a,C),r=18,_=8,a=t+1;break;case 60:case 62:if(n)throw oe.thrown(new v3("Invalid unescaped "+String.fromCodePoint(p)+" in attribute value",e,t));p==d&&(u.b+=null==(b=t-a)?se.substr(e,a,null):se.substr(e,a,b),b=u.b,u=new y,l.set(h,b),r=0,s=4);break;default:p==d&&(u.b+=null==(b=t-a)?se.substr(e,a,null):se.substr(e,a,b),g=u.b,u=new y,l.set(h,g),r=0,s=4)}break;case 9:a=t=ml.doParse(e,n,t,l),r=1;break;case 10:if(97<=p&&p<=122||65<=p&&p<=90||48<=p&&p<=57||58==p||46==p||95==p||45==p)break;if(a==t)throw oe.thrown(new v3("Expected node name",e,t));var v=se.substr(e,a,t-a);if(null==i||0!=i.nodeType)throw oe.thrown(new v3("Unexpected </"+v+">, tag is not open",e,t));if(i.nodeType!=D.Element)throw oe.thrown("Bad node type, expected Element but found "+(null==i.nodeType?"null":A.toString(i.nodeType)));if(v!=i.nodeName){if(i.nodeType!=D.Element)throw oe.thrown("Bad node type, expected Element but found "+(null==i.nodeType?"null":A.toString(i.nodeType)));throw oe.thrown(new v3("Expected </"+i.nodeName+">",e,t))}r=0,s=12;continue;case 11:if(62!=p)throw oe.thrown(new v3("Expected >",e,t));r=1;break;case 12:if(62==p)return 0==o&&i.addChild(D.createPCData("")),t;throw oe.thrown(new v3("Expected >",e,t));case 13:60==p?(u.b+=null==(v=t-a)?se.substr(e,a,null):se.substr(e,a,v),O=D.createPCData(u.b),u=new y,i.addChild(O),++o,r=0,s=2):38==p&&(u.b+=null==(O=t-a)?se.substr(e,a,null):se.substr(e,a,O),r=18,_=13,a=t+1);break;case 14:63==p&&62==e.charCodeAt(t+1)&&(++t,f=se.substr(e,a+1,t-a-2),i.addChild(D.createProcessingInstruction(f)),++o,r=1);break;case 15:45==p&&45==e.charCodeAt(t+1)&&62==e.charCodeAt(t+2)&&(i.addChild(D.createComment(se.substr(e,a,t-a))),++o,t+=2,r=1);break;case 16:91==p?++c:93==p?--c:62==p&&0==c&&(i.addChild(D.createDocType(se.substr(e,a,t-a))),++o,r=1);break;case 17:93==p&&93==e.charCodeAt(t+1)&&62==e.charCodeAt(t+2)&&(f=D.createCData(se.substr(e,a,t-a)),i.addChild(f),++o,t+=2,r=1);break;case 18:if(59==p){var w=se.substr(e,a,t-a);if(35==w.charCodeAt(0)){var m=120==w.charCodeAt(1)?X.parseInt("0"+se.substr(w,1,w.length-1)):X.parseInt(se.substr(w,1,w.length-1));u.b+=String.fromCodePoint(m)}else if(Object.prototype.hasOwnProperty.call(ml.escapes.h,w))u.b+=X.string(ml.escapes.h[w]);else{if(n)throw oe.thrown(new v3("Undefined entity: "+w,e,t));u.b+=X.string("&"+w+";")}a=t+1,r=_}else if(!(97<=p&&p<=122||65<=p&&p<=90||48<=p&&p<=57||58==p||46==p||95==p||45==p)&&35!=p){if(n)throw oe.thrown(new v3("Invalid character in entity: "+String.fromCodePoint(p),e,t));u.b+=String.fromCodePoint(38);m=t-a;u.b+=null==m?se.substr(e,a,null):se.substr(e,a,m),a=--t+1,r=_}}++t}if(1==r&&(a=t,r=13),13==r){if(0==i.nodeType){if(i.nodeType!=D.Element)throw oe.thrown("Bad node type, expected Element but found "+(null==i.nodeType?"null":A.toString(i.nodeType)));throw oe.thrown(new v3("Unclosed node <"+i.nodeName+">",e,t))}t==a&&0!=o||(u.b+=null==(C=t-a)?se.substr(e,a,null):se.substr(e,a,C),i.addChild(D.createPCData(u.b)),++o)}else{if(n||18!=r||13!=_)throw oe.thrown(new v3("Unexpected end",e,t));u.b+=String.fromCodePoint(38),u.b+=null==(C=t-a)?se.substr(e,a,null):se.substr(e,a,C),i.addChild(D.createPCData(u.b)),++o}return t},function(e){this.output=new y,this.pretty=e}),w=((E["haxe.xml.Printer"]=yl).__name__="haxe.xml.Printer",yl.print=function(e,n){n=new yl(n=null==n?!1:n);return n.writeNode(e,""),n.output.b},yl.prototype={output:null,pretty:null,writeNode:function(e,n){switch(e.nodeType){case 0:if(this.output.b+=X.string(n+"<"),e.nodeType!=D.Element)throw oe.thrown("Bad node type, expected Element but found "+(null==e.nodeType?"null":A.toString(e.nodeType)));this.output.b+=X.string(e.nodeName);for(var t=e.attributes();t.hasNext();){var i=t.next(),l=(this.output.b+=X.string(" "+i+'="'),z.htmlEscape(e.get(i),!0));this.output.b+=X.string(l),this.output.b+='"'}if(this.hasChildren(e)){if(this.output.b+=">",this.pretty&&(this.output.b+="\n"),e.nodeType!=D.Document&&e.nodeType!=D.Element)throw oe.thrown("Bad node type, expected Element or Document but found "+(null==e.nodeType?"null":A.toString(e.nodeType)));for(var r=0,s=e.children;r<s.length;){var h=s[r++];this.writeNode(h,this.pretty?n+"\t":n)}if(this.output.b+=X.string(n+"</"),e.nodeType!=D.Element)throw oe.thrown("Bad node type, expected Element but found "+(null==e.nodeType?"null":A.toString(e.nodeType)));this.output.b+=X.string(e.nodeName),this.output.b+=">"}else this.output.b+="/>";this.pretty&&(this.output.b+="\n");break;case 1:if(e.nodeType==D.Document||e.nodeType==D.Element)throw oe.thrown("Bad node type, unexpected "+(null==e.nodeType?"null":A.toString(e.nodeType)));var a=e.nodeValue;0!=a.length&&(l=n+z.htmlEscape(a),this.output.b+=X.string(l),this.pretty)&&(this.output.b+="\n");break;case 2:if(this.output.b+=X.string(n+"<![CDATA["),e.nodeType==D.Document||e.nodeType==D.Element)throw oe.thrown("Bad node type, unexpected "+(null==e.nodeType?"null":A.toString(e.nodeType)));this.output.b+=X.string(e.nodeValue),this.output.b+="]]>",this.pretty&&(this.output.b+="\n");break;case 3:if(e.nodeType==D.Document||e.nodeType==D.Element)throw oe.thrown("Bad node type, unexpected "+(null==e.nodeType?"null":A.toString(e.nodeType)));var a=e.nodeValue,o=new RegExp("[\n\r\t]+","g".split("u").join("")),l=(a="\x3c!--"+(a=a.replace(o,""))+"--\x3e",this.output.b+=null==n?"null":""+n,z.trim(a));this.output.b+=X.string(l),this.pretty&&(this.output.b+="\n");break;case 4:if(e.nodeType==D.Document||e.nodeType==D.Element)throw oe.thrown("Bad node type, unexpected "+(null==e.nodeType?"null":A.toString(e.nodeType)));this.output.b+=X.string("<!DOCTYPE "+e.nodeValue+">"),this.pretty&&(this.output.b+="\n");break;case 5:if(e.nodeType==D.Document||e.nodeType==D.Element)throw oe.thrown("Bad node type, unexpected "+(null==e.nodeType?"null":A.toString(e.nodeType)));this.output.b+=X.string("<?"+e.nodeValue+"?>"),this.pretty&&(this.output.b+="\n");break;case 6:if(e.nodeType!=D.Document&&e.nodeType!=D.Element)throw oe.thrown("Bad node type, expected Element or Document but found "+(null==e.nodeType?"null":A.toString(e.nodeType)));for(r=0,s=e.children;r<s.length;){h=s[r++];this.writeNode(h,n)}}},hasChildren:function(e){if(e.nodeType!=D.Document&&e.nodeType!=D.Element)throw oe.thrown("Bad node type, expected Element or Document but found "+(null==e.nodeType?"null":A.toString(e.nodeType)));for(var n=0,t=e.children;n<t.length;){var i=t[n++];switch(i.nodeType){case 0:case 1:return!0;case 2:case 3:if(i.nodeType==D.Document||i.nodeType==D.Element)throw oe.thrown("Bad node type, unexpected "+(null==i.nodeType?"null":A.toString(i.nodeType)));if(0!=z.ltrim(i.nodeValue).length)return!0}}return!1},__class__:yl},(E["hsluv.Geometry"]=y3).__name__="hsluv.Geometry",y3.intersectLineLine=function(e,n){n=(e.intercept-n.intercept)/(n.slope-e.slope);return{x:n,y:e.slope*n+e.intercept}},y3.distanceFromOrigin=function(e){return Math.sqrt(Math.pow(e.x,2)+Math.pow(e.y,2))},y3.distanceLineFromOrigin=function(e){return Math.abs(e.intercept)/Math.sqrt(Math.pow(e.slope,2)+1)},y3.perpendicularThroughPoint=function(e,n){e=-1/e.slope;return{slope:e,intercept:n.y-e*n.x}},y3.angleFromOrigin=function(e){return Math.atan2(e.y,e.x)},y3.normalizeAngle=function(e){var n=2*Math.PI;return(e%n+n)%n},y3.lengthOfRayUntilIntersect=function(e,n){return n.intercept/(Math.sin(e)-n.slope*Math.cos(e))},function(){}),Ul=((E["hsluv.Hsluv"]=w).__name__="hsluv.Hsluv",w.getBounds=function(e){for(var n=[],t=Math.pow(e+16,3)/1560896,i=t>w.epsilon?t:e/w.kappa,l=0;l<3;){var r=l++,s=w.m[r][0],h=w.m[r][1],r=w.m[r][2],a=(632260*r-126452*h)*i,a=(n.push({slope:(284517*s-94839*r)*i/a,intercept:((838422*r+769860*h+731718*s)*e*i-0*e)/a}),(284517*s-94839*r)*i),o=(632260*r-126452*h)*i+126452;n.push({slope:a/o,intercept:((838422*r+769860*h+731718*s)*e*i-769860*e)/o})}return n},w.maxSafeChromaForL=function(e){for(var n=w.getBounds(e),t=1/0,i=0;i<n.length;)var l=n[i],l=(++i,y3.distanceLineFromOrigin(l)),t=Math.min(t,l);return t},w.maxChromaForLH=function(e,n){for(var t=n/360*Math.PI*2,i=w.getBounds(e),l=1/0,r=0;r<i.length;){var s=i[r],s=(++r,y3.lengthOfRayUntilIntersect(t,s));0<=s&&(l=Math.min(l,s))}return l},w.dotProduct=function(e,n){for(var t=0,i=0,l=e.length;i<l;){var r=i++;t+=e[r]*n[r]}return t},w.fromLinear=function(e){return e<=.0031308?12.92*e:1.055*Math.pow(e,.4166666666666667)-.055},w.toLinear=function(e){return.04045<e?Math.pow((e+.055)/1.055,2.4):e/12.92},w.xyzToRgb=function(e,n){var t=w.fromLinear(w.dotProduct(w.m[0],e)),i=w.fromLinear(w.dotProduct(w.m[1],e)),e=w.fromLinear(w.dotProduct(w.m[2],e));return(n=null==n?[0,0,0]:n)[0]=t,n[1]=i,n[2]=e,n},w.rgbToXyz=function(e,n){var t=e[0],i=e[1],e=e[2],t=((n=null==n?[0,0,0]:n)[0]=w.toLinear(t),n[1]=w.toLinear(i),n[2]=w.toLinear(e),w.dotProduct(w.minv[0],n)),i=w.dotProduct(w.minv[1],n),e=w.dotProduct(w.minv[2],n);return n[0]=t,n[1]=i,n[2]=e,n},w.yToL=function(e){return e<=w.epsilon?e/w.refY*w.kappa:116*Math.pow(e/w.refY,.3333333333333333)-16},w.lToY=function(e){return e<=8?w.refY*e/w.kappa:w.refY*Math.pow((e+16)/116,3)},w.xyzToLuv=function(e,n){var t=e[0],i=e[1],e=(null==n&&(n=[0,0,0]),t+15*i+3*e[2]),t=4*t,l=9*i,e=(0!=e?(t/=e,l/=e):l=t=NaN,w.yToL(i));return 0==e?(n[0]=0,n[1]=0,n[2]=0):(i=13*e*(t-w.refU),t=13*e*(l-w.refV),n[0]=e,n[1]=i,n[2]=t),n},w.luvToXyz=function(e,n){null==n&&(n=[0,0,0]);var t=e[0],i=e[1],e=e[2];return 0==t?(n[0]=0,n[1]=1,n[2]=2):(i=i/(13*t)+w.refU,e=e/(13*t)+w.refV,e=(9*(t=w.lToY(t))-15*e*t-e*(i=0-9*t*i/((i-4)*e-i*e)))/(3*e),n[0]=i,n[1]=t,n[2]=e),n},w.luvToLch=function(e,n){var t,i=e[0],l=e[1],e=e[2],r=(null==n&&(n=[0,0,0]),Math.sqrt(l*l+e*e));return r<1e-8?t=0:(t=180*Math.atan2(e,l)/Math.PI)<0&&(t=360+t),n[0]=i,n[1]=r,n[2]=t,n},w.lchToLuv=function(e,n){var t=e[0],i=e[1],e=(null==n&&(n=[0,0,0]),e[2]/360*2*Math.PI),l=Math.cos(e)*i,e=Math.sin(e)*i;return n[0]=t,n[1]=l,n[2]=e,n},w.hsluvToLch=function(e,n){var t=e[0],i=e[1],e=e[2];return null==n&&(n=[0,0,0]),99.9999999<e?(n[0]=100,n[1]=0,n[2]=t):(e<1e-8?(n[0]=0,n[1]=0):(i=w.maxChromaForLH(e,t)/100*i,n[0]=e,n[1]=i),n[2]=t),n},w.lchToHsluv=function(e,n){var t=e[0],i=e[1],e=e[2];return null==n&&(n=[0,0,0]),99.9999999<t?(n[0]=e,n[1]=0,n[2]=100):t<1e-8?(n[0]=e,n[1]=0,n[2]=0):(i=i/w.maxChromaForLH(t,e)*100,n[0]=e,n[1]=i,n[2]=t),n},w.hpluvToLch=function(e){var n=e[0],t=e[1],e=e[2];return 99.9999999<e?[100,0,n]:e<1e-8?[0,0,n]:[e,w.maxSafeChromaForL(e)/100*t,n]},w.lchToHpluv=function(e){var n=e[0],t=e[1],e=e[2];return 99.9999999<n?[e,0,100]:n<1e-8?[e,0,0]:[e,t/w.maxSafeChromaForL(n)*100,n]},w.rgbToHex=function(e){var n="#",t=e[0],i=(l=Math.round(255*t))%16,t=(n+=w.hexChars.charAt((l-i)/16|0)+w.hexChars.charAt(i),e[1]),l=Math.round(255*t),t=(n+=w.hexChars.charAt((l-(i=l%16))/16|0)+w.hexChars.charAt(i),e[2]),l=Math.round(255*t);return n+=w.hexChars.charAt((l-(i=l%16))/16|0)+w.hexChars.charAt(i)},w.hexToRgb=function(e){e=e.toLowerCase();var n=[],t=w.hexChars.indexOf(e.charAt(1)),i=w.hexChars.indexOf(e.charAt(2)),t=(n.push((16*t+i)/255),w.hexChars.indexOf(e.charAt(3))),i=w.hexChars.indexOf(e.charAt(4)),t=(n.push((16*t+i)/255),w.hexChars.indexOf(e.charAt(5))),i=w.hexChars.indexOf(e.charAt(6));return n.push((16*t+i)/255),n},w.lchToRgb=function(e,n){return w.lchToLuv(e,n=null==n?[0,0,0]:n),w.luvToXyz(n,n),w.xyzToRgb(n,n),n},w.rgbToLch=function(e,n){return w.rgbToXyz(e,n=null==n?[0,0,0]:n),w.xyzToLuv(n,n),w.luvToLch(n,n),n},w.hsluvToRgb=function(e,n){return w.hsluvToLch(e,n=null==n?[0,0,0]:n),w.lchToRgb(n,n),n},w.rgbToHsluv=function(e,n){return w.rgbToLch(e,n=null==n?[0,0,0]:n),w.lchToHsluv(n,n),n},w.hpluvToRgb=function(e){return w.lchToRgb(w.hpluvToLch(e))},w.rgbToHpluv=function(e){return w.lchToHpluv(w.rgbToLch(e))},w.hsluvToHex=function(e){return w.rgbToHex(w.hsluvToRgb(e))},w.hpluvToHex=function(e){return w.rgbToHex(w.hpluvToRgb(e))},w.hexToHsluv=function(e){return w.rgbToHsluv(w.hexToRgb(e))},w.hexToHpluv=function(e){return w.rgbToHpluv(w.hexToRgb(e))},function(){}),Dl=((E["js.Boot"]=Ul).__name__="js.Boot",Ul.getClass=function(e){var n;return null==e?null:e instanceof Array?Array:null!=(n=e.__class__)?n:null!=(n=Ul.__nativeClassName(e))?Ul.__resolveNativeClass(n):null},Ul.__string_rec=function(l,r){if(null==l)return"null";if(5<=r.length)return"<...>";var s,e,n=typeof l;switch(n="function"==n&&(l.__name__||l.__ename__)?"object":n){case"function":return"<function>";case"object":if(l.__enum__)return o=(s=Oe[l.__enum__].__constructs__[l._hx_index])._hx_name,s.__params__?(r+="\t",o+"("+function(){for(var e=[],n=0,t=s.__params__;n<t.length;){var i=t[n];n+=1,e.push(Ul.__string_rec(l[i],r))}return e}().join(",")+")"):o;if(l instanceof Array){for(var t="[",i=(r+="\t",0),h=l.length;i<h;){var a=i++;t+=(0<a?",":"")+Ul.__string_rec(l[a],r)}return t+="]"}try{e=l.toString}catch(i){return Yi.lastError=i,"???"}if(null!=e&&e!=Object.toString&&"function"==typeof e){var o=l.toString();if("[object Object]"!=o)return o}var t="{\n",c=(r+="\t",null!=l.hasOwnProperty),u=null;for(u in l)c&&!l.hasOwnProperty(u)||"prototype"!=u&&"__class__"!=u&&"__super__"!=u&&"__interfaces__"!=u&&"__properties__"!=u&&(2!=t.length&&(t+=", \n"),t+=r+u+" : "+Ul.__string_rec(l[u],r));return t+="\n"+(r=r.substring(1))+"}";case"string":return l;default:return String(l)}},Ul.__interfLoop=function(e,n){if(null==e)return!1;if(e==n)return!0;var t=e.__interfaces__;if(null!=t)for(var i=0,l=t.length;i<l;){var r=t[i++];if(r==n||Ul.__interfLoop(r,n))return!0}return Ul.__interfLoop(e.__super__,n)},Ul.__instanceof=function(e,n){if(null==n)return!1;switch(n){case Array:return e instanceof Array;case Vl:return"boolean"==typeof e;case El:return null!=e;case Ll:return"number"==typeof e;case Ml:return"number"==typeof e&&(0|e)===e;case String:return"string"==typeof e;default:if(null==e)return!1;if("function"==typeof n){if(Ul.__downcastCheck(e,n))return!0}else if("object"==typeof n&&Ul.__isNativeObj(n)&&e instanceof n)return!0;return n==Rl&&null!=e.__name__?!0:n==Hl&&null!=e.__ename__||null!=e.__enum__&&Oe[e.__enum__]==n}},Ul.__downcastCheck=function(e,n){return e instanceof n||!!n.__isInterface__&&Ul.__interfLoop(Ul.getClass(e),n)},Ul.__implements=function(e,n){return Ul.__interfLoop(Ul.getClass(e),n)},Ul.__nativeClassName=function(e){e=Ul.__toStr.call(e).slice(8,-1);return"Object"==e||"Function"==e||"Math"==e||"JSON"==e?null:e},Ul.__isNativeObj=function(e){return null!=Ul.__nativeClassName(e)},Ul.__resolveNativeClass=function(e){return be[e]},function(){}),Tl=((E["js.html._CanvasElement.CanvasUtil"]=Dl).__name__="js.html._CanvasElement.CanvasUtil",Dl.getContextWebGL=function(e,n){var t=e.getContext("webgl",n);return null!=t||null!=(t=e.getContext("experimental-webgl",n))?t:null},(E["polyline.Extensions"]=C3).__name__="polyline.Extensions",C3.unsafeGet=function(e,n){return e[n]},C3.unsafeSet=function(e,n,t){e[n]=t},Oe["polyline.StrokeCap"]={__ename__:"polyline.StrokeCap",__constructs__:null,BUTT:{_hx_name:"BUTT",_hx_index:0,__enum__:"polyline.StrokeCap",toString:c},SQUARE:{_hx_name:"SQUARE",_hx_index:1,__enum__:"polyline.StrokeCap",toString:c}}),xl=(Tl.__constructs__=[Tl.BUTT,Tl.SQUARE],Oe["polyline.StrokeJoin"]={__ename__:"polyline.StrokeJoin",__constructs__:null,MITER:{_hx_name:"MITER",_hx_index:0,__enum__:"polyline.StrokeJoin",toString:c},BEVEL:{_hx_name:"BEVEL",_hx_index:1,__enum__:"polyline.StrokeJoin",toString:c}}),Sl=(xl.__constructs__=[xl.MITER,xl.BEVEL],(E["shade.Shade"]=F3).__name__="shade.Shade",F3.prototype={__class__:F3},(E["shade.Frag"]=G3).__name__="shade.Frag",G3.__super__=F3,G3.prototype=$extend(F3.prototype,{__class__:G3}),(E["shade.Shader"]=L3).__name__="shade.Shader",L3.__super__=g1,L3.prototype=$extend(g1.prototype,{vert:null,frag:null,__class__:L3}),(E["shade.Shader__shaders_Msdf_Vert__shaders_Msdf_Frag"]=M3).__name__="shade.Shader__shaders_Msdf_Vert__shaders_Msdf_Frag",M3.__super__=g1,M3.prototype=$extend(g1.prototype,{__class__:M3}),(E["shade.Shader__shaders_PixelArt_Vert__shaders_PixelArt_Frag"]=N3).__name__="shade.Shader__shaders_PixelArt_Vert__shaders_PixelArt_Frag",N3.__super__=g1,N3.prototype=$extend(g1.prototype,{__class__:N3}),(E["shade.Shader__shaders_Textured_Vert__shaders_Textured_Frag"]=O3).__name__="shade.Shader__shaders_Textured_Vert__shaders_Textured_Frag",O3.__super__=g1,O3.prototype=$extend(g1.prototype,{__class__:O3}),(E["shade.Vert"]=S3).__name__="shade.Vert",S3.__super__=F3,S3.prototype=$extend(F3.prototype,{__class__:S3}),function(){M3.call(this,null,[new rt(3,"vertexPosition"),new rt(2,"vertexTCoord"),new rt(4,"vertexColor")],null)}),Al=((E["shaders.Msdf"]=Sl).__name__="shaders.Msdf",Sl.__super__=M3,Sl.prototype=$extend(M3.prototype,{resolveTextureSlot:function(e){return"mainTex"==e?0:-1},__class__:Sl}),(E["shaders.Msdf_Vert"]=U3).__name__="shaders.Msdf_Vert",U3.__super__=S3,U3.prototype=$extend(S3.prototype,{__class__:U3}),(E["shaders.Msdf_Frag"]=V3).__name__="shaders.Msdf_Frag",V3.__super__=G3,V3.prototype=$extend(G3.prototype,{__class__:V3}),function(){N3.call(this,null,[new rt(3,"vertexPosition"),new rt(2,"vertexTCoord"),new rt(4,"vertexColor")],null)}),kl=((E["shaders.PixelArt"]=Al).__name__="shaders.PixelArt",Al.__super__=N3,Al.prototype=$extend(N3.prototype,{resolveTextureSlot:function(e){return"mainTex"==e?0:-1},__class__:Al}),(E["shaders.PixelArt_Vert"]=X3).__name__="shaders.PixelArt_Vert",X3.__super__=S3,X3.prototype=$extend(S3.prototype,{__class__:X3}),(E["shaders.PixelArt_Frag"]=Y3).__name__="shaders.PixelArt_Frag",Y3.__super__=G3,Y3.prototype=$extend(G3.prototype,{__class__:Y3}),function(){O3.call(this,[],[new rt(3,"vertexPosition"),new rt(2,"vertexTCoord"),new rt(4,"vertexColor")],new rt(1,"vertexTextureId"))}),U=((E["shaders.Textured"]=kl).__name__="shaders.Textured",kl.__super__=O3,kl.prototype=$extend(O3.prototype,{resolveTextureSlot:function(e){return"mainTex"==e?0:-1},__class__:kl}),(E["shaders.Textured_Vert"]=$3).__name__="shaders.Textured_Vert",$3.__super__=S3,$3.prototype=$extend(S3.prototype,{__class__:$3}),(E["shaders.Textured_Frag"]=_3).__name__="shaders.Textured_Frag",_3.__super__=G3,_3.prototype=$extend(G3.prototype,{__class__:_3}),(E["tracker.Assert"]=ae).__name__="tracker.Assert",function(e,n){this.invalidated=!1,this.boundAutorunArrays=null,this.owner=null,this.afterRun=null,this.onRun=null,j.call(this),this.onRun=e,this.afterRun=n,null!=e&&this.run()}),Il=((E["tracker.Autorun"]=U).__name__="tracker.Autorun",U.unobserve=function(){U.prevCurrent.push(U.current),U.current=null},U.reobserve=function(){U.current=U.prevCurrent.pop()},U.cease=function(){var e;null!=U.current?(U.current.destroy(),U.current=null):0<U.prevCurrent.length&&null!=(e=U.prevCurrent[U.prevCurrent.length-1])&&(e.destroy(),U.prevCurrent[U.prevCurrent.length-1]=null)},U.unobserved=function(e){U.unobserve(),e(),U.reobserve()},U.invalidateAutorunArray=function(e){for(var n=0,t=e.length;n<t;){var i=e[n++];null==i||i.invalidated||i._lifecycleState<0||(i.invalidated=!0,i.unbindFromAllAutorunArrays(),Fl.backend,he.app._onceImmediate($bind(i,i.run)))}e.splice(0,e.length),U._autorunArrays[U._autorunArraysLen]=e,U._autorunArraysLen++},U.getAutorunArray=function(){var e;return 0<U._autorunArraysLen?(U._autorunArraysLen--,e=U._autorunArrays[U._autorunArraysLen],U._autorunArrays[U._autorunArraysLen]=null,e):[]},U.recycleAutorunArray=function(e){e.splice(0,e.length),U._autorunArrays[U._autorunArraysLen]=e,U._autorunArraysLen++},U.getArrayOfAutorunArrays=function(){var e;return 0<U._arrayOfAutorunArraysLen?(U._arrayOfAutorunArraysLen--,e=U._arrayOfAutorunArrays[U._arrayOfAutorunArraysLen],U._arrayOfAutorunArrays[U._arrayOfAutorunArraysLen]=null,e):[]},U.recycleArrayOfAutorunArrays=function(e){e.splice(0,e.length),U._arrayOfAutorunArrays[U._arrayOfAutorunArraysLen]=e,U._arrayOfAutorunArraysLen++},U.__super__=j,U.prototype=$extend(j.prototype,{__cbOnReset:null,__cbOnceReset:null,__cbOnOwnerUnbindReset:null,__cbOnceOwnerUnbindReset:null,emitReset:function(){this.unbindFromAllAutorunArrays();var e=0;if(null!=this.__cbOnReset&&(e+=this.__cbOnReset.length),null!=this.__cbOnceReset&&(e+=this.__cbOnceReset.length),0<e){var n=C.pool(e),t=n.get(),i=0;if(null!=this.__cbOnReset)for(var l=0,r=this.__cbOnReset.length;l<r;){var s=l++;!0?(t.vector[i]=this.__cbOnReset[s],++i):--e}if(null!=this.__cbOnceReset){for(var h=null,a=null,l=0,r=this.__cbOnceReset.length;l<r;){var o,s=l++;!0?(t.vector[i]=this.__cbOnceReset[s],this.__cbOnceReset[s]=null,o=this.__cbOnceOwnerUnbindReset[s],(this.__cbOnceOwnerUnbindReset[s]=null)!=o&&o(),++i):(--e,null==h&&(h=[],a=[],0),h.push(this.__cbOnceOwnerUnbindReset[s]),a.push(this.__cbOnceReset[s]))}this.__cbOnceOwnerUnbindReset=h,this.__cbOnceReset=a}for(l=0,r=e;l<r;){i=l++;(0,t.vector[i])()}n.release(t)}},onReset:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event reset because owner is destroyed!");var l=function(e){null!=t&&(i.offReset(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindReset&&(this.__cbOnOwnerUnbindReset=[]),this.__cbOnOwnerUnbindReset.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindReset&&(this.__cbOnOwnerUnbindReset=[]),this.__cbOnOwnerUnbindReset.push(null);null==this.__cbOnReset&&(this.__cbOnReset=[]),this.__cbOnReset.push(t)},onceReset:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event reset because owner is destroyed!");var l=function(e){null!=t&&(i.offReset(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindReset&&(this.__cbOnceOwnerUnbindReset=[]),this.__cbOnceOwnerUnbindReset.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindReset&&(this.__cbOnceOwnerUnbindReset=[]),this.__cbOnceOwnerUnbindReset.push(null);null==this.__cbOnceReset&&(this.__cbOnceReset=[]),this.__cbOnceReset.push(t)},offReset:function(e){if(null!=e){var n;null!=this.__cbOnReset&&-1!=(n=this.__cbOnReset.indexOf(e))&&(this.__cbOnReset.splice(n,1),null!=(r=this.__cbOnOwnerUnbindReset[n])&&r(),this.__cbOnOwnerUnbindReset.splice(n,1)),null!=this.__cbOnceReset&&-1!=(n=this.__cbOnceReset.indexOf(e))&&(this.__cbOnceReset.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindReset[n])&&r(),this.__cbOnceOwnerUnbindReset.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindReset){for(var t=0,i=this.__cbOnOwnerUnbindReset.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindReset[l])&&r()}this.__cbOnOwnerUnbindReset=null}if(null!=this.__cbOnceOwnerUnbindReset){for(t=0,i=this.__cbOnceOwnerUnbindReset.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindReset[l])&&r()}this.__cbOnceOwnerUnbindReset=null}this.__cbOnReset=null,this.__cbOnceReset=null}},listensReset:function(){return null!=this.__cbOnReset&&0<this.__cbOnReset.length||null!=this.__cbOnceReset&&0<this.__cbOnceReset.length},onRun:null,afterRun:null,owner:null,boundAutorunArrays:null,invalidated:null,destroy:function(){this._lifecycleState<=-2||(this._lifecycleState=-2,this.emitReset(),this.onRun=null,this.afterRun=null,this._lifecycleState=-1,j.prototype.destroy.call(this))},willEmitReset:function(){this.unbindFromAllAutorunArrays()},run:function(){if(!(this._lifecycleState<0||null!=this.owner&&this.owner._lifecycleState<0)){this.invalidated=!1,this.emitReset();var e=U.current,n=(U.current=this,U.prevCurrent.length);for(this.onRun(),null!=this.afterRun&&(U.unobserve(),this.afterRun(),U.reobserve());n<U.prevCurrent.length;)U.prevCurrent.pop();U.current=e}},invalidate:function(){this.invalidated||this._lifecycleState<0||(this.invalidated=!0,this.unbindFromAllAutorunArrays(),Fl.backend,he.app._onceImmediate($bind(this,this.run)))},bindToAutorunArray:function(e){if(!(this.invalidated||this._lifecycleState<0)){var n=!1;if(null==this.boundAutorunArrays){var t=0<U._arrayOfAutorunArraysLen?(U._arrayOfAutorunArraysLen--,t=U._arrayOfAutorunArrays[U._arrayOfAutorunArraysLen],U._arrayOfAutorunArrays[U._arrayOfAutorunArraysLen]=null,t):[];this.boundAutorunArrays=t}else for(var i=0,l=this.boundAutorunArrays.length;i<l;){var r=i++;if(this.boundAutorunArrays[r]==e){n=!0;break}}if(!n){for(var s=-1,t=e.length,r=t-1;0<=r;){if(null==(a=e[r])){s=r;break}--r}if(-1==s)e.push(this);else{var h=t-1;if(s<h)for(i=s+1,l=t;i<l;){var a=e[r=i++];e[r-1]=a}e[h]=this}this.boundAutorunArrays.push(e)}}},unbindFromAllAutorunArrays:function(){if(null!=this.boundAutorunArrays){for(var e=0,n=this.boundAutorunArrays.length;e<n;)for(var t=e++,i=this.boundAutorunArrays[t],l=0,r=i.length;l<r;){var s=l++,h=i[s];if(null!=h&&h==this){i[s]=null;break}}var a=this.boundAutorunArrays;a.splice(0,a.length),U._arrayOfAutorunArrays[U._arrayOfAutorunArraysLen]=a,U._arrayOfAutorunArraysLen++,this.boundAutorunArrays=null}},unbindEvents:function(){j.prototype.unbindEvents.call(this),this.offReset()},__class__:U}),(E["tracker.Equal"]=ce).__name__="tracker.Equal",ce.equal=function(e,n){return e==n||(e instanceof Array?n instanceof Array&&ce._arrayEqual(e,n):!(!K.isObject(e)||null!=Ul.getClass(e)||!K.isObject(n)||null!=Ul.getClass(n))&&ce.objectFieldsEqual(e,n))},ce.objectFieldsEqual=function(e,n){for(var t=0,i=K.fields(e);t<i.length;){var l=i[t];if(++t,!Object.prototype.hasOwnProperty.call(n,l)||!ce.equal(K.field(e,l),K.field(n,l)))return!1}for(t=0,i=K.fields(n);t<i.length;){l=i[t];if(++t,!Object.prototype.hasOwnProperty.call(e,l))return!1}return!0},ce._arrayEqual=function(e,n){var t=e.length;if(t!=n.length)return!1;for(var i=0,l=t;i<l;){var r=i++;if(e[r]!=n[r])return!1}return!0},(E["tracker.Extensions"]=de).__name__="tracker.Extensions",de.unsafeGet=function(e,n){return e[n]},de.unsafeSet=function(e,n,t){e[n]=t},de.setArrayLength=function(e,n){if(e.length!=n)if(e.length>n)e.splice(n,e.length-n);else for(var t=e;t.length<n;)t.push(null)},de.setProperty=function(e,n,t){K.setProperty(e,n,t)},de.getProperty=function(e,n){return K.getProperty(e,n)},function(){}),_e=((E["tracker.SaveModel"]=Il).__name__="tracker.SaveModel",Il.getSavedOrCreate=function(e,n,t){e=B.createInstance(e,null!=t?t:[]);return Il.loadFromKey(e,n),e},Il.isBusyKey=function(e){return-1!=Il.busyKeys.indexOf(e)},Il.loadFromKey=function(e,n,t){if(null==t&&(t=!1),-1!=Il.busyKeys.indexOf(n))throw oe.thrown("Cannot load data from key "+n+" because some work is being done on it");Fl.backend;var i=he.app.backend.io.readString("save_id_1_"+n),l=null!=i?X.parseInt(i):-1,i=(1!=l&&2!=l&&(Fl.backend,l=null!=(i=he.app.backend.io.readString("save_id_2_"+n))?X.parseInt(i):-1),null);return 1!=l&&2!=l?t||(Fl.backend,he.app.logger.warning("Failed to load save from key: "+n+" (no existing save?)",{fileName:"tracker/SaveModel.hx",lineNumber:55,className:"tracker.SaveModel",methodName:"loadFromKey"})):(Fl.backend,null!=(i=he.app.backend.io.readString("save_data_"+l+"_"+n))||t||(Fl.backend,he.app.logger.warning("Failed to load save from key: "+n+"/"+l+" (corrupted save, try backups?)",{fileName:"tracker/SaveModel.hx",lineNumber:60,className:"tracker.SaveModel",methodName:"loadFromKey"}))),Pl.loadFromData(e,i)},Il.autoSaveAsKey=function(e,n,t,i){null==i&&(i=60),null==t&&(t=1);var l=e.serializer,r=(null==l?((l=new Pl).checkInterval=t,l.compactInterval=i):l.checkInterval==t&&l.compactInterval==i||(Fl.backend,he.app.logger.warning("A serializer is already assigned with different appendInterval and compactInterval",{fileName:"tracker/SaveModel.hx",lineNumber:114,className:"tracker.SaveModel",methodName:"autoSaveAsKey"})),"save_data_1_"+n),s="save_data_2_"+n,h="save_id_1_"+n,a="save_id_2_"+n;l.onChangeset(e,function(e){Il._autoSaveAsKeyHandleChangeset(e,n,r,s,h,a)}),e.serializer!=l&&e.set_serializer(l)},Il._autoSaveAsKeyHandleChangeset=function(e,n,t,i,l,r){Il.busyKeys.push(n),e.append?Il._autoSaveAsKeyAppend(e.data,n,t,i,l,r):Il._autoSaveAsKeyCompact(e.data,n,t,i,l,r)},Il._autoSaveAsKeyAppend=function(e,n,t,i,l,r){Fl.backend.backgroundQueue.schedule(function(){Il._autoSaveAsKeyAppendInBackground(e,n,t,i,l,r)})},Il._autoSaveAsKeyAppendInBackground=function(e,n,t,i,l,r){e=Bl.encodeChangesetData(e);Fl.backend,he.app.backend.io.appendString(t,e),Fl.backend,he.app.backend.io.saveString(l,"1"),Fl.backend,he.app.backend.io.saveString(r,"1"),Fl.backend,he.app.backend.io.appendString(i,e),Fl.backend,he.app.backend.io.saveString(l,"2"),Fl.backend,he.app.backend.io.saveString(r,"2"),Fl.backend;Xn.runInMain(function(){Il._autoSaveAsKeyAppendBackInMain(n)})},Il._autoSaveAsKeyAppendBackInMain=function(e){var n=Il.busyKeys.indexOf(e);-1!=n?Il.busyKeys.splice(n,1):(Fl.backend,he.app.logger.error("Failed to remove busy key: "+e+" (none in list)",{fileName:"tracker/SaveModel.hx",lineNumber:248,className:"tracker.SaveModel",methodName:"_autoSaveAsKeyAppendBackInMain"}))},Il._autoSaveAsKeyCompact=function(e,n,t,i,l,r){Fl.backend.backgroundQueue.schedule(function(){Il._autoSaveAsKeyCompactRunInBackground(e,n,t,i,l,r)})},Il._autoSaveAsKeyCompactRunInBackground=function(e,n,t,i,l,r){e=Bl.encodeChangesetData(e);Fl.backend,he.app.backend.io.saveString(t,e),Fl.backend,he.app.backend.io.saveString(l,"1"),Fl.backend,he.app.backend.io.saveString(r,"1"),Fl.backend,he.app.backend.io.saveString(i,e),Fl.backend,he.app.backend.io.saveString(l,"2"),Fl.backend,he.app.backend.io.saveString(r,"2"),Fl.backend;Xn.runInMain(function(){Il._autoSaveAsKeyCompactBackInMain(n)})},Il._autoSaveAsKeyCompactBackInMain=function(e){var n=Il.busyKeys.indexOf(e);-1!=n?Il.busyKeys.splice(n,1):(Fl.backend,he.app.logger.error("Failed to remove busy key: "+e+" (none in list)",{fileName:"tracker/SaveModel.hx",lineNumber:346,className:"tracker.SaveModel",methodName:"_autoSaveAsKeyCompactBackInMain"}))},Il.encodeHashedString=function(e){var n=ji.encode(e);e.length;return n+""+e},Il.decodeHashedString=function(e){e.length;var n=e.substring(32),e=e.substring(0,32),t=ji.encode(n);return e!=t?(Fl.backend,he.app.logger.error("Hash mismatch (stored="+e+" computed="+t+")",{fileName:"tracker/SaveModel.hx",lineNumber:372,className:"tracker.SaveModel",methodName:"decodeHashedString"}),null):n},function(){}),Pl=((E["tracker.Serialize"]=_e).__name__="tracker.Serialize",_e.serialize=function(e){_e._serializedMap=new ue;var e=_e.serializeValue(e),n=new Ki,e=(n.serialize(e),n.serialize(_e._serializedMap),n.toString());return _e._serializedMap=null,e},_e.deserialize=function(e,n){var t=_e._serializedMap,i=_e._deserializedMap,n=new Xi(n),l=n.unserialize(),n=(_e._serializedMap=n.unserialize(),_e._deserializedMap=new ue,_e.deserializeValue(l,e));return _e._serializedMap=t,_e._deserializedMap=i,n},_e.serializeValue=function(e){if(null==e)return null;if(null==_e._serializedMap)return null;if(e instanceof j){var n=e;if(n._lifecycleState<0)return Fl.backend,C=Ul.getClass(n),n="Entity destroyed: "+X.string(n)+" "+C.__name__,he.app.logger.error(n,{fileName:"tracker/Serialize.hx",lineNumber:90,className:"tracker.Serialize",methodName:"serializeValue"}),null}if(Ul.__implements(e,kd)){var n=Ul.getClass(e),t=n.__name__,i=e._serializeId;if(!Object.prototype.hasOwnProperty.call(_e._cachedEnumInfoBySerializableType.h,t)&&(_e._cachedEnumInfoBySerializableType.h[t]=!0,Object.prototype.hasOwnProperty.call(n,"_serializeEnumInfo"))){t=K.field(n,"_serializeEnumInfo");if(null!=t)for(var l=y=t.h,r=(U=Object.keys(y)).length,s=0;s<r;){var h=v=U[s++],a=l[v];_e._enumInfo.h[h]=a}}if(null!=_e._deserializedMap&&(_e._deserializedMap.h[i]=e),null!=_e._onCheckSerializable&&_e._onCheckSerializable(e),!Object.prototype.hasOwnProperty.call(_e._serializedMap.h,i)){var o={id:i,type:n.__name__,props:{}};_e._serializedMap.h[i]=o;e.willSerialize();for(var c="unobserved".length,u=n;null!=u;){for(var _=dl.getFields(u),d=0,b=K.fields(_);d<b.length;){var g=b[d],O=(++d,K.field(_,g));Object.prototype.hasOwnProperty.call(O,"serialize")&&(z.startsWith(O=g,"unobserved")&&(O=O.charAt(c).toLowerCase()+se.substr(O,c+1,null)),g=K.getProperty(e,g),a=_e.serializeValue(g),o.props[O]=a)}if(null!=(u=u.__super__)&&"tracker.Model"==u.__name__)break}null!=_e._onAddSerializable&&_e._onAddSerializable(e)}return{id:i}}if(e instanceof Array){for(var o=[],f=e,d=0;d<f.length;){var p=f[d];++d,o.push(_e.serializeValue(p))}return o}if("string"==typeof e||"number"==typeof e&&(0|e)===e||"number"==typeof e||"boolean"==typeof e)return e;var C,d=B.typeof(e);if(null!=d&&6==d._hx_index&&null!=(C=d.c))switch(C){case qi:for(var o={im:w=[]},v=(m=e).keys();v.hasNext();){h=v.next();w.push(h),w.push(_e.serializeValue(m.h[h]))}return o;case ue:for(var w,m,y,U,o={sm:w=[]},l=y=(m=e).h,r=(U=Object.keys(y)).length,s=0;s<r;){v=U[s++];w.push(v),w.push(_e.serializeValue(m.h[v]))}return o}return null!=_e.customHxSerialize?{hx:_e.customHxSerialize(e)}:((t=new Ki).useCache=!0,t.serialize(e),{hx:t.toString()})},_e.deserializeValue=function(e,n,t){if(null==t&&(t=!1),null==e)return null;if(null==_e._serializedMap)return null;if(null==_e._deserializedMap)return null;var i=null!=n;if(e instanceof Array){for(var l=[],r=e,s=0;s<r.length;){var h=r[s];++s,l.push(_e.deserializeValue(h))}return l}if("string"==typeof e||"number"==typeof e&&(0|e)===e||"number"==typeof e||"boolean"==typeof e)return e;if(null!=e.id){if(Object.prototype.hasOwnProperty.call(_e._deserializedMap.h,e.id)){var a=_e._deserializedMap.h[e.id];if(t&&null!=e.props&&null!=e.type){var o=e.type;if(null==(I=E[o]))return Fl.backend,he.app.logger.warning("Failed to resolve class for serialized type: "+X.string(e.type),{fileName:"tracker/Serialize.hx",lineNumber:314,className:"tracker.Serialize",methodName:"deserializeValue"}),null;for(var c=dl.getFields(I),u="unobserved".length,_=Object.create(null),s=0,d=B.getInstanceFields(I);s<d.length;){var b=d[s];++s,_[b]=!0}for(var g=I.__super__,O=null;null!=g&&((O=null==O?[]:O).push(dl.getFields(g)),"tracker.Model"!=g.__name__);){for(s=0,d=B.getInstanceFields(g);s<d.length;){b=d[s];++s,_[b]=!0}g=g.__super__}P=_;for(var f=(T=Object.keys(P)).length,p=0;p<f;){var C=T[p++];if(null==(x=K.field(c,C))&&null!=O)for(s=0,d=O.length;s<d;){var v=s++;if(null!=(x=K.field(O[v],C)))break}var w=null!=x&&Object.prototype.hasOwnProperty.call(x,"serialize"),m=C;z.startsWith(m,"unobserved")&&(m=m.charAt(u).toLowerCase()+se.substr(m,u+1,null)),w&&Object.prototype.hasOwnProperty.call(e.props,m)&&(S=_e.deserializeValue(K.field(e.props,m)),K.setProperty(a,m,S))}}return a}if(Object.prototype.hasOwnProperty.call(_e._serializedMap.h,e.id)){var y=_e._serializedMap.h[e.id],o=y.type;if(null==(I=E[o]))return Fl.backend,he.app.logger.warning("Failed to resolve class for serialized type: "+y.type,{fileName:"tracker/Serialize.hx",lineNumber:376,className:"tracker.Serialize",methodName:"deserializeValue"}),null;if(null!=n&&Ul.getClass(n)!=I)throw oe.thrown("Type mismatch when deserializing object expected "+X.string(I)+", got "+X.string(Ul.getClass(n)));for(var U=null,D=!1,t=!1,c=(null!=_e._deserializedCacheMap&&Object.prototype.hasOwnProperty.call(_e._deserializedCacheMap.h,e.id)?(U=_e._deserializedCacheMap.h[e.id],D=!0):null!=n&&Ul.getClass(n)==I?U=n:(U=Object.create(I.prototype),t=!0),U._serializeId=e.id,_e._deserializedMap.h[e.id]=U,dl.getFields(I)),u="unobserved".length,_=Object.create(null),s=0,d=B.getInstanceFields(I);s<d.length;){b=d[s];++s,_[b]=!0}for(g=I.__super__,O=null;null!=g&&((O=null==O?[]:O).push(dl.getFields(g)),"tracker.Model"!=g.__name__);){for(s=0,d=B.getInstanceFields(g);s<d.length;){b=d[s];++s,_[b]=!0}g=g.__super__}P=_;for(var T,f=(T=Object.keys(P)).length,p=0;p<f;){var x,C=T[p++];if(null==(x=K.field(c,C))&&null!=O)for(s=0,d=O.length;s<d;){v=s++;if(null!=(x=K.field(O[v],C)))break}var S,A,w=null!=x&&Object.prototype.hasOwnProperty.call(x,"serialize"),m=C;z.startsWith(m,"unobserved")&&(m=m.charAt(u).toLowerCase()+se.substr(m,u+1,null)),w&&Object.prototype.hasOwnProperty.call(y.props,m)?(S=_e.deserializeValue(K.field(y.props,m)),K.setProperty(U,D||i?m:C,S)):i||D||!Object.prototype.hasOwnProperty.call(_,"_default_"+m)||(A=K.field(U,"_default_"+m).apply(U,[]),K.setProperty(U,C,A))}var k,o=_e._serializedMap,n=_e._deserializedMap,I=_e._deserializedCacheMap,P=_e._createdInstances;return _e._serializedMap=null,_e._deserializedMap=null,_e._deserializedCacheMap=null,_e._createdInstances=null,U.didDeserialize(),t&&(null!=P?P.push(U):null!=(k=K.field(U,"_autorunMarkedMethods"))&&(Fl.backend,he.app._onceImmediate(function(){k.apply(U,[])}))),_e._serializedMap=o,_e._deserializedMap=n,_e._deserializedCacheMap=I,_e._createdInstances=P,U}return null}if(null!=e.sm){for(var F=e.sm,v=0,l=new ue;v<F.length;){var M=_e.deserializeValue(F[v+1]);l.h[F[v]]=M,v+=2}return l}if(null!=e.im){for(F=e.im,v=0,l=new qi;v<F.length;){M=_e.deserializeValue(F[v+1]);l.h[F[v]]=M,v+=2}return l}if(null==e.hx)return null;if(null!=_e.customHxDeserialize)return _e.customHxDeserialize(e.hx);t=new Xi(e.hx);try{return t.unserialize()}catch(s){Yi.lastError=s;Fl.backend;return he.app.logger.warning("Failed to deserialize: "+X.string(e.hx),{fileName:"tracker/Serialize.hx",lineNumber:606,className:"tracker.Serialize",methodName:"deserializeValue"}),null}},(E["tracker.SerializeChangeset"]=ge).__name__="tracker.SerializeChangeset",ge.prototype={data:null,append:null,toString:function(){return""+X.string({append:this.append,data:this.data})},__class__:ge},function(){this.initializerName=null,this.dirty=!0,this.canCompact=!1,this.dirtyModels=new ue,this.willCleanDestroyedTrackedModels=!1,this.trackedModels=new ue,this.serializedMap=new ue,this.destroyModelOnUntrack=!0,this.compactInterval=60,this.checkInterval=1,j.call(this)}),Fl=((E["tracker.SerializeModel"]=Pl).__name__="tracker.SerializeModel",Pl.__interfaces__=[a0],Pl.loadFromData=function(e,n,t){if(null==t&&(t=!1),null==n)return!1;_e._serializedMap=new ue,_e._deserializedMap=new ue,_e._deserializedCacheMap=null,_e.serializeValue(e);for(var i=_e._deserializedMap,n=(_e._serializedMap=null,_e._deserializedMap=null,_e._deserializedCacheMap=null,Bl.decodeChangesetData(n)),l=(_e._serializedMap=n.serializedMap,_e._deserializedMap=new ue,_e._deserializedCacheMap=t?i:null,_e._createdInstances=[],_e.deserializeValue(n.serialized,e),_e._deserializedMap,_e._createdInstances),r=(_e._createdInstances=null,0),s=l.length;r<s;){var h=l[r++],a=K.field(h,"_autorunMarkedMethods");null!=a&&a.apply(h,[])}_e._deserializedMap=null,_e._serializedMap=null,_e._deserializedCacheMap=null,_e._serializedMap=new ue,_e._deserializedMap=new ue,_e._deserializedCacheMap=null,_e.serializeValue(e);for(var o=_e._deserializedMap,t=(_e._serializedMap=null,_e._deserializedMap=null,_e._deserializedCacheMap=null,i.h),c=t,u=Object.keys(t),_=u.length,d=0;d<_;){var b=u[d++],g=c[b];o.h[b]!=g&&g instanceof ld&&(b=g)!=e&&b.serializeShouldDestroy()&&b.destroy()}return!0},Pl.__super__=j,Pl.prototype=$extend(j.prototype,{__cbOnChangeset:null,__cbOnceChangeset:null,__cbOnOwnerUnbindChangeset:null,__cbOnceOwnerUnbindChangeset:null,emitChangeset:function(e){var n=0;if(null!=this.__cbOnChangeset&&(n+=this.__cbOnChangeset.length),null!=this.__cbOnceChangeset&&(n+=this.__cbOnceChangeset.length),0<n){var t=C.pool(n),i=t.get(),l=0;if(null!=this.__cbOnChangeset)for(var r=0,s=this.__cbOnChangeset.length;r<s;){var h=r++;!0?(i.vector[l]=this.__cbOnChangeset[h],++l):--n}if(null!=this.__cbOnceChangeset){for(var a=null,o=null,r=0,s=this.__cbOnceChangeset.length;r<s;){var c,h=r++;!0?(i.vector[l]=this.__cbOnceChangeset[h],this.__cbOnceChangeset[h]=null,c=this.__cbOnceOwnerUnbindChangeset[h],(this.__cbOnceOwnerUnbindChangeset[h]=null)!=c&&c(),++l):(--n,null==a&&(a=[],o=[],0),a.push(this.__cbOnceOwnerUnbindChangeset[h]),o.push(this.__cbOnceChangeset[h]))}this.__cbOnceOwnerUnbindChangeset=a,this.__cbOnceChangeset=o}for(r=0,s=n;r<s;){l=r++;(0,i.vector[l])(e)}t.release(i)}},onChangeset:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event changeset because owner is destroyed!");var l=function(e){null!=t&&(i.offChangeset(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindChangeset&&(this.__cbOnOwnerUnbindChangeset=[]),this.__cbOnOwnerUnbindChangeset.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindChangeset&&(this.__cbOnOwnerUnbindChangeset=[]),this.__cbOnOwnerUnbindChangeset.push(null);null==this.__cbOnChangeset&&(this.__cbOnChangeset=[]),this.__cbOnChangeset.push(t)},onceChangeset:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event changeset because owner is destroyed!");var l=function(e){null!=t&&(i.offChangeset(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindChangeset&&(this.__cbOnceOwnerUnbindChangeset=[]),this.__cbOnceOwnerUnbindChangeset.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindChangeset&&(this.__cbOnceOwnerUnbindChangeset=[]),this.__cbOnceOwnerUnbindChangeset.push(null);null==this.__cbOnceChangeset&&(this.__cbOnceChangeset=[]),this.__cbOnceChangeset.push(t)},offChangeset:function(e){if(null!=e){var n;null!=this.__cbOnChangeset&&-1!=(n=this.__cbOnChangeset.indexOf(e))&&(this.__cbOnChangeset.splice(n,1),null!=(r=this.__cbOnOwnerUnbindChangeset[n])&&r(),this.__cbOnOwnerUnbindChangeset.splice(n,1)),null!=this.__cbOnceChangeset&&-1!=(n=this.__cbOnceChangeset.indexOf(e))&&(this.__cbOnceChangeset.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindChangeset[n])&&r(),this.__cbOnceOwnerUnbindChangeset.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindChangeset){for(var t=0,i=this.__cbOnOwnerUnbindChangeset.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindChangeset[l])&&r()}this.__cbOnOwnerUnbindChangeset=null}if(null!=this.__cbOnceOwnerUnbindChangeset){for(t=0,i=this.__cbOnceOwnerUnbindChangeset.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindChangeset[l])&&r()}this.__cbOnceOwnerUnbindChangeset=null}this.__cbOnChangeset=null,this.__cbOnceChangeset=null}},listensChangeset:function(){return null!=this.__cbOnChangeset&&0<this.__cbOnChangeset.length||null!=this.__cbOnceChangeset&&0<this.__cbOnceChangeset.length},checkInterval:null,compactInterval:null,destroyModelOnUntrack:null,serializedMap:null,model:null,get_model:function(){return this.entity},entity:null,bindAsComponent:function(){0<this.checkInterval&&(Fl.backend,e=this.checkInterval,Dt.schedule(this,e,$bind(this,this.synchronize),e)),0<this.compactInterval&&(Fl.backend,e=this.compactInterval,Dt.schedule(this,e,$bind(this,this.compactIfNeeded),e));var e=this.entity;0<=e._lifecycleState&&!Object.prototype.hasOwnProperty.call(this.trackedModels.h,e._serializeId)&&((this.trackedModels.h[e._serializeId]=e).onModelDirty(this,$bind(this,this.explicitModelDirty)),e.onObservedDirty(this,$bind(this,this.modelDirty)),e.onceDestroy(this,$bind(this,this.trackedModelDestroyed))),this.compact()},compact:function(e){var n=this,t=this.serializedMap,i=(_e._serializedMap=new ue,_e._onAddSerializable=function(e){e instanceof ld&&((e=e).observedDirty=!1,0<=e._lifecycleState)&&!Object.prototype.hasOwnProperty.call(n.trackedModels.h,e._serializeId)&&((n.trackedModels.h[e._serializeId]=e).onModelDirty(n,$bind(n,n.explicitModelDirty)),e.onObservedDirty(n,$bind(n,n.modelDirty)),e.onceDestroy(n,$bind(n,n.trackedModelDestroyed)))},_e.serializeValue(this.entity)),t=(this.serializedMap=_e._serializedMap,_e._onAddSerializable=null,_e._serializedMap=null,this.cleanTrackingFromPrevSerializedMap(t),new Ki),i=(t.serialize(i),t.serialize(this.serializedMap),t.toString());this.emitChangeset(new ge(i,!1)),null!=e&&e(i)},trackedModels:null,willCleanDestroyedTrackedModels:null,dirtyModels:null,canCompact:null,dirty:null,track:function(e){0<=e._lifecycleState&&!Object.prototype.hasOwnProperty.call(this.trackedModels.h,e._serializeId)&&((this.trackedModels.h[e._serializeId]=e).onModelDirty(this,$bind(this,this.explicitModelDirty)),e.onObservedDirty(this,$bind(this,this.modelDirty)),e.onceDestroy(this,$bind(this,this.trackedModelDestroyed)))},untrack:function(e){var n,t;Object.prototype.hasOwnProperty.call(this.trackedModels.h,e._serializeId)&&(n=e._serializeId,t=this.trackedModels,Object.prototype.hasOwnProperty.call(t.h,n)&&delete t.h[n],e.offModelDirty($bind(this,this.explicitModelDirty)),e.offObservedDirty($bind(this,this.modelDirty)),e.offDestroy($bind(this,this.trackedModelDestroyed)),this.destroyModelOnUntrack)&&e.destroy()},trackedModelDestroyed:function(e){var c=this;this.willCleanDestroyedTrackedModels||(this.willCleanDestroyedTrackedModels=!0,Fl.backend,he.app._onceImmediate(function(){for(var e=[],n=c.trackedModels.h,t=Object.keys(n),i=t.length,l=0;l<i;){var r=t[l++];e.push(r)}for(var s=0;s<e.length;){var h,a,r=e[s],o=(++s,c.trackedModels.h[r]);o._lifecycleState<0&&Object.prototype.hasOwnProperty.call(c.trackedModels.h,o._serializeId)&&(h=o._serializeId,a=c.trackedModels,Object.prototype.hasOwnProperty.call(a.h,h)&&delete a.h[h],o.offModelDirty($bind(c,c.explicitModelDirty)),o.offObservedDirty($bind(c,c.modelDirty)),o.offDestroy($bind(c,c.trackedModelDestroyed)),c.destroyModelOnUntrack)&&o.destroy()}c.willCleanDestroyedTrackedModels=!1}))},cleanTrackingFromPrevSerializedMap:function(e){for(var n=[],e=e.h,t=Object.keys(e),i=t.length,l=0;l<i;){var r=t[l++];Object.prototype.hasOwnProperty.call(this.serializedMap.h,r)||n.push(r)}for(var s=0;s<n.length;){var h,a,r=n[s],o=(++s,this.trackedModels.h[r]);null!=o&&Object.prototype.hasOwnProperty.call(this.trackedModels.h,o._serializeId)&&(h=o._serializeId,a=this.trackedModels,Object.prototype.hasOwnProperty.call(a.h,h)&&delete a.h[h],o.offModelDirty($bind(this,this.explicitModelDirty)),o.offObservedDirty($bind(this,this.modelDirty)),o.offDestroy($bind(this,this.trackedModelDestroyed)),this.destroyModelOnUntrack)&&o.destroy()}},modelDirty:function(e,n){n?(this.dirtyModels.h[e._serializeId]=e,this.dirty=!0):e.observedDirty=!1},explicitModelDirty:function(e){this.dirtyModels.h[e._serializeId]=e,this.dirty=!0},synchronize:function(){if(this.dirty){this.dirty=!1;for(var e=[],n=this.dirtyModels.h,t=Object.keys(n),i=t.length,l=0;l<i;){var r,s,h,a=t[l++],a=this.dirtyModels.h[a];0<=a._lifecycleState&&Object.prototype.hasOwnProperty.call(this.trackedModels.h,a._serializeId)&&(0!=a.dirty&&(a.dirty=!1),r=[this],s=a._serializeId,h=this.serializedMap,Object.prototype.hasOwnProperty.call(h.h,s)&&delete h.h[s],_e._serializedMap=this.serializedMap,_e._onCheckSerializable=function(i){return function(e){var n=e._serializeId,t=i[0].trackedModels.h[n];null!=t&&t!=e&&(t=i[0].serializedMap,Object.prototype.hasOwnProperty.call(t.h,n))&&delete t.h[n]}}(r),_e._onAddSerializable=function(n,t){return function(e){e instanceof ld&&((e=e).observedDirty=!1,t[0].push(n[0].serializedMap.h[e._serializeId]),0<=e._lifecycleState)&&!Object.prototype.hasOwnProperty.call(n[0].trackedModels.h,e._serializeId)&&((n[0].trackedModels.h[e._serializeId]=e).onModelDirty(n[0],$bind(x=n[0],x.explicitModelDirty)),e.onObservedDirty(n[0],$bind(x=n[0],x.modelDirty)),e.onceDestroy(n[0],$bind(x=n[0],x.trackedModelDestroyed)))}}(r,[e]),_e.serializeValue(a),_e._onCheckSerializable=null,_e._onAddSerializable=null,_e._serializedMap=null)}this.dirtyModels=new ue,0<e.length&&((n=new Ki).serialize(e),n=n.toString(),this.canCompact=!0,this.emitChangeset(new ge(n,!0)))}},compactIfNeeded:function(){this.canCompact&&(this.canCompact=!1,this.compact())},serializeModel:function(e,n){var i=this,t=e._serializeId,l=this.serializedMap;Object.prototype.hasOwnProperty.call(l.h,t)&&delete l.h[t],_e._serializedMap=this.serializedMap,_e._onCheckSerializable=function(e){var n=e._serializeId,t=i.trackedModels.h[n];null!=t&&t!=e&&(t=i.serializedMap,Object.prototype.hasOwnProperty.call(t.h,n))&&delete t.h[n]},_e._onAddSerializable=function(e){e instanceof ld&&((e=e).observedDirty=!1,n.push(i.serializedMap.h[e._serializeId]),0<=e._lifecycleState)&&!Object.prototype.hasOwnProperty.call(i.trackedModels.h,e._serializeId)&&((i.trackedModels.h[e._serializeId]=e).onModelDirty(i,$bind(i,i.explicitModelDirty)),e.onObservedDirty(i,$bind(i,i.modelDirty)),e.onceDestroy(i,$bind(i,i.trackedModelDestroyed)))},_e.serializeValue(e),_e._onCheckSerializable=null,_e._onAddSerializable=null,_e._serializedMap=null},setEntity:function(e){this.entity=e instanceof ld?e:null},getEntity:function(){return this.entity},initializerName:null,unbindEvents:function(){j.prototype.unbindEvents.call(this),this.offChangeset()},__class__:Pl,__properties__:$extend(j.prototype.__properties__,{get_model:"get_model"})}),(E["tracker.ShareChangeset"]=ie).__name__="tracker.ShareChangeset",ie.prototype={items:null,toString:function(){for(var e=[],n=0,t=this.items;n<t.length;){var i=t[n];++n,e.push(i)}return""+X.string({items:e})},__class__:ie},(E["tracker.ShareItem"]=ke).__name__="tracker.ShareItem",ke.prototype={id:null,action:null,type:null,props:null,__class__:ke},(E["tracker.ShareModel"]=le).__name__="tracker.ShareModel",le.__interfaces__=[a0],le.autoShare=function(e,n,t,i){null==n&&(n=.032);var l=e.sharer;return null!=l?(l.checkInterval!=n&&(Fl.backend,he.app.logger.warning("A sharer is already assigned with different checkInterval",{fileName:"tracker/ShareModel.hx",lineNumber:561,className:"tracker.ShareModel",methodName:"autoShare"})),l.onChangeset(t,i),l.shareAll()):((l=new le).checkInterval=n,l.onChangeset(t,i),e.set_sharer(l)),l},le.__super__=j,le.prototype=$extend(j.prototype,{__cbOnChangeset:null,__cbOnceChangeset:null,__cbOnOwnerUnbindChangeset:null,__cbOnceOwnerUnbindChangeset:null,emitChangeset:function(e){var n=0;if(null!=this.__cbOnChangeset&&(n+=this.__cbOnChangeset.length),null!=this.__cbOnceChangeset&&(n+=this.__cbOnceChangeset.length),0<n){var t=C.pool(n),i=t.get(),l=0;if(null!=this.__cbOnChangeset)for(var r=0,s=this.__cbOnChangeset.length;r<s;){var h=r++;!0?(i.vector[l]=this.__cbOnChangeset[h],++l):--n}if(null!=this.__cbOnceChangeset){for(var a=null,o=null,r=0,s=this.__cbOnceChangeset.length;r<s;){var c,h=r++;!0?(i.vector[l]=this.__cbOnceChangeset[h],this.__cbOnceChangeset[h]=null,c=this.__cbOnceOwnerUnbindChangeset[h],(this.__cbOnceOwnerUnbindChangeset[h]=null)!=c&&c(),++l):(--n,null==a&&(a=[],o=[],0),a.push(this.__cbOnceOwnerUnbindChangeset[h]),o.push(this.__cbOnceChangeset[h]))}this.__cbOnceOwnerUnbindChangeset=a,this.__cbOnceChangeset=o}for(r=0,s=n;r<s;){l=r++;(0,i.vector[l])(e)}t.release(i)}},onChangeset:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event changeset because owner is destroyed!");var l=function(e){null!=t&&(i.offChangeset(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindChangeset&&(this.__cbOnOwnerUnbindChangeset=[]),this.__cbOnOwnerUnbindChangeset.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindChangeset&&(this.__cbOnOwnerUnbindChangeset=[]),this.__cbOnOwnerUnbindChangeset.push(null);null==this.__cbOnChangeset&&(this.__cbOnChangeset=[]),this.__cbOnChangeset.push(t)},onceChangeset:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw oe.thrown("Failed to bind event changeset because owner is destroyed!");var l=function(e){null!=t&&(i.offChangeset(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindChangeset&&(this.__cbOnceOwnerUnbindChangeset=[]),this.__cbOnceOwnerUnbindChangeset.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindChangeset&&(this.__cbOnceOwnerUnbindChangeset=[]),this.__cbOnceOwnerUnbindChangeset.push(null);null==this.__cbOnceChangeset&&(this.__cbOnceChangeset=[]),this.__cbOnceChangeset.push(t)},offChangeset:function(e){if(null!=e){var n;null!=this.__cbOnChangeset&&-1!=(n=this.__cbOnChangeset.indexOf(e))&&(this.__cbOnChangeset.splice(n,1),null!=(r=this.__cbOnOwnerUnbindChangeset[n])&&r(),this.__cbOnOwnerUnbindChangeset.splice(n,1)),null!=this.__cbOnceChangeset&&-1!=(n=this.__cbOnceChangeset.indexOf(e))&&(this.__cbOnceChangeset.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindChangeset[n])&&r(),this.__cbOnceOwnerUnbindChangeset.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindChangeset){for(var t=0,i=this.__cbOnOwnerUnbindChangeset.length;t<i;){var l=t++;null!=(r=this.__cbOnOwnerUnbindChangeset[l])&&r()}this.__cbOnOwnerUnbindChangeset=null}if(null!=this.__cbOnceOwnerUnbindChangeset){for(t=0,i=this.__cbOnceOwnerUnbindChangeset.length;t<i;){var r,l=t++;null!=(r=this.__cbOnceOwnerUnbindChangeset[l])&&r()}this.__cbOnceOwnerUnbindChangeset=null}this.__cbOnChangeset=null,this.__cbOnceChangeset=null}},listensChangeset:function(){return null!=this.__cbOnChangeset&&0<this.__cbOnChangeset.length||null!=this.__cbOnceChangeset&&0<this.__cbOnceChangeset.length},serializedMap:null,deserializedMap:null,destroysToDispatch:null,model:null,get_model:function(){return this.entity},entity:null,lastCheckedFrame:null,destroyModelOnUntrack:null,checkInterval:null,bindAsComponent:function(){0<this.checkInterval&&(Fl.backend,e=this.checkInterval,Dt.schedule(this,e,$bind(this,this.synchronizeIfNeeded),e));var e=this.entity;0<=e._lifecycleState&&!Object.prototype.hasOwnProperty.call(this.trackedModels.h,e._serializeId)&&(this.trackedModels.h[e._serializeId]=e,(this.deserializedMap.h[e._serializeId]=e).onModelDirty(this,$bind(this,this.explicitModelDirty)),e.onObservedDirty(this,$bind(this,this.modelDirty)),e.onceDestroy(this,$bind(this,this.trackedModelDestroyed))),this.shareAll()},trackedModels:null,willCleanDestroyedTrackedModels:null,dirtyModels:null,dirty:null,paused:null,pause:function(){this.paused++},resume:function(){this.paused--},track:function(e){0<=e._lifecycleState&&!Object.prototype.hasOwnProperty.call(this.trackedModels.h,e._serializeId)&&(this.trackedModels.h[e._serializeId]=e,(this.deserializedMap.h[e._serializeId]=e).onModelDirty(this,$bind(this,this.explicitModelDirty)),e.onObservedDirty(this,$bind(this,this.modelDirty)),e.onceDestroy(this,$bind(this,this.trackedModelDestroyed)))},untrack:function(e){var n,t;Object.prototype.hasOwnProperty.call(this.trackedModels.h,e._serializeId)&&(n=e._serializeId,t=this.trackedModels,Object.prototype.hasOwnProperty.call(t.h,n)&&delete t.h[n],n=e._serializeId,t=this.deserializedMap,Object.prototype.hasOwnProperty.call(t.h,n)&&delete t.h[n],e.offModelDirty($bind(this,this.explicitModelDirty)),e.offObservedDirty($bind(this,this.modelDirty)),e.offDestroy($bind(this,this.trackedModelDestroyed)),this.destroyModelOnUntrack)&&e.destroy()},encodeValue:function(e){return JSON.stringify(e)},decodeValue:function(e){return JSON.parse(e)},trackedModelDestroyed:function(e){var c=this;this.willCleanDestroyedTrackedModels||(this.willCleanDestroyedTrackedModels=!0,Fl.backend,he.app._onceImmediate(function(){for(var e=[],n=c.trackedModels.h,t=Object.keys(n),i=t.length,l=0;l<i;){var r=t[l++];e.push(r)}for(var s=0;s<e.length;){var h,a,r=e[s],o=(++s,c.trackedModels.h[r]);o._lifecycleState<0&&(null==c.destroysToDispatch&&(c.destroysToDispatch=[]),-1==c.destroysToDispatch.indexOf(o._serializeId)&&c.destroysToDispatch.push(o._serializeId),Object.prototype.hasOwnProperty.call(c.trackedModels.h,o._serializeId))&&(a=o._serializeId,h=c.trackedModels,Object.prototype.hasOwnProperty.call(h.h,a)&&delete h.h[a],h=o._serializeId,a=c.deserializedMap,Object.prototype.hasOwnProperty.call(a.h,h)&&delete a.h[h],o.offModelDirty($bind(c,c.explicitModelDirty)),o.offObservedDirty($bind(c,c.modelDirty)),o.offDestroy($bind(c,c.trackedModelDestroyed)),c.destroyModelOnUntrack)&&o.destroy()}c.willCleanDestroyedTrackedModels=!1}))},cleanTrackingFromPrevSerializedMap:function(e){for(var n=[],e=e.h,t=Object.keys(e),i=t.length,l=0;l<i;){var r=t[l++];Object.prototype.hasOwnProperty.call(this.serializedMap.h,r)||n.push(r)}for(var s=0;s<n.length;){var h,a,r=n[s],o=(++s,this.trackedModels.h[r]);null!=o&&Object.prototype.hasOwnProperty.call(this.trackedModels.h,o._serializeId)&&(a=o._serializeId,h=this.trackedModels,Object.prototype.hasOwnProperty.call(h.h,a)&&delete h.h[a],h=o._serializeId,a=this.deserializedMap,Object.prototype.hasOwnProperty.call(a.h,h)&&delete a.h[h],o.offModelDirty($bind(this,this.explicitModelDirty)),o.offObservedDirty($bind(this,this.modelDirty)),o.offDestroy($bind(this,this.trackedModelDestroyed)),this.destroyModelOnUntrack)&&o.destroy()}},modelDirty:function(e,n){n?(this.dirtyModels.h[e._serializeId]=e,this.dirty=!0):e.observedDirty=!1},explicitModelDirty:function(e){this.dirtyModels.h[e._serializeId]=e,this.dirty=!0},synchronizeIfNeeded:function(){var e=he.app.frame;this.lastCheckedFrame!=e&&(this.lastCheckedFrame=e,this.synchronize())},synchronize:function(){if(this.dirty&&!(0<this.paused)){this.dirty=!1;var e=[];if(null!=this.destroysToDispatch)for(;0<this.destroysToDispatch.length;)e.push(new ke(this.destroysToDispatch.shift(),2,null,null));for(var n=this.dirtyModels.h,t=Object.keys(n),i=t.length,l=0;l<i;){var r,s,h,a,o,c=t[l++],c=this.dirtyModels.h[c];0<=c._lifecycleState&&Object.prototype.hasOwnProperty.call(this.trackedModels.h,c._serializeId)&&(0!=c.dirty&&(c.dirty=!1),r=[this],s=[c._serializeId],h=[this.serializedMap.h[s[0]]],a=c._serializeId,o=this.serializedMap,Object.prototype.hasOwnProperty.call(o.h,a)&&delete o.h[a],_e._serializedMap=this.serializedMap,_e._onCheckSerializable=function(i){return function(e){var n=e._serializeId,t=i[0].trackedModels.h[n];null!=t&&t!=e&&(t=i[0].serializedMap,Object.prototype.hasOwnProperty.call(t.h,n))&&delete t.h[n]}}(r),_e._onAddSerializable=function(c,u,_,d){return function(e){if(e instanceof ld){e.observedDirty=!1;var n=_e._serializedMap.h[e._serializeId],t=n.props,i={},l=!1,r=0;if(e._serializeId==u[0]&&null!=c[0]&&null!=c[0].props)for(var r=1,s=c[0].props,h=0,a=K.fields(t);h<a.length;){var o=a[h];++h,ce.equal(K.field(t,o),K.field(s,o))||(l=!0,i[o]=_[0].encodeValue(K.field(t,o)))}else for(l=!0,h=0,a=K.fields(t);h<a.length;){o=a[h];++h,i[o]=_[0].encodeValue(K.field(t,o))}l&&(r=new ke(n.id,r,n.type,i),d[0].push(r)),0<=e._lifecycleState&&!Object.prototype.hasOwnProperty.call(_[0].trackedModels.h,e._serializeId)&&(_[0].trackedModels.h[e._serializeId]=e,(_[0].deserializedMap.h[e._serializeId]=e).onModelDirty(_[0],$bind(x=_[0],x.explicitModelDirty)),e.onObservedDirty(_[0],$bind(x=_[0],x.modelDirty)),e.onceDestroy(_[0],$bind(x=_[0],x.trackedModelDestroyed)))}}}(h,s,r,[e]),_e.serializeValue(c),_e._onCheckSerializable=null,_e._onAddSerializable=null,_e._serializedMap=null)}this.dirtyModels=new ue,0<e.length&&this.emitChangeset(new ie(e))}},shareAll:function(e,n){null==e&&(e=!1);var c=this,u=this.serializedMap,_=[];_e._serializedMap=new ue,_e._onAddSerializable=e?function(e){if(e instanceof ld){e.observedDirty=!1,0<=e._lifecycleState&&!Object.prototype.hasOwnProperty.call(c.trackedModels.h,e._serializeId)&&(c.trackedModels.h[e._serializeId]=e,(c.deserializedMap.h[e._serializeId]=e).onModelDirty(c,$bind(c,c.explicitModelDirty)),e.onObservedDirty(c,$bind(c,c.modelDirty)),e.onceDestroy(c,$bind(c,c.trackedModelDestroyed)));var n=u.h[e._serializeId],e=_e._serializedMap.h[e._serializeId],t=e.props,i={},l=!1,r=0;if(null!=n&&null!=n.props)for(var r=1,s=n.props,h=0,a=K.fields(t);h<a.length;){var o=a[h];++h,ce.equal(K.field(t,o),K.field(s,o))||(l=!0,i[o]=c.encodeValue(K.field(t,o)))}else for(l=!0,h=0,a=K.fields(t);h<a.length;){o=a[h];++h,i[o]=c.encodeValue(K.field(t,o))}l&&(n=new ke(e.id,r,e.type,i),_.push(n))}}:function(e){if(e instanceof ld){e.observedDirty=!1,0<=e._lifecycleState&&!Object.prototype.hasOwnProperty.call(c.trackedModels.h,e._serializeId)&&(c.trackedModels.h[e._serializeId]=e,(c.deserializedMap.h[e._serializeId]=e).onModelDirty(c,$bind(c,c.explicitModelDirty)),e.onObservedDirty(c,$bind(c,c.modelDirty)),e.onceDestroy(c,$bind(c,c.trackedModelDestroyed)));for(var n={},e=_e._serializedMap.h[e._serializeId],t=e.props,i=0,l=K.fields(t);i<l.length;){var r=l[i];++i,n[r]=c.encodeValue(K.field(t,r))}e=new ke(e.id,0,e.type,n);_.push(e)}},_e.serializeValue(this.entity),this.serializedMap=_e._serializedMap,_e._onAddSerializable=null,_e._serializedMap=null,this.cleanTrackingFromPrevSerializedMap(u),Fl.backend;he.app._onceImmediate(function(){if(null!=c.destroysToDispatch)for(;0<c.destroysToDispatch.length;)_.push(new ke(c.destroysToDispatch.shift(),2,null,null));null!=n&&n(_),0<_.length&&c.emitChangeset(new ie(_))})},receiveShared:function(e){_e._serializedMap=this.serializedMap,_e._deserializedMap=this.deserializedMap,_e._createdInstances=[];try{for(var n=0,t=e.items;n<t.length;){var i=t[n];switch(++n,i.action){case 0:case 1:if(null==(o=this.serializedMap.h[i.id])&&(o={id:i.id,type:i.type,props:{}},this.serializedMap.h[i.id]=o),null!=i.props)for(var l=0,r=K.fields(i.props);l<r.length;){var s=r[l];++l,o.props[s]=this.decodeValue(K.field(i.props,s))}}}for(n=0,t=e.items;n<t.length;){i=t[n];switch(++n,i.action){case 0:var h,a=this.deserializedMap.h[i.id],o=this.serializedMap.h[i.id],c=_e.deserializeValue(o,a,!0);a!=c&&null!=c&&c instanceof ld&&0<=(h=c)._lifecycleState&&!Object.prototype.hasOwnProperty.call(this.trackedModels.h,h._serializeId)&&(this.trackedModels.h[h._serializeId]=h,(this.deserializedMap.h[h._serializeId]=h).onModelDirty(this,$bind(this,this.explicitModelDirty)),h.onObservedDirty(this,$bind(this,this.modelDirty)),h.onceDestroy(this,$bind(this,this.trackedModelDestroyed)));break;case 1:var u=this.deserializedMap.h[i.id],_=this.serializedMap.h[i.id],d={};if(null!=i.props)for(l=0,r=K.fields(i.props);l<r.length;){var s=r[l],b=(++l,K.field(_.props,s));d[s]=b}var g,O=_e.deserializeValue({id:i.id,type:_.type,props:d},u,!0);u!=O&&null!=O&&O instanceof ld&&0<=(g=O)._lifecycleState&&!Object.prototype.hasOwnProperty.call(this.trackedModels.h,g._serializeId)&&(this.trackedModels.h[g._serializeId]=g,(this.deserializedMap.h[g._serializeId]=g).onModelDirty(this,$bind(this,this.explicitModelDirty)),g.onObservedDirty(this,$bind(this,this.modelDirty)),g.onceDestroy(this,$bind(this,this.trackedModelDestroyed)));break;case 2:var f=this.deserializedMap.h[i.id];f instanceof ld&&(null!=f?f.destroy():(Fl.backend,he.app.logger.warning("Trying to destroy item "+i.id+", but item was not found!",{fileName:"tracker/ShareModel.hx",lineNumber:435,className:"tracker.ShareModel",methodName:"receiveShared"})))}}}catch(n){Yi.lastError=n;e=oe.caught(n).unwrap();Fl.backend;he.app.logger.error("Failed to receive shared data: "+X.string(e),{fileName:"tracker/ShareModel.hx",lineNumber:444,className:"tracker.ShareModel",methodName:"receiveShared"})}for(var p=_e._createdInstances,n=(_e._createdInstances=null,0),t=p.length;n<t;){var C=p[n++],v=K.field(C,"_autorunMarkedMethods");null!=v&&v.apply(C,[])}_e._serializedMap=null,_e._deserializedMap=null},serializeModel:function(e,c){var u=this,_=e._serializeId,d=this.serializedMap.h[_],n=e._serializeId,t=this.serializedMap;Object.prototype.hasOwnProperty.call(t.h,n)&&delete t.h[n],_e._serializedMap=this.serializedMap,_e._onCheckSerializable=function(e){var n=e._serializeId,t=u.trackedModels.h[n];null!=t&&t!=e&&(t=u.serializedMap,Object.prototype.hasOwnProperty.call(t.h,n))&&delete t.h[n]},_e._onAddSerializable=function(e){if(e instanceof ld){e.observedDirty=!1;var n=_e._serializedMap.h[e._serializeId],t=n.props,i={},l=!1,r=0;if(e._serializeId==_&&null!=d&&null!=d.props)for(var r=1,s=d.props,h=0,a=K.fields(t);h<a.length;){var o=a[h];++h,ce.equal(K.field(t,o),K.field(s,o))||(l=!0,i[o]=u.encodeValue(K.field(t,o)))}else for(l=!0,h=0,a=K.fields(t);h<a.length;){o=a[h];++h,i[o]=u.encodeValue(K.field(t,o))}l&&(r=new ke(n.id,r,n.type,i),c.push(r)),0<=e._lifecycleState&&!Object.prototype.hasOwnProperty.call(u.trackedModels.h,e._serializeId)&&(u.trackedModels.h[e._serializeId]=e,(u.deserializedMap.h[e._serializeId]=e).onModelDirty(u,$bind(u,u.explicitModelDirty)),e.onObservedDirty(u,$bind(u,u.modelDirty)),e.onceDestroy(u,$bind(u,u.trackedModelDestroyed)))}},_e.serializeValue(e),_e._onCheckSerializable=null,_e._onAddSerializable=null,_e._serializedMap=null},setEntity:function(e){this.entity=e instanceof ld?e:null},getEntity:function(){return this.entity},initializerName:null,unbindEvents:function(){j.prototype.unbindEvents.call(this),this.offChangeset()},__class__:le,__properties__:$extend(j.prototype.__properties__,{get_model:"get_model"})}),function(){}),Bl=((E["tracker.Tracker"]=Fl).__name__="tracker.Tracker",function(){});function $bind(e,n){var t;return null==n?null:(null==n.__id__&&(n.__id__=be.$haxeUID++),null==e.hx__closures__?e.hx__closures__={}:t=e.hx__closures__[n.__id__],null==t&&(t=n.bind(e),e.hx__closures__[n.__id__]=t),t)}(E["tracker.Utils"]=Bl).__name__="tracker.Utils",Bl.uniformFrequencyList=function(e,n,t){for(var i=[],l=[],r=0,s=e.length;r<s;)l[u=r++]=0;for(r=0,s=n.length;r<s;)l[u=r++]+=n[u];for(r=0,s=t;r<s;){r++;for(var h=0,a=0,o=0,c=e.length;o<c;){var u,_=l[u=o++];a<_&&(h=u,a=_)}i.push(e[h]),--l[h];for(var d=0,b=n.length;d<b;){var g=d++;l[g]+=n[g]}}return i},Bl.uniqueId=function(){switch(Bl._nextUniqueIntCursor){case 0:Bl._nextUniqueInt0=(Bl._nextUniqueInt0+1)%2147483647;break;case 1:Bl._nextUniqueInt1=(Bl._nextUniqueInt1+1)%2147483647;break;case 2:Bl._nextUniqueInt2=(Bl._nextUniqueInt2+1)%2147483647;break;case 3:Bl._nextUniqueInt3=(Bl._nextUniqueInt3+1)%2147483647}Bl._nextUniqueIntCursor=(Bl._nextUniqueIntCursor+1)%4;var e,n=Bl._nextUniqueInt0,t=(n=null==n?2147483646*Math.random()|0:n)%62|0,i=n/62|0;e=0<i?(c=(n=null==(n=i)?2147483646*Math.random()|0:n)%62|0,(l=0<(i=n/62|0)?(r=Bl.base62Id(i))+(s=9<c?(90<(_=c-10+65)&&(_+=6),String.fromCodePoint(_)):X.string(c).charAt(0)):(r=9<c?(90<(_=c-10+65)&&(_+=6),String.fromCodePoint(_)):X.string(c).charAt(0),X.string(r)))+(r=9<t?(90<(_=t-10+65)&&(_+=6),String.fromCodePoint(_)):X.string(t).charAt(0))):(l=9<t?(90<(_=t-10+65)&&(_+=6),String.fromCodePoint(_)):X.string(t).charAt(0),X.string(l));var l,t=(n=null==(n=null)?2147483646*Math.random()|0:n)%62|0;l=0<(i=n/62|0)?(c=(n=null==(n=i)?2147483646*Math.random()|0:n)%62|0,(r=0<(i=n/62|0)?(s=Bl.base62Id(i))+(h=9<c?(90<(_=c-10+65)&&(_+=6),String.fromCodePoint(_)):X.string(c).charAt(0)):(s=9<c?(90<(_=c-10+65)&&(_+=6),String.fromCodePoint(_)):X.string(c).charAt(0),X.string(s)))+(s=9<t?(90<(_=t-10+65)&&(_+=6),String.fromCodePoint(_)):X.string(t).charAt(0))):(r=9<t?(90<(_=t-10+65)&&(_+=6),String.fromCodePoint(_)):X.string(t).charAt(0),X.string(r));var r,t=(n=null==(n=Bl._nextUniqueInt1)?2147483646*Math.random()|0:n)%62|0;r=0<(i=n/62|0)?(c=(n=null==(n=i)?2147483646*Math.random()|0:n)%62|0,(s=0<(i=n/62|0)?(h=Bl.base62Id(i))+(a=9<c?(90<(_=c-10+65)&&(_+=6),String.fromCodePoint(_)):X.string(c).charAt(0)):(h=9<c?(90<(_=c-10+65)&&(_+=6),String.fromCodePoint(_)):X.string(c).charAt(0),X.string(h)))+(h=9<t?(90<(_=t-10+65)&&(_+=6),String.fromCodePoint(_)):X.string(t).charAt(0))):(s=9<t?(90<(_=t-10+65)&&(_+=6),String.fromCodePoint(_)):X.string(t).charAt(0),X.string(s));var s,t=(n=null==(n=null)?2147483646*Math.random()|0:n)%62|0;s=0<(i=n/62|0)?(c=(n=null==(n=i)?2147483646*Math.random()|0:n)%62|0,(h=0<(i=n/62|0)?(a=Bl.base62Id(i))+(o=9<c?(90<(_=c-10+65)&&(_+=6),String.fromCodePoint(_)):X.string(c).charAt(0)):(a=9<c?(90<(_=c-10+65)&&(_+=6),String.fromCodePoint(_)):X.string(c).charAt(0),X.string(a)))+(a=9<t?(90<(_=t-10+65)&&(_+=6),String.fromCodePoint(_)):X.string(t).charAt(0))):(h=9<t?(90<(_=t-10+65)&&(_+=6),String.fromCodePoint(_)):X.string(t).charAt(0),X.string(h));var h,t=(n=null==(n=Bl._nextUniqueInt2)?2147483646*Math.random()|0:n)%62|0;h=0<(i=n/62|0)?(c=(n=null==(n=i)?2147483646*Math.random()|0:n)%62|0,(a=0<(i=n/62|0)?(o=Bl.base62Id(i))+(d=9<c?(90<(_=c-10+65)&&(_+=6),String.fromCodePoint(_)):X.string(c).charAt(0)):(o=9<c?(90<(_=c-10+65)&&(_+=6),String.fromCodePoint(_)):X.string(c).charAt(0),X.string(o)))+(o=9<t?(90<(_=t-10+65)&&(_+=6),String.fromCodePoint(_)):X.string(t).charAt(0))):(a=9<t?(90<(_=t-10+65)&&(_+=6),String.fromCodePoint(_)):X.string(t).charAt(0),X.string(a));var a,t=(n=null==(n=null)?2147483646*Math.random()|0:n)%62|0;a=0<(i=n/62|0)?(c=(n=null==(n=i)?2147483646*Math.random()|0:n)%62|0,(o=0<(i=n/62|0)?(d=Bl.base62Id(i))+(u=9<c?(90<(_=c-10+65)&&(_+=6),String.fromCodePoint(_)):X.string(c).charAt(0)):(d=9<c?(90<(_=c-10+65)&&(_+=6),String.fromCodePoint(_)):X.string(c).charAt(0),X.string(d)))+(d=9<t?(90<(_=t-10+65)&&(_+=6),String.fromCodePoint(_)):X.string(t).charAt(0))):(o=9<t?(90<(_=t-10+65)&&(_+=6),String.fromCodePoint(_)):X.string(t).charAt(0),X.string(o));var o,c,u,_,d,t=(n=null==(n=Bl._nextUniqueInt3)?2147483646*Math.random()|0:n)%62|0;return d=e+"-"+l+"-"+r+"-"+s+"-"+h+"-"+a+"-"+(o=0<(i=n/62|0)?(c=(n=null==(n=i)?2147483646*Math.random()|0:n)%62|0,(d=0<(i=n/62|0)?(u=Bl.base62Id(i))+(9<c?(90<(_=c-10+65)&&(_+=6),String.fromCodePoint(_)):X.string(c).charAt(0)):(u=9<c?(90<(_=c-10+65)&&(_+=6),String.fromCodePoint(_)):X.string(c).charAt(0),X.string(u)))+(u=9<t?(90<(_=t-10+65)&&(_+=6),String.fromCodePoint(_)):X.string(t).charAt(0))):(d=9<t?(90<(_=t-10+65)&&(_+=6),String.fromCodePoint(_)):X.string(t).charAt(0),X.string(d)))},Bl.base62Id=function(e){var n,t,i=(e=null==e?2147483646*Math.random()|0:e)%62|0,e=e/62|0;return 0<e?(n=Bl.base62Id(e))+(9<i?(90<(t=i-10+65)&&(t+=6),String.fromCodePoint(t)):(null==i?"null":""+i).charAt(0)):(n=9<i?(90<(t=i-10+65)&&(t+=6),String.fromCodePoint(t)):(null==i?"null":""+i).charAt(0),X.string(n))},Bl.encodeChangesetData=function(e){return e.length+":"+e},Bl.decodeChangesetData=function(e){for(var n=new ue,t=null,i=[];;){var l=e.indexOf(":");if(-1==l)break;var r=X.parseInt(se.substr(e,0,l)),s=se.substr(e,l+1,r);i.push(s),e=se.substr(e,l+1+r,null)}for(var h=i.length-1;0<=h;){var a=i[h];if(0==h)for(var o=new Xi(a),t=o.unserialize(),o=o.unserialize().h,c=o,u=Object.keys(o),_=u.length,d=0;d<_;){var b=c[u[d++]],g=b.id;Object.prototype.hasOwnProperty.call(n.h,g)||(n.h[g]=b)}else for(var O=new Xi(a).unserialize(),f=0;f<O.length;){var p=O[f],C=(++f,p.id);Object.prototype.hasOwnProperty.call(n.h,C)||(n.h[C]=p)}--h}return{serialized:t,serializedMap:n}},Bl.equalAny=function(e,n){return e==n},be.$haxeUID|=0,"undefined"!=typeof performance&&"function"==typeof performance.now&&(se.now=performance.now.bind(performance)),E.Math=Math,null==String.fromCodePoint&&(String.fromCodePoint=function(e){return e<65536?String.fromCharCode(e):String.fromCharCode(55232+(e>>10))+String.fromCharCode(56320+(1023&e))}),Object.defineProperty(String.prototype,"__class__",{value:E.String=String,enumerable:!1,writable:!0}),String.__name__="String",(E.Array=Array).__name__="Array",(Date.prototype.__class__=E.Date=Date).__name__="Date";var Ml={},El={},Ll=Number,Vl=Boolean,Rl={},Hl={};F.bind(),Ul.__toStr={}.toString,f.escapeRe=new RegExp("[.*+?^${}()|[\\]\\\\]","g"),l._decomposed1=new k,l._decomposed2=new k,l._tmp=new l,n.pool=new m,o.DEPTH_FACTOR=1e3,o.DEPTH_MARGIN=.01,o.FLAG_NOT_ACTIVE=1,o.FLAG_VISIBLE_WHEN_ACTIVE=2,o.FLAG_TOUCHABLE_WHEN_ACTIVE=4,o.FLAG_IS_HIT_VISUAL=8,o.FLAG_RENDER_WIREFRAME=128,o._degToRad=.017453292519943295,o._matrix=new l,o._point=new n,o._minDepth=0,o._maxDepth=0,p.FLAG_TRANSPARENT=16,p.FLAG_ROTATE_FRAME=32,p._matrix=o._matrix,p._degToRad=.017453292519943295,t.__meta__={fields:{unobservedStatus:{observe:null}}},D.Element=0,D.PCData=1,D.CData=2,D.Comment=3,D.DocType=4,D.ProcessingInstruction=5,D.Document=6,fe.instances=[],fe.all=[],fe.allDirs=[],fe.allByName=new ue,fe.allDirsByName=new ue,fe.customAssetKinds=new ue,fe._instances=[],F.all=["entypo.fnt","entypo.png","RobotoMedium.fnt","white.png","RobotoMedium.png"],F.allDirs=[],F.allByName=((e=new ue).h.white=["white.png"],e.h.entypo=["entypo.fnt","entypo.png"],e.h.RobotoMedium=["RobotoMedium.fnt","RobotoMedium.png"],e),F.allDirsByName=new ue,H.filterIdsByBus=[],H.activeBusFilters=[],H.busFilterReadyCallbacks=[],H.postWorkletSyncCallbacks=[],Q.GAMEPAD_STORAGE_SIZE=32,Z._activeTextureSlot=0,Z._didUpdateCurrentRenderTarget=!1,Z._projectionMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),Z._modelViewMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),Z._modelViewTransform=new l,Z._renderTargetTransform=new l,Z._viewportDensity=1,Z._viewportWidth=0,Z._viewportHeight=0,Z._blackTransparentColor=(e=0)|(255<(e=null==e?255:e)?255:e<0?0:e)<<24,Z._whiteTransparentColor=16777215|(255<(e=null==(e=0)?255:e)?255:e<0?0:e)<<24,Z._drawingInStencilBuffer=!1,me.RE_OPERA=new f("OPR/([0-6].)","g"),me.RE_SAFARI_VERSION=new f("Version/(.*?) ",""),aa.lastResizeTime=-1,aa.lastNewWidth=-1,aa.lastNewHeight=-1,aa.readyToDisplay=!1,aa.resizing=0,aa.containerWidth=0,aa.containerHeight=0,aa.containerPixelRatio=0,aa._displayReady=!1,Se._maxTextureSize=-1,Se._maxTexturesByBatch=-1,ya._matrix=o._matrix,C.ALLOC_STEP=10,C.dynPool10=new C(10),C.dynPool100=new C(100),C.dynPool1000=new C(1e3),C.dynPool10000=new C(1e4),C.dynPool100000=new C(1e5),C.didNotifyLargePool=!1,Ea.__meta__={fields:{unobservedStatus:{observe:null}}},Be.__meta__={fields:{unobservedAtlas:{observe:null},unobservedText:{observe:null}}},Qa.SAMPLE_STEP_SIZE=(La._nextFilterId=1)/((Qa.SPLINE_TABLE_SIZE=11)-1),Qa.NEWTON_ITERATIONS=4,Qa.NEWTON_MIN_SLOPE=.001,Qa.SUBDIVISION_PRECISION=1e-7,Qa.SUBDIVISION_MAX_ITERATIONS=10,Qa.TWO_THIRD=.6666666666666666,Qa.CACHE_SIZE=1e4,Qa.numCachedInstances=0,Le.__meta__={fields:{unobservedBytes:{observe:null}}},b0.__meta__={fields:{unobservedPressed:{observe:null}}},He._nextInternalId=0,e0._nextId=1,e0._nextIndex=1,e0._fieldInfo={name:{type:"String"},id:{type:"String"},index:{type:"Int"}},f0.nextVIndex=1,f0._layoutRequested=!1,f0._layouting=!1,I.NONE=-1,I.WHITE=16777215,I.GRAY=8421504,I.BLACK=0,I.GREEN=32768,I.LIME=65280,I.YELLOW=16776960,I.ORANGE=16753920,I.RED=16711680,I.PURPLE=8388736,I.BLUE=255,I.BROWN=9127187,I.PINK=16761035,I.MAGENTA=16711935,I.CYAN=65535,I.CORNFLOWERBLUE=6591981,I.MEDIUMVIOLETRED=13047173,I.DEEPPINK=16716947,I.PALEVIOLETRED=14381203,I.HOTPINK=16738740,I.LIGHTPINK=16758465,I.DARKRED=9109504,I.FIREBRICK=11674146,I.CRIMSON=14423100,I.INDIANRED=13458524,I.LIGHTCORAL=15761536,I.SALMON=16416882,I.DARKSALMON=15308410,I.LIGHTSALMON=16752762,I.ORANGERED=16729344,I.TOMATO=16737095,I.DARKORANGE=16747520,I.CORAL=16744272,I.DARKKHAKI=12433259,I.GOLD=16766720,I.KHAKI=15787660,I.PEACHPUFF=16767673,I.PALEGOLDENROD=15657130,I.MOCCASIN=16770229,I.PAPAYAWHIP=16773077,I.LEMONCHIFFON=16775885,I.LIGHTYELLOW=16777184,I.SIENNA=10506797,I.CHOCOLATE=13789470,I.PERU=13468991,I.TAN=13808780,I.DARKOLIVEGREEN=5597999,I.OLIVE=8421376,I.TEAL=32896,I.TURQUOISE=4251856,I.NAVY=128,I.INDIGO=4915330,I.ORCHID=14315734,I.LAVENDER=15132410,I.AZURE=15794175,I.IVORY=16777200,I.DIMGREY=6908265,I.SLATEGREY=7372944,I.SNOW=16775930,I.colorLookup=((e=new ue).h.NONE=-1,e.h.WHITE=16777215,e.h.GRAY=8421504,e.h.BLACK=0,e.h.GREEN=32768,e.h.LIME=65280,e.h.YELLOW=16776960,e.h.ORANGE=16753920,e.h.RED=16711680,e.h.PURPLE=8388736,e.h.BLUE=255,e.h.BROWN=9127187,e.h.PINK=16761035,e.h.MAGENTA=16711935,e.h.CYAN=65535,e.h.CORNFLOWERBLUE=6591981,e.h.MEDIUMVIOLETRED=13047173,e.h.DEEPPINK=16716947,e.h.PALEVIOLETRED=14381203,e.h.HOTPINK=16738740,e.h.LIGHTPINK=16758465,e.h.DARKRED=9109504,e.h.FIREBRICK=11674146,e.h.CRIMSON=14423100,e.h.INDIANRED=13458524,e.h.LIGHTCORAL=15761536,e.h.SALMON=16416882,e.h.DARKSALMON=15308410,e.h.LIGHTSALMON=16752762,e.h.ORANGERED=16729344,e.h.TOMATO=16737095,e.h.DARKORANGE=16747520,e.h.CORAL=16744272,e.h.DARKKHAKI=12433259,e.h.GOLD=16766720,e.h.KHAKI=15787660,e.h.PEACHPUFF=16767673,e.h.PALEGOLDENROD=15657130,e.h.MOCCASIN=16770229,e.h.PAPAYAWHIP=16773077,e.h.LEMONCHIFFON=16775885,e.h.LIGHTYELLOW=16777184,e.h.SIENNA=10506797,e.h.CHOCOLATE=13789470,e.h.PERU=13468991,e.h.TAN=13808780,e.h.DARKOLIVEGREEN=5597999,e.h.OLIVE=8421376,e.h.TEAL=32896,e.h.TURQUOISE=4251856,e.h.NAVY=128,e.h.INDIGO=4915330,e.h.ORCHID=14315734,e.h.LAVENDER=15132410,e.h.AZURE=15794175,e.h.IVORY=16777200,e.h.DIMGREY=6908265,e.h.SLATEGREY=7372944,e.h.SNOW=16775930,e),I._hsluvTuple=[0,0,0],I._hsluvResult=[0,0,0],I._hsluvCacheMap=new ze,I._hsluvCacheValues=[],Ye.NO_SIZE=-2147483640,Ye._pool=new m,nn.__meta__={fields:{unobservedDatabase:{observe:null}}},I0._emptyArray=[],K0._point=new n,sn.fieldInfoMap=new ue,hn.metaMap=new ue,hn.metaMapRecursive=new ue,on.__meta__={fields:{unobservedRenderTexture:{observe:null}}},on._matrix=o._matrix,cn.__meta__={fields:{unobservedFont:{observe:null}}},V0.basicTypes=((e=new ue).h.Bool=!0,e.h.Int=!0,e.h.Float=!0,e.h.String=!0,e.h["ceramic.Color"]=!0,e.h["ceramic.ScriptContent"]=!0,e),V0.cachedFragmentData=new ue,V0._trackResult=new U0,V0._keyframeResult=new U0,V0._usedKeyframes=[],un.__meta__={fields:{unobservedFragments:{observe:null}}},dn._lastDecodeIncomplete=!15,bn.__meta__={fields:{unobservedTexture:{observe:null}}},fn.GAMEPAD_STORAGE_SIZE=32,An.NO_VALUE=0,An.NULL_VALUE=1,An.RESERVED_GAP=2,Mn.instances=[],a.UNKNOWN=0,a.ENTER=13,a.ESCAPE=27,a.BACKSPACE=8,a.TAB=9,a.SPACE=32,a.EXCLAIM=33,a.QUOTEDBL=34,a.HASH=35,a.PERCENT=37,a.DOLLAR=36,a.AMPERSAND=38,a.QUOTE=39,a.LEFTPAREN=40,a.RIGHTPAREN=41,a.ASTERISK=42,a.PLUS=43,a.COMMA=44,a.MINUS=45,a.PERIOD=46,a.SLASH=47,a.KEY_0=48,a.KEY_1=49,a.KEY_2=50,a.KEY_3=51,a.KEY_4=52,a.KEY_5=53,a.KEY_6=54,a.KEY_7=55,a.KEY_8=56,a.KEY_9=57,a.COLON=58,a.SEMICOLON=59,a.LESS=60,a.EQUALS=61,a.GREATER=62,a.QUESTION=63,a.AT=64,a.LEFTBRACKET=91,a.BACKSLASH=92,a.RIGHTBRACKET=93,a.CARET=94,a.UNDERSCORE=95,a.BACKQUOTE=96,a.KEY_A=97,a.KEY_B=98,a.KEY_C=99,a.KEY_D=100,a.KEY_E=101,a.KEY_F=102,a.KEY_G=103,a.KEY_H=104,a.KEY_I=105,a.KEY_J=106,a.KEY_K=107,a.KEY_L=108,a.KEY_M=109,a.KEY_N=110,a.KEY_O=111,a.KEY_P=112,a.KEY_Q=113,a.KEY_R=114,a.KEY_S=115,a.KEY_T=116,a.KEY_U=117,a.KEY_V=118,a.KEY_W=119,a.KEY_X=120,a.KEY_Y=121,a.KEY_Z=122,a.CAPSLOCK=1073741881,a.F1=1073741882,a.F2=1073741883,a.F3=1073741884,a.F4=1073741885,a.F5=1073741886,a.F6=1073741887,a.F7=1073741888,a.F8=1073741889,a.F9=1073741890,a.F10=1073741891,a.F11=1073741892,a.F12=1073741893,a.PRINTSCREEN=1073741894,a.SCROLLLOCK=1073741895,a.PAUSE=1073741896,a.INSERT=1073741897,a.HOME=1073741898,a.PAGEUP=1073741899,a.DELETE=127,a.END=1073741901,a.PAGEDOWN=1073741902,a.RIGHT=1073741903,a.LEFT=1073741904,a.DOWN=1073741905,a.UP=1073741906,a.NUMLOCKCLEAR=1073741907,a.KP_DIVIDE=1073741908,a.KP_MULTIPLY=1073741909,a.KP_MINUS=1073741910,a.KP_PLUS=1073741911,a.KP_ENTER=1073741912,a.KP_1=1073741913,a.KP_2=1073741914,a.KP_3=1073741915,a.KP_4=1073741916,a.KP_5=1073741917,a.KP_6=1073741918,a.KP_7=1073741919,a.KP_8=1073741920,a.KP_9=1073741921,a.KP_0=1073741922,a.KP_PERIOD=1073741923,a.APPLICATION=1073741925,a.POWER=1073741926,a.KP_EQUALS=1073741927,a.F13=1073741928,a.F14=1073741929,a.F15=1073741930,a.F16=1073741931,a.F17=1073741932,a.F18=1073741933,a.F19=1073741934,a.F20=1073741935,a.F21=1073741936,a.F22=1073741937,a.F23=1073741938,a.F24=1073741939,a.EXECUTE=1073741940,a.HELP=1073741941,a.MENU=1073741942,a.SELECT=1073741943,a.STOP=1073741944,a.AGAIN=1073741945,a.UNDO=1073741946,a.CUT=1073741947,a.COPY=1073741948,a.PASTE=1073741949,a.FIND=1073741950,a.MUTE=1073741951,a.VOLUMEUP=1073741952,a.VOLUMEDOWN=1073741953,a.KP_COMMA=1073741957,a.KP_EQUALSAS400=1073741958,a.ALTERASE=1073741977,a.SYSREQ=1073741978,a.CANCEL=1073741979,a.CLEAR=1073741980,a.PRIOR=1073741981,a.RETURN2=1073741982,a.SEPARATOR=1073741983,a.OUT=1073741984,a.OPER=1073741985,a.CLEARAGAIN=1073741986,a.CRSEL=1073741987,a.EXSEL=1073741988,a.KP_00=1073742e3,a.KP_000=1073742001,a.THOUSANDSSEPARATOR=1073742002,a.DECIMALSEPARATOR=1073742003,a.CURRENCYUNIT=1073742004,a.CURRENCYSUBUNIT=1073742005,a.KP_LEFTPAREN=1073742006,a.KP_RIGHTPAREN=1073742007,a.KP_LEFTBRACE=1073742008,a.KP_RIGHTBRACE=1073742009,a.KP_TAB=1073742010,a.KP_BACKSPACE=1073742011,a.KP_A=1073742012,a.KP_B=1073742013,a.KP_C=1073742014,a.KP_D=1073742015,a.KP_E=1073742016,a.KP_F=1073742017,a.KP_XOR=1073742018,a.KP_POWER=1073742019,a.KP_PERCENT=1073742020,a.KP_LESS=1073742021,a.KP_GREATER=1073742022,a.KP_AMPERSAND=1073742023,a.KP_DBLAMPERSAND=1073742024,a.KP_VERTICALBAR=1073742025,a.KP_DBLVERTICALBAR=1073742026,a.KP_COLON=1073742027,a.KP_HASH=1073742028,a.KP_SPACE=1073742029,a.KP_AT=1073742030,a.KP_EXCLAM=1073742031,a.KP_MEMSTORE=1073742032,a.KP_MEMRECALL=1073742033,a.KP_MEMCLEAR=1073742034,a.KP_MEMADD=1073742035,a.KP_MEMSUBTRACT=1073742036,a.KP_MEMMULTIPLY=1073742037,a.KP_MEMDIVIDE=1073742038,a.KP_PLUSMINUS=1073742039,a.KP_CLEAR=1073742040,a.KP_CLEARENTRY=1073742041,a.KP_BINARY=1073742042,a.KP_OCTAL=1073742043,a.KP_DECIMAL=1073742044,a.KP_HEXADECIMAL=1073742045,a.LCTRL=1073742048,a.LSHIFT=1073742049,a.LALT=1073742050,a.LMETA=1073742051,a.RCTRL=1073742052,a.RSHIFT=1073742053,a.RALT=1073742054,a.RMETA=1073742055,a.MODE=1073742081,a.AUDIONEXT=1073742082,a.AUDIOPREV=1073742083,a.AUDIOSTOP=1073742084,a.AUDIOPLAY=1073742085,a.AUDIOMUTE=1073742086,a.MEDIASELECT=1073742087,a.WWW=1073742088,a.MAIL=1073742089,a.CALCULATOR=1073742090,a.COMPUTER=1073742091,a.AC_SEARCH=1073742092,a.AC_HOME=1073742093,a.AC_BACK=1073742094,a.AC_FORWARD=1073742095,a.AC_STOP=1073742096,a.AC_REFRESH=1073742097,a.AC_BOOKMARKS=1073742098,a.BRIGHTNESSDOWN=1073742099,a.BRIGHTNESSUP=1073742100,a.DISPLAYSWITCH=1073742101,a.KBDILLUMTOGGLE=1073742102,a.KBDILLUMDOWN=1073742103,a.KBDILLUMUP=1073742104,a.EJECT=1073742105,a.SLEEP=1073742106,Eb.NUMBER_NONE=-9999999999,Eb.MATH_TWO_PI=6.28318530718,Eb.MATH_HALF_PI=1.57079632679,Eb.MATH_PI_AND_HALF=4.71238898038,Eb.miterUtils=new Db,Fb._stroke=new Eb,Vn._hasElectronRunner=!1,Vn.didInitOnce=!1,Nn.exec__execDidLogError=!1,Nn._isWindowsValue=0,Nn._execDidLogError=!1,zn._nextIndex=1,_.MASK=1073741824,_.UNKNOWN=0,_.KEY_A=4,_.KEY_B=5,_.KEY_C=6,_.KEY_D=7,_.KEY_E=8,_.KEY_F=9,_.KEY_G=10,_.KEY_H=11,_.KEY_I=12,_.KEY_J=13,_.KEY_K=14,_.KEY_L=15,_.KEY_M=16,_.KEY_N=17,_.KEY_O=18,_.KEY_P=19,_.KEY_Q=20,_.KEY_R=21,_.KEY_S=22,_.KEY_T=23,_.KEY_U=24,_.KEY_V=25,_.KEY_W=26,_.KEY_X=27,_.KEY_Y=28,_.KEY_Z=29,_.KEY_1=30,_.KEY_2=31,_.KEY_3=32,_.KEY_4=33,_.KEY_5=34,_.KEY_6=35,_.KEY_7=36,_.KEY_8=37,_.KEY_9=38,_.KEY_0=39,_.ENTER=40,_.ESCAPE=41,_.BACKSPACE=42,_.TAB=43,_.SPACE=44,_.MINUS=45,_.EQUALS=46,_.LEFTBRACKET=47,_.RIGHTBRACKET=48,_.BACKSLASH=49,_.NONUSHASH=50,_.SEMICOLON=51,_.APOSTROPHE=52,_.GRAVE=53,_.COMMA=54,_.PERIOD=55,_.SLASH=56,_.CAPSLOCK=57,_.F1=58,_.F2=59,_.F3=60,_.F4=61,_.F5=62,_.F6=63,_.F7=64,_.F8=65,_.F9=66,_.F10=67,_.F11=68,_.F12=69,_.PRINTSCREEN=70,_.SCROLLLOCK=71,_.PAUSE=72,_.INSERT=73,_.HOME=74,_.PAGEUP=75,_.DELETE=76,_.END=77,_.PAGEDOWN=78,_.RIGHT=79,_.LEFT=80,_.DOWN=81,_.UP=82,_.NUMLOCKCLEAR=83,_.KP_DIVIDE=84,_.KP_MULTIPLY=85,_.KP_MINUS=86,_.KP_PLUS=87,_.KP_ENTER=88,_.KP_1=89,_.KP_2=90,_.KP_3=91,_.KP_4=92,_.KP_5=93,_.KP_6=94,_.KP_7=95,_.KP_8=96,_.KP_9=97,_.KP_0=98,_.KP_PERIOD=99,_.NONUSBACKSLASH=100,_.APPLICATION=101,_.POWER=102,_.KP_EQUALS=103,_.F13=104,_.F14=105,_.F15=106,_.F16=107,_.F17=108,_.F18=109,_.F19=110,_.F20=111,_.F21=112,_.F22=113,_.F23=114,_.F24=115,_.EXECUTE=116,_.HELP=117,_.MENU=118,_.SELECT=119,_.STOP=120,_.AGAIN=121,_.UNDO=122,_.CUT=123,_.COPY=124,_.PASTE=125,_.FIND=126,_.MUTE=127,_.VOLUMEUP=128,_.VOLUMEDOWN=129,_.KP_COMMA=133,_.KP_EQUALSAS400=134,_.INTERNATIONAL1=135,_.INTERNATIONAL2=136,_.INTERNATIONAL3=137,_.INTERNATIONAL4=138,_.INTERNATIONAL5=139,_.INTERNATIONAL6=140,_.INTERNATIONAL7=141,_.INTERNATIONAL8=142,_.INTERNATIONAL9=143,_.LANG1=144,_.LANG2=145,_.LANG3=146,_.LANG4=147,_.LANG5=148,_.LANG6=149,_.LANG7=150,_.LANG8=151,_.LANG9=152,_.ALTERASE=153,_.SYSREQ=154,_.CANCEL=155,_.CLEAR=156,_.PRIOR=157,_.RETURN2=158,_.SEPARATOR=159,_.OUT=160,_.OPER=161,_.CLEARAGAIN=162,_.CRSEL=163,_.EXSEL=164,_.KP_00=176,_.KP_000=177,_.THOUSANDSSEPARATOR=178,_.DECIMALSEPARATOR=179,_.CURRENCYUNIT=180,_.CURRENCYSUBUNIT=181,_.KP_LEFTPAREN=182,_.KP_RIGHTPAREN=183,_.KP_LEFTBRACE=184,_.KP_RIGHTBRACE=185,_.KP_TAB=186,_.KP_BACKSPACE=187,_.KP_A=188,_.KP_B=189,_.KP_C=190,_.KP_D=191,_.KP_E=192,_.KP_F=193,_.KP_XOR=194,_.KP_POWER=195,_.KP_PERCENT=196,_.KP_LESS=197,_.KP_GREATER=198,_.KP_AMPERSAND=199,_.KP_DBLAMPERSAND=200,_.KP_VERTICALBAR=201,_.KP_DBLVERTICALBAR=202,_.KP_COLON=203,_.KP_HASH=204,_.KP_SPACE=205,_.KP_AT=206,_.KP_EXCLAM=207,_.KP_MEMSTORE=208,_.KP_MEMRECALL=209,_.KP_MEMCLEAR=210,_.KP_MEMADD=211,_.KP_MEMSUBTRACT=212,_.KP_MEMMULTIPLY=213,_.KP_MEMDIVIDE=214,_.KP_PLUSMINUS=215,_.KP_CLEAR=216,_.KP_CLEARENTRY=217,_.KP_BINARY=218,_.KP_OCTAL=219,_.KP_DECIMAL=220,_.KP_HEXADECIMAL=221,_.LCTRL=224,_.LSHIFT=225,_.LALT=226,_.LMETA=227,_.RCTRL=228,_.RSHIFT=229,_.RALT=230,_.RMETA=231,_.MODE=257,_.AUDIONEXT=258,_.AUDIOPREV=259,_.AUDIOSTOP=260,_.AUDIOPLAY=261,_.AUDIOMUTE=262,_.MEDIASELECT=263,_.WWW=264,_.MAIL=265,_.CALCULATOR=266,_.COMPUTER=267,_.AC_SEARCH=268,_.AC_HOME=269,_.AC_BACK=270,_.AC_FORWARD=271,_.AC_STOP=272,_.AC_REFRESH=273,_.AC_BOOKMARKS=274,_.BRIGHTNESSDOWN=275,_.BRIGHTNESSUP=276,_.DISPLAYSWITCH=277,_.KBDILLUMTOGGLE=278,_.KBDILLUMDOWN=279,_.KBDILLUMUP=280,_.EJECT=281,_.SLEEP=282,_.APP1=283,_.APP2=284,_.scanCodeNames=[null,null,null,null,"A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","1","2","3","4","5","6","7","8","9","0","Enter","Escape","Backspace","Tab","Space","-","=","[","]","\\","#",";","'","`",",",".","/","CapsLock","F1","F2","F3","F4","F5","F6","F7","F8","F9","F10","F11","F12","PrintScreen","ScrollLock","Pause","Insert","Home","PageUp","Delete","End","PageDown","Right","Left","Down","Up","Numlock","Keypad /","Keypad *","Keypad -","Keypad +","Keypad Enter","Keypad 1","Keypad 2","Keypad 3","Keypad 4","Keypad 5","Keypad 6","Keypad 7","Keypad 8","Keypad 9","Keypad 0","Keypad .",null,"Application","Power","Keypad =","F13","F14","F15","F16","F17","F18","F19","F20","F21","F22","F23","F24","Execute","Help","Menu","Select","Stop","Again","Undo","Cut","Copy","Paste","Find","Mute","VolumeUp","VolumeDown",null,null,null,"Keypad ,","Keypad = (AS400)",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"AltErase","SysReq","Cancel","Clear","Prior","Enter","Separator","Out","Oper","Clear / Again","CrSel","ExSel",null,null,null,null,null,null,null,null,null,null,null,"Keypad 00","Keypad 000","ThousandsSeparator","DecimalSeparator","CurrencyUnit","CurrencySubUnit","Keypad (","Keypad )","Keypad {","Keypad }","Keypad Tab","Keypad Backspace","Keypad A","Keypad B","Keypad C","Keypad D","Keypad E","Keypad F","Keypad XOR","Keypad ^","Keypad %","Keypad <","Keypad >","Keypad &","Keypad &&","Keypad |","Keypad ||","Keypad :","Keypad #","Keypad Space","Keypad @","Keypad !","Keypad MemStore","Keypad MemRecall","Keypad MemClear","Keypad MemAdd","Keypad MemSubtract","Keypad MemMultiply","Keypad MemDivide","Keypad +/-","Keypad Clear","Keypad ClearEntry","Keypad Binary","Keypad Octal","Keypad Decimal","Keypad Hexadecimal",null,null,"Left Ctrl","Left Shift","Left Alt","Left Meta","Right Ctrl","Right Shift","Right Alt","Right Meta",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"ModeSwitch","AudioNext","AudioPrev","AudioStop","AudioPlay","AudioMute","MediaSelect","WWW","Mail","Calculator","Computer","AC Search","AC Home","AC Back","AC Forward","AC Stop","AC Refresh","AC Bookmarks","BrightnessDown","BrightnessUp","DisplaySwitch","KBDIllumToggle","KBDIllumDown","KBDIllumUp","Eject","Sleep"],jn.NONE=0,jn.PRELOAD=1,jn.LOAD=2,jn.CREATE=3,jn.FADE_IN=4,jn.READY=5,jn.FADE_OUT=6,jn.DISABLED=7,Qn.lazyShared=!0,qn.__meta__={fields:{unobservedFocusedVisual:{observe:null},unobservedTexturesDensity:{observe:null}}},et.__meta__={fields:{unobservedStatus:{observe:null}}},et._point=new n(0,0),et.threshold=4,tt.__meta__={fields:{unobservedContainer:{observe:null},unobservedAllowSelectingFromPointer:{observe:null},unobservedShowCursor:{observe:null},unobservedSelectionStart:{observe:null},unobservedSelectionEnd:{observe:null},unobservedInvertedSelection:{observe:null},unobservedPointerIsDown:{observe:null}}},tt._point=new n,it.__meta__={fields:{unobservedTargetWidth:{observe:null},unobservedTargetHeight:{observe:null},unobservedWindowWidth:{observe:null},unobservedWindowHeight:{observe:null},unobservedTargetDensity:{observe:null},unobservedBackground:{observe:null},unobservedScaling:{observe:null},unobservedTitle:{observe:null},unobservedFullscreen:{observe:null},unobservedTargetFps:{observe:null},unobservedMaxDelta:{observe:null},unobservedOverrideDelta:{observe:null},unobservedPreventDefaultMouseWheel:{observe:null},unobservedPreventDefaultTouches:{observe:null}}},lt.__meta__={fields:{unobservedShader:{observe:null}}},st.RE_SLUG_REMOVE_CHARS=new f("[$*+~.()'\"!\\\\:@\\?]","g"),st.DEFAULT_OPTIONS=new k1(null,null,null),st.charMap=((e=new qi).h[36]="dollar",e.h[37]="percent",e.h[38]="and",e.h[60]="less",e.h[62]="greater",e.h[124]="or",e.h[162]="cent",e.h[163]="pound",e.h[164]="currency",e.h[165]="yen",e.h[169]="(c)",e.h[170]="a",e.h[174]="(r)",e.h[186]="o",e.h[192]="A",e.h[193]="A",e.h[194]="A",e.h[195]="A",e.h[196]="A",e.h[197]="A",e.h[198]="AE",e.h[199]="C",e.h[200]="E",e.h[201]="E",e.h[202]="E",e.h[203]="E",e.h[204]="I",e.h[205]="I",e.h[206]="I",e.h[207]="I",e.h[208]="D",e.h[209]="N",e.h[210]="O",e.h[211]="O",e.h[212]="O",e.h[213]="O",e.h[214]="O",e.h[216]="O",e.h[217]="U",e.h[218]="U",e.h[219]="U",e.h[220]="U",e.h[221]="Y",e.h[222]="TH",e.h[223]="ss",e.h[224]="a",e.h[225]="a",e.h[226]="a",e.h[227]="a",e.h[228]="a",e.h[229]="a",e.h[230]="ae",e.h[231]="c",e.h[232]="e",e.h[233]="e",e.h[234]="e",e.h[235]="e",e.h[236]="i",e.h[237]="i",e.h[238]="i",e.h[239]="i",e.h[240]="d",e.h[241]="n",e.h[242]="o",e.h[243]="o",e.h[244]="o",e.h[245]="o",e.h[246]="o",e.h[248]="o",e.h[249]="u",e.h[250]="u",e.h[251]="u",e.h[252]="u",e.h[253]="y",e.h[254]="th",e.h[255]="y",e.h[256]="A",e.h[257]="a",e.h[258]="A",e.h[259]="a",e.h[260]="A",e.h[261]="a",e.h[262]="C",e.h[263]="c",e.h[268]="C",e.h[269]="c",e.h[270]="D",e.h[271]="d",e.h[272]="DJ",e.h[273]="dj",e.h[274]="E",e.h[275]="e",e.h[278]="E",e.h[279]="e",e.h[280]="e",e.h[281]="e",e.h[282]="E",e.h[283]="e",e.h[286]="G",e.h[287]="g",e.h[290]="G",e.h[291]="g",e.h[296]="I",e.h[297]="i",e.h[298]="i",e.h[299]="i",e.h[302]="I",e.h[303]="i",e.h[304]="I",e.h[305]="i",e.h[310]="k",e.h[311]="k",e.h[315]="L",e.h[316]="l",e.h[317]="L",e.h[318]="l",e.h[321]="L",e.h[322]="l",e.h[323]="N",e.h[324]="n",e.h[325]="N",e.h[326]="n",e.h[327]="N",e.h[328]="n",e.h[336]="O",e.h[337]="o",e.h[338]="OE",e.h[339]="oe",e.h[340]="R",e.h[341]="r",e.h[344]="R",e.h[345]="r",e.h[346]="S",e.h[347]="s",e.h[350]="S",e.h[351]="s",e.h[352]="S",e.h[353]="s",e.h[354]="T",e.h[355]="t",e.h[356]="T",e.h[357]="t",e.h[360]="U",e.h[361]="u",e.h[362]="u",e.h[363]="u",e.h[366]="U",e.h[367]="u",e.h[368]="U",e.h[369]="u",e.h[370]="U",e.h[371]="u",e.h[377]="Z",e.h[378]="z",e.h[379]="Z",e.h[380]="z",e.h[381]="Z",e.h[382]="z",e.h[402]="f",e.h[416]="O",e.h[417]="o",e.h[431]="U",e.h[432]="u",e.h[456]="LJ",e.h[457]="lj",e.h[459]="NJ",e.h[460]="nj",e.h[536]="S",e.h[537]="s",e.h[538]="T",e.h[539]="t",e.h[730]="o",e.h[902]="A",e.h[904]="E",e.h[905]="H",e.h[906]="I",e.h[908]="O",e.h[910]="Y",e.h[911]="W",e.h[912]="i",e.h[913]="A",e.h[914]="B",e.h[915]="G",e.h[916]="D",e.h[917]="E",e.h[918]="Z",e.h[919]="H",e.h[920]="8",e.h[921]="I",e.h[922]="K",e.h[923]="L",e.h[924]="M",e.h[925]="N",e.h[926]="3",e.h[927]="O",e.h[928]="P",e.h[929]="R",e.h[931]="S",e.h[932]="T",e.h[933]="Y",e.h[934]="F",e.h[935]="X",e.h[936]="PS",e.h[937]="W",e.h[938]="I",e.h[939]="Y",e.h[940]="a",e.h[941]="e",e.h[942]="h",e.h[943]="i",e.h[944]="y",e.h[945]="a",e.h[946]="b",e.h[947]="g",e.h[948]="d",e.h[949]="e",e.h[950]="z",e.h[951]="h",e.h[952]="8",e.h[953]="i",e.h[954]="k",e.h[955]="l",e.h[956]="m",e.h[957]="n",e.h[958]="3",e.h[959]="o",e.h[960]="p",e.h[961]="r",e.h[962]="s",e.h[963]="s",e.h[964]="t",e.h[965]="y",e.h[966]="f",e.h[967]="x",e.h[968]="ps",e.h[969]="w",e.h[970]="i",e.h[971]="y",e.h[972]="o",e.h[973]="y",e.h[974]="w",e.h[1025]="Yo",e.h[1026]="DJ",e.h[1028]="Ye",e.h[1030]="I",e.h[1031]="Yi",e.h[1032]="J",e.h[1033]="LJ",e.h[1034]="NJ",e.h[1035]="C",e.h[1039]="DZ",e.h[1040]="A",e.h[1041]="B",e.h[1042]="V",e.h[1043]="G",e.h[1044]="D",e.h[1045]="E",e.h[1046]="Zh",e.h[1047]="Z",e.h[1048]="I",e.h[1049]="J",e.h[1050]="K",e.h[1051]="L",e.h[1052]="M",e.h[1053]="N",e.h[1054]="O",e.h[1055]="P",e.h[1056]="R",e.h[1057]="S",e.h[1058]="T",e.h[1059]="U",e.h[1060]="F",e.h[1061]="H",e.h[1062]="C",e.h[1063]="Ch",e.h[1064]="Sh",e.h[1065]="Sh",e.h[1066]="U",e.h[1067]="Y",e.h[1068]="",e.h[1069]="E",e.h[1070]="Yu",e.h[1071]="Ya",e.h[1072]="a",e.h[1073]="b",e.h[1074]="v",e.h[1075]="g",e.h[1076]="d",e.h[1077]="e",e.h[1078]="zh",e.h[1079]="z",e.h[1080]="i",e.h[1081]="j",e.h[1082]="k",e.h[1083]="l",e.h[1084]="m",e.h[1085]="n",e.h[1086]="o",e.h[1087]="p",e.h[1088]="r",e.h[1089]="s",e.h[1090]="t",e.h[1091]="u",e.h[1092]="f",e.h[1093]="h",e.h[1094]="c",e.h[1095]="ch",e.h[1096]="sh",e.h[1097]="sh",e.h[1098]="u",e.h[1099]="y",e.h[1100]="",e.h[1101]="e",e.h[1102]="yu",e.h[1103]="ya",e.h[1105]="yo",e.h[1106]="dj",e.h[1108]="ye",e.h[1110]="i",e.h[1111]="yi",e.h[1112]="j",e.h[1113]="lj",e.h[1114]="nj",e.h[1115]="c",e.h[1119]="dz",e.h[1168]="G",e.h[1169]="g",e.h[3647]="baht",e.h[4304]="a",e.h[4305]="b",e.h[4306]="g",e.h[4307]="d",e.h[4308]="e",e.h[4309]="v",e.h[4310]="z",e.h[4311]="t",e.h[4312]="i",e.h[4313]="k",e.h[4314]="l",e.h[4315]="m",e.h[4316]="n",e.h[4317]="o",e.h[4318]="p",e.h[4319]="zh",e.h[4320]="r",e.h[4321]="s",e.h[4322]="t",e.h[4323]="u",e.h[4324]="f",e.h[4325]="k",e.h[4326]="gh",e.h[4327]="q",e.h[4328]="sh",e.h[4329]="ch",e.h[4330]="ts",e.h[4331]="dz",e.h[4332]="ts",e.h[4333]="ch",e.h[4334]="kh",e.h[4335]="j",e.h[4336]="h",e.h[7838]="SS",e.h[7840]="A",e.h[7841]="a",e.h[7842]="A",e.h[7843]="a",e.h[7844]="A",e.h[7845]="a",e.h[7846]="A",e.h[7847]="a",e.h[7848]="A",e.h[7849]="a",e.h[7850]="A",e.h[7851]="a",e.h[7852]="A",e.h[7853]="a",e.h[7854]="A",e.h[7855]="a",e.h[7856]="A",e.h[7857]="a",e.h[7858]="A",e.h[7859]="a",e.h[7860]="A",e.h[7861]="a",e.h[7862]="A",e.h[7863]="a",e.h[7864]="E",e.h[7865]="e",e.h[7866]="E",e.h[7867]="e",e.h[7868]="E",e.h[7869]="e",e.h[7870]="E",e.h[7871]="e",e.h[7872]="E",e.h[7873]="e",e.h[7874]="E",e.h[7875]="e",e.h[7876]="E",e.h[7877]="e",e.h[7878]="E",e.h[7879]="e",e.h[7880]="I",e.h[7881]="i",e.h[7882]="I",e.h[7883]="i",e.h[7884]="O",e.h[7885]="o",e.h[7886]="O",e.h[7887]="o",e.h[7888]="O",e.h[7889]="o",e.h[7890]="O",e.h[7891]="o",e.h[7892]="O",e.h[7893]="o",e.h[7894]="O",e.h[7895]="o",e.h[7896]="O",e.h[7897]="o",e.h[7898]="O",e.h[7899]="o",e.h[7900]="O",e.h[7901]="o",e.h[7902]="O",e.h[7903]="o",e.h[7904]="O",e.h[7905]="o",e.h[7906]="O",e.h[7907]="o",e.h[7908]="U",e.h[7909]="u",e.h[7910]="U",e.h[7911]="u",e.h[7912]="U",e.h[7913]="u",e.h[7914]="U",e.h[7915]="u",e.h[7916]="U",e.h[7917]="u",e.h[7918]="U",e.h[7919]="u",e.h[7920]="U",e.h[7921]="u",e.h[7922]="Y",e.h[7923]="y",e.h[7924]="Y",e.h[7925]="y",e.h[7926]="Y",e.h[7927]="y",e.h[7928]="Y",e.h[7929]="y",e.h[8216]="'",e.h[8217]="'",e.h[8220]='"',e.h[8221]='"',e.h[8224]="+",e.h[8226]="*",e.h[8230]="...",e.h[8352]="ecu",e.h[8354]="cruzeiro",e.h[8355]="french franc",e.h[8356]="lira",e.h[8357]="mill",e.h[8358]="naira",e.h[8359]="peseta",e.h[8360]="rupee",e.h[8361]="won",e.h[8362]="new shequel",e.h[8363]="dong",e.h[8364]="euro",e.h[8365]="kip",e.h[8366]="tugrik",e.h[8367]="drachma",e.h[8368]="penny",e.h[8369]="peso",e.h[8370]="guarani",e.h[8371]="austral",e.h[8372]="hryvnia",e.h[8373]="cedi",e.h[8377]="indian rupee",e.h[8381]="russian ruble",e.h[8383]="bitcoin",e.h[8480]="sm",e.h[8482]="tm",e.h[8706]="d",e.h[8710]="delta",e.h[8721]="sum",e.h[8734]="infinity",e.h[9829]="love",e.h[20803]="yuan",e.h[20870]="yen",e.h[65020]="rial",e),st.safe=new f("[^\\w\\s$*_+~.()'\"!\\-:@]","g"),ot.__meta__={fields:{unobservedSound:{observe:null}}},dt.__meta__={fields:{unobservedText:{observe:null}}},y1.MIN_TEXTURE_SIZE=32,y1.MAX_TEXTURE_SIZE=2048,ft.__meta__={fields:{unobservedName:{observe:null},unobservedWidth:{observe:null},unobservedHeight:{observe:null},unobservedFilter:{observe:null},unobservedTexture:{observe:null}}},Dt.callbacks=[],Dt.next=999999999,Dt.now=0,Dt.startTimestamp=(new Date).getTime()/1e3,bc.availableTransforms=[],It.CONCAVE=-1,It.CONVEX=1,J._tweens=[],J._iteratedTweens=[],d.k=0,Pt.isAndroid_result=-1,Pt.isIos_result=-1,Pt.RE_ASCII_CHAR=new f("^[a-zA-Z0-9]$",""),Pt._nextUniqueIntCursor=0,Pt._nextUniqueInt0=2147483646*Math.random()|0,Pt._nextUniqueInt1=1e-4*(new Date).getTime()|0,Pt._nextUniqueInt2=2147483646*Math.random()|0,Pt._nextUniqueInt3=2147483646*Math.random()|0,Pt.RE_MODULE_AT=new f("^\\s*(?:at\\s*)?([^\\s]+\\.js)(?:\\s*:\\s*([0-9]+)(?:\\s*:\\s*([0-9]+))?)?\\s*$",""),Bt.lazyShared=!0,mc._currentTransform=new l,mc._targetTransform=new l,mc._identityTransform=new l,Lt.didTryRequireChokidar=!1,Wt.immediateCallbacks=[],Wt.immediateCallbacksCapacity=0,Wt.immediateCallbacksLen=0,b.UNKNOWN=0,b.ENTER=13,b.ESCAPE=27,b.BACKSPACE=8,b.TAB=9,b.SPACE=32,b.EXCLAIM=33,b.QUOTEDBL=34,b.HASH=35,b.PERCENT=37,b.DOLLAR=36,b.AMPERSAND=38,b.QUOTE=39,b.LEFTPAREN=40,b.RIGHTPAREN=41,b.ASTERISK=42,b.PLUS=43,b.COMMA=44,b.MINUS=45,b.PERIOD=46,b.SLASH=47,b.KEY_0=48,b.KEY_1=49,b.KEY_2=50,b.KEY_3=51,b.KEY_4=52,b.KEY_5=53,b.KEY_6=54,b.KEY_7=55,b.KEY_8=56,b.KEY_9=57,b.COLON=58,b.SEMICOLON=59,b.LESS=60,b.EQUALS=61,b.GREATER=62,b.QUESTION=63,b.AT=64,b.LEFTBRACKET=91,b.BACKSLASH=92,b.RIGHTBRACKET=93,b.CARET=94,b.UNDERSCORE=95,b.BACKQUOTE=96,b.KEY_A=97,b.KEY_B=98,b.KEY_C=99,b.KEY_D=100,b.KEY_E=101,b.KEY_F=102,b.KEY_G=103,b.KEY_H=104,b.KEY_I=105,b.KEY_J=106,b.KEY_K=107,b.KEY_L=108,b.KEY_M=109,b.KEY_N=110,b.KEY_O=111,b.KEY_P=112,b.KEY_Q=113,b.KEY_R=114,b.KEY_S=115,b.KEY_T=116,b.KEY_U=117,b.KEY_V=118,b.KEY_W=119,b.KEY_X=120,b.KEY_Y=121,b.KEY_Z=122,b.CAPSLOCK=1073741881,b.F1=1073741882,b.F2=1073741883,b.F3=1073741884,b.F4=1073741885,b.F5=1073741886,b.F6=1073741887,b.F7=1073741888,b.F8=1073741889,b.F9=1073741890,b.F10=1073741891,b.F11=1073741892,b.F12=1073741893,b.PRINTSCREEN=1073741894,b.SCROLLLOCK=1073741895,b.PAUSE=1073741896,b.INSERT=1073741897,b.HOME=1073741898,b.PAGEUP=1073741899,b.DELETE=127,b.END=1073741901,b.PAGEDOWN=1073741902,b.RIGHT=1073741903,b.LEFT=1073741904,b.DOWN=1073741905,b.UP=1073741906,b.NUMLOCKCLEAR=1073741907,b.KP_DIVIDE=1073741908,b.KP_MULTIPLY=1073741909,b.KP_MINUS=1073741910,b.KP_PLUS=1073741911,b.KP_ENTER=1073741912,b.KP_1=1073741913,b.KP_2=1073741914,b.KP_3=1073741915,b.KP_4=1073741916,b.KP_5=1073741917,b.KP_6=1073741918,b.KP_7=1073741919,b.KP_8=1073741920,b.KP_9=1073741921,b.KP_0=1073741922,b.KP_PERIOD=1073741923,b.APPLICATION=1073741925,b.POWER=1073741926,b.KP_EQUALS=1073741927,b.F13=1073741928,b.F14=1073741929,b.F15=1073741930,b.F16=1073741931,b.F17=1073741932,b.F18=1073741933,b.F19=1073741934,b.F20=1073741935,b.F21=1073741936,b.F22=1073741937,b.F23=1073741938,b.F24=1073741939,b.EXECUTE=1073741940,b.HELP=1073741941,b.MENU=1073741942,b.SELECT=1073741943,b.STOP=1073741944,b.AGAIN=1073741945,b.UNDO=1073741946,b.CUT=1073741947,b.COPY=1073741948,b.PASTE=1073741949,b.FIND=1073741950,b.MUTE=1073741951,b.VOLUMEUP=1073741952,b.VOLUMEDOWN=1073741953,b.KP_COMMA=1073741957,b.KP_EQUALSAS400=1073741958,b.ALTERASE=1073741977,b.SYSREQ=1073741978,b.CANCEL=1073741979,b.CLEAR=1073741980,b.PRIOR=1073741981,b.RETURN2=1073741982,b.SEPARATOR=1073741983,b.OUT=1073741984,b.OPER=1073741985,b.CLEARAGAIN=1073741986,b.CRSEL=1073741987,b.EXSEL=1073741988,b.KP_00=1073742e3,b.KP_000=1073742001,b.THOUSANDSSEPARATOR=1073742002,b.DECIMALSEPARATOR=1073742003,b.CURRENCYUNIT=1073742004,b.CURRENCYSUBUNIT=1073742005,b.KP_LEFTPAREN=1073742006,b.KP_RIGHTPAREN=1073742007,b.KP_LEFTBRACE=1073742008,b.KP_RIGHTBRACE=1073742009,b.KP_TAB=1073742010,b.KP_BACKSPACE=1073742011,b.KP_A=1073742012,b.KP_B=1073742013,b.KP_C=1073742014,b.KP_D=1073742015,b.KP_E=1073742016,b.KP_F=1073742017,b.KP_XOR=1073742018,b.KP_POWER=1073742019,b.KP_PERCENT=1073742020,b.KP_LESS=1073742021,b.KP_GREATER=1073742022,b.KP_AMPERSAND=1073742023,b.KP_DBLAMPERSAND=1073742024,b.KP_VERTICALBAR=1073742025,b.KP_DBLVERTICALBAR=1073742026,b.KP_COLON=1073742027,b.KP_HASH=1073742028,b.KP_SPACE=1073742029,b.KP_AT=1073742030,b.KP_EXCLAM=1073742031,b.KP_MEMSTORE=1073742032,b.KP_MEMRECALL=1073742033,b.KP_MEMCLEAR=1073742034,b.KP_MEMADD=1073742035,b.KP_MEMSUBTRACT=1073742036,b.KP_MEMMULTIPLY=1073742037,b.KP_MEMDIVIDE=1073742038,b.KP_PLUSMINUS=1073742039,b.KP_CLEAR=1073742040,b.KP_CLEARENTRY=1073742041,b.KP_BINARY=1073742042,b.KP_OCTAL=1073742043,b.KP_DECIMAL=1073742044,b.KP_HEXADECIMAL=1073742045,b.LCTRL=1073742048,b.LSHIFT=1073742049,b.LALT=1073742050,b.LMETA=1073742051,b.RCTRL=1073742052,b.RSHIFT=1073742053,b.RALT=1073742054,b.RMETA=1073742055,b.MODE=1073742081,b.AUDIONEXT=1073742082,b.AUDIOPREV=1073742083,b.AUDIOSTOP=1073742084,b.AUDIOPLAY=1073742085,b.AUDIOMUTE=1073742086,b.MEDIASELECT=1073742087,b.WWW=1073742088,b.MAIL=1073742089,b.CALCULATOR=1073742090,b.COMPUTER=1073742091,b.AC_SEARCH=1073742092,b.AC_HOME=1073742093,b.AC_BACK=1073742094,b.AC_FORWARD=1073742095,b.AC_STOP=1073742096,b.AC_REFRESH=1073742097,b.AC_BOOKMARKS=1073742098,b.BRIGHTNESSDOWN=1073742099,b.BRIGHTNESSUP=1073742100,b.DISPLAYSWITCH=1073742101,b.KBDILLUMTOGGLE=1073742102,b.KBDILLUMDOWN=1073742103,b.KBDILLUMUP=1073742104,b.EJECT=1073742105,b.SLEEP=1073742106,g.MASK=1073741824,g.UNKNOWN=0,g.KEY_A=4,g.KEY_B=5,g.KEY_C=6,g.KEY_D=7,g.KEY_E=8,g.KEY_F=9,g.KEY_G=10,g.KEY_H=11,g.KEY_I=12,g.KEY_J=13,g.KEY_K=14,g.KEY_L=15,g.KEY_M=16,g.KEY_N=17,g.KEY_O=18,g.KEY_P=19,g.KEY_Q=20,g.KEY_R=21,g.KEY_S=22,g.KEY_T=23,g.KEY_U=24,g.KEY_V=25,g.KEY_W=26,g.KEY_X=27,g.KEY_Y=28,g.KEY_Z=29,g.KEY_1=30,g.KEY_2=31,g.KEY_3=32,g.KEY_4=33,g.KEY_5=34,g.KEY_6=35,g.KEY_7=36,g.KEY_8=37,g.KEY_9=38,g.KEY_0=39,g.ENTER=40,g.ESCAPE=41,g.BACKSPACE=42,g.TAB=43,g.SPACE=44,g.MINUS=45,g.EQUALS=46,g.LEFTBRACKET=47,g.RIGHTBRACKET=48,g.BACKSLASH=49,g.NONUSHASH=50,g.SEMICOLON=51,g.APOSTROPHE=52,g.GRAVE=53,g.COMMA=54,g.PERIOD=55,g.SLASH=56,g.CAPSLOCK=57,g.F1=58,g.F2=59,g.F3=60,g.F4=61,g.F5=62,g.F6=63,g.F7=64,g.F8=65,g.F9=66,g.F10=67,g.F11=68,g.F12=69,g.PRINTSCREEN=70,g.SCROLLLOCK=71,g.PAUSE=72,g.INSERT=73,g.HOME=74,g.PAGEUP=75,g.DELETE=76,g.END=77,g.PAGEDOWN=78,g.RIGHT=79,g.LEFT=80,g.DOWN=81,g.UP=82,g.NUMLOCKCLEAR=83,g.KP_DIVIDE=84,g.KP_MULTIPLY=85,g.KP_MINUS=86,g.KP_PLUS=87,g.KP_ENTER=88,g.KP_1=89,g.KP_2=90,g.KP_3=91,g.KP_4=92,g.KP_5=93,g.KP_6=94,g.KP_7=95,g.KP_8=96,g.KP_9=97,g.KP_0=98,g.KP_PERIOD=99,g.NONUSBACKSLASH=100,g.APPLICATION=101,g.POWER=102,g.KP_EQUALS=103,g.F13=104,g.F14=105,g.F15=106,g.F16=107,g.F17=108,g.F18=109,g.F19=110,g.F20=111,g.F21=112,g.F22=113,g.F23=114,g.F24=115,g.EXECUTE=116,g.HELP=117,g.MENU=118,g.SELECT=119,g.STOP=120,g.AGAIN=121,g.UNDO=122,g.CUT=123,g.COPY=124,g.PASTE=125,g.FIND=126,g.MUTE=127,g.VOLUMEUP=128,g.VOLUMEDOWN=129,g.KP_COMMA=133,g.KP_EQUALSAS400=134,g.INTERNATIONAL1=135,g.INTERNATIONAL2=136,g.INTERNATIONAL3=137,g.INTERNATIONAL4=138,g.INTERNATIONAL5=139,g.INTERNATIONAL6=140,g.INTERNATIONAL7=141,g.INTERNATIONAL8=142,g.INTERNATIONAL9=143,g.LANG1=144,g.LANG2=145,g.LANG3=146,g.LANG4=147,g.LANG5=148,g.LANG6=149,g.LANG7=150,g.LANG8=151,g.LANG9=152,g.ALTERASE=153,g.SYSREQ=154,g.CANCEL=155,g.CLEAR=156,g.PRIOR=157,g.RETURN2=158,g.SEPARATOR=159,g.OUT=160,g.OPER=161,g.CLEARAGAIN=162,g.CRSEL=163,g.EXSEL=164,g.KP_00=176,g.KP_000=177,g.THOUSANDSSEPARATOR=178,g.DECIMALSEPARATOR=179,g.CURRENCYUNIT=180,g.CURRENCYSUBUNIT=181,g.KP_LEFTPAREN=182,g.KP_RIGHTPAREN=183,g.KP_LEFTBRACE=184,g.KP_RIGHTBRACE=185,g.KP_TAB=186,g.KP_BACKSPACE=187,g.KP_A=188,g.KP_B=189,g.KP_C=190,g.KP_D=191,g.KP_E=192,g.KP_F=193,g.KP_XOR=194,g.KP_POWER=195,g.KP_PERCENT=196,g.KP_LESS=197,g.KP_GREATER=198,g.KP_AMPERSAND=199,g.KP_DBLAMPERSAND=200,g.KP_VERTICALBAR=201,g.KP_DBLVERTICALBAR=202,g.KP_COLON=203,g.KP_HASH=204,g.KP_SPACE=205,g.KP_AT=206,g.KP_EXCLAM=207,g.KP_MEMSTORE=208,g.KP_MEMRECALL=209,g.KP_MEMCLEAR=210,g.KP_MEMADD=211,g.KP_MEMSUBTRACT=212,g.KP_MEMMULTIPLY=213,g.KP_MEMDIVIDE=214,g.KP_PLUSMINUS=215,g.KP_CLEAR=216,g.KP_CLEARENTRY=217,g.KP_BINARY=218,g.KP_OCTAL=219,g.KP_DECIMAL=220,g.KP_HEXADECIMAL=221,g.LCTRL=224,g.LSHIFT=225,g.LALT=226,g.LMETA=227,g.RCTRL=228,g.RSHIFT=229,g.RALT=230,g.RMETA=231,g.MODE=257,g.AUDIONEXT=258,g.AUDIOPREV=259,g.AUDIOSTOP=260,g.AUDIOPLAY=261,g.AUDIOMUTE=262,g.MEDIASELECT=263,g.WWW=264,g.MAIL=265,g.CALCULATOR=266,g.COMPUTER=267,g.AC_SEARCH=268,g.AC_HOME=269,g.AC_BACK=270,g.AC_FORWARD=271,g.AC_STOP=272,g.AC_REFRESH=273,g.AC_BOOKMARKS=274,g.BRIGHTNESSDOWN=275,g.BRIGHTNESSUP=276,g.DISPLAYSWITCH=277,g.KBDILLUMTOGGLE=278,g.KBDILLUMDOWN=279,g.KBDILLUMUP=280,g.EJECT=281,g.SLEEP=282,g.APP1=283,g.APP2=284,g.scanCodeNames=[null,null,null,null,"A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","1","2","3","4","5","6","7","8","9","0","Enter","Escape","Backspace","Tab","Space","-","=","[","]","\\","#",";","'","`",",",".","/","CapsLock","F1","F2","F3","F4","F5","F6","F7","F8","F9","F10","F11","F12","PrintScreen","ScrollLock","Pause","Insert","Home","PageUp","Delete","End","PageDown","Right","Left","Down","Up","Numlock","Keypad /","Keypad *","Keypad -","Keypad +","Keypad Enter","Keypad 1","Keypad 2","Keypad 3","Keypad 4","Keypad 5","Keypad 6","Keypad 7","Keypad 8","Keypad 9","Keypad 0","Keypad .",null,"Application","Power","Keypad =","F13","F14","F15","F16","F17","F18","F19","F20","F21","F22","F23","F24","Execute","Help","Menu","Select","Stop","Again","Undo","Cut","Copy","Paste","Find","Mute","VolumeUp","VolumeDown",null,null,null,"Keypad ,","Keypad = (AS400)",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"AltErase","SysReq","Cancel","Clear","Prior","Enter","Separator","Out","Oper","Clear / Again","CrSel","ExSel",null,null,null,null,null,null,null,null,null,null,null,"Keypad 00","Keypad 000","ThousandsSeparator","DecimalSeparator","CurrencyUnit","CurrencySubUnit","Keypad (","Keypad )","Keypad {","Keypad }","Keypad Tab","Keypad Backspace","Keypad A","Keypad B","Keypad C","Keypad D","Keypad E","Keypad F","Keypad XOR","Keypad ^","Keypad %","Keypad <","Keypad >","Keypad &","Keypad &&","Keypad |","Keypad ||","Keypad :","Keypad #","Keypad Space","Keypad @","Keypad !","Keypad MemStore","Keypad MemRecall","Keypad MemClear","Keypad MemAdd","Keypad MemSubtract","Keypad MemMultiply","Keypad MemDivide","Keypad +/-","Keypad Clear","Keypad ClearEntry","Keypad Binary","Keypad Octal","Keypad Decimal","Keypad Hexadecimal",null,null,"Left Ctrl","Left Shift","Left Alt","Left Meta","Right Ctrl","Right Shift","Right Alt","Right Meta",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"ModeSwitch","AudioNext","AudioPrev","AudioStop","AudioPlay","AudioMute","MediaSelect","WWW","Mail","Calculator","Computer","AC Search","AC Home","AC Back","AC Forward","AC Stop","AC Refresh","AC Bookmarks","BrightnessDown","BrightnessUp","DisplaySwitch","KBDIllumToggle","KBDIllumDown","KBDIllumUp","Eject","Sleep"],Oc._nextUniqueIntCursor=0,Oc._nextUniqueInt0=2147483646*Math.random()|0,Oc._nextUniqueInt1=1e-4*(new Date).getTime()|0,Oc._nextUniqueInt2=2147483646*Math.random()|0,Oc._nextUniqueInt3=2147483646*Math.random()|0,Qt._nextIndex=1,ti.MAX_VERTS_SIZE=65536,ti.MAX_INDICES=16384,ti.MAX_BUFFERS=64,ti.ATTRIBUTE_POS=0,ti.ATTRIBUTE_UV=1,ti.ATTRIBUTE_COLOR=2,ii.DEPTH24_STENCIL8=35056,ii.DEPTH_COMPONENT24=33190,ii.TEXTURE_2D_MULTISAMPLE=37120,ii.READ_FRAMEBUFFER=36008,ii.DRAW_FRAMEBUFFER=36009,ii.RGBA8=32856,ii.COLOR=6144,ne.DEPTH_BUFFER_BIT=256,ne.STENCIL_BUFFER_BIT=1024,ne.COLOR_BUFFER_BIT=16384,ne.POINTS=0,ne.LINES=1,ne.LINE_LOOP=2,ne.LINE_STRIP=3,ne.TRIANGLES=4,ne.TRIANGLE_STRIP=5,ne.TRIANGLE_FAN=6,ne.ZERO=0,ne.ONE=1,ne.SRC_COLOR=768,ne.ONE_MINUS_SRC_COLOR=769,ne.SRC_ALPHA=770,ne.ONE_MINUS_SRC_ALPHA=771,ne.DST_ALPHA=772,ne.ONE_MINUS_DST_ALPHA=773,ne.DST_COLOR=774,ne.ONE_MINUS_DST_COLOR=775,ne.SRC_ALPHA_SATURATE=776,ne.FUNC_ADD=32774,ne.BLEND_EQUATION=32777,ne.BLEND_EQUATION_RGB=32777,ne.BLEND_EQUATION_ALPHA=34877,ne.FUNC_SUBTRACT=32778,ne.FUNC_REVERSE_SUBTRACT=32779,ne.BLEND_DST_RGB=32968,ne.BLEND_SRC_RGB=32969,ne.BLEND_DST_ALPHA=32970,ne.BLEND_SRC_ALPHA=32971,ne.CONSTANT_COLOR=32769,ne.ONE_MINUS_CONSTANT_COLOR=32770,ne.CONSTANT_ALPHA=32771,ne.ONE_MINUS_CONSTANT_ALPHA=32772,ne.BLEND_COLOR=32773,ne.ARRAY_BUFFER=34962,ne.ELEMENT_ARRAY_BUFFER=34963,ne.ARRAY_BUFFER_BINDING=34964,ne.ELEMENT_ARRAY_BUFFER_BINDING=34965,ne.STREAM_DRAW=35040,ne.STATIC_DRAW=35044,ne.DYNAMIC_DRAW=35048,ne.BUFFER_SIZE=34660,ne.BUFFER_USAGE=34661,ne.CURRENT_VERTEX_ATTRIB=34342,ne.FRONT=1028,ne.BACK=1029,ne.FRONT_AND_BACK=1032,ne.CULL_FACE=2884,ne.BLEND=3042,ne.DITHER=3024,ne.STENCIL_TEST=2960,ne.DEPTH_TEST=2929,ne.SCISSOR_TEST=3089,ne.POLYGON_OFFSET_FILL=32823,ne.SAMPLE_ALPHA_TO_COVERAGE=32926,ne.SAMPLE_COVERAGE=32928,ne.NO_ERROR=0,ne.INVALID_ENUM=1280,ne.INVALID_VALUE=1281,ne.INVALID_OPERATION=1282,ne.OUT_OF_MEMORY=1285,ne.CW=2304,ne.CCW=2305,ne.LINE_WIDTH=2849,ne.ALIASED_POINT_SIZE_RANGE=33901,ne.ALIASED_LINE_WIDTH_RANGE=33902,ne.CULL_FACE_MODE=2885,ne.FRONT_FACE=2886,ne.DEPTH_RANGE=2928,ne.DEPTH_WRITEMASK=2930,ne.DEPTH_CLEAR_VALUE=2931,ne.DEPTH_FUNC=2932,ne.STENCIL_CLEAR_VALUE=2961,ne.STENCIL_FUNC=2962,ne.STENCIL_FAIL=2964,ne.STENCIL_PASS_DEPTH_FAIL=2965,ne.STENCIL_PASS_DEPTH_PASS=2966,ne.STENCIL_REF=2967,ne.STENCIL_VALUE_MASK=2963,ne.STENCIL_WRITEMASK=2968,ne.STENCIL_BACK_FUNC=34816,ne.STENCIL_BACK_FAIL=34817,ne.STENCIL_BACK_PASS_DEPTH_FAIL=34818,ne.STENCIL_BACK_PASS_DEPTH_PASS=34819,ne.STENCIL_BACK_REF=36003,ne.STENCIL_BACK_VALUE_MASK=36004,ne.STENCIL_BACK_WRITEMASK=36005,ne.VIEWPORT=2978,ne.SCISSOR_BOX=3088,ne.COLOR_CLEAR_VALUE=3106,ne.COLOR_WRITEMASK=3107,ne.UNPACK_ALIGNMENT=3317,ne.PACK_ALIGNMENT=3333,ne.MAX_TEXTURE_SIZE=3379,ne.MAX_VIEWPORT_DIMS=3386,ne.SUBPIXEL_BITS=3408,ne.RED_BITS=3410,ne.GREEN_BITS=3411,ne.BLUE_BITS=3412,ne.ALPHA_BITS=3413,ne.DEPTH_BITS=3414,ne.STENCIL_BITS=3415,ne.POLYGON_OFFSET_UNITS=10752,ne.POLYGON_OFFSET_FACTOR=32824,ne.TEXTURE_BINDING_2D=32873,ne.SAMPLE_BUFFERS=32936,ne.SAMPLES=32937,ne.SAMPLE_COVERAGE_VALUE=32938,ne.SAMPLE_COVERAGE_INVERT=32939,ne.COMPRESSED_TEXTURE_FORMATS=34467,ne.DONT_CARE=4352,ne.FASTEST=4353,ne.NICEST=4354,ne.GENERATE_MIPMAP_HINT=33170,ne.BYTE=5120,ne.UNSIGNED_BYTE=5121,ne.SHORT=5122,ne.UNSIGNED_SHORT=5123,ne.INT=5124,ne.UNSIGNED_INT=5125,ne.FLOAT=5126,ne.DEPTH_COMPONENT=6402,ne.ALPHA=6406,ne.RGB=6407,ne.RGBA=6408,ne.LUMINANCE=6409,ne.LUMINANCE_ALPHA=6410,ne.UNSIGNED_SHORT_4_4_4_4=32819,ne.UNSIGNED_SHORT_5_5_5_1=32820,ne.UNSIGNED_SHORT_5_6_5=33635,ne.FRAGMENT_SHADER=35632,ne.VERTEX_SHADER=35633,ne.MAX_VERTEX_ATTRIBS=34921,ne.MAX_VERTEX_UNIFORM_VECTORS=36347,ne.MAX_VARYING_VECTORS=36348,ne.MAX_COMBINED_TEXTURE_IMAGE_UNITS=35661,ne.MAX_VERTEX_TEXTURE_IMAGE_UNITS=35660,ne.MAX_TEXTURE_IMAGE_UNITS=34930,ne.MAX_FRAGMENT_UNIFORM_VECTORS=36349,ne.SHADER_TYPE=35663,ne.DELETE_STATUS=35712,ne.LINK_STATUS=35714,ne.VALIDATE_STATUS=35715,ne.ATTACHED_SHADERS=35717,ne.ACTIVE_UNIFORMS=35718,ne.ACTIVE_ATTRIBUTES=35721,ne.SHADING_LANGUAGE_VERSION=35724,ne.CURRENT_PROGRAM=35725,ne.NEVER=512,ne.LESS=513,ne.EQUAL=514,ne.LEQUAL=515,ne.GREATER=516,ne.NOTEQUAL=517,ne.GEQUAL=518,ne.ALWAYS=519,ne.KEEP=7680,ne.REPLACE=7681,ne.INCR=7682,ne.DECR=7683,ne.INVERT=5386,ne.INCR_WRAP=34055,ne.DECR_WRAP=34056,ne.VENDOR=7936,ne.RENDERER=7937,ne.VERSION=7938,ne.NEAREST=9728,ne.LINEAR=9729,ne.NEAREST_MIPMAP_NEAREST=9984,ne.LINEAR_MIPMAP_NEAREST=9985,ne.NEAREST_MIPMAP_LINEAR=9986,ne.LINEAR_MIPMAP_LINEAR=9987,ne.TEXTURE_MAG_FILTER=10240,ne.TEXTURE_MIN_FILTER=10241,ne.TEXTURE_WRAP_S=10242,ne.TEXTURE_WRAP_T=10243,ne.TEXTURE_2D=3553,ne.TEXTURE=5890,ne.TEXTURE_CUBE_MAP=34067,ne.TEXTURE_BINDING_CUBE_MAP=34068,ne.TEXTURE_CUBE_MAP_POSITIVE_X=34069,ne.TEXTURE_CUBE_MAP_NEGATIVE_X=34070,ne.TEXTURE_CUBE_MAP_POSITIVE_Y=34071,ne.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072,ne.TEXTURE_CUBE_MAP_POSITIVE_Z=34073,ne.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074,ne.MAX_CUBE_MAP_TEXTURE_SIZE=34076,ne.TEXTURE0=33984,ne.TEXTURE1=33985,ne.TEXTURE2=33986,ne.TEXTURE3=33987,ne.TEXTURE4=33988,ne.TEXTURE5=33989,ne.TEXTURE6=33990,ne.TEXTURE7=33991,ne.TEXTURE8=33992,ne.TEXTURE9=33993,ne.TEXTURE10=33994,ne.TEXTURE11=33995,ne.TEXTURE12=33996,ne.TEXTURE13=33997,ne.TEXTURE14=33998,ne.TEXTURE15=33999,ne.TEXTURE16=34e3,ne.TEXTURE17=34001,ne.TEXTURE18=34002,ne.TEXTURE19=34003;ne.TEXTURE20=34004,ne.TEXTURE21=34005,ne.TEXTURE22=34006,ne.TEXTURE23=34007,ne.TEXTURE24=34008,ne.TEXTURE25=34009,ne.TEXTURE26=34010,ne.TEXTURE27=34011,ne.TEXTURE28=34012,ne.TEXTURE29=34013,ne.TEXTURE30=34014,ne.TEXTURE31=34015,ne.ACTIVE_TEXTURE=34016,ne.REPEAT=10497,ne.CLAMP_TO_EDGE=33071,ne.MIRRORED_REPEAT=33648,ne.FLOAT_VEC2=35664,ne.FLOAT_VEC3=35665,ne.FLOAT_VEC4=35666,ne.INT_VEC2=35667,ne.INT_VEC3=35668,ne.INT_VEC4=35669,ne.BOOL=35670,ne.BOOL_VEC2=35671,ne.BOOL_VEC3=35672,ne.BOOL_VEC4=35673,ne.FLOAT_MAT2=35674,ne.FLOAT_MAT3=35675,ne.FLOAT_MAT4=35676,ne.SAMPLER_2D=35678,ne.SAMPLER_CUBE=35680,ne.VERTEX_ATTRIB_ARRAY_ENABLED=34338,ne.VERTEX_ATTRIB_ARRAY_SIZE=34339,ne.VERTEX_ATTRIB_ARRAY_STRIDE=34340,ne.VERTEX_ATTRIB_ARRAY_TYPE=34341,ne.VERTEX_ATTRIB_ARRAY_NORMALIZED=34922,ne.VERTEX_ATTRIB_ARRAY_POINTER=34373,ne.VERTEX_ATTRIB_ARRAY_BUFFER_BINDING=34975,ne.VERTEX_PROGRAM_POINT_SIZE=34370,ne.POINT_SPRITE=34913,ne.COMPILE_STATUS=35713,ne.LOW_FLOAT=36336,ne.MEDIUM_FLOAT=36337,ne.HIGH_FLOAT=36338,ne.LOW_INT=36339,ne.MEDIUM_INT=36340,ne.HIGH_INT=36341,ne.FRAMEBUFFER=36160,ne.RENDERBUFFER=36161,ne.RGBA4=32854,ne.RGB5_A1=32855,ne.RGB565=36194,ne.DEPTH_COMPONENT16=33189,ne.STENCIL_INDEX=6401,ne.STENCIL_INDEX8=36168,ne.DEPTH_STENCIL=34041,ne.RENDERBUFFER_WIDTH=36162,ne.RENDERBUFFER_HEIGHT=36163,ne.RENDERBUFFER_INTERNAL_FORMAT=36164,ne.RENDERBUFFER_RED_SIZE=36176,ne.RENDERBUFFER_GREEN_SIZE=36177,ne.RENDERBUFFER_BLUE_SIZE=36178,ne.RENDERBUFFER_ALPHA_SIZE=36179,ne.RENDERBUFFER_DEPTH_SIZE=36180,ne.RENDERBUFFER_STENCIL_SIZE=36181,ne.FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE=36048,ne.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME=36049,ne.FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL=36050,ne.FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE=36051,ne.COLOR_ATTACHMENT0=36064,ne.DEPTH_ATTACHMENT=36096,ne.STENCIL_ATTACHMENT=36128,ne.DEPTH_STENCIL_ATTACHMENT=33306,ne.NONE=0,ne.FRAMEBUFFER_COMPLETE=36053,ne.FRAMEBUFFER_INCOMPLETE_ATTACHMENT=36054,ne.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT=36055,ne.FRAMEBUFFER_INCOMPLETE_DIMENSIONS=36057,ne.FRAMEBUFFER_UNSUPPORTED=36061,ne.FRAMEBUFFER_BINDING=36006,ne.RENDERBUFFER_BINDING=36007,ne.MAX_RENDERBUFFER_SIZE=34024,ne.INVALID_FRAMEBUFFER_OPERATION=1286,ne.UNPACK_FLIP_Y_WEBGL=37440,ne.UNPACK_PREMULTIPLY_ALPHA_WEBGL=37441,ne.CONTEXT_LOST_WEBGL=37442,ne.UNPACK_COLORSPACE_CONVERSION_WEBGL=37443,ne.BROWSER_DEFAULT_WEBGL=37444,si.POT=!0,hi.HALF_PI=1.5707,hi.DEFAULT_BUS=0,hi.MAX_WORKLET_PARAMS=128,ui.timestampStart=0,ui.webWindowId=1,_i.dom_shift=16,_i.dom_ctrl=17,_i.dom_alt=18,_i.dom_capslock=20,_i.dom_pageup=33,_i.dom_pagedown=34,_i.dom_end=35,_i.dom_home=36,_i.dom_left=37,_i.dom_up=38,_i.dom_right=39,_i.dom_down=40,_i.dom_printscr=44,_i.dom_insert=45,_i.dom_delete=46,_i.dom_lmeta=91,_i.dom_rmeta=93,_i.dom_kp_0=96,_i.dom_kp_1=97,_i.dom_kp_2=98,_i.dom_kp_3=99,_i.dom_kp_4=100,_i.dom_kp_5=101,_i.dom_kp_6=102,_i.dom_kp_7=103,_i.dom_kp_8=104,_i.dom_kp_9=105,_i.dom_kp_multiply=106,_i.dom_kp_plus=107,_i.dom_kp_minus=109,_i.dom_kp_decimal=110,_i.dom_kp_divide=111,_i.dom_kp_numlock=144,_i.dom_f1=112,_i.dom_f2=113,_i.dom_f3=114,_i.dom_f4=115,_i.dom_f5=116,_i.dom_f6=117,_i.dom_f7=118,_i.dom_f8=119,_i.dom_f9=120,_i.dom_f10=121,_i.dom_f11=122,_i.dom_f12=123,_i.dom_f13=124,_i.dom_f14=125,_i.dom_f15=126,_i.dom_f16=127,_i.dom_f17=128,_i.dom_f18=129,_i.dom_f19=130,_i.dom_f20=131,_i.dom_f21=132,_i.dom_f22=133,_i.dom_f23=134,_i.dom_f24=135,_i.dom_caret=160,_i.dom_exclaim=161,_i.dom_quotedbl=162,_i.dom_hash=163,_i.dom_dollar=164,_i.dom_percent=165,_i.dom_ampersand=166,_i.dom_underscore=167,_i.dom_leftparen=168,_i.dom_rightparen=169,_i.dom_asterisk=170,_i.dom_plus=171,_i.dom_pipe=172,_i.dom_minus=173,_i.dom_leftbrace=174,_i.dom_rightbrace=175,_i.dom_tilde=176,_i.dom_audiomute=181,_i.dom_volumedown=182,_i.dom_volumeup=183,_i.dom_comma=188,_i.dom_period=190,_i.dom_slash=191,_i.dom_backquote=192,_i.dom_leftbracket=219,_i.dom_rightbracket=221,_i.dom_backslash=220,_i.dom_quote=222,_i.dom_meta=224,z2._point=new n,A2.__meta__={fields:{unobservedTheme:{observe:null},unobservedValue:{observe:null},unobservedList:{observe:null},unobservedNullValueText:{observe:null}}},A2.ITEM_HEIGHT=26,B2.__meta__={fields:{unobservedTextValue:{observe:null}}},B2._point=new n(0,0),B2.MAX_LIST_HEIGHT=200,B2.FORCED_SUGGESTION_FULL_LIST_UNDER_COUNT=10,B2.ITEM_HEIGHT=A2.ITEM_HEIGHT,D2.__meta__={fields:{unobservedTheme:{observe:null},unobservedValue:{observe:null},unobservedInputStyle:{observe:null},unobservedDisabled:{observe:null}}},E2.__meta__={fields:{unobservedTheme:{observe:null},unobservedInputStyle:{observe:null},unobservedEnabled:{observe:null},unobservedHover:{observe:null},unobservedEnterPressed:{observe:null}}},di.__meta__={fields:{unobservedTheme:{observe:null},unobservedScrolling:{observe:null},unobservedInputStyle:{observe:null}}},bi.__meta__={fields:{unobservedTheme:{observe:null},unobservedSelected:{observe:null},unobservedTitle:{observe:null},unobservedSubTitle:{observe:null},unobservedItemIndex:{observe:null},unobservedCollectionView:{observe:null},unobservedInputStyle:{observe:null},unobservedDisplaysEmptyValue:{observe:null},unobservedLocked:{observe:null},unobservedKindIcon:{observe:null},unobservedHandleTrash:{observe:null},unobservedHandleLock:{observe:null},unobservedHandleDuplicate:{observe:null},unobservedDragging:{observe:null},unobservedClonedForDragging:{observe:null},unobservedHover:{observe:null},unobservedAppliedHoverItemIndex:{observe:null}}},bi._point=new n(0,0),gi.__meta__={fields:{unobservedIcon:{observe:null}}},Oi.__meta__={fields:{unobservedTheme:{observe:null},unobservedHover:{observe:null},unobservedDisabled:{observe:null},unobservedHoverStyle:{observe:null}}},L2.__meta__={fields:{unobservedTheme:{observe:null},unobservedValue:{observe:null},unobservedDisabled:{observe:null},unobservedPickerVisible:{observe:null}}},L2._point=new n,L2.RE_HEX_COLOR=new f("^[0-F][0-F][0-F][0-F][0-F][0-F]$",""),L2.RE_HEX_COLOR_ANY_LENGTH=new f("^[0-F]+$",""),M2._point=new n,M2._tuple=[0,0,0],N2.__meta__={fields:{unobservedMovingPointer:{observe:null}}},N2._point=new n,N2.PRECISION=16,O2.PRECISION_X=32,O2.PRECISION_Y=8,O2._point=new n,O2._tuple=[0,0,0],P2.__meta__={fields:{unobservedMovingPointer:{observe:null}}},P2._point=new n,P2.PRECISION=16,Q2.PALETTE_COLOR_SIZE=14,O.__meta__={fields:{unobservedTheme:{observe:null},unobservedColorValue:{observe:null},unobservedPaletteHeight:{observe:null},unobservedPaletteColorPreviews:{observe:null}}},O.FIELD_ROW_WIDTH=41,O.FIELD_ADVANCE=26,O.BUTTON_ADVANCE=24,O.FIELD_Y_GAP=1,O.PADDING=6,O.GRADIENT_SIZE=158,O.SPECTRUM_WIDTH=12,O.PALETTE_COLOR_SIZE=Q2.PALETTE_COLOR_SIZE,O.PALETTE_COLOR_GAP=2,O._tuple=[0,0,0],te.__meta__={fields:{unobservedTheme:{observe:null}}},te.lazyContext=!0,fi.__meta__={fields:{unobservedDragging:{observe:null},unobservedDragX:{observe:null},unobservedDragY:{observe:null}}},fi._point=new n(0,0),pi.__meta__={fields:{unobservedFocusedField:{observe:null},unobservedFocusedFieldThisFrame:{observe:null}}},pi.lazyShared=!0,$2.__meta__={fields:{unobservedTheme:{observe:null}}},$2.EMPTY_ARRAY=[],re.DESTROY_ASSET_AFTER_X_FRAMES=60,re.DEFAULT_SPACE_HEIGHT=-60001,re.DEFAULT_LABEL_WIDTH=-49965,re.DEFAULT_SEPARATOR_HEIGHT=7,re.DEFAULT_LABEL_POSITION=1,re.DEFAULT_TEXT_ALIGN=_t.LEFT,re.INT_MIN_VALUE=-2147483647,re.INT_MAX_VALUE=2147483647,re.FLOAT_MIN_VALUE=-2147483647,re.FLOAT_MAX_VALUE=2147483647,re.DIALOG_WIDTH=300,re.DIALOG_OVERFLOW_HEIGHT=400,re.YES="Yes",re.NO="No",re.OK="OK",re._beginFrameCallbacks=[],re._orderedWindows=[],re._orderedWindowsIterated=[],re._inRow=!1,re._currentRowIndex=-1,re._currentTabBarItem=[],re._labelWidth=-49965,re._labelPosition=1,re._textAlign=_t.LEFT,re._fieldsDisabled=!1,re._flex=1,re._bold=!1,re._pointSize=12,re._preRenderedSize=-1,re._themeClonedIndex=-1,re._themeTint=-1,re._themeAltTint=-1,re._themeTextColor=-1,re._themeBackgroundColor=-1,re._pointerBaseHandles=new ue,re._pointerHandles=new ue,re._pointerBaseHandleOccurences=[],re._nextPointerHandle=0,re._boolPointerValues=new ze(16,.5,!1),re._intPointerValues=new ze,re._floatPointerValues=new mn,re._stringPointerValues=new An,re._arrayPointerValues=new An,re._assetUses=new ue,re._pendingDialogs=[],re._allowedOwners=[],re._usedWindowKeys=new ue,re._changeChecks=[],re._numUsedWindows=0,re._shouldSkipRender=!1,vi.lazyShared=!0,fd.__meta__={fields:{unobservedTheme:{observe:null},unobservedBold:{observe:null},unobservedDisabled:{observe:null}}},gd.__meta__={fields:{unobservedTheme:{observe:null},unobservedLabel:{observe:null},unobservedDisabled:{observe:null}}},id.__meta__={fields:{unobservedTheme:{observe:null},unobservedItems:{observe:null},unobservedSelectedIndex:{observe:null},unobservedTrashable:{observe:null},unobservedLockable:{observe:null},unobservedDuplicable:{observe:null},unobservedSortable:{observe:null},unobservedSmallItems:{observe:null},unobservedScrollEnabled:{observe:null}}},id.CELL_HEIGHT_SMALL=30,id.CELL_HEIGHT_LARGE=39,od.RE_PREFIXED=new f("^(.*?)([0-9]+)$",""),od.RE_NUMERIC_PREFIX=new f("^[0-9]+",""),od.RE_SPACES=new f("\\s+",""),od._slugUpperCase=new k1(!1,st.RE_SLUG_REMOVE_CHARS,"_"),Di.CLOSURE_CACHE_SIZE=128,Di.RE_NUMERIC_PREFIX=new f("^[0-9]+",""),Di.RE_NON_DIGIT_OR_DOT=new f("[^0-9\\.]+",""),Di.RE_SPACES=od.RE_SPACES,Ti.__meta__={fields:{unobservedTheme:{observe:null},unobservedHover:{observe:null},unobservedPressed:{observe:null}}},xi.__meta__={fields:{unobservedTheme:{observe:null}}},sd.__meta__={fields:{unobservedTheme:{observe:null},unobservedValue:{observe:null},unobservedList:{observe:null},unobservedNullValueText:{observe:null},unobservedInputStyle:{observe:null},unobservedListVisible:{observe:null}}},sd._point=new n,sd.MAX_LIST_HEIGHT=200,sd.ITEM_HEIGHT=A2.ITEM_HEIGHT,td.__meta__={fields:{unobservedTheme:{observe:null}}},ud.__meta__={fields:{unobservedTheme:{observe:null},unobservedValue:{observe:null},unobservedMinValue:{observe:null},unobservedMaxValue:{observe:null},unobservedEnabledTextInput:{observe:null},unobservedInputStyle:{observe:null},unobservedDisabled:{observe:null}}},ud._point=new n,wd.__meta__={fields:{unobservedTheme:{observe:null},unobservedSelectedIndex:{observe:null},unobservedTabs:{observe:null},unobservedTabStates:{observe:null},unobservedTabThemes:{observe:null},unobservedTabViews:{observe:null},unobservedHoverIndex:{observe:null}}},Ai.__meta__={fields:{unobservedTheme:{observe:null},unobservedPlaceholder:{observe:null},unobservedInputStyle:{observe:null},unobservedTextAlign:{observe:null},unobservedDisabled:{observe:null}}},Ii.__meta__={fields:{unobservedBackgroundInFormLayout:{serialize:null},unobservedFieldTextColor:{serialize:null},unobservedFieldPlaceholderColor:{serialize:null},unobservedLightTextColor:{serialize:null},unobservedMediumTextColor:{serialize:null},unobservedDarkTextColor:{serialize:null},unobservedDarkerTextColor:{serialize:null},unobservedIconColor:{serialize:null},unobservedCustomMediumFont:{serialize:null},unobservedCustomBoldFont:{serialize:null},unobservedLighterBorderColor:{serialize:null},unobservedLightBorderColor:{serialize:null},unobservedMediumBorderColor:{serialize:null},unobservedDarkBorderColor:{serialize:null},unobservedLightBackgroundColor:{serialize:null},unobservedMediumBackgroundColor:{serialize:null},unobservedDarkBackgroundColor:{serialize:null},unobservedDarkerBackgroundColor:{serialize:null},unobservedSelectionBorderColor:{serialize:null},unobservedHighlightColor:{serialize:null},unobservedHighlightPendingColor:{serialize:null},unobservedFormItemSpacing:{serialize:null},unobservedFormPadding:{serialize:null},unobservedTabsMarginY:{serialize:null},unobservedFocusedFieldSelectionColor:{serialize:null},unobservedFocusedFieldBorderColor:{serialize:null},unobservedOverlayBackgroundColor:{serialize:null},unobservedOverlayBackgroundAlpha:{serialize:null},unobservedOverlayBorderColor:{serialize:null},unobservedOverlayBorderAlpha:{serialize:null},unobservedButtonBackgroundColor:{serialize:null},unobservedButtonOverBackgroundColor:{serialize:null},unobservedButtonPressedBackgroundColor:{serialize:null},unobservedButtonFocusedBorderColor:{serialize:null},unobservedTabsBackgroundColor:{serialize:null},unobservedTabsBackgroundAlpha:{serialize:null},unobservedTabsHoverBackgroundColor:{serialize:null},unobservedTabsHoverBackgroundAlpha:{serialize:null},unobservedTabsBorderColor:{serialize:null},unobservedDisabledTabTextAlpha:{serialize:null},unobservedDisabledTabBorderAlpha:{serialize:null},unobservedWindowBackgroundColor:{serialize:null},unobservedWindowBackgroundAlpha:{serialize:null},unobservedWindowBorderColor:{serialize:null},unobservedWindowBorderAlpha:{serialize:null}}},Ii._nextIndex=1,Pi.__meta__={fields:{unobservedTheme:{observe:null},unobservedContent:{observe:null}}},Pi._point=new n(0,0),Fi.__meta__={fields:{unobservedWindowsData:{serialize:null},unobservedColorPickerHsluv:{serialize:null},unobservedPaletteColors:{serialize:null}}},Bi.__meta__={fields:{unobservedContentAlign:{observe:null},unobservedVisualScale:{observe:null},unobservedScaling:{observe:null},unobservedVisual:{observe:null}}},Ei.__meta__={fields:{unobservedTheme:{observe:null},unobservedContentView:{observe:null},unobservedTitle:{observe:null},unobservedClosable:{observe:null},unobservedCollapsible:{observe:null},unobservedHeader:{observe:null},unobservedTitleAlign:{observe:null}}},Ei.HEADER_HEIGHT=18,Ei.FONT_PRE_RENDERED_SIZE=20,Ei.TITLE_TEXT_SIZE=12,Ei.DEFAULT_X=20,Ei.DEFAULT_Y=20,Ei.DRAG_THRESHOLD=4,Ei._point=new n(0,0),Li.__meta__={fields:{unobservedX:{serialize:null},unobservedY:{serialize:null},unobservedWidth:{serialize:null},unobservedHeight:{serialize:null},unobservedExpanded:{serialize:null},unobservedHeader:{serialize:null},unobservedScrollbar:{serialize:null}}},Li.DEFAULT_WIDTH=200,Li.DEFAULT_HEIGHT=-60001,Vi.pool=new m,Ri.PATH_SEPARATOR="/",Ri.RE_SPACE=new f("%s",""),Ki.USE_CACHE=!1,Ki.USE_ENUM_INDEX=!1,Ki.BASE64="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789%:",Xi.DEFAULT_RESOLVER=new Sd,Xi.BASE64="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789%:",ml.escapes=((e=new ue).h.lt="<",e.h.gt=">",e.h.amp="&",e.h.quot='"',e.h.apos="'",e),w.m=[[3.240969941904521,-1.537383177570093,-.498610760293],[-.96924363628087,1.87596750150772,.041555057407175],[.055630079696993,-.20397695888897,1.056971514242878]],w.minv=[[.41239079926595,.35758433938387,.18048078840183],[.21263900587151,.71516867876775,.072192315360733],[.019330818715591,.11919477979462,.95053215224966]],w.refY=1,w.refU=.19783000664283,w.refV=.46831999493879,w.kappa=903.2962962,w.epsilon=.0088564516,w.hexChars="0123456789abcdef",U3.params=((e=new ue).h.projectionMatrix={type:6},e.h.modelViewMatrix={type:6},e),V3.params=((e=new ue).h.mainTex={type:7},e.h.texSize={type:1},e.h.pxRange={type:0},e),X3.params=((e=new ue).h.projectionMatrix={type:6},e.h.modelViewMatrix={type:6},e),Y3.params=((e=new ue).h.mainTex={type:7},e.h.resolution={type:1},e.h.sharpness={type:0},e.h.gridThickness={type:0},e.h.gridAlpha={type:0},e.h.gridColor={type:2},e.h.scanlineIntensity={type:0},e.h.scanlineOffset={type:0},e.h.scanlineCount={type:0},e.h.scanlineShape={type:0},e.h.verticalMaskIntensity={type:0},e.h.verticalMaskOffset={type:0},e.h.verticalMaskCount={type:0},e.h.glowThresholdMin={type:0},e.h.glowThresholdMax={type:0},e.h.glowStrength={type:0},e.h.chromaticAberration={type:0},e),$3.params=((e=new ue).h.projectionMatrix={type:6},e.h.modelViewMatrix={type:6},e),_3.params=((e=new ue).h.mainTex={type:7},e),U.prevCurrent=[],U._autorunArrays=[],U._autorunArraysLen=0,U._arrayOfAutorunArrays=[],U._arrayOfAutorunArraysLen=0,Il.BACKUP_NUM_STEPS=2e4,Il.NUM_BACKUPS=4,Il.busyKeys=[],_e._appendSerialize=!1,_e._cachedEnumInfoBySerializableType=new ue,_e._enumInfo=new ue,Bl._nextUniqueIntCursor=0,Bl._nextUniqueInt0=2147483646*Math.random()|0,Bl._nextUniqueInt1=1e-4*(new Date).getTime()|0,Bl._nextUniqueInt2=2147483646*Math.random()|0,Bl._nextUniqueInt3=2147483646*Math.random()|0,aa.main()}("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this);